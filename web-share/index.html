<!DOCTYPE html>
<html lang="ja-JP">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 34.1.1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        :is(aside, div).example {
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }

        .example pre {
            background-color: rgba(0, 0, 0, .03)
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            color: #fff;
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            color: #000;
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>Web Share API</title>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        :is(h1, h2, h3, h4, h5, h6, a) abbr {
            border: none
        }

        dfn {
            font-weight: 700
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        .toc a,
        .tof a {
            text-decoration: none
        }

        a .figno,
        a .secno {
            color: #000
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th a {
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th[scope=row] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff
        }

        .section dd>p:first-child {
            margin-top: 0
        }

        .section dd>p:last-child {
            margin-bottom: 0
        }

        .section dd {
            margin-bottom: 1em
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>


    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            background-color: #000;
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="description" content="This specification defines an API for sharing text, links and other
        content to an arbitrary destination of the user's choice.">
    <link rel="canonical" href="https://www.w3.org/TR/web-share/">
    <style>
        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            background: #fafafa
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #000
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #000;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        .assert {
            background: #eee;
            border-left: .5em solid #aaa;
            padding: .3em
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "shortName": "web-share",
  "previousMaturity": "PR",
  "specStatus": "REC",
  "github": {
    "repoURL": "w3c/web-share",
    "branch": "main"
  },
  "testSuiteURI": "https://wpt.live/web-share/",
  "group": "webapps",
  "editors": [
    {
      "name": "Matt Giuca",
      "company": "Google Inc.",
      "companyURL": "https://google.com",
      "w3cid": 91260
    },
    {
      "name": "Eric Willigers",
      "company": "Google Inc.",
      "companyURL": "https://google.com",
      "w3cid": 67534
    },
    {
      "name": "Marcos Cáceres",
      "company": "Apple Inc.",
      "companyURL": "https://apple.com",
      "w3cid": 39125
    }
  ],
  "caniuse": "web-share",
  "implementationReportURI": "https://w3c.github.io/web-share/imp-report/",
  "xref": "web-platform",
  "mdn": true,
  "crEnd": "2022-09-20",
  "prEnd": "2023-04-12",
  "errata": "https://github.com/w3c/web-share/labels/errata",
  "publishISODate": "2023-05-19T00:00:00.000Z",
  "generatedSubtitle": "W3C Recommendation 19 May 2023"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-REC">
</head>

<body data-cite="WEBIDL FILEAPI HTML INFRA URL WEBIDL DOM FETCH" class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">Web Share API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#REC">W3C 勧告</a> <time class="dt-published"
                datetime="2023-05-30">2023年5月30日</time></p>
        <details open="">
            <summary>この文書についての詳細</summary>
            <dl>
                <dt>このバージョン：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2023/REC-web-share-20230530/">https://www.w3.org/TR/2023/REC-web-share-20230530/</a>
                </dd>
                <dt>最新公開バージョン：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/web-share/">https://www.w3.org/TR/web-share/</a>
                </dd>
                <dt>最新エディタ草案：</dt>
                <dd><a href="https://w3c.github.io/web-share/">https://w3c.github.io/web-share/</a></dd>
                <dt>履歴：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/web-share">https://www.w3.org/standards/history/web-share</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/web-share/commits/main">コミット履歴</a>
                </dd>
                <dt>テストスイート：</dt>
                <dd><a href="https://wpt.live/web-share/">https://wpt.live/web-share/</a></dd>
                <dt>実装報告：</dt>
                <dd>
                    <a
                        href="https://w3c.github.io/web-share/imp-report/">https://w3c.github.io/web-share/imp-report/</a>
                </dd>



                <dt>編集者：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="91260">
                    <span class="p-name fn">Matt Giuca</span> (<a class="p-org org h-org"
                        href="https://google.com">Google Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="67534">
                    <span class="p-name fn">Eric Willigers</span> (<a class="p-org org h-org"
                        href="https://google.com">Google Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <span class="p-name fn">Marcos Cáceres</span> (<a class="p-org org h-org"
                        href="https://apple.com">Apple Inc.</a>)
                </dd>


                <dt>フィードバック：</dt>
                <dd>
                    <a href="https://github.com/w3c/web-share/">GitHub w3c/web-share</a>
                    (<a href="https://github.com/w3c/web-share/pulls/">プルリクエスト</a>,
                    <a href="https://github.com/w3c/web-share/issues/new/choose">新規 issue</a>,
                    <a href="https://github.com/w3c/web-share/issues/">オープン issue</a>)
                </dd>
                <dt>正誤表：</dt>
                <dd><a href="https://github.com/w3c/web-share/labels/errata">正誤情報あり</a>。</dd>

                <dt class="caniuse-title">ブラウザー対応：</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/web-share">caniuse.com</a></dd>
            </dl>
        </details>
        <p>
            関連情報
            <a href="https://www.w3.org/Translations/?technology=web-share">
                <strong>翻訳</strong></a>.
        </p>

        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
            ©
            2023

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>概要</h2>
        <p>
            この仕様は、テキスト、リンク、その他のコンテンツをユーザーが選択した任意の送信先に共有するためのAPIを定義します。
        </p>
        <p>
            利用可能な共有先はこの仕様では指定されていません。ユーザーエージェントが提供します。例えば、アプリ、ウェブサイト、連絡先などが考えられます。
        </p>
    </section>
    <section id="sotd" class="updateable-rec introductory">
        <h2>この文書のステータス</h2>
        <p><em>このセクションは、本書が公開された時点での文書のステータスについて説明します。現行の <abbr title="World Wide Web Consortium">W3C</abbr>
                公開文書の一覧と、この技術レポートの最新版は
                <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> 技術レポート一覧</a>
                https://www.w3.org/TR/ で確認できます。</em></p>
        <p>
            本書は <a href="https://www.w3.org/groups/wg/webapps">Web Applications Working Group</a> により
            <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">勧告プロセス</a>に則って
            勧告として公開されました。
        </p>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> は本仕様のWeb標準としての広範な展開を推奨します。
        </p>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> 勧告は、十分な合意形成の後に <abbr
                title="World Wide Web Consortium">W3C</abbr> およびそのメンバーによって支持され、
            ワーキンググループのメンバーが
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Requirements">ロイヤリティフリーライセンス</a>
            へのコミットメントを行った仕様です。
            今後の勧告の更新には
            <a href="https://www.w3.org/2021/Process-20211102/#allow-new-features">新機能</a>
            が組み込まれる可能性があります。
        </p>
        <p>

            本書は
            <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                特許ポリシー</a>の下で活動するグループにより作成されています。

            <abbr title="World Wide Web Consortium">W3C</abbr> は
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webapps/ipr">グループ関連公開特許情報リスト</a>
            を管理しており、そのページには特許の公開方法も記載されています。特許の実質的な請求項が含まれると考えられる特許を知っている場合は、
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">W3C特許ポリシー第6節</a>に従って情報を開示する必要があります。
        </p>
        <p>
            この文書は
            <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2021年11月2日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> プロセス文書</a>によって管理されています。
        </p>
        <section class="informative" id="implementation-status">
            <div class="header-wrapper">
                <h3 id="implementation-status-0">
                    実装状況
                </h3><a class="self-link" href="#implementation-status" aria-label="Permalink for this Section"></a>
            </div>
            <p><em>このセクションは規範的ではありません。</em></p>

            <p>
                コンテンツ共有機能は、基盤となるオペレーティングシステムが「共有」機能を提供していること、およびOSのUI慣習に依存することが多いです。例えば、一部のOSでは「共有シート」が表示され、他のOSではポップアップメニューが使われます。これらの依存性により、Web
                Share APIをすべてのOSで利用可能にするために実装者による継続的な取り組みが行われています。この進行中の取り組みは、限られたOSでテストを実行して生成される<a
                    href="https://wpt.fyi/web-share">実装報告</a>に失敗として反映されています。ただし、ワーキンググループはWeb Share
                APIが今後さらに多くのOSで利用できるようになり、すでに幅広いデバイスの主要なOSで広く利用可能になっていることに楽観的です。
            </p>
        </section>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">概要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">この文書のステータス</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#implementation-status">
                            実装状況
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#usage-examples"><bdi class="secno">1. </bdi>
                    使用例
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#sharing-text-and-links"><bdi class="secno">1.1 </bdi>
                            テキストとリンクの共有
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sharing-a-file"><bdi class="secno">1.2 </bdi>
                            ファイルの共有
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#validating-a-share"><bdi class="secno">1.3 </bdi>
                            共有の検証
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#checking-if-members-are-supported"><bdi
                                class="secno">1.4 </bdi>
                            メンバーのサポート状況の確認
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#enabling-the-api-in-third-party-contexts"><bdi
                                class="secno">1.5 </bdi>
                            サードパーティコンテキストでのAPI有効化
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#api-definition"><bdi class="secno">2. </bdi>
                    API定義
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#extensions-to-the-navigator-interface"><bdi
                                class="secno">2.1 </bdi>
                            <code>Navigator</code> インターフェイスへの拡張
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">2.1.1
                                    </bdi>
                                    内部スロット
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#share-method"><bdi class="secno">2.1.2 </bdi>
                                    <span data-export="" data-dfn-type="method" data-idl="operation"
                                        data-title="share()" data-dfn-for="Navigator" data-type="Promise"
                                        data-lt="share()|share(data)"
                                        data-local-lt="Navigator.share|Navigator.share()|share"><code>share()</code></span>
                                    メソッド
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#canshare-data-method"><bdi class="secno">2.1.3
                                    </bdi>
                                    <code>canShare(data)</code> メソッド
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#validate-share-data"><bdi class="secno">2.1.4
                                    </bdi>
                                    共有データの検証
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#sharedata-dictionary"><bdi class="secno">2.2 </bdi>
                            <code>ShareData</code> 辞書
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#share-targets"><bdi class="secno">3. </bdi>
                    共有先
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#examples-of-share-targets"><bdi class="secno">3.1
                            </bdi>
                            共有先の例
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">4. </bdi>
                    Permissions Policy との統合
                </a></li>
            <li class="tocline"><a class="tocxref" href="#a11y"><bdi class="secno">5. </bdi>
                    アクセシビリティに関する考慮事項
                </a></li>
            <li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">6. </bdi>
                    プライバシーに関する考慮事項
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">7. </bdi>適合性</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">8. </bdi>IDL索引</a></li>
            <li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">9. </bdi>
                    変更履歴
                </a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">A. </bdi>
                    謝辞
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1
                            </bdi>規範的参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2
                            </bdi>参考情報</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="usage-examples">
        <div class="header-wrapper">
            <h2 id="x1-usage-examples"><bdi class="secno">1. </bdi>
                使用例
            </h2><a class="self-link" href="#usage-examples" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <section id="sharing-text-and-links">
            <div class="header-wrapper">
                <h3 id="x1-1-sharing-text-and-links"><bdi class="secno">1.1 </bdi>
                    テキストとリンクの共有
                </h3><a class="self-link" href="#sharing-text-and-links" aria-label="Permalink for Section 1.1"></a>
            </div>
            <p>
                この例は基本的な共有操作を示します。ボタンのクリックに応じて、このJavaScriptコードは現在のページのURLを共有します。
            </p>
            <div class="example" id="example-sharing-text-and-url">
                <div class="marker">
                    <a class="self-link" href="#example-sharing-text-and-url">例<bdi> 1</bdi></a><span
                        class="example-title">: テキストとURLの共有</span>
                </div>
                <pre aria-busy="false"><code class="hljs javascript">shareButton.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> navigator.share({ <span class="hljs-attr">title</span>: <span class="hljs-string">"Example Page"</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">""</span> });
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Data was shared successfully"</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Share failed:"</span>, err.message);
  }
});</code></pre>
            </div>
            <p>
                <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN"
                    id="ref-for-dom-sharedata-url-1"><code>url</code></a> が <code>''</code>
                の場合は、リンクと同様に現在のページURLを指します。他の絶対URLや相対URLも使用できます。
            </p>
            <p>
                <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-1"><code>share</code></a><code>()</code>
                の呼び出しに応じて、ユーザーエージェントはピッカーや選択ダイアログを表示し、ユーザーがタイトルとページURLの共有先を選択できるようにします。
            </p>
        </section>
        <section id="sharing-a-file">
            <div class="header-wrapper">
                <h3 id="x1-2-sharing-a-file"><bdi class="secno">1.2 </bdi>
                    ファイルの共有
                </h3><a class="self-link" href="#sharing-a-file" aria-label="Permalink for Section 1.2"></a>
            </div>
            <p>
                この例はファイルを共有する方法を示します。<a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN"
                    id="ref-for-dom-sharedata-files-1"><code>files</code></a> メンバーは配列であり、複数のファイルを共有できます。
            </p>
            <div class="example" id="example-sharing-a-file">
                <div class="marker">
                    <a class="self-link" href="#example-sharing-a-file">例<bdi> 2</bdi></a><span class="example-title">:
                        ファイルの共有</span>
                </div>
                <pre aria-busy="false"><code class="hljs javascript">shareButton.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> file = <span class="hljs-keyword">new</span> File(data, <span class="hljs-string">"some.png"</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">"image/png"</span> });
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> navigator.share({
      <span class="hljs-attr">title</span>: <span class="hljs-string">"Example File"</span>,
      <span class="hljs-attr">files</span>: [file]
    });
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Share failed:"</span>, err.message);
  }
});</code></pre>
            </div>
        </section>
        <section id="validating-a-share">
            <div class="header-wrapper">
                <h3 id="x1-3-validating-a-share"><bdi class="secno">1.3 </bdi>
                    共有の検証
                </h3><a class="self-link" href="#validating-a-share" aria-label="Permalink for Section 1.3"></a>
            </div>
            <p>
                <a data-link-type="idl" data-lt="canShare()" href="#dom-navigator-canshare" class="internalDFN"
                    id="ref-for-dom-navigator-canshare-1"><code>canShare</code></a><code>()</code> メソッドに <a
                    data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                    id="ref-for-dom-sharedata-1"><code>ShareData</code></a> 辞書を渡すと、共有データの <a
                    data-link-type="dfn|abstract-op" data-lt="validate share data" href="#dfn-validate-share-data"
                    class="internalDFN" id="ref-for-dfn-validate-share-data-1">検証</a>が行われます。<a data-link-type="idl"
                    data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-2"><code>share</code></a><code>()</code>
                と異なり、一時的なアクティベーションなしで呼び出すことができます。
            </p>
            <div class="example" id="example-3">
                <div class="marker">
                    <a class="self-link" href="#example-3">例<bdi> 3</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> file = <span class="hljs-keyword">new</span> File([], <span class="hljs-string">"some.png"</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">"image/png"</span> });

<span class="hljs-comment">// ファイルがサポートされているか確認</span>
<span class="hljs-keyword">if</span> (navigates.canShare({<span class="hljs-attr">files</span>: [file]})) {
  <span class="hljs-comment">// pngファイルの共有はおそらく可能です...</span>
}

<span class="hljs-comment">// URLの共有が可能か確認</span>
<span class="hljs-keyword">if</span> (navigates.canShare({ <span class="hljs-attr">url</span>: someURL })) {
  <span class="hljs-comment">// URLは有効で、共有可能です...</span>
}</code></pre>
            </div>
        </section>
        <section id="checking-if-members-are-supported">
            <div class="header-wrapper">
                <h3 id="x1-4-checking-if-members-are-supported"><bdi class="secno">1.4 </bdi>
                    メンバーのサポート状況の確認
                </h3><a class="self-link" href="#checking-if-members-are-supported"
                    aria-label="Permalink for Section 1.4"></a>
            </div>
            <p>
                WebIDL辞書の仕様により、<a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-3"><code>share</code></a><code>()</code>
                にユーザーエージェントが認識しないメンバーを渡した場合、それらは無視されます。
                複数のメンバーを共有する際、ユーザーエージェントが一部のメンバーをサポートしない場合は問題となることがあります。すべてのメンバーがサポートされていることを確認したい場合は、<a
                    data-link-type="idl" data-lt="canShare()" href="#dom-navigator-canshare" class="internalDFN"
                    id="ref-for-dom-navigator-canshare-2"><code>canShare</code></a><code>()</code>
                に個別に渡してサポートされているか確認できます。
            </p>
            <div class="example" id="example-future-proofing-shares">
                <div class="marker">
                    <a class="self-link" href="#example-future-proofing-shares">例<bdi> 4</bdi></a><span
                        class="example-title">: 共有の将来対応</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> data = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"Example Page"</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">"https://example.com"</span>,
  <span class="hljs-attr">text</span>: <span class="hljs-string">"This is a text to share"</span>,
  <span class="hljs-attr">someFutureThing</span>: <span class="hljs-string">"some future thing"</span>,
};
<span class="hljs-keyword">const</span> allSupported = <span class="hljs-built_in">Object</span>.entries(data).every(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> navigator.canShare({ [key]: value });
});
<span class="hljs-keyword">if</span> (allSupported) {
  <span class="hljs-keyword">await</span> navigator.share(data);
}</code></pre>
            </div>
            <p>
                または、サポートされていないメンバーのUIコンポーネントを表示しないようにアプリケーションのUIを調整することもできます。
            </p>
            <div class="example" id="example-filtering-out-unsupported-members">
                <div class="marker">
                    <a class="self-link" href="#example-filtering-out-unsupported-members">例<bdi> 5</bdi></a><span
                        class="example-title">: サポートされていないメンバーの除外</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> data = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"Example Page"</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">"https://example.com"</span>,
  <span class="hljs-attr">text</span>: <span class="hljs-string">"This is a text to share"</span>,
  <span class="hljs-attr">someFutureThing</span>: <span class="hljs-string">"some future thing"</span>,
};

<span class="hljs-comment">// サポートされていないもの...</span>
<span class="hljs-keyword">const</span> unsupported = <span class="hljs-built_in">Object</span>.entries(data).filter(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> !navigator.canShare({ [key]: value });
});</code></pre>
            </div>
        </section>
        <section id="enabling-the-api-in-third-party-contexts">
            <div class="header-wrapper">
                <h3 id="x1-5-enabling-the-api-in-third-party-contexts"><bdi class="secno">1.5 </bdi>
                    サードパーティコンテキストでのAPI有効化
                </h3><a class="self-link" href="#enabling-the-api-in-third-party-contexts"
                    aria-label="Permalink for Section 1.5"></a>
            </div>
            <p data-cite="permissions-policy">
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">デフォルトの許可リスト</a>である
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a> により、Web Share
                APIはデフォルトでファーストパーティコンテキストでのみ利用可能です。
            </p>
            <p>
                サードパーティは、<code><a data-link-type="element" data-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>の
                <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                属性を使って、このAPIの利用を許可できます：
            </p>
            <aside class="example" id="example-enabling-the-web-share-api-in-a-third-party-context">
                <div class="marker">
                    <a class="self-link" href="#example-enabling-the-web-share-api-in-a-third-party-context">例<bdi>
                            6</bdi></a><span class="example-title">: サードパーティコンテキストでweb-share APIを有効化</span>
                </div>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
  <span class="hljs-attr">src</span>=<span class="hljs-string">"https://third-party.example"</span>
  <span class="hljs-attr">allow</span>=<span class="hljs-string">"web-share"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
            </aside>
            <p>
                また、ファーストパーティコンテキストでAPIを無効化するには、HTTPレスポンスヘッダーを指定します：
            </p>
            <aside class="example" id="example-disabling-web-share-over-api-http-using-permissions-policy">
                <div class="marker">
                    <a class="self-link"
                        href="#example-disabling-web-share-over-api-http-using-permissions-policy">例<bdi>
                            7</bdi></a><span class="example-title">: Permissions Policyを使ったWeb ShareのAPI HTTP無効化</span>
                </div>
                <pre class="http" aria-busy="false"><code class="hljs">Permissions-Policy: web-share=()</code></pre>
            </aside>
            <p>
                詳細やオリジンごとのパーミッションポリシーの制御方法については <cite><a data-matched-text="[[[permissions-policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite> 仕様をご参照ください。
            </p>
        </section>
    </section>
    <section id="api-definition">
        <div class="header-wrapper">
            <h2 id="x2-api-definition"><bdi class="secno">2. </bdi>
                API定義
            </h2><a class="self-link" href="#api-definition" aria-label="Permalink for Section 2."></a>
        </div>

        <section data-dfn-for="Navigator" id="extensions-to-the-navigator-interface">
            <div class="header-wrapper">
                <h3 id="x2-1-extensions-to-the-navigator-interface"><bdi class="secno">2.1 </bdi>
                    <code>Navigator</code> インターフェイスへの拡張
                </h3><a class="self-link" href="#extensions-to-the-navigator-interface"
                    aria-label="Permalink for Section 2.1"></a>
            </div>

            <pre class="idl def" id="webidl-1104032107"><span class="idlHeader"><a class="self-link" href="#webidl-1104032107">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlMethod" id="idl-def-navigator-share-data" data-title="share" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-share" id="ref-for-dom-navigator-share-4"><code>share</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-2"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-navigator-canshare-data" data-title="canShare" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-canshare" id="ref-for-dom-navigator-canshare-3"><code>canShare</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-3"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span>
};</span></code></pre>
            <section id="internal-slots">
                <div class="header-wrapper">
                    <h4 id="x2-1-1-internal-slots"><bdi class="secno">2.1.1 </bdi>
                        内部スロット
                    </h4><a class="self-link" href="#internal-slots" aria-label="Permalink for Section 2.1.1"></a>
                </div>

                <p>
                    このAPIは <a data-link-type="idl" data-lt="Navigator" data-type="interface"
                        href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>
                    インターフェイスに以下の内部スロットを追加します。
                </p>
                <dl>
                    <dt>
                        <a data-link-type="idl" data-lt="Promise" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>? <dfn
                            data-idl="" data-dfn-for="Navigator" data-noexport="" data-dfn-type="attribute"
                            id="dfn-sharepromise" tabindex="0" aria-haspopup="dialog">[[sharePromise]]</dfn>
                    </dt>
                    <dd>
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-1"><code>[[sharePromise]]</code></a> は、ユーザーが現在データを <a
                            href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-share-target-1">共有先</a> に共有しようとする意図を表すPromiseです。初期値は <code>null</code> です。
                    </dd>
                </dl>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for share"><span>MDN</span><span
                            title="This feature is in all major engines.">✅</span></summary>
                    <a title="navigator.share() メソッドはWeb Share APIの一部で、デバイスのネイティブ共有機能を呼び出し、テキスト・URL・ファイルなどを共有します。利用可能な共有先はデバイスに依存し、クリップボード、連絡先、メールアプリ、ウェブサイト、Bluetoothなどが含まれる場合があります。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share">Navigator/share</a>
                    <p class="engines-all">この機能は全ての主要エンジンで利用可能です。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>89+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>61+</td>
                        </tr>
                        <tr class="edge no">
                            <td>Edge</td>
                            <td>未対応</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>71+</td>
                        </tr>
                        <tr class="firefox_android yes">
                            <td>Firefox Android</td>
                            <td>79+</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android yes">
                            <td>Opera Android</td>
                            <td>48+</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>12.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>未対応</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="share-method">
                <div class="header-wrapper">
                    <h4 id="x2-1-2-share-method"><bdi class="secno">2.1.2 </bdi>
                        <dfn data-export="" data-dfn-type="method" id="dom-navigator-share" data-idl="operation"
                            data-title="share()" data-dfn-for="Navigator" data-type="Promise"
                            data-lt="share()|share(data)" data-local-lt="Navigator.share|Navigator.share()|share"
                            tabindex="0" aria-haspopup="dialog"><code>share()</code></dfn> メソッド
                    </h4><a class="self-link" href="#share-method" aria-label="Permalink for Section 2.1.2"></a>
                </div>

                <p>
                    <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                        id="ref-for-dom-navigator-share-5"><code>share</code></a><code>()</code> メソッドが
                    <var data-type="ShareData">data</var> 引数付きで呼び出された場合、以下のステップをセキュリティ上の注意事項も考慮しながら実行します。
                </p>
                <p>
                    Web Shareはウェブサイトから<a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                        id="ref-for-dfn-share-target-2">共有先</a>（ネイティブアプリ等）へデータを送信できる機能を提供します。この機能はWeb
                    Share固有ではありませんが、プラットフォームによって深刻度が異なるさまざまなセキュリティリスクを伴います。
                </p>
                <p>
                    <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                        id="ref-for-dom-navigator-share-6"><code>share</code></a><code>()</code> に渡されたデータは、
                    共有先のバッファオーバーフローやリモートコード実行脆弱性の悪用に使われる可能性があります。一般的な対策はありませんが、特にファイル共有時には実装者はこの可能性を認識しておくべきです。
                </p>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                        id="ref-for-dfn-share-target-4">共有先</a>が共有されたURLを解決して情報転送する場合、機密情報が漏洩する可能性があります。共有が参照するコンテンツが、そのアプリやホスト、ネットワークロケーションでのみアクセス可能な場合、意図しない情報漏洩につながることがあります。
                </p>
                <p>
                    悪意あるサイトは、最終的にローカルリソース（"file:" URL
                    やローカルサービス等）に解決されるURLを提供することで、情報漏洩する共有先を悪用する可能性があります。このAPIは共有可能なスキームを制限しますが、リダイレクトやDNSレコードの操作によって、アプリがコンテンツを取得させられる可能性もあります。
                </p>
                <p>
                    このような攻撃への対策として、共有先はURLを取得して処理するのみで他へ共有しないようにできます。たとえば、画像編集アプリが共有された画像のみ取得する場合や、URLだけ共有して内容を取得しない場合などです。
                </p>
                <p>
                    プレビューや共有のためにコンテンツを取得する共有先は、情報漏洩リスクがあります。ユーザーがプレビューや許可した内容なら安全ですが、機密性の判断が難しい場合もあり、内容の転送はリスクを伴います。特に、<a
                        data-link-type="idl" href="#dom-sharedata-title" class="internalDFN"
                        id="ref-for-dom-sharedata-title-1"><code>title</code></a> は攻撃者がユーザーを誤認させるために利用する可能性があります（<a
                        href="#a11y" data-matched-text="[[[#a11y]]]" class="sec-ref"><bdi class="secno">5. </bdi>
                        アクセシビリティに関する考慮事項</a>も参照）。
                </p>
                <p>
                    <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                    を使用する場合、実装者は <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share"
                        class="internalDFN" id="ref-for-dom-navigator-share-7"><code>share</code></a><code>()</code>
                    の拒否時にエラーメッセージでどの情報が公開されるか慎重に検討する必要があります。共有先がない場合とユーザーキャンセルの場合を区別するだけでも、デバイスにどの共有先がインストールされているかが漏洩する可能性があります。
                </p>
                <ol class="algorithm">
                    <li><var data-type="Window">global</var> を <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a> の <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>とします。
                    </li>
                    <li><var data-type="Document">document</var> を <var data-type="Window">global</var> の <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">関連付けられた
                            <code>Document</code></a>とします。
                    </li>
                    <li><var data-type="Document">document</var> が <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全にアクティブ</a>でない場合、<a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">promiseを拒否</a>し
                        "<a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> を返します。
                    </li>
                    <li><var data-type="Document">document</var> が <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">"web-share"</a>
                        を使用許可されていない場合、<a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">promiseを拒否</a>し
                        "<a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> を返します。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-2"><code>[[sharePromise]]</code></a> が <code>null</code>
                        でない場合、<a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">promiseを拒否</a>し
                        "<a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> を返します。
                    </li>
                    <li><var data-type="Window">global</var> が <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">一時的なアクティベーション</a>を持たない場合、<a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">promiseを拒否</a>し
                        "<a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>" <a
                            data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> を返します。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation">globalのユーザーアクティベーションを消費</a>します。
                    </li>
                    <li><var data-type="URL">base</var> を <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a> の <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">関連設定オブジェクト</a>
                        の
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">APIベースURL</a>
                        とします。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-validate-share-data" class="internalDFN"
                            id="ref-for-dfn-validate-share-data-2">validate share data</a> を <var
                            data-type="ShareData">data</var> と <var data-type="URL">base</var> で実行した結果が false の場合、<a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">promiseを拒否</a>し
                        <a data-link-type="idl" data-lt="TypeError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                        を返します。
                    </li>
                    <li><var data-type="ShareData">data</var> の <a data-link-type="idl" href="#dom-sharedata-url"
                            class="internalDFN" id="ref-for-dom-sharedata-url-2"><code>url</code></a> メンバーが存在する場合：
                        <ol>
                            <li><var data-type="URL">url</var> を <a data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-parser">URL
                                    パーサー</a>で <var data-type="ShareData">data</var> の <a data-link-type="idl"
                                    href="#dom-sharedata-url" class="internalDFN"
                                    id="ref-for-dom-sharedata-url-3"><code>url</code></a> と <var
                                    data-type="URL">base</var> を使って実行した結果とします。
                            </li>
                            <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                                    data-type="URL">url</var> は <a data-link-type="idl" data-lt="URL"
                                    data-type="interface" href="https://url.spec.whatwg.org/#url"><code>URL</code></a>
                                です。
                            </li>
                            <li><var data-type="ShareData">data</var> をコピーし、その <a data-link-type="idl"
                                    href="#dom-sharedata-url" class="internalDFN"
                                    id="ref-for-dom-sharedata-url-4"><code>url</code></a>
                                メンバーに <var data-type="URL">url</var> を <a data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-serializer">URLシリアライザー</a>
                                でシリアライズした結果を設定します。
                            </li>
                        </ol>
                    </li>
                    <li>セキュリティ上の理由でファイルタイプがブロックされている場合、<a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">promiseを拒否</a>し
                        "<a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> を返します。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-3"><code>[[sharePromise]]</code></a> に <a data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise">新しいPromise</a> をセットします。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-4"><code>[[sharePromise]]</code></a> を返し、<a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">並行して</a>：
                        <ol>
                            <li>利用可能な <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-share-target-6">共有先</a> がない場合、<a data-link-type="dfn|abstract-op"
                                    data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                                    data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">ユーザーインタラクションタスクソース</a>を
                                <var data-type="Window">global</var> で使用して：
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">reject</a> <a
                                            data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-5"><code>[[sharePromise]]</code></a> を
                                        "<a data-link-type="idl" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        で拒否します。
                                    </li>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-6"><code>[[sharePromise]]</code></a> を
                                        <code>null</code> に設定します。
                                    </li>
                                    <li>このアルゴリズムを終了します。
                                    </li>
                                </ol>
                            </li>
                            <li>ユーザーに1つ以上の <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-share-target-7">共有先</a>
                                の選択肢と操作中止の選択肢を提示します。このUIはセキュリティ確認の役割を持ち、ウェブサイトがデータをネイティブアプリへ密かに送信できないようにします。ユーザーエージェントはOSレベルUIでこの機能がない場合、中間UIを表示してユーザーが共有内容を確認できるように
                                <em class="rfc2119">推奨</em> します。
                            </li>
                            <li>ユーザーの選択を待ちます。
                            </li>
                            <li>ユーザーが共有操作を中止した場合は、<a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">ユーザーインタラクションタスクソース</a>を
                                <var data-type="Window">global</var> で使用して：
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">reject</a> <a
                                            data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-7"><code>[[sharePromise]]</code></a> を
                                        "<a data-link-type="idl" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        で拒否します。
                                    </li>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-8"><code>[[sharePromise]]</code></a> を
                                        <code>null</code> に設定します。
                                    </li>
                                    <li>このアルゴリズムを終了します。
                                    </li>
                                </ol>
                            </li>
                            <li>選択された <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-share-target-8">共有先</a> を起動し、<a
                                    href="#dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target"
                                    class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target-1">dataを共有先向けの形式に変換</a>し、変換したデータを送信します。
                            </li>
                            <li>共有先の起動やデータ送信でエラーが発生した場合は、<a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">ユーザーインタラクションタスクソース</a>を
                                <var data-type="Window">global</var> で使用して：
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">reject</a> <a
                                            data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-9"><code>[[sharePromise]]</code></a> を
                                        "<a data-link-type="idl" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#dataerror"><code>DataError</code></a>"
                                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        で拒否します。
                                    </li>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-10"><code>[[sharePromise]]</code></a> を
                                        <code>null</code> に設定します。
                                    </li>
                                    <li>このアルゴリズムを終了します。
                                    </li>
                                </ol>
                            </li>
                            <li>データが <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                                    id="ref-for-dfn-share-target-9">共有先</a>
                                に正常に送信された場合、またはOSに正常に送信された場合（共有先への送信可否が確認できない場合）、<a data-link-type="dfn|abstract-op"
                                    data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">ユーザーインタラクションタスクソース</a>を
                                <var data-type="Window">global</var> で使用して：
                                <div class="note" role="note" id="issue-container-generatedID">
                                    <div role="heading" class="note-title marker" id="h-note" aria-level="5">
                                        <span>注記</span>
                                    </div>
                                    <aside class="">
                                        共有先にペイロードが渡された時点で、共有は成功とみなされます。共有先がデータを受け付けない場合やエラーが発生した場合は、共有先側で回復またはエラーメッセージを表示できますが、送信元側でエラー処理はできません。つまり
                                        <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share"
                                            class="internalDFN"
                                            id="ref-for-dom-navigator-share-8"><code>share</code></a><code>()</code>
                                        メソッドは「投げっぱなし」であり、共有先がペイロードを承認・拒否するまで待機しません。
                                    </aside>
                                </div>
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#resolve">resolve</a> <a
                                            data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-11"><code>[[sharePromise]]</code></a>
                                        を <code>undefined</code> で解決します。
                                    </li>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-12"><code>[[sharePromise]]</code></a> を
                                        <code>null</code> に設定します。
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                </ol>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for canShare"><span>MDN</span><span
                            title="This feature is in all major engines.">✅</span></summary>
                    <a title="Navigator.canShare() メソッドは、navigator.share() の呼び出しが成功するかどうかを判定します。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/canShare">Navigator/canShare</a>
                    <p class="engines-all">この機能は全ての主要エンジンで利用可能です。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>89+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>75+</td>
                        </tr>
                        <tr class="edge no">
                            <td>Edge</td>
                            <td>未対応</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>96+</td>
                        </tr>
                        <tr class="firefox_android yes">
                            <td>Firefox Android</td>
                            <td>96+</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>14+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>未対応</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="canshare-data-method">
                <div class="header-wrapper">
                    <h4 id="x2-1-3-canshare-data-method"><bdi class="secno">2.1.3 </bdi>
                        <code>canShare(data)</code> メソッド
                    </h4><a class="self-link" href="#canshare-data-method" aria-label="Permalink for Section 2.1.3"></a>
                </div>

                <p>
                    <dfn data-export="" data-dfn-type="method" id="dom-navigator-canshare" data-idl="operation"
                        data-title="canShare()" data-dfn-for="Navigator" data-type="boolean"
                        data-lt="canShare()|canShare(data)"
                        data-local-lt="Navigator.canShare|Navigator.canShare()|canShare" tabindex="0"
                        aria-haspopup="dialog"><code>canShare()</code></dfn> メソッドが
                    <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                        id="ref-for-dom-sharedata-4"><code>ShareData</code></a> <var data-type="ShareData">data</var>
                    引数付きで呼び出された場合、次の手順を実行します：
                </p>
                <ol class="algorithm">
                    <li><var data-type="Document">document</var> を <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a> の <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>
                        の <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">関連付けられた
                            <code>Document</code></a> とします。
                    </li>
                    <li><var data-type="Document">document</var> が <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全にアクティブ</a>でない場合、false
                        を返します。
                    </li>
                    <li><var data-type="Document">document</var> が <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">"web-share"</a>
                        を使用許可されていない場合、false を返します。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-validate-share-data" class="internalDFN"
                            id="ref-for-dfn-validate-share-data-3">validate share data</a> を <var
                            data-type="ShareData">data</var> と
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a> の <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">関連設定オブジェクト</a>
                        の <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">APIベースURL</a>
                        で実行した結果を返します。
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>注記</span><span
                            class="issue-label">: canShare() は将来互換性がない</span></div>
                    <aside class="">
                        <p>
                            Web Share API の <code>canShare()</code> メソッドは、<code>ShareData</code>
                            辞書に定義されていないメンバーを含むオブジェクトに対して使用した場合、偽陽性の結果を返す可能性があります。WebIDLの仕様上、ブラウザーは入力オブジェクトから未知のメンバーを除去し、残りのメンバーをテストして
                            <code>true</code> を返します。この挙動は将来互換性がありません。
                        </p>
                        <p>
                            共有可能性の確実なテストを行うには、<a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata"
                                class="internalDFN" id="ref-for-dom-sharedata-5"><code>ShareData</code></a>
                            辞書で定義されたメンバーのみを使って入力オブジェクトを構築してください。追加メンバーがある場合は、個別に分解して定義済みメンバーだけをテストすべきです。
                        </p>
                        <p>
                            現時点で実装に影響はありませんが、ワーキンググループは今後この課題への対応を検討します。特に <code>ShareData</code>
                            辞書に修正が入る場合は重要です。対応案の提案は GitHub の <a href="https://github.com/w3c/web-share/issues/108">issue
                                #108</a> をご覧ください。
                        </p>
                    </aside>
                </div>
            </section>
            <section id="validate-share-data">
                <div class="header-wrapper">
                    <h4 id="x2-1-4-validate-share-data"><bdi class="secno">2.1.4 </bdi>
                        共有データの検証
                    </h4><a class="self-link" href="#validate-share-data" aria-label="Permalink for Section 2.1.4"></a>
                </div>

                <p>
                    <dfn data-plurals="sharable schemes" id="dfn-sharable-scheme" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">共有可能なスキーム</dfn> とは、以下の <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url">URL</a>
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-scheme">スキーム</a> のいずれかです：
                </p>
                <ul>
                    <li><code>http</code>
                    </li>
                    <li><code>https</code>
                    </li>
                    <li>ユーザーエージェントが共有目的でサポートする <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/system-state.html#safelisted-scheme">安全リスト化されたスキーム</a>
                    </li>
                </ul>
                <p>
                    <dfn id="dfn-validate-share-data" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">共有データの検証</dfn> を <var data-type="ShareData">data</var> と
                    <var data-type="URL">base</var> で実行するには、次の手順を実行します：
                </p>
                <ol class="algorithm">
                    <li><var data-type="ShareData">data</var> の <a data-link-type="idl" href="#dom-sharedata-title"
                            class="internalDFN" id="ref-for-dom-sharedata-title-2"><code>title</code></a>,
                        <a data-link-type="idl" href="#dom-sharedata-text" class="internalDFN"
                            id="ref-for-dom-sharedata-text-1"><code>text</code></a>、<a data-link-type="idl"
                            href="#dom-sharedata-url" class="internalDFN"
                            id="ref-for-dom-sharedata-url-5"><code>url</code></a>、<a data-link-type="idl"
                            href="#dom-sharedata-files" class="internalDFN"
                            id="ref-for-dom-sharedata-files-2"><code>files</code></a> のいずれも存在しない場合、false を返します。
                    </li>
                    <li><a data-link-type="idl" href="#dom-sharedata-title" class="internalDFN"
                            id="ref-for-dom-sharedata-title-3"><code>title</code></a>、<a data-link-type="idl"
                            href="#dom-sharedata-text" class="internalDFN"
                            id="ref-for-dom-sharedata-text-2"><code>text</code></a>、<a data-link-type="idl"
                            href="#dom-sharedata-url" class="internalDFN"
                            id="ref-for-dom-sharedata-url-6"><code>url</code></a> のいずれかが存在する場合、<var
                            data-type="boolean">titleTextOrUrl</var> を true とします。
                    </li>
                    <li><var data-type="ShareData">data</var> の <a data-link-type="idl" href="#dom-sharedata-files"
                            class="internalDFN" id="ref-for-dom-sharedata-files-3"><code>files</code></a> メンバーが存在する場合：
                        <ol>
                            <li><var data-type="boolean">titleTextOrUrl</var> が false で、<var
                                    data-type="ShareData">data</var> の
                                <a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN"
                                    id="ref-for-dom-sharedata-files-4"><code>files</code></a> メンバーが空の場合、false を返します。
                                <div class="note" role="note" id="issue-container-generatedID-1">
                                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="5">
                                        <span>注記</span>
                                    </div>
                                    <p class="">
                                        <code>{ files: [] }</code> のような辞書は空辞書として扱われます。ただし
                                        <code>{text: "text", files: []}</code> のような辞書は、<code>files</code>
                                        が単に無視されるだけなので問題ありません。
                                    </p>
                                </div>
                            </li>
                            <li>実装がファイル共有をサポートしていない場合、false を返します。
                            </li>
                            <li>ユーザーエージェントが <code>files</code>
                                内のいずれかのファイルが悪意ある共有（内容・サイズ・その他特徴によって悪意があると判断した場合）になると考える場合、false を返します。
                            </li>
                        </ol>
                    </li>
                    <li><var data-type="ShareData">data</var> の <a data-link-type="idl" href="#dom-sharedata-url"
                            class="internalDFN" id="ref-for-dom-sharedata-url-7"><code>url</code></a> メンバーが存在する場合：
                        <ol>
                            <li><var data-type="URL">url</var> を <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-parser">URLパーサー</a>で
                                <var data-type="ShareData">data</var> の <a data-link-type="idl"
                                    href="#dom-sharedata-url" class="internalDFN"
                                    id="ref-for-dom-sharedata-url-8"><code>url</code></a> メンバーと <var
                                    data-type="URL">base</var> を使い、エンコーディングオーバーライド無しで実行した結果とします。
                            </li>
                            <li><var data-type="URL">url</var> が失敗の場合、false を返します。
                            </li>
                            <li><var data-type="URL">url</var> の <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-scheme">スキーム</a> が <a
                                    data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#local-scheme">ローカルスキーム</a>、<code>file</code>、<code>javascript</code>、<code>ws</code>、<code>wss</code>
                                のいずれかの場合、false を返します。
                            </li>
                            <li><var data-type="URL">url</var> の <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-scheme">スキーム</a> が <a
                                    data-link-type="dfn|abstract-op" href="#dfn-sharable-scheme" class="internalDFN"
                                    id="ref-for-dfn-sharable-scheme-2">共有可能なスキーム</a> でない場合、false を返します。
                            </li>
                        </ol>
                    </li>
                    <li>true を返します。
                    </li>
                </ol>
            </section>
        </section>
        <section data-dfn-for="ShareData" id="sharedata-dictionary">
            <div class="header-wrapper">
                <h3 id="x2-2-sharedata-dictionary"><bdi class="secno">2.2 </bdi>
                    <code>ShareData</code> 辞書
                </h3><a class="self-link" href="#sharedata-dictionary" aria-label="Permalink for Section 2.2"></a>
            </div>

            <pre class="idl def" id="webidl-800335275"><span class="idlHeader"><a class="self-link" href="#webidl-800335275">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-sharedata" data-title="ShareData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-sharedata" id="ref-for-dom-sharedata-6"><code>ShareData</code></a> {<span data-idl="" class="idlMember" id="idl-def-sharedata-files" data-title="files" data-dfn-for="ShareData"><span class="idlType">
  <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-file">File</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-files" id="ref-for-dom-sharedata-files-5"><code>files</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-title" data-title="title" data-dfn-for="ShareData"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-title" id="ref-for-dom-sharedata-title-4"><code>title</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-text" data-title="text" data-dfn-for="ShareData"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-text" id="ref-for-dom-sharedata-text-3"><code>text</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-url" data-title="url" data-dfn-for="ShareData"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-url" id="ref-for-dom-sharedata-url-9"><code>url</code></a>;</span>
};</span></code></pre>
            <p>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-sharedata" data-idl="dictionary"
                    data-title="ShareData" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>ShareData</code></dfn> 辞書は複数のオプションのメンバーで構成されています：
            </p>
            <dl data-sort="">
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-files" data-idl="field"
                        data-title="files" data-dfn-for="ShareData" data-type="sequence" tabindex="0"
                        aria-haspopup="dialog"><code>files</code></dfn> メンバー
                </dt>
                <dd>
                    共有するファイル。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-text" data-idl="field"
                        data-title="text" data-dfn-for="ShareData" data-type="USVString" tabindex="0"
                        aria-haspopup="dialog"><code>text</code></dfn> メンバー
                </dt>
                <dd>
                    共有されるメッセージ本文となる任意のテキスト。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-title" data-idl="field"
                        data-title="title" data-dfn-for="ShareData" data-type="USVString" tabindex="0"
                        aria-haspopup="dialog"><code>title</code></dfn> メンバー
                </dt>
                <dd>
                    共有される文書のタイトル。共有先によっては無視される場合があります。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-url" data-idl="field"
                        data-title="url" data-dfn-for="ShareData" data-type="USVString" tabindex="0"
                        aria-haspopup="dialog"><code>url</code></dfn> メンバー
                </dt>
                <dd>
                    共有されるリソースを指すURL文字列。
                </dd>
            </dl>
            <div class="note" role="note" id="issue-container-generatedID-2">
                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>注記</span></div>
                <aside class="" data-cite="encoding">
                    これらのメンバーは <a data-link-type="idl" data-lt="USVString" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-USVString"><code>USVString</code></a>（<a
                        data-link-type="idl" data-lt="DOMString" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                    ではなく）であり、サロゲートコードポイントを含むことができません。これにより、ユーザーエージェントは任意のUnicodeエンコーディング（たとえば <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://encoding.spec.whatwg.org/#utf-8">UTF-8</a>）で変更やデータ損失、置換文字生成なしにシリアライズできます。
                </aside>
            </div>
        </section>
    </section>
    <section id="share-targets">
        <div class="header-wrapper">
            <h2 id="x3-share-targets"><bdi class="secno">3. </bdi>
                共有先
            </h2><a class="self-link" href="#share-targets" aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            <dfn data-export="" data-plurals="share targets" id="dfn-share-target" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">共有先</dfn>とは、ユーザーエージェントが共有データを送信する抽象的な送信先の概念です。何が共有先になるかはユーザーエージェントの裁量によります。
        </p>
        <p>
            共有先は必ずしも <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                id="ref-for-dom-sharedata-7"><code>ShareData</code></a> を直接受け取れるとは限りません（このAPIを前提に作られていない場合）。しかし、<em
                class="rfc2119">MUST</em> <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata"
                class="internalDFN" id="ref-for-dom-sharedata-8"><code>ShareData</code></a>
            で公開される概念の一部または全部に合致するデータを受け取れる能力を持っていなければなりません。<dfn
                id="dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">共有先向けにデータを適切な形式に変換する</dfn>ために、ユーザーエージェントは <em
                class="rfc2119">SHOULD</em> <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata"
                class="internalDFN" id="ref-for-dom-sharedata-9"><code>ShareData</code></a>
            のメンバーを共有先の同等の概念にマッピングします。必要に応じてメンバーを破棄したり結合しても <em class="rfc2119">MAY</em> です。ペイロードの各メンバーの意味は共有先の裁量です。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-3">
            <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>注記</span></div>
            <div class="">
                <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                    id="ref-for-dom-sharedata-10"><code>ShareData</code></a>
                を共有先やOSのネイティブ形式にマッピングするのは、プラットフォームによっては同等のメンバーが存在しないため難しい場合があります。例えば、ターゲットが「text」メンバーしか持たず「URL」メンバーを持たない場合（Androidなど）、<a
                    data-link-type="idl" href="#dom-sharedata-text" class="internalDFN"
                    id="ref-for-dom-sharedata-text-4"><code>text</code></a> と <a data-link-type="idl"
                    href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-10"><code>url</code></a>
                を連結してターゲットの「text」メンバーに渡すという解決策が考えられます。
            </div>
        </div>
        <p>
            各共有先は、<a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                id="ref-for-dom-sharedata-12"><code>ShareData</code></a> ペイロードの内容によって条件付きで利用可能になることが <em
                class="rfc2119">MAY</em> です。これは <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share"
                class="internalDFN" id="ref-for-dom-navigator-share-9"><code>share</code></a><code>()</code>
            メソッドに渡されたペイロードに依存します。
        </p>
        <section class="informative" id="examples-of-share-targets">
            <div class="header-wrapper">
                <h3 id="x3-1-examples-of-share-targets"><bdi class="secno">3.1 </bdi>
                    共有先の例
                </h3><a class="self-link" href="#examples-of-share-targets" aria-label="Permalink for Section 3.1"></a>
            </div>
            <p><em>このセクションは規範的ではありません。</em></p>

            <p>
                共有先のリストは、ユーザーエージェントやホストOSによってさまざまなソースから構築されます。例：
            </p>
            <ul>
                <li>組み込みサービス（例：「クリップボードにコピー」）。
                </li>
                <li>ホストOS向けに作られたネイティブアプリ。
                </li>
                <li>連絡先（例：ユーザーエージェントがアドレス帳から特定のアプリを使って直接相手に共有する）。
                </li>
                <li>ウェブサイト（例：ユーザーエージェントが <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata"
                        class="internalDFN" id="ref-for-dom-sharedata-13"><code>ShareData</code></a>
                    のメンバーをテンプレートURLに埋め込み、そのURLを新しい閲覧コンテキストで表示する）。
                </li>
            </ul>
            <div class="note" role="note" id="issue-container-generatedID-4">
                <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>注記</span></div>
                <div class="">
                    ウェブサイトが共有データの受信先として登録されるケースの標準化が試みられています。詳細は <a href="https://github.com/w3c/web-share-target">Web
                        Share Target</a> を参照してください。
                </div>
            </div>
            <p>
                場合によっては、ホストOSがWeb
                Shareに類似した共有やインテントシステムを提供することがあります。その場合、ユーザーエージェントは共有データをOSに転送するだけで、ネイティブアプリへ直接送信する必要はありません。
            </p>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for web-share"><span>MDN</span><span
                    title="この機能は限定的なサポートです。">🚫</span></summary>
            <a title="HTTP Permissions-Policy ヘッダーの web-share ディレクティブは、現在のドキュメントが Web Share API の Navigator.share() メソッドを使ってテキスト・リンク・画像・その他コンテンツを任意の送信先に共有できるかどうかを制御します。"
                href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/web-share">Headers/Feature-Policy/web-share</a>
            <p class="engines-some">この機能は限定的なサポートです。</p>
            <table>
                <tr class="chrome no">
                    <td>Chrome</td>
                    <td>未対応</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>81+</td>
                </tr>
                <tr class="firefox_android yes">
                    <td>Firefox Android</td>
                    <td>81+</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>未対応</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
        <details>
            <summary aria-label="Expand MDN details for web-share"><span>MDN</span><span
                    title="この機能は限定的なサポートです。">🚫</span></summary>
            <a title="HTTP Permissions-Policy ヘッダーの web-share ディレクティブは、現在のドキュメントが Web Share API の Navigator.share() メソッドを使ってテキスト・リンク・画像・その他コンテンツを任意の送信先に共有できるかどうかを制御します。"
                href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/web-share">Headers/Permissions-Policy/web-share</a>
            <p class="engines-some">この機能は限定的なサポートです。</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>81+</td>
                </tr>
                <tr class="firefox_android yes">
                    <td>Firefox Android</td>
                    <td>81+</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>未対応</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="permissions-policy" data-cite="permissions-policy">
        <div class="header-wrapper">
            <h2 id="x4-permissions-policy-integration"><bdi class="secno">4. </bdi>
                Permissions Policy との統合
            </h2><a class="self-link" href="#permissions-policy" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            この仕様は、文字列
            <code><dfn class="permission" data-dfn-type="permission" id="dfn-web-share" tabindex="0" aria-haspopup="dialog" data-export="">"web-share"</dfn></code>
            によって識別されるポリシー制御パーミッションを定義します。
            その
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">デフォルト許可リスト</a>は
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a>
            です。つまり、サードパーティコンテキストではデフォルトでAPIの利用が
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">許可されません</a>。
        </p>
        <p>
            ユーザーエージェントが <cite><a data-matched-text="[[[PERMISSIONS-POLICY]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite> の
            <code>Permissions-Policy</code> HTTPヘッダーをサポートするかどうかは <em class="rfc2119">任意</em> です。
        </p>
        <p>
            開発者は、<cite><a data-matched-text="[[[permissions-policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite>
            仕様で定義された手段を使って、サードパーティコンテキストがこのAPIを
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">利用可能</a>かどうかを制御できます。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-5">
            <div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>注記</span><span
                    class="issue-label">: Permissions Policy 実装状況</span></div>
            <aside class="">
                <p>
                    ユーザーエージェントはサードパーティコンテキストでWeb Share APIの利用を防ぐ点では統一されていますが、公開時点では、サードパーティコンテキストでAPIを有効化するために
                    <cite><a data-matched-text="[[[Permissions-Policy]]]"
                            href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite>
                    のみに依存する場合、相互運用性の問題があります。
                    特に
                    <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                    属性は広くサポートされていますが、新しい構文はまだ広くはサポートされていません。同様に <code>Permissions-Policy:</code>
                    HTTPヘッダーもまだ広くはサポートされていません。開発者は、Web Share APIをサードパーティコンテキストで有効化する際には
                    <cite><a data-matched-text="[[[Permissions-Policy]]]"
                            href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite>
                    仕様の実装状況を必ず確認してください。
                </p>
                <p>
                    <code>Permissions-Policy</code> HTTPヘッダーのサポートが普及した際には、ワーキンググループはこの仕様をヘッダーのサポート必須とするよう改訂する予定です。
                </p>
            </aside>
        </div>
    </section>
    <section class="informative" id="a11y">
        <div class="header-wrapper">
            <h2 id="x5-accessibility-considerations"><bdi class="secno">5. </bdi>
                アクセシビリティに関する考慮事項
            </h2><a class="self-link" href="#a11y" aria-label="Permalink for Section 5."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            この仕様を使ってユーザーインターフェースで情報を表示する場合、実装者はプラットフォームのOSレベルのアクセシビリティガイドラインに従うことが望まれます。また、共有はエンドユーザーに対してセキュリティ上の影響を及ぼす可能性があるため、<a
                data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                id="ref-for-dom-navigator-share-10"><code>share</code></a><code>()</code>
            メソッドの説明にあるように、共有UIはアクセシブルかつプラットフォームのセキュリティガイドラインも考慮して設計する必要があります。主な考慮点は以下の通りです：
        </p>
        <ul>
            <li>視覚障害のあるユーザーが共有されるコンテンツの種類や性質を理解できるよう、画像その他非テキストコンテンツには代替テキストを提供する。
            </li>
            <li>ユーザーがプレビューされたコンテンツをキーボードのみで操作でき、キーボードフォーカスが明確に見えるようにする。
            </li>
            <li>見出しやラベルを使って、プレビューされるコンテンツが適切に構造化され、支援技術利用者に理解できるようにする。
            </li>
            <li>十分な色コントラストとフォントサイズを確保し、広く認識されるフォント・アイコン・画像を使用し、共有UIが分かりやすいものになるようにする。
            </li>
        </ul>
        <p>
            これらの要素は、視覚・運動・認知障害を持つユーザーがウェブページで共有されるコンテンツの性質をより理解できるようにします。
        </p>
    </section>
    <section id="privacy-considerations">
        <div class="header-wrapper">
            <h2 id="x6-privacy-considerations"><bdi class="secno">6. </bdi>
                プライバシーに関する考慮事項
            </h2><a class="self-link" href="#privacy-considerations" aria-label="Permalink for Section 6."></a>
        </div>

        <ul>
            <li>設計上、このAPIを用いてウェブサイトが利用可能な <a data-link-type="dfn|abstract-op" href="#dfn-share-target"
                    class="internalDFN" id="ref-for-dfn-share-target-11">共有先</a> や、ユーザーが <a data-link-type="idl"
                    data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-11"><code>share</code></a><code>()</code>
                からどの共有先を選択したかを知ることはできません。これは、フィンガープリント用途やユーザーのデバイスや好みの共有先に関する情報漏洩を防ぐためです。
            </li>
            <li><a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-12"><code>share</code></a><code>()</code> を <a
                    href="https://en.wikipedia.org/wiki/Privacy_mode">プライベートブラウジングモード</a>から利用した場合、プライバシー設定を尊重しないサードパーティアプリに個人情報が漏れる可能性があります。ユーザーエージェントは追加警告を表示したり、プライベートモード時にこの機能を無効化することも
                <em class="rfc2119">可能</em> ですが、選択UIが十分な警告になると考えることもできますので必須ではありません。
            </li>
        </ul>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x7-conformance"><bdi class="secno">7. </bdi>適合性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 7."></a>
        </div>
        <p>非規範的と明記されたセクション以外にも、この仕様書中の著作ガイドライン、図、例、注記はすべて非規範的です。それ以外の内容はすべて規範的です。</p>
        <p>
            本書の <em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">OPTIONAL</em>、<em
                class="rfc2119">SHOULD</em> というキーワードは、
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            に記載された通り、ここに示すようにすべて大文字で現れる場合に限り、その意味で解釈されます。
        </p>
    </section>
    <section id="idl-index">
        <div class="header-wrapper">
            <h2 id="x8-idl-index"><bdi class="secno">8. </bdi>IDL索引</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Section 8."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlMethod" data-title="share" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-share" id="ref-for-dom-navigator-share-13"><code>share</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-14"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span><span data-idl="" class="idlMethod" data-title="canShare" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-canshare" id="ref-for-dom-navigator-canshare-4"><code>canShare</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-15"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="ShareData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-sharedata" id="ref-for-dom-sharedata-16"><code>ShareData</code></a> {<span data-idl="" class="idlMember" data-title="files" data-dfn-for="ShareData"><span class="idlType">
  <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-file">File</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-files" id="ref-for-dom-sharedata-files-6"><code>files</code></a>;</span><span data-idl="" class="idlMember" data-title="title" data-dfn-for="ShareData"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-title" id="ref-for-dom-sharedata-title-5"><code>title</code></a>;</span><span data-idl="" class="idlMember" data-title="text" data-dfn-for="ShareData"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-text" id="ref-for-dom-sharedata-text-5"><code>text</code></a>;</span><span data-idl="" class="idlMember" data-title="url" data-dfn-for="ShareData"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-url" id="ref-for-dom-sharedata-url-11"><code>url</code></a>;</span>
};</span></code></pre>
    </section>
    <section class="informative" id="changelog">
        <div class="header-wrapper">
            <h2 id="x9-changelog"><bdi class="secno">9. </bdi>
                変更履歴
            </h2><a class="self-link" href="#changelog" aria-label="Permalink for Section 9."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            <a href="https://www.w3.org/TR/2022/PR-web-share-20221215/">勧告案</a>フェーズで、仕様に以下の規範的変更が加えられました。完全な変更リストは<a
                href="https://github.com/w3c/web-share/commits/main">コミットログ</a>をご覧ください。
        </p><rs-changelog from="PR" to="e441b96ded837660e826e702b7e041f7f0f15751" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/web-share/commit/d0ea0fe">Permissions-Policy HTTPヘッダーをOPTIONALに</a>
                    (<a href="https://github.com/w3c/web-share/pull/275">#275</a>)</li>
            </ul>
        </rs-changelog>
        <p>
            <a
                href="https://www.w3.org/TR/2019/WD-web-share-20191217/">最初の公開ワーキングドラフト</a>から勧告候補までに仕様に加えられた規範的変更は以下の通りです。完全な変更リストは<a
                href="https://github.com/w3c/web-share/commits/main">コミットログ</a>をご覧ください。
        </p>
        <rs-changelog from="1589731080e09b9c7d485e54340ba66bc3ae1be0" to="CR" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/web-share/commit/238ff25">Priv/Secを仕様に移動</a> (<a
                        href="https://github.com/w3c/web-share/pull/245">#245</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/d3890d1">共有可能なスキームの定義とチェック</a> (<a
                        href="https://github.com/w3c/web-share/pull/244">#244</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/94e7883">非fully-activeドキュメントの対応</a> (<a
                        href="https://github.com/w3c/web-share/pull/219">#219</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/68494b7">canShare() メソッド追加</a> (<a
                        href="https://github.com/w3c/web-share/pull/177">#177</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/230ec6a">"共有データ検証"アルゴリズム追加</a>
                    (<a href="https://github.com/w3c/web-share/pull/185">#185</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/52437a5">OSへの引き渡し後にpromise解決</a> (<a
                        href="https://github.com/w3c/web-share/pull/209">#209</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/151b35e">sharePromise後に一時的アクティベーションの確認</a> (<a
                        href="https://github.com/w3c/web-share/pull/183">#183</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/9322cbe">urlメンバーで非http URLの拒否</a>
                    (<a href="https://github.com/w3c/web-share/pull/174">#174</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/aeb208c">filesをsequenceに変更</a> (<a
                        href="https://github.com/w3c/web-share/pull/170">#170</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/2ef967a">"web-share" feature policy導入</a>
                    (<a href="https://github.com/w3c/web-share/pull/166">#166</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/f62dc29">BREAKING CHANGE:
                        share()でユーザーアクティベーション消費</a> (<a href="https://github.com/w3c/web-share/pull/137">#137</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/f615649">ファイル共有機能追加</a> (<a
                        href="https://github.com/w3c/web-share/pull/133">#133</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/5f837a9">アクセシビリティに関する考慮事項追加</a> (<a
                        href="https://github.com/w3c/web-share/pull/146">#146</a>)</li>
            </ul>
        </rs-changelog>
    </section>
    <section class="appendix" id="acknowledgments">
        <div class="header-wrapper">
            <h2 id="a-acknowledgments"><bdi class="secno">A. </bdi>
                謝辞
            </h2><a class="self-link" href="#acknowledgments" aria-label="Permalink for Appendix A."></a>
        </div>

        <p>
            編集者は、下記の <abbr title="World Wide Web Consortium">W3C</abbr> グループの貴重なフィードバックに感謝します。これにより本仕様は大きく改善されました：
            <a href="https://www.w3.org/WAI/APA/">Accessible Platform Architectures
                Working Group</a>、<a href="https://www.w3.org/International/i18n-activity/i18n-wg/">Internationalization
                Working Group</a>、<a href="https://www.w3.org/Privacy/IG/">Privacy
                Interest Group</a>、<a href="https://tag.w3.org">Technical
                Architecture Group</a>。
        </p>
        <p>
            <a href="https://www.w3.org/TR/web-intents">Web
                Intents</a> チームにも感謝します。彼らはウェブアプリの相互運用ユースケースの基礎を築きました。特に <a href="https://paul.kinlan.me/">Paul
                Kinlan</a> 氏はWeb Shareの初期の普及活動に大きく貢献しました。
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="b-references"><bdi class="secno">B. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix B."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>規範的参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix B.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-fetch">[fetch]</dt>
                <dd>
                    <a href="https://fetch.spec.whatwg.org/"><cite>Fetch標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-fileapi">[fileapi]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/FileAPI/"><cite>File API</cite></a>. Marijn Kruisselbrink. W3C.
                    2023年2月6日. W3C作業草案. URL: <a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML標準</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. 現行標準. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-permissions-policy">[PERMISSIONS-POLICY]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian
                    Clelland. W3C. 2023年3月22日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>RFCで要件レベルを示すためのキーワード</cite></a>. S. Bradner.
                    IETF. 1997年3月. 現行のベストプラクティス. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC 2119キーワードの大文字・小文字の曖昧さ</cite></a>. B.
                    Leiba. IETF. 2017年5月. 現行のベストプラクティス. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL標準</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. 現行標準. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>参考情報</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix B.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-encoding">[encoding]</dt>
                <dd>
                    <a href="https://encoding.spec.whatwg.org/"><cite>Encoding標準</cite></a>. Anne van Kesteren.
                    WHATWG. 現行標準. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="トップに戻る">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sharepromise"
        aria-label="Links in this document to definition: [[sharePromise]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sharepromise"
                aria-label="Permalink for definition: [[sharePromise]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sharepromise-1" title="§ 2.1.1 Internal Slots">§ 2.1.1 Internal Slots</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sharepromise-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a
                    href="#ref-for-dfn-sharepromise-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-sharepromise-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-sharepromise-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-sharepromise-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-sharepromise-7"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-sharepromise-8" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-sharepromise-9" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-sharepromise-10" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-sharepromise-11" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-sharepromise-12" title="Reference 11">(11)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-share"
        aria-label="Links in this document to definition: share()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-share"
                aria-label="Permalink for definition: share(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1104032107">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-share-1" title="§ 1.1 Sharing text and links">§ 1.1 Sharing text and
                    links</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-2" title="§ 1.3 Validating a share">§ 1.3 Validating a share</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-3" title="§ 1.4 Checking if members are supported">§ 1.4 Checking
                    if members are supported</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-4" title="§ 2.1 Extensions to the Navigator interface">§ 2.1
                    Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-5" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a
                    href="#ref-for-dom-navigator-share-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-navigator-share-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-navigator-share-8" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-9" title="§ 3. Share targets">§ 3. Share targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-10" title="§ 5. Accessibility considerations">§ 5. Accessibility
                    considerations</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-11" title="§ 6. Privacy considerations">§ 6. Privacy
                    considerations</a> <a href="#ref-for-dom-navigator-share-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-13" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-canshare"
        aria-label="Links in this document to definition: canShare()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-canshare"
                aria-label="Permalink for definition: canShare(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1104032107">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-canshare-1" title="§ 1.3 Validating a share">§ 1.3 Validating a
                    share</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-2" title="§ 1.4 Checking if members are supported">§ 1.4
                    Checking if members are supported</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-3" title="§ 2.1 Extensions to the Navigator interface">§ 2.1
                    Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-4" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sharable-scheme"
        aria-label="Links in this document to definition: sharable scheme">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sharable-scheme"
                aria-label="Permalink for definition: sharable scheme. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sharable-scheme-1" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sharable-scheme-2" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share
                    data</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-validate-share-data"
        aria-label="Links in this document to definition: validate share data">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-validate-share-data"
                aria-label="Permalink for definition: validate share data. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-validate-share-data-1" title="§ 1.3 Validating a share">§ 1.3 Validating a
                    share</a>
            </li>
            <li>
                <a href="#ref-for-dfn-validate-share-data-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-validate-share-data-3" title="§ 2.1.3 canShare(data) method">§ 2.1.3
                    canShare(data) method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata"
        aria-label="Links in this document to definition: ShareData">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata"
                aria-label="Permalink for definition: ShareData. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-1" title="§ 1.3 Validating a share">§ 1.3 Validating a share</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-2" title="§ 2.1 Extensions to the Navigator interface">§ 2.1 Extensions
                    to the Navigator interface</a> <a href="#ref-for-dom-sharedata-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-4" title="§ 2.1.3 canShare(data) method">§ 2.1.3 canShare(data)
                    method</a> <a href="#ref-for-dom-sharedata-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-6" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-7" title="§ 3. Share targets">§ 3. Share targets</a> <a
                    href="#ref-for-dom-sharedata-8" title="Reference 2">(2)</a> <a href="#ref-for-dom-sharedata-9"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-sharedata-10" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sharedata-11" title="Reference 5">(5)</a> <a href="#ref-for-dom-sharedata-12"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-13" title="§ 3.1 Examples of share targets">§ 3.1 Examples of share
                    targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-14" title="§ 8. IDL Index">§ 8. IDL Index</a> <a
                    href="#ref-for-dom-sharedata-15" title="Reference 2">(2)</a> <a href="#ref-for-dom-sharedata-16"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-files"
        aria-label="Links in this document to definition: files">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-files"
                aria-label="Permalink for definition: files. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-files-1" title="§ 1.2 Sharing a file">§ 1.2 Sharing a file</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-2" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share
                    data</a> <a href="#ref-for-dom-sharedata-files-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sharedata-files-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-5" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-6" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-text"
        aria-label="Links in this document to definition: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-text"
                aria-label="Permalink for definition: text. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-text-1" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share
                    data</a> <a href="#ref-for-dom-sharedata-text-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-3" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-4" title="§ 3. Share targets">§ 3. Share targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-5" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-title"
        aria-label="Links in this document to definition: title">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-title"
                aria-label="Permalink for definition: title. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-title-1" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-2" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share
                    data</a> <a href="#ref-for-dom-sharedata-title-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-4" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-5" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-url"
        aria-label="Links in this document to definition: url">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-url"
                aria-label="Permalink for definition: url. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-url-1" title="§ 1.1 Sharing text and links">§ 1.1 Sharing text and
                    links</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a
                    href="#ref-for-dom-sharedata-url-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sharedata-url-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-5" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share
                    data</a> <a href="#ref-for-dom-sharedata-url-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sharedata-url-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sharedata-url-8" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-9" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-10" title="§ 3. Share targets">§ 3. Share targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-11" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-share-target"
        aria-label="Links in this document to definition: share target">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-share-target"
                aria-label="Permalink for definition: share target. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-share-target-1" title="§ 2.1.1 Internal Slots">§ 2.1.1 Internal Slots</a>
            </li>
            <li>
                <a href="#ref-for-dfn-share-target-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a
                    href="#ref-for-dfn-share-target-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-share-target-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-share-target-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-share-target-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-share-target-7"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-share-target-8" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-share-target-9" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-share-target-10" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-share-target-11" title="§ 6. Privacy considerations">§ 6. Privacy
                    considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target"
        aria-label="Links in this document to definition: convert data to a format suitable for ingestion into the target">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target"
                aria-label="Permalink for definition: convert data to a format suitable for ingestion into the target. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target-1"
                    title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-web-share"
        aria-label="Links in this document to definition: &quot;web-share&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-web-share"
                aria-label="Permalink for definition: &quot;web-share&quot;. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-web-share-1" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-web-share-2" title="§ 2.1.3 canShare(data) method">§ 2.1.3 canShare(data)
                    method</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>