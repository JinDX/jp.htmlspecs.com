<!DOCTYPE html>
<html lang="ja-JP" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.4.1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>権限</title>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: italic
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <style id="caniuse-stylesheet" class="">
        .caniuse-stats {
            display: flex;
            column-gap: 2em
        }

        .caniuse-group {
            display: flex;
            flex: 1;
            flex-direction: column;
            justify-content: flex-end;
            flex-basis: auto
        }

        .caniuse-browsers {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-top: .2em;
            column-gap: .4em;
            border-bottom: 1px solid #ccc;
            row-gap: .4em;
            padding-bottom: .4cm
        }

        .caniuse-type {
            align-self: center;
            border-top: none;
            text-transform: capitalize;
            font-size: .8em;
            margin-top: -.8em;
            font-weight: 700
        }

        .caniuse-type span {
            background-color: var(--bg, #fff);
            padding: 0 .4em
        }

        .caniuse-cell {
            align-items: center;
            border-radius: 1cm;
            color: #fff;
            display: flex;
            font-size: 90%;
            min-width: 1.5cm;
            padding: .3rem;
            justify-content: space-evenly;
            --supported: #2a8436dd;
            --no-support: #c44230dd;
            --no-support-alt: #b43b2bdd;
            --partial: #807301dd;
            --partial-alt: #746c00dd;
            --unknown: #757575;
            background: repeating-linear-gradient(var(--caniuse-angle, 45deg), var(--caniuse-bg) 0, var(--caniuse-bg-alt) 1px, var(--caniuse-bg-alt) .4em, var(--caniuse-bg) calc(.25em + 1px), var(--caniuse-bg) .75em)
        }

        img.caniuse-browser {
            filter: drop-shadow(0 0 .1cm #666);
            background: 0 0
        }

        .caniuse-cell span.browser-version {
            margin-left: .4em;
            text-shadow: 0 0 .1em #fff;
            font-weight: 100;
            font-size: .9em
        }

        .caniuse-stats a[href] {
            white-space: nowrap;
            align-self: flex-end
        }

        .caniuse-cell.y {
            background: var(--supported)
        }

        .caniuse-cell:is(.n, .d) {
            --caniuse-angle: 45deg;
            --caniuse-bg: var(--no-support);
            --caniuse-bg-alt: var(--no-support-alt)
        }

        .caniuse-cell.u {
            background: var(--unknown)
        }

        .caniuse-cell.d {
            --caniuse-angle: 180deg
        }

        .caniuse-cell:is(.a, .x, .p) {
            --caniuse-angle: 90deg;
            --caniuse-bg: var(--partial);
            --caniuse-bg-alt: var(--partial-alt)
        }

        @media print {
            .caniuse-cell.y::before {
                content: "✔️";
                padding: .5em
            }

            .caniuse-cell.n::before {
                content: "❌";
                padding: .5em
            }

            .caniuse-cell:is(.a, .d, .p, .x, .u)::before {
                content: "⚠️";
                padding: .5em
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--indextable-hover-text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            color: var(--bg, #fff);
            background-color: #000;
            background-color: var(--text, #000);
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="revision" content="4f2ccb0f8efc82476fdf2a19c49f6926a3daace9">
    <meta name="description"
        content="この仕様は、他の仕様がブラウザー権限と連携するために利用できる共通インフラストラクチャを定義します。これらの権限は、ユーザーがプラットフォームの「強力な機能」へのアクセスを許可または拒否する選択を表します。開発者向けに、本仕様は強力な機能の権限状態を照会し、その権限状態が変更された場合に通知を受け取るためのAPIを標準化します。">
    <link rel="canonical" href="https://www.w3.org/TR/permissions/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "shortName": "permissions",
  "group": "webappsec",
  "specStatus": "WD",
  "editors": [
    {
      "name": "Marcos Cáceres",
      "url": "https://marcosc.com",
      "company": "Apple Inc.",
      "companyURL": "https://www.apple.com/",
      "w3cid": "39125"
    },
    {
      "name": "Mike Taylor",
      "url": "https://miketaylr.com/posts/",
      "companyURL": "https://google.com/",
      "company": "Google LLC",
      "w3cid": "90704"
    }
  ],
  "formerEditors": [
    {
      "name": "Mounir Lamouri",
      "companyURL": "https://google.com/",
      "company": "Google LLC"
    },
    {
      "name": "Jeffrey Yasskin",
      "companyURL": "https://google.com/",
      "company": "Google LLC",
      "w3cid": "72192"
    }
  ],
  "github": {
    "branch": "main",
    "repoURL": "w3c/permissions"
  },
  "mdn": true,
  "xref": {
    "profile": "web-platform",
    "specs": [
      "permissions-policy",
      "w3c-process"
    ]
  },
  "caniuse": "permissions-api",
  "gitRevision": "4f2ccb0f8efc82476fdf2a19c49f6926a3daace9",
  "publishDate": "2025-06-24",
  "previousMaturity": "WD",
  "previousPublishDate": "2024-12-20",
  "publishISODate": "2025-06-24T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 24 June 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry" data-cite="WEBIDL permissions-policy w3c-process HTML INFRA URL WEBIDL DOM FETCH">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">権限</h1>
        <h2 id="subtitle" class="subtitle">
            強力な機能のための権限との連携
        </h2>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C作業草案</a> <time class="dt-published"
                datetime="2025-06-24">2025年6月24日</time></p>
        <details open="">
            <summary>この文書の詳細</summary>
            <dl>
                <dt>このバージョン:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/WD-permissions-20250624/">https://www.w3.org/TR/2025/WD-permissions-20250624/</a>
                </dd>
                <dt>最新公開バージョン:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt>最新エディタ草案:</dt>
                <dd><a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a></dd>
                <dt>履歴:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/permissions/">https://www.w3.org/standards/history/permissions/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/permissions/commits/main">コミット履歴</a>
                </dd>
                <dt>編集者:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <a class="u-url url p-name fn" href="https://marcosc.com">Marcos Cáceres</a> (<a
                        class="p-org org h-org" href="https://www.apple.com/">Apple Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="90704">
                    <a class="u-url url p-name fn" href="https://miketaylr.com/posts/">Mike Taylor</a> (<a
                        class="p-org org h-org" href="https://google.com/">Google LLC</a>)
                </dd>
                <dt>
                    元編集者:
                </dt>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Mounir Lamouri</span> (<a class="p-org org h-org"
                        href="https://google.com/">Google LLC</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="72192">
                    <span class="p-name fn">Jeffrey Yasskin</span> (<a class="p-org org h-org"
                        href="https://google.com/">Google LLC</a>)
                </dd>
                <dt>フィードバック:</dt>
                <dd>
                    <a href="https://github.com/w3c/permissions/">GitHub w3c/permissions</a>
                    (<a href="https://github.com/w3c/permissions/pulls/">プルリクエスト</a>,
                    <a href="https://github.com/w3c/permissions/issues/new/choose">新しい課題</a>,
                    <a href="https://github.com/w3c/permissions/issues/">オープン課題</a>)
                </dd>
                <dt class="caniuse-title">ブラウザーサポート:</dt>
                <dd class="caniuse-stats">
                    <div class="caniuse-group">
                        <div class="caniuse-browsers">
                            <div class="caniuse-cell y" title="Chromeバージョン43から標準対応。"
                                aria-label="permissions-apiはデスクトップでChromeバージョン43から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg"
                                    alt="Chromeロゴ"><span class="browser-version">43</span>
                            </div>
                            <div class="caniuse-cell y" title="Edgeバージョン79から標準対応。"
                                aria-label="permissions-apiはデスクトップでEdgeバージョン79から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/edge/edge.svg" alt="Edgeロゴ"><span
                                    class="browser-version">79</span>
                            </div>
                            <div class="caniuse-cell y" title="Firefoxバージョン46から標準対応。"
                                aria-label="permissions-apiはデスクトップでFirefoxバージョン46から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg"
                                    alt="Firefoxロゴ"><span class="browser-version">46</span>
                            </div>
                            <div class="caniuse-cell y" title="Safariバージョン16.0から標準対応。"
                                aria-label="permissions-apiはデスクトップでSafariバージョン16.0から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/safari/safari.svg"
                                    alt="Safariロゴ"><span class="browser-version">16.0</span>
                            </div>
                        </div>
                        <div class="caniuse-type"><span>デスクトップ</span></div>
                    </div>
                    <div class="caniuse-group">
                        <div class="caniuse-browsers">
                            <div class="caniuse-cell y" title="Android Chromeバージョン137から標準対応。"
                                aria-label="permissions-apiはモバイルでAndroid Chromeバージョン137から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg"
                                    alt="Android Chromeロゴ"><span class="browser-version">137</span>
                            </div>
                            <div class="caniuse-cell y" title="Android Firefoxバージョン139から標準対応。"
                                aria-label="permissions-apiはモバイルでAndroid Firefoxバージョン139から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg"
                                    alt="Android Firefoxロゴ"><span class="browser-version">139</span>
                            </div>
                            <div class="caniuse-cell y" title="Android UCバージョン15.5から標準対応。"
                                aria-label="permissions-apiはモバイルでAndroid UCバージョン15.5から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/uc/uc.svg"
                                    alt="Android UCロゴ"><span class="browser-version">15.5</span>
                            </div>
                            <div class="caniuse-cell y" title="iOS Safariバージョン16.0から標準対応。"
                                aria-label="permissions-apiはモバイルでiOS Safariバージョン16.0から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg"
                                    alt="iOS Safariロゴ"><span class="browser-version">16.0</span>
                            </div>
                            <div class="caniuse-cell y" title="Samsung Internetバージョン4から標準対応。"
                                aria-label="permissions-apiはモバイルでSamsung Internetバージョン4から標準対応。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg"
                                    alt="Samsung Internetロゴ"><span class="browser-version">4</span>
                            </div>
                        </div>
                        <div class="caniuse-type"><span>モバイル</span></div>
                    </div><a class="caniuse-cell" href="https://caniuse.com/permissions-api">詳細情報</a>
                </dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>

    <section id="abstract" class="introductory">
        <h2>概要</h2>
        <p>
            この仕様は、他の仕様がブラウザー権限と連携するために利用できる共通インフラストラクチャを定義します。これらの権限は、ユーザーがプラットフォームの「強力な機能」へのアクセスを許可または拒否する選択を表します。開発者向けに、本仕様は強力な機能の権限状態を照会し、その権限状態が変更された場合に通知を受け取るためのAPIを標準化します。
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>この文書のステータス</h2>
        <p><em>このセクションは、本書が公開された時点での文書のステータスを示します。現在の<abbr title="World Wide Web Consortium">W3C</abbr>
                公開物と、この技術レポートの最新リビジョンは
                <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    標準・草案一覧</a>（https://www.w3.org/TR/）で確認できます。</em></p>
        <p>
            本仕様は進行中の作業です。
        </p>
        <p>
            この文書は<a href="https://www.w3.org/groups/wg/webappsec">Webアプリケーションセキュリティ作業グループ</a>によって
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">勧告トラック</a>で作業草案として公開されました。
        </p>
        <p>作業草案としての公開は
            <abbr title="World Wide Web Consortium">W3C</abbr>およびそのメンバーによる支持を意味するものではありません。
        </p>
        <p>
            この文書はドラフトであり、随時更新・置換・廃止される可能性があります。他の文書の引用には適切ではありません。

        </p>
        <p>

            本書は
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                特許ポリシー</a>の下で活動するグループによって作成されました。

            <abbr title="World Wide Web Consortium">W3C</abbr>は
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webappsec/ipr">グループ成果物に関連する特許開示の公開リスト</a>
            を管理しています。このページには特許開示の方法も記載されています。ある個人が「必須クレーム」を含むと考える特許について実際の知識がある場合、その情報は
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C特許ポリシー第6章</a>に従って開示しなければなりません。
        </p>
        <p>
            この文書は
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023年11月3日 <abbr
                    title="World Wide Web Consortium">W3C</abbr>プロセス文書</a>に従います。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">概要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">この文書のステータス</a></li>
            <li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">1. </bdi>
                    はじめに
                </a></li>
            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">2. </bdi>
                    利用例
                </a></li>
            <li class="tocline"><a class="tocxref" href="#model"><bdi class="secno">3. </bdi>
                    モデル
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#permissions"><bdi class="secno">3.1 </bdi>
                            権限
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#permission-store"><bdi class="secno">3.2 </bdi>
                            パーミッションストア
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#powerful-features"><bdi class="secno">3.3 </bdi>
                            強力な機能
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#aspects"><bdi class="secno">3.3.1 </bdi>
                                    側面
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#permissions-task-source"><bdi class="secno">3.4 </bdi>
                            権限タスクソース
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#specifying-a-powerful-feature"><bdi class="secno">4. </bdi>
                    強力な機能の仕様化
                </a></li>
            <li class="tocline"><a class="tocxref" href="#algorithms-to-interface-with-permissions"><bdi
                        class="secno">5. </bdi>
                    権限インターフェイス用アルゴリズム
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#reading-current-states"><bdi class="secno">5.1 </bdi>
                            現在の権限状態の読み取り
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#requesting-more-permission"><bdi class="secno">5.2
                            </bdi>
                            強力な機能の権限要求
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#prompt-the-user-to-choose"><bdi class="secno">5.3
                            </bdi>
                            ユーザーへの選択プロンプト
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#reacting-to-revocation"><bdi class="secno">5.4 </bdi>
                            権限の取り消しへの対応
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-api"><bdi class="secno">6. </bdi>
                    権限API
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#navigator-and-workernavigator-extension"><bdi
                                class="secno">6.1 </bdi>
                            <code>Navigator</code>および<code>WorkerNavigator</code>インターフェイスの拡張
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#permissions-interface"><bdi class="secno">6.2 </bdi>
                            <code>Permissions</code>インターフェイス
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#query-method"><bdi class="secno">6.2.1 </bdi>
                                    <code>query()</code>メソッド
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#permissionstatus-interface"><bdi class="secno">6.3
                            </bdi>
                            <code>PermissionStatus</code>インターフェイス
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#creating-instances"><bdi class="secno">6.3.1
                                    </bdi>
                                    インスタンスの生成
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#name-attribute"><bdi class="secno">6.3.2
                                    </bdi>
                                    <code>name</code>属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#state-attribute"><bdi class="secno">6.3.3
                                    </bdi>
                                    <code>state</code>属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#onchange-attribute"><bdi class="secno">6.3.4
                                    </bdi>
                                    <code>onchange</code>属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#permissionstatus-gc"><bdi class="secno">6.3.5
                                    </bdi>
                                    ガベージコレクション
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">7. </bdi>適合性</a></li>
            <li class="tocline"><a class="tocxref" href="#relationship-to-permissions-policy"><bdi class="secno">A.
                    </bdi>
                    Permissions Policy仕様との関係
                </a></li>
            <li class="tocline"><a class="tocxref" href="#automation"><bdi class="secno">B. </bdi>
                    自動テスト
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#automation-webdriver"><bdi class="secno">B.1 </bdi>
                            [<cite><span class="formerLink" data-link-type="biblio"
                                    title="WebDriver">WebDriver</span></cite>]による自動テスト
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#webdriver-command-set-permission"><bdi
                                        class="secno">B.1.1 </bdi>
                                    権限設定
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#automation-webdriver-bidi"><bdi class="secno">B.2
                            </bdi>
                            [<cite><span class="formerLink" data-link-type="biblio"
                                    title="WebDriver BiDi">WebDriver-BiDi</span></cite>]による自動テスト
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#webdriver-bidi-module-permissions"><bdi
                                        class="secno">B.2.1 </bdi>
                                    permissionsモジュール
                                </a>
                                <ol class="toc">
                                    <li class="tocline"><a class="tocxref"
                                            href="#webdriver-bidi-module-permissions-definition"><bdi
                                                class="secno">B.2.1.1 </bdi>
                                            定義
                                        </a></li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#webdriver-bidi-module-permissions-types"><bdi class="secno">B.2.1.2
                                            </bdi>
                                            型
                                        </a>
                                        <ol class="toc">
                                            <li class="tocline"><a class="tocxref"
                                                    href="#webdriver-bidi-type-permissions-PermissionDescriptor"><bdi
                                                        class="secno">B.2.1.2.1 </bdi>
                                                    permissions.PermissionDescriptor型
                                                </a></li>
                                            <li class="tocline"><a class="tocxref"
                                                    href="#webdriver-bidi-type-permissions-PermissionState"><bdi
                                                        class="secno">B.2.1.2.2 </bdi>
                                                    permissions.PermissionState型
                                                </a></li>
                                        </ol>
                                    </li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#webdriver-bidi-module-permissions-commands"><bdi
                                                class="secno">B.2.1.3 </bdi>
                                            コマンド
                                        </a>
                                        <ol class="toc">
                                            <li class="tocline"><a class="tocxref"
                                                    href="#webdriver-bidi-command-permissions-setPermission"><bdi
                                                        class="secno">B.2.1.3.1 </bdi>
                                                    permissions.setPermissionコマンド
                                                </a></li>
                                        </ol>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-registry"><bdi class="secno">C. </bdi>
                    権限レジストリ
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#purpose"><bdi class="secno">C.1 </bdi>
                            目的
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#change-process"><bdi class="secno">C.2 </bdi>
                            変更プロセス
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#registry-table-of-standardized-permissions"><bdi
                                class="secno">C.3 </bdi>
                            標準化権限のレジストリ表
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#registry-table-of-provisional-permissions"><bdi
                                class="secno">C.4 </bdi>
                            暫定権限のレジストリ表
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">D. </bdi>
                    プライバシーの考慮事項
                </a></li>
            <li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">E. </bdi>
                    セキュリティの考慮事項
                </a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">F. </bdi>IDL索引</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">G. </bdi>
                    謝辞
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">H. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">H.1
                            </bdi>規範となる参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">H.2
                            </bdi>参考情報</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="introduction">
        <div class="header-wrapper">
            <h2 id="intro"><bdi class="secno">1. </bdi>
                はじめに
            </h2><a class="self-link" href="#intro" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            仕様は、<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-1">強力な機能</a>として明示的に識別される機能を定義できます。これらの機能は、プライバシー、セキュリティ、およびパフォーマンスに大きな影響を与える可能性があることから「強力」とされます。そのため、ユーザーはユーザーエージェントがサイトによるこれらの機能の利用を明示的な許可があるまで拒否することを頼りにしており、通常はこの能力が一定期間のみ付与されます。サイトに強力な機能の利用を許可する明示的な許可は、主にブラウザーUIを通じて与えられ、管理されます（下図参照）。
        </p>
        <figure id="fig-sketches-of-possible-permission-prompt-types">
            <img src="https://www.w3.org/TR/permissions/docs/assets/images/sample-prompts.png"
                alt="左側: サイト example.com が通知を送信したい旨の通知プロンプト（許可・拒否ボタンあり）のモック。右側: URLバー付近でカメラ・マイクへの権限付与を求めるプロンプトのモック。">
            <figcaption><a class="self-link" href="#fig-sketches-of-possible-permission-prompt-types">図 <bdi
                        class="figno">1</bdi></a> <span class="fig-title">
                    権限プロンプトタイプのスケッチ
                </span></figcaption>
        </figure>
        <p>
            この意味で、権限は特定の機能、特に「強力な機能」に対するユーザー同意の現在の状態を表します。最終的にはユーザーがこれらの権限を管理する権利を持ち、手動で権限を付与・拒否できます。さらに、ユーザーエージェントは、煩わしい権限プロンプトを非表示にしたり自動的に拒否したり、一定期間サイトを訪問しない場合に付与済みの権限を自動で失効させるなど、権限管理を支援します。
        </p>
    </section>
    <figure id="fig-a-sketch-of-a-possible-site-specific-permissions-controls-ui">
        <img src="https://www.w3.org/TR/permissions/docs/assets/images/permission-settings.png"
            alt="ユーザーが位置情報、カメラ、マイク、モーションセンサー、通知の権限のデフォルト設定・リセットを行える設定ページのモック。">
        <figcaption><a class="self-link" href="#fig-a-sketch-of-a-possible-site-specific-permissions-controls-ui">図
                <bdi class="figno">2</bdi></a> <span class="fig-title">
                サイトごとの権限設定UIのスケッチ
            </span></figcaption>
    </figure>
    <section class="informative" id="examples-of-usage">
        <div class="header-wrapper">
            <h2 id="examples"><bdi class="secno">2. </bdi>
                利用例
            </h2><a class="self-link" href="#examples" aria-label="Permalink for Section 2."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            この例では、Permissions API を使い、ローカルニュースをGeolocation APIで表示するか、機能追加ボタンを表示するかを決定します。
        </p>
        <div class="example" id="example-using-state-attribute">
            <div class="marker">
                <a class="self-link" href="#example-using-state-attribute">例<bdi> 1</bdi></a><span
                    class="example-title">: .state属性の利用</span>
            </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> { state } = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"geolocation"</span>
});
<span class="hljs-keyword">switch</span> (state) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">"granted"</span>:
    <span class="hljs-title function_">showLocalNewsWithGeolocation</span>();
    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">"prompt"</span>:
    <span class="hljs-title function_">showButtonToEnableLocalNews</span>();
    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">"denied"</span>:
    <span class="hljs-title function_">showNationalNews</span>();
    <span class="hljs-keyword">break</span>;
}</code></pre>
        </div>
        <p>
            この例では<code>"geolocation"</code>および<code>"notifications"</code>
            <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-2">強力な機能</a>の状態を同時に確認しています:
        </p>
        <div class="example" id="example-checking-the-state-of-multiple-permissions">
            <div class="marker">
                <a class="self-link" href="#example-checking-the-state-of-multiple-permissions">例<bdi>
                        2</bdi></a><span class="example-title">: 複数権限の状態確認</span>
            </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> queryPromises = [<span class="hljs-string">"geolocation"</span>, <span class="hljs-string">"notifications"</span>].<span class="hljs-title function_">map</span>(
  <span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({ name })
);
<span class="hljs-keyword">for</span> <span class="hljs-title function_">await</span> (<span class="hljs-keyword">const</span> status <span class="hljs-keyword">of</span> queryPromises) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${status.name}</span>: <span class="hljs-subst">${status.state}</span>`</span>);
}</code></pre>
        </div>
        <p>
            この例は利用可能なカメラの権限状態を確認しています。
        </p>
        <div class="example" id="example-checking-permission-state-of-multiple-cameras">
            <div class="marker">
                <a class="self-link" href="#example-checking-permission-state-of-multiple-cameras">例<bdi>
                        3</bdi></a><span class="example-title">: 複数カメラの権限状態確認</span>
            </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> devices = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">enumerateDevices</span>();

<span class="hljs-comment">// ビデオ入力のみ抽出し、クエリオブジェクトに変換</span>
<span class="hljs-keyword">const</span> queries = devices
  .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">{ kind }</span>) =&gt;</span> kind === <span class="hljs-string">"videoinput"</span>)
  .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">{ deviceId }</span>) =&gt;</span> ({ <span class="hljs-attr">name</span>: <span class="hljs-string">"camera"</span>, deviceId }));

<span class="hljs-keyword">const</span> promises = queries.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">queryObj</span>) =&gt;</span>
  navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>(queryObj)
);

<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
  <span class="hljs-comment">// 各カメラの状態をログ出力</span>
  results.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">{ state }, i</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Camera"</span>, i, state));
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
}</code></pre>
        </div>
    </section>
    <section id="model">
        <div class="header-wrapper">
            <h2 id="x3-model"><bdi class="secno">3. </bdi>
                モデル
            </h2><a class="self-link" href="#model" aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            このセクションでは、Webプラットフォーム上で<a data-link-type="dfn|abstract-op" href="#dfn-permissions" class="internalDFN"
                id="ref-for-dfn-permissions-1">権限</a>を使って<a data-link-type="dfn|abstract-op"
                href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-3">強力な機能</a>を利用するためのモデルを規定します。
        </p>
        <section id="permissions">
            <div class="header-wrapper">
                <h3 id="x3-1-permissions"><bdi class="secno">3.1 </bdi>
                    権限
                </h3><a class="self-link" href="#permissions" aria-label="Permalink for Section 3.1"></a>
            </div>

            <p>
                <dfn class="export" data-export="" id="dfn-permission" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">権限</dfn>は、ユーザーがウェブアプリケーションに<a data-link-type="dfn|abstract-op"
                    href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-4">強力な機能</a>の利用を許可するかどうかの意思決定を表します。この決定は権限の<a
                    data-link-type="dfn|abstract-op" href="#dfn-states" class="internalDFN"
                    id="ref-for-dfn-states-1">状態</a>として表現されます。
            </p>
            <p>
                <dfn class="export" data-export="" id="dfn-express-permission" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">明示的な許可</dfn>は、ユーザーがウェブアプリケーションに<a data-link-type="dfn|abstract-op"
                    data-lt="grants" href="#dfn-granted" class="internalDFN"
                    id="ref-for-dfn-granted-1">許可</a>を与え、強力な機能を利用できるようにすることを指します。
            </p>
            <div class="note" role="note" id="issue-container-generatedID">
                <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注</span><span
                        class="issue-label">: 制限と拡張性</span></div>
                <aside class="">
                    <p>
                        現在のWeb APIは権限の扱いがAPIごとに異なります。例えば、<cite><a data-matched-text="[[[notifications]]]"
                                href="https://notifications.spec.whatwg.org/">Notifications API現行標準</a></cite>
                        は権限のリクエストや状態確認を明示的に開発者に提供します。一方、<cite><a data-matched-text="[[[Geolocation]]]"
                                href="https://www.w3.org/TR/geolocation/">Geolocation</a></cite>は、権限が未付与の場合にAPI利用時に失敗するのみで、事前に状態を確認できません。
                    </p>
                    <p>
                        本文書で記述する解決策は拡張可能ですが、Webプラットフォームで現在・今後提供されるすべての権限に適用できるものではありません。権限モデルが本モデルに合わない仕様を作る作業グループは、<a
                            href="https://github.com/w3c/permissions/issues">課題を提出</a>して編集者に連絡してください。
                    </p>
                </aside>
            </div>
            <p>
                概念的には、<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-6">強力な機能</a>の<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission" class="internalDFN" id="ref-for-dfn-permission-1">権限</a>は、次のいずれかの<dfn
                    data-dfn-for="permission" data-local-lt="state" data-lt="states|state" id="dfn-states" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">状態</dfn>を取ることができます。
            </p>
            <dl data-sort="">
                <dt>
                    <dfn class="export" data-lt="denied|&quot;denied&quot;" data-dfn-for="permission" data-export=""
                        id="dfn-denied" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">"denied"</dfn>:
                </dt>
                <dd>
                    ユーザーまたはユーザーエージェントが、その<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                        class="internalDFN"
                        id="ref-for-dfn-powerful-feature-7">強力な機能</a>へのアクセスを拒否した状態。呼び出し元はその機能を利用できません。
                </dd>
                <dt>
                    <dfn class="export" data-lt="granted|&quot;granted&quot;|grant" data-local-lt="grant"
                        data-dfn-for="permission" data-export="" data-plurals="grants" id="dfn-granted" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">"granted"</dfn>:
                </dt>
                <dd>
                    ユーザーまたはユーザーエージェントが<a data-link-type="dfn|abstract-op" href="#dfn-express-permission"
                        class="internalDFN"
                        id="ref-for-dfn-express-permission-1">明示的な許可</a>を与えた状態。呼び出し元は、ユーザーエージェントによる追加許可確認なしで機能を利用できる場合があります。
                </dd>
                <dt>
                    <dfn class="export" data-lt="prompt|&quot;prompt&quot;" data-dfn-for="permission" data-export=""
                        id="dfn-prompt" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">"prompt"</dfn>:
                </dt>
                <dd>
                    ユーザーが機能の<a data-link-type="dfn|abstract-op" href="#dfn-express-permission" class="internalDFN"
                        id="ref-for-dfn-express-permission-2">明示的な許可</a>を与えていない状態（<a data-link-type="dfn|abstract-op"
                        href="#dfn-denied" class="internalDFN"
                        id="ref-for-dfn-denied-1">"denied"</a>と同じ）。呼び出し元が機能を利用しようとすると、ユーザーエージェントがユーザーに権限確認プロンプトを表示するか、アクセスが<a
                        data-link-type="dfn|abstract-op" href="#dfn-denied" class="internalDFN"
                        id="ref-for-dfn-denied-2">"denied"</a>となります。
                </dd>
            </dl>
            <p>
                <dfn class="export" data-export="" id="dfn-new-information-about-the-user-s-intent" tabindex="0"
                    aria-haspopup="dialog"
                    data-dfn-type="dfn">ユーザー意図に関する新情報</dfn>を特定するために、ユーザーエージェントはユーザーの意図に関する情報を収集・解釈する場合があります。この情報は、明示的なユーザー操作、当該ユーザーや他のユーザーの集約的行動、またはこの仕様が予期しない<dfn
                    id="dfn-implicit-signals" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">暗黙的シグナル</dfn>から得られます。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-0">
                <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>注</span><span
                        class="issue-label">: 暗黙的シグナルとは？</span></div>
                <aside class="" data-cite="appmanifest">
                    <p>
                        <a data-link-type="dfn|abstract-op" href="#dfn-implicit-signals" class="internalDFN"
                            id="ref-for-dfn-implicit-signals-1">暗黙的シグナル</a>の例として、ウェブアプリケーションの<a data-link-type="dfn"
                            data-lt="installed web application"
                            href="https://www.w3.org/TR/appmanifest/#dfn-installed-web-application">インストール</a>状況や訪問頻度・最近度などが挙げられます。インストール済みで頻繁・最近利用されているアプリは信頼されやすいですが、暗黙的シグナルへの依存は慎重に行うことが推奨されます。
                    </p>
                </aside>
            </div>
            <p data-cite="ECMAScript">
                すべての<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                    id="ref-for-dfn-permission-2">権限</a>には<a data-link-type="dfn|abstract-op" href="#dfn-lifetime"
                    class="internalDFN" id="ref-for-dfn-lifetime-1">存続期間</a>があり、特定の権限が<a
                    data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                    id="ref-for-dfn-granted-2">"granted"</a>であり続ける期間を示します。期間が終了すると<a data-link-type="dfn|abstract-op"
                    href="#dfn-default-state" class="internalDFN"
                    id="ref-for-dfn-default-state-1">デフォルト状態</a>に戻ります。存続期間は、特定の<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm">Realm</a>が破棄されるまで、トップレベルのブラウジングコンテキストが破棄されるまで、一定期間、または無限など、さまざまです。期間はエンドユーザーと<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent">ユーザーエージェント</a>間で、強力な機能の<a
                    data-link-type="dfn|abstract-op" href="#dfn-express-permission" class="internalDFN"
                    id="ref-for-dfn-express-permission-3">明示的な許可</a>（通常は権限UIやユーザーエージェントのポリシー）付与時に交渉されます。
            </p>
            <p>
                すべての権限には<a data-for="permission" id="dfn-default-state" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">デフォルト状態</a>（通常は<a data-link-type="dfn|abstract-op" href="#dfn-prompt"
                    class="internalDFN" id="ref-for-dfn-prompt-1">"prompt"</a>）があり、ユーザーがまだ機能の<a
                    data-link-type="dfn|abstract-op" href="#dfn-express-permission" class="internalDFN"
                    id="ref-for-dfn-express-permission-4">明示的な許可</a>を与えていないか、存続期間が切れてリセットされた場合の状態です。
            </p>
        </section>
        <section id="permission-store">
            <div class="header-wrapper">
                <h3 id="x3-2-permission-store"><bdi class="secno">3.2 </bdi>
                    パーミッションストア
                </h3><a class="self-link" href="#permission-store" aria-label="Permalink for Section 3.2"></a>
            </div>

            <p>
                ユーザーエージェントは単一の<dfn class="export" data-export="" id="dfn-permission-store" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">パーミッションストア</dfn>を保持します。これは<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list">リスト</a>であり、<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-store-entry" class="internalDFN"
                    id="ref-for-dfn-permission-store-entry-1">パーミッションストアエントリ</a>の集まりです。各<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission-store-entry" class="internalDFN"
                    id="ref-for-dfn-permission-store-entry-2">エントリ</a>は、その<a data-link-type="dfn|abstract-op"
                    href="#dfn-descriptor" class="internalDFN" id="ref-for-dfn-descriptor-1">ディスクリプタ</a>と<a
                    data-link-type="dfn|abstract-op" href="#dfn-key" class="internalDFN"
                    id="ref-for-dfn-key-1">キー</a>によって識別され、このリストに最大1回のみ現れます。
            </p>
            <p>
                ユーザーエージェントは、<em class="rfc2119">任意</em>で、各<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-store-entry" class="internalDFN"
                    id="ref-for-dfn-permission-store-entry-3">エントリ</a>を<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-store" class="internalDFN"
                    id="ref-for-dfn-permission-store-1">パーミッションストア</a>から削除することができます。これは、それぞれの<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                    id="ref-for-dfn-permission-3">パーミッション</a>の<a data-link-type="dfn|abstract-op" href="#dfn-lifetime"
                    class="internalDFN" id="ref-for-dfn-lifetime-3">有効期間</a>が満了した場合に限ります。
            </p>
            <p>
                <dfn class="export" data-local-lt="entry" data-export="" data-lt="permission store entry|entry"
                    data-plurals="permission store entries|entries" id="dfn-permission-store-entry" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">パーミッションストアエントリ</dfn>とは、<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#tuple">タプル</a>であり、<a data-link-type="idl"
                    data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-1"><code>PermissionDescriptor</code></a><dfn class="export"
                    data-dfn-for="permission store entry" data-export="" id="dfn-descriptor" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">ディスクリプタ</dfn>、<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-key" class="internalDFN" id="ref-for-dfn-permission-key-1">パーミッションキー</a><dfn
                    class="export" data-dfn-for="permission store entry" data-export="" id="dfn-key" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">キー</dfn>、そして<a data-link-type="dfn|abstract-op"
                    href="#dfn-states" class="internalDFN" id="ref-for-dfn-states-3">状態</a><dfn class="export"
                    data-dfn-for="permission store entry" data-export="" id="dfn-state" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">状態</dfn>の組み合わせです。
            </p>
            <div class="algorithm">
                <p>
                    <dfn class="export" data-export="" id="dfn-get-a-permission-store-entry" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">パーミッションストアエントリを取得する</dfn>ためには、
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-2"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">descriptor</var> と <a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key" class="internalDFN" id="ref-for-dfn-permission-key-2">パーミッションキー</a>
                    <var>key</var> を与えられた場合、以下を実行します：
                </p>
                <ol>
                    <li>

                        ユーザーエージェントの<a data-link-type="dfn|abstract-op" href="#dfn-permission-store" class="internalDFN"
                            id="ref-for-dfn-permission-store-2">パーミッションストア</a>が、<a data-link-type="dfn|abstract-op"
                            href="#dfn-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-permission-store-entry-4">エントリ</a>を<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-contain">含む</a>場合、 その<a
                            data-link-type="dfn|abstract-op" href="#dfn-descriptor" class="internalDFN"
                            id="ref-for-dfn-descriptor-2">ディスクリプタ</a>が <var
                            data-type="PermissionDescriptor">descriptor</var> であり、 <a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-2">キー</a>が <a
                            data-link-type="dfn|abstract-op" href="#dfn-is-equal-to" class="internalDFN"
                            id="ref-for-dfn-is-equal-to-1">等しい</a> 場合（descriptorに基づく）、そのエントリを返します。
                    </li>
                    <li>nullを返します。
                    </li>
                </ol>
            </div>
            <div class="algorithm">
                <p>
                    <dfn class="export" data-export="" id="dfn-set-a-permission-store-entry" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">パーミッションストアエントリを設定する</dfn>ためには、
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-3"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">descriptor</var>、<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key" class="internalDFN" id="ref-for-dfn-permission-key-3">パーミッションキー</a>
                    <var>key</var>、
                    そして<a data-link-type="dfn|abstract-op" href="#dfn-states" class="internalDFN"
                        id="ref-for-dfn-states-4">状態</a> <var>state</var>が与えられた場合、次の手順を実行します：
                </p>
                <ol>
                    <li><var>newEntry</var>を新規の<a data-link-type="dfn|abstract-op" href="#dfn-permission-store-entry"
                            class="internalDFN" id="ref-for-dfn-permission-store-entry-5">パーミッションストアエントリ</a>とし、その<a
                            data-link-type="dfn|abstract-op" href="#dfn-descriptor" class="internalDFN"
                            id="ref-for-dfn-descriptor-3">ディスクリプタ</a>は <var
                            data-type="PermissionDescriptor">descriptor</var>、<a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-3">キー</a>は <var>key</var>、
                        <a data-link-type="dfn|abstract-op" href="#dfn-state" class="internalDFN"
                            id="ref-for-dfn-state-1">状態</a>は <var>state</var>であるものとします。
                    </li>
                    <li>ユーザーエージェントの<a data-link-type="dfn|abstract-op" href="#dfn-permission-store" class="internalDFN"
                            id="ref-for-dfn-permission-store-3">パーミッションストア</a>が、<a data-link-type="dfn|abstract-op"
                            href="#dfn-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-permission-store-entry-6">エントリ</a>を<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-contain">含む</a>場合、 その<a
                            data-link-type="dfn|abstract-op" href="#dfn-descriptor" class="internalDFN"
                            id="ref-for-dfn-descriptor-4">ディスクリプタ</a>が <var
                            data-type="PermissionDescriptor">descriptor</var> であり、<a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-4">キー</a>が <a
                            data-link-type="dfn|abstract-op" href="#dfn-is-equal-to" class="internalDFN"
                            id="ref-for-dfn-is-equal-to-2">等しい</a> 場合（descriptorに基づく）、そのエントリを <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-replace">newEntryで置き換えて</a>、これ以降の手順を中止します。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append">newEntryをユーザーエージェントのパーミッションストアに追加します</a>。
                    </li>
                </ol>
            </div>
            <div class="algorithm">
                <p>
                    <dfn class="export" data-export="" id="dfn-remove-a-permission-store-entry" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">パーミッションストアエントリを削除する</dfn>ためには、
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-4"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">descriptor</var> と <a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key" class="internalDFN" id="ref-for-dfn-permission-key-4">パーミッションキー</a>
                    <var>key</var> が与えられた場合、次の手順を実行します：
                </p>
                <ol>
                    <li><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-remove">ユーザーエージェントのパーミッションストアから、</a> <a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-permission-store-entry-7">エントリ</a>（<a data-link-type="dfn|abstract-op"
                            href="#dfn-descriptor" class="internalDFN" id="ref-for-dfn-descriptor-5">ディスクリプタ</a>が
                        <var data-type="PermissionDescriptor">descriptor</var>、<a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-5">キー</a>が <a
                            data-link-type="dfn|abstract-op" href="#dfn-is-equal-to" class="internalDFN"
                            id="ref-for-dfn-is-equal-to-3">等しい</a>
                        （descriptorに基づく）もの）を削除します。
                    </li>
                </ol>
            </div>
            <p>
                <dfn class="export" data-export="" data-plurals="permission keys" id="dfn-permission-key" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">パーミッションキー</dfn>は、各機能の<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-key-type" class="internalDFN"
                    id="ref-for-dfn-permission-key-type-1">パーミッションキー型</a>によって型が定義されます。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-1">
                <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>注</span></div>
                <aside class="">
                    パーミッションキーは、通常オリジン単位でパーミッションのスコープを定義します。
                    強力な機能は<a data-link-type="dfn|abstract-op" href="#dfn-permission-key-type" class="internalDFN"
                        id="ref-for-dfn-permission-key-type-2">パーミッションキー型</a>を上書きして、
                    カスタムパーミッションキーを指定できます。これは、埋め込みオリジンとトップレベルオリジンの両方でダブルキーするなど、追加のコンテキストに基づいて
                    パーミッションの粒度を変更したい機能に有用です。
                </aside>
            </div>
            <div class="algorithm">
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-5">パーミッションキー</a> <var>key1</var>が、<dfn class="export"
                        data-dfn-for="permission key" data-export="" id="dfn-is-equal-to" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">等しいかどうか</dfn>を判断するには、<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-6">パーミッションキー</a> <var>key2</var>、および
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-5"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">descriptor</var> が与えられた場合、次の手順を実行します：
                </p>
                <ol>
                    <li>もし<var>key1</var>が <var data-type="PermissionDescriptor">descriptor</var> の<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-key-type" class="internalDFN"
                            id="ref-for-dfn-permission-key-type-3">パーミッションキー型</a>でなければ、または
                        <var>key2</var>が <var data-type="PermissionDescriptor">descriptor</var> の<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-key-type" class="internalDFN"
                            id="ref-for-dfn-permission-key-type-4">パーミッションキー型</a>でなければ、falseを返します。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-permission-key-comparison-algorithm"
                            class="internalDFN"
                            id="ref-for-dfn-permission-key-comparison-algorithm-1">パーミッションキー比較アルゴリズム</a>を、<var
                            data-type="PermissionDescriptor">descriptor</var>の<a data-link-type="idl"
                            href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-1"><code>name</code></a>で指定された機能名に対して、<var>key1</var>と<var>key2</var>を渡して実行した結果を返します。
                    </li>
                </ol>
            </div>
        </section>
        <section id="powerful-features">
            <div class="header-wrapper">
                <h3 id="x3-3-powerful-features"><bdi class="secno">3.3 </bdi>
                    強力な機能
                </h3><a class="self-link" href="#powerful-features" aria-label="Permalink for Section 3.3"></a>
            </div>

            <p data-cite="permissions-policy">
                <dfn class="export" data-local-lt="feature" data-export="" data-lt="powerful feature|feature"
                    data-plurals="powerful features|features" id="dfn-powerful-feature" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">強力な機能</dfn>は、ユーザーが<a data-link-type="dfn|abstract-op"
                    href="#dfn-express-permission" class="internalDFN"
                    id="ref-for-dfn-express-permission-5">明示的な許可</a>を与えなければ利用できないWebプラットフォーム機能（通常はAPI）です。通知API現行標準など一部例外を除き、ほとんどの強力な機能は<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>でもあります。ポリシー制御機能でもある強力な機能については、[<cite><a
                        class="bibref" data-link-type="biblio" href="#bib-permissions-policy"
                        title="Permissions Policy">Permissions-Policy</a></cite>]が、<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-document">文書</a>が特定の機能を利用できるかどうかを制御します。つまり、強力な機能は、対応する<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>によって権限が委譲された場合にのみ、ユーザーから明示的な許可の要求が可能となります（下記例参照）。以降は、ユーザーが<a
                    data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                    id="ref-for-dfn-granted-3">"granted"</a>権限を持つか、権限付与と同等の条件を満たすことで機能利用が可能となります。
            </p>
            <aside class="example" id="example-powerful-features-are-policy-controlled-features">
                <div class="marker">
                    <a class="self-link" href="#example-powerful-features-are-policy-controlled-features">例<bdi>
                            4</bdi></a><span class="example-title">: 強力な機能はポリシー制御機能でもある</span>
                </div>
                <p>
                    この例は、<code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                    属性によって設定されたパーミッションポリシーが、<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>が強力な機能を<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">利用可能</a>かどうかを制御する方法を示しています。
                    <code>"geolocation"</code>が許可されているため、<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>のドキュメントはユーザーに
                    <cite><a data-matched-text="[[[Geolocation]]]"
                            href="https://www.w3.org/TR/geolocation/">Geolocation</a></cite>の使用権限をリクエストできます（つまり、ユーザーに位置情報へのアクセス許可を明示的に求めるダイアログが表示されます）。
                    しかし、他の機能の使用許可をリクエストしても、<code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>属性にリストされていないため、自動的に拒否されます。
                </p>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://example.com/"</span> <span class="hljs-attr">allow</span>=<span class="hljs-string">"geolocation"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
                <p>
                    詳細は<a href="#relationship-to-permissions-policy"
                        data-matched-text="[[[#relationship-to-permissions-policy]]]" class="sec-ref"><bdi
                            class="secno">A. </bdi>
                        Permissions Policy仕様との関係</a>を参照してください。
                </p>
            </aside>
            <p>
                <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-11">強力な機能</a>は文字列リテラル（例: "geolocation"）で表される<dfn class="export"
                    data-dfn-for="powerful feature" data-export="" id="dfn-name" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">名前</dfn>によって識別されます。
            </p>
            <p>
                ユーザーエージェントは、ユーザーがどの<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-12">強力な機能</a>の<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission" class="internalDFN" id="ref-for-dfn-permission-4">権限</a>を持つかを<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>で追跡します。
            </p>
            <section id="aspects">
                <div class="header-wrapper">
                    <h4 id="x3-3-1-aspects"><bdi class="secno">3.3.1 </bdi>
                        側面
                    </h4><a class="self-link" href="#aspects" aria-label="Permalink for Section 3.3.1"></a>
                </div>

                <p>
                    各<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-13">強力な機能</a>は、追加の<dfn data-dfn-for="powerful feature"
                        id="dfn-aspects" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">側面</dfn>を0個以上定義できます。側面はWebIDL<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-dictionary">辞書</a>として定義され、<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-inherit-dictionary">PermissionDescriptorの継承</a>を利用し、その機能の<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type" class="internalDFN"
                        id="ref-for-dfn-permission-descriptor-type-1">権限ディスクリプタ型</a>となります。
                </p>
                <aside class="example" id="example-defining-your-own-permission-descriptor-type">
                    <div class="marker">
                        <a class="self-link" href="#example-defining-your-own-permission-descriptor-type">例<bdi>
                                5</bdi></a><span class="example-title">: 独自の権限ディスクリプタ型の定義</span>
                    </div>
                    <p>
                        仮想的な<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-14">強力な機能</a>「food detector API」には、味覚と嗅覚の2つの<a
                            data-link-type="dfn|abstract-op" href="#dfn-aspects" class="internalDFN"
                            id="ref-for-dfn-aspects-1">側面</a>があります。仕様では、PermissionDescriptorを継承した新しいWebIDL辞書型を定義します:
                    </p>
                    <pre aria-busy="false"><code class="hljs yaml"><span class="hljs-attr">dictionary SensesPermissionDescriptor :</span> <span class="hljs-string">PermissionDescriptor</span> {
  <span class="hljs-string">boolean</span> <span class="hljs-string">canSmell</span> <span class="hljs-string">=</span> <span class="hljs-literal">false</span><span class="hljs-string">;</span>
  <span class="hljs-string">boolean</span> <span class="hljs-string">canTaste</span> <span class="hljs-string">=</span> <span class="hljs-literal">false</span><span class="hljs-string">;</span>
}<span class="hljs-string">;</span></code></pre>
                    <p>
                        APIでは次のようにクエリ可能です:
                    </p>
                    <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// "senses"強力な機能が嗅覚利用可能かチェック</span>
<span class="hljs-keyword">const</span> status = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"senses"</span>,
  <span class="hljs-attr">canSmell</span>: <span class="hljs-literal">true</span>,
});
<span class="hljs-comment">// statusで何か処理</span></code></pre>
                    <p>
                        ユーザーが"senses"強力な機能を味覚のみ許可した場合、上記の<a data-link-type="idl" data-lt="PermissionStatus"
                            href="#dom-permissionstatus" class="internalDFN"
                            id="ref-for-dom-permissionstatus-1"><code>PermissionStatus</code></a>の<a
                            data-link-type="idl" href="#dom-permissionstatus-state" class="internalDFN"
                            id="ref-for-dom-permissionstatus-state-1"><code>state</code></a>は"<a data-link-type="idl"
                            href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-1"><code>denied</code></a>" となります。
                    </p>
                </aside>
            </section>
        </section>
        <section id="permissions-task-source">
            <div class="header-wrapper">
                <h3 id="x3-4-permissions-task-source"><bdi class="secno">3.4 </bdi>
                    権限タスクソース
                </h3><a class="self-link" href="#permissions-task-source" aria-label="Permalink for Section 3.4"></a>
            </div>

            <p>
                <dfn id="dfn-permissions-task-source" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">権限タスクソース</dfn>は、この仕様で権限関連の<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task">タスク</a>を実行する際に利用される<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">タスクソース</a>です。
            </p>
        </section>
    </section>
    <section id="specifying-a-powerful-feature">
        <div class="header-wrapper">
            <h2 id="x4-specifying-a-powerful-feature"><bdi class="secno">4. </bdi>
                強力な機能の仕様化
            </h2><a class="self-link" href="#specifying-a-powerful-feature" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            適合する<a data-link-type="dfn|abstract-op" href="#dfn-specifications" class="internalDFN"
                id="ref-for-dfn-specifications-1">仕様</a>が<dfn class="export" data-export=""
                id="dfn-specifies-a-powerful-feature" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">強力な機能を仕様化する</dfn>場合、次を行う：
        </p>
        <ol>
            <li><em class="rfc2119">必須</em>：<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                    class="internalDFN" id="ref-for-dfn-powerful-feature-15">強力な機能</a>に<a
                    data-link-type="dfn|abstract-op" href="#dfn-name" class="internalDFN"
                    id="ref-for-dfn-name-1">名前</a>（<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#ascii-lowercase">ASCII小文字列</a>）を付与する。
            </li>
            <li><em class="rfc2119">任意</em>：<a data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type"
                    class="internalDFN" id="ref-for-dfn-permission-descriptor-type-2">権限ディスクリプタ型</a>（<a
                    data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                    class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-8"><code>PermissionDescriptor</code></a>を継承）を定義する。
            </li>
            <li><em class="rfc2119">任意</em>：<a data-link-type="dfn|abstract-op" href="#dfn-aspects" class="internalDFN"
                    id="ref-for-dfn-aspects-2">側面</a>を0個以上定義する。
            </li>
            <li><em class="rfc2119">任意</em>：特定の<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                    class="internalDFN" id="ref-for-dfn-powerful-feature-16">強力な機能</a>に適さない場合、以下のアルゴリズムや型を上書きできる。
            </li>
            <li><em class="rfc2119">必須</em>：<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                    class="internalDFN" id="ref-for-dfn-powerful-feature-17">強力な機能</a>を<cite><a
                        data-matched-text="[[[permissions-registry]]]"
                        href="https://w3c.github.io/permissions-registry/">Permissions Registry</a></cite>に登録する。
            </li>
        </ol>
        <p class="advisement">
            新たに仕様化された<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-18">強力な機能</a>を<cite><a data-matched-text="[[[permissions-registry]]]"
                    href="https://w3c.github.io/permissions-registry/">Permissions
                    Registry</a></cite>に登録することで、本作業グループがフィードバックを提供し、仕様との統合が適切に行われているか確認できます。
        </p>
        <dl>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-descriptor-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">権限ディスクリプタ型</dfn>：
            </dt>
            <dd>
                <p>
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-9"><code>PermissionDescriptor</code></a>またはそのサブタイプ。未指定の場合は
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-10"><code>PermissionDescriptor</code></a>となります。
                </p>
                <p>
                    機能はディスクリプタインスタンスに<a
                        href="https://en.wikipedia.org/wiki/Partially_ordered_set">部分順序</a>を定義できます。<var>descriptorA</var>が<dfn
                        class="export" data-dfn-for="PermissionDescriptor" data-export="" id="dfn-stronger-than"
                        tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">stronger
                        than（より強い）</dfn><var>descriptorB</var>の場合、<var>descriptorA</var>の
                    <a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-1">権限状態</a>が"<a data-link-type="idl"
                        href="#dom-permissionstate-granted" class="internalDFN"
                        id="ref-for-dom-permissionstate-granted-1"><code>granted</code></a>"なら、<var>descriptorB</var>の<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-2">権限状態</a>も"<a data-link-type="idl"
                        href="#dom-permissionstate-granted" class="internalDFN"
                        id="ref-for-dom-permissionstate-granted-2"><code>granted</code></a>"とし、<var>descriptorB</var>の<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-3">権限状態</a>が"<a data-link-type="idl"
                        href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-2"><code>denied</code></a>"なら、<var>descriptorA</var>の<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-4">権限状態</a>も
                    "<a data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-3"><code>denied</code></a>"でなければなりません。
                </p>
                <aside class="example" id="example-stronger-than">
                    <div class="marker">
                        <a class="self-link" href="#example-stronger-than">例<bdi> 6</bdi></a><span
                            class="example-title">: 部分順序を定義する権限ディスクリプタ</span>
                    </div>
                    <p>
                        <code>{name: "midi", sysex: true}</code>（"midi-with-sysex"）は
                        <a data-link-type="dfn|abstract-op" href="#dfn-stronger-than" class="internalDFN"
                            id="ref-for-dfn-stronger-than-1">stronger than</a> <code>{name: "midi", sysex: false}</code>
                        （"midi-without-sysex"）となるため、ユーザーがmidi-without-sysexを拒否した場合、UAはmidi-with-sysexも拒否する必要があり、逆にmidi-with-sysexを許可した場合、ユーザーエージェントはmidi-without-sysexも許可しなければなりません。
                    </p>
                </aside>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-state-constraints"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">権限状態の制約</dfn>：
            </dt>
            <dd>
                ユーザーエージェントがディスクリプタの<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                    id="ref-for-dfn-permission-state-5">権限状態</a>として返せる値の制約。デフォルトはユーザーの意図以外の制約なし。
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-extra-permission-data-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">追加権限データ型</dfn>：
            </dt>
            <dd>
                <p>
                    一部の<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-19">強力な機能</a>には、<a data-link-type="idl"
                        data-lt="PermissionState" href="#dom-permissionstate" class="internalDFN"
                        id="ref-for-dom-permissionstate-1"><code>PermissionState</code></a>以外に追加情報が関連付けられています。各機能は<a
                        data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data-type" class="internalDFN"
                        id="ref-for-dfn-extra-permission-data-type-1">追加権限データ型</a>を定義します。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-2">
                    <div role="heading" class="note-title marker" id="h-note-2" aria-level="3"><span>注</span></div>
                    <p class="" data-cite="mediacapture-streams ECMAScript">
                        例えば、<a data-link-type="method" data-lt="getUserMedia()"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>は、ユーザーがどのカメラの利用を許可したか判定する必要があります。
                    </p>
                </div>
                <div class="algorithm">
                    <p>
                        <a data-link-type="interface" data-lt="DOMString"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                        <var>name</var>がこれらの機能の一つの場合、<var>name</var>の
                        <dfn data-dfn-for="powerful feature" class="export" data-export=""
                            id="dfn-extra-permission-data" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">追加権限データ</dfn>（任意の<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>
                        <var>settings</var>）は次のアルゴリズムで得られる：
                    </p>
                    <ol>
                        <li><var>settings</var>が未指定なら、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">現在の設定オブジェクト</a>にする。
                        </li>
                        <li>同じ<var>name</var>と<var>settings</var>で以前呼び出した結果<var>previousResult</var>があり、以降ユーザー意図の新情報がなければ<var>previousResult</var>を返す。
                        </li>
                        <li>UAのユーザー意図および<var>name</var>の<a data-link-type="dfn|abstract-op"
                                href="#dfn-extra-permission-data-constraints" class="internalDFN"
                                id="ref-for-dfn-extra-permission-data-constraints-1">追加権限データ制約</a>も考慮し、<var>name</var>の<a
                                data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data-type"
                                class="internalDFN" id="ref-for-dfn-extra-permission-data-type-2">追加権限データ型</a>インスタンスを返す。
                        </li>
                    </ol>
                </div>
                <p>
                    指定されていれば、この機能の<a data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data"
                        class="internalDFN" id="ref-for-dfn-extra-permission-data-1">追加権限データ</a>アルゴリズムが利用可能です。
                </p>
            </dd>
            <dt>
                任意の<dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-extra-permission-data-constraints" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">追加権限データ制約</dfn>：
            </dt>
            <dd>
                ユーザーエージェントが<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-20">強力な機能</a>の
                <a data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data" class="internalDFN"
                    id="ref-for-dfn-extra-permission-data-2">追加権限データ</a>として返せる値の制約。デフォルトはユーザー意図以外の制約なし。
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-result-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">権限結果型</dfn>：
            </dt>
            <dd>
                <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus" class="internalDFN"
                    id="ref-for-dom-permissionstatus-2"><code>PermissionStatus</code></a>またはそのサブタイプ。未指定の場合は
                <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus" class="internalDFN"
                    id="ref-for-dom-permissionstatus-3"><code>PermissionStatus</code></a>となります。
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-query-algorithm"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">権限クエリアルゴリズム</dfn>：
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type" class="internalDFN"
                        id="ref-for-dfn-permission-descriptor-type-3">権限ディスクリプタ型</a>インスタンスと、新規または既存の<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-result-type" class="internalDFN"
                        id="ref-for-dfn-permission-result-type-1">権限結果型</a>インスタンスを受け取り、クエリ結果で権限結果型インスタンスを更新する。<a
                        data-link-type="idl" data-lt="Permissions" href="#dom-permissions" class="internalDFN"
                        id="ref-for-dom-permissions-1"><code>Permissions</code></a>の<a data-link-type="idl"
                        data-lt="query(permissionDesc)" href="#dom-permissions-query" class="internalDFN"
                        id="ref-for-dom-permissions-query-1"><code>query</code></a><code>(<var>permissionDesc</var>)</code>メソッドや
                    <a data-link-type="dfn|abstract-op" href="#dfn-permissionstatus-update-steps" class="internalDFN"
                        id="ref-for-dfn-permissionstatus-update-steps-1"><code>PermissionStatus</code>更新手順</a>で利用。未指定の場合は<a
                        data-link-type="dfn|abstract-op" href="#dfn-default-permission-query-algorithm"
                        class="internalDFN"
                        id="ref-for-dfn-default-permission-query-algorithm-1">デフォルト権限クエリアルゴリズム</a>となる。
                </p>
                <div class="algorithm">
                    <p>
                        <dfn data-export="" id="dfn-default-permission-query-algorithm" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">デフォルト権限クエリアルゴリズム</dfn>は、
                        <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                            class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-11"><code>PermissionDescriptor</code></a>
                        <var>permissionDesc</var>と<a data-link-type="idl" data-lt="PermissionStatus"
                            href="#dom-permissionstatus" class="internalDFN"
                            id="ref-for-dom-permissionstatus-4"><code>PermissionStatus</code></a>
                        <var>status</var>を受け取り、次の手順を実行：
                    </p>
                    <ol>
                        <li><code><var>status</var></code>の<a data-link-type="idl" href="#dom-permissionstatus-state"
                                class="internalDFN"
                                id="ref-for-dom-permissionstatus-state-2"><code>state</code></a>に<var>permissionDesc</var>の<a
                                href="#dfn-permission-state" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-permission-state-6">
                                権限状態</a>を設定する。
                        </li>
                    </ol>
                </div>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-key-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">権限キー型</dfn>：
            </dt>
            <dd>
                <p>
                    機能が使用する<a data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-7">権限キー</a>の型。デフォルトは<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">origin</a>。独自の<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-key-type" class="internalDFN"
                        id="ref-for-dfn-permission-key-type-5">権限キー型</a>を指定する場合は、
                    <a data-link-type="dfn|abstract-op" href="#dfn-permission-key-generation-algorithm"
                        class="internalDFN" id="ref-for-dfn-permission-key-generation-algorithm-1">権限キー生成アルゴリズム</a>も<em
                        class="rfc2119">必須</em>です。
                </p>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-permission-key-generation-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">権限キー生成アルゴリズム</dfn>：
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>を受け取り、新しい<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-8">権限キー</a>を返します。未指定の場合、<a data-link-type="dfn|abstract-op"
                        href="#dfn-default-permission-key-generation-algorithm" class="internalDFN"
                        id="ref-for-dfn-default-permission-key-generation-algorithm-1">デフォルト権限キー生成アルゴリズム</a>になります。独自アルゴリズム指定時は<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-key-comparison-algorithm"
                        class="internalDFN" id="ref-for-dfn-permission-key-comparison-algorithm-2">権限キー比較アルゴリズム</a>も<em
                        class="rfc2119">必須</em>です。
                </p>
                <div class="algorithm">
                    <p>
                        <dfn class="export" data-export="" id="dfn-default-permission-key-generation-algorithm"
                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">デフォルト権限キー生成アルゴリズム</dfn>は、
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>
                        <var>settings</var>を受け取り、以下の手順を実行します：
                    </p>
                    <ol>
                        <li><var>settings</var>の<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin">トップレベルオリジン</a>を返します。
                        </li>
                    </ol>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-3">
                    <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>注</span><span
                            class="issue-label">: 権限委譲</span></div>
                    <aside class="">
                        多くの強力な機能はトップレベルオリジンで権限を付与し、<cite><a data-matched-text="[[[Permissions-Policy]]]"
                                href="https://www.w3.org/TR/permissions-policy-1/">Permissions
                                Policy</a></cite>によってリクエスト文書にアクセス権を委譲します。これが権限委譲です。
                    </aside>
                </div>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-permission-key-comparison-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">権限キー比較アルゴリズム</dfn>：
            </dt>
            <dd>
                <p>
                    2つの<a data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-9">権限キー</a>を受け取り、両者が等価かどうかの<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#boolean">真偽値</a>を返します。未指定の場合、<a
                        data-link-type="dfn|abstract-op" href="#dfn-default-permission-key-comparison-algorithm"
                        class="internalDFN"
                        id="ref-for-dfn-default-permission-key-comparison-algorithm-1">デフォルト権限キー比較アルゴリズム</a>となります。
                </p>
                <div class="algorithm">
                    <p>
                        <dfn class="export" data-export="" id="dfn-default-permission-key-comparison-algorithm"
                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">デフォルト権限キー比較アルゴリズム</dfn>は、
                        <a data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                            id="ref-for-dfn-permission-key-10">権限キー</a> <var>key1</var>,
                        <var>key2</var>を受け取り、次の手順を実行します：
                    </p>
                    <ol>
                        <li><var>key1</var>が<var>key2</var>と<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">同一オリジン</a>ならtrueを返します。
                        </li>
                    </ol>
                </div>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-permission-revocation-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">権限取り消しアルゴリズム</dfn>：
            </dt>
            <dd>
                <p>
                    引数なし。<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-7">権限状態</a>や<a data-link-type="dfn|abstract-op"
                        href="#dfn-extra-permission-data" class="internalDFN"
                        id="ref-for-dfn-extra-permission-data-3">追加権限データ</a>の変更結果と同期すべき実装の他部分を更新します。
                </p>
                <p>
                    未指定の場合、<a data-link-type="dfn|abstract-op" href="#dfn-react-to-the-user-revoking-permission"
                        class="internalDFN"
                        id="ref-for-dfn-react-to-the-user-revoking-permission-1">権限取り消しへの反応</a>を実行します。
                </p>
            </dd>
            <dt>
                権限の<a data-link-type="dfn|abstract-op" href="#dfn-lifetime" class="internalDFN"
                    id="ref-for-dfn-lifetime-4">存続期間</a>：
            </dt>
            <dd>
                <p>
                    複数の<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-21">強力な機能</a>を定義する仕様は、各機能に最適な<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                        id="ref-for-dfn-permission-5">権限</a>の<a data-link-type="dfn|abstract-op" href="#dfn-lifetime"
                        class="internalDFN" id="ref-for-dfn-lifetime-5">存続期間</a>の提案が<em
                        class="rfc2119">望ましい</em>です（推奨）。期間決定の指針は下記注記参照（ユーザープライバシー重視）。未指定の場合はユーザーエージェントが期間を提供します。
                </p>
                <p>
                    オリジンの権限<a data-link-type="dfn|abstract-op" href="#dfn-lifetime" class="internalDFN"
                        id="ref-for-dfn-lifetime-7">存続期間</a>が切れた場合：
                </p>
                <ol>
                    <li>権限をデフォルトの<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                            id="ref-for-dfn-permission-state-8">権限状態</a>（例：<a data-link-type="dfn|abstract-op"
                            href="#dfn-prompt" class="internalDFN" id="ref-for-dfn-prompt-2">"prompt"</a>）に戻す。
                    </li>
                    <li>当該オリジンの各<var>browsing context</var>（存在すれば）について、<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                            data-link-type="dfn|abstract-op" href="#dfn-permissions-task-source" class="internalDFN"
                            id="ref-for-dfn-permissions-task-source-1">権限タスクソース</a>で<var>browsing context</var>の<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object">グローバルオブジェクト</a>に<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-revocation-algorithm"
                            class="internalDFN"
                            id="ref-for-dfn-permission-revocation-algorithm-1">権限取り消しアルゴリズム</a>を実行する。
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-4">
                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="3"><span>注</span><span
                            class="issue-label">: 権限存続期間の決定</span></div>
                    <aside class="">
                        <p>
                            特にプライバシー感度の高い<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                                class="internalDFN" id="ref-for-dfn-powerful-feature-22">強力な機能</a>（例：<cite><a
                                    data-matched-text="[[[GETUSERMEDIA]]]"
                                    href="https://www.w3.org/TR/mediacapture-streams/">Media Capture and
                                    Streams</a></cite>）は、ユーザーのカメラやマイクへのアクセスをウェブアプリに許可できるため、一部UAは権限<a
                                data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                                id="ref-for-dfn-granted-5">付与</a>をブラウザタブの閉じるまたは
                            <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate">ナビゲーション</a>時に即座に失効させます。他の機能（<cite><a
                                    data-matched-text="[[[Geolocation]]]"
                                    href="https://www.w3.org/TR/geolocation/">Geolocation</a></cite>など）は、UAがセッション限定や1日限定など選択肢を提供します。一方、<cite><a
                                    data-matched-text="[[[Notifications]]]"
                                    href="https://notifications.spec.whatwg.org/">Notifications
                                    API現行標準</a></cite>や<cite><a data-matched-text="[[[push-api]]]"
                                    href="https://www.w3.org/TR/push-api/">Push
                                    API</a></cite>はユーザーの決定を無期限または手動取り消しまで記憶します。権限<a data-link-type="dfn|abstract-op"
                                href="#dfn-lifetime" class="internalDFN"
                                id="ref-for-dfn-lifetime-8">存続期間</a>はUAごとに大きく異なります。
                        </p>
                        <p>
                            権限存続期間の最適化には慎重な検討・実験が必要で、多くの場合数年かけて進化します。実装者はUXセキュリティチームと協力し、<a
                                data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-23">強力な機能</a>のアクセス容易性（権限プロンプト回数削減）、ユーザープライバシー尊重、特定機能利用時の通知（UIインジケーター等）のバランスを見極めることが推奨されます。
                        </p>
                        <p>
                            <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-24">強力な機能</a>の<a data-link-type="dfn|abstract-op"
                                href="#dfn-lifetime" class="internalDFN"
                                id="ref-for-dfn-lifetime-9">存続期間</a>提案に迷った場合は、<a
                                href="https://www.w3.org/Privacy/IG/">Privacy Interest Group</a>にご相談ください。
                        </p>
                    </aside>
                </div>
            </dd>
            <dt>
                <dfn class="export" data-dfn-for="powerful feature" data-export="" id="dfn-default-permission-state"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">デフォルト権限状態</dfn>：
            </dt>
            <dd>
                <p>
                    <a data-link-type="idl" data-lt="PermissionState" href="#dom-permissionstate" class="internalDFN"
                        id="ref-for-dom-permissionstate-2"><code>PermissionState</code></a>値。<a
                        data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-25">強力な機能</a>の<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission" class="internalDFN" id="ref-for-dfn-permission-6">権限</a>の<a
                        data-link-type="dfn|abstract-op" href="#dfn-default-state" class="internalDFN"
                        id="ref-for-dfn-default-state-2">デフォルト状態</a>。
                </p>
                <p>
                    未指定時は<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                        id="ref-for-dfn-permission-7">権限</a>の<a data-link-type="dfn|abstract-op"
                        href="#dfn-default-state" class="internalDFN" id="ref-for-dfn-default-state-3">デフォルト状態</a>は
                    "<a data-link-type="idl" href="#dom-permissionstate-prompt" class="internalDFN"
                        id="ref-for-dom-permissionstate-prompt-1"><code>prompt</code></a>"。
                </p>
            </dd>
        </dl>
        <p>
            <dfn class="export" data-export="" id="dfn-default-powerful-feature" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">デフォルト強力な機能</dfn>は、上記すべての型・アルゴリズムがデフォルト値である<a data-link-type="dfn|abstract-op"
                href="#dfn-powerful-feature" class="internalDFN" id="ref-for-dfn-powerful-feature-26">強力な機能</a>である。
        </p>
    </section>
    <section id="algorithms-to-interface-with-permissions">
        <div class="header-wrapper">
            <h2 id="x5-algorithms-to-interface-with-permissions"><bdi class="secno">5. </bdi>
                権限インターフェイス用アルゴリズム
            </h2><a class="self-link" href="#algorithms-to-interface-with-permissions"
                aria-label="Permalink for Section 5."></a>
        </div>

        <section data-cite="permissions-policy" id="reading-the-current-permission-state">
            <div class="header-wrapper">
                <h3 id="reading-current-states"><bdi class="secno">5.1 </bdi>
                    現在の権限状態の読み取り
                </h3><a class="self-link" href="#reading-current-states" aria-label="Permalink for Section 5.1"></a>
            </div>

            <div class="algorithm">
                <p>
                    <dfn class="export" data-lt="getting the current permission state|get the current permission state"
                        data-export="" id="dfn-getting-the-current-permission-state" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">現在の権限状態を取得する</dfn>には、<a data-link-type="dfn|abstract-op" href="#dfn-name"
                        class="internalDFN" id="ref-for-dfn-name-2">name</a> <var>name</var>と任意の
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>
                    <var>settings</var>を受け取り、以下の手順を実行する。このアルゴリズムは<a data-link-type="idl" data-lt="PermissionState"
                        href="#dom-permissionstate" class="internalDFN"
                        id="ref-for-dom-permissionstate-3"><code>PermissionState</code></a>列挙値を返す。
                </p>
                <ol>
                    <li><var data-type="PermissionDescriptor">descriptor</var>を新規作成し、<a data-link-type="idl"
                            data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-12"><code>PermissionDescriptor</code></a>
                        の<a data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-2"><code>name</code></a>を<var>name</var>で初期化する。
                    </li>
                    <li><var data-type="PermissionDescriptor">descriptor</var>の<var>settings</var>付き<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                            id="ref-for-dfn-permission-state-9">権限状態</a>を返す。
                    </li>
                </ol>
            </div>
            <div class="algorithm">
                <p>
                    <var data-type="PermissionDescriptor">descriptor</var>の<dfn class="export" data-export=""
                        data-plurals="permission states" id="dfn-permission-state" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">権限状態</dfn>は、任意の
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>
                    <var>settings</var>を受け取り、以下のアルゴリズムを実行する。<a data-link-type="idl" data-lt="PermissionState"
                        href="#dom-permissionstate" class="internalDFN"
                        id="ref-for-dom-permissionstate-4"><code>PermissionState</code></a>列挙値を返す:
                </p>
                <ol>
                    <li><var>settings</var>が未指定なら、<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">現在の設定オブジェクト</a>にする。
                    </li>
                    <li><var>settings</var>が<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context">非セキュアコンテキスト</a>なら、"<a
                            data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-4"><code>denied</code></a>"を返す。
                    </li>
                    <li><var>feature</var>を<var data-type="PermissionDescriptor">descriptor</var>の<a
                            data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-3"><code>name</code></a>とする。
                    </li>
                    <li class="algorithm">もし<var>feature</var>に対応する<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>が存在し、<var>settings</var>の<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>が<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">関連<code>Document</code></a>を持つ場合、以下を実行:
                        <ol>
                            <li><var>document</var>を<var>settings</var>の<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>の
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">関連<code>Document</code></a>とする。
                            </li>
                            <li><var>document</var>が<var>feature</var>の<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">利用許可</a>されていなければ、
                                "<a data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                                    id="ref-for-dom-permissionstate-denied-5"><code>denied</code></a>"を返す。
                            </li>
                        </ol>
                    </li>
                    <li><var>key</var>を<var data-type="PermissionDescriptor">descriptor</var>と<var>settings</var>で<a
                            data-link-type="dfn|abstract-op" data-lt="permission key generation algorithm"
                            href="#dfn-permission-key-generation-algorithm" class="internalDFN"
                            id="ref-for-dfn-permission-key-generation-algorithm-3">権限キー生成アルゴリズム</a>の結果とする。
                    </li>
                    <li><var>entry</var>を<var data-type="PermissionDescriptor">descriptor</var>と<var>key</var>で<a
                            data-link-type="dfn|abstract-op" data-lt="get a permission store entry"
                            href="#dfn-get-a-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-get-a-permission-store-entry-1">権限ストアエントリ取得</a>の結果とする。
                    </li>
                    <li><var>entry</var>がnullでなければ、<var>entry</var>の<a data-link-type="dfn|abstract-op"
                            href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-2">state</a>から<a
                            data-link-type="idl" data-lt="PermissionState" href="#dom-permissionstate"
                            class="internalDFN"
                            id="ref-for-dom-permissionstate-5"><code>PermissionState</code></a>列挙値を返す。
                    </li>
                    <li><var>feature</var>の権限状態を表す<a data-link-type="idl" data-lt="PermissionState"
                            href="#dom-permissionstate" class="internalDFN"
                            id="ref-for-dom-permissionstate-6"><code>PermissionState</code></a>列挙値を、<var
                            data-type="PermissionDescriptor">descriptor</var>の<a data-link-type="idl"
                            href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-4"><code>name</code></a>の<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-state-constraints"
                            class="internalDFN" id="ref-for-dfn-permission-state-constraints-1">権限状態制約</a>も考慮して返す。
                    </li>
                </ol>
            </div>
            <p>
                簡易表現として、<a data-link-type="interface" data-lt="DOMString"
                    href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a> <var>name</var>の<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                    id="ref-for-dfn-permission-state-10">権限状態</a>は、<a data-link-type="idl"
                    data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-13"><code>PermissionDescriptor</code></a>の<a
                    data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-name-5"><code>name</code></a>に<var>name</var>を設定したものの<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                    id="ref-for-dfn-permission-state-11">権限状態</a>である。
            </p>
        </section>
        <section id="requesting-permission-to-use-a-powerful-feature">
            <div class="header-wrapper">
                <h3 id="requesting-more-permission"><bdi class="secno">5.2 </bdi>
                    強力な機能の権限要求
                </h3><a class="self-link" href="#requesting-more-permission" aria-label="Permalink for Section 5.2"></a>
            </div>

            <div class="algorithm">
                <p>
                    <var data-type="PermissionDescriptor">descriptor</var>に対して<dfn
                        data-lt="request permission to use|requesting permission to use" class="export" data-export=""
                        id="dfn-request-permission-to-use" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">利用権限を要求する</dfn>には、UAは以下の手順を実行する。このアルゴリズムは"<a data-link-type="idl"
                        href="#dom-permissionstate-granted" class="internalDFN"
                        id="ref-for-dom-permissionstate-granted-3"><code>granted</code></a>"または"<a data-link-type="idl"
                        href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-6"><code>denied</code></a>"を返す。
                </p>
                <ol>
                    <li><var>current state</var>を<var data-type="PermissionDescriptor">descriptor</var>の<a
                            href="#dfn-permission-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-permission-state-12">権限状態</a>とする。
                    </li>
                    <li><var>current state</var>が"<a data-link-type="idl" href="#dom-permissionstate-prompt"
                            class="internalDFN" id="ref-for-dom-permissionstate-prompt-2"><code>prompt</code></a>"でなければ、
                        <var>current state</var>を返し、以降の手順を中止する。
                    </li>
                    <li>呼び出しアルゴリズムが利用する<a href="#dfn-powerful-feature" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-powerful-feature-27">強力な機能</a>について、ユーザーに<a href="#dfn-express-permission"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-express-permission-7">明示的な許可</a>を求める。
                    </li>
                    <li>ユーザーが強力な機能利用を<a data-link-type="dfn|abstract-op" href="#dfn-express-permission"
                            class="internalDFN" id="ref-for-dfn-express-permission-8">明示的に許可</a>すれば、<var>current
                            state</var>を"<a data-link-type="idl" href="#dom-permissionstate-granted" class="internalDFN"
                            id="ref-for-dom-permissionstate-granted-4"><code>granted</code></a>"に、そうでなければ"<a
                            data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-7"><code>denied</code></a>"にする。ユーザー操作によって<a
                            href="#dfn-new-information-about-the-user-s-intent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-new-information-about-the-user-s-intent-2">ユーザー意図の新情報</a>が得られる場合がある。
                        <div class="note" role="note" id="issue-container-generatedID-5">
                            <div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>注</span>
                            </div>
                            <p class="">
                                権限UIやUAがユーザー意図をどう推定するかの詳細はあえて曖昧にしている。この枠組みの中で様々なUIをUAが試せるようにしている。
                            </p>
                        </div>
                    </li>
                    <li><var>key</var>を<a data-link-type="dfn|abstract-op" data-lt="permission key generation algorithm"
                            href="#dfn-permission-key-generation-algorithm" class="internalDFN"
                            id="ref-for-dfn-permission-key-generation-algorithm-4">権限キー生成アルゴリズム</a>で<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">現在の設定オブジェクト</a>を使って生成する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクキュー</a>で、<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">現在の設定オブジェクト</a>の<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop">責任イベントループ</a>上で、<a
                            data-link-type="dfn|abstract-op" href="#dfn-set-a-permission-store-entry"
                            class="internalDFN" id="ref-for-dfn-set-a-permission-store-entry-1">権限ストアエントリ設定</a>を<var
                            data-type="PermissionDescriptor">descriptor</var>、<var>key</var>、<var>current
                            state</var>で実行する。
                    </li>
                    <li><var>current state</var>を返す。
                    </li>
                </ol>
            </div>
            <p>
                簡略表記として、<a data-link-type="dfn|abstract-op" href="#dfn-request-permission-to-use" class="internalDFN"
                    id="ref-for-dfn-request-permission-to-use-1">利用許可をリクエストする</a>際に、<a data-link-type="interface"
                    data-lt="DOMString" href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                <var>name</var>を指定することは、
                <a data-link-type="dfn|abstract-op" href="#dfn-request-permission-to-use" class="internalDFN"
                    id="ref-for-dfn-request-permission-to-use-2">利用許可をリクエストする</a>ために、<a data-link-type="idl"
                    data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-14"><code>PermissionDescriptor</code></a>の
                <a data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-name-6"><code>name</code></a>メンバーに<var>name</var>を設定したものと同じ意味となります。
            </p>
        </section>
        <section id="prompt-the-user-to-choose">
            <div class="header-wrapper">
                <h3 id="x5-3-prompt-the-user-to-choose"><bdi class="secno">5.3 </bdi>
                    ユーザーへの選択プロンプト
                </h3><a class="self-link" href="#prompt-the-user-to-choose" aria-label="Permalink for Section 5.3"></a>
            </div>

            <div class="algorithm">
                <p>
                    <dfn data-lt="prompt the user to choose|prompting the user to choose" class="export" data-export=""
                        id="dfn-prompt-the-user-to-choose" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">ユーザーへの選択プロンプト</dfn>は、<var>options</var>（<var
                        data-type="PermissionDescriptor">descriptor</var>に関連付け）と、任意の<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#boolean">boolean</a>
                    <var data-type="boolean">allowMultiple</var>（デフォルトfalse）を受け、UAは以下の手順を実行する。このアルゴリズムは"<a
                        data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-8"><code>denied</code></a>"またはユーザーの選択を返す。
                </p>
                <ol>
                    <li><var data-type="PermissionDescriptor">descriptor</var>の<a href="#dfn-permission-state"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-permission-state-13">権限状態</a>が"<a
                            data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-9"><code>denied</code></a>"なら、
                        "<a data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-10"><code>denied</code></a>"を返し、以降の手順を中止する。
                    </li>
                    <li><var data-type="PermissionDescriptor">descriptor</var>の<a href="#dfn-permission-state"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-permission-state-14">権限状態</a>が"<a
                            data-link-type="idl" href="#dom-permissionstate-granted" class="internalDFN"
                            id="ref-for-dom-permissionstate-granted-5"><code>granted</code></a>"なら、
                        UAは<var>options</var>の中からユーザーが選択した1つ（<var
                            data-type="boolean">allowMultiple</var>がtrueなら複数）の値を返し、以降の手順を中止できる。プロンプトせずに返した場合、同じ選択肢・同じ<var
                            data-type="PermissionDescriptor">descriptor</var>で再度プロンプトした場合も同じ選択肢を返さなければならない（ただしユーザー意図の新情報取得時を除く）。
                    </li>
                    <li>ユーザーに1つ以上の<var>options</var>の選択か権限拒否を求め、選択を待つ:
                        <ol>
                            <li>呼び出しアルゴリズムがプロンプトに追加情報を指定した場合、それを含める。
                            </li>
                            <li><var
                                    data-type="boolean">allowMultiple</var>がfalseなら、<var>options</var>から1つのみ選択可能；trueなら複数選択可能。
                            </li>
                        </ol>
                    </li>
                    <li>ユーザーが1つ以上選択したらそれを返す。選択しなければ"<a data-link-type="idl" href="#dom-permissionstate-denied"
                            class="internalDFN" id="ref-for-dom-permissionstate-denied-11"><code>denied</code></a>"を返す。
                        <div class="note" role="note" id="issue-container-generatedID-6">
                            <div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>注</span>
                            </div>
                            <p class="">
                                権限UIやUAがユーザー意図をどう推定するかの詳細はあえて曖昧にしている。この枠組みの中で様々なUI（例：プロンプトがタイムアウトして自動的に"denied"を返すなど）をUAが試せるようにしている。
                            </p>
                        </div>
                    </li>
                </ol>
            </div>
            <p>
                簡易表現として、<a data-link-type="dfn|abstract-op" href="#dfn-prompt-the-user-to-choose" class="internalDFN"
                    id="ref-for-dfn-prompt-the-user-to-choose-2">ユーザーへの選択プロンプト</a>を<a data-link-type="interface"
                    data-lt="DOMString" href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                <var>name</var>の選択肢で行う場合は、
                <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                    class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-15"><code>PermissionDescriptor</code></a>の<a
                    data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-name-7"><code>name</code></a>に<var>name</var>を設定したものの選択肢で行うことと同じ。
            </p>
        </section>
        <section id="reacting-to-users-revoking-permission">
            <div class="header-wrapper">
                <h3 id="reacting-to-revocation"><bdi class="secno">5.4 </bdi>
                    権限の取り消しへの対応
                </h3><a class="self-link" href="#reacting-to-revocation" aria-label="Permalink for Section 5.4"></a>
            </div>

            <div class="algorithm">
                <p>
                    UAが、ユーザーが<var>descriptor</var>（<a data-link-type="idl" data-lt="PermissionDescriptor"
                        href="#dom-permissiondescriptor" class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-16"><code>PermissionDescriptor</code></a>）で記述された機能の権限付与をもはや望まなくなったことを知った場合、<a
                        id="dfn-react-to-the-user-revoking-permission" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">権限取り消しへの反応</a>として以下を実行する:
                </p>
                <ol>
                    <li><var>descriptor</var>の<a data-link-type="idl" href="#dom-permissiondescriptor-name"
                            class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-8"><code>name</code></a>に対応する<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-revocation-algorithm"
                            class="internalDFN"
                            id="ref-for-dfn-permission-revocation-algorithm-2">権限取り消しアルゴリズム</a>を実行する。
                    </li>
                    <li><var>descriptor</var>と<var>key</var>で<a data-link-type="dfn|abstract-op"
                            href="#dfn-remove-a-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-remove-a-permission-store-entry-1">権限ストアエントリ削除</a>を実行する。
                    </li>
                </ol>
            </div>
        </section>
    </section>
    <section id="permissions-api">
        <div class="header-wrapper">
            <h2 id="x6-permissions-api"><bdi class="secno">6. </bdi>
                権限API
            </h2><a class="self-link" href="#permissions-api" aria-label="Permalink for Section 6."></a>
        </div>

        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for permissions"><span>MDN</span><span
                        title="この機能は全主要エンジンで利用可能です。">✅</span></summary>
                <a title="Navigator.permissions 読み取り専用プロパティは、Permissions APIによりカバーされるAPIの権限状態をクエリ・更新するためのPermissionsオブジェクトを返します。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/permissions">Navigator/permissions</a>
                <p class="engines-all">この機能は全主要エンジンで利用可能です。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43以上</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>46以上</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16以上</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>不可</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary aria-label="Expand MDN details for permissions"><span>MDN</span><span> </span></summary>
                <a title="WorkerNavigator.permissions 読み取り専用プロパティは、Permissions APIによりカバーされるAPIの権限状態をクエリ・更新するためのPermissionsオブジェクトを返します。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/WorkerNavigator/permissions">WorkerNavigator/permissions</a>

                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43以上</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox no">
                        <td>Firefox</td>
                        <td>不可</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16.4以上</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>不可</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="extensions-to-the-navigator-and-workernavigator-interfaces">
            <div class="header-wrapper">
                <h3 id="navigator-and-workernavigator-extension"><bdi class="secno">6.1 </bdi>
                    <code>Navigator</code>および<code>WorkerNavigator</code>インターフェイスへの拡張
                </h3><a class="self-link" href="#navigator-and-workernavigator-extension"
                    aria-label="Permalink for Section 6.1"></a>
            </div>

            <pre class="idl def" id="webidl-2112232240"><span class="idlHeader"><a class="self-link" href="#webidl-2112232240">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-permissions" data-title="permissions" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-2"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-navigator-permissions" data-idl="attribute" data-title="permissions" data-dfn-for="Navigator" data-type="Permissions" data-lt="permissions" data-local-lt="Navigator.permissions" class="idlName" tabindex="0" aria-haspopup="dialog"><code>permissions</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-workernavigator-partial-1" data-title="WorkerNavigator">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Worker)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="WorkerNavigator" class="idlID" data-dfn-for="WorkerNavigator" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator">WorkerNavigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-workernavigator-permissions" data-title="permissions" data-dfn-for="WorkerNavigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-3"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-workernavigator-permissions" data-idl="attribute" data-title="permissions" data-dfn-for="WorkerNavigator" data-type="Permissions" data-lt="permissions" data-local-lt="WorkerNavigator.permissions" class="idlName" tabindex="0" aria-haspopup="dialog"><code>permissions</code></dfn>;</span>
};</span></code></pre>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for Permissions"><span>MDN</span><span
                        title="この機能は全主要エンジンで利用可能です。">✅</span></summary>
                <a title="Permissions インターフェイスは、クエリや権限の取り消しなど、Permission APIのコア機能を提供します。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions">Permissions</a>
                <p class="engines-all">この機能は全主要エンジンで利用可能です。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43以上</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>46以上</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16以上</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>不可</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="Permissions" id="permissions-interface-0">
            <div class="header-wrapper">
                <h3 id="permissions-interface"><bdi class="secno">6.2 </bdi>
                    <code>Permissions</code>インターフェイス
                </h3><a class="self-link" href="#permissions-interface" aria-label="Permalink for Section 6.2"></a>
            </div>

            <pre class="idl def" id="webidl-285612776"><span class="idlHeader"><a class="self-link" href="#webidl-285612776">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-permissions" data-title="Permissions">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-permissions" data-idl="interface" data-title="Permissions" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>Permissions</code></dfn> {<span data-idl="" class="idlMethod" id="idl-def-permissions-query-permissiondesc" data-title="query" data-dfn-for="Permissions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-permissionstatus" class="internalDFN" id="ref-for-dom-permissionstatus-5"><code>PermissionStatus</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-permissions-query" id="ref-for-dom-permissions-query-2"><code>query</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <span class="idlParamName">permissionDesc</span>);</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-permissiondescriptor" data-title="PermissionDescriptor">

dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-permissiondescriptor" data-idl="dictionary" data-title="PermissionDescriptor" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionDescriptor</code></dfn> {<span data-idl="" class="idlMember" id="idl-def-permissiondescriptor-name" data-title="name" data-dfn-for="PermissionDescriptor">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-permissiondescriptor-name" data-idl="field" data-title="name" data-dfn-for="PermissionDescriptor" data-type="DOMString" class="idlName" tabindex="0" aria-haspopup="dialog"><code>name</code></dfn>;</span>
};</span></code></pre>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for query"><span>MDN</span><span
                            title="この機能は全主要エンジンで利用可能です。">✅</span></summary>
                    <a title="Permissions.query() メソッドは、Permissionsインターフェイスからユーザー権限の状態をグローバルスコープで返します。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query">Permissions/query</a>
                    <p class="engines-all">この機能は全主要エンジンで利用可能です。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>43以上</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>46以上</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16以上</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不可</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="query-method-0">
                <div class="header-wrapper">
                    <h4 id="query-method"><bdi class="secno">6.2.1 </bdi>
                        <code>query()</code>メソッド
                    </h4><a class="self-link" href="#query-method" aria-label="Permalink for Section 6.2.1"></a>
                </div>

                <div class="algorithm">
                    <p>
                        <dfn data-export="" data-dfn-type="method" id="dom-permissions-query" data-idl="operation"
                            data-title="query()" data-dfn-for="Permissions" data-type="Promise"
                            data-lt="query()|query(permissionDesc)"
                            data-local-lt="Permissions.query|Permissions.query()|query" tabindex="0"
                            aria-haspopup="dialog"><code>query()</code></dfn>メソッドが呼び出された場合、<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#user-agent">ユーザーエージェント</a>は次の<dfn class="export"
                            data-export="" id="dfn-query-a-permission" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">権限クエリアルゴリズム</dfn>を<var>permissionDesc</var>引数で実行する：
                    </p>
                    <ol>
                        <li><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>の<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>が<a
                                data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>オブジェクトなら：
                            <ol>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">現在の設定オブジェクト</a>の<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">関連<code>Document</code></a>が
                                    <a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全にアクティブ</a>でなければ、<a
                                        data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">Promiseをreject</a>し、
                                    "<a data-link-type="exception"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                                    <a data-link-type="interface" data-lt="DOMException"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>を返す。
                                </li>
                            </ol>
                        </li>
                        <li><var>rootDesc</var>を<var>permissionDesc</var>で参照されるオブジェクトを<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">IDL値に変換</a>し、型を<a
                                data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                                class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-17"><code>PermissionDescriptor</code></a>とする。
                        </li>
                        <li>変換時に<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw">例外</a>が発生した場合、その例外で<a
                                data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">Promiseをreject</a>する。
                        </li>
                        <li><var>rootDesc</var>["<a data-link-type="idl" href="#dom-permissiondescriptor-name"
                                class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-name-9"><code>name</code></a>"]がサポートされていなければ、<a
                                data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">Promiseをreject</a>し、<a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>を返す。
                            <div class="note" role="note" id="issue-container-generatedID-7">
                                <div role="heading" class="note-title marker" id="h-note-7" aria-level="5">
                                    <span>注</span><span class="issue-label">: なぜenumではないのか？</span>
                                </div>
                                <aside class="">
                                    <p>
                                        これはWebIDLの<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-enumeration">列挙型</a>（<code>enum</code>）と同じ動作となるよう意図的に設計されているため、実装者は独自の<code>enum</code>を使ってよい。本仕様がenumを使っていない理由は、ブラウザーごとにサポートする強力な機能が大きく異なるためである。<a
                                            data-link-type="interface" data-lt="DOMString"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>で機能を識別することで、実装者は<cite><a
                                                data-matched-text="[[[permissions-registry]]]"
                                                href="https://w3c.github.io/permissions-registry/">Permissions
                                                Registry</a></cite>の強力な機能から自由に選択できる。
                                    </p>
                                </aside>
                            </div>
                        </li>
                        <li><var>typedDescriptor</var>を<var>permissionDesc</var>で参照されるオブジェクトを、<var>rootDesc</var>の<a
                                data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-name-10"><code>name</code></a>の<a
                                data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type"
                                class="internalDFN"
                                id="ref-for-dfn-permission-descriptor-type-4">権限ディスクリプタ型</a>に変換したものとする。
                        </li>
                        <li>変換時に<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw">例外</a>が発生した場合、その例外で<a
                                data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">Promiseをreject</a>する。
                        </li>
                        <li><var data-type="Promise">promise</var>を<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise">新しいpromise</a>にする。
                        </li>
                        <li><var data-type="Promise">promise</var>を返し、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">並行して</a>以下を実行する：
                            <ol>
                                <li><var>status</var>を<var>typedDescriptor</var>で<a
                                        href="#dfn-create-a-permissionstatus" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-create-a-permissionstatus-1">PermissionStatus生成</a>したものとする。
                                </li>
                                <li><var>query</var>を<var>status</var>の<a data-link-type="attribute" data-lt="[[query]]"
                                        href="#dfn-query" class="internalDFN"
                                        id="ref-for-dfn-query-1"><code>[[query]]</code></a>内部スロットとする。
                                </li>
                                <li><var>query</var>の<a data-link-type="idl" href="#dom-permissiondescriptor-name"
                                        class="internalDFN"
                                        id="ref-for-dom-permissiondescriptor-name-11"><code>name</code></a>の<a
                                        data-link-type="dfn|abstract-op" href="#dfn-permission-query-algorithm"
                                        class="internalDFN"
                                        id="ref-for-dfn-permission-query-algorithm-1">権限クエリアルゴリズム</a>を<var>query</var>と<var>status</var>で実行する。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                                        data-link-type="dfn|abstract-op" href="#dfn-permissions-task-source"
                                        class="internalDFN" id="ref-for-dfn-permissions-task-source-2">権限タスクソース</a>上で<a
                                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>の<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>に<var
                                        data-type="Promise">promise</var>を<var>status</var>で解決する。
                                </li>
                            </ol>
                        </li>
                    </ol>
                </div>
            </section>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for PermissionStatus"><span>MDN</span><span
                        title="この機能は全主要エンジンで利用可能です。">✅</span></summary>
                <a title="PermissionStatus インターフェイスはオブジェクト状態および状態変更監視用イベントハンドラを提供します。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus">PermissionStatus</a>
                <p class="engines-all">この機能は全主要エンジンで利用可能です。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43以上</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>46以上</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16以上</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>不可</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PermissionStatus" id="permissionstatus-interface-0">
            <div class="header-wrapper">
                <h3 id="permissionstatus-interface"><bdi class="secno">6.3 </bdi>
                    <code>PermissionStatus</code>インターフェイス
                </h3><a class="self-link" href="#permissionstatus-interface" aria-label="Permalink for Section 6.3"></a>
            </div>

            <pre class="idl def" id="webidl-1212188233"><span class="idlHeader"><a class="self-link" href="#webidl-1212188233">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-permissionstatus" data-title="PermissionStatus">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-permissionstatus" data-idl="interface" data-title="PermissionStatus" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionStatus</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-permissionstatus-state" data-title="state" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-7"><code>PermissionState</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-state" id="ref-for-dom-permissionstatus-state-3"><code>state</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-permissionstatus-name" data-title="name" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-name" id="ref-for-dom-permissionstatus-name-1"><code>name</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-permissionstatus-onchange" data-title="onchange" data-dfn-for="PermissionStatus">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-onchange" id="ref-for-dom-permissionstatus-onchange-1"><code>onchange</code></a>;</span>
};</span><span data-idl="" class="idlEnum" id="idl-def-permissionstate" data-title="PermissionState">

enum <dfn data-export="" data-dfn-type="enum" id="dom-permissionstate" data-idl="enum" data-title="PermissionState" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionState</code></dfn> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted-6"><code>granted</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied-12"><code>denied</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-prompt" id="ref-for-dom-permissionstate-prompt-3"><code>prompt</code></a>"</span>,
};</span></code></pre>
            <p>
                <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus" class="internalDFN"
                    id="ref-for-dom-permissionstatus-6"><code>PermissionStatus</code></a>インスタンスは、機能ごとの<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type" class="internalDFN"
                    id="ref-for-dfn-permission-descriptor-type-5">権限ディスクリプタ型</a>インスタンスを保持する<dfn data-idl=""
                    data-dfn-for="PermissionStatus" data-noexport="" data-dfn-type="attribute" id="dfn-query"
                    tabindex="0" aria-haspopup="dialog">[[query]]</dfn>内部スロットとともに生成される。
            </p>
            <p data-dfn-for="PermissionState">
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-permissionstate-granted" data-idl="enum-value"
                    data-title="granted" data-dfn-for="PermissionState" tabindex="0"
                    aria-haspopup="dialog"><code>granted</code></dfn>"、"<dfn data-export="" data-dfn-type="enum-value"
                    id="dom-permissionstate-denied" data-idl="enum-value" data-title="denied"
                    data-dfn-for="PermissionState" tabindex="0" aria-haspopup="dialog"><code>denied</code></dfn>"、"<dfn
                    data-export="" data-dfn-type="enum-value" id="dom-permissionstate-prompt" data-idl="enum-value"
                    data-title="prompt" data-dfn-for="PermissionState" tabindex="0"
                    aria-haspopup="dialog"><code>prompt</code></dfn>"列挙値は、それぞれ<a data-link-type="dfn|abstract-op"
                    href="#dfn-granted" class="internalDFN" id="ref-for-dfn-granted-6">"granted"</a>、<a
                    data-link-type="dfn|abstract-op" href="#dfn-denied" class="internalDFN"
                    id="ref-for-dfn-denied-3">"denied"</a>、<a data-link-type="dfn|abstract-op" href="#dfn-prompt"
                    class="internalDFN" id="ref-for-dfn-prompt-3">"prompt"</a>の概念を表す。
            </p>
            <section id="creating-instances">
                <div class="header-wrapper">
                    <h4 id="x6-3-1-creating-instances"><bdi class="secno">6.3.1 </bdi>
                        インスタンスの生成
                    </h4><a class="self-link" href="#creating-instances" aria-label="Permalink for Section 6.3.1"></a>
                </div>

                <div class="algorithm">
                    <p>
                        <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                            class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-18"><code>PermissionDescriptor</code></a> <var
                            data-type="PermissionDescriptor">permissionDesc</var>に対して<dfn class="export" data-export=""
                            id="dfn-create-a-permissionstatus" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn"><code>PermissionStatus</code>生成</dfn>する手順：
                    </p>
                    <ol>
                        <li><var data-type="PermissionDescriptor">permissionDesc</var> の <a data-link-type="idl"
                                href="#dom-permissiondescriptor-name" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-name-12"><code>name</code></a> を <var
                                data-type="DOMString">name</var> とする。
                        </li>
                        <li><var data-type="DOMString">name</var> で特定される <a data-link-type="dfn|abstract-op"
                                href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-28">機能</a>が、ユーザーエージェントによってサポートされていることをアサートする。
                        </li>
                        <li><var data-type="DOMString">name</var> で特定される <a data-link-type="dfn|abstract-op"
                                href="#dfn-permission-result-type" class="internalDFN"
                                id="ref-for-dfn-permission-result-type-3">パーミッション結果型</a> の新しいインスタンスを <var
                                data-type="PermissionStatus">status</var> とする：
                            <ol>
                                <li><var data-type="PermissionStatus">status</var> の <a data-link-type="attribute"
                                        data-lt="[[query]]" href="#dfn-query" class="internalDFN"
                                        id="ref-for-dfn-query-2"><code>[[query]]</code></a> 内部スロットを
                                    <var data-type="PermissionDescriptor">permissionDesc</var> で初期化する。
                                </li>
                                <li><var data-type="PermissionStatus">status</var> の <a data-link-type="idl"
                                        href="#dom-permissionstatus-name" class="internalDFN"
                                        id="ref-for-dom-permissionstatus-name-2"><code>name</code></a> を <var
                                        data-type="DOMString">name</var> で初期化する。
                                </li>
                            </ol>
                        </li>
                        <li><var data-type="PermissionStatus">status</var> を返す。
                        </li>
                    </ol>
                </div>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for name"><span>MDN</span><span
                            title="この機能は全主要エンジンで利用可能です。">✅</span></summary>
                    <a title="PermissionStatus.name 読み取り専用プロパティは、要求された権限の名前を返します。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/name">PermissionStatus/name</a>
                    <p class="engines-all">この機能は全主要エンジンで利用可能です。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>97以上</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>93以上</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16以上</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不可</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="name-attribute">
                <div class="header-wrapper">
                    <h4 id="x6-3-2-name-attribute"><bdi class="secno">6.3.2 </bdi>
                        <code>name</code>属性
                    </h4><a class="self-link" href="#name-attribute" aria-label="Permalink for Section 6.3.2"></a>
                </div>

                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-permissionstatus-name" data-idl="attribute"
                        data-title="name" data-dfn-for="PermissionStatus" data-type="DOMString" data-lt="name"
                        data-local-lt="PermissionStatus.name" tabindex="0"
                        aria-haspopup="dialog"><code>name</code></dfn>属性は初期化時の値を返す。
                </p>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for state"><span>MDN</span><span
                            title="この機能は全主要エンジンで利用可能です。">✅</span></summary>
                    <a title="PermissionStatus.state 読み取り専用プロパティは、要求された権限の状態を返します。値は 'granted'、'denied'、'prompt'のいずれかです。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/state">PermissionStatus/state</a>
                    <p class="engines-all">この機能は全主要エンジンで利用可能です。</p>
                    <table>
                        <tr class="chrome unknown">
                            <td>Chrome</td>
                            <td>?</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>46以上</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16以上</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不可</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="state-attribute">
                <div class="header-wrapper">
                    <h4 id="x6-3-3-state-attribute"><bdi class="secno">6.3.3 </bdi>
                        <code>state</code>属性
                    </h4><a class="self-link" href="#state-attribute" aria-label="Permalink for Section 6.3.3"></a>
                </div>

                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-permissionstatus-state" data-idl="attribute"
                        data-title="state" data-dfn-for="PermissionStatus" data-type="PermissionState" data-lt="state"
                        data-local-lt="PermissionStatus.state" tabindex="0"
                        aria-haspopup="dialog"><code>state</code></dfn>属性は、現在のインスタンスにセットされた最新値を返す。
                </p>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for change_event"><span>MDN</span><span
                            title="この機能は全主要エンジンで利用可能です。">✅</span></summary>
                    <a title="PermissionStatus.change イベントは PermissionStatus.state プロパティが変更されるたびに発火します。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/change_event">PermissionStatus/change_event</a>
                    <p class="engines-all">この機能は全主要エンジンで利用可能です。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>43以上</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>46以上</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16.4以上</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不可</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="onchange-attribute">
                <div class="header-wrapper">
                    <h4 id="x6-3-4-onchange-attribute"><bdi class="secno">6.3.4 </bdi>
                        <code>onchange</code>属性
                    </h4><a class="self-link" href="#onchange-attribute" aria-label="Permalink for Section 6.3.4"></a>
                </div>

                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-permissionstatus-onchange"
                        data-idl="attribute" data-title="onchange" data-dfn-for="PermissionStatus"
                        data-type="EventHandler" data-lt="onchange" data-local-lt="PermissionStatus.onchange"
                        tabindex="0" aria-haspopup="dialog"><code>onchange</code></dfn>属性は、対応する<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">イベントハンドラ</a>であり、対応イベントタイプは<code>change</code>。
                </p>
                <div class="algorithm">
                    <p id="PermissionStatus-update">
                        <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus"
                            class="internalDFN"
                            id="ref-for-dom-permissionstatus-7"><code>PermissionStatus</code></a>インスタンス<var>status</var>の状態が変更されたことをUAが認識した場合、非同期で<dfn
                            id="dfn-permissionstatus-update-steps" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn"><code>PermissionStatus</code>
                            更新手順</dfn>を実行する：
                    </p>
                    <ol>
                        <li><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>が
                            <a data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                            オブジェクトの場合：
                            <ol>
                                <li><var>document</var> を <var>status</var> の <a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>の
                                    <a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">関連付けられた
                                        Document</a> とする。
                                </li>
                                <li><var>document</var> が null または <var>document</var> が <a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全にアクティブ</a>でない場合、
                                    このアルゴリズムを終了する。
                                </li>
                            </ol>
                        </li>
                        <li><var>query</var> を <var>status</var> の <a data-link-type="attribute" data-lt="[[query]]"
                                href="#dfn-query" class="internalDFN"
                                id="ref-for-dfn-query-3"><code>[[query]]</code></a> 内部スロットとする。
                        </li>
                        <li><var>query</var> の <a data-link-type="idl" href="#dom-permissiondescriptor-name"
                                class="internalDFN" id="ref-for-dom-permissiondescriptor-name-13"><code>name</code></a>
                            の <a data-link-type="dfn|abstract-op" href="#dfn-permission-query-algorithm"
                                class="internalDFN"
                                id="ref-for-dfn-permission-query-algorithm-2">パーミッションクエリアルゴリズム</a>を実行し、<var>query</var>
                            と <var>status</var> を渡す。
                        </li>
                        <li>
                            <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキューに追加</a>し、<a
                                data-link-type="dfn|abstract-op" href="#dfn-permissions-task-source" class="internalDFN"
                                id="ref-for-dfn-permissions-task-source-3">permissions task source</a>上で <a
                                data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>する。
                            イベント名は <code>change</code> で、対象は <var>status</var> である。
                        </li>
                    </ol>
                </div>
            </section>
            <section id="garbage-collection">
                <div class="header-wrapper">
                    <h4 id="permissionstatus-gc"><bdi class="secno">6.3.5 </bdi>
                        ガベージコレクション
                    </h4><a class="self-link" href="#permissionstatus-gc" aria-label="Permalink for Section 6.3.5"></a>
                </div>

                <p>
                    <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus" class="internalDFN"
                        id="ref-for-dom-permissionstatus-8"><code>PermissionStatus</code></a>オブジェクトは、<code>change</code>型の<a
                        data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-listener">イベントリスナー</a>を持つ場合、ガベージコレクションされては<em
                        class="rfc2119">ならない</em>。
                </p>
            </section>
        </section>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x7-conformance"><bdi class="secno">7. </bdi>適合性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 7."></a>
        </div>
        <p>非規範的と明記されているセクションに加え、本仕様書のすべての著作ガイドライン、図、例、および注記は非規範的です。それ以外はすべて規範的です。</p>
        <p>
            この文書において、<em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">MUST NOT</em>、<em
                class="rfc2119">OPTIONAL</em>、<em class="rfc2119">SHOULD</em>のキーワードは、
            <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            に記載されている通り、すべて大文字で示されている場合にのみ、ここで示す意味で解釈されます。
        </p>
        <p>
            本仕様に適合を主張できる製品は2種類あります：<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#user-agent">ユーザーエージェント</a>および
            その他の<dfn data-plurals="specification" id="dfn-specifications" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">仕様</dfn>（すなわち、本仕様の要件に準拠した方法で<a data-link-type="dfn|abstract-op"
                href="#dfn-specifies-a-powerful-feature" class="internalDFN"
                id="ref-for-dfn-specifies-a-powerful-feature-1">強力な機能を仕様化</a>する技術報告）。
        </p>
    </section>
    <section class="informative appendix" id="relationship-to-the-permissions-policy-specification">
        <div class="header-wrapper">
            <h2 id="relationship-to-permissions-policy"><bdi class="secno">A. </bdi>
                Permissions Policy仕様との関係
            </h2><a class="self-link" href="#relationship-to-permissions-policy"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <p><em>このセクションは非規範的です。</em></p>

        <p>
            本仕様と<cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">Permissions
                    Policy</a></cite>仕様はともに「権限」を扱いますが、各仕様はプラットフォーム上で異なる目的を持ちます。ただし、両者には明確な重複があります。
        </p>
        <p>
            一方で、本仕様は<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-29">強力な機能</a>のみを対象とし、そのアクセスはユーザーエージェントを介した権限UIによって管理されます（すなわち、ユーザーの明示的な同意がなければ利用できず、ユーザーはいつでも理由を問わず権限を拒否可能）。これらの強力な機能は<cite><a
                    data-matched-text="[[[permissions-registry]]]"
                    href="https://w3c.github.io/permissions-registry/">Permissions Registry</a></cite>に登録されています。
        </p>
        <p>
            他方、<cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite>仕様は、開発者が「<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy">permissions
                policy</a>」（HTTPヘッダーや<code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>属性）を使って、ポリシー制御機能の有効・無効を選択的に制御できるようにします。この意味で、Permissions
            Policyは本仕様を包括し、Permissions Policyが機能の利用可否を独立して管理します。これらのポリシー制御機能も<cite><a
                    data-matched-text="[[[permissions-registry]]]"
                    href="https://w3c.github.io/permissions-registry/">Permissions Registry</a></cite>に登録されています。
        </p>
        <p>
            <cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">Permissions
                    Policy</a></cite>仕様によって無効化された強力な機能は、本仕様ではその<a data-link-type="dfn|abstract-op"
                href="#dfn-permission-state" class="internalDFN"
                id="ref-for-dfn-permission-state-15">権限状態</a>が常に"denied"となります。
            これは<a data-link-type="dfn|abstract-op" data-lt="getting the current permission state"
                href="#dfn-getting-the-current-permission-state" class="internalDFN"
                id="ref-for-dfn-getting-the-current-permission-state-1">現在の権限状態の読み取り</a>が、[<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>]の「<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">利用許可</a>」判定に依存しており、これがPermissions
            Policy仕様に委譲されるためです。両仕様で権限名を共有していることも重要です。どちらも他の仕様が権限の名前や<a data-link-type="dfn|abstract-op" href="#dfn-name"
                class="internalDFN" id="ref-for-dfn-name-3">name</a>を定義することに依存しており、通常同じ名称（例："geolocation"）が使われます。
        </p>
        <p>
            最後に、強力な機能は<cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">Permissions
                    Policy</a></cite>仕様のいかなる手段によっても"granted"状態になることはありません。<a data-link-type="dfn|abstract-op"
                href="#dfn-powerful-feature" class="internalDFN" id="ref-for-dfn-powerful-feature-30">強力な機能</a>が<a
                data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                id="ref-for-dfn-granted-7">"granted"</a>となる唯一の方法は、ユーザーの明示的な許可またはUAポリシーによるものです。
        </p>
    </section>
    <section id="automated-testing">
        <div class="header-wrapper">
            <h2 id="automation"><bdi class="secno">B. </bdi>
                自動テスト
            </h2><a class="self-link" href="#automation" aria-label="Permalink for Section B."></a>
        </div>

        <p>
            ユーザーエージェントの自動化およびアプリケーションテストのために、本書は [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver"
                    title="WebDriver">WebDriver</a></cite>] および [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-webdriver-bidi" title="WebDriver BiDi">WebDriver-BiDi</a></cite>]
            仕様への拡張を定義します。UAがこれらをサポートするかどうかは<em class="rfc2119">任意</em>です。
        </p>
        <pre class="idl def" id="webidl-1484302011"><span class="idlHeader"><a class="self-link" href="#webidl-1484302011">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-permissionsetparameters" data-title="PermissionSetParameters">dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-permissionsetparameters" data-idl="dictionary" data-title="PermissionSetParameters" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionSetParameters</code></dfn> {<span data-idl="" class="idlMember" id="idl-def-permissionsetparameters-descriptor" data-title="descriptor" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-permissionsetparameters-descriptor" data-idl="field" data-title="descriptor" data-dfn-for="PermissionSetParameters" data-type="object" class="idlName" tabindex="0" aria-haspopup="dialog"><code>descriptor</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-permissionsetparameters-state" data-title="state" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-8"><code>PermissionState</code></a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-permissionsetparameters-state" data-idl="field" data-title="state" data-dfn-for="PermissionSetParameters" data-type="PermissionState" class="idlName" tabindex="0" aria-haspopup="dialog"><code>state</code></dfn>;</span>
};</span></code></pre>
        <div class="algorithm">
            <p>
                <dfn data-for="WebDriver" id="dfn-set-a-permission" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">権限設定</dfn>は、<a data-link-type="idl" data-lt="PermissionDescriptor"
                    href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-19"><code>PermissionDescriptor</code></a>
                <var data-type="PermissionDescriptor">descriptor</var>、<a data-link-type="idl" data-lt="PermissionState"
                    href="#dom-permissionstate" class="internalDFN"
                    id="ref-for-dom-permissionstate-9"><code>PermissionState</code></a> <var
                    data-type="PermissionState">state</var>、任意の<var>origin</var>、任意の<var>user agent</var>を受け取って実行する：
            </p>
            <ol>
                <li><var>target origin</var>を、<var>origin</var>がnullなら<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">現在の設定オブジェクト</a>の<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">origin</a>、そうでなければ<var>origin</var>とする。
                </li>
                <li><var>targets</var>を、<var>target origin</var>と<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">同一オリジン</a>のすべての<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>（<var>user
                        agent</var>が指定されればそのUAに属するもの、指定なしならすべてのUA）を含むリストとする。
                </li>
                <li><var>tasks</var>を空リストとする。
                </li>
                <li><var>targets</var>の各<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">環境設定オブジェクト</a>
                    <var>target</var>について：
                    <ol>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスク</a>
                            <var>task</var>を、<var>target</var>の<a data-link-type="dfn|abstract-op"
                                href="#dfn-permissions-task-source" class="internalDFN"
                                id="ref-for-dfn-permissions-task-source-4">権限タスクソース</a>上で、<var>target</var>の<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">関連設定オブジェクト</a>の<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global">グローバルオブジェクト</a>の<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc">ブラウジングコンテキスト</a>で以下を実行するようキューする：
                            <ol>
                                <li><var data-type="PermissionState">state</var>を、今この瞬間に<var
                                        data-type="PermissionDescriptor">descriptor</var>で<var>target</var>を引数として<a
                                        data-link-type="dfn|abstract-op" href="#dfn-permission-state"
                                        class="internalDFN"
                                        id="ref-for-dfn-permission-state-16">権限状態</a>を呼び出した結果として解釈する。
                                </li>
                            </ol>
                        </li>
                        <li><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append">追加</a>
                            <var>task</var>を<var>tasks</var>に追加。
                        </li>
                    </ol>
                </li>
                <li><var>tasks</var>内のすべての<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task">タスク</a>が実行完了するまで待機して終了。
                </li>
            </ol>
        </div>
        <section data-cite="webdriver" id="automated-testing-with-webdriver">
            <div class="header-wrapper">
                <h3 id="automation-webdriver"><bdi class="secno">B.1 </bdi>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver"
                            title="WebDriver">WebDriver</a></cite>]による自動テスト
                </h3><a class="self-link" href="#automation-webdriver" aria-label="Permalink for Section B.1"></a>
            </div>

            <p>
                本書は[<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver"
                        title="WebDriver">WebDriver</a></cite>]仕様の<a data-link-type="dfn"
                    href="https://www.w3.org/TR/webdriver1/#dfn-extension-commands">拡張コマンド</a>を以下の通り定義します。
            </p>
            <section id="set-permission">
                <div class="header-wrapper">
                    <h4 id="webdriver-command-set-permission"><bdi class="secno">B.1.1 </bdi>
                        権限設定
                    </h4><a class="self-link" href="#webdriver-command-set-permission"
                        aria-label="Permalink for Section B.1.1"></a>
                </div>

                <table>
                    <tbody>
                        <tr>
                            <th>
                                HTTPメソッド
                            </th>
                            <th>
                                <a data-link-type="dfn" data-lt="extension command URI template"
                                    href="https://www.w3.org/TR/webdriver1/#dfn-extension-command-uri-template">URIテンプレート</a>
                            </th>
                        </tr>
                        <tr>
                            <td>
                                POST
                            </td>
                            <td>
                                /session/{session id}/permissions
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    <dfn class="export" data-dfn-for="extension commands" data-export="" id="dfn-set-permission"
                        tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">権限設定</dfn>
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/webdriver1/#dfn-extension-commands">拡張コマンド</a>は、<a
                        data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-20"><code>PermissionDescriptor</code></a>の
                    <a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-17">権限状態</a>をユーザーが変更したかのようにシミュレートします。
                </p>
                <p>
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/webdriver1/#dfn-remote-end-steps">リモートエンド手順</a>は以下の通りです：
                </p>
                <ol>
                    <li><var>parametersDict</var>を<var>parameters</var>引数を<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">IDL値</a>型
                        <a data-link-type="idl" data-lt="PermissionSetParameters" href="#dom-permissionsetparameters"
                            class="internalDFN"
                            id="ref-for-dom-permissionsetparameters-1"><code>PermissionSetParameters</code></a>に変換したものとします。例外が発生した場合、<a
                            data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-invalid-argument">invalid
                            argument</a> <a data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver1/#dfn-error">error</a>を返します。
                    </li>
                    <li><var>parametersDict</var>.<a data-link-type="idl" href="#dom-permissionsetparameters-state"
                            class="internalDFN" id="ref-for-dom-permissionsetparameters-state-1"><code>state</code></a>
                        が実装依存で不適切な
                        <a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                            id="ref-for-dfn-permission-state-18">権限状態</a>なら、<a data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver1/#dfn-invalid-argument">invalid argument</a> <a
                            data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-error">error</a>を返します。
                        <div class="note" role="note" id="issue-container-generatedID-8">
                            <div role="heading" class="note-title marker" id="h-note-8" aria-level="5"><span>注</span>
                            </div>
                            <p class="">
                                例：UAが"midi" <a href="#dfn-powerful-feature" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-powerful-feature-31">強力な機能</a>を「常に有効」と定義している場合、この手順で権限状態を"<a
                                    data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                                    id="ref-for-dom-permissionstate-denied-13"><code>denied</code></a>"に設定するコマンドを拒否できます。
                            </p>
                        </div>
                    </li>
                    <li><var>rootDesc</var>を<var>parametersDict</var>.<a data-link-type="idl"
                            href="#dom-permissionsetparameters-descriptor" class="internalDFN"
                            id="ref-for-dom-permissionsetparameters-descriptor-1"><code>descriptor</code></a>とする。
                    </li>
                    <li><var>typedDescriptor</var>を<var>rootDesc</var>を<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">IDL値</a>に変換したもの（<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type" class="internalDFN"
                            id="ref-for-dfn-permission-descriptor-type-6">権限ディスクリプタ型</a>で、<a
                            href="https://tc39.es/ecma262/multipage/#sec-get-o-p">Get</a>(<var>rootDesc</var>,
                        "<code>name</code>")の結果に一致）とする。例外が発生した場合、<a data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver1/#dfn-invalid-argument">invalid argument</a> <a
                            data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-error">error</a>を返す。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-set-a-permission" class="internalDFN"
                            id="ref-for-dfn-set-a-permission-1">権限設定</a>を<var>typedDescriptor</var>と
                        <var>parametersDict</var>.<a data-link-type="idl" href="#dom-permissionsetparameters-state"
                            class="internalDFN"
                            id="ref-for-dom-permissionsetparameters-state-2"><code>state</code></a>で実行する。
                    </li>
                    <li>データ<code>null</code>で<a data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver1/#dfn-success">success</a>を返す。
                    </li>
                </ol>
                <aside class="example" data-cite="webdriver-bidi" id="example-setting-a-permission-via-webdriver">
                    <div class="marker">
                        <a class="self-link" href="#example-setting-a-permission-via-webdriver">例<bdi>
                                7</bdi></a><span class="example-title">: WebDriverによる権限設定</span>
                    </div>
                    <p>
                        <a data-link-type="dfn|abstract-op" href="#dfn-set-permission" class="internalDFN"
                            id="ref-for-dfn-set-permission-1">権限設定</a>を、セッションID 23 の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">現在の設定オブジェクト</a>で
                        <code>{name: "midi", sysex: true}</code> に対して"<code>granted</code>"に設定する場合、ローカルエンドは
                        <code>/session/23/permissions</code> に以下のbodyでPOSTします：
                    </p>
                    <pre aria-busy="false"><code class="hljs json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"descriptor"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"midi"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"sysex"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"granted"</span>
<span class="hljs-punctuation">}</span></code></pre>
                </aside>
            </section>
        </section>
        <section data-cite="webdriver webdriver2 webdriver-bidi" id="automated-testing-with-webdriver-bidi">
            <div class="header-wrapper">
                <h3 id="automation-webdriver-bidi"><bdi class="secno">B.2 </bdi>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver-bidi"
                            title="WebDriver BiDi">WebDriver-BiDi</a></cite>]による自動テスト
                </h3><a class="self-link" href="#automation-webdriver-bidi" aria-label="Permalink for Section B.2"></a>
            </div>

            <p>
                本書は[<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver-bidi"
                        title="WebDriver BiDi">WebDriver-BiDi</a></cite>]仕様の<a data-link-type="dfn"
                    href="https://www.w3.org/TR/webdriver-bidi/#extension-modules">拡張モジュール</a>を以下の通り定義します。
            </p>
            <section id="the-permissions-module">
                <div class="header-wrapper">
                    <h4 id="webdriver-bidi-module-permissions"><bdi class="secno">B.2.1 </bdi>
                        permissionsモジュール
                    </h4><a class="self-link" href="#webdriver-bidi-module-permissions"
                        aria-label="Permalink for Section B.2.1"></a>
                </div>

                <p>
                    <dfn id="dfn-permissions" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">permissions</dfn>モジュールは、リモートエンドブラウザー権限管理用コマンドを含みます。
                </p>
                <section id="definition">
                    <div class="header-wrapper">
                        <h5 id="webdriver-bidi-module-permissions-definition"><bdi class="secno">B.2.1.1 </bdi>
                            定義
                        </h5><a class="self-link" href="#webdriver-bidi-module-permissions-definition"
                            aria-label="Permalink for Section B.2.1.1"></a>
                    </div>

                    <p>
                        {^remote end definition^}
                    </p>
                    <pre class="cddl" data-cddl-module="remote-cddl" aria-busy="false"><code class="hljs">PermissionsCommand = (
  permissions.setPermission
)</code></pre>
                </section>
                <section id="types">
                    <div class="header-wrapper">
                        <h5 id="webdriver-bidi-module-permissions-types"><bdi class="secno">B.2.1.2 </bdi>
                            型
                        </h5><a class="self-link" href="#webdriver-bidi-module-permissions-types"
                            aria-label="Permalink for Section B.2.1.2"></a>
                    </div>

                    <section id="the-permissions-permissiondescriptor-type">
                        <div class="header-wrapper">
                            <h6 id="webdriver-bidi-type-permissions-PermissionDescriptor"><bdi class="secno">B.2.1.2.1
                                </bdi>
                                permissions.PermissionDescriptor型
                            </h6><a class="self-link" href="#webdriver-bidi-type-permissions-PermissionDescriptor"
                                aria-label="Permalink for Section B.2.1.2.1"></a>
                        </div>

                        <pre class="cddl" data-cddl-module="local-cddl" aria-busy="false"><code class="hljs">permissions.PermissionDescriptor = {
  name: text,
}</code></pre>
                        <p>
                            <code>permissions.PermissionDescriptor</code>型は<a data-link-type="idl"
                                data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-21"><code>PermissionDescriptor</code></a>を表します。
                        </p>
                    </section>
                    <section id="the-permissions-permissionstate-type">
                        <div class="header-wrapper">
                            <h6 id="webdriver-bidi-type-permissions-PermissionState"><bdi class="secno">B.2.1.2.2 </bdi>
                                permissions.PermissionState型
                            </h6><a class="self-link" href="#webdriver-bidi-type-permissions-PermissionState"
                                aria-label="Permalink for Section B.2.1.2.2"></a>
                        </div>

                        <pre class="cddl" data-cddl-module="local-cddl"
                            aria-busy="false"><code class="hljs">permissions.PermissionState = "granted" / "denied" / "prompt"</code></pre>
                        <p>
                            <code>permissions.PermissionState</code>型は<a data-link-type="idl" data-lt="PermissionState"
                                href="#dom-permissionstate" class="internalDFN"
                                id="ref-for-dom-permissionstate-10"><code>PermissionState</code></a>を表します。
                        </p>
                    </section>
                </section>
                <section id="commands">
                    <div class="header-wrapper">
                        <h5 id="webdriver-bidi-module-permissions-commands"><bdi class="secno">B.2.1.3 </bdi>
                            コマンド
                        </h5><a class="self-link" href="#webdriver-bidi-module-permissions-commands"
                            aria-label="Permalink for Section B.2.1.3"></a>
                    </div>

                    <section id="the-permissions-setpermission-command">
                        <div class="header-wrapper">
                            <h6 id="webdriver-bidi-command-permissions-setPermission"><bdi class="secno">B.2.1.3.1
                                </bdi>
                                permissions.setPermissionコマンド
                            </h6><a class="self-link" href="#webdriver-bidi-command-permissions-setPermission"
                                aria-label="Permalink for Section B.2.1.3.1"></a>
                        </div>

                        <p>
                            <dfn class="export" data-export="" id="dfn-set-permission-0" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">権限設定</dfn> <a data-link-type="dfn"
                                href="https://www.w3.org/TR/webdriver-bidi/#command">コマンド</a>は、<a data-link-type="idl"
                                data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-22"><code>PermissionDescriptor</code></a>の<a
                                data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                                id="ref-for-dfn-permission-state-20">権限状態</a>をユーザーが変更したかのようにシミュレートします。
                        </p>
                        <dl>
                            <dt>
                                コマンド型
                            </dt>
                            <dd>
                                <pre class="cddl" data-cddl-module="remote-cddl" aria-busy="false"><code class="hljs">permissions.setPermission = (
  method: "permissions.setPermission",
  params: permissions.SetPermissionParameters
)

permissions.SetPermissionParameters = {
  descriptor: permissions.PermissionDescriptor,
  state: permissions.PermissionState,
  origin: text,
  ? userContext: text,
}</code></pre>
                            </dd>
                            <dt>
                                結果型
                            </dt>
                            <dd>
                                <code>EmptyResult</code>
                            </dd>
                        </dl>
                        <div class="algorithm" data-algorithm="remote end steps for permissions.setPermission">
                            <p>
                                <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps">リモートエンド手順</a>
                                （<var>session</var>、<var>command parameters</var>）は以下の通り：
                            </p>
                            <ol>
                                <li><var>descriptor</var>を<var>command
                                        parameters</var>の<code>descriptor</code>フィールド値とする。
                                </li>
                                <li><var>permission name</var>を<var>descriptor</var>の<code>name</code>フィールド値（<a
                                        data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                                        id="ref-for-dom-permissiondescriptor-name-14"><code>name</code></a>を表す）とする。
                                </li>
                                <li><var>state</var>を<var>command parameters</var>の<code>state</code>フィールド値とする。
                                </li>
                                <li><var>user context id</var>を<var>command
                                        parameters</var>の<code>userContext</code>フィールド値（存在しなければ<code>default</code>）とする。
                                </li>
                                <li><var>state</var>が実装依存で不適切な<a data-link-type="dfn|abstract-op"
                                        href="#dfn-permission-state" class="internalDFN"
                                        id="ref-for-dfn-permission-state-21">権限状態</a>なら、<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error">error</a>（<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error-code">error code</a>は<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-invalid-argument">invalid
                                        argument</a>）を返す。
                                </li>
                                <li><var>typedDescriptor</var>を<var>descriptor</var>を<a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">IDL値</a>（<var>descriptor</var>,
                                    <var>state</var>）で、<a data-link-type="idl" data-lt="PermissionSetParameters"
                                        href="#dom-permissionsetparameters" class="internalDFN"
                                        id="ref-for-dom-permissionsetparameters-2"><code>PermissionSetParameters</code></a>の<var>permission
                                        name</var>の<a data-link-type="dfn|abstract-op"
                                        href="#dfn-permission-descriptor-type" class="internalDFN"
                                        id="ref-for-dfn-permission-descriptor-type-7">権限ディスクリプタ型</a>に変換したものとする。例外が発生した場合、<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error">error</a>（<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error-code">error code</a>は<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-invalid-argument">invalid
                                        argument</a>）を返す。
                                </li>
                                <li><var>origin</var>を<var>command parameters</var>の<code>origin</code>フィールド値とする。
                                </li>
                                <li><var>user agent</var>を、IDが<var>user context id</var>の<a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#user-agent">ユーザーエージェント</a>（<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver-bidi/#user-context">user context</a>）とする。
                                </li>
                                <li><a data-link-type="dfn|abstract-op" href="#dfn-set-a-permission" class="internalDFN"
                                        id="ref-for-dfn-set-a-permission-2">権限設定</a>を<var>typedDescriptor</var>,
                                    <var>state</var>, <var>origin</var>, <var>user agent</var>で実行する。
                                </li>
                                <li>データ<code>null</code>で<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-success">success</a>を返す。
                                </li>
                            </ol>
                        </div>
                    </section>
                </section>
            </section>
        </section>
    </section>
    <section class="informative" id="permissions-registry">
        <div class="header-wrapper">
            <h2 id="c-permissions-registry"><bdi class="secno">C. </bdi>
                権限レジストリ
            </h2><a class="self-link" href="#permissions-registry" aria-label="Permalink for Section C."></a>
        </div>
        <p><em>このセクションは非規範的です。</em></p>

        <section id="purpose">
            <div class="header-wrapper">
                <h3 id="c-1-purpose"><bdi class="secno">C.1 </bdi>
                    目的
                </h3><a class="self-link" href="#purpose" aria-label="Permalink for Section C.1"></a>
            </div>

            <p>
                この<a data-link-type="dfn"
                    href="https://www.w3.org/policies/process/#w3c-registry">W3Cレジストリ</a>は、Webプラットフォームの<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>および<a
                    data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-32">強力な機能</a>を一元的に検索する場所を提供します。<a data-link-type="dfn|abstract-op"
                    href="#dfn-change-process" class="internalDFN"
                    id="ref-for-dfn-change-process-1">変更プロセス</a>を通して、プラットフォーム上の権限が様々な仕様間で一貫して定義されていることを保証します。
            </p>
            <p>
                権限レジストリを標準化権限と暫定権限に分けることで、これらの機能のステータスを追跡する手段も提供します。
            </p>
        </section>
        <section id="change-process">
            <div class="header-wrapper">
                <h3 id="c-2-change-process"><bdi class="secno">C.2 </bdi>
                    変更プロセス
                </h3><a class="self-link" href="#change-process" aria-label="Permalink for Section C.2"></a>
            </div>

            <p>
                このレジストリの追加・更新のための<dfn id="dfn-change-process" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">変更プロセス</dfn>は以下の通りです：
            </p>
            <ol>
                <li>必要に応じて、仕様書に「Permissions Policy」セクションを追加し、次の内容を含めます：
                    <ol>
                        <li>ポリシー制御機能を識別する文字列（例：<code>"super-awesome"</code>）。この文字列がリンク可能になるよう、<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-dfn-element">dfn</a></code>要素でラップしてください。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">デフォルト許可リスト</a>値（例：<code>'self'</code>）。
                            <aside class="example" id="example-specifying-a-permissions-policy">
                                <div class="marker">
                                    <a class="self-link" href="#example-specifying-a-permissions-policy">例<bdi>
                                            8</bdi></a><span class="example-title">: Permissions Policyの指定</span>
                                </div>
                                <p>
                                    この条件を満たす典型的な例：
                                </p>
                                <blockquote>
                                    Super Awesome APIは、文字列"super-awesome"で識別される<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>を定義します。その<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">デフォルト許可リスト</a>は<code>'self'</code>です。
                                </blockquote>
                            </aside>
                        </li>
                    </ol>
                </li>
                <li>自分の機能が<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-33">強力な機能</a>（利用に<a data-link-type="dfn|abstract-op"
                        href="#dfn-express-permission" class="internalDFN"
                        id="ref-for-dfn-express-permission-10">明示的な許可</a>が必要）かどうかを判断します。該当する場合：
                    <ol>
                        <li><a data-link-type="dfn|abstract-op" data-lt="Specifies a powerful feature"
                                href="#dfn-specifies-a-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-specifies-a-powerful-feature-2">強力な機能を仕様化する</a>ことを、<cite><a
                                    data-matched-text="[[[Permissions]]]"
                                    href="https://www.w3.org/TR/permissions/">Permissions</a></cite>仕様に準拠して記述する。
                        </li>
                    </ol>
                </li>
                <li><a data-link-type="dfn|abstract-op"
                        href="#dfn-table-of-standardized-permissions-of-the-web-platform" class="internalDFN"
                        id="ref-for-dfn-table-of-standardized-permissions-of-the-web-platform-1">標準化権限表</a>または<a
                        data-link-type="dfn|abstract-op" href="#dfn-table-of-provisional-permissions"
                        class="internalDFN"
                        id="ref-for-dfn-table-of-provisional-permissions-1">暫定権限表</a>のいずれかを修正し、必要な情報を各列に記入します。
                </li>
                <li>変更を含むプルリクエストを<a href="https://github.com/w3c/permissions/">Powerful Features Registry
                        Repository</a>（GitHub）へ提出してください。リポジトリ管理者が内容をレビューし、統合が適切か確認します。
                </li>
            </ol>
        </section>
        <section id="registry-table-of-standardized-permissions">
            <div class="header-wrapper">
                <h3 id="c-3-registry-table-of-standardized-permissions"><bdi class="secno">C.3 </bdi>
                    標準化権限のレジストリ表
                </h3><a class="self-link" href="#registry-table-of-standardized-permissions"
                    aria-label="Permalink for Section C.3"></a>
            </div>

            <p>
                権限が標準化権限表に掲載され、<dfn id="dfn-standardized-permission" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">標準化権限</dfn>とみなされるには、以下の条件を満たす必要があります：
            </p>
            <ul>
                <li>少なくとも2つのブラウザーエンジンで実装・相互運用可能であること（例：<a href="https://web-platform-tests.org">Web Platform
                        Tests</a>がある）。
                </li>
                <li>W3C<a data-link-type="dfn" href="https://www.w3.org/policies/process/#GroupsWG">作業グループ</a>による<a
                        data-link-type="dfn"
                        href="https://www.w3.org/policies/process/#technical-report">技術報告</a>として公開されていること（<a
                        data-link-type="dfn"
                        href="https://www.w3.org/policies/process/#fpwd">最初の公開作業草案</a>以上の成熟度）、またはWHATWGによる現行標準として公開されていること。
                </li>
            </ul>
            <p>
                各<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                    id="ref-for-dfn-permission-8">権限</a>は一意のリテラル文字列で識別されます。<cite><a
                        data-matched-text="[[[Permissions-Policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite>の場合、その文字列は<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>を識別します。同様に<cite><a
                        data-matched-text="[[[Permissions]]]"
                        href="https://www.w3.org/TR/permissions/">Permissions</a></cite>仕様の場合も、その文字列は<a
                    data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-34">強力な機能</a>を識別します。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-9">
                <div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>注</span><span
                        class="issue-label">: 権限とPermissions Policy</span></div>
                <aside class="">
                    <p>
                        すべての<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>が<a
                            data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-35">強力な機能</a>とは限りません。例えば、"web-share"は<a
                            data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>ですが、利用に<a
                            data-link-type="dfn|abstract-op" href="#dfn-express-permission" class="internalDFN"
                            id="ref-for-dfn-express-permission-11">明示的な許可</a>が不要なため<a data-link-type="dfn|abstract-op"
                            href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-36">強力な機能</a>とは分類されません。とはいえ、ほとんどの<a
                            data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-37">強力な機能</a>は<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能</a>でもあります。例えば"geolocation"は両方に該当し、利用に<a
                            data-link-type="dfn|abstract-op" href="#dfn-express-permission" class="internalDFN"
                            id="ref-for-dfn-express-permission-12">明示的な許可</a>が必要です。<cite><a
                                data-matched-text="[[[Permissions]]]"
                                href="https://www.w3.org/TR/permissions/">Permissions</a></cite>仕様で<a
                            data-link-type="dfn|abstract-op" data-lt="specifies a powerful feature"
                            href="#dfn-specifies-a-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-specifies-a-powerful-feature-3">強力な機能を仕様化</a>するガイダンスを参照してください。
                    </p>
                </aside>
            </div>
            <table class="simple data">
                <caption>
                    <dfn data-local-lt="table of standardized permissions"
                        data-lt="Table of standardized permissions of the web platform|table of standardized permissions"
                        id="dfn-table-of-standardized-permissions-of-the-web-platform" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">Webプラットフォーム標準化権限表</dfn>
                </caption>
                <tbody>
                    <tr>
                        <th rowspan="2">
                            識別文字列
                        </th>
                        <th rowspan="2">
                            <a data-link-type="dfn"
                                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能か？</a>
                        </th>
                        <th rowspan="2">
                            <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-39">強力な機能か？</a>
                        </th>
                        <th rowspan="2">
                            仕様
                        </th>
                        <th colspan="3">
                            実装状況
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <a href="https://www.chromium.org/Home/">Chromium</a>
                        </th>
                        <th>
                            <a href="https://developer.mozilla.org/en-US/docs/Glossary/Gecko">Gecko</a>
                        </th>
                        <th>
                            <a href="https://webkit.org/">WebKit</a>
                        </th>
                    </tr>
                    <tr data-cite="geolocation">
                        <td class="string-token">
                            <a data-link-type="permission"
                                href="https://www.w3.org/TR/geolocation/#dfn-geolocation">"geolocation"</a>
                        </td>
                        <td class="is-policy-controlled">
                            YES
                        </td>
                        <td class="is-powerful-feature">
                            YES
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[geolocation]]]"
                                    href="https://www.w3.org/TR/geolocation/">Geolocation</a></cite>
                        </td>
                        <td class="imp-chromium">
                            YES
                        </td>
                        <td class="imp-gecko">
                            YES
                        </td>
                        <td class="imp-webkit">
                            YES
                        </td>
                    </tr>
                    <tr data-cite="notifications">
                        <td class="string-token">
                            "<a data-link-type="permission"
                                href="https://notifications.spec.whatwg.org/#permissiondef-notifications">notifications</a>"
                        </td>
                        <td class="is-policy-controlled">
                            NO
                        </td>
                        <td class="is-powerful-feature">
                            YES
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[NOTIFICATIONS]]]"
                                    href="https://notifications.spec.whatwg.org/">Notifications API現行標準</a></cite>
                        </td>
                        <td class="imp-chromium">
                            YES
                        </td>
                        <td class="imp-gecko">
                            YES
                        </td>
                        <td class="imp-webkit">
                            YES
                        </td>
                    </tr>
                    <tr data-cite="push-api">
                        <td class="string-token">
                            <a data-link-type="permission" href="https://www.w3.org/TR/push-api/#dfn-push">"push"</a>
                        </td>
                        <td class="is-policy-controlled">
                            NO
                        </td>
                        <td class="is-powerful-feature">
                            YES
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[push-api]]]" href="https://www.w3.org/TR/push-api/">Push
                                    API</a></cite>
                        </td>
                        <td class="imp-chromium">
                            YES
                        </td>
                        <td class="imp-gecko">
                            YES
                        </td>
                        <td class="imp-webkit">
                            YES
                        </td>
                    </tr>
                    <tr data-cite="Web-share">
                        <td class="string-token">
                            <a data-link-type="permission"
                                href="https://www.w3.org/TR/web-share/#dfn-web-share">"web-share"</a>
                        </td>
                        <td class="is-policy-controlled">
                            YES
                        </td>
                        <td class="is-powerful-feature">
                            NO
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[Web-Share]]]" href="https://www.w3.org/TR/web-share/">Web
                                    Share API</a></cite>
                        </td>
                        <td class="imp-chromium">
                            YES
                        </td>
                        <td class="imp-gecko">
                            YES
                        </td>
                        <td class="imp-webkit">
                            YES
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="registry-table-of-provisional-permissions">
            <div class="header-wrapper">
                <h3 id="c-4-registry-table-of-provisional-permissions"><bdi class="secno">C.4 </bdi>
                    暫定権限のレジストリ表
                </h3><a class="self-link" href="#registry-table-of-provisional-permissions"
                    aria-label="Permalink for Section C.4"></a>
            </div>

            <p>
                暫定権限とは、まだ<a data-link-type="dfn|abstract-op" data-lt="standardized permission"
                    href="#dfn-standardized-permission" class="internalDFN"
                    id="ref-for-dfn-standardized-permission-1">標準化権限</a>となっていない権限です（実験的、インキュベーション中、あるいは1つのブラウザーエンジンでしか実装されていないもの）。
            </p>
            <table class="simple data">
                <caption>
                    <dfn id="dfn-table-of-provisional-permissions" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">暫定権限表</dfn>
                </caption>
                <tbody>
                    <tr>
                        <th rowspan="2">
                            識別文字列
                        </th>
                        <th rowspan="2">
                            <a data-link-type="dfn"
                                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">ポリシー制御機能か？</a>
                        </th>
                        <th rowspan="2">
                            <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-40">強力な機能か？</a>
                        </th>
                        <th rowspan="2">
                            仕様
                        </th>
                        <th colspan="3">
                            実装状況
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <a href="https://www.chromium.org/Home/">Chromium</a>
                        </th>
                        <th>
                            <a href="https://developer.mozilla.org/en-US/docs/Glossary/Gecko">Gecko</a>
                        </th>
                        <th>
                            <a href="https://webkit.org/">WebKit</a>
                        </th>
                    </tr>
                    <tr data-cite="orientation-event">
                        <td class="string-token">
                            <a data-link-type="permission"
                                href="https://www.w3.org/TR/orientation-event/#permissiondef-accelerometer">"accelerometer"</a>
                        </td>
                        <td class="is-policy-controlled">
                            YES
                        </td>
                        <td class="is-powerful-feature">
                            YES
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[orientation-event]]]"
                                    href="https://www.w3.org/TR/orientation-event/">Device Orientation and
                                    Motion</a></cite>
                        </td>
                        <td class="imp-chromium">
                            YES
                        </td>
                        <td class="imp-gecko">
                            NO
                        </td>
                        <td class="imp-webkit">
                            NO
                        </td>
                    </tr>
                    <tr data-cite="window-management">
                        <td class="string-token">
                            "<a data-link-type="permission"
                                href="https://www.w3.org/TR/window-management/#permissiondef-window-management">window-management</a>"
                        </td>
                        <td class="is-policy-controlled">
                            YES
                        </td>
                        <td class="is-powerful-feature">
                            YES
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[window-management]]]"
                                    href="https://www.w3.org/TR/window-management/">Window Management</a></cite>
                        </td>
                        <td class="imp-chromium">
                            YES
                        </td>
                        <td class="imp-gecko">
                            NO
                        </td>
                        <td class="imp-webkit">
                            NO
                        </td>
                    </tr>
                    <tr data-cite="local-font-access">
                        <td class="string-token">
                            "<a data-link-type="permission"
                                href="https://wicg.github.io/local-font-access/#permissiondef-local-fonts">local-fonts</a>"
                        </td>
                        <td class="is-policy-controlled">
                            YES
                        </td>
                        <td class="is-powerful-feature">
                            YES
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[local-font-access]]]"
                                    href="https://wicg.github.io/local-font-access/">Local Font Access API</a></cite>
                        </td>
                        <td class="imp-chromium">
                            YES
                        </td>
                        <td class="imp-gecko">
                            NO
                        </td>
                        <td class="imp-webkit">
                            NO
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
    <section class="appendix" id="privacy-considerations-0">
        <div class="header-wrapper">
            <h2 id="privacy-considerations"><bdi class="secno">D. </bdi>
                プライバシーの考慮事項
            </h2><a class="self-link" href="#privacy-considerations" aria-label="Permalink for Appendix D."></a>
        </div>

        <p>
            攻撃者は、<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                id="ref-for-dfn-permission-state-22">権限状態</a>をエンドユーザーの「フィンガープリント」作成要素として利用する可能性があります。攻撃者は、APIを実際に利用することで権限の状態を判定できますが、その場合多くはエンドユーザーにUIプロンプトが表示されます（権限が既に<a
                data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                id="ref-for-dfn-granted-8">"granted"</a>でない場合）。このAPIはウェブサイトに新たなフィンガープリント情報を公開するものではありませんが、攻撃者がこの情報に目立たずアクセスしやすくなる可能性があります。
        </p>
        <p>
            ユーザーエージェントは、ユーザーが<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                id="ref-for-dfn-permission-9">権限</a>の<a data-link-type="dfn|abstract-op" href="#dfn-states"
                class="internalDFN" id="ref-for-dfn-states-5">状態</a>（<a data-link-type="dfn|abstract-op"
                href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-41">強力な機能</a>とオリジンの関連）を確認・更新・リセットできる手段を<em
                class="rfc2119">提供するべき</em>です。
        </p>
    </section>
    <section id="security-considerations">
        <div class="header-wrapper">
            <h2 id="e-security-considerations"><bdi class="secno">E. </bdi>
                セキュリティの考慮事項
            </h2><a class="self-link" href="#security-considerations" aria-label="Permalink for Section E."></a>
        </div>

        <p>
            現時点で文書化されたセキュリティの考慮事項はありません。読者は<a href="#privacy-considerations"
                data-matched-text="[[[#privacy-considerations]]]" class="sec-ref"><bdi class="secno">D. </bdi>
                プライバシーの考慮事項</a>セクションも参照してください。
        </p>
    </section>
    <section id="idl-index">
        <div class="header-wrapper">
            <h2 id="f-idl-index"><bdi class="secno">F. </bdi>IDL索引</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Section F."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" data-title="permissions" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-4"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="permissions" data-dfn-for="Navigator" data-type="Permissions" data-lt="permissions" data-local-lt="Navigator.permissions" class="idlName"><code>permissions</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" data-title="WorkerNavigator">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Worker)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="WorkerNavigator" class="idlID" data-dfn-for="WorkerNavigator" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator">WorkerNavigator</a> {<span data-idl="" class="idlAttribute" data-title="permissions" data-dfn-for="WorkerNavigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-5"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="permissions" data-dfn-for="WorkerNavigator" data-type="Permissions" data-lt="permissions" data-local-lt="WorkerNavigator.permissions" class="idlName"><code>permissions</code></dfn>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="Permissions">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="Permissions" data-dfn-for="" class="idlID"><code>Permissions</code></dfn> {<span data-idl="" class="idlMethod" data-title="query" data-dfn-for="Permissions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-permissionstatus" class="internalDFN" id="ref-for-dom-permissionstatus-9"><code>PermissionStatus</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-permissions-query" id="ref-for-dom-permissions-query-3"><code>query</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <span class="idlParamName">permissionDesc</span>);</span>
};</span><span data-idl="" class="idlDictionary" data-title="PermissionDescriptor">

dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PermissionDescriptor" data-dfn-for="" class="idlID"><code>PermissionDescriptor</code></dfn> {<span data-idl="" class="idlMember" data-title="name" data-dfn-for="PermissionDescriptor">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="name" data-dfn-for="PermissionDescriptor" data-type="DOMString" class="idlName"><code>name</code></dfn>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PermissionStatus">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="PermissionStatus" data-dfn-for="" class="idlID"><code>PermissionStatus</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" data-title="state" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-11"><code>PermissionState</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-state" id="ref-for-dom-permissionstatus-state-4"><code>state</code></a>;</span><span data-idl="" class="idlAttribute" data-title="name" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-name" id="ref-for-dom-permissionstatus-name-3"><code>name</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onchange" data-dfn-for="PermissionStatus">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-onchange" id="ref-for-dom-permissionstatus-onchange-2"><code>onchange</code></a>;</span>
};</span><span data-idl="" class="idlEnum" data-title="PermissionState">

enum <dfn data-export="" data-dfn-type="enum" data-idl="enum" data-title="PermissionState" data-dfn-for="" class="idlID"><code>PermissionState</code></dfn> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted-7"><code>granted</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied-14"><code>denied</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-prompt" id="ref-for-dom-permissionstate-prompt-4"><code>prompt</code></a>"</span>,
};</span>

<span data-idl="" class="idlDictionary" data-title="PermissionSetParameters">dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PermissionSetParameters" data-dfn-for="" class="idlID"><code>PermissionSetParameters</code></dfn> {<span data-idl="" class="idlMember" data-title="descriptor" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="descriptor" data-dfn-for="PermissionSetParameters" data-type="object" class="idlName"><code>descriptor</code></dfn>;</span><span data-idl="" class="idlMember" data-title="state" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-12"><code>PermissionState</code></a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="state" data-dfn-for="PermissionSetParameters" data-type="PermissionState" class="idlName"><code>state</code></dfn>;</span>
};</span></code></pre>
    </section>
    <section class="appendix informative" id="acknowledgments">
        <div class="header-wrapper">
            <h2 class="no-num" id="g-acknowledgments"><bdi class="secno">G. </bdi>
                謝辞
            </h2><a class="self-link" href="#acknowledgments" aria-label="Permalink for Appendix G."></a>
        </div>
        <p><em>このセクションは非規範的です。</em></p>

        <p>
            編集者は、API設計や編集作業において協力してくれた Adrienne Porter Felt、Anne van Kesteren、Domenic Denicola、Jake Archibald、Wendy
            Seltzer に感謝します。
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="h-references"><bdi class="secno">H. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix H."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="h-1-normative-references"><bdi class="secno">H.1 </bdi>規範となる参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix H.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM現行標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecma-262">[ecma-262]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript言語仕様</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML現行標準</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. 現行標準.
                    URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra現行標準</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. 現行標準. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-notifications">[Notifications]</dt>
                <dd>
                    <a href="https://notifications.spec.whatwg.org/"><cite>Notifications API現行標準</cite></a>. Anne
                    van Kesteren. WHATWG. 現行標準. URL: <a
                        href="https://notifications.spec.whatwg.org/">https://notifications.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-permissions-policy">[Permissions-Policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian
                    Clelland. W3C. 2025年5月6日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-permissions-registry">[permissions-registry]</dt>
                <dd>
                    <a href="https://w3c.github.io/permissions-registry/"><cite>Permissions Registry</cite></a>. W3C.
                    草案レジストリ. URL: <a
                        href="https://w3c.github.io/permissions-registry/">https://w3c.github.io/permissions-registry/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>RFCで要求レベルを示すキーワード</cite></a>. S. Bradner.
                    IETF. 1997年3月. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC2119キーワードにおける大文字・小文字の曖昧性</cite></a>. B.
                    Leiba. IETF. 2017年5月. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-webdriver">[WebDriver]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webdriver1/"><cite>WebDriver</cite></a>. Simon Stewart; David Burns.
                    W3C. 2018年6月5日. W3C勧告. URL: <a
                        href="https://www.w3.org/TR/webdriver1/">https://www.w3.org/TR/webdriver1/</a>
                </dd>
                <dt id="bib-webdriver-bidi">[WebDriver-BiDi]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webdriver-bidi/"><cite>WebDriver BiDi</cite></a>. James Graham; Alex
                    Rudenko; Maksim Sadym. W3C. 2025年6月20日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/webdriver-bidi/">https://www.w3.org/TR/webdriver-bidi/</a>
                </dd>
                <dt id="bib-webdriver2">[webdriver2]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webdriver2/"><cite>WebDriver</cite></a>. Simon Stewart; David Burns.
                    W3C. 2025年6月20日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/webdriver2/">https://www.w3.org/TR/webdriver2/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL現行標準</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. 現行標準. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="h-2-informative-references"><bdi class="secno">H.2 </bdi>参考情報</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix H.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-appmanifest">[appmanifest]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/appmanifest/"><cite>Webアプリケーションマニフェスト</cite></a>. Marcos
                    Caceres; Kenneth Christiansen; Diego Gonzalez-Zuniga; Daniel Murphy; Christian Liebel. W3C.
                    2025年5月5日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/appmanifest/">https://www.w3.org/TR/appmanifest/</a>
                </dd>
                <dt id="bib-geolocation">[Geolocation]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/geolocation/"><cite>Geolocation</cite></a>. Marcos Caceres; Reilly
                    Grant. W3C. 2025年4月11日. W3C勧告. URL: <a
                        href="https://www.w3.org/TR/geolocation/">https://www.w3.org/TR/geolocation/</a>
                </dd>
                <dt id="bib-getusermedia">[GETUSERMEDIA]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mediacapture-streams/"><cite>Media Capture and Streams</cite></a>.
                    Cullen Jennings; Jan-Ivar Bruaroey; Henrik Boström; youenn fablet. W3C. 2025年5月26日. CRD. URL: <a
                        href="https://www.w3.org/TR/mediacapture-streams/">https://www.w3.org/TR/mediacapture-streams/</a>
                </dd>
                <dt id="bib-local-font-access">[local-font-access]</dt>
                <dd>
                    <a href="https://wicg.github.io/local-font-access/"><cite>Local Font Access API</cite></a>. W3C.
                    草案コミュニティグループレポート. URL: <a
                        href="https://wicg.github.io/local-font-access/">https://wicg.github.io/local-font-access/</a>
                </dd>
                <dt id="bib-orientation-event">[orientation-event]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/orientation-event/"><cite>Device Orientation and Motion</cite></a>.
                    Reilly Grant; Marcos Caceres. W3C. 2025年2月12日. CRD. URL: <a
                        href="https://www.w3.org/TR/orientation-event/">https://www.w3.org/TR/orientation-event/</a>
                </dd>
                <dt id="bib-permissions">[Permissions]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/"><cite>Permissions</cite></a>. Marcos Caceres; Mike
                    Taylor. W3C. 2024年12月20日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt id="bib-push-api">[push-api]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/push-api/"><cite>Push API</cite></a>. Peter Beverloo; Martin Thomson;
                    Marcos Caceres. W3C. 2024年9月3日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/push-api/">https://www.w3.org/TR/push-api/</a>
                </dd>
                <dt id="bib-w3c-process">[w3c-process]</dt>
                <dd>
                    <a href="https://www.w3.org/policies/process/"><cite>W3Cプロセス文書</cite></a>. Elika J.
                    Etemad (fantasai); Florian Rivoal. W3C. 2023年11月3日. URL: <a
                        href="https://www.w3.org/policies/process/">https://www.w3.org/policies/process/</a>
                </dd>
                <dt id="bib-web-share">[Web-Share]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/web-share/"><cite>Web Share API</cite></a>. Marcos Caceres; Eric
                    Willigers; Matt Giuca. W3C. 2023年5月30日. W3C勧告. URL: <a
                        href="https://www.w3.org/TR/web-share/">https://www.w3.org/TR/web-share/</a>
                </dd>
                <dt id="bib-window-management">[window-management]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/window-management/"><cite>Window Management</cite></a>. Joshua Bell;
                    Mike Wasserman. W3C. 2024年6月7日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/window-management/">https://www.w3.org/TR/window-management/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission"
        aria-label="Links in this document to definition: permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission"
                aria-label="Permalink for definition: permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-permission-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-3" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-4" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-5" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-permission-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-8" title="§ C.3 Registry table of standardized permissions">§ C.3
                    Registry table of standardized permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-9" title="§ D. Privacy considerations">§ D. Privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-express-permission"
        aria-label="Links in this document to definition: Express permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-express-permission"
                aria-label="Permalink for definition: Express permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-express-permission-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-express-permission-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-express-permission-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-express-permission-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-5" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a>
                <a href="#ref-for-dfn-express-permission-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-7"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dfn-express-permission-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-9"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-10" title="§ C.2 Change Process">§ C.2 Change Process</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-11" title="§ C.3 Registry table of standardized permissions">§
                    C.3 Registry table of standardized permissions</a> <a href="#ref-for-dfn-express-permission-12"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-states"
        aria-label="Links in this document to definition: states">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-states"
                aria-label="Permalink for definition: states. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-states-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-states-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-states-3" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-states-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-states-5" title="§ D. Privacy considerations">§ D. Privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-denied"
        aria-label="Links in this document to definition: &quot;denied&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-denied"
                aria-label="Permalink for definition: &quot;denied&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-denied-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-denied-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-denied-3" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-granted"
        aria-label="Links in this document to definition: &quot;granted&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-granted"
                aria-label="Permalink for definition: &quot;granted&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-granted-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-granted-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-3" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a> <a
                    href="#ref-for-dfn-granted-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-5" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-6" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-7" title="§ A. Relationship to the Permissions Policy specification">§ A.
                    Relationship to the Permissions Policy specification</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-8" title="§ D. Privacy considerations">§ D. Privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-prompt"
        aria-label="Links in this document to definition: &quot;prompt&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-prompt"
                aria-label="Permalink for definition: &quot;prompt&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-prompt-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-prompt-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-prompt-3" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-new-information-about-the-user-s-intent"
        aria-label="Links in this document to definition: new information about the user's intent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-new-information-about-the-user-s-intent"
                aria-label="Permalink for definition: new information about the user's intent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-new-information-about-the-user-s-intent-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-new-information-about-the-user-s-intent-2"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-new-information-about-the-user-s-intent-3"
                    title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the user to choose</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-implicit-signals"
        aria-label="Links in this document to definition: implicit signals">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-implicit-signals"
                aria-label="Permalink for definition: implicit signals. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-implicit-signals-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-lifetime"
        aria-label="Links in this document to definition: lifetime">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-lifetime"
                aria-label="Permalink for definition: lifetime. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-lifetime-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-lifetime-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-lifetime-3" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-lifetime-4" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a> <a href="#ref-for-dfn-lifetime-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-lifetime-6" title="Reference 3">(3)</a> <a href="#ref-for-dfn-lifetime-7"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-lifetime-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-lifetime-9" title="Reference 6">(6)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-default-state"
        aria-label="Links in this document to definition: default state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-state"
                aria-label="Permalink for definition: default state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-state-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-default-state-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-default-state-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-store"
        aria-label="Links in this document to definition: permission store">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-store"
                aria-label="Permalink for definition: permission store. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-store-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-permission-store-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-store-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-store-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-store-5" title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-store-entry"
        aria-label="Links in this document to definition: permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-store-entry"
                aria-label="Permalink for definition: permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-store-entry-1" title="§ 3.2 Permission Store">§ 3.2 Permission
                    Store</a> <a href="#ref-for-dfn-permission-store-entry-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-store-entry-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-store-entry-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-store-entry-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-permission-store-entry-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-permission-store-entry-7" title="Reference 7">(7)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-descriptor"
        aria-label="Links in this document to definition: descriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-descriptor"
                aria-label="Permalink for definition: descriptor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-descriptor-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-descriptor-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-descriptor-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-descriptor-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-descriptor-5" title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-key"
        aria-label="Links in this document to definition: key">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-key"
                aria-label="Permalink for definition: key. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-key-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-key-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-key-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-key-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-key-5" title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-state"
        aria-label="Links in this document to definition: state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-state"
                aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-state-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-2" title="§ 5.1 Reading the current permission state">§ 5.1 Reading the
                    current permission state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-get-a-permission-store-entry"
        aria-label="Links in this document to definition: get a permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-get-a-permission-store-entry"
                aria-label="Permalink for definition: get a permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-get-a-permission-store-entry-1"
                    title="§ 5.1 Reading the current permission state">§ 5.1 Reading the current permission state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-a-permission-store-entry"
        aria-label="Links in this document to definition: set a permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-a-permission-store-entry"
                aria-label="Permalink for definition: set a permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-set-a-permission-store-entry-1"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-remove-a-permission-store-entry"
        aria-label="Links in this document to definition: remove a permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-remove-a-permission-store-entry"
                aria-label="Permalink for definition: remove a permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-remove-a-permission-store-entry-1"
                    title="§ 5.4 Reacting to users revoking permission">§ 5.4 Reacting to users revoking permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-key"
        aria-label="Links in this document to definition: permission key">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key"
                aria-label="Permalink for definition: permission key. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-permission-key-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-key-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-key-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-key-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-permission-key-6" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-7" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-permission-key-8" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-key-9" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-key-10" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-11" title="§ 5.4 Reacting to users revoking permission">§ 5.4
                    Reacting to users revoking permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-is-equal-to"
        aria-label="Links in this document to definition: is equal to">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-is-equal-to"
                aria-label="Permalink for definition: is equal to. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-is-equal-to-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-is-equal-to-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-is-equal-to-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-powerful-feature"
        aria-label="Links in this document to definition: powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-powerful-feature"
                aria-label="Permalink for definition: powerful feature. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-powerful-feature-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-2" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-3" title="§ 3. Model">§ 3. Model</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-4" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-powerful-feature-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-powerful-feature-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-powerful-feature-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-powerful-feature-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-powerful-feature-9" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-powerful-feature-10" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-11" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a>
                <a href="#ref-for-dfn-powerful-feature-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-13" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a> <a
                    href="#ref-for-dfn-powerful-feature-14" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-15" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-powerful-feature-16" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-powerful-feature-17" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-powerful-feature-18" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-powerful-feature-19" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-powerful-feature-20" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-powerful-feature-21" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-powerful-feature-22" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-powerful-feature-23" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-powerful-feature-24" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-powerful-feature-25" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-powerful-feature-26" title="Reference 12">(12)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-27"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-28" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-29"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a> <a href="#ref-for-dfn-powerful-feature-30"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-31" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-32" title="§ C.1 Purpose">§ C.1 Purpose</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-33" title="§ C.2 Change Process">§ C.2 Change Process</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-34" title="§ C.3 Registry table of standardized permissions">§
                    C.3 Registry table of standardized permissions</a> <a href="#ref-for-dfn-powerful-feature-35"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-powerful-feature-36" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-powerful-feature-37" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-powerful-feature-38" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-powerful-feature-39" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-40" title="§ C.4 Registry table of provisional permissions">§ C.4
                    Registry table of provisional permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-41" title="§ D. Privacy considerations">§ D. Privacy
                    considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-name"
        aria-label="Links in this document to definition: name">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-name"
                aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-name-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-name-2" title="§ 5.1 Reading the current permission state">§ 5.1 Reading the
                    current permission state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-name-3" title="§ A. Relationship to the Permissions Policy specification">§ A.
                    Relationship to the Permissions Policy specification</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-aspects"
        aria-label="Links in this document to definition: aspects">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-aspects"
                aria-label="Permalink for definition: aspects. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-aspects-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dfn-aspects-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permissions-task-source"
        aria-label="Links in this document to definition: permissions task source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permissions-task-source"
                aria-label="Permalink for definition: permissions task source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-2" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-3" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-4" title="§ B. Automated testing">§ B. Automated
                    testing</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-specifies-a-powerful-feature"
        aria-label="Links in this document to definition: specifies a powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-specifies-a-powerful-feature"
                aria-label="Permalink for definition: specifies a powerful feature. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-specifies-a-powerful-feature-1" title="§ 7. Conformance">§ 7. Conformance</a>
            </li>
            <li>
                <a href="#ref-for-dfn-specifies-a-powerful-feature-2" title="§ C.2 Change Process">§ C.2 Change
                    Process</a>
            </li>
            <li>
                <a href="#ref-for-dfn-specifies-a-powerful-feature-3"
                    title="§ C.3 Registry table of standardized permissions">§ C.3 Registry table of standardized
                    permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-descriptor-type"
        aria-label="Links in this document to definition: permission descriptor type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-descriptor-type"
                aria-label="Permalink for definition: permission descriptor type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-2" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-permission-descriptor-type-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-4" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-5" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-6" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-7"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-stronger-than"
        aria-label="Links in this document to definition: stronger than">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-stronger-than"
                aria-label="Permalink for definition: stronger than. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-stronger-than-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-state-constraints"
        aria-label="Links in this document to definition: permission state constraints">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-state-constraints"
                aria-label="Permalink for definition: permission state constraints. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-state-constraints-1"
                    title="§ 5.1 Reading the current permission state">§ 5.1 Reading the current permission state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-extra-permission-data-type"
        aria-label="Links in this document to definition: extra permission data type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-extra-permission-data-type"
                aria-label="Permalink for definition: extra permission data type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-extra-permission-data-type-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-extra-permission-data-type-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-extra-permission-data"
        aria-label="Links in this document to definition: extra permission data">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-extra-permission-data"
                aria-label="Permalink for definition: extra permission data. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-extra-permission-data-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-extra-permission-data-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-extra-permission-data-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-extra-permission-data-constraints"
        aria-label="Links in this document to definition: extra permission data constraints">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-extra-permission-data-constraints"
                aria-label="Permalink for definition: extra permission data constraints. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-extra-permission-data-constraints-1" title="§ 4. Specifying a powerful feature">§
                    4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-result-type"
        aria-label="Links in this document to definition: permission result type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-result-type"
                aria-label="Permalink for definition: permission result type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-result-type-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-permission-result-type-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-result-type-3" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-query-algorithm"
        aria-label="Links in this document to definition: permission query algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-query-algorithm"
                aria-label="Permalink for definition: permission query algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-query-algorithm-1" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-query-algorithm-2" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-default-permission-query-algorithm"
        aria-label="Links in this document to definition: default permission query algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-query-algorithm"
                aria-label="Permalink for definition: default permission query algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-permission-query-algorithm-1" title="§ 4. Specifying a powerful feature">§
                    4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-key-type"
        aria-label="Links in this document to definition: permission key type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key-type"
                aria-label="Permalink for definition: permission key type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-type-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
                <a href="#ref-for-dfn-permission-key-type-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-key-type-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-key-type-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-type-5" title="§ 4. Specifying a powerful feature">§ 4. Specifying
                    a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permission-key-generation-algorithm"
        aria-label="Links in this document to definition: permission key generation algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key-generation-algorithm"
                aria-label="Permalink for definition: permission key generation algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-generation-algorithm-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a> <a
                    href="#ref-for-dfn-permission-key-generation-algorithm-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-generation-algorithm-3"
                    title="§ 5.1 Reading the current permission state">§ 5.1 Reading the current permission state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-generation-algorithm-4"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-default-permission-key-generation-algorithm"
        aria-label="Links in this document to definition: default permission key generation algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-key-generation-algorithm"
                aria-label="Permalink for definition: default permission key generation algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-permission-key-generation-algorithm-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permission-key-comparison-algorithm"
        aria-label="Links in this document to definition: permission key comparison algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key-comparison-algorithm"
                aria-label="Permalink for definition: permission key comparison algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-comparison-algorithm-1" title="§ 3.2 Permission Store">§ 3.2
                    Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-comparison-algorithm-2"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-default-permission-key-comparison-algorithm"
        aria-label="Links in this document to definition: default permission key comparison algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-key-comparison-algorithm"
                aria-label="Permalink for definition: default permission key comparison algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-permission-key-comparison-algorithm-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permission-revocation-algorithm"
        aria-label="Links in this document to definition: permission revocation algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-revocation-algorithm"
                aria-label="Permalink for definition: permission revocation algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-revocation-algorithm-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-revocation-algorithm-2"
                    title="§ 5.4 Reacting to users revoking permission">§ 5.4 Reacting to users revoking permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-default-permission-state"
        aria-label="Links in this document to definition: Default permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-state"
                aria-label="Permalink for definition: Default permission state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-default-powerful-feature"
        aria-label="Links in this document to definition: default powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-powerful-feature"
                aria-label="Permalink for definition: default powerful feature. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-getting-the-current-permission-state"
        aria-label="Links in this document to definition: get the current permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-getting-the-current-permission-state"
                aria-label="Permalink for definition: get the current permission state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-getting-the-current-permission-state-1"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-state"
        aria-label="Links in this document to definition: permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-state"
                aria-label="Permalink for definition: permission state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-state-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-permission-state-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-state-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-state-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-state-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-permission-state-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-permission-state-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-permission-state-8" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-9" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dfn-permission-state-10"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-permission-state-11" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-12"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-13" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the user
                    to choose</a> <a href="#ref-for-dfn-permission-state-14" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-15"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-16" title="§ B. Automated testing">§ B. Automated testing</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-17" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a> <a
                    href="#ref-for-dfn-permission-state-18" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-state-19" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-20" title="§ B.2.1.3.1 The permissions.setPermission Command">§
                    B.2.1.3.1 The permissions.setPermission Command</a> <a href="#ref-for-dfn-permission-state-21"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-22" title="§ D. Privacy considerations">§ D. Privacy
                    considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-request-permission-to-use"
        aria-label="Links in this document to definition: request permission to use">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-request-permission-to-use"
                aria-label="Permalink for definition: request permission to use. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-request-permission-to-use-1"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dfn-request-permission-to-use-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-prompt-the-user-to-choose"
        aria-label="Links in this document to definition: prompt the user to choose">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-prompt-the-user-to-choose"
                aria-label="Permalink for definition: prompt the user to choose. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-prompt-the-user-to-choose-1" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt
                    the user to choose</a> <a href="#ref-for-dfn-prompt-the-user-to-choose-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-prompt-the-user-to-choose-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-react-to-the-user-revoking-permission"
        aria-label="Links in this document to definition: react to the user revoking permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-react-to-the-user-revoking-permission"
                aria-label="Permalink for definition: react to the user revoking permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-react-to-the-user-revoking-permission-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-permissions"
        aria-label="Links in this document to definition: permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-permissions"
                aria-label="Permalink for definition: permissions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-workernavigator-permissions"
        aria-label="Links in this document to definition: permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-workernavigator-permissions"
                aria-label="Permalink for definition: permissions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissions"
        aria-label="Links in this document to definition: Permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissions"
                aria-label="Permalink for definition: Permissions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissions-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-2"
                    title="§ 6.1 Extensions to the Navigator and WorkerNavigator interfaces">§ 6.1 Extensions to the
                    Navigator and WorkerNavigator interfaces</a> <a href="#ref-for-dom-permissions-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-4" title="§ F. IDL Index">§ F. IDL Index</a> <a
                    href="#ref-for-dom-permissions-5" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissiondescriptor"
        aria-label="Links in this document to definition: PermissionDescriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissiondescriptor"
                aria-label="Permalink for definition: PermissionDescriptor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
                <a href="#ref-for-dom-permissiondescriptor-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissiondescriptor-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissiondescriptor-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-permissiondescriptor-5" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-6" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a> <a
                    href="#ref-for-dom-permissiondescriptor-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-8" title="§ 4. Specifying a powerful feature">§ 4. Specifying
                    a powerful feature</a> <a href="#ref-for-dom-permissiondescriptor-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissiondescriptor-10" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissiondescriptor-11" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-12" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dom-permissiondescriptor-13"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-14"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-15" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the
                    user to choose</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-16" title="§ 5.4 Reacting to users revoking permission">§ 5.4
                    Reacting to users revoking permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-17" title="§ 6.2.1 query() method">§ 6.2.1 query() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-18" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-19" title="§ B. Automated testing">§ B. Automated testing</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-20" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-21"
                    title="§ B.2.1.2.1 The permissions.PermissionDescriptor Type">§ B.2.1.2.1 The
                    permissions.PermissionDescriptor Type</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-22"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissiondescriptor-name"
        aria-label="Links in this document to definition: name">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissiondescriptor-name"
                aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-1" title="§ 3.2 Permission Store">§ 3.2 Permission
                    Store</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-2" title="§ 5.1 Reading the current permission state">§
                    5.1 Reading the current permission state</a> <a href="#ref-for-dom-permissiondescriptor-name-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-permissiondescriptor-name-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-permissiondescriptor-name-5"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-6"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-7" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt
                    the user to choose</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-8" title="§ 5.4 Reacting to users revoking permission">§
                    5.4 Reacting to users revoking permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-9" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a> <a href="#ref-for-dom-permissiondescriptor-name-10" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissiondescriptor-name-11" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-12" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-13" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-14"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissions-query"
        aria-label="Links in this document to definition: query()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissions-query"
                aria-label="Permalink for definition: query(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-285612776">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissions-query-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-query-2" title="§ 6.2 Permissions interface">§ 6.2 Permissions
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-query-3" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-query-a-permission"
        aria-label="Links in this document to definition: query a permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-query-a-permission"
                aria-label="Permalink for definition: query a permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus"
        aria-label="Links in this document to definition: PermissionStatus">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus"
                aria-label="Permalink for definition: PermissionStatus. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dom-permissionstatus-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissionstatus-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-5" title="§ 6.2 Permissions interface">§ 6.2 Permissions
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-6" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-7" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-8" title="§ 6.3.5 Garbage collection">§ 6.3.5 Garbage
                    collection</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-9" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate"
        aria-label="Links in this document to definition: PermissionState">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate"
                aria-label="Permalink for definition: PermissionState. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dom-permissionstate-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-3" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dom-permissionstate-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-permissionstate-5" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissionstate-6" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-7" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-8" title="§ B. Automated testing">§ B. Automated testing</a> <a
                    href="#ref-for-dom-permissionstate-9" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-10" title="§ B.2.1.2.2 The permissions.PermissionState Type">§
                    B.2.1.2.2 The permissions.PermissionState Type</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-11" title="§ F. IDL Index">§ F. IDL Index</a> <a
                    href="#ref-for-dom-permissionstate-12" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-query"
        aria-label="Links in this document to definition: [[query]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-query"
                aria-label="Permalink for definition: [[query]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-query-1" title="§ 6.2.1 query() method">§ 6.2.1 query() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-query-2" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating instances</a>
            </li>
            <li>
                <a href="#ref-for-dfn-query-3" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate-granted"
        aria-label="Links in this document to definition: granted">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate-granted"
                aria-label="Permalink for definition: granted. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dom-permissionstate-granted-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-3"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dom-permissionstate-granted-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-5" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt
                    the user to choose</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-6" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-7" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate-denied"
        aria-label="Links in this document to definition: denied">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate-denied"
                aria-label="Permalink for definition: denied. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-2" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dom-permissionstate-denied-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-4" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dom-permissionstate-denied-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-6"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dom-permissionstate-denied-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-8" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the
                    user to choose</a> <a href="#ref-for-dom-permissionstate-denied-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissionstate-denied-10" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissionstate-denied-11" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-12" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-13" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-14" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate-prompt"
        aria-label="Links in this document to definition: prompt">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate-prompt"
                aria-label="Permalink for definition: prompt. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-2"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-3" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-4" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-create-a-permissionstatus"
        aria-label="Links in this document to definition: create a PermissionStatus">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-create-a-permissionstatus"
                aria-label="Permalink for definition: create a PermissionStatus. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-create-a-permissionstatus-1" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus-name"
        aria-label="Links in this document to definition: name">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus-name"
                aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-name-1" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-name-2" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-name-3" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus-state"
        aria-label="Links in this document to definition: state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus-state"
                aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-2" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-3" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-4" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus-onchange"
        aria-label="Links in this document to definition: onchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus-onchange"
                aria-label="Permalink for definition: onchange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-onchange-1" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-onchange-2" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permissionstatus-update-steps"
        aria-label="Links in this document to definition: PermissionStatus update steps">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permissionstatus-update-steps"
                aria-label="Permalink for definition: PermissionStatus update steps. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permissionstatus-update-steps-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-specifications"
        aria-label="Links in this document to definition: specifications">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-specifications"
                aria-label="Permalink for definition: specifications. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-specifications-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionsetparameters"
        aria-label="Links in this document to definition: PermissionSetParameters">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionsetparameters"
                aria-label="Permalink for definition: PermissionSetParameters. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-1" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-2"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-permissionsetparameters-descriptor"
        aria-label="Links in this document to definition: descriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionsetparameters-descriptor"
                aria-label="Permalink for definition: descriptor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-descriptor-1" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-permissionsetparameters-state" aria-label="Links in this document to definition: state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionsetparameters-state"
                aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-state-1" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a> <a href="#ref-for-dom-permissionsetparameters-state-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-a-permission"
        aria-label="Links in this document to definition: set a permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-a-permission"
                aria-label="Permalink for definition: set a permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-set-a-permission-1" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-a-permission-2" title="§ B.2.1.3.1 The permissions.setPermission Command">§
                    B.2.1.3.1 The permissions.setPermission Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-permission"
        aria-label="Links in this document to definition: Set Permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-permission"
                aria-label="Permalink for definition: Set Permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-set-permission-1" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permissions"
        aria-label="Links in this document to definition: permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permissions"
                aria-label="Permalink for definition: permissions. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permissions-1" title="§ 3. Model">§ 3. Model</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-permission-0"
        aria-label="Links in this document to definition: Set Permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-permission-0"
                aria-label="Permalink for definition: Set Permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-change-process"
        aria-label="Links in this document to definition: change process">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-change-process"
                aria-label="Permalink for definition: change process. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-change-process-1" title="§ C.1 Purpose">§ C.1 Purpose</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-standardized-permission"
        aria-label="Links in this document to definition: standardized permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-standardized-permission"
                aria-label="Permalink for definition: standardized permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-standardized-permission-1"
                    title="§ C.4 Registry table of provisional permissions">§ C.4 Registry table of provisional
                    permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-table-of-standardized-permissions-of-the-web-platform"
        aria-label="Links in this document to definition: Table of standardized permissions of the web platform">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-table-of-standardized-permissions-of-the-web-platform"
                aria-label="Permalink for definition: Table of standardized permissions of the web platform. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-table-of-standardized-permissions-of-the-web-platform-1"
                    title="§ C.2 Change Process">§ C.2 Change Process</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-table-of-provisional-permissions"
        aria-label="Links in this document to definition: Table of provisional permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-table-of-provisional-permissions"
                aria-label="Permalink for definition: Table of provisional permissions. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-table-of-provisional-permissions-1" title="§ C.2 Change Process">§ C.2 Change
                    Process</a>
            </li>
        </ul>
    </div>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>