<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="ja-JP">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 9651 - HTTPのための構造化フィールド値</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = {};
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC9651">
    <meta property="og:description" content="Structured Field Values for HTTP">
    <meta property="og:url" content="https://httpwg.org/specs/rfc9651.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css"
        href="https://httpwg.org/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://httpwg.org/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 Defining New Structured Fields" href="#rfc.section.2">
    <link rel="Chapter" title="3 Structured Data Types" href="#rfc.section.3">
    <link rel="Chapter" title="4 Working with Structured Fields in HTTP" href="#rfc.section.4">
    <link rel="Chapter" title="5 IANA Considerations" href="#rfc.section.5">
    <link rel="Chapter" title="6 Security Considerations" href="#rfc.section.6">
    <link rel="Chapter" title="7 References" href="#rfc.section.7">
    <link rel="Appendix" title="A Frequently Asked Questions" href="#rfc.section.A">
    <link rel="Appendix" title="B Implementation Notes" href="#rfc.section.B">
    <link rel="Appendix" title="C ABNF" href="#rfc.section.C">
    <link rel="Appendix" title="D Changes from RFC 8941" href="#rfc.section.D">
    <link rel="Appendix" title="Acknowledgements" href="#rfc.section.unnumbered-4">
    <link href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-sfbis-06" rel="prev">
    <link href="https://dx.doi.org/10.17487/rfc9651" rel="alternate">
    <link href="urn:issn:2070-1721" rel="alternate">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc9651.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="https://www.rfc-editor.org/info/rfc9651">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="trailer, header">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Nottingham, M.">
    <meta name="dcterms.creator" content="Kamp, P-H.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:9651">
    <meta name="dcterms.issued" content="2024-09">
    <meta name="dct.replaces" content="urn:ietf:rfc:8941">
    <meta name="dcterms.abstract"
        content="This document describes a set of data types and associated algorithms that are intended to make it easier and safer to define and handle HTTP header and trailer fields, known as &#34;Structured Fields&#34;, &#34;Structured Headers&#34;, or &#34;Structured Trailers&#34;. It is intended for use by specifications of new HTTP fields.This document obsoletes RFC 8941.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="This document describes a set of data types and associated algorithms that are intended to make it easier and safer to define and handle HTTP header and trailer fields, known as &#34;Structured Fields&#34;, &#34;Structured Headers&#34;, or &#34;Structured Trailers&#34;. It is intended for use by specifications of new HTTP fields.This document obsoletes RFC 8941.">
</head>

<body onload="getMeta(9651,'rfc.meta');">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>9651</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">導入</a>
                                    <ul>
                                        <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#strict">意図的に厳格な処理</a></li>
                                        <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#notational-conventions">記法上の慣例</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#specify">新しい
                                        構造化フィールドの定義</a>
                                    <ul>
                                        <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#example">例</a></li>
                                        <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#error-handling">エラー処理</a></li>
                                        <li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#preserving-extensibility">拡張性の保持</a></li>
                                        <li><a href="#rfc.section.2.4">2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#using-new-structured-types-in-extensions">拡張における新しい構造化型の使用</a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#types">構造化データ
                                        型</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#list">リスト</a>
                                            <ul>
                                                <li><a href="#rfc.section.3.1.1">3.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#inner-list">内部リスト</a></li>
                                                <li><a href="#rfc.section.3.1.2">3.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#param">パラメータ</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#dictionary">辞書</a></li>
                                        <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a href="#item">項目</a>
                                            <ul>
                                                <li><a href="#rfc.section.3.3.1">3.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#integer">整数</a></li>
                                                <li><a href="#rfc.section.3.3.2">3.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#decimal">小数</a></li>
                                                <li><a href="#rfc.section.3.3.3">3.3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#string">文字列</a></li>
                                                <li><a href="#rfc.section.3.3.4">3.3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#token">トークン</a></li>
                                                <li><a href="#rfc.section.3.3.5">3.3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#binary">バイト列</a></li>
                                                <li><a href="#rfc.section.3.3.6">3.3.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#boolean">ブール値</a></li>
                                                <li><a href="#rfc.section.3.3.7">3.3.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#date">日付</a></li>
                                                <li><a href="#rfc.section.3.3.8">3.3.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#displaystring">表示文字列</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#text">HTTPにおける
                                        構造化フィールドの扱い</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#text-serialize">構造化フィールドのシリアライズ</a>
                                            <ul>
                                                <li><a href="#rfc.section.4.1.1">4.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-list">リストのシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.2">4.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-dictionary">辞書のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.3">4.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-item">項目のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.4">4.1.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-integer">整数のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.5">4.1.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-decimal">小数のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.6">4.1.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-string">文字列のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.7">4.1.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-token">トークンのシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.8">4.1.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-binary">バイト列のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.9">4.1.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-boolean">ブール値のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.10">4.1.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-date">日付のシリアライズ</a></li>
                                                <li><a href="#rfc.section.4.1.11">4.1.11.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-display">表示文字列のシリアライズ</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#text-parse">構造化フィールドの解析</a>
                                            <ul>
                                                <li><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-list">リストの解析</a></li>
                                                <li><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-dictionary">辞書の解析</a></li>
                                                <li><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-item">項目の解析</a></li>
                                                <li><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-number">整数または小数の解析</a></li>
                                                <li><a href="#rfc.section.4.2.5">4.2.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-string">文字列の解析</a></li>
                                                <li><a href="#rfc.section.4.2.6">4.2.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-token">トークンの解析</a></li>
                                                <li><a href="#rfc.section.4.2.7">4.2.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-binary">バイト列の解析</a></li>
                                                <li><a href="#rfc.section.4.2.8">4.2.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-boolean">ブール値の解析</a></li>
                                                <li><a href="#rfc.section.4.2.9">4.2.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-date">日付の解析</a></li>
                                                <li><a href="#rfc.section.4.2.10">4.2.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-display">表示文字列の解析</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#iana">IANA
                                        に関する考慮事項</a></li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#security">セキュリティ
                                        に関する考慮事項</a></li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                                    <ul>
                                        <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">規範的参考文献</a></li>
                                        <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.3">情報的参考文献</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#faq">よくある質問</a>
                                    <ul>
                                        <li><a href="#rfc.section.A.1">A.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#why-not-json">なぜJSONではないのか？</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#implementation-notes">実装ノート</a></li>
                                <li><a href="#rfc.section.C">Appendix C.</a>&nbsp;&nbsp;&nbsp;<a href="#abnf">ABNF</a>
                                </li>
                                <li><a href="#rfc.section.D">Appendix D.</a>&nbsp;&nbsp;&nbsp;<a href="#changes">RFC
                                        8941からの変更点</a></li>
                                <li><a href="#acknowledgements">謝辞</a></li>
                                <li><a href="#rfc.authors">著者の連絡先</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">インターネット技術タスクフォース (IETF)</td>
                                <td class="text-right">M. Nottingham</td>
                            </tr>
                            <tr>
                                <td class="text-left">Request for Comments: 9651</td>
                                <td class="text-right">Cloudflare</td>
                            </tr>
                            <tr>
                                <td class="text-left">廃止: <a href="https://www.rfc-editor.org/rfc/rfc8941.html">8941</a>
                                </td>
                                <td class="text-right">P-H. Kamp</td>
                            </tr>
                            <tr>
                                <td class="text-left">カテゴリ: 標準トラック</td>
                                <td class="text-right">The Varnish Cache Project</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN: 2070-1721</td>
                                <td class="text-right">2024年9月</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>HTTPのための構造化フィールド値</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">概要</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>本書は、HTTPヘッダおよびトレイラ（"Structured Fields"、"Structured Headers"、または "Structured Trailers"
                            と呼ばれる）の定義と取り扱いを、より簡単かつ安全にすることを目的とした一連のデータ型と関連アルゴリズムについて説明します。新しいHTTPフィールドの仕様での使用を想定しています。
                        </p>
                    </div>
                    <div id="rfc.abstract.p.2">
                        <p>本書はRFC 8941を廃止します。</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">このメモの状態</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>本書はインターネット標準トラック文書です。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>本書はインターネット技術タスクフォース（IETF）の成果物です。IETFコミュニティのコンセンサスを反映しています。公開審査を受け、インターネット技術審議グループ（IESG）によって出版が承認されました。インターネット標準に関する詳細は<a
                                href="https://www.rfc-editor.org/rfc/rfc7841.html#section-2">RFC
                                7841のセクション2</a>を参照してください。
                        </p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>本書の現状、訂正情報、及びフィードバックの提供方法に関する情報は<a
                                href="https://www.rfc-editor.org/info/rfc9651">https://www.rfc-editor.org/info/rfc9651</a>で入手できます。
                        </p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2024 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>)
                            in effect on the date of publication of this document. Please review these documents
                            carefully, as they describe your rights and restrictions with respect to this document. Code
                            Components extracted from this document must include Revised BSD License text as described
                            in Section 4.e of the Trust Legal Provisions and are provided without warranty as described
                            in the Revised BSD License.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">導入</a>
                            <ul>
                                <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a href="#strict">意図的に厳格な処理</a>
                                </li>
                                <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#notational-conventions">記法上の慣例</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#specify">新しい構造化フィールドの定義</a>
                            <ul>
                                <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#example">例</a>
                                </li>
                                <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#error-handling">エラー処理</a></li>
                                <li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#preserving-extensibility">拡張性の保持</a></li>
                                <li><a href="#rfc.section.2.4">2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#using-new-structured-types-in-extensions">拡張における新しい構造化型の使用</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#types">構造化データ型</a>
                            <ul>
                                <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#list">リスト</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1.1">3.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#inner-list">内部リスト</a></li>
                                        <li><a href="#rfc.section.3.1.2">3.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#param">パラメータ</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a href="#dictionary">辞書</a>
                                </li>
                                <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a href="#item">項目</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.3.1">3.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#integer">整数</a></li>
                                        <li><a href="#rfc.section.3.3.2">3.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#decimal">小数</a></li>
                                        <li><a href="#rfc.section.3.3.3">3.3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#string">文字列</a></li>
                                        <li><a href="#rfc.section.3.3.4">3.3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#token">トークン</a></li>
                                        <li><a href="#rfc.section.3.3.5">3.3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#binary">バイト列</a></li>
                                        <li><a href="#rfc.section.3.3.6">3.3.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#boolean">ブール値</a></li>
                                        <li><a href="#rfc.section.3.3.7">3.3.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#date">日付</a></li>
                                        <li><a href="#rfc.section.3.3.8">3.3.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#displaystring">表示文字列</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#text">HTTPにおける構造化フィールドの扱い</a>
                            <ul>
                                <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#text-serialize">構造化フィールドのシリアライズ</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1.1">4.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-list">リストのシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.2">4.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-dictionary">辞書のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.3">4.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-item">項目のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.4">4.1.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-integer">整数のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.5">4.1.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-decimal">小数のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.6">4.1.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-string">文字列のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.7">4.1.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-token">トークンのシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.8">4.1.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-binary">バイト列のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.9">4.1.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-boolean">ブール値のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.10">4.1.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-date">日付のシリアライズ</a></li>
                                        <li><a href="#rfc.section.4.1.11">4.1.11.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-display">表示文字列のシリアライズ</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#text-parse">構造化フィールドの解析</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-list">リストの解析</a></li>
                                        <li><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-dictionary">辞書の解析</a></li>
                                        <li><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-item">項目の解析</a></li>
                                        <li><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-number">整数または小数の解析</a></li>
                                        <li><a href="#rfc.section.4.2.5">4.2.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-string">文字列の解析</a></li>
                                        <li><a href="#rfc.section.4.2.6">4.2.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-token">トークンの解析</a></li>
                                        <li><a href="#rfc.section.4.2.7">4.2.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-binary">バイト列の解析</a></li>
                                        <li><a href="#rfc.section.4.2.8">4.2.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-boolean">ブール値の解析</a></li>
                                        <li><a href="#rfc.section.4.2.9">4.2.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-date">日付の解析</a></li>
                                        <li><a href="#rfc.section.4.2.10">4.2.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-display">表示文字列の解析</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#iana">IANAに関する考慮事項</a>
                        </li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#security">セキュリティに関する考慮事項</a></li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                            <ul>
                                <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">規範的参考文献</a></li>
                                <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.3">情報的参考文献</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#faq">よくある質問</a>
                            <ul>
                                <li><a href="#rfc.section.A.1">A.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#why-not-json">なぜJSONではないのか？</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#implementation-notes">実装ノート</a></li>
                        <li><a href="#rfc.section.C">Appendix C.</a>&nbsp;&nbsp;&nbsp;<a href="#abnf">ABNF</a></li>
                        <li><a href="#rfc.section.D">Appendix D.</a>&nbsp;&nbsp;&nbsp;<a href="#changes">RFC
                                8941からの変更点</a></li>
                        <li><a href="#acknowledgements">謝辞</a></li>
                        <li><a href="#rfc.authors">著者の連絡先</a></li>
                    </ul>
                </div>
                <hr class="hidden-print">
                <section id="introduction">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a
                            href="#introduction">導入</a></h2>
                    <div id="rfc.section.1.p.1">
                        <p>新しいHTTPヘッダ（およびトレイラ）フィールドの構文を特定することは骨の折れる作業です。<a
                                href="https://www.rfc-editor.org/rfc/rfc9110.html#section-16.3.2">Section 16.3.2</a> of
                            <a href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a>
                            に示される指針があっても、将来のフィールド作成者には多くの判断と落とし穴が存在します。
                        </p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <p>フィールドが定義されると、それぞれのフィールド値が共通に見える構文をわずかに異なる方法で扱うため、しばしば専用のパーサやシリアライザを作成する必要があります。</p>
                    </div>
                    <div id="rfc.section.1.p.3">
                        <p>本書は、これらの問題に対処するために、新しいHTTPフィールド値の定義で使用する共通のデータ構造群を導入します。特に、それらの抽象的な共通モデルと、そのモデルをHTTPのヘッダおよびトレイラフィールド内で表現するための具体的なシリアライゼーションを定義します（<a
                                href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a>参照）。</p>
                    </div>
                    <div id="rfc.section.1.p.4">
                        <p>"Structured Header" または "Structured Trailer" として定義されたHTTPフィールド（両方で使用可能な場合は "Structured
                            Field"）は、本仕様で定義された型を用いてその構文と基本的取り扱い規則を定義します。これにより、仕様作成者による定義と実装者による取扱いが簡素化されます。</p>
                    </div>
                    <div id="rfc.section.1.p.5">
                        <p>さらに、将来のHTTPのバージョンはこれらの構造の抽象モデルの別のシリアライゼーションを定義でき、モデルを使用するフィールドを再定義することなくより効率的に送信できるようになります。
                        </p>
                    </div>
                    <div id="rfc.section.1.p.6">
                        <p>本仕様の目的は既存のHTTPフィールドの構文を再定義することではない点に注意してください；ここで説明する仕組みは、明示的にそれらを採用するフィールドでのみ使用することを意図しています。
                        </p>
                    </div>
                    <div id="rfc.section.1.p.7">
                        <p><a href="#specify" title="Defining New Structured Fields">Section 2</a> では、Structured Field
                            をどのように指定するかを説明します。</p>
                    </div>
                    <div id="rfc.section.1.p.8">
                        <p><a href="#types" title="Structured Data Types">Section 3</a> は、Structured Fields
                            で使用できる複数の抽象データ型を定義します。</p>
                    </div>
                    <div id="rfc.section.1.p.9">
                        <p>これらの抽象型は、<a href="#text" title="Working with Structured Fields in HTTP">Section 4</a>
                            に記載されたアルゴリズムを用いて、HTTPフィールド値へシリアライズおよびHTTPフィールド値からのパースが可能です。</p>
                    </div>
                    <section id="strict">
                        <h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a
                                href="#strict">意図的に厳格な処理</a></h3>
                        <div id="rfc.section.1.1.p.1">
                            <p>本仕様は、逐次的なアルゴリズムによって厳格なパースおよびシリアライズ動作を意図的に定義しており、定義される唯一のエラー処理は操作全体を完全に失敗させることです。</p>
                        </div>
                        <div id="rfc.section.1.1.p.2">
                            <p>これは忠実な実装と良好な相互運用性を促進するよう設計されています。したがって、入力に対して寛容になろうとする実装は、類似する（しかし微妙に異なる可能性のある）回避策を他の実装にも実装させる圧力を生み、相互運用性を悪化させる可能性があります。
                            </p>
                        </div>
                        <div id="rfc.section.1.1.p.3">
                            <p>言い換えれば、厳格な処理は本仕様の意図的な特徴であり、非準拠の入力を生産者の側で早期に発見・修正させ、さもなければ発生し得る相互運用性やセキュリティの問題を回避します。</p>
                        </div>
                        <div id="rfc.section.1.1.p.4">
                            <p>この厳格さの結果として、複数の当事者（例えば、中継や送信側の異なるコンポーネント）がフィールドを追記する場合、ある当事者の値に誤りがあるとフィールド全体の解析が失敗する可能性が高いことに注意してください。
                            </p>
                        </div>
                    </section>
                    <section id="notational-conventions">
                        <h3 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a>&nbsp;<a
                                href="#notational-conventions">記法上の慣例</a></h3>
                        <div id="rfc.section.1.2.p.1">
                            <p>本書中のキーワード "<em class="bcp14">MUST</em>", "<em class="bcp14">MUST NOT</em>", "<em
                                    class="bcp14">REQUIRED</em>", "<em class="bcp14">SHALL</em>", "<em
                                    class="bcp14">SHALL NOT</em>", "<em class="bcp14">SHOULD</em>", "<em
                                    class="bcp14">SHOULD NOT</em>", "<em class="bcp14">RECOMMENDED</em>", "<em
                                    class="bcp14">NOT RECOMMENDED</em>", "<em class="bcp14">MAY</em>", および "<em
                                    class="bcp14">OPTIONAL</em>" は、すべて大文字で現れる場合に限り <span class="nobr">BCP 14</span> の <a
                                    href="#RFC2119"><cite
                                        title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>
                                および <a href="#RFC8174"><cite
                                        title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</cite></a>
                                に記載された通りに解釈されます。</p>
                        </div>
                        <div id="rfc.section.1.2.p.2">
                            <p>本書は、文字や対応するASCIIバイトを指定するために <a href="#RFC5234"><cite
                                        title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> の
                                VCHAR、SP、DIGIT、ALPHA、および DQUOTE のルールを使用します。また同様の目的で <a href="#RFC9110"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a> の tchar および OWS のルールも使用します。</p>
                        </div>
                        <div id="rfc.section.1.2.p.3">
                            <p>本書はパースおよびシリアライズの動作を指定するためにアルゴリズムを使用します。HTTPフィールドからのパース時には、実装はアルゴリズムに従うことと識別不可能な振る舞いを持たなければなりません
                                (<em class="bcp14">MUST</em>)。</p>
                        </div>
                        <div id="rfc.section.1.2.p.4">
                            <p>HTTPフィールドへのシリアライズについては、アルゴリズムはそれを生成するための推奨方法を定義します。出力が <a href="#text-parse"
                                    title="Parsing Structured Fields">Section 4.2</a>
                                に記載されたパースアルゴリズムによって正しく処理される限り、実装は指定された動作から逸脱してもよい (<em class="bcp14">MAY</em>) ことを許容します。
                            </p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="specify">
                    <h2 id="rfc.section.2" class="np"><a href="#rfc.section.2">2.</a>&nbsp;<a
                            href="#specify">新しい構造化フィールドの定義</a></h2>
                    <div id="rfc.section.2.p.1" class="avoidbreakafter">
                        <p>HTTPフィールドを Structured Field として指定するには、その作成者は次を行う必要があります：</p>
                    </div>
                    <div id="rfc.section.2.p.2">
                        <ul>
                            <li>
                                <div>
                                    <p>本仕様への規範的な参照を明示すること。フィールドの受信者および生成者は本書の要件が適用されることを知る必要があります。</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>そのフィールドが Structured Header（ヘッダ領域でのみ使用される、一般的なケース）、Structured
                                        Trailer（トレイラ領域でのみ）、または Structured Field（両方）であるかを明示すること。</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>フィールド値の型を指定すること；List（<a href="#list" title="Lists">Section 3.1</a>）、Dictionary（<a
                                            href="#dictionary" title="Dictionaries">Section 3.2</a>）、または Item（<a
                                            href="#item" title="Items">Section 3.3</a>）のいずれか。</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>フィールド値の意味論を定義すること。</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>フィールド値に対する追加の制約およびそれらの制約が破られた場合の結果を指定すること。</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div id="rfc.section.2.p.3">
                        <p>通常、これはフィールド定義がトップレベルの型（List、Dictionary、または
                            Item）を指定し、次にその許容型およびそれらに対する制約を定義することを意味します。例えば、List
                            として定義されたヘッダはすべて整数メンバを持つか、型の混在を許すかもしれません；Item として定義されたヘッダは文字列のみを許可し、さらに "Q"
                            で始まる文字列のみや小文字のみを許す、といった具合です。同様に、内部リスト（<a href="#inner-list" title="Inner Lists">Section
                                3.1.1</a>）はフィールド定義が明示的にそれらを許可する場合にのみ有効です。</p>
                    </div>
                    <div id="rfc.section.2.p.4">
                        <p>Display String 型を使用するフィールドは、許容されるUnicodeコードポイントを慎重に指定することが推奨されます。例えば、<a href="#RFC8264"><cite
                                    title="PRECIS Framework: Preparation, Enforcement, and Comparison of Internationalized Strings in Application Protocols">[PRECIS]</cite></a>
                            のプロファイルの使用を指定するなどです。</p>
                    </div>
                    <div id="rfc.section.2.p.5">
                        <p>フィールド定義はフィールド値の一部分に対してではなく、全体に対して本仕様を使用することができます。</p>
                    </div>
                    <div id="rfc.section.2.p.6">
                        <p>仕様書はフィールド名を適宜 "Structured Header name"、"Structured Trailer name"、あるいは "Structured Field name"
                            と参照することができます。同様にフィールド値を "Structured Header value"、"Structured Trailer value"、または "Structured
                            Field value" と呼ぶことができます。</p>
                    </div>
                    <div id="rfc.section.2.p.7">
                        <p>本仕様は実装がサポートする様々な構造の長さや数の最小限を定義します。多くの場合で最大サイズを指定はしませんが、仕様作成者はHTTP実装が個々のフィールドのサイズ、フィールドの総数、および／またはヘッダやトレイラ全体のサイズに対して様々な制限を課すことを認識すべきです。
                        </p>
                    </div>
                    <section id="example">
                        <h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a href="#example">例</a>
                        </h3>
                        <div id="rfc.section.2.1.p.1" class="avoidbreakafter">
                            <p>架空の Foo-Example ヘッダフィールドは次のように指定されるかもしれません：</p>
                        </div>
                        <div id="rfc.section.2.1.p.2">
                            <blockquote>
                                <div id="rfc.section.2.1.p.2.1">
                                    <p>42. Foo-Example Header Field</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.2">
                                    <p>Foo-Example HTTP ヘッダフィールドは、メッセージがどれだけの Foo を含むかに関する情報を伝達します。</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.3">
                                    <p>Foo-Example は Item 構造化ヘッダフィールドです [RFC9651]。その値は <em class="bcp14">MUST</em>
                                        整数（[RFC9651] の Section 3.3.1）でなければなりません。</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.4">
                                    <p>その値はメッセージ中の Foo の量を示し、0 から 10（両端含む）の間である <em class="bcp14">MUST</em>
                                        です；その他の値はフィールド全体を無視する原因となります。</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.5" class="avoidbreakafter">
                                    <p>次のパラメータが定義されています：</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.6">
                                    <ul>
                                        <li>A キーが "foourl" で、その値が文字列（[RFC9651] の Section 3.3.3）であり、メッセージの Foo URL
                                            を伝えるパラメータ。処理要件は以下を参照。</li>
                                    </ul>
                                </div>
                                <div id="rfc.section.2.1.p.2.7">
                                    <p>"foourl" は URI-reference（[RFC3986] の Section 4.1）を含みます。値が有効な URI-reference
                                        でない場合、フィールド全体は <em class="bcp14">MUST</em> 無視されます。値が相対参照（[RFC3986] の Section
                                        4.2）である場合、使用前に解決（[RFC3986] の Section 5）されなければなりません。</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.8" class="avoidbreakafter">
                                    <p>例えば：</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.9">
                                    <pre>
  Foo-Example: 2; foourl="https://foo.example.com/"
</pre>
                                </div>
                            </blockquote>
                        </div>
                    </section>
                    <section id="error-handling">
                        <h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a
                                href="#error-handling">エラー処理</a></h3>
                        <div id="rfc.section.2.2.p.1">
                            <p>パースが失敗した場合、フィールド全体が無視されます（<a href="#text-parse" title="Parsing Structured Fields">Section
                                    4.2</a>参照）。フィールド定義はこれを上書きできません。なぜなら上書きすると汎用ソフトウェアでの処理ができなくなるからです；フィールド定義は数値の範囲、文字列やトークンの形式、辞書値に許される型、リスト中の項目数などに関する追加の制約を加えることはできますが、パース全体の失敗動作自体を変更することはできません。
                            </p>
                        </div>
                        <div id="rfc.section.2.2.p.2">
                            <p>フィールド固有の制約が破られた場合も、フィールド全体は無視されます（そのフィールド定義が他の処理要件を明示的に定めている場合を除く）。例えば、あるヘッダフィールドが Item
                                として定義され整数であることを要求されているにもかかわらず文字列が受信された場合、そのフィールドはそのフィールド定義が明示的に別の処理を指定していない限り無視されるべきです。
                            </p>
                        </div>
                    </section>
                    <section id="preserving-extensibility">
                        <h3 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a>&nbsp;<a
                                href="#preserving-extensibility">拡張性の保持</a></h3>
                        <div id="rfc.section.2.3.p.1">
                            <p>Structured Fields
                                は拡張可能であるように設計されています。経験から、予見できない場合でも、フィールドの許容構文や意味論を制御された方法で変更・追加する必要が生じることが多いことが示されています。
                            </p>
                        </div>
                        <div id="rfc.section.2.3.p.2">
                            <p>Items と Inner Lists
                                の両方は拡張機構としてパラメータを許します；これは必要に応じて後でそれらの値をより多くの情報に対応させるために拡張できることを意味します。前方互換性を保つため、フィールド仕様は未認識のパラメータの存在をエラー条件として定義することを控えるべきです。
                            </p>
                        </div>
                        <div id="rfc.section.2.3.p.3">
                            <p>フィールド仕様は拡張性を保つために Item、List、または Dictionary のいずれかであることが求められます。誤って他の型（例えば
                                Integer）として定義されたフィールドは、Items（すなわちパラメータを許す）であると見なされます。</p>
                        </div>
                        <div id="rfc.section.2.3.p.4">
                            <p>この拡張性が将来も利用可能であることをさらに保証し、受信者が完全なパーサ実装を使用することを促すために、フィールド定義は送信者が "grease"
                                パラメータを追加することを指定できます。仕様はあるパターンに合致するすべてのパラメータをこの目的のために予約し、それらをリクエストの一部で送信することを推奨することができます。これは受信者がパラメータを考慮しないパーサを書かないよう促すのに役立ちます。
                            </p>
                        </div>
                        <div id="rfc.section.2.3.p.5">
                            <p>辞書を使用する仕様は、未知のキーの存在およびその値と型を無視することを要求することで前方互換性を確保することもできます。後続の仕様は追加のキーを定義し、それらに適した制約を明記できます。
                            </p>
                        </div>
                        <div id="rfc.section.2.3.p.6">
                            <p>Structured Field への拡張は、定義する値に関する制約が満たされない場合、拡張を理解する受信者がフィールド値全体を無視することを要求することができます。</p>
                        </div>
                    </section>
                    <section id="using-new-structured-types-in-extensions">
                        <h3 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4.</a>&nbsp;<a
                                href="#using-new-structured-types-in-extensions">拡張における新しい構造化型の使用</a></h3>
                        <div id="rfc.section.2.4.p.1">
                            <p>フィールド定義が Structured Fields の特定の RFC を参照する必要があるため、その値で使用できる型はその RFC
                                で定義された型に限定されます。例えば、本書を参照する定義のフィールドは Date 型（<a href="#date" title="Dates">Section
                                    3.3.7</a>）を使用できますが、RFC 8941
                                を参照する定義のフィールドは使用できません。後者はその仕様に基づく実装により無効（従って破棄）と見なされるからです。</p>
                        </div>
                        <div id="rfc.section.2.4.p.2">
                            <p>この制限はフィールドへの将来の拡張にも適用されます；例えば、RFC 8941 を参照して定義されたフィールドは Date 型を使用できません。なぜなら一部の受信者がまだ RFC
                                8941 に基づくパーサを使用してそれを処理している可能性があるからです。</p>
                        </div>
                        <div id="rfc.section.2.4.p.3">
                            <p>しかしながら、本書は RFC 8941 と後方互換性を持つよう設計されています；ここで定められた要件を実装するパーサは、RFC 8941 を参照する定義の有効な
                                Structured Fields も解析できます。</p>
                        </div>
                        <div id="rfc.section.2.4.p.4">
                            <p>Structured Fields 実装を新しい仕様（本書のような）にアップグレードすると、以前の RFC
                                によって無効と見なされていたフィールド値の一部が処理において有効になる可能性が生じます。</p>
                        </div>
                        <div id="rfc.section.2.4.p.5">
                            <p>例えば、フィールドインスタンスが構文的に有効な Date（<a href="#date" title="Dates">Section
                                    3.3.7</a>）を含む場合、そのフィールド定義が Date を許容していなくともあり得ます。RFC 8941
                                に基づく実装はその仕様で定義されていないためそのようなフィールドインスタンスのパースに失敗します。もしその実装が本仕様へアップグレードされた場合、パースは成功することになります。場合によっては、生成された
                                Date
                                値はフィールド固有のロジックによって拒否されるでしょうが、拡張パラメータのように通常無視されるフィールド内の値は検出されないかもしれず、結果としてフィールドが受理・処理される可能性があります。
                            </p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="types">
                    <h2 id="rfc.section.3" class="np"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#types">構造化データ型</a>
                    </h2>
                    <div id="rfc.section.3.p.1">
                        <p>このセクションでは、Structured Fields が使用する抽象型の概要を示し、それぞれの型がどのようにテキスト形式の HTTP
                            フィールドへシリアライズされるかの簡単な説明と例を示します。<a href="#text"
                                title="Working with Structured Fields in HTTP">Section 4</a> では、テキスト形式の HTTP
                            フィールドからのパースおよびそこへのシリアライズの詳細を規定します。
                        </p>
                    </div>
                    <div id="rfc.section.3.p.2" class="avoidbreakafter">
                        <p>要約すると：</p>
                    </div>
                    <div id="rfc.section.3.p.3">
                        <ul>
                            <li>
                                <div>
                                    <p>HTTP フィールドはトップレベルで 3 種類の型に定義され得ます：リスト、辞書、および項目（Item）。</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>リストと辞書はコンテナであり、そのメンバは項目（Item）または内部リスト（Inner List、これ自体が項目の配列）になり得ます。</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>項目（Item）と内部リストの両方はパラメータで付加情報を持てます。</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <section id="list">
                        <h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a href="#list">リスト</a></h3>
                        <div id="rfc.section.3.1.p.1">
                            <p>リストは0個以上のメンバからなる配列で、各メンバは項目（<a href="#item" title="Items">Section 3.3</a>）または内部リスト（<a
                                    href="#inner-list" title="Inner Lists">Section 3.1.1</a>）のいずれかであり、どちらもパラメータ化（<a
                                    href="#param" title="Parameters">Section 3.1.2</a>）できます。</p>
                        </div>
                        <div id="rfc.section.3.1.p.2">
                            <p>空のリストはフィールドをまったくシリアライズしないことで表されます。これはリストとして定義されたフィールドがデフォルトで空の値を持つことを意味します。</p>
                        </div>
                        <div id="rfc.section.3.1.p.3" class="avoidbreakafter">
                            <p>テキスト形式の HTTP
                                フィールドとしてシリアライズされるとき、各メンバはカンマと任意の空白で区切られます。例えば、値がトークンのリストと定義されたフィールドは次のようになります：</p>
                        </div>
                        <div id="rfc.section.3.1.p.4">
                            <pre class="text">
Example-List: sugar, tea, rum
</pre>
                        </div>
                        <div id="rfc.section.3.1.p.5" class="avoidbreakafter">
                            <p>リストのメンバは、<a href="https://www.rfc-editor.org/rfc/rfc9110.html#section-5.3">RFC 9110
                                    Section 5.3</a> に従い、同じヘッダまたはトレイラセクションの複数行に分けられることがある点に注意してください。例えば、次の 2 つは等価です：</p>
                        </div>
                        <div id="rfc.section.3.1.p.6">
                            <pre class="text">
Example-List: sugar, tea, rum
</pre>
                        </div>
                        <div id="rfc.section.3.1.p.7">
                            <p>および</p>
                        </div>
                        <div id="rfc.section.3.1.p.8">
                            <pre class="text">
Example-List: sugar, tea
Example-List: rum
</pre>
                        </div>
                        <div id="rfc.section.3.1.p.9">
                            <p>ただし、リストの個々のメンバを行間で安全に分割することはできません。詳細は<a href="#text-parse"
                                    title="Parsing Structured Fields">Section 4.2</a>を参照してください。</p>
                        </div>
                        <div id="rfc.section.3.1.p.10">
                            <p>パーサは少なくとも 1024 個のメンバを含むリストをサポートしなければなりません。フィールド仕様は必要に応じて個々のリスト値の型や基数を制約できます。</p>
                        </div>
                        <section id="inner-list">
                            <h4 id="rfc.section.3.1.1"><a href="#rfc.section.3.1.1">3.1.1.</a>&nbsp;<a
                                    href="#inner-list">内部リスト</a></h4>
                            <div id="rfc.section.3.1.1.p.1">
                                <p>内部リストは0個以上の項目（<a href="#item" title="Items">Section
                                        3.3</a>）からなる配列です。個々の項目と内部リスト自体の両方がパラメータ化（<a href="#param"
                                        title="Parameters">Section 3.1.2</a>）できます。</p>
                            </div>
                            <div id="rfc.section.3.1.1.p.2" class="avoidbreakafter">
                                <p>テキスト形式の HTTP
                                    フィールドでシリアライズされるとき、内部リストは丸括弧で囲まれ、値は1つ以上の空白で区切られます。値が文字列の内部リストのリストと定義されたフィールドの例は次のようになります：
                                </p>
                            </div>
                            <div id="rfc.section.3.1.1.p.3">
                                <pre class="text">
Example-List: ("foo" "bar"), ("baz"), ("bat" "one"), ()
</pre>
                            </div>
                            <div id="rfc.section.3.1.1.p.4">
                                <p>この例の最後のメンバが空の内部リストである点に注意してください。</p>
                            </div>
                            <div id="rfc.section.3.1.1.p.5" class="avoidbreakafter">
                                <p>両レベルでパラメータを持つ内部リストのリストとして定義されたヘッダフィールドの例は次のようになります：</p>
                            </div>
                            <div id="rfc.section.3.1.1.p.6">
                                <pre class="text">
Example-List: ("foo"; a=1;b=2);lvl=5, ("bar" "baz");lvl=1
</pre>
                            </div>
                            <div id="rfc.section.3.1.1.p.7">
                                <p>パーサは少なくとも 256 個のメンバを含む内部リストをサポートしなければなりません。フィールド仕様は必要に応じて個々の内部リストメンバの型や基数を制約できます。</p>
                            </div>
                        </section>
                        <section id="param">
                            <h4 id="rfc.section.3.1.2"><a href="#rfc.section.3.1.2">3.1.2.</a>&nbsp;<a
                                    href="#param">パラメータ</a></h4>
                            <div id="rfc.section.3.1.2.p.1">
                                <p>パラメータは項目（<a href="#item" title="Items">Section 3.3</a>）または内部リスト（<a href="#inner-list"
                                        title="Inner Lists">Section
                                        3.1.1</a>）に関連付けられたキーと値の順序付けされたマップです。キーはそれが出現するパラメータの範囲内で一意であり、値は裸の項目（つまり、それ自体をパラメータ化できません；詳細は
                                    <a href="#item" title="Items">Section 3.3</a> を参照）です。
                                </p>
                            </div>
                            <div id="rfc.section.3.1.2.p.2">
                                <p>実装はインデックスおよびキーの両方でパラメータへアクセスできるようにしなければなりません。仕様はどちらのアクセス手段を使用してもよいとしています。</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.3">
                                <p>パラメータは順序付きであり、パラメータキーは大文字を含めることができない点に注意してください。</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.4" class="avoidbreakafter">
                                <p>テキスト形式の HTTP フィールドでシリアライズされるとき、パラメータは項目または内部リストおよび他のパラメータとセミコロンで区切られます。例えば：</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.5">
                                <pre class="text">
Example-List: abc;a=1;b=2; cde_456, (ghi;jk=4 l);q="9";r=w
</pre>
                            </div>
                            <div id="rfc.section.3.1.2.p.6" class="avoidbreakafter">
                                <p>値がブール true のパラメータ（<a href="#boolean" title="Booleans">Section
                                        3.3.6</a>）は、シリアライズ時にその値を省略しなければなりません。例えば、ここでは "a" パラメータが true、"b" パラメータが false
                                    です：</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.7">
                                <pre class="text">
Example-Integer: 1; a; b=?0
</pre>
                            </div>
                            <div id="rfc.section.3.1.2.p.8">
                                <p>この要件はシリアライズ時のみのものである点に注意してください；パーサはパラメータに true の値が現れる場合でも正しく扱う必要があります。</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.9">
                                <p>パーサは項目または内部リストに少なくとも 256 個のパラメータと、少なくとも 64
                                    文字のパラメータキーをサポートしなければなりません。フィールド仕様は個々のパラメータの順序や値の型を必要に応じて制約できます。</p>
                            </div>
                        </section>
                    </section>
                    <section id="dictionary">
                        <h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a href="#dictionary">辞書</a>
                        </h3>
                        <div id="rfc.section.3.2.p.1">
                            <p>辞書はキーと値の順序付けられたマップで、キーは短いテキスト文字列、値は項目（<a href="#item" title="Items">Section
                                    3.3</a>）または項目の配列であり、どちらもパラメータ化（<a href="#param" title="Parameters">Section
                                    3.1.2</a>）できます。メンバは0個以上存在し、そのキーは辞書の範囲内で一意です。</p>
                        </div>
                        <div id="rfc.section.3.2.p.2">
                            <p>実装はインデックスおよびキーの両方で辞書へアクセスできるようにしなければなりません。仕様はどちらのアクセス手段を使ってもよいとしています。</p>
                        </div>
                        <div id="rfc.section.3.2.p.3">
                            <p>リストと同様に、空の辞書はフィールドを省略することで表されます。これは辞書として定義されたフィールドがデフォルトで空の値を持つことを意味します。</p>
                        </div>
                        <div id="rfc.section.3.2.p.4">
                            <p>通常、フィールド仕様は辞書の意味論を、個々のメンバのキーごとに許容される型を指定し、またその存在が必須か任意かを明示することで定義します。受信側は、キーが未定義または不明なメンバを無視しなければなりません（フィールド仕様が明示的にそれらを許可しない場合を除く）。
                            </p>
                        </div>
                        <div id="rfc.section.3.2.p.5" class="avoidbreakafter">
                            <p>テキスト形式の HTTP
                                フィールドとしてシリアライズされるとき、メンバはシリアライズ順に並べられ、カンマと任意の空白で区切られます。メンバキーには大文字を含めることはできません。キーと値は等号
                                "="（空白なし）で区切られます。例えば：</p>
                        </div>
                        <div id="rfc.section.3.2.p.6">
                            <pre class="text">
Example-Dict: en="Applepie", da=:w4ZibGV0w6ZydGU=:
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.7">
                            <p>この例で最後の "=" はバイト列の含有によるものである点に注意してください。詳細は <a href="#binary"
                                    title="Byte Sequences">Section 3.3.5</a> を参照してください。</p>
                        </div>
                        <div id="rfc.section.3.2.p.8" class="avoidbreakafter">
                            <p>値がブール true のメンバ（<a href="#boolean" title="Booleans">Section
                                    3.3.6</a>）は、シリアライズ時にその値を省略しなければなりません。例えば、ここでは "b" と "c" の両方が true です：</p>
                        </div>
                        <div id="rfc.section.3.2.p.9">
                            <pre class="text">
Example-Dict: a=?0, b, c; foo=bar
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.10">
                            <p>この要件はシリアライズ時のみのものである点に注意してください；パーサは辞書の値に true のブール値が現れる場合でも正しく扱う必要があります。</p>
                        </div>
                        <div id="rfc.section.3.2.p.11" class="avoidbreakafter">
                            <p>値がトークンの内部リストを持つ辞書の例：</p>
                        </div>
                        <div id="rfc.section.3.2.p.12">
                            <pre class="text">
Example-Dict: rating=1.5, feelings=(joy sadness)
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.13" class="avoidbreakafter">
                            <p>項目と内部リストが混在し、一部にパラメータを持つ辞書の例：</p>
                        </div>
                        <div id="rfc.section.3.2.p.14">
                            <pre class="text">
Example-Dict: a=(1 2), b=3, c=4;aa=bb, d=(5 6);valid
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.15" class="avoidbreakafter">
                            <p>辞書のメンバも同一のヘッダまたはトレイラセクション内の複数行に分割できる点に注意してください。例えば、次の2つは等価です：</p>
                        </div>
                        <div id="rfc.section.3.2.p.16">
                            <pre class="text">
Example-Dict: foo=1, bar=2
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.17">
                            <p>および</p>
                        </div>
                        <div id="rfc.section.3.2.p.18">
                            <pre class="text">
Example-Dict: foo=1
Example-Dict: bar=2
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.19">
                            <p>ただし、辞書の個々のメンバを行間で安全に分割することはできません。詳細は<a href="#text-parse"
                                    title="Parsing Structured Fields">Section 4.2</a>を参照してください。</p>
                        </div>
                        <div id="rfc.section.3.2.p.20">
                            <p>パーサは少なくとも 1024 個のキー/値ペアを含む辞書と、少なくとも 64
                                文字のキーをサポートしなければなりません。フィールド仕様は必要に応じて個々の辞書メンバの順序や値の型を制約できます。</p>
                        </div>
                    </section>
                    <section id="item">
                        <h3 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a>&nbsp;<a href="#item">項目</a></h3>
                        <div id="rfc.section.3.3.p.1">
                            <p>項目（Item）は整数（<a href="#integer" title="Integers">Section 3.3.1</a>）、小数（<a href="#decimal"
                                    title="Decimals">Section 3.3.2</a>）、文字列（<a href="#string" title="Strings">Section
                                    3.3.3</a>）、トークン（<a href="#token" title="Tokens">Section 3.3.4</a>）、バイト列（<a
                                    href="#binary" title="Byte Sequences">Section 3.3.5</a>）、ブール値（<a href="#boolean"
                                    title="Booleans">Section 3.3.6</a>）、または日付（<a href="#date" title="Dates">Section
                                    3.3.7</a>）のいずれかです。項目は関連するパラメータ（<a href="#param" title="Parameters">Section
                                    3.1.2</a>）を持つことができます。</p>
                        </div>
                        <div id="rfc.section.3.3.p.2" class="avoidbreakafter">
                            <p>例えば、項目が整数と定義されたヘッダフィールドは次のようになります：</p>
                        </div>
                        <div id="rfc.section.3.3.p.3">
                            <pre class="text">
Example-Integer: 5
</pre>
                        </div>
                        <div id="rfc.section.3.3.p.4" class="avoidbreakafter">
                            <p>またはパラメータ付きで：</p>
                        </div>
                        <div id="rfc.section.3.3.p.5">
                            <pre class="text">
Example-Integer: 5; foo=bar
</pre>
                        </div>
                        <section id="integer">
                            <h4 id="rfc.section.3.3.1"><a href="#rfc.section.3.3.1">3.3.1.</a>&nbsp;<a
                                    href="#integer">整数</a></h4>
                            <div id="rfc.section.3.3.1.p.1">
                                <p>整数は -999,999,999,999,999 から 999,999,999,999,999（符号付きで最大15桁）までの範囲を持ちます。これは IEEE 754
                                    との互換性のためです。</p>
                            </div>
                            <div id="rfc.section.3.3.1.p.2" class="avoidbreakafter">
                                <p>例えば：</p>
                            </div>
                            <div id="rfc.section.3.3.1.p.3">
                                <pre class="text">
Example-Integer: 42
</pre>
                            </div>
                            <div id="rfc.section.3.3.1.p.4">
                                <p>15 桁を超える整数は、文字列（<a href="#string" title="Strings">Section 3.3.3</a>）、バイト列（<a
                                        href="#binary" title="Byte Sequences">Section
                                        3.3.5</a>）、あるいはスケーリング係数として動作する整数パラメータを使うなど、様々な方法でサポートできます。</p>
                            </div>
                            <div id="rfc.section.3.3.1.p.5">
                                <p>先頭にゼロを含む整数（例："0002", "-01"）や符号付きゼロ（"-0"）をシリアライズすることは可能ですが、これらの差異は実装によって保持されない場合があります。
                                </p>
                            </div>
                            <div id="rfc.section.3.3.1.p.6">
                                <p>この節の本文中での読みやすさのためのカンマはワイヤ形式では無効である点に注意してください。</p>
                            </div>
                        </section>
                        <section id="decimal">
                            <h4 id="rfc.section.3.3.2"><a href="#rfc.section.3.3.2">3.3.2.</a>&nbsp;<a
                                    href="#decimal">小数</a></h4>
                            <div id="rfc.section.3.3.2.p.1">
                                <p>小数は整数部と小数部を持つ数値です。整数部は最大12桁、小数部は最大3桁です。</p>
                            </div>
                            <div id="rfc.section.3.3.2.p.2" class="avoidbreakafter">
                                <p>例えば、値が小数と定義されたヘッダは次のようになります：</p>
                            </div>
                            <div id="rfc.section.3.3.2.p.3">
                                <pre class="text">
Example-Decimal: 4.5
</pre>
                            </div>
                            <div id="rfc.section.3.3.2.p.4">
                                <p>先頭ゼロ（例："0002.5", "-01.334"）、末尾ゼロ（例："5.230",
                                    "-0.40"）、および符号付きゼロ（例："-0.0"）でシリアライズすることは可能ですが、これらの差異は実装により保持されない場合があります。</p>
                            </div>
                            <div id="rfc.section.3.3.2.p.5">
                                <p>シリアライズアルゴリズム（<a href="#ser-decimal" title="Serializing a Decimal">Section
                                        4.1.5</a>）は、小数部が3桁を超える入力を丸めます。別の丸め戦略が望ましい場合は、フィールド定義でシリアライズの前にそれを行うよう指定する必要があります。
                                </p>
                            </div>
                        </section>
                        <section id="string">
                            <h4 id="rfc.section.3.3.3"><a href="#rfc.section.3.3.3">3.3.3.</a>&nbsp;<a
                                    href="#string">文字列</a></h4>
                            <div id="rfc.section.3.3.3.p.1">
                                <p>文字列は0個以上の印字可能なASCII文字（RFC0020 に従う、つまり %x20 から %x7E
                                    の範囲）で構成されます。これにはタブ、改行、キャリッジリターンなどは含まれません。</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.2">
                                <p>非ASCII文字は相互運用性の問題を引き起こすため、文字列では直接サポートされません。ほとんどのフィールド値では非ASCIIを必要としないため、例外は少ないです。</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.3">
                                <p>フィールド値に非ASCIIコンテンツを伝える必要がある場合は、表示用文字列（Display String、<a href="#displaystring"
                                        title="Display Strings">Section 3.3.8</a>）を指定できます。</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.4" class="avoidbreakafter">
                                <p>テキスト形式の HTTP フィールドでシリアライズされるとき、文字列は二重引用符で区切られ、二重引用符とバックスラッシュはバックスラッシュでエスケープされます。例えば：
                                </p>
                            </div>
                            <div id="rfc.section.3.3.3.p.5">
                                <pre class="text">
Example-String: "hello world"
</pre>
                            </div>
                            <div id="rfc.section.3.3.3.p.6">
                                <p>文字列の区切りには DQUOTE のみが使用され、シングルクォートは使用されない点に注意してください。さらに、エスケープ可能なのは DQUOTE と "\"
                                    のみであり、その他の文字に対する "\" はパース失敗を引き起こさなければなりません。</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.7">
                                <p>パーサはデコード後の文字列を少なくとも 1024 文字サポートしなければなりません。</p>
                            </div>
                        </section>
                        <section id="token">
                            <h4 id="rfc.section.3.3.4"><a href="#rfc.section.3.3.4">3.3.4.</a>&nbsp;<a
                                    href="#token">トークン</a></h4>
                            <div id="rfc.section.3.3.4.p.1">
                                <p>トークンは短いテキスト単語で、アルファベット文字または "*" で始まり、その後に0個以上のトークン文字が続きます。トークン文字は RFC9110 の "token"
                                    ABNF ルールで許可される文字に ":" と "/" を追加したものと同じです。</p>
                            </div>
                            <div id="rfc.section.3.3.4.p.2" class="avoidbreakafter">
                                <p>例えば：</p>
                            </div>
                            <div id="rfc.section.3.3.4.p.3">
                                <pre class="text">
Example-Token: foo123/456
</pre>
                            </div>
                            <div id="rfc.section.3.3.4.p.4">
                                <p>パーサは少なくとも 512 文字のトークンをサポートしなければなりません。</p>
                            </div>
                            <div id="rfc.section.3.3.4.p.5">
                                <p>トークンは既存の HTTP
                                    フィールドのデータモデルとの互換性のために主に定義されており、いくつかの実装では追加の手順が必要になる場合があります。その結果、新しいフィールドでは文字列の使用が推奨されます。
                                </p>
                            </div>
                        </section>
                        <section id="binary">
                            <h4 id="rfc.section.3.3.5"><a href="#rfc.section.3.3.5">3.3.5.</a>&nbsp;<a
                                    href="#binary">バイト列</a></h4>
                            <div id="rfc.section.3.3.5.p.1">
                                <p>バイト列は Structured Fields で伝達できます。</p>
                            </div>
                            <div id="rfc.section.3.3.5.p.2" class="avoidbreakafter">
                                <p>テキスト形式の HTTP フィールドでシリアライズされるとき、バイト列はコロンで囲まれ、base64（<a href="#RFC4648"
                                        title="The Base16, Base32, and Base64 Data Encodings">RFC4648</a>）でエンコードされます。例えば：
                                </p>
                            </div>
                            <div id="rfc.section.3.3.5.p.3">
                                <pre class="text">
Example-ByteSequence: :cHJldGVuZCB0aGlzIGlzIGJpbmFyeSBjb250ZW50Lg==:
</pre>
                            </div>
                            <div id="rfc.section.3.3.5.p.4">
                                <p>パーサはデコード後に少なくとも 16384 オクテットのバイト列をサポートしなければなりません。</p>
                            </div>
                        </section>
                        <section id="boolean">
                            <h4 id="rfc.section.3.3.6"><a href="#rfc.section.3.3.6">3.3.6.</a>&nbsp;<a
                                    href="#boolean">ブール値</a></h4>
                            <div id="rfc.section.3.3.6.p.1">
                                <p>ブール値は Structured Fields で伝達できます。</p>
                            </div>
                            <div id="rfc.section.3.3.6.p.2" class="avoidbreakafter">
                                <p>テキスト形式の HTTP フィールドでシリアライズされるとき、ブールは先頭に "?" を付け、その後に真の場合は "1" 、偽の場合は "0" を続けて示します。例えば：
                                </p>
                            </div>
                            <div id="rfc.section.3.3.6.p.3">
                                <pre class="text">
Example-Boolean: ?1
</pre>
                            </div>
                            <div id="rfc.section.3.3.6.p.4">
                                <p>辞書（<a href="#dictionary" title="Dictionaries">Section 3.2</a>）およびパラメータ（<a
                                        href="#param" title="Parameters">Section 3.1.2</a>）の値においては、ブール true
                                    は値を省略することで示される点に注意してください。</p>
                            </div>
                        </section>
                        <section id="date">
                            <h4 id="rfc.section.3.3.7"><a href="#rfc.section.3.3.7">3.3.7.</a>&nbsp;<a
                                    href="#date">日付</a></h4>
                            <div id="rfc.section.3.3.7.p.1">
                                <p>日付値は Structured Fields で伝達できます。</p>
                            </div>
                            <div id="rfc.section.3.3.7.p.2">
                                <p>日付は整数に類似したデータモデルを持ち、1970-01-01T00:00:00Z
                                    からの秒の差分（うるう秒を除く、負の値も可）を表します。したがって、テキスト形式でのシリアライズは整数に似ていますが、先頭に "@" を付けて区別されます。</p>
                            </div>
                            <div id="rfc.section.3.3.7.p.3" class="avoidbreakafter">
                                <p>例えば：</p>
                            </div>
                            <div id="rfc.section.3.3.7.p.4">
                                <pre class="text">
Example-Date: @1659578233
</pre>
                            </div>
                            <div id="rfc.section.3.3.7.p.5">
                                <p>パーサは年 1 から 9999 の全日を含む日付（すなわち 1970-01-01T00:00:00Z からの -62,135,596,800 から
                                    253,402,214,400 秒の差分）をサポートしなければなりません。</p>
                            </div>
                        </section>
                        <section id="displaystring">
                            <h4 id="rfc.section.3.3.8"><a href="#rfc.section.3.3.8">3.3.8.</a>&nbsp;<a
                                    href="#displaystring">表示文字列</a></h4>
                            <div id="rfc.section.3.3.8.p.1">
                                <p>表示文字列は文字列に似ており0個以上の文字から構成されますが、文字列とは異なり Unicode スカラー値（サロゲートを除くすべての Unicode
                                    コードポイント）を許容します。</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.2">
                                <p>表示文字列は最終ユーザへ表示される値のために設計されており、非ASCIIコンテンツを含む必要がある場合に使用されます。正規化や同字異形（homograph）攻撃など
                                    Unicode に関する処理上およびセキュリティ上の考慮事項があるため、文字列（<a href="#string" title="Strings">Section
                                        3.3.3</a>）やトークン（<a href="#token" title="Tokens">Section
                                        3.3.4</a>）で足りる場合は表示文字列の使用は推奨されません。</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.3">
                                <p>表示文字列は値に使用されている言語を示すものではない点に注意してください；必要な場合は別途（例えばパラメータで）示すことができます。</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.4">
                                <p>テキスト形式の HTTP
                                    フィールドでは、表示文字列は文字列と類似した形で表現されますが、非ASCII文字はパーセントエンコードされます。これを文字列と区別するために先頭に "%" が付きます。
                                </p>
                            </div>
                            <div id="rfc.section.3.3.8.p.5" class="avoidbreakafter">
                                <p>例えば：</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.6">
                                <pre class="text">
Example-DisplayString: %"This is intended for display to %c3%bcsers."
</pre>
                            </div>
                            <div id="rfc.section.3.3.8.p.7">
                                <p>表示文字列を扱う際の追加のセキュリティ考慮事項については、<a href="#security"
                                        title="Security Considerations">Section 6</a> を参照してください。</p>
                            </div>
                        </section>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="text">
                    <h2 id="rfc.section.4" class="np"><a href="#rfc.section.4">4.</a>&nbsp;<a
                            href="#text">HTTPにおける構造化フィールドの扱い</a></h2>
                    <div id="rfc.section.4.p.1">
                        <p>このセクションでは、<a href="#types" title="Structured Data Types">Section 3</a> で定義された抽象型を、テキスト形式の
                            HTTP フィールド値やそれらと互換性のある他のエンコーディング（例えば、HPACK (<a href="#RFC7541"><cite
                                    title="HPACK: Header Compression for HTTP/2">[HPACK]</cite></a>) による圧縮前の HTTP/2 <a
                                href="#RFC9113"><cite title="HTTP/2">[HTTP/2]</cite></a>
                            内での表現など）にシリアライズおよびパースする方法を定義します。</p>
                    </div>
                    <section id="text-serialize">
                        <h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a>&nbsp;<a
                                href="#text-serialize">構造化フィールドのシリアライズ</a></h3>
                        <div id="rfc.section.4.1.p.1">
                            <p>本仕様で定義された構造が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                        </div>
                        <div id="rfc.section.4.1.p.2">
                            <ol type="1">
                                <li>
                                    <div>
                                        <p>構造が Dictionary または List
                                            であり、その値が空（すなわちメンバを持たない）である場合は、フィールドをまったくシリアライズしない（すなわち field-name と
                                            field-value の両方を省略する）ものとします。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>構造が List である場合、output_string を構造に対して「リストのシリアライズ」(<a href="#ser-list"
                                                title="Serializing a List">Section 4.1.1</a>) を実行した結果とします。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>それ以外で構造が Dictionary である場合、output_string を構造に対して「辞書のシリアライズ」(<a
                                                href="#ser-dictionary" title="Serializing a Dictionary">Section
                                                4.1.2</a>) を実行した結果とします。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>それ以外で構造が Item である場合、output_string を構造に対して「項目のシリアライズ」(<a href="#ser-item"
                                                title="Serializing an Item">Section 4.1.3</a>) を実行した結果とします。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>それ以外の場合、シリアライズは失敗します。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>ASCII エンコーディング <a href="#RFC0020"><cite
                                                    title="ASCII format for network interchange">[RFC0020]</cite></a>
                                            を用いて output_string をバイト配列に変換して返します。</p>
                                    </div>
                                </li>
                            </ol>
                        </div>
                        <section id="ser-list">
                            <h4 id="rfc.section.4.1.1"><a href="#rfc.section.4.1.1">4.1.1.</a>&nbsp;<a
                                    href="#ser-list">リストのシリアライズ</a></h4>
                            <div id="rfc.section.4.1.1.p.1">
                                <p>入力として (member_value, parameters) タプルの配列 input_list が与えられたとき、HTTP フィールド値で使用可能な ASCII
                                    文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.1.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_list の各 (member_value, parameters) について：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>member_value が配列である場合、(member_value, parameters)
                                                            に対して「内部リストのシリアライズ」(<a href="#ser-innerlist"
                                                                title="Serializing an Inner List">Section 4.1.1.1</a>)
                                                            を実行した結果を output に追加します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>それ以外の場合、(member_value, parameters) に対して「項目のシリアライズ」(<a
                                                                href="#ser-item" title="Serializing an Item">Section
                                                                4.1.3</a>) を実行した結果を output に追加します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>input_list にさらに member_values が残っている場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>"," を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>単一の SP を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="ser-innerlist">
                                <h5 id="rfc.section.4.1.1.1"><a href="#rfc.section.4.1.1.1">4.1.1.1.</a>&nbsp;<a
                                        href="#ser-innerlist">内部リストのシリアライズ</a></h5>
                                <div id="rfc.section.4.1.1.1.p.1">
                                    <p>inner_list として (member_value, parameters) タプルの配列、list_parameters
                                        としてパラメータが与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                                </div>
                                <div id="rfc.section.4.1.1.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>output を "(" の文字列とします。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>inner_list の各 (member_value, parameters) について：</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>(member_value, parameters) に対して「項目のシリアライズ」(<a
                                                                    href="#ser-item" title="Serializing an Item">Section
                                                                    4.1.3</a>) を実行した結果を output に追加します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>inner_list にさらに値が残っている場合、単一の SP を output に追加します。</p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>")" を output に追加します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>list_parameters に対して「パラメータのシリアライズ」(<a href="#ser-params"
                                                        title="Serializing Parameters">Section 4.1.1.2</a>) を実行した結果を
                                                    output に追加します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>output を返します。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="ser-params">
                                <h5 id="rfc.section.4.1.1.2"><a href="#rfc.section.4.1.1.2">4.1.1.2.</a>&nbsp;<a
                                        href="#ser-params">パラメータのシリアライズ</a></h5>
                                <div id="rfc.section.4.1.1.2.p.1">
                                    <p>各メンバが param_key と param_value を持つ順序付き Dictionary input_parameters が与えられたとき、HTTP
                                        フィールド値で使用可能な ASCII 文字列を返します。</p>
                                </div>
                                <div id="rfc.section.4.1.1.2.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>output を空の文字列とします。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>input_parameters の各 param_key とその param_value について：</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>";" を output に追加します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>param_key に対して「キーのシリアライズ」(<a href="#ser-key"
                                                                    title="Serializing a Key">Section 4.1.1.3</a>)
                                                                を実行した結果を output に追加します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="avoidbreakafter">
                                                            <p>param_value がブール true でない場合：</p>
                                                        </div>
                                                        <div>
                                                            <ol type="1">
                                                                <li>
                                                                    <div>
                                                                        <p>"=" を output に追加します。</p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>param_value に対して「裸の項目のシリアライズ」(<a
                                                                                href="#ser-bare-item"
                                                                                title="Serializing a Bare Item">Section
                                                                                4.1.3.1</a>) を実行した結果を output に追加します。</p>
                                                                    </div>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>output を返します。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="ser-key">
                                <h5 id="rfc.section.4.1.1.3"><a href="#rfc.section.4.1.1.3">4.1.1.3.</a>&nbsp;<a
                                        href="#ser-key">キーのシリアライズ</a></h5>
                                <div id="rfc.section.4.1.1.3.p.1">
                                    <p>input_key が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                                </div>
                                <div id="rfc.section.4.1.1.3.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>input_key を ASCII 文字列の列に変換します。変換に失敗した場合、シリアライズを失敗させます。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_key に lcalpha、DIGIT、"_"、"-"、"."、または "*"
                                                    以外の文字が含まれている場合、シリアライズを失敗させます。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_key の最初の文字が lcalpha または "*" でない場合、シリアライズを失敗させます。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>output を空の文字列とします。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_key を output に追加します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>output を返します。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="ser-dictionary">
                            <h4 id="rfc.section.4.1.2"><a href="#rfc.section.4.1.2">4.1.2.</a>&nbsp;<a
                                    href="#ser-dictionary">辞書のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.2.p.1">
                                <p>各メンバが member_key と (member_value, parameters) タプルを持つ順序付き Dictionary input_dictionary
                                    が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.2.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_dictionary の各 member_key とその (member_value, parameters) について：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>メンバの member_key に対して「キーのシリアライズ」(<a href="#ser-key"
                                                                title="Serializing a Key">Section 4.1.1.3</a>) を実行した結果を
                                                            output に追加します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>member_value がブール true の場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>parameters に対して「パラメータのシリアライズ」(<a
                                                                            href="#ser-params"
                                                                            title="Serializing Parameters">Section
                                                                            4.1.1.2</a>) を実行した結果を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>それ以外の場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>"=" を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>member_value が配列である場合、(member_value, parameters)
                                                                        に対して「内部リストのシリアライズ」(<a href="#ser-innerlist"
                                                                            title="Serializing an Inner List">Section
                                                                            4.1.1.1</a>) を実行した結果を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>それ以外の場合、(member_value, parameters)
                                                                        に対して「項目のシリアライズ」(<a href="#ser-item"
                                                                            title="Serializing an Item">Section
                                                                            4.1.3</a>) を実行した結果を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>input_dictionary にさらにメンバが残っている場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>"," を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>単一の SP を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-item">
                            <h4 id="rfc.section.4.1.3"><a href="#rfc.section.4.1.3">4.1.3.</a>&nbsp;<a
                                    href="#ser-item">項目のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.3.p.1">
                                <p>bare_item として項目、item_parameters としてパラメータが与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。
                                </p>
                            </div>
                            <div id="rfc.section.4.1.3.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>bare_item に対して「裸の項目のシリアライズ」(<a href="#ser-bare-item"
                                                    title="Serializing a Bare Item">Section 4.1.3.1</a>) を実行した結果を output
                                                に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>item_parameters に対して「パラメータのシリアライズ」(<a href="#ser-params"
                                                    title="Serializing Parameters">Section 4.1.1.2</a>) を実行した結果を output
                                                に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="ser-bare-item">
                                <h5 id="rfc.section.4.1.3.1"><a href="#rfc.section.4.1.3.1">4.1.3.1.</a>&nbsp;<a
                                        href="#ser-bare-item">裸の項目のシリアライズ</a></h5>
                                <div id="rfc.section.4.1.3.1.p.1">
                                    <p>input_item が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                                </div>
                                <div id="rfc.section.4.1.3.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>input_item が整数である場合、input_item に対して「整数のシリアライズ」(<a href="#ser-integer"
                                                        title="Serializing an Integer">Section 4.1.4</a>) を実行した結果を返します。
                                                </p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_item が小数である場合、input_item に対して「小数のシリアライズ」(<a href="#ser-decimal"
                                                        title="Serializing a Decimal">Section 4.1.5</a>) を実行した結果を返します。
                                                </p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_item が文字列である場合、input_item に対して「文字列のシリアライズ」(<a
                                                        href="#ser-string" title="Serializing a String">Section
                                                        4.1.6</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_item がトークンである場合、input_item に対して「トークンのシリアライズ」(<a
                                                        href="#ser-token" title="Serializing a Token">Section 4.1.7</a>)
                                                    を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_item がバイト列である場合、input_item に対して「バイト列のシリアライズ」(<a
                                                        href="#ser-binary" title="Serializing a Byte Sequence">Section
                                                        4.1.8</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_item がブール値である場合、input_item に対して「ブール値のシリアライズ」(<a
                                                        href="#ser-boolean" title="Serializing a Boolean">Section
                                                        4.1.9</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_item が日付である場合、input_item に対して「日付のシリアライズ」(<a href="#ser-date"
                                                        title="Serializing a Date">Section 4.1.10</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_item が表示文字列である場合、input_item に対して「表示文字列のシリアライズ」(<a
                                                        href="#ser-display" title="Serializing a Display String">Section
                                                        4.1.11</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>それ以外の場合、シリアライズを失敗させます。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="ser-integer">
                            <h4 id="rfc.section.4.1.4"><a href="#rfc.section.4.1.4">4.1.4.</a>&nbsp;<a
                                    href="#ser-integer">整数のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.4.p.1">
                                <p>input_integer が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.4.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_integer が -999,999,999,999,999 から 999,999,999,999,999
                                                の範囲内の整数でない場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_integer が 0 より小さい（ただし 0 と等しくない）場合、"-" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_integer の数値を 10 進で、10 進数字のみを用いて表現したものを output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-decimal">
                            <h4 id="rfc.section.4.1.5"><a href="#rfc.section.4.1.5">4.1.5.</a>&nbsp;<a
                                    href="#ser-decimal">小数のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.5.p.1">
                                <p>input_decimal が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.5.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_decimal が小数でない場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_decimal の小数点以下に 3 桁を超える有効数字がある場合、小数点以下 3
                                                桁に丸めます。最終桁は最も近い値に丸め、等距離の場合は偶数へ丸めます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>丸め後に小数点左側の有効数字が 12 桁を超える場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_decimal が 0 より小さい（ただし 0 と等しくない）場合、"-" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_decimal の整数部分を 10 進で（10 進数字のみを用いて） output に追加します。ゼロであれば "0" を追加します。
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>"." を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_decimal の小数部分がゼロである場合、"0" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>それ以外の場合、input_decimal の小数部分の有効数字を 10 進で（10 進数字のみを用いて） output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-string">
                            <h4 id="rfc.section.4.1.6"><a href="#rfc.section.4.1.6">4.1.6.</a>&nbsp;<a
                                    href="#ser-string">文字列のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.6.p.1">
                                <p>input_string が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.6.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_string を ASCII 文字列の列に変換します。変換に失敗した場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string に %x00-1f または %x7f-ff（すなわち VCHAR または SP
                                                に含まれない文字）が含まれている場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を DQUOTE の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_string の各文字 char について：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>char が "\" または DQUOTE の場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>"\" を output に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>char を output に追加します。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>DQUOTE を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-token">
                            <h4 id="rfc.section.4.1.7"><a href="#rfc.section.4.1.7">4.1.7.</a>&nbsp;<a
                                    href="#ser-token">トークンのシリアライズ</a></h4>
                            <div id="rfc.section.4.1.7.p.1">
                                <p>input_token が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.7.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_token を ASCII 文字列の列に変換します。変換に失敗した場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_token の最初の文字が ALPHA または "*" でない、あるいは残りの部分に tchar、":"、"/"
                                                に含まれない文字がある場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_token を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-binary">
                            <h4 id="rfc.section.4.1.8"><a href="#rfc.section.4.1.8">4.1.8.</a>&nbsp;<a
                                    href="#ser-binary">バイト列のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.8.p.1">
                                <p>input_bytes が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.8.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_bytes がバイト列でない場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>":" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p><a href="#RFC4648"><cite
                                                        title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>
                                                の規定に従い input_bytes を base64 エンコードした結果（以下の要件を考慮）を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>":" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.1.8.p.3">
                                <p>エンコードされたデータは <a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>
                                    の規定に従って "=" でパディングされている必要があります。</p>
                            </div>
                            <div id="rfc.section.4.1.8.p.4">
                                <p>同様に、エンコードデータは可能であれば pad ビットをゼロにすることが <a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>
                                    の推奨ですが、実装上不可能な場合は例外とできます。</p>
                            </div>
                        </section>
                        <section id="ser-boolean">
                            <h4 id="rfc.section.4.1.9"><a href="#rfc.section.4.1.9">4.1.9.</a>&nbsp;<a
                                    href="#ser-boolean">ブール値のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.9.p.1">
                                <p>input_boolean が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.9.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_boolean が真偽値でない場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>"?" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_boolean が true の場合、"1" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_boolean が false の場合、"0" を output に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-date">
                            <h4 id="rfc.section.4.1.10"><a href="#rfc.section.4.1.10">4.1.10.</a>&nbsp;<a
                                    href="#ser-date">日付のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.10.p.1">
                                <p>input_date が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.10.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>output を "@" とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_date に対して「整数のシリアライズ」(<a href="#ser-integer"
                                                    title="Serializing an Integer">Section 4.1.4</a>) を実行した結果を output
                                                に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-display">
                            <h4 id="rfc.section.4.1.11"><a href="#rfc.section.4.1.11">4.1.11.</a>&nbsp;<a
                                    href="#ser-display">表示文字列のシリアライズ</a></h4>
                            <div id="rfc.section.4.1.11.p.1">
                                <p>Unicode コードポイントの列 input_sequence が与えられたとき、HTTP フィールド値で使用可能な ASCII 文字列を返します。</p>
                            </div>
                            <div id="rfc.section.4.1.11.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_sequence が Unicode コードポイントの列でない場合、シリアライズを失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>byte_array を input_sequence に UTF-8 エンコーディング（<a
                                                    href="https://www.rfc-editor.org/rfc/rfc3629.html#section-3">Section
                                                    3</a> of <a href="#RFC3629"><cite
                                                        title="UTF-8, a transformation format of ISO 10646">[UTF8]</cite></a>）を適用した結果とします。エンコードが失敗した場合、シリアライズを失敗させます。
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>encoded_string を "%" に続けて DQUOTE を含む文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>byte_array の各バイトについて：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>バイトが %x25 ("%")、%x22 (DQUOTE)、または %x00-1f や %x7f-ff の範囲にある場合：
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>"%" を encoded_string に追加します。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>encoded_byte を byte に対して base16 エンコード（<a
                                                                            href="https://www.rfc-editor.org/rfc/rfc4648.html#section-8">Section
                                                                            8</a> of <a href="#RFC4648"><cite
                                                                                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>）した結果とし、アルファベット文字があれば小文字に変換します。
                                                                    </p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>encoded_byte を encoded_string に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>それ以外の場合、バイトを ASCII 文字としてデコードし、その結果を encoded_string に追加します。
                                                        </p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>DQUOTE を encoded_string に追加します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>encoded_string を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.1.11.p.3">
                                <p><a href="#RFC3629"><cite
                                            title="UTF-8, a transformation format of ISO 10646">[UTF8]</cite></a> は
                                    U+D800 から U+DFFF（サロゲート）間のコードポイントのエンコードを禁止しています。入力にそれらが含まれる場合、シリアライズは失敗します。</p>
                            </div>
                        </section>
                    </section>
                    <section id="text-parse">
                        <h3 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a>&nbsp;<a
                                href="#text-parse">構造化フィールドの解析</a></h3>
                        <div id="rfc.section.4.2.p.1">
                            <p>受信実装が Structured Fields であることが分かっている HTTP
                                フィールドを解析する際には注意が必要です。相互運用性やセキュリティの問題を引き起こし得るさまざまなエッジケースが存在するためです。このセクションでは、そのためのアルゴリズムを規定します。
                            </p>
                        </div>
                        <div id="rfc.section.4.2.p.2">
                            <p>選択されたフィールドの field-value を表すバイト配列 input_bytes（そのフィールドが存在しない場合は空）と
                                field_type（"dictionary"、"list"、または "item" のいずれか）が与えられたとき、解析されたフィールド値を返します。</p>
                        </div>
                        <div id="rfc.section.4.2.p.3">
                            <ol type="1">
                                <li>
                                    <div>
                                        <p>input_bytes を ASCII 文字列 input_string に変換します。変換に失敗した場合、解析を失敗させます。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>input_string の先頭の SP をすべて破棄します。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>field_type が "list" の場合、output を input_string に対して「リストの解析」(<a
                                                href="#parse-list" title="Parsing a List">Section 4.2.1</a>)
                                            を実行した結果とします。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>field_type が "dictionary" の場合、output を input_string に対して「辞書の解析」(<a
                                                href="#parse-dictionary" title="Parsing a Dictionary">Section 4.2.2</a>)
                                            を実行した結果とします。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>field_type が "item" の場合、output を input_string に対して「項目の解析」(<a
                                                href="#parse-item" title="Parsing an Item">Section 4.2.3</a>)
                                            を実行した結果とします。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>input_string の先頭の SP をすべて破棄します。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>input_string が空でない場合、解析を失敗させます。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>そうでなければ output を返します。</p>
                                    </div>
                                </li>
                            </ol>
                        </div>
                        <div id="rfc.section.4.2.p.4">
                            <p>入力となる input_bytes を生成する際、パーサは同じセクション（ヘッダまたはトレイラ）内でフィールド名と大文字小文字を区別せずに一致するすべてのフィールド行を、<a
                                    href="https://www.rfc-editor.org/rfc/rfc9110.html#section-5.2">Section 5.2</a> of <a
                                    href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a> に従ってカンマで区切った単一の
                                field-value に結合しなければなりません。これによりフィールド値全体が正しく処理されることが保証されます。</p>
                        </div>
                        <div id="rfc.section.4.2.p.5">
                            <p>リストと辞書については、トップレベルのデータ構造の個々のメンバが複数のフィールドインスタンスにまたがって分割されない限り、フィールドのすべての行を正しく連結する効果があります。両型の解析アルゴリズムは、これらが行結合に使用され得るため、タブ文字を許容します。
                            </p>
                        </div>
                        <div id="rfc.section.4.2.p.6">
                            <p>複数のフィールド行に分割された文字列は予測不能な結果をもたらします。なぜなら、1つ以上のカンマ（および任意の空白）がパーサが出力する文字列の一部になるからです。連結が上流の中継によって行われる可能性があるため、その結果はシリアライザやパーサの制御下にない場合があります。
                            </p>
                        </div>
                        <div id="rfc.section.4.2.p.7">
                            <p>トークン、整数、小数、およびバイト列は、挿入されたカンマが解析を失敗させるため、複数のフィールド行にまたがって分割することはできません。</p>
                        </div>
                        <div id="rfc.section.4.2.p.8" class="avoidbreakafter">
                            <p>パーサは、あるフィールド行がそのフィールドとして解析できない場合に、複数行にわたるフィールド値の処理を失敗させることができます。例えば、sf-string と定義された
                                Example-String フィールドを処理する解析は、次のようなフィールドセクションの処理で失敗しても許容されます：</p>
                        </div>
                        <div id="rfc.section.4.2.p.9">
                            <pre class="text">
Example-String: "foo
Example-String: bar"
</pre>
                        </div>
                        <div id="rfc.section.4.2.p.10">
                            <p>解析が失敗した場合、フィールド値全体は無視されなければなりません（すなわち、そのフィールドがセクション内に存在しなかったかのように扱う）、あるいは代わりに完全な HTTP
                                メッセージを不正として扱わなければなりません。これは相互運用性と安全性を向上させるために意図的に厳格にしているものであり、Structured Fields
                                を使用するフィールド仕様はこの要求を緩和することを許されません。</p>
                        </div>
                        <div id="rfc.section.4.2.p.11">
                            <p>この要件は、そのフィールドを解析していない実装には適用されないことに注意してください。例えば、中継はフォワードする前に失敗するフィールドをメッセージから削除する必要はありません。
                            </p>
                        </div>
                        <section id="parse-list">
                            <h4 id="rfc.section.4.2.1"><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;<a
                                    href="#parse-list">リストの解析</a></h4>
                            <div id="rfc.section.4.2.1.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、(item_or_inner_list, parameters)
                                    タプルの配列を返します。input_string は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.1.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>members を空の配列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_string が空でない間：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>input_string に対して「項目または内部リストの解析」(<a
                                                                href="#parse-item-or-list"
                                                                title="Parsing an Item or Inner List">Section
                                                                4.2.1.1</a>) を実行した結果を members に追加します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string の先頭の OWS を破棄します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string が空であれば、members を返します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string の最初の文字を消費します。それが "," でなければ、解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string の先頭の OWS を破棄します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string が空であれば、末尾のカンマがあるので解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>構造化データが見つからなかった場合、members（空）を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="parse-item-or-list">
                                <h5 id="rfc.section.4.2.1.1"><a href="#rfc.section.4.2.1.1">4.2.1.1.</a>&nbsp;<a
                                        href="#parse-item-or-list">項目または内部リストの解析</a></h5>
                                <div id="rfc.section.4.2.1.1.p.1">
                                    <p>ASCII 文字列 input_string が与えられたとき、(item_or_inner_list, parameters)
                                        タプルを返します。item_or_inner_list は単一の裸の項目か、(bare_item, parameters)
                                        タプルの配列のどちらかです。input_string は解析された値を削除するように変更されます。</p>
                                </div>
                                <div id="rfc.section.4.2.1.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が "(" である場合、input_string に対して「内部リストの解析」(<a
                                                        href="#parse-innerlist" title="Parsing an Inner List">Section
                                                        4.2.1.2</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>それ以外の場合、input_string に対して「項目の解析」(<a href="#parse-item"
                                                        title="Parsing an Item">Section 4.2.3</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="parse-innerlist">
                                <h5 id="rfc.section.4.2.1.2"><a href="#rfc.section.4.2.1.2">4.2.1.2.</a>&nbsp;<a
                                        href="#parse-innerlist">内部リストの解析</a></h5>
                                <div id="rfc.section.4.2.1.2.p.1">
                                    <p>ASCII 文字列 input_string が与えられたとき、(inner_list, parameters) タプルを返します。inner_list は
                                        (bare_item, parameters) タプルの配列です。input_string は解析された値を削除するように変更されます。</p>
                                </div>
                                <div id="rfc.section.4.2.1.2.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字を消費します。それが "(" でなければ解析を失敗させます。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>inner_list を空の配列とします。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>input_string が空でない間：</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>input_string の先頭の SP を破棄します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="avoidbreakafter">
                                                            <p>input_string の最初の文字が ")" である場合：</p>
                                                        </div>
                                                        <div>
                                                            <ol type="1">
                                                                <li>
                                                                    <div>
                                                                        <p>input_string の最初の文字を消費します。</p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>input_string に対して「パラメータの解析」(<a
                                                                                href="#parse-param"
                                                                                title="Parsing Parameters">Section
                                                                                4.2.3.2</a>) を実行した結果を parameters とします。
                                                                        </p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>(inner_list, parameters) タプルを返します。</p>
                                                                    </div>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>input_string に対して「項目の解析」(<a href="#parse-item"
                                                                    title="Parsing an Item">Section 4.2.3</a>) を実行した結果を
                                                                item とします。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>item を inner_list に追加します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>input_string の最初の文字が SP または ")" でない場合、解析を失敗させます。</p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>内部リストの終端が見つからなかったため、解析を失敗させます。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="parse-dictionary">
                            <h4 id="rfc.section.4.2.2"><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;<a
                                    href="#parse-dictionary">辞書の解析</a></h4>
                            <div id="rfc.section.4.2.2.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、値が (item_or_inner_list, parameters)
                                    タプルである順序付けられたマップを返します。input_string は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.2.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>dictionary を空の順序付けマップとします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_string が空でない間：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>input_string に対して「キーの解析」(<a href="#parse-key"
                                                                title="Parsing a Key">Section 4.2.3.3</a>) を実行した結果を
                                                            this_key とします。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>input_string の最初の文字が "=" である場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>input_string の最初の文字を消費します。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>input_string に対して「項目または内部リストの解析」(<a
                                                                            href="#parse-item-or-list"
                                                                            title="Parsing an Item or Inner List">Section
                                                                            4.2.1.1</a>) を実行した結果を member とします。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>それ以外の場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>value をブール true とします。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>input_string に対して「パラメータの解析」(<a
                                                                            href="#parse-param"
                                                                            title="Parsing Parameters">Section
                                                                            4.2.3.2</a>) を実行した結果を parameters とします。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>member を (value, parameters) タプルとします。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>dictionary が既に this_key を含んでいる場合（文字ごとに比較）、その値を member
                                                            で上書きします。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>それ以外の場合、this_key を key として member を dictionary に追加します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string の先頭の OWS を破棄します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string が空であれば、dictionary を返します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string の最初の文字を消費します。それが "," でなければ解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string の先頭の OWS を破棄します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string が空であれば、末尾のカンマがあるので解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>構造化データが見つからなかった場合、dictionary（空）を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.2.2.p.3">
                                <p>重複する辞書キーが見つかった場合、最後のインスタンス以外は無視される点に注意してください。</p>
                            </div>
                        </section>
                        <section id="parse-item">
                            <h4 id="rfc.section.4.2.3"><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;<a
                                    href="#parse-item">項目の解析</a></h4>
                            <div id="rfc.section.4.2.3.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、(bare_item, parameters) タプルを返します。input_string
                                    は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.3.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_string に対して「裸の項目の解析」(<a href="#parse-bare-item"
                                                    title="Parsing a Bare Item">Section 4.2.3.1</a>) を実行した結果を bare_item
                                                とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string に対して「パラメータの解析」(<a href="#parse-param"
                                                    title="Parsing Parameters">Section 4.2.3.2</a>) を実行した結果を parameters
                                                とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>(bare_item, parameters) タプルを返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="parse-bare-item">
                                <h5 id="rfc.section.4.2.3.1"><a href="#rfc.section.4.2.3.1">4.2.3.1.</a>&nbsp;<a
                                        href="#parse-bare-item">裸の項目の解析</a></h5>
                                <div id="rfc.section.4.2.3.1.p.1">
                                    <p>ASCII 文字列 input_string が与えられたとき、裸の項目を返します。input_string は解析された値を削除するように変更されます。</p>
                                </div>
                                <div id="rfc.section.4.2.3.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が "-" または DIGIT の場合、input_string
                                                    に対して「整数または小数の解析」(<a href="#parse-number"
                                                        title="Parsing an Integer or Decimal">Section 4.2.4</a>)
                                                    を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が DQUOTE の場合、input_string に対して「文字列の解析」(<a
                                                        href="#parse-string" title="Parsing a String">Section 4.2.5</a>)
                                                    を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が ALPHA または "*" の場合、input_string に対して「トークンの解析」(<a
                                                        href="#parse-token" title="Parsing a Token">Section 4.2.6</a>)
                                                    を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が ":" の場合、input_string に対して「バイト列の解析」(<a
                                                        href="#parse-binary" title="Parsing a Byte Sequence">Section
                                                        4.2.7</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が "?" の場合、input_string に対して「ブール値の解析」(<a
                                                        href="#parse-boolean" title="Parsing a Boolean">Section
                                                        4.2.8</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が "@" の場合、input_string に対して「日付の解析」(<a
                                                        href="#parse-date" title="Parsing a Date">Section 4.2.9</a>)
                                                    を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が "%" の場合、input_string に対して「表示文字列の解析」(<a
                                                        href="#parse-display" title="Parsing a Display String">Section
                                                        4.2.10</a>) を実行した結果を返します。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>それ以外の場合、項目の型が認識されないため、解析を失敗させます。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="parse-param">
                                <h5 id="rfc.section.4.2.3.2"><a href="#rfc.section.4.2.3.2">4.2.3.2.</a>&nbsp;<a
                                        href="#parse-param">パラメータの解析</a></h5>
                                <div id="rfc.section.4.2.3.2.p.1">
                                    <p>ASCII 文字列 input_string が与えられたとき、値が裸の項目である順序付けられたマップを返します。input_string
                                        は解析された値を削除するように変更されます。</p>
                                </div>
                                <div id="rfc.section.4.2.3.2.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>parameters を空の順序付けマップとします。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>input_string が空でない間：</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>input_string の最初の文字が ";" でない場合、ループを終了します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>input_string の先頭から ";" を消費します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>input_string の先頭の SP を破棄します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>input_string に対して「キーの解析」(<a href="#parse-key"
                                                                    title="Parsing a Key">Section 4.2.3.3</a>) を実行した結果を
                                                                param_key とします。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>param_value をブール true とします。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="avoidbreakafter">
                                                            <p>input_string の最初の文字が "=" である場合：</p>
                                                        </div>
                                                        <div>
                                                            <ol type="1">
                                                                <li>
                                                                    <div>
                                                                        <p>input_string の先頭の "=" を消費します。</p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>input_string に対して「裸の項目の解析」(<a
                                                                                href="#parse-bare-item"
                                                                                title="Parsing a Bare Item">Section
                                                                                4.2.3.1</a>) を実行した結果を param_value とします。
                                                                        </p>
                                                                    </div>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>parameters が既に param_key を含んでいる場合（文字ごとに比較）、その値を
                                                                param_value で上書きします。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>それ以外の場合、param_key をキーとして param_value を parameters に追加します。
                                                            </p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>parameters を返します。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                                <div id="rfc.section.4.2.3.2.p.3">
                                    <p>重複するパラメータキーが見つかった場合、最後のインスタンス以外は無視される点に注意してください。</p>
                                </div>
                            </section>
                            <section id="parse-key">
                                <h5 id="rfc.section.4.2.3.3"><a href="#rfc.section.4.2.3.3">4.2.3.3.</a>&nbsp;<a
                                        href="#parse-key">キーの解析</a></h5>
                                <div id="rfc.section.4.2.3.3.p.1">
                                    <p>ASCII 文字列 input_string が与えられたとき、キーを返します。input_string は解析された値を削除するように変更されます。</p>
                                </div>
                                <div id="rfc.section.4.2.3.3.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>input_string の最初の文字が lcalpha または "*" でない場合、解析を失敗させます。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>output_string を空の文字列とします。</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>input_string が空でない間：</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>input_string の最初の文字が lcalpha、DIGIT、"_"、"-"、"."、または "*"
                                                                のいずれでもない場合、output_string を返します。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>input_string の最初の文字を消費し、それを char とします。</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>char を output_string に追加します。</p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>output_string を返します。</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="parse-number">
                            <h4 id="rfc.section.4.2.4"><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;<a
                                    href="#parse-number">整数または小数の解析</a></h4>
                            <div id="rfc.section.4.2.4.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、整数または小数を返します。input_string は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.4.p.2">
                                <p>注: このアルゴリズムは整数（<a href="#integer" title="Integers">Section 3.3.1</a>）と小数（<a
                                        href="#decimal" title="Decimals">Section 3.3.2</a>）の両方を解析し、対応する構造を返します。</p>
                            </div>
                            <div id="rfc.section.4.2.4.p.3">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>type を "integer" とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>sign を 1 とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_number を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が "-" であれば、それを消費して sign を -1 に設定します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string が空であれば、空の整数があるので解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が DIGIT でない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_string が空でない間：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>input_string の最初の文字を消費し、それを char とします。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>char が DIGIT であれば、それを input_number に追加します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>そうでなく、type が "integer" で char が "." である場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>input_number が 12 文字を超えている場合、解析を失敗させます。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>それ以外の場合、char を input_number に追加し、type を "decimal"
                                                                        に設定します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>それ以外の場合、char を input_string の先頭に戻し、ループを抜けます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>type が "integer" で input_number が 15 文字を超える場合、解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>type が "decimal" で input_number が 16 文字を超える場合、解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>type が "integer" の場合：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>output_number を input_number を整数として解析した結果の Integer とします。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>それ以外の場合：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>input_number の最後の文字が "." の場合、解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_number の "." の後の文字数が 3 を超える場合、解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>output_number を input_number を小数として解析した結果の Decimal とします。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output_number を output_number と sign の積とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output_number を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-string">
                            <h4 id="rfc.section.4.2.5"><a href="#rfc.section.4.2.5">4.2.5.</a>&nbsp;<a
                                    href="#parse-string">文字列の解析</a></h4>
                            <div id="rfc.section.4.2.5.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、引用解除された文字列を返します。input_string は解析された値を削除するように変更されます。
                                </p>
                            </div>
                            <div id="rfc.section.4.2.5.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>output_string を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が DQUOTE でない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字を破棄します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_string が空でない間：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>input_string の最初の文字を消費し、それを char とします。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>char がバックスラッシュ ("\") の場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>input_string が空であれば、解析を失敗させます。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>input_string の最初の文字を消費し、それを next_char とします。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>next_char が DQUOTE または "\" でない場合、解析を失敗させます。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>next_char を output_string に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>そうでなく、char が DQUOTE である場合、output_string を返します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>そうでなく、char が %x00-1f または %x7f-ff の範囲にある場合（すなわち VCHAR または SP
                                                            に含まれない場合）、解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>それ以外の場合、char を output_string に追加します。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>閉じる DQUOTE を見つけずに input_string の終わりに到達したため、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-token">
                            <h4 id="rfc.section.4.2.6"><a href="#rfc.section.4.2.6">4.2.6.</a>&nbsp;<a
                                    href="#parse-token">トークンの解析</a></h4>
                            <div id="rfc.section.4.2.6.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、トークンを返します。input_string は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.6.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が ALPHA または "*" でない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output_string を空の文字列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_string が空でない間：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>input_string の最初の文字が tchar、":"、または "/" に含まれない場合、output_string
                                                            を返します。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>input_string の最初の文字を消費し、それを char とします。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>char を output_string に追加します。</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output_string を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-binary">
                            <h4 id="rfc.section.4.2.7"><a href="#rfc.section.4.2.7">4.2.7.</a>&nbsp;<a
                                    href="#parse-binary">バイト列の解析</a></h4>
                            <div id="rfc.section.4.2.7.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、バイト列を返します。input_string は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.7.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が ":" でない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字を破棄します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の終端までに ":" 文字が存在しない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>b64_content を input_string の先頭から最初に現れる ":" 文字を含まない部分まで消費した結果とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の先頭の ":" を消費します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>b64_content が ALPHA、DIGIT、"+", "/", "=" に含まれない文字を含む場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>必要に応じてパディングを合成しつつ、<a href="#RFC4648"><cite
                                                        title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>
                                                に従って b64_content を base64 デコードした結果を binary_content とします。base64
                                                デコードに失敗した場合、解析は失敗します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>binary_content を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.2.7.p.3">
                                <p>base64 の実装の中には "=" で適切にパディングされていないエンコードデータの拒否を許さないものがあるため、パーサは "="
                                    のパディングが存在しない場合に失敗すべきではありません（設定が不可能な場合を除く）。</p>
                            </div>
                            <div id="rfc.section.4.2.7.p.4">
                                <p>また、base64 の実装の中には非ゼロの pad ビットを含むエンコードデータの拒否を許さないものがあるため、パーサは非ゼロの pad
                                    ビットが存在する場合に失敗すべきではありません（設定が不可能な場合を除く）。</p>
                            </div>
                            <div id="rfc.section.4.2.7.p.5">
                                <p>本仕様は <a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a> の
                                    Sections <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.1">3.1</a>
                                    および <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.3">3.3</a>
                                    の要件を緩和するものではありません。したがって、パーサは base64 アルファベット外の文字やエンコードデータ内の改行に対しては失敗しなければなりません。</p>
                            </div>
                        </section>
                        <section id="parse-boolean">
                            <h4 id="rfc.section.4.2.8"><a href="#rfc.section.4.2.8">4.2.8.</a>&nbsp;<a
                                    href="#parse-boolean">ブール値の解析</a></h4>
                            <div id="rfc.section.4.2.8.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、ブール値を返します。input_string は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.8.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が "?" でない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字を破棄します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が "1" に一致する場合、その文字を破棄し、true を返します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が "0" に一致する場合、その文字を破棄し、false を返します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>どの値にも一致しないため、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-date">
                            <h4 id="rfc.section.4.2.9"><a href="#rfc.section.4.2.9">4.2.9.</a>&nbsp;<a
                                    href="#parse-date">日付の解析</a></h4>
                            <div id="rfc.section.4.2.9.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、日付を返します。input_string は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.9.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字が "@" でない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の文字を破棄します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string に対して「整数または小数の解析」(<a href="#parse-number"
                                                    title="Parsing an Integer or Decimal">Section 4.2.4</a>) を実行した結果を
                                                output_date とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output_date が小数である場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>output_date を返します。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-display">
                            <h4 id="rfc.section.4.2.10"><a href="#rfc.section.4.2.10">4.2.10.</a>&nbsp;<a
                                    href="#parse-display">表示文字列の解析</a></h4>
                            <div id="rfc.section.4.2.10.p.1">
                                <p>ASCII 文字列 input_string が与えられたとき、Unicode コードポイントの列を返します。input_string
                                    は解析された値を削除するように変更されます。</p>
                            </div>
                            <div id="rfc.section.4.2.10.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>input_string の最初の 2 文字が "%" に続いて DQUOTE でない場合、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>input_string の最初の 2 文字を破棄します。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>byte_array を空のバイト配列とします。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>input_string が空でない間：</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>input_string の最初の文字を消費し、それを char とします。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>char が %x00-1f または %x7f-ff の範囲にある場合（すなわち VCHAR または SP
                                                            に含まれない場合）、解析を失敗させます。</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>char が "%" である場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>octet_hex を input_string から 2 文字消費した結果とします。2
                                                                        文字が存在しない場合、解析を失敗させます。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>octet_hex が %x30-39 または %x61-66（0-9 または 小文字
                                                                        a-f）以外の文字を含む場合、解析を失敗させます。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>octet を hex デコードした結果とします（<a
                                                                            href="https://www.rfc-editor.org/rfc/rfc4648.html#section-8">Section
                                                                            8</a> of <a href="#RFC4648"><cite
                                                                                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>）。
                                                                    </p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>octet を byte_array に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>char が DQUOTE である場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>byte_array を UTF-8 としてデコードした結果を unicode_sequence
                                                                        とします。デコードに失敗した場合、解析を失敗させます（<a
                                                                            href="https://www.rfc-editor.org/rfc/rfc3629.html#section-3">Section
                                                                            3</a> of <a href="#RFC3629"><cite
                                                                                title="UTF-8, a transformation format of ISO 10646">[UTF8]</cite></a>
                                                                        に準拠）。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>unicode_sequence を返します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>それ以外で、char が "%" でも DQUOTE でもない場合：</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>char を ASCII エンコーディングでバイトに変換した結果を byte とします。</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>byte を byte_array に追加します。</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>閉じる DQUOTE を見つけずに input_string の終わりに到達したため、解析を失敗させます。</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="iana">
                    <h2 id="rfc.section.5" class="np"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#iana">IANA
                            に関する考慮事項</a></h2>
                    <div id="rfc.section.5.p.1" class="avoidbreakafter">
                        <p>IANA は "Hypertext Transfer Protocol (HTTP) Field Name Registry" に次の注記を追加しました：</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <blockquote>
                            <div id="rfc.section.5.p.2.1">
                                <p>"Structured Type" 列は、該当する場合にフィールドの型（RFC 9651 に従う）を示し、"Dictionary"、"List"、または "Item"
                                    のいずれかになります。</p>
                            </div>
                            <div id="rfc.section.5.p.2.2">
                                <p>フィールド名が ALPHA または "*" 以外の文字で始まる場合、それは Structured Fields
                                    のトークンとして表現できないため、それを参照するフィールド値へのマッピングと互換性がない可能性があることに注意してください。</p>
                            </div>
                        </blockquote>
                    </div>
                    <div id="rfc.section.5.p.3">
                        <p>レジストリに新しい列 "Structured Type" が追加されました。</p>
                    </div>
                    <div id="rfc.section.5.p.4">
                        <p><a href="#existing-fields" title="Existing Fields">Table 1</a>
                            に列挙された既存のレジストリエントリそれぞれについて、示された Structured Type も追加されています。</p>
                    </div>
                    <div class="table table-condensed table-striped" id="existing-fields">
                        <table class="v3 text-center">
                            <caption>表 1: 既存フィールド</caption>
                            <thead>
                                <tr>
                                    <th class="text-left" colspan="1" rowspan="1">フィールド名</th>
                                    <th class="text-left" colspan="1" rowspan="1">Structured Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Accept-CH</td>
                                    <td class="text-left" colspan="1" rowspan="1">List</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cache-Status</td>
                                    <td class="text-left" colspan="1" rowspan="1">List</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">CDN-Cache-Control</td>
                                    <td class="text-left" colspan="1" rowspan="1">Dictionary</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cross-Origin-Embedder-Policy</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">
                                        Cross-Origin-Embedder-Policy-Report-Only</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cross-Origin-Opener-Policy</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cross-Origin-Opener-Policy-Report-Only
                                    </td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Origin-Agent-Cluster</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Priority</td>
                                    <td class="text-left" colspan="1" rowspan="1">Dictionary</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Proxy-Status</td>
                                    <td class="text-left" colspan="1" rowspan="1">List</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="security">
                    <h2 id="rfc.section.6" class="np"><a href="#rfc.section.6">6.</a>&nbsp;<a
                            href="#security">セキュリティに関する考慮事項</a></h2>
                    <div id="rfc.section.6.p.1">
                        <p>Structured Fields で定義される多くの型のサイズには上限が設定されていません。その結果、非常に大きなフィールドが（リソース消費を狙った）攻撃経路になり得ます。多くの
                            HTTP 実装は、そのような攻撃を軽減するために、個々のフィールドやヘッダ／トレイラセクション全体のサイズに制限を設けています。</p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <p>新しい HTTP フィールドを注入する能力を持つ当事者が、Structured Field
                            の意味を変更することが可能です。状況によってはこれによりパースが失敗することがありますが、すべてのケースで確実に失敗させることはできません。</p>
                    </div>
                    <div id="rfc.section.6.p.3">
                        <p>Display String 型は、未サニタイズのまま任意の Unicode コードポイントを含む可能性があります。たとえば、未割当のコードポイント、制御文字（NUL
                            を含む）、非文字などを含むかもしれません。したがって、Display Strings
                            を消費するアプリケーションは、表示前に信頼できないコンテンツをフィルタリングまたはエスケープする等の対策を検討する必要があります。詳細は <a
                                href="#RFC8264"><cite
                                    title="PRECIS Framework: Preparation, Enforcement, and Comparison of Internationalized Strings in Application Protocols">[PRECIS]</cite></a>
                            および <a href="#UNICODE-SECURITY"><cite
                                    title="Unicode Security Considerations">[UNICODE-SECURITY]</cite></a> を参照してください。</p>
                    </div>
                </section>
                <section class="np">
                    <div id="rfc.references">
                        <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a> 参考文献</h2>
                        <section id="sec-normative-references">
                            <div id="rfc.references.2">
                                <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a> 規範的参考文献</h3>
                                <dl class="dl-horizontal">
                                    <dt id="RFC9110">[<a href="#RFC9110" class="smpl">HTTP</a>]</dt>
                                    <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9110.html">HTTP Semantics</a>”, <a
                                            href="https://www.rfc-editor.org/info/std97">STD 97</a>, RFC 9110, <a
                                            href="https://dx.doi.org/10.17487/RFC9110">DOI 10.17487/RFC9110</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9110">https://www.rfc-editor.org/info/rfc9110</a>&gt;.
                                    </dd>
                                    <dt id="RFC0020">[<a href="#RFC0020" class="smpl">RFC0020</a>]</dt>
                                    <dd>Cerf, V., “<a href="https://www.rfc-editor.org/rfc/rfc20.html">ASCII format for
                                            network interchange</a>”, <a
                                            href="https://www.rfc-editor.org/info/std80">STD 80</a>, RFC 20, <a
                                            href="https://dx.doi.org/10.17487/RFC0020">DOI 10.17487/RFC0020</a>, October
                                        1969, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc20">https://www.rfc-editor.org/info/rfc20</a>&gt;.
                                    </dd>
                                    <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                    <dd>Bradner, S., “<a href="https://www.rfc-editor.org/rfc/rfc2119.html">Key words
                                            for use in RFCs to Indicate Requirement Levels</a>”, <a
                                            href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 2119, <a
                                            href="https://dx.doi.org/10.17487/RFC2119">DOI 10.17487/RFC2119</a>, March
                                        1997, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.
                                    </dd>
                                    <dt id="RFC4648">[<a href="#RFC4648" class="smpl">RFC4648</a>]</dt>
                                    <dd>Josefsson, S., “<a href="https://www.rfc-editor.org/rfc/rfc4648.html">The
                                            Base16, Base32, and Base64 Data Encodings</a>”, RFC 4648, <a
                                            href="https://dx.doi.org/10.17487/RFC4648">DOI 10.17487/RFC4648</a>, October
                                        2006, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc4648">https://www.rfc-editor.org/info/rfc4648</a>&gt;.
                                    </dd>
                                    <dt id="RFC8174">[<a href="#RFC8174" class="smpl">RFC8174</a>]</dt>
                                    <dd>Leiba, B., “<a href="https://www.rfc-editor.org/rfc/rfc8174.html">Ambiguity of
                                            Uppercase vs Lowercase in RFC 2119 Key Words</a>”, <a
                                            href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 8174, <a
                                            href="https://dx.doi.org/10.17487/RFC8174">DOI 10.17487/RFC8174</a>, May
                                        2017, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.
                                    </dd>
                                    <dt id="RFC3629">[<a href="#RFC3629" class="smpl">UTF8</a>]</dt>
                                    <dd>Yergeau, F., “<a href="https://www.rfc-editor.org/rfc/rfc3629.html">UTF-8, a
                                            transformation format of ISO 10646</a>”, <a
                                            href="https://www.rfc-editor.org/info/std63">STD 63</a>, RFC 3629, <a
                                            href="https://dx.doi.org/10.17487/RFC3629">DOI 10.17487/RFC3629</a>,
                                        November 2003, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;.
                                    </dd>
                                </dl>
                            </div>
                        </section>
                        <section id="sec-informative-references">
                            <div id="rfc.references.3">
                                <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a> 情報的参考文献</h3>
                                <dl class="dl-horizontal">
                                    <dt id="RFC7541">[<a href="#RFC7541" class="smpl">HPACK</a>]</dt>
                                    <dd>Peon, R. and H. Ruellan, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7541.html">HPACK: Header Compression
                                            for HTTP/2</a>”, RFC 7541, <a href="https://dx.doi.org/10.17487/RFC7541">DOI
                                            10.17487/RFC7541</a>, May 2015, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7541">https://www.rfc-editor.org/info/rfc7541</a>&gt;.
                                    </dd>
                                    <dt id="RFC9113">[<a href="#RFC9113" class="smpl">HTTP/2</a>]</dt>
                                    <dd>Thomson, M., Ed. and C. Benfield, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9113.html">HTTP/2</a>”, RFC 9113, <a
                                            href="https://dx.doi.org/10.17487/RFC9113">DOI 10.17487/RFC9113</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9113">https://www.rfc-editor.org/info/rfc9113</a>&gt;.
                                    </dd>
                                    <dt id="IEEE754">[<a href="#IEEE754" class="smpl">IEEE754</a>]</dt>
                                    <dd>IEEE, “<a href="https://ieeexplore.ieee.org/document/8766229">IEEE Standard for
                                            Floating-Point Arithmetic</a>”, IEEE Std 754-2019, <a
                                            href="https://dx.doi.org/10.1109/IEEESTD.2019.8766229">DOI
                                            10.1109/IEEESTD.2019.8766229</a>, <a
                                            href="https://www.worldcat.org/search?q=isbn:9781504459242">ISBN
                                            978-1-5044-5924-2</a>, July 2019, &lt;<a
                                            href="https://ieeexplore.ieee.org/document/8766229">https://ieeexplore.ieee.org/document/8766229</a>&gt;.
                                    </dd>
                                    <dt id="RFC8264">[<a href="#RFC8264" class="smpl">PRECIS</a>]</dt>
                                    <dd>Saint-Andre, P. and M. Blanchet, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc8264.html">PRECIS Framework:
                                            Preparation, Enforcement, and Comparison of Internationalized Strings in
                                            Application Protocols</a>”, RFC 8264, <a
                                            href="https://dx.doi.org/10.17487/RFC8264">DOI 10.17487/RFC8264</a>, October
                                        2017, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8264">https://www.rfc-editor.org/info/rfc8264</a>&gt;.
                                    </dd>
                                    <dt id="RFC5234">[<a href="#RFC5234" class="smpl">RFC5234</a>]</dt>
                                    <dd>Crocker, D., Ed. and P. Overell, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc5234.html">Augmented BNF for Syntax
                                            Specifications: ABNF</a>”, <a
                                            href="https://www.rfc-editor.org/info/std68">STD 68</a>, RFC 5234, <a
                                            href="https://dx.doi.org/10.17487/RFC5234">DOI 10.17487/RFC5234</a>, January
                                        2008, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;.
                                    </dd>
                                    <dt id="RFC7493">[<a href="#RFC7493" class="smpl">RFC7493</a>]</dt>
                                    <dd>Bray, T., Ed., “<a href="https://www.rfc-editor.org/rfc/rfc7493.html">The I-JSON
                                            Message Format</a>”, RFC 7493, <a
                                            href="https://dx.doi.org/10.17487/RFC7493">DOI 10.17487/RFC7493</a>, March
                                        2015, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;.
                                    </dd>
                                    <dt id="RFC8259">[<a href="#RFC8259" class="smpl">RFC8259</a>]</dt>
                                    <dd>Bray, T., Ed., “<a href="https://www.rfc-editor.org/rfc/rfc8259.html">The
                                            JavaScript Object Notation (JSON) Data Interchange Format</a>”, <a
                                            href="https://www.rfc-editor.org/info/std90">STD 90</a>, RFC 8259, <a
                                            href="https://dx.doi.org/10.17487/RFC8259">DOI 10.17487/RFC8259</a>,
                                        December 2017, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;.
                                    </dd>
                                    <dt id="UNICODE-SECURITY">[<a href="#UNICODE-SECURITY"
                                            class="smpl">UNICODE-SECURITY</a>]</dt>
                                    <dd>Davis, M. and M. Suignard, “<a
                                            href="https://www.unicode.org/reports/tr36/tr36-15.html">Unicode Security
                                            Considerations</a>”, Unicode Technical Report #36, September 2014, &lt;<a
                                            href="https://www.unicode.org/reports/tr36/tr36-15.html">https://www.unicode.org/reports/tr36/tr36-15.html</a>&gt;.<br>最新版は
                                        &lt;<a
                                            href="https://www.unicode.org/reports/tr36/">https://www.unicode.org/reports/tr36/</a>&gt;
                                        にあります。
                                    </dd>
                                </dl>
                            </div>
                        </section>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="faq">
                    <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">Appendix A.</a>&nbsp;<a
                            href="#faq">よくある質問</a></h2>
                    <section id="why-not-json">
                        <h3 id="rfc.section.A.1"><a href="#rfc.section.A.1">A.1.</a>&nbsp;<a
                                href="#why-not-json">なぜJSONではないのか？</a></h3>
                        <div id="rfc.section.A.1.p.1">
                            <p>以前の Structured Fields の提案は JSON に基づいていました <a href="#RFC8259"><cite
                                        title="The JavaScript Object Notation (JSON) Data Interchange Format">[RFC8259]</cite></a>。しかし、HTTP
                                フィールドに適した形に制約すると、送信者と受信者が特定の追加処理を実装する必要がありました。</p>
                        </div>
                        <div id="rfc.section.A.1.p.2">
                            <p>例えば、JSON には大きな数値や重複メンバを持つオブジェクトに関する仕様上の問題があります。これらの問題を避けるための助言（例：<a href="#RFC7493"><cite
                                        title="The I-JSON Message Format">[RFC7493]</cite></a>）はありますが、それらに依存することはできません。
                            </p>
                        </div>
                        <div id="rfc.section.A.1.p.3">
                            <p>同様に、JSON の文字列はデフォルトで Unicode
                                文字列であり、比較などにおいて相互運用性の問題を引き起こす可能性があります。実装者に不要な非ASCIIコンテンツを避けるよう助言することはできますが、それを強制するのは困難です。
                            </p>
                        </div>
                        <div id="rfc.section.A.1.p.4">
                            <p>別の例として、JSON
                                は任意の深さにコンテンツをネストできます。結果として必要となるメモリの確保が（組み込みや制約のあるサーバ環境などで）不適切な場合があるため、何らかの形で制限する必要があります。しかし既存の
                                JSON 実装にはそのような制限がなく、仮に制限を指定しても、あるフィールド定義がそれを破る必要に迫られる可能性があります。</p>
                        </div>
                        <div id="rfc.section.A.1.p.5">
                            <p>JSON
                                が広く採用・実装されているため、そのような追加制約をすべての実装に課すのは難しく、一部のデプロイではそれらを強制できず、相互運用性を損なう可能性があります。簡潔に言えば、見た目が
                                JSON の場合、人々はフィールド値に対して JSON パーサ／シリアライザを使いたくなってしまいます。</p>
                        </div>
                        <div id="rfc.section.A.1.p.6">
                            <p>Structured Fields の主な目標が相互運用性の向上と実装の簡素化であるため、これらの懸念は専用のパーサとシリアライザを必要とするフォーマットへ導きました。</p>
                        </div>
                        <div id="rfc.section.A.1.p.7">
                            <p>加えて、多くの参加者が、HTTP フィールド内で JSON が "見た目に合わない" と感じていた点もありました。</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="implementation-notes">
                    <h2 id="rfc.section.B" class="np"><a href="#rfc.section.B">Appendix B.</a>&nbsp;<a
                            href="#implementation-notes">実装ノート</a></h2>
                    <div id="rfc.section.B.p.1">
                        <p>この仕様の汎用的な実装は、トップレベルの serialize (<a href="#text-serialize"
                                title="Serializing Structured Fields">Section 4.1</a>) と parse (<a href="#text-parse"
                                title="Parsing Structured Fields">Section 4.2</a>)
                            関数を公開するべきです。これらは関数である必要はなく、たとえば各トップレベル型に対するメソッドを持つオブジェクトとして実装されることもあり得ます。</p>
                    </div>
                    <div id="rfc.section.B.p.2">
                        <p>相互運用性のため、汎用実装は完全でありアルゴリズムに厳密に従うことが重要です；詳細は <a href="#strict"
                                title="Intentionally Strict Processing">Section 1.1</a>
                            を参照してください。これを助けるため、共通のテストスイートがコミュニティによって維持されています：&lt;https://github.com/httpwg/structured-field-tests&gt;。
                        </p>
                    </div>
                    <div id="rfc.section.B.p.3">
                        <p>実装者は、辞書（Dictionaries）とパラメータ（Parameters）が順序を保持するマップであることに留意すべきです。これらのデータ型の順序が意味を持たないフィールドもありますが、必要なアプリケーションで利用できるように順序情報を公開するべきです。
                        </p>
                    </div>
                    <div id="rfc.section.B.p.4">
                        <p>同様に、実装はトークン（Tokens）と文字列（Strings）の区別を保持することが重要です。多くのプログラミング言語では他の型にうまくマッピングされる組み込み型が存在しますが、これらの型を分離して扱うためにラッパーの
                            "token" オブジェクトを作成したり、関数のパラメータで区別を明示することが必要になるかもしれません。</p>
                    </div>
                    <div id="rfc.section.B.p.5">
                        <p>シリアライズアルゴリズムは、すべての場合において <a href="#types" title="Structured Data Types">Section 3</a>
                            で定義されたデータ型に厳密に限定されるよう定義されているわけではありません。例えば、小数（Decimals）はより広い入力を受け取り許容される値へ丸めるよう設計されています。</p>
                    </div>
                    <div id="rfc.section.B.p.6">
                        <p>実装は各型に定義された最小限を満たす範囲で、さまざまな構造のサイズを制限して構いません。構造が実装の上限を超えた場合、その構造のパースまたはシリアライズは失敗します。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="abnf">
                    <h2 id="rfc.section.C" class="np"><a href="#rfc.section.C">Appendix C.</a>&nbsp;<a
                            href="#abnf">ABNF</a></h2>
                    <div id="rfc.section.C.p.1">
                        <p>このセクションでは、Augmented Backus-Naur Form (ABNF) 表記法を用いて Structured Fields の期待される構文を示します <a
                                href="#RFC5234"><cite
                                    title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a>。ただし、すべての要件をとらえられるわけではないため、これを用いて構文検証を行うことはできません。
                        </p>
                    </div>
                    <div id="rfc.section.C.p.2">
                        <p>このセクションは非規範的です。パースアルゴリズムと ABNF の間に不一致がある場合は、規定されたアルゴリズムが優先されます。</p>
                    </div>
                    <div id="rfc.section.C.p.3">
                        <pre class="inline">
sf-list       = list-member *( OWS "," OWS list-member )
list-member   = sf-item / inner-list

inner-list    = "(" *SP [ sf-item *( 1*SP sf-item ) *SP ] ")"
                parameters

parameters    = *( ";" *SP parameter )
parameter     = param-key [ "=" param-value ]
param-key     = key
key           = ( lcalpha / "*" )
                *( lcalpha / DIGIT / "_" / "-" / "." / "*" )
lcalpha       = %x61-7A ; a-z
param-value   = bare-item

sf-dictionary = dict-member *( OWS "," OWS dict-member )
dict-member   = member-key ( parameters / ( "=" member-value ))
member-key    = key
member-value  = sf-item / inner-list

sf-item   = bare-item parameters
bare-item = sf-integer / sf-decimal / sf-string / sf-token
            / sf-binary / sf-boolean / sf-date / sf-displaystring

sf-integer       = ["-"] 1*15DIGIT
sf-decimal       = ["-"] 1*12DIGIT "." 1*3DIGIT
sf-string        = DQUOTE *( unescaped / "%" / bs-escaped ) DQUOTE
sf-token         = ( ALPHA / "*" ) *( tchar / ":" / "/" )
sf-binary        = ":" base64 ":"
sf-boolean       = "?" ( "0" / "1" )
sf-date          = "@" sf-integer
sf-displaystring = "%" DQUOTE *( unescaped / "\" / pct-encoded )
                   DQUOTE

base64       = *( ALPHA / DIGIT / "+" / "/" ) *"="

unescaped    = %x20-21 / %x23-24 / %x26-5B / %x5D-7E
bs-escaped   = "\" ( DQUOTE / "\" )

pct-encoded  = "%" lc-hexdig lc-hexdig
lc-hexdig = DIGIT / %x61-66 ; 0-9, a-f
</pre>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="changes">
                    <h2 id="rfc.section.D" class="np"><a href="#rfc.section.D">Appendix D.</a>&nbsp;<a
                            href="#changes">RFC 8941 からの変更点</a></h2>
                    <div id="rfc.section.D.p.1" class="avoidbreakafter">
                        <p>この "Structured Field Values for HTTP" 規格の改訂では、次の変更が行われました：</p>
                    </div>
                    <div id="rfc.section.D.p.2">
                        <ul>
                            <li>
                                <div>
                                    <p>Date 構造化型を追加しました。 (<a href="#date" title="Dates">Section 3.3.7</a>)
                                    </p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>新しい Structured Fields の定義において ABNF の使用を推奨することをやめました。 (<a href="#specify"
                                            title="Defining New Structured Fields">Section 2</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>ABNF を情報的な付録に移動しました。 (<a href="#abnf" title="ABNF">Appendix
                                            C</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>"Hypertext Transfer Protocol (HTTP) Field Name Registry" に "Structured Type"
                                        列を追加しました。 (<a href="#iana" title="IANA Considerations">Section 5</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>パース失敗時の取り扱いを洗練しました。 (<a href="#text-parse"
                                            title="Parsing Structured Fields">Section 4.2</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Display String 構造化型を追加しました。 (<a href="#displaystring"
                                            title="Display Strings">Section 3.3.8</a>)</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="acknowledgements">
                    <h2 id="rfc.section.unnumbered-4" class="np"><a href="#acknowledgements">謝辞</a></h2>
                    <div id="rfc.section.unnumbered-4.p.1">
                        <p>本仕様の作成に際して詳細なフィードバックと丁寧な考察を提供してくれた Matthew Kerwin に深く感謝します。</p>
                    </div>
                    <div id="rfc.section.unnumbered-4.p.2">
                        <p>また、Ian Clelland、Roy Fielding、Anne van Kesteren、Kazuho Oku、Evert Pot、Julian Reschke、Martin
                            Thomson、Mike West、および Jeffrey Yasskin の貢献にも感謝します。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="rfc.authors" class="np">
                    <h2><a href="#rfc.authors">著者の連絡先</a></h2>
                    <address><b>Mark Nottingham</b><br>Cloudflare<br>Prahran, VIC<br>Australia<br>EMail: <a
                            href="mailto:mnot@mnot.net">mnot@mnot.net</a><br>URI: <a
                            href="https://www.mnot.net/">https://www.mnot.net/</a></address>
                    <address><b>Poul-Henning Kamp</b><br>The Varnish Cache Project<br>EMail: <a
                            href="mailto:phk@varnish-cache.org">phk@varnish-cache.org</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="https://httpwg.org/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://httpwg.org/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>