<!DOCTYPE html>
<html lang="ja-JP">

<head>
    <meta charset="utf-8">
    <!-- <meta name="generator" content="ReSpec 35.6.0"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>EditContext API</title>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: italic
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <!-- <meta name="revision" content="1a30b4bb8781c562aac0f2e33fbdc8e36529f91c"> -->
    <meta name="description" content="EditContext は、著者がテキスト入力プロセスにより直接参加できるようにする API です。">
    <link rel="canonical" href="https://www.w3.org/TR/edit-context/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "github": "w3c/edit-context",
  "specStatus": "WD",
  "shortName": "edit-context",
  "editors": [
    {
      "name": "Dan Clark",
      "mailto": "daniec@microsoft.com",
      "company": "Microsoft",
      "w3cid": 113024,
      "url": "mailto:daniec@microsoft.com"
    }
  ],
  "formerEditors": [
    {
      "name": "Shih-ling Keng",
      "mailto": "shihken@microsoft.com",
      "company": "Microsoft",
      "w3cid": 126951,
      "retiredDate": "2025-11-10",
      "url": "mailto:shihken@microsoft.com"
    },
    {
      "name": "Anupam Snigdha",
      "mailto": "snianu@microsoft.com",
      "company": "Microsoft",
      "w3cid": 126950,
      "retiredDate": "2025-11-10",
      "url": "mailto:snianu@microsoft.com"
    },
    {
      "name": "Bo Cupp",
      "mailto": "pcupp@microsoft.com",
      "company": "Microsoft",
      "w3cid": 126951,
      "retiredDate": "2025-11-10",
      "url": "mailto:pcupp@microsoft.com"
    }
  ],
  "wgPublicList": "public-editing-tf",
  "otherLinks": [
    {
      "key": "Participate",
      "data": [
        {
          "value": "We are on GitHub.",
          "href": "https://github.com/w3c/edit-context"
        },
        {
          "value": "File a bug.",
          "href": "https://github.com/w3c/edit-context/issues"
        },
        {
          "value": "Commit history.",
          "href": "https://github.com/w3c/edit-context/commits/gh-pages"
        },
        {
          "value": "Mailing list.",
          "href": "http://lists.w3.org/Archives/Public/public-editing-tf/"
        }
      ]
    }
  ],
  "group": "webediting",
  "edDraftURI": "https://w3c.github.io/edit-context/",
  "xref": [
    "WebIDL",
    "DOM",
    "HTML",
    "geometry-1",
    "uievents",
    "infra",
    "input-events"
  ],
  "gitRevision": "1a30b4bb8781c562aac0f2e33fbdc8e36529f91c",
  "publishDate": "2025-11-12",
  "previousMaturity": "WD",
  "previousPublishDate": "2025-09-09",
  "publishISODate": "2025-11-12T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 12 November 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry" data-cite="WEBIDL WebIDL DOM HTML geometry-1 uievents infra input-events">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">EditContext API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 作業草案</a> <time class="dt-published"
                datetime="2025-11-12">2025年11月12日</time></p>
        <details open="">
            <summary>この文書の詳細情報</summary>
            <dl>
                <dt>このバージョン:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/WD-edit-context-20251112/">https://www.w3.org/TR/2025/WD-edit-context-20251112/</a>
                </dd>
                <dt>最新の公開バージョン:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/edit-context/">https://www.w3.org/TR/edit-context/</a>
                </dd>
                <dt>最新の編集者ドラフト:</dt>
                <dd><a href="https://w3c.github.io/edit-context/">https://w3c.github.io/edit-context/</a></dd>
                <dt>履歴:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/edit-context/">https://www.w3.org/standards/history/edit-context/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/edit-context/commits/">コミット履歴</a>
                </dd>
                <dt>編集者:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="113024">
                    <a class="ed_mailto u-email email p-name" href="mailto:daniec@microsoft.com">Dan Clark</a> (<span
                        class="p-org org h-org">Microsoft</span>)
                </dd>
                <dt>
                    以前の編集者:
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="126951">
                    <a class="ed_mailto u-email email p-name" href="mailto:shihken@microsoft.com">Shih-ling Keng</a>
                    (<span class="p-org org h-org">Microsoft</span>) - <time datetime="2025-11-10">2025年11月10日</time> まで
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="126950">
                    <a class="ed_mailto u-email email p-name" href="mailto:snianu@microsoft.com">Anupam Snigdha</a>
                    (<span class="p-org org h-org">Microsoft</span>) - <time datetime="2025-11-10">2025年11月10日</time> まで
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="126951">
                    <a class="ed_mailto u-email email p-name" href="mailto:pcupp@microsoft.com">Bo Cupp</a> (<span
                        class="p-org org h-org">Microsoft</span>) - <time datetime="2025-11-10">2025年11月10日</time> まで
                </dd>

                <dt>フィードバック:</dt>
                <dd>
                    <a href="https://github.com/w3c/edit-context/">GitHub w3c/edit-context</a>
                    (<a href="https://github.com/w3c/edit-context/pulls/">プルリクエスト</a>,
                    <a href="https://github.com/w3c/edit-context/issues/new/choose">新しい issue</a>,
                    <a href="https://github.com/w3c/edit-context/issues/">オープンされている issue</a>)
                </dd>
                <dd><a
                        href="mailto:public-editing-tf@w3.org?subject=%5Bedit-context%5D%20YOUR%20TOPIC%20HERE">public-editing-tf@w3.org</a>
                    件名 <kbd>[edit-context] <em>… メッセージ トピック …</em></kbd> (<a rel="discussion"
                        href="https://lists.w3.org/Archives/Public/public-editing-tf">アーカイブ</a>)</dd>

                <dt>参加方法</dt>
                <dd>
                    <a href="https://github.com/w3c/edit-context">GitHub に参加できます。</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/edit-context/issues">バグを報告。</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/edit-context/commits/gh-pages">コミット履歴。</a>
                </dd>
                <dd>
                    <a href="http://lists.w3.org/Archives/Public/public-editing-tf/">メーリングリスト。</a>
                </dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>概要</h2>
        <p><a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                id="ref-for-dom-editcontext-1"><code>EditContext</code></a> は、著者がテキスト入力プロセスにより直接参加できるようにする API です。</p>
    </section>
    <section id="sotd" class="introductory">
        <h2>この文書のステータス</h2>
        <p><em>このセクションは、公開時点での
                文書のステータスについて説明します。現在の <abbr title="World Wide Web Consortium">W3C</abbr>
                公開文書一覧およびこの技術レポートの最新改訂は、
                <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> 標準および草案一覧</a>
                にあります。</em></p>
        <p>
            この文書は <a href="https://www.w3.org/groups/wg/webediting">Web 編集ワーキンググループ</a> により、
            <a href="https://www.w3.org/policies/process/20250818/#recs-and-notes">勧告トラック</a> を使用して
            作業草案として公開されました。
        </p>
        <p>作業草案としての公開は、<abbr title="World Wide Web Consortium">W3C</abbr> およびその会員による承認を
            意味するものではありません。</p>
        <p>
            この文書は草案です。今後、更新、差し替え、または廃止される可能性があります。
            進行中の作業以外として引用するのは不適切です。

        </p>
        <p>

            この文書は、<a href="https://www.w3.org/policies/patent-policy/"><abbr
                    title="World Wide Web Consortium">W3C</abbr> 特許ポリシー</a> のもとで活動する
            グループによって作成されています。

            <abbr title="World Wide Web Consortium">W3C</abbr> は、
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webediting/ipr">グループの成果物に関連して公開された
                特許開示リスト</a> を維持しています。
            そのページには特許開示の方法も記載されています。ある人物が必須クレームを
            含む特許を知っている場合、その情報は
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">特許ポリシー第6節</a>に
            従って開示する必要があります。

        </p>
        <p>
            この文書は
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20250818/">2025年8月18日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> プロセス文書</a> に
            よって管理されています。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">概要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">この文書のステータス</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>はじめに</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#background"><bdi class="secno">1.1 </bdi>背景と動機</a>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#editcontext-model"><bdi class="secno">1.2
                            </bdi>EditContext モデル</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#editcontext-state"><bdi class="secno">1.2.1
                                    </bdi>EditContext の状態</a></li>
                            <li class="tocline"><a class="tocxref" href="#association-and-activation"><bdi
                                        class="secno">1.2.2 </bdi>関連付けと有効化</a></li>
                            <li class="tocline"><a class="tocxref" href="#edit-context-differences"><bdi
                                        class="secno">1.2.3 </bdi>EditContext 編集ホストにおける差異</a></li>
                            <li class="tocline"><a class="tocxref" href="#editcontext-events"><bdi class="secno">1.2.4
                                    </bdi>EditContext のイベント</a></li>
                            <li class="tocline"><a class="tocxref" href="#event-loop-changes"><bdi class="secno">1.2.5
                                    </bdi>イベントループの変更</a></li>
                            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">1.2.6
                                    </bdi>例</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#interactions"><bdi class="secno">1.3
                            </bdi>他の編集プリミティブとの相互作用 </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>適合性</a></li>
            <li class="tocline"><a class="tocxref" href="#editcontext-api"><bdi class="secno">3. </bdi>EditContext
                    API</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#extensions-to-the-htmlelement-interface"><bdi
                                class="secno">3.1 </bdi>HTMLElement インターフェースの拡張</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#handle-input-for-editcontext"><bdi
                                        class="secno">3.1.1 </bdi><span class="export" data-export="">EditContext
                                        に対する入力の処理</span></a></li>
                            <li class="tocline"><a class="tocxref" href="#editcontext-handled-inputtype"><bdi
                                        class="secno">3.1.2 </bdi><span>EditContext が扱う inputType</span></a></li>
                            <li class="tocline"><a class="tocxref" href="#update-the-editcontext"><bdi
                                        class="secno">3.1.3 </bdi><span>EditContext の更新</span></a></li>
                            <li class="tocline"><a class="tocxref" href="#update-the-text-edit-context"><bdi
                                        class="secno">3.1.4 </bdi><span>Text Edit Context の更新</span></a></li>
                            <li class="tocline"><a class="tocxref" href="#dispatch-text-update-event"><bdi
                                        class="secno">3.1.5 </bdi><span>text update event のディスパッチ</span></a></li>
                            <li class="tocline"><a class="tocxref" href="#dispatch-text-format-update-event"><bdi
                                        class="secno">3.1.6 </bdi><span>text format update event のディスパッチ</span></a>
                            </li>
                            <li class="tocline"><a class="tocxref" href="#dispatch-character-bounds-update-event"><bdi
                                        class="secno">3.1.7 </bdi><span>character bounds update event のディスパッチ</span></a>
                            </li>
                            <li class="tocline"><a class="tocxref" href="#deactivate-an-editcontext"><bdi
                                        class="secno">3.1.8 </bdi><span>EditContext の無効化</span></a></li>
                            <li class="tocline"><a class="tocxref" href="#determine-the-active-editcontext"><bdi
                                        class="secno">3.1.9 </bdi><span>アクティブな EditContext の判定</span></a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#editcontext-interface"><bdi class="secno">3.2
                            </bdi>EditContext インターフェース</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#editcontext-events-0"><bdi class="secno">4. </bdi>EditContext
                    のイベント</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#textupdateevent"><bdi class="secno">4.1
                            </bdi>TextUpdateEvent</a></li>
                    <li class="tocline"><a class="tocxref" href="#textformatupdateevent"><bdi class="secno">4.2
                            </bdi>TextFormatUpdateEvent</a></li>
                    <li class="tocline"><a class="tocxref" href="#characterboundsupdateevent"><bdi class="secno">4.3
                            </bdi>CharacterBoundsUpdateEvent</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">A. </bdi>IDL 索引</a></li>
            <li class="tocline"><a class="tocxref" href="#contributors"><bdi class="secno">B. </bdi>貢献者</a>
            </li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1
                            </bdi>規定参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">C.2
                            </bdi>参考参考文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="introduction">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>はじめに</h2><a class="self-link" href="#introduction"
                aria-label="Permalink for Section 1."></a>
        </div>

        <section id="background" class="informative">
            <div class="header-wrapper">
                <h3 id="x1-1-background-and-motivation"><bdi class="secno">1.1 </bdi>背景と動機</h3><a class="self-link"
                    href="#background" aria-label="Permalink for Section 1.1"></a>
            </div>
            <p><em>このセクションは規定ではありません。</em></p>

            <p>最新のオペレーティングシステムは、音声入力、ソフトウェアキーボード、手書き認識など、さまざまな方法でテキストを生成する仕組みを提供している。アプリがこれらさまざまなソースからのテキスト入力を受け取りたい場合、まず現在編集可能なテキストのビューを
                OS
                に提供する必要がある。編集可能テキストのビューは、（さまざまな文書モデルを持つ）アプリと（さまざまな入力手段を持つ）テキストソースの双方が理解できる共通言語を提供する。アプリと入力ソースの両方は、この共通ビューの状態に対する望ましい変更を、相手が処理可能なイベントとして表現することで、テキスト入力プロセスを成り立たせる。
            </p>
            <p>本書においては、テキストの生成側を <dfn data-plurals="text input methods" id="dfn-text-input-method" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">Text Input
                    Method</dfn>（テキスト入力メソッド）と呼ぶ。テキストを消費したいアプリが提供するビューは <dfn data-plurals="text edit contexts"
                    id="dfn-text-edit-context" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Text Edit
                    Context</dfn>（テキスト編集コンテキスト）と呼ぶ。<a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context"
                    class="internalDFN" id="ref-for-dfn-text-edit-context-1">Text Edit
                    Context</a> 内のテキスト編集を、<a data-link-type="dfn|abstract-op" href="#dfn-text-input-method"
                    class="internalDFN" id="ref-for-dfn-text-input-method-1">Text Input
                    Methods</a>（テキスト入力メソッド）によって円滑に行えるようにする OS のサービスは、<dfn id="dfn-text-input-service" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">Text Input
                    Service</dfn>（テキスト入力サービス）と呼ぶ。</p>
            <figure id="many-input-methods">
                <img src="https://www.w3.org/TR/edit-context/images/many-input-methods.jpg" alt="">
                <figcaption><a class="self-link" href="#many-input-methods">Figure <bdi class="figno">1</bdi></a> <span
                        class="fig-title">多くの<a data-link-type="dfn|abstract-op" href="#dfn-text-input-method"
                            class="internalDFN" id="ref-for-dfn-text-input-method-2">Text Input Methods</a> が <a
                            data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                            id="ref-for-dfn-text-input-service-1">Text Input Service</a> を介して、各アプリケーションの <a
                            data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                            id="ref-for-dfn-text-edit-context-2">Text Edit Contexts</a> と通信している様子。</span>
                </figcaption>
            </figure>
            <p>以下に、テキスト入力プロセスの典型的なフローをより詳しく示す：</p>
            <ol>
                <li>ユーザーがアプリの編集可能な領域にフォーカスを置く。</li>
                <li>アプリは、<a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-2">Text
                        Input Service</a>（テキスト入力サービス）が定める標準に従って、自身の編集可能領域を記述する <a data-link-type="dfn|abstract-op"
                        href="#dfn-text-edit-context" class="internalDFN" id="ref-for-dfn-text-edit-context-3">Text Edit
                        Context</a> を生成し、その <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context"
                        class="internalDFN" id="ref-for-dfn-text-edit-context-4">Text Edit
                        Context</a> を <a data-link-type="dfn|abstract-op" href="#dfn-text-input-service"
                        class="internalDFN" id="ref-for-dfn-text-input-service-3">Text Input Service</a> に提供する。</li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-4">Text Input Service</a>
                    は、ユーザーからテキスト入力を取得するためのユーザーインターフェイスを提供するよう、ある <a data-link-type="dfn|abstract-op"
                        href="#dfn-text-input-method" class="internalDFN" id="ref-for-dfn-text-input-method-3">Text
                        Input Method</a> を起動し、アプリが生成した <a data-link-type="dfn|abstract-op" href="#dfn-text-input-method"
                        class="internalDFN" id="ref-for-dfn-text-input-method-4">Text
                        Input Method</a> に <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context"
                        class="internalDFN" id="ref-for-dfn-text-edit-context-5">Text Edit
                        Context</a> を渡す。</li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-text-input-method" class="internalDFN"
                        id="ref-for-dfn-text-input-method-5">Text Input Method</a> は、ユーザー体験を最適化するために、<a
                        data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                        id="ref-for-dfn-text-edit-context-6">Text Edit Context</a> から選択位置およびその近傍のテキストを読み取る。</li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-text-input-method" class="internalDFN"
                        id="ref-for-dfn-text-input-method-6">Text Input Method</a>
                    は、選択位置や編集可能領域のスクリーン座標を読み取ることもあり、その情報を用いて、編集中のテキストの近くに自らのユーザーインターフェイスを適切に配置する。</li>
                <li>ユーザーは <a data-link-type="dfn|abstract-op" href="#dfn-text-input-method" class="internalDFN"
                        id="ref-for-dfn-text-input-method-7">Text Input Method</a> のユーザーインターフェイスを操作し、<a
                        data-link-type="dfn|abstract-op" href="#dfn-text-input-method" class="internalDFN"
                        id="ref-for-dfn-text-input-method-8">Text Input Method</a> 固有の方法でテキストを入力する。
                </li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-text-input-method" class="internalDFN"
                        id="ref-for-dfn-text-input-method-9">Text Input Method</a> は、ユーザー入力に応じて <a
                        data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                        id="ref-for-dfn-text-edit-context-7">Text Edit Context</a> のテキストと選択に対する望ましい変更を記述する。</li>
                <li>アプリは、自身の <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                        id="ref-for-dfn-text-edit-context-8">Text Edit Context</a>
                    への望ましい変更を記述したイベントを処理し、その結果をユーザーへレンダリングする。
                </li>
            </ol>
            <figure id="text-input-process">
                <img src="https://www.w3.org/TR/edit-context/images/text-input-process.jpg" alt="">
                <figcaption><a class="self-link" href="#text-input-process">Figure <bdi class="figno">2</bdi></a> <span
                        class="fig-title">典型的なテキスト入力フローを示すシーケンス図。</span>
                </figcaption>
            </figure>
            <p>既存のユーザーエージェントは、このテキスト入力プロセスの詳細を処理することで、文書のどの要素が編集可能領域を表すかを宣言するところまでを著者の責任範囲としている。著者は、input 要素、textarea
                要素、contenteditable 要素を使用するか、または <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/interaction.html#designMode"><code>designMode</code></a>
                属性を "<code>on</code>" に設定して文書全体を編集可能としてマークすることで、どの領域が編集可能かを表明する。 </p>
            <p>文書内の編集可能領域に<a
                    href="https://html.spec.whatwg.org/multipage/interaction.html#focused">フォーカス</a>が当てられると、ユーザーエージェントは、その編集可能領域の内容とその中の選択位置から
                <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                    id="ref-for-dfn-text-edit-context-9">Text Edit Context</a> を自動的に生成する。<a
                    data-link-type="dfn|abstract-op" href="#dfn-text-input-method" class="internalDFN"
                    id="ref-for-dfn-text-input-method-10">Text Input Method</a> がテキストを生成すると、ユーザーエージェントは、その <a
                    data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                    id="ref-for-dfn-text-edit-context-10">Text Edit Context</a> に対するイベントを、一連の DOM
                およびスタイルの変更に変換する。これらのうち、著者が既存のイベントで扱えるのは一部にすぎない。
            </p>
            <p>高度な編集体験を提供したい著者にとって、現在のアプローチは課題となりうる。たとえば、テキストと選択範囲がキャンバスにレンダリングされている場合、ユーザーエージェントはテキスト入力プロセスを駆動するための <a
                    data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                    id="ref-for-dfn-text-edit-context-11">Text Edit Context</a>
                を生成できない。著者はこれを補うためにオフスクリーンの編集可能要素に頼ることになるが、この方法にはアクセシビリティ上の悪影響があり、入力体験を損ない、さらにキャンバス内のテキストとオフスクリーン編集要素内のテキスト位置を同期させる複雑なコードが必要になる。
            </p>
            <p>この EditContext API を導入することで、著者はテキスト入力のプロトコルにより直接参加できるようになり、上述した問題を回避できる。</p>
        </section>
        <section id="editcontext-model">
            <div class="header-wrapper">
                <h3 id="x1-2-the-editcontext-model"><bdi class="secno">1.2 </bdi>EditContext モデル</h3><a
                    class="self-link" href="#editcontext-model" aria-label="Permalink for Section 1.2"></a>
            </div>

            <p>
                <a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                    id="ref-for-dfn-text-input-service-5">Text Input Service</a>（テキスト入力サービス）と <a
                    data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                    id="ref-for-dfn-text-edit-context-12">Text Edit
                    Context</a>（テキスト編集コンテキスト）は、多くのオペレーティングシステムに共通するテキスト入力の側面を表現する抽象化である。
                <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                    id="ref-for-dom-editcontext-2"><code>EditContext</code></a> は、<a data-link-type="dfn|abstract-op"
                    href="#dfn-text-edit-context" class="internalDFN" id="ref-for-dfn-text-edit-context-13">Text Edit
                    Context</a> の JavaScript による表現である。
                <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                    id="ref-for-dfn-text-edit-context-14">Text Edit Context</a> に <a data-link-type="dfn|abstract-op"
                    href="#dfn-text-input-service" class="internalDFN" id="ref-for-dfn-text-input-service-6">Text Input
                    Service</a> による変更が加えられると、その変更はイベントという形で非同期に著者へと通知され、それらのイベントは <a data-link-type="dfn|abstract-op"
                    href="#dfn-active-editcontext" class="internalDFN" id="ref-for-dfn-active-editcontext-1">active
                    EditContext</a> に対してディスパッチされる。
                著者が <a data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                    id="ref-for-dfn-active-editcontext-2">active EditContext</a> に変更を加えると、その変更は次のライフサイクル更新時に <a
                    data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                    id="ref-for-dfn-text-edit-context-15">Text Edit Context</a> に反映される。
            </p>
            <section id="editcontext-state">
                <div class="header-wrapper">
                    <h4 id="x1-2-1-editcontext-state"><bdi class="secno">1.2.1 </bdi>EditContext の状態</h4><a
                        class="self-link" href="#editcontext-state" aria-label="Permalink for Section 1.2.1"></a>
                </div>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                        id="ref-for-dfn-text-edit-context-16">Text Edit Context</a> と <a data-link-type="idl"
                        data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                        id="ref-for-dom-editcontext-3"><code>EditContext</code></a> はどちらも、前述の更新でやり取りされる情報を保持する <a
                        data-link-type="dfn|abstract-op" href="#dfn-text-state" class="internalDFN"
                        id="ref-for-dfn-text-state-1">text state</a>（テキスト状態）を持つ。<dfn id="dfn-text-state" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">text state</dfn> は次の要素から構成される：
                </p>
                <ul>
                    <li><dfn id="dfn-text" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">text</dfn>
                        は、編集可能な内容を表す <a data-link-type="interface" data-lt="DOMString"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                        である。初期値は空文字列である。
                    </li>
                    <li><dfn id="dfn-selection-start" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">selection
                            start</dfn> は、選択範囲の開始位置を表す、<a data-link-type="dfn|abstract-op" href="#dfn-text"
                            class="internalDFN" id="ref-for-dfn-text-1">text</a> 内のオフセットである。初期値は 0 である。</li>
                    <li><dfn id="dfn-selection-end" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">selection
                            end</dfn> は、選択範囲の終了位置を表す、<a data-link-type="dfn|abstract-op" href="#dfn-text"
                            class="internalDFN" id="ref-for-dfn-text-2">text</a> 内のオフセットである。初期値は 0 である。<a
                            data-link-type="dfn|abstract-op" href="#dfn-selection-end" class="internalDFN"
                            id="ref-for-dfn-selection-end-1">selection end</a> は、「後方」選択（文書順とは逆向きの選択）の場合には <a
                            data-link-type="dfn|abstract-op" href="#dfn-selection-start" class="internalDFN"
                            id="ref-for-dfn-selection-start-1">selection start</a> より小さくなることもある。</li>
                    <li><dfn id="dfn-is-composing" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">is
                            composing</dfn> は、アクティブな合成が存在するかどうかを示す。初期値は false である。</li>
                    <li><dfn id="dfn-composition-start" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">composition start</dfn> は、現在アクティブに合成されているテキストの開始位置を表す、<a
                            data-link-type="dfn|abstract-op" href="#dfn-text" class="internalDFN"
                            id="ref-for-dfn-text-3">text</a> 内のオフセットである。初期値は 0 である。</li>
                    <li><dfn id="dfn-composition-end" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">composition end</dfn> は、現在アクティブに合成されているテキストの終了位置を表す、<a
                            data-link-type="dfn|abstract-op" href="#dfn-text" class="internalDFN"
                            id="ref-for-dfn-text-4">text</a> 内のオフセットである。初期値は 0 であり、<a data-link-type="dfn|abstract-op"
                            href="#dfn-composition-end" class="internalDFN"
                            id="ref-for-dfn-composition-end-1">composition end</a> は常に <a
                            data-link-type="dfn|abstract-op" href="#dfn-composition-start" class="internalDFN"
                            id="ref-for-dfn-composition-start-1">composition start</a> 以上でなければならない。</li>
                    <li><dfn id="dfn-text-formats" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">text
                            formats</dfn> は、<a data-link-type="dfn|abstract-op" href="#dfn-text-format"
                            class="internalDFN" id="ref-for-dfn-text-format-1">text format</a> の配列である。配列の初期値は空である。</li>
                    <li><dfn id="dfn-control-bounds" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">control
                            bounds</dfn> は、<a data-link-type="interface" data-lt="DOMRect"
                            href="https://www.w3.org/TR/geometry-1/#domrect"><code>DOMRect</code></a> であり、<a
                            data-link-type="dfn|abstract-op" href="#dfn-text" class="internalDFN"
                            id="ref-for-dfn-text-5">text</a> が表示されるビューポート領域を表す。これは <a data-link-type="dfn|abstract-op"
                            href="#dfn-client-coordinate-system" class="internalDFN"
                            id="ref-for-dfn-client-coordinate-system-1">client coordinate
                            system</a>（クライアント座標系）における値であり、初期の x, y, width, height はすべて 0 である。</li>
                    <li><dfn id="dfn-selection-bounds" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">selection
                            bounds</dfn> は、選択位置を表す <a data-link-type="interface" data-lt="DOMRect"
                            href="https://www.w3.org/TR/geometry-1/#domrect"><code>DOMRect</code></a> である。これは <a
                            data-link-type="dfn|abstract-op" href="#dfn-client-coordinate-system" class="internalDFN"
                            id="ref-for-dfn-client-coordinate-system-2">client coordinate system</a> における値であり、初期の x, y,
                        width, height はすべて 0 である。</li>
                    <li><dfn id="dfn-codepoint-rects-start-index" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">codepoint rects start index</dfn> は、<a data-link-type="dfn|abstract-op"
                            href="#dfn-text" class="internalDFN" id="ref-for-dfn-text-6">text</a> 内のオフセットであり、<a
                            data-link-type="dfn|abstract-op" href="#dfn-codepoint-rects" class="internalDFN"
                            id="ref-for-dfn-codepoint-rects-1">codepoint
                            rects</a> 配列の最初の要素が報告する最初のコードポイントの直前の位置を表す。</li>
                    <li><dfn id="dfn-codepoint-rects" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">codepoint
                            rects</dfn> は、各コードポイントのバウンディングボックスを定義する <a data-link-type="interface" data-lt="DOMRect"
                            href="https://www.w3.org/TR/geometry-1/#domrect"><code>DOMRect</code></a>
                        の配列である。配列の初期値は空である。</li>
                </ul>
                <p><dfn id="dfn-text-format" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">text format</dfn>
                    は、<a data-link-type="dfn|abstract-op" href="#dfn-text" class="internalDFN"
                        id="ref-for-dfn-text-7">text</a> の特定範囲に適用される装飾プロパティを示す構造体である。この構造体は次の要素を含む：</p>
                <ul>
                    <li><dfn id="dfn-range-start" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">range
                            start</dfn> は、装飾の適用を開始すべき最初のコードポイントの直前の位置を表す、<a data-link-type="dfn|abstract-op"
                            href="#dfn-text" class="internalDFN" id="ref-for-dfn-text-8">text</a> 内のオフセットである。</li>
                    <li><dfn id="dfn-range-end" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">range end</dfn>
                        は、装飾の適用を終了すべき最後のコードポイントの直後の位置を表す、<a data-link-type="dfn|abstract-op" href="#dfn-text"
                            class="internalDFN" id="ref-for-dfn-text-9">text</a> 内のオフセットである。</li>
                    <li><dfn id="dfn-underline-style" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">underline
                            style</dfn> は、装飾対象の <a data-link-type="dfn|abstract-op" href="#dfn-text" class="internalDFN"
                            id="ref-for-dfn-text-10">text</a> 範囲に対して希望される下線スタイルを表す <a data-link-type="idl"
                            data-lt="UnderlineStyle" href="#dom-underlinestyle" class="internalDFN"
                            id="ref-for-dom-underlinestyle-1"><code>UnderlineStyle</code></a> である。</li>
                    <li><dfn id="dfn-underline-thickness" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">underline thickness</dfn> は、装飾対象の <a data-link-type="dfn|abstract-op"
                            href="#dfn-text" class="internalDFN" id="ref-for-dfn-text-11">text</a> 範囲に対して希望される下線の太さを表す
                        <a data-link-type="idl" data-lt="UnderlineThickness" href="#dom-underlinethickness"
                            class="internalDFN"
                            id="ref-for-dom-underlinethickness-1"><code>UnderlineThickness</code></a> である。
                    </li>
                </ul>
                <div class="note" role="note" id="issue-container-generatedID">
                    <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div>
                    <p class="">
                        <a data-link-type="dfn|abstract-op" href="#dfn-codepoint-rects" class="internalDFN"
                            id="ref-for-dfn-codepoint-rects-2">Codepoint rects</a>
                        は、ユーザーエージェントがテキストのある範囲に対して位置情報を問い合わせるための手段を提供する。<a data-link-type="dfn|abstract-op"
                            href="#dfn-text-input-service" class="internalDFN"
                            id="ref-for-dfn-text-input-service-7">Text Input Service</a> は、この情報を <a
                            data-link-type="dfn|abstract-op" href="#dfn-control-bounds" class="internalDFN"
                            id="ref-for-dfn-control-bounds-1">control bounds</a> および <a data-link-type="dfn|abstract-op"
                            href="#dfn-selection-bounds" class="internalDFN"
                            id="ref-for-dfn-selection-bounds-1">selection bounds</a> と組み合わせて用い、Text Input Method
                        が自らのユーザーインターフェイスを適切に表示できるよう支援する。たとえば、この情報は、合成中のテキストの隣に IME ウィンドウを配置するために利用できる。
                        プラットフォームによっては、<a data-link-type="dfn|abstract-op" href="#dfn-text-input-service"
                            class="internalDFN" id="ref-for-dfn-text-input-service-8">Text Input Service</a>
                        からの問い合わせに応えるために、異なる位置情報をキャッシュしておく必要がある場合がある。ユーザーエージェントは、<a data-link-type="idl"
                            data-lt="CharacterBoundsUpdateEvent" href="#dom-characterboundsupdateevent"
                            class="internalDFN"
                            id="ref-for-dom-characterboundsupdateevent-1"><code>CharacterBoundsUpdateEvent</code></a>
                        を発火することで、どの位置情報が必要かを示す。
                    </p>
                </div>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-control-bounds" class="internalDFN"
                        id="ref-for-dfn-control-bounds-2">Control bounds</a>、<a data-link-type="dfn|abstract-op"
                        href="#dfn-selection-bounds" class="internalDFN" id="ref-for-dfn-selection-bounds-2">selection
                        bounds</a>、および <a data-link-type="dfn|abstract-op" href="#dfn-codepoint-rects"
                        class="internalDFN" id="ref-for-dfn-codepoint-rects-3">codepoint rects</a> は、<dfn
                        id="dfn-client-coordinate-system" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">client
                        coordinate system</dfn>（クライアント座標系）で与えられる。これは、原点を<a
                        href="https://drafts.csswg.org/cssom-view/#layout-viewport">レイアウトビューポート</a>の左上とし、
                    x 軸を<a href="https://drafts.csswg.org/cssom-view/#layout-viewport">レイアウトビューポート</a>の右方向、
                    y 軸を<a href="https://drafts.csswg.org/cssom-view/#layout-viewport">レイアウトビューポート</a>の下方向とする 2 次元直交座標系
                    (x, y) と定義される。
                    クライアント座標系の単位は <a href="https://drafts.csswg.org/css-values/#px">CSS pixels</a> である。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span></div>
                    <div class="">
                        <p>
                            EditContext の境界は <a data-lt="client coordinate system" href="#dfn-client-coordinate-system"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-client-coordinate-system-3">client
                                coordinates</a>（クライアント座標）で定義されるため、ページ上のあるコンテンツに対応する座標は、そのコンテンツ自体が文書内で移動していなくても、ユーザーが文書をスクロールすると変化する。著者がこれを考慮したくなるシナリオの一例として、ユーザーがアクティブな合成中にページをスクロールする場合が挙げられる。もし著者が（たとえばスクロールイベントリスナー内で）EditContext
                            の境界情報を更新しなければ、IME ウィンドウは合成中のテキストと位置がずれたまま、合成が続く間表示される可能性がある。
                        </p>
                        <p>
                            しかし、プラットフォームによっては、アクティブな合成中に IME ウィンドウの位置調整を行わないものもあるため、合成の途中で境界情報を更新しても、IME
                            ウィンドウが再配置されるのは、それが閉じられて再度開かれた後になる場合がある。
                        </p>
                    </div>
                </div>
            </section>
            <section id="association-and-activation">
                <div class="header-wrapper">
                    <h4 id="x1-2-2-association-and-activation"><bdi class="secno">1.2.2 </bdi>関連付けと有効化
                    </h4><a class="self-link" href="#association-and-activation"
                        aria-label="Permalink for Section 1.2.2"></a>
                </div>
                <p>
                    <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                        id="ref-for-dom-editcontext-4"><code>EditContext</code></a> は、<dfn data-for="edit-context"
                        data-plurals="associated elements" id="dfn-associated-element" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">associated element</dfn>（関連付けられた要素）として <a
                        data-link-type="interface" data-lt="HTMLElement"
                        href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement"><code>HTMLElement</code></a>
                    を 1 つ持つ。要素がある <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext"
                        class="internalDFN" id="ref-for-dom-editcontext-5"><code>EditContext</code></a> の <a
                        href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-associated-element-1">associated element </a> になるのは、その要素の <a
                        data-link-type="idl" href="#dom-htmlelement-editcontext" class="internalDFN"
                        id="ref-for-dom-htmlelement-editcontext-1"><code>editContext</code></a> プロパティにその <a
                        data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                        id="ref-for-dom-editcontext-6"><code>EditContext</code></a> を代入したときである。
                    <a data-link-type="interface" data-lt="HTMLElement"
                        href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement"><code>HTMLElement</code></a>
                    は、高々 1 つの <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                        id="ref-for-dom-editcontext-7"><code>EditContext</code></a> とだけ <a data-lt="associated element"
                        href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-associated-element-2">関連付け</a> ることができる。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-1">
                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span></div>
                    <p class="">
                        <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                            id="ref-for-dom-editcontext-8"><code>EditContext</code></a> は、自身の <a
                            data-link-type="dfn|abstract-op" href="#dfn-associated-element" class="internalDFN"
                            id="ref-for-dfn-associated-element-3">associated element</a> を生存させ続ける。そのため、開発者は、ある要素の <a
                            data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                            id="ref-for-dom-editcontext-9"><code>EditContext</code></a> をその要素の <a data-link-type="idl"
                            href="#dom-htmlelement-editcontext" class="internalDFN"
                            id="ref-for-dom-htmlelement-editcontext-2"><code>editContext</code></a>
                        プロパティに代入すると、そのプロパティがクリアされるか、その <a data-link-type="idl" data-lt="EditContext"
                            href="#dom-editcontext" class="internalDFN"
                            id="ref-for-dom-editcontext-10"><code>EditContext</code></a>
                        自体がガーベジコレクションされるまで、その要素はガーベジコレクションされないことに注意すべきである。
                    </p>
                </div>
                <p>
                    ある <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                        id="ref-for-dom-editcontext-11"><code>EditContext</code></a> の <a href="#dfn-associated-element"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-associated-element-4">associated
                        element</a> の
                    <a href="https://dom.spec.whatwg.org/#concept-tree-parent">親</a> が
                    <a href="https://w3c.github.io/editing/docs/execCommand/#editable">editable</a> ではなく、
                    かつ <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">Document</a>
                    ではない場合で、その <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#designMode"><code>designMode</code></a>
                    属性が "<code>on</code>" でもないとき、
                    その <a href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-associated-element-5">associated element</a> は <dfn class="export"
                        data-export="" id="dfn-editcontext-editing-host" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">EditContext editing host</dfn>（EditContext 編集ホスト）となる。
                    <a href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-editcontext-editing-host-1">EditContext editing host</a> は、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host">editing host</a>
                    の一種であり、その振る舞いは <a href="#edit-context-differences"
                        data-matched-text="[[[#edit-context-differences]]]" class="sec-ref"><bdi class="secno">1.2.3
                        </bdi>Differences for an EditContext editing host</a> に記述される。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-2">
                    <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div>
                    <div class="">
                        <p>
                            これにはいくつかの含意がある。まず、すでに
                            <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host">editing
                                host</a> となっている要素（たとえば
                            <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a></code>
                            によって編集ホストとなっている要素）が、ある <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext"
                                class="internalDFN" id="ref-for-dom-editcontext-12"><code>EditContext</code></a> の <a
                                href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-associated-element-6">associated element</a> となった場合、その要素は <a
                                href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-editcontext-editing-host-2">EditContext editing host</a>
                            になる、という点である。言い換えると、ある要素に対して <a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-13"><code>EditContext</code></a> と
                            <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a></code>
                            の両方が設定されている場合、EditContext の振る舞いが優先される、ということである。
                        </p>
                        <p>
                            次に、ある要素が
                            <a href="https://w3c.github.io/editing/docs/execCommand/#editable">editable</a>
                            であっても <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host">editing
                                host</a> ではない場合（すなわち、ある <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host">editing
                                host</a> のサブツリー内の子要素である場合）、その要素がある <a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-14"><code>EditContext</code></a> の <a
                                href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-associated-element-7">associated element</a>
                            になっても、その要素には何の影響もない、という点である。これは、
                            <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a></code>
                            の挙動に類似しており、すでに <a
                                href="https://w3c.github.io/editing/docs/execCommand/#editable">editable</a> ではあるが <a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host">editing
                                host</a> ではない要素に対して
                            <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a></code>
                            を "<code>true</code>" に設定しても何も起こらないのと同じである。まとめると、これらのルールは、編集可能なノードの木は、<a
                                data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-15"><code>EditContext</code></a> ベースの挙動、または非 <a
                                data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-16"><code>EditContext</code></a>
                            ベースの挙動のいずれか一方にのみ従い、両者を混在させることはできないことを意味する。
                        </p>
                    </div>
                </div>
                <p>
                    <a data-link-type="interface" data-lt="Document"
                        href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> は、null であることもある <dfn
                        id="dfn-active-editcontext" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">active
                        EditContext</dfn>（アクティブな EditContext）を持つ。
                </p>
                <div class="issue" id="issue-container-number-1">
                    <div role="heading" class="issue-title marker" id="h-issue" aria-level="4"><span>Issue 1</span>
                    </div>
                    <p class="">
                        次の段落は、動作変更が [<cite><a class="bibref" data-link-type="biblio" href="#bib-input-events"
                                title="Input Events Level 1">input-events</a></cite>] に反映されたら削除できる。
                    </p>
                </div>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-editcontext-editing-host" class="internalDFN"
                        id="ref-for-dfn-editcontext-editing-host-3">EditContext editing host</a> が <a
                        data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-9">Text Input Service</a> からテキスト入力を受け取った場合、その入力によって発火した <a
                        href="https://www.w3.org/TR/uievents/#event-type-beforeinput">beforeinput</a> イベントの<a
                        href="https://www.w3.org/TR/uievents/#default-action">既定の動作</a>として、ユーザーエージェントは、その <a
                        data-link-type="dfn|abstract-op" href="#dfn-editcontext-editing-host" class="internalDFN"
                        id="ref-for-dfn-editcontext-editing-host-4">EditContext editing host</a> を引数に、<a
                        data-link-type="dfn|abstract-op" href="#dfn-handle-input-for-editcontext" class="internalDFN"
                        id="ref-for-dfn-handle-input-for-editcontext-1">Handle Input for EditContext</a> を実行しなければならない。
                </p>
            </section>
            <section id="differences-for-an-editcontext-editing-host">
                <div class="header-wrapper">
                    <h4 id="edit-context-differences"><bdi class="secno">1.2.3 </bdi>EditContext 編集ホストにおける差異</h4><a
                        class="self-link" href="#edit-context-differences" aria-label="Permalink for Section 1.2.3"></a>
                </div>
                <div>
                    <p>
                        多くの点で、<a href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-editcontext-editing-host-5">EditContext editing
                            host</a> は、たとえば
                        <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a></code>
                        要素に対するもののような、他の種類の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host">editing
                            host</a> と同様に振る舞う。主な類似点としては次のようなものがある：
                    </p>
                    <ul>
                        <li>
                            <a href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-editcontext-editing-host-6">EditContext editing
                                host</a> の各子ノードは、そのノードに
                            <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a></code>
                            属性が "<code>false</code>" に設定されていない限り、<a
                                href="https://w3c.github.io/editing/docs/execCommand/#editable">editable</a> になる。
                        </li>
                        <li>ユーザーエージェントは、（<a data-link-type="dfn|abstract-op" href="#dfn-associated-element"
                                class="internalDFN" id="ref-for-dfn-associated-element-8">associated element</a> が <a
                                data-link-type="element"
                                href="https://html.spec.whatwg.org/multipage/canvas.html#canvas">canvas</a>
                            である場合を除き、後述）<a href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-editcontext-editing-host-7">EditContext editing host</a>
                            内の任意の編集可能要素について、フォーカスおよびキャレットナビゲーションを処理する。
                        </li>
                        <li>
                            <a href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-editcontext-editing-host-8">EditContext editing host</a> は、[<cite><a
                                    class="bibref" data-link-type="biblio" href="#bib-uievents"
                                    title="UI Events">uievents</a></cite>] に規定されるとおり、キーイベントおよび <a
                                href="https://www.w3.org/TR/uievents/#event-type-beforeinput">beforeinput</a>
                            イベントを受け取る。
                        </li>
                    </ul>

                    <p>
                        一方で、<a href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-editcontext-editing-host-9">EditContext editing
                            host</a> は、他の種類の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host">editing
                            hosts</a> と異なる点もいくつか存在する：
                    </p>
                    <ul>
                        <li>
                            編集対象の <a data-link-type="interface" data-lt="Document"
                                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> に <a
                                data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                                id="ref-for-dfn-active-editcontext-3">active EditContext</a> が存在する場合、ユーザーエージェントは、<a
                                href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-editcontext-editing-host-10">EditContext editing host</a>
                            内でのユーザー操作（編集可能領域でのキーボード入力、テキストの削除や書式変更など）の直接の結果として DOM を更新してはならない。
                        </li>
                        <li>
                            編集対象の <a data-link-type="interface" data-lt="Document"
                                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> に <a
                                data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                                id="ref-for-dfn-active-editcontext-4">active EditContext</a>
                            が存在する場合、ユーザーエージェントは、[<cite><a class="bibref" data-link-type="biblio" href="#bib-uievents"
                                    title="UI Events">uievents</a></cite>] に規定されるようなユーザー操作イベントの直接の結果として、<a
                                href="#dfn-editcontext-editing-host" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-editcontext-editing-host-11">EditContext editing host</a> に対して <a
                                href="https://www.w3.org/TR/uievents/#event-type-input">input</a> イベントを発火してはならない。
                        </li>
                        <li>
                            編集対象の <a data-link-type="interface" data-lt="Document"
                                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> に <a
                                data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                                id="ref-for-dfn-active-editcontext-5">active EditContext</a>
                            が存在する場合、ユーザーエージェントは、ユーザー操作の直接の結果として、<a href="#dfn-editcontext-editing-host"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-editcontext-editing-host-12">EditContext editing host</a> に対して <a
                                href="https://www.w3.org/TR/uievents/#events-compositionevents">composition events</a>
                            を発火してはならない。その代わり、それらは <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext"
                                class="internalDFN" id="ref-for-dom-editcontext-17"><code>EditContext</code></a> に対して、<a
                                data-link-type="dfn|abstract-op" data-lt="update the EditContext"
                                href="#dfn-update-the-editcontext" class="internalDFN"
                                id="ref-for-dfn-update-the-editcontext-1">updating the EditContext</a>（EditContext
                            の更新）または <a data-link-type="dfn|abstract-op" data-lt="deactivate an EditContext"
                                href="#dfn-deactivate-an-editcontext" class="internalDFN"
                                id="ref-for-dfn-deactivate-an-editcontext-1">deactivating the
                                EditContext</a>（EditContext の非アクティブ化）の一部として発火される。
                        </li>
                        <li>
                            <p>
                                <a data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                                    id="ref-for-dfn-active-editcontext-6">active EditContext</a> の <a
                                    data-link-type="dfn|abstract-op" href="#dfn-associated-element" class="internalDFN"
                                    id="ref-for-dfn-associated-element-9">associated element</a> が <a
                                    data-link-type="element"
                                    href="https://html.spec.whatwg.org/multipage/canvas.html#canvas">canvas</a>
                                である場合、さらなる差異が存在する：
                            </p>
                            <ul>
                                <li>
                                    ユーザーエージェントは、<a data-link-type="element"
                                        href="https://html.spec.whatwg.org/multipage/canvas.html#canvas">canvas</a>
                                    内でテキストがどのようにレイアウトされているかの情報を持たないため、キャレットナビゲーションや選択を処理できず、その実装は著者側の責任となる。
                                </li>
                                <li>
                                    同様に、ユーザーエージェントは、<a data-link-type="element"
                                        href="https://html.spec.whatwg.org/multipage/canvas.html#canvas">canvas</a>
                                    内でテキストがどのようにレイアウトされているかの情報を持たないため、インラインのスペル・文法候補を表示できない。そのため、著者がスペル・文法候補をサポートしたい場合には、自身でそれを実装する必要がある。
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>

            </section>
            <section id="editcontext-events">
                <div class="header-wrapper">
                    <h4 id="x1-2-4-editcontext-events"><bdi class="secno">1.2.4 </bdi>EditContext のイベント</h4><a
                        class="self-link" href="#editcontext-events" aria-label="Permalink for Section 1.2.4"></a>
                </div>
                <p>
                    ユーザーエージェントはいくつかの種類のイベントを <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext"
                        class="internalDFN" id="ref-for-dom-editcontext-18"><code>EditContext</code></a> に対して発火し、<a
                        data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-10">Text Input Service</a> からの変更に応じて DOM の状態を更新すべきタイミングや、<a
                        data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-11">Text Input Service</a> からの問い合わせに応答すべきタイミングを著者に知らせる。
                    <a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-12">Text Input Service</a>
                    のタイミングはプラットフォーム固有であるため、著者はこれらのイベントのタイミングに依存することは避けるべきである。
                </p>
                <ul>
                    <li>
                        <a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                            id="ref-for-dfn-text-input-service-13">Text Input Service</a>
                        が、ユーザーによってテキスト、選択範囲、または合成範囲プロパティに変更が加えられたことを示した場合、ユーザーエージェントは <a data-link-type="idl"
                            data-lt="TextUpdateEvent" href="#dom-textupdateevent" class="internalDFN"
                            id="ref-for-dom-textupdateevent-1"><code>TextUpdateEvent</code></a>
                        を発火しなければならない。著者はこのイベントを受け取ったら、ユーザーが入力している内容が視覚的に分かるように、その変更をページのビューに反映しなければならない。
                    </li>
                    <li>
                        <p>
                            <a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                                id="ref-for-dfn-text-input-service-14">Text Input Service</a>
                            が、合成中のテキストに特定の書式を適用すべきであると示した場合、ユーザーエージェントは <a data-link-type="idl"
                                data-lt="TextFormatUpdateEvent" href="#dom-textformatupdateevent" class="internalDFN"
                                id="ref-for-dom-textformatupdateevent-1"><code>TextFormatUpdateEvent</code></a>
                            を発火しなければならない。著者はこのイベントを受け取ったら、IME 合成を支援するために、その書式変更をページのビューに反映しなければならない。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-3">
                            <div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>Note</span>
                            </div>
                            <p class="">
                                指紋採取のリスクを軽減するために、ユーザーエージェントは <a data-link-type="idl" data-lt="TextFormatUpdateEvent"
                                    href="#dom-textformatupdateevent" class="internalDFN"
                                    id="ref-for-dom-textformatupdateevent-2"><code>TextFormatUpdateEvent</code></a>
                                をディスパッチする前に、<a data-link-type="idl" data-lt="UnderlineStyle" href="#dom-underlinestyle"
                                    class="internalDFN"
                                    id="ref-for-dom-underlinestyle-2"><code>UnderlineStyle</code></a> や <a
                                    data-link-type="idl" data-lt="UnderlineThickness" href="#dom-underlinethickness"
                                    class="internalDFN"
                                    id="ref-for-dom-underlinethickness-2"><code>UnderlineThickness</code></a>
                                を調整してもよい。これは、特徴的なスタイル特性を持つ入力メソッドが使用されている場合に特に重要となりうる。
                            </p>
                        </div>
                    </li>
                    <li>
                        <p>
                            <a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                                id="ref-for-dfn-text-input-service-15">Text Input Service</a>
                            が、そのユーザーインターフェイスを適切に表示するために文字境界情報を必要としていることを示した場合、ユーザーエージェントは <a data-link-type="idl"
                                data-lt="CharacterBoundsUpdateEvent" href="#dom-characterboundsupdateevent"
                                class="internalDFN"
                                id="ref-for-dom-characterboundsupdateevent-2"><code>CharacterBoundsUpdateEvent</code></a>
                            を発火しなければならない。
                            著者は <a data-link-type="idl" data-lt="CharacterBoundsUpdateEvent"
                                href="#dom-characterboundsupdateevent" class="internalDFN"
                                id="ref-for-dom-characterboundsupdateevent-3"><code>CharacterBoundsUpdateEvent</code></a>
                            を受け取ったら、要求された文字境界を計算し、その情報を EditContext の <a data-link-type="dfn|abstract-op"
                                href="#dfn-text-state" class="internalDFN" id="ref-for-dfn-text-state-2">text state</a>
                            内の文字境界として更新するために <a data-link-type="idl" href="#dom-editcontext-updatecharacterbounds"
                                class="internalDFN"
                                id="ref-for-dom-editcontext-updatecharacterbounds-1"><code>updateCharacterBounds</code></a>
                            を呼び出さなければならない。
                            著者は可能であれば、<a data-link-type="idl" data-lt="CharacterBoundsUpdateEvent"
                                href="#dom-characterboundsupdateevent" class="internalDFN"
                                id="ref-for-dom-characterboundsupdateevent-4"><code>CharacterBoundsUpdateEvent</code></a>
                            のイベントハンドラ内で同期的に <a data-link-type="idl" href="#dom-editcontext-updatecharacterbounds"
                                class="internalDFN"
                                id="ref-for-dom-editcontext-updatecharacterbounds-2"><code>updateCharacterBounds</code></a>
                            を呼び出すべきである。もしそれが不可能であれば、非同期的に呼び出してもよい。
                            ユーザーエージェントは、<a data-link-type="idl" href="#dom-editcontext-updatecharacterbounds"
                                class="internalDFN"
                                id="ref-for-dom-editcontext-updatecharacterbounds-3"><code>updateCharacterBounds</code></a>
                            を受け取ったら、その文字境界情報を <a data-link-type="dfn|abstract-op" href="#dfn-text-input-service"
                                class="internalDFN" id="ref-for-dfn-text-input-service-16">Text Input Service</a>
                            に渡さなければならない。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-4">
                            <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>Note</span>
                            </div>
                            <p class="">
                                著者が <a data-link-type="idl" href="#dom-editcontext-updatecharacterbounds"
                                    class="internalDFN"
                                    id="ref-for-dom-editcontext-updatecharacterbounds-4"><code>updateCharacterBounds</code></a>
                                の呼び出しを遅らせれば遅らせるほど、合成の途中で IME ウィンドウが再配置される際に、ユーザーが視覚的なカクつきを目にする可能性は高くなる。
                            </p>
                        </div>
                    </li>
                </ul>
            </section>
            <section id="event-loop-changes">
                <div class="header-wrapper">
                    <h4 id="x1-2-5-event-loop-changes"><bdi class="secno">1.2.5 </bdi>イベントループの変更</h4><a
                        class="self-link" href="#event-loop-changes" aria-label="Permalink for Section 1.2.5"></a>
                </div>
                <p>
                    新たなステップが、HTML のイベントループ処理モデルにおける <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering">Update the
                        rendering</a>（レンダリングの更新）ステップのサブステップとして導入される。このステップは、<a data-link-type="interface"
                        data-lt="Document" href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> の <a
                        href="https://html.spec.whatwg.org/#focused-area-of-the-document">focused area</a> がフォーカス不可能になった
                    <a data-link-type="interface" data-lt="Document"
                        href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> に対するフォーカシングステップを実行する 15
                    番目のステップの直後に挿入される。
                    その内容は次のとおりである：各
                    <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully
                        active</a>
                    な <a data-link-type="interface" data-lt="Document"
                        href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> <var>doc</var>
                    について、<var>doc</var> の <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global object</a> に対し、<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">DOM
                        manipulation task source</a> 上で <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">queue a global
                        task</a> を行い、
                    <var>doc</var> を引数として <a data-link-type="dfn|abstract-op" href="#dfn-update-the-text-edit-context"
                        class="internalDFN" id="ref-for-dfn-update-the-text-edit-context-1">Update the Text Edit
                        Context</a>（Text Edit Context の更新）手順を実行する。
                </p>
            </section>
            <section id="examples" class="informative">
                <div class="header-wrapper">
                    <h4 id="x1-2-6-examples"><bdi class="secno">1.2.6 </bdi>例</h4><a class="self-link" href="#examples"
                        aria-label="Permalink for Section 1.2.6"></a>
                </div>
                <p><em>このセクションは規定ではありません。</em></p>

                <p><a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                        id="ref-for-dom-editcontext-19"><code>EditContext</code></a> を使用すると、著者は、以下の例に示すように、ある要素に <a
                        data-lt="associated element" href="#dfn-associated-element" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-associated-element-10">associating</a>（関連付け） られた <a
                        data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                        id="ref-for-dom-editcontext-20"><code>EditContext</code></a> オブジェクトを通じて、文書の一部分を編集可能領域としてマークできる：
                </p>
                <aside class="example" id="example-associate-an-editcontext-with-an-element">
                    <div class="marker">
                        <a class="self-link" href="#example-associate-an-editcontext-with-an-element">Example<bdi>
                                1</bdi></a><span class="example-title">: EditContext を要素に関連付ける</span>
                    </div>
                    <pre
                        aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">let</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"canvas"</span>)
    canvas.<span class="hljs-property">editContext</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditContext</span>()
    <span class="hljs-comment">// When the associated element is focused, the EditContext is automatically activated.</span>
    canvas.<span class="hljs-title function_">focus</span>();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></code></pre>
                </aside>

                <p>次の例では、著者はキャンバスを使って編集可能領域を描画し、等幅フォントでレンダリングされた 1 行のテキストの入力をユーザーに許可している。編集可能領域のテキストは、著者によって String
                    として管理される。編集可能領域内の選択のテキストオフセットは、selectionStart と selectionEnd
                    という数値のペアとして著者によって管理される。これらの数値は、それぞれ選択開始位置と終了位置より左側にある UTF-16
                    コードポイントの数を表す。文書内の編集可能領域および現在の選択に対するバウンディング矩形を Text Input Services に伝えるために、著者は CSS
                    ピクセル単位で選択と編集可能領域のバウンディング矩形も計算する。矩形のオフセットは、著者が EditContext を <a data-lt="associated element"
                        href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-associated-element-11">associated</a> している要素である canvas
                    要素の原点を基準に表現される。著者側のテキストおよび選択位置の表現モデルは、EditContext API
                    が期待する形式と一致しているため、著者はそれらのプロパティが変化するたびに、それらの値をキャンバスに関連付けられた EditContext に単純に代入するだけでよい。 </p>

                <aside class="example" id="example-using-editcontext-with-editing-model-view-and-controller">
                    <div class="marker">
                        <a class="self-link"
                            href="#example-using-editcontext-with-editing-model-view-and-controller">Example<bdi>
                                2</bdi></a><span class="example-title">: モデル・ビュー・コントローラとともに EditContext を利用する例</span>
                    </div>
                    <pre
                        aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="language-javascript">
    <span class="hljs-comment">// This example is built on top of example 1.</span>
    <span class="hljs-comment">// Only the added logic is shown here for brevity.</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingModel</span> {
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text, selectionStart, selectionEnd</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text  
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectionStart</span> = selectionStart
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectionEnd</span> = selectionEnd
        }  
    }  

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingView</span> {  
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params">canvas, model</span>) {  
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = canvas 
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model 
        } 

        <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {
            <span class="hljs-comment">// render the text</span>
            <span class="hljs-keyword">let</span> canvasContext2D = <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);
            canvasContext2D.<span class="hljs-title function_">strokeText</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">text</span>);

            <span class="hljs-comment">// render the selection (implementation omitted for brevity)</span>
        } 

        <span class="hljs-title function_">computeSelectionBound</span>(<span class="hljs-params"></span>) { 
            <span class="hljs-comment">// implementation omitted for brevity </span>
        } 

        <span class="hljs-title function_">computeControlBound</span>(<span class="hljs-params"></span>) { 
            <span class="hljs-comment">// implementation omitted for brevity </span>
        } 
    }

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingController</span> {
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params">model, view, editContext</span>) {  
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span> = view
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">editContext</span> = editContext
        }

        <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {
            view.<span class="hljs-title function_">render</span>()

            <span class="hljs-comment">// keep EditContext in sync, which essentially means</span>
            <span class="hljs-comment">// rendering the plain text view of the model.</span>
            <span class="hljs-keyword">let</span> editContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">editContext</span>  
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">editContext</span>.<span class="hljs-title function_">updateText</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">text</span>.<span class="hljs-property">length</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">text</span>)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">editContext</span>.<span class="hljs-title function_">updateSelection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">selectionStart</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">selectionEnd</span>)

            <span class="hljs-keyword">let</span> selectionBounds = view.<span class="hljs-title function_">computeSelectionBound</span>()  
            <span class="hljs-keyword">let</span> controlBounds = view.<span class="hljs-title function_">computeControlBound</span>()  

            <span class="hljs-comment">// These bounds have x, y, width and height members  </span>
            <span class="hljs-comment">// so they can be assigned directly to EditContext.</span>
            editContext.<span class="hljs-title function_">updateSelectionBounds</span>(selectionBounds)
            editContext.<span class="hljs-title function_">updateControlBounds</span>(controlBounds)
        }
    }

    <span class="hljs-keyword">let</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"canvas"</span>)
    canvas.<span class="hljs-property">editContext</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditContext</span>()
    <span class="hljs-keyword">let</span> editingModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditingModel</span>(<span class="hljs-string">""</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
    <span class="hljs-keyword">let</span> editingView = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditingView</span>(canvas, editingModel)
    <span class="hljs-keyword">let</span> editingController = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditingController</span>(editingModel,
        editingView, canvas.<span class="hljs-property">editContext</span>);

    editingController.<span class="hljs-title function_">render</span>() 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></code></pre>
                </aside>

                <p>前の例を基にして、ユーザー入力に応じて、著者は編集可能要素（この場合は canvas）と EditContext の両方のイベントを処理すべきである。</p>

                <p>DOM に対する input イベントは引き続きユーザーの意図を表現する。</p>

                <p>次の例では、<a data-link-type="idl" data-lt="TextUpdateEvent" href="#dom-textupdateevent"
                        class="internalDFN" id="ref-for-dom-textupdateevent-2"><code>TextUpdateEvent</code></a>、<a
                        data-link-type="idl" data-lt="TextFormatUpdateEvent" href="#dom-textformatupdateevent"
                        class="internalDFN"
                        id="ref-for-dom-textformatupdateevent-3"><code>TextFormatUpdateEvent</code></a>、および <a
                        data-link-type="idl" data-lt="CharacterBoundsUpdateEvent" href="#dom-characterboundsupdateevent"
                        class="internalDFN"
                        id="ref-for-dom-characterboundsupdateevent-5"><code>CharacterBoundsUpdateEvent</code></a>
                    を処理してモデルを更新し、その結果をキャンバスにレンダリングする方法を示す。</p>
                <aside class="example"
                    id="example-event-handlers-for-textupdateevent-textformatupdateevent-and-characterboundsupdateevent">
                    <div class="marker">
                        <a class="self-link"
                            href="#example-event-handlers-for-textupdateevent-textformatupdateevent-and-characterboundsupdateevent">Example<bdi>
                                3</bdi></a><span class="example-title">: TextUpdateEvent, TextFormatUpdateEvent,
                            CharacterBoundsUpdateEvent のイベントハンドラ</span>
                    </div>
                    <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-comment">// This example is built on top of example 1 and example 2.</span>
    <span class="hljs-comment">// Only the added logic is shown here for brevity.</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingModel</span> {
        <span class="hljs-title function_">updateText</span>(<span class="hljs-params">updateRangeStart, updateRangeEnd, updateText</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, updateRangeStart) + updateText
                        + <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>.<span class="hljs-title function_">substring</span>(updateRangeEnd)
        }

        <span class="hljs-title function_">updateSelection</span>(<span class="hljs-params">selectionStart, selectionEnd</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectionStart</span> = selectionStart
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectionEnd</span> = selectionEnd
        }

        <span class="hljs-title function_">updateTextFormats</span>(<span class="hljs-params">textFormats</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFormats</span> = textFormats
        }
    }

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingView</span> {
        <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {
            <span class="hljs-comment">// render the text (implementation omitted for brevity)</span>

            <span class="hljs-comment">// render the selection (implementation omitted for brevity)</span>

            <span class="hljs-comment">// render the IME decoration</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">textFormats</span>.<span class="hljs-title function_">forEach</span>( <span class="hljs-function"><span class="hljs-params">textFormat</span> =&gt;</span> {
                <span class="hljs-comment">// For brevity, these variables' initialization are omitted:</span>
                <span class="hljs-comment">// anchorX: the x coordinate of the beginning of the string</span>
                <span class="hljs-comment">// lineY: the y coordinate of the underline</span>
                <span class="hljs-comment">// charWidth: the width of the character (here we are using a mono-spaced font)</span>
                <span class="hljs-comment">// thickWidth/thinWidth: pre-defined width for thick/thin lines.</span>
                <span class="hljs-keyword">let</span> lineStartX = anchorX + textFormat.<span class="hljs-property">rangeStart</span> * charWidth;
                <span class="hljs-keyword">let</span> lineEndX = anchorX + textFormat.<span class="hljs-property">rangeEnd</span> * charWidth;
                
                canvasContext2D.<span class="hljs-property">lineWidth</span> = (textFormat.<span class="hljs-property">underlineThickness</span> == <span class="hljs-string">'Thick'</span>)?
                                            thickWidth : thinWidth;
                canvasContext2D.<span class="hljs-title function_">beginPath</span>();
                canvasContext2D.<span class="hljs-title function_">moveTo</span>(lineStartX, lineY);
                canvasContext2D.<span class="hljs-title function_">lineTo</span>(lineEndX, lineY);
                canvasContext2D.<span class="hljs-title function_">stroke</span>();
            })
        }

        <span class="hljs-title function_">computeCharacterBounds</span>(<span class="hljs-params">rangeStart, rangeEnd</span>) {
            <span class="hljs-comment">// implementation omitted for brevity</span>
        }
    }

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingController</span> {
        <span class="hljs-title function_">handleTextUpdate</span>(<span class="hljs-params">updateRangeStart, updateRangeEnd, text, 
                         selectionStart, selectionEnd</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">updateText</span>(updateRangeStart, updateRangeEnd, text)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">updateSelection</span>(selectionStart, selectionEnd)
        }

        <span class="hljs-title function_">handleTextFormatUpdate</span>(<span class="hljs-params">textFormats</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">updateTextFormats</span>(textFormats);
        }

        <span class="hljs-title function_">handleCharacterBoundsUpdate</span>(<span class="hljs-params">rangeStart, rangeEnd</span>) {
            characterBounds = <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span>.<span class="hljs-title function_">computeCharacterBounds</span>(rangeStart, rangeEnd);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">editContext</span>.<span class="hljs-title function_">updateCharacterBounds</span>(rangeStart, characterBounds);
        }
    }

    <span class="hljs-comment">// When the user is typing, EditContext will receive textupdate events,</span>
    <span class="hljs-comment">// which can be used to update the editor's model.</span>
    editContext.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"textupdate"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        editingController.<span class="hljs-title function_">handleTextUpdate</span>(e.<span class="hljs-property">updateRangeStart</span>, e.<span class="hljs-property">updateRangeEnd</span>, e.<span class="hljs-property">text</span>,
                                        e.<span class="hljs-property">selectionStart</span>, e.<span class="hljs-property">selectionEnd</span>)
    });

    <span class="hljs-comment">// EditContext will also receive textformatupdate event for IME decoration.</span>
    <span class="hljs-comment">// Ex. thin/thick underline for the "phrase mode" in Japanese IME.</span>
    editContext.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"textformatupdate"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        editingcontroller.<span class="hljs-title function_">handleTextFormatUpdate</span>(e.<span class="hljs-title function_">getTextFormats</span>());
    });

    <span class="hljs-comment">// When receiving CharacterBoundsUpdate event, the author is responsible to compute</span>
    <span class="hljs-comment">// the bounds of characters from rangeStart to rangeEnd, and call</span>
    <span class="hljs-comment">// EditContext.updateCharacterBounds to update the character bounds in EditContext.</span>
    editContext.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"characterboundsupdate"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        editingcontroller.<span class="hljs-title function_">handleCharacterBoundsUpdate</span>(e.<span class="hljs-property">rangeStart</span>, e.<span class="hljs-property">rangeEnd</span>);
    });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
                </aside>
            </section>
        </section>
        <section id="interactions" class="informative">
            <div class="header-wrapper">
                <h3 id="x1-3-interactions-with-other-editing-primitives"><bdi class="secno">1.3 </bdi>他の編集プリミティブとの相互作用
                </h3><a class="self-link" href="#interactions" aria-label="Permalink for Section 1.3"></a>
            </div>
            <p><em>このセクションは規定ではありません。</em></p>

            <p>著者は必ずしも EditContext とともに canvas 要素を使用しなければならないわけではない。次の例では、著者は div
                を用いて文書の編集可能領域を確立し、その中にさまざまなスタイル付き要素、画像、テキストなどを使ってコンテンツをレンダリングしている。これにより著者は、選択やスペルチェックといったユーザーエージェントの他の組み込み編集プリミティブを活用できるようになる。
            </p>

            <aside class="example" id="example-how-native-selection-can-be-leveraged-to-handle-caret-navigation">
                <div class="marker">
                    <a class="self-link"
                        href="#example-how-native-selection-can-be-leveraged-to-handle-caret-navigation">Example<bdi>
                            4</bdi></a><span class="example-title">: ネイティブの選択機能を利用してキャレットナビゲーションを処理する方法</span>
                </div>
                <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-comment">// This example reuses EditModel and EditController in Example 2 and 3.</span>
    <span class="hljs-keyword">let</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"div"</span>) 
    div.<span class="hljs-property">editContext</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditContext</span>() 
    div.<span class="hljs-title function_">focus</span>();

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingView</span> {  
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params">div, model</span>) {  
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span> = div 
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model 
        } 

        <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {
            <span class="hljs-comment">// render the text</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span>.<span class="hljs-property">innerText</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">text</span>

            <span class="hljs-comment">// render the selection (implementation omitted for brevity)</span>
        }

        <span class="hljs-title function_">computeSelectionBound</span>(<span class="hljs-params"></span>) { 
            <span class="hljs-comment">// implementation omitted for brevity </span>
        } 

        <span class="hljs-title function_">computeControlBound</span>(<span class="hljs-params"></span>) { 
            <span class="hljs-comment">// implementation omitted for brevity </span>
        } 

        <span class="hljs-title function_">computeCharacterBounds</span>(<span class="hljs-params">rangeStart, rangeEnd</span>) {
            <span class="hljs-comment">// implementation omitted for brevity</span>
        }
    }

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingController</span> {
        <span class="hljs-title function_">handleSelectionChange</span>(<span class="hljs-params"></span>) {
            <span class="hljs-comment">// Authors are responsible to map the selection from the DOM space to the</span>
            <span class="hljs-comment">// plain text space. One approach is to use range.toString() to get the plain text</span>
            <span class="hljs-comment">// before the selection start/end, and use the text length as the selection index.</span>
            <span class="hljs-keyword">let</span> s = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getSelection</span>()
            <span class="hljs-keyword">let</span> range = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Range</span>()
            range.<span class="hljs-title function_">setEnd</span>(s.<span class="hljs-property">anchorNode</span>, s.<span class="hljs-property">anchorOffset</span>)
            range.<span class="hljs-title function_">setStartBefore</span>(parentContainer)
            <span class="hljs-keyword">let</span> selectionStart = range.<span class="hljs-title function_">toString</span>().<span class="hljs-property">length</span>

            range.<span class="hljs-title function_">setEnd</span>(s.<span class="hljs-property">focusNode</span>, s.<span class="hljs-property">focusOffset</span>)
            range.<span class="hljs-title function_">setStartBefore</span>(parentContainer)
            <span class="hljs-keyword">let</span> selectionEnd = range.<span class="hljs-title function_">toString</span>().<span class="hljs-property">length</span>

            <span class="hljs-comment">// Update model</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">updateSelection</span>(selectionStart, selectionEnd)

            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()
        }
    }

    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"selectionchange"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        editingController.<span class="hljs-title function_">handleSelectionChange</span>()
    });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
            </aside>

            <aside class="example"
                id="example-how-beforeinput-can-be-used-to-catch-insertreplacementtext-to-apply-spelling-changes">
                <div class="marker">
                    <a class="self-link"
                        href="#example-how-beforeinput-can-be-used-to-catch-insertreplacementtext-to-apply-spelling-changes">Example<bdi>
                            5</bdi></a><span class="example-title">: beforeinput を利用して insertReplacementText
                        を検出し、スペル変更を適用する方法</span>
                </div>
                <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-comment">// This example is built on top of example 4.</span>
    <span class="hljs-comment">// Only the added logic is shown here for brevity.</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingController</span> {
        <span class="hljs-title function_">handleSpellCheck</span>(<span class="hljs-params">newText, range</span>) {
            <span class="hljs-keyword">let</span> updateRangeStart = range.<span class="hljs-property">startOffset</span>
            <span class="hljs-keyword">let</span> updateRangeEnd = range.<span class="hljs-property">endOffset</span>

            <span class="hljs-comment">// Update model</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">updateText</span>(updateRangeStart, updateRangeEnd, newText)
            <span class="hljs-keyword">let</span> newCaretPosition = updateRangeStart + newText.<span class="hljs-property">length</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">updateSelection</span>(newCaretPosition, newCaretPosition)

            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()
        }
    }

    div.<span class="hljs-property">spellcheck</span> = <span class="hljs-literal">true</span>;
    div.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"beforeinput"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">inputType</span> === <span class="hljs-string">"insertReplacementText"</span>) { <span class="hljs-comment">// for spellcheck</span>
            <span class="hljs-keyword">let</span> newText = e.<span class="hljs-property">dataTransfer</span>.<span class="hljs-title function_">getData</span>(<span class="hljs-string">"text"</span>);
            <span class="hljs-keyword">let</span> range = e.<span class="hljs-title function_">getTargetRanges</span>()[<span class="hljs-number">0</span>];
            editingController.<span class="hljs-title function_">handleSpellCheck</span>(newText, range)
        }
    })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
            </aside>

            <aside class="example"
                id="example-how-beforeinput-can-be-used-to-catch-deletebydrag-and-insertfromdrop-to-apply-drag-and-drop-changes">
                <div class="marker">
                    <a class="self-link"
                        href="#example-how-beforeinput-can-be-used-to-catch-deletebydrag-and-insertfromdrop-to-apply-drag-and-drop-changes">Example<bdi>
                            6</bdi></a><span class="example-title">: beforeinput を利用して deleteByDrag および insertFromDrop
                        を検出し、ドラッグ＆ドロップによる変更を適用する方法</span>
                </div>
                <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-comment">// This example is built on top of example 4.</span>
    <span class="hljs-comment">// Only the added logic is shown here for brevity.</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditingController</span> {
        <span class="hljs-title function_">handleDeleteByDrag</span>(<span class="hljs-params"></span>) {
            <span class="hljs-comment">// Update model</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">updateText</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">selectionStart</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">selectionEnd</span>, <span class="hljs-string">""</span>)

            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()
        }

        <span class="hljs-title function_">handleInsertFromDrop</span>(<span class="hljs-params">newText, caretPosition</span>) {
            <span class="hljs-comment">// Update model</span>
            editingModel.<span class="hljs-title function_">updateText</span>(caretPosition, caretPosition, newText)
            editingModel.<span class="hljs-title function_">updateSelection</span>(caretPosition, caretPosition + newText.<span class="hljs-property">length</span>)

            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()
        }
    }

    div.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"beforeinput"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">inputType</span> === <span class="hljs-string">"deleteByDrag"</span>) {
            editingController.<span class="hljs-title function_">handleDeleteByDrag</span>()
        } 
        
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">inputType</span> === <span class="hljs-string">"insertFromDrop"</span>) {
            newText = e.<span class="hljs-property">dataTransfer</span>.<span class="hljs-title function_">getData</span>(<span class="hljs-string">'text/plain'</span>);
            <span class="hljs-keyword">let</span> selection = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getSelection</span>();
            <span class="hljs-keyword">let</span> caretPosition = selection.<span class="hljs-property">anchorOffset</span>;

            editingController.<span class="hljs-title function_">handleInsertFromDrop</span>(newText, caretPosition)
        }
    })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
            </aside>

        </section>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x2-conformance"><bdi class="secno">2. </bdi>適合性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 2."></a>
        </div>
        <p>規定ではないと示されたセクションに加え、本仕様におけるすべての作成ガイドライン、図、例、および注記は規定ではない。それ以外の本仕様のすべては規定である。</p>
        <p>
            本仕様は、単一の製品に適用される適合性基準を定義する：すなわち、本仕様に含まれるインターフェースを実装するユーザーエージェントである。
        </p>
        <p>
            アルゴリズムまたは特定の手順として表現された適合性要件は、最終結果が同等である限り、どのような方法で実装してもよい。（特に、本仕様で定義されるアルゴリズムは追いやすいことを意図しており、高性能であることを意図していない。）
        </p>
    </section>



    <section data-dfn-for="EditContext" id="editcontext-api">
        <div class="header-wrapper">
            <h2 id="x3-editcontext-api"><bdi class="secno">3. </bdi>EditContext API</h2><a class="self-link"
                href="#editcontext-api" aria-label="Permalink for Section 3."></a>
        </div>


        <section data-dfn-for="Element" id="extensions-to-the-htmlelement-interface">
            <div class="header-wrapper">
                <h3 id="x3-1-extensions-to-the-htmlelement-interface"><bdi class="secno">3.1 </bdi>HTMLElement
                    インターフェースの拡張</h3><a class="self-link" href="#extensions-to-the-htmlelement-interface"
                    aria-label="Permalink for Section 3.1"></a>
            </div>

            <pre class="idl def" id="webidl-1194002304"><span class="idlHeader"><a class="self-link" href="#webidl-1194002304">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-htmlelement-partial-1" data-title="HTMLElement">partial interface <a data-idl="partial" data-link-type="interface" data-title="HTMLElement" class="idlID" data-dfn-for="HTMLElement" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement">HTMLElement</a> {<span data-idl="" class="idlAttribute" id="idl-def-htmlelement-editcontext" data-title="editContext" data-dfn-for="HTMLElement">
     attribute<span class="idlType"> <a data-link-type="idl" href="#dom-editcontext" class="internalDFN" id="ref-for-dom-editcontext-21"><code>EditContext</code></a>?</span> <dfn data-export="" data-dfn-type="attribute" id="dom-htmlelement-editcontext" data-idl="attribute" data-title="editContext" data-dfn-for="HTMLElement" data-type="EditContext" data-lt="editContext" data-local-lt="HTMLElement.editContext" class="idlName" tabindex="0" aria-haspopup="dialog"><code>editContext</code></dfn>;</span>
};</span></code></pre>
            <p><a data-link-type="interface" data-lt="HTMLElement"
                    href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement"><code>HTMLElement</code></a>
                は、内部スロット [[EditContext]] を持つ。これは <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext"
                    class="internalDFN" id="ref-for-dom-editcontext-22"><code>EditContext</code></a> への参照であり、初期値は null
                である。</p>
            <dl>
                <dt>editContext</dt>
                <dd><a data-link-type="idl" href="#dom-htmlelement-editcontext" class="internalDFN"
                        id="ref-for-dom-htmlelement-editcontext-3"><code>editContext</code></a> の getter 手順は、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の内部 [[EditContext]]
                    スロットの値を返すことである。</dd>
                <dd><a data-link-type="idl" href="#dom-htmlelement-editcontext" class="internalDFN"
                        id="ref-for-dom-htmlelement-editcontext-4"><code>editContext</code></a> の setter
                    は、次の手順に従わなければならない：
                    <div class="algorithm">
                        <dl>
                            <dt>Input</dt>
                            <dd><var>editContext</var></dd>
                            <dt>Output</dt>
                            <dd>None</dd>
                        </dl>
                        <ol>
                            <li><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                                    data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-element-local-name">local name</a> が、<a
                                    data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#valid-shadow-host-name">valid shadow host
                                    name</a> でも "<code>canvas</code>" でもない場合、"<a data-link-type="exception"
                                    href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>"
                                <a data-link-type="interface" data-lt="DOMException"
                                    href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                を <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> する。
                            </li>
                            <li><var>editContext</var> が null でない場合：
                                <ol>
                                    <li><var>editContext</var> の <a href="#dfn-associated-element" class="internalDFN"
                                            data-link-type="dfn" id="ref-for-dfn-associated-element-13">associated
                                            element</a> が <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a> と等しいなら、これらの手順を終了する。
                                    </li>
                                    <li><var>editContext</var> の <a href="#dfn-associated-element" class="internalDFN"
                                            data-link-type="dfn" id="ref-for-dfn-associated-element-14">associated
                                            element</a> が null でない場合、"<a data-link-type="exception"
                                            href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>"
                                        <a data-link-type="interface" data-lt="DOMException"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        を <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> する。
                                    </li>
                                </ol>
                            </li>
                            <li><var>oldEditContext</var> を、<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this">this</a> の内部 [[EditContext]] スロットの値とする。
                            </li>
                            <li>
                                <var>oldEditContext</var> が null でなく、かつ <var>oldEditContext</var> が <a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の
                                <a href="https://dom.spec.whatwg.org/#concept-node-document">node document</a> の
                                <a data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                                    id="ref-for-dfn-active-editcontext-7">active EditContext</a> である場合：
                                <ol>
                                    <li><var>oldEditContext</var> を引数に、<a data-link-type="dfn|abstract-op"
                                            href="#dfn-deactivate-an-editcontext" class="internalDFN"
                                            id="ref-for-dfn-deactivate-an-editcontext-2">deactivate an EditContext</a>
                                        の手順を実行する。</li>
                                    <li>
                                        <var>oldEditContext</var> の <a href="#dfn-associated-element"
                                            class="internalDFN" data-link-type="dfn"
                                            id="ref-for-dfn-associated-element-15">associated element</a> が <a
                                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>
                                        と等しくないなら、これらの手順を終了する。
                                    </li>
                                    <li>
                                        <var>editContext</var> が null でなく、かつ <var>editContext</var> の <a
                                            href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                                            id="ref-for-dfn-associated-element-16">associated element</a> が null でなく、かつ
                                        <var>editContext</var> の
                                        <a href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                                            id="ref-for-dfn-associated-element-17">associated element</a> が <a
                                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>
                                        と等しくない場合、"<a data-link-type="exception"
                                            href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>"
                                        <a data-link-type="interface" data-lt="DOMException"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        を <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> する。
                                    </li>
                                </ol>
                            </li>
                            <li><var>oldEditContext</var> が null でない場合、<var>oldEditContext</var> の <a
                                    href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-associated-element-18">associated element</a> を null に設定する。</li>
                            <li><var>editContext</var> が null でない場合、<var>editContext</var> の <a
                                    href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-associated-element-19">associated element</a> を <a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> に設定する。
                            </li>
                            <li><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の内部
                                [[EditContext]] スロットを <var>editContext</var> に設定する。</li>
                        </ol>
                    </div>
                </dd>
            </dl>
            <section id="handle-input-for-editcontext">
                <div class="header-wrapper">
                    <h4 id="x3-1-1-handle-input-for-editcontext"><bdi class="secno">3.1.1 </bdi><dfn class="export"
                            data-export="" id="dfn-handle-input-for-editcontext" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">EditContext に対する入力の処理</dfn></h4><a class="self-link"
                        href="#handle-input-for-editcontext" aria-label="Permalink for Section 3.1.1"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>element</var>, 入力を受け取る <a data-link-type="interface" data-lt="HTMLElement"
                                href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement"><code>HTMLElement</code></a>
                        </dd>
                        <dt>Output</dt>
                        <dd>None</dd>
                    </dl>
                    <ol>
                        <li>
                            <var>editContext</var> を、<var>element</var> の
                            <a href="https://dom.spec.whatwg.org/#concept-node-document">node document</a> の
                            <a data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                                id="ref-for-dfn-active-editcontext-8">active EditContext</a>
                            とする。
                        </li>
                        <li>
                            <var>editContext</var> が null の場合、return。
                        </li>
                        <li>
                            <p>
                                <var>editContext</var> と
                                <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                                    id="ref-for-dfn-text-edit-context-17">Text Edit Context</a> の <a
                                    data-link-type="dfn|abstract-op" href="#dfn-text-state" class="internalDFN"
                                    id="ref-for-dfn-text-state-3">text state</a> の <a data-link-type="dfn|abstract-op"
                                    href="#dfn-text" class="internalDFN" id="ref-for-dfn-text-13">text</a>、<a
                                    data-link-type="dfn|abstract-op" href="#dfn-text-formats" class="internalDFN"
                                    id="ref-for-dfn-text-formats-1">text formats</a>、
                                <a data-link-type="dfn|abstract-op" href="#dfn-selection-start" class="internalDFN"
                                    id="ref-for-dfn-selection-start-2">selection start</a>、<a
                                    data-link-type="dfn|abstract-op" href="#dfn-selection-end" class="internalDFN"
                                    id="ref-for-dfn-selection-end-2">selection end</a>、<a
                                    data-link-type="dfn|abstract-op" href="#dfn-is-composing" class="internalDFN"
                                    id="ref-for-dfn-is-composing-1">is composing</a>、<a data-link-type="dfn|abstract-op"
                                    href="#dfn-composition-start" class="internalDFN"
                                    id="ref-for-dfn-composition-start-2">composition start</a>、
                                および <a data-link-type="dfn|abstract-op" href="#dfn-composition-end" class="internalDFN"
                                    id="ref-for-dfn-composition-end-2">composition end</a>
                                を与えて、<a data-link-type="dfn|abstract-op" href="#dfn-update-the-editcontext"
                                    class="internalDFN" id="ref-for-dfn-update-the-editcontext-2">Update the
                                    EditContext</a> の手順を実行する。
                            </p>
                            <div class="note" role="note" id="issue-container-generatedID-5">
                                <div role="heading" class="note-title marker" id="h-note-5" aria-level="4">
                                    <span>Note</span>
                                </div>
                                <p class="">
                                    <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context"
                                        class="internalDFN" id="ref-for-dfn-text-edit-context-18">Text Edit Context</a>
                                    は、異なるオペレーティングシステムにおけるテキスト入力の共通の側面に対する抽象化であるため、<a data-link-type="dfn|abstract-op"
                                        href="#dfn-text-edit-context" class="internalDFN"
                                        id="ref-for-dfn-text-edit-context-19">Text Edit Context</a>
                                    における値の決定方法は、本仕様では明示的に与えられていない。これらはオペレーティングシステムや入力デバイスによって異なる。
                                </p>
                            </div>
                        </li>
                    </ol>
                </div>

            </section>
            <section id="editcontext-handled-inputtype">
                <div class="header-wrapper">
                    <h4 id="x3-1-2-editcontext-handled-inputtype"><bdi class="secno">3.1.2 </bdi><dfn
                            id="dfn-editcontext-handled-inputtype" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">EditContext が扱う inputType</dfn></h4><a class="self-link"
                        href="#editcontext-handled-inputtype" aria-label="Permalink for Section 3.1.2"></a>
                </div>
                <div class="algorithm">
                    <a href="https://www.w3.org/TR/uievents/#dom-inputevent-inputtype">inputType</a> は、次のいずれかである場合、<a
                        data-link-type="dfn|abstract-op" href="#dfn-editcontext-handled-inputtype" class="internalDFN"
                        id="ref-for-dfn-editcontext-handled-inputtype-1">EditContext-handled inputType</a> である：
                    <ul>
                        <li><code>insertText</code></li>
                        <li><code>insertTranspose</code></li>
                        <li><code>deleteWordBackward</code></li>
                        <li><code>deleteWordForward</code></li>
                        <li><code>deleteContent</code></li>
                        <li><code>deleteContentBackward</code></li>
                        <li><code>deleteContentForward</code></li>
                    </ul>
                    <div class="note" role="note" id="issue-container-generatedID-6">
                        <div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>Note</span>
                        </div>
                        <div class="">
                            <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-23"><code>EditContext</code></a>
                            が扱う <a href="https://www.w3.org/TR/uievents/#dom-inputevent-inputtype">inputType</a>
                            は、生のテキストのみに対して操作を行うものに限られる。書式、クリップボード／ドラッグ＆ドロップ、取り消し（undo）、あるいはスペルチェックのようなブラウザー UI に依存する他の
                            <a href="https://www.w3.org/TR/uievents/#dom-inputevent-inputtype">inputType</a> は、<a
                                data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-24"><code>EditContext</code></a> の状態にそれらの概念が含まれないため、<a
                                data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-25"><code>EditContext</code></a> では扱えない。著者がアプリケーション側でそれらの <a
                                href="https://www.w3.org/TR/uievents/#dom-inputevent-inputtype">inputType</a>
                            を扱いたい場合は、<a href="https://www.w3.org/TR/uievents/#event-type-beforeinput">beforeinput</a>
                            イベントハンドラにおいて手動で処理する必要がある。
                        </div>
                    </div>
                </div>

            </section>
            <section id="update-the-editcontext">
                <div class="header-wrapper">
                    <h4 id="x3-1-3-update-the-editcontext"><bdi class="secno">3.1.3 </bdi><dfn
                            id="dfn-update-the-editcontext" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">EditContext の更新</dfn></h4><a class="self-link"
                        href="#update-the-editcontext" aria-label="Permalink for Section 3.1.3"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>editContext</var>, <a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-26"><code>EditContext</code></a></dd>
                        <dd><var>text</var>, 文字列</dd>
                        <dd><var>textFormats</var>, <a data-link-type="dfn|abstract-op" href="#dfn-text-format"
                                class="internalDFN" id="ref-for-dfn-text-format-2">text
                                format</a> の配列（<a data-link-type="dfn|abstract-op" href="#dfn-text-input-service"
                                class="internalDFN" id="ref-for-dfn-text-input-service-17">Text Input Service</a> からのもの）
                        </dd>
                        <dd><var>selectionStart</var>, 選択範囲の開始位置の新しい値</dd>
                        <dd><var>selectionEnd</var>, 選択範囲の終了位置の新しい値</dd>
                        <dd><var>isComposing</var>, 更新の終了時点で合成をアクティブにすべきかどうかを示す boolean</dd>
                        <dd><var>replacementRangeStart</var>, 現在の合成の開始位置（合成がない場合は 0）</dd>
                        <dd><var>replacementRangeEnd</var>, 現在の合成の終了位置（合成がない場合は 0）</dd>
                        <dt>Output</dt>
                        <dd>None</dd>
                    </dl>
                    <ol>
                        <li>
                            <var>isComposing</var> が true で、<var>text</var> が空ではなく、かつ
                            <var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-is-composing"
                                class="internalDFN" id="ref-for-dfn-is-composing-2">is composing</a> が false の場合：
                            <ol>
                                <li><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire
                                        an event</a> により、<var>editContext</var> に対して <a
                                        href="https://w3c.github.io/uievents/#event-type-compositionstart">compositionstart</a>
                                    という名前のイベントを <a data-link-type="interface" data-lt="CompositionEvent"
                                        href="https://www.w3.org/TR/uievents/#compositionevent"><code>CompositionEvent</code></a>
                                    を用いて発火する。
                                </li>
                                <li><var>editContext</var> の <a data-link-type="dfn|abstract-op"
                                        href="#dfn-is-composing" class="internalDFN" id="ref-for-dfn-is-composing-3">is
                                        composing</a> を true に設定する。</li>
                            </ol>
                        </li>
                        <li>
                            <var>text</var> が空の場合：
                            <ol>
                                <li><var>editContext</var> の <a data-link-type="dfn|abstract-op"
                                        href="#dfn-is-composing" class="internalDFN" id="ref-for-dfn-is-composing-4">is
                                        composing</a> が false の場合、return。</li>
                                <li>
                                    <var>editContext</var> の <a data-link-type="dfn|abstract-op"
                                        href="#dfn-is-composing" class="internalDFN" id="ref-for-dfn-is-composing-5">is
                                        composing</a> が true で、かつ <var>isComposing</var> が false の場合：
                                    <ol>
                                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op"
                                                href="#dfn-is-composing" class="internalDFN"
                                                id="ref-for-dfn-is-composing-6">is composing</a> を false に設定する。</li>
                                        <li>
                                            <a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an event</a>
                                            により、<var>editContext</var> に対して
                                            <a
                                                href="https://w3c.github.io/uievents/#event-type-compositionend">compositionend</a>
                                            という名前のイベントを <a data-link-type="interface" data-lt="CompositionEvent"
                                                href="https://www.w3.org/TR/uievents/#compositionevent"><code>CompositionEvent</code></a>
                                            を用いて発火する。
                                        </li>
                                        <li>Return。</li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-is-composing"
                                class="internalDFN" id="ref-for-dfn-is-composing-7">is composing</a> が true の場合：
                            <ol>
                                <li><var>insertionStart</var> を <var>replacementRangeStart</var> とする。</li>
                                <li><var>insertionEnd</var> を <var>replacementRangeEnd</var> とする。</li>
                            </ol>
                        </li>
                        <li>それ以外の場合：
                            <ol>
                                <li><var>insertionStart</var> を <var>selectionStart</var> とする。</li>
                                <li><var>insertionEnd</var> を <var>selectionEnd</var> とする。</li>
                            </ol>
                        </li>
                        <li>
                            <var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-text"
                                class="internalDFN" id="ref-for-dfn-text-14">text</a> のうち
                            <var>insertionStart</var> から <var>insertionEnd</var> の範囲の部分文字列を <var>text</var> で置換する。
                        </li>
                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-selection-start"
                                class="internalDFN" id="ref-for-dfn-selection-start-3">selection start</a> を
                            <var>selectionStart</var> に設定する。
                        </li>
                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-selection-end"
                                class="internalDFN" id="ref-for-dfn-selection-end-3">selection end</a> を
                            <var>selectionEnd</var> に設定する。
                        </li>
                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-composition-start"
                                class="internalDFN" id="ref-for-dfn-composition-start-3">composition start</a> を
                            <var>insertionStart</var> に設定する。
                        </li>
                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-composition-end"
                                class="internalDFN" id="ref-for-dfn-composition-end-3">composition end</a> を、
                            <var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-composition-start"
                                class="internalDFN" id="ref-for-dfn-composition-start-4">composition start</a> に
                            <var>text</var> の長さを加えた値に設定する。
                        </li>
                        <li><var>editContext</var> と <var>text</var> を与えて、<a data-link-type="dfn|abstract-op"
                                href="#dfn-dispatch-text-update-event" class="internalDFN"
                                id="ref-for-dfn-dispatch-text-update-event-1">Dispatch text update
                                event</a> を行う。</li>
                        <li>
                            <var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-is-composing"
                                class="internalDFN" id="ref-for-dfn-is-composing-8">is composing</a> が true の場合：
                            <ol>
                                <li><var>editContext</var> と <var>textFormats</var> を与えて、<a
                                        data-link-type="dfn|abstract-op" href="#dfn-dispatch-text-format-update-event"
                                        class="internalDFN"
                                        id="ref-for-dfn-dispatch-text-format-update-event-1">Dispatch text format update
                                        event</a> を行う。</li>
                                <li><var>editContext</var> を与えて、<a data-link-type="dfn|abstract-op"
                                        href="#dfn-dispatch-character-bounds-update-event" class="internalDFN"
                                        id="ref-for-dfn-dispatch-character-bounds-update-event-1">Dispatch character
                                        bounds update event</a> を行う。</li>
                                <li><var>isComposing</var> が false の場合：
                                    <ol>
                                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op"
                                                href="#dfn-is-composing" class="internalDFN"
                                                id="ref-for-dfn-is-composing-9">is composing</a> を false に設定する。</li>
                                        <li>
                                            <a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an event</a>
                                            により、<var>editContext</var> に対して
                                            <a
                                                href="https://w3c.github.io/uievents/#event-type-compositionend">compositionend</a>
                                            という名前のイベントを <a data-link-type="interface" data-lt="CompositionEvent"
                                                href="https://www.w3.org/TR/uievents/#compositionevent"><code>CompositionEvent</code></a>
                                            を用いて発火する。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </div>

            </section>
            <section id="update-the-text-edit-context">
                <div class="header-wrapper">
                    <h4 id="x3-1-4-update-the-text-edit-context"><bdi class="secno">3.1.4 </bdi><dfn
                            id="dfn-update-the-text-edit-context" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">Text Edit Context の更新</dfn></h4><a class="self-link"
                        href="#update-the-text-edit-context" aria-label="Permalink for Section 3.1.4"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>document</var>, <a data-link-type="interface" data-lt="Document"
                                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a></dd>
                        <dt>Output</dt>
                        <dd>None</dd>
                    </dl>
                    <ol>
                        <li><var>oldActiveEditContext</var> を、<var>document</var> の <a data-link-type="dfn|abstract-op"
                                href="#dfn-active-editcontext" class="internalDFN"
                                id="ref-for-dfn-active-editcontext-9">active EditContext</a> とする。</li>
                        <li><var>newActiveEditContext</var> を、<var>document</var> を与えて <a
                                data-link-type="dfn|abstract-op" href="#dfn-determine-the-active-editcontext"
                                class="internalDFN" id="ref-for-dfn-determine-the-active-editcontext-1">determine the
                                active EditContext</a> の手順を実行した結果とする。</li>
                        <li><var>oldActiveEditContext</var> が null でない場合、<var>oldActiveEditContext</var> を与えて <a
                                data-link-type="dfn|abstract-op" href="#dfn-deactivate-an-editcontext"
                                class="internalDFN" id="ref-for-dfn-deactivate-an-editcontext-3">deactivate an
                                EditContext</a> の手順を実行する。</li>
                        <li><var>newActiveEditContext</var> が null でない場合：
                            <ol>
                                <li><a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context"
                                        class="internalDFN" id="ref-for-dfn-text-edit-context-20">Text Edit
                                        Context</a> の <a data-link-type="dfn|abstract-op" href="#dfn-text-state"
                                        class="internalDFN" id="ref-for-dfn-text-state-4">text state</a>
                                    を、<var>editContext</var> の <a data-link-type="dfn|abstract-op"
                                        href="#dfn-text-state" class="internalDFN" id="ref-for-dfn-text-state-5">text
                                        state</a> の値に一致するよう更新する。</li>
                            </ol>
                        </li>
                        <li><var>document</var> の <a data-link-type="dfn|abstract-op" href="#dfn-active-editcontext"
                                class="internalDFN" id="ref-for-dfn-active-editcontext-10">active EditContext</a> を
                            <var>newActiveEditContext</var> に設定する。
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-7">
                        <div role="heading" class="note-title marker" id="h-note-7" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            <a data-link-type="dfn|abstract-op" href="#dfn-text-edit-context" class="internalDFN"
                                id="ref-for-dfn-text-edit-context-21">Text Edit Context</a> の <a
                                data-link-type="dfn|abstract-op" href="#dfn-text-state" class="internalDFN"
                                id="ref-for-dfn-text-state-6">text state</a> を更新する手順は、プラットフォーム固有の <a
                                data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                                id="ref-for-dfn-text-input-service-18">Text Input Service</a> 上に構築された抽象化の性質に依存する点に注意。
                            それらの詳細は本仕様の対象外である。
                        </p>
                    </div>
                </div>

            </section>
            <section id="dispatch-text-update-event">
                <div class="header-wrapper">
                    <h4 id="x3-1-5-dispatch-text-update-event"><bdi class="secno">3.1.5 </bdi><dfn
                            id="dfn-dispatch-text-update-event" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">text update event のディスパッチ</dfn></h4><a class="self-link"
                        href="#dispatch-text-update-event" aria-label="Permalink for Section 3.1.5"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>editContext</var>, <a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-27"><code>EditContext</code></a></dd>
                        <dd><var>text</var>, 文字列</dd>
                        <dt>Output</dt>
                        <dd>None</dd>
                    </dl>
                    <ol>
                        <li>
                            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an
                                event</a> により、<var>editContext</var> に対して "textupdate" という名前のイベントを <a
                                data-link-type="idl" data-lt="TextUpdateEvent" href="#dom-textupdateevent"
                                class="internalDFN" id="ref-for-dom-textupdateevent-3"><code>TextUpdateEvent</code></a>
                            を用いて発火し、<a data-link-type="idl" href="#dom-textupdateevent-text" class="internalDFN"
                                id="ref-for-dom-textupdateevent-text-1"><code>text</code></a> を <var>text</var> で初期化し、<a
                                data-link-type="idl" href="#dom-textupdateevent-selectionstart" class="internalDFN"
                                id="ref-for-dom-textupdateevent-selectionstart-1"><code>selectionStart</code></a> を
                            |<var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-selection-start"
                                class="internalDFN" id="ref-for-dfn-selection-start-4">selection start</a> で初期化し、<a
                                data-link-type="idl" href="#dom-textupdateevent-selectionend" class="internalDFN"
                                id="ref-for-dom-textupdateevent-selectionend-1"><code>selectionEnd</code></a> を
                            <var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-selection-end"
                                class="internalDFN" id="ref-for-dfn-selection-end-4">selection
                                end</a> で初期化する。
                        </li>
                    </ol>
                </div>

            </section>
            <section id="dispatch-text-format-update-event">
                <div class="header-wrapper">
                    <h4 id="x3-1-6-dispatch-text-format-update-event"><bdi class="secno">3.1.6 </bdi><dfn
                            id="dfn-dispatch-text-format-update-event" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">text format update event のディスパッチ</dfn></h4><a class="self-link"
                        href="#dispatch-text-format-update-event" aria-label="Permalink for Section 3.1.6"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>editContext</var>, <a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-28"><code>EditContext</code></a></dd>
                        <dd><var>textFormats</var>, <a data-link-type="dfn|abstract-op" href="#dfn-text-format"
                                class="internalDFN" id="ref-for-dfn-text-format-3">text
                                format</a> の配列（<a data-link-type="dfn|abstract-op" href="#dfn-text-input-service"
                                class="internalDFN" id="ref-for-dfn-text-input-service-19">Text Input Service</a> からのもの）
                        </dd>
                        <dt>Output</dt>
                        <dd>None</dd>
                    </dl>
                    <ol>
                        <li>
                            <var>formats</var> を、<a data-link-type="idl" data-lt="TextFormat" href="#dom-textformat"
                                class="internalDFN" id="ref-for-dom-textformat-1"><code>TextFormat</code></a>
                            の配列（初期値は空）とする。
                        </li>
                        <li>
                            <var>textFormats</var> 内の各 <a data-link-type="dfn|abstract-op" href="#dfn-text-format"
                                class="internalDFN" id="ref-for-dfn-text-format-4">text format</a> <var>format</var>
                            について：
                            <ol>
                                <li><var>textFormat</var> を、新しい <a data-link-type="idl" data-lt="TextFormat"
                                        href="#dom-textformat" class="internalDFN"
                                        id="ref-for-dom-textformat-2"><code>TextFormat</code></a>
                                    とし、<var>rangeStart</var>、<var>rangeEnd</var>、<var>underlineStyle</var>、<var>underlineThickness</var>
                                    を持つものとする。
                                </li>
                                <li><var>textFormat</var> の <a data-link-type="idl" href="#dom-textformat-rangestart"
                                        class="internalDFN"
                                        id="ref-for-dom-textformat-rangestart-1"><code>rangeStart</code></a> を
                                    <var>format</var> の <a data-link-type="dfn|abstract-op" href="#dfn-range-start"
                                        class="internalDFN" id="ref-for-dfn-range-start-1">range start</a> に設定する。
                                </li>
                                <li><var>textFormat</var> の <a data-link-type="idl" href="#dom-textformat-rangeend"
                                        class="internalDFN"
                                        id="ref-for-dom-textformat-rangeend-1"><code>rangeEnd</code></a> を
                                    <var>format</var> の <a data-link-type="dfn|abstract-op" href="#dfn-range-end"
                                        class="internalDFN" id="ref-for-dfn-range-end-1">range end</a> に設定する。
                                </li>
                                <li><var>textFormat</var> の <a data-link-type="idl"
                                        href="#dom-textformat-underlinestyle" class="internalDFN"
                                        id="ref-for-dom-textformat-underlinestyle-1"><code>underlineStyle</code></a> を
                                    <var>format</var> の <a data-link-type="dfn|abstract-op" href="#dfn-underline-style"
                                        class="internalDFN" id="ref-for-dfn-underline-style-1">underline style</a>
                                    に設定する。
                                </li>
                                <li><var>textFormat</var> の <a data-link-type="idl"
                                        href="#dom-textformat-underlinethickness" class="internalDFN"
                                        id="ref-for-dom-textformat-underlinethickness-1"><code>underlineThickness</code></a>
                                    を <var>format</var> の <a data-link-type="dfn|abstract-op"
                                        href="#dfn-underline-thickness" class="internalDFN"
                                        id="ref-for-dfn-underline-thickness-1">underline thickness</a> に設定する。</li>
                                <li><var>textFormat</var> を <var>formats</var> に追加する。</li>
                            </ol>
                        </li>
                        <li>
                            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an
                                event</a> により、<var>editContext</var> に対して "textformatupdate" という名前のイベントを <a
                                data-link-type="idl" data-lt="TextFormatUpdateEvent" href="#dom-textformatupdateevent"
                                class="internalDFN"
                                id="ref-for-dom-textformatupdateevent-4"><code>TextFormatUpdateEvent</code></a>
                            を用いて発火し、その <a data-link-type="idl" data-lt="TextFormatUpdateEvent"
                                href="#dom-textformatupdateevent" class="internalDFN"
                                id="ref-for-dom-textformatupdateevent-5"><code>TextFormatUpdateEvent</code></a> の <a
                                data-link-type="dfn|abstract-op" href="#dfn-text-format-list" class="internalDFN"
                                id="ref-for-dfn-text-format-list-1">text format list</a> を
                            <var>formats</var> で初期化する。
                        </li>
                    </ol>
                </div>

            </section>
            <section id="dispatch-character-bounds-update-event">
                <div class="header-wrapper">
                    <h4 id="x3-1-7-dispatch-character-bounds-update-event"><bdi class="secno">3.1.7 </bdi><dfn
                            id="dfn-dispatch-character-bounds-update-event" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">character bounds update event のディスパッチ</dfn></h4><a class="self-link"
                        href="#dispatch-character-bounds-update-event" aria-label="Permalink for Section 3.1.7"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>editContext</var>, <a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-29"><code>EditContext</code></a></dd>
                        <dt>Output</dt>
                        <dd>None</dd>
                    </dl>
                    <ol>
                        <li>
                            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an
                                event</a> により、<var>editContext</var> に対して "characterboundsupdate" という名前のイベントを <a
                                data-link-type="idl" data-lt="CharacterBoundsUpdateEvent"
                                href="#dom-characterboundsupdateevent" class="internalDFN"
                                id="ref-for-dom-characterboundsupdateevent-6"><code>CharacterBoundsUpdateEvent</code></a>
                            を用いて発火し、<a data-link-type="idl" href="#dom-characterboundsupdateevent-rangestart"
                                class="internalDFN"
                                id="ref-for-dom-characterboundsupdateevent-rangestart-1"><code>rangeStart</code></a> を
                            <var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-composition-start"
                                class="internalDFN" id="ref-for-dfn-composition-start-5">composition start</a> で初期化し、<a
                                data-link-type="idl" href="#dom-characterboundsupdateevent-rangeend" class="internalDFN"
                                id="ref-for-dom-characterboundsupdateevent-rangeend-1"><code>rangeEnd</code></a>
                            を <var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-composition-end"
                                class="internalDFN" id="ref-for-dfn-composition-end-4">composition end</a> で初期化する。
                        </li>
                    </ol>
                </div>

            </section>
            <section id="deactivate-an-editcontext">
                <div class="header-wrapper">
                    <h4 id="x3-1-8-deactivate-an-editcontext"><bdi class="secno">3.1.8 </bdi><dfn
                            id="dfn-deactivate-an-editcontext" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">EditContext の無効化</dfn></h4><a class="self-link"
                        href="#deactivate-an-editcontext" aria-label="Permalink for Section 3.1.8"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>editContext</var>, <a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-30"><code>EditContext</code></a></dd>
                        <dt>Output</dt>
                        <dd>None</dd>
                    </dl>
                    <ol>
                        <li><var>editContext</var> の <a data-link-type="dfn|abstract-op" href="#dfn-is-composing"
                                class="internalDFN" id="ref-for-dfn-is-composing-10">is composing</a> を false に設定する。
                        </li>
                        <li>
                            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an
                                event</a> により、<var>editContext</var> に対して
                            <a href="https://w3c.github.io/uievents/#event-type-compositionend">compositionend</a>
                            という名前のイベントを <a data-link-type="interface" data-lt="CompositionEvent"
                                href="https://www.w3.org/TR/uievents/#compositionevent"><code>CompositionEvent</code></a>
                            を用いて発火する。
                        </li>
                    </ol>
                </div>

            </section>
            <section id="determine-the-active-editcontext">
                <div class="header-wrapper">
                    <h4 id="x3-1-9-determine-the-active-editcontext"><bdi class="secno">3.1.9 </bdi><dfn
                            id="dfn-determine-the-active-editcontext" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">アクティブな EditContext の判定</dfn></h4><a class="self-link"
                        href="#determine-the-active-editcontext" aria-label="Permalink for Section 3.1.9"></a>
                </div>
                <div class="algorithm">
                    <dl>
                        <dt>Input</dt>
                        <dd><var>document</var>, <a data-link-type="interface" data-lt="Document"
                                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a></dd>
                        <dt>Output</dt>
                        <dd><a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-31"><code>EditContext</code></a>、または null。</dd>
                    </dl>
                    <ol>
                        <li><var>traversable</var> を、<var>document</var> の <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable">node
                                navigable</a> の <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">top-level
                                traversable</a> とする。</li>
                        <li><var>traversable</var> が null の場合、null を返す。</li>
                        <li>
                            <var>focused</var> を、<var>traversable</var> を与えたときの <a
                                href="https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable">currently
                                focused area of a top-level traversable</a> の <a
                                href="https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor">DOM anchor</a>
                            とする。
                        </li>
                        <li>
                            <p><var>focused</var> が null であるか、または <var>focused</var> の <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-shadow-including-root">shadow-including
                                    root</a> が <var>document</var> でない場合、null を返す。</p>
                            <div class="note" role="note" id="issue-container-generatedID-8">
                                <div role="heading" class="note-title marker" id="h-note-8" aria-level="4">
                                    <span>Note</span>
                                </div>
                                <p class="">
                                    <a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">top-level
                                        traversable</a> を経由して <var>focusable</var> を取得する目的は、各 <a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">top-level
                                        traversable</a> につき同時に 1 つだけ <a data-link-type="dfn|abstract-op"
                                        href="#dfn-active-editcontext" class="internalDFN"
                                        id="ref-for-dfn-active-editcontext-11">active EditContext</a>
                                    が存在するようにしたいためである。したがって、システムフォーカスが別の文書にある場合、この文書は <a data-link-type="dfn|abstract-op"
                                        href="#dfn-active-editcontext" class="internalDFN"
                                        id="ref-for-dfn-active-editcontext-12">active EditContext</a> を持てない。
                                </p>
                            </div>
                        </li>
                        <li><var>editContext</var> を null とする。</li>
                        <li><var>focused</var> が null でなく、かつ <var>focused</var> が <a
                                href="https://w3c.github.io/editing/docs/execCommand/#editable">editable</a> である間：
                            <ol>
                                <li><var>editContext</var> を、<var>focused</var> の内部 [[EditContext]] スロットの値に設定する。</li>
                                <li><var>parent</var> を、<var>focused</var> の <a
                                        href="https://dom.spec.whatwg.org/#concept-tree-parent">親</a> とする。</li>
                                <li>
                                    <var>parent</var> が null で、かつ <var>focused</var> の <a
                                        href="https://dom.spec.whatwg.org/#concept-tree-root">root</a>
                                    が <a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-shadow-root">shadow root</a>
                                    である場合、<var>parent</var> を <var>focused</var> の
                                    <a href="https://dom.spec.whatwg.org/#concept-tree-root">root</a> の
                                    <a href="https://dom.spec.whatwg.org/#concept-documentfragment-host">host</a>
                                    とする。
                                </li>
                                <li><var>focused</var> を <var>parent</var> に設定する。</li>
                            </ol>
                        </li>
                        <li><var>editContext</var> を返す。</li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-9">
                        <div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            ある <a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-32"><code>EditContext</code></a> の <a
                                data-link-type="dfn|abstract-op" href="#dfn-associated-element" class="internalDFN"
                                id="ref-for-dfn-associated-element-20">associated element</a> の親が editable である場合、その <a
                                data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-33"><code>EditContext</code></a>
                            は <a data-link-type="dfn|abstract-op" href="#dfn-active-editcontext" class="internalDFN"
                                id="ref-for-dfn-active-editcontext-13">active EditContext</a> になれない。これは、その親が別の <a
                                data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-34"><code>EditContext</code></a> によって editable であるか、または
                            <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a></code>
                            によって editable であるかにかかわらず当てはまる。
                        </p>
                    </div>
                </div>

            </section>
        </section>
        <section id="editcontext-interface-0">
            <div class="header-wrapper">
                <h3 id="editcontext-interface"><bdi class="secno">3.2 </bdi>EditContext インターフェース</h3><a
                    class="self-link" href="#editcontext-interface" aria-label="Permalink for Section 3.2"></a>
            </div>
            <pre class="idl def" id="webidl-1706524934"><span class="idlHeader"><a class="self-link" href="#webidl-1706524934">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-editcontextinit" data-title="EditContextInit">dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-editcontextinit" data-idl="dictionary" data-title="EditContextInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>EditContextInit</code></dfn> {<span data-idl="" class="idlMember" id="idl-def-editcontextinit-text" data-title="text" data-dfn-for="EditContextInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-editcontextinit-text" data-idl="field" data-title="text" data-dfn-for="EditContextInit" data-type="DOMString" class="idlName" tabindex="0" aria-haspopup="dialog"><code>text</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-editcontextinit-selectionstart" data-title="selectionStart" data-dfn-for="EditContextInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-editcontextinit-selectionstart" data-idl="field" data-title="selectionStart" data-dfn-for="EditContextInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-editcontextinit-selectionend" data-title="selectionEnd" data-dfn-for="EditContextInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-editcontextinit-selectionend" data-idl="field" data-title="selectionEnd" data-dfn-for="EditContextInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionEnd</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-editcontext" data-title="EditContext">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-editcontext" data-idl="interface" data-title="EditContext" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>EditContext</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-editcontext-constructor-options" data-title="constructor" data-dfn-for="EditContext">
    <dfn data-export="" data-dfn-type="constructor" id="dom-editcontext-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="EditContext" data-lt="constructor()|constructor(options)" data-local-lt="EditContext.constructor|EditContext.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-editcontextinit" class="internalDFN" id="ref-for-dom-editcontextinit-1"><code>EditContextInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-editcontext-updatetext-rangestart-rangeend-text" data-title="updateText" data-dfn-for="EditContext"><span class="idlType">

    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" id="dom-editcontext-updatetext" data-idl="operation" data-title="updateText" data-dfn-for="EditContext" data-type="undefined" data-lt="updateText()|updateText(rangeStart, rangeEnd, text)" data-local-lt="EditContext.updateText|EditContext.updateText()|updateText" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateText</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">rangeStart</span>,<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">rangeEnd</span>,<span class="idlType">
        <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">text</span>);</span><span data-idl="" class="idlMethod" id="idl-def-editcontext-updateselection-start-end" data-title="updateSelection" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" id="dom-editcontext-updateselection" data-idl="operation" data-title="updateSelection" data-dfn-for="EditContext" data-type="undefined" data-lt="updateSelection()|updateSelection(start, end)" data-local-lt="EditContext.updateSelection|EditContext.updateSelection()|updateSelection" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateSelection</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">start</span>,<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">end</span>);</span><span data-idl="" class="idlMethod" id="idl-def-editcontext-updatecontrolbounds-controlbounds" data-title="updateControlBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" id="dom-editcontext-updatecontrolbounds" data-idl="operation" data-title="updateControlBounds" data-dfn-for="EditContext" data-type="undefined" data-lt="updateControlBounds()|updateControlBounds(controlBounds)" data-local-lt="EditContext.updateControlBounds|EditContext.updateControlBounds()|updateControlBounds" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateControlBounds</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a></span> <span class="idlParamName">controlBounds</span>);</span><span data-idl="" class="idlMethod" id="idl-def-editcontext-updateselectionbounds-selectionbounds" data-title="updateSelectionBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" id="dom-editcontext-updateselectionbounds" data-idl="operation" data-title="updateSelectionBounds" data-dfn-for="EditContext" data-type="undefined" data-lt="updateSelectionBounds()|updateSelectionBounds(selectionBounds)" data-local-lt="EditContext.updateSelectionBounds|EditContext.updateSelectionBounds()|updateSelectionBounds" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateSelectionBounds</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a></span> <span class="idlParamName">selectionBounds</span>);</span><span data-idl="" class="idlMethod" id="idl-def-editcontext-updatecharacterbounds-rangestart-characterbounds" data-title="updateCharacterBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" id="dom-editcontext-updatecharacterbounds" data-idl="operation" data-title="updateCharacterBounds" data-dfn-for="EditContext" data-type="undefined" data-lt="updateCharacterBounds()|updateCharacterBounds(rangeStart, characterBounds)" data-local-lt="EditContext.updateCharacterBounds|EditContext.updateCharacterBounds()|updateCharacterBounds" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateCharacterBounds</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">rangeStart</span>,<span class="idlType"> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a>&gt;</span> <span class="idlParamName">characterBounds</span>);</span><span data-idl="" class="idlMethod" id="idl-def-editcontext-attachedelements" data-title="attachedElements" data-dfn-for="EditContext"><span class="idlType">

    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="interface" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement">HTMLElement</a>&gt;</span> <dfn data-export="" data-dfn-type="method" id="dom-editcontext-attachedelements" data-idl="operation" data-title="attachedElements" data-dfn-for="EditContext" data-type="sequence" data-lt="attachedElements()" data-local-lt="EditContext.attachedElements|EditContext.attachedElements()|attachedElements" class="idlName" tabindex="0" aria-haspopup="dialog"><code>attachedElements</code></dfn>();</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-text" data-title="text" data-dfn-for="EditContext">

    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-text" data-idl="attribute" data-title="text" data-dfn-for="EditContext" data-type="DOMString" data-lt="text" data-local-lt="EditContext.text" class="idlName" tabindex="0" aria-haspopup="dialog"><code>text</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-selectionstart" data-title="selectionStart" data-dfn-for="EditContext">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-selectionstart" data-idl="attribute" data-title="selectionStart" data-dfn-for="EditContext" data-type="unsigned long" data-lt="selectionStart" data-local-lt="EditContext.selectionStart" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-selectionend" data-title="selectionEnd" data-dfn-for="EditContext">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-selectionend" data-idl="attribute" data-title="selectionEnd" data-dfn-for="EditContext" data-type="unsigned long" data-lt="selectionEnd" data-local-lt="EditContext.selectionEnd" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionEnd</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-characterboundsrangestart" data-title="characterBoundsRangeStart" data-dfn-for="EditContext">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-characterboundsrangestart" data-idl="attribute" data-title="characterBoundsRangeStart" data-dfn-for="EditContext" data-type="unsigned long" data-lt="characterBoundsRangeStart" data-local-lt="EditContext.characterBoundsRangeStart" class="idlName" tabindex="0" aria-haspopup="dialog"><code>characterBoundsRangeStart</code></dfn>;</span><span data-idl="" class="idlMethod" id="idl-def-editcontext-characterbounds" data-title="characterBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a>&gt;</span> <dfn data-export="" data-dfn-type="method" id="dom-editcontext-characterbounds" data-idl="operation" data-title="characterBounds" data-dfn-for="EditContext" data-type="sequence" data-lt="characterBounds()" data-local-lt="EditContext.characterBounds|EditContext.characterBounds()|characterBounds" class="idlName" tabindex="0" aria-haspopup="dialog"><code>characterBounds</code></dfn>();</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-ontextupdate" data-title="ontextupdate" data-dfn-for="EditContext">

    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-ontextupdate" data-idl="attribute" data-title="ontextupdate" data-dfn-for="EditContext" data-type="EventHandler" data-lt="ontextupdate" data-local-lt="EditContext.ontextupdate" class="idlName" tabindex="0" aria-haspopup="dialog"><code>ontextupdate</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-ontextformatupdate" data-title="ontextformatupdate" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-ontextformatupdate" data-idl="attribute" data-title="ontextformatupdate" data-dfn-for="EditContext" data-type="EventHandler" data-lt="ontextformatupdate" data-local-lt="EditContext.ontextformatupdate" class="idlName" tabindex="0" aria-haspopup="dialog"><code>ontextformatupdate</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-oncharacterboundsupdate" data-title="oncharacterboundsupdate" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-oncharacterboundsupdate" data-idl="attribute" data-title="oncharacterboundsupdate" data-dfn-for="EditContext" data-type="EventHandler" data-lt="oncharacterboundsupdate" data-local-lt="EditContext.oncharacterboundsupdate" class="idlName" tabindex="0" aria-haspopup="dialog"><code>oncharacterboundsupdate</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-oncompositionstart" data-title="oncompositionstart" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-oncompositionstart" data-idl="attribute" data-title="oncompositionstart" data-dfn-for="EditContext" data-type="EventHandler" data-lt="oncompositionstart" data-local-lt="EditContext.oncompositionstart" class="idlName" tabindex="0" aria-haspopup="dialog"><code>oncompositionstart</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-editcontext-oncompositionend" data-title="oncompositionend" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-editcontext-oncompositionend" data-idl="attribute" data-title="oncompositionend" data-dfn-for="EditContext" data-type="EventHandler" data-lt="oncompositionend" data-local-lt="EditContext.oncompositionend" class="idlName" tabindex="0" aria-haspopup="dialog"><code>oncompositionend</code></dfn>;</span>
};</span></code></pre>
            <dl>
                <dt>text</dt>
                <dd><a data-link-type="idl" href="#dom-editcontext-text" class="internalDFN"
                        id="ref-for-dom-editcontext-text-1"><code>text</code></a> の getter 手順は、<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a> の <a data-link-type="dfn|abstract-op"
                        href="#dfn-text" class="internalDFN" id="ref-for-dfn-text-15">text</a> を返すことである。</dd>

                <dt>selectionStart</dt>
                <dd><a data-link-type="idl" href="#dom-editcontext-selectionstart" class="internalDFN"
                        id="ref-for-dom-editcontext-selectionstart-1"><code>selectionStart</code></a> の getter 手順は、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                        data-link-type="dfn|abstract-op" href="#dfn-selection-start" class="internalDFN"
                        id="ref-for-dfn-selection-start-5">selection start</a> を返すことである。</dd>

                <dt>selectionEnd</dt>
                <dd><a data-link-type="idl" href="#dom-editcontext-selectionend" class="internalDFN"
                        id="ref-for-dom-editcontext-selectionend-1"><code>selectionEnd</code></a> の getter 手順は、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                        data-link-type="dfn|abstract-op" href="#dfn-selection-end" class="internalDFN"
                        id="ref-for-dfn-selection-end-5">selection end</a> を返すことである。</dd>

                <dt>characterBounds</dt>
                <dd><a data-link-type="idl" href="#dom-editcontext-characterbounds" class="internalDFN"
                        id="ref-for-dom-editcontext-characterbounds-1"><code>characterBounds</code></a> の getter 手順は、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                        data-link-type="dfn|abstract-op" href="#dfn-codepoint-rects" class="internalDFN"
                        id="ref-for-dfn-codepoint-rects-4">codepoint rects</a> を返すことである。</dd>

                <dt>characterBoundsRangeStart</dt>
                <dd><a data-link-type="idl" href="#dom-editcontext-characterboundsrangestart" class="internalDFN"
                        id="ref-for-dom-editcontext-characterboundsrangestart-1"><code>characterBoundsRangeStart</code></a>
                    の getter 手順は、<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                        data-link-type="dfn|abstract-op" href="#dfn-codepoint-rects-start-index" class="internalDFN"
                        id="ref-for-dfn-codepoint-rects-start-index-1">codepoint rects start index</a> を返すことである。</dd>

                <dt>updateText() method</dt>
                <dd>
                    <p>
                        このメソッドは次の手順に従わなければならない：
                    </p>
                    <div class="algorithm">
                        <dl>
                            <dt>Input</dt>
                            <dd><var>rangeStart</var>, unsigned long</dd>
                            <dd><var>rangeEnd</var>, unsigned long</dd>
                            <dd><var>newText</var>, DOMString</dd>
                            <dt>Output</dt>
                            <dd>None</dd>
                        </dl>
                        <ol>
                            <li>
                                <a data-link-type="dfn|abstract-op" href="#dfn-text" class="internalDFN"
                                    id="ref-for-dfn-text-16">text</a> のうち
                                <var>rangeStart</var> から <var>rangeEnd</var> の範囲の部分文字列を <var>newText</var> で置換する。
                                <div class="note" role="note" id="issue-container-generatedID-10">
                                    <div role="heading" class="note-title marker" id="h-note-10" aria-level="3">
                                        <span>Note</span>
                                    </div>
                                    <div class=""><var>rangeStart</var> &gt; <var>rangeEnd</var>
                                        であってもよい。インデックス間の部分文字列は、<var>rangeStart</var> &lt;= <var>rangeEnd</var>
                                        の場合と同様に置換されるべきである。
                                    </div>
                                </div>
                            </li>
                        </ol>
                    </div>
                </dd>
                <dt>updateSelection() method</dt>
                <dd>
                    <p>
                        このメソッドは次の手順に従わなければならない：
                    </p>
                    <div class="algorithm">
                        <dl>
                            <dt>Input</dt>
                            <dd><var>start</var>, unsigned long</dd>
                            <dd><var>end</var>, unsigned long</dd>
                            <dt>Output</dt>
                            <dd>None</dd>
                        </dl>
                        <ol>
                            <li>
                                <a data-link-type="dfn|abstract-op" href="#dfn-selection-start" class="internalDFN"
                                    id="ref-for-dfn-selection-start-6">selection start</a> を <var>start</var> に設定する。
                            </li>
                            <li>
                                <a data-link-type="dfn|abstract-op" href="#dfn-selection-end" class="internalDFN"
                                    id="ref-for-dfn-selection-end-6">selection end</a> を <var>end</var> に設定する。
                            </li>
                        </ol>
                    </div>
                </dd>
                <dt>updateSelectionBounds() method</dt>
                <dd>
                    <p>
                        このメソッドは次の手順に従わなければならない：
                    </p>
                    <div class="algorithm">
                        <dl>
                            <dt>Input</dt>
                            <dd><var>selectionBounds</var>, <a data-link-type="interface" data-lt="DOMRect"
                                    href="https://www.w3.org/TR/geometry-1/#domrect"><code>DOMRect</code></a></dd>
                            <dt>Output</dt>
                            <dd>None</dd>
                        </dl>
                        <ol>
                            <li>
                                <a data-link-type="dfn|abstract-op" href="#dfn-selection-bounds" class="internalDFN"
                                    id="ref-for-dfn-selection-bounds-3">selection bounds</a> を
                                <var>selectionBounds</var> に設定する。
                            </li>
                        </ol>
                    </div>
                </dd>
                <dt>updateControlBounds() method</dt>
                <dd>
                    <p>
                        このメソッドは次の手順に従わなければならない：
                    </p>
                    <div class="algorithm">
                        <dl>
                            <dt>Input</dt>
                            <dd><var>controlBounds</var>, <a data-link-type="interface" data-lt="DOMRect"
                                    href="https://www.w3.org/TR/geometry-1/#domrect"><code>DOMRect</code></a></dd>
                            <dt>Output</dt>
                            <dd>None</dd>
                        </dl>
                        <ol>
                            <li>
                                <a data-link-type="dfn|abstract-op" href="#dfn-control-bounds" class="internalDFN"
                                    id="ref-for-dfn-control-bounds-3">control bounds</a> を <var>controlBounds</var>
                                に設定する。
                            </li>
                        </ol>
                    </div>
                </dd>
                <dt>updateCharacterBounds() method</dt>
                <dd>
                    <p>
                        このメソッドは次の手順に従わなければならない：
                    </p>
                    <div class="algorithm">
                        <dl>
                            <dt>Input</dt>
                            <dd><var>rangeStart</var>, unsigned long</dd>
                            <dd><var>characterBounds</var>, <a data-link-type="interface" data-lt="DOMRect"
                                    href="https://www.w3.org/TR/geometry-1/#domrect"><code>DOMRect</code></a> の配列</dd>
                            <dt>Output</dt>
                            <dd>None</dd>
                        </dl>
                        <ol>
                            <li>
                                <a data-link-type="dfn|abstract-op" href="#dfn-codepoint-rects-start-index"
                                    class="internalDFN" id="ref-for-dfn-codepoint-rects-start-index-2">codepoint rects
                                    start index</a> を <var>rangeStart</var> に設定する。
                            </li>
                            <li>
                                <a data-link-type="dfn|abstract-op" href="#dfn-codepoint-rects" class="internalDFN"
                                    id="ref-for-dfn-codepoint-rects-5">codepoint rects</a> を
                                <var>characterBounds</var> に設定する。
                            </li>
                        </ol>
                    </div>
                </dd>
                <dt>attachedElements() method</dt>
                <dd>
                    <p>このメソッドは、<a data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                            id="ref-for-dom-editcontext-35"><code>EditContext</code></a> の <a
                            href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-associated-element-21">associated element</a> を唯一の要素として持つリストを返す。ただし、<a
                            data-link-type="idl" data-lt="EditContext" href="#dom-editcontext" class="internalDFN"
                            id="ref-for-dom-editcontext-36"><code>EditContext</code></a> の <a
                            href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-associated-element-22">associated element</a> が null の場合は空のリストを返す。</p>
                    <div class="note" role="note" id="issue-container-generatedID-11">
                        <div role="heading" class="note-title marker" id="h-note-11" aria-level="3"><span>Note</span>
                        </div>
                        <p class="">
                            このメソッドが単一の要素ではなくリストを返すのは、将来、<a data-link-type="idl" data-lt="EditContext"
                                href="#dom-editcontext" class="internalDFN"
                                id="ref-for-dom-editcontext-37"><code>EditContext</code></a> が複数の <a
                                href="#dfn-associated-element" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-associated-element-23">associated elements</a> を持てるようになった場合の前方互換性のためである。
                        </p>
                    </div>
                </dd>

                <dt>ontextupdate</dt>
                <dd>
                    <p><a data-link-type="idl" data-lt="TextUpdateEvent" href="#dom-textupdateevent" class="internalDFN"
                            id="ref-for-dom-textupdateevent-4"><code>TextUpdateEvent</code></a> のイベントハンドラ。</p>
                </dd>

                <dt>oncharacterboundsupdate</dt>
                <dd>
                    <p><a data-link-type="idl" data-lt="CharacterBoundsUpdateEvent"
                            href="#dom-characterboundsupdateevent" class="internalDFN"
                            id="ref-for-dom-characterboundsupdateevent-7"><code>CharacterBoundsUpdateEvent</code></a>
                        のイベントハンドラ。
                    </p>
                </dd>

                <dt>ontextformatupdate</dt>
                <dd>
                    <p><a data-link-type="idl" data-lt="TextFormatUpdateEvent" href="#dom-textformatupdateevent"
                            class="internalDFN"
                            id="ref-for-dom-textformatupdateevent-6"><code>TextFormatUpdateEvent</code></a> のイベントハンドラ。
                    </p>
                </dd>

                <dt>oncompositionstart</dt>
                <dd>
                    <p><a href="https://w3c.github.io/uievents/#event-type-compositionstart">compositionstart</a>
                        イベントのイベントハンドラ。</p>
                </dd>

                <dt>oncompositionend</dt>
                <dd>
                    <p><a href="https://w3c.github.io/uievents/#event-type-compositionend">compositionend</a>
                        イベントのイベントハンドラ。
                    </p>
                </dd>
            </dl>
        </section>
    </section>

    <section data-dfn-for="EditContextEvents" id="editcontext-events-0">
        <div class="header-wrapper">
            <h2 id="x4-editcontext-events"><bdi class="secno">4. </bdi>EditContext のイベント</h2><a class="self-link"
                href="#editcontext-events-0" aria-label="Permalink for Section 4."></a>
        </div>

        <section id="textupdateevent">
            <div class="header-wrapper">
                <h3 id="x4-1-textupdateevent"><bdi class="secno">4.1 </bdi>TextUpdateEvent</h3><a class="self-link"
                    href="#textupdateevent" aria-label="Permalink for Section 4.1"></a>
            </div>

            <pre class="idl def" id="webidl-1353943793"><span class="idlHeader"><a class="self-link" href="#webidl-1353943793">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-textupdateeventinit" data-title="TextUpdateEventInit">dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-textupdateeventinit" data-idl="dictionary" data-title="TextUpdateEventInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>TextUpdateEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-textupdateeventinit-updaterangestart" data-title="updateRangeStart" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textupdateeventinit-updaterangestart" data-idl="field" data-title="updateRangeStart" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateRangeStart</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textupdateeventinit-updaterangeend" data-title="updateRangeEnd" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textupdateeventinit-updaterangeend" data-idl="field" data-title="updateRangeEnd" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateRangeEnd</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textupdateeventinit-text" data-title="text" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textupdateeventinit-text" data-idl="field" data-title="text" data-dfn-for="TextUpdateEventInit" data-type="DOMString" class="idlName" tabindex="0" aria-haspopup="dialog"><code>text</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textupdateeventinit-selectionstart" data-title="selectionStart" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textupdateeventinit-selectionstart" data-idl="field" data-title="selectionStart" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textupdateeventinit-selectionend" data-title="selectionEnd" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textupdateeventinit-selectionend" data-idl="field" data-title="selectionEnd" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionEnd</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textupdateeventinit-compositionstart" data-title="compositionStart" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textupdateeventinit-compositionstart" data-idl="field" data-title="compositionStart" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>compositionStart</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textupdateeventinit-compositionend" data-title="compositionEnd" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textupdateeventinit-compositionend" data-idl="field" data-title="compositionEnd" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>compositionEnd</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-textupdateevent" data-title="TextUpdateEvent">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-textupdateevent" data-idl="interface" data-title="TextUpdateEvent" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>TextUpdateEvent</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-textupdateevent-constructor-type-options" data-title="constructor" data-dfn-for="TextUpdateEvent">
    <dfn data-export="" data-dfn-type="constructor" id="dom-textupdateevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="TextUpdateEvent" data-lt="constructor()|constructor(type)|constructor(type, options)" data-local-lt="TextUpdateEvent.constructor|TextUpdateEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-textupdateeventinit" class="internalDFN" id="ref-for-dom-textupdateeventinit-1"><code>TextUpdateEventInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-textupdateevent-updaterangestart" data-title="updateRangeStart" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textupdateevent-updaterangestart" data-idl="attribute" data-title="updateRangeStart" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="updateRangeStart" data-local-lt="TextUpdateEvent.updateRangeStart" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateRangeStart</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-textupdateevent-updaterangeend" data-title="updateRangeEnd" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textupdateevent-updaterangeend" data-idl="attribute" data-title="updateRangeEnd" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="updateRangeEnd" data-local-lt="TextUpdateEvent.updateRangeEnd" class="idlName" tabindex="0" aria-haspopup="dialog"><code>updateRangeEnd</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-textupdateevent-text" data-title="text" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textupdateevent-text" data-idl="attribute" data-title="text" data-dfn-for="TextUpdateEvent" data-type="DOMString" data-lt="text" data-local-lt="TextUpdateEvent.text" class="idlName" tabindex="0" aria-haspopup="dialog"><code>text</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-textupdateevent-selectionstart" data-title="selectionStart" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textupdateevent-selectionstart" data-idl="attribute" data-title="selectionStart" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="selectionStart" data-local-lt="TextUpdateEvent.selectionStart" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-textupdateevent-selectionend" data-title="selectionEnd" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textupdateevent-selectionend" data-idl="attribute" data-title="selectionEnd" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="selectionEnd" data-local-lt="TextUpdateEvent.selectionEnd" class="idlName" tabindex="0" aria-haspopup="dialog"><code>selectionEnd</code></dfn>;</span>
};</span></code></pre>
            <dl>
                <dt><a data-link-type="idl" href="#dom-textupdateevent-updaterangestart" class="internalDFN"
                        id="ref-for-dom-textupdateevent-updaterangestart-1"><code>updateRangeStart</code></a>, of type
                    unsigned long, readonly</dt>
                <dd>置換される範囲の開始位置。</dd>

                <dt><a data-link-type="idl" href="#dom-textupdateevent-updaterangeend" class="internalDFN"
                        id="ref-for-dom-textupdateevent-updaterangeend-1"><code>updateRangeEnd</code></a>, of type
                    unsigned long, readonly</dt>
                <dd>置換される範囲の終了位置。</dd>

                <dt><a data-link-type="idl" href="#dom-textupdateevent-text" class="internalDFN"
                        id="ref-for-dom-textupdateevent-text-2"><code>text</code></a>, of type <a
                        data-link-type="interface" data-lt="DOMString"
                        href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
                <dd>当該範囲において古い文字列を置換する新しい文字列。</dd>

                <dt><a data-link-type="idl" href="#dom-textupdateevent-selectionstart" class="internalDFN"
                        id="ref-for-dom-textupdateevent-selectionstart-2"><code>selectionStart</code></a>, of type
                    unsigned long, readonly</dt>
                <dd>テキスト置換後の選択範囲の開始位置。</dd>

                <dt><a data-link-type="idl" href="#dom-textupdateevent-selectionend" class="internalDFN"
                        id="ref-for-dom-textupdateevent-selectionend-2"><code>selectionEnd</code></a>, of type unsigned
                    long, readonly</dt>
                <dd>テキスト置換後の選択範囲の終了位置。</dd>
            </dl>
        </section>
        <section id="textformatupdateevent">
            <div class="header-wrapper">
                <h3 id="x4-2-textformatupdateevent"><bdi class="secno">4.2 </bdi>TextFormatUpdateEvent</h3><a
                    class="self-link" href="#textformatupdateevent" aria-label="Permalink for Section 4.2"></a>
            </div>

            <pre class="idl def" id="webidl-1736300795"><span class="idlHeader"><a class="self-link" href="#webidl-1736300795">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-underlinestyle" data-title="UnderlineStyle">enum <dfn data-export="" data-dfn-type="enum" id="dom-underlinestyle" data-idl="enum" data-title="UnderlineStyle" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>UnderlineStyle</code></dfn> { <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinestyle-none" data-idl="enum-value" data-title="none" data-dfn-for="UnderlineStyle" tabindex="0" aria-haspopup="dialog"><code>none</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinestyle-solid" data-idl="enum-value" data-title="solid" data-dfn-for="UnderlineStyle" tabindex="0" aria-haspopup="dialog"><code>solid</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinestyle-dotted" data-idl="enum-value" data-title="dotted" data-dfn-for="UnderlineStyle" tabindex="0" aria-haspopup="dialog"><code>dotted</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinestyle-dashed" data-idl="enum-value" data-title="dashed" data-dfn-for="UnderlineStyle" tabindex="0" aria-haspopup="dialog"><code>dashed</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinestyle-wavy" data-idl="enum-value" data-title="wavy" data-dfn-for="UnderlineStyle" tabindex="0" aria-haspopup="dialog"><code>wavy</code></dfn>"</span> };</span><span data-idl="" class="idlEnum" id="idl-def-underlinethickness" data-title="UnderlineThickness">
enum <dfn data-export="" data-dfn-type="enum" id="dom-underlinethickness" data-idl="enum" data-title="UnderlineThickness" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>UnderlineThickness</code></dfn> { <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinethickness-none" data-idl="enum-value" data-title="none" data-dfn-for="UnderlineThickness" tabindex="0" aria-haspopup="dialog"><code>none</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinethickness-thin" data-idl="enum-value" data-title="thin" data-dfn-for="UnderlineThickness" tabindex="0" aria-haspopup="dialog"><code>thin</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-underlinethickness-thick" data-idl="enum-value" data-title="thick" data-dfn-for="UnderlineThickness" tabindex="0" aria-haspopup="dialog"><code>thick</code></dfn>"</span> };</span><span data-idl="" class="idlDictionary" id="idl-def-textformatinit" data-title="TextFormatInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-textformatinit" data-idl="dictionary" data-title="TextFormatInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>TextFormatInit</code></dfn> {<span data-idl="" class="idlMember" id="idl-def-textformatinit-rangestart" data-title="rangeStart" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textformatinit-rangestart" data-idl="field" data-title="rangeStart" data-dfn-for="TextFormatInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textformatinit-rangeend" data-title="rangeEnd" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textformatinit-rangeend" data-idl="field" data-title="rangeEnd" data-dfn-for="TextFormatInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeEnd</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textformatinit-underlinestyle" data-title="underlineStyle" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="idl" href="#dom-underlinestyle" class="internalDFN" id="ref-for-dom-underlinestyle-3"><code>UnderlineStyle</code></a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textformatinit-underlinestyle" data-idl="field" data-title="underlineStyle" data-dfn-for="TextFormatInit" data-type="UnderlineStyle" class="idlName" tabindex="0" aria-haspopup="dialog"><code>underlineStyle</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-textformatinit-underlinethickness" data-title="underlineThickness" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="idl" href="#dom-underlinethickness" class="internalDFN" id="ref-for-dom-underlinethickness-3"><code>UnderlineThickness</code></a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textformatinit-underlinethickness" data-idl="field" data-title="underlineThickness" data-dfn-for="TextFormatInit" data-type="UnderlineThickness" class="idlName" tabindex="0" aria-haspopup="dialog"><code>underlineThickness</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-textformat" data-title="TextFormat">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-textformat" data-idl="interface" data-title="TextFormat" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>TextFormat</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-textformat-constructor-options" data-title="constructor" data-dfn-for="TextFormat">
    <dfn data-export="" data-dfn-type="constructor" id="dom-textformat-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="TextFormat" data-lt="constructor()|constructor(options)" data-local-lt="TextFormat.constructor|TextFormat.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-textformatinit" class="internalDFN" id="ref-for-dom-textformatinit-1"><code>TextFormatInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-textformat-rangestart" data-title="rangeStart" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textformat-rangestart" data-idl="attribute" data-title="rangeStart" data-dfn-for="TextFormat" data-type="unsigned long" data-lt="rangeStart" data-local-lt="TextFormat.rangeStart" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-textformat-rangeend" data-title="rangeEnd" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textformat-rangeend" data-idl="attribute" data-title="rangeEnd" data-dfn-for="TextFormat" data-type="unsigned long" data-lt="rangeEnd" data-local-lt="TextFormat.rangeEnd" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeEnd</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-textformat-underlinestyle" data-title="underlineStyle" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-underlinestyle" class="internalDFN" id="ref-for-dom-underlinestyle-4"><code>UnderlineStyle</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textformat-underlinestyle" data-idl="attribute" data-title="underlineStyle" data-dfn-for="TextFormat" data-type="UnderlineStyle" data-lt="underlineStyle" data-local-lt="TextFormat.underlineStyle" class="idlName" tabindex="0" aria-haspopup="dialog"><code>underlineStyle</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-textformat-underlinethickness" data-title="underlineThickness" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-underlinethickness" class="internalDFN" id="ref-for-dom-underlinethickness-4"><code>UnderlineThickness</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-textformat-underlinethickness" data-idl="attribute" data-title="underlineThickness" data-dfn-for="TextFormat" data-type="UnderlineThickness" data-lt="underlineThickness" data-local-lt="TextFormat.underlineThickness" class="idlName" tabindex="0" aria-haspopup="dialog"><code>underlineThickness</code></dfn>;</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-textformatupdateeventinit" data-title="TextFormatUpdateEventInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-textformatupdateeventinit" data-idl="dictionary" data-title="TextFormatUpdateEventInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>TextFormatUpdateEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-textformatupdateeventinit-textformats" data-title="textFormats" data-dfn-for="TextFormatUpdateEventInit"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-textformat" class="internalDFN" id="ref-for-dom-textformat-3"><code>TextFormat</code></a>&gt;</span> <dfn data-export="" data-dfn-type="dict-member" id="dom-textformatupdateeventinit-textformats" data-idl="field" data-title="textFormats" data-dfn-for="TextFormatUpdateEventInit" data-type="sequence" class="idlName" tabindex="0" aria-haspopup="dialog"><code>textFormats</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-textformatupdateevent" data-title="TextFormatUpdateEvent">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-textformatupdateevent" data-idl="interface" data-title="TextFormatUpdateEvent" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>TextFormatUpdateEvent</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-textformatupdateevent-constructor-type-options" data-title="constructor" data-dfn-for="TextFormatUpdateEvent">
    <dfn data-export="" data-dfn-type="constructor" id="dom-textformatupdateevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="TextFormatUpdateEvent" data-lt="constructor()|constructor(type)|constructor(type, options)" data-local-lt="TextFormatUpdateEvent.constructor|TextFormatUpdateEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-textformatupdateeventinit" class="internalDFN" id="ref-for-dom-textformatupdateeventinit-1"><code>TextFormatUpdateEventInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-textformatupdateevent-gettextformats" data-title="getTextFormats" data-dfn-for="TextFormatUpdateEvent"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-textformat" class="internalDFN" id="ref-for-dom-textformat-4"><code>TextFormat</code></a>&gt;</span> <dfn data-export="" data-dfn-type="method" id="dom-textformatupdateevent-gettextformats" data-idl="operation" data-title="getTextFormats" data-dfn-for="TextFormatUpdateEvent" data-type="sequence" data-lt="getTextFormats()" data-local-lt="TextFormatUpdateEvent.getTextFormats|TextFormatUpdateEvent.getTextFormats()|getTextFormats" class="idlName" tabindex="0" aria-haspopup="dialog"><code>getTextFormats</code></dfn>();</span>
};</span></code></pre>
            <dl>
                <dt><a data-link-type="idl" href="#dom-textformat-rangestart" class="internalDFN"
                        id="ref-for-dom-textformat-rangestart-2"><code>rangeStart</code></a>, of type unsigned long,
                    readonly</dt>
                <dd>装飾を適用すべき最初のコードポイントの直前の位置を表すオフセット。</dd>
                <dt><a data-link-type="idl" href="#dom-textformat-rangeend" class="internalDFN"
                        id="ref-for-dom-textformat-rangeend-2"><code>rangeEnd</code></a>, of type unsigned long,
                    readonly</dt>
                <dd>装飾を適用すべき最後のコードポイントの直後の位置を表すオフセット。</dd>
                <dt><a data-link-type="idl" href="#dom-textformat-underlinestyle" class="internalDFN"
                        id="ref-for-dom-textformat-underlinestyle-2"><code>underlineStyle</code></a>, of type <a
                        data-link-type="idl" data-lt="UnderlineStyle" href="#dom-underlinestyle" class="internalDFN"
                        id="ref-for-dom-underlinestyle-5"><code>UnderlineStyle</code></a>, readonly</dt>
                <dd>装飾されたテキスト範囲に対して希望される下線スタイル。</dd>
                <dt><a data-link-type="idl" href="#dom-textformat-underlinethickness" class="internalDFN"
                        id="ref-for-dom-textformat-underlinethickness-2"><code>underlineThickness</code></a>, of type <a
                        data-link-type="idl" data-lt="UnderlineThickness" href="#dom-underlinethickness"
                        class="internalDFN" id="ref-for-dom-underlinethickness-5"><code>UnderlineThickness</code></a>,
                    readonly</dt>
                <dd>装飾されたテキスト範囲に対して希望される下線の太さ。</dd>
                <dt><a data-link-type="idl" href="#dom-textformatupdateevent-gettextformats" class="internalDFN"
                        id="ref-for-dom-textformatupdateevent-gettextformats-1"><code>getTextFormats</code></a> method
                </dt>
                <dd><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                        data-link-type="dfn|abstract-op" href="#dfn-text-format-list" class="internalDFN"
                        id="ref-for-dfn-text-format-list-2">text format list</a> を返す。</dd>
            </dl>
            <p><a data-link-type="idl" data-lt="TextFormatUpdateEvent" href="#dom-textformatupdateevent"
                    class="internalDFN" id="ref-for-dom-textformatupdateevent-7"><code>TextFormatUpdateEvent</code></a>
                は、関連付けられた <dfn id="dfn-text-format-list" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">text
                    format list</dfn> を持つ。これは、0 個以上の <a data-link-type="dfn|abstract-op" href="#dfn-text-format"
                    class="internalDFN" id="ref-for-dfn-text-format-5">text format</a> からなるリストである。</p>
        </section>
        <section id="characterboundsupdateevent">
            <div class="header-wrapper">
                <h3 id="x4-3-characterboundsupdateevent"><bdi class="secno">4.3 </bdi>CharacterBoundsUpdateEvent</h3><a
                    class="self-link" href="#characterboundsupdateevent" aria-label="Permalink for Section 4.3"></a>
            </div>

            <pre class="idl def" id="webidl-1965075523"><span class="idlHeader"><a class="self-link" href="#webidl-1965075523">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-characterboundsupdateeventinit" data-title="CharacterBoundsUpdateEventInit">dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-characterboundsupdateeventinit" data-idl="dictionary" data-title="CharacterBoundsUpdateEventInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>CharacterBoundsUpdateEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-characterboundsupdateeventinit-rangestart" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-characterboundsupdateeventinit-rangestart" data-idl="field" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-characterboundsupdateeventinit-rangeend" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-characterboundsupdateeventinit-rangeend" data-idl="field" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEventInit" data-type="unsigned long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeEnd</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-characterboundsupdateevent" data-title="CharacterBoundsUpdateEvent">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-characterboundsupdateevent" data-idl="interface" data-title="CharacterBoundsUpdateEvent" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>CharacterBoundsUpdateEvent</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-characterboundsupdateevent-constructor-type-options" data-title="constructor" data-dfn-for="CharacterBoundsUpdateEvent">
    <dfn data-export="" data-dfn-type="constructor" id="dom-characterboundsupdateevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="CharacterBoundsUpdateEvent" data-lt="constructor()|constructor(type)|constructor(type, options)" data-local-lt="CharacterBoundsUpdateEvent.constructor|CharacterBoundsUpdateEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-characterboundsupdateeventinit" class="internalDFN" id="ref-for-dom-characterboundsupdateeventinit-1"><code>CharacterBoundsUpdateEventInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-characterboundsupdateevent-rangestart" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-characterboundsupdateevent-rangestart" data-idl="attribute" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEvent" data-type="unsigned long" data-lt="rangeStart" data-local-lt="CharacterBoundsUpdateEvent.rangeStart" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-characterboundsupdateevent-rangeend" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-characterboundsupdateevent-rangeend" data-idl="attribute" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEvent" data-type="unsigned long" data-lt="rangeEnd" data-local-lt="CharacterBoundsUpdateEvent.rangeEnd" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rangeEnd</code></dfn>;</span>
};</span></code></pre>
            <dl>
                <dt><a data-link-type="idl" href="#dom-characterboundsupdateevent-rangestart" class="internalDFN"
                        id="ref-for-dom-characterboundsupdateevent-rangestart-2"><code>rangeStart</code></a>, of type
                    unsigned long, readonly
                </dt>
                <dd><a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-20">Text Input Service</a> が文字境界を必要とする範囲の開始位置。
                </dd>
                <dt><a data-link-type="idl" href="#dom-characterboundsupdateevent-rangeend" class="internalDFN"
                        id="ref-for-dom-characterboundsupdateevent-rangeend-2"><code>rangeEnd</code></a>, of type
                    unsigned long, readonly
                </dt>
                <dd><a data-link-type="dfn|abstract-op" href="#dfn-text-input-service" class="internalDFN"
                        id="ref-for-dfn-text-input-service-21">Text Input Service</a> が文字境界を必要とする範囲の終了位置。
                </dd>
            </dl>
        </section>
    </section>
    <section id="idl-index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-idl-index"><bdi class="secno">A. </bdi>IDL 索引</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Appendix A."></a>
        </div>

        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="HTMLElement">partial interface <a data-idl="partial" data-link-type="interface" data-title="HTMLElement" class="idlID" data-dfn-for="HTMLElement" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement">HTMLElement</a> {<span data-idl="" class="idlAttribute" data-title="editContext" data-dfn-for="HTMLElement">
     attribute<span class="idlType"> <a data-link-type="idl" href="#dom-editcontext" class="internalDFN" id="ref-for-dom-editcontext-38"><code>EditContext</code></a>?</span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="editContext" data-dfn-for="HTMLElement" data-type="EditContext" data-lt="editContext" data-local-lt="HTMLElement.editContext" class="idlName"><code>editContext</code></dfn>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="EditContextInit">dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="EditContextInit" data-dfn-for="" class="idlID"><code>EditContextInit</code></dfn> {<span data-idl="" class="idlMember" data-title="text" data-dfn-for="EditContextInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="text" data-dfn-for="EditContextInit" data-type="DOMString" class="idlName"><code>text</code></dfn>;</span><span data-idl="" class="idlMember" data-title="selectionStart" data-dfn-for="EditContextInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="selectionStart" data-dfn-for="EditContextInit" data-type="unsigned long" class="idlName"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlMember" data-title="selectionEnd" data-dfn-for="EditContextInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="selectionEnd" data-dfn-for="EditContextInit" data-type="unsigned long" class="idlName"><code>selectionEnd</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" data-title="EditContext">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="EditContext" data-dfn-for="" class="idlID"><code>EditContext</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="EditContext">
    <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="EditContext" data-lt="constructor()|constructor(options)" data-local-lt="EditContext.constructor|EditContext.constructor()|constructor"><code>constructor</code></dfn>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-editcontextinit" class="internalDFN" id="ref-for-dom-editcontextinit-2"><code>EditContextInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" data-title="updateText" data-dfn-for="EditContext"><span class="idlType">

    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="updateText" data-dfn-for="EditContext" data-type="undefined" data-lt="updateText()|updateText(rangeStart, rangeEnd, text)" data-local-lt="EditContext.updateText|EditContext.updateText()|updateText" class="idlName"><code>updateText</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">rangeStart</span>,<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">rangeEnd</span>,<span class="idlType">
        <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">text</span>);</span><span data-idl="" class="idlMethod" data-title="updateSelection" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="updateSelection" data-dfn-for="EditContext" data-type="undefined" data-lt="updateSelection()|updateSelection(start, end)" data-local-lt="EditContext.updateSelection|EditContext.updateSelection()|updateSelection" class="idlName"><code>updateSelection</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">start</span>,<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">end</span>);</span><span data-idl="" class="idlMethod" data-title="updateControlBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="updateControlBounds" data-dfn-for="EditContext" data-type="undefined" data-lt="updateControlBounds()|updateControlBounds(controlBounds)" data-local-lt="EditContext.updateControlBounds|EditContext.updateControlBounds()|updateControlBounds" class="idlName"><code>updateControlBounds</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a></span> <span class="idlParamName">controlBounds</span>);</span><span data-idl="" class="idlMethod" data-title="updateSelectionBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="updateSelectionBounds" data-dfn-for="EditContext" data-type="undefined" data-lt="updateSelectionBounds()|updateSelectionBounds(selectionBounds)" data-local-lt="EditContext.updateSelectionBounds|EditContext.updateSelectionBounds()|updateSelectionBounds" class="idlName"><code>updateSelectionBounds</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a></span> <span class="idlParamName">selectionBounds</span>);</span><span data-idl="" class="idlMethod" data-title="updateCharacterBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="updateCharacterBounds" data-dfn-for="EditContext" data-type="undefined" data-lt="updateCharacterBounds()|updateCharacterBounds(rangeStart, characterBounds)" data-local-lt="EditContext.updateCharacterBounds|EditContext.updateCharacterBounds()|updateCharacterBounds" class="idlName"><code>updateCharacterBounds</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">rangeStart</span>,<span class="idlType"> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a>&gt;</span> <span class="idlParamName">characterBounds</span>);</span><span data-idl="" class="idlMethod" data-title="attachedElements" data-dfn-for="EditContext"><span class="idlType">

    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="interface" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement">HTMLElement</a>&gt;</span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="attachedElements" data-dfn-for="EditContext" data-type="sequence" data-lt="attachedElements()" data-local-lt="EditContext.attachedElements|EditContext.attachedElements()|attachedElements" class="idlName"><code>attachedElements</code></dfn>();</span><span data-idl="" class="idlAttribute" data-title="text" data-dfn-for="EditContext">

    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="text" data-dfn-for="EditContext" data-type="DOMString" data-lt="text" data-local-lt="EditContext.text" class="idlName"><code>text</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="selectionStart" data-dfn-for="EditContext">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="selectionStart" data-dfn-for="EditContext" data-type="unsigned long" data-lt="selectionStart" data-local-lt="EditContext.selectionStart" class="idlName"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="selectionEnd" data-dfn-for="EditContext">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="selectionEnd" data-dfn-for="EditContext" data-type="unsigned long" data-lt="selectionEnd" data-local-lt="EditContext.selectionEnd" class="idlName"><code>selectionEnd</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="characterBoundsRangeStart" data-dfn-for="EditContext">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="characterBoundsRangeStart" data-dfn-for="EditContext" data-type="unsigned long" data-lt="characterBoundsRangeStart" data-local-lt="EditContext.characterBoundsRangeStart" class="idlName"><code>characterBoundsRangeStart</code></dfn>;</span><span data-idl="" class="idlMethod" data-title="characterBounds" data-dfn-for="EditContext"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="interface" href="https://www.w3.org/TR/geometry-1/#domrect">DOMRect</a>&gt;</span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="characterBounds" data-dfn-for="EditContext" data-type="sequence" data-lt="characterBounds()" data-local-lt="EditContext.characterBounds|EditContext.characterBounds()|characterBounds" class="idlName"><code>characterBounds</code></dfn>();</span><span data-idl="" class="idlAttribute" data-title="ontextupdate" data-dfn-for="EditContext">

    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="ontextupdate" data-dfn-for="EditContext" data-type="EventHandler" data-lt="ontextupdate" data-local-lt="EditContext.ontextupdate" class="idlName"><code>ontextupdate</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="ontextformatupdate" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="ontextformatupdate" data-dfn-for="EditContext" data-type="EventHandler" data-lt="ontextformatupdate" data-local-lt="EditContext.ontextformatupdate" class="idlName"><code>ontextformatupdate</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="oncharacterboundsupdate" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="oncharacterboundsupdate" data-dfn-for="EditContext" data-type="EventHandler" data-lt="oncharacterboundsupdate" data-local-lt="EditContext.oncharacterboundsupdate" class="idlName"><code>oncharacterboundsupdate</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="oncompositionstart" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="oncompositionstart" data-dfn-for="EditContext" data-type="EventHandler" data-lt="oncompositionstart" data-local-lt="EditContext.oncompositionstart" class="idlName"><code>oncompositionstart</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="oncompositionend" data-dfn-for="EditContext">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="oncompositionend" data-dfn-for="EditContext" data-type="EventHandler" data-lt="oncompositionend" data-local-lt="EditContext.oncompositionend" class="idlName"><code>oncompositionend</code></dfn>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="TextUpdateEventInit">dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="TextUpdateEventInit" data-dfn-for="" class="idlID"><code>TextUpdateEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" data-title="updateRangeStart" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="updateRangeStart" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName"><code>updateRangeStart</code></dfn>;</span><span data-idl="" class="idlMember" data-title="updateRangeEnd" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="updateRangeEnd" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName"><code>updateRangeEnd</code></dfn>;</span><span data-idl="" class="idlMember" data-title="text" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="text" data-dfn-for="TextUpdateEventInit" data-type="DOMString" class="idlName"><code>text</code></dfn>;</span><span data-idl="" class="idlMember" data-title="selectionStart" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="selectionStart" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlMember" data-title="selectionEnd" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="selectionEnd" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName"><code>selectionEnd</code></dfn>;</span><span data-idl="" class="idlMember" data-title="compositionStart" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="compositionStart" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName"><code>compositionStart</code></dfn>;</span><span data-idl="" class="idlMember" data-title="compositionEnd" data-dfn-for="TextUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="compositionEnd" data-dfn-for="TextUpdateEventInit" data-type="unsigned long" class="idlName"><code>compositionEnd</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" data-title="TextUpdateEvent">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="TextUpdateEvent" data-dfn-for="" class="idlID"><code>TextUpdateEvent</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="TextUpdateEvent">
    <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="TextUpdateEvent" data-lt="constructor()|constructor(type)|constructor(type, options)" data-local-lt="TextUpdateEvent.constructor|TextUpdateEvent.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-textupdateeventinit" class="internalDFN" id="ref-for-dom-textupdateeventinit-2"><code>TextUpdateEventInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlAttribute" data-title="updateRangeStart" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="updateRangeStart" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="updateRangeStart" data-local-lt="TextUpdateEvent.updateRangeStart" class="idlName"><code>updateRangeStart</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="updateRangeEnd" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="updateRangeEnd" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="updateRangeEnd" data-local-lt="TextUpdateEvent.updateRangeEnd" class="idlName"><code>updateRangeEnd</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="text" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="text" data-dfn-for="TextUpdateEvent" data-type="DOMString" data-lt="text" data-local-lt="TextUpdateEvent.text" class="idlName"><code>text</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="selectionStart" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="selectionStart" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="selectionStart" data-local-lt="TextUpdateEvent.selectionStart" class="idlName"><code>selectionStart</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="selectionEnd" data-dfn-for="TextUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="selectionEnd" data-dfn-for="TextUpdateEvent" data-type="unsigned long" data-lt="selectionEnd" data-local-lt="TextUpdateEvent.selectionEnd" class="idlName"><code>selectionEnd</code></dfn>;</span>
};</span>

<span data-idl="" class="idlEnum" data-title="UnderlineStyle">enum <dfn data-export="" data-dfn-type="enum" data-idl="enum" data-title="UnderlineStyle" data-dfn-for="" class="idlID"><code>UnderlineStyle</code></dfn> { <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="none" data-dfn-for="UnderlineStyle"><code>none</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="solid" data-dfn-for="UnderlineStyle"><code>solid</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="dotted" data-dfn-for="UnderlineStyle"><code>dotted</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="dashed" data-dfn-for="UnderlineStyle"><code>dashed</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="wavy" data-dfn-for="UnderlineStyle"><code>wavy</code></dfn>"</span> };</span><span data-idl="" class="idlEnum" data-title="UnderlineThickness">
enum <dfn data-export="" data-dfn-type="enum" data-idl="enum" data-title="UnderlineThickness" data-dfn-for="" class="idlID"><code>UnderlineThickness</code></dfn> { <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="none" data-dfn-for="UnderlineThickness"><code>none</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="thin" data-dfn-for="UnderlineThickness"><code>thin</code></dfn>"</span>, <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="thick" data-dfn-for="UnderlineThickness"><code>thick</code></dfn>"</span> };</span><span data-idl="" class="idlDictionary" data-title="TextFormatInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="TextFormatInit" data-dfn-for="" class="idlID"><code>TextFormatInit</code></dfn> {<span data-idl="" class="idlMember" data-title="rangeStart" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="rangeStart" data-dfn-for="TextFormatInit" data-type="unsigned long" class="idlName"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlMember" data-title="rangeEnd" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="rangeEnd" data-dfn-for="TextFormatInit" data-type="unsigned long" class="idlName"><code>rangeEnd</code></dfn>;</span><span data-idl="" class="idlMember" data-title="underlineStyle" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="idl" href="#dom-underlinestyle" class="internalDFN" id="ref-for-dom-underlinestyle-6"><code>UnderlineStyle</code></a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="underlineStyle" data-dfn-for="TextFormatInit" data-type="UnderlineStyle" class="idlName"><code>underlineStyle</code></dfn>;</span><span data-idl="" class="idlMember" data-title="underlineThickness" data-dfn-for="TextFormatInit"><span class="idlType">
    <a data-link-type="idl" href="#dom-underlinethickness" class="internalDFN" id="ref-for-dom-underlinethickness-6"><code>UnderlineThickness</code></a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="underlineThickness" data-dfn-for="TextFormatInit" data-type="UnderlineThickness" class="idlName"><code>underlineThickness</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" data-title="TextFormat">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="TextFormat" data-dfn-for="" class="idlID"><code>TextFormat</code></dfn> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="TextFormat">
    <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="TextFormat" data-lt="constructor()|constructor(options)" data-local-lt="TextFormat.constructor|TextFormat.constructor()|constructor"><code>constructor</code></dfn>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-textformatinit" class="internalDFN" id="ref-for-dom-textformatinit-2"><code>TextFormatInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlAttribute" data-title="rangeStart" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="rangeStart" data-dfn-for="TextFormat" data-type="unsigned long" data-lt="rangeStart" data-local-lt="TextFormat.rangeStart" class="idlName"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="rangeEnd" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="rangeEnd" data-dfn-for="TextFormat" data-type="unsigned long" data-lt="rangeEnd" data-local-lt="TextFormat.rangeEnd" class="idlName"><code>rangeEnd</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="underlineStyle" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-underlinestyle" class="internalDFN" id="ref-for-dom-underlinestyle-7"><code>UnderlineStyle</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="underlineStyle" data-dfn-for="TextFormat" data-type="UnderlineStyle" data-lt="underlineStyle" data-local-lt="TextFormat.underlineStyle" class="idlName"><code>underlineStyle</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="underlineThickness" data-dfn-for="TextFormat">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-underlinethickness" class="internalDFN" id="ref-for-dom-underlinethickness-7"><code>UnderlineThickness</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="underlineThickness" data-dfn-for="TextFormat" data-type="UnderlineThickness" data-lt="underlineThickness" data-local-lt="TextFormat.underlineThickness" class="idlName"><code>underlineThickness</code></dfn>;</span>
};</span><span data-idl="" class="idlDictionary" data-title="TextFormatUpdateEventInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="TextFormatUpdateEventInit" data-dfn-for="" class="idlID"><code>TextFormatUpdateEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" data-title="textFormats" data-dfn-for="TextFormatUpdateEventInit"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-textformat" class="internalDFN" id="ref-for-dom-textformat-5"><code>TextFormat</code></a>&gt;</span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="textFormats" data-dfn-for="TextFormatUpdateEventInit" data-type="sequence" class="idlName"><code>textFormats</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" data-title="TextFormatUpdateEvent">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="TextFormatUpdateEvent" data-dfn-for="" class="idlID"><code>TextFormatUpdateEvent</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="TextFormatUpdateEvent">
    <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="TextFormatUpdateEvent" data-lt="constructor()|constructor(type)|constructor(type, options)" data-local-lt="TextFormatUpdateEvent.constructor|TextFormatUpdateEvent.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-textformatupdateeventinit" class="internalDFN" id="ref-for-dom-textformatupdateeventinit-2"><code>TextFormatUpdateEventInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" data-title="getTextFormats" data-dfn-for="TextFormatUpdateEvent"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-textformat" class="internalDFN" id="ref-for-dom-textformat-6"><code>TextFormat</code></a>&gt;</span> <dfn data-export="" data-dfn-type="method" data-idl="operation" data-title="getTextFormats" data-dfn-for="TextFormatUpdateEvent" data-type="sequence" data-lt="getTextFormats()" data-local-lt="TextFormatUpdateEvent.getTextFormats|TextFormatUpdateEvent.getTextFormats()|getTextFormats" class="idlName"><code>getTextFormats</code></dfn>();</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="CharacterBoundsUpdateEventInit">dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="CharacterBoundsUpdateEventInit" data-dfn-for="" class="idlID"><code>CharacterBoundsUpdateEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEventInit" data-type="unsigned long" class="idlName"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlMember" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEventInit" data-type="unsigned long" class="idlName"><code>rangeEnd</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" data-title="CharacterBoundsUpdateEvent">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="CharacterBoundsUpdateEvent" data-dfn-for="" class="idlID"><code>CharacterBoundsUpdateEvent</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="CharacterBoundsUpdateEvent">
    <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="CharacterBoundsUpdateEvent" data-lt="constructor()|constructor(type)|constructor(type, options)" data-local-lt="CharacterBoundsUpdateEvent.constructor|CharacterBoundsUpdateEvent.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-characterboundsupdateeventinit" class="internalDFN" id="ref-for-dom-characterboundsupdateeventinit-2"><code>CharacterBoundsUpdateEventInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlAttribute" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="rangeStart" data-dfn-for="CharacterBoundsUpdateEvent" data-type="unsigned long" data-lt="rangeStart" data-local-lt="CharacterBoundsUpdateEvent.rangeStart" class="idlName"><code>rangeStart</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="rangeEnd" data-dfn-for="CharacterBoundsUpdateEvent" data-type="unsigned long" data-lt="rangeEnd" data-local-lt="CharacterBoundsUpdateEvent.rangeEnd" class="idlName"><code>rangeEnd</code></dfn>;</span>
};</span></code></pre>
    </section>
    <section id="contributors">
        <div class="header-wrapper">
            <h2 id="b-contributors"><bdi class="secno">B. </bdi>貢献者</h2><a class="self-link" href="#contributors"
                aria-label="Permalink for Section B."></a>
        </div>

        <div class="note" id="issue-container-generatedID-12">
            <div role="heading" class="ednote-title marker" id="h-ednote" aria-level="3"><span>編集者注記</span>
            </div>
            <p class="">
                貢献者を追加
            </p>
        </div>
    </section>




    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="c-references"><bdi class="secno">C. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix C."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>規定参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix C.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-geometry-1">[geometry-1]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/geometry-1/"><cite>Geometry Interfaces Module Level 1</cite></a>.
                    Simon Pieters; Chris Harrelson. W3C. 4 December 2018. W3C Candidate Recommendation. URL: <a
                        href="https://www.w3.org/TR/geometry-1/">https://www.w3.org/TR/geometry-1/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living
                    Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-uievents">[uievents]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/uievents/"><cite>UI Events</cite></a>. Gary Kacmarcik; Travis
                    Leithead. W3C. 7 September 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/uievents/">https://www.w3.org/TR/uievents/</a>
                </dd>
                <dt id="bib-webidl">[webidl]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="c-2-informative-references"><bdi class="secno">C.2 </bdi>参考参考文献</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix C.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-input-events">[input-events]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/input-events-1/"><cite>Input Events Level 1</cite></a>. Johannes
                    Wilm. W3C. 28 September 2023. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/input-events-1/">https://www.w3.org/TR/input-events-1/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-input-method"
        aria-label="Links in this document to definition: Text Input Method">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-input-method"
                aria-label="Permalink for definition: Text Input Method. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-input-method-1" title="§ 1.1 Background and Motivation">§ 1.1 Background and
                    Motivation</a> <a href="#ref-for-dfn-text-input-method-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-text-input-method-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-text-input-method-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-text-input-method-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-text-input-method-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-text-input-method-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-text-input-method-8" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-text-input-method-9" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-text-input-method-10" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-method-11" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext
                    events</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-edit-context"
        aria-label="Links in this document to definition: Text Edit Context">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-edit-context"
                aria-label="Permalink for definition: Text Edit Context. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-edit-context-1" title="§ 1.1 Background and Motivation">§ 1.1 Background and
                    Motivation</a> <a href="#ref-for-dfn-text-edit-context-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-text-edit-context-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-text-edit-context-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-text-edit-context-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-text-edit-context-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-text-edit-context-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-text-edit-context-8" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-text-edit-context-9" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-text-edit-context-10" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-text-edit-context-11" title="Reference 11">(11)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-edit-context-12" title="§ 1.2 The EditContext Model">§ 1.2 The EditContext
                    Model</a> <a href="#ref-for-dfn-text-edit-context-13" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-text-edit-context-14" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-text-edit-context-15" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-edit-context-16" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext
                    state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-edit-context-17" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle
                    input for EditContext</a> <a href="#ref-for-dfn-text-edit-context-18" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-text-edit-context-19" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-edit-context-20" title="§ 3.1.4 Update the Text Edit Context">§ 3.1.4 Update
                    the Text Edit Context</a> <a href="#ref-for-dfn-text-edit-context-21" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-input-service"
        aria-label="Links in this document to definition: Text Input Service">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-input-service"
                aria-label="Permalink for definition: Text Input Service. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-input-service-1" title="§ 1.1 Background and Motivation">§ 1.1 Background and
                    Motivation</a> <a href="#ref-for-dfn-text-input-service-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-text-input-service-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-text-input-service-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-5" title="§ 1.2 The EditContext Model">§ 1.2 The EditContext
                    Model</a> <a href="#ref-for-dfn-text-input-service-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-7" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext
                    state</a> <a href="#ref-for-dfn-text-input-service-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-9" title="§ 1.2.2 Association and activation">§ 1.2.2
                    Association and activation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-10" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext
                    events</a> <a href="#ref-for-dfn-text-input-service-11" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-text-input-service-12" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-text-input-service-13" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-text-input-service-14" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-text-input-service-15" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-text-input-service-16" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-17" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-18" title="§ 3.1.4 Update the Text Edit Context">§ 3.1.4 Update
                    the Text Edit Context</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-19" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6
                    Dispatch text format update event</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-input-service-20" title="§ 4.3 CharacterBoundsUpdateEvent">§ 4.3
                    CharacterBoundsUpdateEvent</a> <a href="#ref-for-dfn-text-input-service-21"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-state"
        aria-label="Links in this document to definition: text state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-state"
                aria-label="Permalink for definition: text state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-state-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-state-2" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext events</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-state-3" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle input
                    for EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-state-4" title="§ 3.1.4 Update the Text Edit Context">§ 3.1.4 Update the Text
                    Edit Context</a> <a href="#ref-for-dfn-text-state-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-text-state-6" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text"
        aria-label="Links in this document to definition: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text"
                aria-label="Permalink for definition: text. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a> <a
                    href="#ref-for-dfn-text-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-text-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-text-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-text-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-text-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-text-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-text-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-text-9"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-text-10" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-text-11" title="Reference 11">(11)</a> <a href="#ref-for-dfn-text-12"
                    title="Reference 12">(12)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-13" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle input for
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-14" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-15" title="§ 3.2 EditContext Interface">§ 3.2 EditContext Interface</a> <a
                    href="#ref-for-dfn-text-16" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-selection-start"
        aria-label="Links in this document to definition: selection start">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-selection-start"
                aria-label="Permalink for definition: selection start. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-selection-start-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-start-2" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle
                    input for EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-start-3" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-start-4" title="§ 3.1.5 Dispatch text update event">§ 3.1.5 Dispatch
                    text update event</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-start-5" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a> <a href="#ref-for-dfn-selection-start-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-selection-end"
        aria-label="Links in this document to definition: selection end">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-selection-end"
                aria-label="Permalink for definition: selection end. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-selection-end-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-end-2" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle input
                    for EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-end-3" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-end-4" title="§ 3.1.5 Dispatch text update event">§ 3.1.5 Dispatch text
                    update event</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-end-5" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a> <a href="#ref-for-dfn-selection-end-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-is-composing"
        aria-label="Links in this document to definition: is composing">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-is-composing"
                aria-label="Permalink for definition: is composing. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-is-composing-1" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle input
                    for EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-is-composing-2" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a> <a href="#ref-for-dfn-is-composing-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-is-composing-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-is-composing-5"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-is-composing-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-is-composing-7" title="Reference 6">(6)</a> <a href="#ref-for-dfn-is-composing-8"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-is-composing-9" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-is-composing-10" title="§ 3.1.8 Deactivate an EditContext">§ 3.1.8 Deactivate an
                    EditContext</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-composition-start"
        aria-label="Links in this document to definition: composition start">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-composition-start"
                aria-label="Permalink for definition: composition start. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-composition-start-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext
                    state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-composition-start-2" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle
                    input for EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-composition-start-3" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a> <a href="#ref-for-dfn-composition-start-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-composition-start-5" title="§ 3.1.7 Dispatch character bounds update event">§
                    3.1.7 Dispatch character bounds update event</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-composition-end"
        aria-label="Links in this document to definition: composition end">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-composition-end"
                aria-label="Permalink for definition: composition end. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-composition-end-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-composition-end-2" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle
                    input for EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-composition-end-3" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-composition-end-4" title="§ 3.1.7 Dispatch character bounds update event">§ 3.1.7
                    Dispatch character bounds update event</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-formats"
        aria-label="Links in this document to definition: text formats">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-formats"
                aria-label="Permalink for definition: text formats. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-formats-1" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle input
                    for EditContext</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-control-bounds"
        aria-label="Links in this document to definition: control bounds">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-control-bounds"
                aria-label="Permalink for definition: control bounds. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-control-bounds-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
                <a href="#ref-for-dfn-control-bounds-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-control-bounds-3" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-selection-bounds"
        aria-label="Links in this document to definition: selection bounds">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-selection-bounds"
                aria-label="Permalink for definition: selection bounds. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-selection-bounds-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext
                    state</a> <a href="#ref-for-dfn-selection-bounds-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-selection-bounds-3" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-codepoint-rects-start-index"
        aria-label="Links in this document to definition: codepoint rects start index">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-codepoint-rects-start-index"
                aria-label="Permalink for definition: codepoint rects start index. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-codepoint-rects-start-index-1" title="§ 3.2 EditContext Interface">§ 3.2
                    EditContext Interface</a> <a href="#ref-for-dfn-codepoint-rects-start-index-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-codepoint-rects"
        aria-label="Links in this document to definition: codepoint rects">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-codepoint-rects"
                aria-label="Permalink for definition: codepoint rects. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-codepoint-rects-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
                <a href="#ref-for-dfn-codepoint-rects-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-codepoint-rects-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-codepoint-rects-4" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a> <a href="#ref-for-dfn-codepoint-rects-5" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-format"
        aria-label="Links in this document to definition: text format">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-format"
                aria-label="Permalink for definition: text format. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-format-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-format-2" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-format-3" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6 Dispatch
                    text format update event</a> <a href="#ref-for-dfn-text-format-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-format-5" title="§ 4.2 TextFormatUpdateEvent">§ 4.2 TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-range-start"
        aria-label="Links in this document to definition: range start">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-range-start"
                aria-label="Permalink for definition: range start. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-range-start-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6 Dispatch
                    text format update event</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-range-end"
        aria-label="Links in this document to definition: range end">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-range-end"
                aria-label="Permalink for definition: range end. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-range-end-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6 Dispatch
                    text format update event</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-underline-style"
        aria-label="Links in this document to definition: underline style">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-underline-style"
                aria-label="Permalink for definition: underline style. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-underline-style-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6
                    Dispatch text format update event</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-underline-thickness"
        aria-label="Links in this document to definition: underline thickness">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-underline-thickness"
                aria-label="Permalink for definition: underline thickness. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-underline-thickness-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6
                    Dispatch text format update event</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-client-coordinate-system"
        aria-label="Links in this document to definition: client coordinate system">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-client-coordinate-system"
                aria-label="Permalink for definition: client coordinate system. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-client-coordinate-system-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext
                    state</a> <a href="#ref-for-dfn-client-coordinate-system-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-client-coordinate-system-3" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-associated-element"
        aria-label="Links in this document to definition: associated element">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-associated-element"
                aria-label="Permalink for definition: associated element. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-associated-element-1" title="§ 1.2.2 Association and activation">§ 1.2.2
                    Association and activation</a> <a href="#ref-for-dfn-associated-element-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-associated-element-3" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-associated-element-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-associated-element-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-associated-element-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-associated-element-7" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-associated-element-8"
                    title="§ 1.2.3 Differences for an EditContext editing host">§ 1.2.3 Differences for an EditContext
                    editing host</a> <a href="#ref-for-dfn-associated-element-9" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-associated-element-10" title="§ 1.2.6 Examples">§ 1.2.6 Examples</a> <a
                    href="#ref-for-dfn-associated-element-11" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-associated-element-12" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-associated-element-13" title="§ 3.1 Extensions to the HTMLElement interface">§ 3.1
                    Extensions to the HTMLElement interface</a> <a href="#ref-for-dfn-associated-element-14"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-associated-element-15" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-associated-element-16" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-associated-element-17" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-associated-element-18" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-associated-element-19" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-associated-element-20" title="§ 3.1.9 Determine the active EditContext">§ 3.1.9
                    Determine the active EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-associated-element-21" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a> <a href="#ref-for-dfn-associated-element-22" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-associated-element-23" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-editcontext-editing-host"
        aria-label="Links in this document to definition: EditContext editing host">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-editcontext-editing-host"
                aria-label="Permalink for definition: EditContext editing host. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-editcontext-editing-host-1" title="§ 1.2.2 Association and activation">§ 1.2.2
                    Association and activation</a> <a href="#ref-for-dfn-editcontext-editing-host-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-editcontext-editing-host-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-editcontext-editing-host-4"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-editcontext-editing-host-5"
                    title="§ 1.2.3 Differences for an EditContext editing host">§ 1.2.3 Differences for an EditContext
                    editing host</a> <a href="#ref-for-dfn-editcontext-editing-host-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-editcontext-editing-host-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-editcontext-editing-host-8" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-editcontext-editing-host-9" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-editcontext-editing-host-10" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-editcontext-editing-host-11" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-editcontext-editing-host-12" title="Reference 8">(8)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-active-editcontext"
        aria-label="Links in this document to definition: active EditContext">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-active-editcontext"
                aria-label="Permalink for definition: active EditContext. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-active-editcontext-1" title="§ 1.2 The EditContext Model">§ 1.2 The EditContext
                    Model</a> <a href="#ref-for-dfn-active-editcontext-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-editcontext-3"
                    title="§ 1.2.3 Differences for an EditContext editing host">§ 1.2.3 Differences for an EditContext
                    editing host</a> <a href="#ref-for-dfn-active-editcontext-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-active-editcontext-5" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-active-editcontext-6" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-editcontext-7" title="§ 3.1 Extensions to the HTMLElement interface">§ 3.1
                    Extensions to the HTMLElement interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-editcontext-8" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1 Handle
                    input for EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-editcontext-9" title="§ 3.1.4 Update the Text Edit Context">§ 3.1.4 Update
                    the Text Edit Context</a> <a href="#ref-for-dfn-active-editcontext-10" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-editcontext-11" title="§ 3.1.9 Determine the active EditContext">§ 3.1.9
                    Determine the active EditContext</a> <a href="#ref-for-dfn-active-editcontext-12"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-active-editcontext-13" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-htmlelement-editcontext"
        aria-label="Links in this document to definition: editContext">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-htmlelement-editcontext"
                aria-label="Permalink for definition: editContext. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-htmlelement-editcontext-1" title="§ 1.2.2 Association and activation">§ 1.2.2
                    Association and activation</a> <a href="#ref-for-dom-htmlelement-editcontext-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlelement-editcontext-3" title="§ 3.1 Extensions to the HTMLElement interface">§
                    3.1 Extensions to the HTMLElement interface</a> <a href="#ref-for-dom-htmlelement-editcontext-4"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-handle-input-for-editcontext"
        aria-label="Links in this document to definition: Handle input for EditContext">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-handle-input-for-editcontext"
                aria-label="Permalink for definition: Handle input for EditContext. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-handle-input-for-editcontext-1" title="§ 1.2.2 Association and activation">§ 1.2.2
                    Association and activation</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-editcontext-handled-inputtype"
        aria-label="Links in this document to definition: EditContext-handled inputType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-editcontext-handled-inputtype"
                aria-label="Permalink for definition: EditContext-handled inputType. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-editcontext-handled-inputtype-1" title="§ 3.1.2 EditContext-handled inputType">§
                    3.1.2 EditContext-handled inputType</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-update-the-editcontext"
        aria-label="Links in this document to definition: Update the EditContext">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-update-the-editcontext"
                aria-label="Permalink for definition: Update the EditContext. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-update-the-editcontext-1"
                    title="§ 1.2.3 Differences for an EditContext editing host">§ 1.2.3 Differences for an EditContext
                    editing host</a>
            </li>
            <li>
                <a href="#ref-for-dfn-update-the-editcontext-2" title="§ 3.1.1 Handle input for EditContext">§ 3.1.1
                    Handle input for EditContext</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-update-the-text-edit-context"
        aria-label="Links in this document to definition: Update the Text Edit Context">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-update-the-text-edit-context"
                aria-label="Permalink for definition: Update the Text Edit Context. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-update-the-text-edit-context-1" title="§ 1.2.5 Event loop changes">§ 1.2.5 Event
                    loop changes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-dispatch-text-update-event"
        aria-label="Links in this document to definition: Dispatch text update event">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-dispatch-text-update-event"
                aria-label="Permalink for definition: Dispatch text update event. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-dispatch-text-update-event-1" title="§ 3.1.3 Update the EditContext">§ 3.1.3
                    Update the EditContext</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-dispatch-text-format-update-event"
        aria-label="Links in this document to definition: Dispatch text format update event">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-dispatch-text-format-update-event"
                aria-label="Permalink for definition: Dispatch text format update event. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-dispatch-text-format-update-event-1" title="§ 3.1.3 Update the EditContext">§
                    3.1.3 Update the EditContext</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-dispatch-character-bounds-update-event"
        aria-label="Links in this document to definition: Dispatch character bounds update event">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-dispatch-character-bounds-update-event"
                aria-label="Permalink for definition: Dispatch character bounds update event. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-dispatch-character-bounds-update-event-1" title="§ 3.1.3 Update the EditContext">§
                    3.1.3 Update the EditContext</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-deactivate-an-editcontext"
        aria-label="Links in this document to definition: Deactivate an EditContext">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-deactivate-an-editcontext"
                aria-label="Permalink for definition: Deactivate an EditContext. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-deactivate-an-editcontext-1"
                    title="§ 1.2.3 Differences for an EditContext editing host">§ 1.2.3 Differences for an EditContext
                    editing host</a>
            </li>
            <li>
                <a href="#ref-for-dfn-deactivate-an-editcontext-2"
                    title="§ 3.1 Extensions to the HTMLElement interface">§ 3.1 Extensions to the HTMLElement
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-deactivate-an-editcontext-3" title="§ 3.1.4 Update the Text Edit Context">§ 3.1.4
                    Update the Text Edit Context</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-determine-the-active-editcontext"
        aria-label="Links in this document to definition: Determine the active EditContext">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-determine-the-active-editcontext"
                aria-label="Permalink for definition: Determine the active EditContext. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-determine-the-active-editcontext-1" title="§ 3.1.4 Update the Text Edit Context">§
                    3.1.4 Update the Text Edit Context</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontextinit"
        aria-label="Links in this document to definition: EditContextInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontextinit"
                aria-label="Permalink for definition: EditContextInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontextinit-1" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontextinit-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontextinit-text"
        aria-label="Links in this document to definition: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontextinit-text"
                aria-label="Permalink for definition: text. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontextinit-selectionstart"
        aria-label="Links in this document to definition: selectionStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontextinit-selectionstart"
                aria-label="Permalink for definition: selectionStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontextinit-selectionend"
        aria-label="Links in this document to definition: selectionEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontextinit-selectionend"
                aria-label="Permalink for definition: selectionEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext"
        aria-label="Links in this document to definition: EditContext">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext"
                aria-label="Permalink for definition: EditContext. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontext-1" title="§ Abstract">§ Abstract</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-2" title="§ 1.2 The EditContext Model">§ 1.2 The EditContext Model</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-3" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-4" title="§ 1.2.2 Association and activation">§ 1.2.2 Association and
                    activation</a> <a href="#ref-for-dom-editcontext-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-editcontext-6" title="Reference 3">(3)</a> <a href="#ref-for-dom-editcontext-7"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-editcontext-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-editcontext-9" title="Reference 6">(6)</a> <a href="#ref-for-dom-editcontext-10"
                    title="Reference 7">(7)</a> <a href="#ref-for-dom-editcontext-11" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-editcontext-12" title="Reference 9">(9)</a> <a href="#ref-for-dom-editcontext-13"
                    title="Reference 10">(10)</a> <a href="#ref-for-dom-editcontext-14" title="Reference 11">(11)</a> <a
                    href="#ref-for-dom-editcontext-15" title="Reference 12">(12)</a> <a
                    href="#ref-for-dom-editcontext-16" title="Reference 13">(13)</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-17" title="§ 1.2.3 Differences for an EditContext editing host">§
                    1.2.3 Differences for an EditContext editing host</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-18" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext events</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-19" title="§ 1.2.6 Examples">§ 1.2.6 Examples</a> <a
                    href="#ref-for-dom-editcontext-20" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-21" title="§ 3.1 Extensions to the HTMLElement interface">§ 3.1
                    Extensions to the HTMLElement interface</a> <a href="#ref-for-dom-editcontext-22"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-23" title="§ 3.1.2 EditContext-handled inputType">§ 3.1.2
                    EditContext-handled inputType</a> <a href="#ref-for-dom-editcontext-24" title="Reference 2">(2)</a>
                <a href="#ref-for-dom-editcontext-25" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-26" title="§ 3.1.3 Update the EditContext">§ 3.1.3 Update the
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-27" title="§ 3.1.5 Dispatch text update event">§ 3.1.5 Dispatch text
                    update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-28" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6 Dispatch
                    text format update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-29" title="§ 3.1.7 Dispatch character bounds update event">§ 3.1.7
                    Dispatch character bounds update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-30" title="§ 3.1.8 Deactivate an EditContext">§ 3.1.8 Deactivate an
                    EditContext</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-31" title="§ 3.1.9 Determine the active EditContext">§ 3.1.9 Determine
                    the active EditContext</a> <a href="#ref-for-dom-editcontext-32" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-editcontext-33" title="Reference 3">(3)</a> <a href="#ref-for-dom-editcontext-34"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-35" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a> <a href="#ref-for-dom-editcontext-36" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-editcontext-37" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-editcontext-38" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-updatetext"
        aria-label="Links in this document to definition: updateText">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-updatetext"
                aria-label="Permalink for definition: updateText. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-updateselection"
        aria-label="Links in this document to definition: updateSelection">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-updateselection"
                aria-label="Permalink for definition: updateSelection. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontext-updatecontrolbounds"
        aria-label="Links in this document to definition: updateControlBounds">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-updatecontrolbounds"
                aria-label="Permalink for definition: updateControlBounds. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontext-updateselectionbounds"
        aria-label="Links in this document to definition: updateSelectionBounds">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-updateselectionbounds"
                aria-label="Permalink for definition: updateSelectionBounds. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontext-updatecharacterbounds"
        aria-label="Links in this document to definition: updateCharacterBounds">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-updatecharacterbounds"
                aria-label="Permalink for definition: updateCharacterBounds. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontext-updatecharacterbounds-1" title="§ 1.2.4 EditContext events">§ 1.2.4
                    EditContext events</a> <a href="#ref-for-dom-editcontext-updatecharacterbounds-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-editcontext-updatecharacterbounds-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-editcontext-updatecharacterbounds-4"
                    title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-attachedelements"
        aria-label="Links in this document to definition: attachedElements">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-attachedelements"
                aria-label="Permalink for definition: attachedElements. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-text"
        aria-label="Links in this document to definition: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-text"
                aria-label="Permalink for definition: text. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontext-text-1" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-selectionstart"
        aria-label="Links in this document to definition: selectionStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-selectionstart"
                aria-label="Permalink for definition: selectionStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontext-selectionstart-1" title="§ 3.2 EditContext Interface">§ 3.2
                    EditContext Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-selectionend"
        aria-label="Links in this document to definition: selectionEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-selectionend"
                aria-label="Permalink for definition: selectionEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontext-selectionend-1" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontext-characterboundsrangestart"
        aria-label="Links in this document to definition: characterBoundsRangeStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-characterboundsrangestart"
                aria-label="Permalink for definition: characterBoundsRangeStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontext-characterboundsrangestart-1" title="§ 3.2 EditContext Interface">§ 3.2
                    EditContext Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-characterbounds"
        aria-label="Links in this document to definition: characterBounds">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-characterbounds"
                aria-label="Permalink for definition: characterBounds. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-editcontext-characterbounds-1" title="§ 3.2 EditContext Interface">§ 3.2
                    EditContext Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-ontextupdate"
        aria-label="Links in this document to definition: ontextupdate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-ontextupdate"
                aria-label="Permalink for definition: ontextupdate. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontext-ontextformatupdate"
        aria-label="Links in this document to definition: ontextformatupdate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-ontextformatupdate"
                aria-label="Permalink for definition: ontextformatupdate. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontext-oncharacterboundsupdate"
        aria-label="Links in this document to definition: oncharacterboundsupdate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-oncharacterboundsupdate"
                aria-label="Permalink for definition: oncharacterboundsupdate. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-editcontext-oncompositionstart"
        aria-label="Links in this document to definition: oncompositionstart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-oncompositionstart"
                aria-label="Permalink for definition: oncompositionstart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-editcontext-oncompositionend"
        aria-label="Links in this document to definition: oncompositionend">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-editcontext-oncompositionend"
                aria-label="Permalink for definition: oncompositionend. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textupdateeventinit"
        aria-label="Links in this document to definition: TextUpdateEventInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit"
                aria-label="Permalink for definition: TextUpdateEventInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textupdateeventinit-1" title="§ 4.1 TextUpdateEvent">§ 4.1 TextUpdateEvent</a>
            </li>
            <li>
                <a href="#ref-for-dom-textupdateeventinit-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateeventinit-updaterangestart"
        aria-label="Links in this document to definition: updateRangeStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit-updaterangestart"
                aria-label="Permalink for definition: updateRangeStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateeventinit-updaterangeend"
        aria-label="Links in this document to definition: updateRangeEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit-updaterangeend"
                aria-label="Permalink for definition: updateRangeEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textupdateeventinit-text"
        aria-label="Links in this document to definition: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit-text"
                aria-label="Permalink for definition: text. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateeventinit-selectionstart"
        aria-label="Links in this document to definition: selectionStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit-selectionstart"
                aria-label="Permalink for definition: selectionStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateeventinit-selectionend"
        aria-label="Links in this document to definition: selectionEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit-selectionend"
                aria-label="Permalink for definition: selectionEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateeventinit-compositionstart"
        aria-label="Links in this document to definition: compositionStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit-compositionstart"
                aria-label="Permalink for definition: compositionStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateeventinit-compositionend"
        aria-label="Links in this document to definition: compositionEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateeventinit-compositionend"
                aria-label="Permalink for definition: compositionEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textupdateevent"
        aria-label="Links in this document to definition: TextUpdateEvent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateevent"
                aria-label="Permalink for definition: TextUpdateEvent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textupdateevent-1" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext
                    events</a>
            </li>
            <li>
                <a href="#ref-for-dom-textupdateevent-2" title="§ 1.2.6 Examples">§ 1.2.6 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-textupdateevent-3" title="§ 3.1.5 Dispatch text update event">§ 3.1.5 Dispatch
                    text update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textupdateevent-4" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textupdateevent-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateevent-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateevent-updaterangestart"
        aria-label="Links in this document to definition: updateRangeStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateevent-updaterangestart"
                aria-label="Permalink for definition: updateRangeStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textupdateevent-updaterangestart-1" title="§ 4.1 TextUpdateEvent">§ 4.1
                    TextUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateevent-updaterangeend"
        aria-label="Links in this document to definition: updateRangeEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateevent-updaterangeend"
                aria-label="Permalink for definition: updateRangeEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textupdateevent-updaterangeend-1" title="§ 4.1 TextUpdateEvent">§ 4.1
                    TextUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textupdateevent-text"
        aria-label="Links in this document to definition: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateevent-text"
                aria-label="Permalink for definition: text. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textupdateevent-text-1" title="§ 3.1.5 Dispatch text update event">§ 3.1.5
                    Dispatch text update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textupdateevent-text-2" title="§ 4.1 TextUpdateEvent">§ 4.1 TextUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textupdateevent-selectionstart"
        aria-label="Links in this document to definition: selectionStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateevent-selectionstart"
                aria-label="Permalink for definition: selectionStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textupdateevent-selectionstart-1" title="§ 3.1.5 Dispatch text update event">§
                    3.1.5 Dispatch text update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textupdateevent-selectionstart-2" title="§ 4.1 TextUpdateEvent">§ 4.1
                    TextUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textupdateevent-selectionend"
        aria-label="Links in this document to definition: selectionEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textupdateevent-selectionend"
                aria-label="Permalink for definition: selectionEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textupdateevent-selectionend-1" title="§ 3.1.5 Dispatch text update event">§ 3.1.5
                    Dispatch text update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textupdateevent-selectionend-2" title="§ 4.1 TextUpdateEvent">§ 4.1
                    TextUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinestyle"
        aria-label="Links in this document to definition: UnderlineStyle">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinestyle"
                aria-label="Permalink for definition: UnderlineStyle. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-underlinestyle-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dom-underlinestyle-2" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext
                    events</a>
            </li>
            <li>
                <a href="#ref-for-dom-underlinestyle-3" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a> <a href="#ref-for-dom-underlinestyle-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-underlinestyle-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-underlinestyle-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-underlinestyle-7" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinestyle-none"
        aria-label="Links in this document to definition: none">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinestyle-none"
                aria-label="Permalink for definition: none. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinestyle-solid"
        aria-label="Links in this document to definition: solid">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinestyle-solid"
                aria-label="Permalink for definition: solid. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinestyle-dotted"
        aria-label="Links in this document to definition: dotted">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinestyle-dotted"
                aria-label="Permalink for definition: dotted. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinestyle-dashed"
        aria-label="Links in this document to definition: dashed">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinestyle-dashed"
                aria-label="Permalink for definition: dashed. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinestyle-wavy"
        aria-label="Links in this document to definition: wavy">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinestyle-wavy"
                aria-label="Permalink for definition: wavy. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinethickness"
        aria-label="Links in this document to definition: UnderlineThickness">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinethickness"
                aria-label="Permalink for definition: UnderlineThickness. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-underlinethickness-1" title="§ 1.2.1 EditContext state">§ 1.2.1 EditContext
                    state</a>
            </li>
            <li>
                <a href="#ref-for-dom-underlinethickness-2" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext
                    events</a>
            </li>
            <li>
                <a href="#ref-for-dom-underlinethickness-3" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a> <a href="#ref-for-dom-underlinethickness-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-underlinethickness-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-underlinethickness-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-underlinethickness-7" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinethickness-none"
        aria-label="Links in this document to definition: none">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinethickness-none"
                aria-label="Permalink for definition: none. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinethickness-thin"
        aria-label="Links in this document to definition: thin">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinethickness-thin"
                aria-label="Permalink for definition: thin. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-underlinethickness-thick"
        aria-label="Links in this document to definition: thick">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-underlinethickness-thick"
                aria-label="Permalink for definition: thick. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformatinit"
        aria-label="Links in this document to definition: TextFormatInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatinit"
                aria-label="Permalink for definition: TextFormatInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformatinit-1" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformatinit-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformatinit-rangestart"
        aria-label="Links in this document to definition: rangeStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatinit-rangestart"
                aria-label="Permalink for definition: rangeStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformatinit-rangeend"
        aria-label="Links in this document to definition: rangeEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatinit-rangeend"
                aria-label="Permalink for definition: rangeEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textformatinit-underlinestyle"
        aria-label="Links in this document to definition: underlineStyle">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatinit-underlinestyle"
                aria-label="Permalink for definition: underlineStyle. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textformatinit-underlinethickness"
        aria-label="Links in this document to definition: underlineThickness">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatinit-underlinethickness"
                aria-label="Permalink for definition: underlineThickness. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformat"
        aria-label="Links in this document to definition: TextFormat">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformat"
                aria-label="Permalink for definition: TextFormat. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformat-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6 Dispatch
                    text format update event</a> <a href="#ref-for-dom-textformat-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformat-3" title="§ 4.2 TextFormatUpdateEvent">§ 4.2 TextFormatUpdateEvent</a>
                <a href="#ref-for-dom-textformat-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformat-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-textformat-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformat-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformat-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformat-rangestart"
        aria-label="Links in this document to definition: rangeStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformat-rangestart"
                aria-label="Permalink for definition: rangeStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformat-rangestart-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6
                    Dispatch text format update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformat-rangestart-2" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformat-rangeend"
        aria-label="Links in this document to definition: rangeEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformat-rangeend"
                aria-label="Permalink for definition: rangeEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformat-rangeend-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6
                    Dispatch text format update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformat-rangeend-2" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformat-underlinestyle"
        aria-label="Links in this document to definition: underlineStyle">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformat-underlinestyle"
                aria-label="Permalink for definition: underlineStyle. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformat-underlinestyle-1" title="§ 3.1.6 Dispatch text format update event">§
                    3.1.6 Dispatch text format update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformat-underlinestyle-2" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textformat-underlinethickness"
        aria-label="Links in this document to definition: underlineThickness">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformat-underlinethickness"
                aria-label="Permalink for definition: underlineThickness. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformat-underlinethickness-1"
                    title="§ 3.1.6 Dispatch text format update event">§ 3.1.6 Dispatch text format update event</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformat-underlinethickness-2" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformatupdateeventinit"
        aria-label="Links in this document to definition: TextFormatUpdateEventInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatupdateeventinit"
                aria-label="Permalink for definition: TextFormatUpdateEventInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformatupdateeventinit-1" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformatupdateeventinit-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textformatupdateeventinit-textformats"
        aria-label="Links in this document to definition: textFormats">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatupdateeventinit-textformats"
                aria-label="Permalink for definition: textFormats. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-textformatupdateevent"
        aria-label="Links in this document to definition: TextFormatUpdateEvent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatupdateevent"
                aria-label="Permalink for definition: TextFormatUpdateEvent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformatupdateevent-1" title="§ 1.2.4 EditContext events">§ 1.2.4 EditContext
                    events</a> <a href="#ref-for-dom-textformatupdateevent-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformatupdateevent-3" title="§ 1.2.6 Examples">§ 1.2.6 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformatupdateevent-4" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6
                    Dispatch text format update event</a> <a href="#ref-for-dom-textformatupdateevent-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformatupdateevent-6" title="§ 3.2 EditContext Interface">§ 3.2 EditContext
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-textformatupdateevent-7" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textformatupdateevent-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatupdateevent-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-textformatupdateevent-gettextformats"
        aria-label="Links in this document to definition: getTextFormats">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-textformatupdateevent-gettextformats"
                aria-label="Permalink for definition: getTextFormats. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-textformatupdateevent-gettextformats-1" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-format-list"
        aria-label="Links in this document to definition: text format list">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-format-list"
                aria-label="Permalink for definition: text format list. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-format-list-1" title="§ 3.1.6 Dispatch text format update event">§ 3.1.6
                    Dispatch text format update event</a>
            </li>
            <li>
                <a href="#ref-for-dfn-text-format-list-2" title="§ 4.2 TextFormatUpdateEvent">§ 4.2
                    TextFormatUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-characterboundsupdateeventinit"
        aria-label="Links in this document to definition: CharacterBoundsUpdateEventInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-characterboundsupdateeventinit"
                aria-label="Permalink for definition: CharacterBoundsUpdateEventInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-characterboundsupdateeventinit-1" title="§ 4.3 CharacterBoundsUpdateEvent">§ 4.3
                    CharacterBoundsUpdateEvent</a>
            </li>
            <li>
                <a href="#ref-for-dom-characterboundsupdateeventinit-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-characterboundsupdateeventinit-rangestart"
        aria-label="Links in this document to definition: rangeStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-characterboundsupdateeventinit-rangestart"
                aria-label="Permalink for definition: rangeStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-characterboundsupdateeventinit-rangeend"
        aria-label="Links in this document to definition: rangeEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-characterboundsupdateeventinit-rangeend"
                aria-label="Permalink for definition: rangeEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-characterboundsupdateevent"
        aria-label="Links in this document to definition: CharacterBoundsUpdateEvent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-characterboundsupdateevent"
                aria-label="Permalink for definition: CharacterBoundsUpdateEvent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-1" title="§ 1.2.1 EditContext state">§ 1.2.1
                    EditContext state</a>
            </li>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-2" title="§ 1.2.4 EditContext events">§ 1.2.4
                    EditContext events</a> <a href="#ref-for-dom-characterboundsupdateevent-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-characterboundsupdateevent-4"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-5" title="§ 1.2.6 Examples">§ 1.2.6 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-6"
                    title="§ 3.1.7 Dispatch character bounds update event">§ 3.1.7 Dispatch character bounds update
                    event</a>
            </li>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-7" title="§ 3.2 EditContext Interface">§ 3.2
                    EditContext Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-characterboundsupdateevent-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-characterboundsupdateevent-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-characterboundsupdateevent-rangestart"
        aria-label="Links in this document to definition: rangeStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-characterboundsupdateevent-rangestart"
                aria-label="Permalink for definition: rangeStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-rangestart-1"
                    title="§ 3.1.7 Dispatch character bounds update event">§ 3.1.7 Dispatch character bounds update
                    event</a>
            </li>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-rangestart-2"
                    title="§ 4.3 CharacterBoundsUpdateEvent">§ 4.3 CharacterBoundsUpdateEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-characterboundsupdateevent-rangeend"
        aria-label="Links in this document to definition: rangeEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-characterboundsupdateevent-rangeend"
                aria-label="Permalink for definition: rangeEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-rangeend-1"
                    title="§ 3.1.7 Dispatch character bounds update event">§ 3.1.7 Dispatch character bounds update
                    event</a>
            </li>
            <li>
                <a href="#ref-for-dom-characterboundsupdateevent-rangeend-2" title="§ 4.3 CharacterBoundsUpdateEvent">§
                    4.3 CharacterBoundsUpdateEvent</a>
            </li>
        </ul>
    </div>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>