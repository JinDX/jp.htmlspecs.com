<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>セレクター レベル 4</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version fb1e763a4, updated Tue Mar 1 13:13:50 2022 -0800" name="generator">
    <link href="https://www.w3.org/TR/selectors-4/" rel="canonical">
    <meta content="7dc6e0d37033686d495ef113cc4141dae13cffd5" name="document-revision">
    <script defer src="https://test.csswg.org/harness/annotate.js#!selectors-4_dev/selectors-4"></script>
    <style>
        #selector-examples td:first-child {
            white-space: nowrap;
        }
    </style>
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-issues */

        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */

        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">セレクター レベル 4</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C ワーキングドラフト</a>, <time class="dt-updated"
                datetime="2022-11-11">2022年11月11日</time></p>
        <details open>
            <summary>この文書の詳細</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>このバージョン:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2022/WD-selectors-4-20221111/">https://www.w3.org/TR/2022/WD-selectors-4-20221111/</a>
                    <dt>最新の公開バージョン:
                    <dd><a href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
                    <dt>編集者ドラフト:
                    <dd><a href="https://drafts.csswg.org/selectors/">https://drafts.csswg.org/selectors/</a>
                    <dt>以前のバージョン:
                    <dd><a href="https://www.w3.org/TR/2022/WD-selectors-4-20220507/"
                            rel="prev">https://www.w3.org/TR/2022/WD-selectors-4-20220507/</a>
                    <dd><a href="https://www.w3.org/TR/2018/WD-selectors-4-20181121/"
                            rel="prev">https://www.w3.org/TR/2018/WD-selectors-4-20181121/</a>
                    <dd><a href="https://www.w3.org/TR/2018/WD-selectors-4-20180202/"
                            rel="prev">https://www.w3.org/TR/2018/WD-selectors-4-20180202/</a>
                    <dd><a href="https://www.w3.org/TR/2018/WD-selectors-4-20180201/"
                            rel="prev">https://www.w3.org/TR/2018/WD-selectors-4-20180201/</a>
                    <dd><a href="https://www.w3.org/TR/2013/WD-selectors4-20130502/"
                            rel="prev">https://www.w3.org/TR/2013/WD-selectors4-20130502/</a>
                    <dd><a href="https://www.w3.org/TR/2012/WD-selectors4-20120823/"
                            rel="prev">https://www.w3.org/TR/2012/WD-selectors4-20120823/</a>
                    <dd><a href="https://www.w3.org/TR/2011/WD-selectors4-20110929/"
                            rel="prev">https://www.w3.org/TR/2011/WD-selectors4-20110929/</a>
                    <dt>履歴:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/selectors-4">https://www.w3.org/standards/history/selectors-4</a>
                    <dt>テストスイート:
                    <dd><a
                            href="http://test.csswg.org/suites/selectors-4_dev/nightly-unstable/">http://test.csswg.org/suites/selectors-4_dev/nightly-unstable/</a>
                    <dt>フィードバック:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/selectors-4">CSSWG イシューレポジトリ</a>
                    <dd><a href="#issues-index">仕様内インライン</a>
                    <dt class="editor">編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url"
                            href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span
                            class="p-org org">招待専門家</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url"
                            href="http://xanthir.com/contact/">Tab Atkins Jr.</a> (<span
                            class="p-org org">Google</span>)
                    <dt class="editor">以前の編集者:
                    <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url"
                            href="http://www.tantek.com">Tantek Çelik</a>
                    <dd class="editor p-author h-card vcard"><span class="p-name fn">Daniel Glazman</span>
                    <dd class="editor p-author h-card vcard"><span class="p-name fn">Ian Hickson</span>
                    <dd class="editor p-author h-card vcard"><span class="p-name fn">Peter Linss</span>
                    <dd class="editor p-author h-card vcard"><span class="p-name fn">John Williams</span>
                    <dt>この仕様の編集提案:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/selectors-4/Overview.bs">GitHub
                            エディター</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2022 <a
                href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
                href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
                href="https://www.ercim.eu/"><abbr
                    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a
                href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive
                document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p><a data-link-type="dfn" href="#selector"
                id="ref-for-selector">セレクター</a>はツリー内の要素に一致するパターンであり、ドキュメント内のノードを選択するために使用できるいくつかの技術のひとつです。セレクターはHTMLやXMLでの利用向けに最適化されており、パフォーマンスが重要なコードでも使用できるよう設計されています。セレクターは<abbr
                title="Cascading Style Sheets">CSS</abbr>（カスケーディングスタイルシート）の中核的なコンポーネントであり、CSSはセレクターを使ってドキュメント内の要素にスタイルプロパティを適用します。

            セレクター レベル 4 では、既存の<a data-link-type="biblio"
                href="#biblio-select">[SELECT]</a>にあるセレクターを記述し、さらにCSSやその他の言語で必要とされる新しいセレクターも導入しています。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a>は構造化された文書（HTMLやXMLなど）の表示方法を画面や紙などに記述する言語です。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">この文書のステータス</span></h2>
    <div data-fill-with="status">
        <p><em>このセクションは公開時点の文書のステータスを説明します。
                現在のW3C出版物一覧およびこの技術レポートの最新版は
                <a href="https://www.w3.org/TR/">W3C技術レポートインデックス https://www.w3.org/TR/</a> で確認できます。</em> </p>
        <p> この文書は<a href="https://www.w3.org/groups/wg/css">CSSワーキンググループ</a>により
            <strong>ワーキングドラフト</strong>として<a
                href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">勧告トラック</a>を用いて公開されました。
            ワーキングドラフトとして公開されたことは
            <abbr title="World Wide Web Consortium">W3C</abbr>およびそのメンバーによる承認を意味しません。
        </p>
        <p> この文書はドラフトであり、今後更新・置換・廃止される可能性があります。
            本文書を進行中の作業以外の目的で引用することは不適切です。 </p>
        <p>フィードバックは<a href="https://github.com/w3c/csswg-drafts/issues">GitHubでissueを提出</a>（推奨）、タイトルにスペックコード "selectors"
            を含めて、次のように記載してください:
            “[selectors] <i>…コメントの要約…</i>”。
            すべてのissueやコメントは<a href="https://lists.w3.org/Archives/Public/public-css-archive/">アーカイブ</a>されます。
            または、(<a href="https://lists.w3.org/Archives/Public/www-style/">アーカイブ</a>あり) 公開メーリングリスト <a
                href="mailto:www-style@w3.org?Subject=%5Bselectors%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>
            に送信することもできます。 </p>
        <p>この文書は<a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2021年11月2日
                W3Cプロセス文書</a>に準拠します。</p>
        <p>この文書は<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C特許ポリシー</a>のもとで活動するグループによって作成されました。
            W3Cはグループの成果物に関連して提出された特許開示の<a href="https://www.w3.org/groups/wg/css/ipr"
                rel="disclosure">公開リスト</a>を維持しています。
            そのページには特許開示方法についての案内も記載されています。
            特許に関する実際の知識を持つ個人は、
            その情報が<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必須クレーム</a>を含むと考える場合、
            <a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C特許ポリシー第6節</a>に従い情報を開示する必要があります。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk">
        <p>以下の機能は「リスクあり」とされており、CR期間中に削除される可能性があります：</p>
        <ul>
            <li>column結合子
            <li><a class="css" data-link-type="maybe" href="#read-write-pseudo"
                    id="ref-for-read-write-pseudo">:read-write</a> 疑似クラス
            <li><a class="css" data-link-type="maybe" href="#has-pseudo" id="ref-for-has-pseudo">:has()</a> 疑似クラス
        </ul>
        <p>「リスクあり」はW3Cプロセスにおける専門用語であり、必ずしも機能が削除や遅延される危険性を示すものではありません。WG（ワーキンググループ）がその機能の相互運用実装に困難がある可能性があると考えていることを意味し、こうしたマークを付けることで、提案勧告段階への移行時に新たな候補勧告を発行せずとも機能を削除できるようになります。
        </p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#context"><span class="secno">1</span> <span class="content"> はじめに</span></a>
                <ol class="toc">
                    <li><a href="#placement"><span class="secno">1.1</span> <span class="content">モジュール間の関係</span></a>
                </ol>
            <li><a href="#overview"><span class="secno">2</span> <span class="content"> セレクター概要</span></a>
            <li>
                <a href="#syntax"><span class="secno">3</span> <span class="content"> セレクターの構文と構造</span></a>
                <ol class="toc">
                    <li><a href="#structure"><span class="secno">3.1</span> <span class="content"> 構造と用語</span></a>
                    <li><a href="#data-model"><span class="secno">3.2</span> <span class="content">データモデル</span></a>
                    <li><a href="#scoping"><span class="secno">3.3</span> <span class="content"> スコープ付きセレクター</span></a>
                    <li><a href="#relative"><span class="secno">3.4</span> <span class="content"> 相対セレクター</span></a>
                    <li><a href="#pseudo-classes"><span class="secno">3.5</span> <span class="content"> 疑似クラス</span></a>
                    <li>
                        <a href="#pseudo-elements"><span class="secno">3.6</span> <span class="content">疑似要素</span></a>
                        <ol class="toc">
                            <li><a href="#pseudo-element-syntax"><span class="secno">3.6.1</span> <span class="content">
                                        構文</span></a>
                            <li><a href="#pseudo-element-attachment"><span class="secno">3.6.2</span> <span
                                        class="content">文書ツリーへの紐付け</span></a>
                            <li><a href="#pseudo-element-states"><span class="secno">3.6.3</span> <span class="content">
                                        疑似要素の疑似クラス化</span></a>
                            <li><a href="#sub-pseudo-elements"><span class="secno">3.6.4</span> <span
                                        class="content">サブ疑似要素</span></a>
                            <li><a href="#pseudo-element-structure"><span class="secno">3.6.5</span> <span
                                        class="content">内部構造</span></a>
                        </ol>
                    <li><a href="#case-sensitive"><span class="secno">3.7</span> <span class="content">
                                文字と大文字・小文字の区別</span></a>
                    <li><a href="#namespaces"><span class="secno">3.8</span> <span class="content">
                                名前空間プレフィックスの宣言</span></a>
                    <li><a href="#invalid"><span class="secno">3.9</span> <span class="content">
                                無効なセレクターとエラー処理</span></a>
                    <li><a href="#legacy-aliasing"><span class="secno">3.10</span> <span class="content">
                                レガシーエイリアス</span></a>
                </ol>
            <li>
                <a href="#logical-combination"><span class="secno">4</span> <span class="content"> 論理結合</span></a>
                <ol class="toc">
                    <li><a href="#grouping"><span class="secno">4.1</span> <span class="content"> セレクターリスト</span></a>
                    <li><a href="#matches"><span class="secno">4.2</span> <span class="content"> 任意一致疑似クラス: <span
                                    class="css">:is()</span></span></a>
                    <li><a href="#negation"><span class="secno">4.3</span> <span class="content"> 否定（非一致）疑似クラス: <span
                                    class="css">:not()</span></span></a>
                    <li><a href="#zero-matches"><span class="secno">4.4</span> <span class="content"> 特異性調整疑似クラス: <span
                                    class="css">:where()</span></span></a>
                    <li><a href="#relational"><span class="secno">4.5</span> <span class="content"> 関係疑似クラス: <span
                                    class="css">:has()</span></span></a>
                </ol>
            <li>
                <a href="#elemental-selectors"><span class="secno">5</span> <span class="content"> 要素セレクター</span></a>
                <ol class="toc">
                    <li><a href="#type-selectors"><span class="secno">5.1</span> <span class="content">
                                型（タグ名）セレクター</span></a>
                    <li><a href="#the-universal-selector"><span class="secno">5.2</span> <span class="content"> 全称セレクター
                            </span></a>
                    <li><a href="#type-nmsp"><span class="secno">5.3</span> <span class="content">
                                要素セレクターの名前空間</span></a>
                    <li><a href="#the-defined-pseudo"><span class="secno">5.4</span> <span class="content"> 定義済み疑似クラス:
                                <span class="css">:defined</span></span></a>
                </ol>
            <li>
                <a href="#attribute-selectors"><span class="secno">6</span> <span class="content"> 属性セレクター</span></a>
                <ol class="toc">
                    <li><a href="#attribute-representation"><span class="secno">6.1</span> <span class="content">
                                属性の存在・値セレクター</span></a>
                    <li><a href="#attribute-substrings"><span class="secno">6.2</span> <span class="content">
                                部分一致属性セレクター</span></a>
                    <li><a href="#attribute-case"><span class="secno">6.3</span> <span class="content">
                                大文字・小文字の区別</span></a>
                    <li><a href="#attrnmsp"><span class="secno">6.4</span> <span class="content">
                                属性セレクターと名前空間</span></a>
                    <li><a href="#def-values"><span class="secno">6.5</span> <span class="content">
                                DTD内のデフォルト属性値</span></a>
                    <li><a href="#class-html"><span class="secno">6.6</span> <span class="content"> クラスセレクター</span></a>
                    <li><a href="#id-selectors"><span class="secno">6.7</span> <span class="content"> IDセレクター</span></a>
                </ol>
            <li>
                <a href="#linguistic-pseudos"><span class="secno">7</span> <span class="content"> 言語疑似クラス</span></a>
                <ol class="toc">
                    <li><a href="#the-dir-pseudo"><span class="secno">7.1</span> <span class="content"> 方向性疑似クラス: <span
                                    class="css">:dir()</span></span></a>
                    <li><a href="#the-lang-pseudo"><span class="secno">7.2</span> <span class="content"> 言語疑似クラス: <span
                                    class="css">:lang()</span></span></a>
                </ol>
            <li>
                <a href="#location"><span class="secno">8</span> <span class="content"> ロケーション疑似クラス</span></a>
                <ol class="toc">
                    <li><a href="#the-any-link-pseudo"><span class="secno">8.1</span> <span class="content">
                                ハイパーリンク疑似クラス: <span class="css">:any-link</span></span></a>
                    <li><a href="#link"><span class="secno">8.2</span> <span class="content"> リンク履歴疑似クラス: <span
                                    class="css">:link</span> および <span class="css">:visited</span></span></a>
                    <li><a href="#the-local-link-pseudo"><span class="secno">8.3</span> <span class="content">
                                ローカルリンク疑似クラス: <span class="css">:local-link</span></span></a>
                    <li><a href="#the-target-pseudo"><span class="secno">8.4</span> <span class="content"> ターゲット疑似クラス:
                                <span class="css">:target</span></span></a>
                    <li><a href="#the-target-within-pseudo"><span class="secno">8.5</span> <span class="content">
                                ターゲットコンテナ疑似クラス: <span class="css">:target-within</span></span></a>
                    <li><a href="#the-scope-pseudo"><span class="secno">8.6</span> <span class="content"> 参照要素疑似クラス:
                                <span class="css">:scope</span></span></a>
                </ol>
            <li>
                <a href="#useraction-pseudos"><span class="secno">9</span> <span class="content">
                        ユーザー操作疑似クラス</span></a>
                <ol class="toc">
                    <li><a href="#the-hover-pseudo"><span class="secno">9.1</span> <span class="content"> ポインターホバー疑似クラス:
                                <span class="css">:hover</span></span></a>
                    <li><a href="#the-active-pseudo"><span class="secno">9.2</span> <span class="content">
                                アクティベーション疑似クラス: <span class="css">:active</span></span></a>
                    <li><a href="#the-focus-pseudo"><span class="secno">9.3</span> <span class="content"> 入力フォーカス疑似クラス:
                                <span class="css">:focus</span></span></a>
                    <li><a href="#the-focus-visible-pseudo"><span class="secno">9.4</span> <span class="content">
                                フォーカス表示疑似クラス: <span class="css">:focus-visible</span></span></a>
                    <li><a href="#the-focus-within-pseudo"><span class="secno">9.5</span> <span class="content">
                                フォーカスコンテナ疑似クラス: <span class="css">:focus-within</span></span></a>
                </ol>
            <li>
                <a href="#time-pseudos"><span class="secno">10</span> <span class="content"> 時間次元疑似クラス</span></a>
                <ol class="toc">
                    <li><a href="#the-current-pseudo"><span class="secno">10.1</span> <span class="content"> 現在要素疑似クラス:
                                <span class="css">:current</span></span></a>
                    <li><a href="#the-past-pseudo"><span class="secno">10.2</span> <span class="content"> 過去要素疑似クラス:
                                <span class="css">:past</span></span></a>
                    <li><a href="#the-future-pseudo"><span class="secno">10.3</span> <span class="content"> 未来要素疑似クラス:
                                <span class="css">:future</span></span></a>
                </ol>
            <li>
                <a href="#resource-pseudos"><span class="secno">11</span> <span class="content"> リソース状態疑似クラス</span></a>
                <ol class="toc">
                    <li><a href="#video-state"><span class="secno">11.1</span> <span class="content"> メディア再生状態: <span
                                    class="css">:playing</span>、<span class="css">:paused</span>、<span
                                    class="css">:seeking</span> 疑似クラス</span></a>
                    <li><a href="#media-loading-state"><span class="secno">11.2</span> <span class="content">
                                メディア読み込み状態: <span class="css">:buffering</span>、<span class="css">:stalled</span>
                                疑似クラス</span></a>
                    <li><a href="#sound-state"><span class="secno">11.3</span> <span class="content"> サウンド状態: <span
                                    class="css">:muted</span>、<span class="css">:volume-locked</span> 疑似クラス</span></a>
                </ol>
            <li>
                <a href="#display-state-pseudos"><span class="secno">12</span> <span class="content">
                        要素表示状態疑似クラス</span></a>
                <ol class="toc">
                    <li><a href="#open-state"><span class="secno">12.1</span> <span class="content"> 折りたたみ状態: <span
                                    class="css">:open</span>、<span class="css">:closed</span> 疑似クラス</span></a>
                    <li><a href="#modal-state"><span class="secno">12.2</span> <span class="content"> モーダル（排他的操作）状態:
                                <span class="css">:modal</span> 疑似クラス</span></a>
                    <li><a href="#fullscreen-state"><span class="secno">12.3</span> <span class="content"> フルスクリーン表示状態:
                                <span class="css">:fullscreen</span> 疑似クラス</span></a>
                    <li><a href="#pip-state"><span class="secno">12.4</span> <span class="content"> ピクチャーインピクチャー表示状態:
                                <span class="css">:picture-in-picture</span> 疑似クラス</span></a>
                </ol>
            <li>
                <a href="#input-pseudos"><span class="secno">13</span> <span class="content"> 入力疑似クラス</span></a>
                <ol class="toc">
                    <li>
                        <a href="#input-states"><span class="secno">13.1</span> <span class="content">
                                入力コントロールの状態</span></a>
                        <ol class="toc">
                            <li><a href="#enableddisabled"><span class="secno">13.1.1</span> <span class="content">
                                        <span class="css">:enabled</span> および <span class="css">:disabled</span>
                                        疑似クラス</span></a>
                            <li><a href="#rw-pseudos"><span class="secno">13.1.2</span> <span class="content">
                                        可変性疑似クラス: <span class="css">:read-only</span> および <span
                                            class="css">:read-write</span></span></a>
                            <li><a href="#placeholder"><span class="secno">13.1.3</span> <span class="content">
                                        プレースホルダー表示疑似クラス: <span class="css">:placeholder-shown</span></span></a>
                            <li><a href="#autofill"><span class="secno">13.1.4</span> <span class="content"> 自動入力疑似クラス:
                                        <span class="css">:autofill</span></span></a>
                            <li><a href="#the-default-pseudo"><span class="secno">13.1.5</span> <span class="content">
                                        デフォルト選択疑似クラス: <span class="css">:default</span></span></a>
                        </ol>
                    <li>
                        <a href="#input-value-states"><span class="secno">13.2</span> <span class="content">
                                入力値の状態</span></a>
                        <ol class="toc">
                            <li><a href="#checked"><span class="secno">13.2.1</span> <span class="content">
                                        選択オプション疑似クラス: <span class="css">:checked</span></span></a>
                            <li><a href="#indeterminate"><span class="secno">13.2.2</span> <span class="content">
                                        不定値疑似クラス: <span class="css">:indeterminate</span></span></a>
                        </ol>
                    <li>
                        <a href="#ui-validity"><span class="secno">13.3</span> <span class="content"> 入力値の検証</span></a>
                        <ol class="toc">
                            <li><a href="#blank"><span class="secno">13.3.1</span> <span class="content"> 空値疑似クラス: <span
                                            class="css">:blank</span></span></a>
                            <li><a href="#validity-pseudos"><span class="secno">13.3.2</span> <span class="content">
                                        妥当性疑似クラス: <span class="css">:valid</span> および <span
                                            class="css">:invalid</span></span></a>
                            <li><a href="#range-pseudos"><span class="secno">13.3.3</span> <span class="content">
                                        範囲疑似クラス: <span class="css">:in-range</span> および <span
                                            class="css">:out-of-range</span></span></a>
                            <li><a href="#opt-pseudos"><span class="secno">13.3.4</span> <span class="content">
                                        任意性疑似クラス: <span class="css">:required</span> および <span
                                            class="css">:optional</span></span></a>
                            <li><a href="#user-pseudos"><span class="secno">13.3.5</span> <span class="content">
                                        ユーザー操作疑似クラス: <span class="css">:user-valid</span> および <span
                                            class="css">:user-invalid</span></span></a>
                        </ol>
                </ol>
            <li>
                <a href="#structural-pseudos"><span class="secno">14</span> <span class="content"> ツリー構造疑似クラス</span></a>
                <ol class="toc">
                    <li><a href="#the-root-pseudo"><span class="secno">14.1</span> <span class="content"> <span
                                    class="css">:root</span> 疑似クラス</span></a>
                    <li><a href="#the-empty-pseudo"><span class="secno">14.2</span> <span class="content"> <span
                                    class="css">:empty</span> 疑似クラス</span></a>
                    <li>
                        <a href="#child-index"><span class="secno">14.3</span> <span class="content">
                                子インデックス疑似クラス</span></a>
                        <ol class="toc">
                            <li><a href="#the-nth-child-pseudo"><span class="secno">14.3.1</span> <span class="content">
                                        <span class="css">:nth-child()</span> 疑似クラス</span></a>
                            <li><a href="#the-nth-last-child-pseudo"><span class="secno">14.3.2</span> <span
                                        class="content"> <span class="css">:nth-last-child()</span> 疑似クラス</span></a>
                            <li><a href="#the-first-child-pseudo"><span class="secno">14.3.3</span> <span
                                        class="content"> <span class="css">:first-child</span> 疑似クラス</span></a>
                            <li><a href="#the-last-child-pseudo"><span class="secno">14.3.4</span> <span
                                        class="content"> <span class="css">:last-child</span> 疑似クラス</span></a>
                            <li><a href="#the-only-child-pseudo"><span class="secno">14.3.5</span> <span
                                        class="content"> <span class="css">:only-child</span> 疑似クラス</span></a>
                        </ol>
                    <li>
                        <a href="#typed-child-index"><span class="secno">14.4</span> <span class="content">
                                型付き子インデックス疑似クラス</span></a>
                        <ol class="toc">
                            <li><a href="#the-nth-of-type-pseudo"><span class="secno">14.4.1</span> <span
                                        class="content"> <span class="css">:nth-of-type()</span> 疑似クラス</span></a>
                            <li><a href="#the-nth-last-of-type-pseudo"><span class="secno">14.4.2</span> <span
                                        class="content"> <span class="css">:nth-last-of-type()</span> 疑似クラス</span></a>
                            <li><a href="#the-first-of-type-pseudo"><span class="secno">14.4.3</span> <span
                                        class="content"> <span class="css">:first-of-type</span> 疑似クラス</span></a>
                            <li><a href="#the-last-of-type-pseudo"><span class="secno">14.4.4</span> <span
                                        class="content"> <span class="css">:last-of-type</span> 疑似クラス</span></a>
                            <li><a href="#the-only-of-type-pseudo"><span class="secno">14.4.5</span> <span
                                        class="content"> <span class="css">:only-of-type</span> 疑似クラス</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#combinators"><span class="secno">15</span> <span class="content"> コンビネータ</span></a>
                <ol class="toc">
                    <li><a href="#descendant-combinators"><span class="secno">15.1</span> <span class="content">
                                子孫コンビネータ
                                (<code> </code>)</span></a>
                    <li><a href="#child-combinators"><span class="secno">15.2</span> <span class="content"> 子コンビネータ
                                (<code>></code>)</span></a>
                    <li><a href="#adjacent-sibling-combinators"><span class="secno">15.3</span> <span class="content">
                                隣接兄弟コンビネータ (<code>+</code>)</span></a>
                    <li><a href="#general-sibling-combinators"><span class="secno">15.4</span> <span class="content">
                                一般兄弟コンビネータ (<code>~</code>)</span></a>
                </ol>
            <li>
                <a href="#table-pseudos"><span class="secno">16</span> <span class="content"> グリッド構造セレクター</span></a>
                <ol class="toc">
                    <li><a href="#the-column-combinator"><span class="secno">16.1</span> <span class="content"> 列コンビネータ
                                (<code>||</code>)</span></a>
                    <li><a href="#the-nth-col-pseudo"><span class="secno">16.2</span> <span class="content"> <span
                                    class="css">:nth-col()</span> 疑似クラス</span></a>
                    <li><a href="#the-nth-last-col-pseudo"><span class="secno">16.3</span> <span class="content"> <span
                                    class="css">:nth-last-col()</span> 疑似クラス</span></a>
                </ol>
            <li><a href="#specificity-rules"><span class="secno">17</span> <span class="content">
                        セレクターの詳細度の計算</span></a>
            <li>
                <a href="#grammar"><span class="secno">18</span> <span class="content"> 文法</span></a>
                <ol class="toc">
                    <li><a href="#forgiving-selector"><span class="secno">18.1</span> <span class="content"> <span
                                    class="production">&lt;forgiving-selector-list></span> および <span
                                    class="production">&lt;forgiving-relative-selector-list></span></span></a>
                </ol>
            <li>
                <a href="#api-hooks"><span class="secno">19</span> <span class="content"> APIフック</span></a>
                <ol class="toc">
                    <li><a href="#parse-selector"><span class="secno">19.1</span> <span class="content">
                                セレクターをパースする</span></a>
                    <li><a href="#parse-relative-selector"><span class="secno">19.2</span> <span class="content">
                                相対セレクターをパースする</span></a>
                    <li><a href="#match-against-element"><span class="secno">19.3</span> <span class="content">
                                セレクターを要素にマッチさせる</span></a>
                    <li><a href="#match-against-pseudo-element"><span class="secno">19.4</span> <span class="content">
                                セレクターを疑似要素にマッチさせる</span></a>
                    <li><a href="#match-against-tree"><span class="secno">19.5</span> <span class="content">
                                セレクターをツリーにマッチさせる</span></a>
                </ol>
            <li><a href="#dom-mapping"><span class="secno"></span> <span class="content"> 付録A:
                        ソース文書やデータを要素ツリーにマッピングする指針</span></a>
            <li><a href="#compat"><span class="secno"></span> <span class="content"> 付録B:
                        Web互換のために必要だが廃止された<code>-webkit-</code>パースのクセ</span></a>
            <li>
                <a href="#changes"><span class="secno">20</span> <span class="content"> 変更点</span></a>
                <ol class="toc">
                    <li><a href="#changes-2022-05"><span class="secno">20.1</span> <span class="content">
                                2022年5月7日作業草案以降の変更点</span></a>
                    <li><a href="#changes-2018-11"><span class="secno">20.2</span> <span class="content">
                                2018年11月21日作業草案以降の変更点</span></a>
                    <li><a href="#changes-2018-02"><span class="secno">20.3</span> <span class="content">
                                2018年2月2日作業草案以降の変更点</span></a>
                    <li><a href="#changes-2013"><span class="secno">20.4</span> <span class="content">
                                2013年5月2日作業草案以降の変更点</span></a>
                    <li><a href="#changes-2012"><span class="secno">20.5</span> <span class="content">
                                2012年8月23日作業草案以降の変更点</span></a>
                    <li><a href="#changes-2011"><span class="secno">20.6</span> <span class="content">
                                2011年9月29日作業草案以降の変更点</span></a>
                    <li><a href="#changes-level-3"><span class="secno">20.7</span> <span class="content">
                                Level 3以降の追加点</span></a>
                </ol>
            <li><a href="#acknowledgements"><span class="secno">21</span> <span class="content">謝辞</span></a>
            <li><a href="#priv-sec"><span class="secno">22</span> <span class="content">プライバシーとセキュリティの考慮事項</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">適合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文書の慣例</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span
                                class="content">適合性クラス</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content">部分実装</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content">不安定・独自機能の実装</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">実験的でない実装</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義されている用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照によって定義される用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範的参考文献</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考情報</span></a>
                </ol>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">課題一覧</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="context"><span class="secno">1. </span><span class="content">
                はじめに</span><a class="self-link" href="#context"></a></h2>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p><a data-link-type="dfn" href="#selector"
                id="ref-for-selector①">セレクター</a>は、ツリー構造内の要素を受け取り、その要素がセレクターに一致するかどうかを判定するブール述語です。</p>
        <p>これらの式は様々な用途で利用されます：</p>
        <ul>
            <li> 要素自身に対して、特定の条件に一致するかを判定する（例：<code>element.matches()</code>関数、<a data-link-type="biblio"
                    href="#biblio-dom">[DOM]</a>で定義）
            <li> 要素ツリー全体に適用し、条件に一致する要素の集合へとフィルタリングする（例：<code>document.querySelectorAll()</code>関数、<a
                    data-link-type="biblio" href="#biblio-dom">[DOM]</a>で定義、またはCSSスタイル規則のセレクター）
            <li> 「逆向き」に使い、指定したセレクターに一致するマークアップを生成する（例：<a href="http://haml.info/">HAML</a>や<a
                    href="https://en.wikipedia.org/wiki/Emmet_(software)">Emmet</a>など）
        </ul>
        <p>Selectors Level 1、2、3は、それぞれ<a href="https://www.w3.org/TR/REC-CSS1">CSS1</a>、<a
                href="https://www.w3.org/TR/CSS21/">CSS2.1</a>、<a href="https://www.w3.org/TR/css3-selectors/">Selectors
                Level 3</a>仕様で定義されたセレクター機能のサブセットとして定義されています。本モジュールはSelectors Level 4を定義します。</p>
        <h3 class="heading settled" data-level="1.1" id="placement"><span class="secno">1.1. </span><span
                class="content">モジュール間の関係</span><a class="self-link" href="#placement"></a></h3>
        <p>このモジュールは、<a data-link-type="biblio" href="#biblio-select">[SELECT]</a>および<a data-link-type="biblio"
                href="#biblio-css21">[CSS21]</a>でCSS用に定義されたセレクターの定義を置き換え、拡張します。</p>
        <p>抽象的な要素（レンダリングツリー上）を定義する疑似要素セレクターは本仕様の対象外です。
            それらの一般的な構文はここで説明しますが、レンダリングモデルとの密接な統合やDOMクエリなど他の用途との関連性のなさから、詳細は他のモジュールで定義されます。</p>
        <h2 class="heading settled" data-level="2" id="overview"><span class="secno">2. </span><span class="content">
                セレクター概要</span><a class="self-link" href="#overview"></a></h2>
        <p><em>このセクションは規範的ではなく、後続セクションの要約です。</em></p>
        <p>セレクターは構造を表現します。この構造は、（CSS規則などで）条件として利用され、ドキュメントツリー内でどの要素にセレクターが一致するかを決定したり、その構造に対応するHTMLやXMLの断片を平坦な記述として表したりできます。
        </p>
        <p>セレクターには、単純な要素名から、豊かな文脈表現まで幅広い種類があります。</p>
        <p>以下の表はセレクター構文の概要です：</p>
        <table class="data" id="selector-examples">
            <colgroup>
                <col class="pattern">
                <col class="meaning">
                <col class="section">
                <col class="level">
            <thead>
                <tr>
                    <th>パターン
                    <th>意味
                    <th>セクション
                    <th>レベル
            <tbody>
                <tr>
                    <td><code>*</code>
                    <td>任意の要素
                    <td><a href="#the-universal-selector">§ 5.2 全称セレクター</a>
                    <td>2
                <tr>
                    <td><code>E</code>
                    <td>E型の要素
                    <td><a href="#type-selectors">§ 5.1 型（タグ名）セレクター</a>
                    <td>1
            <tbody>
                <tr>
                    <td><code>E:not(<var>s1</var>, <var>s2</var>, …)</code>
                    <td>E要素のうち、<a data-link-type="dfn" href="#compound"
                            id="ref-for-compound">複合セレクター</a><var>s1</var>または<span
                            id="ref-for-compound①">複合セレクター</span><var>s2</var>のいずれにも一致しないもの
                    <td><a href="#negation">§ 4.3 否定（非一致）疑似クラス: :not()</a>
                    <td>3/4
                <tr>
                    <td><code>E:is(<var>s1</var>, <var>s2</var>, …)</code>
                    <td>E要素のうち、<a data-link-type="dfn" href="#compound"
                            id="ref-for-compound②">複合セレクター</a><var>s1</var>または<span
                            id="ref-for-compound③">複合セレクター</span><var>s2</var>のどちらかに一致するもの
                    <td><a href="#matches">§ 4.2 任意一致疑似クラス: :is()</a>
                    <td>4
                <tr>
                    <td><code>E:where(<var>s1</var>, <var>s2</var>, …)</code>
                    <td>E要素のうち、<a data-link-type="dfn" href="#compound"
                            id="ref-for-compound④">複合セレクター</a><var>s1</var>または<span
                            id="ref-for-compound⑤">複合セレクター</span><var>s2</var>のどちらかに一致するが特異性に寄与しないもの
                    <td><a href="#zero-matches">§ 4.4 特異性調整疑似クラス: :where()</a>
                    <td>4
                <tr>
                    <td><code>E:has(<var>rs1</var>, <var>rs2</var>, …)</code>
                    <td>E要素をアンカーとして、<a data-link-type="dfn" href="#relative-selector"
                            id="ref-for-relative-selector">相対セレクター</a><var>rs1</var>または<var>rs2</var>のいずれかに一致する要素が存在する場合
                    <td><a href="#relational">§ 4.5 関係疑似クラス: :has()</a>
                    <td>4
            <tbody>
                <tr>
                    <td><code>E.warning</code>
                    <td>クラス<code>warning</code>を持つE要素（クラスの決定方法は文書言語で定義）
                    <td><a href="#class-html">§ 6.6 クラスセレクター</a>
                    <td>1
                <tr>
                    <td><code>E#myid</code>
                    <td>IDが<code>myid</code>であるE要素
                    <td><a href="#id-selectors">§ 6.7 IDセレクター</a>
                    <td>1
                <tr>
                    <td><code>E[foo]</code>
                    <td><code>foo</code>属性を持つE要素
                    <td><a href="#attribute-representation">§ 6.1 属性存在・値セレクター</a>
                    <td>2
                <tr>
                    <td><code>E[foo="bar"]</code>
                    <td><code>foo</code>属性値が<code>bar</code>と完全一致するE要素
                    <td><a href="#attribute-representation">§ 6.1 属性存在・値セレクター</a>
                    <td>2
                <tr>
                    <td><code>E[foo="bar" i]</code>
                    <td><code>foo</code>属性値が<code>bar</code>のいずれかの（ASCII範囲）大文字小文字パターンに完全一致するE要素
                    <td><a href="#attribute-case">§ 6.3 大文字・小文字の区別</a>
                    <td>4
                <tr>
                    <td><code>E[foo="bar" s]</code>
                    <td><code>foo</code>属性値が<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is"
                            id="ref-for-string-is">同一</a>である<code>bar</code>と一致するE要素
                    <td><a href="#attribute-case">§ 6.3 大文字・小文字の区別</a>
                    <td>4
                <tr>
                    <td><code>E[foo~="bar"]</code>
                    <td><code>foo</code>属性値がスペース区切り値のリストで、その中に<code>bar</code>と完全一致する値が含まれるE要素
                    <td><a href="#attribute-representation">§ 6.1 属性存在・値セレクター</a>
                    <td>2
                <tr>
                    <td><code>E[foo^="bar"]</code>
                    <td><code>foo</code>属性値が文字列<code>bar</code>で始まるE要素
                    <td><a href="#attribute-substrings">§ 6.2 部分一致属性セレクター</a>
                    <td>3
                <tr>
                    <td><code>E[foo$="bar"]</code>
                    <td><code>foo</code>属性値が文字列<code>bar</code>で終わるE要素
                    <td><a href="#attribute-substrings">§ 6.2 部分一致属性セレクター</a>
                    <td>3
                <tr>
                    <td><code>E[foo*="bar"]</code>
                    <td><code>foo</code>属性値に部分文字列<code>bar</code>が含まれるE要素
                    <td><a href="#attribute-substrings">§ 6.2 部分一致属性セレクター</a>
                    <td>3
                <tr>
                    <td><code>E[foo|="en"]</code>
                    <td><code>foo</code>属性値がハイフン区切りの値リストで、最初に<code>en</code>を含むE要素
                    <td><a href="#attribute-representation">§ 6.1 属性存在・値セレクター</a>
                    <td>2
            <tbody>
                <tr>
                    <td><code>E:dir(ltr)</code>
                    <td>E型の要素で左から右への方向性を持つもの（方向性の決定方法は文書言語で定義）
                    <td><a href="#the-dir-pseudo">§ 7.1 方向性疑似クラス: :dir()</a>
                    <td>4
                <tr>
                    <td><code>E:lang(zh, "*-hant")</code>
                    <td>E型の要素で、中国語（いずれかの方言や書記体系）または伝統的な漢字で書かれているものとタグ付けされたもの
                    <td><a href="#the-lang-pseudo">§ 7.2 言語疑似クラス: :lang()</a>
                    <td>2/4
            <tbody>
                <tr>
                    <td><code>E:any-link</code>
                    <td>ハイパーリンクのソースアンカーとなるE要素
                    <td><a href="#the-any-link-pseudo">§ 8.1 ハイパーリンク疑似クラス: :any-link</a>
                    <td>4
                <tr>
                    <td><code>E:link</code>
                    <td>ハイパーリンクのソースアンカーとなり、ターゲットがまだ訪問されていないE要素
                    <td><a href="#link">§ 8.2 リンク履歴疑似クラス: :link と :visited</a>
                    <td>1
                <tr>
                    <td><code>E:visited</code>
                    <td>ハイパーリンクのソースアンカーとなり、ターゲットがすでに訪問済みのE要素
                    <td><a href="#link">§ 8.2 リンク履歴疑似クラス: :link と :visited</a>
                    <td>1
                <tr>
                    <td><code>E:local-link</code>
                    <td>ハイパーリンクのソースアンカーとなり、現在のURLをターゲットとするE要素
                    <td><a href="#the-local-link-pseudo">§ 8.3 ローカルリンク疑似クラス: :local-link</a>
                    <td>4
                <tr>
                    <td><code>E:target</code>
                    <td>現在のURLのターゲットとなるE要素
                    <td><a href="#the-target-pseudo">§ 8.4 ターゲット疑似クラス: :target</a>
                    <td>3
                <tr>
                    <td><code>E:target-within</code>
                    <td>現在のURLのターゲット、またはその要素を含むE要素
                    <td><a href="#the-target-within-pseudo">§ 8.5 ターゲットコンテナ疑似クラス: :target-within</a>
                    <td>4
                <tr>
                    <td><code>E:scope</code>
                    <td><a data-link-type="dfn" href="#scoping-root" id="ref-for-scoping-root">スコープルート</a>となるE要素
                    <td><a href="#the-scope-pseudo">§ 8.6 参照要素疑似クラス: :scope</a>
                    <td>4
            <tbody>
                <tr>
                    <td><code>E:current</code>
                    <td>時間次元キャンバス上で現在表示されているE要素
                    <td><a href="#the-current-pseudo">§ 10.1 現在要素疑似クラス: :current</a>
                    <td>4
                <tr>
                    <td><code>E:current(<var>s</var>)</code>
                    <td>セレクター<var>s</var>に一致する最も深い<a class="css" data-link-type="maybe" href="#current-pseudo"
                            id="ref-for-current-pseudo">:current</a>要素
                    <td><a href="#the-current-pseudo">§ 10.1 現在要素疑似クラス: :current</a>
                    <td>4
                <tr>
                    <td><code>E:past</code>
                    <td>時間次元キャンバス上で過去に属するE要素
                    <td><a href="#the-past-pseudo">§ 10.2 過去要素疑似クラス: :past</a>
                    <td>4
                <tr>
                    <td><code>E:future</code>
                    <td>時間次元キャンバス上で未来に属するE要素
                    <td><a href="#the-future-pseudo">§ 10.3 未来要素疑似クラス: :future</a>
                    <td>4
            <tbody>
                <tr>
                    <td><code>E:active</code>
                    <td>アクティブ状態のE要素
                    <td><a href="#the-active-pseudo">§ 9.2 アクティベーション疑似クラス: :active</a>
                    <td>1
                <tr>
                    <td><code>E:hover</code>
                    <td>カーソルが上にある、または子孫要素がカーソル上にあるE要素
                    <td><a href="#the-hover-pseudo">§ 9.1 ポインターホバー疑似クラス: :hover</a>
                    <td>2
                <tr>
                    <td><code>E:focus</code>
                    <td>ユーザー入力フォーカスを持つE要素
                    <td><a href="#the-focus-pseudo">§ 9.3 入力フォーカス疑似クラス: :focus</a>
                    <td>2
                <tr>
                    <td><code>E:focus-within</code>
                    <td>ユーザー入力フォーカスを持つか、入力フォーカスを持つ要素を含むE要素
                    <td><a href="#the-focus-within-pseudo">§ 9.5 フォーカスコンテナ疑似クラス: :focus-within</a>
                    <td>4
                <tr>
                    <td><code>E:focus-visible</code>
                    <td>ユーザー入力フォーカスを持ち、UAがフォーカスリングなどのインジケータを描画すべきと判断したE要素
                    <td><a href="#the-focus-visible-pseudo">§ 9.4 フォーカス表示疑似クラス: :focus-visible</a>
                    <td>4
            <tbody>
                <tr>
                    <td><code>E:enabled<br>E:disabled</code>
                    <td>有効または無効状態のUI要素E
                    <td><a href="#enableddisabled">§ 13.1.1 :enabled ・ :disabled 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:read-write</code><br><code>E:read-only</code>
                    <td>ユーザーが変更可能または変更不可なUI要素E
                    <td><a href="#rw-pseudos">§ 13.1.2 変更可能性疑似クラス: :read-only ・ :read-write</a>
                    <td>3-UI/4
                <tr>
                    <td><code>E:placeholder-shown</code>
                    <td>プレースホルダー文字列を表示している入力コントロール
                    <td><a href="#placeholder">§ 13.1.3 プレースホルダー表示疑似クラス: :placeholder-shown</a>
                    <td>3-UI/4
                <tr>
                    <td><code>E:default</code>
                    <td>関連選択肢グループ内でデフォルト項目となるUI要素E
                    <td><a href="#the-default-pseudo">§ 13.1.5 デフォルト選択疑似クラス: :default</a>
                    <td>3-UI/4
                <tr>
                    <td><code>E:checked</code>
                    <td>選択（チェック）済みのUI要素E（例：ラジオボタンやチェックボックス）
                    <td><a href="#checked">§ 13.2.1 選択オプション疑似クラス: :checked</a>
                    <td>3
                <tr>
                    <td><code>E:indeterminate</code>
                    <td>不定状態（チェック済みでも未チェックでもない）UI要素E
                    <td><a href="#indeterminate">§ 13.2.2 不定値疑似クラス: :indeterminate</a>
                    <td>4
                <tr>
                    <td><code>E:valid</code><br><code>E:invalid</code>
                    <td>データ妥当性条件を満たす・満たさないユーザー入力要素E
                    <td><a href="#validity-pseudos">§ 13.3.2 妥当性疑似クラス: :valid ・ :invalid</a>
                    <td>3-UI/4
                <tr>
                    <td><code>E:in-range</code><br><code>E:out-of-range</code>
                    <td>値が範囲内または範囲外のユーザー入力要素E
                    <td><a href="#range-pseudos">§ 13.3.3 範囲疑似クラス: :in-range ・ :out-of-range</a>
                    <td>3-UI/4
                <tr>
                    <td><code>E:required</code><br><code>E:optional</code>
                    <td>入力が必須・任意のユーザー入力要素E
                    <td><a href="#opt-pseudos">§ 13.3.4 任意性疑似クラス: :required ・ :optional</a>
                    <td>3-UI/4
                <tr>
                    <td><code>E:blank</code>
                    <td>値が空（未入力・未設定）のユーザー入力要素E
                    <td><a href="#blank">§ 13.3.1 空値疑似クラス: :blank</a>
                    <td>4
                <tr>
                    <td><code>E:user-invalid</code>
                    <td>ユーザーが変更し、入力が不正（無効・範囲外・必須なのに未入力）となっているユーザー入力要素E
                    <td><a href="#user-pseudos">§ 13.3.5 ユーザー操作疑似クラス: :user-valid ・ :user-invalid</a>
                    <td>4
            <tbody>
                <tr>
                    <td><code>E:root</code>
                    <td>ドキュメントのルートとなるE要素
                    <td><a href="#the-root-pseudo">§ 14.1 :root 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:empty</code>
                    <td>子要素（要素やテキスト）がなく、空白のみの可能性があるE要素
                    <td><a href="#the-empty-pseudo">§ 14.2 :empty 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:nth-child(<var>n</var> [of <var>S</var>]?)</code>
                    <td>親要素内で<var>S</var>に一致し、<var>n</var>番目のE要素
                    <td><a href="#the-nth-child-pseudo">§ 14.3.1 :nth-child() 疑似クラス</a>
                    <td>3/4
                <tr>
                    <td><code>E:nth-last-child(<var>n</var> [of <var>S</var>]?)</code>
                    <td>親要素内で<var>S</var>に一致し、最後から数えて<var>n</var>番目のE要素
                    <td><a href="#the-nth-last-child-pseudo">§ 14.3.2 :nth-last-child() 疑似クラス</a>
                    <td>3/4
                <tr>
                    <td><code>E:first-child</code>
                    <td>親要素内で最初のE要素
                    <td><a href="#the-first-child-pseudo">§ 14.3.3 :first-child 疑似クラス</a>
                    <td>2
                <tr>
                    <td><code>E:last-child</code>
                    <td>親要素内で最後のE要素
                    <td><a href="#the-last-child-pseudo">§ 14.3.4 :last-child 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:only-child</code>
                    <td>親要素内で唯一のE要素
                    <td><a href="#the-only-child-pseudo">§ 14.3.5 :only-child 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:nth-of-type(<var>n</var>)</code>
                    <td>同じ型の兄弟要素のうち<var>n</var>番目のE要素
                    <td><a href="#the-nth-of-type-pseudo">§ 14.4.1 :nth-of-type() 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:nth-last-of-type(<var>n</var>)</code>
                    <td>同じ型の兄弟要素のうち、最後から数えて<var>n</var>番目のE要素
                    <td><a href="#the-nth-last-of-type-pseudo">§ 14.4.2 :nth-last-of-type() 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:first-of-type</code>
                    <td>同じ型の兄弟要素のうち最初のE要素
                    <td><a href="#the-first-of-type-pseudo">§ 14.4.3 :first-of-type 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:last-of-type</code>
                    <td>同じ型の兄弟要素のうち最後のE要素
                    <td><a href="#the-last-of-type-pseudo">§ 14.4.4 :last-of-type 疑似クラス</a>
                    <td>3
                <tr>
                    <td><code>E:only-of-type</code>
                    <td>同じ型の兄弟要素のうち唯一のE要素
                    <td><a href="#the-only-of-type-pseudo">§ 14.4.5 :only-of-type 疑似クラス</a>
                    <td>3
            <tbody>
                <tr>
                    <td><code>E F</code>
                    <td>E要素の子孫であるF要素
                    <td><a href="#descendant-combinators">§ 15.1 子孫結合子（ ）</a>
                    <td>1
                <tr>
                    <td><code>E > F</code>
                    <td>E要素の子であるF要素
                    <td><a href="#child-combinators">§ 15.2 子結合子（>）</a>
                    <td>2
                <tr>
                    <td><code>E + F</code>
                    <td>E要素の直後に続くF要素
                    <td><a href="#adjacent-sibling-combinators">§ 15.3 隣接兄弟結合子（+）</a>
                    <td>2
                <tr>
                    <td><code>E ~ F</code>
                    <td>E要素の前に存在するF要素
                    <td><a href="#general-sibling-combinators">§ 15.4 一般兄弟結合子（~）</a>
                    <td>3
            <tbody>
                <tr>
                    <td><code>F || E</code>
                    <td>F要素が表すカラムに属する、グリッド／テーブルのセルとなるE要素
                    <td><a href="#the-column-combinator">§ 16.1 カラム結合子（||）</a>
                    <td>4
                <tr>
                    <td><code>E:nth-col(<var>n</var>)</code>
                    <td>グリッド／テーブルで<var>n</var>番目のカラムに属するセルとなるE要素
                    <td><a href="#the-nth-col-pseudo">§ 16.2 :nth-col() 疑似クラス</a>
                    <td>4
                <tr>
                    <td><code>E:nth-last-col(<var>n</var>)</code>
                    <td>グリッド／テーブルで最後から数えて<var>n</var>番目のカラムに属するセルとなるE要素
                    <td><a href="#the-nth-last-col-pseudo">§ 16.3 :nth-last-col() 疑似クラス</a>
                    <td>4
        </table>
        <p class="note" role="note"><span>注:</span> 一部のLevel 4セレクター（上記「3-UI」と記載）は<a data-link-type="biblio"
                href="#biblio-css3ui">[CSS3UI]</a>で導入されました。
        </p>
        <h2 class="heading settled" data-level="3" id="syntax"><span class="secno">3. </span><span class="content">
                セレクターの構文と構造</span><a class="self-link" href="#syntax"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="structure"><span class="secno">3.1. </span><span
                class="content">構造と用語</span><a class="self-link" href="#structure"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="selector">セレクター</dfn>は、ツリー構造内の特定の要素パターンを表します。
            <a data-link-type="dfn" href="#selector" id="ref-for-selector②">セレクター</a>という用語は、<a data-link-type="dfn"
                href="#simple" id="ref-for-simple">単純セレクター</a>、<a data-link-type="dfn" href="#compound"
                id="ref-for-compound⑥">複合セレクター</a>、<a data-link-type="dfn" href="#complex"
                id="ref-for-complex">複雑セレクター</a>、または<a data-link-type="dfn" href="#selector-list"
                id="ref-for-selector-list">セレクターリスト</a>を指すことがあります。
            <dfn class="dfn-paneled" data-dfn-for="selector" data-dfn-type="dfn" data-export
                data-lt="subject|subject of a selector|subject of the selector" id="selector-subject">セレクターの対象</dfn>は、
            そのセレクターが定義された要素すべてです。
            つまり、<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="match"
                id="match">一致する</dfn>要素は、その<span id="ref-for-selector③">セレクター</span>に一致する要素です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="simple">単純セレクター</dfn>は、1つの要素に対する単一条件です。
            <a data-link-type="dfn" href="#type-selector" id="ref-for-type-selector">型セレクター</a>、<a data-link-type="dfn"
                href="#universal-selector" id="ref-for-universal-selector">全称セレクター</a>、
            <a data-link-type="dfn" href="#attribute-selector" id="ref-for-attribute-selector">属性セレクター</a>、
            <a data-link-type="dfn" href="#class-selector" id="ref-for-class-selector">クラスセレクター</a>、<a
                data-link-type="dfn" href="#id-selector" id="ref-for-id-selector">IDセレクター</a>、
            または<a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class">疑似クラス</a>は<a data-link-type="dfn"
                href="#simple" id="ref-for-simple①">単純セレクター</a>です。
            （これはセレクターの<a class="production css" data-link-type="type" href="#typedef-simple-selector"
                id="ref-for-typedef-simple-selector">&lt;simple-selector></a>で表現されます。<a href="#grammar">文法</a>参照。）
            ある要素が<a data-link-type="dfn" href="#match" id="ref-for-match">一致する</a>とされるのは、その<span
                id="ref-for-simple②">単純セレクター</span>が、この仕様および<a data-link-type="dfn" href="#document-language"
                id="ref-for-document-language">文書言語</a>に従って要素を正しく記述する場合です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="compound">複合セレクター</dfn>は、
            <a data-link-type="dfn" href="#simple" id="ref-for-simple④">単純セレクター</a>の連続であり、
            <a data-link-type="dfn" href="#selector-combinator" id="ref-for-selector-combinator">結合子</a>で区切られていません。
            1つの要素に複数の条件を同時に課します。
            <a data-link-type="dfn" href="#type-selector" id="ref-for-type-selector①">型セレクター</a>や<a data-link-type="dfn"
                href="#universal-selector" id="ref-for-universal-selector①">全称セレクター</a>を含む場合、
            それらは連続の最初に来なければなりません。
            連続内には型セレクターまたは全称セレクターは1つだけ許容されます。
            （<a data-link-type="dfn" href="#compound" id="ref-for-compound⑦">複合セレクター</a>は、セレクターの<a
                class="production css" data-link-type="type" href="#typedef-compound-selector"
                id="ref-for-typedef-compound-selector">&lt;compound-selector></a>で表現されます。<a href="#grammar">文法</a>参照。）
            ある要素が<a data-link-type="dfn" href="#match" id="ref-for-match①">複合セレクター</a>に一致するとは、<span
                id="ref-for-compound⑧">複合セレクター</span>内のすべての<span id="ref-for-simple⑤">単純セレクター</span>に一致する場合です。
        </p>
        <p class="note" role="note"><span>注:</span> 空白は<a data-link-type="dfn" href="#descendant-combinator"
                id="ref-for-descendant-combinator">子孫結合子</a>を示すため、
            <a data-link-type="dfn" href="#compound" id="ref-for-compound①⓪">複合セレクター</a>内の<a data-link-type="dfn"
                href="#simple" id="ref-for-simple⑥">単純セレクター</a>間には空白を入れてはいけません。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="selector" data-dfn-type="dfn" data-export
                id="selector-combinator">結合子</dfn>は、両側の<a data-link-type="dfn" href="#compound"
                id="ref-for-compound①①">複合セレクター</a>が表す2要素間の関係条件です。
            セレクター レベル4の結合子には、
            <a data-link-type="dfn" href="#descendant-combinator" id="ref-for-descendant-combinator①">子孫結合子</a>（空白）、
            <a data-link-type="dfn" href="#child-combinator"
                id="ref-for-child-combinator">子結合子</a>（U+003E、<code>></code>）、
            <a data-link-type="dfn" href="#next-sibling-combinator"
                id="ref-for-next-sibling-combinator">隣接兄弟結合子</a>（U+002B、<code>+</code>）、
            <a data-link-type="dfn" href="#subsequent-sibling-combinator"
                id="ref-for-subsequent-sibling-combinator">一般兄弟結合子</a>（U+007E、<code>~</code>）があります。
            2つの要素が<a data-link-type="dfn" href="#selector-combinator" id="ref-for-selector-combinator①">結合子</a>に<a
                data-link-type="dfn" href="#match" id="ref-for-match②">一致する</a>とは、それらの関係条件が成立する場合です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="complex">複雑セレクター</dfn>は、
            <a data-link-type="dfn" href="#selector-combinator" id="ref-for-selector-combinator②">結合子</a>で区切られた1つ以上の<a
                data-link-type="dfn" href="#compound" id="ref-for-compound①②">複合セレクター</a>の並びです。
            特定の関係で結ばれた要素群に同時に条件を課します。
            （複雑セレクターは<a class="production css" data-link-type="type" href="#typedef-complex-selector"
                id="ref-for-typedef-complex-selector">&lt;complex-selector></a>で表現されます。<a href="#grammar">文法</a>参照。）
            ある要素が<a data-link-type="dfn" href="#complex" id="ref-for-complex①">複雑セレクター</a>に<a data-link-type="dfn"
                href="#match" id="ref-for-match③">一致する</a>とは、
            各<a data-link-type="dfn" href="#compound" id="ref-for-compound①③">複合セレクター</a>に対応する要素のリストが存在し、
            その各要素ペアが間にある<span id="ref-for-selector-combinator④">結合子</span>の条件を満たし、
            最後の要素が与えられた要素である場合です。
        </p>
        <p class="note" role="note"><span>注:</span> つまり、単一の<a data-link-type="dfn" href="#compound"
                id="ref-for-compound①⑤">複合セレクター</a>からなるセレクターは、構成する<a data-link-type="dfn" href="#simple"
                id="ref-for-simple⑦">単純セレクター</a>すべての条件を満たす要素に一致します。
            さらに別の<span id="ref-for-compound①⑥">複合セレクター</span>と<a data-link-type="dfn" href="#selector-combinator"
                id="ref-for-selector-combinator⑤">結合子</a>を前に付加すると、追加の一致条件が課され、
            <a data-link-type="dfn" href="#complex" id="ref-for-complex③">複雑セレクター</a>の<a data-link-type="dfn"
                href="#selector-subject" id="ref-for-selector-subject">対象</a>は常に最後の<span
                id="ref-for-compound①⑦">複合セレクター</span>で表される要素の部分集合となります。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="list of simple selectors|list of compound selectors|list of complex selectors"
                id="list-of-simple-selectors">単純/複合/複雑セレクターのリスト</dfn>は、<a data-link-type="dfn" href="#simple"
                id="ref-for-simple⑧">単純セレクター</a>、<a data-link-type="dfn" href="#compound"
                id="ref-for-compound①⑧">複合セレクター</a>、
            または<a data-link-type="dfn" href="#complex" id="ref-for-complex④">複雑セレクター</a>のカンマ区切りリストです。
            この型が重要でない場合、あるいは本文で指定されている場合は単に<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="selector list|list of selectors" id="selector-list">セレクターリスト</dfn>とも呼びます。
            型が重要だが未指定の場合、既定では<a data-link-type="dfn" href="#list-of-simple-selectors"
                id="ref-for-list-of-simple-selectors">複雑セレクターのリスト</a>を意味します。
            （<a href="#grouping">§ 4.1 セレクターリスト</a>や<a href="#grammar">文法</a>の各&lt;*-selector-list>産出規則も参照。）
            ある要素が<a data-link-type="dfn" href="#selector-list" id="ref-for-selector-list①">セレクターリスト</a>に<a
                data-link-type="dfn" href="#match" id="ref-for-match④">一致する</a>とは、そのリスト内のいずれか1つ以上の<a
                data-link-type="dfn" href="#selector" id="ref-for-selector④">セレクター</a>に一致する場合です。</p>
        <p class="issue" id="issue-5830d0c1"><a class="self-link" href="#issue-5830d0c1"></a>
            疑似要素の扱いはここで未定義ですが、本来扱うべきです。</p>
        <h3 class="heading settled" data-level="3.2" id="data-model"><span class="secno">3.2. </span><span
                class="content">データモデル</span><a class="self-link" href="#data-model"></a></h3>
        <p>セレクターはDOMなどの要素ツリーに対して評価されます。<a data-link-type="biblio" href="#biblio-dom">[DOM]</a>
            この仕様内では、「文書ツリー」や「ソース文書」と呼ぶ場合もあります。</p>
        <p>各要素は、以下の5つの属性のいずれかを持つことができ、これらはすべて文字列として一致判定されます：</p>
        <ul>
            <li>要素の型（タグ名）
            <li>要素の名前空間
            <li>ID
            <li>所属するクラス（名前付きグループ）
            <li>属性（名前と値のペア）
        </ul>
        <p>個々の要素が上記のいずれも持たない場合もあり、そのような要素は<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="featureless">特徴なし</dfn>（featureless）です。
            <a data-link-type="dfn" href="#featureless"
                id="ref-for-featureless">特徴なし</a>要素は、明示的に一致するよう定義されていない限り、どのセレクターにも一致しません。
            特定のセレクターが<span id="ref-for-featureless①">特徴なし</span>要素に一致する場合は、既定の名前空間は無視されなければなりません。<a
                data-link-type="biblio" href="#biblio-css3namespace">[CSS3NAMESPACE]</a>
        </p>
        <div class="example" id="example-76c361e3"><a class="self-link" href="#example-76c361e3"></a> 例：<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-scoping-1/#shadow-host"
                id="ref-for-shadow-host">シャドウホスト</a>（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-scoping-1/#shadow-tree" id="ref-for-shadow-tree">シャドウツリー</a>内）は<a
                data-link-type="dfn" href="#featureless" id="ref-for-featureless②">特徴なし</a>であり、
            <em>どの</em><a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class①">疑似クラス</a>にも一致しません（ただし<a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-scoping-1/#selectordef-host0"
                id="ref-for-selectordef-host0">:host</a>
            や<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-scoping-1/#selectordef-host-context"
                id="ref-for-selectordef-host-context">:host-context()</a>などは除く）。
        </div>
        <p>多くのセレクターは、<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="document-language">文書言語</dfn>（文書ツリーの言語や意味）や、<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="host-language">ホスト言語</dfn>（セレクター構文を使う言語）の意味に依存します。
            例えば、<a class="css" data-link-type="maybe" href="#lang-pseudo" id="ref-for-lang-pseudo">:lang()</a>セレクターは<a
                data-link-type="dfn" href="#document-language" id="ref-for-document-language①">文書言語</a>（例：HTML）が
            要素と言語の関連づけ方法を定義します。
            別の例として、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line"
                id="ref-for-selectordef-first-line">::first-line</a>疑似要素は、
            <a data-link-type="dfn" href="#host-language" id="ref-for-host-language">ホスト言語</a>（例：CSS）が
            <span class="css" id="ref-for-selectordef-first-line①">::first-line</span>疑似要素の意味や機能を定義します。
        </p>
        <h3 class="heading settled" data-level="3.3" id="scoping"><span class="secno">3.3. </span><span class="content">
                スコープ付きセレクター</span><a class="self-link" href="#scoping"></a></h3>
        <p>一部のホストアプリケーションは、セレクターを文書の特定部分や断片に<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-local-lt="scope" data-lt="scoped selector" id="scoped-selector">スコープする</dfn>ことを選択できます。
            スコープの根となる部分は<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="scoping-root">スコープルート</dfn>と呼ばれます。
        </p>
        <p>セレクターが<a data-link-type="dfn" href="#scoped-selector" id="ref-for-scoped-selector">スコープされる</a>場合、
            そのセレクターは対象要素が<a data-link-type="dfn" href="#scoping-root"
                id="ref-for-scoping-root①">スコープルート</a>の子孫である場合のみ一致します。
            （セレクターの他の部分は制限なく一致可能です。最終的に一致した要素がスコープ内である必要があります。）</p>
        <div class="example" id="example-32ec254f">
            <a class="self-link" href="#example-32ec254f"></a> 例：
            <code class="idl"><a data-link-type="idl">querySelector()</a></code>メソッド（<a data-link-type="biblio"
                href="#biblio-dom">[DOM]</a>で定義）は、
            セレクターを呼び出し要素を基準に<a data-link-type="dfn" href="#scoped-selector"
                id="ref-for-scoped-selector①">スコープ</a>して評価することができます。
            <p><code
                    class="highlight">widget<c- p>.</c->querySelector<c- p>(</c-><c- u>"a"</c-><c- p>)</c-></code>のような呼び出しは、
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code>
                要素が<code>widget</code>要素内にある場合のみ検出し、
                文書全体の他の
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element①">a</a></code>要素は無視されます。
            </p>
        </div>
        <h3 class="heading settled" data-level="3.4" id="relative"><span class="secno">3.4. </span><span
                class="content">相対セレクター</span><a class="self-link" href="#relative"></a></h3>
        <p>一部の文脈では<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="relative"
                data-lt="relative selector" id="relative-selector">相対セレクター</dfn>を許容し、
            これは1つ以上の<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="anchor element"
                id="relative-selector-anchor-elements">アンカー要素</dfn>に対して相対的な要素を表すセレクターの省略記法です。
            相対セレクターは<a data-link-type="dfn" href="#selector-combinator" id="ref-for-selector-combinator⑥">結合子</a>から始まり、
            セレクターの最初にアンカー要素を暗黙的に表します。
            （結合子が省略された場合、<a data-link-type="dfn" href="#descendant-combinator"
                id="ref-for-descendant-combinator②">子孫結合子</a>が暗黙的に適用されます。）</p>
        <p>相対セレクターは、セレクターの<a class="production css" data-link-type="type" href="#typedef-relative-selector"
                id="ref-for-typedef-relative-selector">&lt;relative-selector></a>で表現され、
            そのリストは<a class="production css" data-link-type="type" href="#typedef-relative-selector-list"
                id="ref-for-typedef-relative-selector-list">&lt;relative-selector-list></a>で表現されます。</p>
        <h3 class="heading settled" data-level="3.5" id="pseudo-classes"><span class="secno">3.5. </span><span
                class="content">疑似クラス</span><a class="self-link" href="#pseudo-classes"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="pseudo-class"
                id="pseudo-class">疑似クラス</dfn>は、<a data-link-type="dfn" href="#simple"
                id="ref-for-simple⑨">単純セレクター</a>の一種であり、文書ツリーの外部情報や他の単純セレクターで表現するのが困難または不可能な条件で選択を可能にします。
            また、動的に変化する場合もあり、
            ユーザーが文書を操作することで要素が疑似クラスを獲得・喪失することもあります（文書自体は変更されません）。<a data-link-type="dfn" href="#pseudo-class"
                id="ref-for-pseudo-class②">疑似クラス</a>は、文書ソースや文書ツリーには現れず変更もしません。</p>
        <p><a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class③">疑似クラス</a>の構文は「:」（U+003A
            コロン）＋疑似クラス名（CSS<a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-css-identifier"
                id="ref-for-css-css-identifier">識別子</a>）です。
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="functional-pseudo-class">関数型疑似クラス</dfn>の場合は、括弧内に引数を取ります。
        </p>
        <p class="example" id="example-86ae2021"><a class="self-link" href="#example-86ae2021"></a> 例：<a class="css"
                data-link-type="maybe" href="#valid-pseudo" id="ref-for-valid-pseudo">:valid</a>は通常の疑似クラス、
            <a class="css" data-link-type="maybe" href="#lang-pseudo" id="ref-for-lang-pseudo①">:lang()</a>は<a
                data-link-type="dfn" href="#functional-pseudo-class"
                id="ref-for-functional-pseudo-class">関数型疑似クラス</a>です。
        </p>
        <p>全てのCSSキーワード同様、<a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class⑤">疑似クラス</a>名は<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive">ASCII大文字小文字を区別しません</a>。
            コロンと<span id="ref-for-pseudo-class④">疑似クラス</span>名の間、および<span
                id="ref-for-functional-pseudo-class①">関数型疑似クラス</span>名と括弧の間には空白を入れてはいけません（CSS関数トークンを構成します）。
            また、通常通り、関数型疑似クラスの括弧内の引数まわりには空白を入れても構いません（特に指定がない限り）。</p>
        <p><a data-link-type="dfn" href="#simple" id="ref-for-simple①⓪">単純セレクター</a>同様、<a data-link-type="dfn"
                href="#pseudo-class" id="ref-for-pseudo-class⑦">疑似クラス</a>はセレクター中のすべての<a data-link-type="dfn"
                href="#compound" id="ref-for-compound①⑨">複合セレクター</a>で利用でき、
            型セレクターや全称セレクターの後に記述する必要があります（存在する場合）。</p>
        <p class="note" role="note"><span>注:</span> 一部の<a data-link-type="dfn" href="#pseudo-class"
                id="ref-for-pseudo-class⑧">疑似クラス</a>は互いに排他的であり（同じ複合セレクターに含めても、決して一致しません）、
            他は同時に同じ要素に適用することも可能です。</p>
        <h3 class="heading settled" data-level="3.6" id="pseudo-elements"><span class="secno">3.6. </span><span
                class="content">疑似要素</span><a class="self-link" href="#pseudo-elements"></a></h3>
        <p>一部の<a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class⑨">疑似クラス</a>が文書ツリーに存在しない追加状態情報を表すように、
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="pseudo-element">疑似要素</dfn>は、文書ツリーに直接存在しない<em>要素</em>を表します。
            これは、文書ツリーが提供する以上の抽象化を作成するために使われます。
            たとえば、疑似要素を使うことで、文書言語の要素に対応しない部分（要素境界に揃わない範囲やツリー構造外の範囲など）を選択したり、
            文書ツリーに存在しない内容や別投影の内容を表現したり、
            スタイリング・レイアウト・ユーザー操作など文書ツリーに反映されない情報に基づく範囲を扱うことができます。
        </p>
        <div class="example" id="example-6916597f">
            <a class="self-link" href="#example-6916597f"></a> 例：文書言語には、要素コンテンツの最初の文字や最初の行にアクセスする仕組みはありませんが、
            <a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element">疑似要素</a>（<a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter"
                id="ref-for-selectordef-first-letter">::first-letter</a>や<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line"
                id="ref-for-selectordef-first-line②">::first-line</a>）によってそれらをスタイルできます。
            特に<span class="css" id="ref-for-selectordef-first-line③">::first-line</span>の場合、
            疑似要素が表す内容範囲はレイアウト情報に依存するため、文書ツリーからは推測できません。
            <p><a data-link-type="dfn" href="#pseudo-element"
                    id="ref-for-pseudo-element①">疑似要素</a>は、ソース文書に存在しない内容も表現できます。
                例として<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before"
                    id="ref-for-selectordef-before">::before</a>や<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-pseudo-4/#selectordef-after"
                    id="ref-for-selectordef-after">::after</a>疑似要素は、
                どの要素の内容の前後に追加コンテンツを挿入できます。</p>
        </div>
        <p><a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class①⓪">疑似クラス</a>と同様、
            <a data-link-type="dfn" href="#pseudo-element"
                id="ref-for-pseudo-element②">疑似要素</a>は文書ソースや文書ツリーに現れたり変更したりしません。
            そのため、<a data-link-type="dfn" href="#structural-pseudo-classes"
                id="ref-for-structural-pseudo-classes">構造疑似クラス</a>や発生元要素(<a data-link-type="dfn"
                href="#originating-element" id="ref-for-originating-element">originating
                element</a>)やそのツリーに関する他のセレクターの解釈には影響しません。
        </p>
        <p>どの疑似要素が存在するか、その型や機能はホスト言語が定義します。
            CSSに存在する疑似要素は、
            <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>（レベル2）、<a data-link-type="biblio"
                href="#biblio-select">[SELECT]</a>（レベル3）、<a data-link-type="biblio"
                href="#biblio-css-pseudo-4">[CSS-PSEUDO-4]</a>（レベル4）で定義されています。
        </p>
        <h4 class="heading settled" data-level="3.6.1" id="pseudo-element-syntax"><span class="secno">3.6.1.
            </span><span class="content">構文</span><a class="self-link" href="#pseudo-element-syntax"></a></h4>
        <p><a data-link-type="dfn" href="#pseudo-element"
                id="ref-for-pseudo-element③">疑似要素</a>の構文は、「::」（U+003Aコロン2つ）＋<span
                id="ref-for-pseudo-element④">疑似要素</span>名（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#css-css-identifier"
                id="ref-for-css-css-identifier①">識別子</a>）です。<span id="ref-for-pseudo-element⑤">疑似要素</span>名は<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive①">ASCII大文字小文字を区別しません</a>。
            コロン2つの間、およびコロンと名前の間に<a data-link-type="dfn" href="#whitespace" id="ref-for-whitespace②">空白</a>は許容されません。</p>
        <p><a href="https://www.w3.org/TR/CSS1">CSS Level 1</a>および<a href="https://www.w3.org/TR/CSS2">CSS Level
                2</a>では疑似要素と疑似クラスが1コロン構文で混同されていたため、
            ユーザーエージェントはLevel 1＆2の疑似要素
            (<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before"
                id="ref-for-selectordef-before①">::before</a>, <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-after"
                id="ref-for-selectordef-after①">::after</a>, <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line"
                id="ref-for-selectordef-first-line④">::first-line</a>, <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter"
                id="ref-for-selectordef-first-letter①">::first-letter</a>)
            については以前の1コロン記法も受け入れる必要があります。
            この互換記法は他の<a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element⑥">疑似要素</a>には許可されません。
            ただし、この構文は推奨されないため、
            著者はこれらの<span id="ref-for-pseudo-element⑦">疑似要素</span>にはLevel 3以降の2コロン構文を使用してください。</p>
        <p><a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element⑧">疑似要素</a>は<a data-link-type="dfn"
                href="#featureless" id="ref-for-featureless③">特徴なし</a>であり、
            他のセレクターでは一致しません。</p>
        <h4 class="heading settled" data-level="3.6.2" id="pseudo-element-attachment"><span class="secno">3.6.2.
            </span><span class="content">文書ツリーへの紐付け</span><a class="self-link" href="#pseudo-element-attachment"></a>
        </h4>
        <p><a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element⑨">疑似要素</a>はツリー内で独立して存在するものではなく、
            常にページ上の他の要素に紐付いています。
            これが<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="originating-element">発生元要素</dfn>です。
            構文上は、<span id="ref-for-pseudo-element①⓪">疑似要素</span>は、それに紐付く<a data-link-type="dfn" href="#compound"
                id="ref-for-compound②①">複合セレクター</a>の直後に記述されます。
            この<span id="ref-for-compound②②">複合セレクター</span>が省略された場合は、<a data-link-type="dfn" href="#universal-selector"
                id="ref-for-universal-selector③">全称セレクター</a> <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/selectors-3/#x" id="ref-for-x">*</a>が暗黙的に用いられます。
        </p>
        <div class="example" id="example-e6d9ca44">
            <a class="self-link" href="#example-e6d9ca44"></a> 例：セレクター<span class="css">div
                a::before</span>では、
            セレクターで一致した<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-5/#valdef-lab-a"
                id="ref-for-valdef-lab-a">a</a>要素が<a data-link-type="dfn" href="#originating-element"
                id="ref-for-originating-element②">発生元要素</a>となり、
            それに紐付く<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before"
                id="ref-for-selectordef-before②">::before</a>疑似要素にスタイルが適用されます。
            <p>セレクター<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line"
                    id="ref-for-selectordef-first-line⑤">::first-line</a>は<span class="css">*::first-line</span>と同等であり、
                文書内の<em>すべての</em>要素の<span class="css"
                    id="ref-for-selectordef-first-line⑥">::first-line</span>疑似要素を選択します。</p>
        </div>
        <p>セレクター内で<a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element①①">疑似要素</a>が現れる場合、
            疑似要素の前の部分は<span id="ref-for-pseudo-element①②">疑似要素</span>の<a data-link-type="dfn"
                href="#originating-element" id="ref-for-originating-element③">発生元要素</a>を選択し、
            疑似要素の後ろの部分（あれば）は<span id="ref-for-pseudo-element①④">疑似要素</span>自体に適用されます。
            （後述。）</p>
        <h4 class="heading settled" data-level="3.6.3" id="pseudo-element-states"><span class="secno">3.6.3.
            </span><span class="content">疑似要素の疑似クラス化</span><a class="self-link" href="#pseudo-element-states"></a></h4>
        <p><a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element①⑤">疑似要素</a>の直後には、
            <a href="#useraction-pseudos">ユーザー操作疑似クラス</a>をいくつでも組み合わせて記述できます。
            この場合、<span id="ref-for-pseudo-element①⑥">疑似要素</span>は該当状態の時にのみ表現されます。
            これらの疑似クラスが<span id="ref-for-pseudo-element①⑦">疑似要素</span>に適用可能かは、
            <a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class①①">疑似クラス</a>や<span
                id="ref-for-pseudo-element①⑧">疑似要素</span>の定義によります。
            特に指定がない限り、これらの<span id="ref-for-pseudo-class①②">疑似クラス</span>は<span
                id="ref-for-pseudo-element①⑨">疑似要素</span>には一致しません。
        </p>
        <p class="issue" id="issue-9f34fdb4"><a class="self-link" href="#issue-9f34fdb4"></a> <a class="css"
                data-link-type="maybe" href="#negation-pseudo" id="ref-for-negation-pseudo">:not()</a>や
            <a class="css" data-link-type="maybe" href="#matches-pseudo"
                id="ref-for-matches-pseudo">:is()</a>が上記の疑似クラスを含む場合に使用できることを明確化してください。
        </p>
        <div class="example" id="example-01167664">
            <a class="self-link" href="#example-01167664"></a> 例：<a class="css" data-link-type="maybe"
                href="#hover-pseudo" id="ref-for-hover-pseudo">:hover</a>疑似クラスは任意の疑似要素に適用できるため、<span
                class="css">::first-line:hover</span>は最初の行がホバーされた時に一致します。
            一方、<a class="css" data-link-type="maybe" href="#focus-pseudo" id="ref-for-focus-pseudo">:focus</a>や<a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line"
                id="ref-for-selectordef-first-line⑦">::first-line</a>は、<span class="css"
                id="ref-for-focus-pseudo①">:focus</span>が<span class="css"
                id="ref-for-selectordef-first-line⑧">::first-line</span>に適用できると定義されていないため、
            <span class="css">::first-line:focus</span>は何にも一致しません。
            <p class="issue" id="issue-27c4806a"><a class="self-link" href="#issue-27c4806a"></a> <span
                    class="css">::first-line:not(:focus)</span>は何かに一致するか？</p>
            <p><span class="css">::first-line:hover</span>と<span class="css">:hover::first-line</span>は全く異なることに注意してください。
                <span class="css">:hover::first-line</span>はホバーされた発生元要素の最初の行に一致します！
                例えば、<span class="css">:hover::first-line</span>は段落の2行目がホバーされている時にも段落の最初の行に一致しますが、
                <span class="css">::first-line:hover</span>は最初の行自体がホバーされた時のみ一致します。
            </p>
        </div>
        <p class="note" role="note"><span>注:</span> 今後の仕様で特に指定がない限り、
            <a href="#useraction-pseudos">ユーザー操作疑似クラス</a>以外を疑似要素に複合して使うことはできません。
            例えば、<span class="css">::before:first-child</span>は無効なセレクターです。
        </p>
        <h4 class="heading settled" data-level="3.6.4" id="sub-pseudo-elements"><span class="secno">3.6.4. </span><span
                class="content">サブ疑似要素</span><a class="self-link" href="#sub-pseudo-elements"></a></h4>
        <p>一部の<a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element②⓪">疑似要素</a>は、
            他の<span id="ref-for-pseudo-element②①">疑似要素</span>の<a data-link-type="dfn" href="#originating-element"
                id="ref-for-originating-element④">発生元要素</a>となることができ、
            これを<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="sub-pseudo-element"
                id="sub-pseudo-element">サブ疑似要素</dfn>と呼びます。
            また、その元となる疑似要素は<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="originating-pseudo-element">発生元疑似要素</dfn>です。
            例：<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before"
                id="ref-for-selectordef-before③">::before</a>に<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-display-3/#valdef-display-list-item"
                id="ref-for-valdef-display-list-item">list-item</a><a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#display-type" id="ref-for-display-type">display型</a>を指定すると、
            その<span class="css">::before::marker</span><a data-link-type="dfn" href="#sub-pseudo-element"
                id="ref-for-sub-pseudo-element">サブ疑似要素</a>の発生元疑似要素となります。</p>
        <p>区別が必要な場合は、
            <dfn data-dfn-type="dfn" data-export id="ultimate-originating-element">最終発生元要素<a class="self-link"
                    href="#ultimate-originating-element"></a></dfn>（非疑似の本物の要素）を指します。
        </p>
        <p>対応する<a data-link-type="dfn" href="#sub-pseudo-element"
                id="ref-for-sub-pseudo-element①">サブ疑似要素</a>が他の仕様で明示的に定義されていない限り、
            別の疑似要素セレクターと複合した疑似要素セレクターは無効です。
            例：<span class="css">::before::before</span>は無効ですが、
            <span class="css">::before::marker</span>は有効です
            （<span class="css">::before::marker</span><span id="ref-for-sub-pseudo-element②">サブ疑似要素</span>をサポートする実装の場合）。
        </p>
        <h4 class="heading settled" data-level="3.6.5" id="pseudo-element-structure"><span class="secno">3.6.5.
            </span><span class="content">内部構造</span><a class="self-link" href="#pseudo-element-structure"></a></h4>
        <p>一部の<a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element②③">疑似要素</a>は内部構造を持つと定義されています。
            これら<span id="ref-for-pseudo-element②④">疑似要素</span>の後ろに子／子孫結合子を記述して関係性を表すことができます。
            疑似要素の後に<a data-link-type="dfn" href="#selector-combinator"
                id="ref-for-selector-combinator⑦">結合子</a>が続くセレクターは、その他の場合は無効です。</p>
        <div class="example" id="example-3594b9ac"><a class="self-link" href="#example-3594b9ac"></a> 例：<span
                class="css">::first-letter + span</span>や<span class="css">::first-letter em</span>は無効なセレクターです。
            しかし、もし新たに内部構造を持つ<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-scoping-1/#selectordef-shadow"
                id="ref-for-selectordef-shadow">::shadow</a>疑似要素が定義されたとすると、
            <span class="css">::shadow > p</span>は有効なセレクターになります。
        </div>
        <p class="note" role="note"><span>注:</span> 将来の仕様で既存の疑似要素の機能拡張が行われる可能性があり、
            現在は無効なセレクター（例：<span class="css">::first-line :any-link</span>）も将来的に有効になるかもしれません。</p>
        <p>そのような<a data-link-type="dfn" href="#pseudo-element"
                id="ref-for-pseudo-element②⑤">疑似要素</a>の子要素は、他の要素の子である場合もあります。
            ただし、少なくともCSSでは、レンダリングは<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#box-tree"
                id="ref-for-box-tree">ボックスツリー</a>の木構造性を維持するよう定義されなければなりません。</p>
        <div class="example" id="example-0a53d7fc">
            <a class="self-link" href="#example-0a53d7fc"></a> 例：<span class="css">::slotted</span>疑似要素は要素を自分の子として扱います。
            以下の断片の場合：
            <pre>&lt;div>
  &lt;span>foo&lt;/span>
  &lt;"shadow root">
    &lt;content>&lt;/content>
  &lt;/"shadow root">
&lt;/div>
</pre>
            <p>セレクター<span class="css">div > span</span>と<span class="css">div::shadow ::slotted >
                    span</span>は異なる経路で同じ要素を選択します。</p>
            <p>ただし、レンダリング時には
                <code>&lt;span></code>要素は
                <code>&lt;content></code>要素の子であるかのようにボックスを生成し、
                <code>&lt;div></code>要素の子としてではなく、
                <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#box-tree"
                    id="ref-for-box-tree①">ボックスツリー</a>の木構造が維持されます。
            </p>
        </div>
        <h3 class="heading settled" data-level="3.7" id="case-sensitive"><span class="secno">3.7. </span><span
                class="content">文字と大文字・小文字の区別</span><a class="self-link" href="#case-sensitive"></a>
        </h3>
        <p>セレクターの構文は<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive②">ASCII大文字小文字を区別しません</a>（[a-z]と[A-Z]は同等）ですが、
            セレクターの管理外の部分、
            すなわち
            文書言語の要素名・属性名・属性値の大文字小文字の区別は文書言語に依存します。</p>
        <div class="example" id="example-5ac03fca"><a class="self-link" href="#example-5ac03fca"></a> 例：<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selectors">HTMLでは要素名・属性名はASCII大文字小文字を区別しません</a>が、
            XMLでは区別されます。</div>
        <p>名前空間プレフィックスの大文字小文字の区別は<a data-link-type="biblio" href="#biblio-css3namespace">[CSS3NAMESPACE]</a>で定義されています。
            <a data-link-type="dfn" href="#language-range" id="ref-for-language-range">言語範囲</a>の大文字小文字の区別は<a class="css"
                data-link-type="maybe" href="#lang-pseudo" id="ref-for-lang-pseudo②">:lang()</a>のセクションで定義されています。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="whitespace">空白</dfn>は、
            SPACE (U+0020)、TAB (U+0009)、LINE FEED (U+000A)、
            CARRIAGE RETURN (U+000D)、FORM FEED (U+000C)のコードポイントを指します。
            EM SPACE (U+2003)やIDEOGRAPHIC SPACE (U+3000)など他の空白類コードポイントは構文上の空白とはみなされません。</p>
        <p>セレクター内のコードポイントは、CSSと同じ<a
                href="https://www.w3.org/TR/CSS21/syndata.html#characters">エスケープ規則</a>でバックスラッシュによってエスケープできます。<a
                data-link-type="biblio" href="#biblio-css21">[CSS21]</a>
            エスケープした場合、セレクター内での特別な意味は「消失」します。
            例：セレクター<span class="css">#foo>a</span>は結合子を含みますが、
            <span class="css">#foo\>a</span>はIDが<code>foo>a</code>の要素を選択します。
        </p>
        <h3 class="heading settled" data-level="3.8" id="namespaces"><span class="secno">3.8. </span><span
                class="content">名前空間プレフィックスの宣言</span><a class="self-link" href="#namespaces"></a></h3>
        <p>一部のセレクターは名前空間プレフィックスをサポートします。
            プレフィックスの<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="nsdecl">宣言</dfn>の仕組みは、セレクターを利用する言語が定義するべきです。
            言語が宣言方式を定義しない場合、プレフィックスは宣言されません。
            CSSでは、<span class="css">@namespace</span>規則で宣言します。<a data-link-type="biblio"
                href="#biblio-css3namespace">[CSS3NAMESPACE]</a></p>
        <h3 class="heading settled" data-level="3.9" id="invalid"><span class="secno">3.9. </span><span class="content">
                無効なセレクターとエラー処理</span><a class="self-link" href="#invalid"></a></h3>
        <p>ユーザーエージェントは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="invalid"
                data-lt="invalid selector" id="invalid-selector">無効なセレクター</dfn>の処理規則を守らなければなりません：</p>
        <ul>
            <li>セレクター内の構文エラー（認識できないトークンや、その位置で許可されていないトークンなど）は、そのセレクターを無効とします（<a href="#grammar">§ 18
                    文法</a>や各セレクターの構文定義参照）。
            <li><a href="#namespaces">未宣言の名前空間プレフィックス</a>を含む単純セレクターは無効です
            <li>無効な単純セレクター・無効な結合子・無効なトークンを含むセレクターは無効です。
            <li>無効なセレクターを含むセレクターリストは無効です。
            <li><a data-link-type="dfn" href="#compound" id="ref-for-compound②③">複合セレクター</a>を含まない空のセレクターは無効です。
        </ul>
        <p class="note" role="note"><span>注:</span> CSSの前方互換パース原則に従い、
            UAはサポートできない疑似クラス・疑似要素・結合子・その他構文要素を<a data-link-type="dfn" href="#invalid-selector"
                id="ref-for-invalid-selector">無効</a>として扱う<em>必要があります</em>。
            <a href="#w3c-partial">部分実装</a>参照。
        </p>
        <p><a data-link-type="dfn" href="#invalid-selector"
                id="ref-for-invalid-selector①">無効なセレクター</a>は何も表現せず、何にも一致しません。</p>
        <h3 class="heading settled" data-level="3.10" id="legacy-aliasing"><span class="secno">3.10. </span><span
                class="content">レガシーエイリアス</span><a class="self-link" href="#legacy-aliasing"></a></h3>
        <p>一部のセレクターには<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="legacy-selector-alias">レガシーセレクターエイリアス</dfn>があります。
            これはパース時に標準名に変換される名称であり、セレクターを表現するオブジェクトモデルには現れません。</p>
        <h2 class="heading settled" data-level="4" id="logical-combination"><span class="secno">4. </span><span
                class="content">論理結合</span><a class="self-link" href="#logical-combination"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="grouping"><span class="secno">4.1. </span><span
                class="content">セレクターリスト</span><a class="self-link" href="#grouping"></a></h3>
        <p>カンマ区切りのセレクターリストは、<a data-link-type="dfn" href="#selector-list"
                id="ref-for-selector-list④">セレクターリスト</a>内の各セレクターで選択されたすべての要素の和集合を表現します。
            （カンマはU+002C。）CSSでは複数のセレクターが同じ宣言を共有する場合、カンマ区切りリストにまとめることができます。カンマの前後に空白を入れても構いません。</p>
        <div class="example" id="example-1930da7e">
            <a class="self-link" href="#example-1930da7e"></a> CSS例：
            この例では、同じ宣言を持つ3つの規則を1つにまとめています。つまり、
            <pre>h1 { font-family: sans-serif }
h2 { font-family: sans-serif }
h3 { font-family: sans-serif }
</pre>
            <p>は次のように等価です：</p>
            <pre>h1, h2, h3 { font-family: sans-serif }
</pre>
        </div>
        <p><strong>警告</strong>：この等価性は、すべてのセレクターが有効な場合のみ成立します。もし1つでも無効なセレクターがあれば、<a data-link-type="dfn"
                href="#selector-list"
                id="ref-for-selector-list⑤">セレクターリスト</a>全体が無効となります。これにより3つの見出し規則すべてが無効となりますが、個別の規則の場合は1つだけが無効になります。</p>
        <div class="example" id="example-fd0daa05">
            <a class="self-link" href="#example-fd0daa05"></a> 無効なCSS例：
            <pre>h1 { font-family: sans-serif }
h2..foo { font-family: sans-serif }
h3 { font-family: sans-serif }
</pre>
            <p>は次のようには等価ではありません：</p>
            <pre>h1, h2..foo, h3 { font-family: sans-serif } </pre>
            <p>上記のセレクター（<span class="css">h1, h2..foo, h3</span>）は全体が無効となり、スタイル規則全体が破棄されます。（グループ化しない場合は<span
                    class="css">h2..foo</span>の規則だけが無効になります。）</p>
        </div>
        <h3 class="heading settled" data-level="4.2" id="matches"><span class="secno">4.2. </span><span class="content">
                任意一致疑似クラス：<a class="css" data-link-type="maybe" href="#matches-pseudo"
                    id="ref-for-matches-pseudo①">:is()</a></span><a class="self-link" href="#matches"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="matches-pseudo">:is()</dfn>疑似クラスは、<a
                class="production css" data-link-type="type" href="#typedef-forgiving-selector-list"
                id="ref-for-typedef-forgiving-selector-list">&lt;forgiving-selector-list></a>を引数とする関数型疑似クラスです。</p>
        <p>パース後の引数が空リストの場合、
            疑似クラス自体は有効ですが何にも一致しません。
            それ以外の場合、リスト内のいずれかのセレクターに一致した要素に疑似クラスが一致します。</p>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe" href="#matches-pseudo"
                id="ref-for-matches-pseudo②">:is()</a>疑似クラスの特異性は、最も特異な引数の特異性で置き換えられます。
            そのため、<span class="css" id="ref-for-matches-pseudo③">:is()</span>を用いたセレクターは、<span class="css"
                id="ref-for-matches-pseudo④">:is()</span>なしで書かれた等価セレクターと特異性が必ずしも同じとは限りません。
            例：<span class="css">:is(ul, ol, .list) > [hidden]</span>と<span class="css">ul >
                [hidden], ol > [hidden], .list >
                [hidden]</span>の場合、<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element" id="ref-for-the-ol-element">ol</a></code>の<span
                class="css">[hidden]</span>子要素は最初のセレクターでは特異性(0,2,0)で一致し、
            後者では(0,1,1)となります。
            <a href="#specificity-rules">§ 17 セレクターの特異性計算</a>参照。
        </p>
        <p>疑似要素は任意一致疑似クラスでは表現できず、
            <a class="css" data-link-type="maybe" href="#matches-pseudo" id="ref-for-matches-pseudo⑤">:is()</a>内では無効です。
        </p>
        <p>デフォルト名前空間宣言は、<a data-link-type="dfn" href="#compound" id="ref-for-compound②④">複合セレクター</a>（<a
                data-link-type="dfn" href="#selector-subject" id="ref-for-selector-subject①">対象</a>）には影響しません。
            ただし、その複合セレクターが明示的な<a data-link-type="dfn" href="#universal-selector"
                id="ref-for-universal-selector④">全称セレクター</a>や<a data-link-type="dfn" href="#type-selector"
                id="ref-for-type-selector③">型セレクター</a>を含む場合を除きます。</p>
        <div class="example" id="example-2cab03ed">
            <a class="self-link" href="#example-2cab03ed"></a>
            例：次のセレクターは、ホバーまたはフォーカスされた任意の名前空間の要素に一致します。特に、デフォルト名前空間の要素だけに限定されません。
            <pre>*|*:is(:hover, :focus) </pre>
            <p>一方、次のセレクターは<a class="css" data-link-type="maybe" href="#matches-pseudo"
                    id="ref-for-matches-pseudo⑦">:is()</a>記法で明示的な全称セレクターを使っているため、デフォルト名前空間内でホバーまたはフォーカスされた要素だけを表します：</p>
            <pre>*|*:is(*:hover, *:focus) </pre>
        </div>
        <p>本仕様の以前の草案では、この疑似クラスに<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-matches">:matches()</dfn>という名称が使われていたため、
            UAは必要に応じて、後方互換のために<a data-link-type="dfn" href="#legacy-selector-alias"
                id="ref-for-legacy-selector-alias">レガシーセレクターエイリアス</a>として<a class="css" data-link-type="maybe"
                href="#matches-pseudo" id="ref-for-matches-pseudo⑧">:is()</a>に:matches()も実装してよいです。</p>
        <h3 class="heading settled" data-level="4.3" id="negation"><span class="secno">4.3. </span><span
                class="content">否定（非一致）疑似クラス：<a class="css" data-link-type="maybe" href="#negation-pseudo"
                    id="ref-for-negation-pseudo①">:not()</a></span><a class="self-link" href="#negation"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="negation-pseudo">:not()</dfn>疑似クラスは、<a
                data-link-type="dfn" href="#selector-list" id="ref-for-selector-list⑥">セレクターリスト</a>を引数とする関数型疑似クラスです。
            引数で表されない要素に一致します。</p>
        <p class="note" role="note"><span>注:</span> セレクター レベル3では、<a data-link-type="dfn" href="#simple"
                id="ref-for-simple①①">単純セレクター</a>1つだけが<a class="css" data-link-type="maybe" href="#negation-pseudo"
                id="ref-for-negation-pseudo②">:not()</a>の引数として許容されていました。</p>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe" href="#negation-pseudo"
                id="ref-for-negation-pseudo③">:not()</a>疑似クラスの特異性は、引数内で最も特異なセレクターの特異性に置き換えられます。
            したがって、<span class="css">:not(:is(argument))</span>と同じふるまいとなります。
            <a href="#specificity-rules">§ 17 セレクターの特異性計算</a>参照。
        </p>
        <p>疑似要素は否定疑似クラスでは表現できず、
            <a class="css" data-link-type="maybe" href="#negation-pseudo"
                id="ref-for-negation-pseudo④">:not()</a>内では無効です。
        </p>
        <div class="example" id="example-2a176618">
            <a class="self-link" href="#example-2a176618"></a> 例：次のセレクターはHTML文書内のすべての<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element"
                id="ref-for-the-button-element">button</a>要素のうち、disabledでないものに一致します。
            <pre>button:not([DISABLED]) </pre>
            <p>次のセレクターはFOO要素以外すべてを表します。</p>
            <pre>*:not(FOO)</pre>
            <p>次の複合セレクターはリンク以外のすべてのHTML要素を表します。</p>
            <pre>html|*:not(:link):not(:visited)</pre>
        </div>
        <p><a class="css" data-link-type="maybe" href="#matches-pseudo" id="ref-for-matches-pseudo⑨">:is()</a>同様、
            デフォルト名前空間宣言は、<a data-link-type="dfn" href="#compound" id="ref-for-compound②⑤">複合セレクター</a>（<a
                data-link-type="dfn" href="#selector-subject" id="ref-for-selector-subject②">対象</a>）には影響しません。
            ただし、明示的な<a data-link-type="dfn" href="#universal-selector" id="ref-for-universal-selector⑤">全称セレクター</a>や<a
                data-link-type="dfn" href="#type-selector" id="ref-for-type-selector④">型セレクター</a>を含む場合を除きます。
            （例は<span class="css" id="ref-for-matches-pseudo①⓪">:is()</span>参照。）</p>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe" href="#negation-pseudo"
                id="ref-for-negation-pseudo⑥">:not()</a>疑似クラスでは無用なセレクターも書けます。
            例えば<span class="css">:not(*|*)</span>は全く要素に一致しませんし、
            <span class="css">div:not(span)</span>は<span class="css">div</span>と同義ですが特異性が高くなります。
        </p>
        <h3 class="heading settled" data-level="4.4" id="zero-matches"><span class="secno">4.4. </span><span
                class="content">特異性調整疑似クラス：<a class="css" data-link-type="maybe" href="#where-pseudo"
                    id="ref-for-where-pseudo">:where()</a></span><a class="self-link" href="#zero-matches"></a></h3>
        <p>特異性調整疑似クラス<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="where-pseudo">:where()</dfn>は、
            <a class="css" data-link-type="maybe" href="#matches-pseudo"
                id="ref-for-matches-pseudo①①">:is()</a>と同じ構文と機能を持つ関数型疑似クラスです。
            <span class="css" id="ref-for-matches-pseudo①②">:is()</span>と異なり、
            <a class="css" data-link-type="maybe" href="#where-pseudo"
                id="ref-for-where-pseudo①">:where()</a>疑似クラス自身も、その引数も、
            セレクターの<a data-link-type="dfn" href="#specificity" id="ref-for-specificity">特異性</a>に一切寄与しません—<wbr>その<span
                id="ref-for-specificity①">特異性</span>は常にゼロです。
        </p>
        <p>これは、セレクターにフィルターを加えつつ、関連するスタイル宣言が簡単に上書きできるようにする際に有用です。</p>
        <div class="example" id="example-7ca50acf">
            <a class="self-link" href="#example-7ca50acf"></a> 下記は特異性のヒューリスティックが著者の期待と合致しない典型例です：
            <pre>a:not(:hover) {
  text-decoration: none;
}

nav a {
  /* 効果なし */
  text-decoration: underline;
}
</pre>
            <p>しかし、<a class="css" data-link-type="maybe" href="#where-pseudo"
                    id="ref-for-where-pseudo②">:where()</a>を使うことで著者の意図を明示できます：</p>
            <pre>a:where(:not(:hover)) {
  text-decoration: none;
}

nav a {
  /* 期待通り動作！ */
  text-decoration: underline;
}
</pre>
        </div>
        <p class="note" role="note"><span>注:</span> 今後のSelectors仕様では、この疑似クラスの特異性を明示的に設定する引数が追加される可能性があります。</p>
        <h3 class="heading settled" data-level="4.5" id="relational"><span class="secno">4.5. </span><span
                class="content">関係疑似クラス：<a class="css" data-link-type="maybe" href="#has-pseudo"
                    id="ref-for-has-pseudo①">:has()</a></span><a class="self-link" href="#relational"></a></h3>
        <p>関係疑似クラス<dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="has-pseudo">:has()</dfn>は、
            <a class="production css" data-link-type="type" href="#typedef-forgiving-relative-selector-list"
                id="ref-for-typedef-forgiving-relative-selector-list">&lt;forgiving-relative-selector-list></a>を引数に取る関数型疑似クラスです。
            <a data-link-type="dfn" href="#relative-selector" id="ref-for-relative-selector①">相対セレクター</a>をこの要素に<a
                data-link-type="dfn" href="#relative-selector-anchor-elements"
                id="ref-for-relative-selector-anchor-elements②">アンカー</a>として評価したときに、少なくとも1つの要素に一致する場合、その要素を表します。
        </p>
        <p><a class="css" data-link-type="maybe" href="#has-pseudo"
                id="ref-for-has-pseudo②">:has()</a>疑似クラスは入れ子にできません。<span class="css"
                id="ref-for-has-pseudo③">:has()</span>の中で<span class="css" id="ref-for-has-pseudo④">:has()</span>は無効です。
            また、<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="has-allowed-pseudo-element">:has-allowed
                疑似要素</dfn>として明示的に定義されていない限り、<a data-link-type="dfn" href="#pseudo-element"
                id="ref-for-pseudo-element②⑥">疑似要素</a>は<span class="css"
                id="ref-for-has-pseudo⑤">:has()</span>内のセレクターとして無効です。
            （本仕様では<a data-link-type="dfn" href="#has-allowed-pseudo-element"
                id="ref-for-has-allowed-pseudo-element">:has-allowed 疑似要素</a>は定義していませんが、他仕様で定義される可能性があります。）
        </p>
        <p class="note" role="note"><span>注:</span> 疑似要素は一般的に<a class="css" data-link-type="maybe" href="#has-pseudo"
                id="ref-for-has-pseudo⑥">:has()</a>から除外されています。
            これは多くの疑似要素が祖先のスタイル次第で条件付きで存在するため、
            <span class="css" id="ref-for-has-pseudo⑦">:has()</span>での問い合わせを許可すると循環参照が生じるためです。
        </p>
        <div class="example" id="example-61d52da1">
            <a class="self-link" href="#example-61d52da1"></a>
            例：次のセレクターは、<code>&lt;a></code>要素で<code>&lt;img></code>子要素を持つものだけに一致します：
            <pre>a:has(> img)</pre>
            <p>次のセレクターは、直後に別の<code>&lt;dt></code>要素が続く<code>&lt;dt></code>要素に一致します：</p>
            <pre>dt:has(+ dt)</pre>
            <p>次のセレクターは、いずれの見出し要素も含まない<code>&lt;section></code>要素に一致します：</p>
            <pre>section:not(:has(h1, h2, h3, h4, h5, h6))</pre>
            <p>上記セレクターでは、入れ子の順番が重要です。
                もし2つの疑似クラスのネストを逆にして：</p>
            <pre>section:has(:not(h1, h2, h3, h4, h5, h6))</pre>
            <p>...とすると、見出し要素以外を含む<code>&lt;section></code>要素すべてに一致してしまいます。</p>
        </div>
        <h2 class="heading settled" data-level="5" id="elemental-selectors"><span class="secno">5. </span><span
                class="content">要素セレクター</span><a class="self-link" href="#elemental-selectors"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="type-selectors"><span class="secno">5.1. </span><span
                class="content">型（タグ名）セレクター</span><a class="self-link" href="#type-selectors"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="type-selector">型セレクター</dfn>は、文書言語の要素型名であり、
            文書ツリー内でその要素型のインスタンスを表します。</p>
        <div class="example" id="example-087f4a77"><a class="self-link" href="#example-087f4a77"></a> 例：セレクター<span
                class="css">h1</span>は、文書内の<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                id="ref-for-the-h1-element">h1</a>要素を表します。 </div>
        <p><a data-link-type="dfn" href="#type-selector" id="ref-for-type-selector⑤">型セレクター</a>は、
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-namespaces-3/#css-qualified-name"
                id="ref-for-css-qualified-name">CSS修飾名</a>（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#css-css-identifier"
                id="ref-for-css-css-identifier②">識別子</a>＋オプションの名前空間プレフィックス）として記述します。<a data-link-type="biblio"
                href="#biblio-css3namespace">[CSS3NAMESPACE]</a>（<a href="#type-nmsp">§ 5.3 要素セレクターの名前空間</a>参照。）
        </p>
        <h3 class="heading settled" data-level="5.2" id="the-universal-selector"><span class="secno">5.2. </span><span
                class="content">全称セレクター</span><a class="self-link" href="#the-universal-selector"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="universal-selector">全称セレクター</dfn>は、特別な<a
                data-link-type="dfn" href="#type-selector" id="ref-for-type-selector⑥">型セレクター</a>であり、
            任意の要素型の要素を表します。</p>
        <p>これは、ローカル名としてアスタリスク（<code>*</code> U+002A）を使った<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-namespaces-3/#css-qualified-name"
                id="ref-for-css-qualified-name①">CSS修飾名</a>として記述します。
            <a data-link-type="dfn" href="#type-selector" id="ref-for-type-selector⑦">型セレクター</a>同様、
            <a data-link-type="dfn" href="#universal-selector" id="ref-for-universal-selector⑥">全称セレクター</a>は名前空間で修飾でき、
            その名前空間に属する要素に限定されます。
            デフォルト名前空間の影響は<a href="#type-nmsp">§ 5.3 要素セレクターの名前空間</a>参照。
        </p>
        <p>要素が<a data-link-type="dfn" href="#featureless" id="ref-for-featureless④">特徴なし</a>でない限り、
            <a data-link-type="dfn" href="#universal-selector"
                id="ref-for-universal-selector⑦">全称セレクター</a>の有無は一致判定に影響しません。
            （<span id="ref-for-featureless⑤">特徴なし</span>要素は、<span
                id="ref-for-universal-selector⑧">全称セレクター</span>を含むいかなるセレクターにも一致しません。）
        </p>
        <div class="example" id="example-0f5d51ca">
            <a class="self-link" href="#example-0f5d51ca"></a>
            <ul>
                <li> <span class="css">*[hreflang|=en]</span>と<span class="css">[hreflang|=en]</span>は同義です。
                <li><span class="css">*.warning</span>と<span class="css">.warning</span>は同義です。
                <li><span class="css">*#myid</span>と<span class="css">#myid</span>は同義です。
            </ul>
        </div>
        <p><a data-link-type="dfn" href="#universal-selector" id="ref-for-universal-selector⑨">全称セレクター</a>は他の<a
                data-link-type="dfn" href="#type-selector" id="ref-for-type-selector⑧">型セレクター</a>と同じ構文規則に従います。
            1つの<a data-link-type="dfn" href="#compound" id="ref-for-compound②⑥">複合セレクター</a>につき1つだけ、
            かつ<span id="ref-for-compound②⑦">複合セレクター</span>の最初の<a data-link-type="dfn" href="#simple"
                id="ref-for-simple①②">単純セレクター</a>である必要があります。</p>
        <p class="note" role="note"><span>注:</span> 場合によっては、<a data-link-type="dfn" href="#universal-selector"
                id="ref-for-universal-selector①⓪">全称セレクター</a>を加えることでセレクターが読みやすくなることがあります。
            例えば、<span class="css">div :first-child</span>と<span class="css">div:first-child</span>は一見区別しづらいですが、
            前者を<span class="css">div *:first-child</span>として書けば違いが明確になります。</p>
        <h3 class="heading settled" data-level="5.3" id="type-nmsp"><span class="secno">5.3. </span><span
                class="content">要素セレクターの名前空間</span><a class="self-link" href="#type-nmsp"></a>
        </h3>
        <p><a data-link-type="dfn" href="#type-selector" id="ref-for-type-selector⑨">型セレクター</a>と<a data-link-type="dfn"
                href="#universal-selector" id="ref-for-universal-selector①①">全称セレクター</a>は、オプションで名前空間部を持てます。
            事前に<a href="#nsdecl" id="ref-for-nsdecl">宣言</a>された名前空間プレフィックスを要素名の前に「縦棒」（<code>|</code> U+007C）で区切って付加できます。
            （XMLでの名前空間利用例は<a data-link-type="biblio" href="#biblio-xml-names">[XML-NAMES]</a>参照。）
            各形式の意味は以下の通りです：</p>
        <dl>
            <dt><code>ns|E</code>
            <dd> 名前空間nsのEという名前の要素
            <dt><code>*|E</code>
            <dd> いずれかの名前空間（名前空間なしを含む）のEという名前の要素
            <dt><code>|E</code>
            <dd> 名前空間なしのEという名前の要素
            <dt><code>E</code>
            <dd> セレクター用のデフォルト名前空間が<a href="#nsdecl" id="ref-for-nsdecl②">宣言</a>されていなければ、*|Eと同等。
                宣言されていれば、ns|E（nsはデフォルト名前空間）と同等。
        </dl>
        <div class="example" id="example-53e1ab95">
            <a class="self-link" href="#example-53e1ab95"></a> CSS例：
            <pre>@namespace foo url(http://www.example.com);
foo|h1 { color: blue }  /* 最初の規則 */
foo|* { color: yellow } /* 2番目の規則 */
|h1 { color: red }      /* ...*/
*|h1 { color: green }
h1 { color: green }
</pre>
            <p>最初の規則（<span class="css">@namespace</span>規則は除く）は、
                "http://www.example.com"名前空間の<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                    id="ref-for-the-h1-element①">h1</a>要素だけに一致します。</p>
            <p>2番目の規則は、"http://www.example.com"名前空間のすべての要素に一致します。</p>
            <p>3番目の規則は、名前空間なしの<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                    id="ref-for-the-h1-element②">h1</a>要素だけに一致します。</p>
            <p>4番目の規則は、いずれかの名前空間（名前空間なしを含む）の<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                    id="ref-for-the-h1-element③">h1</a>要素に一致します。</p>
            <p>最後の規則は、デフォルト名前空間が定義されていないため、4番目の規則と同じ意味です。</p>
        </div>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-namespaces-3/#default-namespace"
                id="ref-for-default-namespace">デフォルト名前空間</a>が宣言されている場合、<a data-link-type="dfn" href="#compound"
                id="ref-for-compound②⑧">複合セレクター</a>内に<a data-link-type="dfn" href="#type-selector"
                id="ref-for-type-selector①⓪">型セレクター</a>がない場合でも、
            そのデフォルト名前空間の要素だけに一致します。</p>
        <div class="example" id="example-03281ceb">
            <a class="self-link" href="#example-03281ceb"></a> 例：次のスタイルシートでは、
            <pre>@namespace url("http://example.com/foo");

.special { ... }
</pre>
            <p><span class="css">.special</span>セレクターは、型名への言及がなくても、"http://example.com/foo"名前空間の要素だけに一致します。</p>
        </div>
        <p><a data-link-type="dfn" href="#type-selector" id="ref-for-type-selector①①">型セレクター</a>や<a data-link-type="dfn"
                href="#universal-selector" id="ref-for-universal-selector①②">全称セレクター</a>が、
            事前に<a href="#nsdecl" id="ref-for-nsdecl③">宣言</a>されていない名前空間プレフィックスを含む場合、それは<a data-link-type="dfn"
                href="#invalid-selector" id="ref-for-invalid-selector②">無効なセレクター</a>です。</p>
        <h3 class="heading settled" data-level="5.4" id="the-defined-pseudo"><span class="secno">5.4. </span><span
                class="content">定義済み疑似クラス：<a class="css" data-link-type="maybe" href="#defined-pseudo"
                    id="ref-for-defined-pseudo">:defined</a></span><a class="self-link" href="#the-defined-pseudo"></a>
        </h3>
        <p>一部のホスト言語では、
            要素が「定義済み」または「構築済み」とそうでないものに区別できます。
            <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="defined-pseudo">:defined</dfn> <a
                data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class①③">疑似クラス</a>は、
            ホスト言語が定めた完全に定義済みの要素に一致します。
        </p>
        <p>ホスト言語にこの区別がない場合は、
            その中のすべての要素が<a class="css" data-link-type="maybe" href="#defined-pseudo"
                id="ref-for-defined-pseudo①">:defined</a>に一致します。</p>
        <div class="example" id="example-cd9dcdb2">
            <a class="self-link" href="#example-cd9dcdb2"></a> HTMLでは、すべての組み込み要素は常に定義済みとみなされるため、
            次の例は必ず一致します：
            <pre class="highlight"><c- k>p</c-><c- p>:</c->defined <c- p>{</c-> ... <c- p>}</c-></pre>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element"
                    id="ref-for-custom-element">カスタム要素</a>は、最初は未定義で、
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/custom-elements.html#element-definition"
                    id="ref-for-element-definition">正しく登録</a>されて初めて定義済みとなります。
                つまり<a class="css" data-link-type="maybe" href="#defined-pseudo"
                    id="ref-for-defined-pseudo②">:defined</a>疑似クラスは、
                カスタム要素が登録されるまで非表示にするのに使えます：
            </p>
            <pre>custom-element { visibility: hidden }</pre>
            <pre>custom-element:defined { visibility: visible }</pre>
        </div>
        <h2 class="heading settled" data-level="6" id="attribute-selectors"><span class="secno">6. </span><span
                class="content">属性セレクター</span><a class="self-link" href="#attribute-selectors"></a></h2>
        <p>セレクターは要素の属性を表現できます。セレクターが要素に一致するかどうか判定する式として使われる場合、
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="attribute-selector">属性セレクター</dfn>は、
            要素が属性セレクターで表される属性に一致する属性を持つ場合に一致したものとみなされます。
        </p>
        <p class="issue" id="issue-745ef775"><a class="self-link" href="#issue-745ef775"></a>カンマ区切り構文による<a
                href="https://lists.w3.org/Archives/Public/www-style/2011Mar/0215.html">複数値一致</a>の追加？
            例：[rel ~= next, prev, up, first, last]</p>
        <h3 class="heading settled" data-level="6.1" id="attribute-representation"><span class="secno">6.1. </span><span
                class="content">属性の存在・値セレクター</span><a class="self-link" href="#attribute-representation"></a></h3>
        <p>CSS2では4種類の属性セレクターが導入されました：</p>
        <dl>
            <dt><span class="css">[att]</span>
            <dd> 属性<code>att</code>を持つ要素を表します。値が何であっても一致します。
            <dt><span class="css">[att=val]</span>
            <dd> 属性<code>att</code>の値が正確に"val"である要素を表します。
            <dt><span class="css">[att~=val]</span>
            <dd> 属性<code>att</code>の値が<a href="#whitespace"
                    id="ref-for-whitespace③">空白</a>区切りの単語リストで、そのいずれかが正確に"val"である要素を表します。
                "val"に空白が含まれる場合、何にも一致しません（単語はスペースで<em>区切られる</em>ため）。
                また、"val"が空文字の場合も一致しません。
            <dt><span class="css">[att|=val]</span>
            <dd> 属性<code>att</code>の値が、正確に"val"であるか、"val"の直後に"-"（U+002D）が付く形で始まる要素を表します。
                これは主に言語サブコードの一致（例：HTMLの<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"
                    id="ref-for-the-a-element②">a</a>要素の<code>hreflang</code>属性）を念頭に置いたものです。
                BCP 47（<a data-link-type="biblio" href="#biblio-bcp47">[BCP47]</a>）やその後継仕様参照。
                <code>lang</code>（または<code>xml:lang</code>）による言語サブコード一致については、<a class="css" data-link-type="maybe"
                    href="#lang-pseudo" id="ref-for-lang-pseudo③">:lang()</a>疑似クラスを参照してください。
        </dl>
        <p>属性値は<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token"
                id="ref-for-typedef-ident-token">&lt;ident-token></a>または<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-syntax-3/#typedef-string-token"
                id="ref-for-typedef-string-token">&lt;string-token></a>でなければなりません。<a data-link-type="biblio"
                href="#biblio-css3syn">[CSS3SYN]</a></p>
        <div class="example" id="example-52ee808b">
            <a class="self-link" href="#example-52ee808b"></a> 例：
            <p>次の属性セレクターは、<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                    id="ref-for-the-h1-element④">h1</a>要素で、<code>title</code>属性を持つもの（値は問わない）を表します：</p>
            <pre>h1[title]</pre>
            <p>次の例では、セレクターが<code>class</code>属性が正確に"example"である<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-span-element"
                    id="ref-for-the-span-element">span</a>要素を表します：</p>
            <pre>span[class="example"]</pre>
            <p>複数の属性セレクターは、要素の複数属性や同じ属性に対する条件を表現できます。以下は<code>hello</code>属性が"Cleveland"、<code>goodbye</code>属性が"Columbus"である<a
                    data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-span-element"
                    id="ref-for-the-span-element①">span</a>要素を表します：</p>
            <pre>span[hello="Cleveland"][goodbye="Columbus"]</pre>
            <p>以下のCSS規則は"="と"~="の違いを示します。1つ目のセレクターは、<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"
                    id="ref-for-the-a-element③">a</a>要素で<code>rel</code>属性値が"copyright copyleft
                copyeditor"のようなものに一致します。2つ目は<code>href</code>属性値が正確に"http://www.w3.org/"である<a
                    id="ref-for-the-a-element④">a</a>要素だけに一致します。</p>
            <pre>a[rel~="copyright"] { ... }
a[href="http://www.w3.org/"] { ... }
</pre>
            <p>次のセレクターは、<code>hreflang</code>属性が正確に"fr"である<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"
                    id="ref-for-the-a-element⑤">a</a>要素を表します。</p>
            <pre>a[hreflang=fr] </pre>
            <p>次のセレクターは、<code>hreflang</code>属性値が"en"で始まる（"en"、"en-US"、"en-scouse"など）<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"
                    id="ref-for-the-a-element⑥">a</a>要素を表します：</p>
            <pre>a[hreflang|="en"] </pre>
            <p>次のセレクターは、属性<code>character</code>の値が"romeo"または"juliet"のいずれかである<a
                    data-link-type="element">DIALOGUE</a>要素を表します：</p>
            <pre>DIALOGUE[character=romeo]
DIALOGUE[character=juliet]
</pre>
        </div>
        <h3 class="heading settled" data-level="6.2" id="attribute-substrings"><span class="secno">6.2. </span><span
                class="content">部分一致属性セレクター</span><a class="self-link" href="#attribute-substrings"></a></h3>
        <p>属性値の部分文字列一致のため、3つの追加属性セレクターが提供されています：</p>
        <dl>
            <dt><span class="css">[att^=val]</span>
            <dd> 属性<code>att</code>の値が"val"で始まる要素を表します。
                "val"が空文字の場合、一致しません。
            <dt><span class="css">[att$=val]</span>
            <dd> 属性<code>att</code>の値が"val"で終わる要素を表します。
                "val"が空文字の場合、一致しません。
            <dt><span class="css">[att*=val]</span>
            <dd> 属性<code>att</code>の値に"val"の部分文字列が含まれる要素を表します。
                "val"が空文字の場合、一致しません。
        </dl>
        <p>属性値は<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token"
                id="ref-for-typedef-ident-token①">&lt;ident-token></a>または<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-syntax-3/#typedef-string-token"
                id="ref-for-typedef-string-token①">&lt;string-token></a>でなければなりません。</p>
        <div class="example" id="example-d887e2c3">
            <a class="self-link" href="#example-d887e2c3"></a> 例：
            次のセレクターは、画像を参照するHTMLの<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-object-element"
                id="ref-for-the-object-element">object</a>要素を表します：
            <pre>object[type^="image/"] </pre>
            <p>次のセレクターは、<code>href</code>属性値が".html"で終わる<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"
                    id="ref-for-the-a-element⑦">a</a>要素を表します：</p>
            <pre>a[href$=".html"] </pre>
            <p>次のセレクターは、<code>title</code>属性値に"hello"という部分文字列が含まれるHTMLの段落要素を表します：</p>
            <pre>p[title*="hello"] </pre>
        </div>
        <h3 class="heading settled" data-level="6.3" id="attribute-case"><span class="secno">6.3. </span><span
                class="content">大文字・小文字の区別</span><a class="self-link" href="#attribute-case"></a></h3>
        <p>属性名や属性値の大文字・小文字の区別は、原則として文書言語に依存します。</p>
        <p>文書言語の規則に関係なく、属性値を<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive③">ASCII大文字小文字を区別せず</a>に一致させるには、
            属性セレクターの閉じ括弧（<code>]</code>）前に識別子<code>i</code>を追加できます。
            このフラグがある場合、UAは属性値を<span
                id="ref-for-ascii-case-insensitive④">ASCII大文字小文字を区別せず</span>に一致させる必要があります（[a-z]と[A-Z]を同等とみなす）。</p>
        <p>また、属性セレクターの閉じ括弧前に識別子<code>s</code>を追加すると、
            UAは値を大文字小文字を区別して一致させる必要があります。
            この場合は文書言語の規則に関係なく「<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is"
                id="ref-for-string-is①">完全一致</a>」になります。<a data-link-type="biblio" href="#biblio-infra">[INFRA]</a></p>
        <p>セレクター構文同様、<code>i</code>と<code>s</code>識別子自体は<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive⑤">ASCII大文字小文字を区別しません</a>。</p>
        <div class="example" id="example-348bad1b">
            <a class="self-link" href="#example-348bad1b"></a> 次の規則は、XML環境で属性値が大文字小文字を区別される場合でも、
            <code>frame</code>属性値が<code>hsides</code>（<code>hsides</code>, <code>HSIDES</code>,
            <code>hSides</code>等）に一致する場合にスタイルします。
            <pre>[frame=hsides i] { border-style: solid none; } </pre>
        </div>
        <div class="example" id="example-f596236d">
            <a class="self-link" href="#example-f596236d"></a> 次の規則では、HTMLが<code>type</code>属性を大文字小文字区別しないと定義していても、
            <code>type="a"</code>と<code>type="A"</code>で別のスタイルを適用します。
            <pre>[type="a" s] { list-style: lower-alpha; }
[type="A" s] { list-style: upper-alpha; }
</pre>
        </div>
        <p class="note" role="note"><span>注:</span> 一部の文書モデルでは、パース時に大文字小文字を区別しない属性値が正規化されるため、元のケースで一致判定できない場合があります。
            <code>s</code>フラグによる大文字小文字区別一致は、元のケースが保存されるシステムでのみ可能です。
        </p>
        <h3 class="heading settled" data-level="6.4" id="attrnmsp"><span class="secno">6.4. </span><span
                class="content">属性セレクターと名前空間</span><a class="self-link" href="#attrnmsp"></a>
        </h3>
        <p>属性セレクターの属性名は<a data-link-type="dfn" href="https://www.w3.org/TR/css-namespaces-3/#css-qualified-name"
                id="ref-for-css-qualified-name②">CSS修飾名</a>として与えられます。事前に<a data-link-type="dfn" href="#nsdecl"
                id="ref-for-nsdecl④">宣言</a>された名前空間プレフィックスを属性名の前に「縦棒」(<code>|</code>)で区切って付加できます。XML名前空間勧告の原則に従い、デフォルト名前空間は属性には適用されません。したがって、名前空間部なしの属性セレクターは名前空間なし属性のみを対象とします（<span
                class="css">|attr</span>と同等）。名前空間プレフィックスにアスタリスクを使うと、属性の名前空間に関係なく一致させることができます。</p>
        <p>事前に<a data-link-type="dfn" href="#nsdecl" id="ref-for-nsdecl①">宣言</a>されていない名前空間プレフィックスを含む属性名の属性セレクターは無効です。
        </p>
        <div class="example" id="example-a7ca2cb1">
            <a class="self-link" href="#example-a7ca2cb1"></a> CSS例：
            <pre>@namespace foo "http://www.example.com";
[foo|att=val] { color: blue }
[*|att] { color: yellow }
[|att] { color: green }
[att] { color: green }
</pre>
            <p>1つ目の規則は、"http://www.example.com"名前空間で値が"val"の<code>att</code>属性を持つ要素だけに一致します。</p>
            <p>2つ目の規則は、属性<code>att</code>の名前空間に関係なく（一切ない場合も含む）、その属性を持つ要素に一致します。</p>
            <p>最後の2つの規則は同義で、名前空間なし属性<code>att</code>を持つ要素に一致します。</p>
        </div>
        <h3 class="heading settled" data-level="6.5" id="def-values"><span class="secno">6.5. </span><span
                class="content">DTD内のデフォルト属性値</span><a class="self-link" href="#def-values"></a>
        </h3>
        <p>属性セレクターは文書ツリー内の属性値を表します。文書ツリーの構築方法はSelectorsの対象外です。
            一部文書形式ではDTDなどでデフォルト属性値が定義できますが、これらは文書ツリーに現れている場合のみ属性セレクターで選択できます。Selectorsは、デフォルト値が文書ツリーに含まれていてもいなくても動作するよう設計すべきです。
        </p>
        <p>例えば、XML UAは「外部サブセット」を読むことが<em>できるが</em>、必須ではありません。一方「内部サブセット」のデフォルト属性値は<em>必ず</em>参照しなければなりません。
            （これらの定義は<a data-link-type="biblio"
                href="#biblio-xml10">[XML10]</a>参照。）UAの実装によっては、DTD外部サブセットで定義されたデフォルト属性値が文書ツリーに現れない場合もあります。</p>
        <p>XML名前空間を認識するUAは、その名前空間の知識を使ってデフォルト属性値を文書に存在するものとして扱うこともできますが、必須ではありません（例：XHTML UAはXHTML
            DTDの組み込み知識を使う必要はありません）。
            詳細は<a data-link-type="biblio" href="#biblio-xml-names">[XML-NAMES]</a>参照。</p>
        <p class="note" role="note"><span>注:</span> 多くの実装は外部サブセットを無視します。これはXML仕様の非検証型プロセッサの動作と一致します。</p>
        <div class="example" id="example-2ffa5c63">
            <a class="self-link" href="#example-2ffa5c63"></a> 例：
            <p>デフォルト値<code>"decimal"</code>を持つ<code>radix</code>属性を持つ<code>EXAMPLE</code>要素について、DTD断片：</p>
            <pre class="dtd-example">&lt;!ATTLIST EXAMPLE radix (decimal,octal) "decimal"> </pre>
            <p>スタイルシートに次の規則がある場合：</p>
            <pre>EXAMPLE[radix=decimal] { /*... default property settings ...*/ }
EXAMPLE[radix=octal]   { /*... other settings...*/ }
</pre>
            <p>最初の規則は、<code>radix</code>属性がデフォルトで設定されていて明示的に指定されていない場合、要素に一致しない場合があります。すべての場合を網羅するには、デフォルト値用の属性セレクターは除外する必要があります：
            </p>
            <pre>EXAMPLE                { /*... default property settings ...*/ }
EXAMPLE[radix=octal]   { /*... other settings...*/ }
</pre>
            <p>この場合、セレクター''EXAMPLE[radix=octal]''は型セレクターよりも特異性が高いため、2番目の規則のスタイル宣言が<code>radix</code>属性値が"octal"の要素に対して優先されます。デフォルトのみ適用したい宣言は、非デフォルトのスタイル規則で必ず上書きするよう注意が必要です。
            </p>
        </div>
        <h3 class="heading settled" data-level="6.6" id="class-html"><span class="secno">6.6. </span><span
                class="content">クラスセレクター</span><a class="self-link" href="#class-html"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="class-selector">クラスセレクター</dfn>は、ドット（.
            U+002E）の直後に識別子を付けて記述します。これは、その識別子で定義されたクラスに属する要素を表します（文書言語で定義）。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>、<a data-link-type="biblio"
                href="#biblio-svg11">[SVG11]</a>、<a data-link-type="biblio" href="#biblio-mathml">[MATHML]</a>では、
            クラスへの所属は<code>class</code>属性によります。これらの言語では、ローカル<code>class</code>属性への<code>~=</code>記法
            （<code>[class~=<var>identifier</var>]</code>）と同等です。</p>
        <div class="example" id="example-f9c08b5b">
            <a class="self-link" href="#example-f9c08b5b"></a> CSS例：
            <p>すべての要素で<code>class~="pastoral"</code>を持つものにスタイルを割り当てる：</p>
            <pre>*.pastoral { color: green }  /* class~=pastoral の全要素 */ </pre>
            <p>または単に：</p>
            <pre>.pastoral { color: green }  /* class~=pastoral の全要素 */ </pre>
            <p>H1要素で<code>class~="pastoral"</code>のみスタイルする：</p>
            <pre>H1.pastoral { color: green }  /* H1でclass~=pastoral */ </pre>
            <p>この規則により、以下の最初の<code>H1</code>は緑にならず、2つ目は緑色になります：</p>
            <pre>&lt;H1>Not green&lt;/H1>
&lt;H1 class="pastoral">Very green&lt;/H1>
</pre>
            <p>次の規則は、<code>class</code>属性値が空白区切りリストで<code>pastoral</code>と<code>marine</code>両方を含む<a
                    data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"
                    id="ref-for-the-p-element">P</a>要素に一致します：</p>
            <pre>p.pastoral.marine { color: green } </pre>
            <p>この規則は<code>class="pastoral blue aqua
		marine"</code>の場合は一致しますが、<code>class="pastoral
		blue"</code>の場合は一致しません。</p>
        </div>
        <p class="note" role="note"><span>注:</span>
            CSSでは"クラス"属性に大きな力があるため、著者がほぼスタイルだけで構成された独自の「文書言語」を設計することもできます（HTMLの<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element"
                id="ref-for-the-div-element">div</a>や<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-span-element"
                id="ref-for-the-span-element②">span</a>など）。しかし、文書言語の構造要素には認知・定義的な意味があるため、著者定義のクラスの多用は避けるべきです。</p>
        <p class="note" role="note"><span>注:</span>
            要素に複数のclass属性がある場合、それらの値はスペースで連結して検索する前に扱われます。現状このような状況になる方法は知られていないため、この仕様では非規範扱いとします。</p>
        <p>ドキュメントが<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-quirks"
                id="ref-for-concept-document-quirks">クイックスモード</a>である場合、
            クラス名は<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive⑥">ASCII大文字小文字を区別せず</a>に一致させなければなりません。
            それ以外の場合はクラスセレクターは大文字小文字区別し、<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is"
                id="ref-for-string-is②">完全一致</a>のみ一致します。<a data-link-type="biblio" href="#biblio-infra">[INFRA]</a>
        </p>
        <h3 class="heading settled" data-level="6.7" id="id-selectors"><span class="secno">6.7. </span><span
                class="content">IDセレクター</span><a class="self-link" href="#id-selectors"></a></h3>
        <p>文書言語はID型属性を宣言できる場合があります。
            ID型属性の特別な点は、どの要素型であっても、同じ値のID型属性を持つ要素が1つだけという点です（適合文書の場合）。
            文書言語が何であれ、ID型属性は要素を一意に識別できます。
            HTMLではID属性は全て<code>id</code>です。
            XMLではID属性名は異なる場合がありますが、同じ制約が適用されます。
            どの属性が"ID属性"かは文書言語で定義されます。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="id-selector">IDセレクター</dfn>は、「ナンバーサイン」（U+0023,
            <code>#</code>）の直後にID値（CSS<a
                href="https://www.w3.org/TR/CSS21/syndata.html#value-def-identifier">識別子</a>）を記述します。
            IDセレクターは、ID型属性の値がセレクターの識別子と一致する要素インスタンスを表します。
            （適合しない文書では複数要素が1つのIDセレクターに一致する場合もあります。）
        </p>
        <div class="example" id="example-3e8dc597">
            <a class="self-link" href="#example-3e8dc597"></a> 例：
            次のIDセレクターは、ID型属性値が"chapter1"である<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                id="ref-for-the-h1-element⑤">h1</a>要素を表します：
            <pre>h1#chapter1 </pre>
            <p>次のIDセレクターは、ID型属性値が"chapter1"である任意の要素を表します：</p>
            <pre>#chapter1 </pre>
            <p>次のセレクターは、ID型属性値が"z98y"である任意の要素を表します：</p>
            <pre>*#z98y </pre>
        </div>
        <p class="note" role="note"><span>注:</span> XML 1.0<a data-link-type="biblio"
                href="#biblio-xml10">[XML10]</a>では、どの属性がIDかはDTDやスキーマに記載されています。XMLパース時、UAは必ずしもDTDを読まないため、要素のIDがわからない場合があります（ただし、名前空間ごとにID属性を判定できる知識を持つUAもあり得ます）。スタイルシート著者がUAがID属性を判別できない可能性を考慮する場合、通常の属性セレクター（''[name=p371]<span
                class="css"> の代わりに </span>#p371''）を使うべきです。</p>
        <p>要素が複数のID属性を持つ場合、それらすべてがIDセレクターの対象IDとみなされます（xml:id、DOM3 Core、XML DTD、名前空間固有知識の混在などで発生し得る）。</p>
        <p>ドキュメントが<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-quirks"
                id="ref-for-concept-document-quirks①">クイックスモード</a>である場合、
            IDは<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive⑦">ASCII大文字小文字を区別せず</a>に一致させなければなりません。
            それ以外の場合はIDセレクターは大文字小文字区別し、<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is"
                id="ref-for-string-is③">完全一致</a>のみ一致します。<a data-link-type="biblio" href="#biblio-infra">[INFRA]</a>
        </p>
        <h2 class="heading settled" data-level="7" id="linguistic-pseudos"><span class="secno">7. </span><span
                class="content">言語疑似クラス</span><a class="self-link" href="#linguistic-pseudos"></a>
        </h2>
        <h3 class="heading settled" data-level="7.1" id="the-dir-pseudo"><span class="secno">7.1. </span><span
                class="content">方向性疑似クラス：<a class="css" data-link-type="maybe" href="#dir-pseudo"
                    id="ref-for-dir-pseudo">:dir()</a></span><a class="self-link" href="#the-dir-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="dir-pseudo">:dir()</dfn>
            疑似クラスは、<a data-link-type="dfn" href="#document-language"
                id="ref-for-document-language②">文書言語</a>によって決定される要素の方向性に基づいて要素を表現するセレクターを著者が記述できるようにします。
            例えば、<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では、
            <a href="https://html.spec.whatwg.org/multipage/dom.html#the-directionality">要素の方向性の決定方法</a>が
            <code>dir</code>属性や周囲のテキスト、他の要因の組み合わせによって定義されています。
            別の例としては、Internationalization Tag Setの<code>its:dir</code>や<code>dirRule</code>要素が
            <a data-link-type="biblio" href="#biblio-its20">[ITS20]</a>で
            <a data-link-type="biblio" href="#biblio-xml10">[XML10]</a>内の要素の方向性を定義できます。
        </p>
        <p><a class="css" data-link-type="maybe" href="#dir-pseudo" id="ref-for-dir-pseudo①">:dir()</a>疑似クラスは、
            スタイル状態（例えばCSSの<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                id="ref-for-propdef-direction">direction</a>プロパティ）によって選択されるものではありません。</p>
        <p><span class="css">:dir(ltr)</span> 疑似クラスは左から右（<code>ltr</code>）の方向性を持つ要素を表し、
            <span class="css">:dir(rtl)</span>は右から左（<code>rtl</code>）の方向性を持つ要素を表します。
            <a class="css" data-link-type="maybe" href="#dir-pseudo"
                id="ref-for-dir-pseudo②">:dir()</a>の引数は1つの識別子でなければならず、
            それ以外は無効です。識別子と括弧の間には空白を入れてもかまいません。
            <code>ltr</code>や<code>rtl</code>以外の値は無効ではありませんが、一致しません。
            （将来のマークアップ仕様で他の方向性が定義された場合、Selectorsも対応値を許可する可能性があります。）
        </p>
        <p><span class="css">:dir(C)</span>と''[dir=C]''の違いは、''[dir=C]''は単に要素の属性値だけを比較するのに対し、
            <span class="css">:dir(C)</span>疑似クラスはUAの文書セマンティクスの知識を使って比較する点です。
            例えばHTMLでは、<code>dir</code>属性を持たない子要素は最も近い有効な<code>dir</code>属性を持つ祖先の方向性を継承します。
            また、HTMLでは''[dir=auto]''に一致する要素は、内容により決定された方向性に応じて
            <span class="css">:dir(ltr)</span>や<span class="css">:dir(rtl)</span>に一致します。<a data-link-type="biblio"
                href="#biblio-html5">[HTML5]</a>
        </p>
        <h3 class="heading settled" data-level="7.2" id="the-lang-pseudo"><span class="secno">7.2. </span><span
                class="content">言語疑似クラス：<a class="css" data-link-type="maybe" href="#lang-pseudo"
                    id="ref-for-lang-pseudo④">:lang()</a></span><a class="self-link" href="#the-lang-pseudo"></a></h3>
        <p>文書言語が要素の（人間の）<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#content-language"
                id="ref-for-content-language">内容言語</a>の決定方法を定めている場合、
            要素の<span id="ref-for-content-language①">内容言語</span>に基づいたセレクターを記述できます。
            <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="lang-pseudo">:lang()</dfn>
            疑似クラスは、
            カンマ区切りの1つ以上の<a data-link-type="dfn" href="#language-range" id="ref-for-language-range①">言語範囲</a>を受け取り、
            引数に挙げたいずれかの言語が<span id="ref-for-content-language②">内容言語</span>である要素を表します。
            <a class="css" data-link-type="maybe" href="#lang-pseudo" id="ref-for-lang-pseudo⑤">:lang()</a>内の各<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="language-range">言語範囲</dfn>は、
            有効なCSS<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-ident" id="ref-for-typedef-ident">&lt;ident></a>または<a
                class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#string-value"
                id="ref-for-string-value">&lt;string></a>でなければなりません。
            （アスタリスクなどを含む場合、正しくエスケープするか文字列として引用する必要があります。例：<span class="css">:lang(\*-Latn)</span>や<span
                class="css">:lang("*-Latn")</span>。）
        </p>
        <p class="note" role="note"><span>注:</span> 要素の<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-text-3/#content-language"
                id="ref-for-content-language③">内容言語</a>は文書言語によって定義されます。
            例えばHTMLでは、<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>にて
            <span id="ref-for-content-language④">内容言語</span>は<code>lang</code>属性や
            <a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#meta"
                id="ref-for-meta">meta</a>要素の情報、
            プロトコル（HTTPヘッダ等）によって決定されます。
            XML言語では<code>xml:lang</code>属性で言語情報を示します。<a data-link-type="biblio" href="#biblio-xml10">[XML10]</a>
        </p>
        <p>要素の<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#content-language"
                id="ref-for-content-language⑤">内容言語</a>は、
            BCP 47構文<a data-link-type="biblio" href="#biblio-bcp47">[BCP47]</a>で表現され、
            <a data-link-type="biblio" href="#biblio-rfc4647">[RFC4647]</a>の<cite>Matching of Language
                Tags</cite>（3.3.2節）における
            <var>拡張フィルタリング</var>操作で<span id="ref-for-language-range③">言語範囲</span>に一致する場合に、
            その<span id="ref-for-language-range②">言語範囲</span>に一致します。
            この目的のため、ワイルドカード<span id="ref-for-language-range④">言語範囲</span>（<code>"*"</code>）は
            言語タグが無い（例：<code>lang=""</code>）要素には一致しませんが、
            言語が未定（<code>lang=und</code>）とタグ付けされた要素には一致します。
            一致判定は<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive⑧">ASCII大文字小文字を区別しません</a>。
            <span id="ref-for-language-range⑤">言語範囲</span>が有効な言語コードでなくても比較できます。
        </p>
        <p><a data-link-type="dfn" href="#language-range" id="ref-for-language-range⑥">言語範囲</a>が空文字列
            （<span class="css">:lang("")</span>）の場合、
            言語タグがない要素だけに一致します。</p>
        <p class="note" role="note"><span>注:</span> 文書やプロトコルでは<a data-link-type="biblio"
                href="#biblio-bcp47">[BCP47]</a>以降のコードを用い、
            XML系では<code>xml:lang</code>属性で言語を示すことが推奨されます。<a data-link-type="biblio" href="#biblio-xml10">[XML10]</a>
            詳細は<a href="https://www.w3.org/International/questions/qa-lang-2or3.html">“FAQ: Two-letter or three-letter
                language codes.”</a>参照。</p>
        <div class="example" id="example-91142d84">
            <a class="self-link" href="#example-91142d84"></a> 例：
            次の2つのセレクターはベルギーのフランス語またはドイツ語のHTML文書を表します。
            さらに2つはベルギーのフランス語またはドイツ語の任意要素内の<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element"
                id="ref-for-the-q-element">q</a>引用を表します。
            <pre>html:lang(fr-be)
html:lang(de)
:lang(fr-be) > q
:lang(de) > q
</pre>
        </div>
        <p class="note" role="note"><span>注:</span> <span class="css">:lang(C)</span>と''|=''演算子の違いは、
            ''|=''演算子は単に要素の属性だけを比較するのに対し、
            <span class="css">:lang(C)</span>疑似クラスはUAの文書セマンティクスの知識を使って比較する点です。
        </p>
        <div class="example" id="example-c45712e2">
            <a class="self-link" href="#example-c45712e2"></a> このHTML例では、BODYは''[lang|=fr]''に一致します（LANG属性を持つため）が、
            BODYとPの両方が<span class="css">:lang(fr)</span>に一致します（両方ともフランス語）。
            PはLANG属性を持たないため、''[lang|=fr]''には一致しません。
            <pre>&lt;body lang=fr>
  &lt;p>Je suis français.&lt;/p>
&lt;/body>
</pre>
        </div>
        <div class="example" id="example-c3df9362">
            <a class="self-link" href="#example-c3df9362"></a> さらに<span class="css">:lang(C)</span>と''|=''演算子の違いは、
            <span class="css">:lang(C)</span>が暗黙のワイルドカード一致を行うことです。
            <p>例：<span class="css">:lang(de-DE)</span>は<span class="css">de-DE</span>、
                <span class="css">de-DE-1996</span>、<span class="css">de-Latn-DE</span>、<span
                    class="css">de-Latf-DE</span>、<span class="css">de-Latn-DE-1996</span>すべてに一致します。
                一方''[lang|=de-DE]<span class="css">は </span>de-DE''と<span class="css">de-DE-1996</span>だけに一致します。
            </p>
            <p>主言語のサブタグでワイルドカード一致をするには、アスタリスクを使います：<span class="css">*-CH</span>は<span class="css">de-CH</span>、<span
                    class="css">it-CH</span>、<span class="css">fr-CH</span>、<span class="css">rm-CH</span>すべてに一致します。</p>
            <p>この種の言語範囲一致で要素のlang属性値に対して選択するには、
                属性セレクターと言語疑似クラスを組み合わせて使います。
                例：<span class="css">[lang]:lang(de-DE)</span>。</p>
        </div>
        <p class="note" role="note"><span>注:</span> ワイルドカード言語一致とカンマ区切りリストはLevel 4で新たに追加された機能です。</p>
        <h2 class="heading settled" data-level="8" id="location"><span class="secno">8. </span><span class="content">
                ロケーション疑似クラス</span><a class="self-link" href="#location"></a></h2>
        <h3 class="heading settled" data-level="8.1" id="the-any-link-pseudo"><span class="secno">8.1. </span><span
                class="content">ハイパーリンク疑似クラス：<a class="css" data-link-type="maybe" href="#any-link-pseudo"
                    id="ref-for-any-link-pseudo">:any-link</a></span><a class="self-link"
                href="#the-any-link-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="any-link-pseudo">:any-link</dfn>
            疑似クラスは、ハイパーリンクのソースアンカーとなる要素を表します。
            例えば、<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element⑧">a</a></code>
            や
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element" id="ref-for-the-area-element">area</a></code>
            要素で
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href" id="ref-for-attr-hyperlink-href">href</a></code>
            属性を持つものがハイパーリンクとなり、<code>:any-link</code>に一致します。
            要素が<a class="css" data-link-type="maybe" href="#link-pseudo" id="ref-for-link-pseudo">:link</a>または<a
                class="css" data-link-type="maybe" href="#visited-pseudo"
                id="ref-for-visited-pseudo">:visited</a>に一致する場合、
            <code>:any-link</code>にも一致します。
            これは<span class="css">:is(:link, :visited)</span>と同等です。
        </p>
        <h3 class="heading settled" data-level="8.2" id="link"><span class="secno">8.2. </span><span class="content">
                リンク履歴疑似クラス：<a class="css" data-link-type="maybe" href="#link-pseudo" id="ref-for-link-pseudo①">:link</a>
                および <a class="css" data-link-type="maybe" href="#visited-pseudo"
                    id="ref-for-visited-pseudo①">:visited</a></span><a class="self-link" href="#link"></a></h3>
        <p>ユーザーエージェントは通常、未訪問<a href="#the-any-link-pseudo">ハイパーリンク</a>と既訪問のものを異なる方法で表示します。Selectorsは
            <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="link-pseudo">:link</dfn>および<dfn
                class="dfn-paneled css" data-dfn-type="selector" data-export
                id="visited-pseudo">:visited</dfn>疑似クラスで区別します：
        </p>
        <ul>
            <li><a class="css" data-link-type="maybe" href="#link-pseudo" id="ref-for-link-pseudo②">:link</a>
                疑似クラスはまだ訪問されていないリンクに適用されます。
            <li><a class="css" data-link-type="maybe" href="#visited-pseudo" id="ref-for-visited-pseudo②">:visited</a>
                疑似クラスはユーザーが訪問したリンクに適用されます。
        </ul>
        <p>一定時間後、ユーザーエージェントが訪問済みリンクを再び（未訪問）<a class="css" data-link-type="maybe" href="#link-pseudo"
                id="ref-for-link-pseudo③">:link</a>状態に戻すこともあります。</p>
        <p>この2つの状態は互いに排他的です。</p>
        <div class="example" id="example-0fcef6cd">
            <a class="self-link" href="#example-0fcef6cd"></a> 次のセレクターは、クラス<code>footnote</code>を持ち、既に訪問済みのリンクを表します：
            <pre>.footnote:visited </pre>
        </div>
        <p>:linkと:visited疑似クラスを濫用して、ユーザーの同意なしに訪問したサイトを特定できてしまうため、
            UAはすべてのリンクを未訪問として扱ったり、訪問・未訪問リンクの描画時にユーザーのプライバシーを保護する別の方法をとったりすることがあります。</p>
        <h3 class="heading settled" data-level="8.3" id="the-local-link-pseudo"><span class="secno">8.3. </span><span
                class="content">ローカルリンク疑似クラス：<a class="css" data-link-type="maybe" href="#local-link-pseudo"
                    id="ref-for-local-link-pseudo">:local-link</a></span><a class="self-link"
                href="#the-local-link-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="local-link-pseudo">:local-link</dfn>疑似クラスは、著者が<a
                href="#the-any-link-pseudo">ハイパーリンク</a>をユーザーのサイト内現在位置に基づいてスタイルできるようにします。
            この疑似クラスは、ハイパーリンクのターゲットの絶対URLが要素自身の文書URLと一致する場合のソースアンカー要素を表します。
            ハイパーリンクのターゲットがフラグメントURLを含む場合は、現在のURLのフラグメントURLも一致しなければなりません。
            一致しない場合、現在のURLのフラグメント部分は比較から除外されます。</p>
        <div class="example" id="example-d2555a3c">
            <a class="self-link" href="#example-d2555a3c"></a> 例：次の規則は、ナビゲーションリスト内で現在のページを指すリンクの下線を消します：
            <pre>nav :local-link { text-decoration: none; } </pre>
        </div>
        <p class="note" role="note"><span>注:</span> ページの現在のURLは、ユーザーが同じページ内の異なるフラグメントへのリンクをクリックしたり、
            <code>pushState</code>APIの利用、ページ遷移やリダイレクト（HTTPや<code>&lt;meta http-equiv="..."></code>、
            スクリプトなど）などの結果で変化します。
            UAは<a class="css" data-link-type="maybe" href="#local-link-pseudo"
                id="ref-for-local-link-pseudo①">:local-link</a>や、
            以下の<a class="css" data-link-type="maybe" href="#target-pseudo" id="ref-for-target-pseudo">:target</a>および<a
                class="css" data-link-type="maybe" href="#target-within-pseudo"
                id="ref-for-target-within-pseudo">:target-within</a>疑似クラスが
            こうした状態変化に正しく反応するようにしなければなりません。
        </p>
        <h3 class="heading settled" data-level="8.4" id="the-target-pseudo"><span class="secno">8.4. </span><span
                class="content">ターゲット疑似クラス：<a class="css" data-link-type="maybe" href="#target-pseudo"
                    id="ref-for-target-pseudo①">:target</a></span><a class="self-link" href="#the-target-pseudo"></a>
        </h3>
        <p>一部の文書言語では、文書のURLがさらに文書内の特定要素<em>内</em>をURLの<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-fragment"
                id="ref-for-concept-url-fragment">フラグメント</a>で指すことができます。
            このように指された要素が文書のターゲット要素です。</p>
        <div class="example" id="example-b8c5336f"><a class="self-link" href="#example-b8c5336f"></a>
            HTMLでは、フラグメントはページ内で同じIDを持つ要素を指します。
            例えば、<code>https://example.com/index.html#section2</code>は
            <code>https://example.com/index.html</code>の中で<code>id="section2"</code>を持つ要素を指します。
        </div>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="target-pseudo">:target</dfn>
            疑似クラスは文書のターゲット要素に一致します。
            文書のURLにフラグメント識別子がない場合、ターゲット要素はありません。</p>
        <div class="example" id="example-8a386e7c">
            <a class="self-link" href="#example-8a386e7c"></a> 例：
            <pre>p.note:target </pre>
            <p>このセレクターは、参照URLのターゲット要素となる
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element" id="ref-for-the-p-element①">p</a></code>
                クラス<code>note</code>の要素を表します。
            </p>
        </div>
        <div class="example" id="example-af403697">
            <a class="self-link" href="#example-af403697"></a> CSS例：
            ここでは<a class="css" data-link-type="maybe" href="#target-pseudo"
                id="ref-for-target-pseudo②">:target</a>疑似クラスで、
            ターゲット要素を赤くし、画像を前に配置します（あれば）：
            <pre>:target { color : red }
:target::before { content : url(target.png) }
</pre>
        </div>
        <h3 class="heading settled" data-level="8.5" id="the-target-within-pseudo"><span class="secno">8.5. </span><span
                class="content">ターゲットコンテナ疑似クラス：<a class="css" data-link-type="maybe" href="#target-within-pseudo"
                    id="ref-for-target-within-pseudo①">:target-within</a></span><a class="self-link"
                href="#the-target-within-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="target-within-pseudo">:target-within</dfn>疑似クラスは、
            <a class="css" data-link-type="maybe" href="#target-pseudo"
                id="ref-for-target-pseudo③">:target</a>疑似クラスが適用される要素、
            および<a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                id="ref-for-flat-tree">フラットツリー</a>内の子孫（テキストノードのような非要素ノードも含む）が
            <span class="css" id="ref-for-target-pseudo④">:target</span>の一致条件を満たす要素に適用されます。
        </p>
        <h3 class="heading settled" data-level="8.6" id="the-scope-pseudo"><span class="secno">8.6. </span><span
                class="content">参照要素疑似クラス：<a class="css" data-link-type="maybe" href="#scope-pseudo"
                    id="ref-for-scope-pseudo">:scope</a></span><a class="self-link" href="#the-scope-pseudo"></a></h3>
        <p>文脈によっては、セレクターが一つ以上の<a data-link-type="dfn" href="#scoping-root" id="ref-for-scoping-root②">スコープルート</a>に対して
            マッチする場合があります。例えば、<a data-link-type="biblio" href="#biblio-dom">[DOM]</a>の<code
                class="idl"><a data-link-type="idl">querySelector()</a></code>メソッドを呼び出す場合などです。
            <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="scope-pseudo">:scope</dfn>擬似クラスは、
            この<span id="ref-for-scoping-root③">スコープルート</span>を表します。
            このスコープルートは、実際の要素であっても仮想的なもの（例えば<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#documentfragment" id="ref-for-documentfragment">DocumentFragment</a></code>など）であっても構いません。
        </p>
        <p>スコープルートが存在しない場合、
            <a class="css" data-link-type="maybe" href="#scope-pseudo" id="ref-for-scope-pseudo①">:scope</a>は文書のルートを表します
            （<a class="css" data-link-type="maybe" href="#root-pseudo" id="ref-for-root-pseudo">:root</a>と同等）。
            特定の要素にこの疑似クラスを一致させたい場合は、
            該当仕様で<span id="ref-for-scoping-root⑤">スコープルート</span>を定義する必要があります。
        </p>
        <p>仮想的な<a data-link-type="dfn" href="#scoping-root"
                id="ref-for-scoping-root⑥">スコープルート</a>は、文書フラグメントのルートを表すオブジェクトであり、
            セレクターパターン内で他の要素との関係を表すために使えます。
            この<span id="ref-for-scoping-root⑦">スコープルート</span>は、フラグメント内のルート要素の親として機能します。
            仮想的な<span id="ref-for-scoping-root⑧">スコープルート</span>は<a data-link-type="dfn" href="#featureless"
                id="ref-for-featureless⑥">特徴なし</a>であり、<a data-link-type="dfn" href="#selector-subject"
                id="ref-for-selector-subject③">セレクターの対象</a>にはなりません。</p>
        <div class="example" id="example-ef427647">
            <a class="self-link" href="#example-ef427647"></a> 例：<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#documentfragment" id="ref-for-documentfragment①">DocumentFragment</a></code>
            <code>df</code>がある場合、
            <code
                class="highlight">df<c- p>.</c->querySelectorAll<c- p>(</c-><c- u>":scope > .foo"</c-><c- p>)</c-></code>
            は、ドキュメントフラグメント内で「トップレベル」の<span class="css">.foo</span>要素
            （document fragmentを<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-parentnode" id="ref-for-dom-node-parentnode">parentNode</a></code>とするもの）すべてに一致します。
            <p>一方、<code
                    class="highlight">df<c- p>.</c->querySelector<c- p>(</c-><c- u>":scope"</c-><c- p>)</c-></code>は何にも一致しません。
                なぜなら、ドキュメントフラグメント自身は<a data-link-type="dfn" href="#selector-subject"
                    id="ref-for-selector-subject④">セレクターの対象</a>になれないからです。</p>
        </div>
        <h2 class="heading settled" data-level="9" id="useraction-pseudos"><span class="secno">9. </span><span
                class="content">ユーザー操作疑似クラス</span><a class="self-link" href="#useraction-pseudos"></a>
        </h2>
        <p>インタラクティブなユーザーインターフェースでは、ユーザー操作に応じて表示が変化することがあります。
            Selectorsは、ユーザーが操作中の要素を選択するための<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="user action pseudo-class" data-noexport
                id="user-action-pseudo-class">ユーザー操作疑似クラス</dfn>を複数提供します。
            （非インタラクティブなユーザーエージェントでは、これらの疑似クラスは有効ですが、何にも一致しません。）</p>
        <p>これらの疑似クラスは互いに排他的ではありません。
            1つの要素が複数のユーザー操作疑似クラスに同時に一致する場合もあります。</p>
        <div class="example" id="example-eaf585d5">
            <a class="self-link" href="#example-eaf585d5"></a> 例：
            <pre>a:link    /* 未訪問リンク */
a:visited /* 訪問済みリンク */
a:hover   /* ホバー中 */
a:active  /* アクティブリンク */
</pre>
            <p>動的疑似クラスを組み合わせる例：</p>
            <pre>a:focus
a:focus:hover
</pre>
            <p>最後のセレクターは、:focus疑似クラスと:hover疑似クラスの両方に一致する<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"
                    id="ref-for-the-a-element⑨">a</a>要素に一致します。</p>
        </div>
        <p class="note" role="note"><span>注:</span> このセクションで定義される複数の疑似クラスの適用条件を判定するために必要なヒットテストの詳細はまだ未定義ですが、将来定義されます。
        </p>
        <h3 class="heading settled" data-level="9.1" id="the-hover-pseudo"><span class="secno">9.1. </span><span
                class="content">ポインターホバー疑似クラス：<a class="css" data-link-type="maybe" href="#hover-pseudo"
                    id="ref-for-hover-pseudo①">:hover</a></span><a class="self-link" href="#the-hover-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="hover-pseudo">:hover</dfn>
            疑似クラスは、ユーザーがポインティングデバイスで要素を指している間に適用されますが、必ずしもアクティブ化されている必要はありません。
            例えば、ビジュアルユーザーエージェントは、要素が生成するボックスにカーソル（マウスポインタ）が乗っているときにこの疑似クラスを適用できます。
            ハードウェア制限でホバーを検出できないインタラクティブユーザーエージェント（例：ホバー検出できないペンデバイス）でも適合となります。
            その場合、このセレクターはUAでは一致しません。</p>
        <p>要素の<a class="css" data-link-type="maybe" href="#hover-pseudo" id="ref-for-hover-pseudo②">:hover</a>一致は、<a
                data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                id="ref-for-flat-tree①">フラットツリー</a>内の子孫（テキストノード等の非要素ノードも含む）が
            上記条件を満たしていても成立します。</p>
        <p>文書言語によっては、<a class="css" data-link-type="maybe" href="#hover-pseudo"
                id="ref-for-hover-pseudo③">:hover</a>が一致する追加条件を定義している場合があります。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では、ラベル付きコントロール要素はラベル要素がホバーされた場合に<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-hover">:hover</a>に一致します。</p>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe" href="#hover-pseudo"
                id="ref-for-hover-pseudo④">:hover</a>状態は、子要素がポインティングデバイスで指されていることで親要素にも適用されるため、
            実際にはポインタが乗っていない要素にも<span class="css" id="ref-for-hover-pseudo⑤">:hover</span>が適用されることがあります。</p>
        <p><a class="css" data-link-type="maybe" href="#hover-pseudo"
                id="ref-for-hover-pseudo⑥">:hover</a>疑似クラスは任意の疑似要素にも適用できます。</p>
        <h3 class="heading settled" data-level="9.2" id="the-active-pseudo"><span class="secno">9.2. </span><span
                class="content">アクティベーション疑似クラス：<a class="css" data-link-type="maybe" href="#active-pseudo"
                    id="ref-for-active-pseudo">:active</a></span><a class="self-link" href="#the-active-pseudo"></a>
        </h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="active-pseudo">:active</dfn>
            疑似クラスは、ユーザーによって要素がアクティブ化されている間に適用されます。例えば、ユーザーがマウスボタンを押している間と離した瞬間の間です。複数のマウスボタンがあるシステムでは、<a class="css"
                data-link-type="maybe" href="#active-pseudo"
                id="ref-for-active-pseudo①">:active</a>はプライマリボタン（通常は左ボタン）またはそのエイリアスにのみ適用されます。</p>
        <p>どの要素が<a class="css" data-link-type="maybe" href="#active-pseudo"
                id="ref-for-active-pseudo②">:active</a>になれるかは、文書言語や実装によって制限がある場合があります。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-active">アクティブ化可能な要素のリスト</a>が定義されています。
        </p>
        <p>要素の<a class="css" data-link-type="maybe" href="#active-pseudo" id="ref-for-active-pseudo③">:active</a>一致は、<a
                data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                id="ref-for-flat-tree②">フラットツリー</a>内の子孫（テキストノード等の非要素ノードも含む）が
            上記条件を満たしていても成立します。</p>
        <p>文書言語ごとに<a class="css" data-link-type="maybe" href="#active-pseudo"
                id="ref-for-active-pseudo④">:active</a>が一致する追加条件を定義している場合があります。</p>
        <p class="note" role="note"><span>注:</span> 要素は<a class="css" data-link-type="maybe" href="#visited-pseudo"
                id="ref-for-visited-pseudo③">:visited</a>と<a class="css" data-link-type="maybe" href="#active-pseudo"
                id="ref-for-active-pseudo⑤">:active</a>（または<a class="css" data-link-type="maybe" href="#link-pseudo"
                id="ref-for-link-pseudo④">:link</a>と<span class="css"
                id="ref-for-active-pseudo⑥">:active</span>）の両方に一致することがあります。</p>
        <h3 class="heading settled" data-level="9.3" id="the-focus-pseudo"><span class="secno">9.3. </span><span
                class="content">入力フォーカス疑似クラス：<a class="css" data-link-type="maybe" href="#focus-pseudo"
                    id="ref-for-focus-pseudo②">:focus</a></span><a class="self-link" href="#the-focus-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="focus-pseudo">:focus</dfn>
            疑似クラスは、要素がフォーカス（キーボードやマウスイベント、他の入力を受け付ける状態）を持っている間に適用されます。</p>
        <p>どの要素が<a class="css" data-link-type="maybe" href="#focus-pseudo"
                id="ref-for-focus-pseudo③">:focus</a>を取得できるかは、文書言語や実装ごとに制限がある場合があります。
            例：<a data-link-type="biblio" href="#biblio-html">[HTML]</a>では<a
                href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area">フォーカス可能領域</a>のリストが定義されています。
        </p>
        <p>文書言語によっては、<a class="css" data-link-type="maybe" href="#focus-pseudo"
                id="ref-for-focus-pseudo④">:focus</a>が一致する追加条件を定義している場合がありますが、
            <span class="css" id="ref-for-focus-pseudo⑤">:focus</span>疑似クラスが自動的に親要素へ伝播してはなりません（親要素への一致が必要な場合は<a
                class="css" data-link-type="maybe" href="#focus-within-pseudo"
                id="ref-for-focus-within-pseudo">:focus-within</a>を使用）。
            （他の仕組みで伝播させる場合は親要素にも適用できますが、親要素であるだけでは伝播しません。）
        </p>
        <p class="issue" id="issue-1416193e"><a class="self-link" href="#issue-1416193e"></a> フォームコントロールから関連ラベル要素へ<a
                class="css" data-link-type="maybe" href="#focus-pseudo"
                id="ref-for-focus-pseudo⑥">:focus</a>を伝播させたいという著者からの要望がありますが、主な反対理由は実装の困難さのようです。
            <a href="https://github.com/w3c/csswg-drafts/issues/397">CSSWG issue (CSS)</a>や<a
                href="https://github.com/whatwg/html/issues/1632">WHATWG issue (HTML)</a>参照。
        </p>
        <h3 class="heading settled" data-level="9.4" id="the-focus-visible-pseudo"><span class="secno">9.4. </span><span
                class="content">フォーカス表示疑似クラス：<a class="css" data-link-type="maybe" href="#focus-visible-pseudo"
                    id="ref-for-focus-visible-pseudo">:focus-visible</a></span><span
                id="the-focusring-pseudo"></span><span id="focus-ring-pseudo"></span><a class="self-link"
                href="#the-focus-visible-pseudo"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#focus-pseudo" id="ref-for-focus-pseudo⑦">:focus</a><a
                data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class①④">疑似クラス</a>は常に現在フォーカスを持つ要素に一致しますが、
            UAはしばしば「フォーカスリング」の描画など、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="indicate-focus">フォーカス表示</dfn>を目に見える形で示す場合と、ユーザーに有益な場面だけに限定する場合があります。
            <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="focus-visible-pseudo">:focus-visible</dfn><span id="ref-for-pseudo-class①⑤">疑似クラス</span>は、
            そうした状況でのみフォーカスされた要素に一致し、
            著者がフォーカス表示の見た目だけを変えつつ、表示タイミング自体は変えずに済むようにします。
        </p>
        <div class="example" id="example-c40d8011">
            <a class="self-link" href="#example-c40d8011"></a> この例では、すべてのフォーカス可能要素は<a class="css" data-link-type="maybe"
                href="#focus-visible-pseudo" id="ref-for-focus-visible-pseudo①">:focus-visible</a>時に強い黄色のアウトラインを表示し、
            リンクは<span class="css" id="ref-for-focus-visible-pseudo②">:focus-visible</span>時にアウトラインと背景色の両方が黄色になります。
            これらのスタイルはページ全体で一貫しており、強調された見た目なので視認性が高いですが、
            必要な場面でのみ表示されます。
            <pre class="highlight">:root <c- p>{</c->
  <c- k>--focus-gold</c-><c- p>:</c-> #ffbf47<c- p>;</c->
<c- p>}</c->

:focus-visible  <c- p>{</c->
  <c- k>outline</c-><c- p>:</c-> <c- m>3</c-><c- k>px</c-> solid <c- nf>var</c-><c- p>(</c->--focus-gold<c- p>);</c->
<c- p>}</c->

a:focus-visible <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <c- nf>var</c-><c- p>(</c->--focus-gold<c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <div class="example" id="example-5e32edd8">
            <a class="self-link" href="#example-5e32edd8"></a> UAはフォーカス表示のタイミングを独自のヒューリスティックで決めてもよいですが、
            以下の（非規範的な）提案を参考に、現在フォーカスされた要素への<span id="ref-for-indicate-focus①">フォーカス表示</span>のタイミングを決定できます：
            <ul>
                <li data-md>
                    <p>ユーザーが常にフォーカス表示を見たいと希望した場合（システムやブラウザの設定など）、他の要因に関わらず<span
                            id="ref-for-indicate-focus②">フォーカス表示</span>を行う。
                        （UAが独自のフォーカス表示を著者スタイルに関わらず表示する選択肢もあり得る。）</p>
                <li data-md>
                    <p>要素がキーボード入力をサポートしている場合
                        （例：<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element">input</a></code>など、
                        キーボードが無いとき仮想キーボードを表示する要素）、<span id="ref-for-indicate-focus③">フォーカス表示</span>を行う。
                    </p>
                <li data-md>
                    <p>ユーザーがキーボードやポインティングデバイス以外で操作した場合は<span id="ref-for-indicate-focus④">フォーカス表示</span>を行う。
                        （キーボード操作によって、この疑似クラスが一致するかどうかは変わることがあります。<a class="css" data-link-type="maybe"
                            href="#focus-pseudo" id="ref-for-focus-pseudo⑧">:focus</a>には影響しません。）</p>
                <li data-md>
                    <p>ポインティングデバイス（マウス、タッチスクリーン等）で操作し、フォーカス要素がキーボード入力をサポートしない場合は、<span
                            id="ref-for-indicate-focus⑤">フォーカス表示</span>を行わない。</p>
                <li data-md>
                    <p>前回フォーカスされた要素が<span id="ref-for-indicate-focus⑥">フォーカス表示</span>されていた場合、
                        スクリプトでフォーカスが移動したら新しい要素にも<span id="ref-for-indicate-focus⑦">フォーカス表示</span>をする。</p>
                    <p>逆に、前回フォーカスされた要素が<span id="ref-for-indicate-focus⑧">フォーカス表示</span>されていなかった場合は、スクリプト移動後も新しい要素は<span
                            id="ref-for-indicate-focus⑨">フォーカス表示</span>されない。</p>
            </ul>
        </div>
        <p>UAは<a class="css" data-link-type="maybe" href="#focus-visible-pseudo"
                id="ref-for-focus-visible-pseudo③">:focus-visible</a>をデフォルトフォーカススタイル指定に使うべきです。
            そうすれば、著者が<span class="css" id="ref-for-focus-visible-pseudo④">:focus-visible</span>を使う場合にデフォルト<a class="css"
                data-link-type="maybe" href="#focus-pseudo" id="ref-for-focus-pseudo⑨">:focus</a>スタイルを無効化する必要がありません。</p>
        <h3 class="heading settled" data-level="9.5" id="the-focus-within-pseudo"><span class="secno">9.5. </span><span
                class="content">フォーカスコンテナ疑似クラス：<a class="css" data-link-type="maybe" href="#focus-within-pseudo"
                    id="ref-for-focus-within-pseudo①">:focus-within</a></span><a class="self-link"
                href="#the-focus-within-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="focus-within-pseudo">:focus-within</dfn>疑似クラスは、
            <a class="css" data-link-type="maybe" href="#focus-pseudo"
                id="ref-for-focus-pseudo①⓪">:focus</a>疑似クラスが適用される要素、
            および<a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                id="ref-for-flat-tree③">フラットツリー</a>内の子孫（テキストノードのような非要素ノードも含む）が
            <span class="css" id="ref-for-focus-pseudo①①">:focus</span>の一致条件を満たす要素に適用されます。
        </p>
        <h2 class="heading settled" data-level="10" id="time-pseudos"><span class="secno">10. </span><span
                class="content">時間次元疑似クラス</span><a class="self-link" href="#time-pseudos"></a>
        </h2>
        <p>これらの疑似クラスは、現在表示中またはアクティブなタイムライン上の位置に基づいて要素を分類します。たとえば、文書の音声レンダリング中や、WebVTTによる字幕表示付き動画の再生中などです。</p>
        <p>CSSはこのタイムラインを定義しません。
            ホスト言語が定義する必要があります。
            要素にタイムラインが定義されていない場合、これらの疑似クラスは要素に一致してはなりません。</p>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe" href="#current-pseudo"
                id="ref-for-current-pseudo①">:current</a>要素の祖先も<span class="css"
                id="ref-for-current-pseudo②">:current</span>となりますが、
            <a class="css" data-link-type="maybe" href="#past-pseudo" id="ref-for-past-pseudo">:past</a>や<a class="css"
                data-link-type="maybe" href="#future-pseudo" id="ref-for-future-pseudo">:future</a>要素の祖先は必ずしも<span
                class="css" id="ref-for-past-pseudo①">:past</span>や<span class="css"
                id="ref-for-future-pseudo①">:future</span>とは限りません。
            1つの要素は最大で<span class="css" id="ref-for-current-pseudo③">:current</span>、<span class="css"
                id="ref-for-past-pseudo②">:past</span>、<span class="css"
                id="ref-for-future-pseudo②">:future</span>のいずれか1つだけに一致します。
        </p>
        <h3 class="heading settled" data-level="10.1" id="the-current-pseudo"><span class="secno">10.1. </span><span
                class="content">現在要素疑似クラス：<a class="css" data-link-type="maybe" href="#current-pseudo"
                    id="ref-for-current-pseudo④">:current</a></span><a class="self-link" href="#the-current-pseudo"></a>
        </h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="current-pseudo">:current</dfn>
            疑似クラスは、現在表示されている要素またはその祖先要素を表します。</p>
        <p>その別形式<dfn class="css" data-dfn-type="selector" data-export id="selectordef-current">:current()<a
                    class="self-link" href="#selectordef-current"></a></dfn>は、<a class="css" data-link-type="maybe"
                href="#matches-pseudo" id="ref-for-matches-pseudo①③">:is()</a>のように、
            <a data-link-type="dfn" href="#compound" id="ref-for-compound②⑨">複合セレクター</a>のリストを引数に取ります。
            引数に一致する<a class="css" data-link-type="maybe" href="#current-pseudo"
                id="ref-for-current-pseudo⑤">:current</a>要素、または一致しない場合はその最も内側の祖先が一致します（どちらも一致しなければ何にも一致しません）。
        </p>
        <div class="example" id="example-34db2617">
            <a class="self-link" href="#example-34db2617"></a> 例：次の規則は、音声レンダリング中に読み上げられている段落やリスト項目をハイライトします：
            <pre>:current(p, li, dt, dd) {
  background: yellow;
}
</pre>
        </div>
        <h3 class="heading settled" data-level="10.2" id="the-past-pseudo"><span class="secno">10.2. </span><span
                class="content">過去要素疑似クラス：<a class="css" data-link-type="maybe" href="#past-pseudo"
                    id="ref-for-past-pseudo③">:past</a></span><a class="self-link" href="#the-past-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="past-pseudo">:past</dfn>
            疑似クラスは、<a class="css" data-link-type="maybe" href="#current-pseudo"
                id="ref-for-current-pseudo⑧">:current</a>要素より完全に前に現れる要素を表します。
            たとえば、WebVTT仕様では<a class="css" data-link-type="maybe" href="#past-pseudo"
                id="ref-for-past-pseudo④">:past</a>疑似クラスを
            <a href="http://dev.w3.org/html5/webvtt/#the-past-and-future-pseudo-classes">メディア要素の現在再生位置</a>に関連して定義しています。
            文書言語で時間ベースの順序が定義されていない場合、<span class="css"
                id="ref-for-current-pseudo⑨">:current</span>要素の（間接的な）前方兄弟要素すべてを表します。
        </p>
        <h3 class="heading settled" data-level="10.3" id="the-future-pseudo"><span class="secno">10.3. </span><span
                class="content">未来要素疑似クラス：<a class="css" data-link-type="maybe" href="#future-pseudo"
                    id="ref-for-future-pseudo③">:future</a></span><a class="self-link" href="#the-future-pseudo"></a>
        </h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="future-pseudo">:future</dfn>
            疑似クラスは、<a class="css" data-link-type="maybe" href="#current-pseudo"
                id="ref-for-current-pseudo①⓪">:current</a>要素より完全に後に現れる要素を表します。
            たとえば、WebVTT仕様では<a class="css" data-link-type="maybe" href="#future-pseudo"
                id="ref-for-future-pseudo④">:future</a>疑似クラスを
            <a href="http://dev.w3.org/html5/webvtt/#the-past-and-future-pseudo-classes">メディア要素の現在再生位置</a>に関連して定義しています。
            文書言語で時間ベースの順序が定義されていない場合、<span class="css"
                id="ref-for-current-pseudo①①">:current</span>要素の（間接的な）次方兄弟要素すべてを表します。
        </p>
        <h2 class="heading settled" data-level="11" id="resource-pseudos"><span class="secno">11. </span><span
                class="content">リソース状態疑似クラス</span><a class="self-link" href="#resource-pseudos"></a>
        </h2>
        <p>このセクションの疑似クラスは、主に画像や動画などロード済みリソースを表す要素に適用され、
            状態の質に基づいて選択できるようにします。</p>
        <h3 class="heading settled" data-level="11.1" id="video-state"><span class="secno">11.1. </span><span
                class="content">メディア再生状態：<a class="css" data-link-type="maybe" href="#selectordef-playing"
                    id="ref-for-selectordef-playing">:playing</a>、<a class="css" data-link-type="maybe"
                    href="#selectordef-paused" id="ref-for-selectordef-paused">:paused</a>、<a class="css"
                    data-link-type="maybe" href="#selectordef-seeking"
                    id="ref-for-selectordef-seeking">:seeking</a>疑似クラス</span><a class="self-link"
                href="#video-state"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-playing">:playing</dfn>
            疑似クラスは、「再生」または「一時停止」可能な要素が「再生中」の時に一致します。
            （明示的に再生中の場合だけでなく、一時的な停止でユーザー意図と関係なく停止していて、理由が解消されれば自動で再開される「バッファ中」や「停止中」状態も含みます。）</p>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-paused">:paused</dfn>
            疑似クラスは、「再生」または「一時停止」可能な要素が「一時停止中」（つまり「再生中」ではない）時に一致します。
            （明示的な「一時停止」状態だけでなく、「ロード済みでまだ起動されていない」などの非再生状態も含みます。）</p>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-seeking">:seeking</dfn>
            疑似クラスは、「シーク」可能な要素が「シーク中」の時に一致します。
            （HTMLの<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#audio" id="ref-for-audio">audio</a></code>および
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video" id="ref-for-video">video</a></code>要素については
            <a href="https://html.spec.whatwg.org/multipage/media.html#seeking"><cite>HTML</cite> § 4.8.11.9 シーク</a>参照。)
        </p>
        <h3 class="heading settled" data-level="11.2" id="media-loading-state"><span class="secno">11.2. </span><span
                class="content">メディア読み込み状態：<a class="css" data-link-type="maybe" href="#selectordef-buffering"
                    id="ref-for-selectordef-buffering">:buffering</a>、<a class="css" data-link-type="maybe"
                    href="#selectordef-stalled" id="ref-for-selectordef-stalled">:stalled</a>疑似クラス</span><a
                class="self-link" href="#media-loading-state"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-buffering">:buffering</dfn>疑似クラスは、「再生」または「一時停止」可能な要素が、
            再生を継続できない理由として<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/media.html#media-data"
                id="ref-for-media-data">メディアデータ</a>の取得を積極的に試みているが、
            再生再開に必要なデータをまだ取得できていない場合に一致します。
            （「バッファ中」でも「再生中」とみなされます。<a class="css" data-link-type="maybe" href="#selectordef-buffering"
                id="ref-for-selectordef-buffering①">:buffering</a>が要素に一致する場合、<a class="css" data-link-type="maybe"
                href="#selectordef-playing" id="ref-for-selectordef-playing①">:playing</a>も一致します。）</p>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-stalled">:stalled</dfn>
            疑似クラスは、要素が再生を継続できない理由として<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/media.html#media-data"
                id="ref-for-media-data①">メディアデータ</a>の取得を積極的に試みているが、
            一定時間データを全く取得できていない場合に一致します。
            （HTMLの<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#audio" id="ref-for-audio①">audio</a></code>および
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video" id="ref-for-video①">video</a></code>要素は
            この時間を<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/media.html#stall-timeout"
                id="ref-for-stall-timeout">メディア要素の停止タイムアウト</a>とします。<a data-link-type="biblio"
                href="#biblio-html">[HTML]</a>
            <a class="css" data-link-type="maybe" href="#selectordef-buffering"
                id="ref-for-selectordef-buffering②">:buffering</a>と同様、<a class="css" data-link-type="maybe"
                href="#selectordef-stalled" id="ref-for-selectordef-stalled①">:stalled</a>が一致する場合も<a class="css"
                data-link-type="maybe" href="#selectordef-playing"
                id="ref-for-selectordef-playing②">:playing</a>が一致します。)
        </p>
        <h3 class="heading settled" data-level="11.3" id="sound-state"><span class="secno">11.3. </span><span
                class="content">サウンド状態：<a class="css" data-link-type="maybe" href="#selectordef-muted"
                    id="ref-for-selectordef-muted">:muted</a>、<a class="css" data-link-type="maybe"
                    href="#selectordef-volume-locked" id="ref-for-selectordef-volume-locked">:volume-locked</a>
                疑似クラス</span><a class="self-link" href="#sound-state"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-muted">:muted</dfn>
            疑似クラスは、サウンドを再生できる要素が「ミュート」（強制消音）されている場合に一致します。
            （HTMLの<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#audio" id="ref-for-audio②">audio</a></code>および
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video" id="ref-for-video②">video</a></code>要素については、
            <a data-link-type="dfn" href="https://www.w3.org/TR/mediacapture-streams/#track-muted"
                id="ref-for-track-muted">muted</a>参照。<a data-link-type="biblio" href="#biblio-html">[HTML]</a>）
        </p>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-volume-locked">:volume-locked</dfn>疑似クラスは、
            サウンドを再生できる要素で、プログラム的にボリュームを変更しても
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/media.html#effective-media-volume"
                id="ref-for-effective-media-volume">実効メディア音量</a>が変化しない場合に一致します。
        </p>
        <h2 class="heading settled" data-level="12" id="display-state-pseudos"><span class="secno">12. </span><span
                class="content">要素表示状態疑似クラス</span><a class="self-link" href="#display-state-pseudos"></a></h2>
        <h3 class="heading settled" data-level="12.1" id="open-state"><span class="secno">12.1. </span><span
                class="content">折りたたみ状態：<a class="css" data-link-type="maybe" href="#selectordef-open"
                    id="ref-for-selectordef-open">:open</a>、<a class="css" data-link-type="maybe"
                    href="#selectordef-closed" id="ref-for-selectordef-closed">:closed</a>疑似クラス</span><a
                class="self-link" href="#open-state"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-open">:open</dfn>
            疑似クラスは、「open」と「closed」両方の状態を持ち、現在「open」状態の要素を表します。</p>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-closed">:closed</dfn>
            疑似クラスは、「open」と「closed」両方の状態を持ち、現在「closed」状態の要素を表します。</p>
        <p>「open」と「closed」の意味はホスト言語依存ですが、例としてHTMLの
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element" id="ref-for-the-details-element">details</a></code>や
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" id="ref-for-the-select-element">select</a></code>、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" id="ref-for-the-dialog-element">dialog</a></code>
            要素が挙げられます。どれも「open」にすると追加コンテンツが表示されます
            （<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" id="ref-for-the-dialog-element①">dialog</a></code>の場合は何も表示されないことも）。
        </p>
        <p class="note" role="note"><span>注:</span> 「open」や「closed」は意味的な状態です。
            現在表示されていない要素
            （たとえば<a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-visibility"
                id="ref-for-propdef-visibility">visibility: collapse</a>が適用されている要素や
            <a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                id="ref-for-propdef-display">display: none</a>サブツリーの要素）
            でも「open」状態であれば<a class="css" data-link-type="maybe" href="#selectordef-open"
                id="ref-for-selectordef-open①">:open</a>に一致します。
        </p>
        <h3 class="heading settled" data-level="12.2" id="modal-state"><span class="secno">12.2. </span><span
                class="content">モーダル（排他的操作）状態：<a class="css" data-link-type="maybe" href="#selectordef-modal"
                    id="ref-for-selectordef-modal">:modal</a>疑似クラス</span><a class="self-link" href="#modal-state"></a>
        </h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-modal">:modal</dfn>
            疑似クラスは、他の要素との操作を排除し、閉じるまで外部要素との操作ができない状態の要素を表します。
            複数の要素が同時に<a class="css" data-link-type="maybe" href="#selectordef-modal"
                id="ref-for-selectordef-modal①">:modal</a>になりえますが、
            そのうち1つだけがアクティブ（入力を受け付ける）です。</p>
        <div class="example" id="example-82b2b6f1"><a class="self-link" href="#example-82b2b6f1"></a>
            例：<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" id="ref-for-the-dialog-element②">dialog</a></code>
            要素は<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal" id="ref-for-dom-dialog-showmodal">showModal()</a></code>
            APIで開いた時に<a class="css" data-link-type="maybe" href="#selectordef-modal"
                id="ref-for-selectordef-modal②">:modal</a>になります。
            同様に、<a class="css" data-link-type="maybe" href="#selectordef-fullscreen"
                id="ref-for-selectordef-fullscreen">:fullscreen</a>要素も<code
                class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen">requestFullscreen()</a></code>
            APIで開いた場合は<span class="css" id="ref-for-selectordef-modal③">:modal</span>になります。
            これはページの他要素との操作を防ぐためです。
        </div>
        <h3 class="heading settled" data-level="12.3" id="fullscreen-state"><span class="secno">12.3. </span><span
                class="content">フルスクリーン表示状態：<a class="css" data-link-type="maybe" href="#selectordef-fullscreen"
                    id="ref-for-selectordef-fullscreen①">:fullscreen</a>
                疑似クラス</span><a class="self-link" href="#fullscreen-state"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-fullscreen">:fullscreen</dfn>疑似クラスは、
            フルスクリーンAPIなどで、画面のほぼ全体（通常は全体）を使って表示されている要素を表します。<a data-link-type="biblio"
                href="#biblio-fullscreen">[FULLSCREEN]</a></p>
        <h3 class="heading settled" data-level="12.4" id="pip-state"><span class="secno">12.4. </span><span
                class="content">ピクチャーインピクチャー表示状態：<a class="css" data-link-type="maybe"
                    href="#selectordef-picture-in-picture"
                    id="ref-for-selectordef-picture-in-picture">:picture-in-picture</a>疑似クラス</span><a class="self-link"
                href="#pip-state"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-picture-in-picture">:picture-in-picture</dfn>疑似クラスは、
            画面の一部に限定されたビューポートで他のコンテンツの上に表示される状態（Picture-in-Picture API利用時など）の要素を表します。<a data-link-type="biblio"
                href="#biblio-picture-in-picture">[picture-in-picture]</a></p>
        <h2 class="heading settled" data-level="13" id="input-pseudos"><span class="secno">13. </span><span
                class="content">入力疑似クラス</span><a class="self-link" href="#input-pseudos"></a></h2>
        <p>このセクションの疑似クラスは主にユーザー入力を受け付ける要素（HTMLの<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/input.html#the-input-element"
                id="ref-for-the-input-element①">input</a>など）に適用されます。</p>
        <h3 class="heading settled" data-level="13.1" id="input-states"><span class="secno">13.1. </span><span
                class="content">入力コントロールの状態</span><a class="self-link" href="#input-states"></a></h3>
        <h4 class="heading settled" data-level="13.1.1" id="enableddisabled"><span class="secno">13.1.1. </span><span
                class="content"> <a class="css" data-link-type="maybe" href="#enabled-pseudo"
                    id="ref-for-enabled-pseudo">:enabled</a> および <a class="css" data-link-type="maybe"
                    href="#disabled-pseudo" id="ref-for-disabled-pseudo">:disabled</a> 疑似クラス</span><a class="self-link"
                href="#enableddisabled"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="enabled-pseudo">:enabled</dfn>
            疑似クラスは、ユーザーインターフェース要素で有効状態のものを表します。
            そのような要素は対応する無効状態も持っていなければなりません。</p>
        <p>逆に、<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="disabled-pseudo">:disabled</dfn>疑似クラスは、無効状態のUI要素を表します。
            そのような要素は対応する有効状態も持っていなければなりません。</p>
        <p>何が有効・無効状態か、UI要素かはホスト言語依存です。典型的な文書では多くの要素は<a class="css" data-link-type="maybe" href="#enabled-pseudo"
                id="ref-for-enabled-pseudo①">:enabled</a>でも<a class="css" data-link-type="maybe" href="#disabled-pseudo"
                id="ref-for-disabled-pseudo①">:disabled</a>でもありません。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-enabled">非disabledなインタラクティブ要素</a>が<span
                class="css" id="ref-for-enabled-pseudo②">:enabled</span>、
            明示的に<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-enabled">disabled</a>されたものが<span
                class="css" id="ref-for-disabled-pseudo②">:disabled</span>です。</p>
        <p class="note" role="note"><span>注:</span> ユーザーの操作可否に影響するCSSプロパティは<a class="css" data-link-type="maybe"
                href="#enabled-pseudo" id="ref-for-enabled-pseudo③">:enabled</a>や<a class="css" data-link-type="maybe"
                href="#disabled-pseudo" id="ref-for-disabled-pseudo③">:disabled</a>への一致に影響しません。例：<a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                id="ref-for-propdef-display①">display</a>や<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-display-3/#propdef-visibility"
                id="ref-for-propdef-visibility①">visibility</a>プロパティは、要素の有効／無効状態に影響しません。</p>
        <h4 class="heading settled" data-level="13.1.2" id="rw-pseudos"><span class="secno">13.1.2. </span><span
                class="content">可変性疑似クラス：<a class="css" data-link-type="maybe" href="#read-only-pseudo"
                    id="ref-for-read-only-pseudo">:read-only</a> および <a class="css" data-link-type="maybe"
                    href="#read-write-pseudo" id="ref-for-read-write-pseudo①">:read-write</a></span><a class="self-link"
                href="#rw-pseudos"></a>
        </h4>
        <p>要素がユーザーによって変更可能であれば、<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="read-write-pseudo">:read-write</dfn>に一致します（文書言語で定義）。
            それ以外の場合は<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="read-only-pseudo">:read-only</dfn>です。</p>
        <p>例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-read-only">非disabledかつ非readonlyな<code>&lt;input></code>要素</a>は<a
                class="css" data-link-type="maybe" href="#read-write-pseudo"
                id="ref-for-read-write-pseudo②">:read-write</a>ですし、<code>contenteditable</code>属性がtrue状態の要素もそうです。</p>
        <h4 class="heading settled" data-level="13.1.3" id="placeholder"><span class="secno">13.1.3. </span><span
                class="content">プレースホルダー表示疑似クラス：<a class="css" data-link-type="maybe" href="#placeholder-shown-pseudo"
                    id="ref-for-placeholder-shown-pseudo">:placeholder-shown</a></span><a class="self-link"
                href="#placeholder"></a></h4>
        <p>入力要素は、ユーザーが何を入力すればよいかのヒントとしてプレースホルダー文字列を表示することがあります。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>の<code>placeholder</code>属性。
            <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="placeholder-shown-pseudo">:placeholder-shown</dfn>疑似クラスは、
            属性・実際の要素・UAによる暗黙のいずれによって表示されている場合でも、そのようなプレースホルダー文字列が表示されている入力要素に一致します。
        </p>
        <div class="example" id="example-8b59d4ec"><a class="self-link" href="#example-8b59d4ec"></a> 例：
            <a data-link-type="biblio" href="#biblio-html">[HTML]</a>のセマンティクスによれば、
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder" id="ref-for-attr-input-placeholder">placeholder</a></code>
            属性を持つ
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element②">input</a></code>
            要素や、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element" id="ref-for-the-option-element">option</a></code>
            要素が
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" id="ref-for-the-select-element①">select</a></code>
            の最初の要素の場合など、プレースホルダー文字列を提供します。
            <a class="css" data-link-type="maybe" href="#placeholder-shown-pseudo"
                id="ref-for-placeholder-shown-pseudo①">:placeholder-shown</a>疑似クラスは、そのような文字列が表示されているとき適用されます。
        </div>
        <h4 class="heading settled" data-level="13.1.4" id="autofill"><span class="secno">13.1.4. </span><span
                class="content">自動入力疑似クラス：<a class="css" data-link-type="maybe" href="#selectordef-autofill"
                    id="ref-for-selectordef-autofill">:autofill</a></span><a class="self-link" href="#autofill"></a>
        </h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-autofill">:autofill</dfn>疑似クラスは、ユーザーエージェントによって自動入力されたが、ユーザーによって変更されていない入力要素を表します。</p>
        <h4 class="heading settled" data-level="13.1.5" id="the-default-pseudo"><span class="secno">13.1.5. </span><span
                class="content">デフォルト選択疑似クラス：<a class="css" data-link-type="maybe" href="#default-pseudo"
                    id="ref-for-default-pseudo">:default</a></span><a class="self-link" href="#the-default-pseudo"></a>
        </h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="default-pseudo">:default</dfn>
            疑似クラスは、同種の要素セットの中でデフォルトとなるUI要素（1つ以上）に適用されます。通常、コンテキストメニュー項目、ボタン、セレクトリスト／メニューなどに適用されます。</p>
        <p>例：一連のボタンのうちデフォルト送信ボタン、ポップアップメニューのデフォルト選択肢など。
            セレクト複数選択グループ（ピザのトッピングなど）では複数要素が<a class="css" data-link-type="maybe" href="#default-pseudo"
                id="ref-for-default-pseudo①">:default</a>に一致します。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では<span class="css"
                id="ref-for-default-pseudo②">:default</span>は、<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-default">フォームの「デフォルトボタン」、
                <code>&lt;select></code>の初期選択<code>&lt;option></code>（複数可）、その他いくつかの要素</a>に一致します。</p>
        <h3 class="heading settled" data-level="13.2" id="input-value-states"><span class="secno">13.2. </span><span
                class="content">入力値の状態</span><a class="self-link" href="#input-value-states"></a></h3>
        <h4 class="heading settled" data-level="13.2.1" id="checked"><span class="secno">13.2.1. </span><span
                class="content">選択オプション疑似クラス：<a class="css" data-link-type="maybe" href="#checked-pseudo"
                    id="ref-for-checked-pseudo">:checked</a></span><a class="self-link" href="#checked"></a></h4>
        <p>ラジオボタンやチェックボックス要素はユーザーにより切り替え可能です。
            一部のメニュー項目は選択されると「チェック」状態になります。
            そのような要素が「オン」になると<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="checked-pseudo">:checked</dfn>疑似クラスが適用されます。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-checked">チェックされたチェックボックス・ラジオボタン・選択された<code>&lt;option></code>要素</a>が<a
                class="css" data-link-type="maybe" href="#checked-pseudo"
                id="ref-for-checked-pseudo①">:checked</a>に一致します。</p>
        <p><a class="css" data-link-type="maybe" href="#checked-pseudo"
                id="ref-for-checked-pseudo②">:checked</a>疑似クラスは動的でユーザー操作で変化しますが、
            <code>selected</code>や<code>checked</code>属性など文書上のセマンティック属性にも基づくため、
            すべてのメディアに適用されます。
        </p>
        <div class="example" id="example-a6c4964c">
            <a class="self-link" href="#example-a6c4964c"></a> 未チェックのチェックボックスは否定疑似クラスで選択できます：
            <pre>input[type=checkbox]:not(:checked)</pre>
        </div>
        <h4 class="heading settled" data-level="13.2.2" id="indeterminate"><span class="secno">13.2.2. </span><span
                class="content">不定値疑似クラス：<a class="css" data-link-type="maybe" href="#indeterminate-pseudo"
                    id="ref-for-indeterminate-pseudo">:indeterminate</a></span><a class="self-link"
                href="#indeterminate"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="indeterminate-pseudo">:indeterminate</dfn>疑似クラスは、値が不定状態のUI要素に適用されます。
            例：ラジオボタンやチェックボックスはチェック・未チェック以外に不定状態になることがあり、進捗メーターも進捗率不明の場合に不定状態になります。
            例：<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>では<a
                href="https://html.spec.whatwg.org/multipage/semantics-other.html#selector-indeterminate">チェックボックス</a>が<a
                class="css" data-link-type="maybe" href="#indeterminate-pseudo"
                id="ref-for-indeterminate-pseudo①">:indeterminate</a>に一致する方法が定義されています。</p>
        <p><a class="css" data-link-type="maybe" href="#checked-pseudo" id="ref-for-checked-pseudo③">:checked</a>と同様、<a
                class="css" data-link-type="maybe" href="#indeterminate-pseudo"
                id="ref-for-indeterminate-pseudo②">:indeterminate</a>はすべてのメディアに適用されます。
            初期選択肢なしで初期化されたラジオグループの構成要素などは、静的表示でも<span class="css"
                id="ref-for-indeterminate-pseudo③">:indeterminate</span>となります。</p>
        <h3 class="heading settled" data-level="13.3" id="ui-validity"><span class="secno">13.3. </span><span
                class="content">入力値の検証</span><a class="self-link" href="#ui-validity"></a></h3>
        <h4 class="heading settled" data-level="13.3.1" id="blank"><span class="secno">13.3.1. </span><span
                class="content">空値疑似クラス：<a class="css" data-link-type="maybe" href="#blank-pseudo"
                    id="ref-for-blank-pseudo">:blank</a></span><a class="self-link" href="#blank"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="blank-pseudo">:blank</dfn>
            疑似クラスは、ユーザー入力要素の入力値が空（空文字列またはnull入力）である場合に適用されます。</p>
        <div class="example" id="example-e34400f8"><a class="self-link" href="#example-e34400f8"></a> <a class="css"
                data-link-type="maybe" href="#blank-pseudo" id="ref-for-blank-pseudo①">:blank</a>ユーザー入力要素の例は、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element" id="ref-for-the-textarea-element">textarea</a></code>
            要素の内容が空の場合や、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element③">input</a></code>
            フィールドの値が空の場合です。
            ここで検証される値は送信時に使われる値
            （<a
                href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#a-form-control’s-value">フォームコントロールの値</a>参照）であり、
            HTMLでは要素の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-value" id="ref-for-attr-input-value">value</a></code>
            属性の値と必ずしも一致しません。
        </div>
        <p class="note" role="note"><span>注:</span> このセレクターはリスクがあります。</p>
        <h4 class="heading settled" data-level="13.3.2" id="validity-pseudos"><span class="secno">13.3.2. </span><span
                class="content">妥当性疑似クラス：<a class="css" data-link-type="maybe" href="#valid-pseudo"
                    id="ref-for-valid-pseudo①">:valid</a> および <a class="css" data-link-type="maybe"
                    href="#invalid-pseudo" id="ref-for-invalid-pseudo">:invalid</a></span><a class="self-link"
                href="#validity-pseudos"></a></h4>
        <p>要素の内容や値が、文書言語で定義されたデータ妥当性セマンティクスに照らして妥当・不正の場合、<dfn class="dfn-paneled css" data-dfn-type="selector"
                data-export id="valid-pseudo">:valid</dfn>または<dfn class="dfn-paneled css" data-dfn-type="selector"
                data-export id="invalid-pseudo">:invalid</dfn>となります（例：<a data-link-type="biblio"
                href="#biblio-xforms11">[XFORMS11]</a>や<a data-link-type="biblio" href="#biblio-html5">[HTML5]</a>）。
            データ妥当性セマンティクスを持たない要素は<a class="css" data-link-type="maybe" href="#valid-pseudo"
                id="ref-for-valid-pseudo②">:valid</a>にも<a class="css" data-link-type="maybe" href="#invalid-pseudo"
                id="ref-for-invalid-pseudo①">:invalid</a>にもなりません。</p>
        <p class="note" role="note"><span>注:</span> 制約がない要素は常に<a class="css" data-link-type="maybe" href="#valid-pseudo"
                id="ref-for-valid-pseudo③">:valid</a>となりますが、
            データ妥当性セマンティクスが全くない要素は<span class="css" id="ref-for-valid-pseudo④">:valid</span>や<a class="css"
                data-link-type="maybe" href="#invalid-pseudo" id="ref-for-invalid-pseudo②">:invalid</a>の
            いずれにも一致しません。
            例：HTMLでは、<code>&lt;input type="text"></code>要素は制約がなければ常に:validですが、
            <a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"
                id="ref-for-the-p-element②">p</a>要素は妥当性セマンティクスがないため、どちらにも一致しません。
        </p>
        <h4 class="heading settled" data-level="13.3.3" id="range-pseudos"><span class="secno">13.3.3. </span><span
                class="content">範囲疑似クラス：<a class="css" data-link-type="maybe" href="#in-range-pseudo"
                    id="ref-for-in-range-pseudo">:in-range</a> および <a class="css" data-link-type="maybe"
                    href="#out-of-range-pseudo" id="ref-for-out-of-range-pseudo">:out-of-range</a></span><a
                class="self-link" href="#range-pseudos"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="in-range-pseudo">:in-range</dfn>
            および<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="out-of-range-pseudo">:out-of-range</dfn>疑似クラスは、範囲制限を持つ要素にのみ適用されます。要素が文書言語で定義された範囲制限に照らして値が範囲内・範囲外であればそれぞれ<a
                class="css" data-link-type="maybe" href="#in-range-pseudo"
                id="ref-for-in-range-pseudo①">:in-range</a>または<a class="css" data-link-type="maybe"
                href="#out-of-range-pseudo" id="ref-for-out-of-range-pseudo①">:out-of-range</a>となります。
            範囲制限を持たない要素やフォームコントロールでない要素は<span class="css" id="ref-for-in-range-pseudo②">:in-range</span>にも<span
                class="css" id="ref-for-out-of-range-pseudo②">:out-of-range</span>にもなりません。
            例：1～10だけを表すスライダーコントロールで値が11なら:out-of-range、ポップアップメニューで「A」「B」「C」しか選べないのに「E」なら:out-of-rangeとなります。</p>
        <h4 class="heading settled" data-level="13.3.4" id="opt-pseudos"><span class="secno">13.3.4. </span><span
                class="content">任意性疑似クラス：<a class="css" data-link-type="maybe" href="#required-pseudo"
                    id="ref-for-required-pseudo">:required</a> および <a class="css" data-link-type="maybe"
                    href="#optional-pseudo" id="ref-for-optional-pseudo">:optional</a></span><a class="self-link"
                href="#opt-pseudos"></a></h4>
        <p>フォーム要素は、値が必須か任意かによって<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="required-pseudo">:required</dfn>または<dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="optional-pseudo">:optional</dfn>となります（フォームの有効な送信に必要かどうか）。
            フォーム要素でないものはどちらにもなりません。</p>
        <h4 class="heading settled" data-level="13.3.5" id="user-pseudos"><span class="secno">13.3.5. </span><span
                class="content">ユーザー操作疑似クラス：<a class="css" data-link-type="maybe" href="#user-valid-pseudo"
                    id="ref-for-user-valid-pseudo">:user-valid</a> および <a class="css" data-link-type="maybe"
                    href="#user-invalid-pseudo" id="ref-for-user-invalid-pseudo">:user-invalid</a></span><a
                class="self-link" href="#user-pseudos"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="user-invalid-pseudo">:user-invalid</dfn>および<dfn class="dfn-paneled css" data-dfn-type="selector"
                data-export
                id="user-valid-pseudo">:user-valid</dfn>疑似クラスは、それぞれユーザーが正しくない／正しい入力をした要素を表します。ただし<em>ユーザーが十分に操作した後のみ</em>です。
        </p>
        <p><a class="css" data-link-type="maybe" href="#user-invalid-pseudo"
                id="ref-for-user-invalid-pseudo①">:user-invalid</a>疑似クラスは、<a class="css" data-link-type="maybe"
                href="#invalid-pseudo" id="ref-for-invalid-pseudo③">:invalid</a>、<a class="css" data-link-type="maybe"
                href="#out-of-range-pseudo" id="ref-for-out-of-range-pseudo③">:out-of-range</a>、または
            blankかつ<a class="css" data-link-type="maybe" href="#required-pseudo"
                id="ref-for-required-pseudo①">:required</a>要素で、ユーザーがフォーム送信を試みた後、再度フォーム要素へ操作するまで一致します。</p>
        <p><a class="css" data-link-type="maybe" href="#user-valid-pseudo"
                id="ref-for-user-valid-pseudo①">:user-valid</a>疑似クラスは、ユーザーがフォーム送信を試みた後、再度フォーム要素へ操作するまで<a class="css"
                data-link-type="maybe" href="#valid-pseudo" id="ref-for-valid-pseudo⑤">:valid</a>要素に一致します。</p>
        <p>UAは、ユーザーへのエラー強調など適切な場面で、他のタイミングでもこれら疑似クラスが一致することを許容してもよいです。
            例：UAは、ユーザーが入力を変更して他要素にフォーカスした時点で<a class="css" data-link-type="maybe" href="#user-invalid-pseudo"
                id="ref-for-user-invalid-pseudo②">:user-invalid</a>を<a class="css" data-link-type="maybe"
                href="#invalid-pseudo" id="ref-for-invalid-pseudo④">:invalid</a>要素に一致させ、
            入力が正しく修正された時点で一致しなくすることもできます。</p>
        <div class="example" id="example-42eddba4">
            <a class="self-link" href="#example-42eddba4"></a> 例：以下の文書断片の入力は、ページロード時点で<a class="css"
                data-link-type="maybe" href="#invalid-pseudo" id="ref-for-invalid-pseudo⑤">:invalid</a>に一致します
            （初期値が最大値制約を違反しているため）、
            ただしユーザーが十分に操作した後やフォーム送信を試みるまで<a class="css" data-link-type="maybe" href="#user-invalid-pseudo"
                id="ref-for-user-invalid-pseudo③">:user-invalid</a>には一致しません。
            <pre>&lt;form>
  &lt;label>
    Volume:
    &lt;input name='vol' type=number min=0 max=10 value=11>
  &lt;/label>
  ...
&lt;/form>
</pre>
        </div>
        <p class="issue" id="issue-b776312b"><a class="self-link" href="#issue-b776312b"></a> <a
                href="https://developer.mozilla.org/en-US/docs/Web/CSS/%3A-moz-ui-invalid"><span
                    class="css">:-moz-ui-invalid</span></a>とクロスチェックすること。</p>
        <p class="issue" id="issue-a71d9d5b"><a class="self-link" href="#issue-a71d9d5b"></a> <a
                href="https://lists.w3.org/Archives/Public/www-style/2014Feb/0511.html">:dirty疑似クラス</a>を評価すること</p>
        <p class="issue" id="issue-df919919"><a class="self-link" href="#issue-df919919"></a> 本疑似クラス（および<a class="css"
                data-link-type="maybe" href="#invalid-pseudo" id="ref-for-invalid-pseudo⑥">:invalid</a>/<a class="css"
                data-link-type="maybe" href="#valid-pseudo"
                id="ref-for-valid-pseudo⑥">:valid</a>）がformやfieldset要素に適用可能であることを明確化すること。</p>
        <h2 class="heading settled" data-level="14" id="structural-pseudos"><span class="secno">14. </span><span
                class="content"> ツリー構造擬似クラス</span><a class="self-link" href="#structural-pseudos"></a></h2>
        <p>Selectorsでは、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="structural-pseudo-classes">構造擬似クラス</dfn>という概念を導入し、他の単純セレクターや
            コンビネーターでは表現できない、文書ツリー上の追加情報に基づいて要素を選択できるようにします。</p>
        <p>親要素の子リスト内で要素の位置を計算する際、独立したテキストや他の非要素ノードは考慮されません。
            親の子リスト内で要素の位置を計算する際、インデックス番号は1から始まります。</p>
        <p><a data-link-type="dfn" href="#structural-pseudo-classes"
                id="ref-for-structural-pseudo-classes①">構造擬似クラス</a>は文書ツリー内の要素のみに適用されます。
            <a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element②⑦">疑似要素</a>には決してマッチしません。
        </p>
        <h3 class="heading settled" data-level="14.1" id="the-root-pseudo"><span class="secno">14.1. </span><span
                class="content"> <a class="css" data-link-type="maybe" href="#root-pseudo"
                    id="ref-for-root-pseudo①">:root</a> 擬似クラス</span><a class="self-link" href="#the-root-pseudo"></a>
        </h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="root-pseudo">:root</dfn>
            擬似クラスは、文書のルートとなる要素を表します。</p>
        <p>例えば、DOM文書の場合、
            <a class="css" data-link-type="maybe" href="#root-pseudo" id="ref-for-root-pseudo②">:root</a>
            擬似クラスは <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#document"
                id="ref-for-document">Document</a> オブジェクトの
            ルート要素にマッチします。
            HTMLでは、これは<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element"
                id="ref-for-the-html-element">html</a>要素となります
            （スクリプトで文書が変更されていない限り）。
        </p>
        <h3 class="heading settled" data-level="14.2" id="the-empty-pseudo"><span class="secno">14.2. </span><span
                class="content"> <a class="css" data-link-type="maybe" href="#empty-pseudo"
                    id="ref-for-empty-pseudo">:empty</a> 擬似クラス</span><a class="self-link" href="#the-empty-pseudo"></a>
        </h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="empty-pseudo">:empty</dfn>
            擬似クラスは、
            要素が子要素を持たず、
            オプションで<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#white-space"
                id="ref-for-white-space">文書の空白文字</a>だけを含む場合を表します。
            文書ツリーの観点では、
            要素ノードやコンテンツノード
            （<a data-link-type="biblio" href="#biblio-dom">[DOM]</a> のテキストノードやエンティティ参照など）
            のデータが非ゼロ長の場合のみ、空でないと見なされます。
            コメントや処理命令、その他のノードは
            要素が空かどうかの判定に影響しません。</p>
        <div class="example" id="example-3846287b">
            <a class="self-link" href="#example-3846287b"></a> 例： <span class="css">p:empty</span> は、
            次のHTML断片における
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element" id="ref-for-the-p-element③">p</a></code>
            要素を正しく表します：
            <pre class="html">&lt;p>&lt;/p>
&lt;p>
&lt;p> &lt;/p>
&lt;p>&lt;/p>
</pre>
            <p><span class="css">div:empty</span> は、次の断片の <code>&lt;div></code> 要素には該当しません：</p>
            <pre class="html">&lt;div>text&lt;/div>
&lt;div>&lt;p>&lt;/p>&lt;/div>
&lt;div>&amp;nbsp;&lt;/div>
&lt;div>&lt;p>bla&lt;/p>&lt;/div>
&lt;div>this is not &lt;p>:empty&lt;/p>&lt;/div>
</pre>
        </div>
        <p class="note" role="note"><span>注:</span> セレクターのレベル2およびレベル3では、<a class="css" data-link-type="maybe"
                href="#empty-pseudo" id="ref-for-empty-pseudo①">:empty</a> は
            空白のみの要素にはマッチしませんでした。
            この仕様では変更されました。—<wbr>HTMLでは空白がほぼ折り畳まれるため
	ソースコード整形に使用されることが多く、
	特に終了タグが省略される要素では
	DOMのテキスト内容にそのような空白が吸収されがちです—<wbr>著者が空と認識する要素を
	このセレクターで選択できるようになっています。</p>
        <h3 class="heading settled" data-level="14.3" id="child-index"><span class="secno">14.3. </span><span
                class="content"> 子インデックス擬似クラス</span><a class="self-link" href="#child-index"></a></h3>
        <p>このセクションで定義される擬似クラスは、
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling"
                id="ref-for-concept-tree-inclusive-sibling">包括的兄弟</a>の中でのインデックスに基づいて要素を選択します。
        </p>
        <p class="note" role="note"><span>注:</span> Selectors 3では、これらのセレクターは親の子リスト内のインデックスに基づいて選択すると記載されていました。
            （この説明はセクション名やいくつかの擬似クラス名に残っています。）
            親を持たない要素や非要素の親でもマッチ対象から除外する理由がないため、
            現在は兄弟間の相対的なインデックスに基づくものとして表現されています。</p>
        <h4 class="heading settled" data-level="14.3.1" id="the-nth-child-pseudo"><span class="secno">14.3.1.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#nth-child-pseudo"
                    id="ref-for-nth-child-pseudo">:nth-child()</a> 擬似クラス</span><a class="self-link"
                href="#the-nth-child-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export data-lt=":nth-child()"
                id="nth-child-pseudo">:nth-child(<var>An+B</var> [of <var>S</var>]? )</dfn> 擬似クラス記法は、
            <var>An+B</var> 番目の要素である要素を表します。
            これは、<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling"
                id="ref-for-concept-tree-inclusive-sibling①">包括的兄弟</a>のうち、
            <a data-link-type="dfn" href="#selector-list" id="ref-for-selector-list⑦">セレクターリスト</a> <var>S</var>
            にマッチする要素のリストから選択されます。
            <var>S</var> は <a class="production css" data-link-type="type" href="#typedef-complex-selector-list"
                id="ref-for-typedef-complex-selector-list">&lt;complex-selector-list></a> であり、
            <a data-link-type="dfn" href="#parse-as-a-forgiving-selector-list"
                id="ref-for-parse-as-a-forgiving-selector-list">許容的セレクターリストとしてパース</a>されます。
            <var>S</var> を省略した場合、デフォルトは <span class="css">*|*</span> です。
        </p>
        <p><var>An+B</var> 記法とその解釈は
            <a href="https://www.w3.org/TR/css-syntax-3/#anb-microsyntax"><cite>CSS Syntax 3</cite> § 6
                The An+B microsyntax</a>で定義されています。
            非負整数<var>n</var>に対して <var>i</var> = <var>A</var><var>n</var> + <var>B</var> となるインデックスを表します。
        </p>
        <p class="note" role="note"><span>注:</span> ここでのリストは<b>1始まり</b>のインデックスです。
            つまり、要素の最初の子はインデックス1となり、<span class="css">:nth-child(2n+1)</span> でマッチします。
            <code>n=0</code> なら式は <span class="css">1</span> となるためです。
        </p>
        <p>例えば、このセレクターはテーブルの各行ごとに交互に適用したり、
            段落テキストの色を4つ周期で交互にする用途に使えます。</p>
        <div class="example" id="example-b8d691c9">
            <a class="self-link" href="#example-b8d691c9"></a> 例：
            <pre>:nth-child(even)   /* 2番目、4番目、6番目などの要素を表す
:nth-child(10n-1)  /* 9番目、19番目、29番目などの要素を表す */
:nth-child(10n+9)  /* 同上 */
:nth-child(10n+-1) /* 構文的に無効で、無視される */
</pre>
        </div>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe" href="#nth-child-pseudo"
                id="ref-for-nth-child-pseudo①">:nth-child()</a> 擬似クラスの
            詳細度（specificity）は、単一擬似クラスの詳細度に加え、
            <var>S</var> が指定されている場合は <var>S</var> 内で最も詳細度の高い
            <a data-link-type="dfn" href="#complex" id="ref-for-complex⑤">複合セレクター</a> の詳細度が加算されます。
            詳しくは<a href="#specificity-rules">§ 17 セレクターの詳細度の計算</a>を参照してください。
            したがって <span class="css">S:nth-child(An+B)</span> と <span class="css">:nth-child(An+B of S)</span> は
            詳細度は同じですが、挙動は異なります
            （下記の例参照）。
        </p>
        <div class="example" id="example-3c07f717">
            <a class="self-link" href="#example-3c07f717"></a> セレクター引数を渡すことで、
            そのセレクターにマッチするN番目の要素を選択できます。
            例えば、次のセレクターは「important」クラスが付いた最初の3つのリスト項目にマッチします：
            <pre>:nth-child(-n+3 of li.important)</pre>
            <p>セレクターを関数の外に置いた場合とは異なります：</p>
            <pre>li.important:nth-child(-n+3)</pre>
            <p>このセレクターは「重要な」リスト項目で、かつ最初の3つの子の場合のみ選択します。</p>
        </div>
        <div class="example" id="example-48f80a26">
            <a class="self-link" href="#example-48f80a26"></a> セレクター引数の例をさらに示します。
            テーブルの縞模様（ゼブラストライプ）を正しく適用するためのものです。
            <p>通常、テーブルの行に縞模様をつけるには次のようなCSSを使います：</p>
            <pre>tr {
  background: white;
}
tr:nth-child(even) {
  background: silver;
}
</pre>
            <p>しかし、行の一部が非表示（displayされない）だと、
                パターンが崩れてしまい、同じ背景色の行が隣接することがあります。
                HTMLで <span class="css">[hidden]</span> 属性を使って行を非表示にすると仮定すると、
                次のCSSは隠された行の有無にかかわらず正しく縞模様を維持します：</p>
            <pre>tr {
  background: white;
}
tr:nth-child(even of :not([hidden])) {
  background: silver;
}
</pre>
        </div>
        <h4 class="heading settled" data-level="14.3.2" id="the-nth-last-child-pseudo"><span class="secno">14.3.2.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#nth-last-child-pseudo"
                    id="ref-for-nth-last-child-pseudo">:nth-last-child()</a> 擬似クラス</span><a class="self-link"
                href="#the-nth-last-child-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export data-lt=":nth-last-child()"
                id="nth-last-child-pseudo">:nth-last-child(<var>An+B</var> [of <var>S</var>]? )</dfn> 擬似クラス記法は、
            <var>An+B</var> 番目の要素（リストの末尾から逆順で）を表します。
            これは、<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling"
                id="ref-for-concept-tree-inclusive-sibling②">包括的兄弟</a>のうち、
            <a data-link-type="dfn" href="#selector-list" id="ref-for-selector-list⑧">セレクターリスト</a> <var>S</var>
            にマッチする要素のリストから選ばれます。
            <var>S</var> は <a class="production css" data-link-type="type" href="#typedef-complex-selector-list"
                id="ref-for-typedef-complex-selector-list①">&lt;complex-selector-list></a> であり、
            <a data-link-type="dfn" href="#parse-as-a-forgiving-selector-list"
                id="ref-for-parse-as-a-forgiving-selector-list①">許容的セレクターリストとしてパース</a>されます。
            <var>S</var> を省略した場合、デフォルトは <span class="css">*|*</span> です。
        </p>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe" href="#nth-last-child-pseudo"
                id="ref-for-nth-last-child-pseudo①">:nth-last-child()</a> 擬似クラスの
            詳細度も <a class="css" data-link-type="maybe" href="#nth-child-pseudo"
                id="ref-for-nth-child-pseudo②">:nth-child()</a> 擬似クラスと同様に、
            通常の擬似クラスの詳細度とセレクター引数 <var>S</var> の詳細度を組み合わせます。
            詳しくは<a href="#specificity-rules">§ 17 セレクターの詳細度の計算</a>を参照してください。</p>
        <p>CSS Syntax Module <a data-link-type="biblio" href="#biblio-css3syn">[CSS3SYN]</a> で
            <a href="https://drafts.csswg.org/css-syntax/#anb"><var>An+B</var> 記法</a>が定義されています。
        </p>
        <div class="example" id="example-bee68ad4">
            <a class="self-link" href="#example-bee68ad4"></a> 例：
            <pre>tr:nth-last-child(-n+2)    /* HTMLテーブルの最後の2行を表す */

foo:nth-last-child(odd)    /* 親要素内で末尾からカウントした奇数番目のfoo要素全て */
</pre>
        </div>
        <h4 class="heading settled" data-level="14.3.3" id="the-first-child-pseudo"><span class="secno">14.3.3.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#first-child-pseudo"
                    id="ref-for-first-child-pseudo">:first-child</a> 擬似クラス</span><a class="self-link"
                href="#the-first-child-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="first-child-pseudo">:first-child</dfn>
            擬似クラスは、
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling"
                id="ref-for-concept-tree-inclusive-sibling③">包括的兄弟</a>の中で最初の要素である場合にマッチします。
            <span class="css">:nth-child(1)</span> と同じです。
        </p>
        <div class="example" id="example-72934891">
            <a class="self-link" href="#example-72934891"></a> 例：
            次のセレクターは
            <a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"
                id="ref-for-the-p-element④">p</a> 要素が
            <a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element"
                id="ref-for-the-div-element①">div</a> 要素の最初の子である場合にマッチします：
            <pre>div > p:first-child</pre>
            <p>このセレクターは以下の断片の <code>div</code> 内の <code>p</code> にマッチします：</p>
            <pre>&lt;p> The last P before the note.&lt;/p>
&lt;div class="note">
   &lt;p> The first P inside the note.&lt;/p>
&lt;/div>
</pre>
            <p>ただし、次の断片の2つ目の <code>p</code> にはマッチしません：</p>
            <pre>&lt;p> The last P before the note.&lt;/p>
&lt;div class="note">
   &lt;h2> Note &lt;/h2>
   &lt;p> The first P inside the note.&lt;/p>
&lt;/div>
</pre>
            <p>次の2つのセレクターは通常同等です：</p>
            <pre>* > a:first-child /* a が任意の要素の最初の子 */
a:first-child /* 同じ（aがルート要素でない場合） */
</pre>
        </div>
        <h4 class="heading settled" data-level="14.3.4" id="the-last-child-pseudo"><span class="secno">14.3.4.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#last-child-pseudo"
                    id="ref-for-last-child-pseudo">:last-child</a> 擬似クラス</span><a class="self-link"
                href="#the-last-child-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="last-child-pseudo">:last-child</dfn>
            擬似クラスは、
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling"
                id="ref-for-concept-tree-inclusive-sibling④">包括的兄弟</a>の中で最後の要素である場合にマッチします。
            <span class="css">:nth-last-child(1)</span> と同じです。
        </p>
        <div class="example" id="example-48137186">
            <a class="self-link" href="#example-48137186"></a> 例：
            次のセレクターは、順序付きリスト <code>ol</code> の最後の子であるリスト項目 <code>li</code> を表します。
            <pre>ol > li:last-child</pre>
        </div>
        <h4 class="heading settled" data-level="14.3.5" id="the-only-child-pseudo"><span class="secno">14.3.5.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#only-child-pseudo"
                    id="ref-for-only-child-pseudo">:only-child</a> 擬似クラス</span><a class="self-link"
                href="#the-only-child-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="only-child-pseudo">:only-child</dfn>
            擬似クラスは、
            兄弟を持たない要素にマッチします。
            <span class="css">:first-child:last-child</span> または <span
                class="css">:nth-child(1):nth-last-child(1)</span> と同じですが、
            詳細度はより低くなります。
        </p>
        <h3 class="heading settled" data-level="14.4" id="typed-child-index"><span class="secno">14.4. </span><span
                class="content"> 型付き子インデックス擬似クラス</span><a class="self-link" href="#typed-child-index"></a></h3>
        <p>このセクションの擬似クラスは、<a href="#child-index">子インデックス擬似クラス</a>に似ていますが、
            兄弟リスト内で<strong>同じ<a href="#type-selectors">型（タグ名）</a>の要素</strong>のインデックスに基づいて判定されます。</p>
        <h4 class="heading settled" data-level="14.4.1" id="the-nth-of-type-pseudo"><span class="secno">14.4.1.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#nth-of-type-pseudo"
                    id="ref-for-nth-of-type-pseudo">:nth-of-type()</a> 擬似クラス</span><a class="self-link"
                href="#the-nth-of-type-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export data-lt=":nth-of-type()"
                id="nth-of-type-pseudo">:nth-of-type(<var>An+B</var>)</dfn> 擬似クラス記法は、
            <span class="css">:nth-child(|An+B| of
                <var>S</var>)</span> でマッチする要素と同じものを表します。
            ここで <var>S</var> は、当該要素に一致する <a data-link-type="dfn" href="#type-selector"
                id="ref-for-type-selector①②">型セレクター</a>と名前空間プレフィックスです。
            例えば、
            HTMLの
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element">img</a></code>
            要素がこの<a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class①⑥">擬似クラス</a>にマッチするか判定する場合、
            <var>S</var> は <span class="css">html|img</span> です（適切な <code>html</code> 名前空間が宣言されている場合）。
        </p>
        <div class="example" id="example-3d09bf4d">
            <a class="self-link" href="#example-3d09bf4d"></a> CSS例：
            画像の左右の配置を交互にする場合：
            <pre>img:nth-of-type(2n+1) { float: right; }
img:nth-of-type(2n) { float: left; }
</pre>
        </div>
        <p class="note" role="note"><span>注:</span> 要素の型が予め分かっている場合、
            この擬似クラスは型セレクターと<a class="css" data-link-type="maybe" href="#nth-child-pseudo"
                id="ref-for-nth-child-pseudo③">:nth-child()</a> を一緒に使うのと同じです。
            つまり、<span class="css">img:nth-of-type(2)</span> は <span class="css">*:nth-child(2 of
                img)</span> と同等です。</p>
        <h4 class="heading settled" data-level="14.4.2" id="the-nth-last-of-type-pseudo"><span class="secno">14.4.2.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#nth-last-of-type-pseudo"
                    id="ref-for-nth-last-of-type-pseudo">:nth-last-of-type()</a> 擬似クラス</span><a class="self-link"
                href="#the-nth-last-of-type-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export data-lt=":nth-last-of-type()"
                id="nth-last-of-type-pseudo">:nth-last-of-type(<var>An+B</var>)</dfn> 擬似クラス記法は、
            <span class="css">:nth-last-child(|An+B| of
                <var>S</var>)</span> でマッチする要素と同じものを表します。
            ここで <var>S</var> は、当該要素に一致する <a data-link-type="dfn" href="#type-selector"
                id="ref-for-type-selector①③">型セレクター</a>と名前空間プレフィックスです。
            例えば、
            HTMLの
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element①">img</a></code>
            要素がこの<a data-link-type="dfn" href="#pseudo-class" id="ref-for-pseudo-class①⑦">擬似クラス</a>にマッチするか判定する場合、
            <var>S</var> は <span class="css">html|img</span> です（適切な <code>html</code> 名前空間が宣言されている場合）。
        </p>
        <div class="example" id="example-b89418c8">
            <a class="self-link" href="#example-b89418c8"></a> 例：
            XHTML <code>body</code> の <code>h2</code> のうち、最初と最後以外の要素を表すセレクター：
            <pre>body > h2:nth-of-type(n+2):nth-last-of-type(n+2) </pre>
            <p>この場合、 <a class="css" data-link-type="maybe" href="#negation-pseudo"
                    id="ref-for-negation-pseudo⑦">:not()</a> を使うこともできますが、
                セレクターの長さはほぼ同じです：</p>
            <pre>body > h2:not(:first-of-type):not(:last-of-type) </pre>
        </div>
        <h4 class="heading settled" data-level="14.4.3" id="the-first-of-type-pseudo"><span class="secno">14.4.3.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#first-of-type-pseudo"
                    id="ref-for-first-of-type-pseudo">:first-of-type</a> 擬似クラス</span><a class="self-link"
                href="#the-first-of-type-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="first-of-type-pseudo">:first-of-type</dfn> 擬似クラスは、
            <span class="css">:nth-of-type(1)</span> と同じ要素を表します。
        </p>
        <div class="example" id="example-16f73753">
            <a class="self-link" href="#example-16f73753"></a> 例：
            次のセレクターは定義リスト <code>dl</code> 内の定義タイトル <code>dt</code> で、
            親要素の子リストの中で最初の <code>dt</code> を表します。
            <pre>dl dt:first-of-type</pre>
            <p>これは次の例の最初の2つの <code>dt</code> 要素にはマッチしますが、3つ目にはマッチしません：</p>
            <pre>&lt;dl>
  &lt;dt>gigogne&lt;/dt>
  &lt;dd>
    &lt;dl>
      &lt;dt>fusée&lt;/dt>
      &lt;dd>multistage rocket&lt;/dd>
      &lt;dt>table&lt;/dt>
      &lt;dd>nest of tables&lt;/dd>
    &lt;/dl>
  &lt;/dd>
&lt;/dl>
</pre>
        </div>
        <h4 class="heading settled" data-level="14.4.4" id="the-last-of-type-pseudo"><span class="secno">14.4.4.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#last-of-type-pseudo"
                    id="ref-for-last-of-type-pseudo">:last-of-type</a> 擬似クラス</span><a class="self-link"
                href="#the-last-of-type-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="last-of-type-pseudo">:last-of-type</dfn> 擬似クラスは、
            <span class="css">:nth-last-of-type(1)</span> と同じ要素を表します。
        </p>
        <div class="example" id="example-fee30007">
            <a class="self-link" href="#example-fee30007"></a> 例：
            次のセレクターは、テーブルの行 <code>tr</code> の最後のデータセル <code>td</code> を表します。
            <pre>tr > td:last-of-type</pre>
        </div>
        <h4 class="heading settled" data-level="14.4.5" id="the-only-of-type-pseudo"><span class="secno">14.4.5.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#only-of-type-pseudo"
                    id="ref-for-only-of-type-pseudo">:only-of-type</a> 擬似クラス</span><a class="self-link"
                href="#the-only-of-type-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="only-of-type-pseudo">:only-of-type</dfn> 擬似クラスは、
            <span class="css">:first-of-type:last-of-type</span> と同じ要素を表します。
        </p>
        <h2 class="heading settled" data-level="15" id="combinators"><span class="secno">15. </span><span
                class="content"> コンビネータ</span><a class="self-link" href="#combinators"></a></h2>
        <h3 class="heading settled" data-level="15.1" id="descendant-combinators"><span class="secno">15.1. </span><span
                class="content"> 子孫コンビネータ (<code> </code>)</span><a class="self-link"
                href="#descendant-combinators"></a></h3>
        <p>著者は、セレクターである要素が文書ツリー内の他の要素の子孫であることを記述したい場合があります（例：「<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-em-element"
                id="ref-for-the-em-element">em</a> 要素が <a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                id="ref-for-the-h1-element⑥">H1</a> 要素内に含まれている場合」など）。
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="descendant-combinator">子孫コンビネータ</dfn>はこのような関係を表現します。
        </p>
        <p>子孫コンビネータは、2つの<a data-link-type="dfn" href="#compound" id="ref-for-compound③⓪">複合セレクター</a>を区切る空白です。</p>
        <p><span class="css">A B</span> という形のセレクターは、祖先要素 <code>A</code> の任意の子孫である要素 <code>B</code> を表します。</p>
        <div class="example" id="example-13246ba1">
            <a class="self-link" href="#example-13246ba1"></a> 例:
            次のセレクターを考えます：
            <pre>h1 em</pre>
            <p>これは、<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-em-element"
                    id="ref-for-the-em-element①">em</a> 要素が
                <a data-link-type="element" href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                    id="ref-for-the-h1-element⑦">h1</a> 要素の子孫である場合に該当します。これは次の断片の正しい部分的な記述です：
            </p>
            <pre>&lt;h1>This &lt;span class="myclass">headline
is &lt;em>very&lt;/em> important&lt;/span>&lt;/h1>
</pre>
            <p>次のセレクター：</p>
            <pre>div * p</pre>
            <p>これは、<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"
                    id="ref-for-the-p-element⑤">p</a> 要素が <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element"
                    id="ref-for-the-div-element②">div</a> 要素の孫以降の子孫である場合に該当します。「*」の両側の空白はユニバーサルセレクターの一部ではなく、
                空白はコンビネータであり、<code>div</code> が何らかの要素の祖先であり、その要素が <code>p</code> の祖先であることを示します。
                また、次のセレクターは子孫コンビネータと<a href="#attribute-selectors">属性セレクター</a>を組み合わせており、(1) <code>href</code>
                属性が設定された要素で、(2) <code>div</code> 内の <code>p</code> の内側にあるものを表します：</p>
            <pre>div p *[href]</pre>
        </div>
        <h3 class="heading settled" data-level="15.2" id="child-combinators"><span class="secno">15.2. </span><span
                class="content"> 子コンビネータ (<code>></code>)</span><a class="self-link" href="#child-combinators"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="child-combinator">子コンビネータ</dfn>は、
            2つの要素間の親子関係を記述します。子コンビネータは「大なり」記号（U+003E、<dfn class="css" data-dfn-type="selector" data-export
                id="selectordef-child">><a class="self-link" href="#selectordef-child"></a></dfn>）で構成され、
            2つの<a data-link-type="dfn" href="#compound" id="ref-for-compound③①">複合セレクター</a>を区切ります。</p>
        <div class="example" id="example-63e612ba">
            <a class="self-link" href="#example-63e612ba"></a> 例:
            次のセレクターは <a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"
                id="ref-for-the-p-element⑥">p</a> 要素が
            <code>body</code> の子である場合を表します：
            <pre>body > p</pre>
            <p>次の例は子孫コンビネータと子コンビネータを組み合わせています。</p>
            <pre>div ol>li p</pre>
            <p>これは、<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"
                    id="ref-for-the-p-element⑦">p</a> 要素が <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element"
                    id="ref-for-the-li-element">li</a> 要素の子孫であり、<span id="ref-for-the-li-element①">li</span> 要素が
                <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element"
                    id="ref-for-the-ol-element①">ol</a> 要素の子であり、<span id="ref-for-the-ol-element②">ol</span> 要素が
                <code>div</code> の子孫であることを表します。「>」コンビネータの周囲の空白は省略されています。
            </p>
        </div>
        <p>要素の最初の子を選択する方法については、上記 <a class="css" data-link-type="maybe" href="#first-child-pseudo"
                id="ref-for-first-child-pseudo①">:first-child</a> 擬似クラスのセクションを参照してください。</p>
        <h3 class="heading settled" data-level="15.3" id="adjacent-sibling-combinators"><span class="secno">15.3.
            </span><span class="content"> 隣接兄弟コンビネータ (<code>+</code>)</span><a class="self-link"
                href="#adjacent-sibling-combinators"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="next-sibling-combinator">隣接兄弟コンビネータ</dfn>は、
            「プラス」記号（U+002B、<dfn class="css" data-dfn-type="selector" data-export id="selectordef-adjacent">+<a
                    class="self-link" href="#selectordef-adjacent"></a></dfn>）で構成され、
            2つの<a data-link-type="dfn" href="#compound" id="ref-for-compound③②">複合セレクター</a>を区切ります。
            2つの<span id="ref-for-compound③③">複合セレクター</span>で表される要素は文書ツリー内で同じ親を持ち、
            最初の<span id="ref-for-compound③④">複合セレクター</span>で表される要素が、
            2番目の要素の直前に位置します。
            要素の隣接を判断する際、非要素ノード（例：要素間のテキスト）は無視されます。</p>
        <div class="example" id="example-0f0597d9">
            <a class="self-link" href="#example-0f0597d9"></a> 例:
            次のセレクターは <a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"
                id="ref-for-the-p-element⑧">p</a> 要素が
            <a data-link-type="element">math</a> 要素の直後にある場合を表します：
            <pre>math + p</pre>
            <p>次のセレクターは、前の例と似ていますが、属性セレクターを追加しています。<a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element"
                    id="ref-for-the-h1-element⑧">h1</a> 要素に <code>class="opener"</code> がある場合のみ次の h2 要素にマッチします：</p>
            <pre>h1.opener + h2</pre>
        </div>
        <h3 class="heading settled" data-level="15.4" id="general-sibling-combinators"><span class="secno">15.4.
            </span><span class="content"> 一般兄弟コンビネータ (<code>~</code>)</span><a class="self-link"
                href="#general-sibling-combinators"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="subsequent-sibling-combinator">一般兄弟コンビネータ</dfn>は、「チルダ」
            （U+007E、<dfn class="css" data-dfn-type="selector" data-export id="selectordef-sibling">~<a class="self-link"
                    href="#selectordef-sibling"></a></dfn>）で構成され、
            2つの<a data-link-type="dfn" href="#compound" id="ref-for-compound③⑤">複合セレクター</a>を区切ります。
            2つの<span id="ref-for-compound③⑥">複合セレクター</span>で表される要素は文書ツリー内で同じ親を持ち、
            最初の複合セレクターで表される要素が（必ずしも直後ではなく）2番目の要素の前に位置します。</p>
        <div class="example" id="example-ae614b62">
            <a class="self-link" href="#example-ae614b62"></a>
            <pre>h1 ~ pre</pre>
            <p>これは <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element"
                    id="ref-for-the-pre-element">pre</a> 要素が <code>h1</code> の後に続く場合を表します。これは次の断片の正しい部分的な記述です：</p>
            <pre>&lt;h1>Definition of the function a&lt;/h1>
&lt;p>Function a(x) has to be applied to all figures in the table.&lt;/p>
&lt;pre>function a(x) = 12x/13.5&lt;/pre>
</pre>
        </div>
        <h2 class="heading settled" data-level="16" id="table-pseudos"><span class="secno">16. </span><span
                class="content"> グリッド構造セレクター</span><a class="self-link" href="#table-pseudos"></a></h2>
        <p>2次元グリッドにおけるセルの二重関連（行と列への関連）は、階層型マークアップ言語の親子関係だけでは表現できません。
            これらのうち一方の関連のみが階層的に表現可能であり、もう一方は文書言語のセマンティクスによって明示的または暗黙的に定義する必要があります。
            HTMLやDocBookなど、代表的な階層型マークアップ言語では、マークアップは行優先（行の関連が階層的に表現される）であり、列は暗黙的に推測されます。
            このような暗黙的な列ベースの関係を表現できるよう、<a data-link-type="dfn" href="#column-combinator"
                id="ref-for-column-combinator">列コンビネータ</a>および<a class="css" data-link-type="maybe"
                href="#nth-col-pseudo" id="ref-for-nth-col-pseudo">:nth-col()</a>や<a class="css" data-link-type="maybe"
                href="#nth-last-col-pseudo" id="ref-for-nth-last-col-pseudo">:nth-last-col()</a>擬似クラスが定義されています。
            列優先フォーマットでは、これらの擬似クラスは行関連に対してマッチします。</p>
        <h3 class="heading settled" data-level="16.1" id="the-column-combinator"><span class="secno">16.1. </span><span
                class="content"> 列コンビネータ (<code>||</code>)</span><a class="self-link" href="#the-column-combinator"></a>
        </h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="column-combinator">列コンビネータ</dfn>は、
            パイプ2つ（<dfn class="css" data-dfn-type="selector" data-export id="selectordef-column">||<a class="self-link"
                    href="#selectordef-column"></a></dfn>）で構成され、
            列要素と、その列に属するセル要素との関係を表します。
            列の所属は文書言語のセマンティクスのみに基づいて判断されます：
            要素がどのように表示されるかは考慮されません。
            セル要素が複数の列に属する場合、
            それらのいずれかの列への所属を示すセレクターで表されます。</p>
        <div class="example" id="example-60f47339">
            <a class="self-link" href="#example-60f47339"></a> 次の例では、セルC, E, Gを灰色にします。
            <pre>col.selected || td {
  background: gray;
  color: white;
  font-weight: bold;
}
</pre>
            <pre>&lt;table>
  &lt;col span="2">
  &lt;col class="selected">
  &lt;tr>&lt;td>A &lt;td>B &lt;td>C
  &lt;tr>&lt;td colspan="2">D &lt;td>E
  &lt;tr>&lt;td>F &lt;td colspan="2">G
&lt;/table>
</pre>
        </div>
        <h3 class="heading settled" data-level="16.2" id="the-nth-col-pseudo"><span class="secno">16.2. </span><span
                class="content"> <a class="css" data-link-type="maybe" href="#nth-col-pseudo"
                    id="ref-for-nth-col-pseudo①">:nth-col()</a> 擬似クラス</span><a class="self-link"
                href="#the-nth-col-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export data-lt=":nth-col()"
                id="nth-col-pseudo">:nth-col(<var>An+B</var>)</dfn> 擬似クラス記法は、<var>An+B</var>-1
            列が<strong>前</strong>にある列に属するセル要素を表します（nは0以上の整数）。
            列の所属は文書言語のセマンティクスのみに基づいて判断されます：要素の表示方法は考慮されません。
            セル要素が複数の列に属する場合、それらのいずれかの列への所属を示すセレクターで表されます。</p>
        <p>CSS Syntax Module <a data-link-type="biblio" href="#biblio-css3syn">[CSS3SYN]</a> で<a
                href="https://drafts.csswg.org/css-syntax/#anb"><var>An+B</var> 記法</a>が定義されています。</p>
        <h3 class="heading settled" data-level="16.3" id="the-nth-last-col-pseudo"><span class="secno">16.3.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#nth-last-col-pseudo"
                    id="ref-for-nth-last-col-pseudo①">:nth-last-col()</a> 擬似クラス</span><a class="self-link"
                href="#the-nth-last-col-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export data-lt=":nth-last-col()"
                id="nth-last-col-pseudo">:nth-last-col(<var>An+B</var>)</dfn> 擬似クラス記法は、<var>An+B</var>-1
            列が<strong>後ろ</strong>にある列に属するセル要素を表します（nは0以上の整数）。
            列の所属は文書言語のセマンティクスのみに基づいて判断されます：要素の表示方法は考慮されません。
            セル要素が複数の列に属する場合、それらのいずれかの列への所属を示すセレクターで表されます。</p>
        <p>CSS Syntax Module <a data-link-type="biblio" href="#biblio-css3syn">[CSS3SYN]</a> で<a
                href="https://drafts.csswg.org/css-syntax/#anb"><var>An+B</var> 記法</a>が定義されています。</p>
        <h2 class="heading settled" data-level="17" id="specificity-rules"><span class="secno">17. </span><span
                class="content"> セレクターの詳細度（specificity）の計算</span><a class="self-link" href="#specificity-rules"></a>
        </h2>
        <p>セレクターの<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="specificity">詳細度</dfn>は、対象要素ごとに以下の手順で計算します:</p>
        <ul>
            <li>セレクター内のIDセレクター数を数える（= <var>A</var>）
            <li>セレクター内のクラスセレクター、属性セレクター、擬似クラスの数を数える（= <var>B</var>）
            <li>セレクター内の型セレクターと疑似要素の数を数える（= <var>C</var>）
            <li>ユニバーサルセレクターは無視する
        </ul>
        <p>セレクターが<a data-link-type="dfn" href="#selector-list" id="ref-for-selector-list⑨">セレクターリスト</a>の場合、
            この値はリスト内の各セレクターごとに計算します。
            リストに対するマッチ判定処理では、
            実際にマッチしたセレクターのうち最も詳細度が高いものの値が有効となります。</p>
        <p>一部の擬似クラスは他のセレクターの「評価コンテキスト」を提供するため、詳細度が特別に定義されています:</p>
        <ul>
            <li> <a class="css" data-link-type="maybe" href="#matches-pseudo" id="ref-for-matches-pseudo①④">:is()</a>、<a
                    class="css" data-link-type="maybe" href="#negation-pseudo"
                    id="ref-for-negation-pseudo⑧">:not()</a>、<a class="css" data-link-type="maybe" href="#has-pseudo"
                    id="ref-for-has-pseudo⑧">:has()</a> 擬似クラスの詳細度は、
                引数である<a data-link-type="dfn" href="#complex" id="ref-for-complex⑥">複合セレクター</a>のうち最も詳細度が高いものの値に置き換えられます。
            <li> 同様に、<a class="css" data-link-type="maybe" href="#nth-child-pseudo"
                    id="ref-for-nth-child-pseudo④">:nth-child()</a> や <a class="css" data-link-type="maybe"
                    href="#nth-last-child-pseudo" id="ref-for-nth-last-child-pseudo②">:nth-last-child()</a> の詳細度は、
                擬似クラス自身の詳細度（擬似クラスセレクター1個分）に加えて、
                引数である<a data-link-type="dfn" href="#complex"
                    id="ref-for-complex⑦">複合セレクター</a>のうち最も詳細度が高いものの値（存在する場合）を加算します。
            <li> <a class="css" data-link-type="maybe" href="#where-pseudo" id="ref-for-where-pseudo③">:where()</a>
                擬似クラスの詳細度はゼロに置き換えられます。
        </ul>
        <div class="example" id="example-bd54871c">
            <a class="self-link" href="#example-bd54871c"></a> 例:
            <ul>
                <li> <span class="css">:is(em, #foo)</span> は詳細度 (1,0,0) — IDセレクター（<span class="css">#foo</span>）と同様 —
                    <wbr>
                    <code>&lt;em></code>, <code>&lt;p id=foo></code>, <code>&lt;em id=foo></code> のいずれでもマッチした場合。
                <li> <span class="css">.qux:where(em, #foo#bar#baz)</span> は詳細度 (0,1,0):
                    <span class="css">.qux</span> のみが詳細度の計算に寄与し、<a class="css" data-link-type="maybe"
                        href="#where-pseudo" id="ref-for-where-pseudo④">:where()</a> 内は寄与しません。
                <li> <span class="css">:nth-child(even of li, .item)</span> は詳細度 (0,2,0) — クラスセレクター（<span
                        class="css">.item</span>）1個分と擬似クラス1個分 — <wbr>
                    <code>&lt;li></code>, <code>&lt;ul class=item></code>, <code>&lt;li class=item id=foo></code>
                    のいずれでもマッチした場合。
                <li> <span class="css">:not(em, strong#foo)</span> は詳細度 (1,0,1) — タグセレクター（<span
                        class="css">strong</span>）とIDセレクター（<span class="css">#foo</span>）の組み合わせ — <wbr>
                    任意の要素にマッチした場合。
            </ul>
        </div>
        <p>詳細度は3つの成分を順に比較して決定します:
            <var>A</var>値が大きい方がより詳細度が高い;
            両者の<var>A</var>値が同じなら<var>B</var>値が大きい方がより詳細度が高い;
            <var>B</var>値も同じなら<var>C</var>値が大きい方がより詳細度が高い;
            すべて同じ場合は詳細度が等しいとみなします。
        </p>
        <p>保存領域の制限により、
            実装によっては<var>A</var>、<var>B</var>、<var>C</var>のサイズに制限があることがあります。
            その場合、制限値を超える値はその制限値でクランプされ、オーバーフローしません。</p>
        <div class="example" id="example-d97bd125">
            <a class="self-link" href="#example-d97bd125"></a> 例:
            <pre>*               /* a=0 b=0 c=0 */
LI              /* a=0 b=0 c=1 */
UL LI           /* a=0 b=0 c=2 */
UL OL+LI        /* a=0 b=0 c=3 */
H1 + *[REL=up]  /* a=0 b=1 c=1 */
UL OL LI.red    /* a=0 b=1 c=3 */
LI.red.level    /* a=0 b=2 c=1 */
#x34y           /* a=1 b=0 c=0 */
#s12:not(FOO)   /* a=1 b=0 c=1 */
.foo :is(.bar, #baz)
                /* a=1 b=1 c=0 */
</pre>
        </div>
        <p class="note" role="note"><span>注:</span> 同じ単純セレクターが複数回現れても許可されており、詳細度も増加します。</p>
        <p class="note" role="note"><span>注:</span> HTMLの <code>style</code> 属性に指定されたスタイルの詳細度は<a
                href="https://www.w3.org/TR/css-style-attr/#interpret">CSS Style Attributes</a>で定義されています。<a
                data-link-type="biblio" href="#biblio-cssstyleattr">[CSSSTYLEATTR]</a></p>
        <h2 class="heading settled" data-level="18" id="grammar"><span class="secno">18. </span><span class="content">
                文法（Grammar）</span><span id="formal-syntax"></span><a class="self-link" href="#grammar"></a></h2>
        <p>セレクターは以下の文法に従って<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar"
                id="ref-for-css-parse-something-according-to-a-css-grammar">パース</a>されます:</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-selector-list">&lt;selector-list></dfn> = <a class="production" data-link-type="type" href="#typedef-complex-selector-list" id="ref-for-typedef-complex-selector-list②">&lt;complex-selector-list></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-complex-selector-list">&lt;complex-selector-list></dfn> = <a class="production" data-link-type="type" href="#typedef-complex-selector" id="ref-for-typedef-complex-selector①">&lt;complex-selector></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>

<dfn data-dfn-type="type" data-export id="typedef-compound-selector-list">&lt;compound-selector-list><a class="self-link" href="#typedef-compound-selector-list"></a></dfn> = <a class="production" data-link-type="type" href="#typedef-compound-selector" id="ref-for-typedef-compound-selector①">&lt;compound-selector></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>

<dfn data-dfn-type="type" data-export id="typedef-simple-selector-list">&lt;simple-selector-list><a class="self-link" href="#typedef-simple-selector-list"></a></dfn> = <a class="production" data-link-type="type" href="#typedef-simple-selector" id="ref-for-simple-selector①">&lt;simple-selector></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma②">#</a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-relative-selector-list">&lt;relative-selector-list></dfn> = <a class="production" data-link-type="type" href="#typedef-relative-selector" id="ref-for-typedef-relative-selector①">&lt;relative-selector></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma③">#</a>


<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-complex-selector">&lt;complex-selector></dfn> = <a class="production" data-link-type="type" href="#typedef-compound-selector" id="ref-for-typedef-compound-selector②">&lt;compound-selector></a> [ <a class="production" data-link-type="type" href="#typedef-combinator" id="ref-for-typedef-combinator">&lt;combinator></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> <a class="production" data-link-type="type" href="#typedef-compound-selector" id="ref-for-typedef-compound-selector③">&lt;compound-selector></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus">*</a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-relative-selector">&lt;relative-selector></dfn> = <a class="production" data-link-type="type" href="#typedef-combinator" id="ref-for-typedef-combinator①">&lt;combinator></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> <a class="production" data-link-type="type" href="#typedef-complex-selector" id="ref-for-typedef-complex-selector②">&lt;complex-selector></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-compound-selector">&lt;compound-selector></dfn> = [ <a class="production" data-link-type="type" href="#typedef-type-selector" id="ref-for-typedef-type-selector">&lt;type-selector></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a> <a class="production" data-link-type="type" href="#typedef-subclass-selector" id="ref-for-typedef-subclass-selector">&lt;subclass-selector></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus①">*</a>
                        [ <a class="production" data-link-type="type" href="#typedef-pseudo-element-selector" id="ref-for-typedef-pseudo-element-selector">&lt;pseudo-element-selector></a> <a class="production" data-link-type="type" href="#typedef-pseudo-class-selector" id="ref-for-typedef-pseudo-class-selector">&lt;pseudo-class-selector></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus②">*</a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus③">*</a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-req" id="ref-for-mult-req">!</a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-simple-selector">&lt;simple-selector></dfn> = <a class="production" data-link-type="type" href="#typedef-type-selector" id="ref-for-typedef-type-selector①">&lt;type-selector></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a class="production" data-link-type="type" href="#typedef-subclass-selector" id="ref-for-typedef-subclass-selector①">&lt;subclass-selector></a>


<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-combinator">&lt;combinator></dfn> = '>' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> '+' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> '~' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> [ '|' '|' ]

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-type-selector">&lt;type-selector></dfn> = <a class="production" data-link-type="type" href="#typedef-wq-name" id="ref-for-typedef-wq-name">&lt;wq-name></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production" data-link-type="type" href="#typedef-ns-prefix" id="ref-for-typedef-ns-prefix">&lt;ns-prefix></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt③">?</a> '*'

<dfn class="dfn-paneled" data-dfn-type="type" data-noexport id="typedef-ns-prefix">&lt;ns-prefix></dfn> = [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token" id="ref-for-typedef-ident-token②">&lt;ident-token></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> '*' ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt④">?</a> '|'

<dfn class="dfn-paneled" data-dfn-type="type" data-noexport id="typedef-wq-name">&lt;wq-name></dfn> = <a class="production" data-link-type="type" href="#typedef-ns-prefix" id="ref-for-typedef-ns-prefix①">&lt;ns-prefix></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑤">?</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token" id="ref-for-typedef-ident-token③">&lt;ident-token></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-noexport id="typedef-subclass-selector">&lt;subclass-selector></dfn> = <a class="production" data-link-type="type" href="#typedef-id-selector" id="ref-for-typedef-id-selector">&lt;id-selector></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> <a class="production" data-link-type="type" href="#typedef-class-selector" id="ref-for-typedef-class-selector">&lt;class-selector></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a>
                      <a class="production" data-link-type="type" href="#typedef-attribute-selector" id="ref-for-typedef-attribute-selector">&lt;attribute-selector></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> <a class="production" data-link-type="type" href="#typedef-pseudo-class-selector" id="ref-for-typedef-pseudo-class-selector①">&lt;pseudo-class-selector></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-id-selector">&lt;id-selector></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-hash-token" id="ref-for-typedef-hash-token">&lt;hash-token></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-class-selector">&lt;class-selector></dfn> = '.' <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token" id="ref-for-typedef-ident-token④">&lt;ident-token></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-attribute-selector">&lt;attribute-selector></dfn> = '[' <a class="production" data-link-type="type" href="#typedef-wq-name" id="ref-for-wq-name①">&lt;wq-name></a> ']' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a>
                       '[' <a class="production" data-link-type="type" href="#typedef-wq-name" id="ref-for-wq-name②">&lt;wq-name></a> <a class="production" data-link-type="type" href="#typedef-attr-matcher" id="ref-for-typedef-attr-matcher">&lt;attr-matcher></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-string-token" id="ref-for-typedef-string-token②">&lt;string-token></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token" id="ref-for-typedef-ident-token⑤">&lt;ident-token></a> ] <a class="production" data-link-type="type" href="#typedef-attr-modifier" id="ref-for-typedef-attr-modifier">&lt;attr-modifier></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑥">?</a> ']'

<dfn class="dfn-paneled" data-dfn-type="type" data-noexport id="typedef-attr-matcher">&lt;attr-matcher></dfn> = [ '~' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> '|' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> '^' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a> '$' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> '*' ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑦">?</a> '='

<dfn class="dfn-paneled" data-dfn-type="type" data-noexport id="typedef-attr-modifier">&lt;attr-modifier></dfn> = i <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> s

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-pseudo-class-selector">&lt;pseudo-class-selector></dfn> = ':' <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token" id="ref-for-typedef-ident-token⑥">&lt;ident-token></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a>
                          ':' <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-function-token" id="ref-for-typedef-function-token">&lt;function-token></a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-any-value" id="ref-for-typedef-any-value">&lt;any-value></a> ')'

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-pseudo-element-selector">&lt;pseudo-element-selector></dfn> = ':' <a class="production" data-link-type="type" href="#typedef-pseudo-class-selector" id="ref-for-typedef-pseudo-class-selector②">&lt;pseudo-class-selector></a>
</pre>
        <p>上記の文法を解釈する際、下記のルールが適用されます:</p>
        <ul>
            <li id="white-space">
                <a class="self-link" href="#white-space"></a> 空白は禁止:
                <ul>
                    <li data-md>
                        <p><a class="production css" data-link-type="type" href="#typedef-compound-selector"
                                id="ref-for-typedef-compound-selector④">&lt;compound-selector></a> の最上位要素間（例えば <a
                                class="production css" data-link-type="type" href="#typedef-type-selector"
                                id="ref-for-typedef-type-selector②">&lt;type-selector></a> と <a class="production css"
                                data-link-type="type" href="#typedef-subclass-selector"
                                id="ref-for-typedef-subclass-selector②">&lt;subclass-selector></a> の間や、
                            <span class="production"
                                id="ref-for-typedef-subclass-selector③">&lt;subclass-selector></span> と <a
                                class="production css" data-link-type="type" href="#typedef-pseudo-element-selector"
                                id="ref-for-typedef-pseudo-element-selector①">&lt;pseudo-element-selector></a> の間など）で禁止。
                        </p>
                    <li data-md>
                        <p><a class="production css" data-link-type="type" href="#typedef-type-selector"
                                id="ref-for-typedef-type-selector③">&lt;type-selector></a>や
                            <a class="production css" data-link-type="type" href="#typedef-class-selector"
                                id="ref-for-typedef-class-selector①">&lt;class-selector></a>の構成要素の間で禁止。
                        </p>
                    <li data-md>
                        <p><a class="production css" data-link-type="type" href="#typedef-pseudo-element-selector"
                                id="ref-for-typedef-pseudo-element-selector②">&lt;pseudo-element-selector></a>や
                            <a class="production css" data-link-type="type" href="#typedef-pseudo-class-selector"
                                id="ref-for-typedef-pseudo-class-selector③">&lt;pseudo-class-selector></a>の「:」や
                            「:」と<a class="production css" data-link-type="type"
                                href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token"
                                id="ref-for-typedef-ident-token⑦">&lt;ident-token></a>または
                            <a class="production css" data-link-type="type"
                                href="https://www.w3.org/TR/css-syntax-3/#typedef-function-token"
                                id="ref-for-typedef-function-token①">&lt;function-token></a>の間で禁止。
                        </p>
                    <li data-md>
                        <p><a class="production css" data-link-type="type" href="#typedef-wq-name"
                                id="ref-for-typedef-wq-name③">&lt;wq-name></a>の構成要素の間で禁止。</p>
                    <li data-md>
                        <p><a class="production css" data-link-type="type" href="#typedef-attr-matcher"
                                id="ref-for-typedef-attr-matcher①">&lt;attr-matcher></a>の構成要素の間で禁止。</p>
                    <li data-md>
                        <p><a class="production css" data-link-type="type" href="#typedef-combinator"
                                id="ref-for-typedef-combinator②">&lt;combinator></a>の構成要素の間で禁止。</p>
                </ul>
                <p>2つの<a class="production css" data-link-type="type" href="#typedef-compound-selector"
                        id="ref-for-typedef-compound-selector⑤">&lt;compound-selector></a>間で
                    <a class="production css" data-link-type="type" href="#typedef-combinator"
                        id="ref-for-typedef-combinator③">&lt;combinator></a>が省略された場合は、空白が<em>必須</em>になります。
                    （つまり子孫コンビネータが使われていることを示す）。
                </p>
            <li id="single-colon-pseudos"><a class="self-link" href="#single-colon-pseudos"></a> 4つの<a
                    href="https://www.w3.org/TR/CSS2/selectors.html#pseudo-element-selectors">Level 2</a> <a
                    data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element②⑧">疑似要素</a>（<a class="css"
                    data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before"
                    id="ref-for-selectordef-before④">::before</a>, <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-pseudo-4/#selectordef-after"
                    id="ref-for-selectordef-after②">::after</a>, <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line"
                    id="ref-for-selectordef-first-line⑨">::first-line</a>, <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter"
                    id="ref-for-selectordef-first-letter②">::first-letter</a>)
                は、後方互換のため
                <a class="production css" data-link-type="type" href="#typedef-pseudo-class-selector"
                    id="ref-for-typedef-pseudo-class-selector④">&lt;pseudo-class-selector></a>文法で
                冒頭の「:」1文字だけで表現することも可能です。
            <li> <a class="production css" data-link-type="type" href="#typedef-id-selector"
                    id="ref-for-typedef-id-selector①">&lt;id-selector></a>において、
                <a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-syntax-3/#typedef-hash-token"
                    id="ref-for-typedef-hash-token①">&lt;hash-token></a>の値は
                <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-css-identifier"
                    id="ref-for-css-css-identifier③">識別子</a>でなければなりません。
        </ul>
        <p class="note" role="note"><span>注:</span> セレクターにはさらに特定の構文制約があり、
            上記の文法を満たすだけでは有効なセレクターとは限りません。
            詳しくは<a href="#invalid">§ 3.9 無効なセレクターとエラー処理</a>を参照してください。</p>
        <p class="note" role="note"><span>注:</span> 一般的に
            <a class="production css" data-link-type="type" href="#typedef-pseudo-element-selector"
                id="ref-for-typedef-pseudo-element-selector③">&lt;pseudo-element-selector></a>は
            <a class="production css" data-link-type="type" href="#typedef-complex-selector"
                id="ref-for-typedef-complex-selector③">&lt;complex-selector></a>の
            最後の<a class="production css" data-link-type="type" href="#typedef-compound-selector"
                id="ref-for-typedef-compound-selector⑥">&lt;compound-selector></a>の末尾にのみ有効です。
            ただし状況によっては、さらに
            <span class="production" id="ref-for-typedef-pseudo-element-selector④">&lt;pseudo-element-selector></span>や
            <a class="production css" data-link-type="type" href="#typedef-pseudo-class-selector"
                id="ref-for-typedef-pseudo-class-selector⑤">&lt;pseudo-class-selector></a>が続くこともあります。
            （例えば<a data-link-type="dfn" href="#user-action-pseudo-class"
                id="ref-for-user-action-pseudo-class">ユーザーアクション擬似クラス</a>は任意の<a data-link-type="dfn"
                href="#pseudo-element" id="ref-for-pseudo-element②⑨">疑似要素</a>の後ろに置けますし、
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding"
                id="ref-for-tree-abiding">ツリー順守型疑似要素</a>は
            <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-scoping-1/#selectordef-slotted"
                id="ref-for-selectordef-slotted">::slotted()</a>疑似要素の後ろに置けます。)
        </p>
        <h3 class="heading settled" data-level="18.1" id="forgiving-selector"><span class="secno">18.1. </span><span
                class="content"> <a class="production css" data-link-type="type" href="#typedef-forgiving-selector-list"
                    id="ref-for-typedef-forgiving-selector-list①">&lt;forgiving-selector-list></a> および <a
                    class="production css" data-link-type="type" href="#typedef-forgiving-relative-selector-list"
                    id="ref-for-typedef-forgiving-relative-selector-list①">&lt;forgiving-relative-selector-list></a></span><a
                class="self-link" href="#forgiving-selector"></a></h3>
        <p>後方互換の理由により、
            セレクターリストの一般的な動作は
            リスト内のいずれかのセレクターのパースに失敗した場合
            （新しいセレクターやUA固有のセレクター機能などを使った場合）
            セレクターリスト全体が無効となります。
            そのため、新しいセレクターを使いつつ古いユーザーエージェントでも正しく動作するCSSを書くのが困難になる場合があります。</p>
        <p><dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-forgiving-selector-list"><a
                    class="production css" data-link-type="type" href="#typedef-forgiving-selector-list"
                    id="ref-for-typedef-forgiving-selector-list②">&lt;forgiving-selector-list></a></dfn>生成規則は、
            リスト内の各セレクターを個別にパースし、
            パースに失敗したものだけを単純に無視することで、
            残りのセレクターだけを利用できるようにします。</p>
        <p class="note" role="note"><span>注:</span> スタイル規則は通常、通常通りの（厳格な）セレクターリスト動作を使います。<a class="production css"
                data-link-type="type" href="#typedef-forgiving-selector-list"
                id="ref-for-typedef-forgiving-selector-list③">&lt;forgiving-selector-list></a>は一部の関数（<a class="css"
                data-link-type="maybe" href="#matches-pseudo" id="ref-for-matches-pseudo①⑤">:is()</a>など）で使われます。
            詳細度への影響はわずかですが、
            スタイル規則のセレクターを <span class="css" id="ref-for-matches-pseudo①⑥">:is()</span> で包むことで事実上「許容型」にアップグレードされます。</p>
        <p>構文的には、<a class="production css" data-link-type="type" href="#typedef-forgiving-selector-list"
                id="ref-for-typedef-forgiving-selector-list④">&lt;forgiving-selector-list></a>は
            <code><a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-any-value" id="ref-for-typedef-any-value①">&lt;any-value></a>?</code>と同等です。
            その後、<a data-link-type="dfn" href="#parse-as-a-forgiving-selector-list"
                id="ref-for-parse-as-a-forgiving-selector-list②">許容型セレクターリストとしてパース</a>して実際の値を取得します。
        </p>
        <div class="algorithm" data-algorithm="parse as a forgiving selector list">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="parse as a forgiving selector list|parsed as a forgiving selector list|parsing as a forgiving selector list"
                id="parse-as-a-forgiving-selector-list">許容型セレクターリストとしてパース</dfn>する手順（<var>input</var> に対して）:
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-syntax-3/#css-parse-a-comma-separated-list-according-to-a-css-grammar"
                            id="ref-for-css-parse-a-comma-separated-list-according-to-a-css-grammar">リストをパース</a>して
                        <a class="production css" data-link-type="type" href="#typedef-complex-selector"
                            id="ref-for-typedef-complex-selector④">&lt;complex-selector></a>のリストを得て、
                        <var>selector list</var> とする。
                    </p>
                <li data-md>
                    <p><var>selector list</var>から、パースに失敗した項目と
                        <a data-link-type="dfn" href="#invalid-selector"
                            id="ref-for-invalid-selector③">無効なセレクター</a>をすべて除去し、
                        残った項目で<var>selector list</var>を構成。その<var>selector list</var>を表す
                        <a class="production css" data-link-type="type" href="#typedef-selector-list"
                            id="ref-for-typedef-selector-list">&lt;selector-list></a>を返す（空の場合もあり得る）。
                    </p>
            </ol>
        </div>
        <p><dfn class="dfn-paneled css" data-dfn-type="type" data-export
                id="typedef-forgiving-relative-selector-list"><a class="production css" data-link-type="type"
                    href="#typedef-forgiving-relative-selector-list"
                    id="ref-for-typedef-forgiving-relative-selector-list②">&lt;forgiving-relative-selector-list></a></dfn>
            は <a class="production css" data-link-type="type" href="#typedef-forgiving-selector-list"
                id="ref-for-typedef-forgiving-selector-list⑤">&lt;forgiving-selector-list></a>と同じですが、
            構成要素を<a class="production css" data-link-type="type" href="#typedef-relative-selector"
                id="ref-for-typedef-relative-selector②">&lt;relative-selector></a>として
            パースする点のみ異なります（<a class="production css" data-link-type="type" href="#typedef-complex-selector"
                id="ref-for-complex-selector⑤">&lt;complex-selector></a>としてではなく）。</p>
        <h2 class="heading settled" data-level="19" id="api-hooks"><span class="secno">19. </span><span class="content">
                APIフック</span><a class="self-link" href="#api-hooks"></a></h2>
        <p>Selectorsの概念を利用する仕様の記述を支援するため、
            このセクションでは他の仕様から呼び出せるいくつかのAPIフックを定義します。</p>
        <p class="issue" id="issue-55d7bd68"><a class="self-link" href="#issue-55d7bd68"></a> <a data-link-type="dfn"
                href="#match" id="ref-for-match⑤">match</a>や<a data-link-type="dfn" href="#invalid-selector"
                id="ref-for-invalid-selector④">invalid selector</a>の定義が厳密になった今、これらはまだ必要でしょうか？
            名詞の調整は述語よりもはるかに容易であり、
            <code>querySelector</code>から返される要素の順序のような詳細はDOM仕様で定義する方がSelectorsより適切だと思われます。
        </p>
        <h3 class="heading settled algorithm" data-algorithm="Parse A Selector" data-level="19.1" id="parse-selector">
            <span class="secno">19.1. </span><span class="content"> セレクターをパースする</span><a class="self-link"
                href="#parse-selector"></a>
        </h3>
        <p>このセクションでは、文字列 <var>source</var> から<dfn data-dfn-type="dfn" data-export id="parse-a-selector">セレクターをパースする<a
                    class="self-link" href="#parse-a-selector"></a></dfn>方法を定義します。
            複合セレクターリストまたは失敗（failure）を返します。</p>
        <ol>
            <li> <var>selector</var> を <a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar"
                    id="ref-for-css-parse-something-according-to-a-css-grammar①">パース</a>して <a class="production css"
                    data-link-type="type" href="#typedef-selector-list"
                    id="ref-for-typedef-selector-list①">&lt;selector-list></a> とする。
                失敗した場合は、
                <a data-link-type="dfn" href="#invalid-selector" id="ref-for-invalid-selector⑤">invalid
                    selector</a>とみなし、
                failureを返す。
            <li> <var>selector</var>が他の理由（例えば未宣言の名前空間プレフィックスを含むなど）で<a data-link-type="dfn" href="#invalid-selector"
                    id="ref-for-invalid-selector⑥">invalid selector</a>の場合も、
                failureを返す。
            <li> それ以外の場合は、<var>selector</var>を返す。
        </ol>
        <h3 class="heading settled algorithm" data-algorithm="Parse A Relative Selector" data-level="19.2"
            id="parse-relative-selector"><span class="secno">19.2. </span><span class="content"> 相対セレクターをパースする</span><a
                class="self-link" href="#parse-relative-selector"></a></h3>
        <p>このセクションでは、文字列 <var>source</var> から<dfn data-dfn-type="dfn" data-export
                id="parse-a-relative-selector">相対セレクターをパースする<a class="self-link"
                    href="#parse-a-relative-selector"></a></dfn>方法を定義します。
            複合セレクターリストまたは失敗（failure）を返します。
        </p>
        <ol>
            <li> <var>selector</var> を <a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar"
                    id="ref-for-css-parse-something-according-to-a-css-grammar②">パース</a>して <a class="production css"
                    data-link-type="type" href="#typedef-relative-selector-list"
                    id="ref-for-typedef-relative-selector-list①">&lt;relative-selector-list></a> とする。
                失敗した場合は、
                <a data-link-type="dfn" href="#invalid-selector" id="ref-for-invalid-selector⑦">invalid
                    selector</a>とみなし、
                failureを返す。
            <li> <var>selector</var>が他の理由（例えば未宣言の名前空間プレフィックスを含むなど）で<a data-link-type="dfn" href="#invalid-selector"
                    id="ref-for-invalid-selector⑧">invalid selector</a>の場合も、
                failureを返す。
            <li> それ以外の場合は、<var>selector</var>を返す。
        </ol>
        <h3 class="heading settled algorithm" data-algorithm="Match a Selector Against an Element" data-level="19.3"
            id="match-against-element"><span class="secno">19.3. </span><span class="content"> セレクターを要素にマッチさせる</span><a
                class="self-link" href="#match-against-element"></a></h3>
        <p>このセクションでは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="match-a-selector-against-an-element">セレクターを要素にマッチさせる</dfn>方法を定義します。</p>
        <p>このアルゴリズムを利用するAPIは<var>selector</var>と<var>element</var>を指定する必要があります。</p>
        <p>呼び出し側はオプションで以下を指定できます:</p>
        <ul>
            <li> 一つ以上の<a data-link-type="dfn" href="#scoping-root" id="ref-for-scoping-root⑨">スコープルート</a>（<a class="css"
                    data-link-type="maybe" href="#scope-pseudo" id="ref-for-scope-pseudo②">:scope</a>擬似クラスの解決用）
        </ul>
        <p>このアルゴリズムは成功または失敗を返します。</p>
        <p>与えられた<var>selector</var>（<a data-link-type="dfn" href="#list-of-simple-selectors"
                id="ref-for-list-of-simple-selectors①">複合セレクターのリスト</a>とみなす）内の各<a data-link-type="dfn" href="#complex"
                id="ref-for-complex⑧">複合セレクター</a>について、
            以下の段落で説明する方法で<var>element</var>に対してマッチを試みます。
            いずれかの複合セレクターで成功した場合は成功を返し、すべて失敗した場合は失敗を返します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="match-a-complex-selector-against-an-element">複合セレクターを要素にマッチさせる</dfn>には、
            <a data-link-type="dfn" href="#compound" id="ref-for-compound③⑦">複合セレクター</a>ごとに右から左の順で処理します。
            この処理は再帰的に以下の通り定義されます:
        </p>
        <ul>
            <li>右端の複合セレクター内の単純セレクターのいずれかが要素にマッチしなければ、失敗を返す。
            <li>それ以外で、複合セレクターが1つだけなら成功を返す。
            <li>それ以外の場合、この要素に右端の<a data-link-type="dfn" href="#selector-combinator"
                    id="ref-for-selector-combinator⑧">コンビネータ</a>によって関係する可能性のあるすべての要素について考える。
                この複合セレクターから右端の複合セレクターと右端のコンビネータを除いたセレクターで、これら要素のいずれかに対してマッチ処理が成功すれば成功を返し、
                そうでなければ失敗を返す。
        </ul>
        <h3 class="heading settled algorithm" data-algorithm="Match a Selector Against a Pseudo-element"
            data-level="19.4" id="match-against-pseudo-element"><span class="secno">19.4. </span><span class="content">
                セレクターを疑似要素にマッチさせる</span><a class="self-link" href="#match-against-pseudo-element"></a></h3>
        <p>このセクションでは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="match-a-selector-against-a-pseudo-element">セレクターを疑似要素にマッチさせる</dfn>方法を定義します。</p>
        <p>このアルゴリズムを利用するAPIは<var>selector</var>と<var>pseudo-element</var>を指定する必要があります。
            オプション引数は<a data-link-type="dfn" href="#match-a-selector-against-an-element"
                id="ref-for-match-a-selector-against-an-element">セレクターを要素にマッチさせる</a>アルゴリズムと同じく指定可能です。</p>
        <p>このアルゴリズムは成功または失敗を返します。</p>
        <p>与えられた<var>selector</var>内の各<a data-link-type="dfn" href="#complex"
                id="ref-for-complex⑨">複合セレクター</a>について、次の両方が成立する場合:</p>
        <ul>
            <li>複合セレクターの右端の<a data-link-type="dfn" href="#simple"
                    id="ref-for-simple①③">単純セレクター</a>が<var>pseudo-element</var>にマッチすること
            <li>残りの複合セレクター（右端の単純セレクターを除いたもの）・<var>pseudo-element</var>の該当要素・本アルゴリズムへのオプション引数で
                <a data-link-type="dfn" href="#match-a-complex-selector-against-an-element"
                    id="ref-for-match-a-complex-selector-against-an-element">複合セレクターを要素にマッチさせる</a>実行結果が成功であること
        </ul>
        成功を返す。
        <p>それ以外の場合（つまり<var>selector</var>内の複合セレクターで上記が成立しない場合）は失敗を返す。</p>
        <h3 class="heading settled algorithm" data-algorithm="Match a Selector Against a Tree" data-level="19.5"
            id="match-against-tree"><span class="secno">19.5. </span><span class="content"> セレクターをツリーにマッチさせる</span><a
                class="self-link" href="#match-against-tree"></a></h3>
        <p>このセクションでは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="match-a-selector-against-a-tree">セレクターをツリーにマッチさせる</dfn>方法を定義します。</p>
        <p>このアルゴリズムを利用するAPIはセレクターと、
            一つ以上の<var>root elements</var>（セレクターで検索する<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree" id="ref-for-concept-tree">サブツリー</a>を示す）を指定する必要があります。
            すべての<var>root elements</var>は同じ<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-root"
                id="ref-for-concept-tree-root">ルート</a>を持つ必要があります。
            そうでなければ本アルゴリズムの呼び出しは無効です。</p>
        <p>オプションで以下を指定可能です:</p>
        <ul>
            <li> セレクターが<a data-link-type="dfn" href="#scoped-selector" id="ref-for-scoped-selector②">スコープ付き</a>であることを示す
                一つ以上の<a data-link-type="dfn" href="#scoping-root" id="ref-for-scoping-root①⓪">スコープルート</a>
            <li>
                マッチリストに現れることが許可される<a data-link-type="dfn" href="#pseudo-element"
                    id="ref-for-pseudo-element③⓪">疑似要素</a>のリスト。
                指定しない場合は全ての疑似要素が許可されます。
                <p class="issue" id="issue-15f3317f"><a class="self-link" href="#issue-15f3317f"></a> 実際には<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding"
                        id="ref-for-tree-abiding①">ツリー順守型疑似要素</a>だけがこうした扱いを受けます。</p>
        </ul>
        <p>このアルゴリズムは（空の場合もある）要素リストを返します。</p>
        <ol>
            <li> <var>candidate elements</var>のリストを開始する。
                これは<var>root elements</var>とそのすべての子孫要素で、
                <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-shadow-including-tree-order"
                    id="ref-for-concept-shadow-including-tree-order">シャドウツリー順序</a>でソートされる（特に指定がない限り）。
            <li> <a data-link-type="dfn" href="#scoping-root" id="ref-for-scoping-root①①">スコープルート</a>が指定された場合、
                <var>candidate elements</var>からいずれの<span id="ref-for-scoping-root①②">スコープルート</span>の
                <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-descendant"
                    id="ref-for-concept-tree-descendant">子孫</a>でない要素を除外する。
            <li> <var>selector match list</var>を空で初期化する。
            <li>
                <var>candidate elements</var>の各<var>element</var>について:
                <ol>
                    <li> <a data-link-type="dfn" href="#match-a-selector-against-an-element"
                            id="ref-for-match-a-selector-against-an-element①">セレクターを要素にマッチさせる</a>結果が成功なら、
                        <var>element</var>を<var>selector match list</var>に追加する。
                    <li>
                        <var>element</var>に関連付けられ、マッチリストに含めることが許可されたすべての疑似要素について、
                        <a data-link-type="dfn" href="#match-a-selector-against-a-pseudo-element"
                            id="ref-for-match-a-selector-against-a-pseudo-element">セレクターを疑似要素にマッチさせる</a>結果が成功なら
                        その疑似要素を<var>selector match list</var>に追加する。
                        <p class="issue" id="issue-b7f52036"><a class="self-link" href="#issue-b7f52036"></a>
                            <var>selector match list</var>内の疑似要素の相対位置は未定義です。
                            この情報を公開する文脈はまだありませんが、将来的に公開前に何か決める必要があります。
                        </p>
                </ol>
        </ol>
        <h2 class="heading settled" id="dom-mapping"><span class="content"> 付録A: ソース文書やデータを要素ツリーにマッピングする指針</span><a
                class="self-link" href="#dom-mapping"></a></h2>
        <p><em>このセクションは参考情報です。</em></p>
        <p>DOMで記述される要素ツリー構造は強力かつ有用ですが、
            ツリー型データ（あるいは適切な解釈をすればグラフ型データ）を記述するあらゆる言語をモデリングできるほど汎用的です。</p>
        <p>HTMLのような一部言語は、
            リソースからDOMオブジェクトを生成する手順がすでに定義されています。
            特定の言語にそうした手順がない場合は、
            Selectorsをその言語の文書に適用するために
            手順を定義する必要があります。</p>
        <p>最低限、
            文書言語はDOMの「要素」概念に対応するものが何かを定義しなければなりません。</p>
        <p>ノード間の主な一対多関係——ツリー構造では親子、グラフ構造では要素と近傍——は
            要素の子ノードとして反映されるべきです。</p>
        <p>要素の他の特徴も
            DOMの同種機能に似たものにマッピングされるべきです:</p>
        <dl>
            <dt>type
            <dd>
                文書言語の要素が「型」という概念を持つ場合、
                異なるグループ区別の基本となる「型」は
                "type" 機能として反映するべきです。
                <p>この「型」が「基本名」と「名前空間」に分離可能なら
                    後者は"namespace"機能として反映し、
                    そうでなければ"namespace"機能は持たず、名前全体を"type"機能として反映します。</p>
            <dt>id
            <dd>
                要素のある側面が文書内でユニークな識別子として機能する場合、
                "id"機能にマッピングします。
                <p class="note" role="note"><span>注:</span> HTMLでは要素は1つのIDしか持てませんが、
                    これは一般的な制限とみなすべきではありません。
                    IDの重要な性質は、各IDが1つの要素に対応することです。
                    1つの要素が複数のIDを持つことは有効です。</p>
            <dt>classes and attributes
            <dd> 要素の側面で、その要素の識別に有用だが文書内で一般的に一意ではないものは
                "class"または"attribute"機能にマッピングすべきです。
                「ラベル」（単独の文字列）に相当するなら"class"、
                「プロパティ」（名前/値のペア）に相当するなら"attribute"です。
            <dt>pseudo-classes and pseudo-elements
            <dd>
                要素がいずれかの擬似クラスにマッチしたり、疑似要素を持つ場合は
                それを明示的に定義する必要があります。
                <p class="issue" id="issue-772ec278"><a class="self-link" href="#issue-772ec278"></a> 一部の擬似クラスは*構文的*で
                    <a class="css" data-link-type="maybe" href="#has-pseudo" id="ref-for-has-pseudo⑨">:has()</a>や
                    <a class="css" data-link-type="maybe" href="#matches-pseudo"
                        id="ref-for-matches-pseudo①⑦">:is()</a>などは常に動作すべきです。
                    どこかでこれを示す必要があります。
                    構造擬似クラスは子リストが順序付けられている場合常に動作するはずです。
                </p>
        </dl>
        <div class="example" id="example-37a1ab6b">
            <a class="self-link" href="#example-37a1ab6b"></a> 例：<a
                href="https://github.com/lloyd/JSONSelect">JSONSelect</a>はセレクターによって
            JSON文書から情報を抽出するライブラリです。
            <ul>
                <li> JSON文書の「要素」は各配列・オブジェクト・真偽値・文字列・数値・nullです。
                    配列やオブジェクトはその内容が子ノードとなります。
                <li> 各要素の型はJSの型名（"array"、"object"など）です。
                <li> オブジェクトの子はそのキーをクラスとして持ちます。
                <li> 配列の子は<a class="css" data-link-type="maybe" href="#first-child-pseudo"
                        id="ref-for-first-child-pseudo②">:first-child</a>、<a class="css" data-link-type="maybe"
                        href="#nth-child-pseudo" id="ref-for-nth-child-pseudo⑤">:nth-child()</a>などの擬似クラスにマッチします。
                <li> ルートオブジェクトは<a class="css" data-link-type="maybe" href="#root-pseudo"
                        id="ref-for-root-pseudo③">:root</a>にマッチします。
                <li> さらに、特定値や部分文字列にマッチするための <span class="css">:val()</span> や <span class="css">:contains()</span>
                    擬似クラスも定義されています。
            </ul>
            <p>この構造により、セレクターによるJSON文書の強力かつコンパクトなクエリが可能になります。</p>
        </div>
        <h2 class="heading settled" id="compat"><span class="content"> 付録B:
                Web互換のために必要だが廃止された<code>-webkit-</code>パースのクセ</span><a class="self-link" href="#compat"></a></h2>
        <p><em>この付録は規範的です。</em></p>
        <p>Web互換のレガシー制約により、
            Web文書のパースを想定するユーザーエージェントは以下の機能をサポートしなければなりません:</p>
        <ul>
            <li data-md>
                <p><span class="css">:-webkit-autofill</span>は<a data-link-type="dfn" href="#legacy-selector-alias"
                        id="ref-for-legacy-selector-alias①">レガシーセレクターエイリアス</a>として
                    <a class="css" data-link-type="maybe" href="#selectordef-autofill"
                        id="ref-for-selectordef-autofill①">:autofill</a>として扱わなければなりません。
                </p>
            <li data-md>
                <p>その他すべての「-webkit-」で始まる<a data-link-type="dfn" href="#pseudo-element"
                        id="ref-for-pseudo-element③①">疑似要素</a>（<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                        id="ref-for-ascii-case-insensitive⑨">ASCII大小区別なし</a>で一致し、関数記法でないもの）は
                    パース時に有効として扱わなければなりません。
                    （つまり <span class="css">::-webkit-asdf</span> はパース時に有効ですが、<span class="css">::-webkit-jkl()</span>
                    はそうではありません。）
                    もし他に認識・サポートされていない場合は、何にもマッチしないものとして扱い、
                    <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="unknown--webkit--pseudo-elements">未知の-webkit-疑似要素</dfn>とします。
                </p>
                <p><a data-link-type="dfn" href="#unknown--webkit--pseudo-elements"
                        id="ref-for-unknown--webkit--pseudo-elements">未知の-webkit-疑似要素</a>はASCII小文字でシリアライズしなければなりません。</p>
                <details class="note">
                    <summary>このクセの目的は？</summary>
                    <p>Selectorsは長らく、未知・無効なセレクターが1つでもあると
                        セレクターリスト全体が無効となる挙動でした
                        （個々の複合セレクターだけでなく）。
                        これはWGでもレガシーミスと考えられていますが、
                        あまりに多くのスタイルシートがこの挙動に依存しているため
                        今や修正不可能です。</p>
                    <p>これの一側面は、ベンダー固有セレクターの利用が
                        他のUAではセレクター全体を無効化し、
                        規則全体が効果を失うことです。
                        これは意図的にも使われてきました — 他UAで規則を隠すために
                        無効化する手法や、
                        意図せずベンダー固有疑似要素（input関連など）と通常の要素両方にスタイルを指定し
                        他のUAで規則全体が隠れてしまう例があったためです。</p>
                    <p>加えて、WebKit系UA（SafariやChromeなど）は
                        ベンダープレフィックス疑似要素に関してさらに
                        「::-webkit-」で始まる全てのセレクターをパース時に有効扱いするクセがあります。
                        （これは作者定義疑似要素を導入するCSS初期機能の名残と思われます。）</p>
                    <p>他のレガシー癖（<a data-link-type="biblio" href="#biblio-quirks">[QUIRKS]</a>参照）同様、
                        このベンダー固有の挙動はあまりに普及しすぎたため
                        他UAでもサイトが壊れる事例が増えており、
                        実質的には現代Webの正しく描画のために<em>必須</em>なため、
                        規定して全UAで要求することで
                        現在および将来のUAでもWebページが正しく描画されやすくなります。</p>
                    <p>ただし、こうした癖に意図的に依存するWebページは
                        CSSWGや正気のWeb開発者から嘲笑と非難を受けるでしょう。</p>
                </details>
        </ul>
        <h2 class="heading settled" data-level="20" id="changes"><span class="secno">20. </span><span class="content">
                変更点</span><a class="self-link" href="#changes"></a></h2>
        <h3 class="heading settled" data-level="20.1" id="changes-2022-05"><span class="secno">20.1. </span><span
                class="content"> 2022年5月7日作業草案以降の変更点</span><a class="self-link" href="#changes-2022-05"></a></h3>
        <p><a href="https://www.w3.org/TR/2022/WD-selectors-4-20220507/">2022年5月7日作業草案</a>以降の主な変更点:</p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#selectordef-open"
                        id="ref-for-selectordef-open②">:open</a> と <a class="css" data-link-type="maybe"
                        href="#selectordef-closed" id="ref-for-selectordef-closed①">:closed</a> 擬似クラスを追加。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/7319">Issue 7319</a>)</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#pseudo-element" id="ref-for-pseudo-element③②">疑似要素</a>が<a class="css"
                        data-link-type="maybe" href="#has-pseudo" id="ref-for-has-pseudo①⓪">:has()</a>内で許可されるのは
                    疑似要素の定義で明示的に許可された場合のみとした。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/7463">Issue 7463</a>)</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#has-pseudo" id="ref-for-has-pseudo①①">:has()</a>のネストを禁止。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/7344">Issue 7344</a>)</p>
            <li data-md>
                <p><span class="css">::lang("")</span> や言語タグ未指定要素のマッチ動作を定義。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/6915">Issue 6915</a>)</p>
            <li data-md>
                <p>「スコープ付き」セレクターと「相対」セレクターの概念を完全に分離。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/6399">Issue 6399</a>)</p>
                <ul>
                    <li data-md>
                        <p>「セレクターの絶対化」も削除し、相対セレクターのマッチはアンカー要素基準で定義。</p>
                </ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#nth-child-pseudo"
                        id="ref-for-nth-child-pseudo⑥">:nth-child()</a>の複合セレクター制限を元に戻した。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/3760">Issue 3760</a>)</p>
            <li data-md>
                <p><span class="css">:-webkit-autofill</span>の<a data-link-type="dfn" href="#legacy-selector-alias"
                        id="ref-for-legacy-selector-alias②">レガシーセレクターエイリアス</a>を定義。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/7474">Issue 7474</a>)</p>
        </ul>
        <h3 class="heading settled" data-level="20.2" id="changes-2018-11"><span class="secno">20.2. </span><span
                class="content"> 2018年11月21日作業草案以降の変更点</span><a class="self-link" href="#changes-2018-11"></a></h3>
        <p><a href="https://www.w3.org/TR/2018/WD-selectors-4-20181121/">2018年11月21日作業草案</a>以降の主な変更点:</p>
        <ul>
            <li>セレクタープロファイルを削除し、<a class="css" data-link-type="maybe" href="#has-pseudo"
                    id="ref-for-has-pseudo①②">:has()</a>をオプションかつリスクありとした。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3925">Issue 3925</a>)
            <li><a href="#sub-pseudo-elements">§ 3.6.4 サブ疑似要素</a>を追加し、<a data-link-type="dfn" href="#sub-pseudo-element"
                    id="ref-for-sub-pseudo-element③">サブ疑似要素</a>と関連用語を定義。
            <li><a class="css" data-link-type="maybe" href="#defined-pseudo"
                    id="ref-for-defined-pseudo③">:defined</a>を追加。
                (<a href="https://github.com/w3c/csswg-drafts/issues/2258">Issue 2258</a>)
            <li><a class="css" data-link-type="maybe" href="#selectordef-modal"
                    id="ref-for-selectordef-modal④">:modal</a>を追加。
                (<a href="https://github.com/w3c/csswg-drafts/issues/6965">Issue 6965</a>)
            <li><a class="css" data-link-type="maybe" href="#selectordef-fullscreen"
                    id="ref-for-selectordef-fullscreen②">:fullscreen</a>と<a class="css" data-link-type="maybe"
                    href="#selectordef-picture-in-picture"
                    id="ref-for-selectordef-picture-in-picture①">:picture-in-picture</a>を追加。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3796">Issue 3796</a>)
            <li><a class="css" data-link-type="maybe" href="#selectordef-seeking"
                    id="ref-for-selectordef-seeking①">:seeking</a>、<a class="css" data-link-type="maybe"
                    href="#selectordef-buffering" id="ref-for-selectordef-buffering③">:buffering</a>、<a class="css"
                    data-link-type="maybe" href="#selectordef-stalled" id="ref-for-selectordef-stalled②">:stalled</a>の
                メディア再生状態擬似クラスを追加。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3821">Issue 3821</a>)
            <li><a class="css" data-link-type="maybe" href="#selectordef-muted"
                    id="ref-for-selectordef-muted①">:muted</a>と<a class="css" data-link-type="maybe"
                    href="#selectordef-volume-locked"
                    id="ref-for-selectordef-volume-locked①">:volume-locked</a>の音声状態擬似クラスを追加。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3821">Issue 3821</a>および<a
                    href="https://github.com/w3c/csswg-drafts/issues/3933">Issue 3933</a>)
            <li><a class="css" data-link-type="maybe" href="#selectordef-autofill"
                    id="ref-for-selectordef-autofill②">:autofill</a>を追加。
                (<a href="https://github.com/w3c/csswg-drafts/issues/5775">Issue 5775</a>)
            <li><a class="css" data-link-type="maybe" href="#user-valid-pseudo"
                    id="ref-for-user-valid-pseudo②">:user-valid</a>を追加。
                (<a href="https://lists.w3.org/Archives/Public/www-style/2015Sep/0111.html">議論</a>)
            <li><a class="css" data-link-type="maybe" href="#matches-pseudo" id="ref-for-matches-pseudo①⑧">:is()</a>、<a
                    class="css" data-link-type="maybe" href="#where-pseudo" id="ref-for-where-pseudo⑤">:where()</a>、<a
                    class="css" data-link-type="maybe" href="#has-pseudo" id="ref-for-has-pseudo①③">:has()</a>、<a
                    class="css" data-link-type="maybe" href="#nth-child-pseudo"
                    id="ref-for-nth-child-pseudo⑦">:nth-child()</a>、<a class="css" data-link-type="maybe"
                    href="#nth-last-child-pseudo" id="ref-for-nth-last-child-pseudo③">:nth-last-child()</a>が
                無効なセレクターを含んでも自身が無効化されないよう定義。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3264">Issue 3264</a>)
            <li><a class="css" data-link-type="maybe" href="#nth-child-pseudo"
                    id="ref-for-nth-child-pseudo⑧">:nth-child()</a>と<a class="css" data-link-type="maybe"
                    href="#nth-last-child-pseudo" id="ref-for-nth-last-child-pseudo④">:nth-last-child()</a>内のセレクターを
                現状では<a data-link-type="dfn" href="#compound" id="ref-for-compound③⑧">複合セレクター</a>に制限。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3760">Issue 3760</a>)
            <li>大文字小文字厳密な文字列比較について、<a data-link-type="biblio" href="#biblio-infra">[INFRA]</a>で定義される文字列同一性を参照して明確化。
            <li>UA提供のプレースホルダーテキストも<a class="css" data-link-type="maybe" href="#placeholder-shown-pseudo"
                    id="ref-for-placeholder-shown-pseudo②">:placeholder-shown</a>をトリガーすることを明確化。
            <li><a class="css" data-link-type="maybe" href="#focus-visible-pseudo"
                    id="ref-for-focus-visible-pseudo⑤">:focus-visible</a>の定義を明確化のため書き直し。
            <li>文法セクションの注意書きを規範テキストに切り替え、
                <a class="production css" data-link-type="type" href="#typedef-compound-selector"
                    id="ref-for-typedef-compound-selector⑦">&lt;compound-selector></a>間で
                <a class="production css" data-link-type="type" href="#typedef-combinator"
                    id="ref-for-typedef-combinator④">&lt;combinator></a>トークンがない場合は空白必須であることを記述。
        </ul>
        <h3 class="heading settled" data-level="20.3" id="changes-2018-02"><span class="secno">20.3. </span><span
                class="content"> 2018年2月2日作業草案以降の変更点</span><a class="self-link" href="#changes-2018-02"></a></h3>
        <p><a href="https://www.w3.org/TR/2018/WD-selectors-4-20180202/">2018年2月2日作業草案</a>以降の主な変更点:</p>
        <ul>
            <li>ゼロ詳細度セレクターに<a class="css" data-link-type="maybe" href="#where-pseudo"
                    id="ref-for-where-pseudo⑥">:where()</a>の名称を付与。
                (<a href="https://github.com/w3c/csswg-drafts/issues/2143">Issue 2143</a>)
            <li><a class="css" data-link-type="maybe" href="#selectordef-matches"
                    id="ref-for-selectordef-matches">:matches()</a>を<a class="css" data-link-type="maybe"
                    href="#matches-pseudo" id="ref-for-matches-pseudo①⑨">:is()</a>に名称変更。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3258">Issue 3258</a>)
            <li><a class="css" data-link-type="maybe" href="#empty-pseudo"
                    id="ref-for-empty-pseudo②">:empty</a>を空白ノードのみを無視するよう再定義。
                (<a href="https://github.com/w3c/csswg-drafts/issues/1967">Issue 1967</a>)
            <li><a class="css" data-link-type="maybe" href="#blank-pseudo"
                    id="ref-for-blank-pseudo②">:blank</a>を要素の空でなく、ユーザー入力の空を表すよう再定義。
                (<a href="https://github.com/w3c/csswg-drafts/issues/1283">Issue 1283</a>)
            <li><a class="css" data-link-type="maybe" href="#matches-pseudo" id="ref-for-matches-pseudo②⓪">:is()</a>、<a
                    class="css" data-link-type="maybe" href="#has-pseudo" id="ref-for-has-pseudo①④">:has()</a>、<a
                    class="css" data-link-type="maybe" href="#nth-child-pseudo"
                    id="ref-for-nth-child-pseudo⑨">:nth-child()</a>の詳細度が
                どのセレクター引数がマッチしたかに依存しないよう変更。
                (<a href="https://github.com/w3c/csswg-drafts/issues/1027">Issue 1027</a>)
            <li><span class="css">:drop()</span>擬似クラスをHTML側で関連機能が削除されたため除外。
                (<a href="https://github.com/w3c/csswg-drafts/issues/2257">Issue 2257</a>)
            <li>属性セレクターに大文字小文字厳密フラグ <code>s</code> を追加。
                (<a href="https://github.com/w3c/csswg-drafts/issues/2101">Issue 2101</a>)
            <li><a class="css" data-link-type="maybe" href="#focus-visible-pseudo"
                    id="ref-for-focus-visible-pseudo⑥">:focus-visible</a>に関する追加ガイダンス。
            <li><a href="#compat">付録B: Web互換のために必要だが廃止された-webkit-パースのクセ</a>を追加し、
                <span class="css">::-webkit-</span>疑似要素のパース癖を定義。
                (<a href="https://github.com/w3c/csswg-drafts/issues/3051">Issue 3051</a>)
            <li>文法ルールの空白許容箇所について明確化のため書き直し。
                （<a href="#grammar">§ 18 文法</a>参照）
        </ul>
        <h3 class="heading settled" data-level="20.4" id="changes-2013"><span class="secno">20.4. </span><span
                class="content"> 2013年5月2日作業草案以降の変更点</span><a class="self-link" href="#changes-2013"></a></h3>
        <p><a href="https://www.w3.org/TR/2013/WD-selectors4-20130502/">2013年5月2日作業草案</a>以降の主な変更点:</p>
        <ul>
            <li><a class="css" data-link-type="maybe" href="#target-within-pseudo"
                    id="ref-for-target-within-pseudo②">:target-within</a>、<a class="css" data-link-type="maybe"
                    href="#focus-within-pseudo" id="ref-for-focus-within-pseudo②">:focus-within</a>、<a class="css"
                    data-link-type="maybe" href="#focus-visible-pseudo"
                    id="ref-for-focus-visible-pseudo⑦">:focus-visible</a>、<a class="css" data-link-type="maybe"
                    href="#selectordef-playing" id="ref-for-selectordef-playing③">:playing</a>、<a class="css"
                    data-link-type="maybe" href="#selectordef-paused" id="ref-for-selectordef-paused①">:paused</a>
                擬似クラスを追加。
            <li>ゼロ詳細度の<a class="css" data-link-type="maybe" href="#selectordef-matches"
                    id="ref-for-selectordef-matches①">:matches()</a>型擬似クラスを追加（名称未定）。
            <li>主語インジケータ（<span class="css">!</span>）機能を<a class="css" data-link-type="maybe" href="#has-pseudo"
                    id="ref-for-has-pseudo①⑤">:has()</a>に置換。
            <li><span class="css">:nth-match()</span>と<span class="css">:nth-last-match()</span>セレクターを
                <span class="css">:nth-child(… of selector)</span>と<span class="css">:nth-last-child(… of
                    selector)</span>に置換。
            <li><span class="css">:active-drop-target</span>、<span class="css">:valid-drop-target</span>、<span
                    class="css">:invalid-drop-target</span>を<span class="css">:drop()</span>へ変更。
            <li>空または空白のみのセレクターを検討用に追加
                （<a href="https://github.com/w3c/csswg-drafts/issues/1967">未解決issue</a>参照）。
            <li><span class="css">:user-error</span>を<a class="css" data-link-type="maybe" href="#user-invalid-pseudo"
                    id="ref-for-user-invalid-pseudo④">:user-invalid</a>に名称変更。
                （<a
                    href="https://www.w3.org/mid/CADhPm3v+WfeGQfBwwx8QBuiOjn2k38V_DcKW17Cm81VgZb1nbQ@mail.gmail.com">議論</a>参照）
            <li><span class="css">:nth-column()</span>/<span class="css">:nth-last-column()</span>を<a class="css"
                    data-link-type="maybe" href="#nth-col-pseudo" id="ref-for-nth-col-pseudo②">:nth-col()</a>/<a
                    class="css" data-link-type="maybe" href="#nth-last-col-pseudo"
                    id="ref-for-nth-last-col-pseudo②">:nth-last-col()</a>に名称変更。
            <li><span class="css">:local-link()</span>擬似クラスが末尾のスラッシュを無視するよう変更。
            <li><code>:local-link()</code>擬似クラスの関数形式とリファレンスコンビネータは関心不足のため削除。
            <li>セレクター文法をCSS値定義構文で書き直し。
            <li><a data-link-type="dfn" href="#relative-selector" id="ref-for-relative-selector②">相対セレクター</a>の定義を
                <a data-link-type="dfn" href="#scoped-selector" id="ref-for-scoped-selector③">スコープ付きセレクター</a>から分離。
            <li>
                <a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-syntax-3/#anb-production" id="ref-for-anb-production">&lt;An+B></a>
                マイクロ構文の定義をCSS Syntaxに移動。
                <p class="issue" id="issue-fb60ae39"><a class="self-link" href="#issue-fb60ae39"></a> 意味定義は本仕様に戻すべき？</p>
            <li>
                新しいセクションを追加:
                <ul>
                    <li>
                        <a href="#data-model">§ 3.2 データモデル</a>
                        <p class="issue" id="issue-4ca3978c"><a class="self-link" href="#issue-4ca3978c"></a>
                            XML用ツリー定義が必要。</p>
                    <li>
                        <a href="#api-hooks">§ 19 APIフック</a>
                        <ul>
                            <li>以前の版では<dfn data-dfn-type="dfn" data-noexport id="evaluating-selectors">セレクター評価<a
                                        class="self-link" href="#evaluating-selectors"></a></dfn>セクションがあったが現在は未収載。
                                その参照は<a data-link-type="dfn" href="#match-a-selector-against-a-tree"
                                    id="ref-for-match-a-selector-against-a-tree">セレクターをツリーにマッチさせる</a>アルゴリズムを参照すべき。
                        </ul>
                </ul>
            <li><a class="css" data-link-type="maybe" href="#selectordef-matches"
                    id="ref-for-selectordef-matches②">:matches()</a>や
                <a class="css" data-link-type="maybe" href="#negation-pseudo" id="ref-for-negation-pseudo⑨">:not()</a>内の
                コンビネータ制限を削除; <a href="https://lists.w3.org/Archives/Public/www-style/2014Jan/0607.html">議論</a>参照。
            <li><a data-link-type="dfn" href="#specificity" id="ref-for-specificity②">詳細度</a>の
                <a data-link-type="dfn" href="#selector-list" id="ref-for-selector-list①②">セレクターリスト</a>の定義を追加。（理由は？）
            <li><a class="css" data-link-type="maybe" href="#lang-pseudo"
                    id="ref-for-lang-pseudo⑥">:lang()</a>値でアスタリスクを含む場合はクォート必須に;
                CSS識別子として使える言語コードのみクォート不要。
        </ul>
        <p class="note" role="note"><span>注:</span> 2018年2月1日草案には未完成作業の誤コミットが含まれていたが、
            2月2日版でこれを元に戻し（ついでにリンクも修正）。</p>
        <h3 class="heading settled" data-level="20.5" id="changes-2012"><span class="secno">20.5. </span><span
                class="content"> 2012年8月23日作業草案以降の変更点</span><a class="self-link" href="#changes-2012"></a></h3>
        <p><a href="https://www.w3.org/TR/2012/WD-selectors4-20120823/">2012年8月23日作業草案</a>以降の主な変更点:</p>
        <ul>
            <li><a class="css" data-link-type="maybe" href="#placeholder-shown-pseudo"
                    id="ref-for-placeholder-shown-pseudo③">:placeholder-shown</a>擬似クラス追加。
            <li><a class="css" data-link-type="maybe" href="#selectordef-matches"
                    id="ref-for-selectordef-matches③">:matches()</a>や<a class="css" data-link-type="maybe"
                    href="#negation-pseudo" id="ref-for-negation-pseudo①⓪">:not()</a>の制限を一部緩和。
            <li>高速・完全セレクタープロファイル（現「ライブ」「スナップショット」）を定義。
            <li><a data-link-type="dfn" href="#specificity" id="ref-for-specificity③">詳細度</a>の定義を改善し、<a class="css"
                    data-link-type="selector" href="#selectordef-matches"
                    id="ref-for-selectordef-matches④">:matches()</a>対応。
            <li>文法更新。
            <li><a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-syntax-3/#anb-production" id="ref-for-anb-production①">&lt;An+B></a>
                記法の定義整理。
            <li><a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#relative-selector"
                    id="ref-for-relative-selector③">スコープ相対</a>セレクター定義を追加し、scope-constrainedをscope-filteredへ変更。
            <li><span class="css">:local-link()</span>擬似クラスが末尾スラッシュを無視するように変更。
        </ul>
        <h3 class="heading settled" data-level="20.6" id="changes-2011"><span class="secno">20.6. </span><span
                class="content"> 2011年9月29日作業草案以降の変更点</span><a class="self-link" href="#changes-2011"></a></h3>
        <p><a href="https://www.w3.org/TR/2011/WD-selectors4-20110929/">2011年9月29日作業草案</a>以降の主な変更点:</p>
        <ul>
            <li>RFC 4647による言語バリアント対応追加。
            <li>スコープ付きセレクター追加。
            <li><span class="css">:user-error</span>（現<a class="css" data-link-type="maybe" href="#user-invalid-pseudo"
                    id="ref-for-user-invalid-pseudo⑤">:user-invalid</a>）追加。
            <li><span class="css">:valid-drop-target</span>追加。
            <li><a data-link-type="dfn" href="#column-combinator"
                    id="ref-for-column-combinator①">列コンビネータ</a>を二重スラッシュから二重パイプへ変更。
        </ul>
        <h3 class="heading settled" data-level="20.7" id="changes-level-3"><span class="secno">20.7. </span><span
                class="content"> Level 3以降の追加点</span><a class="self-link" href="#changes-level-3"></a></h3>
        <p><a href="https://www.w3.org/TR/selectors-3/">Level 3</a>以降の追加点:</p>
        <ul>
            <li><a class="css" data-link-type="maybe" href="#negation-pseudo"
                    id="ref-for-negation-pseudo①①">:not()</a>がセレクターリストを受け付けるよう拡張。
            <li><a class="css" data-link-type="maybe" href="#matches-pseudo" id="ref-for-matches-pseudo②①">:is()</a>、<a
                    class="css" data-link-type="maybe" href="#where-pseudo" id="ref-for-where-pseudo⑦">:where()</a>、<a
                    class="css" data-link-type="maybe" href="#has-pseudo" id="ref-for-has-pseudo①⑥">:has()</a>追加。
            <li><a class="css" data-link-type="maybe" href="#scope-pseudo" id="ref-for-scope-pseudo③">:scope</a>追加。
            <li><a class="css" data-link-type="maybe" href="#any-link-pseudo"
                    id="ref-for-any-link-pseudo①">:any-link</a>、<a class="css" data-link-type="maybe"
                    href="#local-link-pseudo" id="ref-for-local-link-pseudo②">:local-link</a>追加。
            <li><a href="#time-pseudos">時間次元擬似クラス</a>追加。
            <li><a class="css" data-link-type="maybe" href="#target-within-pseudo"
                    id="ref-for-target-within-pseudo③">:target-within</a>、<a class="css" data-link-type="maybe"
                    href="#focus-within-pseudo" id="ref-for-focus-within-pseudo③">:focus-within</a>、<a class="css"
                    data-link-type="maybe" href="#focus-visible-pseudo"
                    id="ref-for-focus-visible-pseudo⑧">:focus-visible</a>追加。
            <li><a class="css" data-link-type="maybe" href="#dir-pseudo" id="ref-for-dir-pseudo③">:dir()</a>追加。
            <li><a class="css" data-link-type="maybe" href="#lang-pseudo" id="ref-for-lang-pseudo⑦">:lang()</a>を
                ワイルドカードや言語コードリスト対応に拡張。
            <li><span class="css">:nth-child()</span>がセレクターリストを受け付けるよう拡張。
            <li><a href="https://www.w3.org/TR/css-ui-3/">CSS UI Level 3</a>由来のinputセレクター統合し、
                <a class="css" data-link-type="maybe" href="#indeterminate-pseudo"
                    id="ref-for-indeterminate-pseudo④">:indeterminate</a>を追加。
            <li><a class="css" data-link-type="maybe" href="#blank-pseudo" id="ref-for-blank-pseudo③">:blank</a>、
                <a class="css" data-link-type="maybe" href="#user-invalid-pseudo"
                    id="ref-for-user-invalid-pseudo⑥">:user-invalid</a>追加。
            <li><a href="#table-pseudos">グリッド構造（列）セレクター</a>追加。
            <li>属性値一致に大文字小文字非区別/区別フラグ追加。
        </ul>
        <h2 class="heading settled" data-level="21" id="acknowledgements"><span class="secno">21. </span><span
                class="content">謝辞</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>CSSワーキンググループは、過去の<a href="https://www.w3.org/TR/css3-selectors">Selectors</a>仕様に貢献くださった皆様に
            感謝を申し上げます。これらの仕様は本仕様の基礎となっています。
            特にSelectors Level 4への具体的な貢献者として
            L. David Baron、
            Andrew Fedoniouk、
            Daniel Glazman、
            Ian Hickson、
            Grey Hodge、
            Lachlan Hunt、
            Anne van Kesteren、
            Jason Cranford Teague、
            Lea Verou
            に特別な謝意を表します。</p>
        <h2 class="heading settled" data-level="22" id="priv-sec"><span class="secno">22. </span><span
                class="content">プライバシーとセキュリティの考慮事項</span><a class="self-link" href="#priv-sec"></a>
        </h2>
        <p>この仕様は以下のプライバシーおよびセキュリティ上の考慮事項を導入します:</p>
        <ul>
            <li> <a class="css" data-link-type="maybe" href="#visited-pseudo"
                    id="ref-for-visited-pseudo④">:visited</a>擬似クラスは、
                UAがスクリプトからどの要素がマッチしているかの情報を漏洩しないよう
                注意しない限り、ユーザーが過去に訪れたサイトの情報を漏洩する可能性があります。
            <li> <a class="css" data-link-type="maybe" href="#selectordef-autofill"
                    id="ref-for-selectordef-autofill③">:autofill</a>擬似クラスは
                ユーザーが以前このフォームに操作したかどうかを漏洩する可能性がありますが、
                同じ情報はフォームの入力速度を観察することで得られます。
        </ul>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> 適合性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> 文書の慣例</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>適合性要件は記述的な断言とRFC 2119の用語を組み合わせて表現されます。主要な語句「MUST」,
        「MUST NOT」, 「REQUIRED」, 「SHALL」, 「SHALL NOT」, 「SHOULD」,
        「SHOULD NOT」, 「RECOMMENDED」, 「MAY」, 「OPTIONAL」は、
        この文書の規範部分ではRFC 2119に記載の通り解釈されます。
        ただし、可読性のため、この仕様ではこれらの語句はすべて大文字で表記されていません。
    </p>
    <p>この仕様の全ての文は、明示的に非規範的と記載されたセクション・例・注釈を除き、規範的です。<a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>
    <p>この仕様の例は「例えば」という語で始まるか、<code>class="example"</code>のように規範テキストから区別されます:</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>これは参考例の一例です。</p>
    </div>
    <p>参考注釈は「注:」で始まり、<code>class="note"</code>で規範テキストから区別されます:</p>
    <p class="note" role="note">注: これは参考注釈です。</p>
    <p>助言は規範的なセクションで特別な注意を促すようにスタイルされており、
        他の規範テキストと区別して<code>&lt;strong class="advisement"></code>で表示されます:
        <strong class="advisement"> UAはアクセシブルな代替手段を必ず提供しなければなりません。 </strong>
    </p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> 適合性クラス</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>この仕様への適合性は、3つの適合性クラスで定義されます:</p>
    <dl>
        <dt>スタイルシート
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                スタイルシート</a>。
        <dt>レンダラー
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>（ユーザーエージェント）。スタイルシートの意味を解釈し、
            それを使う文書をレンダリングします。
        <dt>オーサリングツール
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。スタイルシートを作成するツール。
    </dl>
    <p>スタイルシートがこの仕様に適合するためには、
        本モジュールで定義されている構文を使った全ての文が、汎用CSS文法および各機能ごとの個別文法に従って有効である必要があります。</p>
    <p>レンダラーがこの仕様に適合するためには、
        スタイルシートを関連仕様に従って解釈することに加え、
        この仕様で定義された全機能に対応し、それらを正しくパースし
        文書を適切にレンダリングする必要があります。ただし、デバイスの制約によってUAが文書を正しくレンダリングできない場合でも、
        UAが非適合となるわけではありません（例: UAはモノクロモニター上で色を表示する必要はありません）。</p>
    <p>オーサリングツールがこの仕様に適合するためには、
        汎用CSS文法および本モジュールの各機能の個別文法に従って構文的に正しいスタイルシートを書き、
        本モジュールで定義されたスタイルシートの全ての適合要件を満たす必要があります。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> 部分的な実装</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>著者が前方互換のパース規則を活用してフォールバック値を指定できるようにするため、
        CSSレンダラーは<strong>必ず</strong>（<a href="https://www.w3.org/TR/CSS21/conform.html#ignore">適切に無視</a>）、
        利用可能なレベルのサポートがない@規則、プロパティ、プロパティ値、キーワード、
        その他の構文要素を無効として扱わなければなりません。特に、ユーザーエージェントは
        <strong>決して</strong>サポートされていない値を個別に無視して、
        サポートされている値だけを1つの複数値プロパティ宣言内で適用してはなりません:
        いずれかの値が無効（未サポート値は必ず無効）と判定された場合、
        CSSでは宣言全体を無視する必要があります。
    </p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> 不安定・独自機能の実装</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>将来の安定CSS機能との衝突を避けるため、
        CSSWGは<a href="https://www.w3.org/TR/CSS/#future-proofing">ベストプラクティス</a>に従い、
        <a href="https://www.w3.org/TR/CSS/#unstable">不安定な</a>機能や
        <a href="https://www.w3.org/TR/CSS/#proprietary-extension">独自拡張</a>CSS機能の実装を推奨します。
    </p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> 実験的でない実装</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>仕様がCandidate Recommendation段階に達すると、
        実験的でない実装が可能となり、実装者は仕様に従って正しく実装できることを示せるCRレベルの機能については
        接頭辞なしでリリースすべきです。</p>
    <p>CSSの実装間で相互運用性を確立・維持するため、
        CSSワーキンググループは実験的でないCSSレンダラーに対し、
        実装報告（必要ならそのためのテストケースも）をW3Cに提出するよう求めます。
        W3Cに提出されたテストケースはCSSワーキンググループによるレビュー・修正対象となります。</p>
    <p>テストケースや実装報告の提出方法については
        CSSワーキンググループのウェブサイト <a href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>
        を参照してください。
        質問は <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
        メーリングリストへ。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義されている用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#selectordef-adjacent">+</a><span>, § 15.3内</span>
        <li><a href="#selectordef-child">></a><span>, § 15.2内</span>
        <li><a href="#selectordef-column">||</a><span>, § 16.1内</span>
        <li><a href="#selectordef-sibling">~</a><span>, § 15.4内</span>
        <li><a href="#active-pseudo">:active</a><span>, § 9.2内</span>
        <li><a href="#relative-selector-anchor-elements">anchor element</a><span>, § 3.4内</span>
        <li><a href="#any-link-pseudo">:any-link</a><span>, § 8.1内</span>
        <li><a href="#typedef-attribute-selector">&lt;attribute-selector></a><span>, § 18内</span>
        <li><a href="#attribute-selector">attribute selector</a><span>, § 6内</span>
        <li><a href="#typedef-attr-matcher">&lt;attr-matcher></a><span>, § 18内</span>
        <li><a href="#typedef-attr-modifier">&lt;attr-modifier></a><span>, § 18内</span>
        <li><a href="#selectordef-autofill">:autofill</a><span>, § 13.1.4内</span>
        <li><a href="#blank-pseudo">:blank</a><span>, § 13.3.1内</span>
        <li><a href="#selectordef-buffering">:buffering</a><span>, § 11.2内</span>
        <li><a href="#checked-pseudo">:checked</a><span>, § 13.2.1内</span>
        <li><a href="#child-combinator">child combinator</a><span>, § 15.2内</span>
        <li><a href="#typedef-class-selector">&lt;class-selector></a><span>, § 18内</span>
        <li><a href="#class-selector">class selector</a><span>, § 6.6内</span>
        <li><a href="#selectordef-closed">:closed</a><span>, § 12.1内</span>
        <li><a href="#column-combinator">column combinator</a><span>, § 16.1内</span>
        <li><a href="#typedef-combinator">&lt;combinator></a><span>, § 18内</span>
        <li><a href="#selector-combinator">combinator</a><span>, § 3.1内</span>
        <li><a href="#typedef-complex-selector">&lt;complex-selector></a><span>, § 18内</span>
        <li><a href="#complex">complex selector</a><span>, § 3.1内</span>
        <li><a href="#typedef-complex-selector-list">&lt;complex-selector-list></a><span>, § 18内</span>
        <li><a href="#typedef-compound-selector">&lt;compound-selector></a><span>, § 18内</span>
        <li><a href="#compound">compound selector</a><span>, § 3.1内</span>
        <li><a href="#typedef-compound-selector-list">&lt;compound-selector-list></a><span>, § 18内</span>
        <li><a href="#current-pseudo">:current</a><span>, § 10.1内</span>
        <li><a href="#selectordef-current">:current()</a><span>, § 10.1内</span>
        <li><a href="#nsdecl">declared</a><span>, § 3.8内</span>
        <li><a href="#default-pseudo">:default</a><span>, § 13.1.5内</span>
        <li><a href="#defined-pseudo">:defined</a><span>, § 5.4内</span>
        <li><a href="#descendant-combinator">descendant combinator</a><span>, § 15.1内</span>
        <li><a href="#dir-pseudo">:dir()</a><span>, § 7.1内</span>
        <li><a href="#disabled-pseudo">:disabled</a><span>, § 13.1.1内</span>
        <li><a href="#document-language">document language</a><span>, § 3.2内</span>
        <li><a href="#empty-pseudo">:empty</a><span>, § 14.2内</span>
        <li><a href="#enabled-pseudo">:enabled</a><span>, § 13.1.1内</span>
        <li><a href="#evaluating-selectors">evaluating a selector</a><span>, § 20.4内</span>
        <li><a href="#featureless">featureless</a><span>, § 3.2内</span>
        <li><a href="#first-child-pseudo">:first-child</a><span>, § 14.3.3内</span>
        <li><a href="#first-of-type-pseudo">:first-of-type</a><span>, § 14.4.3内</span>
        <li><a href="#focus-pseudo">:focus</a><span>, § 9.3内</span>
        <li><a href="#focus-visible-pseudo">:focus-visible</a><span>, § 9.4内</span>
        <li><a href="#focus-within-pseudo">:focus-within</a><span>, § 9.5内</span>
        <li><a href="#typedef-forgiving-relative-selector-list">&lt;forgiving-relative-selector-list></a><span>,
                § 18.1内</span>
        <li><a href="#typedef-forgiving-selector-list">&lt;forgiving-selector-list></a><span>, § 18.1内</span>
        <li><a href="#selectordef-fullscreen">:fullscreen</a><span>, § 12.3内</span>
        <li><a href="#functional-pseudo-class">functional pseudo-class</a><span>, § 3.5内</span>
        <li><a href="#future-pseudo">:future</a><span>, § 10.3内</span>
        <li><a href="#has-pseudo">:has()</a><span>, § 4.5内</span>
        <li><a href="#has-allowed-pseudo-element">:has-allowed pseudo-element</a><span>, § 4.5内</span>
        <li><a href="#host-language">host language</a><span>, § 3.2内</span>
        <li><a href="#hover-pseudo">:hover</a><span>, § 9.1内</span>
        <li><a href="#typedef-id-selector">&lt;id-selector></a><span>, § 18内</span>
        <li><a href="#id-selector">ID selector</a><span>, § 6.7内</span>
        <li><a href="#indeterminate-pseudo">:indeterminate</a><span>, § 13.2.2内</span>
        <li><a href="#indicate-focus">indicate focus</a><span>, § 9.4内</span>
        <li><a href="#in-range-pseudo">:in-range</a><span>, § 13.3.3内</span>
        <li><a href="#invalid-pseudo">:invalid</a><span>, § 13.3.2内</span>
        <li><a href="#invalid-selector">invalid</a><span>, § 3.9内</span>
        <li><a href="#invalid-selector">invalid selector</a><span>, § 3.9内</span>
        <li><a href="#matches-pseudo">:is()</a><span>, § 4.2内</span>
        <li><a href="#lang-pseudo">:lang()</a><span>, § 7.2内</span>
        <li><a href="#language-range">language range</a><span>, § 7.2内</span>
        <li><a href="#last-child-pseudo">:last-child</a><span>, § 14.3.4内</span>
        <li><a href="#last-of-type-pseudo">:last-of-type</a><span>, § 14.4.4内</span>
        <li><a href="#legacy-selector-alias">legacy selector alias</a><span>, § 3.10内</span>
        <li><a href="#link-pseudo">:link</a><span>, § 8.2内</span>
        <li><a href="#list-of-simple-selectors">list of complex selectors</a><span>, § 3.1内</span>
        <li><a href="#list-of-simple-selectors">list of compound selectors</a><span>, § 3.1内</span>
        <li><a href="#selector-list">list of selectors</a><span>, § 3.1内</span>
        <li><a href="#list-of-simple-selectors">list of simple selectors</a><span>, § 3.1内</span>
        <li><a href="#local-link-pseudo">:local-link</a><span>, § 8.3内</span>
        <li><a href="#match">match</a><span>, § 3.1内</span>
        <li><a href="#match-a-complex-selector-against-an-element">match a complex selector against an
                element</a><span>, § 19.3内</span>
        <li><a href="#match-a-selector-against-an-element">match a selector against an element</a><span>, § 19.3内</span>
        <li><a href="#match-a-selector-against-a-pseudo-element">match a selector against a pseudo-element</a><span>,
                § 19.4内</span>
        <li><a href="#match-a-selector-against-a-tree">match a selector against a tree</a><span>, § 19.5内</span>
        <li><a href="#selectordef-matches">:matches()</a><span>, § 4.2内</span>
        <li><a href="#selectordef-modal">:modal</a><span>, § 12.2内</span>
        <li><a href="#selectordef-muted">:muted</a><span>, § 11.3内</span>
        <li><a href="#next-sibling-combinator">next-sibling combinator</a><span>, § 15.3内</span>
        <li><a href="#negation-pseudo">:not()</a><span>, § 4.3内</span>
        <li><a href="#typedef-ns-prefix">&lt;ns-prefix></a><span>, § 18内</span>
        <li><a href="#nth-child-pseudo">:nth-child()</a><span>, § 14.3.1内</span>
        <li><a href="#nth-col-pseudo">:nth-col()</a><span>, § 16.2内</span>
        <li><a href="#nth-last-child-pseudo">:nth-last-child()</a><span>, § 14.3.2内</span>
        <li><a href="#nth-last-col-pseudo">:nth-last-col()</a><span>, § 16.3内</span>
        <li><a href="#nth-last-of-type-pseudo">:nth-last-of-type()</a><span>, § 14.4.2内</span>
        <li><a href="#nth-of-type-pseudo">:nth-of-type()</a><span>, § 14.4.1内</span>
        <li><a href="#only-child-pseudo">:only-child</a><span>, § 14.3.5内</span>
        <li><a href="#only-of-type-pseudo">:only-of-type</a><span>, § 14.4.5内</span>
        <li><a href="#selectordef-open">:open</a><span>, § 12.1内</span>
        <li><a href="#optional-pseudo">:optional</a><span>, § 13.3.4内</span>
        <li><a href="#originating-element">originating element</a><span>, § 3.6.2内</span>
        <li><a href="#originating-pseudo-element">originating pseudo-element</a><span>, § 3.6.4内</span>
        <li><a href="#out-of-range-pseudo">:out-of-range</a><span>, § 13.3.3内</span>
        <li><a href="#parse-a-relative-selector">parse a relative selector</a><span>, § 19.2内</span>
        <li><a href="#parse-as-a-forgiving-selector-list">parse as a forgiving selector list</a><span>, § 18.1内</span>
        <li><a href="#parse-a-selector">parse a selector</a><span>, § 19.1内</span>
        <li><a href="#parse-as-a-forgiving-selector-list">parsed as a forgiving selector list</a><span>, § 18.1内</span>
        <li><a href="#parse-as-a-forgiving-selector-list">parsing as a forgiving selector list</a><span>, § 18.1内</span>
        <li><a href="#past-pseudo">:past</a><span>, § 10.2内</span>
        <li><a href="#selectordef-paused">:paused</a><span>, § 11.1内</span>
        <li><a href="#selectordef-picture-in-picture">:picture-in-picture</a><span>, § 12.4内</span>
        <li><a href="#placeholder-shown-pseudo">:placeholder-shown</a><span>, § 13.1.3内</span>
        <li><a href="#selectordef-playing">:playing</a><span>, § 11.1内</span>
        <li><a href="#pseudo-class">pseudo-class</a><span>, § 3.5内</span>
        <li><a href="#typedef-pseudo-class-selector">&lt;pseudo-class-selector></a><span>, § 18内</span>
        <li><a href="#pseudo-element">pseudo-element</a><span>, § 3.6内</span>
        <li><a href="#typedef-pseudo-element-selector">&lt;pseudo-element-selector></a><span>, § 18内</span>
        <li><a href="#read-only-pseudo">:read-only</a><span>, § 13.1.2内</span>
        <li><a href="#read-write-pseudo">:read-write</a><span>, § 13.1.2内</span>
        <li><a href="#relative-selector">relative</a><span>, § 3.4内</span>
        <li><a href="#typedef-relative-selector">&lt;relative-selector></a><span>, § 18内</span>
        <li><a href="#relative-selector">relative selector</a><span>, § 3.4内</span>
        <li><a href="#relative-selector-anchor-elements">relative selector anchor elements</a><span>, § 3.4内</span>
        <li><a href="#typedef-relative-selector-list">&lt;relative-selector-list></a><span>, § 18内</span>
        <li><a href="#required-pseudo">:required</a><span>, § 13.3.4内</span>
        <li><a href="#root-pseudo">:root</a><span>, § 14.1内</span>
        <li><a href="#scope-pseudo">:scope</a><span>, § 8.6内</span>
        <li><a href="#scoped-selector">scope</a><span>, § 3.3内</span>
        <li><a href="#scoped-selector">scoped selector</a><span>, § 3.3内</span>
        <li><a href="#scoping-root">scoping root</a><span>, § 3.3内</span>
        <li><a href="#selectordef-seeking">:seeking</a><span>, § 11.1内</span>
        <li><a href="#selector">selector</a><span>, § 3.1内</span>
        <li><a href="#typedef-selector-list">&lt;selector-list></a><span>, § 18内</span>
        <li><a href="#selector-list">selector list</a><span>, § 3.1内</span>
        <li><a href="#typedef-simple-selector">&lt;simple-selector></a><span>, § 18内</span>
        <li><a href="#simple">simple selector</a><span>, § 3.1内</span>
        <li><a href="#typedef-simple-selector-list">&lt;simple-selector-list></a><span>, § 18内</span>
        <li><a href="#specificity">specificity</a><span>, § 17内</span>
        <li><a href="#selectordef-stalled">:stalled</a><span>, § 11.2内</span>
        <li><a href="#structural-pseudo-classes">structural pseudo-classes</a><span>, § 14内</span>
        <li><a href="#typedef-subclass-selector">&lt;subclass-selector></a><span>, § 18内</span>
        <li><a href="#selector-subject">subject</a><span>, § 3.1内</span>
        <li><a href="#selector-subject">subject of a selector</a><span>, § 3.1内</span>
        <li><a href="#selector-subject">subject of the selector</a><span>, § 3.1内</span>
        <li><a href="#sub-pseudo-element">sub-pseudo-element</a><span>, § 3.6.4内</span>
        <li><a href="#subsequent-sibling-combinator">subsequent-sibling combinator</a><span>, § 15.4内</span>
        <li><a href="#target-pseudo">:target</a><span>, § 8.4内</span>
        <li><a href="#target-within-pseudo">:target-within</a><span>, § 8.5内</span>
        <li><a href="#typedef-type-selector">&lt;type-selector></a><span>, § 18内</span>
        <li><a href="#type-selector">type selector</a><span>, § 5.1内</span>
        <li><a href="#ultimate-originating-element">ultimate originating element</a><span>, § 3.6.4内</span>
        <li><a href="#universal-selector">universal selector</a><span>, § 5.2内</span>
        <li><a href="#unknown--webkit--pseudo-elements">unknown -webkit- pseudo-elements</a><span>, 未番号セクション</span>
        <li><a href="#user-action-pseudo-class">user action pseudo-class</a><span>, § 9内</span>
        <li><a href="#user-invalid-pseudo">:user-invalid</a><span>, § 13.3.5内</span>
        <li><a href="#user-valid-pseudo">:user-valid</a><span>, § 13.3.5内</span>
        <li><a href="#valid-pseudo">:valid</a><span>, § 13.3.2内</span>
        <li><a href="#visited-pseudo">:visited</a><span>, § 8.2内</span>
        <li><a href="#selectordef-volume-locked">:volume-locked</a><span>, § 11.3内</span>
        <li><a href="#where-pseudo">:where()</a><span>, § 4.4内</span>
        <li><a href="#whitespace">White space</a><span>, § 3.7内</span>
        <li><a href="#typedef-wq-name">&lt;wq-name></a><span>, § 18内</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-valdef-lab-a">
        <a href="https://www.w3.org/TR/css-color-5/#valdef-lab-a">https://www.w3.org/TR/css-color-5/#valdef-lab-a</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-lab-a">3.6.2.
                    Binding to the Document Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-box-tree">
        <a href="https://www.w3.org/TR/css-display-3/#box-tree">https://www.w3.org/TR/css-display-3/#box-tree</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-box-tree">3.6.5.
                    Internal Structure</a> <a href="#ref-for-box-tree①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-display">
        <a
            href="https://www.w3.org/TR/css-display-3/#propdef-display">https://www.w3.org/TR/css-display-3/#propdef-display</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-display">12.1.
                    Collapse State: the :open and :closed pseudo-class</a>
            <li><a href="#ref-for-propdef-display①">13.1.1.
                    The :enabled and :disabled Pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-display-type">
        <a
            href="https://www.w3.org/TR/css-display-3/#display-type">https://www.w3.org/TR/css-display-3/#display-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-display-type">3.6.4.
                    Sub-pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-list-item">
        <a
            href="https://www.w3.org/TR/css-display-3/#valdef-display-list-item">https://www.w3.org/TR/css-display-3/#valdef-display-list-item</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-list-item">3.6.4.
                    Sub-pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-visibility">
        <a
            href="https://www.w3.org/TR/css-display-3/#propdef-visibility">https://www.w3.org/TR/css-display-3/#propdef-visibility</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-visibility">12.1.
                    Collapse State: the :open and :closed pseudo-class</a>
            <li><a href="#ref-for-propdef-visibility①">13.1.1.
                    The :enabled and :disabled Pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-after">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-after">https://www.w3.org/TR/css-pseudo-4/#selectordef-after</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-after">3.6. Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-after①">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-selectordef-after②">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-before">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before">https://www.w3.org/TR/css-pseudo-4/#selectordef-before</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-before">3.6. Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-before①">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-selectordef-before②">3.6.2.
                    Binding to the Document Tree</a>
            <li><a href="#ref-for-selectordef-before③">3.6.4.
                    Sub-pseudo-elements</a>
            <li><a href="#ref-for-selectordef-before④">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-first-letter">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter">https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter">3.6. Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter①">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-selectordef-first-letter②">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-first-line">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line">https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-line">3.2.
                    Data Model</a> <a href="#ref-for-selectordef-first-line①">(2)</a>
            <li><a href="#ref-for-selectordef-first-line②">3.6. Pseudo-elements</a> <a
                    href="#ref-for-selectordef-first-line③">(2)</a>
            <li><a href="#ref-for-selectordef-first-line④">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-selectordef-first-line⑤">3.6.2.
                    Binding to the Document Tree</a> <a href="#ref-for-selectordef-first-line⑥">(2)</a>
            <li><a href="#ref-for-selectordef-first-line⑦">3.6.3.
                    Pseudo-classing Pseudo-elements</a> <a href="#ref-for-selectordef-first-line⑧">(2)</a>
            <li><a href="#ref-for-selectordef-first-line⑨">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-tree-abiding">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding">https://www.w3.org/TR/css-pseudo-4/#tree-abiding</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-tree-abiding">18.
                    Grammar</a>
            <li><a href="#ref-for-tree-abiding①">19.5.
                    Match a Selector Against a Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-shadow">
        <a
            href="https://www.w3.org/TR/css-scoping-1/#selectordef-shadow">https://www.w3.org/TR/css-scoping-1/#selectordef-shadow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-shadow">3.6.5.
                    Internal Structure</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-slotted">
        <a
            href="https://drafts.csswg.org/css-scoping-1/#selectordef-slotted">https://drafts.csswg.org/css-scoping-1/#selectordef-slotted</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-slotted">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-host0">
        <a
            href="https://www.w3.org/TR/css-scoping-1/#selectordef-host0">https://www.w3.org/TR/css-scoping-1/#selectordef-host0</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-host0">3.2.
                    Data Model</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-host-context">
        <a
            href="https://www.w3.org/TR/css-scoping-1/#selectordef-host-context">https://www.w3.org/TR/css-scoping-1/#selectordef-host-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-host-context">3.2.
                    Data Model</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-flat-tree">
        <a
            href="https://drafts.csswg.org/css-scoping-1/#flat-tree">https://drafts.csswg.org/css-scoping-1/#flat-tree</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-flat-tree">8.5.
                    The Target Container Pseudo-class: :target-within</a>
            <li><a href="#ref-for-flat-tree①">9.1.
                    The Pointer Hover Pseudo-class: :hover</a>
            <li><a href="#ref-for-flat-tree②">9.2.
                    The Activation Pseudo-class: :active</a>
            <li><a href="#ref-for-flat-tree③">9.5.
                    The Focus Container Pseudo-class: :focus-within</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-shadow-host">
        <a
            href="https://www.w3.org/TR/css-scoping-1/#shadow-host">https://www.w3.org/TR/css-scoping-1/#shadow-host</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-shadow-host">3.2.
                    Data Model</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-shadow-tree">
        <a
            href="https://www.w3.org/TR/css-scoping-1/#shadow-tree">https://www.w3.org/TR/css-scoping-1/#shadow-tree</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-shadow-tree">3.2.
                    Data Model</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-content-language">
        <a
            href="https://www.w3.org/TR/css-text-3/#content-language">https://www.w3.org/TR/css-text-3/#content-language</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-content-language">7.2.
                    The Language Pseudo-class: :lang()</a> <a href="#ref-for-content-language①">(2)</a> <a
                    href="#ref-for-content-language②">(3)</a> <a href="#ref-for-content-language③">(4)</a> <a
                    href="#ref-for-content-language④">(5)</a> <a href="#ref-for-content-language⑤">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-white-space">
        <a href="https://www.w3.org/TR/css-text-3/#white-space">https://www.w3.org/TR/css-text-3/#white-space</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-white-space">14.2.
                    :empty pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-mult-req">
        <a href="https://www.w3.org/TR/css-values-4/#mult-req">https://www.w3.org/TR/css-values-4/#mult-req</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-mult-req">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-mult-comma">
        <a href="https://www.w3.org/TR/css-values-4/#mult-comma">https://www.w3.org/TR/css-values-4/#mult-comma</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-mult-comma">18.
                    Grammar</a> <a href="#ref-for-mult-comma①">(2)</a> <a href="#ref-for-mult-comma②">(3)</a> <a
                    href="#ref-for-mult-comma③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-mult-zero-plus">
        <a
            href="https://www.w3.org/TR/css-values-4/#mult-zero-plus">https://www.w3.org/TR/css-values-4/#mult-zero-plus</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-mult-zero-plus">18.
                    Grammar</a> <a href="#ref-for-mult-zero-plus①">(2)</a> <a href="#ref-for-mult-zero-plus②">(3)</a> <a
                    href="#ref-for-mult-zero-plus③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-ident">
        <a
            href="https://www.w3.org/TR/css-values-4/#typedef-ident">https://www.w3.org/TR/css-values-4/#typedef-ident</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-ident">7.2.
                    The Language Pseudo-class: :lang()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-string-value">
        <a
            href="https://www.w3.org/TR/css-values-4/#string-value">https://www.w3.org/TR/css-values-4/#string-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-string-value">7.2.
                    The Language Pseudo-class: :lang()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-mult-opt">
        <a href="https://www.w3.org/TR/css-values-4/#mult-opt">https://www.w3.org/TR/css-values-4/#mult-opt</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-mult-opt">18.
                    Grammar</a> <a href="#ref-for-mult-opt①">(2)</a> <a href="#ref-for-mult-opt②">(3)</a> <a
                    href="#ref-for-mult-opt③">(4)</a> <a href="#ref-for-mult-opt④">(5)</a> <a
                    href="#ref-for-mult-opt⑤">(6)</a> <a href="#ref-for-mult-opt⑥">(7)</a> <a
                    href="#ref-for-mult-opt⑦">(8)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-css-identifier">
        <a
            href="https://www.w3.org/TR/css-values-4/#css-css-identifier">https://www.w3.org/TR/css-values-4/#css-css-identifier</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-css-identifier">3.5.
                    Pseudo-classes</a>
            <li><a href="#ref-for-css-css-identifier①">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-css-css-identifier②">5.1.
                    Type (tag name) selector</a>
            <li><a href="#ref-for-css-css-identifier③">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-comb-one">
        <a href="https://www.w3.org/TR/css-values-4/#comb-one">https://www.w3.org/TR/css-values-4/#comb-one</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-comb-one">18.
                    Grammar</a> <a href="#ref-for-comb-one①">(2)</a> <a href="#ref-for-comb-one②">(3)</a> <a
                    href="#ref-for-comb-one③">(4)</a> <a href="#ref-for-comb-one④">(5)</a> <a
                    href="#ref-for-comb-one⑤">(6)</a> <a href="#ref-for-comb-one⑥">(7)</a> <a
                    href="#ref-for-comb-one⑦">(8)</a> <a href="#ref-for-comb-one⑧">(9)</a> <a
                    href="#ref-for-comb-one⑨">(10)</a> <a href="#ref-for-comb-one①⓪">(11)</a> <a
                    href="#ref-for-comb-one①①">(12)</a> <a href="#ref-for-comb-one①②">(13)</a> <a
                    href="#ref-for-comb-one①③">(14)</a> <a href="#ref-for-comb-one①④">(15)</a> <a
                    href="#ref-for-comb-one①⑤">(16)</a> <a href="#ref-for-comb-one①⑥">(17)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-direction">
        <a
            href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction">https://www.w3.org/TR/css-writing-modes-3/#propdef-direction</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-direction">7.1.
                    The Directionality Pseudo-class: :dir()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-qualified-name">
        <a
            href="https://www.w3.org/TR/css-namespaces-3/#css-qualified-name">https://www.w3.org/TR/css-namespaces-3/#css-qualified-name</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-qualified-name">5.1.
                    Type (tag name) selector</a>
            <li><a href="#ref-for-css-qualified-name①">5.2.
                    Universal selector </a>
            <li><a href="#ref-for-css-qualified-name②">6.4.
                    Attribute selectors and namespaces</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-default-namespace">
        <a
            href="https://www.w3.org/TR/css-namespaces-3/#default-namespace">https://www.w3.org/TR/css-namespaces-3/#default-namespace</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-default-namespace">5.3.
                    Namespaces in Elemental Selectors</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-anb-production">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#anb-production">https://www.w3.org/TR/css-syntax-3/#anb-production</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-anb-production">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-anb-production①">20.5.
                    Changes since the 23 August 2012 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-any-value">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#typedef-any-value">https://www.w3.org/TR/css-syntax-3/#typedef-any-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-any-value">18.
                    Grammar</a>
            <li><a href="#ref-for-typedef-any-value①">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-function-token">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#typedef-function-token">https://www.w3.org/TR/css-syntax-3/#typedef-function-token</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-function-token">18.
                    Grammar</a> <a href="#ref-for-typedef-function-token①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-hash-token">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#typedef-hash-token">https://www.w3.org/TR/css-syntax-3/#typedef-hash-token</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-hash-token">18.
                    Grammar</a> <a href="#ref-for-typedef-hash-token①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-ident-token">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#typedef-ident-token">https://www.w3.org/TR/css-syntax-3/#typedef-ident-token</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-ident-token">6.1.
                    Attribute presence and value selectors</a>
            <li><a href="#ref-for-typedef-ident-token①">6.2.
                    Substring matching attribute selectors</a>
            <li><a href="#ref-for-typedef-ident-token②">18.
                    Grammar</a> <a href="#ref-for-typedef-ident-token③">(2)</a> <a
                    href="#ref-for-typedef-ident-token④">(3)</a> <a href="#ref-for-typedef-ident-token⑤">(4)</a> <a
                    href="#ref-for-typedef-ident-token⑥">(5)</a> <a href="#ref-for-typedef-ident-token⑦">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-string-token">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#typedef-string-token">https://www.w3.org/TR/css-syntax-3/#typedef-string-token</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-string-token">6.1.
                    Attribute presence and value selectors</a>
            <li><a href="#ref-for-typedef-string-token①">6.2.
                    Substring matching attribute selectors</a>
            <li><a href="#ref-for-typedef-string-token②">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-parse-something-according-to-a-css-grammar">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar">https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-parse-something-according-to-a-css-grammar">18.
                    Grammar</a>
            <li><a href="#ref-for-css-parse-something-according-to-a-css-grammar①">19.1.
                    Parse A Selector</a>
            <li><a href="#ref-for-css-parse-something-according-to-a-css-grammar②">19.2.
                    Parse A Relative Selector</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-parse-a-comma-separated-list-according-to-a-css-grammar">
        <a
            href="https://www.w3.org/TR/css-syntax-3/#css-parse-a-comma-separated-list-according-to-a-css-grammar">https://www.w3.org/TR/css-syntax-3/#css-parse-a-comma-separated-list-according-to-a-css-grammar</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-parse-a-comma-separated-list-according-to-a-css-grammar">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-document">
        <a href="https://dom.spec.whatwg.org/#document">https://dom.spec.whatwg.org/#document</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-document">14.1.
                    :root pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-documentfragment">
        <a href="https://dom.spec.whatwg.org/#documentfragment">https://dom.spec.whatwg.org/#documentfragment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-documentfragment">8.6.
                    The Reference Element Pseudo-class: :scope</a> <a href="#ref-for-documentfragment①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-tree-descendant">
        <a
            href="https://dom.spec.whatwg.org/#concept-tree-descendant">https://dom.spec.whatwg.org/#concept-tree-descendant</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-tree-descendant">19.5.
                    Match a Selector Against a Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-tree-inclusive-sibling">
        <a
            href="https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling">https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-tree-inclusive-sibling">14.3.
                    Child-indexed Pseudo-classes</a>
            <li><a href="#ref-for-concept-tree-inclusive-sibling①">14.3.1.
                    :nth-child() pseudo-class</a>
            <li><a href="#ref-for-concept-tree-inclusive-sibling②">14.3.2.
                    :nth-last-child() pseudo-class</a>
            <li><a href="#ref-for-concept-tree-inclusive-sibling③">14.3.3.
                    :first-child pseudo-class</a>
            <li><a href="#ref-for-concept-tree-inclusive-sibling④">14.3.4.
                    :last-child pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-node-parentnode">
        <a
            href="https://dom.spec.whatwg.org/#dom-node-parentnode">https://dom.spec.whatwg.org/#dom-node-parentnode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-node-parentnode">8.6.
                    The Reference Element Pseudo-class: :scope</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-document-quirks">
        <a
            href="https://dom.spec.whatwg.org/#concept-document-quirks">https://dom.spec.whatwg.org/#concept-document-quirks</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-document-quirks">6.6.
                    Class selectors</a>
            <li><a href="#ref-for-concept-document-quirks①">6.7.
                    ID selectors</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-tree-root">
        <a href="https://dom.spec.whatwg.org/#concept-tree-root">https://dom.spec.whatwg.org/#concept-tree-root</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-tree-root">19.5.
                    Match a Selector Against a Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-shadow-including-tree-order">
        <a
            href="https://dom.spec.whatwg.org/#concept-shadow-including-tree-order">https://dom.spec.whatwg.org/#concept-shadow-including-tree-order</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-shadow-including-tree-order">19.5.
                    Match a Selector Against a Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-tree">
        <a href="https://dom.spec.whatwg.org/#concept-tree">https://dom.spec.whatwg.org/#concept-tree</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-tree">19.5.
                    Match a Selector Against a Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-element-requestfullscreen">
        <a
            href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen">https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-element-requestfullscreen">12.2.
                    Modal (Exclusive Interaction) State: the :modal pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-a-element">
        <a
            href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element">https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-a-element">3.3.
                    Scoped Selectors</a> <a href="#ref-for-the-a-element①">(2)</a>
            <li><a href="#ref-for-the-a-element②">6.1.
                    Attribute presence and value selectors</a> <a href="#ref-for-the-a-element③">(2)</a> <a
                    href="#ref-for-the-a-element④">(3)</a> <a href="#ref-for-the-a-element⑤">(4)</a> <a
                    href="#ref-for-the-a-element⑥">(5)</a>
            <li><a href="#ref-for-the-a-element⑦">6.2.
                    Substring matching attribute selectors</a>
            <li><a href="#ref-for-the-a-element⑧">8.1.
                    The Hyperlink Pseudo-class: :any-link</a>
            <li><a href="#ref-for-the-a-element⑨">9.
                    User Action Pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-area-element">
        <a
            href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element">https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-area-element">8.1.
                    The Hyperlink Pseudo-class: :any-link</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-audio">
        <a
            href="https://html.spec.whatwg.org/multipage/media.html#audio">https://html.spec.whatwg.org/multipage/media.html#audio</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-audio">11.1.
                    Media Playback State: the :playing, :paused, and :seeking pseudo-classes</a>
            <li><a href="#ref-for-audio①">11.2.
                    Media Loading State: the :buffering and :stalled pseudo-classes</a>
            <li><a href="#ref-for-audio②">11.3.
                    Sound State: the :muted and :volume-locked pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-button-element">
        <a
            href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element">https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-button-element">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-custom-element">
        <a
            href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element">https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-custom-element">5.4.
                    The Defined Pseudo-class: :defined</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-details-element">
        <a
            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element">https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-details-element">12.1.
                    Collapse State: the :open and :closed pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-dialog-element">
        <a
            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element">https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-dialog-element">12.1.
                    Collapse State: the :open and :closed pseudo-class</a> <a
                    href="#ref-for-the-dialog-element①">(2)</a>
            <li><a href="#ref-for-the-dialog-element②">12.2.
                    Modal (Exclusive Interaction) State: the :modal pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-div-element">
        <a
            href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element">https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-div-element">6.6.
                    Class selectors</a>
            <li><a href="#ref-for-the-div-element①">14.3.3.
                    :first-child pseudo-class</a>
            <li><a href="#ref-for-the-div-element②">15.1.
                    Descendant combinator ( )</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-effective-media-volume">
        <a
            href="https://html.spec.whatwg.org/multipage/media.html#effective-media-volume">https://html.spec.whatwg.org/multipage/media.html#effective-media-volume</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-effective-media-volume">11.3.
                    Sound State: the :muted and :volume-locked pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-element-definition">
        <a
            href="https://html.spec.whatwg.org/multipage/custom-elements.html#element-definition">https://html.spec.whatwg.org/multipage/custom-elements.html#element-definition</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-element-definition">5.4.
                    The Defined Pseudo-class: :defined</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-em-element">
        <a
            href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-em-element">https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-em-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-em-element">15.1.
                    Descendant combinator ( )</a> <a href="#ref-for-the-em-element①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-h1-element">
        <a
            href="https://html.spec.whatwg.org/multipage/sections.html#the-h1-element">https://html.spec.whatwg.org/multipage/sections.html#the-h1-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-h1-element">5.1.
                    Type (tag name) selector</a>
            <li><a href="#ref-for-the-h1-element①">5.3.
                    Namespaces in Elemental Selectors</a> <a href="#ref-for-the-h1-element②">(2)</a> <a
                    href="#ref-for-the-h1-element③">(3)</a>
            <li><a href="#ref-for-the-h1-element④">6.1.
                    Attribute presence and value selectors</a>
            <li><a href="#ref-for-the-h1-element⑤">6.7.
                    ID selectors</a>
            <li><a href="#ref-for-the-h1-element⑥">15.1.
                    Descendant combinator ( )</a> <a href="#ref-for-the-h1-element⑦">(2)</a>
            <li><a href="#ref-for-the-h1-element⑧">15.3.
                    Next-sibling combinator (+)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-attr-hyperlink-href">
        <a
            href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href">https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-attr-hyperlink-href">8.1.
                    The Hyperlink Pseudo-class: :any-link</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-html-element">
        <a
            href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">https://html.spec.whatwg.org/multipage/semantics.html#the-html-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-html-element">14.1.
                    :root pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-img-element">
        <a
            href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element">https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-img-element">14.4.1.
                    :nth-of-type() pseudo-class</a>
            <li><a href="#ref-for-the-img-element①">14.4.2.
                    :nth-last-of-type() pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-input-element">
        <a
            href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">https://html.spec.whatwg.org/multipage/input.html#the-input-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-input-element">9.4.
                    The Focus-Indicated Pseudo-class: :focus-visible</a>
            <li><a href="#ref-for-the-input-element①">13.
                    The Input Pseudo-classes</a>
            <li><a href="#ref-for-the-input-element②">13.1.3.
                    The Placeholder-shown Pseudo-class: :placeholder-shown</a>
            <li><a href="#ref-for-the-input-element③">13.3.1.
                    The Empty-Value Pseudo-class: :blank</a>
            <li><a href="#ref-for-the-input-element④"> Appendix B: Obsolete but Required -webkit- Parsing Quirks for Web
                    Compat</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-label-element">
        <a
            href="https://html.spec.whatwg.org/multipage/forms.html#the-label-element">https://html.spec.whatwg.org/multipage/forms.html#the-label-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-label-element">9.1.
                    The Pointer Hover Pseudo-class: :hover</a>
            <li><a href="#ref-for-the-label-element①">9.3.
                    The Input Focus Pseudo-class: :focus</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-li-element">
        <a
            href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element">https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-li-element">15.2.
                    Child combinator (>)</a> <a href="#ref-for-the-li-element①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-media-data">
        <a
            href="https://html.spec.whatwg.org/multipage/media.html#media-data">https://html.spec.whatwg.org/multipage/media.html#media-data</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-media-data">11.2.
                    Media Loading State: the :buffering and :stalled pseudo-classes</a> <a
                    href="#ref-for-media-data①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-stall-timeout">
        <a
            href="https://html.spec.whatwg.org/multipage/media.html#stall-timeout">https://html.spec.whatwg.org/multipage/media.html#stall-timeout</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-stall-timeout">11.2.
                    Media Loading State: the :buffering and :stalled pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-meta">
        <a
            href="https://html.spec.whatwg.org/multipage/semantics.html#meta">https://html.spec.whatwg.org/multipage/semantics.html#meta</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-meta">7.2.
                    The Language Pseudo-class: :lang()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-object-element">
        <a
            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-object-element">https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-object-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-object-element">6.2.
                    Substring matching attribute selectors</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-ol-element">
        <a
            href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element">https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-ol-element">4.2.
                    The Matches-Any Pseudo-class: :is()</a>
            <li><a href="#ref-for-the-ol-element①">15.2.
                    Child combinator (>)</a> <a href="#ref-for-the-ol-element②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-option-element">
        <a
            href="https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element">https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-option-element">13.1.3.
                    The Placeholder-shown Pseudo-class: :placeholder-shown</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-p-element">
        <a
            href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element">https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-p-element">6.6.
                    Class selectors</a>
            <li><a href="#ref-for-the-p-element①">8.4.
                    The Target Pseudo-class: :target</a>
            <li><a href="#ref-for-the-p-element②">13.3.2.
                    The Validity Pseudo-classes: :valid and :invalid</a>
            <li><a href="#ref-for-the-p-element③">14.2.
                    :empty pseudo-class</a>
            <li><a href="#ref-for-the-p-element④">14.3.3.
                    :first-child pseudo-class</a>
            <li><a href="#ref-for-the-p-element⑤">15.1.
                    Descendant combinator ( )</a>
            <li><a href="#ref-for-the-p-element⑥">15.2.
                    Child combinator (>)</a> <a href="#ref-for-the-p-element⑦">(2)</a>
            <li><a href="#ref-for-the-p-element⑧">15.3.
                    Next-sibling combinator (+)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-attr-input-placeholder">
        <a
            href="https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder">https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-attr-input-placeholder">13.1.3.
                    The Placeholder-shown Pseudo-class: :placeholder-shown</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-pre-element">
        <a
            href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element">https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-pre-element">15.4.
                    Subsequent-sibling combinator (~)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-q-element">
        <a
            href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element">https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-q-element">7.2.
                    The Language Pseudo-class: :lang()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-select-element">
        <a
            href="https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element">https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-select-element">12.1.
                    Collapse State: the :open and :closed pseudo-class</a>
            <li><a href="#ref-for-the-select-element①">13.1.3.
                    The Placeholder-shown Pseudo-class: :placeholder-shown</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-dialog-showmodal">
        <a
            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal">https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-dialog-showmodal">12.2.
                    Modal (Exclusive Interaction) State: the :modal pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-span-element">
        <a
            href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-span-element">https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-span-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-span-element">6.1.
                    Attribute presence and value selectors</a> <a href="#ref-for-the-span-element①">(2)</a>
            <li><a href="#ref-for-the-span-element②">6.6.
                    Class selectors</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-textarea-element">
        <a
            href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element">https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-textarea-element">13.3.1.
                    The Empty-Value Pseudo-class: :blank</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-attr-input-value">
        <a
            href="https://html.spec.whatwg.org/multipage/input.html#attr-input-value">https://html.spec.whatwg.org/multipage/input.html#attr-input-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-attr-input-value">13.3.1.
                    The Empty-Value Pseudo-class: :blank</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-video">
        <a
            href="https://html.spec.whatwg.org/multipage/media.html#video">https://html.spec.whatwg.org/multipage/media.html#video</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-video">11.1.
                    Media Playback State: the :playing, :paused, and :seeking pseudo-classes</a>
            <li><a href="#ref-for-video①">11.2.
                    Media Loading State: the :buffering and :stalled pseudo-classes</a>
            <li><a href="#ref-for-video②">11.3.
                    Sound State: the :muted and :volume-locked pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ascii-case-insensitive">
        <a
            href="https://infra.spec.whatwg.org/#ascii-case-insensitive">https://infra.spec.whatwg.org/#ascii-case-insensitive</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ascii-case-insensitive">3.5.
                    Pseudo-classes</a>
            <li><a href="#ref-for-ascii-case-insensitive①">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-ascii-case-insensitive②">3.7.
                    Characters and case sensitivity</a>
            <li><a href="#ref-for-ascii-case-insensitive③">6.3.
                    Case-sensitivity</a> <a href="#ref-for-ascii-case-insensitive④">(2)</a> <a
                    href="#ref-for-ascii-case-insensitive⑤">(3)</a>
            <li><a href="#ref-for-ascii-case-insensitive⑥">6.6.
                    Class selectors</a>
            <li><a href="#ref-for-ascii-case-insensitive⑦">6.7.
                    ID selectors</a>
            <li><a href="#ref-for-ascii-case-insensitive⑧">7.2.
                    The Language Pseudo-class: :lang()</a>
            <li><a href="#ref-for-ascii-case-insensitive⑨"> Appendix B: Obsolete but Required -webkit- Parsing Quirks
                    for Web Compat</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-string-is">
        <a href="https://infra.spec.whatwg.org/#string-is">https://infra.spec.whatwg.org/#string-is</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-string-is">2.
                    Selectors Overview</a>
            <li><a href="#ref-for-string-is①">6.3.
                    Case-sensitivity</a>
            <li><a href="#ref-for-string-is②">6.6.
                    Class selectors</a>
            <li><a href="#ref-for-string-is③">6.7.
                    ID selectors</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-track-muted">
        <a
            href="https://www.w3.org/TR/mediacapture-streams/#track-muted">https://www.w3.org/TR/mediacapture-streams/#track-muted</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-track-muted">11.3.
                    Sound State: the :muted and :volume-locked pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-x">
        <a href="https://www.w3.org/TR/selectors-3/#x">https://www.w3.org/TR/selectors-3/#x</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-x">3.6.2.
                    Binding to the Document Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-url-fragment">
        <a
            href="https://url.spec.whatwg.org/#concept-url-fragment">https://url.spec.whatwg.org/#concept-url-fragment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-url-fragment">8.4.
                    The Target Pseudo-class: :target</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照によって定義される用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[css-color-5]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-valdef-lab-a">a</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-display-3]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-box-tree">ボックスツリー</span>
                <li><span class="dfn-paneled" id="term-for-propdef-display">display</span>
                <li><span class="dfn-paneled" id="term-for-display-type">display型</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-list-item">list-item</span>
                <li><span class="dfn-paneled" id="term-for-propdef-visibility">visibility</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-PSEUDO-4]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-selectordef-after">::after</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-before">::before</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-first-letter">::first-letter</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-first-line">::first-line</span>
                <li><span class="dfn-paneled" id="term-for-tree-abiding">ツリー順守型疑似要素</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-scoping-1]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-selectordef-shadow">::shadow</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-slotted">::slotted()</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-host0">:host</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-host-context">:host-context()</span>
                <li><span class="dfn-paneled" id="term-for-flat-tree">フラットツリー</span>
                <li><span class="dfn-paneled" id="term-for-shadow-host">シャドウホスト</span>
                <li><span class="dfn-paneled" id="term-for-shadow-tree">シャドウツリー</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-text-3]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-content-language">内容言語</span>
                <li><span class="dfn-paneled" id="term-for-white-space">文書の空白文字</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-values-4]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-mult-req">!</span>
                <li><span class="dfn-paneled" id="term-for-mult-comma">#</span>
                <li><span class="dfn-paneled" id="term-for-mult-zero-plus">*</span>
                <li><span class="dfn-paneled" id="term-for-typedef-ident">&lt;ident></span>
                <li><span class="dfn-paneled" id="term-for-string-value">&lt;string></span>
                <li><span class="dfn-paneled" id="term-for-mult-opt">?</span>
                <li><span class="dfn-paneled" id="term-for-css-css-identifier">識別子</span>
                <li><span class="dfn-paneled" id="term-for-comb-one">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-writing-modes-3]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-direction">direction</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS3NAMESPACE]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-css-qualified-name">CSS修飾名</span>
                <li><span class="dfn-paneled" id="term-for-default-namespace">デフォルト名前空間</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS3SYN]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-anb-production">&lt;an+b></span>
                <li><span class="dfn-paneled" id="term-for-typedef-any-value">&lt;any-value></span>
                <li><span class="dfn-paneled" id="term-for-typedef-function-token">&lt;function-token></span>
                <li><span class="dfn-paneled" id="term-for-typedef-hash-token">&lt;hash-token></span>
                <li><span class="dfn-paneled" id="term-for-typedef-ident-token">&lt;ident-token></span>
                <li><span class="dfn-paneled" id="term-for-typedef-string-token">&lt;string-token></span>
                <li><span class="dfn-paneled" id="term-for-css-parse-something-according-to-a-css-grammar">パース</span>
                <li><span class="dfn-paneled"
                        id="term-for-css-parse-a-comma-separated-list-according-to-a-css-grammar">リストをパース</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-document">Document</span>
                <li><span class="dfn-paneled" id="term-for-documentfragment">DocumentFragment</span>
                <li><span class="dfn-paneled" id="term-for-concept-tree-descendant">子孫</span>
                <li><span class="dfn-paneled" id="term-for-concept-tree-inclusive-sibling">包括的兄弟</span>
                <li><span class="dfn-paneled" id="term-for-dom-node-parentnode">parentNode</span>
                <li><span class="dfn-paneled" id="term-for-concept-document-quirks">quirksモード</span>
                <li><span class="dfn-paneled" id="term-for-concept-tree-root">ルート</span>
                <li><span class="dfn-paneled" id="term-for-concept-shadow-including-tree-order">シャドウを含むツリー順序</span>
                <li><span class="dfn-paneled" id="term-for-concept-tree">ツリー</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FULLSCREEN]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-dom-element-requestfullscreen">requestFullscreen()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-the-a-element">a</span>
                <li><span class="dfn-paneled" id="term-for-the-area-element">area</span>
                <li><span class="dfn-paneled" id="term-for-audio">audio</span>
                <li><span class="dfn-paneled" id="term-for-the-button-element">button</span>
                <li><span class="dfn-paneled" id="term-for-custom-element">カスタム要素</span>
                <li><span class="dfn-paneled" id="term-for-the-details-element">details</span>
                <li><span class="dfn-paneled" id="term-for-the-dialog-element">dialog</span>
                <li><span class="dfn-paneled" id="term-for-the-div-element">div</span>
                <li><span class="dfn-paneled" id="term-for-effective-media-volume">実効メディア音量</span>
                <li><span class="dfn-paneled" id="term-for-element-definition">要素定義</span>
                <li><span class="dfn-paneled" id="term-for-the-em-element">em</span>
                <li><span class="dfn-paneled" id="term-for-the-h1-element">h1</span>
                <li><span class="dfn-paneled" id="term-for-attr-hyperlink-href">href</span>
                <li><span class="dfn-paneled" id="term-for-the-html-element">html</span>
                <li><span class="dfn-paneled" id="term-for-the-img-element">img</span>
                <li><span class="dfn-paneled" id="term-for-the-input-element">input</span>
                <li><span class="dfn-paneled" id="term-for-the-label-element">label</span>
                <li><span class="dfn-paneled" id="term-for-the-li-element">li</span>
                <li><span class="dfn-paneled" id="term-for-media-data">メディアデータ</span>
                <li><span class="dfn-paneled" id="term-for-stall-timeout">メディア要素スタールタイムアウト</span>
                <li><span class="dfn-paneled" id="term-for-meta">meta</span>
                <li><span class="dfn-paneled" id="term-for-the-object-element">object</span>
                <li><span class="dfn-paneled" id="term-for-the-ol-element">ol</span>
                <li><span class="dfn-paneled" id="term-for-the-option-element">option</span>
                <li><span class="dfn-paneled" id="term-for-the-p-element">p</span>
                <li><span class="dfn-paneled" id="term-for-attr-input-placeholder">placeholder</span>
                <li><span class="dfn-paneled" id="term-for-the-pre-element">pre</span>
                <li><span class="dfn-paneled" id="term-for-the-q-element">q</span>
                <li><span class="dfn-paneled" id="term-for-the-select-element">select</span>
                <li><span class="dfn-paneled" id="term-for-dom-dialog-showmodal">showModal()</span>
                <li><span class="dfn-paneled" id="term-for-the-span-element">span</span>
                <li><span class="dfn-paneled" id="term-for-the-textarea-element">textarea</span>
                <li><span class="dfn-paneled" id="term-for-attr-input-value">value</span>
                <li><span class="dfn-paneled" id="term-for-video">video</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-ascii-case-insensitive">ASCII大小区別なし</span>
                <li><span class="dfn-paneled" id="term-for-string-is">一致</span>
            </ul>
        <li>
            <a data-link-type="biblio">[mediacapture-streams]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-track-muted">ミュート</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECT]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-x">*</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> は次の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-concept-url-fragment">フラグメント</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範的参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level
                    3</cite></a>。2021年9月3日。CR。URL: <a
                href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
        <dd>Daniel Glazman; Elika Etemad; Alan Stearns. <a href="https://www.w3.org/TR/css-pseudo-4/"><cite>CSS
                    Pseudo-Elements Module Level 4</cite></a>。2020年12月31日。WD。URL: <a
                href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
        <dt id="biblio-css-scoping-1">[CSS-SCOPING-1]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-scoping-1/"><cite>CSS Scoping Module Level
                    1</cite></a>。2014年4月3日。WD。URL: <a
                href="https://www.w3.org/TR/css-scoping-1/">https://www.w3.org/TR/css-scoping-1/</a>
        <dt id="biblio-css-text-3">[CSS-TEXT-3]
        <dd>Elika Etemad; Koji Ishii; Florian Rivoal. <a href="https://www.w3.org/TR/css-text-3/"><cite>CSS Text Module
                    Level 3</cite></a>。2022年5月5日。CR。URL: <a
                href="https://www.w3.org/TR/css-text-3/">https://www.w3.org/TR/css-text-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>。2021年12月16日。WD。URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS Writing Modes Level
                    3</cite></a>。2019年12月10日。REC。URL: <a
                href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
        <dt id="biblio-css21">[CSS21]
        <dd>Bert Bos; 他. <a href="https://www.w3.org/TR/CSS21/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS
                    2.1) Specification</cite></a>。2011年6月7日。REC。URL: <a
                href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-css3namespace">[CSS3NAMESPACE]
        <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-namespaces-3/"><cite>CSS Namespaces Module Level
                    3</cite></a>。2014年3月20日。REC。URL: <a
                href="https://www.w3.org/TR/css-namespaces-3/">https://www.w3.org/TR/css-namespaces-3/</a>
        <dt id="biblio-css3syn">[CSS3SYN]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS Syntax Module Level
                    3</cite></a>。2021年12月24日。CR。URL: <a
                href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>。Living Standard。URL:
            <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; 他. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML
                    Standard</cite></a>。Living Standard。URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>。Living Standard。URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-mediacapture-streams">[MEDIACAPTURE-STREAMS]
        <dd>Cullen Jennings; 他. <a href="https://www.w3.org/TR/mediacapture-streams/"><cite>Media Capture and
                    Streams</cite></a>。2022年9月22日。CR。URL: <a
                href="https://www.w3.org/TR/mediacapture-streams/">https://www.w3.org/TR/mediacapture-streams/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>。1997年3月。Best Current Practice。URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-select">[SELECT]
        <dd>Tantek Çelik; 他. <a href="https://www.w3.org/TR/selectors-3/"><cite>Selectors Level
                    3</cite></a>。2018年11月6日。REC。URL: <a
                href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>。Living Standard。URL:
            <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考情報</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-bcp47">[BCP47]
        <dd>A. Phillips, Ed.; M. Davis, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc5646"><cite>Tags for Identifying
                    Languages</cite></a>。2009年9月。Best Current Practice。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc5646">https://www.rfc-editor.org/rfc/rfc5646</a>
        <dt id="biblio-css-color-5">[CSS-COLOR-5]
        <dd>Chris Lilley; 他. <a href="https://www.w3.org/TR/css-color-5/"><cite>CSS Color Module Level
                    5</cite></a>。2022年6月28日。WD。URL: <a
                href="https://www.w3.org/TR/css-color-5/">https://www.w3.org/TR/css-color-5/</a>
        <dt id="biblio-css3ui">[CSS3UI]
        <dd>Tantek Çelik; Florian Rivoal. <a href="https://www.w3.org/TR/css-ui-3/"><cite>CSS Basic User Interface
                    Module Level 3 (CSS3 UI)</cite></a>。2018年6月21日。REC。URL: <a
                href="https://www.w3.org/TR/css-ui-3/">https://www.w3.org/TR/css-ui-3/</a>
        <dt id="biblio-cssstyleattr">[CSSSTYLEATTR]
        <dd>Tantek Çelik; Elika Etemad. <a href="https://www.w3.org/TR/css-style-attr/"><cite>CSS Style
                    Attributes</cite></a>。2013年11月7日。REC。URL: <a
                href="https://www.w3.org/TR/css-style-attr/">https://www.w3.org/TR/css-style-attr/</a>
        <dt id="biblio-fullscreen">[FULLSCREEN]
        <dd>Philip Jägenstedt. <a href="https://fullscreen.spec.whatwg.org/"><cite>Fullscreen API
                    Standard</cite></a>。Living Standard。URL: <a
                href="https://fullscreen.spec.whatwg.org/">https://fullscreen.spec.whatwg.org/</a>
        <dt id="biblio-html5">[HTML5]
        <dd>Ian Hickson; 他. <a href="https://www.w3.org/TR/html5/"><cite>HTML5</cite></a>。2018年3月27日。REC。URL: <a
                href="https://www.w3.org/TR/html5/">https://www.w3.org/TR/html5/</a>
        <dt id="biblio-its20">[ITS20]
        <dd>David Filip; 他. <a href="https://www.w3.org/TR/its20/"><cite>Internationalization Tag Set (ITS) Version
                    2.0</cite></a>。2013年10月29日。REC。URL: <a
                href="https://www.w3.org/TR/its20/">https://www.w3.org/TR/its20/</a>
        <dt id="biblio-mathml">[MATHML]
        <dd>Patrick D F Ion; Robert R Miner. <a href="https://www.w3.org/TR/REC-MathML/"><cite>Mathematical Markup
                    Language (MathML) 1.01 Specification</cite></a>。1999年7月7日。REC。URL: <a
                href="https://www.w3.org/TR/REC-MathML/">https://www.w3.org/TR/REC-MathML/</a>
        <dt id="biblio-picture-in-picture">[PICTURE-IN-PICTURE]
        <dd>Francois Beaufort. <a
                href="https://www.w3.org/TR/picture-in-picture/"><cite>Picture-in-Picture</cite></a>。2022年7月25日。WD。URL:
            <a href="https://www.w3.org/TR/picture-in-picture/">https://www.w3.org/TR/picture-in-picture/</a>
        <dt id="biblio-quirks">[QUIRKS]
        <dd>Simon Pieters. <a href="https://quirks.spec.whatwg.org/"><cite>Quirks Mode Standard</cite></a>。Living
            Standard。URL: <a href="https://quirks.spec.whatwg.org/">https://quirks.spec.whatwg.org/</a>
        <dt id="biblio-rfc4647">[RFC4647]
        <dd>A. Phillips, Ed.; M. Davis, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc4647"><cite>Matching of Language
                    Tags</cite></a>。2006年9月。Best Current Practice。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc4647">https://www.rfc-editor.org/rfc/rfc4647</a>
        <dt id="biblio-svg11">[SVG11]
        <dd>Erik Dahlström; 他. <a href="https://www.w3.org/TR/SVG11/"><cite>Scalable Vector Graphics (SVG) 1.1 (Second
                    Edition)</cite></a>。2011年8月16日。REC。URL: <a
                href="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
        <dt id="biblio-xforms11">[XFORMS11]
        <dd>John Boyer. <a href="https://www.w3.org/TR/xforms11/"><cite>XForms 1.1</cite></a>。2009年10月20日。REC。URL: <a
                href="https://www.w3.org/TR/xforms11/">https://www.w3.org/TR/xforms11/</a>
        <dt id="biblio-xml-names">[XML-NAMES]
        <dd>Tim Bray; 他. <a href="https://www.w3.org/TR/xml-names/"><cite>Namespaces in XML 1.0 (Third
                    Edition)</cite></a>。2009年12月8日。REC。URL: <a
                href="https://www.w3.org/TR/xml-names/">https://www.w3.org/TR/xml-names/</a>
        <dt id="biblio-xml10">[XML10]
        <dd>Tim Bray; 他. <a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth
                    Edition)</cite></a>。2008年11月26日。REC。URL: <a
                href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">課題索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> 疑似要素はここで扱われていませんが、扱うべきです。 <a class="issue-return" href="#issue-5830d0c1"
                title="Jump to section">↵</a></div>
        <div class="issue"> <a class="css" data-link-type="maybe" href="#negation-pseudo">:not()</a>や<a class="css"
                data-link-type="maybe" href="#matches-pseudo">:is()</a>が前述の疑似要素を含む場合にも使えることを明確化する必要があります。 <a
                class="issue-return" href="#issue-9f34fdb4" title="Jump to section">↵</a></div>
        <div class="issue"> <span class="css">::first-line:not(:focus)</span>は何かにマッチしますか？ <a class="issue-return"
                href="#issue-27c4806a" title="Jump to section">↵</a></div>
        <div class="issue"> <a
                href="https://lists.w3.org/Archives/Public/www-style/2011Mar/0215.html">複数値マッチング</a>のためのカンマ区切り構文を追加しますか？例:
            [rel ~= next, prev, up, first, last] <a class="issue-return" href="#issue-745ef775"
                title="Jump to section">↵</a></div>
        <div class="issue"> 著者からフォームコントロールの <a class="css" data-link-type="maybe" href="#focus-pseudo">:focus</a>
            を関連付けられた
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-label-element">label</a></code>
            要素へ伝播させたいという要望があります。
            主な反対理由は実装の困難さと思われます。
            詳細は <a href="https://github.com/w3c/csswg-drafts/issues/397">CSSWG課題（CSS）</a> および <a
                href="https://github.com/whatwg/html/issues/1632">WHATWG課題（HTML）</a> を参照してください。 <a class="issue-return"
                href="#issue-1416193e" title="Jump to section">↵</a>
        </div>
        <div class="issue"> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/%3A-moz-ui-invalid"><span
                    class="css">:-moz-ui-invalid</span></a>とのクロスチェック。 <a class="issue-return" href="#issue-b776312b"
                title="Jump to section">↵</a></div>
        <div class="issue"> <a href="https://lists.w3.org/Archives/Public/www-style/2014Feb/0511.html">:dirty
                擬似クラス</a>案の評価 <a class="issue-return" href="#issue-a71d9d5b" title="Jump to section">↵</a></div>
        <div class="issue"> これ（および<a class="css" data-link-type="maybe" href="#invalid-pseudo">:invalid</a>/<a
                class="css" data-link-type="maybe" href="#valid-pseudo">:valid</a>）がformやfieldset要素に適用できることを明確化する必要あり。
            <a class="issue-return" href="#issue-df919919" title="Jump to section">↵</a>
        </div>
        <div class="issue"> <a data-link-type="dfn" href="#match">match</a>や<a data-link-type="dfn"
                href="#invalid-selector">invalid
                selector</a>の定義が厳密になった今、これらはまだ必要でしょうか？名詞の調整は述語より容易であり、<code>querySelector</code>で返される要素の順序などの詳細はSelectorsよりDOM仕様で定義した方が適切と思われます。
            <a class="issue-return" href="#issue-55d7bd68" title="Jump to section">↵</a>
        </div>
        <div class="issue"> 実際にこうした扱いを受けるのは<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding">ツリー順守型疑似要素</a>だけです。 <a class="issue-return"
                href="#issue-15f3317f" title="Jump to section">↵</a></div>
        <div class="issue"> <var>selector match
                list</var>内の疑似要素の相対位置は未定義です。現時点ではこの情報を公開するコンテキストはありませんが、将来的に公開前に何か決める必要があります。 <a class="issue-return"
                href="#issue-b7f52036" title="Jump to section">↵</a></div>
        <div class="issue"> 一部擬似クラスは*構文的*であり、<a class="css" data-link-type="maybe" href="#has-pseudo">:has()</a>や<a
                class="css" data-link-type="maybe"
                href="#matches-pseudo">:is()</a>などは常に動作すべきです。どこかでこれを明示する必要がある。構造擬似クラスは子リストが順序付けられていれば常に動作するはずです。 <a
                class="issue-return" href="#issue-772ec278" title="Jump to section">↵</a></div>
        <div class="issue"> 意味定義は本仕様に戻すべきかもしれません。 <a class="issue-return" href="#issue-fb60ae39"
                title="Jump to section">↵</a></div>
        <div class="issue"> XML用ツリー定義が必要。 <a class="issue-return" href="#issue-4ca3978c" title="Jump to section">↵</a>
        </div>
    </div>
    <aside class="dfn-panel" data-for="selector">
        <b><a href="#selector">#selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selector①">1.
                    Introduction</a>
            <li><a href="#ref-for-selector②">3.1.
                    Structure and Terminology</a> <a href="#ref-for-selector③">(2)</a> <a
                    href="#ref-for-selector④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selector-subject">
        <b><a href="#selector-subject">#selector-subject</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selector-subject">3.1.
                    Structure and Terminology</a>
            <li><a href="#ref-for-selector-subject①">4.2.
                    The Matches-Any Pseudo-class: :is()</a>
            <li><a href="#ref-for-selector-subject②">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a>
            <li><a href="#ref-for-selector-subject③">8.6.
                    The Reference Element Pseudo-class: :scope</a> <a href="#ref-for-selector-subject④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="match">
        <b><a href="#match">#match</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-match">3.1.
                    Structure and Terminology</a> <a href="#ref-for-match①">(2)</a> <a href="#ref-for-match②">(3)</a> <a
                    href="#ref-for-match③">(4)</a> <a href="#ref-for-match④">(5)</a>
            <li><a href="#ref-for-match⑤">19.
                    API Hooks</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="simple">
        <b><a href="#simple">#simple</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-simple">3.1.
                    Structure and Terminology</a> <a href="#ref-for-simple①">(2)</a> <a href="#ref-for-simple②">(3)</a>
                <a href="#ref-for-simple③">(4)</a> <a href="#ref-for-simple④">(5)</a> <a href="#ref-for-simple⑤">(6)</a>
                <a href="#ref-for-simple⑥">(7)</a> <a href="#ref-for-simple⑦">(8)</a> <a href="#ref-for-simple⑧">(9)</a>
            <li><a href="#ref-for-simple⑨">3.5.
                    Pseudo-classes</a> <a href="#ref-for-simple①⓪">(2)</a>
            <li><a href="#ref-for-simple①①">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a>
            <li><a href="#ref-for-simple①②">5.2.
                    Universal selector </a>
            <li><a href="#ref-for-simple①③">19.4.
                    Match a Selector Against a Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="compound">
        <b><a href="#compound">#compound</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-compound">2.
                    Selectors Overview</a> <a href="#ref-for-compound①">(2)</a> <a href="#ref-for-compound②">(3)</a> <a
                    href="#ref-for-compound③">(4)</a> <a href="#ref-for-compound④">(5)</a> <a
                    href="#ref-for-compound⑤">(6)</a>
            <li><a href="#ref-for-compound⑥">3.1.
                    Structure and Terminology</a> <a href="#ref-for-compound⑦">(2)</a> <a
                    href="#ref-for-compound⑧">(3)</a> <a href="#ref-for-compound⑨">(4)</a> <a
                    href="#ref-for-compound①⓪">(5)</a> <a href="#ref-for-compound①①">(6)</a> <a
                    href="#ref-for-compound①②">(7)</a> <a href="#ref-for-compound①③">(8)</a> <a
                    href="#ref-for-compound①④">(9)</a> <a href="#ref-for-compound①⑤">(10)</a> <a
                    href="#ref-for-compound①⑥">(11)</a> <a href="#ref-for-compound①⑦">(12)</a> <a
                    href="#ref-for-compound①⑧">(13)</a>
            <li><a href="#ref-for-compound①⑨">3.5.
                    Pseudo-classes</a> <a href="#ref-for-compound②⓪">(2)</a>
            <li><a href="#ref-for-compound②①">3.6.2.
                    Binding to the Document Tree</a> <a href="#ref-for-compound②②">(2)</a>
            <li><a href="#ref-for-compound②③">3.9.
                    Invalid Selectors and Error Handling</a>
            <li><a href="#ref-for-compound②④">4.2.
                    The Matches-Any Pseudo-class: :is()</a>
            <li><a href="#ref-for-compound②⑤">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a>
            <li><a href="#ref-for-compound②⑥">5.2.
                    Universal selector </a> <a href="#ref-for-compound②⑦">(2)</a>
            <li><a href="#ref-for-compound②⑧">5.3.
                    Namespaces in Elemental Selectors</a>
            <li><a href="#ref-for-compound②⑨">10.1.
                    The Current-element Pseudo-class: :current</a>
            <li><a href="#ref-for-compound③⓪">15.1.
                    Descendant combinator ( )</a>
            <li><a href="#ref-for-compound③①">15.2.
                    Child combinator (>)</a>
            <li><a href="#ref-for-compound③②">15.3.
                    Next-sibling combinator (+)</a> <a href="#ref-for-compound③③">(2)</a> <a
                    href="#ref-for-compound③④">(3)</a>
            <li><a href="#ref-for-compound③⑤">15.4.
                    Subsequent-sibling combinator (~)</a> <a href="#ref-for-compound③⑥">(2)</a>
            <li><a href="#ref-for-compound③⑦">19.3.
                    Match a Selector Against an Element</a>
            <li><a href="#ref-for-compound③⑧">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selector-combinator">
        <b><a href="#selector-combinator">#selector-combinator</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selector-combinator">3.1.
                    Structure and Terminology</a> <a href="#ref-for-selector-combinator①">(2)</a> <a
                    href="#ref-for-selector-combinator②">(3)</a> <a href="#ref-for-selector-combinator③">(4)</a> <a
                    href="#ref-for-selector-combinator④">(5)</a> <a href="#ref-for-selector-combinator⑤">(6)</a>
            <li><a href="#ref-for-selector-combinator⑥">3.4.
                    Relative Selectors</a>
            <li><a href="#ref-for-selector-combinator⑦">3.6.5.
                    Internal Structure</a>
            <li><a href="#ref-for-selector-combinator⑧">19.3.
                    Match a Selector Against an Element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="complex">
        <b><a href="#complex">#complex</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-complex">3.1.
                    Structure and Terminology</a> <a href="#ref-for-complex①">(2)</a> <a
                    href="#ref-for-complex②">(3)</a> <a href="#ref-for-complex③">(4)</a> <a
                    href="#ref-for-complex④">(5)</a>
            <li><a href="#ref-for-complex⑤">14.3.1.
                    :nth-child() pseudo-class</a>
            <li><a href="#ref-for-complex⑥">17.
                    Calculating a selector’s specificity</a> <a href="#ref-for-complex⑦">(2)</a>
            <li><a href="#ref-for-complex⑧">19.3.
                    Match a Selector Against an Element</a>
            <li><a href="#ref-for-complex⑨">19.4.
                    Match a Selector Against a Pseudo-element</a> <a href="#ref-for-complex①⓪">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="list-of-simple-selectors">
        <b><a href="#list-of-simple-selectors">#list-of-simple-selectors</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-list-of-simple-selectors">3.1.
                    Structure and Terminology</a>
            <li><a href="#ref-for-list-of-simple-selectors①">19.3.
                    Match a Selector Against an Element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selector-list">
        <b><a href="#selector-list">#selector-list</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selector-list">3.1.
                    Structure and Terminology</a> <a href="#ref-for-selector-list①">(2)</a> <a
                    href="#ref-for-selector-list②">(3)</a> <a href="#ref-for-selector-list③">(4)</a>
            <li><a href="#ref-for-selector-list④">4.1.
                    Selector Lists</a> <a href="#ref-for-selector-list⑤">(2)</a>
            <li><a href="#ref-for-selector-list⑥">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a>
            <li><a href="#ref-for-selector-list⑦">14.3.1.
                    :nth-child() pseudo-class</a>
            <li><a href="#ref-for-selector-list⑧">14.3.2.
                    :nth-last-child() pseudo-class</a>
            <li><a href="#ref-for-selector-list⑨">17.
                    Calculating a selector’s specificity</a> <a href="#ref-for-selector-list①⓪">(2)</a> <a
                    href="#ref-for-selector-list①①">(3)</a>
            <li><a href="#ref-for-selector-list①②">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="featureless">
        <b><a href="#featureless">#featureless</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-featureless">3.2.
                    Data Model</a> <a href="#ref-for-featureless①">(2)</a> <a href="#ref-for-featureless②">(3)</a>
            <li><a href="#ref-for-featureless③">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-featureless④">5.2.
                    Universal selector </a> <a href="#ref-for-featureless⑤">(2)</a>
            <li><a href="#ref-for-featureless⑥">8.6.
                    The Reference Element Pseudo-class: :scope</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="document-language">
        <b><a href="#document-language">#document-language</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-document-language">3.1.
                    Structure and Terminology</a>
            <li><a href="#ref-for-document-language①">3.2.
                    Data Model</a>
            <li><a href="#ref-for-document-language②">7.1.
                    The Directionality Pseudo-class: :dir()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="host-language">
        <b><a href="#host-language">#host-language</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-host-language">3.2.
                    Data Model</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="scoped-selector">
        <b><a href="#scoped-selector">#scoped-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-scoped-selector">3.3.
                    Scoped Selectors</a> <a href="#ref-for-scoped-selector①">(2)</a>
            <li><a href="#ref-for-scoped-selector②">19.5.
                    Match a Selector Against a Tree</a>
            <li><a href="#ref-for-scoped-selector③">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="scoping-root">
        <b><a href="#scoping-root">#scoping-root</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-scoping-root">2.
                    Selectors Overview</a>
            <li><a href="#ref-for-scoping-root①">3.3.
                    Scoped Selectors</a>
            <li><a href="#ref-for-scoping-root②">8.6.
                    The Reference Element Pseudo-class: :scope</a> <a href="#ref-for-scoping-root③">(2)</a> <a
                    href="#ref-for-scoping-root④">(3)</a> <a href="#ref-for-scoping-root⑤">(4)</a> <a
                    href="#ref-for-scoping-root⑥">(5)</a> <a href="#ref-for-scoping-root⑦">(6)</a> <a
                    href="#ref-for-scoping-root⑧">(7)</a>
            <li><a href="#ref-for-scoping-root⑨">19.3.
                    Match a Selector Against an Element</a>
            <li><a href="#ref-for-scoping-root①⓪">19.5.
                    Match a Selector Against a Tree</a> <a href="#ref-for-scoping-root①①">(2)</a> <a
                    href="#ref-for-scoping-root①②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="relative-selector">
        <b><a href="#relative-selector">#relative-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-relative-selector">2.
                    Selectors Overview</a>
            <li><a href="#ref-for-relative-selector①">4.5.
                    The Relational Pseudo-class: :has()</a>
            <li><a href="#ref-for-relative-selector②">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="relative-selector-anchor-elements">
        <b><a href="#relative-selector-anchor-elements">#relative-selector-anchor-elements</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-relative-selector-anchor-elements">2.
                    Selectors Overview</a>
            <li><a href="#ref-for-relative-selector-anchor-elements①">3.4.
                    Relative Selectors</a>
            <li><a href="#ref-for-relative-selector-anchor-elements②">4.5.
                    The Relational Pseudo-class: :has()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="pseudo-class">
        <b><a href="#pseudo-class">#pseudo-class</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-pseudo-class">3.1.
                    Structure and Terminology</a>
            <li><a href="#ref-for-pseudo-class①">3.2.
                    Data Model</a>
            <li><a href="#ref-for-pseudo-class②">3.5.
                    Pseudo-classes</a> <a href="#ref-for-pseudo-class③">(2)</a> <a href="#ref-for-pseudo-class④">(3)</a>
                <a href="#ref-for-pseudo-class⑤">(4)</a> <a href="#ref-for-pseudo-class⑥">(5)</a> <a
                    href="#ref-for-pseudo-class⑦">(6)</a> <a href="#ref-for-pseudo-class⑧">(7)</a>
            <li><a href="#ref-for-pseudo-class⑨">3.6. Pseudo-elements</a> <a href="#ref-for-pseudo-class①⓪">(2)</a>
            <li><a href="#ref-for-pseudo-class①①">3.6.3.
                    Pseudo-classing Pseudo-elements</a> <a href="#ref-for-pseudo-class①②">(2)</a>
            <li><a href="#ref-for-pseudo-class①③">5.4.
                    The Defined Pseudo-class: :defined</a>
            <li><a href="#ref-for-pseudo-class①④">9.4.
                    The Focus-Indicated Pseudo-class: :focus-visible</a> <a href="#ref-for-pseudo-class①⑤">(2)</a>
            <li><a href="#ref-for-pseudo-class①⑥">14.4.1.
                    :nth-of-type() pseudo-class</a>
            <li><a href="#ref-for-pseudo-class①⑦">14.4.2.
                    :nth-last-of-type() pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="functional-pseudo-class">
        <b><a href="#functional-pseudo-class">#functional-pseudo-class</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-functional-pseudo-class">3.5.
                    Pseudo-classes</a> <a href="#ref-for-functional-pseudo-class①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="pseudo-element">
        <b><a href="#pseudo-element">#pseudo-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-pseudo-element">3.6. Pseudo-elements</a> <a href="#ref-for-pseudo-element①">(2)</a> <a
                    href="#ref-for-pseudo-element②">(3)</a>
            <li><a href="#ref-for-pseudo-element③">3.6.1.
                    Syntax</a> <a href="#ref-for-pseudo-element④">(2)</a> <a href="#ref-for-pseudo-element⑤">(3)</a> <a
                    href="#ref-for-pseudo-element⑥">(4)</a> <a href="#ref-for-pseudo-element⑦">(5)</a> <a
                    href="#ref-for-pseudo-element⑧">(6)</a>
            <li><a href="#ref-for-pseudo-element⑨">3.6.2.
                    Binding to the Document Tree</a> <a href="#ref-for-pseudo-element①⓪">(2)</a> <a
                    href="#ref-for-pseudo-element①①">(3)</a> <a href="#ref-for-pseudo-element①②">(4)</a> <a
                    href="#ref-for-pseudo-element①③">(5)</a> <a href="#ref-for-pseudo-element①④">(6)</a>
            <li><a href="#ref-for-pseudo-element①⑤">3.6.3.
                    Pseudo-classing Pseudo-elements</a> <a href="#ref-for-pseudo-element①⑥">(2)</a> <a
                    href="#ref-for-pseudo-element①⑦">(3)</a> <a href="#ref-for-pseudo-element①⑧">(4)</a> <a
                    href="#ref-for-pseudo-element①⑨">(5)</a>
            <li><a href="#ref-for-pseudo-element②⓪">3.6.4.
                    Sub-pseudo-elements</a> <a href="#ref-for-pseudo-element②①">(2)</a> <a
                    href="#ref-for-pseudo-element②②">(3)</a>
            <li><a href="#ref-for-pseudo-element②③">3.6.5.
                    Internal Structure</a> <a href="#ref-for-pseudo-element②④">(2)</a> <a
                    href="#ref-for-pseudo-element②⑤">(3)</a>
            <li><a href="#ref-for-pseudo-element②⑥">4.5.
                    The Relational Pseudo-class: :has()</a>
            <li><a href="#ref-for-pseudo-element②⑦">14.
                    Tree-Structural pseudo-classes</a>
            <li><a href="#ref-for-pseudo-element②⑧">18.
                    Grammar</a> <a href="#ref-for-pseudo-element②⑨">(2)</a>
            <li><a href="#ref-for-pseudo-element③⓪">19.5.
                    Match a Selector Against a Tree</a>
            <li><a href="#ref-for-pseudo-element③①"> Appendix B: Obsolete but Required -webkit- Parsing Quirks for Web
                    Compat</a>
            <li><a href="#ref-for-pseudo-element③②">20.1.
                    Changes since the 7 May 2022 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="originating-element">
        <b><a href="#originating-element">#originating-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-originating-element">3.6. Pseudo-elements</a>
            <li><a href="#ref-for-originating-element①">3.6.2.
                    Binding to the Document Tree</a> <a href="#ref-for-originating-element②">(2)</a> <a
                    href="#ref-for-originating-element③">(3)</a>
            <li><a href="#ref-for-originating-element④">3.6.4.
                    Sub-pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="sub-pseudo-element">
        <b><a href="#sub-pseudo-element">#sub-pseudo-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sub-pseudo-element">3.6.4.
                    Sub-pseudo-elements</a> <a href="#ref-for-sub-pseudo-element①">(2)</a> <a
                    href="#ref-for-sub-pseudo-element②">(3)</a>
            <li><a href="#ref-for-sub-pseudo-element③">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="originating-pseudo-element">
        <b><a href="#originating-pseudo-element">#originating-pseudo-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-originating-pseudo-element">3.6.4.
                    Sub-pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="whitespace">
        <b><a href="#whitespace">#whitespace</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-whitespace">3.5.
                    Pseudo-classes</a> <a href="#ref-for-whitespace①">(2)</a>
            <li><a href="#ref-for-whitespace②">3.6.1.
                    Syntax</a>
            <li><a href="#ref-for-whitespace">6.1.
                    Attribute presence and value selectors</a>
            <li><a href="#ref-for-whitespace">6.6.
                    Class selectors</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="nsdecl">
        <b><a href="#nsdecl">#nsdecl</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-nsdecl">5.3.
                    Namespaces in Elemental Selectors</a> <a href="#ref-for-nsdecl">(2)</a> <a
                    href="#ref-for-nsdecl">(3)</a>
            <li><a href="#ref-for-nsdecl">6.4.
                    Attribute selectors and namespaces</a> <a href="#ref-for-nsdecl①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="invalid-selector">
        <b><a href="#invalid-selector">#invalid-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-invalid-selector">3.9.
                    Invalid Selectors and Error Handling</a> <a href="#ref-for-invalid-selector①">(2)</a>
            <li><a href="#ref-for-invalid-selector②">5.3.
                    Namespaces in Elemental Selectors</a>
            <li><a href="#ref-for-invalid-selector③">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a>
            <li><a href="#ref-for-invalid-selector④">19.
                    API Hooks</a>
            <li><a href="#ref-for-invalid-selector⑤">19.1.
                    Parse A Selector</a> <a href="#ref-for-invalid-selector⑥">(2)</a>
            <li><a href="#ref-for-invalid-selector⑦">19.2.
                    Parse A Relative Selector</a> <a href="#ref-for-invalid-selector⑧">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="legacy-selector-alias">
        <b><a href="#legacy-selector-alias">#legacy-selector-alias</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-legacy-selector-alias">4.2.
                    The Matches-Any Pseudo-class: :is()</a>
            <li><a href="#ref-for-legacy-selector-alias①"> Appendix B: Obsolete but Required -webkit- Parsing Quirks for
                    Web Compat</a>
            <li><a href="#ref-for-legacy-selector-alias②">20.1.
                    Changes since the 7 May 2022 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="matches-pseudo">
        <b><a href="#matches-pseudo">#matches-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-matches-pseudo">3.6.3.
                    Pseudo-classing Pseudo-elements</a>
            <li><a href="#ref-for-matches-pseudo①">4.2.
                    The Matches-Any Pseudo-class: :is()</a> <a href="#ref-for-matches-pseudo②">(2)</a> <a
                    href="#ref-for-matches-pseudo③">(3)</a> <a href="#ref-for-matches-pseudo④">(4)</a> <a
                    href="#ref-for-matches-pseudo⑤">(5)</a> <a href="#ref-for-matches-pseudo⑥">(6)</a> <a
                    href="#ref-for-matches-pseudo⑦">(7)</a> <a href="#ref-for-matches-pseudo⑧">(8)</a>
            <li><a href="#ref-for-matches-pseudo⑨">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a> <a href="#ref-for-matches-pseudo①⓪">(2)</a>
            <li><a href="#ref-for-matches-pseudo①①">4.4.
                    The Specificity-adjustment Pseudo-class: :where()</a> <a href="#ref-for-matches-pseudo①②">(2)</a>
            <li><a href="#ref-for-matches-pseudo①③">10.1.
                    The Current-element Pseudo-class: :current</a>
            <li><a href="#ref-for-matches-pseudo①④">17.
                    Calculating a selector’s specificity</a>
            <li><a href="#ref-for-matches-pseudo①⑤">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a> <a
                    href="#ref-for-matches-pseudo①⑥">(2)</a>
            <li><a href="#ref-for-matches-pseudo①⑦"> Appendix A: Guidance on Mapping Source Documents &amp; Data to an
                    Element Tree</a>
            <li><a href="#ref-for-matches-pseudo①⑧">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
            <li><a href="#ref-for-matches-pseudo①⑨">20.3.
                    Changes since the 2 February 2018 Working Draft</a> <a href="#ref-for-matches-pseudo②⓪">(2)</a>
            <li><a href="#ref-for-matches-pseudo②①">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-matches">
        <b><a href="#selectordef-matches">#selectordef-matches</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-matches">20.3.
                    Changes since the 2 February 2018 Working Draft</a>
            <li><a href="#ref-for-selectordef-matches①">20.4.
                    Changes since the 2 May 2013 Working Draft</a> <a href="#ref-for-selectordef-matches②">(2)</a>
            <li><a href="#ref-for-selectordef-matches③">20.5.
                    Changes since the 23 August 2012 Working Draft</a> <a href="#ref-for-selectordef-matches④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="negation-pseudo">
        <b><a href="#negation-pseudo">#negation-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-negation-pseudo">3.6.3.
                    Pseudo-classing Pseudo-elements</a>
            <li><a href="#ref-for-negation-pseudo①">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a> <a href="#ref-for-negation-pseudo②">(2)</a> <a
                    href="#ref-for-negation-pseudo③">(3)</a> <a href="#ref-for-negation-pseudo④">(4)</a> <a
                    href="#ref-for-negation-pseudo⑤">(5)</a> <a href="#ref-for-negation-pseudo⑥">(6)</a>
            <li><a href="#ref-for-negation-pseudo⑦">14.4.2.
                    :nth-last-of-type() pseudo-class</a>
            <li><a href="#ref-for-negation-pseudo⑧">17.
                    Calculating a selector’s specificity</a>
            <li><a href="#ref-for-negation-pseudo⑨">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-negation-pseudo①⓪">20.5.
                    Changes since the 23 August 2012 Working Draft</a>
            <li><a href="#ref-for-negation-pseudo①①">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="where-pseudo">
        <b><a href="#where-pseudo">#where-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-where-pseudo">4.4.
                    The Specificity-adjustment Pseudo-class: :where()</a> <a href="#ref-for-where-pseudo①">(2)</a> <a
                    href="#ref-for-where-pseudo②">(3)</a>
            <li><a href="#ref-for-where-pseudo③">17.
                    Calculating a selector’s specificity</a> <a href="#ref-for-where-pseudo④">(2)</a>
            <li><a href="#ref-for-where-pseudo⑤">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
            <li><a href="#ref-for-where-pseudo⑥">20.3.
                    Changes since the 2 February 2018 Working Draft</a>
            <li><a href="#ref-for-where-pseudo⑦">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="has-pseudo">
        <b><a href="#has-pseudo">#has-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-has-pseudo①">4.5.
                    The Relational Pseudo-class: :has()</a> <a href="#ref-for-has-pseudo②">(2)</a> <a
                    href="#ref-for-has-pseudo③">(3)</a> <a href="#ref-for-has-pseudo④">(4)</a> <a
                    href="#ref-for-has-pseudo⑤">(5)</a> <a href="#ref-for-has-pseudo⑥">(6)</a> <a
                    href="#ref-for-has-pseudo⑦">(7)</a>
            <li><a href="#ref-for-has-pseudo⑧">17.
                    Calculating a selector’s specificity</a>
            <li><a href="#ref-for-has-pseudo⑨"> Appendix A: Guidance on Mapping Source Documents &amp; Data to an
                    Element Tree</a>
            <li><a href="#ref-for-has-pseudo①⓪">20.1.
                    Changes since the 7 May 2022 Working Draft</a> <a href="#ref-for-has-pseudo①①">(2)</a>
            <li><a href="#ref-for-has-pseudo①②">20.2.
                    Changes since the 21 November 2018 Working Draft</a> <a href="#ref-for-has-pseudo①③">(2)</a>
            <li><a href="#ref-for-has-pseudo①④">20.3.
                    Changes since the 2 February 2018 Working Draft</a>
            <li><a href="#ref-for-has-pseudo①⑤">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-has-pseudo①⑥">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="has-allowed-pseudo-element">
        <b><a href="#has-allowed-pseudo-element">#has-allowed-pseudo-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-has-allowed-pseudo-element">4.5.
                    The Relational Pseudo-class: :has()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="type-selector">
        <b><a href="#type-selector">#type-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-type-selector">3.1.
                    Structure and Terminology</a> <a href="#ref-for-type-selector①">(2)</a>
            <li><a href="#ref-for-type-selector②">3.5.
                    Pseudo-classes</a>
            <li><a href="#ref-for-type-selector③">4.2.
                    The Matches-Any Pseudo-class: :is()</a>
            <li><a href="#ref-for-type-selector④">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a>
            <li><a href="#ref-for-type-selector⑤">5.1.
                    Type (tag name) selector</a>
            <li><a href="#ref-for-type-selector⑥">5.2.
                    Universal selector </a> <a href="#ref-for-type-selector⑦">(2)</a> <a
                    href="#ref-for-type-selector⑧">(3)</a>
            <li><a href="#ref-for-type-selector⑨">5.3.
                    Namespaces in Elemental Selectors</a> <a href="#ref-for-type-selector①⓪">(2)</a> <a
                    href="#ref-for-type-selector①①">(3)</a>
            <li><a href="#ref-for-type-selector①②">14.4.1.
                    :nth-of-type() pseudo-class</a>
            <li><a href="#ref-for-type-selector①③">14.4.2.
                    :nth-last-of-type() pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="universal-selector">
        <b><a href="#universal-selector">#universal-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-universal-selector">3.1.
                    Structure and Terminology</a> <a href="#ref-for-universal-selector①">(2)</a>
            <li><a href="#ref-for-universal-selector②">3.5.
                    Pseudo-classes</a>
            <li><a href="#ref-for-universal-selector③">3.6.2.
                    Binding to the Document Tree</a>
            <li><a href="#ref-for-universal-selector④">4.2.
                    The Matches-Any Pseudo-class: :is()</a>
            <li><a href="#ref-for-universal-selector⑤">4.3.
                    The Negation (Matches-None) Pseudo-class: :not()</a>
            <li><a href="#ref-for-universal-selector⑥">5.2.
                    Universal selector </a> <a href="#ref-for-universal-selector⑦">(2)</a> <a
                    href="#ref-for-universal-selector⑧">(3)</a> <a href="#ref-for-universal-selector⑨">(4)</a> <a
                    href="#ref-for-universal-selector①⓪">(5)</a>
            <li><a href="#ref-for-universal-selector①①">5.3.
                    Namespaces in Elemental Selectors</a> <a href="#ref-for-universal-selector①②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="defined-pseudo">
        <b><a href="#defined-pseudo">#defined-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-defined-pseudo">5.4.
                    The Defined Pseudo-class: :defined</a> <a href="#ref-for-defined-pseudo①">(2)</a> <a
                    href="#ref-for-defined-pseudo②">(3)</a>
            <li><a href="#ref-for-defined-pseudo③">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="attribute-selector">
        <b><a href="#attribute-selector">#attribute-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-attribute-selector">3.1.
                    Structure and Terminology</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="class-selector">
        <b><a href="#class-selector">#class-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-class-selector">3.1.
                    Structure and Terminology</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="id-selector">
        <b><a href="#id-selector">#id-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-id-selector">3.1.
                    Structure and Terminology</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dir-pseudo">
        <b><a href="#dir-pseudo">#dir-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dir-pseudo">7.1.
                    The Directionality Pseudo-class: :dir()</a> <a href="#ref-for-dir-pseudo①">(2)</a> <a
                    href="#ref-for-dir-pseudo②">(3)</a>
            <li><a href="#ref-for-dir-pseudo③">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="lang-pseudo">
        <b><a href="#lang-pseudo">#lang-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-lang-pseudo">3.2.
                    Data Model</a>
            <li><a href="#ref-for-lang-pseudo①">3.5.
                    Pseudo-classes</a>
            <li><a href="#ref-for-lang-pseudo②">3.7.
                    Characters and case sensitivity</a>
            <li><a href="#ref-for-lang-pseudo③">6.1.
                    Attribute presence and value selectors</a>
            <li><a href="#ref-for-lang-pseudo④">7.2.
                    The Language Pseudo-class: :lang()</a> <a href="#ref-for-lang-pseudo⑤">(2)</a>
            <li><a href="#ref-for-lang-pseudo⑥">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-lang-pseudo⑦">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="language-range">
        <b><a href="#language-range">#language-range</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-language-range">3.7.
                    Characters and case sensitivity</a>
            <li><a href="#ref-for-language-range①">7.2.
                    The Language Pseudo-class: :lang()</a> <a href="#ref-for-language-range②">(2)</a> <a
                    href="#ref-for-language-range③">(3)</a> <a href="#ref-for-language-range④">(4)</a> <a
                    href="#ref-for-language-range⑤">(5)</a> <a href="#ref-for-language-range⑥">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="any-link-pseudo">
        <b><a href="#any-link-pseudo">#any-link-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-any-link-pseudo">8.1.
                    The Hyperlink Pseudo-class: :any-link</a>
            <li><a href="#ref-for-any-link-pseudo①">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="link-pseudo">
        <b><a href="#link-pseudo">#link-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-link-pseudo">8.1.
                    The Hyperlink Pseudo-class: :any-link</a>
            <li><a href="#ref-for-link-pseudo①">8.2.
                    The Link History Pseudo-classes: :link and :visited</a> <a href="#ref-for-link-pseudo②">(2)</a> <a
                    href="#ref-for-link-pseudo③">(3)</a>
            <li><a href="#ref-for-link-pseudo④">9.2.
                    The Activation Pseudo-class: :active</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="visited-pseudo">
        <b><a href="#visited-pseudo">#visited-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-visited-pseudo">8.1.
                    The Hyperlink Pseudo-class: :any-link</a>
            <li><a href="#ref-for-visited-pseudo①">8.2.
                    The Link History Pseudo-classes: :link and :visited</a> <a href="#ref-for-visited-pseudo②">(2)</a>
            <li><a href="#ref-for-visited-pseudo③">9.2.
                    The Activation Pseudo-class: :active</a>
            <li><a href="#ref-for-visited-pseudo④">22. Privacy and Security Considerations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="local-link-pseudo">
        <b><a href="#local-link-pseudo">#local-link-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-local-link-pseudo">8.3.
                    The Local Link Pseudo-class: :local-link</a> <a href="#ref-for-local-link-pseudo①">(2)</a>
            <li><a href="#ref-for-local-link-pseudo②">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="target-pseudo">
        <b><a href="#target-pseudo">#target-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-target-pseudo">8.3.
                    The Local Link Pseudo-class: :local-link</a>
            <li><a href="#ref-for-target-pseudo①">8.4.
                    The Target Pseudo-class: :target</a> <a href="#ref-for-target-pseudo②">(2)</a>
            <li><a href="#ref-for-target-pseudo③">8.5.
                    The Target Container Pseudo-class: :target-within</a> <a href="#ref-for-target-pseudo④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="target-within-pseudo">
        <b><a href="#target-within-pseudo">#target-within-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-target-within-pseudo">8.3.
                    The Local Link Pseudo-class: :local-link</a>
            <li><a href="#ref-for-target-within-pseudo①">8.5.
                    The Target Container Pseudo-class: :target-within</a>
            <li><a href="#ref-for-target-within-pseudo②">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-target-within-pseudo③">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="scope-pseudo">
        <b><a href="#scope-pseudo">#scope-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-scope-pseudo">8.6.
                    The Reference Element Pseudo-class: :scope</a> <a href="#ref-for-scope-pseudo①">(2)</a>
            <li><a href="#ref-for-scope-pseudo②">19.3.
                    Match a Selector Against an Element</a>
            <li><a href="#ref-for-scope-pseudo③">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="user-action-pseudo-class">
        <b><a href="#user-action-pseudo-class">#user-action-pseudo-class</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-user-action-pseudo-class">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="hover-pseudo">
        <b><a href="#hover-pseudo">#hover-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-hover-pseudo">3.6.3.
                    Pseudo-classing Pseudo-elements</a>
            <li><a href="#ref-for-hover-pseudo①">9.1.
                    The Pointer Hover Pseudo-class: :hover</a> <a href="#ref-for-hover-pseudo②">(2)</a> <a
                    href="#ref-for-hover-pseudo③">(3)</a> <a href="#ref-for-hover-pseudo④">(4)</a> <a
                    href="#ref-for-hover-pseudo⑤">(5)</a> <a href="#ref-for-hover-pseudo⑥">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="active-pseudo">
        <b><a href="#active-pseudo">#active-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-active-pseudo">9.2.
                    The Activation Pseudo-class: :active</a> <a href="#ref-for-active-pseudo①">(2)</a> <a
                    href="#ref-for-active-pseudo②">(3)</a> <a href="#ref-for-active-pseudo③">(4)</a> <a
                    href="#ref-for-active-pseudo④">(5)</a> <a href="#ref-for-active-pseudo⑤">(6)</a> <a
                    href="#ref-for-active-pseudo⑥">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="focus-pseudo">
        <b><a href="#focus-pseudo">#focus-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-focus-pseudo">3.6.3.
                    Pseudo-classing Pseudo-elements</a> <a href="#ref-for-focus-pseudo①">(2)</a>
            <li><a href="#ref-for-focus-pseudo②">9.3.
                    The Input Focus Pseudo-class: :focus</a> <a href="#ref-for-focus-pseudo③">(2)</a> <a
                    href="#ref-for-focus-pseudo④">(3)</a> <a href="#ref-for-focus-pseudo⑤">(4)</a> <a
                    href="#ref-for-focus-pseudo⑥">(5)</a>
            <li><a href="#ref-for-focus-pseudo⑦">9.4.
                    The Focus-Indicated Pseudo-class: :focus-visible</a> <a href="#ref-for-focus-pseudo⑧">(2)</a> <a
                    href="#ref-for-focus-pseudo⑨">(3)</a>
            <li><a href="#ref-for-focus-pseudo①⓪">9.5.
                    The Focus Container Pseudo-class: :focus-within</a> <a href="#ref-for-focus-pseudo①①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="indicate-focus">
        <b><a href="#indicate-focus">#indicate-focus</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-indicate-focus">9.4.
                    The Focus-Indicated Pseudo-class: :focus-visible</a> <a href="#ref-for-indicate-focus①">(2)</a> <a
                    href="#ref-for-indicate-focus②">(3)</a> <a href="#ref-for-indicate-focus③">(4)</a> <a
                    href="#ref-for-indicate-focus④">(5)</a> <a href="#ref-for-indicate-focus⑤">(6)</a> <a
                    href="#ref-for-indicate-focus⑥">(7)</a> <a href="#ref-for-indicate-focus⑦">(8)</a> <a
                    href="#ref-for-indicate-focus⑧">(9)</a> <a href="#ref-for-indicate-focus⑨">(10)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="focus-visible-pseudo">
        <b><a href="#focus-visible-pseudo">#focus-visible-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-focus-visible-pseudo">9.4.
                    The Focus-Indicated Pseudo-class: :focus-visible</a> <a
                    href="#ref-for-focus-visible-pseudo①">(2)</a> <a href="#ref-for-focus-visible-pseudo②">(3)</a> <a
                    href="#ref-for-focus-visible-pseudo③">(4)</a> <a href="#ref-for-focus-visible-pseudo④">(5)</a>
            <li><a href="#ref-for-focus-visible-pseudo⑤">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
            <li><a href="#ref-for-focus-visible-pseudo⑥">20.3.
                    Changes since the 2 February 2018 Working Draft</a>
            <li><a href="#ref-for-focus-visible-pseudo⑦">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-focus-visible-pseudo⑧">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="focus-within-pseudo">
        <b><a href="#focus-within-pseudo">#focus-within-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-focus-within-pseudo">9.3.
                    The Input Focus Pseudo-class: :focus</a>
            <li><a href="#ref-for-focus-within-pseudo①">9.5.
                    The Focus Container Pseudo-class: :focus-within</a>
            <li><a href="#ref-for-focus-within-pseudo②">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-focus-within-pseudo③">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="current-pseudo">
        <b><a href="#current-pseudo">#current-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-current-pseudo">2.
                    Selectors Overview</a>
            <li><a href="#ref-for-current-pseudo①">10.
                    Time-dimensional Pseudo-classes</a> <a href="#ref-for-current-pseudo②">(2)</a> <a
                    href="#ref-for-current-pseudo③">(3)</a>
            <li><a href="#ref-for-current-pseudo④">10.1.
                    The Current-element Pseudo-class: :current</a> <a href="#ref-for-current-pseudo⑤">(2)</a> <a
                    href="#ref-for-current-pseudo⑥">(3)</a> <a href="#ref-for-current-pseudo⑦">(4)</a>
            <li><a href="#ref-for-current-pseudo⑧">10.2.
                    The Past-element Pseudo-class: :past</a> <a href="#ref-for-current-pseudo⑨">(2)</a>
            <li><a href="#ref-for-current-pseudo①⓪">10.3.
                    The Future-element Pseudo-class: :future</a> <a href="#ref-for-current-pseudo①①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="past-pseudo">
        <b><a href="#past-pseudo">#past-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-past-pseudo">10.
                    Time-dimensional Pseudo-classes</a> <a href="#ref-for-past-pseudo①">(2)</a> <a
                    href="#ref-for-past-pseudo②">(3)</a>
            <li><a href="#ref-for-past-pseudo③">10.2.
                    The Past-element Pseudo-class: :past</a> <a href="#ref-for-past-pseudo④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="future-pseudo">
        <b><a href="#future-pseudo">#future-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-future-pseudo">10.
                    Time-dimensional Pseudo-classes</a> <a href="#ref-for-future-pseudo①">(2)</a> <a
                    href="#ref-for-future-pseudo②">(3)</a>
            <li><a href="#ref-for-future-pseudo③">10.3.
                    The Future-element Pseudo-class: :future</a> <a href="#ref-for-future-pseudo④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-playing">
        <b><a href="#selectordef-playing">#selectordef-playing</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-playing">11.1.
                    Media Playback State: the :playing, :paused, and :seeking pseudo-classes</a>
            <li><a href="#ref-for-selectordef-playing①">11.2.
                    Media Loading State: the :buffering and :stalled pseudo-classes</a> <a
                    href="#ref-for-selectordef-playing②">(2)</a>
            <li><a href="#ref-for-selectordef-playing③">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-paused">
        <b><a href="#selectordef-paused">#selectordef-paused</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-paused">11.1.
                    Media Playback State: the :playing, :paused, and :seeking pseudo-classes</a>
            <li><a href="#ref-for-selectordef-paused①">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-seeking">
        <b><a href="#selectordef-seeking">#selectordef-seeking</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-seeking">11.1.
                    Media Playback State: the :playing, :paused, and :seeking pseudo-classes</a>
            <li><a href="#ref-for-selectordef-seeking①">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-buffering">
        <b><a href="#selectordef-buffering">#selectordef-buffering</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-buffering">11.2.
                    Media Loading State: the :buffering and :stalled pseudo-classes</a> <a
                    href="#ref-for-selectordef-buffering①">(2)</a> <a href="#ref-for-selectordef-buffering②">(3)</a>
            <li><a href="#ref-for-selectordef-buffering③">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-stalled">
        <b><a href="#selectordef-stalled">#selectordef-stalled</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-stalled">11.2.
                    Media Loading State: the :buffering and :stalled pseudo-classes</a> <a
                    href="#ref-for-selectordef-stalled①">(2)</a>
            <li><a href="#ref-for-selectordef-stalled②">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-muted">
        <b><a href="#selectordef-muted">#selectordef-muted</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-muted">11.3.
                    Sound State: the :muted and :volume-locked pseudo-classes</a>
            <li><a href="#ref-for-selectordef-muted①">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-volume-locked">
        <b><a href="#selectordef-volume-locked">#selectordef-volume-locked</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-volume-locked">11.3.
                    Sound State: the :muted and :volume-locked pseudo-classes</a>
            <li><a href="#ref-for-selectordef-volume-locked①">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-open">
        <b><a href="#selectordef-open">#selectordef-open</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-open">12.1.
                    Collapse State: the :open and :closed pseudo-class</a> <a href="#ref-for-selectordef-open①">(2)</a>
            <li><a href="#ref-for-selectordef-open②">20.1.
                    Changes since the 7 May 2022 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-closed">
        <b><a href="#selectordef-closed">#selectordef-closed</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-closed">12.1.
                    Collapse State: the :open and :closed pseudo-class</a>
            <li><a href="#ref-for-selectordef-closed①">20.1.
                    Changes since the 7 May 2022 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-modal">
        <b><a href="#selectordef-modal">#selectordef-modal</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-modal">12.2.
                    Modal (Exclusive Interaction) State: the :modal pseudo-class</a> <a
                    href="#ref-for-selectordef-modal①">(2)</a> <a href="#ref-for-selectordef-modal②">(3)</a> <a
                    href="#ref-for-selectordef-modal③">(4)</a>
            <li><a href="#ref-for-selectordef-modal④">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-fullscreen">
        <b><a href="#selectordef-fullscreen">#selectordef-fullscreen</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-fullscreen">12.2.
                    Modal (Exclusive Interaction) State: the :modal pseudo-class</a>
            <li><a href="#ref-for-selectordef-fullscreen①">12.3.
                    Fullscreen Presentation State: the :fullscreen pseudo-class</a>
            <li><a href="#ref-for-selectordef-fullscreen②">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-picture-in-picture">
        <b><a href="#selectordef-picture-in-picture">#selectordef-picture-in-picture</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-picture-in-picture">12.4.
                    Picture-in-Picture Presentation State: the :picture-in-picture pseudo-class</a>
            <li><a href="#ref-for-selectordef-picture-in-picture①">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enabled-pseudo">
        <b><a href="#enabled-pseudo">#enabled-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enabled-pseudo">13.1.1.
                    The :enabled and :disabled Pseudo-classes</a> <a href="#ref-for-enabled-pseudo①">(2)</a> <a
                    href="#ref-for-enabled-pseudo②">(3)</a> <a href="#ref-for-enabled-pseudo③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="disabled-pseudo">
        <b><a href="#disabled-pseudo">#disabled-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-disabled-pseudo">13.1.1.
                    The :enabled and :disabled Pseudo-classes</a> <a href="#ref-for-disabled-pseudo①">(2)</a> <a
                    href="#ref-for-disabled-pseudo②">(3)</a> <a href="#ref-for-disabled-pseudo③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="read-write-pseudo">
        <b><a href="#read-write-pseudo">#read-write-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-read-write-pseudo①">13.1.2.
                    The Mutability Pseudo-classes: :read-only and :read-write</a> <a
                    href="#ref-for-read-write-pseudo②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="read-only-pseudo">
        <b><a href="#read-only-pseudo">#read-only-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-read-only-pseudo">13.1.2.
                    The Mutability Pseudo-classes: :read-only and :read-write</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="placeholder-shown-pseudo">
        <b><a href="#placeholder-shown-pseudo">#placeholder-shown-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-placeholder-shown-pseudo">13.1.3.
                    The Placeholder-shown Pseudo-class: :placeholder-shown</a> <a
                    href="#ref-for-placeholder-shown-pseudo①">(2)</a>
            <li><a href="#ref-for-placeholder-shown-pseudo②">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
            <li><a href="#ref-for-placeholder-shown-pseudo③">20.5.
                    Changes since the 23 August 2012 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-autofill">
        <b><a href="#selectordef-autofill">#selectordef-autofill</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-autofill">13.1.4.
                    The Automatic Input Pseudo-class: :autofill</a>
            <li><a href="#ref-for-selectordef-autofill①"> Appendix B: Obsolete but Required -webkit- Parsing Quirks for
                    Web Compat</a>
            <li><a href="#ref-for-selectordef-autofill②">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
            <li><a href="#ref-for-selectordef-autofill③">22. Privacy and Security Considerations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="default-pseudo">
        <b><a href="#default-pseudo">#default-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-default-pseudo">13.1.5.
                    The Default-option Pseudo-class: :default</a> <a href="#ref-for-default-pseudo①">(2)</a> <a
                    href="#ref-for-default-pseudo②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="checked-pseudo">
        <b><a href="#checked-pseudo">#checked-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-checked-pseudo">13.2.1.
                    The Selected-option Pseudo-class: :checked</a> <a href="#ref-for-checked-pseudo①">(2)</a> <a
                    href="#ref-for-checked-pseudo②">(3)</a>
            <li><a href="#ref-for-checked-pseudo③">13.2.2.
                    The Indeterminate-value Pseudo-class: :indeterminate</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="indeterminate-pseudo">
        <b><a href="#indeterminate-pseudo">#indeterminate-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-indeterminate-pseudo">13.2.2.
                    The Indeterminate-value Pseudo-class: :indeterminate</a> <a
                    href="#ref-for-indeterminate-pseudo①">(2)</a> <a href="#ref-for-indeterminate-pseudo②">(3)</a> <a
                    href="#ref-for-indeterminate-pseudo③">(4)</a>
            <li><a href="#ref-for-indeterminate-pseudo④">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="blank-pseudo">
        <b><a href="#blank-pseudo">#blank-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-blank-pseudo">13.3.1.
                    The Empty-Value Pseudo-class: :blank</a> <a href="#ref-for-blank-pseudo①">(2)</a>
            <li><a href="#ref-for-blank-pseudo②">20.3.
                    Changes since the 2 February 2018 Working Draft</a>
            <li><a href="#ref-for-blank-pseudo③">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valid-pseudo">
        <b><a href="#valid-pseudo">#valid-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valid-pseudo">3.5.
                    Pseudo-classes</a>
            <li><a href="#ref-for-valid-pseudo①">13.3.2.
                    The Validity Pseudo-classes: :valid and :invalid</a> <a href="#ref-for-valid-pseudo②">(2)</a> <a
                    href="#ref-for-valid-pseudo③">(3)</a> <a href="#ref-for-valid-pseudo④">(4)</a>
            <li><a href="#ref-for-valid-pseudo⑤">13.3.5.
                    The User-interaction Pseudo-classes: :user-valid and :user-invalid</a> <a
                    href="#ref-for-valid-pseudo⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="invalid-pseudo">
        <b><a href="#invalid-pseudo">#invalid-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-invalid-pseudo">13.3.2.
                    The Validity Pseudo-classes: :valid and :invalid</a> <a href="#ref-for-invalid-pseudo①">(2)</a> <a
                    href="#ref-for-invalid-pseudo②">(3)</a>
            <li><a href="#ref-for-invalid-pseudo③">13.3.5.
                    The User-interaction Pseudo-classes: :user-valid and :user-invalid</a> <a
                    href="#ref-for-invalid-pseudo④">(2)</a> <a href="#ref-for-invalid-pseudo⑤">(3)</a> <a
                    href="#ref-for-invalid-pseudo⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="in-range-pseudo">
        <b><a href="#in-range-pseudo">#in-range-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-in-range-pseudo">13.3.3.
                    The Range Pseudo-classes: :in-range and :out-of-range</a> <a
                    href="#ref-for-in-range-pseudo①">(2)</a> <a href="#ref-for-in-range-pseudo②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="out-of-range-pseudo">
        <b><a href="#out-of-range-pseudo">#out-of-range-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-out-of-range-pseudo">13.3.3.
                    The Range Pseudo-classes: :in-range and :out-of-range</a> <a
                    href="#ref-for-out-of-range-pseudo①">(2)</a> <a href="#ref-for-out-of-range-pseudo②">(3)</a>
            <li><a href="#ref-for-out-of-range-pseudo③">13.3.5.
                    The User-interaction Pseudo-classes: :user-valid and :user-invalid</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="required-pseudo">
        <b><a href="#required-pseudo">#required-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-required-pseudo">13.3.4.
                    The Optionality Pseudo-classes: :required and :optional</a>
            <li><a href="#ref-for-required-pseudo①">13.3.5.
                    The User-interaction Pseudo-classes: :user-valid and :user-invalid</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="optional-pseudo">
        <b><a href="#optional-pseudo">#optional-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-optional-pseudo">13.3.4.
                    The Optionality Pseudo-classes: :required and :optional</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="user-invalid-pseudo">
        <b><a href="#user-invalid-pseudo">#user-invalid-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-user-invalid-pseudo">13.3.5.
                    The User-interaction Pseudo-classes: :user-valid and :user-invalid</a> <a
                    href="#ref-for-user-invalid-pseudo①">(2)</a> <a href="#ref-for-user-invalid-pseudo②">(3)</a> <a
                    href="#ref-for-user-invalid-pseudo③">(4)</a>
            <li><a href="#ref-for-user-invalid-pseudo④">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-user-invalid-pseudo⑤">20.6.
                    Changes since the 29 September 2011 Working Draft</a>
            <li><a href="#ref-for-user-invalid-pseudo⑥">20.7.
                    Changes Since Level 3</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="user-valid-pseudo">
        <b><a href="#user-valid-pseudo">#user-valid-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-user-valid-pseudo">13.3.5.
                    The User-interaction Pseudo-classes: :user-valid and :user-invalid</a> <a
                    href="#ref-for-user-valid-pseudo①">(2)</a>
            <li><a href="#ref-for-user-valid-pseudo②">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="structural-pseudo-classes">
        <b><a href="#structural-pseudo-classes">#structural-pseudo-classes</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-structural-pseudo-classes">3.6. Pseudo-elements</a>
            <li><a href="#ref-for-structural-pseudo-classes①">14.
                    Tree-Structural pseudo-classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="root-pseudo">
        <b><a href="#root-pseudo">#root-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-root-pseudo">8.6.
                    The Reference Element Pseudo-class: :scope</a>
            <li><a href="#ref-for-root-pseudo①">14.1.
                    :root pseudo-class</a> <a href="#ref-for-root-pseudo②">(2)</a>
            <li><a href="#ref-for-root-pseudo③"> Appendix A: Guidance on Mapping Source Documents &amp; Data to an
                    Element Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="empty-pseudo">
        <b><a href="#empty-pseudo">#empty-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-empty-pseudo">14.2.
                    :empty pseudo-class</a> <a href="#ref-for-empty-pseudo①">(2)</a>
            <li><a href="#ref-for-empty-pseudo②">20.3.
                    Changes since the 2 February 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="nth-child-pseudo">
        <b><a href="#nth-child-pseudo">#nth-child-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-nth-child-pseudo">14.3.1.
                    :nth-child() pseudo-class</a> <a href="#ref-for-nth-child-pseudo①">(2)</a>
            <li><a href="#ref-for-nth-child-pseudo②">14.3.2.
                    :nth-last-child() pseudo-class</a>
            <li><a href="#ref-for-nth-child-pseudo③">14.4.1.
                    :nth-of-type() pseudo-class</a>
            <li><a href="#ref-for-nth-child-pseudo④">17.
                    Calculating a selector’s specificity</a>
            <li><a href="#ref-for-nth-child-pseudo⑤"> Appendix A: Guidance on Mapping Source Documents &amp; Data to an
                    Element Tree</a>
            <li><a href="#ref-for-nth-child-pseudo⑥">20.1.
                    Changes since the 7 May 2022 Working Draft</a>
            <li><a href="#ref-for-nth-child-pseudo⑦">20.2.
                    Changes since the 21 November 2018 Working Draft</a> <a href="#ref-for-nth-child-pseudo⑧">(2)</a>
            <li><a href="#ref-for-nth-child-pseudo⑨">20.3.
                    Changes since the 2 February 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="nth-last-child-pseudo">
        <b><a href="#nth-last-child-pseudo">#nth-last-child-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-nth-last-child-pseudo">14.3.2.
                    :nth-last-child() pseudo-class</a> <a href="#ref-for-nth-last-child-pseudo①">(2)</a>
            <li><a href="#ref-for-nth-last-child-pseudo②">17.
                    Calculating a selector’s specificity</a>
            <li><a href="#ref-for-nth-last-child-pseudo③">20.2.
                    Changes since the 21 November 2018 Working Draft</a> <a
                    href="#ref-for-nth-last-child-pseudo④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-child-pseudo">
        <b><a href="#first-child-pseudo">#first-child-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-child-pseudo">14.3.3.
                    :first-child pseudo-class</a>
            <li><a href="#ref-for-first-child-pseudo①">15.2.
                    Child combinator (>)</a>
            <li><a href="#ref-for-first-child-pseudo②"> Appendix A: Guidance on Mapping Source Documents &amp; Data to
                    an Element Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="last-child-pseudo">
        <b><a href="#last-child-pseudo">#last-child-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-last-child-pseudo">14.3.4.
                    :last-child pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="only-child-pseudo">
        <b><a href="#only-child-pseudo">#only-child-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-only-child-pseudo">14.3.5.
                    :only-child pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="nth-of-type-pseudo">
        <b><a href="#nth-of-type-pseudo">#nth-of-type-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-nth-of-type-pseudo">14.4.1.
                    :nth-of-type() pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="nth-last-of-type-pseudo">
        <b><a href="#nth-last-of-type-pseudo">#nth-last-of-type-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-nth-last-of-type-pseudo">14.4.2.
                    :nth-last-of-type() pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-of-type-pseudo">
        <b><a href="#first-of-type-pseudo">#first-of-type-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-of-type-pseudo">14.4.3.
                    :first-of-type pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="last-of-type-pseudo">
        <b><a href="#last-of-type-pseudo">#last-of-type-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-last-of-type-pseudo">14.4.4.
                    :last-of-type pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="only-of-type-pseudo">
        <b><a href="#only-of-type-pseudo">#only-of-type-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-only-of-type-pseudo">14.4.5.
                    :only-of-type pseudo-class</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="descendant-combinator">
        <b><a href="#descendant-combinator">#descendant-combinator</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-descendant-combinator">3.1.
                    Structure and Terminology</a> <a href="#ref-for-descendant-combinator①">(2)</a>
            <li><a href="#ref-for-descendant-combinator②">3.4.
                    Relative Selectors</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="child-combinator">
        <b><a href="#child-combinator">#child-combinator</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-child-combinator">3.1.
                    Structure and Terminology</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="next-sibling-combinator">
        <b><a href="#next-sibling-combinator">#next-sibling-combinator</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-next-sibling-combinator">3.1.
                    Structure and Terminology</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="subsequent-sibling-combinator">
        <b><a href="#subsequent-sibling-combinator">#subsequent-sibling-combinator</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-subsequent-sibling-combinator">3.1.
                    Structure and Terminology</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="column-combinator">
        <b><a href="#column-combinator">#column-combinator</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-column-combinator">16.
                    Grid-Structural Selectors</a>
            <li><a href="#ref-for-column-combinator①">20.6.
                    Changes since the 29 September 2011 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="nth-col-pseudo">
        <b><a href="#nth-col-pseudo">#nth-col-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-nth-col-pseudo">16.
                    Grid-Structural Selectors</a>
            <li><a href="#ref-for-nth-col-pseudo①">16.2.
                    :nth-col() pseudo-class</a>
            <li><a href="#ref-for-nth-col-pseudo②">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="nth-last-col-pseudo">
        <b><a href="#nth-last-col-pseudo">#nth-last-col-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-nth-last-col-pseudo">16.
                    Grid-Structural Selectors</a>
            <li><a href="#ref-for-nth-last-col-pseudo①">16.3.
                    :nth-last-col() pseudo-class</a>
            <li><a href="#ref-for-nth-last-col-pseudo②">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="specificity">
        <b><a href="#specificity">#specificity</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-specificity">4.4.
                    The Specificity-adjustment Pseudo-class: :where()</a> <a href="#ref-for-specificity①">(2)</a>
            <li><a href="#ref-for-specificity②">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
            <li><a href="#ref-for-specificity③">20.5.
                    Changes since the 23 August 2012 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-selector-list">
        <b><a href="#typedef-selector-list">#typedef-selector-list</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-selector-list">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a>
            <li><a href="#ref-for-typedef-selector-list①">19.1.
                    Parse A Selector</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-complex-selector-list">
        <b><a href="#typedef-complex-selector-list">#typedef-complex-selector-list</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-complex-selector-list">14.3.1.
                    :nth-child() pseudo-class</a>
            <li><a href="#ref-for-typedef-complex-selector-list①">14.3.2.
                    :nth-last-child() pseudo-class</a>
            <li><a href="#ref-for-typedef-complex-selector-list②">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-relative-selector-list">
        <b><a href="#typedef-relative-selector-list">#typedef-relative-selector-list</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-relative-selector-list">3.4.
                    Relative Selectors</a>
            <li><a href="#ref-for-typedef-relative-selector-list①">19.2.
                    Parse A Relative Selector</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-complex-selector">
        <b><a href="#typedef-complex-selector">#typedef-complex-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-complex-selector">3.1.
                    Structure and Terminology</a>
            <li><a href="#ref-for-typedef-complex-selector①">18.
                    Grammar</a> <a href="#ref-for-typedef-complex-selector②">(2)</a> <a
                    href="#ref-for-typedef-complex-selector③">(3)</a>
            <li><a href="#ref-for-typedef-complex-selector④">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a> <a
                    href="#ref-for-typedef-complex-selector⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-relative-selector">
        <b><a href="#typedef-relative-selector">#typedef-relative-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-relative-selector">3.4.
                    Relative Selectors</a>
            <li><a href="#ref-for-typedef-relative-selector①">18.
                    Grammar</a>
            <li><a href="#ref-for-typedef-relative-selector②">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-compound-selector">
        <b><a href="#typedef-compound-selector">#typedef-compound-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-compound-selector">3.1.
                    Structure and Terminology</a>
            <li><a href="#ref-for-typedef-compound-selector①">18.
                    Grammar</a> <a href="#ref-for-typedef-compound-selector②">(2)</a> <a
                    href="#ref-for-typedef-compound-selector③">(3)</a> <a
                    href="#ref-for-typedef-compound-selector④">(4)</a> <a
                    href="#ref-for-typedef-compound-selector⑤">(5)</a> <a
                    href="#ref-for-typedef-compound-selector⑥">(6)</a>
            <li><a href="#ref-for-typedef-compound-selector⑦">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-simple-selector">
        <b><a href="#typedef-simple-selector">#typedef-simple-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-simple-selector">3.1.
                    Structure and Terminology</a>
            <li><a href="#ref-for-typedef-simple-selector①">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-combinator">
        <b><a href="#typedef-combinator">#typedef-combinator</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-combinator">18.
                    Grammar</a> <a href="#ref-for-typedef-combinator①">(2)</a> <a
                    href="#ref-for-typedef-combinator②">(3)</a> <a href="#ref-for-typedef-combinator③">(4)</a>
            <li><a href="#ref-for-typedef-combinator④">20.2.
                    Changes since the 21 November 2018 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-type-selector">
        <b><a href="#typedef-type-selector">#typedef-type-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-type-selector">18.
                    Grammar</a> <a href="#ref-for-typedef-type-selector①">(2)</a> <a
                    href="#ref-for-typedef-type-selector②">(3)</a> <a href="#ref-for-typedef-type-selector③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-ns-prefix">
        <b><a href="#typedef-ns-prefix">#typedef-ns-prefix</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-ns-prefix">18.
                    Grammar</a> <a href="#ref-for-typedef-ns-prefix①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-wq-name">
        <b><a href="#typedef-wq-name">#typedef-wq-name</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-wq-name">18.
                    Grammar</a> <a href="#ref-for-typedef-wq-name①">(2)</a> <a href="#ref-for-typedef-wq-name②">(3)</a>
                <a href="#ref-for-typedef-wq-name③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-subclass-selector">
        <b><a href="#typedef-subclass-selector">#typedef-subclass-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-subclass-selector">18.
                    Grammar</a> <a href="#ref-for-typedef-subclass-selector①">(2)</a> <a
                    href="#ref-for-typedef-subclass-selector②">(3)</a> <a
                    href="#ref-for-typedef-subclass-selector③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-id-selector">
        <b><a href="#typedef-id-selector">#typedef-id-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-id-selector">18.
                    Grammar</a> <a href="#ref-for-typedef-id-selector①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-class-selector">
        <b><a href="#typedef-class-selector">#typedef-class-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-class-selector">18.
                    Grammar</a> <a href="#ref-for-typedef-class-selector①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-attribute-selector">
        <b><a href="#typedef-attribute-selector">#typedef-attribute-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-attribute-selector">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-attr-matcher">
        <b><a href="#typedef-attr-matcher">#typedef-attr-matcher</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-attr-matcher">18.
                    Grammar</a> <a href="#ref-for-typedef-attr-matcher①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-attr-modifier">
        <b><a href="#typedef-attr-modifier">#typedef-attr-modifier</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-attr-modifier">18.
                    Grammar</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-pseudo-class-selector">
        <b><a href="#typedef-pseudo-class-selector">#typedef-pseudo-class-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-pseudo-class-selector">18.
                    Grammar</a> <a href="#ref-for-typedef-pseudo-class-selector①">(2)</a> <a
                    href="#ref-for-typedef-pseudo-class-selector②">(3)</a> <a
                    href="#ref-for-typedef-pseudo-class-selector③">(4)</a> <a
                    href="#ref-for-typedef-pseudo-class-selector④">(5)</a> <a
                    href="#ref-for-typedef-pseudo-class-selector⑤">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-pseudo-element-selector">
        <b><a href="#typedef-pseudo-element-selector">#typedef-pseudo-element-selector</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-pseudo-element-selector">18.
                    Grammar</a> <a href="#ref-for-typedef-pseudo-element-selector①">(2)</a> <a
                    href="#ref-for-typedef-pseudo-element-selector②">(3)</a> <a
                    href="#ref-for-typedef-pseudo-element-selector③">(4)</a> <a
                    href="#ref-for-typedef-pseudo-element-selector④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-forgiving-selector-list">
        <b><a href="#typedef-forgiving-selector-list">#typedef-forgiving-selector-list</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-forgiving-selector-list">4.2.
                    The Matches-Any Pseudo-class: :is()</a>
            <li><a href="#ref-for-typedef-forgiving-selector-list①">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a> <a
                    href="#ref-for-typedef-forgiving-selector-list②">(2)</a> <a
                    href="#ref-for-typedef-forgiving-selector-list③">(3)</a> <a
                    href="#ref-for-typedef-forgiving-selector-list④">(4)</a> <a
                    href="#ref-for-typedef-forgiving-selector-list⑤">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="parse-as-a-forgiving-selector-list">
        <b><a href="#parse-as-a-forgiving-selector-list">#parse-as-a-forgiving-selector-list</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-parse-as-a-forgiving-selector-list">14.3.1.
                    :nth-child() pseudo-class</a>
            <li><a href="#ref-for-parse-as-a-forgiving-selector-list①">14.3.2.
                    :nth-last-child() pseudo-class</a>
            <li><a href="#ref-for-parse-as-a-forgiving-selector-list②">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-forgiving-relative-selector-list">
        <b><a
                href="#typedef-forgiving-relative-selector-list">#typedef-forgiving-relative-selector-list</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-forgiving-relative-selector-list">4.5.
                    The Relational Pseudo-class: :has()</a>
            <li><a href="#ref-for-typedef-forgiving-relative-selector-list①">18.1.
                    &lt;forgiving-selector-list> and &lt;forgiving-relative-selector-list></a> <a
                    href="#ref-for-typedef-forgiving-relative-selector-list②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="match-a-selector-against-an-element">
        <b><a href="#match-a-selector-against-an-element">#match-a-selector-against-an-element</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-match-a-selector-against-an-element">19.4.
                    Match a Selector Against a Pseudo-element</a>
            <li><a href="#ref-for-match-a-selector-against-an-element①">19.5.
                    Match a Selector Against a Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="match-a-complex-selector-against-an-element">
        <b><a
                href="#match-a-complex-selector-against-an-element">#match-a-complex-selector-against-an-element</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-match-a-complex-selector-against-an-element">19.4.
                    Match a Selector Against a Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="match-a-selector-against-a-pseudo-element">
        <b><a
                href="#match-a-selector-against-a-pseudo-element">#match-a-selector-against-a-pseudo-element</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-match-a-selector-against-a-pseudo-element">19.5.
                    Match a Selector Against a Tree</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="match-a-selector-against-a-tree">
        <b><a href="#match-a-selector-against-a-tree">#match-a-selector-against-a-tree</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-match-a-selector-against-a-tree">20.4.
                    Changes since the 2 May 2013 Working Draft</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="unknown--webkit--pseudo-elements">
        <b><a href="#unknown--webkit--pseudo-elements">#unknown--webkit--pseudo-elements</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-unknown--webkit--pseudo-elements"> Appendix B: Obsolete but Required -webkit- Parsing
                    Quirks for Web Compat</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script>/* script-var-click-highlighting */

        document.addEventListener("click", e => {
            if (e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        {
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>