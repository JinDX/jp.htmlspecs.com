<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja-JP">

<HEAD>
    <TITLE>CSS&nbsp;2.2の概要</TITLE>
    <link rel="stylesheet" href="https://www.w3.org/TR/CSS22/style/default.css" type="text/css">
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
    <link rel="prev" href="about.html">
    <link rel="next" href="conform.html">
    <link rel="contents" href="index.html#minitoc">
    <link rel="CSS-properties" href="propidx.html" title="properties">
    <link rel="index" href="indexlist.html" title="index">
    <link rel="first" href="index.html">
    <script type="text/javascript" src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

</HEAD>

<BODY>
    <div class="navbar">
        <p><a href="about.html">前へ</a> &nbsp;
            <a href="conform.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ一覧</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <hr class="navbar">

    <H1><a name="q0">2 CSS&nbsp;2.2の概要</a></H1>
    <div id="toc" class="subtoc">
        <p><strong>目次</strong>
        <ul class="toc">
            <li><a href="intro.html#html-tutorial" class="tocxref">2.1 HTML向けCSS&nbsp;2.2の簡単チュートリアル</a>
            <li><a href="intro.html#xml-tutorial" class="tocxref">2.2 XML向けCSS&nbsp;2.2の簡単チュートリアル</a>
            <li><a href="intro.html#processing-model" class="tocxref">2.3 CSS&nbsp;2.2の処理モデル</a>
                <ul class="toc">
                    <li><a href="intro.html#the-canvas" class="tocxref">2.3.1 キャンバス</a>
                    <li><a href="intro.html#addressing" class="tocxref">2.3.2 CSS&nbsp;2.2のアドレッシングモデル</a>
                </ul>
            <li><a href="intro.html#design-principles" class="tocxref">2.4 CSS設計原則</a>
        </ul>
    </div>


    <H2>2.1 <a name="html-tutorial">HTML向けCSS&nbsp;2.2の簡単チュートリアル</a></H2>

    <p>このセクションは規範的ではありません。

    <P>このチュートリアルでは、シンプルなスタイルシートの設計がいかに簡単かを示します。このチュートリアルでは、HTMLの基本的な知識（<a href="refs.html#ref-HTML4" rel="biblioentry"
            class="noxref"><span class="informref">[HTML4]</span></a>参照）と、デスクトップ出版の基本用語を多少知っている必要があります。

    <P>まず、小さなHTML文書から始めます：</p>

    <PRE class="html example">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
  &lt;TITLE&gt;Bachのホームページ&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Bachのホームページ&lt;/H1&gt;
    &lt;P&gt;Johann Sebastian Bachは多作な作曲家でした。
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

    <P>H1要素のテキスト色を赤に設定するには、次のCSS規則を書きます：</P>

    <PRE class="example">
  h1 { color: red }
</PRE>

    <P>CSSの規則は主に2つの部分から成り立ちます：<a
            href="selector.html">セレクター</a>（'h1'）と宣言（'color:&nbsp;red'）。HTMLでは要素名は大文字と小文字を区別しないので、'h1'でも'H1'でも動作します。宣言は2つの部分に分かれます：プロパティ名（'color'）とプロパティ値（'red'）。上記の例はHTML文書のレンダリングに必要なプロパティのうち1つだけを指定していますが、それ単体でもスタイルシートとして成立します。他のスタイルシートと組み合わせて（CSSの重要な特徴のひとつはスタイルシートの組み合わせです）、この規則が文書の最終的な表示を決定します。

    <P>HTML
        4仕様では、HTML文書に対してスタイルシート規則を指定する方法が定義されています：HTML文書内に記述する方法と、外部スタイルシートを利用する方法です。スタイルシートを文書内に記述するには、STYLE要素を使用します：
    </p>

    <PRE class="html example">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
  &lt;TITLE&gt;Bachのホームページ&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
    h1 { color: red }
  &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Bachのホームページ&lt;/H1&gt;
    &lt;P&gt;Johann Sebastian Bachは多作な作曲家でした。
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

    <P>最大限の柔軟性を確保するため、著者は外部スタイルシートの指定を推奨します。外部スタイルシートは、HTML文書を修正することなく変更でき、複数の文書間で共有することも可能です。外部スタイルシートへのリンクにはLINK要素を使います：
    </p>

    <PRE class="html example">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
  &lt;TITLE&gt;Bachのホームページ&lt;/TITLE&gt;
  &lt;LINK rel="stylesheet" href="bach.css" type="text/css"&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Bachのホームページ&lt;/H1&gt;
    &lt;P&gt;Johann Sebastian Bachは多作な作曲家でした。
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

    <P>LINK要素では以下を指定します：</p>

    <ul>
        <li>リンクの種類："stylesheet"へのリンク
        <li>スタイルシートの場所："href"属性で指定
        <li>リンクするスタイルシートの種類："text/css"
    </ul>

    <P>スタイルシートと構造化されたマークアップの密接な関係を示すため、このチュートリアルでは引き続きSTYLE要素を使用します。さらに色指定を追加してみましょう：

    <PRE class="html example">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
  &lt;TITLE&gt;Bachのホームページ&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
    body { color: black; background: white }
    h1 { color: red; background: white }
  &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Bachのホームページ&lt;/H1&gt;
    &lt;P&gt;Johann Sebastian Bachは多作な作曲家でした。
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

    <P>スタイルシートには現在4つの規則があります：最初の2つはBODY要素の色と背景色を設定しています（テキスト色と背景色は一緒に設定するのが良いです）、後の2つはH1要素の色と背景色を設定しています。P要素には色が指定されていないので、親要素であるBODYから色を継承します。H1要素もBODYの子要素ですが、2つ目の規則が継承値を上書きします。CSSではこのように異なる値同士の競合がよく発生し、本仕様ではその解決方法について説明しています。

    <P>CSS&nbsp;2.2には<a href="colors.html#propdef-color" class="noxref"><span
                class="propinst-color">'color'</span></a>などを含めて90以上のプロパティがあります。他にもいくつか見てみましょう：

    <PRE class="example">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
  &lt;TITLE&gt;Bachのホームページ&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
    body { 
      font-family: "Gill Sans", sans-serif;
      font-size: 12pt;
      margin: 3em; 
    }
  &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Bachのホームページ&lt;/H1&gt;
    &lt;P&gt;Johann Sebastian Bachは多作な作曲家でした。
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

    <P>最初に注目するポイントは、複数の宣言が中括弧（{...}）内でブロック化され、セミコロンで区切られていることです。最後の宣言の後にもセミコロンを付けることができます。

    <P>BODY要素の最初の宣言はフォントファミリーを「Gill
        Sans」に設定します。そのフォントが利用できない場合、ユーザーエージェント（よく「ブラウザー」と呼ばれます）は'sans-serif'という5種類の汎用フォントファミリーのひとつを使用します。BODYの子要素は<a
            href="fonts.html#propdef-font-family" class="noxref"><span
                class="propinst-font-family">'font-family'</span></a>プロパティの値を継承します。

    <P>2つ目の宣言はBODY要素のフォントサイズを12ポイントに設定します。「ポイント」単位は印刷ベースのタイポグラフィでフォントサイズやその他の長さに一般的に用いられます。これは環境に依存しない絶対単位の一例です。

    <P>3つ目の宣言は周囲に合わせて拡大・縮小する相対単位を使っています。「em」単位は要素のフォントサイズを基準にします。この場合、BODY要素の余白はフォントサイズの3倍の幅になります。

    <H2>2.2 <a name="xml-tutorial">XML向けCSS&nbsp;2.2の簡単チュートリアル</a></H2>

    <p>このセクションは規範的ではありません。

    <P>CSSは、eXtensible Markup Language <a href="refs.html#ref-XML11" rel="biblioentry" class="noxref"><span
                class="informref">[XML11]</span></a>のアプリケーションなど、どんな構造化文書形式にも利用できます。実際、XMLはHTML以上にスタイルシートに依存します。なぜなら、著者が独自の要素を作成でき、ユーザーエージェントがそれをどのように表示すべきか分からない場合があるからです。

    <P>以下は簡単なXML断片です：

    <PRE class="xml example">
&lt;ARTICLE&gt;
  &lt;HEADLINE&gt;フリードリヒ大王がBachに会う&lt;/HEADLINE&gt;
  &lt;AUTHOR&gt;Johann Nikolaus Forkel&lt;/AUTHOR&gt;
  &lt;PARA&gt;
    ある晩、彼が
    &lt;INSTRUMENT&gt;フルート&lt;/INSTRUMENT&gt;の準備をして
    楽士たちが集まったとき、士官が到着した
    見知らぬ者たちの名簿を持ってきた。
  &lt;/PARA&gt;
&lt;/ARTICLE&gt;
</PRE>

    <P>この断片を文書風に表示するためには、まずどの要素がインラインレベル（改行を起こさない）で、どの要素がブロックレベル（改行を起こす）か宣言する必要があります。

    <PRE class="example">
INSTRUMENT { display: inline }
ARTICLE, HEADLINE, AUTHOR, PARA { display: block }
</PRE>

    <P>最初の規則はINSTRUMENTをインラインに、2つ目の規則はカンマ区切りのセレクターリストで他の要素をすべてブロックレベルに宣言しています。XMLでは要素名は大文字小文字を区別するため、小文字（例：'instrument'）で書かれたセレクターと大文字（例：'INSTRUMENT'）は異なるものとなります。

    <P>スタイルシートをXML文書にリンクする方法のひとつは、処理命令を使うことです：

    <PRE class="xml example">
&lt;?xml-stylesheet type="text/css" href="bach.css"?&gt;
&lt;ARTICLE&gt;
  &lt;HEADLINE&gt;フリードリヒ大王がBachに会う&lt;/HEADLINE&gt;
  &lt;AUTHOR&gt;Johann Nikolaus Forkel&lt;/AUTHOR&gt;
  &lt;PARA&gt;
    ある晩、彼が
    &lt;INSTRUMENT&gt;フルート&lt;/INSTRUMENT&gt;の準備をして
    楽士たちが集まったとき、士官が到着した
    見知らぬ者たちの名簿を持ってきた。
  &lt;/PARA&gt;
&lt;/ARTICLE&gt;
</PRE>

    <P>視覚的なユーザーエージェントは上記の例を次のように整形できます：

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/bach1.png" alt="表示例"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
                    name="img-bach1" href="https://www.w3.org/TR/CSS22/images/longdesc/bach1-desc.html"
                    title="Bach/XML整形例1の詳細説明">[D]</A></SPAN>
    </div>

    <P>「フルート」という単語が段落内に残っていることに注目してください。これはインライン要素INSTRUMENTの内容だからです。

    <P>しかし、まだ期待通りの書式にはなっていません。例えば、見出しのフォントサイズは他のテキストより大きくすべきですし、著者名はイタリックで表示したいかもしれません：</P>

    <PRE class="example">
INSTRUMENT { display: inline }
ARTICLE, HEADLINE, AUTHOR, PARA { display: block }
HEADLINE { font-size: 1.3em }
AUTHOR { font-style: italic }
ARTICLE, HEADLINE, AUTHOR, PARA { margin: 0.5em }
</PRE>

    <P>視覚的なユーザーエージェントは上記の例を次のように整形できます：

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/bach2.png" alt="表示例"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
                    name="img-bach2" href="https://www.w3.org/TR/CSS22/images/longdesc/bach2-desc.html"
                    title="Bach/XML整形例2の詳細説明">[D]</A></SPAN>
    </div>

    <P>さらに規則を追加すれば、文書の表示をより詳しく指定できます。


    <H2>2.3 <a name="processing-model">CSS&nbsp;2.2の処理モデル</a></H2>

    <p>このセクション（その下位セクションを含まない）は規範的ではありません。

    <P>このセクションでは、CSS対応ユーザーエージェントの動作モデルの一例を示します。これは概念的なモデルにすぎず、実装は異なる場合があります。

    <P>このモデルでは、ユーザーエージェントはソースを以下の手順で処理します：</P>

    <ol>
        <li>ソース文書を解析して<a href="conform.html#doctree">文書ツリー</a>を作成する。</li>

        <li>対象<a href="media.html">メディアタイプ</a>を特定する。

        <li>文書に関連付けられた、対象<a href="media.html">メディアタイプ</a>用に指定されたすべてのスタイルシートを取得する。

        <li>文書ツリーのすべての要素に、対象<a href="media.html">メディアタイプ</a>に適用可能なすべての<a
                href="syndata.html#properties">プロパティ</a>に1つの値を割り当てる。プロパティの値は<a
                href="cascade.html">カスケードと継承</a>のセクションで説明されている仕組みに従って割り当てられます。

            <P>値の計算の一部は、対象<a href="media.html">メディアタイプ</a>に適した整形アルゴリズムに依存します。例えば、対象メディアが画面の場合、ユーザーエージェントは<a
                    href="visuren.html">ビジュアル整形モデル</a>を適用します。

        <li>注釈付けされた文書ツリーから
            <span class="index-def" title="整形構造">
                <a
                    name="formatting-structure"><dfn>整形構造</dfn></a></span>を生成します。多くの場合、整形構造は文書ツリーに非常に似ていますが、疑似要素や生成コンテンツを用いる場合など大きく異なることもあります。まず、整形構造は必ずしも「ツリー型」である必要はありません。構造の性質は実装に依存します。次に、整形構造は文書ツリーより情報量が多かったり少なかったりします。例えば、文書ツリー内のある要素の<a
                href="visuren.html#propdef-display" class="noxref"><span
                    class="propinst-display">'display'</span></a>プロパティの値が'none'の場合、その要素は整形構造には何も生成しません。一方、リスト要素は、内容やリストスタイル情報（例：箇条書き画像）など、整形構造により多くの情報を生成する場合があります。

            <P>CSSユーザーエージェントはこの段階で文書ツリーを変更しません。特に、スタイルシートによって生成されたコンテンツは文書言語処理系（再解析など）にフィードバックされません。

        <li>整形構造を対象メディアに転送します（例：印刷、画面表示、音声レンダリング等）。
    </ol>

    <h3>2.3.1 <a name="the-canvas">キャンバス</a></h3>

    <P>すべてのメディアにおいて、<span class="index-def" title="キャンバス"><a
                name="canvas"><dfn>キャンバス</dfn></a></span>とは「整形構造が描画される空間」を指します。キャンバスは各次元で無限ですが、実際の描画は通常、ユーザーエージェントが対象メディアに応じて確立する有限領域内で行われます。例えば、画面にレンダリングするユーザーエージェントは最小幅を設定し、<a
            href="visuren.html#viewport">ビューポート</a>の寸法に基づいて初期幅を選びます。ページへのレンダリングでは通常、幅と高さの制約があります。聴覚ユーザーエージェントは音空間で制限を課しますが、時間には制限を課しません。

    <h3>2.3.2 <a name="addressing">CSS&nbsp;2.2のアドレッシングモデル</a></h3>

    <P>CSS&nbsp;2.2の<a href="selector.html">セレクター</a>とプロパティは、スタイルシートが文書やユーザーエージェントの以下の部分を参照できるようにします：</p>

    <ul>
        <li>文書ツリー内の要素とそれらの特定の関係（<a href="selector.html">セレクター</a>のセクション参照）。

        <li>文書ツリー内の要素の属性および属性値（<a href="selector.html#attribute-selectors">属性セレクター</a>のセクション参照）。

        <li>要素内容の一部（<a href="selector.html#first-line">:first-line</a>および<a
                href="selector.html#first-letter">:first-letter</a>疑似要素参照）。

        <li>要素が特定の状態にあるときの文書ツリーの要素（<a href="selector.html#pseudo-classes">疑似クラス</a>のセクション参照）。

        <li>文書が描画される<a href="#canvas">キャンバス</a>の一部。

        <li>一部のシステム情報（<a href="ui.html">ユーザーインターフェイス</a>のセクション参照）。
    </ul>

    <H2>2.4 <a name="design-principles">CSS設計原則</a></H2>

    <p>このセクションは規範的ではありません。

    <P>CSS&nbsp;2.2（およびそれ以前のCSS2やCSS1）は、設計原則のセットに基づいています：</p>

    <UL>

        <LI>
            <P><STRONG>前方・後方互換性</STRONG>。CSS&nbsp;2.2ユーザーエージェントはCSS1スタイルシートを理解できます。CSS1ユーザーエージェントはCSS&nbsp;2.2スタイルシートを読み、理解できない部分は無視できます。また、CSS未対応のユーザーエージェントもスタイル強化済み文書を表示できます。もちろん、CSSによるスタイル強化部分はレンダリングされませんが、すべての内容は表示されます。
            </P>
        </LI>

        <LI>
            <P><STRONG>構造化文書との補完性</STRONG>。スタイルシートは構造化文書（例：HTMLやXMLアプリケーション等）を補完し、マークアップされたテキストにスタイル情報を提供します。スタイルシートを変更してもマークアップへの影響はほとんどありません。
            </P>
        </LI>

        <LI>
            <P><STRONG>ベンダー・プラットフォーム・デバイスの非依存性</STRONG>。スタイルシートにより、文書はベンダー・プラットフォーム・デバイス非依存を維持できます。スタイルシート自体もベンダー・プラットフォーム非依存ですが、CSS&nbsp;2.2では特定のデバイスグループ（例：プリンター）向けにスタイルシートをターゲットできます。
            </P>
        </LI>

        <LI>
            <P><STRONG>保守性</STRONG>。文書からスタイルシートを参照することで、ウェブマスターはサイト管理を簡素化し、サイト全体で一貫した外観を保てます。例えば、組織の背景色が変わった場合、変更が必要なのは1ファイルのみです。
            </P>
        </LI>

        <LI>
            <P><STRONG>簡潔性</STRONG>。CSSは人間が読み書きしやすいシンプルなスタイル言語です。CSSプロパティは可能な限り互いに独立しており、一般にある効果を達成する方法は1つです。</P>
        </LI>

        <LI>
            <P><STRONG>ネットワーク性能</STRONG>。CSSはコンテンツの表示方法をコンパクトに記述できます。画像や音声ファイルなど、レンダリング効果を得るために著者がよく使うものと比べて、スタイルシートはコンテンツサイズを縮小することが多いです。また、開く必要のあるネットワーク接続数も減るため、ネットワーク性能が向上します。
            </P>
        </LI>

        <LI>
            <P><STRONG>柔軟性</STRONG>。CSSは複数の方法でコンテンツに適用できます。重要な特徴は、デフォルト（ユーザーエージェント）スタイルシート、ユーザースタイルシート、リンクされたスタイルシート、文書のhead内、文書本体を構成する要素の属性内など、様々な場所で指定されたスタイル情報をカスケードできることです。
            </P>
        </LI>

        <LI>
            <P><STRONG>豊富さ</STRONG>。著者が豊富なレンダリング効果を使えることで、Webという表現媒体の豊かさが増します。デザイナーは従来のDTPやスライドショーアプリケーションでよく見られる機能を長年求めてきました。要求されたレンダリング効果の一部はデバイス非依存性と衝突しますが、CSS&nbsp;2.2はデザイナーの要望実現に大きく近づいています。
            </P>
        </LI>

        <LI>
            <P><STRONG>代替言語バインディング</STRONG>。本仕様で説明しているCSSプロパティ群は視覚・聴覚の両表現に一貫した整形モデルを提供します。この整形モデルはCSS言語を通じて利用できますが、他言語へのバインディングも可能です。例えば、JavaScriptプログラムが特定要素の<a
                    href="colors.html#propdef-color" class="noxref"><span
                        class="propinst-color">'color'</span></a>プロパティ値を動的に変更することもできます。</P>
        </LI>

        <LI>
            <P><STRONG>アクセシビリティ</STRONG>。CSSのいくつかの機能は障害のあるユーザーにとってWebをより利用しやすくします：</p>

            <UL>

                <LI>フォント外観を制御するプロパティにより、著者はアクセス不能なビットマップテキスト画像を排除できます。

                <li>位置指定プロパティで著者は（見えない画像などの）レイアウト強制のためのマークアップ技法を排除できます。

                <LI><tt>!important</tt>規則の意味により、特定の表示要件を持つユーザーは著者のスタイルシートを上書きできます。

                <li>すべてのプロパティで'inherit'値を使えることで、カスケードの汎用性が高まり、スタイル調整がより簡単に一貫して行えます。

                <li>メディアグループやbraille、embossed、ttyメディアタイプなど、メディアサポートの向上により、ユーザーや著者はそれらのデバイス向けにページを調整できます。

            </UL>

            <div class="note">
                <P> <em><strong>注.</strong> CSSとHTMLを使ってアクセシブルな文書を設計する詳細は<a href="refs.html#ref-WCAG20"
                            rel="biblioentry" class="noxref"><span class="informref">[WCAG20]</span></a>を参照してください。</em>
            </div>
    </UL>


    <hr class="navbar">

    <div class="navbar">
        <p><a href="about.html">前へ</a> &nbsp;
            <a href="conform.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ一覧</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <script src="https://htmlspecs.com/dropdown.js"></script>

</BODY>

</HTML>