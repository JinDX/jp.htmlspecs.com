<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja-JP">

<head>
    <title>視覚的フォーマットモデルの詳細</title>
    <link rel="stylesheet" href="https://www.w3.org/TR/CSS22/style/default.css" type="text/css">
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
    <link rel="prev" href="visuren.html">
    <link rel="next" href="visufx.html">
    <link rel="contents" href="index.html#minitoc">
    <link rel="CSS-properties" href="propidx.html" title="properties">
    <link rel="index" href="indexlist.html" title="index">
    <link rel="first" href="index.html">
    <script type="text/javascript" src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style type="text/css">
        .current,
        .proposed,
        span.delcurrent,
        div.delcurrent {
            background: #feb
        }

        ins.proposed,
        span.insproposed,
        li.insproposed,
        div.insproposed {
            background: #bfb
        }

        del.proposed,
        span.delproposed {
            background: #fbb
        }

        span.insproposed,
        li.insproposed,
        div.insproposed {
            text-decoration: underline
        }

        span.delproposed,
        span.delcurrent,
        div.delcurrent {
            text-decoration: line-through
        }

        body>del,
        body>ins {
            display: block
        }
    </style>
</head>

<body>
    <div class="navbar">
        <p><a href="visuren.html">前へ</a> &nbsp;
            <a href="visufx.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <hr class="navbar">

    <h1><a name="q0">10 視覚的フォーマットモデルの詳細</a></h1>
    <div id="toc" class="subtoc">
        <p><strong>内容</strong>
        <ul class="toc">
            <li><a href="visudet.html#containing-block-details" class="tocxref">10.1 「包含ブロック」の定義</a>
            <li><a href="visudet.html#the-width-property" class="tocxref">10.2 コンテンツ幅: <span
                        class="propinst-width">『width』</span>プロパティ</a>
            <li><a href="visudet.html#Computing_widths_and_margins" class="tocxref">10.3 幅とマージンの計算</a>
                <ul class="toc">
                    <li><a href="visudet.html#inline-width" class="tocxref">10.3.1 インライン、置換されない要素</a>
                    <li><a href="visudet.html#inline-replaced-width" class="tocxref">10.3.2 インライン、置換された要素</a>
                    <li><a href="visudet.html#blockwidth" class="tocxref">10.3.3 ブロックレベル、置換されない要素（通常フロー内）</a>
                    <li><a href="visudet.html#block-replaced-width" class="tocxref">10.3.4 ブロックレベル、置換された要素（通常フロー内）</a>
                    <li><a href="visudet.html#float-width" class="tocxref">10.3.5 浮動、置換されない要素</a>
                    <li><a href="visudet.html#float-replaced-width" class="tocxref">10.3.6 浮動、置換された要素</a>
                    <li><a href="visudet.html#abs-non-replaced-width" class="tocxref">10.3.7 絶対配置、置換されない要素</a>
                    <li><a href="visudet.html#abs-replaced-width" class="tocxref">10.3.8 絶対配置、置換された要素</a>
                    <li><a href="visudet.html#inlineblock-width" class="tocxref">10.3.9 『インラインブロック』、置換されない要素（通常フロー内）</a>
                    <li><a href="visudet.html#inlineblock-replaced-width" class="tocxref">10.3.10
                            『インラインブロック』、置換された要素（通常フロー内）</a>
                </ul>
            <li><a href="visudet.html#min-max-widths" class="tocxref">10.4 最小幅と最大幅: <span
                        class="propinst-min-width">『min-width』</span>および<span
                        class="propinst-max-width">『max-width』</span></a>
            <li><a href="visudet.html#the-height-property" class="tocxref">10.5 コンテンツ高さ: <span
                        class="propinst-height">『height』</span>プロパティ</a>
            <li><a href="visudet.html#Computing_heights_and_margins" class="tocxref">10.6 高さとマージンの計算</a>
                <ul class="toc">
                    <li><a href="visudet.html#inline-non-replaced" class="tocxref">10.6.1 インライン、置換されない要素</a>
                    <li><a href="visudet.html#inline-replaced-height" class="tocxref">10.6.2
                            インライン置換要素、 通常フロー内のブロックレベル置換要素、『インラインブロック』置換要素および浮動置換要素</a>
                    <li><a href="visudet.html#normal-block" class="tocxref">10.6.3
                            通常フロー内のブロックレベル置換されない要素（『overflow』が『visible』に計算される場合）</a>
                    <li><a href="visudet.html#abs-non-replaced-height" class="tocxref">10.6.4 絶対配置、置換されない要素</a>
                    <li><a href="visudet.html#abs-replaced-height" class="tocxref">10.6.5 絶対配置、置換された要素</a>
                    <li><a href="visudet.html#block-root-margin" class="tocxref">10.6.6 複雑なケース</a>
                    <li><a href="visudet.html#root-height" class="tocxref">10.6.7 ブロックフォーマットコンテキストルートにおける『auto』高さ</a>
                </ul>
            <li><a href="visudet.html#min-max-heights" class="tocxref">10.7 最小高さと最大高さ: <span
                        class="propinst-min-height">『min-height』</span>および<span
                        class="propinst-max-height">『max-height』</span></a>
            <li><a href="visudet.html#line-height" class="tocxref">10.8 行の高さの計算: <span
                        class="propinst-line-height">『line-height』</span>および<span
                        class="propinst-vertical-align">『vertical-align』</span>プロパティ</a>
                <ul class="toc">
                    <li><a href="visudet.html#leading" class="tocxref">10.8.1 行間と半行間</a>
                </ul>
        </ul>
    </div>


    <h2>10.1 <a name="containing-block-details">「包含ブロック」の定義</a></h2>

    <p>要素のボックスの位置とサイズは、時々、特定の矩形に対して計算されます。この矩形はその要素の<dfn><a name="x0"><span class="index-def"
                    title="包含ブロック">包含ブロック</span></a></dfn>と呼ばれます。要素の包含ブロックは以下のように定義されます:</p>

    <ol>
        <li><a href="conform.html#root">ルート要素</a>が存在する包含ブロックは、<dfn><a name="x1"><span class="index-def"
                        title="初期包含ブロック|包含ブロック::初期">初期包含ブロック</span></a></dfn>と呼ばれる矩形です。連続メディアの場合、それは<a
                href="visuren.html#viewport">ビューポート</a>の寸法を持ち、キャンバスの原点に固定されています。ページ化されたメディアの場合、それは<a
                href="page.html#page-area">ページエリア</a>となります。初期包含ブロックの『direction』プロパティはルート要素と同じです。</li>
        <li>その他の要素の場合、要素の位置が『relative』または『static』である場合、包含ブロックは最も近い祖先ボックスの内容エッジによって形成され、それが<a
                href="visuren.html#block-boxes">ブロックコンテナ</a>であるか、フォーマットコンテキストを確立するものでなければなりません。</li>
        <li>要素が『position: fixed』の場合、包含ブロックは連続メディアの場合は<a
                href="visuren.html#viewport">ビューポート</a>、ページ化されたメディアの場合はページエリアによって確立されます。</li>
        <li>要素が『position: absolute』の場合、包含ブロックは以下のように、『absolute』、『relative』または『fixed』の<a
                href="visuren.html#propdef-position" class="noxref"><span
                    class="propinst-position">『position』</span></a>を持つ最も近い祖先によって確立されます:
            <ol>
                <li>祖先がインライン要素である場合、包含ブロックは、その要素のために生成された最初のインラインボックスと最後のインラインボックスのパディングボックスを囲む境界ボックスです。CSS
                    2.2では、インライン要素が複数行に分割されている場合、包含ブロックは未定義です。</li>
                <li>それ以外の場合、包含ブロックは祖先の<a href="box.html#padding-edge">パディングエッジ</a>によって形成されます。</li>
            </ol>
            <p>そのような祖先が存在しない場合、包含ブロックは初期包含ブロックです。</p>
        </li>
    </ol>

    <p>ページ化されたメディアでは、絶対配置された要素は、ページ区切りを無視してその包含ブロックに対して位置を決定します（文書が連続しているかのように）。その後、その要素は複数のページにわたって分割される場合があります。</p>

    <p>現在のページ以外のページに位置が解決される、または印刷にすでにレンダリングされた現在のページ上の位置に解決される絶対配置されたコンテンツについては、プリンターはコンテンツを以下のように配置する場合があります:
    <ul>
        <li>現在のページの別の場所に配置する
        <li>次のページに配置する
        <li>または省略する
    </ul>

    <p class="note">注意: 複数のページに分割されたブロックレベル要素は、各ページで異なる幅を持つ場合があり、デバイス固有の制限が存在する場合があります。</p>

    <div class="example">
        <P style="display:none">例:</P>
        <p>以下の文書で位置指定がない場合、包含ブロック（C.B.）は次のように確立されます:</p>

        <pre class="html example">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
   &lt;HEAD&gt;
      &lt;TITLE&gt;包含ブロックの説明&lt;/TITLE&gt;
   &lt;/HEAD&gt;
   &lt;BODY id="body"&gt;
      &lt;DIV id="div1"&gt;
      &lt;P id="p1"&gt;これは最初の段落のテキストです...&lt;/P&gt;
      &lt;P id="p2"&gt;これは&lt;EM id="em1"&gt;2番目の&lt;STRONG id="strong1"&gt;段落&lt;/STRONG&gt;内&lt;/EM&gt;のテキストです。&lt;/P&gt;
      &lt;/DIV&gt;
   &lt;/BODY&gt;
&lt;/HTML&gt;
</pre>

        <p>次のように確立されます:</p>

        <table border="1">
            <tr>
                <th>ボックスが生成される対象</th>
                <td><strong>C.B.が確立される対象</strong></td>
            </tr>
            <tr>
                <td>html</td>
                <td>初期C.B.（UA依存）</td>
            </tr>
            <tr>
                <td>body</td>
                <td>html</td>
            </tr>
            <tr>
                <td>div1</td>
                <td>body</td>
            </tr>
            <tr>
                <td>p1</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>p2</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>em1</td>
                <td>p2</td>
            </tr>
            <tr>
                <td>strong1</td>
                <td>p2</td>
            </tr>
        </table>

        <p>「div1」を位置指定すると:</p>

        <pre class="example">
   #div1 { position: absolute; left: 50px; top: 50px }
</pre>

        <p>その包含ブロックはもう「body」ではなくなり、初期包含ブロックになります（他の位置指定された祖先ボックスが存在しないため）。</p>
        <p>「em1」も位置指定すると:</p>

        <pre class="example">
   #div1 { position: absolute; left: 50px; top: 50px }
   #em1  { position: absolute; left: 100px; top: 100px }
</pre>

        <p>包含ブロックの表は次のようになります:</p>

        <table border="1">
            <tr>
                <th>ボックスが生成される対象</th>
                <td><strong>C.B.が確立される対象</strong></td>
            </tr>
            <tr>
                <td>html</td>
                <td>初期C.B.（UA依存）</td>
            </tr>
            <tr>
                <td>body</td>
                <td>html</td>
            </tr>
            <tr>
                <td>div1</td>
                <td>初期C.B.</td>
            </tr>
            <tr>
                <td>p1</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>p2</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>em1</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>strong1</td>
                <td>em1</td>
            </tr>
        </table>

        <p>「em1」を位置指定することにより、その包含ブロックは最も近い位置指定された祖先ボックス（つまり、「div1」によって生成されたもの）になります。</p>
    </div>


    <h2>10.2 <a name="the-width-property">コンテンツ幅</a>: <a href="visudet.html#propdef-width" class="noxref"><span
                class="propinst-width">『width』</span></a>プロパティ</h2>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x3"><span class="index-def" title="'width'"><dfn id="propdef-width">width</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>すべての要素。ただし、置換されないインライン要素、テーブル行、および行グループを除く
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>包含ブロックの幅を基準とする
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>パーセンテージまたは『auto』は指定された通り、または絶対的な長さ
    </table>

    <p>このプロパティはボックスの<a href="box.html#content-width">コンテンツ幅</a>を指定します。
    </p>
    <p>このプロパティは置換されない<a href="visuren.html#inline-boxes">インライン</a>要素には適用されません。
        置換されないインライン要素のボックスのコンテンツ幅は、内部のレンダリングされたコンテンツの幅（子要素の相対オフセット<em>前</em>）に基づきます。
        インラインボックスは<a href="visuren.html#line-box">行ボックス</a>に流れ込みます。
        行ボックスの幅はその<a href="visuren.html#containing-block">包含ブロック</a>によって決まりますが、
        <a href="visuren.html#floats">フロート</a>の存在によって短縮される場合があります。
    </p>
    <p>値の意味は以下の通りです:</p>

    <dl>
        <dt><span class="index-inst" title="&lt;length&gt;"><a name="x4" href="syndata.html#value-def-length"
                    class="noxref"><span class="value-inst-length"><strong>&lt;length&gt;</strong></span></a></span>
        </dt>
        <dd>長さ単位を使用してコンテンツ領域の幅を指定します。
        </dd>
        <dt><span class="index-inst" title="&lt;percentage&gt;"><a name="x5" href="syndata.html#value-def-percentage"
                    class="noxref"><span
                        class="value-inst-percentage"><strong>&lt;percentage&gt;</strong></span></a></span>
        </dt>
        <dd>パーセンテージ幅を指定します。このパーセンテージは、生成されたボックスの<a href="visuren.html#containing-block">包含ブロック</a>の幅に基づいて計算されます。
            包含ブロックの幅がこの要素の幅に依存している場合、CSS 2.2では結果のレイアウトは未定義です。
            <span class="note">
                注意: 包含ブロックがブロックコンテナ要素に基づいている絶対配置された要素の場合、パーセンテージはその要素の<em>パディングボックス</em>の幅に基づいて計算されます。
                これはCSS1からの変更であり、CSS1ではパーセンテージ幅は常に親要素の<em>コンテンツボックス</em>の幅に基づいて計算されていました。
            </span>
        </dd>
        <dt><strong>auto</strong>
        </dt>
        <dd>幅は他のプロパティの値に依存します。
            以下のセクションを参照してください。
        </dd>
    </dl>

    <p><a href="visudet.html#propdef-width" class="noxref"><span
                class="propinst-width">『width』</span></a>に負の値を指定することは禁止されています。
    </p>
    <div class="example">
        <P style="display:none">例:</P>
        <p>
            例えば、以下のルールは段落のコンテンツ幅を100ピクセルに固定します:</p>

        <pre>
p { width: 100px }
</pre>
    </div>

    <h2>10.3 <a name="Computing_widths_and_margins">幅とマージンの計算</a></h2>

    <p>レイアウトに使用される要素の<a href="visudet.html#propdef-width" class="noxref"><span
                class="propinst-width">『width』</span></a>、<a href="box.html#propdef-margin-left" class="noxref"><span
                class="propinst-margin-left">『margin-left』</span></a>、<a href="box.html#propdef-margin-right"
            class="noxref"><span class="propinst-margin-right">『margin-right』</span></a>、<a
            href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">『left』</span></a>および<a
            href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">『right』</span></a>プロパティの値は、
        生成されるボックスのタイプやそれぞれのプロパティ同士に依存します。（レイアウトに使用される値は時々<a href="cascade.html#usedValue">使用値</a>と呼ばれます。）
        原則として、使用される値は計算値と同じで、必要に応じて『auto』が適切な値に置き換えられ、
        パーセンテージが包含ブロックに基づいて計算されますが、例外があります。以下の状況を区別する必要があります:</p>

    <ol>
        <li>インライン、置換されない要素</li>
        <li>インライン、置換された要素</li>
        <li>ブロックレベル、置換されない要素（通常フロー内）</li>
        <li>ブロックレベル、置換された要素（通常フロー内）</li>
        <li>フロート、置換されない要素</li>
        <li>フロート、置換された要素</li>
        <li>絶対配置、置換されない要素</li>
        <li>絶対配置、置換された要素</li>
        <li>『インラインブロック』、置換されない要素（通常フロー内）</li>
        <li>『インラインブロック』、置換された要素（通常フロー内）</li>
    </ol>

    <p>ポイント1-6および9-10の場合、相対配置された要素の『left』および『right』の値は、<a
            href="visuren.html#relative-positioning">9.4.3節</a>のルールによって決定されます。
    </p>

    <p class=note><em><strong>注意。</strong> 以下で計算される『width』の使用値は暫定値であり、
            <a href="visudet.html#propdef-min-width" class="noxref"><span
                    class="propinst-min-width">『min-width』</span></a>および<a href="visudet.html#propdef-max-width"
                class="noxref"><span class="propinst-max-width">『max-width』</span></a>によって複数回計算される必要がある場合があります。
            以下の<a href="#min-max-widths">最小幅と最大幅</a>のセクションを参照してください。</em>

    <h3>10.3.1 <a name="inline-width">インライン、置換されない要素</a></h3>

    <p><a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>プロパティは適用されません。
        <a href="box.html#propdef-margin-left" class="noxref"><span
                class="propinst-margin-left">『margin-left』</span></a>
        または<a href="box.html#propdef-margin-right" class="noxref"><span
                class="propinst-margin-right">『margin-right』</span></a>
        の計算値が『auto』の場合、使用値は『0』になります。
    </p>

    <h3>10.3.2 <a name="inline-replaced-width">インライン、置換された要素</a></h3>

    <p><a href="box.html#propdef-margin-left" class="noxref"><span class="propinst-margin-left">『margin-left』</span></a>
        または<a href="box.html#propdef-margin-right" class="noxref"><span
                class="propinst-margin-right">『margin-right』</span></a>
        の計算値が『auto』の場合、使用値は『0』になります。</p>

    <p><a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>および
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が両方とも『auto』で、要素に固有の幅がある場合、その固有の幅が
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の使用値になります。
    </p>

    <p><a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>および
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が両方とも『auto』で、要素に固有の幅がなく、固有の高さと固有の比率を持つ場合、または
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が『auto』で、
        <a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の計算値が他の値で、要素が固有の比率を持つ場合、
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の使用値は以下のように計算されます:
    </p>

    <blockquote>
        <p>(使用する高さ) * (固有の比率)</p>
    </blockquote>

    <p>『height』および
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が両方とも『auto』で、要素が固有の比率を持ち、固有の高さまたは幅を持たない場合、
        CSS 2.2では『width』の使用値は未定義です。ただし、包含ブロックの幅が置換要素の幅に依存しない場合、
        『width』の使用値は通常フロー内のブロックレベル、置換されない要素の制約方程式を使用して計算されることが推奨されます。
    </p>

    <p>それ以外の場合、
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が『auto』で、要素に固有の幅がある場合、その固有の幅が
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の使用値になります。
    </p>

    <p>それ以外の場合、
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が『auto』で、上記の条件に該当しない場合、
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の使用値は300pxになります。300pxがデバイスに収まらない場合、ユーザーエージェントはデバイスに収まる2:1比率を持つ最大の矩形幅を使用するべきです。
    </p>

    <h3>10.3.3 <a name="blockwidth">ブロックレベル、置換されない要素（通常フロー内）</a></h3>

    <p>以下の<a name="width-constraints">制約</a>は、他のプロパティの使用値間で成立する必要があります:</p>
    <blockquote>
        <p>
            <a href="box.html#propdef-margin-left" class="noxref"><span
                    class="propinst-margin-left">『margin-left』</span></a> +
            <a href="box.html#propdef-border-left-width" class="noxref"><span
                    class="propinst-border-left-width">『border-left-width』</span></a> +
            <a href="box.html#propdef-padding-left" class="noxref"><span
                    class="propinst-padding-left">『padding-left』</span></a> +
            <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a> +
            <a href="box.html#propdef-padding-right" class="noxref"><span
                    class="propinst-padding-right">『padding-right』</span></a> +
            <a href="box.html#propdef-border-right-width" class="noxref"><span
                    class="propinst-border-right-width">『border-right-width』</span></a> +
            <a href="box.html#propdef-margin-right" class="noxref"><span
                    class="propinst-margin-right">『margin-right』</span></a> =
            <a href="#containing-block-details">包含ブロック</a>の幅
        </p>
    </blockquote>
    <p>『width』が『auto』でなく、さらに
        『border-left-width』 + 『padding-left』 + 『width』 + 『padding-right』 + 『border-right-width』
        （および『margin-left』または『margin-right』が『auto』でない場合の値）が包含ブロックの幅を超える場合、
        『margin-left』または『margin-right』の『auto』値は以下のルールに従い『0』として扱われます。
    </p>
    <p>上記のすべてが『auto』以外の計算値を持つ場合、これらの値は「過剰制約」とされ、
        いずれかの使用値が計算値と異なる必要があります。
        包含ブロックの<a href="visuren.html#propdef-direction" class="noxref"><span
                class="propinst-direction">『direction』</span></a>
        プロパティが『ltr』の場合、『margin-right』の指定値が無視され、等式が成立するように値が計算されます。
        『direction』プロパティが『rtl』の場合、この処理は『margin-left』に発生します。
    </p>
    <p>値がちょうど1つ『auto』と指定されている場合、その使用値は等式に従います。
    </p>
    <p><a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        が『auto』に設定されている場合、その他の『auto』値は『0』になり、
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        は結果の等式に従います。
    </p>
    <p><a href="box.html#propdef-margin-left" class="noxref"><span class="propinst-margin-left">『margin-left』</span></a>
        および<a href="box.html#propdef-margin-right" class="noxref"><span
                class="propinst-margin-right">『margin-right』</span></a>
        が両方『auto』である場合、それらの使用値は等しくなります。
        これにより、要素は包含ブロックのエッジに対して水平に中央揃えされます。
    </p>

    <h3>10.3.4 <a name="block-replaced-width">ブロックレベル、置換された要素（通常フロー内）</a></h3>

    <p><a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の使用値は、
        <a href="#inline-replaced-width">インライン置換要素</a>と同じ方法で決定されます。
        次に、<a href="#blockwidth">置換されないブロックレベル要素</a>のルールを適用してマージンを決定します。
    </p>
    <h3>10.3.5 <a name="float-width">浮動、置換されない要素</a></h3>

    <p><a href="box.html#propdef-margin-left" class="noxref"><span
                class="propinst-margin-left">『margin-left』</span></a>または<a href="box.html#propdef-margin-right"
            class="noxref"><span class="propinst-margin-right">『margin-right』</span></a>の計算値が『auto』の場合、その使用値は『0』になります。
    </p>
    <p><a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が『auto』の場合、その使用値は「収縮適合幅 (shrink-to-fit width)」になります。
    </p>
    <p><a name="shrink-to-fit-float"></a>収縮適合幅の計算は、自動テーブルレイアウトアルゴリズムを使用してテーブルセルの幅を計算する方法に似ています。
        大まかに言えば、明示的な改行が発生する場所を除き、行を分割せずにコンテンツをフォーマットして希望する幅を計算し、
        次に可能なすべての改行を試して希望する<em>最小</em>幅を計算します。
        CSS 2.2では正確なアルゴリズムは定義されていません。
        第三に、<em>利用可能な幅</em>を計算します。この場合、これは包含ブロックの幅から
        『margin-left』、『border-left-width』、『padding-left』、『padding-right』、
        『border-right-width』、『margin-right』の使用値および関連するスクロールバーの幅を引いた値になります。
    </p>
    <p>その後、収縮適合幅は次のように計算されます: min(max(希望する最小幅, 利用可能な幅), 希望する幅)。</p>

    <h3>10.3.6 <a name="float-replaced-width">浮動、置換された要素</a></h3>

    <p><a href="box.html#propdef-margin-left" class="noxref"><span
                class="propinst-margin-left">『margin-left』</span></a>または<a href="box.html#propdef-margin-right"
            class="noxref"><span class="propinst-margin-right">『margin-right』</span></a>の計算値が『auto』の場合、その使用値は『0』になります。
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の使用値は<a href="#inline-replaced-width">インライン置換要素</a>と同様に決定されます。
    </p>

    <h3>10.3.7 <a name="abs-non-replaced-width">絶対配置、置換されない要素</a></h3>

    <p>このセクションおよび次のセクションの目的のために、用語<a name=static-position><span class=index>「静的位置 (static position)」</span></a>
        （要素の）とは、概ね要素が通常フロー内にあった場合の位置を指します。より正確には:
    </p>
    <ul>
        <li><dfn>静的位置包含ブロック</dfn>は、その指定された
            <a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">『position』</span></a>
            値が『static』であり、『float』が『none』であった場合、その要素の最初のボックスになるであろう仮想的なボックスの包含ブロックです。
            （<a href="visuren.html#dis-pos-flo">9.7節</a>のルールにより、この仮想計算には『display』の異なる計算値を仮定する必要がある場合もあります。）
        </li>
        <li>『left』の静的位置は、包含ブロックの左端から仮想的なボックスの左マージンエッジまでの距離を指します。
            その要素の<a href="visuren.html#propdef-position" class="noxref"><span
                    class="propinst-position">『position』</span></a>
            プロパティが『static』で、『float』が『none』であった場合の仮想的なボックスです。
            仮想ボックスが包含ブロックの左側にある場合、値は負になります。
        </li>
        <li>『right』の静的位置は、同じ仮想的なボックスの右マージンエッジから包含ブロックの右端までの距離を指します。
            仮想ボックスが包含ブロックの端より左側にある場合、値は正になります。
        </li>
    </ul>

    <p>ただし、実際にその仮想ボックスの寸法を計算するのではなく、ユーザーエージェントはそのおおよその位置を推測する自由があります。
    </p>
    <p>静的位置を計算する目的では、固定配置された要素の包含ブロックはビューポートではなく初期包含ブロックと見なされ、
        すべてのスクロール可能なボックスは原点にスクロールされていると仮定されるべきです。</p>

    <p>これらの要素の使用値を決定する制約は次の通りです:</p>

    <blockquote>
        <p>'left' + 'margin-left' + 'border-left-width' + 'padding-left' + 'width' +
            'padding-right' + 'border-right-width' + 'margin-right' + 'right' =
            包含ブロックの幅
        </p>
    </blockquote>

    <p>'left'、『width』、および『right』の3つすべてが『auto』の場合:
        最初に『margin-left』および『margin-right』の『auto』値を0に設定します。
        次に、静的位置包含ブロックを確立する要素の『direction』プロパティが『ltr』の場合、
        『left』を<a href="#static-position">静的位置</a>に設定し、以下のルール番号3を適用します。
        それ以外の場合、『right』を<a href="#static-position">静的位置</a>に設定し、ルール番号1を適用します。
    </p>

    <p>3つのいずれも『auto』でない場合: 『margin-left』および『margin-right』の両方が『auto』の場合、
        2つのマージンが等しい値になるという追加の制約の下で方程式を解きます。
        ただし、これによってマージンが負になる場合、包含ブロックの『direction』が『ltr』の場合は『margin-left』、
        『rtl』の場合は『margin-right』を0に設定し、残りの値を解きます。
        『margin-left』または『margin-right』のいずれかが『auto』の場合、その値を解きます。
        値が過剰制約されている場合、『direction』が『rtl』の場合は『left』の値を無視し、
        『ltr』の場合は『right』の値を無視して解きます。
    </p>

    <p>それ以外の場合、『margin-left』および『margin-right』の『auto』値を0に設定し、次の6つのルールの1つを適用します。</p>

    <ol>
        <li>『left』および『width』が『auto』で『right』が『auto』でない場合、幅は収縮適合幅になります。その後、『left』を解きます。</li>
        <li>『left』および『right』が『auto』で『width』が『auto』でない場合、静的位置包含ブロックを確立する要素の『direction』プロパティが『ltr』の場合、
            『left』を<a href="#static-position">静的位置</a>に設定します。それ以外の場合、『right』を<a href="#static-position">静的位置</a>に設定します。
            次に、『direction』が『rtl』の場合は『left』を解き、『ltr』の場合は『right』を解きます。
        </li>
        <li>『width』および『right』が『auto』で、『left』が『auto』でない場合、幅は収縮適合幅になります。その後、『right』を解きます。</li>
        <li>『left』が『auto』で、『width』および『right』が『auto』でない場合、『left』を解きます。</li>
        <li>『width』が『auto』で、『left』および『right』が『auto』でない場合、『width』を解きます。</li>
        <li>『right』が『auto』で、『left』および『width』が『auto』でない場合、『right』を解きます。</li>
    </ol>

    <p>収縮適合幅の計算は、自動テーブルレイアウトアルゴリズムを使用してテーブルセルの幅を計算する方法に似ています。
        大まかに言えば、明示的な改行が発生する場所を除いて行を分割せずにコンテンツをフォーマットして希望する幅を計算し、
        次に可能なすべての改行を試して希望する<em>最小</em>幅を計算します。
        CSS 2.2では正確なアルゴリズムは定義されていません。
        第三に、<em>利用可能な幅</em>を計算します。これは、ケース1では『left』を0に、ケース3では『right』を0に設定して『width』を解くことで求められます。
    </p>

    <p>その後、収縮適合幅は次のように計算されます: min(max(希望する最小幅, 利用可能な幅), 希望する幅)。</p>

    <h3>10.3.8 <a name="abs-replaced-width">絶対配置、置換された要素</a></h3>

    <p>この場合、<a href="#abs-non-replaced-width">10.3.7節</a>が制約方程式を含む部分まで適用されますが、それ以外の部分は以下のルールに置き換えられます:</p>

    <ol>
        <li><a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
            の使用値は<a href="#inline-replaced-width">インライン置換要素</a>と同様に決定されます。
            <a href="box.html#propdef-margin-left" class="noxref"><span
                    class="propinst-margin-left">『margin-left』</span></a>
            または<a href="box.html#propdef-margin-right" class="noxref"><span
                    class="propinst-margin-right">『margin-right』</span></a>
            が『auto』と指定されている場合、その使用値は以下のルールによって決定されます。
        </li>
        <li><a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">『left』</span></a>
            と<a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">『right』</span></a>
            の両方が『auto』の場合、静的位置包含ブロックを確立する要素の『direction』プロパティが『ltr』の場合、
            <a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">『left』</span></a>
            を静的位置に設定します。それ以外の場合（『direction』が『rtl』の場合）、
            <a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">『right』</span></a>
            を静的位置に設定します。
        </li>
        <li><a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">『left』</span></a>
            または<a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">『right』</span></a>
            が『auto』の場合、<a href="box.html#propdef-margin-left" class="noxref"><span
                    class="propinst-margin-left">『margin-left』</span></a>
            または<a href="box.html#propdef-margin-right" class="noxref"><span
                    class="propinst-margin-right">『margin-right』</span></a>
            の『auto』を『0』に置き換えます。
        </li>
        <li>この時点で<a href="box.html#propdef-margin-left" class="noxref"><span
                    class="propinst-margin-left">『margin-left』</span></a>
            と<a href="box.html#propdef-margin-right" class="noxref"><span
                    class="propinst-margin-right">『margin-right』</span></a>
            の両方が『auto』の場合、2つのマージンが等しい値になるという追加の制約の下で方程式を解きます。ただし、
            これによりマージンが負になる場合、包含ブロックの方向が『ltr』の場合は
            <a href="box.html#propdef-margin-left" class="noxref"><span
                    class="propinst-margin-left">『margin-left』</span></a>
            を0に設定し、<a href="box.html#propdef-margin-right" class="noxref"><span
                    class="propinst-margin-right">『margin-right』</span></a>
            を解きます（『rtl』の場合は逆）。
        </li>
        <li>この時点で『auto』が残っている場合、その値を解きます。</li>
        <li>この時点で値が過剰制約されている場合、包含ブロックの<a href="visuren.html#propdef-direction" class="noxref"><span
                    class="propinst-direction">『direction』</span></a>
            プロパティが『rtl』の場合は
            <a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">『left』</span></a>
            の値を無視し、『ltr』の場合は
            <a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">『right』</span></a>
            の値を無視して解きます。
        </li>
    </ol>

    <h3>10.3.9 <a name="inlineblock-width">『インラインブロック』、置換されない要素（通常フロー内）</a></h3>

    <p><a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        が『auto』の場合、使用値は浮動要素と同様に
        <a href="#shrink-to-fit-float">収縮適合幅</a>になります。
    </p>
    <p><a href="box.html#propdef-margin-left" class="noxref"><span class="propinst-margin-left">『margin-left』</span></a>
        または<a href="box.html#propdef-margin-right" class="noxref"><span
                class="propinst-margin-right">『margin-right』</span></a>
        の計算値が『auto』の場合、その使用値は『0』になります。
    </p>

    <h3>10.3.10 <a name="inlineblock-replaced-width">『インラインブロック』、置換された要素（通常フロー内）</a></h3>

    <p><a href="#inline-replaced-width">インライン置換要素</a>とまったく同じです。
    </p>

    <h2>10.4 <a name="min-max-widths">最小幅と最大幅</a>: <a href="visudet.html#propdef-min-width" class="noxref"><span
                class="propinst-min-width">『min-width』</span></a>および<a href="visudet.html#propdef-max-width"
            class="noxref"><span class="propinst-max-width">『max-width』</span></a>
    </h2>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x6"><span class="index-def" title="'min-width'"><dfn
                                id="propdef-min-width">min-width</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>0
            <tr>
                <th>適用対象:
                <td>すべての要素。ただし、置換されないインライン要素、テーブル行、および行グループを除く
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>包含ブロックの幅を基準とする
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定されたパーセンテージまたは絶対的な長さ
    </table>
    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x7"><span class="index-def" title="'max-width'"><dfn
                                id="propdef-max-width">max-width</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | none | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>none
            <tr>
                <th>適用対象:
                <td>すべての要素。ただし、置換されないインライン要素、テーブル行、および行グループを除く
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>包含ブロックの幅を基準とする
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定されたパーセンテージ、絶対的な長さ、または『none』
    </table>

    <p>これらの2つのプロパティは、コンテンツ幅を特定の範囲に制約することを可能にします。値の意味は以下の通りです:</p>

    <dl>
        <dt><span class="index-inst" title="&lt;length&gt;"><a name="x8" href="syndata.html#value-def-length"
                    class="noxref"><span class="value-inst-length"><strong>&lt;length&gt;</strong></span></a></span>
        </dt>
        <dd>固定された最小または最大の使用幅を指定します。
        </dd>
        <dt><span class="index-inst" title="&lt;percentage&gt;"><a name="x9" href="syndata.html#value-def-percentage"
                    class="noxref"><span
                        class="value-inst-percentage"><strong>&lt;percentage&gt;</strong></span></a></span>
        </dt>
        <dd>使用値を決定するためのパーセンテージを指定します。
            パーセンテージは生成されたボックスの<a href="visuren.html#containing-block">包含ブロック</a>の幅に基づいて計算されます。
            包含ブロックの幅が負の場合、使用値は0になります。
            包含ブロックの幅がこの要素の幅に依存している場合、CSS 2.2では結果のレイアウトは未定義です。
        </dd>
        <dt><strong>none</strong>
        </dt>
        <dd>(<a href="visudet.html#propdef-max-width" class="noxref"><span
                    class="propinst-max-width">『max-width』</span></a>にのみ適用) ボックスの幅に制限を設けません。
        </dd>
    </dl>

    <p><a href="visudet.html#propdef-min-width" class="noxref"><span class="propinst-min-width">『min-width』</span></a>
        および<a href="visudet.html#propdef-max-width" class="noxref"><span
                class="propinst-max-width">『max-width』</span></a>
        に負の値を指定することは禁止されています。
    </p>

    <p>CSS 2.2では、テーブル、インラインテーブル、テーブルセル、テーブル列、列グループにおける『min-width』および『max-width』の効果は未定義です。
    </p>

    <p>以下のアルゴリズムは、これらの2つのプロパティが<a href="visudet.html#propdef-width" class="noxref"><span
                class="propinst-width">『width』</span></a>
        プロパティの<a href="cascade.html#computed-value">使用値</a>にどのように影響を与えるかを説明しています:</p>
    <ol>
        <li>暫定的な使用幅は、上記の<a href="#Computing_widths_and_margins">「幅とマージンの計算」</a>のルールに従って
            （<a href="visudet.html#propdef-min-width" class="noxref"><span
                    class="propinst-min-width">『min-width』</span></a>
            および<a href="visudet.html#propdef-max-width" class="noxref"><span
                    class="propinst-max-width">『max-width』</span></a>
            を考慮せずに）計算されます。
        </li>
        <li>暫定的な使用幅が<a href="visudet.html#propdef-max-width" class="noxref"><span
                    class="propinst-max-width">『max-width』</span></a>
            を超える場合、上記のルールが再度適用されますが、この場合<a href="visudet.html#propdef-max-width" class="noxref"><span
                    class="propinst-max-width">『max-width』</span></a>
            の計算値を<a href="visudet.html#propdef-width" class="noxref"><span
                    class="propinst-width">『width』</span></a>の計算値として使用します。
        </li>
        <li>結果の幅が<a href="visudet.html#propdef-min-width" class="noxref"><span
                    class="propinst-min-width">『min-width』</span></a>
            より小さい場合、上記のルールが再度適用されますが、この場合<a href="visudet.html#propdef-min-width" class="noxref"><span
                    class="propinst-min-width">『min-width』</span></a>
            の値を<a href="visudet.html#propdef-width" class="noxref"><span
                    class="propinst-width">『width』</span></a>の計算値として使用します。
        </li>
    </ol>

    <p class="note">これらのステップは、上記のプロパティの実際の計算値には影響を与えません。</p>

    <p>ただし、固有比率を持つ置換要素で、<a href="visudet.html#propdef-width" class="noxref"><span
                class="propinst-width">『width』</span></a>
        および<a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>が
        両方とも『auto』に指定されている場合、アルゴリズムは以下の通りです:
    </p>

    <p>違反した制約に対して解決された高さと幅の値を次の表から選択します。
        <var>max-width</var>および<var>max-height</var>をmax(min, max)として取り、それにより<var>min</var> &#8804;
        <var>max</var>が成り立つようにします。
        この表では<var>w</var>と<var>h</var>は、<a href="visudet.html#propdef-min-width" class="noxref"><span
                class="propinst-min-width">『min-width』</span></a>、<a href="visudet.html#propdef-min-height"
            class="noxref"><span class="propinst-min-height">『min-height』</span></a>、<a
            href="visudet.html#propdef-max-width" class="noxref"><span class="propinst-max-width">『max-width』</span></a>
        および<a href="visudet.html#propdef-max-height" class="noxref"><span
                class="propinst-max-height">『max-height』</span></a>プロパティを無視した状態での幅と高さの計算結果を示します。
        通常、これらは固有幅と固有高さですが、固有比率を持つ置換要素の場合は異なる場合があります。
    </p>

    <p class="note">注意: 明示的な幅または高さが設定され、もう一方の次元が『auto』である場合、自動側に最小または最大制約を適用すると過剰制約の状況が発生する可能性があります。
        仕様ではこの動作は明確ですが、著者が予期していない結果になる場合があります。このような場合、CSS3のobject-fitプロパティを使用して異なる結果を得ることができます。
    </p>

    <table rules=all>
        <thead>
            <tr>
                <th>制約違反</th>
                <th>解決された幅</th>
                <th>解決された高さ</th>
            </tr>
        </thead>
        <tbody>

            <tr>
                <td>なし</td>
                <td><var>w</var></td>
                <td><var>h</var></td>
            </tr>
            <tr>
                <td><var>w&nbsp;>&nbsp;max-width</var></td>
                <td><var>max-width</var></td>

                <td><var>max(max-width&nbsp;*&nbsp;h/w, min-height)</var></td>
            </tr>
            <tr>
                <td><var>w&nbsp;&lt;&nbsp;min-width</var></td>
                <td><var>min-width</var></td>
                <td><var>min(min-width&nbsp;*&nbsp;h/w, max-height)</var></td>
            </tr>

            <tr>
                <td><var>h&nbsp;>&nbsp;max-height</var></td>
                <td><var>max(max-height&nbsp;*&nbsp;w/h, min-width)</var></td>
                <td><var>max-height</var></td>
            </tr>
            <tr>
                <td><var>h&nbsp;&lt;&nbsp;min-height</var></td>

                <td><var>min(min-height&nbsp;*&nbsp;w/h, max-width)</var></td>
                <td><var>min-height</var></td>
            </tr>
            <tr>
                <td>(<var>w&nbsp;>&nbsp;max-width</var>) and (<var>h&nbsp;>&nbsp;max-height</var>), where
                    (<var>max-width/w&nbsp;&#8804;&nbsp;max-height/h</var>)</td>

                <td><var>max-width</var></td>
                <td><var>max(min-height, max-width&nbsp;*&nbsp;h/w)</var></td>
            </tr>
            <tr>
                <td>(<var>w&nbsp;>&nbsp;max-width</var>) and (<var>h&nbsp;>&nbsp;max-height</var>), where
                    (<var>max-width/w&nbsp;>&nbsp;max-height/h</var>)</td>

                <td><var>max(min-width, max-height&nbsp;*&nbsp;w/h)</var></td>
                <td><var>max-height</var></td>
            </tr>
            <tr>
                <td>(<var>w&nbsp;&lt;&nbsp;min-width</var>) and (<var>h&nbsp;&lt;&nbsp;min-height</var>), where
                    (<var>min-width/w&nbsp;&#8804;&nbsp;min-height/h</var>)</td>

                <td><var>min(max-width, min-height&nbsp;*&nbsp;w/h)</var></td>
                <td><var>min-height</var></td>
            </tr>
            <tr>
                <td>(<var>w&nbsp;&lt;&nbsp;min-width</var>) and (<var>h&nbsp;&lt;&nbsp;min-height</var>), where
                    (<var>min-width/w&nbsp;>&nbsp;min-height/h</var>)</td>

                <td><var>min-width</var></td>
                <td><var>min(max-height, min-width&nbsp;*&nbsp;h/w)</var></td>
            </tr>
            <tr>
                <td>(<var>w&nbsp;&lt;&nbsp;min-width</var>) and (<var>h&nbsp;>&nbsp;max-height</var>)</td>

                <td><var>min-width</var></td>
                <td><var>max-height</var></td>
            </tr>
            <tr>
                <td>(<var>w&nbsp;>&nbsp;max-width</var>) and (<var>h&nbsp;&lt;&nbsp;min-height</var>)</td>

                <td><var>max-width</var></td>
                <td><var>min-height</var></td>
            </tr>
        </tbody>
    </table>

    <p>その後、上記の<a href="#Computing_widths_and_margins">「幅とマージンの計算」</a>のルールを適用し、
        <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        がこの値として計算されたかのように処理します。
    </p>





    <h2>10.5 <a name="the-height-property">コンテンツの高さ</a>: <a href="visudet.html#propdef-height" class="noxref"><span
                class="propinst-height">『height』</span></a>プロパティ</h2>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x10"><span class="index-def" title="'height'"><dfn
                                id="propdef-height">height</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>すべての要素。ただし、置換されないインライン要素、テーブル列、および列グループを除く
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>本文を参照
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定されたパーセンテージまたは『auto』、または絶対的な長さ
    </table>

    <p>このプロパティはボックスの<a href="box.html#content-height">コンテンツの高さ</a>を指定します。</p>

    <p>このプロパティは置換されない<a href="visuren.html#inline-boxes">インライン</a>要素には適用されません。
        代わりに使用されるルールについては、<a href="#inline-non-replaced">置換されないインライン要素の高さとマージンの計算に関するセクション</a>を参照してください。
    </p>
    <p>値の意味は以下の通りです:</p>

    <dl>
        <dt><span class="index-inst" title="&lt;length&gt;"><a name="x11" href="syndata.html#value-def-length"
                    class="noxref"><span class="value-inst-length"><strong>&lt;length&gt;</strong></span></a></span>
        </dt>
        <dd>長さの値を使用してコンテンツ領域の高さを指定します。
        </dd>
        <dt><span class="index-inst" title="&lt;percentage&gt;"><a name="x12" href="syndata.html#value-def-percentage"
                    class="noxref"><span
                        class="value-inst-percentage"><strong>&lt;percentage&gt;</strong></span></a></span>
        </dt>
        <dd>パーセンテージの高さを指定します。パーセンテージは生成されたボックスの<a href="visuren.html#containing-block">包含ブロック</a>の高さに基づいて計算されます。
            包含ブロックの高さが明示的に指定されていない場合（つまり、コンテンツの高さに依存している場合）で、この要素が絶対配置されていない場合、
            使用される高さは『auto』が指定された場合と同様に計算されます。
            <a href="conform.html#root">ルート要素</a>におけるパーセンテージの高さは、
            <a href="#containing-block-details">初期包含ブロック</a>に対して相対的です。
            <span class="note">
                注意: 包含ブロックがブロックレベル要素に基づいている絶対配置された要素の場合、パーセンテージはその要素の<em>パディングボックス</em>の高さに基づいて計算されます。
                これはCSS1からの変更であり、CSS1ではパーセンテージは常に親要素の<em>コンテンツボックス</em>に基づいて計算されていました。
            </span>
        </dd>
        <dt><strong>auto</strong>
        </dt>
        <dd>高さは他のプロパティの値に依存します。
            以下の本文を参照してください。
        </dd>
    </dl>

    <p class="note">注意: 絶対配置された要素の包含ブロックの高さは、要素自体のサイズに依存しないため、
        このような要素におけるパーセンテージの高さは常に解決可能です。ただし、高さが文書内の後続の要素が処理されるまで判明しない場合があります。
    </p>

    <p><a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>に
        負の値を指定することは禁止されています。
    </p>
    <div class="example">
        <P style="display:none">例:</P>
        <p>例えば、以下のルールは段落のコンテンツの高さを100ピクセルに設定します:</p>

        <pre>
p { height: 100px }
</pre>

        <p>コンテンツの高さが100ピクセルを超える段落は、<a href="visufx.html#overflow">オーバーフロー</a>
            プロパティに従って処理されます。</p>
    </div>

    <h2>10.6 <a name="Computing_heights_and_margins">高さとマージンの計算</a></h2>

    <p><a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">『top』</span></a>、
        <a href="box.html#propdef-margin-top" class="noxref"><span class="propinst-margin-top">『margin-top』</span></a>、
        <a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>、
        <a href="box.html#propdef-margin-bottom" class="noxref"><span
                class="propinst-margin-bottom">『margin-bottom』</span></a>、
        および<a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom">『bottom』</span></a>
        の値を計算するために、さまざまな種類のボックスを区別する必要があります:
    </p>
    <ol>
        <li>インライン、置換されない要素</li>
        <li>インライン、置換された要素</li>
        <li>ブロックレベル、置換されない要素（通常フロー内）</li>
        <li>ブロックレベル、置換された要素（通常フロー内）</li>
        <li>浮動、置換されない要素</li>
        <li>浮動、置換された要素</li>
        <li>絶対配置、置換されない要素</li>
        <li>絶対配置、置換された要素</li>
        <li>『インラインブロック』、置換されない要素（通常フロー内）</li>
        <li>『インラインブロック』、置換された要素（通常フロー内）</li>
    </ol>

    <p>ポイント1-6および9-10の場合、『top』および『bottom』の使用値は9.4.3節のルールによって決定されます。
    </p>

    <p class=note>注意: これらのルールは他の要素と同様にルート要素にも適用されます。</p>

    <p class=note><em><strong>注意。</strong> 以下で計算される『height』の使用値は暫定値であり、
            <a href="visudet.html#propdef-min-height" class="noxref"><span
                    class="propinst-min-height">『min-height』</span></a>
            および<a href="visudet.html#propdef-max-height" class="noxref"><span
                    class="propinst-max-height">『max-height』</span></a>
            に応じて複数回計算される必要がある場合があります。以下の<a href="#min-max-heights">最小高さと最大高さ</a>のセクションを参照してください。</em>

    <h3>10.6.1 <a name="inline-non-replaced">インライン、置換されない要素</a></h3>

    <p><a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        プロパティは適用されません。コンテンツ領域の高さはフォントに基づいて設定されるべきですが、この仕様ではその方法を指定していません。
        ユーザーエージェントは例えばem-boxやフォントの最大アセンダーおよびディセンダーを使用することができます
        （後者はem-boxの上または下にある文字がコンテンツ領域内に収まることを確実にしますが、異なるフォントで異なるサイズのボックスになる可能性があります。
        一方、前者は『line-height』に相対的な背景スタイリングを制御できることを確実にしますが、文字がコンテンツ領域の外に描画される可能性があります）。
    </p>
    <p class=note>注意: CSSのレベル3では、コンテンツの高さに使用されるフォントの測定基準を選択するプロパティが含まれる可能性があります。
    </p>
    <p>インライン、置換されないボックスの垂直方向のパディング、ボーダー、およびマージンはコンテンツ領域の上端と下端から始まり、
        <a href="visudet.html#propdef-line-height" class="noxref"><span
                class="propinst-line-height">『line-height』</span></a>
        とは関係がありません。ただし、行ボックスの高さを計算する際に使用されるのは
        <a href="visudet.html#propdef-line-height" class="noxref"><span
                class="propinst-line-height">『line-height』</span></a>
        のみです。
    </p>
    <p><a name="multi-font-inline-height"></a> 複数のフォントが使用される場合（例えば、文字が異なるフォントで見つかる場合）、
        コンテンツ領域の高さはこの仕様では定義されていません。ただし、以下のいずれかを満たすような高さを選択することを提案します:
        (1) すべてのフォントのem-box、または (2) すべてのフォントの最大アセンダーとディセンダー。
        なお、これはフォントサイズの中で最も大きなものよりも大きくなる場合があり、フォントのベースラインの整列に依存します。
    </p>

    <h3>10.6.2 <a name="inline-replaced-height">インライン置換要素</a>、
        通常フロー内のブロックレベル置換要素、『インラインブロック』置換要素および浮動置換要素</h3>

    <p><a href="box.html#propdef-margin-top" class="noxref"><span
                class="propinst-margin-top">『margin-top』</span></a>または<a href="box.html#propdef-margin-bottom"
            class="noxref"><span class="propinst-margin-bottom">『margin-bottom』</span></a>が『auto』の場合、その使用値は0になります。
    </p>

    <p><a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        および <a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        の計算値が両方とも『auto』で、要素に固有の高さがある場合、その固有の高さが
        <a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の使用値になります。
    </p>

    <p>それ以外の場合、<a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の計算値が『auto』で、要素に固有の比率がある場合、その使用値は次のように計算されます:
    </p>

    <blockquote>
        <p>(使用される幅) / (固有の比率)
    </blockquote>

    <p>それ以外の場合、<a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の計算値が『auto』で、要素に固有の高さがある場合、その固有の高さが
        <a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の使用値になります。
    </p>

    <p>それ以外の場合、<a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の計算値が『auto』で、上記の条件を満たさない場合、
        <a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の使用値は、2:1の比率を持ち、高さが150pxを超えず、デバイスの幅を超えない最大の矩形の高さに設定されます。
    </p>

    <h3>10.6.3 <a name="normal-block">通常フロー内のブロックレベル置換されない要素（『overflow』が『visible』に計算される場合）</a></h3>

    <p>このセクションは、『overflow』が『visible』に計算されないがビューポートに伝播された場合の通常フロー内のブロックレベル置換されない要素にも適用されます。
    </p>

    <p><a href="box.html#propdef-margin-top" class="noxref"><span
                class="propinst-margin-top">『margin-top』</span></a>または<a href="box.html#propdef-margin-bottom"
            class="noxref"><span class="propinst-margin-bottom">『margin-bottom』</span></a>が『auto』の場合、その使用値は0になります。
        <a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        が『auto』の場合、高さは要素がブロックレベルの子要素を持つかどうか、またパディングやボーダーを持つかどうかに依存します:
    </p>

    <p>要素の高さは、以下のうち最初に該当する基準までの距離です:</p>

    <ol>
        <li>1つ以上の行を持つインラインフォーマッティングコンテキストを確立する場合、最後の行ボックスの下端</li>

        <li>最後のインフロー子要素の下マージンが要素の下マージンと折りたたまれていない場合、その子要素の下部（折りたたまれている場合もある）マージンの下端</li>

        <li>要素の下マージンと折りたたまれていない最後のインフロー子要素の上マージンを持つ最後の子要素の下ボーダーエッジ</li>

        <li>それ以外の場合、ゼロ</li>
    </ol>

    <p>通常フロー内の子要素のみが考慮されます（つまり、浮動ボックスや絶対配置されたボックスは無視され、相対配置されたボックスはオフセットを考慮せずに考慮されます）。
        子ボックスは<a href="visuren.html#anonymous-block-level">匿名ブロックボックス</a>である場合があります。
    </p>

    <h3>10.6.4 <a name="abs-non-replaced-height">絶対配置、置換されない要素</a></h3>

    <p>このセクションおよび次のセクションの目的のために、「静的位置 (static position)」（要素の）とは、概ね要素が通常フロー内にあった場合の位置を指します。
        より正確には、『top』の静的位置は、指定された<a href="visuren.html#propdef-position" class="noxref"><span
                class="propinst-position">『position』</span></a>値が『static』であり、
        指定された<a href="visuren.html#propdef-float" class="noxref"><span
                class="propinst-float">『float』</span></a>が『none』であり、
        指定された<a href="visuren.html#propdef-clear" class="noxref"><span
                class="propinst-clear">『clear』</span></a>が『none』であった場合、その要素の最初のボックスとなるであろう仮想的なボックスの上マージンエッジまでの包含ブロックの上端からの距離です。
        （<a href="visuren.html#dis-pos-flo">9.7節</a>のルールにより、これは『display』の異なる計算値を仮定する必要がある場合もあります。）
        仮想ボックスが包含ブロックの上にある場合、値は負になります。
    </p>
    <p>ただし、実際にその仮想ボックスの寸法を計算するのではなく、ユーザーエージェントはそのおおよその位置を推測する自由があります。</p>
    <p>静的位置を計算する目的では、固定配置された要素の包含ブロックはビューポートではなく初期包含ブロックと見なされるべきです。</p>

    <p>絶対配置された要素の場合、垂直方向の寸法の使用値は次の制約を満たす必要があります:</p>

    <blockquote>
        <p>'top' + 'margin-top' + 'border-top-width' + 'padding-top' + 'height'
            + 'padding-bottom' + 'border-bottom-width' + 'margin-bottom' + 'bottom'
            = 包含ブロックの高さ</p>
    </blockquote>

    <p>'top'、『height』および『bottom』の3つすべてが『auto』の場合、『top』を静的位置に設定し、以下のルール3を適用します。</p>

    <p>3つのいずれも『auto』でない場合: 『margin-top』および『margin-bottom』の両方が『auto』の場合、
        2つのマージンが等しい値になるという追加の制約の下で方程式を解きます。
        『margin-top』または『margin-bottom』のいずれかが『auto』の場合、その値を解きます。
        値が過剰制約されている場合、『bottom』の値を無視してその値を解きます。</p>

    <p>それ以外の場合、以下の6つのルールの1つを適用します。</p>

    <ol>
        <li>『top』および『height』が『auto』で『bottom』が『auto』でない場合、高さは<a href="#root-height">10.6.7に基づいてコンテンツに基づく</a>、
            『margin-top』および『margin-bottom』の『auto』値を0に設定し、『top』を解きます。</li>

        <li>『top』および『bottom』が『auto』で『height』が『auto』でない場合、『top』を静的位置に設定し、
            『margin-top』および『margin-bottom』の『auto』値を0に設定し、『bottom』を解きます。</li>

        <li>『height』および『bottom』が『auto』で『top』が『auto』でない場合、高さは<a href="#root-height">10.6.7に基づいてコンテンツに基づく</a>、
            『margin-top』および『margin-bottom』の『auto』値を0に設定し、『bottom』を解きます。</li>

        <li>『top』が『auto』で『height』および『bottom』が『auto』でない場合、『margin-top』および『margin-bottom』の『auto』値を0に設定し、『top』を解きます。</li>

        <li>『height』が『auto』で『top』および『bottom』が『auto』でない場合、『margin-top』および『margin-bottom』の『auto』値を0に設定し、『height』を解きます。
        </li>

        <li>『bottom』が『auto』で『top』および『height』が『auto』でない場合、『margin-top』および『margin-bottom』の『auto』値を0に設定し、『bottom』を解きます。
        </li>
    </ol>

    <h3>10.6.5 <a name="abs-replaced-height">絶対配置、置換された要素</a></h3>

    <p>この状況は前述のものと似ていますが、要素に<a href="conform.html#intrinsic">固有の</a>高さがある点が異なります。
        置換の順序は次の通りです:</p>
    <ol>
        <li><a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
            の使用値は<a href="#inline-replaced-height">インライン置換要素</a>と同様に決定されます。
            『margin-top』または『margin-bottom』が『auto』と指定されている場合、その使用値は以下のルールによって決定されます。</li>
        <li><a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">『top』</span></a>
            および<a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom">『bottom』</span></a>
            の両方が『auto』の場合、
            <a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">『top』</span></a>
            を要素の<a href="#static-position">静的位置</a>に置き換えます。
        </li>
        <li><a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom">『bottom』</span></a>
            が『auto』の場合、
            <a href="box.html#propdef-margin-top" class="noxref"><span
                    class="propinst-margin-top">『margin-top』</span></a>
            または<a href="box.html#propdef-margin-bottom" class="noxref"><span
                    class="propinst-margin-bottom">『margin-bottom』</span></a>
            にある『auto』を『0』に置き換えます。
        </li>
        <li>この時点で<a href="box.html#propdef-margin-top" class="noxref"><span
                    class="propinst-margin-top">『margin-top』</span></a>
            および<a href="box.html#propdef-margin-bottom" class="noxref"><span
                    class="propinst-margin-bottom">『margin-bottom』</span></a>
            の両方がまだ『auto』である場合、2つのマージンが等しい値になるという追加の制約の下で方程式を解きます。</li>
        <li>この時点で『auto』が1つだけ残っている場合、その値を解きます。</li>
        <li>この時点で値が過剰制約されている場合、
            <a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom">『bottom』</span></a>
            の値を無視してその値を解きます。
        </li>
    </ol>





    <h3>10.6.6 <a name="block-root-margin">複雑なケース</a></h3>

    <p>このセクションは以下の場合に適用されます:</p>

    <ul>
        <li>通常フロー内のブロックレベル、置換されない要素であり、『overflow』が『visible』に計算されない場合
            （ただし、『overflow』プロパティの値がビューポートに伝播された場合は除く）。
        </li>
        <li>『インラインブロック』、置換されない要素。</li>
        <li>浮動、置換されない要素。</li>
    </ul>

    <p><a href="box.html#propdef-margin-top" class="noxref"><span
                class="propinst-margin-top">『margin-top』</span></a>または<a href="box.html#propdef-margin-bottom"
            class="noxref"><span class="propinst-margin-bottom">『margin-bottom』</span></a>が『auto』の場合、
        その使用値は0になります。
        <a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        が『auto』の場合、<a href="#root-height">高さは10.6.7節に基づいて要素の子孫によって決定されます。</a>
    </p>

    <p>『インラインブロック』要素の場合、行ボックスの高さを計算する際にマージンボックスが使用されます。</p>


    <h3>10.6.7 <a name="root-height">ブロックフォーマットコンテキストルートにおける『auto』高さ</a></h3>

    <p>特定の場合（例えば、<a href="#abs-non-replaced-height">10.6.4</a>節および
        <a href="#block-root-margin">10.6.6</a>節を参照）、ブロックフォーマットコンテキストを確立する要素の高さは以下のように計算されます:
    </p>

    <p>インラインレベルの子要素のみを持つ場合、高さは最上部の行ボックスの上端から最下部の行ボックスの下端までの距離です。</p>

    <p>ブロックレベルの子要素を持つ場合、高さは最上部のブロックレベル子ボックスの上マージンエッジから
        最下部のブロックレベル子ボックスの下マージンエッジまでの距離です。</p>

    <p>絶対配置された子要素は無視され、相対配置されたボックスはオフセットを考慮せずに考慮されます。
        子ボックスは<a href="visuren.html#anonymous-block-level">匿名ブロックボックス</a>である場合があります。</p>

    <p>さらに、要素がその下コンテンツエッジよりも下に下マージンエッジを持つ浮動子孫を持つ場合、
        そのエッジを含めるように高さが増加します。
        このブロックフォーマットコンテキストに参加する浮動のみが考慮されます。
        例えば、絶対配置された子孫や他の浮動内の浮動は考慮されません。</p>


    <h2>10.7 <a name="min-max-heights">最小高さと最大高さ</a>: <a href="visudet.html#propdef-min-height" class="noxref"><span
                class="propinst-min-height">『min-height』</span></a>および<a href="visudet.html#propdef-max-height"
            class="noxref"><span class="propinst-max-height">『max-height』</span></a></h2>

    <p>要素の高さを特定の範囲に制約することが有用な場合があります。2つのプロパティがこの機能を提供します:</p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x13"><span class="index-def" title="'min-height'"><dfn
                                id="propdef-min-height">min-height</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>0
            <tr>
                <th>適用対象:
                <td>すべての要素。ただし、置換されないインライン要素、テーブル列、および列グループを除く
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>本文を参照
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定されたパーセンテージまたは絶対的な長さ
    </table>
    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x14"><span class="index-def" title="'max-height'"><dfn
                                id="propdef-max-height">max-height</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | none | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>none
            <tr>
                <th>適用対象:
                <td>すべての要素。ただし、置換されないインライン要素、テーブル列、および列グループを除く
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>本文を参照
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定されたパーセンテージ、絶対的な長さ、または『none』
    </table>

    <p>これらの2つのプロパティは、ボックスの高さを特定の範囲に制約することを可能にします。値の意味は以下の通りです:</p>

    <dl>
        <dt><span class="index-inst" title="&lt;length&gt;"><a name="x15" href="syndata.html#value-def-length"
                    class="noxref"><span class="value-inst-length"><strong>&lt;length&gt;</strong></span></a></span>
        </dt>
        <dd>固定された最小または最大の計算高さを指定します。
        </dd>
        <dt><span class="index-inst" title="&lt;percentage&gt;"><a name="x16" href="syndata.html#value-def-percentage"
                    class="noxref"><span
                        class="value-inst-percentage"><strong>&lt;percentage&gt;</strong></span></a></span>
        </dt>
        <dd>使用値を決定するためのパーセンテージを指定します。
            パーセンテージは生成されたボックスの<a href="visuren.html#containing-block">包含ブロック</a>の高さに基づいて計算されます。
            包含ブロックの高さが明示的に指定されていない場合（つまり、コンテンツの高さに依存している場合）で、この要素が絶対配置されていない場合、
            パーセンテージ値は『min-height』の場合は『0』、『max-height』の場合は『none』として扱われます。
        </dd>
        <dt><strong>none</strong>
        </dt>
        <dd>(<a href="visudet.html#propdef-max-height" class="noxref"><span
                    class="propinst-max-height">『max-height』</span></a>にのみ適用) ボックスの高さに制限を設けません。
        </dd>
    </dl>

    <p><a href="visudet.html#propdef-min-height" class="noxref"><span
                class="propinst-min-height">『min-height』</span></a>
        および<a href="visudet.html#propdef-max-height" class="noxref"><span
                class="propinst-max-height">『max-height』</span></a>
        に負の値を指定することは禁止されています。
    </p>

    <p>CSS 2.2では、テーブル、インラインテーブル、テーブルセル、テーブル行、および行グループにおける『min-height』および『max-height』の効果は未定義です。</p>

    <p>以下のアルゴリズムは、これらの2つのプロパティが<a href="visudet.html#propdef-height" class="noxref"><span
                class="propinst-height">『height』</span></a>
        プロパティの<a href="cascade.html#computed-value">使用値</a>にどのように影響を与えるかを説明しています:</p>

    <ol>
        <li>暫定的な使用高さは、上記の<a href="#Computing_heights_and_margins">「高さとマージンの計算」</a>のルールに従って
            （<a href="visudet.html#propdef-min-height" class="noxref"><span
                    class="propinst-min-height">『min-height』</span></a>
            および<a href="visudet.html#propdef-max-height" class="noxref"><span
                    class="propinst-max-height">『max-height』</span></a>
            を考慮せずに）計算されます。
        </li>
        <li>暫定的な高さが<a href="visudet.html#propdef-max-height" class="noxref"><span
                    class="propinst-max-height">『max-height』</span></a>
            を超える場合、上記のルールが再度適用されますが、この場合『max-height』の値を『height』の計算値として使用します。
        </li>
        <li>結果の高さが<a href="visudet.html#propdef-min-height" class="noxref"><span
                    class="propinst-min-height">『min-height』</span></a>
            より小さい場合、上記のルールが再度適用されますが、この場合『min-height』の値を『height』の計算値として使用します。
        </li>
    </ol>

    <p class="note">これらのステップは<a href="visudet.html#propdef-height" class="noxref"><span
                class="propinst-height">『height』</span></a>
        の実際の計算値には影響を与えません。その結果、例えば、計算値に依存するマージン折りたたみには影響を与えません。
    </p>

    <p>ただし、<a href="visudet.html#propdef-width" class="noxref"><span class="propinst-width">『width』</span></a>
        および<a href="visudet.html#propdef-height" class="noxref"><span class="propinst-height">『height』</span></a>
        の両方が『auto』に計算される置換要素の場合、使用幅と使用高さを見つけるために
        <a href="#min-max-widths">「最小幅と最大幅」</a>のセクションのアルゴリズムを使用します。
        次に、それらを計算値として使用するかのように、
        <a href="#Computing_heights_and_margins">「高さとマージンの計算」</a>のルールを適用します。
    </p>
    <h2>10.8 <a name="line-height">行の高さの計算</a>: <a href="visudet.html#propdef-line-height" class="noxref"><span
                class="propinst-line-height">『line-height』</span></a>および<a href="visudet.html#propdef-vertical-align"
            class="noxref"><span class="propinst-vertical-align">『vertical-align』</span></a>
        プロパティ</h2>

    <p><a href="visuren.html#inline-formatting">インラインフォーマットコンテキスト</a>のセクションで説明されているように、
        ユーザーエージェントはインラインレベルボックスを<a href="visuren.html#line-box">行ボックス</a>の垂直スタックに流し込みます。
        行ボックスの高さは次のように決定されます:</p>

    <ol>
        <li>行ボックス内の各インラインレベルボックスの高さを計算します。

            置換要素、インラインブロック要素、およびインラインテーブル要素の場合、これはそれらのマージンボックスの高さです。
            インラインボックスの場合、これはそれらの『line-height』です。

            （<a href="#Computing_heights_and_margins">「高さとマージンの計算」</a>および<a href="#inline-box-height">インラインボックスの高さ</a>を
            <a href="#leading">「行間と半行間」</a>内で参照してください。）

        </li>
        <li>インラインレベルボックスはその<a href="visudet.html#propdef-vertical-align" class="noxref"><span
                    class="propinst-vertical-align">『vertical-align』</span></a>プロパティに従って垂直方向に整列されます。

            『top』または『bottom』に整列される場合、それらは行ボックスの高さを最小化するように整列される必要があります。
            これらのボックスが十分に高い場合、複数の解が存在し、CSS 2.2では行ボックスのベースライン
            （つまり、<a href="#strut">支柱</a>の位置、以下を参照）の位置を定義していません。
        </li>
        <li>行ボックスの高さは、最上部のボックストップから最下部のボックスボトムまでの距離です。
            （これは、以下で説明する<a href="#strut">支柱</a>を含みます。）
        </li>
    </ol>

    <p>空のインライン要素は空のインラインボックスを生成しますが、これらのボックスにはマージン、パディング、ボーダー、および行の高さがあり、
        コンテンツを持つ要素と同様にこれらの計算に影響を与えます。
    </p>

    <h3>10.8.1 <a name="leading">行間と半行間</a></h3>

    <p>CSSは、すべてのフォントがベースライン上に特徴的な高さとその下に深さを指定するフォントメトリクスを持つことを前提としています。
        このセクションでは、<var>A</var>をその高さ（特定のフォントとサイズにおける）、
        <var>D</var>をその深さとし、<var>AD</var> = <var>A</var> + <var>D</var>、つまり上から下までの距離を定義します。
        （<a href="#sTypoAscender">TrueTypeおよびOpenTypeフォントにおける<var>A</var>および<var>D</var>の見つけ方</a>については、以下の注意を参照してください。）
        これらはフォント全体のメトリクスであり、特定のグリフのアセンダーやディセンダーに対応する必要はありません。
    </p>

    <p>ユーザーエージェントは、非置換インラインボックス内のグリフを、関連するベースラインで互いに整列させる必要があります。
        次に、各グリフについて<var>A</var>および<var>D</var>を決定します。
        単一の要素内のグリフは異なるフォントから来る場合があり、すべてが同じ<var>A</var>および<var>D</var>を持つ必要はありません。
        インラインボックスにグリフがまったく含まれていない場合、これは<a href="#strut">支柱</a>
        （幅ゼロの不可視グリフ）を含むと見なされ、その支柱は要素の最初の利用可能なフォントの<var>A</var>および<var>D</var>を持ちます。
    </p>

    <p>さらに各グリフについて、追加する行間<var>L</var>を決定します。
        ここで、<var>L</var> = <a href="visudet.html#propdef-line-height" class="noxref"><span
                class="propinst-line-height">『line-height』</span></a> - <var>AD</var>です。
        半分の行間が<var>A</var>の上に、もう半分が<var>D</var>の下に追加され、それによりグリフとその行間の合計高さは
        ベースラインの上で<var>A'</var> = <var>A</var> + <var>L</var>/2、
        合計深さは<var>D'</var> = <var>D</var> + <var>L</var>/2となります。
    </p>

    <p class=note><strong>注意。</strong> <var>L</var>は負になる場合があります。</p>

    <p id="inline-box-height">インラインボックスの高さは、すべてのグリフとその両側の半行間を囲むため、正確に『line-height』になります。
        子要素のボックスはこの高さに影響を与えません。
    </p>

    <p>非置換要素のマージン、ボーダー、およびパディングは行ボックスの計算には影響しませんが、それでもインラインボックスの周りに表示されます。
        これは、<a href="visudet.html#propdef-line-height" class="noxref"><span
                class="propinst-line-height">『line-height』</span></a>
        で指定された高さが含まれるボックスのコンテンツの高さよりも小さい場合、パディングとボーダーの背景や色が隣接する行ボックスに
        「はみ出す」可能性があることを意味します。
        ユーザーエージェントは文書の順序でボックスをレンダリングする必要があります。
        これにより、後続の行のボーダーが前の行のボーダーやテキストの上に描画されることになります。
    </p>

    <p class=note><em><strong>注意。</strong> CSS&nbsp;2.2はインラインボックスのコンテンツ領域が何であるかを定義していません（上記の<a
                href="#inline-non-replaced">10.6.1</a>を参照）。
            したがって、異なるユーザーエージェントが背景やボーダーを異なる場所に描画する可能性があります。</em></p>

    <p id=sTypoAscender class=note><em><strong>注意。</strong> OpenTypeまたはTrueTypeフォントを使用する実装では、
            フォントのOS/2テーブルのメトリクス「sTypoAscender」および「sTypoDescender」をAおよびDとして使用することを推奨します
            （現在の要素のフォントサイズにスケーリングした後）。
            これらのメトリクスがない場合、HHEAテーブルの「Ascent」および「Descent」メトリクスを使用するべきです。</em></p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x17"><span class="index-def" title="'line-height'"><dfn
                                id="propdef-line-height">line-height</dfn></span></a>
            <tr>
                <th>値:
                <td>normal | <a href="syndata.html#value-def-number" class="noxref"><span
                            class="value-inst-number">&lt;number&gt;</span></a> | <a
                        href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>normal
            <tr>
                <th>適用対象:
                <td>すべての要素
            <tr>
                <th>継承:
                <td>yes
            <tr>
                <th>パーセンテージ:
                <td>要素自体のフォントサイズに基づきます
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a>および
                    <a href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a>の場合は絶対値、それ以外の場合は指定された値
    </table>

    <p><a href="visuren.html#block-boxes">ブロックコンテナ要素</a>で内容が<a
            href="visuren.html#inline-level">インラインレベル</a>の要素で構成されている場合、'line-height'は要素内の行ボックスの<em>最小</em>の高さを指定します。最小の高さは、ベースラインの上の最小高さとその下の最小深さから構成されます。これは、各行ボックスが<a
            name="strut">要素のフォントと行高さプロパティを持つ幅ゼロのインラインボックス</a>で始まるかのように扱われます。この仮想ボックスを「ストラット」と呼びます（名前はTeXに由来します）。
    </p>

    <p>フォントのベースライン上および下の高さと深さは、フォントに含まれるメトリクスであると想定されます。（詳細についてはCSSレベル3を参照してください。）

    <p>非置換の<a href="visuren.html#inline-boxes">インライン</a>要素では、'line-height'は行ボックスの高さ計算に使用される高さを指定します。
    </p>
    <p>このプロパティの値には以下の意味があります:</p>

    <dl>
        <dt><strong>normal</strong></dt>
        <dd>ユーザーエージェントに、要素のフォントに基づいて「適切な」値を使用するよう指示します。この値は、<span class="index-inst" title="&lt;number&gt;"><a
                    name="x18" href="syndata.html#value-def-number" class="noxref"><span
                        class="value-inst-number">&lt;number&gt;</span></a></span>と同じ意味を持ちます。'normal'の使用値として1.0から1.2の間を推奨します。<a
                href="cascade.html#computed-value">計算値</a>は 'normal' です。
        </dd>
        <dt><span class="index-inst" title="&lt;length&gt;"><a name="x19" href="syndata.html#value-def-length"
                    class="noxref"><span class="value-inst-length"><strong>&lt;length&gt;</strong></span></a></span>
        </dt>
        <dd>指定された長さが行ボックスの高さ計算に使用されます。負の値は不正です。
        </dd>
        <dt><span class="index-inst" title="&lt;number&gt;"><a name="x20" href="syndata.html#value-def-number"
                    class="noxref"><span class="value-inst-number"><strong>&lt;number&gt;</strong></span></a></span>
        </dt>
        <dd>プロパティの使用値は、この数値に要素のフォントサイズを掛けたものです。負の値は不正です。<a href="cascade.html#computed-value">計算値</a>は指定された値と同じです。
        </dd>
        <dt><span class="index-inst" title="&lt;percentage&gt;"><a name="x21" href="syndata.html#value-def-percentage"
                    class="noxref"><span
                        class="value-inst-percentage"><strong>&lt;percentage&gt;</strong></span></a></span></dt>
        <dd>プロパティの<a href="cascade.html#computed-value">計算値</a>は、このパーセンテージに要素の計算フォントサイズを掛けたものです。負の値は不正です。
        </dd>
    </dl>

    <div class="example">
        <P style="display:none">例:</P>
        <p>
            以下の例の3つのルールは、同じ結果の行高さを持ちます:
        </p>
        <pre>
div { line-height: 1.2; font-size: 10pt }     /* 数値 */
div { line-height: 1.2em; font-size: 10pt }   /* 長さ */
div { line-height: 120%; font-size: 10pt }    /* パーセンテージ */
</pre>
    </div>

    <p>要素が複数のフォントでレンダリングされる場合、ユーザーエージェントは最大のフォントサイズに基づいて 'normal' の<a href="visudet.html#propdef-line-height"
            class="noxref"><span class="propinst-line-height">'line-height'</span></a>値を決定することがあります。
    </p>
    <p class=note><em><strong>注記。</strong> すべてのインラインボックスが同じフォントであり、置換要素やインラインブロック要素などがない場合、<a
                href="visudet.html#propdef-line-height" class="noxref"><span
                    class="propinst-line-height">'line-height'</span></a>の値が順次の行のベースラインの間隔を正確に保証します。これは、異なるフォントで列を揃える必要がある場合（例:
            テーブル）に重要です。</em>
    </p>
    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x22"><span class="index-def" title="'vertical-align'"><dfn
                                id="propdef-vertical-align">vertical-align</dfn></span></a>
            <tr>
                <th>値:
                <td>baseline | sub | super | top | text-top | middle | bottom | text-bottom | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | <a
                        href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>baseline
            <tr>
                <th>適用対象:
                <td>インラインレベルおよび 'table-cell' 要素
            <tr>
                <th>継承:
                <td>いいえ
            <tr>
                <th>パーセンテージ:
                <td>要素自体の 'line-height' を参照
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">視覚</a>
            <tr>
                <th>計算値:
                <td><a href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> および <a
                        href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> の場合は絶対長、それ以外の場合は指定された値
    </table>

    <p>このプロパティは、インラインレベル要素によって生成されるボックスの行ボックス内の垂直位置に影響を与えます。</p>

    <div class="note">
        <p>
            <em><strong>注記。</strong> このプロパティの値は、テーブルの文脈では異なる意味を持ちます。詳細は<a
                    href="tables.html#height-layout">テーブルの高さアルゴリズム</a>のセクションを参照してください。
            </em>
        </p>
    </div>

    <p>以下の値は、親インライン要素または親ブロックコンテナ要素の<a href="#strut">ストラット</a>に関連してのみ意味を持ちます。

    <p>以下の定義では、インライン非置換要素の場合、整列に使用されるボックスは 'line-height' の高さを持つボックス（ボックスのグリフと各側の半リーディングを含む、<a
            href="#inline-box-height">上記</a>を参照）です。それ以外の要素では、整列に使用されるボックスはマージンボックスです。

    <dl>
        <dt><strong>baseline</strong></dt>
        <dd>ボックスのベースラインを親ボックスのベースラインに揃えます。ボックスにベースラインがない場合は、親のベースラインにボックスの下端マージンを揃えます。</dd>
        <dt><strong>middle</strong></dt>
        <dd>ボックスの垂直中央を親ボックスのベースラインプラス親のx高さの半分に揃えます。</dd>
        <dt><strong>sub</strong></dt>
        <dd>ボックスのベースラインを親ボックスの下付き文字の適切な位置に下げます。（この値は要素のテキストのフォントサイズには影響を与えません。）</dd>
        <dt><strong>super</strong></dt>
        <dd>ボックスのベースラインを親ボックスの上付き文字の適切な位置に上げます。（この値は要素のテキストのフォントサイズには影響を与えません。）</dd>
        <dt><strong>text-top</strong></dt>
        <dd>ボックスの上端を親の内容領域の上端に揃えます（<a href="#inline-non-replaced">10.6.1</a>を参照）。</dd>
        <dt><strong>text-bottom</strong></dt>
        <dd>ボックスの下端を親の内容領域の下端に揃えます（<a href="#inline-non-replaced">10.6.1</a>を参照）。</dd>
        <dt><span class="index-inst" title="&lt;percentage&gt;"><a name="x23" href="syndata.html#value-def-percentage"
                    class="noxref"><span
                        class="value-inst-percentage"><strong>&lt;percentage&gt;</strong></span></a></span></dt>
        <dd>ボックスをこの距離だけ上下に移動します（<a href="visudet.html#propdef-line-height" class="noxref"><span
                    class="propinst-line-height">'line-height'</span></a>値のパーセンテージ）。値 '0%' は 'baseline' と同じ意味です。</dd>
        <dt><span class="index-inst" title="&lt;length&gt;"><a name="x24" href="syndata.html#value-def-length"
                    class="noxref"><span class="value-inst-length"><strong>&lt;length&gt;</strong></span></a></span>
        </dt>
        <dd>ボックスをこの距離だけ上下に移動します。値 '0cm' は 'baseline' と同じ意味です。
        </dd>
    </dl>
    <p>以下の値は、行ボックスに対して要素を整列させます。要素にはそれに対して整列された子孫が含まれる場合があるため（その子孫にも整列された子孫が含まれることがあります）、これらの値は整列されたサブツリーの境界を使用します。インライン要素の<dfn>整列されたサブツリー</dfn>には、その要素と
        'top' または 'bottom' 以外の計算 'vertical-align'
        値を持つすべての子孫インライン要素の整列されたサブツリーが含まれます。整列されたサブツリーの上端はサブツリー内のボックスの上端の中で最も高いものであり、下端はそれに対応します。
    <dl>
        <dt><strong>top</strong></dt>
        <dd>整列されたサブツリーの上端を行ボックスの上端に揃えます。</dd>
        <dt><strong>bottom</strong></dt>
        <dd>整列されたサブツリーの下端を行ボックスの下端に揃えます。</dd>
    </dl>

    <p>'inline-table' のベースラインは、テーブルの最初の行のベースラインです。
    </p>
    <p>'inline-block' のベースラインは、通常のフロー内の最後の行ボックスのベースラインですが、インフロー行ボックスがない場合、または 'overflow' プロパティの計算値が 'visible'
        以外の場合、ベースラインは下端マージンエッジになります。</p>
    <hr class="navbar">

    <div class="navbar">
        <p><a href="visuren.html">前</a> &nbsp;
            <a href="visufx.html">次</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
</body>

</html>