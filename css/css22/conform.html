<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja-JP">

<HEAD>
    <TITLE>適合性：要件および推奨事項</TITLE>
    <link rel="stylesheet" href="https://www.w3.org/TR/CSS22/style/default.css" type="text/css">
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
    <link rel="prev" href="intro.html">
    <link rel="next" href="syndata.html">
    <link rel="contents" href="index.html#minitoc">
    <link rel="CSS-properties" href="propidx.html" title="properties">
    <link rel="index" href="indexlist.html" title="index">
    <link rel="first" href="index.html">
    <script type="text/javascript" src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


</HEAD>

<BODY>
    <div class="navbar">
        <p><a href="intro.html">前へ</a> &nbsp;
            <a href="syndata.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ一覧</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <hr class="navbar">

    <H1><a name="q0">3 適合性：要件および推奨事項</a></H1>
    <div id="toc" class="subtoc">
        <p><strong>目次</strong>
        <ul class="toc">
            <li><a href="conform.html#defs" class="tocxref">3.1 定義</a>
            <li><a href="conform.html#conformance" class="tocxref">3.2 UA適合性</a>
            <li><a href="conform.html#errors" class="tocxref">3.3 エラー状態</a>
            <li><a href="conform.html#text-css" class="tocxref">3.4 <span class="index-def" title="text/css">text/css
                        コンテンツタイプ</span></a>
        </ul>
    </div>


    <H2>3.1 <a name="defs">定義</a></H2>

    <P>この文書内のキーワード <a name="x0"><span class="index-def" title="MUST">"MUST"</span></a>,
        <a name="x1"><span class="index-def" title="MUST NOT">"MUST NOT"</span></a>, <a name="x2"><span
                class="index-def" title="REQUIRED">"REQUIRED"</span></a>, <a name="x3"><span class="index-def"
                title="SHALL">"SHALL"</span></a>, <a name="x4"><span class="index-def" title="SHALL NOT">"SHALL
                NOT"</span></a>, <a name="x5"><span class="index-def" title="SHOULD">"SHOULD"</span></a>, <a
            name="x6"><span class="index-def" title="SHOULD NOT">"SHOULD NOT"</span></a>, <a name="x7"><span
                class="index-def" title="RECOMMENDED">"RECOMMENDED"</span></a>, <a name="x8"><span class="index-def"
                title="MAY">"MAY"</span></a>, および <a name="x9"><span class="index-def"
                title="OPTIONAL">"OPTIONAL"</span></a> は RFC&nbsp;2119（<a href="refs.html#ref-RFC2119" rel="biblioentry"
            class="noxref"><span class="normref">[RFC2119]</span></a>）で説明されている通りに解釈されます。
        ただし、可読性のため、これらの単語は本仕様書ではすべて大文字では記載されません。

    <P>本仕様では、著者やユーザーエージェントに対する良い運用方法を推奨することがあります。これらの推奨は規範的ではなく、本仕様への適合は実現の有無に依存しません。推奨には「推奨します」「本仕様は推奨します」などの表現が含まれます。
    </P>

    <P>機能が非推奨（例えば<a href="aural.html#aural-media-group">'aural'</a>キーワード）またはCSS3で非推奨予定（例えば<a
            href="ui.html#system-colors">システム色</a>）とマークされていることは、適合性に影響しません。（例：'aural'は非規範的なので、UAはサポート不要です。システム色は規範的なので、UAはサポートが必要です。）

    <p>本仕様のすべてのセクション（付録を含む）は特に明記されていない限り規範的です。

    <p><a href="about.html#notes-and-examples">例や注釈</a>は規範的ではありません。

    <div class=example>
        <P style="display:none">例：</P>
        <p>例は通常、冒頭付近に「例」などの語が含まれており（"Example:"、"The following example…," "For example," など）、この段落のように色付き背景で表示されます。</p>
    </div>

    <div class=note>
        <p>注釈は「注：」で始まり、インデントされて緑色で表示されます（この段落のようになります）。</p>
    </div>

    <p>図は説明のみを目的としています。明示的に記載されていない限り、参照レンダリングではありません。

    <dl>



        <dt><strong><span class="index-def" title="style
sheet"><a name="style-sheet">スタイルシート</a></span></strong>

        <dd>文書の提示方法を指定する一連の記述。

            <P>スタイルシートには、<a href="#author">著者</a>、<a href="#user">ユーザー</a>、<a
                    href="#user-agent">ユーザーエージェント</a>の3つの起源があります。これらの起源の相互作用については<a
                    href="cascade.html">カスケードと継承</a>のセクションで説明します。

        <dt><strong><span class="index-def" title="valid style
sheet|validity"><a name="valid-style-sheet">有効なスタイルシート</a></span></strong>

        <dd>スタイルシートの有効性はCSSのレベルによって決まります。すべての有効なCSS1スタイルシートはCSS&nbsp;2.2スタイルシートとしても有効ですが、CSS1からの変更により一部のCSS1スタイルシートはCSS&nbsp;2.2で意味が若干異なる場合があります。CSS2の一部機能はCSS&nbsp;2.2には含まれていないため、すべてのCSS2スタイルシートがCSS&nbsp;2.2として有効とは限りません。

            <P>有効なCSS&nbsp;2.2スタイルシートは<a
                    href="grammar.html">CSS&nbsp;2.2の文法</a>に従って記述する必要があります。さらに、この仕様で定義されるat規則、プロパティ名、プロパティ値のみを含む必要があります。
                <span class="index-def"><strong><a
                            name="illegal">不正</a></strong></span>（無効）なat規則、プロパティ名、プロパティ値は有効ではありません。

        <dt><strong><span class="index-def" title="source
document"><a name="source-document">ソース文書</a></span></strong>

        <dd>1つ以上のスタイルシートが適用される文書。これは、要素のツリーとして文書を表現する言語でエンコードされます。各要素は、要素の型を識別する名前、オプションで複数の<a
                href="#attribute">属性</a>、および（空の場合もある）<a href="#content">内容</a>から構成されます。たとえば、ソース文書はXMLやSGMLインスタンスです。</dd>

        <dt><strong><span class="index-def" title="document language"><a name="doclanguage">文書言語</a></span></strong>

        <dd>ソース文書のエンコード言語（例：HTML、XHTML、SVG）。CSSは文書言語の提示方法を記述するために使われ、CSSは文書言語の根本的な意味には影響しません。

        <dt><strong><span class="index-def" title="element"><a name="element">要素</a></span></strong>

        <dd>（SGML用語。<a href="refs.html#ref-ISO8879" rel="biblioentry" class="noxref"><span
                    class="normref">[ISO8879]</span></a>参照。）文書言語の主要な構文構成要素。ほとんどのCSSスタイルシート規則は、これらの要素名（HTMLならP, TABLE,
            OLなど）を使い、要素のレンダリング方法を指定します。

        <dt><strong><span class="index-def" title="replaced element">
                    <a name="replaced-element">置換要素</a></span></strong>

        <dd>
            <p>内容がCSS整形モデルの範囲外となる要素（画像、埋め込み文書、アプレットなど）。例えば、HTMLのIMG要素の内容はしばしばその"src"属性で指定される画像に置換されます。置換要素は通常、固有の寸法（固有幅、固有高さ、固有比率）を持っています。たとえば、ビットマップ画像は絶対単位で固有の幅と高さを持ちます（そこから固有比率も明確に決まります）。一方、他の文書は固有寸法を持たない場合もあります（例：空のHTML文書）。

            <p>ユーザーエージェントは、第三者に機密情報が漏れる可能性があると判断した場合、置換要素に固有寸法がないものとみなす場合があります。例えば、HTML文書がユーザーの銀行残高によって固有サイズが変化する場合、UAはそのリソースに固有寸法がないかのように扱うことがあります。

            <p>置換要素の内容はCSSレンダリングモデルでは考慮されません。

        <dt><strong><span class="index-def" title="intrinsic
dimensions"><a name="intrinsic">固有寸法</a></span></strong>

        <dd>要素自身によって定義される幅と高さ。周囲によって強制されるものではありません。CSSは固有寸法の取得方法を定義しません。CSS&nbsp;2.2では置換要素のみが固有寸法を持つことができます。
            信頼できる解像度情報がないラスター画像については、画像ソースピクセルごとに1px単位のサイズとみなす必要があります。

        <dt><strong><span class="index-def" title="attribute"><a name="attribute">属性</a></span></strong>

        <dd>要素に付随する値で、名前と関連する（テキスト）値から成ります。

        <dt><strong><span class="index-def" title="content"><a name="content">内容</a></span></strong>

        <dd>ソース文書内の要素に付随する内容。内容のない要素もあり、その場合は<strong><span class="index-def" title="empty"><a
                        name="empty">空要素</a></span></strong>と呼ばれます。要素の内容にはテキストや複数のサブ要素が含まれる場合があり、その場合はその要素が<strong><span
                    class="index-def" title="parent"><a name="parent">親</a></span></strong>になります。

        <dt><strong><span class="index-def" title="ignore"><a name="ignore">無視する</a></span></strong>

        <dd>本仕様でこの用語には2つの意味があります。まず、CSSパーサーはスタイルシート内で未知または不正な構文を発見した場合、特定部分を無視する必要があります。どの部分を無視するかの詳細は（<a
                href="syndata.html#declaration">宣言とプロパティ</a>、<a href="syndata.html#parsing-errors">パースエラーの扱い</a>、<a
                href="syndata.html#unsupported-values">未サポート値</a>）で説明されるか、「無視する」用語が現れる本文中で説明されます。第二に、ユーザーエージェントは（場合によっては必ず）構文が正しくてもスタイルシート内の特定プロパティや値を無視することがあります。例えば、テーブル列要素は列のフォントに影響しないため、フォントプロパティは無視される必要があります。


        <dt><strong><span class="index-def" title="rendered
content|content::rendered"><a name="rendered-content">レンダリングされた内容</a></span></strong>

        <dd>関連するスタイルシートが適用された後の要素の内容。置換要素の内容がどのようにレンダリングされるかは本仕様では定義されていません。レンダリングされた内容には、要素の代替テキスト（例：XHTMLの"alt"属性値）、スタイルシートによって暗黙的または明示的に挿入された項目（箇条書き、番号付けなど）が含まれる場合があります。

        <dt><strong><span class="index-def" title="document tree">
                    <a name="doctree">文書ツリー</a></span></strong>

        <dd>ソース文書でエンコードされた要素のツリー。このツリーの各要素は、<strong><span class="index-def" title="root"><a
                        name="root">ルート</a></span></strong>要素を除き、必ず1つの親を持ちます。

        <dt><strong><span class="index-def" title="child"><a name="child">子</a></span></strong>

        <dd>要素Aが要素Bの親である場合に限り、AはBの子と呼ばれます。

        <dt><strong><span class="index-def" title="descendant"><a name="descendant">子孫</a></span></strong>

        <dd>要素Aが要素Bの子、または要素CがBの子孫でかつAがCの子である場合、AはBの子孫と呼ばれます。

        <dt><strong><span class="index-def" title="ancestor"><a name="ancestor">祖先</a></span></strong>

        <dd>要素BがAの子孫の場合に限り、AはBの祖先と呼ばれます。

        <dt><strong><span class="index-def" title="sibling"><a name="sibling">兄弟</a></span></strong>

        <dd>BとAが同じ親要素を持つ場合に限り、AはBの兄弟と呼ばれます。Aが文書ツリー内でBより前に現れれば前兄弟、BがAより後に現れれば後兄弟です。

        <dt><strong><span class="index-def" title="preceding
element|element::preceding"><a name="preceding">前要素</a></span></strong>

        <dd>AがBの祖先であるか、AがBの前兄弟である場合に限り、AはBの前要素と呼ばれます。

        <dt><strong><span class="index-def" title="following
element|element::following"><a name="following">後要素</a></span></strong>

        <dd>BがAの前要素である場合に限り、AはBの後要素と呼ばれます。

        <dt><strong><span class="index-def"><a name="author">著者</a></span></strong>

        <dd>著者とは文書とそれに付随するスタイルシートを書く人です。
            <strong><span class="index-def"><a name="authoring">オーサリングツール</a></span></strong>は、スタイルシートを生成する<a
                href="#user-agent">ユーザーエージェント</a>です。
        </dd>

        <dt><strong><span class="index-def"><a name="user">ユーザー</a></span></strong>

        <dd>ユーザーとは、ユーザーエージェントを使って文書と関連スタイルシートを閲覧・聴取・利用する人です。ユーザーは個人の好みをエンコードしたユーザースタイルシートを提供できる場合もあります。
        </dd>

        <dt><strong><span class="index-def"><a name="user-agent">ユーザーエージェント (UA)</a></span></strong>

        <dd><span class="index-def" title="user agent|UA"><a
                    name="ua">ユーザーエージェント</a></span>は、文書言語で書かれた文書を解釈し、本仕様の条件に従い関連スタイルシートを適用するプログラムです。ユーザーエージェントは文書の表示、音声読み上げ、印刷、他フォーマットへの変換などを行うことがあります。
        </dd>

        <DD>HTMLユーザーエージェントは、1つ以上のHTML仕様をサポートするものです。XHTML<a href="refs.html#ref-XHTML" rel="biblioentry"
                class="noxref"><span
                    class="informref">[XHTML]</span></a>のみサポートし、HTMLをサポートしないユーザーエージェントは、本仕様の適合性判断においてHTMLユーザーエージェントとはみなされません。

        <dt><strong><span class="index-def"><a name="property">プロパティ</a></span></strong>

        <dd>CSSは文書のレンダリングを指示する有限個のパラメータ（プロパティ）を定義します。各プロパティには名前（例：'color'、'font'、'border'）と値（例：'red'、'12pt
            Times'、'dotted'）があります。プロパティは特定の文書部分や表示するページに、特異性・カスケード・継承の仕組みにより割り当てられます（<a
                href="cascade.html">プロパティ値の割り当て、カスケード、継承</a>参照）。

    </dl>

    <div class="html example">
        <p>HTMLで記述されたソース文書の例：</p>

        <PRE>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;   
  &lt;TITLE&gt;私のホームページ&lt;/TITLE&gt;
  &lt;BODY&gt;
    &lt;H1&gt;私のホームページ&lt;/H1&gt;
    &lt;P&gt;私のホームページへようこそ！好きな作曲家を紹介します：
    &lt;UL&gt;
      &lt;LI&gt; Elvis Costello
      &lt;LI&gt; Johannes Brahms
      &lt;LI&gt; Georges Brassens
    &lt;/UL&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

        <P>この結果、次のようなツリーになります：</P>

        <div class="figure">
            <P><IMG src="https://www.w3.org/TR/CSS22/images/doctree.png" alt="文書ツリー例"><SPAN
                    class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-doctree"
                        href="https://www.w3.org/TR/CSS22/images/longdesc/doctree-desc.html"
                        title="文書ツリー図の詳細説明">[D]</A></SPAN></p>
        </div>

        <P>HTML
            4の定義によれば、HEAD要素はパース時に推定され、文書ソースに"head"タグがなくても文書ツリーの一部になります。同様に、パーサーはPやLI要素の終了位置もソースに&lt;/p&gt;や&lt;/li&gt;タグがなくても把握します。

        <P>XHTML（および他のXML系言語）で記述された文書は異なり、推定要素はなく、すべての要素に終了タグが必要です。

    </div>



    <h2>3.2 <a name="conformance">UA適合性</a></h2>

    <P>このセクションはCSS&nbsp;2.2仕様への<span class="index-def" title="conformance"><a
                name="conformance-term">適合性</a></span>のみを定義します。今後他のCSSレベルが登場した場合、適合のために異なる機能セットの実装が求められる場合があります。

    <P>一般的に、本仕様への適合を主張するユーザーエージェントは次の要点を順守しなければなりません：</P>

    <ol>

        <li>CSS&nbsp;2.2の<a href="media.html">メディアタイプ</a>の1つ以上を認識できること。

        <li>各ソース文書について、認識したメディアタイプに適した関連スタイルシートをすべて取得しようとすること。すべて取得できない場合（例：ネットワークエラー等）、取得できたスタイルシートのみで文書を表示すること。

        <li>スタイルシートを本仕様に従いパースできること。特に、すべてのat規則、ブロック、宣言、セレクター（<a
                href="grammar.html">CSS&nbsp;2.2の文法</a>参照）を認識できること。サポートするメディアタイプに適用されるプロパティを検出した場合、プロパティ定義に従い値をパースすること。すべての有効な値を受け入れ、無効な値の宣言は<a
                name="x44"><span class="index-inst" title="ignore">無視</span></a>すること。サポートされない<a
                href="media.html">メディアタイプ</a>に適用される規則は<a name="x45"><span class="index-inst"
                    title="ignore">無視</span></a>すること。



        <li><a href="#doctree">文書ツリー</a>内の各要素について、プロパティ定義および<a
                href="cascade.html">カスケードと継承</a>の規則に従ってすべてのプロパティ値を割り当てること。

        <li>ソース文書が代替スタイルシートセット（HTML 4の"alternate"キーワードなど <a href="refs.html#ref-HTML4" rel="biblioentry"
                class="noxref"><span class="informref">[HTML4]</span></a>）を持つ場合、UAはユーザーがどのスタイルシートセットを適用するか選択できるようにすること。

        <li>UAは著者スタイルシートの影響をユーザーがオフにできるようにすること。

    </ol>

    <P>ただし、すべてのユーザーエージェントがすべて順守する必要はありません：</p>

    <ul>

        <li>コンテンツをレンダリングしないでスタイルシートのみを読むアプリケーション（例：CSS&nbsp;2.2バリデーター）は、1～3のみ順守すればよい。

        <li>オーサリングツールは<a href="#valid-style-sheet">有効なスタイルシート</a>のみ出力すればよい。

        <li>スタイルシート付きの文書を<em>レンダリング</em>するユーザーエージェントは、1～6すべてを順守し、各メディア特有の要求に従って文書をレンダリングしなければならない。<a
                href="cascade.html#actual-value">値</a>はユーザーエージェントの都合で近似される場合もある。

    </ul>

    <P>特定デバイスの制限（例：モノクロモニターやページで色を表示できない等）により本仕様の一部を実装できなくても、非適合とはみなされません。</P>

    <p>UAはユーザーがユーザースタイルシートを含むファイルを指定できるようにする必要があります。ファイル指定手段のないデバイス上のUAはこの要件から除外されます。さらにUAは、GUIなど他の手段でユーザーの好みを指定する機能を提供してもよいです。

    <p>CSS&nbsp;2.2はフォームコントロールやフレームにどのプロパティが適用されるか、CSSでそれらをどのようにスタイル指定できるかは定義しません。UAはこれらの要素にCSSプロパティを適用してもよいですが、著者はそのサポートを実験的なものと考えることを推奨します。将来のCSSレベルでさらに定義される可能性があります。


    <h2>3.3 <a name="errors">エラー状態</a></h2>

    <p>本書では全体を通してエラー処理の挙動を規定しています。例えば、<a href="syndata.html#parsing-errors">パースエラーの扱い</a>を参照してください。

    <h2>3.4 <span class="index-def" title="text/css"><a name="text-css">text/css コンテンツタイプ</a></span></h2>

    <p>別ファイルとして存在するCSSスタイルシートは、エンコーディング情報を添えてバイト列としてインターネット経由で送信されます。その伝送構造は<span class="index-def"
            title="message entity"><a name="message-entity"><strong>メッセージエンティティ</strong></a></span>と呼ばれ、RFC 2045およびRFC
        2616（<a href="refs.html#ref-RFC2045" rel="biblioentry" class="noxref"><span
                class="normref">[RFC2045]</span></a>, <a href="refs.html#ref-RFC2616" rel="biblioentry"
            class="noxref"><span class="normref">[RFC2616]</span></a>）で定義されています。content
        typeが"text/css"のメッセージエンティティは独立したCSS文書を表します。"text/css"コンテンツタイプはRFC 2318（<a href="refs.html#ref-2318"
            rel="biblioentry" class="noxref"><span class="normref">[RFC2318]</span></a>）で登録されています。

        <hr class="navbar">

    <div class="navbar">
        <p><a href="intro.html">前へ</a> &nbsp;
            <a href="syndata.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ一覧</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <script src="https://htmlspecs.com/dropdown.js"></script>

</BODY>

</html>