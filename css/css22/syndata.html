<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja-JP">

<head>
    <title>構文と基本データ型</title>
    <link rel="stylesheet" href="https://www.w3.org/TR/CSS22/style/default.css" type="text/css">
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
    <link rel="prev" href="conform.html">
    <link rel="next" href="selector.html">
    <link rel="contents" href="index.html#minitoc">
    <link rel="CSS-properties" href="propidx.html" title="properties">
    <link rel="index" href="indexlist.html" title="index">
    <link rel="first" href="index.html">
    <script type="text/javascript" src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style type="text/css">
        span.colorsquare {
            float: left;
            width: 5em;
            height: 3em;
            text-align: center;
            padding: 1.2em 0 .8em
        }

        span.colorname {
            font-weight: bold
        }

        div.colordiagram {
            width: 25em;
            height: 20em;
            margin: 1em auto;
            font-family: Verdana, sans-serif;
            font-size: 12px
        }

        div.diagramrow {
            height: 5em
        }
    </style>
    <style type="text/css">
        .current,
        .proposed,
        span.delcurrent {
            background: #feb
        }

        ins.proposed,
        span.insproposed {
            background: #bfb
        }

        del.proposed,
        span.delproposed {
            background: #fbb
        }

        span.insproposed {
            text-decoration: underline
        }

        span.delproposed,
        span.delcurrent {
            text-decoration: line-through
        }

        body>del,
        body>ins {
            display: block
        }
    </style>
</head>

<body>
    <div class="navbar">
        <p><a href="conform.html">前のページ</a> &nbsp;
            <a href="selector.html">次のページ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ一覧</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <hr class="navbar">

    <h1><a name="q0">4 構文と基本データ型</a></h1>
    <div id="toc" class="subtoc">
        <p><strong>目次</strong>
        <ul class="toc">
            <li><a href="syndata.html#syntax" class="tocxref">4.1 構文</a>
                <ul class="toc">
                    <li><a href="syndata.html#tokenization" class="tocxref">4.1.1 トークン化</a>
                    <li><a href="syndata.html#keywords" class="tocxref">4.1.2 キーワード</a>
                        <ul class="toc">
                            <li><a href="syndata.html#vendor-keywords" class="tocxref">4.1.2.1 ベンダー固有拡張</a>
                            <li><a href="syndata.html#vendor-keyword-history" class="tocxref">4.1.2.2 参考 歴史的注記</a>
                        </ul>
                    <li><a href="syndata.html#characters" class="tocxref">4.1.3 文字と大文字小文字</a>
                    <li><a href="syndata.html#statements" class="tocxref">4.1.4 ステートメント</a>
                    <li><a href="syndata.html#at-rules" class="tocxref">4.1.5 <span class="index-def" title="at-rule">
                                At規則</span></a>
                    <li><a href="syndata.html#block" class="tocxref">4.1.6 ブロック</a>
                    <li><a href="syndata.html#rule-sets" class="tocxref">4.1.7 規則セット、宣言ブロック、およびセレクター</a>
                    <li><a href="syndata.html#declaration" class="tocxref">4.1.8 宣言とプロパティ</a>
                    <li><a href="syndata.html#comments" class="tocxref">4.1.9 コメント</a>
                </ul>
            <li><a href="syndata.html#parsing-errors" class="tocxref">4.2 パースエラー処理規則</a>
            <li><a href="syndata.html#values" class="tocxref">4.3 値</a>
                <ul class="toc">
                    <li><a href="syndata.html#numbers" class="tocxref">4.3.1 整数と実数</a>
                    <li><a href="syndata.html#length-units" class="tocxref">4.3.2 長さ</a>
                    <li><a href="syndata.html#percentage-units" class="tocxref">4.3.3 パーセンテージ</a>
                    <li><a href="syndata.html#uri" class="tocxref">4.3.4 URLとURI</a>
                    <li><a href="syndata.html#counter" class="tocxref">4.3.5 カウンター</a>
                    <li><a href="syndata.html#color-units" class="tocxref">4.3.6 色</a>
                    <li><a href="syndata.html#strings" class="tocxref">4.3.7 文字列</a>
                    <li><a href="syndata.html#unsupported-values" class="tocxref">4.3.8 未サポート値</a>
                </ul>
            <li><a href="syndata.html#charset" class="tocxref">4.4 CSSスタイルシート表現</a>
                <ul class="toc">
                    <li><a href="syndata.html#escaping" class="tocxref">4.4.1 文字エンコーディングで表現できない文字の参照</a>
                </ul>
        </ul>
    </div>

    <h2>4.1 <a name="syntax">構文</a></h2>

    <p>このセクションでは、あらゆるCSSレベル（CSS&nbsp;2.2を含む）に共通する文法（および<a name="x0"><span class="index-def"
                title="forward-compatible parsing"><dfn>前方互換性のあるパース</dfn></span></a>規則）について説明します。将来のCSSのアップデートもこの基本構文に準拠しますが、追加の構文制約が加えられる場合があります。
    </p>
    <p>これらの説明は規範的です。また、<a href="grammar.html">付録G</a>で示される規範的な文法規則によって補完されます。
    </p>
    <p>本仕様書では、「直前」や「直後」という表現は、間に空白やコメントが一切入らないことを意味します。

    <h3>4.1.1 <a name="tokenization">トークン化</a></h3>

    <p>CSSのすべてのレベル（レベル1、レベル2、将来のレベル）は、同じ基本構文を使用します。これにより、ユーザーエージェントは作成時点で存在しなかったCSSのレベルで記述されたスタイルシートもパース（完全には理解できなくても）できます。デザイナーはこの機能を利用して、古いユーザーエージェントでも動作し、かつ最新CSSの機能を活用するスタイルシートを作成できます。
    </p>
    <p>字句レベルでは、CSSスタイルシートはトークンの並びから構成されます。CSSのトークン一覧は以下の通りです。定義にはLex形式の正規表現を使用しています。8進コードはISO 10646(<a
            href="refs.html#ref-ISO10646" rel="biblioentry" class="noxref"><span
                class="normref">[ISO10646]</span></a>)を参照します。Lexと同様、複数一致した場合は最長一致がトークンになります。
    </p>
    <table>
        <thead>
            <tr>
                <th>トークン </th>
                <th>定義</th>
            </tr>
        </thead>
        <tr>
            <td>IDENT </td>
            <td><code><var>{ident}</var></code></td>
        </tr>
        <tr>
            <td>ATKEYWORD </td>
            <td><code>@<var>{ident}</var></code></td>
        </tr>
        <tr>
            <td>STRING </td>
            <td><code><var>{string}</var></code></td>
        </tr>
        <tr>
            <td>BAD_STRING </td>
            <td><code><var>{badstring}</var></code></td>
        </tr>
        <tr>
            <td>BAD_URI </td>
            <td><code><var>{baduri}</var></code></td>
        </tr>
        <tr>
            <td>BAD_COMMENT </td>
            <td><code><var>{badcomment}</var></code></td>
        </tr>
        <tr>
            <td>HASH </td>
            <td><code>#<var>{name}</var></code></td>
        </tr>
        <tr>
            <td>NUMBER </td>
            <td><code><var>{num}</var></code></td>
        </tr>
        <tr>
            <td>PERCENTAGE </td>
            <td><code><var>{num}</var>%</code></td>
        </tr>
        <tr>
            <td>DIMENSION </td>
            <td><code><var>{num}{ident}</var></code></td>
        </tr>
        <tr>
            <td>URI </td>
            <td><code>{U}{R}{L}\(<var>{w}{string}{w}</var>\)|<br>
			{U}{R}{L}\(<var>{w}</var>([!#$%&amp;*-\[\]-~]|<var>{nonascii}</var>|<var>{escape}</var>)*<var>{w}</var>\)</code>
            </td>
        </tr>
        <tr>
            <td>UNICODE-RANGE </td>
            <td><code>u\+[?]{1,6}|<br>
			u\+[0-9a-f]{1}[?]{0,5}|<br>
			u\+[0-9a-f]{2}[?]{0,4}|<br>
			u\+[0-9a-f]{3}[?]{0,3}|<br>
			u\+[0-9a-f]{4}[?]{0,2}|<br>
			u\+[0-9a-f]{5}[?]{0,1}|<br>
			u\+[0-9a-f]{6}|<br>
			u\+[0-9a-f]{1,6}-[0-9a-f]{1,6}</code></td>
        </tr>
        <tr>
            <td>CDO </td>
            <td><code>&lt;!--</code></td>
        </tr>
        <tr>
            <td>CDC </td>
            <td><code>--&gt;</code></td>
        </tr>
        <tr>
            <td>: </td>
            <td><code>:</code></td>
        </tr>
        <tr>
            <td>; </td>
            <td><code>;</code></td>
        </tr>
        <tr>
            <td>{ </td>
            <td><code>\{</code></td>
        </tr>
        <tr>
            <td>} </td>
            <td><code>\}</code></td>
        </tr>
        <tr>
            <td>( </td>
            <td><code>\(</code></td>
        </tr>
        <tr>
            <td>) </td>
            <td><code>\)</code></td>
        </tr>
        <tr>
            <td>[ </td>
            <td><code>\[</code></td>
        </tr>
        <tr>
            <td>] </td>
            <td><code>\]</code></td>
        </tr>
        <tr>
            <td>S </td>
            <td><code>[ \t\r\n\f]+</code></td>
        </tr>
        <tr>
            <td>COMMENT </td>
            <td><code>\/\*[^*]*\*+([^/*][^*]*\*+)*\/</code></td>
        </tr>
        <tr>
            <td>FUNCTION </td>
            <td><code><var>{ident}</var>\(</code></td>
        </tr>
        <tr>
            <td>INCLUDES </td>
            <td><code>~=</code></td>
        </tr>
        <tr>
            <td>DASHMATCH </td>
            <td><code>|=</code></td>
        </tr>
        <tr>
            <td>DELIM </td>
            <td><var>上記の規則に一致しないその他すべての文字。ただし、シングルクォートまたはダブルクォートは除く</var>
            </td>
        </tr>
    </table>

    <p>上記の中括弧（{}）で示したマクロの定義は以下の通りです。
    </p>
    <table>
        <thead>
            <tr>
                <th>マクロ </th>
                <th>定義</th>
            </tr>
        </thead>
        <tr>
            <td>ident </td>
            <td><code>[-]?<var>{nmstart}</var><var>{nmchar}*</var></code></td>
        </tr>
        <tr>
            <td>name </td>
            <td><code><var>{nmchar}+</var></code></td>
        </tr>
        <tr>
            <td>nmstart </td>
            <td><code>[_a-z]|<var>{nonascii}</var>|<var>{escape}</var></code></td>
        </tr>
        <tr>
            <td>nonascii</td>
            <td><code>[^\0-\177]</code></td>
        </tr>
        <tr>
            <td>unicode </td>
            <td><code>\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?</code></td>
        </tr>
        <tr>
            <td>escape </td>
            <td><code><var>{unicode}</var>|\\[^\n\r\f0-9a-f]</code></td>
        </tr>
        <tr>
            <td>nmchar </td>
            <td><code>[_a-z0-9-]|<var>{nonascii}</var>|<var>{escape}</var></code></td>
        </tr>
        <tr>
            <td>num </td>
            <td><code>[+-]?([0-9]+|[0-9]*\.[0-9]+)(e[+-]?[0-9]+)?</code></td>
        </tr>
        <tr>
            <td>string </td>
            <td><code><var>{string1}</var>|<var>{string2}</var></code></td>
        </tr>
        <tr>
            <td>string1 </td>
            <td><code>\"([^\n\r\f\\"]|\\{nl}|<var>{escape}</var>)*\"</code></td>
        </tr>
        <tr>
            <td>string2 </td>
            <td><code>\'([^\n\r\f\\']|\\{nl}|<var>{escape}</var>)*\'</code></td>
        </tr>
        <tr>
            <td>badstring </td>
            <td><code><var>{badstring1}</var>|<var>{badstring2}</var></code></td>
        </tr>
        <tr>
            <td>badstring1 </td>
            <td><code>\"([^\n\r\f\\"]|\\{nl}|<var>{escape}</var>)*\\?</code></td>
        </tr>
        <tr>
            <td>badstring2 </td>
            <td><code>\'([^\n\r\f\\']|\\{nl}|<var>{escape}</var>)*\\?</code></td>
        </tr>
        <tr>
            <td>badcomment </td>
            <td><code><var>{badcomment1}</var>|<var>{badcomment2}</var></code></td>
        </tr>
        <tr>
            <td>badcomment1 </td>
            <td><code>\/\*[^*]*\*+([^/*][^*]*\*+)*</code></td>
        </tr>
        <tr>
            <td>badcomment2 </td>
            <td><code>\/\*[^*]*(\*+[^/*][^*]*)*</code></td>
        </tr>
        <tr>
            <td>baduri </td>
            <td><code><var>{baduri1}</var>|<var>{baduri2}</var>|<var>{baduri3}</var></code></td>
        </tr>
        <tr>
            <td>baduri1 </td>
            <td><code>{U}{R}{L}\(<var>{w}</var>([!#$%&amp;*-~]|<var>{nonascii}</var>|<var>{escape}</var>)*<var>{w}</var></code>
            </td>
        </tr>
        <tr>
            <td>baduri2 </td>
            <td><code>{U}{R}{L}\(<var>{w}</var><var>{string}</var><var>{w}</var></code></td>
        </tr>
        <tr>
            <td>baduri3 </td>
            <td><code>{U}{R}{L}\(<var>{w}</var><var>{badstring}</var></code></td>
        </tr>
        <tr>
            <td>nl </td>
            <td><code>\n|\r\n|\r|\f</code></td>
        </tr>
        <tr>
            <td>w </td>
            <td><code>[ \t\r\n\f]*</code></td>
        </tr>
        <tr>
            <td>L
            <td><code>l|\\0{0,4}(4c|6c)(\r\n|[ \t\r\n\f])?|\\l</code>
        <tr>
            <td>R
            <td><code>r|\\0{0,4}(52|72)(\r\n|[ \t\r\n\f])?|\\r</code>
        <tr>
            <td>U
            <td><code>u|\\0{0,4}(55|75)(\r\n|[ \t\r\n\f])?|\\u</code>
    </table>

    <div class="example">
        <P style="display:none">例：</P>
        <p>例えば、最長一致の規則により"<code>red--&gt;</code>"は、IDENT "<code>red--</code>"とDELIM
            "<code>&gt;</code>"に分割され、IDENTの後にCDCとはなりません。
    </div>

    <p>以下はCSSの基本構文です。続くセクションでその使い方を説明します。<a
            href="grammar.html">付録G</a>では、よりCSSレベル2言語に近い制限された文法を記載しています。付録Gの文法ではパースできない部分は、<a
            href="#parsing-errors">パースエラー処理規則</a>に従い無視される対象となります。
    </p>
    <pre>
stylesheet  : [ CDO | CDC | S | statement ]*;
statement   : ruleset | at-rule;
at-rule     : ATKEYWORD S* any* [ block | ';' S* ];
block       : '{' S* [ any | block | ATKEYWORD S* | ';' S* ]* '}' S*;
ruleset     : selector? '{' S* declaration-list '}' S*;
declaration-list: declaration [ ';' S* declaration-list ]?
              | at-rule declaration-list
              | /* empty */;
selector    : any+;
declaration : property S* ':' S* value;
property    : IDENT;
value       : [ any | block | ATKEYWORD S* ]+;
any         : [ IDENT | NUMBER | PERCENTAGE | DIMENSION | STRING
              | DELIM | URI | HASH | UNICODE-RANGE | INCLUDES
              | DASHMATCH | ':' | FUNCTION S* [any|unused]* ')'
              | '(' S* [any|unused]* ')' | '[' S* [any|unused]* ']'
              ] S*;
unused      : block | ATKEYWORD S* | ';' S* | CDO S* | CDC S*;
</pre>

    <p>「unused」生成式はCSSでは使用されず、将来の拡張でも使用されません。これはエラー処理の助けのためだけに含めています。（<a href="#parsing-errors">4.2「パースエラー処理規則」</a>参照）

    <p><a
            name="comment">COMMENT</a>トークンは文法には現れません（可読性のため）が、他のトークンの外側には任意の数だけ出現可能です。（ただし、@charset規則の前や中にコメントがあると@charsetが無効になります）

    <p>上記文法のSトークンは<a
            name="whitespace">空白</a>を表します。空白に含まれるのは「スペース」（U+0020）、「タブ」（U+0009）、「ラインフィード」（U+000A）、「キャリッジリターン」（U+000D）、「フォームフィード」（U+000C）のみです。"em-space"（U+2003）や"全角スペース"（U+3000）のようなその他の空白類文字は空白に含まれません。
    </p>
    <p>トークン化やパースできない入力の意味はCSS&nbsp;2.2では未定義です。
    </p>

    <h3>4.1.2 <a name="keywords">キーワード</a></h3>

    <p>キーワードは<a href="#value-def-identifier">識別子</a>の形式を持ちます。キーワードは引用符（"..."または'...'）で囲んではいけません。
    </p>
    <pre>
red
</pre>

    <p>これはキーワードですが、
    </p>
    <pre>
"red"
</pre>

    <p>はキーワードではありません（これは<a href="#strings">文字列</a>です）。その他の不正な例：

    <div class="illegal example">
        <pre>
width: "auto";
border: "none";
background: "red";
</pre>
    </div>

    <h4>4.1.2.1 <a name="vendor-keywords">ベンダー固有拡張</a></h4>

    <p>CSSでは、識別子は'<code class="css">-</code>'（ハイフン）や'<code class="css">_</code>'（アンダースコア）で始めることができます。
        <a href="#properties">プロパティ名</a>やキーワードが<code class="css">-</code>や<code
            class="css">_</code>で始まる場合、それはベンダー固有拡張用に予約されています。
        ベンダー固有拡張は次のいずれかの形式であるべきです：
    </p>
    <pre>
'-' + ベンダー識別子 + '-' + 意味のある名前
'_' + ベンダー識別子 + '-' + 意味のある名前
</pre>
    <div class="example">
        <P style="display:none">例：</P>
        <p>例えば、XYZ組織が表示の東側の境界線の色を指定するプロパティを追加する場合、<span class="css">-xyz-border-east-color</span>と名付けるでしょう。
        </p>
        <p>他の既知の例：</p>
        <pre>
-moz-box-sizing
-moz-border-radius
-wap-accesskey
</pre>
    </div>
    <p>先頭のダッシュやアンダースコアは、現行または将来のCSSのプロパティやキーワードで使われることは決してありません。そのため、一般的なCSS実装はこれらのプロパティを認識せず、<a
            href="#parsing-errors">パースエラー処理規則</a>に従い無視することがあります。ただし、先頭のダッシュやアンダースコアは文法の一部なので、CSS&nbsp;2.2実装者はベンダー固有拡張をサポートしなくてもCSS準拠のパーサーを必ず使用できます。
    </p>

    <p>著者はベンダー固有拡張の使用を避けるべきです。</p>

    <h4>4.1.2.2 <a name="vendor-keyword-history">参考 歴史的注記</a></h4>
    <p>このセクションは参考情報です。</p>
    <p>執筆時点で、以下のプレフィックスが存在することが知られています：</p>

    <table border='1'>
        <thead>
            <tr>
                <th>プレフィックス</th>
                <th>組織</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>-ms-</code>, <code>mso-</code></td>
                <td>Microsoft</td>
            </tr>
            <tr>
                <td><code>-moz-</code></td>
                <td>Mozilla</td>
            </tr>
            <tr>
                <td><code>-o-</code>, <code>-xv-</code></td>
                <td>Opera Software</td>
            </tr>
            <tr>
                <td><code>-atsc-</code></td>
                <td>Advanced Television Standards Committee</td>
            </tr>
            <tr>
                <td><code>-wap-</code></td>
                <td>WAPフォーラム</td>
            </tr>
            <tr>
                <td><code>-khtml-</code></td>
                <td>KDE</td>
            </tr>
            <tr>
                <td><code>-webkit-</code></td>
                <td>Apple</td>
            </tr>
            <tr>
                <td><code>prince-</code></td>
                <td>YesLogic</td>
            </tr>
            <tr>
                <td><code>-ah-</code></td>
                <td>Antenna House</td>
            </tr>
            <tr>
                <td><code>-hp-</code></td>
                <td>Hewlett Packard</td>
            </tr>
            <tr>
                <td><code>-ro-</code></td>
                <td>Real Objects</td>
            </tr>
            <tr>
                <td><code>-rim-</code></td>
                <td>Research In Motion</td>
            </tr>
            <tr>
                <td><code>-tc-</code></td>
                <td>TallComponents</td>
            </tr>
        </tbody>
    </table>

    <h3>4.1.3 <a name="characters">文字と大文字小文字</a></h3>
    <p> 以下の規則は常に成立します：</p>

    <ul>
        <li> すべてのCSS構文はASCII範囲内で<a name="x1"><span class="index-inst"
                    title="case
    sensitivity">大文字小文字を区別しません</span></a>（つまり[a-z]と[A-Z]は等価です）。ただしCSSの制御外の部分は除きます。例えば、HTML属性"id"や"class"の値、フォント名、URIなどの大文字小文字区別は本仕様の範囲外です。特に、HTMLでは要素名は大文字小文字を区別しませんが、XMLでは区別します。
        </li>

        <li> CSSでは<span class="index-def" title="identifier|identifier, definition of"><a
                    name="value-def-identifier"><dfn>識別子</dfn></a></span>
            （<a href="selector.html">セレクター</a>内の要素名、クラス、IDなど）は[a-zA-Z0-9]およびISO
            10646のU+0080以上の文字、ハイフン（-）、アンダースコア（_）のみ含むことができます。数字、2つのハイフン、またはハイフン＋数字で始めることはできません。
            識別子はエスケープされた文字や任意のISO 10646文字の数値コードも含むことができます（次項参照）。
            <span class="example">例えば、識別子"B&amp;W?"は"B\&amp;W\?"または"B\26 W\3F"と書けます。</span>
            <p>UnicodeはISO 10646とコード単位で同等です（<a href="refs.html#ref-UNICODE" rel="biblioentry" class="noxref"><span
                        class="normref">[UNICODE]</span></a>と<a href="refs.html#ref-ISO10646" rel="biblioentry"
                    class="noxref"><span class="normref">[ISO10646]</span></a>参照）。
            </p>
        </li>
        <li> CSS&nbsp;2.2では、バックスラッシュ（\）は3種類の<span class="index-def" title="backslash
    escapes"> <a
                    name="escaped-characters">文字エスケープ</a></span>を示します。CSSコメント内ではバックスラッシュはそのまま解釈され、バックスラッシュの直後がスタイルシートの終端の場合もそのまま（DELIMトークン）です。

            <p>まず、<a href="#strings">文字列</a>内では、バックスラッシュの直後が改行の場合は無視されます（文字列にはバックスラッシュも改行も含まれません）。
                文字列以外では、バックスラッシュ＋改行はそのまま（DELIM＋改行）です。

            <p>次に、CSSの特殊文字の意味を打ち消します。
                16進数字、LF、CR、FF以外の任意の文字はバックスラッシュでエスケープして特殊な意味を除去できます。
                例えば<samp>"\""</samp>はダブルクォート1文字の文字列です。スタイルシートのプリプロセッサは、これらのバックスラッシュを削除してはなりません。削除するとスタイルシートの意味が変わります。
            </p>
            <p>さらに、バックスラッシュエスケープで著者が文書に簡単に入力できない文字を参照できます。この場合、バックスラッシュの後に最大6桁の16進数字（0..9A..F）が続きます。これはISO 10646(<a
                    href="refs.html#ref-ISO10646" rel="biblioentry" class="noxref"><span
                        class="normref">[ISO10646]</span></a>)の該当文字を表し、0は不可です。
                （CSS&nbsp;2.2でUnicodeコードポイント0の文字が含まれる場合の動作は未定義です。）
                16進数字の後ろに[0-9a-fA-F]が続く場合、数字の終端を明確にする必要があります。方法は2つあります：
            </p>
            <ol>
                <li>空白（他の空白文字でも可）で区切る："\\26 B"（"&amp;B"）。この場合、"CR/LF"ペア（U+000D/U+000A）は1つの空白として扱うべきです。</li>
                <li>ちょうど6桁の16進数字で指定："\\000026B"（"&amp;B"）</li>
            </ol>

            <p>これらの方法は組み合わせてもかまいません。16進エスケープの後ろの空白は1文字だけ無視されます。つまり、実際の空白をエスケープ後に使いたい場合は空白を2つ続ける必要があります。
            </p>
            <p>数字がUnicodeの許容範囲外（例："\\110000"は現行Unicodeの最大10FFFFより大きい）なら、UAはエスケープを「置換文字」（U+FFFD）に置き換えてもよいです。表示する場合、UAは「missing
                character」グリフなど、目に見える記号を表示すべきです（<a href="fonts.html#algorithm">15.2</a>の5番参照）。
        </li>
        <li class=note>注：バックスラッシュエスケープは常に<a
                href="#value-def-identifier">識別子</a>や文字列の一部とみなされます（"\7B"は記号ではなく、"{"は記号ですが"\7B"はそうではありません。また"\32"はクラス名の先頭に使えますが"2"は不可です）。

            <p>識別子"te\st"は"test"と全く同じ識別子です。
        </li>
    </ul>


    <h3>4.1.4 <a name="statements">ステートメント</a></h3>

    <p> CSSスタイルシート（CSSの任意のレベル）は、<a name="x5"><span class="index-inst"
                title="statements"><em>ステートメント</em></span></a>のリストで構成されます（<a
            href="#tokenization">文法</a>参照）。ステートメントには2種類あります：<a name="x6"><span class="index-inst"
                title="at-rules"><em>at規則</em></span></a>と<a name="x7"><span class="index-inst"
                title="rule sets"><em>規則セット</em></span></a>です。ステートメントの周囲には<a href="#whitespace">空白</a>があってもかまいません。
    </p>

    <h3>4.1.5 <span class="index-def" title="at-rule">
            <a name="at-rules">At規則</a></span></h3>

    <p> At規則は<dfn>atキーワード</dfn>（'@'文字＋直後に<a href="#value-def-identifier">識別子</a>）で始まります（例：'@import', '@page'など）。
    </p>
    <p> At規則は、次のセミコロン（;）または次の<a href="#block">ブロック</a>（どちらか先に現れる方）までが全体となります。
    </p>

    <p>CSS&nbsp;2.2のユーザーエージェントは、<a href="#block">ブロック</a>内や、@charset規則や@import規則以外の無視されないステートメントの後に現れる<a
            href="cascade.html#at-import">'@import'</a>規則は<span class="index-inst" title="ignore"><a name="x9"
                href="#ignore">無視</a></span>しなければなりません。
    </p>

    <div class="illegal example">
        <p>
            例えば、CSS&nbsp;2.2パーサーが次のスタイルシートを検出したとします：
        </p>
        <pre>
@import "subs.css";
h1 { color: blue }
@import "list.css";
</pre>

        <p> 2つ目の'@import'はCSS&nbsp;2.2では不正です。CSS&nbsp;2.2パーサーは、規則全体を<span class="index-inst" title="ignore"><a
                    name="x11" href="#ignore">無視</a></span>し、スタイルシートは実質的に次のようになります：
        </p>
        <pre>
@import "subs.css";
h1 { color: blue }
</pre>
    </div>

    <div class="illegal example">
        <p>
            次の例では、2つ目の'@import'規則は'@media' <a href="#block">ブロック</a>内にあるため無効です。
        </p>
        <pre>
@import "subs.css";
@media print {
  @import "print-main.css";
  body { font-size: 10pt }
}
h1 {color: blue }
</pre>
        <p>この場合、'print'メディア用のスタイルシートだけをインポートしたいなら、@import規則のメディア構文を使ってください。例：
        </p>
        <pre>
@import "subs.css";
@import "print-main.css" print;
@media print {
  body { font-size: 10pt }
}
h1 {color: blue }
</pre>

    </div>

    <h3>4.1.6 <a name="block">ブロック</a></h3>

    <p> <a name="x12"><span class="index-inst"
                title="block"><em>ブロック</em></span></a>は左中括弧（{）で始まり、対応する右中括弧（}）で終わります。その間には任意のトークンが入りますが、丸括弧（()）、角括弧（[]）、中括弧（{}）は必ずペアで現れ、入れ子にできます。シングルクォート（'）とダブルクォート（"）も必ずペアで現れ、その間の文字は<a
            name="x13"><span class="index-inst" title="string">文字列</span></a>としてパースされます。
        文字列の定義は<a href="#tokenization">トークン化</a>参照。
    </p>

    <div class="illegal example">
        <p> 次はブロックの例です。ダブルクォート内の右中括弧はブロックの開始中括弧と対応しておらず、2つ目のシングルクォートは<a
                href="#escaped-characters">エスケープされた文字</a>なので最初のシングルクォートと対応しません：
        </p>
        <pre>
{ causta: "}" + ({7} * '\'') }
</pre>

        <p>この規則はCSS&nbsp;2.2としては有効ではありませんが、上記の定義上はブロックです。
        </p>
    </div>

    <h3>4.1.7 <a name="rule-sets">規則セット・宣言ブロック・セレクター</a></h3>

    <p> 規則セット（「規則」とも呼ぶ）は、セレクターの後に宣言ブロックが続きます。
    </p>
    <p> <a name="x14"><span class="index-def"
                title="declaration block"><dfn>宣言ブロック</dfn></span></a>は左中括弧（{）で始まり、対応する右中括弧（}）で終わります。その間には0個以上の宣言とat規則のリストが入ります。宣言はセミコロン（;）で終わりますが、リストの最後の宣言はセミコロン不要です。
    </p>
    <p class=note>注：CSSレベル2では宣言ブロック内に現れるat規則はありませんが、将来のCSSレベルで定義される可能性があります。</p>
    <p><a name="x15"><span class="index-def" title="selector"><em>セレクター</em></span></a>（<a
            href="selector.html">セレクター</a>も参照）は、最初の左中括弧（{）の直前までのすべてです。セレクターは必ず宣言ブロックとセットになります。ユーザーエージェントがセレクターをパースできない場合（CSS&nbsp;2.2として有効でない場合）、そのセレクターと続く宣言ブロック（あれば）を<span
            class="index-inst" title="ignore"><a name="x16" href="#ignore">無視</a></span>しなければなりません。
    </p>
    <p>CSS&nbsp;2.2ではセレクター中のカンマ（,）に特別な意味がありますが、将来のCSSでカンマに別の意味が付加される可能性があるため、セレクター内にエラーがあればステートメント全体を<span
            class="index-inst" title="ignore"><a name="x17" href="#ignore">無視</a></span>すべきです（CSS&nbsp;2.2の他部分が妥当でも）。
    </p>
    <div class="illegal example">
        <p>例えば、「&amp;」はCSS&nbsp;2.2のセレクターでは有効なトークンではないので、CSS&nbsp;2.2のユーザーエージェントは2行目全体を<span class="index-inst"
                title="ignore"><a name="x18" href="#ignore">無視</a></span>し、H3の色は赤に設定されません：
        </p>
        <pre>
h1, h2 {color: green }
h3, h4 &amp; h5 {color: red }
h6 {color: black }
</pre>
    </div>

    <div class="example">
        <P style="display:none">例：</P>
        <p>もう少し複雑な例です。最初の2つの中括弧ペアは文字列内にあり、セレクターの終端にはなりません。これは有効なCSS&nbsp;2.2規則です。
        </p>
        <pre>
p[example="public class foo\
{\
    private int x;\
\
    foo(int x) {\
        this.x = x;\
    }\
\
}"] { color: red }
</pre>
    </div>

    <h3>4.1.8 <a name="declaration">宣言</a>と<a name="properties">プロパティ</a></h3>

    <p> <a name="x19"><span class="index-def" title="declaration"><dfn>宣言</dfn></span></a>は空か、<a name="x20"><span
                class="index-inst" title="property">プロパティ名</span></a>＋コロン（:）＋プロパティ値で構成されます。これらの間には<a
            href="#whitespace">空白</a>があってもかまいません。
    </p>
    <p>セレクターの仕組みにより、同じセレクターに対して複数の宣言をセミコロン（;）区切りでまとめることができます。</p>

    <div class="example">
        <P style="display:none">例：</P>
        <p>
            例えば次の規則：</p>
        <pre>
h1 { font-weight: bold }
h1 { font-size: 12px }
h1 { line-height: 14px }
h1 { font-family: Helvetica }
h1 { font-variant: normal }
h1 { font-style: normal }
</pre>

        <p>は次のようにまとめられます：</p>

        <pre>
h1 {
  font-weight: bold;
  font-size: 12px;
  line-height: 14px;
  font-family: Helvetica;
  font-variant: normal;
  font-style: normal
}
</pre>
    </div>

    <p>プロパティ名は<a
            href="#value-def-identifier">識別子</a>です。プロパティ値には任意のトークンが使えます。丸括弧（()）、角括弧（[]）、中括弧（{}）、シングルクォート（'）、ダブルクォート（"）はペアで現れ、文字列以外のセミコロンは<a
            href="#escaped-characters">エスケープ</a>してください。括弧は入れ子可。クォート内の文字は文字列としてパースされます。
    </p>
    <p><a name="x21"><span class="index-def"
                title="value">値</span></a>の構文は各プロパティごとに個別に定義されていますが、いずれも識別子・文字列・数値・長さ・パーセンテージ・URI・色などから成ります。
    </p>
    <p>ユーザーエージェントは、プロパティ名や値が無効な宣言を<span class="index-inst" title="ignore"><a name="x22"
                href="#ignore">無視</a></span>しなければなりません。各CSSプロパティは受け入れる値について独自の構文・意味的制約を持っています。
    </p>
    <div class="illegal example">
        <p>
            例えば、CSS&nbsp;2.2パーサーが次のスタイルシートを検出した場合：
        </p>
        <pre>
h1 { color: red; font-style: 12pt }  /* 無効な値: 12pt */
p { color: blue;  font-vendor: any;  /* 無効なプロパティ: font-vendor */
    font-variant: small-caps }
em em { font-style: normal }
</pre>

        <p> 1行目の2つ目の宣言は値'12pt'が無効です。2行目の2つ目の宣言は未定義プロパティ'font-vendor'です。CSS&nbsp;2.2パーサーはこれらの宣言を<span class="index-inst"
                title="ignore"><a name="x23" href="#ignore">無視</a></span>し、実質次のスタイルシートになります：
        </p>
        <pre>
h1 { color: red; }
p { color: blue;  font-variant: small-caps }
em em { font-style: normal }
</pre>
    </div>

    <h3>4.1.9 <a name="comments">コメント</a></h3>

    <p><a name="x24"><span class="index-inst" title="comments">コメント
            </span></a>は"/*"で始まり"*/"で終わります。他のトークンの外側ならどこにでも記述可能で、内容はレンダリングに一切影響しません。コメントの入れ子はできません。
    </p>
    <p>CSSでは、SGMLコメント区切り（"&lt;!--"と"--&gt;"）も文法で定められた特定箇所で許可されていますが、これはCSSコメントの区切りにはなりません。HTMLソース文書（STYLE要素内）にスタイル規則を書く際、HTML
        3.2未満のユーザーエージェントからスタイル規則を隠すために使われます。詳細はHTML 4仕様（<a href="refs.html#ref-HTML4" rel="biblioentry"
            class="noxref"><span class="informref">[HTML4]</span></a>）参照。
    </p>

    <h2>4.2 <a name="parsing-errors">パースエラー処理規則</a></h2>

    <p>不正なスタイルシートの一部はユーザーエージェントが無視しなければならない場合があります。本仕様では、<span class="index-def" title="ignore"><a
                name="ignore"><dfn>無視</dfn></a></span>は、ユーザーエージェントが不正部分をパースして開始と終了を特定するが、それ以外は存在しなかったものとして扱うことを意味します。
        CSS&nbsp;2.2では、ダッシュやアンダースコアで始まらない識別子を含むプロパティ:値の組み合わせや@キーワードは将来のCSS更新用に予約されており、実装は（将来のCSSで導入されない限り）それらの組み合わせを無視しなければなりません。
    </p>


    <p>将来の拡張性のため、ユーザーエージェントは以下の状況に遭遇した場合、次の規則に従う必要があります：</p>

    <ul>
        <li><strong>未知のプロパティ。</strong>ユーザーエージェントは未知のプロパティを含む<a href="syndata.html#declaration">宣言</a>を<span
                class="index-inst" title="ignore"><a name="x26" href="#ignore">無視</a></span>しなければなりません。例えば：
            <pre class="illegal example">
h1 { color: red; rotation: 70minutes }
</pre>

            <p> この場合、ユーザーエージェントは次のように扱います：</p>
            <pre class="example">
h1 { color: red }
</pre>
        </li>
        <li id="illegalvalues"><strong>不正な値。</strong>ユーザーエージェントは値が不正な宣言を無視しなければなりません。例：
            <pre class="illegal example">
img { float: left }       /* 正しいCSS&nbsp;2.2 */
img { float: left here }  /* "here"は'float'プロパティの値ではない */
img { background: "red" } /* キーワードは引用不可 */
img { border-width: 3 }   /* 長さ値には単位が必要 */
</pre>

            CSS&nbsp;2.2パーサーは最初の規則のみ有効とし、残りは<span class="index-inst" title="ignore"><a name="x27"
                    href="#ignore">無視</a></span>し、実質次のように扱います：

            <pre class="example">
img { float: left }
img { }
img { }
img { }
</pre>

            <p>将来のCSS仕様準拠のユーザーエージェントは、他の規則も受け入れる場合があります。</p>
        </li>
        <li><strong>不正な宣言。</strong>宣言パース中に予期しないトークンに遭遇した場合、ユーザーエージェントは宣言終端まで読み進め、括弧やクォート等のペア規則・エスケープ処理に従います。例えば、プロパティ名・コロン・値が欠落した場合などです。

            <p>宣言やat規則（IDENTまたはATKEYWORDトークン）開始が期待される場面で予期しないトークンに遭遇した場合、そのトークンは不正な宣言の先頭とみなします。つまり、その場合は不正なステートメントではなく不正な宣言の規則でどのトークンを無視するか決定します。

            <p>次の例はすべて同じ意味になります：

            <pre class="example">
p { color:green }
p { @foo { bar: baz } color:green }  /* 未知のat規則 */
p { color:green; color }  /* 宣言のコロンや値が欠落 */
p { color:red;   color; color:green }  /* 同じく回復例 */
p { color:green; color: } /* 値が欠落した宣言 */
p { color:red;   color:; color:green } /* 同じく回復例 */
p { color:green; color{;color:maroon} } /* 予期しない{ } */
p { color:red;   color{;color:maroon}; color:green } /* 同じく回復例 */
</pre>

        </li>


        <li><strong>不正なステートメント。</strong>ステートメントパース中に予期しないトークンに遭遇した場合、ユーザーエージェントはステートメント終端まで読み進め、括弧やクォート等のペア規則・エスケープ処理に従います。例えば、予期しない閉じ中括弧やatキーワード等。不正ステートメント例：

            <pre>
p @here {color: red}     /* 規則セット内の予期しないatキーワード "@here" */
@foo @bar;               /* at規則内の予期しないatキーワード "@bar" */
}} {{ - }}               /* 規則セット内の予期しない右中括弧 */
) ( {} ) p {color: red } /* 規則セット内の予期しない右カッコ */
</pre>



        <li><strong>未知のatキーワードのat規則。</strong>ユーザーエージェントは不正なatキーワードと、それに続くブロック終端・次のセミコロン・次のブロック（{...）までのすべてを<span
                class="index-inst" title="ignore"><a name="x28" href="#ignore">無視</a></span>しなければなりません。例えば：

            <pre class="illegal example">
@three-dee {
  @background-lighting {
    azimuth: 30deg;
    elevation: 190deg;
  }
  h1 { color: red }
}
h1 { color: blue }
</pre>

            <p> '@three-dee'はCSS&nbsp;2.2の一部ではないので、at規則全体（3つ目の右中括弧まで）を<span class="index-inst" title="ignore"><a
                        name="x29" href="#ignore">無視</a></span>します。CSS&nbsp;2.2のユーザーエージェントはこれを<span class="index-inst"
                    title="ignore"><a name="x30" href="#ignore">無視</a></span>し、実質次のように扱います：</p>

            <pre class="example">
h1 { color: blue }
</pre>

            <p>at規則内で無効なため無視されたもの（例えば@media規則内の無効な宣言）は、at規則全体を無効にはしません。
            </p>

        </li>

        <li id=unexpected-eof><strong>スタイルシートの予期しない終端。</strong>
            <p>
                ユーザーエージェントは、スタイルシートの終端で開いている構造（ブロック、括弧、カッコ、規則、文字列、コメント等）をすべて閉じなければなりません。例：
            </p>
            <pre class="illegal example">
  @media screen {
    p:before { content: 'Hello
</pre>
            <p>
                この場合、適合UAでは次のように扱われます：
            </p>
            <pre class="example">
  @media screen {
    p:before { content: 'Hello'; }
  }
</pre>
            <p>
                となります。
            </p>
        </li>
        <li><strong>文字列の予期しない終端。</strong>
            <p>
                ユーザーエージェントは、行末（エスケープされていないLF/CR/FFの前）で文字列を閉じ、その構造（宣言または規則）を破棄しなければなりません。例：
            </p>
            <pre>
      p {
        color: green;
        font-family: 'Courier New Times
        color: red;
        color: green;
      }
</pre>
            <p>
                ...この場合、次のように扱われます：
            </p>
            <pre>
      p { color: green; color: green; }
</pre>
            <p>
                ...2つ目の宣言（'font-family'から'color: red'のセミコロンまで）が無効となり破棄されるためです。
            </p>
        </li>
        <li>宣言ブロックのパース規則については<a href="#rule-sets">規則セット・宣言ブロック・セレクター</a>も参照してください。
        </li>
    </ul>



    <h2>4.3 <a name="values">値</a></h2>

    <h3>4.3.1 <a name="numbers">整数と実数</a></h3>

    <p>ある値の型は整数値（<span class="index-def" title="&lt;integer&gt;::definition of"><a name="value-def-integer"
                class="value-def">&lt;integer&gt;</a></span>）または実数値（<span class="index-def"
            title="&lt;number&gt;::definition of"><a name="value-def-number"
                class="value-def">&lt;number&gt;</a></span>）を持つ場合があります。実数値と整数値は10進数表記のみで指定されます。&lt;integer&gt;は1つ以上の数字"0"から"9"で構成されます。&lt;number&gt;は、&lt;integer&gt;であるか、0個以上の数字に続けてドット（.）と1つ以上の数字が続くものです。整数値および実数値の前に"-"または"+"が付いて符号を示す場合があります。-0は0と等価で、負の数ではありません。
    </p>

    <p>整数または実数値を許可する多くのプロパティは、実際には値を特定の範囲に制限することがあり、その多くは非負値に制限されます。
    </p>

    <h3>4.3.2 <a name="length-units">長さ</a></h3>

    <p>長さは距離の測定を指します。</p>

    <p> 長さ値（この仕様では<span class="index-def" title="&lt;length&gt;::definition of"><a name="value-def-length"
                class="value-def">&lt;length&gt;</a></span>と表記）の形式は、<a href="syndata.html#value-def-number"
            class="noxref"><span
                class="value-inst-number">&lt;number&gt;</span></a>（小数点の有無にかかわらず）に続けて単位識別子（例：px、emなど）が付くものです。ゼロの長さの場合、単位識別子は省略可能です。
    </p>
    <p> 一部のプロパティでは負の長さ値を許可しますが、これはフォーマットモデルを複雑にする場合があり、実装固有の制限がある場合があります。負の長さ値がサポートできない場合、サポート可能な最も近い値に変換されるべきです。
    </p>
    <p>負の長さ値を許可しないプロパティに負の長さ値が設定された場合、その宣言は無視されます。
    </p>

    <p>使用される<a href="cascade.html#usedValue">長さ</a>がサポートされない場合、ユーザーエージェントはそれを<a
            href="cascade.html#actual-value">実際の値</a>に近似する必要があります。

    <p><a name="absrel-units">長さ単位には2種類があります：相対単位と絶対単位。</a> <a name="x34"><span class="index-def" title="relative
units"><em>相対長さ</em></span></a>単位は、他の長さプロパティに対して相対的な長さを指定します。

        スタイルシートで相対単位を使用することで、1つの出力環境から別の環境へのスケーリングが容易になります。
    </p>
    <p>相対単位は以下の通りです：</p>
    <ul>
        <li><strong>em</strong>: 関連するフォントの<a href="fonts.html#propdef-font-size" class="noxref"><span
                    class="propinst-font-size">'font-size'</span></a></li>
        <li><strong>ex</strong>: 関連するフォントの<span class="descinst">'x-height'</span></li>

    </ul>

    <div class="example">
        <P style="display:none">例：</P>
        <pre>
h1 { margin: 0.5em }      /* em */
h1 { margin: 1ex }        /* ex */
</pre>
    </div>

    <p><span class="index-def" title="em (unit)|quad width"><a name="em-width">'em'</a></span>単位は、使用される要素の<a
            href="fonts.html#propdef-font-size" class="noxref"><span
                class="propinst-font-size">'font-size'</span></a>プロパティの計算値と等しい。ただし、'em'が'font-size'プロパティ自体の値として使用される場合は、親要素のフォントサイズを基準とします。垂直または水平の測定に使用できます。（タイポグラフィの文献ではquad-widthと呼ばれることもあります。）
    </p>
    <p><span class="index-def" title="x-height|ex (unit)"><a name="ex">'ex'</a></span>単位は、要素の最初に利用可能なフォントによって定義されます。
        ただし、'ex'が<a href="fonts.html#propdef-font-size" class="noxref"><span
                class="propinst-font-size">'font-size'</span></a>プロパティの値として使用される場合は、親要素の'ex'を基準とします。

    <p><span
            class="descinst-x-height">'x-height'</span>は、小文字の"x"の高さと等しいことが多いため、このように呼ばれます。ただし、"x"を含まないフォントでも'ex'は定義されています。
    </p>
    <p>フォントのx-heightはさまざまな方法で見つけることができます。一部のフォントにはx-heightの信頼できるメトリックが含まれています。信頼できるフォントメトリックが利用できない場合、ユーザーエージェントは小文字のグリフの高さからx-heightを決定することがあります。1つの可能なヒューリスティックは、小文字の"o"のグリフがベースラインからどれだけ下に伸びているかを調べ、その値をバウンディングボックスの上部から引く方法です。x-heightを決定することが不可能または非実用的な場合は、0.5emの値を使用すべきです。
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <p>次の規則：
        </p>
        <pre>
h1 { line-height: 1.2em }
</pre>

        <p>これは"h1"要素の行の高さが、その"h1"要素のフォントサイズより20%大きいことを意味します。一方：
        </p>
        <pre>
h1 { font-size: 1.2em }
</pre>

        <p>これは"h1"要素のフォントサイズが、"h1"要素が継承するフォントサイズより20%大きいことを意味します。</p>
    </div>

    <p>文書ツリー（例：HTML）<a href="conform.html#doctree">ルート</a>で指定された場合、'em'と'ex'はプロパティの<a
            href="about.html#initial-value">初期値</a>を基準とします。
    </p>

    <p>子要素は、親要素に指定された相対値を継承しません。<a href="cascade.html#computed-value">計算値</a>を継承します。</p>

    <div class="example">
        <P style="display:none">例：</P>
        <p>
            次の規則の場合、"h1"要素の<a href="text.html#propdef-text-indent" class="noxref"><span
                    class="propinst-text-indent">'text-indent'</span></a>プロパティの計算値は36pxであり、"h1"が"body"要素の子である場合でも45pxにはなりません。
        </p>
        <pre>
body {
  font-size: 12px;
  text-indent: 3em;  /* つまり、36px */
}
h1 { font-size: 15px }
</pre>
    </div>

    <p><a name="x39"><span class="index-def" title="absolute length"><em>絶対長さ</em></span></a>

        単位は互いに固定された関係を持ちます。
        これは、出力環境が既知の場合に主に役立ちます。
        絶対単位には物理単位（in、cm、mm、pt、pc）およびpx単位が含まれます：

    </p>
    <ul>
        <li><strong>in</strong>: インチ &mdash; 1inは2.54cmに等しい。</li>
        <li><strong>cm</strong>: センチメートル</li>
        <li><strong>mm</strong>: ミリメートル</li>
        <li><strong>pt</strong>: ポイント &mdash; CSSで使用されるポイントは1/72インチに等しい。</li>
        <li><strong>pc</strong>: パイカ &mdash; 1pcは12ptに等しい。</li>
        <li><strong>px</strong>: ピクセル単位 &mdash; 1pxは0.75ptに等しい。</li>
    </ul>


    <p>CSSデバイスでは、これらの寸法は次のいずれかによって固定されます：(i)物理単位をその物理測定に関連付ける、または(ii)ピクセル単位を<i>参照ピクセル</i>に関連付ける。
        印刷媒体や同様の高解像度デバイスの場合、アンカー単位はインチ、センチメートルなどの標準的な物理単位であるべきです。
        低解像度デバイスや、異常な視距離を持つデバイスの場合、アンカー単位はピクセル単位であることが推奨されます。
        そのようなデバイスでは、ピクセル単位が参照ピクセルに最も近い整数のデバイスピクセルを指すことが推奨されます。

    <p class="note">注意：アンカー単位がピクセル単位の場合、物理単位がその物理測定と一致しない可能性があります。
        逆に、アンカー単位が物理単位の場合、ピクセル単位が整数のデバイスピクセルにマップされない可能性があります。</p>

    <p class="note">注意：このピクセル単位と物理単位の定義は、以前のCSSのバージョンとは異なります。
        特に、以前のCSSバージョンでは、ピクセル単位と物理単位は固定比率で関連付けられていませんでした。
        物理単位は常にその物理測定に結び付けられ、ピクセル単位は参照ピクセルに最も近い値に変化しました。
        （この変更は、96dpiの仮定に依存する既存のコンテンツが多すぎ、その仮定を壊すとコンテンツが壊れるために行われました。）

    <p><a name="x40"><span class="index-def" title="reference pixel|pixel"><em>参照ピクセル</em></span></a>は、
        96dpiのピクセル密度を持つデバイスで、読者から腕の長さの距離にある1ピクセルの視覚的角度を指します。
        標準的な腕の長さ28インチの場合、視覚的角度は約0.0213度です。
        腕の長さで読む場合、1pxは約0.26mm（1/96インチ）に相当します。
    </p>

    <p>下の画像は、視距離が参照ピクセルのサイズに及ぼす影響を示しています：
        71cm（28インチ）の読書距離では参照ピクセルは0.26mm、
        一方3.5m（12フィート）の読書距離では参照ピクセルは1.3mmになります。
    </p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/pixel1.png" alt="視距離が増加するとピクセルが大きくなる必要があることを示す"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-pixel1"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/pixel1-desc.html"
                    title="ピクセル定義の図の詳細説明">[D]</A></SPAN></p>
    </div>

    <p>次の画像は、デバイスの解像度がピクセル単位に及ぼす影響を示しています：
        低解像度デバイス（例：一般的なコンピュータディスプレイ）では1px x 1pxのエリアが1つのドットで覆われますが、
        高解像度デバイス（例：プリンタ）では同じエリアが16個のドットで覆われます。
    </p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/pixel2.png"
                alt="高解像度デバイスでは、1px x 1pxエリアを覆うのにより多くのデバイスピクセル（ドット）が必要であることを示す"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
                    name="img-pixel2" href="https://www.w3.org/TR/CSS22/images/longdesc/pixel2-desc.html"
                    title="参照ピクセルとデバイスピクセルの比較に関する図の詳細説明">[D]</A></SPAN></p>
    </div>


    <div class="example">
        <P style="display:none">例：</P>
        <pre>
h1 { margin: 0.5in }      /* インチ */
h2 { line-height: 3cm }   /* センチメートル */
h3 { word-spacing: 4mm }  /* ミリメートル */
h4 { font-size: 12pt }    /* ポイント */
h4 { font-size: 1pc }     /* パイカ */
p  { font-size: 12px }    /* px */
</pre>
    </div>

    <h3>4.3.3 <a name="percentage-units">パーセンテージ</a></h3>

    <p> パーセンテージ値（この仕様では<span class="index-def" title="&lt;percentage&gt;::definition of"><a name="value-def-percentage"
                class="value-def">&lt;percentage&gt;</a></span>と表記）の形式は、
        <span class="index-inst" title="&lt;number&gt;"><a name="x43" href="syndata.html#value-def-number"
                class="noxref"><span class="value-inst-number">&lt;number&gt;</span></a></span>に続けて'%'が付くものです。
    </p>
    <p> パーセンテージ値は常に他の値に対して相対的な値を示します。例えば、長さなどです。
        パーセンテージを許可する各プロパティは、パーセンテージが参照する値も定義します。
        その値は、同じ要素の別のプロパティ、先祖要素のプロパティ、または整形コンテキストの値（例：<a href="visuren.html#containing-block">包含ブロック</a>の幅）である場合があります。
        ルート要素<a href="conform.html#root">root</a>のプロパティにパーセンテージ値が設定されており、
        そのパーセンテージがあるプロパティの継承値を参照すると定義されている場合、
        結果の値はそのプロパティの<a href="about.html#initial-value">初期値</a>にパーセンテージを掛けた値となります。
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <p>
            子要素は一般的に親要素の<a href="cascade.html#computed-value">計算値</a>を継承するため、
            以下の例では、P要素の子要素は<a href="visudet.html#propdef-line-height" class="noxref"><span
                    class="propinst-line-height">'line-height'</span></a>の値として12pxを継承し、パーセンテージ値（120%）は継承しません：
        </p>
        <pre>
p { font-size: 10px }
p { line-height: 120% }  /* 'font-size' の120% */
</pre>
    </div>

    <h3>4.3.4 <a name="uri">URLとURI</a></h3>

    <p>URI値（Uniform Resource Identifiers、<a href="refs.html#ref-RFC3986" rel="biblioentry" class="noxref"><span
                class="normref">[RFC3986]</span></a>参照、URLやURNなどを含む）は、この仕様では<span class="index-def"
            title="&lt;uri&gt;::definition of"><a name="value-def-uri" class="value-def">&lt;uri&gt;</a></span>と表記されます。
        プロパティ値でURIを示すために使用される機能的な表記は"url()"です。例：
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <pre>
body { background: url("http://www.example.com/pinkish.png") }
</pre>
    </div>

    <p> URI値の形式は、'url('に続けてオプションの<a href="#whitespace">空白</a>、
        オプションのシングルクォート（'）またはダブルクォート（"）、
        その後にURI自体、続けてオプションのシングルクォート（'）またはダブルクォート（"）、
        さらにオプションの空白、最後に')'で終わります。2つのクォート文字は同じでなければなりません。
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <p>クォートなしの例：
        </p>
        <pre>
li { list-style: url(http://www.example.com/redball.png) disc }
</pre>
    </div>

    <p>
        クォートされていないURIに含まれる括弧、空白文字、シングルクォート（'）、ダブルクォート（"）などの文字は、
        バックスラッシュでエスケープする必要があります。結果として得られるURI値がURIトークンになるようにします：'\(', '\)'。
    </p>
    <p>URIの種類によっては、上記の文字をURIエスケープ（"(" = %28, ")" = %29など）として記述することも可能です。
        詳細は<a href="refs.html#ref-RFC3986" rel="biblioentry" class="noxref"><span
                class="normref">[RFC3986]</span></a>を参照してください。
    </p>
    <div class=note>
        <p><em>注：COMMENTトークンは他のトークン内に出現できません。
                したがって、"url(/*x*/pic.png)"はURI"/*x*/pic.png"を示し、"pic.png"ではありません。</em>
    </div>

    <p> モジュール化されたスタイルシートを作成し、リソースの絶対位置に依存しないようにするために、著者は相対URIを使用できます。
        相対URI（<a href="refs.html#ref-RFC3986" rel="biblioentry" class="noxref"><span
                class="normref">[RFC3986]</span></a>で定義）は、ベースURIを使用して完全なURIに解決されます。
        RFC&nbsp;3986のセクション5は、このプロセスの規範的なアルゴリズムを定義しています。
        CSSスタイルシートの場合、ベースURIはソース文書ではなくスタイルシートのURIです。
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <p>例えば、次の規則があるとします：</p>

        <pre>
body { background: url("yellow") }
</pre>

        <p>この規則が次のURIで指定されたスタイルシートに含まれている場合：</p>

        <pre>http://www.example.org/style/basic.css</pre>

        <p>ソース文書のBODYの背景は、次のURIで指定されたリソースが示す画像でタイル状に敷き詰められます：
        </p>
        <pre>http://www.example.org/style/yellow</pre>
    </div>

    <p>ユーザーエージェントは、無効なURIや、利用できないまたは適用できないリソースを指定するURIをどのように処理するかが異なる場合があります。
    </p>
    <h3>4.3.5 <a name="counter">カウンター</a></h3>

    <p><span class="index-def" title="&lt;counter&gt;, definition of"><a name="value-def-counter">カウンター</a></span>
        は大文字小文字を区別する識別子で指定されます（<a href="generate.html#propdef-counter-increment" class="noxref"><span
                class="propinst-counter-increment">'counter-increment'</span></a>および
        <a href="generate.html#propdef-counter-reset" class="noxref"><span
                class="propinst-counter-reset">'counter-reset'</span></a>プロパティを参照）。
        カウンターの値を参照するには、<a name="x46"><span class="index-def" title="counter()">
                'counter(&lt;identifier&gt;)'</span></a> または 'counter(&lt;identifier&gt;,
        &lt;'list-style-type'&gt;)' という表記を使用します。トークン間には空白を入れることができます。
        デフォルトのスタイルは 'decimal' です。
    </p>
    <p>同じ名前のネストされたカウンターのシーケンスを参照するには、
        'counters(&lt;identifier&gt;, &lt;string&gt;)' または
        'counters(&lt;identifier&gt;, &lt;string&gt;, &lt;'list-style-type'&gt;)' という表記を使用します。
        トークン間には空白を入れることができます。
    </p>
    <p><a href="generate.html#scope">"ネストされたカウンターとスコープ"</a>（<a href="generate.html">生成されたコンテンツ</a>
        に関する章）を参照して、ユーザーエージェントがカウンターの値をどのように決定する必要があるかを確認してください。
        また、<a href="generate.html#propdef-content" class="noxref"><span
                class="propinst-content">'content'</span></a>プロパティのカウンター値の定義を参照し、
        これらの値を文字列に変換する必要があります。
    </p>
    <p>CSS&nbsp;2.2では、カウンターの値は<a href="generate.html#propdef-content" class="noxref"><span
                class="propinst-content">'content'</span></a>プロパティからのみ参照できます。
        'none' は可能な &lt;'list-style-type'&gt; であり、'counter(x, none)' は空の文字列を生成します。
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <p>以下は、各章（h1）ごとに段落（p）を番号付けするスタイルシートの例です。
            段落はローマ数字で番号付けされ、その後にピリオドとスペースが続きます：
        </p>
        <pre>
p {counter-increment: par-num}
h1 {counter-reset: par-num}
p:before {content: counter(par-num, upper-roman) ". "}
</pre>
    </div>

    <h3>4.3.6 <a name="color-units">色</a></h3>
    <p>
        <span class="index-def" title="&lt;color&gt;::definition of"><a name="value-def-color"
                class="value-def">&lt;color&gt;</a></span>
        はキーワードまたは数値RGB指定のいずれかです。
    </p>
    <p> 色のキーワード一覧は次の通りです：aqua, black, blue, fuchsia,
        gray, green, lime, maroon, navy, olive, orange, purple, red, silver, teal,
        white, yellow。この17色は次の値を持ちます：
    </p>

    <div class="colordiagram" id="TanteksColorDiagram20020613">
        <div class="diagramrow">
            <span class="colorsquare" style="background:maroon;color:white"><span class="colorname">maroon</span>
                #800000
            </span><span class="colorsquare" style="background:red"><span class="colorname">red</span> #ff0000
            </span><span class="colorsquare" style="background:orange"><span class="colorname">orange</span> #ffA500
            </span><span class="colorsquare" style="background:yellow"><span class="colorname">yellow</span> #ffff00
            </span><span class="colorsquare" style="background:olive;color:white"><span class="colorname">olive</span>
                #808000</span>
        </div>
        <div class="diagramrow">
            <span class="colorsquare" style="background:purple;color:white"><span class="colorname">purple</span>
                #800080</span>
            <span class="colorsquare" style="background:fuchsia"><span class="colorname">fuchsia</span> #ff00ff</span>
            <span class="colorsquare" style="background:white"><span class="colorname">white</span> #ffffff</span>
            <span class="colorsquare" style="background:lime"><span class="colorname">lime</span> #00ff00</span>
            <span class="colorsquare" style="background:green;color:white"><span class="colorname">green</span>
                #008000</span>
        </div>
        <div class="diagramrow" style="padding:0 2.5em">
            <span class="colorsquare" style="background:navy;color:white"><span class="colorname">navy</span>
                #000080</span>
            <span class="colorsquare" style="background:blue"><span class="colorname">blue</span> #0000ff</span>
            <span class="colorsquare" style="background:aqua"><span class="colorname">aqua</span> #00ffff</span>
            <span class="colorsquare" style="background:teal;color:white"><span class="colorname">teal</span>
                #008080</span>
        </div>
        <div class="diagramrow" style="padding:0 5em">
            <span class="colorsquare" style="background:black;color:white"><span class="colorname">black</span>
                #000000</span>
            <span class="colorsquare" style="background:silver"><span class="colorname">silver</span> #c0c0c0</span>
            <span class="colorsquare" style="background:gray;color:white"><span class="colorname">gray</span>
                #808080</span>
        </div>
    </div>

    <p>
        これらの色キーワードに加えて、ユーザーはユーザー環境内の特定のオブジェクトで使用される色に対応するキーワードを指定できます。
        詳細は<a href="./ui.html#system-colors">システムカラー</a>のセクションを参照してください。
    </p>

    <div class="example">
        <P style="display:none">例：</P>
        <pre>
body {color: black; background: white }
h1 { color: maroon }
h2 { color: olive }
</pre>
    </div>

    <p>数値によるRGBカラーモデルが色指定に使用されます。次の例はすべて同じ色を指定しています：
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <pre>
em { color: #f00 }              /* #rgb */
em { color: #ff0000 }           /* #rrggbb */
em { color: rgb(255,0,0) }      
em { color: rgb(100%, 0%, 0%) } 
</pre>
    </div>

    <p> 16進表記でのRGB値の形式は、'#'に続けて3桁または6桁の16進文字が続きます。
        3桁のRGB表記（#rgb）は桁の繰り返しで6桁形式（#rrggbb）に変換され、ゼロを追加するわけではありません。
        例えば、#fb0は#ffbb00に展開されます。これにより、白（#ffffff）は短縮表記（#fff）で指定でき、
        表示の色深度に依存しない指定が可能です。
    </p>
    <p> 関数表記でのRGB値の形式は、'rgb('に続けてカンマ区切りの数値（整数値またはパーセンテージ値）3つを記載し、
        最後に')'で閉じます。整数値255は100%に対応し、16進表記のFまたはFFに対応します：
        rgb(255,255,255) = rgb(100%,100%,100%) = #FFF。
        <a href="#whitespace">空白</a>文字は数値の周りに許容されます。
    </p>
    <p>すべてのRGB色はsRGBカラースペースで指定されます（<a href="refs.html#ref-SRGB" rel="biblioentry" class="noxref"><span
                class="normref">[SRGB]</span></a>参照）。
        ユーザーエージェントはこれらの色を表現する際の忠実度が異なる場合がありますが、
        sRGBを使用することで色の定義が明確かつ客観的に測定可能となり、国際標準（<a href="refs.html#ref-COLORIMETRY" rel="biblioentry" class="noxref"><span
                class="normref">[COLORIMETRY]</span></a>参照）と関連付けられます。
    </p>
    <p><a href="conform.html#conformance">適合するユーザーエージェント</a>は、与えられた色に対してガンマ補正を行うだけに色表示の努力を制限することができます。
        sRGBは特定の視聴条件下で2.2のディスプレイガンマを指定します。
        ユーザーエージェントは、CSSで指定された色を調整し、出力デバイスの「自然な」ディスプレイガンマと組み合わせて、
        効果的なディスプレイガンマが2.2になるようにする必要があります。
        なお、CSSで指定された色だけが影響を受けます。例えば、画像などは独自の色情報を持つことが期待されます。
    </p>
    <p>デバイスの色域外の値は、色域が既知の場合、切り捨てまたは色域内にマッピングされるべきです：
        赤、緑、青の値はデバイスでサポートされる範囲内に収まるよう変更されなければなりません。
        ユーザーエージェントは、色を1つの色域から別の色域にマッピングする際に、より高品質な処理を行うことができます。
        一般的なCRTモニター（デバイス色域がsRGBと同じ）の場合、以下の4つの規則は等価です：
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <pre>
em { color: rgb(255,0,0) }       /* 整数範囲 0 - 255 */
em { color: rgb(300,0,0) }       /* rgb(255,0,0) にクリップ */
em { color: rgb(255,-10,0) }     /* rgb(255,0,0) にクリップ */
em { color: rgb(110%, 0%, 0%) }  /* rgb(100%,0%,0%) にクリップ */
</pre>
    </div>

    <p>プリンタなどの他のデバイスは、sRGBとは異なる色域を持ちます。
        0..255のsRGB範囲外の色が表現可能である場合もあれば、
        逆に0..255のsRGB範囲内の色がデバイスの色域外でありマッピングされる場合もあります。
    </p>
    <div class=note>
        <p><em><strong>注記。</strong> 色値のマッピングやクリッピングは、既知であれば実際のデバイス色域に対して行うべきです
                （0..255より大きいまたは小さい場合があります）。</em>
    </div>

    <h3>4.3.7 <a name="strings">文字列</a></h3>

    <p><span class="index-def" title="&lt;string&gt;, definition of"><a name="value-def-string">文字列</a></span>は、
        ダブルクォートまたはシングルクォートで記述できます。ダブルクォート内にダブルクォートを含めることはできませんが、
        エスケープすることで可能です（例："\" または "\22"）。シングルクォートの場合も同様です（例："\'" または "\27"）。
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <pre>
"this is a 'string'"
"this is a \"string\""
'this is a "string"'
'this is a \'string\''
</pre>
    </div>

    <p>文字列には直接<a name="x49"><span class="index-inst" title="newline">改行</span></a>を含めることはできません。
        改行を文字列に含めるには、ISO-10646（U+000A）のラインフィード文字を表すエスケープ（例："\\A" または "\\00000a"）を使用します。
        この文字はCSSにおける一般的な「改行」の概念を表します。
        例については<a href="generate.html#propdef-content" class="noxref"><span
                class="propinst-content">'content'</span></a>プロパティを参照してください。
    </p>
    <p>美観やその他の理由で文字列を複数行に分割することが可能ですが、その場合、改行自体をバックスラッシュ（\）でエスケープする必要があります。
        例えば、次の2つのセレクターは全く同じです：
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <pre>
a[title="a not s\
o very long title"] {/*...*/}
a[title="a not so very long title"] {/*...*/}
</pre>
    </div>

    <h3>4.3.8 <a name="unsupported-values">未サポート値</a></h3>

    <p>ユーザーエージェントが特定の値をサポートしていない場合、スタイルシートをパースする際にその値を<em>無視</em>するべきです。
        これは、その値が<a href="#illegalvalues">不正な値</a>であるかのように扱われます。例えば：
    </p>
    <div class="example">
        <P style="display:none">例：</P>
        <pre>
  h3 {
    display: inline;
    display: run-in;
  }
</pre>
    </div>
    <p>
        'display'プロパティの'run-in'値をサポートするユーザーエージェントは、最初のdisplay宣言を受け入れ、
        次にその値を2つ目のdisplay宣言で「上書き」します。
        'run-in'値をサポートしていないユーザーエージェントは、最初のdisplay宣言を処理し、2つ目のdisplay宣言を無視します。
    </p>

    <h2>4.4 <a name="charset">CSSスタイルシート表現</a></h2>

    <p>CSSスタイルシートは、ユニバーサル文字集合（<a href="refs.html#ref-ISO10646" rel="biblioentry" class="noxref"><span
                class="normref">[ISO10646]</span></a>参照）からの文字のシーケンスです。
        転送および保存のために、これらの文字はUS-ASCIIで利用可能な文字集合をサポートする文字エンコーディング（例：UTF-8、ISO 8859-x、SHIFT JISなど）によって<a name="x50"><span
                class="index-def" title="character encoding">エンコード</span></a>されなければなりません。
        文字集合と文字エンコーディングの優れた入門書については、HTML 4仕様（<a href="refs.html#ref-HTML4" rel="biblioentry" class="noxref"><span
                class="informref">[HTML4]</span></a>、第5章）を参照してください。
        また、XML 1.1仕様（<a href="refs.html#ref-XML11" rel="biblioentry" class="noxref"><span
                class="informref">[XML11]</span></a>、セクション2.2および4.3.3、および付録E）も参照してください。
    </p>
    <p>スタイルシートがHTMLのSTYLE要素や"style"属性などの他の文書に埋め込まれている場合、スタイルシートは文書全体の文字エンコーディングを共有します。
    </p>
    <p>スタイルシートが別ファイルにある場合、ユーザーエージェントはスタイルシートの<a name="x51"><span class="index-inst" title="character
encoding::user agent's determination of">文字エンコーディング</span></a>を決定する際、次の<a name="x52"><span class="index-inst" title="character
encoding::default|default::character encoding">優先順位</span></a>に従う必要があります（優先度の高い順から低い順）：
    </p>
    <ol>
        <li>HTTPの"Content-Type"フィールド内の"charset"パラメータ（または他のプロトコルの類似パラメータ）</li>
        <li><a name="x54"><span class="index-inst">BOM</span></a>および/または<a name="x55"><span
                    class="index-inst">@charset</span></a>（以下参照）</li>
        <li><code>&lt;link charset=""&gt;</code>またはリンク機構からのその他のメタデータ（あれば）</li>
        <li>参照元のスタイルシートまたは文書の文字セット（あれば）</li>
        <li>UTF-8を仮定</li>
    </ol>

    <p><a name="x56"><span class="index-inst">@charset</span></a>規則を使用する著者は、規則をスタイルシートの先頭に配置し、
        その前に文字を置いてはなりません。（使用するエンコーディングにバイト順マークが適切な場合、@charset規則の前に置くことができます。）
    </p>

    <p><a name="x57"><span class="index-def">"@charset"</span></a>の後、著者は文字エンコーディングの名前を（引用符内に）指定します。例：
    </p>

    <pre class="example">@charset "ISO-8859-1";</pre>

    <p>@charsetは文字通りに記述されなければなりません。すなわち、10文字の'@charset "'（小文字、バックスラッシュエスケープなし）、
        エンコーディング名、続けて'";'です。
    </p>

    <p>名前はIANAレジストリに記載されている文字セット名でなければなりません。
        完全な文字セットのリストについては<a href="refs.html#ref-CHARSETS" rel="biblioentry" class="noxref"><span
                class="informref">[CHARSETS]</span></a>を参照してください。
        著者はIANAレジストリで「preferred MIME name」としてマークされている文字セット名を使用するべきです。
    </p>

    <p>ユーザーエージェントは少なくとも<a name="x58"><span class="index-inst">UTF-8</span></a>エンコーディングをサポートする必要があります。
    </p>

    <p>上記の規則1（HTTPの"charset"パラメータまたは類似のもの）が文字エンコーディングを指定し、
        それがUTF-8、UTF-16またはUTF-32のいずれかである場合、次のようにファイルの先頭にあるバイト順マーク（BOM）がその文字エンコーディングを上書きします：

    <table>
        <thead>
            <tr>
                <th>先頭バイト（16進数）
                <th>結果のエンコーディング
        <tbody>
            <tr>
                <td>00 00 FE FF
                <td>UTF-32, ビッグエンディアン
            <tr>
                <td>FF FE 00 00
                <td>UTF-32, リトルエンディアン
            <tr>
                <td>FE FF
                <td>UTF-16, ビッグエンディアン
            <tr>
                <td>FF FE
                <td>UTF-16, リトルエンディアン
            <tr>
                <td>EF BB BF
                <td>UTF-8
    </table>

    <p>規則1がUTF-16BE、UTF-16LE、UTF-32BEまたはUTF-32LEの文字エンコーディングを指定した場合、
        ファイルの先頭にBOMがあるとエラーです。
        CSSユーザーエージェントは、指定されたエンコーディングを無視し、上記の表を使用して回復しなければなりません。

    <p class=note>注：UTF-16BE、UTF-16LE、UTF-32BEまたはUTF-32LEにおいてファイル先頭のBOMがエラーであるという事実は、
        <a href="refs.html#ref-UNICODE" rel="biblioentry" class="noxref"><span
                class="normref">[UNICODE]</span></a>によって規定されています。

    <p>ユーザーエージェントは、スタイルシートの先頭以外にある@charset規則を無視しなければなりません。
        ユーザーエージェントがBOMおよび/または@charset規則を使用して文字エンコーディングを検出する場合、次の規則に従うべきです：
    </p>

    <ul>

        <li>これらの規則で指定されている場合を除き、すべての@charset規則は無視されます。</li>

        <li>エンコーディングは、スタイルシートの先頭にあるバイト列のストリームに基づいて検出されます。
            次の表は初期バイト列（16進数で記述）とエンコーディング検出の結果の対応を示しています。
            スタイルシートの先頭が表の最初の行に一致する場合、その行の結果がBOMおよび/または@charset規則に基づくエンコーディング検出の結果となります。
            どの行にも一致しない場合、BOMおよび/または@charset規則に基づくエンコーディングは検出できません。
            表記(...)*は、最小回数で繰り返す最適一致を指します。
            "XX"でマークされたバイトは、指定された順序でASCII文字のシーケンスとして扱い、エンコーディング名を決定するために使用されます。
            "YY"でマークされたバイトは類似していますが、ASCIIに変換する必要があります。
            ユーザーエージェントは、該当するエンコーディングをサポートしない項目を表から無視する場合があります。

            <table border="1" summary="スタイルシートの初期バイトと選択されたエンコーディングの関係">
                <tr>
                    <th scope="col">初期バイト</th>
                    <th scope="col">結果</th>
                </tr>
                <tr>
                    <td>EF BB BF 40 63 68 61 72 73 65 74 20 22 (XX)* 22 3B</td>
                    <td>指定された通り</td>
                </tr>
                <tr>
                    <td>EF BB BF</td>
                    <td>UTF-8</td>
                </tr>
                <tr>
                    <td>40 63 68 61 72 73 65 74 20 22 (XX)* 22 3B</td>
                    <td>指定された通り</td>
                </tr>
                <tr>
                    <td>FE FF 00 40 00 63 00 68 00 61 00 72 00 73 00 65 00 74 00 20 00 22 (00 XX)* 00 22 00 3B</td>
                    <td>指定された通り（指定がなければBEエンディアン）</td>
                </tr>
                <tr>
                    <td>00 40 00 63 00 68 00 61 00 72 00 73 00 65 00 74 00 20 00 22 (00 XX)* 00 22 00 3B</td>
                    <td>指定された通り（指定がなければBEエンディアン）</td>
                </tr>
                <tr>
                    <td>FF FE 40 00 63 00 68 00 61 00 72 00 73 00 65 00 74 00 20 00 22 00 (XX 00)* 22 00 3B 00</td>
                    <td>指定された通り（指定がなければLEエンディアン）</td>
                </tr>
                <tr>
                    <td>40 00 63 00 68 00 61 00 72 00 73 00 65 00 74 00 20 00 22 00 (XX 00)* 22 00 3B 00</td>
                    <td>指定された通り（指定がなければLEエンディアン）</td>
                </tr>
                <tr>
                    <td>00 00 FE FF 00 00 00 40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65
                        00 00 00 74 00 00 00 20 00 00 00 22 (00 00 00 XX)* 00 00 00 22 00 00 00 3B</td>
                    <td>指定された通り（指定がなければBEエンディアン）</td>
                </tr>
                <tr>
                    <td>00 00 00 40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65 00 00 00 74
                        00 00 00 20 00 00 00 22 (00 00 00 XX)* 00 00 00 22 00 00 00 3B</td>
                    <td>指定された通り（指定がなければBEエンディアン）</td>
                </tr>
                <tr>
                    <td>00 00 FF FE 00 00 40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65 00
                        00 00 74 00 00 00 20 00 00 00 22 00 (00 00 XX 00)* 00 00 22 00 00 00 3B 00</td>
                    <td>指定された通り（指定がなければ2143エンディアン）</td>
                </tr>
                <tr>
                    <td>00 00 40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65 00 00 00 74 00
                        00 00 20 00 00 00 22 00 (00 00 XX 00)* 00 00 22 00 00 00 3B 00</td>
                    <td>指定された通り（指定がなければ2143エンディアン）</td>
                </tr>
                <tr>
                    <td>FE FF 00 00 00 40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65 00 00
                        00 74 00 00 00 20 00 00 00 22 00 00 (00 XX 00 00)* 00 22 00 00 00 3B 00 00</td>
                    <td>指定された通り（指定がなければ3412エンディアン）</td>
                </tr>
                <tr>
                    <td>00 40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65 00 00 00 74 00 00
                        00 20 00 00 00 22 00 00 (00 XX 00 00)* 00 22 00 00 00 3B 00 00</td>
                    <td>指定された通り（指定がなければ3412エンディアン）</td>
                </tr>
                <tr>
                    <td>FF FE 00 00 40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65 00 00 00
                        74 00 00 00 20 00 00 00 22 00 00 00 (XX 00 00 00)* 22 00 00 00 3B 00 00 00</td>
                    <td>指定された通り（指定がなければLEエンディアン）</td>
                </tr>
                <tr>
                    <td>40 00 00 00 63 00 00 00 68 00 00 00 61 00 00 00 72 00 00 00 73 00 00 00 65 00 00 00 74 00 00 00
                        20 00 00 00 22 00 00 00 (XX 00 00 00)* 22 00 00 00 3B 00 00 00</td>
                    <td>指定された通り（指定がなければLEエンディアン）</td>
                </tr>
                <tr>
                    <td>00 00 FE FF</td>
                    <td>UTF-32-BE</td>
                </tr>
                <tr>
                    <td>FF FE 00 00</td>
                    <td>UTF-32-LE</td>
                </tr>
                <tr>
                    <td>00 00 FF FE</td>
                    <td>UTF-32-2143</td>
                </tr>
                <tr>
                    <td>FE FF 00 00</td>
                    <td>UTF-32-3412</td>
                </tr>
                <tr>
                    <td>FE FF</td>
                    <td>UTF-16-BE</td>
                </tr>
                <tr>
                    <td>FF FE</td>
                    <td>UTF-16-LE</td>
                </tr>
                <tr>
                    <td>7C 83 88 81 99 A2 85 A3 40 7F (YY)* 7F 5E</td>
                    <td>指定された通り、EBCDICからASCIIに変換</td>
                </tr>
                <tr>
                    <td>AE 83 88 81 99 A2 85 A3 40 FC (YY)* FC 5E</td>
                    <td>指定された通り、IBM1026からASCIIに変換</td>
                </tr>
                <tr>
                    <td>00 63 68 61 72 73 65 74 20 22 (YY)* 22 3B</td>
                    <td>指定された通り、GSM 03.38からASCIIに変換</td>
                </tr>
                <tr>
                    <td>類似のパターン</td>
                    <td>ユーザーエージェントは、ここで扱われていないエンコーディングをサポートする場合、追加の類似パターンをサポートすることができます。</td>
                </tr>
            </table>

        </li>

        <li>上記の表で「指定された通り」とマークされた項目に基づいてエンコーディングが検出された場合、
            ユーザーエージェントは、選択された@charsetでデコードされた文字列ストリームの先頭に適切な@charset規則が存在しない場合、
            スタイルシートを無視します。これにより以下が保証されます：
            <ul>
                <li>@charset規則は、そのスタイルシートのエンコーディングにおいてのみ機能すること。</li>
                <li>バイト順マークは、バイト順マークをサポートするエンコーディングでのみ無視されること。</li>
                <li>エンコーディング名に改行を含めることができないこと。</li>
            </ul>
        </li>

    </ul>

    <p>ユーザーエージェントは、不明なエンコーディングのスタイルシートを無視しなければなりません。</p>

    <h3>4.4.1 <a name="escaping">文字エンコーディングで表現できない文字の参照</a></h3>

    <p>スタイルシートは、現在の文字エンコーディングで表現できない文字を参照する必要がある場合があります。
        このような文字は、ISO 10646文字への<a href="#escaped-characters">エスケープ</a>参照として記述する必要があります。
        これらのエスケープは、HTMLやXML文書の数値文字参照と同じ目的を果たします（<a href="refs.html#ref-HTML4" rel="biblioentry" class="noxref"><span
                class="normref">[HTML4]</span></a>、第5章および第25章を参照）。
    </p>
    <p>文字エスケープ機構は、この方法で表現する必要がある文字がわずかである場合に使用するべきです。
        スタイルシートのほとんどがエスケープを必要とする場合、著者はより適切なエンコーディングでエンコードするべきです
        （例：スタイルシートにギリシャ文字が多く含まれる場合、著者は"ISO-8859-7"や"UTF-8"を使用するかもしれません）。
    </p>
    <p>異なる文字エンコーディングを使用する中間プロセッサは、これらのエスケープシーケンスをそのエンコーディングのバイトシーケンスに変換する場合があります。
        ただし、中間プロセッサは、ASCII文字の特殊な意味を打ち消すエスケープシーケンスを変更してはなりません。
    </p>
    <p><a href="conform.html#conformance">適合するユーザーエージェント</a>は、
        認識する文字エンコーディング内のすべての文字をISO-10646に正しくマッピングしなければなりません
        （またはそのように振る舞わなければなりません）。
    </p>
    <p>例えば、ISO-8859-1（Latin-1）として送信されたスタイルシートには、ギリシャ文字を直接含めることはできません：
        "&#954;&#959;&#965;&#961;&#959;&#962;"（ギリシャ語："kouros"）は
        "\3BA\3BF\3C5\3C1\3BF\3C2"と書く必要があります。
    </p>
    <div class="note">
        <p>
            <em><strong>注記。</strong>
                HTML 4では、
                数値文字参照は"style"属性値で解釈されますが、STYLE要素の内容では解釈されません。
                この非対称性のため、著者は"style"属性とSTYLE要素の両方で数値文字参照ではなく
                CSS文字エスケープ機構を使用することを推奨します。
                例えば、次のように記述することをお勧めします：</em>
        </p>

        <pre>
&lt;SPAN style="font-family: L\FC beck"&gt;...&lt;/SPAN&gt;
</pre>

        <p><em>次のように記述するのではなく：</em></p>

        <pre>
&lt;SPAN style="font-family: L&amp;#252;beck"&gt;...&lt;/SPAN&gt;
</pre>
    </div>

    <hr class="navbar">

    <div class="navbar">
        <p><a href="conform.html">前のページ</a> &nbsp;
            <a href="selector.html">次のページ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ一覧</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
</body>

</html>