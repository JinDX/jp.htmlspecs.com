<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja-JP">

<head>
    <title>視覚フォーマットモデル</title>
    <link rel="stylesheet" href="https://www.w3.org/TR/CSS22/style/default.css" type="text/css">
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
    <link rel="prev" href="box.html">
    <link rel="next" href="visudet.html">
    <link rel="contents" href="index.html#minitoc">
    <link rel="CSS-properties" href="propidx.html" title="properties">
    <link rel="index" href="indexlist.html" title="index">
    <link rel="first" href="index.html">
    <script type="text/javascript" src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style type="text/css">
        .current,
        .proposed,
        span.delcurrent {
            background: #feb
        }

        ins.proposed,
        span.insproposed,
        li.insproposed {
            background: #bfb
        }

        del.proposed,
        span.delproposed {
            background: #fbb
        }

        span.insproposed,
        li.insproposed {
            text-decoration: underline
        }

        span.delproposed,
        span.delcurrent {
            text-decoration: line-through
        }

        body>del,
        body>ins {
            display: block
        }

        blockquote.math {
            display: table
        }

        blockquote.math p {
            display: table-row
        }

        blockquote.math span {
            display: table-cell;
            padding-right: 0.3em
        }

        blockquote.math span:first-child {
            text-align: right
        }
    </style>
</head>

<body>
    <div class="navbar">
        <p><a href="box.html">前へ</a> &nbsp;
            <a href="visudet.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <hr class="navbar">

    <h1><a name="q0">9 視覚フォーマットモデル</a></h1>
    <div id="toc" class="subtoc">
        <p><strong>目次</strong>
        <ul class="toc">
            <li><a href="visuren.html#visual-model-intro" class="tocxref">9.1 視覚フォーマットモデルの概要</a>
                <ul class="toc">
                    <li><a href="visuren.html#viewport" class="tocxref">9.1.1 ビューポート</a>
                    <li><a href="visuren.html#containing-block" class="tocxref">9.1.2 <span class="index-def"
                                title="containing block"> 包含ブロック</span></a>
                </ul>
            <li><a href="visuren.html#box-gen" class="tocxref">9.2 ボックス生成の制御</a>
                <ul class="toc">
                    <li><a href="visuren.html#block-boxes" class="tocxref">9.2.1 ブロックレベル要素とブロックボックス</a>
                        <ul class="toc">
                            <li><a href="visuren.html#anonymous-block-level" class="tocxref">9.2.1.1 匿名ブロックボックス</a>
                        </ul>
                    <li><a href="visuren.html#inline-boxes" class="tocxref">9.2.2 インラインレベル要素とインラインボックス</a>
                        <ul class="toc">
                            <li><a href="visuren.html#anonymous" class="tocxref">9.2.2.1 匿名インラインボックス</a>
                        </ul>
                    <li><a href="visuren.html#run-in" class="tocxref">9.2.3 ランインボックス</a>
                    <li><a href="visuren.html#display-prop" class="tocxref">9.2.4 <span
                                class="propinst-display">'display'</span> プロパティ</a>
                </ul>
            <li><a href="visuren.html#positioning-scheme" class="tocxref">9.3 位置決定スキーム</a>
                <ul class="toc">
                    <li><a href="visuren.html#choose-position" class="tocxref">9.3.1 位置決定スキームの選択: <span
                                class="propinst-position">'position'</span> プロパティ</a>
                    <li><a href="visuren.html#position-props" class="tocxref">9.3.2 ボックスのオフセット: <span
                                class="propinst-top">'top'</span>, <span class="propinst-right">'right'</span>, <span
                                class="propinst-bottom">'bottom'</span>, <span class="propinst-left">'left'</span></a>
                </ul>
            <li><a href="visuren.html#normal-flow" class="tocxref">9.4 正常なフロー</a>
                <ul class="toc">
                    <li><a href="visuren.html#block-formatting" class="tocxref">9.4.1 ブロックフォーマットコンテキスト</a>
                    <li><a href="visuren.html#inline-formatting" class="tocxref">9.4.2 インラインフォーマットコンテキスト</a>
                    <li><a href="visuren.html#relative-positioning" class="tocxref">9.4.3 相対位置指定</a>
                </ul>
            <li><a href="visuren.html#floats" class="tocxref">9.5 フロート</a>
                <ul class="toc">
                    <li><a href="visuren.html#float-position" class="tocxref">9.5.1 フロートの位置指定: <span
                                class="propinst-float">'float'</span> プロパティ</a>
                    <li><a href="visuren.html#flow-control" class="tocxref">9.5.2 フロートの隣接フローの制御: <span
                                class="propinst-clear">'clear'</span> プロパティ</a>
                </ul>
            <li><a href="visuren.html#absolute-positioning" class="tocxref">9.6 絶対位置指定</a>
                <ul class="toc">
                    <li><a href="visuren.html#fixed-positioning" class="tocxref">9.6.1 固定位置指定</a>
                </ul>
            <li><a href="visuren.html#dis-pos-flo" class="tocxref">9.7 'display'、'position'、および 'float' の関係</a>
            <li><a href="visuren.html#comparison" class="tocxref">9.8 正常なフロー、フロート、絶対位置指定の比較</a>
                <ul class="toc">
                    <li><a href="visuren.html#comp-normal-flow" class="tocxref">9.8.1 正常なフロー</a>
                    <li><a href="visuren.html#comp-relpos" class="tocxref">9.8.2 相対位置指定</a>
                    <li><a href="visuren.html#comp-float" class="tocxref">9.8.3 ボックスのフロート</a>
                    <li><a href="visuren.html#comp-abspos" class="tocxref">9.8.4 絶対位置指定</a>
                </ul>
            <li><a href="visuren.html#layers" class="tocxref">9.9 レイヤー化されたプレゼンテーション</a>
                <ul class="toc">
                    <li><a href="visuren.html#z-index" class="tocxref">9.9.1 スタックレベルを指定: <span
                                class="propinst-z-index">'z-index'</span> プロパティ</a>
                </ul>
            <li><a href="visuren.html#direction" class="tocxref">9.10 テキストの方向: <span
                        class="propinst-direction">'direction'</span> および <span
                        class="propinst-unicode-bidi">'unicode-bidi'</span> プロパティ</a>
        </ul>
    </div>


    <h2>9.1 <a name="visual-model-intro">視覚フォーマットモデルの概要</a></h2>

    <p>この章と次の章では、<a name="x0"><span class="index-def"
                title="visual formatting model">視覚フォーマットモデル</span></a>について説明します。これは、ユーザーエージェントが視覚的な<a
            href="media.html">メディア</a>に対して<a href="conform.html#doctree">ドキュメントツリー</a>をどのように処理するかを示します。
    </p>

    <p>視覚フォーマットモデルでは、ドキュメントツリー内の各要素が<a href="box.html">ボックスモデル</a>に従って0個以上のボックスを生成します。これらのボックスのレイアウトは以下によって制御されます:</p>

    <ul>
        <li><a href="box.html#box-dimensions">ボックスの寸法</a>および<a href="#box-gen">タイプ</a></li>
        <li><a href="#positioning-scheme">位置決定スキーム</a>（正常なフロー、フロート、絶対位置指定）</li>
        <li><a href="conform.html#doctree">ドキュメントツリー</a>内の要素間の関係</li>
        <li>外部情報（例: ビューポートサイズ、画像の<a href="conform.html#intrinsic">固有の</a>寸法など）</li>
    </ul>

    <p>この章と次の章で定義されたプロパティは、<a href="media.html#continuous-media-group">連続メディア</a>および<a
            href="media.html#paged-media-group">ページ化メディア</a>の両方に適用されます。
        <span class="paged">ただし、<a href="box.html#margin-properties">マージンプロパティ</a>の意味はページ化メディアに適用される場合に異なります（詳細は<a
                href="page.html#page-margins">ページモデル</a>を参照してください）。</span>
    </p>

    <p>視覚フォーマットモデルは、すべてのフォーマットの側面を指定しているわけではありません（例: 文字間隔アルゴリズムの指定はありません）。<a
            href="conform.html#conformance">準拠するユーザーエージェント</a>は、この仕様でカバーされていないフォーマットの問題について異なる動作をする場合があります。
    </p>

    <h3>9.1.1 <a name="viewport">ビューポート</a></h3>

    <p><a href="media.html#continuous-media-group">連続メディア</a>用のユーザーエージェントは通常、ユーザーにドキュメントを閲覧するための<a name="x1"><span
                class="index-def"
                title="viewport"><dfn>ビューポート</dfn></span></a>（画面上のウィンドウまたはその他の表示領域）を提供します。ユーザーエージェントは、ビューポートがリサイズされた場合にドキュメントのレイアウトを変更することがあります（<a
            href="visudet.html#containing-block-details">初期包含ブロック</a>を参照）。
    </p>
    <p>
        ビューポートがドキュメントがレンダリングされているキャンバス領域よりも小さい場合、ユーザーエージェントはスクロール機構を提供する必要があります。

        各<a href="intro.html#canvas">キャンバス</a>につきビューポートは1つだけですが、ユーザーエージェントは複数のキャンバスにレンダリングを行うことができます（例:
        同じドキュメントの異なるビューを提供する）。
    </p>

    <h3>9.1.2 <span class="index-def" title="containing block">
            <a name="containing-block">包含ブロック</a></span>
    </h3>

    <p>CSS 2.2では、多くのボックスの位置とサイズが、<a name="x3"><span class="index-def"
                title="containing block"><dfn>包含ブロック</dfn></span></a>と呼ばれる長方形のボックスのエッジに基づいて計算されます。
        一般的に、生成されたボックスは子孫ボックスの包含ブロックとして機能します。ボックスがその子孫の包含ブロックを「確立する」と言います。「ボックスの包含ブロック」というフレーズは、「ボックスが存在する包含ブロック」を意味し、ボックスが生成するものではありません。
    </p>
    <p>各ボックスはその包含ブロックに対して位置が与えられますが、この包含ブロックに制約されるわけではなく、<a href="visufx.html#overflow">オーバーフロー</a>することがあります。
    </p>

    <p>包含ブロックの寸法がどのように計算されるかの<a href="visudet.html#containing-block-details">詳細</a>は<a
            href="visudet.html">次の章</a>で説明されています。
    </p>
    <h2>9.2 <a name="box-gen">ボックス生成の制御</a></h2>

    <p>以下のセクションでは、CSS&nbsp;2.2で生成される可能性のあるボックスの種類について説明します。ボックスの種類は、視覚フォーマットモデルでの動作に部分的に影響を与えます。以下で説明する<a
            href="visuren.html#propdef-display" class="noxref"><span
                class="propinst-display">'display'</span></a>プロパティは、ボックスの種類を指定します。
    </p>

    <p><a href="visuren.html#propdef-display" class="noxref"><span
                class="propinst-display">'display'</span></a>プロパティの特定の値は、ソースドキュメントの要素に対して、子孫ボックスや生成されたコンテンツを含み、さらに任意の位置決めスキームに関与する<a
            name="principal-box"><dfn>主要ボックス</dfn></a>を生成させます。一部の要素は、主要ボックスに加えて追加のボックスを生成する場合があります。例えば、'list-item'要素です。これらの追加ボックスは、主要ボックスに基づいて配置されます。

    <h3>9.2.1 <a name="block-boxes">ブロックレベル要素とブロックボックス</a></h3>

    <p><a name="block-level"><dfn>ブロックレベル要素</dfn></a>&ndash; ソースドキュメントの中で視覚的にブロックとしてフォーマットされる要素（例: 段落）&ndash;
        は、ブロックレベルの主要ボックスを生成する要素です。<a href="visuren.html#propdef-display" class="noxref"><span
                class="propinst-display">'display'</span></a>プロパティの値で要素をブロックレベルにするものには、'block'、'list-item'、および'table'があります。<a
            name="x6"><dfn>ブロックレベルボックス</dfn></a>は、<a href="#block-formatting">ブロックフォーマットコンテキスト</a>に参加するボックスです。

    <p>CSS&nbsp;2.2では、ブロックレベルボックスはテーブルボックスまたは置換要素の主要ボックスでない限り、ブロックコンテナーボックスでもあります。<a
            name="block-container-box"><dfn>ブロックコンテナーボックス</dfn></a>は、ブロックレベルボックスのみを含むか、<a
            href="#inline-formatting">インラインフォーマットコンテキスト</a>を確立し、<a
            href="#anonymous-block-level">インラインレベルボックス</a>のみを含みます。主要ボックスがブロックコンテナーボックスである要素は、<a
            name="block-container-element"><dfn>ブロックコンテナー要素</dfn></a>です。'display'プロパティの値で非置換要素がブロックコンテナーボックスを生成するものには、'block'、'list-item'、および'inline-block'があります。ただし、すべてのブロックコンテナーボックスがブロックレベルボックスであるわけではありません。非置換インラインブロックや非置換テーブルセルはブロックコンテナーボックスですが、ブロックレベルではありません。ブロックコンテナーボックスであり、かつブロックレベルであるボックスは、<a
            name="x9"><dfn>ブロックボックス</dfn></a>と呼ばれます。

    <p>"ブロックレベルボックス"、"ブロックコンテナーボックス"、および"ブロックボックス"の3つの用語は、明確な場合には"ブロック"と省略されることがあります。

    <h4>9.2.1.1 <a name="anonymous-block-level">匿名ブロックボックス</a></h4>

    <p>次のようなドキュメントでは:
    </p>
    <pre><code class="html">
&lt;DIV&gt;
  Some text
  &lt;P&gt;More text
&lt;/DIV&gt;
</code></pre>
    <p>
        （DIVとPの両方に'display: block'が指定されていると仮定すると）、DIVはインラインコンテンツとブロックコンテンツの両方を持っているように見えます。フォーマットを定義しやすくするために、「Some
        text」の周囲に<em><a name="x10"><dfn>匿名ブロックボックス</dfn></a></em>があると仮定します。
    </p>
    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/anon-block.png" alt="上記の例における3つのボックスの図解。一つは匿名ボックス。"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-anon-block"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/anon-block-desc.html"
                    title="匿名ブロックボックスの詳細説明">[D]</A></SPAN>
        </p>
        <p class="caption">上記の例における3つのボックスの図解。一つは匿名ボックス。
        </p>
    </div>

    <p>言い換えると、ブロックコンテナーボックス（上記のDIVのように）にブロックレベルボックス（上記のPのように）が含まれている場合、内部には<em>のみ</em>ブロックレベルボックスを含むようにします。

    <p>インラインボックスがインフローブロックレベルボックスを含む場合、インラインボックス（および同じ行ボックス内のインライン祖先）は、ブロックレベルボックス（および連続しているか折り畳み可能な空白やアウトオブフロー要素でのみ分離されたブロックレベル兄弟）を挟んで分割され、インラインボックスが2つのボックスに分割されます（どちらか片側が空の場合でも）。行ボックスの前後は匿名ブロックボックスで囲まれ、ブロックレベルボックスはそれら匿名ボックスの兄弟になります。そのようなインラインボックスが相対位置指定の影響を受ける場合、結果として生じる変換はインラインボックス内のブロックレベルボックスにも影響します。

    <div class="example">
        <P style="display:none">例:</P>
        <p>以下のCSSルールが適用される場合、このモデルは次の例に適用されます:</p>

        <pre><code class="css">
p    { display: inline }
span { display: block }
</code></pre>

        <p>このHTML文書を使用すると:</p>

        <pre class="html example"><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HEAD&gt;
&lt;TITLE&gt;Anonymous text interrupted by a block&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;P&gt;
<em>This is anonymous text before the SPAN.</em>
&lt;SPAN&gt;This is the content of SPAN.&lt;/SPAN&gt;
<em>This is anonymous text after the SPAN.</em>
&lt;/P&gt;
&lt;/BODY&gt;
</code></pre>

        <p>P要素には匿名テキストのチャンク（C1）が含まれ、その後にブロックレベル要素が続き、さらに匿名テキストのチャンク（C2）が続きます。結果として得られるボックスは、BODYを表すブロックボックスであり、C1の周囲に匿名ブロックボックス、SPANのブロックボックス、そしてC2の周囲に別の匿名ブロックボックスが含まれます。
        </p>
    </div>

    <p>匿名ボックスのプロパティは、囲んでいる非匿名ボックス（例:
        「匿名ブロックボックス」のサブセクション見出し直下の例ではDIV）のプロパティを継承します。継承されないプロパティはその初期値を持ちます。例えば、匿名ボックスのフォントはDIVから継承されますが、マージンは0になります。
    </p>
    <p>
        匿名ブロックボックスを生成する原因となる要素に設定されたプロパティは、その要素のボックスとコンテンツに適用されます。例えば、上記の例でP要素にボーダーが設定されていた場合、そのボーダーはC1（行の終わりで開いた状態）とC2（行の始まりで開いた状態）の周囲に描画されます。
    </p>
    <p>
        一部のユーザーエージェントは、ブロックを含むインラインにボーダーを別の方法で実装しています。例えば、そのようなネストされたブロックを「匿名ラインボックス」で囲み、そのようなボックスの周囲にインラインボーダーを描画する方法です。CSS1およびCSS2がこの動作を定義していなかったため、CSS1およびCSS2のみを対象としたユーザーエージェントは、この代替モデルを実装し、このCSS&nbsp;2.2の部分に準拠していると主張することができます。この仕様がリリースされた後に開発されたUAには適用されません。
    </p>

    <p>匿名ブロックボックスは、それを参照する可能性のあるパーセンテージ値を解決する際に無視されます。代わりに、最も近い非匿名の祖先ボックスが使用されます。例えば、上記のDIV内の匿名ブロックボックスの子がパーセンテージの高さを解決するために包含ブロックの高さを知る必要がある場合、匿名ブロックボックスの高さではなく、DIVによって形成された包含ブロックの高さを使用します。

    <h3>9.2.2 <a name="inline-boxes">インラインレベル要素とインラインボックス</a></h3>

    <p><a name="inline-level"><dfn>インラインレベル要素</dfn></a>は、ソースドキュメント内で新しいコンテンツブロックを形成せず、コンテンツが行内に分配される要素です（例:
        段落内の強調されたテキスト、インライン画像など）。<a href="visuren.html#propdef-display" class="noxref"><span
                class="propinst-display">'display'</span></a>プロパティの次の値が要素をインラインレベルにします:
        'inline'、'inline-table'、および'inline-block'。

        インラインレベル要素は<a name="x12"><dfn>インラインレベルボックス</dfn></a>を生成します。これらはインラインフォーマットコンテキストに参加するボックスです。

    <p><a
            name="inline-box"><dfn>インラインボックス</dfn></a>とは、インラインレベルであり、そのコンテンツが包含するインラインフォーマットコンテキストに参加するボックスのことです。'display'値が'inline'の非置換要素は、インラインボックスを生成します。
        インラインボックスでないインラインレベルボックス（例: 置換インラインレベル要素、インラインブロック要素、インラインテーブル要素）は、<a
            name="x14"><dfn>アトミックインラインレベルボックス</dfn></a>と呼ばれます。これらは単一の不透明なボックスとしてインラインフォーマットコンテキストに参加します。

    <h4>9.2.2.1 <a name="anonymous">匿名インラインボックス</a></h4>

    <p>ブロックコンテナー要素内に直接含まれるテキスト（インライン要素内ではない）は、匿名インライン要素として扱われなければなりません。

    <p>次のようなHTMLマークアップを含むドキュメントでは:</p>

    <div class="html example">
        <pre><code class="html">
&lt;p&gt;Some &lt;em&gt;emphasized&lt;/em&gt; text&lt;/p&gt;
</code></pre>
    </div>

    <p><code>&lt;p&gt;</code>はブロックボックスを生成し、その中にいくつかのインラインボックスが含まれます。「emphasized」のボックスはインライン要素（<code>&lt;em&gt;</code>）によって生成されたインラインボックスですが、その他のボックス（「Some」および「text」）はブロックレベル要素（<code>&lt;p&gt;</code>）によって生成されたインラインボックスです。後者は<a
            name="x15"><span class="index-def"
                title="匿名インラインボックス">匿名インラインボックス</span></a>と呼ばれます。なぜなら、それらには関連付けられたインラインレベル要素がないからです。
    </p>
    <p>このような匿名インラインボックスは、親ブロックボックスから継承可能なプロパティを継承します。継承されないプロパティは初期値を持ちます。この例では、匿名インラインボックスの色はPから継承されますが、背景は透明になります。
    </p>

    <p>
        <a href="text.html#propdef-white-space" class="noxref"><span
                class="propinst-white-space">'white-space'</span></a>プロパティに従って後で折りたたまれることになる空白コンテンツは、匿名インラインボックスを生成しません。
    </p>

    <p>文脈からどの種類の匿名ボックスを指しているかが明らかな場合、この仕様では匿名インラインボックスと匿名ブロックボックスを単に匿名ボックスと呼びます。
    </p>
    <p>テーブルをフォーマットする際に発生するその他の種類の匿名ボックスについては、<a href="tables.html#anonymous-boxes">テーブル</a>を参照してください。
    </p>
    <h3>9.2.3 <a name="run-in">ランインボックス</a></h3>

    <p>[このセクションは、セクション番号を以前のドラフトと一致させるために存在します。<a name="x16"><span class="index-def" title="run-in">'Display:
                run-in'</span></a>は現在、CSSレベル3で定義されています（<a
            href="https://www.w3.org/TR/css3-box/">CSS基本ボックスモデル</a>を参照してください）。]

    <h3>9.2.4 <a name="display-prop">The</a> <a href="visuren.html#propdef-display" class="noxref"><span
                class="propinst-display">'display'</span></a> プロパティ</h3>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x17"><span class="index-def" title="'display'"><dfn
                                id="propdef-display">display</dfn></span></a>
            <tr>
                <th>値:
                <td>inline | block | list-item | inline-block |
                    table | inline-table | table-row-group | table-header-group |
                    table-footer-group | table-row | table-column-group | table-column |
                    table-cell | table-caption | none | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>inline
            <tr>
                <th>適用対象:
                <td>すべての要素
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#all-media-group" class="noxref">all</a>
            <tr>
                <th>計算値:
                <td>テキストを参照
    </table>

    <p>このプロパティの値には次のような意味があります:</p>

    <dl>
        <dt><span class="index-def" title="'block', definition of"><a
                    name="value-def-block"><strong>block</strong></a></span>
        </dt>
        <dd>この値は要素に主要なブロックボックスを生成させます。
        </dd>
        <dt><span class="index-def" title="'inline-block', definition of"><a
                    name="value-def-inline-block"><strong>inline-block</strong></a></span>
        </dt>
        <dd>この値は要素に主要なインラインレベルのブロックコンテナーを生成させます。
            （インラインブロックの内部はブロックボックスとしてフォーマットされ、要素自体はアトミックインラインレベルボックスとしてフォーマットされます。）
        </dd>
        <dt><span class="index-def" title="'inline', definition of"><a
                    name="value-def-inline"><strong>inline</strong></a></span>
        </dt>
        <dd>この値は要素に1つ以上のインラインボックスを生成させます。
        </dd>
        <dt><span class="index-def" title="'list-item', definition of"><a
                    name="value-def-list-item"><strong>list-item</strong></a></span>
        </dt>
        <dd>この値は要素（例: HTMLのLI）に主要なブロックボックスとマーカーボックスを生成させます。リストに関する情報とそのフォーマット例については、<a
                href="generate.html#lists">リスト</a>のセクションを参照してください。
        </dd>
        <dt><strong>none</strong></dt>

        <dd><a name="x22"><span class="index-def" title="'none'::as display value">この値</span></a>は、要素が<a
                href="intro.html#formatting-structure">フォーマット構造</a>に現れないようにします（つまり、視覚メディアでは要素はボックスを生成せず、レイアウトに影響を与えません）。子孫要素もボックスを生成せず、要素とそのコンテンツはフォーマット構造から完全に削除されます。この動作は、子孫に<a
                href="visuren.html#propdef-display" class="noxref"><span
                    class="propinst-display">'display'</span></a>プロパティを設定しても上書きすることは<strong>できません</strong>。

            <p>'none'のディスプレイ値は不可視のボックスを作成するのではなく、まったくボックスを作成しません。CSSには、フォーマット構造にボックスを生成し、それ自体は目に見えないボックスを生成するメカニズムが含まれています。詳細は<a
                    href="visufx.html#visibility">可視性</a>のセクションを参照してください。
            </p>
        </dd>
        <dt>
            <a href="tables.html#value-def-table" class="noxref"><span class="value-inst-table">table</span></a>,
            <a href="tables.html#value-def-inline-table" class="noxref"><span
                    class="value-inst-inline-table">inline-table</span></a>,
            <a href="tables.html#value-def-table-row-group" class="noxref"><span
                    class="value-inst-table-row-group">table-row-group</span></a>,
            <a href="tables.html#value-def-table-column" class="noxref"><span
                    class="value-inst-table-column">table-column</span></a>,
            <a href="tables.html#value-def-table-column-group" class="noxref"><span
                    class="value-inst-table-column-group">table-column-group</span></a>,
            <a href="tables.html#value-def-table-header-group" class="noxref"><span
                    class="value-inst-table-header-group">table-header-group</span></a>,
            <a href="tables.html#value-def-table-footer-group" class="noxref"><span
                    class="value-inst-table-footer-group">table-footer-group</span></a>,
            <a href="tables.html#value-def-table-row" class="noxref"><span
                    class="value-inst-table-row">table-row</span></a>,
            <a href="tables.html#value-def-table-cell" class="noxref"><span
                    class="value-inst-table-cell">table-cell</span></a>, and
            <a href="tables.html#value-def-table-caption" class="noxref"><span
                    class="value-inst-table-caption">table-caption</span></a>
        </dt>
        <dd>これらの値は、要素を<a href="tables.html">テーブル</a>の章で説明されている制限に従って、テーブル要素のように振る舞わせます。
        </dd>
    </dl>

    <p>計算値は指定値と同じですが、配置された要素やフロート要素（<a
            href="#dis-pos-flo">'display'、'position'、および'float'の関係</a>を参照）およびルート要素の場合は例外があります。

        ルート要素の場合、計算値は<a href="#dis-pos-flo">'display'、'position'、および'float'の関係</a>のセクションで説明されるように変更されます。
    </p>

    <p><a href="about.html#initial-value">初期値</a>が<a href="visuren.html#propdef-display" class="noxref"><span
                class="propinst-display">'display'</span></a>の場合、'inline'ですが、ユーザーエージェントの<a
            href="cascade.html#default-style-sheet">デフォルトスタイルシート</a>のルールによって<a
            href="cascade.html">上書き</a>される可能性があります。HTML 4の<a href="sample.html">サンプルスタイルシート</a>を参照してください。
    </p>
    <div class="example">
        <P style="display:none">例:</P>
        <p><a href="visuren.html#propdef-display" class="noxref"><span
                    class="propinst-display">'display'</span></a>プロパティのいくつかの例を以下に示します:
        </p>
        <pre><code class="css">
p   { display: block }
em  { display: inline }
li  { display: list-item } 
img { display: none }      /* 画像を表示しない */
</code></pre>
    </div>


    <h2>9.3 <a name="positioning-scheme">位置決定スキーム</a></h2>

    <p>CSS&nbsp;2.2では、ボックスは3つの<a name="x23"><span class="index-def"
                title="positioning scheme"><dfn>位置決定スキーム</dfn></span></a>のいずれかに従って配置されます。</p>

    <ol>
        <li><a href="#normal-flow">通常のフロー</a>。CSS&nbsp;2.2では、通常のフローはブロックレベルボックスの<a
                href="#block-formatting">ブロックフォーマット</a>、
            インラインレベルボックスの<a href="#inline-formatting">インラインフォーマット</a>、およびブロックレベルおよびインラインレベルボックスの<a
                href="#relative-positioning">相対位置指定</a>を含みます。
        </li>
        <li><a
                href="#floats">フロート</a>。フロートモデルでは、ボックスはまず通常のフローに従って配置され、その後フローから外されて可能な限り左または右に移動されます。コンテンツはフロートの側面に沿って流れることがあります。
        </li>
        <li><a
                href="#absolute-positioning">絶対位置指定</a>。絶対位置指定モデルでは、ボックスは完全に通常のフローから外され（後続の兄弟要素に影響を与えません）、包含ブロックに基づいて位置が割り当てられます。
        </li>
    </ol>

    <p>要素がフロート、絶対位置に指定されている、またはルート要素である場合、その要素は<dfn><a name="x24"><span
                    class="index-def">フローから外れた</span></a></dfn>と呼ばれます。要素がフローから外れていない場合、それは<dfn><a name="x25"><span
                    class="index-def">フロー内</span></a></dfn>と呼ばれます。
        <dfn><a name="x26"><span
                    class="index-def">要素Aのフロー</span></a></dfn>は、<var>A</var>と、最も近いフロー外の祖先が<var>A</var>であるすべてのフロー内要素から構成される集合です。
    </p>

    <div class="note">
        <em><strong>注意。</strong>
            CSS&nbsp;2.2の位置決定スキームは、レイアウト効果のために使用されるマークアップトリック（例: 見えない画像）を避けることで、文書をよりアクセス可能にするための支援を提供します。
        </em>
    </div>

    <h3>9.3.1 <a name="choose-position">位置決定スキームの選択:</a> <a href="visuren.html#propdef-position" class="noxref"><span
                class="propinst-position">'position'</span></a> プロパティ</h3>

    <p><a href="visuren.html#propdef-position" class="noxref"><span
                class="propinst-position">'position'</span></a>プロパティおよび<a href="visuren.html#propdef-float"
            class="noxref"><span
                class="propinst-float">'float'</span></a>プロパティは、ボックスの位置を計算するために使用されるCSS&nbsp;2.2の位置決定アルゴリズムを決定します。
    </p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x27"><span class="index-def" title="'position'"><dfn
                                id="propdef-position">position</dfn></span></a>
            <tr>
                <th>値:
                <td>static | relative | absolute | fixed | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>static
            <tr>
                <th>適用対象:
                <td>すべての要素
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">visual</a>
            <tr>
                <th>計算値:
                <td>指定通り
    </table>

    <p>このプロパティの値には次の意味があります:</p>

    <dl>
        <dt><strong>static</strong></dt>

        <dd>ボックスは通常のボックスであり、<a href="#normal-flow">通常のフロー</a>に従って配置されます。
            <a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">'top'</span></a>、
            <a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">'right'</span></a>、
            <a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom">'bottom'</span></a>、
            および<a href="visuren.html#propdef-left" class="noxref"><span
                    class="propinst-left">'left'</span></a>プロパティは適用されません。
        </dd>
        <dt><strong>relative</strong></dt>

        <dd>ボックスの位置は<a href="#normal-flow">通常のフロー</a>に従って計算されます（これを通常のフローでの位置と呼びます）。その後、ボックスは通常の位置に対して<a
                href="#relative-positioning">相対的に</a>オフセットされます。
            ボックスBが相対位置指定されている場合、次のボックスの位置は、Bがオフセットされていないかのように計算されます。'position:relative'の効果は、table-row-group、table-header-group、table-footer-group、table-row、table-column-group、table-column、table-cell、およびtable-caption要素には未定義です。
        </dd>
        <dt><strong>absolute</strong></dt>
        <dd> ボックスの位置（および場合によってはサイズ）は、
            <a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">'top'</span></a>、
            <a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">'right'</span></a>、
            <a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom">'bottom'</span></a>、
            および<a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">'left'</span></a>
            プロパティを使用して指定されます。これらのプロパティは、ボックスの<a href="#containing-block">包含ブロック</a>に基づいてオフセットを指定します。
            絶対位置指定されたボックスは通常のフローから外されます。これにより、後続の兄弟要素のレイアウトには影響を与えません。また、
            <a href="#absolutely-positioned">絶対位置指定されたボックス</a>にはマージンがありますが、他のマージンと<a
                href="box.html#collapsing-margins">折りたたまれ</a>ません。
        </dd>
        <dt><strong>fixed</strong></dt>
        <dd> ボックスの位置は'absolute'モデルに従って計算されますが、さらにボックスは<a href="#fixed-positioning">固定</a>されます。
            'absolute'モデルの場合と同様に、ボックスのマージンは他のマージンと折りたたまれません。
            handheld、projection、screen、tty、およびtvメディアタイプの場合、ボックスは<a href="#viewport">ビューポート</a>に対して固定され、スクロールしても移動しません。
            printメディアタイプの場合、ボックスはすべてのページにレンダリングされ、ページボックスに対して固定されます（例えば、印刷プレビューの場合のようにビューポートを通してページが見える場合でも）。その他のメディアタイプについては、プレゼンテーションは未定義です。
            作成者は'fixed'をメディアに依存する方法で指定することを望むかもしれません。例えば、作成者はボックスが画面上では<a
                href="#viewport">ビューポート</a>の上部に留まるようにしたいが、印刷された各ページの上部には留まらないようにしたいと考えるかもしれません。この2つの指定は、次のように<a
                href="media.html#at-media-rule">@mediaルール</a>を使用して分離できます:

            <div class="example">
                <P style="display:none">例:</P>
                <pre><code class="css">   
@media screen { 
  h1#first { position: fixed } 
}
@media print { 
  h1#first { position: static }
}
</code></pre>
            </div>
            <p>UAは固定ボックスのコンテンツをページ分割してはなりません。<span class="note">なお、UAは他の方法で不可視コンテンツを印刷する場合があります。「<a
                        href="page.html#outside-page-box">ページボックス外のコンテンツ</a>」を章13で参照してください。</span>
        </dd>
    </dl>
    <p>
        ユーザーエージェントは、ルート要素のpositionを'static'として扱うことがあります。
    </p>

    <h3>9.3.2 <a name="position-props">ボックスオフセット</a>: <a href="visuren.html#propdef-top" class="noxref"><span
                class="propinst-top">'top'</span></a>, <a href="visuren.html#propdef-right" class="noxref"><span
                class="propinst-right">'right'</span></a>, <a href="visuren.html#propdef-bottom" class="noxref"><span
                class="propinst-bottom">'bottom'</span></a>, <a href="visuren.html#propdef-left" class="noxref"><span
                class="propinst-left">'left'</span></a></h3>

    <p>要素は、その<a href="visuren.html#propdef-position" class="noxref"><span
                class="propinst-position">'position'</span></a>プロパティの値が'static'以外である場合、<span class="index-def" title="positioned
element/box"><a name="positioned-element"><dfn>配置済み</dfn></a></span>とされます。配置済みの要素は、次の4つのプロパティに基づいてレイアウトされる配置ボックスを生成します：
    </p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x29"><span class="index-def" title="'top'"><dfn id="propdef-top">top</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>配置済み要素
            <tr>
                <th>継承:
                <td>なし
            <tr>
                <th>パーセンテージ:
                <td>包含ブロックの高さに基づく
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>長さとして指定された場合、対応する絶対長さ。パーセンテージとして指定された場合、指定された値。それ以外の場合は'auto'。
    </table>

    <p>このプロパティは、<a href="#absolutely-positioned">絶対配置された</a>ボックスのトップマージンエッジが、ボックスの<a
            href="#containing-block">包含ブロック</a>の上端からどの程度オフセットされるかを指定します。相対配置されたボックスの場合、オフセットはボックス自体の上端に対して行われます（つまり、ボックスは通常のフローで位置が決定され、その位置からこれらのプロパティに基づいてオフセットされます）。
    </p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x30"><span class="index-def" title="'right'"><dfn id="propdef-right">right</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>配置済み要素
            <tr>
                <th>継承:
                <td>なし
            <tr>
                <th>パーセンテージ:
                <td>包含ブロックの幅に基づく
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>長さとして指定された場合、対応する絶対長さ。パーセンテージとして指定された場合、指定された値。それ以外の場合は'auto'。
    </table>

    <p>'top'と同様ですが、ボックスの右マージンエッジがボックスの<a
            href="#containing-block">包含ブロック</a>の右端から左方向にどの程度オフセットされるかを指定します。相対配置されたボックスの場合、オフセットはボックス自体の右端に対して行われます。</p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x31"><span class="index-def" title="'bottom'"><dfn
                                id="propdef-bottom">bottom</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>配置済み要素
            <tr>
                <th>継承:
                <td>なし
            <tr>
                <th>パーセンテージ:
                <td>包含ブロックの高さに基づく
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>長さとして指定された場合、対応する絶対長さ。パーセンテージとして指定された場合、指定された値。それ以外の場合は'auto'。
    </table>

    <p>'top'と同様ですが、ボックスの下マージンエッジがボックスの<a
            href="#containing-block">包含ブロック</a>の下端から上方向にどの程度オフセットされるかを指定します。相対配置されたボックスの場合、オフセットはボックス自体の下端に対して行われます。</p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x32"><span class="index-def" title="'left'"><dfn id="propdef-left">left</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-length" class="noxref"><span
                            class="value-inst-length">&lt;length&gt;</span></a> | <a
                        href="syndata.html#value-def-percentage" class="noxref"><span
                            class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>配置済み要素
            <tr>
                <th>継承:
                <td>なし
            <tr>
                <th>パーセンテージ:
                <td>包含ブロックの幅に基づく
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>長さとして指定された場合、対応する絶対長さ。パーセンテージとして指定された場合、指定された値。それ以外の場合は'auto'。
    </table>

    <p>'top'と同様ですが、ボックスの左マージンエッジがボックスの<a
            href="#containing-block">包含ブロック</a>の左端から右方向にどの程度オフセットされるかを指定します。相対配置されたボックスの場合、オフセットはボックス自体の左端に対して行われます。</p>

    <p>これら4つのプロパティの値は次の意味を持ちます：</p>

    <dl>
        <dt><strong><a href="syndata.html#value-def-length" class="noxref"><span
                        class="value-inst-length">&lt;length&gt;</span></a></strong></dt>
        <dd>オフセットは参照エッジからの固定距離です。負の値も許容されます。
        </dd>
        <dt><strong><a href="syndata.html#value-def-percentage" class="noxref"><span
                        class="value-inst-percentage">&lt;percentage&gt;</span></a></strong></dt>

        <dd>オフセットは包含ブロックの幅（<a href="visuren.html#propdef-left" class="noxref"><span
                    class="propinst-left">'left'</span></a>または<a href="visuren.html#propdef-right" class="noxref"><span
                    class="propinst-right">'right'</span></a>の場合）または高さ（<a href="visuren.html#propdef-top"
                class="noxref"><span class="propinst-top">'top'</span></a>および<a href="visuren.html#propdef-bottom"
                class="noxref"><span class="propinst-bottom">'bottom'</span></a>の場合）のパーセンテージです。負の値も許容されます。
        </dd>
        <dt><strong>auto</strong></dt>
        <dd>置換されていない要素の場合、この値の影響は関連プロパティのどれが'auto'であるかによります。詳細は<a href="visudet.html#abs-non-replaced-width">幅</a>と<a
                href="visudet.html#abs-non-replaced-height">高さ</a>の<a
                href="#absolutely-positioned">絶対配置された</a>置換されていない要素のセクションを参照してください。置換された要素の場合、この値の影響は置換コンテンツの固有寸法にのみ依存します。詳細は<a
                href="visudet.html#abs-replaced-width">幅</a>と<a
                href="visudet.html#abs-replaced-height">高さ</a>の絶対配置された置換要素のセクションを参照してください。
        </dd>
    </dl>

    <h2>9.4 <a name="normal-flow">通常のフロー</a></h2>

    <p>通常のフロー内のボックスは<a name="x33"><span class="index-def" title="フォーマットコンテキスト">フォーマットコンテキスト</span></a>に属し、CSS
        2.2ではテーブル、ブロック、インラインのいずれかです。CSSの将来のレベルでは、他の種類のフォーマットコンテキストが導入される予定です。<a href="#block-level">ブロックレベル</a>のボックスは<a
            href="#block-formatting">ブロックフォーマット</a>コンテキストに参加します。<a href="#inline-level">インラインレベルのボックス</a>は<a
            href="#inline-formatting">インラインフォーマット</a>コンテキストに参加します。テーブルフォーマットコンテキストについては、<a
            href="tables.html">テーブルに関する章</a>をご参照ください。</p>

    <h3>9.4.1 <a name="block-formatting">ブロックフォーマットコンテキスト</a></h3>

    <p>フロート、絶対配置された要素、ブロックコンテナ（例:
        inline-block、table-cell、table-captionなど）でブロックボックスでないもの、および'overflow'が'visible'以外の値を持つブロックボックス（ただしその値がビューポートに伝播された場合を除く）は、そのコンテンツのために新しいブロックフォーマットコンテキストを確立します。
    </p>

    <p>ブロックフォーマットコンテキストでは、ボックスは包含ブロックの上端から始まり、縦方向に順番に配置されます。2つの隣接するボックス間の縦方向の距離は<a href="box.html#propdef-margin"
            class="noxref"><span
                class="propinst-margin">'margin'</span></a>プロパティによって決定されます。ブロックフォーマットコンテキスト内の隣接ブロックレベルボックス間の縦方向マージンは<a
            href="box.html#collapsing-margins">折り畳まれます</a>。</p>

    <p>ブロックフォーマットコンテキストでは、各ボックスの左外端は包含ブロックの左端に接触します（右から左のフォーマットの場合は右端が接触）。これは、フロートが存在する場合でも当てはまります（ただし、ボックスの<em>行ボックス</em>がフロートによって縮小する可能性があります）。ただし、ボックス自体が新しいブロックフォーマットコンテキストを確立する場合（その場合、ボックス自体がフロートによって<a
            href="#bfc-next-to-float"><em>狭くなる可能性があります</em></a>）。</p>

    <p>ページメディアにおける改ページについての情報は、<a href="page.html#allowed-page-breaks">許可された改ページ</a>に関するセクションをご参照ください。</p>

    <h3>9.4.2 <a name="inline-formatting">インラインフォーマットコンテキスト</a></h3>

    <p>インラインフォーマットコンテキストは、ブロックレベルのボックスを含まないブロックコンテナボックスによって確立されます。インラインフォーマットコンテキストでは、ボックスは包含ブロックの上部から始まり、横方向に順番に配置されます。これらのボックス間では、水平マージン、ボーダー、パディングが尊重されます。ボックスは、上下やベースラインの位置に基づいて垂直方向に整列することができます。これらのボックスが形成する行を含む矩形領域は<span
            class="index-def" title="行ボックス"><a name="line-box"><dfn>行ボックス</dfn></a></span>と呼ばれます。</p>

    <p>行ボックスの幅は、<a href="#containing-block">包含ブロック</a>とフロートの存在によって決まります。行ボックスの高さは、<a
            href="visudet.html#line-height">行の高さの計算</a>に関するセクションで示される規則によって決まります。</p>

    <p>行ボックスは、それが含むすべてのボックスにとって十分な高さを持ちます。ただし、含まれる最も高いボックスよりも高くなる場合があります（例えば、ボックスがベースラインに整列するように配置されている場合など）。ボックスBの高さがそれを含む行ボックスの高さよりも小さい場合、Bの行ボックス内での垂直方向の整列は<a
            href="visudet.html#propdef-vertical-align" class="noxref"><span
                class="propinst-vertical-align">'vertical-align'</span></a>プロパティによって決まります。1つの行ボックス内に複数のインラインレベルのボックスが水平に収まらない場合、それらは2つ以上の縦方向に積み重ねられた行ボックスに分配されます。このようにして、段落は行ボックスの縦方向のスタックとなります。行ボックスは、他に指定がない限り垂直方向に分離されることはなく、重なることもありません。
    </p>

    <p>一般的に、行ボックスの左端はその包含ブロックの左端に接触し、右端は包含ブロックの右端に接触します。ただし、フロートするボックスが包含ブロックの端と行ボックスの端の間に入る場合があります。このため、同じインラインフォーマットコンテキスト内の行ボックスは一般的に同じ幅（包含ブロックの幅）を持ちますが、<a
            href="#floats">フロート</a>によって利用可能な水平空間が減少すると幅が異なる場合があります。同じインラインフォーマットコンテキスト内の行ボックスは通常、高さが異なります（例:
        ある行には高い画像が含まれ、他の行にはテキストのみが含まれる場合など）。</p>

    <p>行内のインラインレベルボックスの総幅がそれを含む行ボックスの幅よりも小さい場合、行ボックス内でのそれらの水平分布は<a href="text.html#propdef-text-align"
            class="noxref"><span
                class="propinst-text-align">'text-align'</span></a>プロパティによって決まります。このプロパティの値が'justify'の場合、ユーザーエージェントはインラインボックス内のスペースや単語を伸ばすこともできます（ただし、inline-tableやinline-blockボックスは対象外）。
    </p>

    <p>インラインボックスが行ボックスの幅を超える場合、それは複数のボックスに分割され、これらのボックスが複数の行ボックスに分配されます。インラインボックスが���割できない場合（例えば、インラインボックスが単一の文字を含む場合、言語固有の単語分割規則がその中での改行を許可しない場合、またはインラインボックスがnowrapやpreのwhite-space値の影響を受けている場合など）、インラインボックスは行ボックスをオーバーフローします。
    </p>

    <p>インラインボックスが分割されると、マージン、ボーダー、パディングは分割が発生した場所（または複数の分割がある場合は任意の分割地点）で視覚的な影響を及ぼしません。</p>

    <p>インラインボックスは、<a href="#direction">双方向テキスト処理</a>のために、<em>同じ行ボックス内</em>で複数のボックスに分割されることもあります。</p>

    <p id="phantom-line-box">インラインフォーマットコンテキスト内では、インラインレベルのコンテンツを保持するために必要に応じて行ボックスが作成されます。テキスト、<a
            href="text.html#white-space-prop">保持された空白</a>、ゼロ以外のマージン、パディング、ボーダーを持つインライン要素、その他の<a
            href="#positioning-scheme">フロー内</a>コンテンツ（例えば画像、インラインブロックやインラインテーブル）を含まず、保持された改行で終了しない行ボックスは、内部の要素の位置を決定する目的でゼロ高さの行ボックスとして扱われる必要があり、それ以外の目的では存在しないものとして扱われる必要があります。
    </p>

    <div class="html example">
        <p>
            次はインラインボックス構造の例です。以下の段落（HTMLブロックレベル要素Pによって作成）は、EM要素とSTRONG要素が混在する匿名のテキストを含みます：
        </p>
        <pre><code class="html">
&lt;P&gt;Several &lt;EM&gt;emphasized words&lt;/EM&gt; appear
&lt;STRONG&gt;in this&lt;/STRONG&gt; sentence, dear.&lt;/P&gt;
</code></pre>

        <p>P要素は、5つのインラインボックス（そのうち3つは匿名）を含むブロックボックスを生成します：</p>

        <ul>
            <li>匿名: "Several"</li>
            <li>EM: "emphasized words"</li>
            <li>匿名: "appear"</li>
            <li>STRONG: "in this"</li>
            <li>匿名: "sentence, dear."</li>
        </ul>

        <p>段落をフォーマットするために、ユーザーエージェントはこれら5つのボックスを行ボックスに流します。この例では、P要素によって生成されるボックスが行ボックスの包含ブロックを確立します。包含ブロックが十分に広い場合、すべてのインラインボックスは単一の行ボックスに収まります：
        </p>
        <pre>
 Several <em>emphasized words</em> appear <strong>in this</strong> sentence, dear.
</pre>

        <p>そうでない場合、インラインボックスは分割され、複数の行ボックスに分配されます。前の段落は次のように分割される可能性があります：</p>
        <pre>
Several <em>emphasized words</em> appear
<strong>in this</strong> sentence, dear.
</pre>

        または次のようになります：

        <pre>
Several <em>emphasized</em>  
<em>words</em> appear <strong>in this</strong> 
sentence, dear.
</pre>

    </div>

    <p>前の例では、EMボックスが2つのEMボックス（"split1"と"split2"と呼ぶ）に分割されました。マージン、ボーダー、パディング、またはテキスト装飾は、split1の後やsplit2の前に視覚的な影響を及ぼしません。
    </p>

    <div class="html example">
        <p>
            次の例を考えてみましょう：
        </p>
        <pre><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;複数行にわたるインラインフローの例&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
      EM {
        padding: 2px; 
        margin: 1em;
        border-width: medium;
        border-style: dashed;
        line-height: 2.4em;
      }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;Several &lt;EM&gt;emphasized words&lt;/EM&gt; appear here.&lt;/P&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>

        <p>Pの幅に応じて、ボックスは次のように分配される場合があります：</p>

        <div class="figure">
            <p><img src="https://www.w3.org/TR/CSS22/images/inline-layout.png" alt="行分割の影響を示す画像"><SPAN
                    class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-inline-layout"
                        href="https://www.w3.org/TR/CSS22/images/longdesc/inline-layout-desc.html"
                        title="分割インラインボックスのマージン/ボーダーの挙動の詳細説明">[D]</A></SPAN></p>
        </div>

        <ul>
            <li> マージンは"emphasized"の前と"words"の後に挿入されます。 </li>

            <li> パディングは"emphasized"の前、上、下、および"words"の後、上、下に挿入されます。各場合で3辺に点線のボーダーが描かれます。</li>
        </ul>
    </div>

    <h3>9.4.3 <a name="relative-positioning">相対配置</a></h3>

    <p>ボックスが<a href="#normal-flow">通常のフロー</a>またはフロートに従ってレイアウトされた後、その位置に対して相対的にシフトすることができます。これを<a name="x35"><span
                class="index-def"
                title="相対配置"><dfn>相対配置</dfn></span></a>と呼びます。この方法でボックス（B1）をオフセットしても、後続のボックス（B2）には影響しません：B2は、B1がオフセットされていないかのように位置が与えられ、B2はB1のオフセットが適用された後も再配置されません。これは、相対配置がボックスを重ねる可能性があることを意味します。しかし、相対配置によって'overflow:auto'または'overflow:scroll'のボックスがオーバーフローした場合、ユーザーエージェントはこのコンテンツ（オフセット位置で）にアクセスできるようにする必要があり、これはスクロールバーの作成を通じてレイアウトに影響を与える可能性があります。
    </p>

    <p>相対配置されたボックスは、通常のフローのサイズを保持し、改行や元々予約されていたスペースを含みます。<a
            href="#containing-block">包含ブロック</a>に関するセクションでは、相対配置されたボックスが新しい包含ブロックを確立するタイミングについて説明しています。</p>

    <p>相対配置された要素に対して、'left'と'right'はボックスを水平方向に移動させますが、そのサイズは変更しません。'left'はボックスを右に移動させ、'right'はボックスを左に移動させます。'left'または'right'によってボックスが分割または伸縮されることはないため、使用される値は常に：left
        = -rightとなります。</p>

    <p>両方の'left'と'right'が'auto'（初期値）の場合、使用される値は'0'です（つまり、ボックスは元の位置に留まります）。</p>

    <p>'left'が'auto'の場合、その使用される値は'right'の値のマイナスとなります（つまり、ボックスは'right'の値だけ左に移動します）。</p>

    <p>'right'が'auto'として指定された場合、その使用される値は'left'の値のマイナスとなります。</p>

    <p>'left'と'right'のどちらも'auto'ではない場合、位置が過度に制約され、いずれかが無視される必要があります。包含ブロックの'direction'プロパティが'ltr'の場合、'left'の値が優先され、'right'は-'left'になります。包含ブロックの'direction'が'rtl'の場合、'right'が優先され、'left'は無視されます。
    </p>

    <div class="example">
        <P style="display:none">例：</P>
        <p><strong>例。</strong> 次の3つのルールは等価です：</p>
        <pre><code class="css">
div.a8 { position: relative; direction: ltr; left: -1em; right: auto }
div.a8 { position: relative; direction: ltr; left: auto; right: 1em }
div.a8 { position: relative; direction: ltr; left: -1em; right: 5em }
</code></pre>
    </div>

    <p>'top'と'bottom'プロパティは、相対配置された要素をサイズを変更せずに上下に移動させます。'top'はボックスを下に移動させ、'bottom'はボックスを上に移動させます。'top'または'bottom'によってボックスが分割または伸縮されることはないため、使用される値は常に：top
        =
        -bottomとなります。両方が'auto'の場合、その使用される値は両方とも'0'です。一方が'auto'の場合、それは他方のマイナスとなります。どちらも'auto'でない場合、'bottom'は無視されます（つまり、'bottom'の使用される値は'top'の値のマイナスになります）。
    </p>

    <p class="note">
        注記。
        相対配置されたボックスを動的に移動させると、スクリプト環境でアニメーション効果を生成できます（<a href="visufx.html#propdef-visibility" class="noxref"><span
                class="propinst-visibility">'visibility'</span></a>プロパティも参照してください）。
        相対配置は上付き文字や下付き文字の形式として使用されることがありますが、位置決めを考慮して行の高さが自動的に調整されるわけではありません。詳細については、<a
            href="visudet.html#line-height">行の高さの計算</a>の説明を参照してください。
    </p>

    <p>相対配置の例は、<a href="#comparison">通常のフロー、フロート、絶対配置の比較</a>に関するセクションに記載されています。</p>
    <h2>9.5 <a name="floats">フロート</a></h2>

    <p>フロートとは、現在の行で左または右にシフトされたボックスのことです。フロート（または"フロートされた"ボックスや"フロート中"のボックス）の最も興味深い特徴は、コンテンツがその側面に沿って流れることができる（または<a
            href="visuren.html#propdef-clear" class="noxref"><span
                class="propinst-clear">'clear'</span></a>プロパティによって防止される）点です。左にフロートされたボックスの右側、右にフロートされたボックスの左側にコンテンツが流れます。以下ではフロートの位置設定とコンテンツの流れについて紹介します。フロートの挙動を支配する正確な<a
            href="#float-rules">ルール</a>は<a href="visuren.html#propdef-float" class="noxref"><span
                class="propinst-float">'float'</span></a>プロパティの説明に記載されています。</p>

    <p>フロートされたボックスは、外側の端が包含ブロックの端または別のフロートの外側の端に触れるまで左または右にシフトされます。行ボックスがある場合、フロートされたボックスの外側の上端は現在の行ボックスの上端に揃えられます。</p>

    <p>フロートを収めるための水平スペースが十分でない場合、フロートはフィットするか、他にフロートが存在しなくなるまで下方にシフトされます。</p>

    <p>フロートはフロー内にないため、フロートボックスの前後に作成される位置指定されていないブロックボックスは、フロートが存在しないかのように垂直方向に流れます。しかし、フロートの隣で作成される現在および後続の行ボックスは、フロートのマージンボックスにスペースを確保するために必要に応じて短縮されます。
    </p>

    <p>行ボックスがフロートの隣にあるとは、次の4つの条件すべてを満たす垂直位置が存在する場合を指します：（a）行ボックスの上端と同じかそれ以下、（b）行ボックスの下端と同じかそれ以上、（c）フロートの上マージンエッジより下、（d）フロートの下マージンエッジより上。
    </p>

    <p class=note>注記：これは、高さがゼロまたは負の外側の高さを持つフロートが行ボックスを短縮しないことを意味します。</p>

    <p>短縮された行ボックスがコンテンツを収めるには小さすぎる場合、その行ボックスは下方にシフトされ（その幅が再計算され）、コンテンツが収まるか、他のフロートが存在しなくなるまで続きます。フロートボックスの前の現在の行内のコンテンツは、同じ行でフロートの反対側に再フローされます。つまり、インラインレベルのボックスが左フロートに遭遇する前に行内に配置されており、それが残りの行ボックススペースに収まる場合、左フロートはその行に配置され、行ボックスの上端に揃えられ、行内のインラインレベルのボックスはフロートの右側（左フロートの反対側）に移動します。rtlと右フロートの場合も同様です。
    </p>

    <p id="bfc-next-to-float">
        テーブル、ブロックレベルの置換要素、または通常のフロー内で新しい<a
            href="visuren.html#block-formatting">ブロックフォーマットコンテキスト</a>を確立する要素（例：'overflow'が'visible'以外の値を持つ要素）のボーダーボックスは、同じブロックフォーマットコンテキスト内のフロートのマージンボックスと重なってはなりません。必要に応じて、実装はその要素を前のフロートの下に配置することでクリアするべきですが、十分なスペースがある場合はそのフロートの隣に配置してもかまいません。その要素のボーダーボックスを<a
            href="visudet.html#blockwidth">セクション10.3.3</a>で定義されているよりも狭くすることもできます。CSS2では、その要素をフロートの隣に配置するタイミングや、その要素がどの程度狭くなるかについて定義していません。
    </p>

    <div class="example">
        <P style="display:none">例：</P>
        <p><strong>例。</strong>
            次のドキュメント断片では、包含ブロックがフロートの隣にコンテンツを収めるには狭すぎるため、コンテンツがフロートの下に移動し、text-alignプロパティに基づいて行ボックス内に整列されます。</p>
        <pre><code class="css">
p { width: 10em; border: solid aqua; }
span { float: left; width: 5em; height: 5em; border: solid blue; }
</code>

...

<code class="html">
&lt;p&gt;
  &lt;span&gt; &lt;/span&gt;
  Supercalifragilisticexpialidocious
&lt;/p&gt;
</code></pre>
        <p>この断片は次のように見える可能性があります：</p>
        <div class="figure">
            <p>
                <img style="display:block" src="https://www.w3.org/TR/CSS22/images/supercal.png"
                    alt="包含ブロックが狭すぎるためフロートのすぐ下に再配置されたコンテンツの例を示す画像">
            </p>
        </div>
    </div>

    <p>複数のフロートが隣接する場合もあり、このモデルは同じ行内の隣接するフロートにも適用されます。</p>

    <div class="example">
        <P style="display:none">例：</P>
        <p>次のルールは、<samp>class="icon"</samp>を持つすべてのIMGボックスを左にフロートさせ（左マージンを'0'に設定）、次のようになります：</p>
        <pre><code class="css">
img.icon { 
  float: left;
  margin-left: 0;
}
</code></pre>
    </div>


    <div class="html example">
        <p>次のHTMLソースとスタイルシートを考えてみてください：</p>

        <pre><code class="html">  
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;フロートの例&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
      IMG { float: left }
      BODY, P, IMG { margin: 2em }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;&lt;IMG src=img.png alt="フロートを説明する画像"&gt;
       他にテキストがないサンプルテキスト...
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>

        <p>IMGボックスは左にフロートされます。その後のコンテンツは、フロートの右側に、フロートと同じ行からフォーマットされます。フロートの存在により右側の行ボックスは短縮されますが、フロートの後では再び「通常の」幅（P要素によって確立された包含ブロックの幅）に戻ります。このドキュメントは次のようにフォーマットされる可能性があります：
        </p>

        <div class="figure">
            <p><img src="https://www.w3.org/TR/CSS22/images/floateg.png" alt="フロートボックスがマージンにどのように影響するかを示す画像"><SPAN
                    class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-floateg"
                        href="https://www.w3.org/TR/CSS22/images/longdesc/floateg-desc.html"
                        title="フロートとテキストの流れの例の詳細説明">[D]</A></SPAN></p>
        </div>

        <p>ドキュメントが次のようになっていても、フォーマットは同じになります：</p>
        <pre><code class="html">
&lt;BODY&gt;
  &lt;P&gt;Some sample text 
  &lt;IMG src=img.png alt="フロートを説明する画像"&gt;
           他にテキストがないサンプルテキスト...
&lt;/BODY&gt;
</code></pre>

        <p>なぜなら、フロートの左側のコンテンツはフロートによって押しのけられ、右側に再配置されるからです。</p>
    </div>

    <p><a href="box.html#collapsing-margins">セクション8.3.1</a>で述べられているように、フロートボックスのマージンは隣接するボックスのマージンと<a
            href="box.html#collapsing-margins">折り畳まれる</a>ことはありません。このため、前述の例では、PボックスとフロートされたIMGボックスとの間の垂直マージンは<a
            href="box.html#collapsing-margins">折り畳まれる</a>ことはありません。</p>

    <p>フロートの内容は、フロートが新しいスタッキングコンテキストを生成すると仮定して積み重ねられます。ただし、実際に新しいスタッキングコンテキストを生成する位置指定された要素や要素は、フロートの親スタッキングコンテキストに参加します。フロートは通常のフローボックスと重なることがあります（例：フロートの隣にある通常のフローボックスが負のマージンを持つ場合）。この場合、フロートは位置指定されていないインフローブロックの前にレンダリングされますが、インフローインラインの後ろにレンダリングされます。
    </p>

    <div class="example">
        <P style="display:none">例：</P>
        <p>ここでは、フロートが通常のフロー内の要素のボーダーと重なる場合に何が起こるかを示す図を示します。</p>
        <div class="figure">
            <p><img src="https://www.w3.org/TR/CSS22/images/float2p.png" alt="フロートボックスが2つの段落のボーダーと重なった様子を示す画像"><SPAN
                    class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-float2p"
                        href="https://www.w3.org/TR/CSS22/images/longdesc/float2p-desc.html"
                        title="フロートが通常のフローボックスと重なる様子の詳細説明">[D]</A></SPAN>
            </p>
            <p class="caption">フロート画像が重なったブロックボックスのボーダーを隠しています。</p>
        </div>
    </div>

    <p>次の例は、<a href="visuren.html#propdef-clear" class="noxref"><span
                class="propinst-clear">'clear'</span></a>プロパティを使用して、コンテンツがフロートの隣に流れるのを防ぐ方法を示しています。</p>
    <div class="example">
        <P style="display:none">例：</P>
        <p>次のようなルールを仮定します：</p>
        <pre><code class="css">
p { clear: left }
</code></pre>

        <p>フォーマットは次のようになります：</p>
        <div class="figure">
            <p><img src="https://www.w3.org/TR/CSS22/images/floatclear.png" alt="左フロートと'clear: left'の効果を示す段落2つの画像"><SPAN
                    class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-floatclear"
                        href="https://www.w3.org/TR/CSS22/images/longdesc/floatclear-desc.html"
                        title="フロートと通常のフローボックスが重なる様子の詳細説明">[D]</A></SPAN>
            </p>
            <p class="caption">両方の段落で'clear: left'が設定されており、2番目の段落がフロートの下の位置に押し下げられています。この処理は、clearプロパティ（<a
                    href="visuren.html#propdef-clear" class="noxref"><span
                        class="propinst-clear">'clear'</span></a>）を使用して上位マージンにクリアランスを追加することで実現されます。</p>
        </div>
    </div>


    <h3>9.5.1 <a name="float-position">フロートの配置:</a> <a href="visuren.html#propdef-float" class="noxref"><span
                class="propinst-float">'float'</span></a> プロパティ</h3>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x36"><span class="index-def" title="'float'"><dfn id="propdef-float">float</dfn></span></a>
            <tr>
                <th>値:
                <td>left | right | none | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>none
            <tr>
                <th>適用対象:
                <td>すべて。ただし、<a href="visuren.html#dis-pos-flo">9.7</a>を参照
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定された通り
    </table>

    <p>このプロパティは、ボックスを左、右、または全くフロートさせるかどうかを指定します。どの要素にも設定できますが、<a
            href="#absolutely-positioned">絶対配置された</a>ボックスを生成しない要素にのみ適用されます。このプロパティの値の意味は次の通りです：</p>

    <dl>
        <dt><strong>left</strong></dt>
        <dd>要素は左にフロートされた<a href="#block-boxes">ブロック</a>ボックスを生成します。コンテンツはボックスの右側に、上端から流れます（<a
                href="visuren.html#propdef-clear" class="noxref"><span
                    class="propinst-clear">'clear'</span></a>プロパティの影響を受けます）。</dd>

        <dt><strong>right</strong></dt>
        <dd>'left'と同様ですが、ボックスが右にフロートされ、コンテンツはボックスの左側に、上端から流れます。</dd>

        <dt><strong>none</strong></dt>
        <dd>ボックスはフロートされません。</dd>
    </dl>

    <p>ユーザーエージェントは、ルート要素のfloatを'none'として扱う場合があります。</p>

    <p><span class="index-def" title="float rules"><a name="float-rules">以下にフロートの挙動を規定する正確なルール</a></span>を示します：</p>

    <ol>
        <li>左にフロートするボックスの左<a href="box.html#outer-edge">外側エッジ</a>は、その<a
                href="#containing-block">包含ブロック</a>の左端より左に配置されてはなりません。右にフロートする要素についても同様のルールが適用されます。</li>
        <li>現在のボックスが左にフロートし、ソースドキュメント内でそれ以前に生成された左フロートボックスが存在する場合、現在のボックスの左<a
                href="box.html#outer-edge">外側エッジ</a>は、以前のボックスの右<a
                href="box.html#outer-edge">外側エッジ</a>より右にあるか、またはその上端が以前のボックスの下端より下にある必要があります。右フロートボックスについても同様のルールが適用されます。
        </li>
        <li>左フロートボックスの右<a href="box.html#outer-edge">外側エッジ</a>は、その隣の右フロートボックスの左<a
                href="box.html#outer-edge">外側エッジ</a>より右に配置されてはなりません。右フロート要素についても同様のルールが適用されます。</li>
        <li>フロートボックスの<a href="box.html#outer-edge">外側上端</a>は、その<a
                href="#containing-block">包含ブロック</a>の上端より上に配置されてはなりません。フロートが2つの折り畳まれたマージンの間にある場合、フロートは、フローに参加する他に空の<a
                href="#anonymous-block-level">匿名ブロック親</a>が存在するかのように配置されます。その親の位置は、マージン折り畳みに関するセクションの<a
                href="box.html#collapsed-through">ルール</a>によって定義されます。</li>
        <li>フロートボックスの<a href="box.html#outer-edge">外側上端</a>は、ソースドキュメント内でそれ以前に生成された<a href="#block-boxes">ブロック</a>または<a
                href="#floats">フロート</a>ボックスの外側上端より上に配置されてはなりません。</li>
        <li>要素のフロートボックスの<a href="box.html#outer-edge">外側上端</a>は、ソースドキュメント内でそれ以前に生成されたボックスを含む<span class="index-inst"
                title="line-box"><a name="x38" href="#line-box">行ボックス</a></span>の上端より上に配置されてはなりません。</li>
        <li>左にフロートするボックスがその左側に別の左フロートボックスを持つ場合、その右外側エッジは包含ブロックの右端より右に配置されてはなりません（緩やかに言えば、左フロートは可能な限り左に配置されていない限り、右端を突き出してはなりません）。右フロート要素についても同様のルールが適用されます。
        </li>
        <li>フロートボックスは可能な限り高い位置に配置されなければなりません。</li>
        <li>左にフロートするボックスは可能な限り左に、右にフロートするボックスは可能な限り右に配置されなければなりません。より高い位置が、より左/右に遠い位置よりも優先されます。</li>
    </ol>

    <p>しかし、CSS 2.2では、ブロックフォーマットコンテキスト内にフロートの位置が、すべての負の垂直マージンをゼロに設定した場合の位置よりも上にあるようなインフローの負の垂直マージンがある場合、フロートの位置は未定義です。
    </p>

    <p>これらのルールで参照される他の要素は、フロートと同じ<a href="#block-formatting">ブロックフォーマットコンテキスト</a>内の他の要素のみを指します。</p>

    <div class=example>
        <P style="display:none">例：</P>
        <p>このHTML断片では、bが右にフロートします。</p>
        <pre>&lt;P>a&lt;SPAN style="float: right">b&lt;/SPAN>&lt;/P></pre>

        <p>P要素の幅が十分であれば、aとbは並びます。次のように見える場合があります：</p>
        <div class=figure>
            <p><img src="https://www.w3.org/TR/CSS22/images/float-right.png" alt="ボックスの左側にa、右側にbがある">
        </div>
    </div>


    <h3>9.5.2 <a name="flow-control">フロートの隣でのフロー制御:</a>
        <a href="visuren.html#propdef-clear" class="noxref"><span class="propinst-clear">'clear'</span></a> プロパティ
    </h3>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x39"><span class="index-def" title="'clear'"><dfn id="propdef-clear">clear</dfn></span></a>
            <tr>
                <th>値:
                <td>none | left | right | both | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>none
            <tr>
                <th>適用対象:
                <td>ブロックレベル要素
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定された通り
    </table>

    <p>このプロパティは、要素のボックスが以前のフロートボックスに隣接でき<em>ない</em>側を示します。'clear'プロパティは、要素自身の内部や他の<a
            href="visuren.html#block-formatting">ブロックフォーマットコンテキスト</a>内のフロートを考慮しません。</p>

    <p>非フロートのブロックレベルボックスに適用された場合、このプロパティの値には以下の意味があります:</p>

    <dl>
        <dt><strong>left</strong></dt>
        <dd>ボックスの上端エッジが、ソースドキュメント内で以前に生成された左フロートボックスの下外側エッジより下にあることを要求します。</dd>

        <dt><strong>right</strong></dt>
        <dd>ボックスの上端エッジが、ソースドキュメント内で以前に生成された右フロートボックスの下外側エッジより下にあることを要求します。</dd>

        <dt><strong>both</strong></dt>
        <dd>ボックスの上端エッジが、ソースドキュメント内で以前に生成された右フロートおよび左フロートボックスの下外側エッジより下にあることを要求します。</dd>

        <dt><strong>none</strong></dt>
        <dd>フロートに関してボックスの位置に制約はありません。</dd>
    </dl>

    <p>'none'以外の値は、潜在的に<dfn><span class="index-def"><a
                    name="clearance">クリアランス</a></span></dfn>を導入します。クリアランスはマージンの折り畳みを妨げ、要素のmargin-topの上部にスペースとして機能します。これは要素をフロートより垂直に押し上げるために使用されます。
    </p>

    <p>'clear'が設定された要素のクリアランスの計算は、まず要素の上端エッジの仮想位置を決定することで行われます。この位置は、要素の'clear'プロパティが'none'だった場合、実際の上端エッジが存在したであろう位置です。
    </p>

    <p>要素の上端エッジのこの仮想位置が関連するフロートを超えていない場合、クリアランスが導入され、8.3.1のルールに従ってマージンが折り畳まれます。</p>

    <p>その後、クリアランスの量は次のうち大きい方に設定されます:</p>

    <ol>
        <li>クリアされる最下部のフロートの下外側エッジとブロックのボーダーエッジを一致させるために必要な量。</li>
        <li>ブロックの上端エッジをその仮想位置に配置するために必要な量。</li>
    </ol>

    <p>あるいは、クリアランスは正確に、クリアされる最下部のフロートの下外側エッジとブロックのボーダーエッジを一致させるために必要な量に設定されます。</p>

    <p class="note"><em><strong>注意:</strong>
            両方の挙動は、既存のWebコンテンツとの互換性の評価が保留されている間、許可されています。将来のCSS仕様では、いずれか一方が要求される予定です。</em></p>

    <p class=note>注意: クリアランスは負またはゼロになる可能性があります。</p>

    <div class=example>
        <P style="display:none">例：</P>
        <p>例1. 簡略化のために、次の3つのボックスがあると仮定します:
            ボトムマージンがM1のブロックB1（子要素なし、パディングやボーダーなし）、高さHのフロートブロックF、トップマージンがM2のブロックB2（パディングやボーダーなし、子要素なし）。B2には'clear'が'both'に設定されています。また、B2が空でないと仮定します。
        </p>

        <p>B2の'clear'プロパティを考慮しない場合、以下の図のような状況になります。B1とB2のマージンは折り畳まれます。B1の下ボーダーエッジがy = 0の場合、Fの上端はy = M1、B2の上端エッジはy =
            max(M1,M2)、Fの下端はy = M1 + Hになります。</p>

        <div class="figure">
            <p><img src="https://www.w3.org/TR/CSS22/images/clearance.png" alt="フロートFがM2の上部マージンに侵入している図"></p>
        </div>

        <p>B2がFの下にない、つまりクリアランスを追加する必要がある状況であると仮定します。つまり、次の条件が成り立ちます:</p>

        <blockquote>
            <p>max(M1,M2) &lt; M1 + H
        </blockquote>

        <p>クリアランスCを2回計算し、C1とC2のうち大きい方を保持します: C = max(C1,C2)。最初の方法は、B2の上端をFの下端と一致させることです。つまり、y = M1 +
            H。この場合、クリアランスが間にあるためにマージンが折り畳まれなくなります:</p>

        <blockquote class=math>
            <p> <span>Fの下端</span> <span>= B2の上端エッジ</span> <span>&#8660;</span>
            <p> <span>M1 + H</span> <span>= M1 + C1 + M2</span> <span>&#8660;</span>
            <p> <span>C1</span> <span>= M1 + H - M1 - M2</span>
            <p> <span></span> <span>= H - M2</span>
        </blockquote>

        <p>2番目の計算では、B2の上端をそのまま保持します、つまりy = max(M1,M2)。この場合:</p>

        <blockquote class=math>
            <p> <span>max(M1,M2)</span> <span>= M1 + C2 + M2</span> <span>&#8660;</span>
            <p> <span>C2</span> <span>= max(M1,M2) - M1 - M2</span>
        </blockquote>

        <p>max(M1,M2) &lt; M1 + Hであると仮定しているため、次が成り立ちます:</p>

        <blockquote class=math>
            <p> <span>C2 = max(M1,M2) - M1 - M2</span> <span>&lt; M1 + H - M1 - M2 = H - M2</span> <span>&#8658;</span>
            <p> <span>C2</span> <span>&lt; H - M2</span>
        </blockquote>

        <p>そして、C1 = H - M2であるため、次が成り立ちます:</p>

        <blockquote class=math>
            <p> <span>C2 &lt; C1</span>
        </blockquote>

        <p>したがって:</p>

        <blockquote class=math>
            <p> <span>C = max(C1,C2) = C1</span>
        </blockquote>
    </div>

    <div class=example>
        <P style="display:none">例：</P>
        <p>例2. 負のクリアランスの例は次のような状況です。この場合、クリアランスは-1emです。（要素にはボーダーやパディングがないと仮定します）:</p>

        <pre class=html>
&lt;p style="<b>margin-bottom: 4em</b>">
  最初の段落。

&lt;p style="<b>float: left; height: 2em; margin: 0</b>">
  フロート段落。

&lt;p style="<b>clear: left; margin-top: 3em</b>">
  最後の段落。
</pre>

        <p>説明:
            'clear'がない場合、最初と最後の段落のマージンは折り畳まれ、最後の段落の上端エッジはフロート段落の上端と一致します。しかし、'clear'は上端エッジをフロートの<em>下</em>に配置することを要求します。つまり、2em下に移動します。これによりクリアランスが導入されます。結果として、マージンはもはや折り畳まれず、クリアランスの量はクリアランス+margin-top
            = 2emとなるように設定されます。つまり、クリアランス = 2em - margin-top = 2em - 3em = -1emになります。
    </div>

    <p>このプロパティがフロート要素に設定されると、フロートの配置に関する<a href="#float-rules">ルール</a>が修正され、追加の制約（#10）が加えられます:</p>

    <ul>
        <li>フロートの上<a href="box.html#outer-edge">外側エッジ</a>は、すべての左フロートボックス（'clear: left'の場合）、またはすべての右フロートボックス（'clear:
            right'の場合）、または両方（'clear: both'の場合）の下外側エッジより下に配置されなければなりません。</li>
    </ul>

    <div class="note">
        <p>
            <em><strong>注意.</strong>
                このプロパティは<a href="https://www.w3.org/TR/REC-CSS1/#clear">CSS1ではすべての要素に適用されました</a>。
                実装はこのプロパティをすべての要素でサポートしていた可能性があります。CSS2および現行標準では、'clear'プロパティはブロックレベル要素にのみ適用されます。そのため、著者はこのプロパティをブロックレベル要素にのみ使用すべきです。もし実装がインライン要素でのクリアをサポートしている場合、上記で説明したようにクリアランスを設定するのではなく、改行を強制し、1つ以上の空行ボックスを挿入するか（またはセクション9.5で説明されているように新しい行ボックスを下方にシフトすること）、クリアされたインラインの行ボックスの上端を対応するフロートボックスの下に移動させるべきです。
            </em>
        </p>
    </div>

    <h2>9.6 <a name="absolute-positioning">絶対配置</a></h2>

    <p>絶対配置モデルでは、ボックスはその包含ブロックに対して明確にオフセットされます。これは通常のフローから完全に削除され（後続の兄弟要素には影響を与えません）、絶対配置されたボックスは通常のフローチルド要素および絶対（ただし固定ではない）配置された子孫要素のために新しい包含ブロックを確立します。ただし、絶対配置された要素の内容は他のボックスの周りを流れません。他のボックスの内容を覆い隠したり、自身が覆い隠されたりする場合がありますが、これは重なるボックスの<a
            href="#stack-level">スタックレベル</a>によります。</p>

    <p>この仕様で言及される<span class="index-def" title="絶対配置された要素">
            <a name="absolutely-positioned"><dfn>絶対配置された要素</dfn></a></span>（またはそのボックス）は、その要素の<a
            href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">'position'</span></a>
        プロパティが'absolute'または'fixed'の値を持つことを意味します。
    </p>

    <h3>9.6.1 <a name="fixed-positioning">固定配置</a></h3>

    <p>固定配置は絶対配置のサブカテゴリです。唯一の違いは、固定配置されたボックスの場合、包含ブロックが<a href="#viewport">ビューポート</a>によって確立されることです。<a
            href="media.html#continuous-media-group">連続メディア</a>の場合、固定ボックスはドキュメントがスクロールされても移動しません。この点で、<a
            href="colors.html#background-properties">固定背景画像</a>に似ています。<a
            href="page.html">ページメディア</a>の場合、固定位置のボックスはすべてのページで繰り返されます。これは、たとえば各ページの下部に署名を配置するのに便利です。ページ領域より大きい固定位置のボックスはクリップされます。初期の包含ブロックで見えない固定位置ボックスの部分は印刷されません。
    </p>

    <div class="html example">
        <p>著者は固定配置を使用してフレームのようなプレゼンテーションを作成できます。次のフレームレイアウトを考えてみてください:</p>

        <div class="figure">
            <p><img src="https://www.w3.org/TR/CSS22/images/frame.png"
                    alt="position='fixed'を使用したフレームのようなレイアウトを示す画像"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
                        name="img-frame" href="https://www.w3.org/TR/CSS22/images/longdesc/frame-desc.html"
                        title="フレームレイアウト例の詳細説明">[D]</A></SPAN></p>
        </div>

        <p>これは次のHTMLドキュメントとスタイルルールで実現できるかもしれません:</p>

        <pre><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;CSSを使用したフレームドキュメント&lt;/TITLE&gt;
    &lt;STYLE type="text/css" media="screen"&gt;
      BODY { height: 8.5in } /* 以下のパーセンテージ高さのために必要 */
      #header {
        position: fixed;
        width: 100%;
        height: 15%;
        top: 0;
        right: 0;
        bottom: auto;
        left: 0;
      }
      #sidebar {
        position: fixed;
        width: 10em;
        height: auto;
        top: 15%;
        right: auto;
        bottom: 100px;
        left: 0;
      }
      #main {
        position: fixed;
        width: auto;
        height: auto;
        top: 15%;
        right: 0;
        bottom: 100px;
        left: 10em;
      }
      #footer {
        position: fixed;
        width: 100%;
        height: 100px;
        top: auto;
        right: 0;
        bottom: 0;
        left: 0;
      }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;DIV id="header"&gt; ...  &lt;/DIV&gt;
    &lt;DIV id="sidebar"&gt; ...  &lt;/DIV&gt;
    &lt;DIV id="main"&gt; ...  &lt;/DIV&gt;
    &lt;DIV id="footer"&gt; ...  &lt;/DIV&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>
    </div>

    <h2>9.7 <a name="dis-pos-flo">『display』『position』および『float』の関係</a></h2>

    <p>ボックスの生成とレイアウトに影響を与える3つのプロパティ &mdash;
        <a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">『display』</span></a>、
        <a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">『position』</span></a>、
        および
        <a href="visuren.html#propdef-float" class="noxref"><span class="propinst-float">『float』</span></a> &mdash;
        は次のように相互作用します：
    </p>

    <ol>
        <li><a href="visuren.html#propdef-display" class="noxref"><span
                    class="propinst-display">『display』</span></a>が『none』の値を持つ場合、
            <a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">『position』</span></a>
            および
            <a href="visuren.html#propdef-float" class="noxref"><span class="propinst-float">『float』</span></a>は適用されません。
            この場合、要素はボックスを生成しません。
        </li>

        <li>それ以外の場合、
            <a href="visuren.html#propdef-position" class="noxref"><span
                    class="propinst-position">『position』</span></a>が『absolute』または『fixed』の値を持つ場合、
            ボックスは絶対配置され、
            <a href="visuren.html#propdef-float" class="noxref"><span
                    class="propinst-float">『float』</span></a>の計算値は『none』となり、
            『display』は以下の表に従って設定されます。
            ボックスの位置は
            <a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">『top』</span></a>、
            <a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">『right』</span></a>、
            <a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom">『bottom』</span></a>、
            および
            <a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">『left』</span></a>
            プロパティおよびボックスの包含ブロックによって決定されます。
        </li>

        <li>それ以外の場合、『float』が『none』以外の値を持つ場合、
            ボックスはフロートされ、『display』は以下の表に従って設定されます。
        </li>

        <li>それ以外の場合、要素がルート要素である場合、
            『display』は以下の表に従って設定されます。ただし、CSS 2.2では『list-item』の指定値が計算値の『block』または『list-item』になるかどうかは未定義です。
        </li>

        <li>それ以外の場合、残りの<a href="visuren.html#propdef-display" class="noxref"><span
                    class="propinst-display">『display』</span></a>プロパティ値は指定通りに適用されます。
        </li>
    </ol>

    <table border="1">
        <tr>
            <th>指定値</th>
            <th style="width:30%">計算値</th>
        </tr>
        <tr>
            <td>inline-table</td>
            <td>table</td>
        </tr>
        <tr>
            <td>inline, table-row-group, table-column,
                table-column-group, table-header-group, table-footer-group, table-row,
                table-cell, table-caption, inline-block</td>
            <td>block</td>
        </tr>
        <tr>
            <td>その他</td>
            <td>指定値と同じ</td>
        </tr>
    </table>

    <h2>9.8 <a name="comparison">通常のフロー、フロート、および絶対配置の比較</a></h2>
    <p>通常のフロー、相対配置、フロート、および絶対配置の違いを説明するために、次のHTMLを基にした一連の例を提供します:</p>
    <pre class="html example"><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;ポジショニングスキームの比較&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;本文の内容の始まり。
      &lt;SPAN id="outer"&gt; 外側の内容の始まり。
      &lt;SPAN id="inner"&gt; 内側の内容。&lt;/SPAN&gt;
      外側の内容の終わり。&lt;/SPAN&gt;
      本文の内容の終わり。
    &lt;/P&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>

    <p>このドキュメントでは、次のルールを想定しています:</p>

    <pre class="example"><code class="css">
body { display: block; font-size:12px; line-height: 200%; 
       width: 400px; height: 400px }
p    { display: block }
span { display: inline }
</code></pre>

    <p>生成された<em>outer</em>と<em>inner</em>要素のボックスの最終位置は、各例で異なります。各図では、図の左側にある数字は、二重間隔（分かりやすくするため）の行の<a
            href="#normal-flow">通常のフロー</a>位置を示しています。</p>

    <p class="note">
        注意。このセクションの図は説明を目的としており、スケールに忠実ではありません。これらはCSS
        2.2のさまざまなポジショニングスキームの違いを強調することを目的としており、例として提示されたレンダリングの参照を意図しているわけではありません。
    </p>

    <h3>9.8.1 <a name="comp-normal-flow">通常のフロー</a></h3>

    <p><a href="#normal-flow">通常のフロー</a>を変更しない<em>outer</em>と<em>inner</em>に対する次のCSS宣言を考えます:</p>

    <pre class="example"><code class="css">
#outer { color: red }
#inner { color: blue }
</code></pre>

    <p>P要素はすべてのインラインコンテンツ（<a
            href="#anonymous">匿名のインラインテキスト</a>と2つのSPAN要素）を含みます。そのため、すべてのコンテンツはP要素によって確立された包含ブロック内でインラインフォーマットコンテキストでレイアウトされ、次のようになります:
    </p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-generic.png" alt="親ボックスと兄弟ボックス間のテキストの通常の流れを示す画像。"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-generic"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/flow-generic-desc.html"
                    title="通常のフロー例の詳細説明">[D]</A></SPAN></p>
    </div>

    <h3>9.8.2 <a name="comp-relpos">相対配置</a></h3>

    <p><a href="#relative-positioning">相対配置</a>の効果を見るために、次を指定します:</p>

    <pre class="example"><code class="css">
#outer { position: relative; top: -12px; color: red }
#inner { position: relative; top: 12px; color: blue }
</code></pre>

    <p>テキストは<em>outer</em>要素まで通常どおりに流れます。<em>outer</em>テキストはライン1の終わりで通常のフローの位置と寸法に流れ込みます。その後、テキストを含むインラインボックス（3行に分配される）がユニットとして「-12px」（上方向）にシフトされます。
    </p>

    <p><em>inner</em>の内容は<em>outer</em>の子要素として、通常は「外側の内容の終わり」の直後（ライン1.5）にフローします。しかし、<em>inner</em>の内容自体が<em>outer</em>の内容に対して「12px」下方向にオフセットされ、ライン2の元の位置に戻ります。
    </p>

    <p><em>outer</em>の相対配置によって、<em>outer</em>に続くコンテンツが影響を受けないことに注意してください。</p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-relative.png" alt="ボックスの内容に対する相対配置の効果を示す画像。"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-relative"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/flow-relative-desc.html"
                    title="相対フロー例の詳細説明">[D]</A></SPAN></p>
    </div>

    <p>また、<em>outer</em>のオフセットが「-24px」であった場合、<em>outer</em>のテキストと本文のテキストが重なったであろうことにも注意してください。</p>

    <h3>9.8.3 <a name="comp-float">ボックスのフロート</a></h3>

    <p>次に、次のルールを使用して<em>inner</em>要素のテキストを右にフロートさせた場合の効果を考えます:</p>
    <pre class="example"><code class="css">
#outer { color: red }
#inner { float: right; width: 130px; color: blue }
</code></pre>

    <p>テキストは<em>inner</em>ボックスまで通常どおりに流れますが、<em>inner</em>ボックスはフローから取り出され、右マージンにフロートされます（その<a
            href="visudet.html#propdef-width" class="noxref"><span
                class="propinst-width">『width』</span></a>が明示的に指定されています）。フロートの左側の行ボックスが短縮され、ドキュメントの残りのテキストがそれらに流れ込みます。
    </p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-float.png" alt="ボックスをフロートさせた場合の効果を示す画像。"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-float"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/flow-float-desc.html"
                    title="フロートの例の詳細説明">[D]</A></SPAN></p>
    </div>

    <p><a href="visuren.html#propdef-clear" class="noxref"><span
                class="propinst-clear">『clear』</span></a>プロパティの効果を示すために、例に<em>sibling</em>要素を追加します:</p>
    <pre class="html example"><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;ポジショニングスキームの比較 II&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;本文の内容の始まり。
      &lt;SPAN id=outer&gt; 外側の内容の始まり。
      &lt;SPAN id=inner&gt; 内側の内容。&lt;/SPAN&gt;
      &lt;SPAN id=sibling&gt; 兄弟要素の内容。&lt;/SPAN&gt;
      外側の内容の終わり。&lt;/SPAN&gt;
      本文の内容の終わり。
    &lt;/P&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>

    <p>次のルール:</p>
    <pre class="example"><code class="css">
#inner { float: right; width: 130px; color: blue }
#sibling { color: red }
</code></pre>

    <p>は、<em>inner</em>ボックスを以前と同様に右にフロートさせ、ドキュメントの残りのテキストを空いたスペースに流し込みます:</p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-clear.png"
                alt="『clear』プロパティを設定せずにボックスをフロートさせた場合の効果を示す画像。"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
                    name="img-flow-clear" href="https://www.w3.org/TR/CSS22/images/longdesc/flow-clear-desc.html"
                    title="『clear』なしのフロートの例の詳細説明">[D]</A></SPAN></p>
    </div>

    <p>しかし、<em>sibling</em>要素の<a href="visuren.html#propdef-clear" class="noxref"><span
                class="propinst-clear">『clear』</span></a>プロパティが『right』に設定されている場合（つまり、生成された<em>sibling</em>ボックスが右側のフロートボックスの隣の位置を受け入れない場合）、<em>sibling</em>の内容はフロートの下で流れ始めます:
    </p>
    <pre class="example"><code class="css">
#inner { float: right; width: 130px; color: blue }
#sibling { clear: right; color: red }
</code></pre>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-clear2.png"
                alt="『clear』プロパティを設定して要素をフロートさせた場合の効果を示す画像。"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
                    name="img-flow-clear2" href="https://www.w3.org/TR/CSS22/images/longdesc/flow-clear2-desc.html"
                    title="『clear』付きのフロートの例の詳細説明">[D]</A></SPAN></p>
    </div>

    <h3>9.8.4 <a name="comp-abspos">絶対配置</a></h3>

    <p>最後に、<a href="#absolute-positioning">絶対配置</a>の効果を考えます。
        次のCSS宣言を<em>outer</em>と<em>inner</em>に適用します:
    </p>

    <pre class="example"><code class="css">
#outer { 
    position: absolute; 
    top: 200px; left: 200px; 
    width: 200px; 
    color: red;
}
#inner { color: blue }
</code></pre>

    <p>これにより、<em>outer</em>ボックスの上端がその包含ブロックに対して配置されます。位置指定されたボックスの包含ブロックは、最も近い位置指定された祖先（存在しない場合は<a
            href="visudet.html#containing-block-details">初期包含ブロック</a>）によって確立されます。この例では初期包含ブロックです。<em>outer</em>ボックスの上側は包含ブロックの上端から「200px」下に、左側は左端から「200px」右に配置されます。<em>outer</em>の子ボックスは親ボックスに対して通常通りにフローします。
    </p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-absolute.png" alt="ボックスを絶対配置した場合の効果を示す画像。"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-absolute"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/flow-absolute-desc.html"
                    title="絶対配置の例の詳細説明">[D]</A></SPAN></p>
    </div>

    <p>次の例では、絶対配置されたボックスが相対配置されたボックスの子要素である場合を示しています。親の<em>outer</em>ボックスが実際にはオフセットされていない場合でも、その<a
            href="visuren.html#propdef-position" class="noxref"><span
                class="propinst-position">『position』</span></a>プロパティを『relative』に設定することで、そのボックスが位置指定された子孫の包含ブロックとして機能することができます。<em>outer</em>ボックスは複数の行にまたがるインラインボックスであるため、最初のインラインボックスの上端と左端（以下の図で太い破線で示されています）が<a
            href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">『top』</span></a>および<a
            href="visuren.html#propdef-left" class="noxref"><span
                class="propinst-left">『left』</span></a>のオフセットの基準として使用されます。
    </p>
    <pre class="example"><code class="css">
#outer { 
  position: relative; 
  color: red 
}
#inner { 
  position: absolute; 
  top: 200px; left: -100px; 
  height: 130px; width: 130px; 
  color: blue;
}
</code></pre>

    <p>これにより、以下のような結果になります:</p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-abs-rel.png" alt="包含ブロックに対して絶対配置されたボックスの効果を示す画像。"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-abs-rel"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/flow-abs-rel-desc.html"
                    title="位置指定された祖先に対する配置の例の詳細説明">[D]</A></SPAN></p>
    </div>

    <p><em>outer</em>ボックスを位置指定しない場合:</p>

    <pre class="example"><code class="css">
#outer { color: red }
#inner {
  position: absolute; 
  top: 200px; left: -100px; 
  height: 130px; width: 130px; 
  color: blue;
}
</code></pre>

    <p><em>inner</em>の包含ブロックは<a
            href="visudet.html#containing-block-details">初期包含ブロック</a>（この例では）になります。以下の図は、この場合に<em>inner</em>ボックスが配置される場所を示しています。
    </p>

    <div class="figure">
        <p><img src="https://www.w3.org/TR/CSS22/images/flow-static.png"
                alt="通常配置された親によって確立された包含ブロックに対してボックスを絶対配置した場合の効果を示す画像。"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
                    name="img-flow-static" href="https://www.w3.org/TR/CSS22/images/longdesc/flow-static-desc.html"
                    title="初期包含ブロックに対する絶対配置の詳細説明">[D]</A></SPAN></p>
    </div>

    <div class="html example">
        <p>
            相対配置と絶対配置を使用して変更バーを実装する方法を以下の例で示します。次の断片:
        </p>
        <pre><code class="html">
&lt;P style=&quot;position: relative; margin-right: 10px; left: 10px;&quot;&gt;
I used two red hyphens to serve as a change bar. They
will &quot;float&quot; to the left of the line containing THIS
&lt;SPAN style=&quot;position: absolute; top: auto; left: -1em; color: red;&quot;&gt;--&lt;/SPAN&gt;
word.&lt;/P&gt;
</code></pre>

        <p>が次のような結果をもたらす可能性があります:</p>

        <div class="figure">
            <p><img src="https://www.w3.org/TR/CSS22/images/changebar.png" alt="フロートを使用して変更バー効果を作成する方法を示す画像。"><SPAN
                    class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-changebar"
                        href="https://www.w3.org/TR/CSS22/images/longdesc/changebar-desc.html"
                        title="変更バーの例の詳細説明">[D]</A></SPAN></p>
        </div>

        <p>まず、段落（図でその包含ブロックの側面が示されています）が通常通りにフローされます。その後、包含ブロックの左端から「10px」オフセットされます（このオフセットを予測して右マージンが「10px」予約されています）。変更バーとして機能する2つのハイフンはフローから取り出され、現在の行に配置されます（『top:
            auto』のため）。包含ブロックの左端から「-1em」の位置に配置されます（最終位置にあるPによって確立された包含ブロック）。結果として、変更バーは現在の行の左側に「浮いている」ように見えます。
        </p>
    </div>

    <h2>9.9 <a name="layers">レイヤー構造のプレゼンテーション</a></h2>

    <h3>9.9.1 <a name="z-index">スタックレベルの指定</a>: <a href="visuren.html#propdef-z-index" class="noxref"><span
                class="propinst-z-index">『z-index』</span></a> プロパティ</h3>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x42"><span class="index-def" title="'z-index'"><dfn
                                id="propdef-z-index">z-index</dfn></span></a>
            <tr>
                <th>値:
                <td>auto | <a href="syndata.html#value-def-integer" class="noxref"><span
                            class="value-inst-integer">&lt;integer&gt;</span></a> | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>位置指定された要素
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">ビジュアル</a>
            <tr>
                <th>計算値:
                <td>指定された通り
    </table>

    <p>位置指定されたボックスに対して、<a href="visuren.html#propdef-z-index" class="noxref"><span
                class="propinst-z-index">『z-index』</span></a> プロパティは以下を指定します:</p>

    <ol>
        <li>現在のスタッキングコンテキストにおけるボックスのスタックレベル。
        <li>ボックスがスタッキングコンテキストを確立するかどうか。
    </ol>

    <p>値の意味は以下の通りです:</p>

    <dl>
        <dt><span class="index-inst" title="&lt;integer&gt;"><a name="x43" href="syndata.html#value-def-integer"
                    class="noxref"><span class="value-inst-integer"><strong>&lt;integer&gt;</strong></span></a></span>
        <dd>この整数は、現在のスタッキングコンテキスト内で生成されたボックスのスタックレベルです。このボックスは新しいスタッキングコンテキストも確立します。
        <dt><strong>auto</strong>
        <dd>現在のスタッキングコンテキスト内で生成されたボックスのスタックレベルは0です。ボックスが『position: fixed』の場合、あるいはルート要素である場合も、新しいスタッキングコンテキストを確立します。
    </dl>

    <p><em>このセクションで「前面」とは、ユーザーが画面を正面から見たときにユーザーに近い位置を意味します。</em></p>

    <p>CSS
        2.2では、各ボックスは3次元空間内で位置を持ちます。水平および垂直方向の位置に加えて、ボックスは「z軸」に沿って配置され、互いに重なり合う形式で表現されます。z軸の位置は、ボックスが視覚的に重なる場合に特に重要です。このセクションでは、ボックスがz軸に沿ってどのように配置されるかを説明します。
    </p>

    <p>
        レンダリングツリーがキャンバスに描画される順序は、スタッキングコンテキストに基づいて説明されます。スタッキングコンテキストはさらに別のスタッキングコンテキストを含むことができます。スタッキングコンテキストは、親スタッキングコンテキストの視点から見て原子的（他のスタッキングコンテキスト内のボックスがそのボックス間に入ることはない）です。
    </p>

    <p>各ボックスは1つの<a name="x44"><span class="index-def"
                title="スタッキングコンテキスト"><dfn>スタッキングコンテキスト</dfn></span></a>に属します。特定のスタッキングコンテキスト内の位置指定された各ボックスには、整数の<span
            class="index-def" title="スタックレベル"><a
                name="stack-level"><dfn>スタックレベル</dfn></a></span>があります。これは、同じスタッキングコンテキスト内の他のスタックレベルに対するz軸上の位置を示します。スタックレベルが大きいボックスは、スタックレベルが小さいボックスの前面に常に配置されます。ボックスは負のスタックレベルを持つこともできます。同じスタックレベルを持つボックスは、ドキュメントツリーの順序に従って背景から前面に向かって積み重ねられます。
    </p>

    <p>
        ルート要素はルートスタッキングコンテキストを形成します。他のスタッキングコンテキストは、計算値が『z-index』以外の『auto』を持つ位置指定された要素（相対位置指定された要素を含む）によって生成されます。スタッキングコンテキストは包含ブロックとは必ずしも関連していません。CSSの将来のレベルでは、例えば『<a
            href="https://www.w3.org/TR/css3-color/#transparency">opacity</a>』などの他のプロパティがスタッキングコンテキストを導入する可能性があります。
    </p>

    <p>各スタッキングコンテキスト内では、次のレイヤーが背景から前面の順に描画されます:</p>

    <ol>
        <li>スタッキングコンテキストを形成する要素の背景とボーダー。
        <li>負のスタックレベルを持つ子スタッキングコンテキスト（最も負の値が先）。
        <li>フロー内の非インラインレベルで位置指定されていない子孫要素。
        <li>位置指定されていないフロート。
        <li>フロー内のインラインレベルで位置指定されていない子孫要素（インラインテーブルやインラインブロックを含む）。
        <li>スタックレベルが0の子スタッキングコンテキストと位置指定された子孫要素。
        <li>正のスタックレベルを持つ子スタッキングコンテキスト（最も小さい正の値が先）。
    </ol>

    <p>各スタッキングコンテキスト内では、スタックレベル0の位置指定された要素（レイヤー&nbsp;6）、位置指定されていないフロート（レイヤー&nbsp;4）、インラインブロック（レイヤー&nbsp;5）、インラインテーブル（レイヤー&nbsp;5）は、それらの要素自体が新しいスタッキングコンテキストを生成したかのように描画されます。ただし、それらの位置指定された子孫要素や潜在的な子スタッキングコンテキストは現在のスタッキングコンテキストに参加します。
    </p>

    <p>この描画順序は、各スタッキングコンテキストに対して再帰的に適用されます。このスタッキングコンテキストの描画順序の説明は、<a href="zindex.html">付録E.</a>における詳細な規範的定義の概要を構成します。
    </p>

    <div class="html example">
        <p>次の例では、ボックス（「id」属性で名前付けされた）のスタックレベルは次の通りです:
            「text2」=0、「image」=1、「text3」=2、「text1」=3です。「text2」のスタックレベルはルートボックスから継承されています。他のスタックレベルは<a
                href="visuren.html#propdef-z-index" class="noxref"><span
                    class="propinst-z-index">『z-index』</span></a>プロパティで指定されています。
        </p>
        <pre><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Zオーダーの配置&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
      .pile { 
        position: absolute; 
        left: 2in; 
        top: 2in; 
        width: 3in; 
        height: 3in; 
      }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;
      &lt;IMG id="image" class="pile" 
           src="butterfly.png" alt="蝶の画像"
           style="z-index: 1"&gt;

    &lt;DIV id="text1" class="pile" 
         style="z-index: 3"&gt;
      このテキストは蝶の画像の上に表示されます。
    &lt;/DIV&gt;

    &lt;DIV id="text2"&gt;
      このテキストはすべての下に表示されます。
    &lt;/DIV&gt;

    &lt;DIV id="text3" class="pile" 
         style="z-index: 2"&gt;
      このテキストはtext1の下にあるが、蝶の画像の上にあります。
    &lt;/DIV&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>
    </div>

    <p>この例は<em>透明性</em>の概念を示しています。背景のデフォルトの動作は、背後のボックスを可視化することです。この例では、それぞれのボックスが透明に下のボックスを重ねています。この動作は、既存の<a
            href="colors.html#background-properties">背景プロパティ</a>を使用して上書きすることができます。</p>

    <h2>9.10 <a name="direction">テキストの方向:</a>
        <a href="visuren.html#propdef-direction" class="noxref"><span class="propinst-direction">『direction』</span></a>
        および<a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
                class="propinst-unicode-bidi">『unicode-bidi』</span></a>
        プロパティ
    </h2>

    <p><a href="conform.html#conformance">適合する</a>ユーザーエージェントで双方向テキストをサポートしない場合、このセクションで説明する<a
            href="visuren.html#propdef-direction" class="noxref"><span
                class="propinst-direction">『direction』</span></a>および<a href="visuren.html#propdef-unicode-bidi"
            class="noxref"><span
                class="propinst-unicode-bidi">『unicode-bidi』</span></a>プロパティを無視できます。この例外には、システムのフォントに右から左に流れる文字が含まれているためにそれをレンダリングするが、右から左のテキスト方向の概念をサポートしないユーザーエージェントが含まれます。
    </p>

    <p>特定のスクリプトの文字は右から左に書かれます。特にアラビア語やヘブライ語のスクリプトで書かれた文書や、混合言語のコンテキストでは、単一の（視覚的に表示された）ブロック内で混在した方向性を持つテキストが表示されることがあります。この現象は<a
            name="x46"><span class="index-def" title="双方向性（bidi）"><dfn>双方向性</dfn></span></a>、略して「bidi」と呼ばれます。
    </p>
    <p>Unicode標準（<a href="refs.html#ref-UNICODE" rel="biblioentry" class="noxref"><span
                class="normref">[UNICODE]</span></a>、<a href="refs.html#ref-UAX9" rel="biblioentry" class="noxref"><span
                class="normref">[UAX9]</span></a>）は、テキストの適切な方向性を決定するための複雑なアルゴリズムを定義しています。このアルゴリズムは、文字のプロパティに基づいた暗黙の部分と、埋め込みや上書きのための明示的な制御から成り立っています。CSS
        2.2はこのアルゴリズムに基づいて適切な双方向レンダリングを実現します。<a href="visuren.html#propdef-direction" class="noxref"><span
                class="propinst-direction">『direction』</span></a>および<a href="visuren.html#propdef-unicode-bidi"
            class="noxref"><span
                class="propinst-unicode-bidi">『unicode-bidi』</span></a>プロパティを使用すると、文書言語の要素と属性がこのアルゴリズムにどのようにマップされるかを指定できます。
    </p>
    <p>双方向テキストをサポートするユーザーエージェントは、強制改行（<a href="http://www.unicode.org/reports/tr9/#Bidirectional_Character_Types">bidi
            class&nbsp;B</a>）やブロック境界によって中断されないすべてのインラインレベルのボックスのシーケンスにUnicode双方向アルゴリズムを適用する必要があります。このシーケンスは双方向アルゴリズムにおける「段落」単位を形成します。段落の埋め込みレベルは、UnicodeアルゴリズムのステップP2およびP3で示されるヒューリスティックではなく、包含ブロックの<a
            href="visuren.html#propdef-direction" class="noxref"><span
                class="propinst-direction">『direction』</span></a>プロパティの値に従って設定されます。</p>
    <p>テキストの方向性は文書言語の構造と意味に依存するため、これらのプロパティはほとんどの場合、文書型記述（DTDs）の設計者や特殊な文書の著者によってのみ使用されるべきです。デフォルトスタイルシートがこれらのプロパティを指定している場合、著者やユーザーはそれを上書きするルールを指定すべきではありません。
    </p>
    <p>HTML 4仕様（[HTML4], セクション8.2）はHTML要素の双方向性の挙動を定義しています。<a href="refs.html#ref-HTML4" rel="biblioentry"
            class="noxref"><span class="normref">[HTML4]</span></a>で指定された双方向性の挙動を達成するためのスタイルシートルールは、<a
            href="sample.html#bidi">サンプルスタイルシート</a>に示されています。また、HTML 4仕様には双方向性の問題に関する詳細情報が含まれています。
    </p>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x47"><span class="index-def" title="'direction'"><dfn
                                id="propdef-direction">direction</dfn></span></a>
            <tr>
                <th>値:
                <td>ltr | rtl | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>ltr
            <tr>
                <th>適用対象:
                <td>すべての要素、ただし本文を参照
            <tr>
                <th>継承:
                <td>yes
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">visual</a>
            <tr>
                <th>計算値:
                <td>指定された通り
    </table>

    <p>このプロパティは、ブロックの基本的な書字方向や、Unicode双方向アルゴリズムにおける埋め込みおよび上書きの方向（<a href="visuren.html#propdef-unicode-bidi"
            class="noxref"><span class="propinst-unicode-bidi">『unicode-bidi』</span></a>を参照）を指定します。さらに、<a
            href="tables.html">表</a>の列のレイアウト方向、水平<a href="visufx.html#overflow">オーバーフロー</a>の方向、'text-align:
        justify'の場合のブロック内の未完成の最終行の位置なども指定します。
    </p>

    <p>このプロパティの値は以下の意味を持ちます:</p>

    <dl>
        <dt><strong>ltr</strong></dt>
        <dd>左から右への方向。</dd>
        <dt><strong>rtl</strong></dt>
        <dd>右から左への方向。</dd>
    </dl>

    <p><a href="visuren.html#propdef-direction" class="noxref"><span
                class="propinst-direction">『direction』</span></a>プロパティがインライン要素の並べ替えに影響を与えるには、<a
            href="visuren.html#propdef-unicode-bidi" class="noxref"><span
                class="propinst-unicode-bidi">『unicode-bidi』</span></a>プロパティの値が『embed』または『override』でなければなりません。
    </p>
    <div class="note">
        <p>
            <em><strong>注意。</strong>
                <a href="visuren.html#propdef-direction" class="noxref"><span
                        class="propinst-direction">『direction』</span></a>プロパティが表の列要素に指定された場合、列は文書ツリー内でセルの祖先ではないため、セルには継承されません。このため、CSSでは<a
                    href="refs.html#ref-HTML4" rel="biblioentry" class="noxref"><span
                        class="normref">[HTML4]</span></a>のセクション11.3.2.1で説明されている「dir」属性の継承ルールを簡単に取り込むことはできません。
            </em>
        </p>
    </div>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x48"><span class="index-def" title="'unicode-bidi'"><dfn
                                id="propdef-unicode-bidi">unicode-bidi</dfn></span></a>
            <tr>
                <th>値:
                <td>normal | embed | bidi-override | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>normal
            <tr>
                <th>適用対象:
                <td>すべての要素、ただし本文を参照
            <tr>
                <th>継承:
                <td>no
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">visual</a>
            <tr>
                <th>計算値:
                <td>指定された通り
    </table>

    <p>このプロパティの値は以下の意味を持ちます:</p>

    <dl>
        <dt><strong>normal</strong></dt>
        <dd>要素は双方向アルゴリズムに関して追加の埋め込みレベルを開きません。インライン要素の場合、暗黙の並べ替えは要素の境界を超えて機能します。
        </dd>
        <dt><strong>embed</strong></dt>

        <dd>要素がインラインの場合、この値は双方向アルゴリズムに関して追加の埋め込みレベルを開きます。この埋め込みレベルの方向は<a href="visuren.html#propdef-direction"
                class="noxref"><span
                    class="propinst-direction">『direction』</span></a>プロパティによって指定されます。要素内では並べ替えは暗黙的に行われます。これは、要素の開始時にLRE（U+202A;
            『direction: ltr』の場合）またはRLE（U+202B; 『direction: rtl』の場合）を追加し、要素の終了時にPDF（U+202C）を追加することに対応します。
        </dd>
        <dt><strong>bidi-override</strong></dt>

        <dd>
            インライン要素ではこれにより上書きが作成されます。
            ブロックコンテナ要素では、別のブロックコンテナ要素内にないインラインレベルの子孫要素に対する上書きが作成されます。
            これは、要素内では並べ替えが<a href="visuren.html#propdef-direction" class="noxref"><span
                    class="propinst-direction">『direction』</span></a>プロパティに従って完全に順序通りに行われ、双方向アルゴリズムの暗黙の部分が無視されることを意味します。これは、要素の開始時または匿名の子ブロックボックスの開始時にLRO（U+202D;
            『direction: ltr』の場合）またはRLO（U+202E; 『direction: rtl』の場合）を追加し、要素の終了時にPDF（U+202C）を追加することに対応します。
        </dd>
    </dl>

    <p>各ブロックコンテナ内の文字の最終的な順序は、上記のように双方向制御コードが追加され、マークアップが削除され、結果の文字列がプレーンテキストのUnicode双方向アルゴリズムの実装に渡され、スタイル付きテキストと同じ改行が生成される場合と同じです。
        このプロセスでは、『display: inline』の置換要素は
        中立文字として扱われます。ただし、その<a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
                class="propinst-unicode-bidi">『unicode-bidi』</span></a>プロパティが『normal』以外の値を持つ場合、それらは要素に指定された<a
            href="visuren.html#propdef-direction" class="noxref"><span
                class="propinst-direction">『direction』</span></a>で強い文字として扱われます。
        他のすべての原子的なインラインレベルボックスは常に中立文字として扱われます。
    </p>
    <p>インラインボックスを一方向（完全に左から右または完全に右から左）に流すことができるようにするために、より多くのインラインボックス（匿名インラインボックスを含む）を作成する必要がある場合があり、一部のインラインボックスを分割して順序を変更してから流す必要がある場合もあります。
    </p>
    <p>Unicodeアルゴリズムには埋め込みの制限が<em title="Unicode 3.0, 第3章, セクション12, 定義BD2に基づく。 
詳細はhttp://www.unicode.org/unicode/uni2book/ch03.pdfの58ページを参照。">61レベル</em>あるため、<a
            href="visuren.html#propdef-unicode-bidi" class="noxref"><span
                class="propinst-unicode-bidi">『unicode-bidi』</span></a>を『normal』以外の値で使用しないよう注意する必要があります。特に、『inherit』の値を使用する場合は十分注意してください。しかし、一般的にブロックとして表示されることを意図した要素の場合、表示がインラインに変更された場合でも要素を一体化するために、『unicode-bidi:
        embed』を設定することが推奨されます（以下の例を参照してください）。
    </p>
    <p>次の例は双方向テキストを含むXML文書を示しています。これは重要な設計原則を示しています。<a name="x49"><span class="index-inst"
                title="DTD">DTD</span></a>設計者は、言語本体（要素と属性）および付随するスタイルシートの両方で双方向性を考慮する必要があります。スタイルシートは、双方向性ルールが他のスタイルルールから分離されるように設計する必要があります。双方向性ルールは他のスタイルシートによって上書きされず、文書言語やDTDの双方向性の挙動が維持されるべきです。
    </p>

    <div class="example">
        <P style="display:none">例:</P>
        <p>
            この例では、小文字は本来的に左から右に流れる文字を表し、
            大文字は本来的に右から左に流れる文字を表します:
        </p>
        <pre class="xml example"><code class="xml">
&lt;HEBREW&gt;
  &lt;PAR&gt;HEBREW1 HEBREW2 english3 HEBREW4 HEBREW5&lt;/PAR&gt;
  &lt;PAR&gt;HEBREW6 &lt;EMPH&gt;HEBREW7&lt;/EMPH&gt; HEBREW8&lt;/PAR&gt;
&lt;/HEBREW&gt;
&lt;ENGLISH&gt;
  &lt;PAR&gt;english9 english10 english11 HEBREW12 HEBREW13&lt;/PAR&gt;
  &lt;PAR&gt;english14 english15 english16&lt;/PAR&gt;
  &lt;PAR&gt;english17 &lt;HE-QUO&gt;HEBREW18 english19 HEBREW20&lt;/HE-QUO&gt;&lt;/PAR&gt;
&lt;/ENGLISH&gt;
</code></pre>

        <p>これはXMLなので、スタイルシートが書字方向を設定します。以下はそのスタイルシートです:</p>

        <pre class="example">
/* 双方向テキスト用ルール */
HEBREW, HE-QUO  {direction: rtl; unicode-bidi: embed}
ENGLISH         {direction: ltr; unicode-bidi: embed} 

/* 表示用ルール */
HEBREW, ENGLISH, PAR  {display: block}
EMPH                  {font-weight: bold}
</pre>

        <p>HEBREW要素は右から左の基本方向を持つブロックであり、
            ENGLISH要素は左から右の基本方向を持つブロックです。PARは親から基本方向を継承するブロックです。
            したがって、最初の2つのPARは右上から読み始められ、最後の3つは左上から読み始められます。
            なお、HEBREWとENGLISHは明確にするために選ばれた要素名であり、一般的には要素名は言語に依存せず構造を伝えるべきです。
        </p>
        <p>EMPH要素はインラインレベルであり、その<a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
                    class="propinst-unicode-bidi">『unicode-bidi』</span></a>の値が『normal』（初期値）であるため、
            テキストの順序には影響を与えません。一方、HE-QUO要素は埋め込みを作成します。
        </p>
        <p>このテキストのフォーマットは、行の長さが長い場合次のように見えるかもしれません:
        </p>
        <pre class="ascii-art">
               5WERBEH 4WERBEH english3 2WERBEH 1WERBEH

                                8WERBEH <b>7WERBEH</b> 6WERBEH

english9 english10 english11 13WERBEH 12WERBEH

english14 english15 english16

english17 20WERBEH english19 18WERBEH
</pre>

        <p>HE-QUOの埋め込みにより、HEBREW18がenglish19の右側に配置されることに注意してください。
        </p>
        <p>行を分割する必要がある場合、次のようになるかもしれません:
        </p>
        <pre class="ascii-art">
       2WERBEH 1WERBEH
  -EH 4WERBEH english3
                 5WERB

   -EH <b>7WERBEH</b> 6WERBEH
                 8WERB

english9 english10 en-
glish11 12WERBEH
13WERBEH

english14 english15
english16

english17 18WERBEH
20WERBEH english19
</pre>

        <p>HEBREW18はenglish19の前に読む必要があるため、english19の上の行に配置されます。
            以前のフォーマットから長い行を単純に分割するだけではうまくいきませんでした。また、english19の最初の音節が前の行に収まる可能性があったとしても、
            左から右の単語を右から左のコンテキストで、またはその逆でハイフネーションすることは通常抑制されます。
            これは、行の途中にハイフンを表示する必要があることを避けるためです。
        </p>
    </div>

    <hr class="navbar">

    <div class="navbar">
        <p><a href="box.html">previous</a> &nbsp;
            <a href="visudet.html">next</a> &nbsp;
            <a href="index.html#minitoc">contents</a> &nbsp;
            <a href="propidx.html">properties</a> &nbsp;
            <a href="indexlist.html">index</a> &nbsp;
    </div>
</body>

</html>