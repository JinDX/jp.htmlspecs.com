<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja-JP">

<HEAD>
    <TITLE>ページ化されたメディア</TITLE>
    <link rel="stylesheet" href="https://www.w3.org/TR/CSS22/style/default.css" type="text/css">
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
    <link rel="prev" href="generate.html">
    <link rel="next" href="colors.html">
    <link rel="contents" href="index.html#minitoc">
    <link rel="CSS-properties" href="propidx.html" title="properties">
    <link rel="index" href="indexlist.html" title="index">
    <link rel="first" href="index.html">
    <script type="text/javascript" src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

</HEAD>

<body>
    <div class="navbar">
        <p><a href="generate.html">前へ</a> &nbsp;
            <a href="colors.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
    <hr class="navbar">

    <h1>13 <a name="the-page">ページ化されたメディア</a></h1>
    <div id="toc" class="subtoc">
        <p><strong>目次</strong>
        <ul class="toc">
            <li><a href="page.html#page-intro" class="tocxref">13.1 ページ化されたメディアの概要</a>
            <li><a href="page.html#page-box" class="tocxref">13.2 ページボックス: @page ルール</a>
                <ul class="toc">
                    <li><a href="page.html#page-margins" class="tocxref">13.2.1 ページマージン</a>
                    <li><a href="page.html#page-selectors" class="tocxref">13.2.2 ページセレクター: 左ページ、右ページ、および最初のページの選択</a>
                    <li><a href="page.html#outside-page-box" class="tocxref">13.2.3 ページボックス外の内容</a>
                </ul>
            <li><a href="page.html#page-breaks" class="tocxref">13.3 改ページ</a>
                <ul class="toc">
                    <li><a href="page.html#page-break-props" class="tocxref">13.3.1 改ページプロパティ: <span
                                class="propinst-page-break-before">'page-break-before'</span>, <span
                                class="propinst-page-break-after">'page-break-after'</span>, <span
                                class="propinst-page-break-inside">'page-break-inside'</span></a>
                    <li><a href="page.html#break-inside" class="tocxref">13.3.2 要素内の改ページ: <span
                                class="propinst-orphans">'orphans'</span>, <span
                                class="propinst-widows">'widows'</span></a>
                    <li><a href="page.html#allowed-page-breaks" class="tocxref">13.3.3 許容される改ページ</a>
                    <li><a href="page.html#forced" class="tocxref">13.3.4 強制的な改ページ</a>
                    <li><a href="page.html#best-page-breaks" class="tocxref">13.3.5 「最良」の改ページ</a>
                </ul>
            <li><a href="page.html#page-cascade" class="tocxref">13.4 ページコンテキストでのカスケード</a>
        </ul>
    </div>


    <h2>13.1 <a name="page-intro">ページ化されたメディアの概要</a></h2>

    <p>ページ化されたメディア（例: 紙、トランスペアレンシー、コンピュータ画面に表示されるページなど）は、文書の内容が1つ以上の個別ページに分割されている点で、<a
            href="./media.html#continuous-media-group">連続メディア</a>とは異なります。CSS&nbsp;2.2では、<a
            href="#page-box">ページボックス</a>に設定されるページマージンや<a href="#page-breaks">改ページ</a>の宣言方法について説明しています。

    <p>ユーザーエージェントは、文書のページボックスを最終的にレンダリングされる実際の<a name="x0"><span class="index-def"
                title="sheet"><dfn>シート</dfn></span></a>（紙、トランスペアレンシー、画面など）に転送する責任があります。多くの場合、ページボックスとシートは1対1の関係にありますが、必ずしもそうではありません。転送の方法には以下が含まれます:
    </P>

    <ul>
        <li>1つのページボックスを1枚のシートに転送（例: 片面印刷）。
        <li>2つのページボックスを同じシートの両面に転送（例: 両面印刷）。
        <li>N個の（小さな）ページボックスを1枚のシートに転送（「n-up」と呼ばれる）。
        <li>1つの（大きな）ページボックスをN x M枚のシートに転送（「タイル化」と呼ばれる）。
        <li>署名を作成。署名とは、シートに印刷されたページのグループで、これを本のように折り畳み、裁断すると正しい順序でページが現れます。
        <li>1つの文書を複数の出力トレイに印刷。
        <li>ファイルへの出力。
    </ul>


    <h2>13.2 <a name="page-box">ページボックス</a>: @page ルール</h2>

    <p><a name="x1"><span class="index-def" title="page box"><dfn>ページボックス</dfn></span></a>は、次の2つの領域を含む長方形の領域です:</p>

    <ul>

        <li><span class="index-def" title="page area"><a
                    name="page-area"><dfn>ページ領域</dfn></a></span>。ページ領域には、そのページにレイアウトされたボックスが含まれます。最初のページ領域のエッジは、文書の初期<a
                href="visudet.html#containing-block-details">包含ブロック</a>を確立する長方形を形成します。
            キャンバス背景はページ領域内で塗りつぶされ、ページ領域を覆います。

        <li>ページ領域を囲むマージン領域。
            ページマージン領域は透明です。
    </ul>

    <p>ページボックスのサイズはCSS&nbsp;2.2では指定できません。

    <P>著者は、<a name="x3"><span class="index-def"
                title="@page">@page</span></a>ルール内でページボックスのマージンを指定できます。@pageルールは、「@page」というキーワードに続いてオプションのページセレクター、さらに宣言と@ルールを含むブロックで構成されます。@pageトークンとページセレクターの間、ページセレクターとブロックの間にはコメントや空白が許可されていますが、オプションです。@pageルールの宣言は<span
            class="index-def" title="page-context"><a name="page-context"><dfn>ページコンテキスト</dfn></a></span>内にあると言われます。</p>

    <p class=note>注: CSS レベル&nbsp;2には@page内に記述できる@ルールはありませんが、これらの@ルールはレベル&nbsp;3で定義される予定です。

    <P><a name="x5"><span class="index-def"
                title="page selector"><dfn>ページセレクター</dfn></span></a>は、どのページに宣言が適用されるかを指定します。CSS&nbsp;2.2では、ページセレクターは最初のページ、すべての左ページ、またはすべての右ページを指定することができます。
    </p>

    <h3>13.2.1 <a name="page-margins">ページマージン</a></h3>

    <P>CSS&nbsp;2.2では、<a href="box.html#margin-properties">マージンプロパティ</a>（<a href="box.html#propdef-margin-top"
            class="noxref"><span class="propinst-margin-top">'margin-top'</span></a>,
        <a href="box.html#propdef-margin-right" class="noxref"><span
                class="propinst-margin-right">'margin-right'</span></a>, <a href="box.html#propdef-margin-bottom"
            class="noxref"><span class="propinst-margin-bottom">'margin-bottom'</span></a>, <a
            href="box.html#propdef-margin-left" class="noxref"><span
                class="propinst-margin-left">'margin-left'</span></a>, および <a href="box.html#propdef-margin"
            class="noxref"><span class="propinst-margin">'margin'</span></a>）のみが<a
            href="#page-context">ページコンテキスト</a>内で適用されます。次の図は、シート、ページボックス、ページマージン間の関係を示しています:
    </P>

    <div class="figure">
        <P><img src="https://www.w3.org/TR/CSS22/images/page-info.png" alt="シート、ページボックス、マージン、およびページ領域の図"><SPAN
                class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-page-info"
                    href="https://www.w3.org/TR/CSS22/images/longdesc/page-info-desc.html"
                    title="ページボックスとシートの関係を示す詳細な説明">[D]</A></SPAN></p>
    </div>

    <div class="example">
        <P style="display:none">例:</P>
        <P>
            以下は、すべてのページのページマージンを設定する単純な例です:

        <pre>
@page {
  margin: 3cm;
}
</pre>
    </div>

    <p><a href="#page-context">ページコンテキスト</a>にはフォントの概念がないため、'em'や'ex'単位は許可されません。マージンプロパティのパーセンテージ値は<a
            href="#page-box">ページボックス</a>の寸法に対して相対的です。左および右のマージンではそれらはページボックスの幅を指し、上部および下部のマージンではそれらはページボックスの高さを指します。CSS&nbsp;2.2プロパティに関連付けられている他のすべての単位が許可されています。

    <P>負のマージン値（ページボックスまたは要素上）や<a
            href="visuren.html#absolute-positioning">絶対位置指定</a>により、内容がページボックスの外に出る可能性がありますが、この内容はユーザーエージェント、プリンター、または最終的には紙裁断機によって「切り取られる」ことがあります。







    <h3>13.2.2 <a name="page-selectors">ページセレクター: 左ページ、右ページ、および最初のページの選択</a></H3>

    <P>両面印刷を行う場合、<a href="#page-box">ページボックス</a>が左ページと右ページで異なることがあります。これは、ページセレクターで使用できる2つのCSS疑似クラスを通じて表現できます。

    <P>すべてのページは、ユーザーエージェントによって自動的に<a name="x6"><span class="index-def"
                title=":left|pseudo-class:::left">:left</span></a>または<a name="x8"><span class="index-def"
                title=":right|pseudo-class:::right">:right</span></a>疑似クラスに分類されます。
        文書の最初のページが:leftになるか:rightになるかは、ルート要素の主要な書字方向に依存します。例えば、主要な書字方向が左から右の文書の最初のページは:rightページとなり、右から左の文書の最初のページは:leftページとなります。文書を明示的に左ページまたは右ページから印刷を開始するように強制するには、<a
            href="#page-break-props">改ページを挿入</a>して最初に生成されるボックスの前に配置します。

    <div class="example">
        <P style="display:none">例:</P>
        <P>
        <PRE>
@page :left {
  margin-left: 4cm;
  margin-right: 3cm;
}

@page :right {
  margin-left: 3cm;
  margin-right: 4cm;
}
</PRE>
    </div>

    <p>左ページと右ページに異なる宣言が指定されている場合、ユーザーエージェントは、ページボックスを左ページと右ページに転送しない場合でも（例: 片面印刷のみを行うプリンター）、これらの宣言を尊重する必要があります。

    <P>著者は、<a name="x10"><span class="index-def" title=":first|pseudo-class:::first">:first</span></a>
        疑似クラスを使用して文書の最初のページのスタイルを指定することもできます:

    <div class="example">
        <P style="display:none">例:</P>
        <P>
        <PRE>
@page { margin: 2cm } /* すべてのマージンを2cmに設定 */

@page :first {
  margin-top: 10cm    /* 最初のページの上マージンを10cmに設定 */
}
</PRE>
    </div>

    <P>:leftまたは:right @pageルールで指定されたプロパティは、疑似クラスが指定されていない@pageルールで指定されたプロパティを上書きします。
        :first @pageルールで指定されたプロパティは、:leftまたは:right @pageルールで指定されたプロパティを上書きします。

    <p><a
            href="#forced">強制的な改ページ</a>が最初に生成されるボックスの前に発生した場合、CSS&nbsp;2.2では':first'が改ページ前の空白ページに適用されるのか、改ページ後のページに適用されるのかは未定義です。

    <P>左ページ、右ページ、最初のページにおけるマージン宣言は、<a
            href="#page-area">ページ領域</a>の幅を異ならせる可能性があります。実装を簡素化するために、ユーザーエージェントは左ページ、右ページ、最初のページで単一のページ領域幅を使用することができます。この場合、最初のページのページ領域幅が使用されるべきです。


    <h3>13.2.3 <a name="outside-page-box">ページボックス外の内容</a></h3>

    <P>ページモデルでコンテンツをフォーマットする際、一部のコンテンツが現在のページボックスの外に配置される場合があります。例えば、<a href="text.html#propdef-white-space"
            class="noxref"><span
                class="propinst-white-space">'white-space'</span></a>プロパティの値が'pre'となっている要素は、ページボックスよりも幅の広いボックスを生成することがあります。別の例として、ボックスが絶対位置または相対位置に配置される場合、「不都合な」位置に配置されることがあります。例えば、画像がページボックスの端やページボックスの100,000メートル下に配置される場合です。

    <P>そのような要素の正確なフォーマットはこの仕様の範囲外です。ただし、ページボックス外の内容に関して、著者およびユーザーエージェントが次の一般原則を守ることを推奨します:</p>

    <ul>

        <li>ページが「塗り足し」できるように、コンテンツがページボックスをわずかに超えることを許容するべきです。

        <li>ユーザーエージェントは、要素の位置を尊重するために多数の空のページボックスを生成することを避けるべきです（例: 100ページの空白ページを印刷したくはありません）。

        <li>著者は、レンダリングを回避するためだけに要素を不都合な位置に配置すべきではありません。

        <li>ユーザーエージェントは、ページボックスの外に配置されたボックスをいくつかの方法で処理する場合があります。具体的には、それらを破棄するか、それらのために文書の最後にページボックスを作成するかです。
    </ul>

    <H2>13.3 <a name="page-breaks">改ページ</a></H2>

    <P>このセクションでは、CSS&nbsp;2.2における改ページについて説明します。5つのプロパティが、ユーザーエージェントが改ページを行うべき場所、またその後のコンテンツを（左または右の）どのページで再開すべきかを示します。各改ページは現在の<a
            href="#page-box">ページボックス</a>でのレイアウトを終了し、<a href="conform.html#doctree">文書ツリー</a>の残りの部分を新しいページボックスにレイアウトします。

    <h3>13.3.1 <a name="page-break-props">改ページプロパティ</a>: <a href="page.html#propdef-page-break-before"
            class="noxref"><span class="propinst-page-break-before">'page-break-before'</span></a>,
        <a href="page.html#propdef-page-break-after" class="noxref"><span
                class="propinst-page-break-after">'page-break-after'</span></a>,
        <a href="page.html#propdef-page-break-inside" class="noxref"><span
                class="propinst-page-break-inside">'page-break-inside'</span></a>
    </h3>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x12"><span class="index-def" title="'page-break-before'"><dfn
                                id="propdef-page-break-before">page-break-before</dfn></span></a>
            <tr>
                <th>値:
                <td>auto | always | avoid | left | right | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>ブロックレベル要素（ただし、テキストを参照）
            <tr>
                <th>継承:
                <td>いいえ
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">視覚</a>, <a
                        href="media.html#paged-media-group" class="noxref">ページ化</a>
            <tr>
                <th>計算値:
                <td>指定通り
    </table>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x13"><span class="index-def" title="'page-break-after'"><dfn
                                id="propdef-page-break-after">page-break-after</dfn></span></a>
            <tr>
                <th>値:
                <td>auto | always | avoid | left | right | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>ブロックレベル要素（ただし、テキストを参照）
            <tr>
                <th>継承:
                <td>いいえ
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">視覚</a>, <a
                        href="media.html#paged-media-group" class="noxref">ページ化</a>
            <tr>
                <th>計算値:
                <td>指定通り
    </table>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x14"><span class="index-def" title="'page-break-inside'"><dfn
                                id="propdef-page-break-inside">page-break-inside</dfn></span></a>
            <tr>
                <th>値:
                <td>avoid | auto | <a href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>auto
            <tr>
                <th>適用対象:
                <td>ブロックレベル要素（ただし、テキストを参照）
            <tr>
                <th>継承:
                <td>いいえ
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">視覚</a>, <a
                        href="media.html#paged-media-group" class="noxref">ページ化</a>
            <tr>
                <th>計算値:
                <td>指定通り
    </table>

    <P>これらのプロパティの値は次の意味を持ちます:</p>

    <dl>
        <dt><strong>auto</strong></dt>
        <dd>生成されたボックスの前（後、内部）で改ページを強制も禁止もしない。
        <dt><strong>always</strong></dt>
        <dd>生成されたボックスの前（後）で常に改ページを強制する。</dd>
        <dt><strong>avoid</strong></dt>
        <dd>生成されたボックスの前（後、内部）で改ページを避ける。</dd>
        <dt><strong>left</strong></dt>
        <dd>
            生成されたボックスの前（後）で1つまたは2つの改ページを強制し、次のページが左ページとしてフォーマットされるようにする。</dd>
        <dt><strong>right</strong></dt>
        <dd>
            生成されたボックスの前（後）で1つまたは2つの改ページを強制し、次のページが右ページとしてフォーマットされるようにする。</dd>
    </dl>

    <p>準拠するユーザーエージェントは、'left'および'right'の値を'always'として解釈する場合があります。

    <p>潜在的な改ページの場所は、通常、親要素の<a href="page.html#propdef-page-break-inside" class="noxref"><span
                class="propinst-page-break-inside">'page-break-inside'</span></a>
        プロパティ、前の要素の<a href="page.html#propdef-page-break-after" class="noxref"><span
                class="propinst-page-break-after">'page-break-after'</span></a>プロパティ、および次の要素の<a
            href="page.html#propdef-page-break-before" class="noxref"><span
                class="propinst-page-break-before">'page-break-before'</span></a>プロパティの影響を受けます。これらのプロパティが'auto'以外の値を持つ場合、'always'、'left'、および'right'の値が'avoid'よりも優先されます。

    <p>ユーザーエージェントは、これらのプロパティをルート要素の通常のフロー内のブロックレベル要素に適用する必要があります。また、'table-row'要素などの他の要素にも適用する場合があります。

    <p>改ページがボックスを分割する場合、ボックスのマージン、ボーダー、およびパディングは分割が発生する場所で視覚的な影響を与えません。


    <h3>13.3.2 <a name="break-inside">要素内の改ページ</a>: <a href="page.html#propdef-orphans" class="noxref"><span
                class="propinst-orphans">'orphans'</span></a>, <a href="page.html#propdef-widows" class="noxref"><span
                class="propinst-widows">'widows'</span></a></h3>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x15"><span class="index-def" title="'orphans'"><dfn
                                id="propdef-orphans">orphans</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-integer" class="noxref"><span
                            class="value-inst-integer">&lt;integer&gt;</span></a> | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>2
            <tr>
                <th>適用対象:
                <td>ブロックコンテナ要素
            <tr>
                <th>継承:
                <td>はい
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">視覚</a>, <a
                        href="media.html#paged-media-group" class="noxref">ページ化</a>
            <tr>
                <th>計算値:
                <td>指定通り
    </table>

    <table class="def propdef">
        <tbody>
            <tr>
                <th>名前:
                <td><a name="x16"><span class="index-def" title="'widows'"><dfn
                                id="propdef-widows">widows</dfn></span></a>
            <tr>
                <th>値:
                <td><a href="syndata.html#value-def-integer" class="noxref"><span
                            class="value-inst-integer">&lt;integer&gt;</span></a> | <a
                        href="cascade.html#value-def-inherit" class="noxref"><span
                            class="value-inst-inherit">inherit</span></a>
            <tr>
                <th>初期値:
                <td>2
            <tr>
                <th>適用対象:
                <td>ブロックコンテナ要素
            <tr>
                <th>継承:
                <td>はい
            <tr>
                <th>パーセンテージ:
                <td>N/A
            <tr>
                <th>メディア:
                <td><a href="media.html#visual-media-group" class="noxref">視覚</a>, <a
                        href="media.html#paged-media-group" class="noxref">ページ化</a>
            <tr>
                <th>計算値:
                <td>指定通り
    </table>

    <p><a href="page.html#propdef-orphans" class="noxref"><span class="propinst-orphans">'orphans'</span></a>
        プロパティは、ページの下部に残しておく必要があるブロックコンテナ内の最小行数を指定します。また、<a href="page.html#propdef-widows" class="noxref"><span
                class="propinst-widows">'widows'</span></a>
        プロパティは、ページの上部に残しておく必要があるブロックコンテナ内の最小行数を指定します。それらを使用して改ページを制御する例を以下に示します。

    <p>正の値のみが許可されます。

    <p>段落のフォーマットに関する情報については、<a href="visuren.html#line-box">行ボックス</a>のセクションを参照してください。

    <h3>13.3.3 <a name="allowed-page-breaks">許容される改ページ</a></h3>

    <p>通常のフローでは、改ページは以下の場所で発生する可能性があります:</p>

    <ol>
        <li>
            ブロックレベルボックス間の垂直マージン内。ここで非強制的な改ページが発生した場合、関連する<a href="box.html#propdef-margin-top" class="noxref"><span
                    class="propinst-margin-top">'margin-top'</span></a>および<a href="box.html#propdef-margin-bottom"
                class="noxref"><span class="propinst-margin-bottom">'margin-bottom'</span></a>プロパティの<a
                href="cascade.html#used-value">使用値</a>が'0'に設定されます。強制的な改ページがここで発生した場合、関連する<a
                href="box.html#propdef-margin-bottom" class="noxref"><span
                    class="propinst-margin-bottom">'margin-bottom'</span></a>プロパティの使用値が'0'に設定され、関連する<a
                href="box.html#propdef-margin-top" class="noxref"><span
                    class="propinst-margin-top">'margin-top'</span></a>使用値は'0'に設定されるか、保持される場合があります。

        <li><a href="visuren.html#line-box">行ボックス</a>内の<a href="visuren.html#block-boxes">ブロックコンテナ</a>ボックス間。

        <li>ブロックコンテナボックスのコンテンツエッジとその子コンテンツの外部エッジ（ブロックレベルの子のマージンエッジまたはインラインレベルの子の行ボックスエッジ）の間に（非ゼロの）ギャップがある場合。
    </ol>

    <p class=note>注: CSS3では、強制的な改ページ後に関連する'margin-top'が適用される（つまり、'0'に設定されない）ことが指定されると予想されています。

    <p>これらの改ページは次の規則に従います:

    <ul>
        <li><strong>規則A:</strong> (1)での改ページは、ここに接するボックスを生成するすべての要素の<a href="page.html#propdef-page-break-after"
                class="noxref"><span class="propinst-page-break-after">'page-break-after'</span></a>および<a
                href="page.html#propdef-page-break-before" class="noxref"><span
                    class="propinst-page-break-before">'page-break-before'</span></a>プロパティがそれを許可する場合のみ許可されます。これは、それらのプロパティの少なくとも1つが'always'、'left'、または'right'の値を持つ場合、またはすべてのプロパティが'auto'の場合です。

        <li><strong>規則B:</strong> しかし、すべてが'auto'であり、それらすべての共通祖先が<a href="page.html#propdef-page-break-inside"
                class="noxref"><span
                    class="propinst-page-break-inside">'page-break-inside'</span></a>値として'avoid'を持つ場合、ここでの改ページは許可されません。

        <li>
            <strong>規則C:</strong> (2)での改ページは、改ページと囲むブロックボックスの開始点の間の<a href="visuren.html#line-box">行ボックス</a>の数が<a
                href="page.html#propdef-orphans" class="noxref"><span
                    class="propinst-orphans">'orphans'</span></a>の値以上であり、改ページとボックスの終了点の間の行ボックスの数が<a
                href="page.html#propdef-widows" class="noxref"><span
                    class="propinst-widows">'widows'</span></a>の値以上である場合のみ許可されます。

        <li><strong>規則D:</strong> さらに、(2)または(3)での改ページは、要素およびそのすべての祖先の<a href="page.html#propdef-page-break-inside"
                class="noxref"><span
                    class="propinst-page-break-inside">'page-break-inside'</span></a>プロパティが'auto'である場合にのみ許可されます。
    </ul>

    <p>上記がページボックスからのコンテンツのオーバーフローを防ぐための十分な改ページポイントを提供しない場合、追加の改ページポイントを見つけるために規則A、BおよびDが削除されます。

    <p>それでも十分な改ページポイントが見つからない場合、さらに規則Cも削除され、さらに多くの改ページポイントを見つけることが試みられます。


    <h3>13.3.4 <a name="forced">強制的な改ページ</a></h3>

    <p>改ページは、(1) において必ず発生しなければなりません。もし、ここで出会うボックスを生成するすべての要素の<a href="page.html#propdef-page-break-after"
            class="noxref"><span class="propinst-page-break-after">'page-break-after'</span></a>および<a
            href="page.html#propdef-page-break-before" class="noxref"><span
                class="propinst-page-break-before">'page-break-before'</span></a>プロパティの中に、少なくとも1つ以上の値が'always'、'left'、または'right'である場合。

    <h3>13.3.5 <a name="best-page-breaks">「最良」の改ページ</a></h3>

    <p>CSS&nbsp;2.2は、一連の許容される改ページの中でどれを使用すべきかを定義していません。CSS&nbsp;2.2は、すべての可能な改ページポイントで改ページを行うこと、または全く改ページを行わないことを禁止しません。しかし、CSS&nbsp;2.2は、ユーザーエージェントが以下のような経験則を考慮することを推奨しています（これらは時に矛盾することを認識しながら）：
    </p>

    <ul>
        <li>改ページの回数をできるだけ少なくする。
        <li>強制的な改ページで終わらないすべてのページの高さがほぼ同じに見えるようにする。
        <li>置換要素内での改ページを避ける。
    </ul>

    <div class="example">
        <P style="display:none">例:</P>
        <P>
            例えば、スタイルシートに'orphans: 4'、'widows: 2'が含まれており、現在のページの下部に20行の<a
                href="visuren.html#line-box">行ボックス</a>が利用可能であると仮定します:</p>

        <ul>

            <li>現在のページの最後にある段落が20行以下であれば、それは現在のページに配置されるべきです。

            <li>段落が21行または22行を含む場合、第2部は<a href="page.html#propdef-widows" class="noxref"><span
                        class="propinst-widows">'widows'</span></a>制約に違反してはならないため、第2部は正確に2行を含む必要があります。

            <li>段落が23行以上を含む場合、第1部は20行を含み、第2部は残りの行を含むべきです。

        </ul>

        <P>次に、<a href="page.html#propdef-orphans" class="noxref"><span
                    class="propinst-orphans">'orphans'</span></a>が'10'であり、
            <a href="page.html#propdef-widows" class="noxref"><span class="propinst-widows">'widows'</span></a>が'20'であり、
            現在のページの下部に8行が利用可能であると仮定します:
        </p>

        <ul>

            <li>現在のページの最後にある段落が8行以下であれば、それは現在のページに配置されるべきです。

            <li>段落が9行以上を含む場合、それを分割することはできません（それは孤児制約に違反します）、したがってブロック全体が次のページに移動されるべきです。
        </ul>
    </div>

    <h2>13.4 <a name="page-cascade">ページコンテキストでのカスケード</a></H2>

    <P><a href="#page-context">ページコンテキスト</a>内の宣言は、通常のCSS宣言と同様に<a href="cascade.html">カスケード</a>に従います。

    <div class="example">
        <P style="display:none">例:</P>
        <P>
            次の例を考えてみましょう:

        <PRE>
@page {
  margin-left: 3cm;
}

@page :left {
  margin-left: 4cm;
}
</PRE>

        <P><a
                href="cascade.html#cascading-order">より高い特異性</a>を持つ疑似クラスセレクターのため、左ページの左マージンは'4cm'になり、その他すべてのページ（つまり右ページ）は左マージンが'3cm'になります。
    </div>
    <hr class="navbar">

    <div class="navbar">
        <p><a href="generate.html">前へ</a> &nbsp;
            <a href="colors.html">次へ</a> &nbsp;
            <a href="index.html#minitoc">目次</a> &nbsp;
            <a href="propidx.html">プロパティ</a> &nbsp;
            <a href="indexlist.html">索引</a> &nbsp;
    </div>
</body>

</html>