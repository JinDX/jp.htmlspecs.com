<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS コンテインメントモジュール レベル 2</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version 2e3c4c68b, updated Fri Jan 14 14:49:00 2022 -0800" name="generator">
    <link href="https://www.w3.org/TR/css-contain-2/" rel="canonical">
    <meta content="ea918408cd5257790b752673c6d9f56ea223ee9a" name="document-revision">
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-issues */

        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSSコンテインメントモジュール レベル2</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C作業草案</a>、<time class="dt-updated"
                datetime="2022-09-17">2022年9月17日</time></p>
        <details open>
            <summary>この文書の詳細情報</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>このバージョン:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2022/WD-css-contain-2-20220917/">https://www.w3.org/TR/2022/WD-css-contain-2-20220917/</a>
                    <dt>最新の公開バージョン:
                    <dd><a href="https://www.w3.org/TR/css-contain-2/">https://www.w3.org/TR/css-contain-2/</a>
                    <dt>編集者草案:
                    <dd><a href="https://drafts.csswg.org/css-contain-2/">https://drafts.csswg.org/css-contain-2/</a>
                    <dt>以前のバージョン:
                    <dd><a href="https://www.w3.org/TR/2020/WD-css-contain-2-20201216/"
                            rel="prev">https://www.w3.org/TR/2020/WD-css-contain-2-20201216/</a>
                    <dd><a href="https://www.w3.org/TR/2020/WD-css-contain-2-20200603/"
                            rel="prev">https://www.w3.org/TR/2020/WD-css-contain-2-20200603/</a>
                    <dd><a href="https://www.w3.org/TR/2019/WD-css-contain-2-20191111/"
                            rel="prev">https://www.w3.org/TR/2019/WD-css-contain-2-20191111/</a>
                    <dd><a href="https://www.w3.org/TR/2019/WD-css-contain-2-20191015/"
                            rel="prev">https://www.w3.org/TR/2019/WD-css-contain-2-20191015/</a>
                    <dt>履歴:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-contain-2">https://www.w3.org/standards/history/css-contain-2</a>
                    <dt>テストスイート:
                    <dd><a
                            href="https://test.csswg.org/harness/results/css-contain-1_dev/">https://test.csswg.org/harness/results/css-contain-1_dev/</a>
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/css/css-contain/">https://wpt.fyi/results/css/css-contain/</a>
                    <dt>フィードバック:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-contain-2">CSSWG課題リポジトリ</a>
                    <dt class="editor">編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url"
                            href="http://xanthir.com/contact/">Tab Atkins</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="43241"><a class="p-name fn u-url url"
                            href="https://florian.rivoal.net/">Florian Rivoal</a> (<span
                            class="p-org org">Bloombergの代表として</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="75295"><a class="p-name fn u-email email"
                            href="mailto:vmpstr@google.com">Vladimir Levin</a> (<span class="p-org org">Google</span>)
                    <dt>この仕様への編集提案:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-contain-2/Overview.bs">GitHub
                            エディター</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2022 <a
                href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
                href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
                href="https://www.ercim.eu/"><abbr
                    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a
                href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive
                document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p>このCSSモジュールは、要素のサブツリーがページ全体から独立していることを示す<a class="property css" data-link-type="property"
                href="#propdef-contain"
                id="ref-for-propdef-contain">contain</a>プロパティについて説明します。適切に使用することで、ユーザーエージェントによる大幅な最適化が可能になります。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a>は、構造化文書（HTMLやXMLなど）のレンダリングを画面や紙などで記述するための言語です。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">この文書のステータス</span></h2>
    <div data-fill-with="status">
        <p><em>このセクションでは、公開時点でのこの文書のステータスについて説明します。
                現在のW3C公開文書一覧やこの技術レポートの最新版は、<a
                    href="https://www.w3.org/TR/">W3C技術レポートインデックス（https://www.w3.org/TR/）</a>で確認できます。</em> </p>
        <p> この文書は<a href="https://www.w3.org/groups/wg/css">CSS作業グループ</a>によって、<a
                href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">勧告トラック</a>を使用して<strong>作業草案</strong>として公開されました。
            作業草案として公開されたことは、<abbr title="World Wide Web Consortium">W3C</abbr>およびそのメンバーによる承認を意味するものではありません。 </p>
        <p> この文書はドラフトであり、随時更新・置換・廃止される可能性があります。
            進行中の作業以外のものとしてこの文書を引用するのは適切ではありません。 </p>
        <p>ご意見は<a
                href="https://github.com/w3c/csswg-drafts/issues">GitHubで課題を登録</a>（推奨）することでお寄せください。タイトルに仕様コード「css-contain」を含め、例：「[css-contain]
            <i>…コメント概要…</i>」のようにしてください。
            すべての課題やコメントは<a href="https://lists.w3.org/Archives/Public/public-css-archive/">アーカイブ</a>されています。
            または、(<a href="https://lists.w3.org/Archives/Public/www-style/">アーカイブ</a>あり)の公開メーリングリスト<a
                href="mailto:www-style@w3.org?Subject=%5Bcss-contain%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>でもフィードバックを送信できます。
        </p>
        <p>この文書は<a href="https://www.w3.org/2021/Process-20211102/"
                id="w3c_process_revision">2021年11月2日版W3Cプロセス文書</a>により管理されています。</p>
        <p>この文書は、<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C特許ポリシー</a>のもとで運用されるグループによって作成されました。
            W3Cは、グループ成果物に関連して提出された<a href="https://www.w3.org/groups/wg/css/ipr"
                rel="disclosure">特許開示の公開リスト</a>を管理しています。
            このページには特許開示方法も記載されています。
            特許について実際に知識があり、本質的な<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">クレーム</a>が含まれていると考える場合は、<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C特許ポリシー第6節</a>に従って情報開示してください。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content"> はじめに</span></a>
                <ol class="toc">
                    <li><a href="#interaction"><span class="secno">1.1</span> <span class="content">
                                モジュール間の相互作用</span></a>
                    <li><a href="#values"><span class="secno">1.2</span> <span class="content"> 値の定義</span></a>
                </ol>
            <li><a href="#contain-property"><span class="secno">2</span> <span class="content"> 強力なコンテインメント: <span
                            class="property">contain</span>プロパティ</span></a>
            <li>
                <a href="#containment-types"><span class="secno">3</span> <span class="content"> コンテインメントの種類</span></a>
                <ol class="toc">
                    <li><a href="#containment-size"><span class="secno">3.1</span> <span class="content">
                                サイズコンテインメント</span></a>
                    <li><a href="#containment-layout"><span class="secno">3.2</span> <span class="content">
                                レイアウトコンテインメント</span></a>
                    <li><a href="#containment-style"><span class="secno">3.3</span> <span class="content">
                                スタイルコンテインメント</span></a>
                    <li><a href="#containment-paint"><span class="secno">3.4</span> <span class="content">
                                ペイントコンテインメント</span></a>
                </ol>
            <li>
                <a href="#content-visibility"><span class="secno">4</span> <span class="content">要素の内容を完全に抑制する: <span
                            class="property">content-visibility</span>プロパティ</span></a>
                <ol class="toc">
                    <li><a href="#using-cv-hidden"><span class="secno">4.1</span> <span class="content"> <span
                                    class="css">content-visibility: hidden</span>の使用</span></a>
                    <li><a href="#using-cv-auto"><span class="secno">4.2</span> <span class="content"> <span
                                    class="css">content-visibility: auto</span>の使用</span></a>
                    <li><a href="#content-visibility-auto-state-changed"><span class="secno">4.3</span> <span
                                class="content"><span class="css">content-visibility: auto</span>の状態変化検出:
                                <span>contentvisibilityautostatechanged</span>イベント</span></a>
                    <li><a href="#cv-notes"><span class="secno">4.4</span> <span class="content">制限事項と補足事項</span></a>
                    <li><a href="#cv-a11y"><span class="secno">4.5</span> <span class="content">アクセシビリティへの影響</span></a>
                    <li><a href="#cv-examples"><span class="secno">4.6</span> <span class="content">例</span></a>
                </ol>
            <li><a href="#privacy"><span class="secno">5</span> <span class="content"> プライバシーに関する考慮事項</span></a>
            <li><a href="#security"><span class="secno">6</span> <span class="content"> セキュリティに関する考慮事項</span></a>
            <li>
                <a href="#changes"><span class="secno"></span> <span class="content">付録A. 変更点</span></a>
                <ol class="toc">
                    <li><a href="#changes-since-2020-12-16"><span class="secno"></span> <span class="content">
                                2020-12-16作業草案からの変更点 </span></a>
                    <li><a href="#changes-since-2020-06-03"><span class="secno"></span> <span class="content">
                                2020-06-03作業草案からの変更点 </span></a>
                    <li><a href="#changes-since-2019-11-11"><span class="secno"></span> <span class="content">
                                2019-11-11作業草案からの変更点 </span></a>
                    <li><a href="#l1-changes"><span class="secno"></span> <span class="content"> CSSコンテインメント レベル1からの変更点
                            </span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">適合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> 文書の慣例</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                適合性クラス</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> 部分的な実装</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> 不安定・独自機能の実装</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> 非実験的な実装</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義された用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照定義された用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範参照</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考情報</span></a>
                </ol>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">プロパティ索引</span></a>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
                はじめに</span><a class="self-link" href="#intro"></a></h2>
        <p>ウェブサイトを効率的に描画するためには、ユーザーエージェントがページのどの部分が表示されているか、どの部分が現在表示されているセクションに影響を与える可能性があるか、そしてどの部分を無視できるかを検出できることが重要です。
        </p>
        <p>サブツリーがページ全体から何らかの方法で独立しているかどうかを推測するための様々なヒューリスティックがありますが、これらは脆弱であり、ページへの些細な変更によって意図せずヒューリスティックテストに失敗し、描画が遅いコードパスに陥ることがあります。また、ヒューリスティックでは検出が困難または不可能な、隔離した方が良いものも多く存在します。
        </p>
        <p>これらの問題を解消し、サブツリーをページの他の部分から強力かつ予測可能に分離できるようにするため、本仕様では<a class="property css" data-link-type="property"
                href="#propdef-contain" id="ref-for-propdef-contain①">contain</a>プロパティを定義します。</p>
        <p>さらに、画面外のコンテンツの最適化を促進するため、本仕様では<a class="property css" data-link-type="property"
                href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility">content-visibility</a>プロパティも定義し、必要ない場合は要素のレイアウトや描画を<em>完全に</em>スキップできるようにします。
        </p>
        <h3 class="heading settled" data-level="1.1" id="interaction"><span class="secno">1.1. </span><span
                class="content">モジュール間の相互作用</span><a class="self-link" href="#interaction"></a></h3>
        <p>本書は、従来の仕様には存在しなかった新しい機能を定義しています。加えて、安定すれば<a data-link-type="biblio"
                href="#biblio-css-contain-1">[CSS-CONTAIN-1]</a>を置き換え、上書きすることを目指しています。</p>
        <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content">
                値の定義</span><a class="self-link" href="#values"></a></h3>
        <p>本仕様は、<a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS2のプロパティ定義規則</a>（<a
                data-link-type="biblio" href="#biblio-css2">[CSS2]</a>）を、<a
                href="https://www.w3.org/TR/css-values-3/#value-defs">CSS-VALUES-3の値定義構文</a>（<a data-link-type="biblio"
                href="#biblio-css-values-3">[CSS-VALUES-3]</a>）を用いて踏襲しています。
            この仕様で定義されていない値型はCSS Values &amp; Units
            <span>[CSS-VALUES-3]</span>で定義されています。
            他のCSSモジュールとの組み合わせにより、これらの値型の定義が拡張される場合があります。
        </p>
        <p>各プロパティ定義に記載された値に加え、本仕様で定義される全プロパティは<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#css-wide-keywords"
                id="ref-for-css-wide-keywords">CSS全体で使えるキーワード</a>も値として受け付けます。
            可読性のため、ここでは明示的に繰り返していません。</p>
        <h2 class="heading settled" data-level="2" id="contain-property"><span class="secno">2. </span><span
                class="content">強力なコンテインメント: <a class="property css" data-link-type="property" href="#propdef-contain"
                    id="ref-for-propdef-contain②">contain</a>プロパティ</span><a class="self-link"
                href="#contain-property"></a></h2>
        <table class="def propdef" data-link-for-hint="contain">
            <tbody>
                <tr>
                    <th>名前:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-contain">contain</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">値:</a>
                    <td class="prod">none <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> strict <span
                            id="ref-for-comb-one①">|</span> content <span id="ref-for-comb-one②">|</span> [ size <a
                            data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-any"
                            id="ref-for-comb-any">||</a> layout <span id="ref-for-comb-any①">||</span> style <span
                            id="ref-for-comb-any②">||</span> paint ]
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初期値:</a>
                    <td>none
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">適用対象:</a>
                    <td><a href="#contain-applies">下記参照</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">継承:</a>
                    <td>no
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">パーセンテージ:</a>
                    <td>n/a
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">算出値:</a>
                    <td>キーワード<a class="css" data-link-type="maybe" href="#valdef-contain-none"
                            id="ref-for-valdef-contain-none">none</a>、または<a class="css" data-link-type="maybe"
                            href="#valdef-contain-size" id="ref-for-valdef-contain-size">size</a>、<a class="css"
                            data-link-type="maybe" href="#valdef-contain-layout"
                            id="ref-for-valdef-contain-layout">layout</a>、<a class="css" data-link-type="maybe"
                            href="#valdef-contain-paint" id="ref-for-valdef-contain-paint">paint</a>のいずれか一つ以上
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">標準順序:</a>
                    <td>文法による
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">アニメーション型:</a>
                    <td>アニメーション不可
        </table>
        <p class="all-media">ユーザーエージェントは、非視覚メディアを含むすべてのメディアでこのプロパティをサポートすることが期待されています。
        </p>
        <p><a class="property css" data-link-type="property" href="#propdef-contain"
                id="ref-for-propdef-contain③">contain</a>プロパティは、著者が要素およびその内容が、できる限り他のドキュメントツリーから<em>独立</em>していることを示すことを可能にします。
            適切に<span class="property"
                id="ref-for-propdef-contain④">contain</span>を使用してページを描画することで、ユーザーエージェントはより強力な最適化を利用でき、些細な変更によって意図せず遅いコードパスに陥る心配がなくなります。
        </p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="contain" data-dfn-type="value" data-export
                    id="valdef-contain-none">none</dfn>
            <dd> この値は、プロパティに効果がないことを示します。
                要素は通常通り描画され、コンテインメント効果は適用されません。
            <dt><dfn class="dfn-paneled css" data-dfn-for="contain" data-dfn-type="value" data-export
                    id="valdef-contain-strict">strict</dfn>
            <dd> この値は<span class="css">size layout paint style</span>に算出され、要素に対してすべての<a data-link-type="dfn"
                    href="#containment" id="ref-for-containment">コンテインメント</a>を有効化します。
            <dt><dfn class="dfn-paneled css" data-dfn-for="contain" data-dfn-type="value" data-export
                    id="valdef-contain-content">content</dfn>
            <dd>
                この値は<span class="css">layout paint style</span>に算出され、要素に対して<a data-link-type="dfn" href="#containment"
                    id="ref-for-containment①">コンテインメント</a>のうち、<em>size containment</em>を<em>除く</em>すべてを有効化します。
                <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="propdesc"
                        href="#propdef-contain" id="ref-for-propdef-contain⑤">contain:
                        content</a>は広範囲に適用しても比較的「安全」であり、実際には効果も控えめなので、ほとんどのコンテンツはその制約に引っかかることはありません。
                    ただし、<a data-link-type="dfn" href="#size-containment" id="ref-for-size-containment①">size
                        containment</a>が有効にならないため、要素は依然として内容のサイズに応答でき、これが望まれる以上にレイアウトの無効化がツリーの上位まで波及することがあります。
                    可能な限り<span class="css" id="ref-for-propdef-contain⑥">contain:
                        strict</span>を使用して、最大限のコンテインメントを得てください。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="contain" data-dfn-type="value" data-export
                    id="valdef-contain-size">size</dfn>
            <dd> この値は、要素に<a data-link-type="dfn" href="#size-containment" id="ref-for-size-containment②">size
                    containment</a>を有効化します。
                これにより、<a data-link-type="dfn" href="#size-containment-box" id="ref-for-size-containment-box">containment
                    box</a>のレイアウト時に子孫を調べる必要がなくなります。
            <dt><dfn class="dfn-paneled css" data-dfn-for="contain" data-dfn-type="value" data-export
                    id="valdef-contain-layout">layout</dfn>
            <dd> この値は、要素に<a data-link-type="dfn" href="#layout-containment" id="ref-for-layout-containment">layout
                    containment</a>を有効化します。
                これにより、<a data-link-type="dfn" href="#layout-containment-box"
                    id="ref-for-layout-containment-box">containment
                    box</a>はレイアウト上<em>完全に不透明</em>となり、外部の影響を受けず、内部レイアウトも外部に影響しません。
            <dt><dfn class="css" data-dfn-for="contain" data-dfn-type="value" data-export
                    id="valdef-contain-style">style<a class="self-link" href="#valdef-contain-style"></a></dfn>
            <dd> この値は、要素に<a data-link-type="dfn" href="#style-containment" id="ref-for-style-containment">style
                    containment</a>を有効化します。
                これにより、要素やその子孫だけでなく、他の要素にも影響する可能性があるプロパティについて、その効果が要素外に漏れないようになります。
            <dt><dfn class="dfn-paneled css" data-dfn-for="contain" data-dfn-type="value" data-export
                    id="valdef-contain-paint">paint</dfn>
            <dd> この値は、要素に<a data-link-type="dfn" href="#paint-containment" id="ref-for-paint-containment">paint
                    containment</a>を有効化します。
                これにより、<a data-link-type="dfn" href="#paint-containment-box"
                    id="ref-for-paint-containment-box">containment
                    box</a>の子孫がその範囲外に表示されなくなり、要素が画面外や非表示の場合、その子孫も確実に非表示となります。
        </dl>
        <p><span id="contain-applies">このプロパティは原則としてすべての要素（<a
                    href="https://www.w3.org/TR/css-pseudo-4/#generated-content"><cite>CSS Pseudo-Elements 4</cite>
                    § 4.1 生成コンテンツ疑似要素: ::beforeおよび::after</a>を含む）</span>に適用されますが、コンテインメントの種類によっては一部の要素に効果がありません。詳細は<a
                href="#containment-types">§ 3 コンテインメントの種類</a>を参照してください。
            また、<a data-link-type="biblio" href="#biblio-svg2">[SVG2]</a>の場合、<a class="property css"
                data-link-type="property" href="#propdef-contain"
                id="ref-for-propdef-contain⑦">contain</a>プロパティは、CSSレイアウトボックスを持つ<code><a data-link-type="element" href="https://www.w3.org/TR/SVG2/struct.html#elementdef-svg" id="ref-for-elementdef-svg">svg</a></code>要素にのみ適用されます。
        </p>
        <div class="example" id="example-ace3db03">
            <a class="self-link" href="#example-ace3db03"></a> <a class="property css" data-link-type="property"
                href="#propdef-contain"
                id="ref-for-propdef-contain⑧">contain</a>は、ページ内で広く使うと特に有用です。特に、ページに多数の「ウィジェット」があり、それぞれが独立している場合に有効です。
            <p>例えば、マイクロポスト型SNSが以下のようなマークアップだったと仮定します:</p>
            <pre><code class="highlight"><c- p>&lt;</c-><c- f>body</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>aside</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>aside</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>section</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>h2</c-><c- p>></c->Messages<c- p>&lt;/</c-><c- f>h2</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>article</c-><c- p>></c->
      Lol, check out this dog: images.example.com/jsK3jkl
    <c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>article</c-><c- p>></c->
      I had a ham sandwich today. #goodtimes
    <c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>article</c-><c- p>></c->
      I have political opinions that you need to hear!
    <c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
    …
  <c- p>&lt;/</c-><c- f>section</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>body</c-><c- p>></c->
</code></pre>
            <p>このサイトには<em>多数</em>のメッセージが表示されているでしょうが、それぞれは独立しており、他の部分に影響しません。
                したがって、各メッセージに<a class="css" data-link-type="propdesc" href="#propdef-contain"
                    id="ref-for-propdef-contain⑨">contain:
                    content</a>を指定してユーザーエージェントに通知することで、ページを最適化し、画面外のメッセージの計算を大幅に省略できます。
                各メッセージのサイズが事前に分かっている場合は、さらに制約を伝えるために<span class="css" id="ref-for-propdef-contain①⓪">contain:
                    strict</span>を指定できます。</p>
        </div>
        <p>さらに、HTML
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element" id="ref-for-the-html-element">html</a></code>
            または
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element" id="ref-for-the-body-element">body</a></code>
            要素にいずれかの<a data-link-type="dfn" href="#containment" id="ref-for-containment②">コンテインメント</a>が有効になっている場合、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element" id="ref-for-the-body-element①">body</a></code>
            要素から<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#initial-containing-block"
                id="ref-for-initial-containing-block">初期コンテインニングブロック</a>、ビューポート、<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-backgrounds-3/#canvas-background"
                id="ref-for-canvas-background">キャンバス背景</a>へのプロパティ伝播は無効化されます。
            主に次のプロパティが影響を受けます:
        </p>
        <ul>
            <li data-md>
                <p><a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode"
                        id="ref-for-propdef-writing-mode">writing-mode</a>、<a class="property css"
                        data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                        id="ref-for-propdef-direction">direction</a>、<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation"
                        id="ref-for-propdef-text-orientation">text-orientation</a>（<a
                        href="https://www.w3.org/TR/css-writing-modes-3/#principal-flow"><cite>CSS Writing Modes
                            3</cite> § 8 主書字方向</a>参照）</p>
            <li data-md>
                <p><a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow"
                        id="ref-for-propdef-overflow">overflow</a>およびそのロングハンド（<a
                        href="https://www.w3.org/TR/css-overflow-3/#overflow-propagation"><cite>CSS Overflow 3</cite>
                        § 3.5 オーバーフロービューポート伝播</a>参照）</p>
            <li data-md>
                <p><a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background"
                        id="ref-for-propdef-background">background</a>およびそのロングハンド（<a
                        href="https://www.w3.org/TR/css-backgrounds-3/#body-background"><cite>CSS Backgrounds 3</cite>
                        § 2.11.2 キャンバス背景とHTML &lt;body>要素</a>参照）</p>
        </ul>
        <p class="note" role="note"><span>注:</span> <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#initial-containing-block"
                id="ref-for-initial-containing-block①">初期コンテインニングブロック</a>、ビューポート、<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-backgrounds-3/#canvas-background"
                id="ref-for-canvas-background①">キャンバス背景</a>への伝播は、<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element" id="ref-for-the-html-element①">html</a></code>要素自身に設定されたプロパティには影響しません。
        </p>
        <p class="note" role="note"><span>注:</span> <a class="property css" data-link-type="property"
                href="#propdef-contain" id="ref-for-propdef-contain①①">contain</a>以外にも、複数のプロパティが要素に様々な<a
                data-link-type="dfn" href="#containment" id="ref-for-containment③">コンテインメント</a>を有効にすることができます。
            これらは<span class="property" id="ref-for-propdef-contain①②">contain</span>の値には影響しません。
            要素は<span class="css" id="ref-for-propdef-contain①③">contain: none</span>であっても、例えば<a data-link-type="dfn"
                href="#layout-containment" id="ref-for-layout-containment①">レイアウト・コンテインメント</a>が<a class="property css"
                data-link-type="property" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility①">content-visibility</a>によって有効になる場合があります。
        </p>
        <h2 class="heading settled" data-level="3" id="containment-types"><span class="secno">3. </span><span
                class="content">コンテインメントの種類</span><a class="self-link" href="#containment-types"></a></h2>
        <p>要素にはいくつかの種類の<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="containment">コンテインメント</dfn>があり、その子孫がページ全体に及ぼす影響を様々な方法で制限します。<a data-link-type="dfn"
                href="#containment" id="ref-for-containment④">コンテインメント</a>は、ユーザーエージェントによるより強力な最適化を可能にし、
            著者がページを機能単位として構成するのに役立ちます。これは、特定の変更が文書全体にどれだけ広く影響するかを制限するためです。</p>
        <p><strong
                class="advisement">新しいプロパティやメカニズムを導入する仕様の著者は、様々な種類のコンテインメントが導入対象にどのように影響するかを考慮し、ここで説明されていない効果がある場合は仕様に記載する必要があります。</strong>
        </p>
        <h3 class="heading settled" data-level="3.1" id="containment-size"><span class="secno">3.1. </span><span
                class="content">サイズ・コンテインメント</span><a class="self-link" href="#containment-size"></a></h3>
        <p>要素に<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="size-containment">サイズ・コンテインメント</dfn>を与えると、その<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#principal-box" id="ref-for-principal-box">主ボックス</a>が
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="size-containment-box">サイズ・コンテインメントボックス</dfn>となり、以下の効果を持ちます:
        </p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#intrinsic-size"
                        id="ref-for-intrinsic-size">内在サイズ</a>は、<a data-link-type="dfn" href="#size-containment-box"
                        id="ref-for-size-containment-box①">サイズ・コンテインメントボックス</a>のコンテンツがないものとして決定され、
                    <a data-link-type="dfn" href="#sizing-as-if-empty"
                        id="ref-for-sizing-as-if-empty">空としてサイズ決定</a>する場合と同じロジックに従います。
                </p>
                <p class="note" role="note"><span>注:</span> これは、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-sizing-3/#valdef-width-min-content"
                        id="ref-for-valdef-width-min-content">min-content</a>や<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-sizing-3/#valdef-width-max-content"
                        id="ref-for-valdef-width-max-content">max-content</a>キーワードの明示的な使用、
                    それらの測定値に依存する計算（例: <span class="informative"><a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-track"
                            id="ref-for-grid-track">グリッドトラック</a></span>のサイズ決定や、
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#fit-content-size"
                        id="ref-for-fit-content-size">fit-contentサイズ</a>の親要素）などに影響します。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#size-containment-box"
                        id="ref-for-size-containment-box②">サイズ・コンテインメントボックス</a>とその内容のレイアウトは概念的に2段階で行われます:</p>
                <dl>
                    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                            id="sizing-as-if-empty">空としてサイズ決定</dfn>
                    <dd>
                        <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value"
                            id="ref-for-used-value">使用値</a>としての<a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-sizing-3/#propdef-width"
                            id="ref-for-propdef-width">width</a>および<a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-sizing-3/#propdef-height"
                            id="ref-for-propdef-height">height</a>は、通常のレイアウトを行うかのように決定されますが、
                        コンテンツがないものとして扱われます（<a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before"
                            id="ref-for-selectordef-before">::before</a>、<a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-after"
                            id="ref-for-selectordef-after">::after</a>、<a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-marker"
                            id="ref-for-selectordef-marker">::marker</a>などの疑似要素も含めてコンテンツなしとする）。
                        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#replaced-element"
                                id="ref-for-replaced-element">置換要素</a>は、<a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-images-3/#natural-dimensions"
                                id="ref-for-natural-dimensions">自然</a>な幅・高さを0、
                            <a data-link-type="dfn" href="https://www.w3.org/TR/css-images-3/#natural-aspect-ratio"
                                id="ref-for-natural-aspect-ratio">自然なアスペクト比</a>を持たないものとして扱う必要があります。
                        </p>
                        <p class="note" role="note"><span>注:</span> サイズ・コンテインメントは<a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-images-3/#natural-aspect-ratio"
                                id="ref-for-natural-aspect-ratio①">自然なアスペクト比</a>のみを抑制するため、
                            <a class="property css" data-link-type="property"
                                href="https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio"
                                id="ref-for-propdef-aspect-ratio">aspect-ratio</a>プロパティのように
                            <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio"
                                id="ref-for-preferred-aspect-ratio">優先アスペクト比</a>に直接影響を与えるものは有効です。
                        </p>
                        <p> <a data-link-type="dfn" href="#size-containment-box"
                                id="ref-for-size-containment-box④">サイズ・コンテインメントボックス</a>のすべてのCSSプロパティは、
                            通常のレイアウト時と同様に考慮されます。他の仕様で特定の例外が定められる場合があります。</p>
                        <p class="note" role="note"><span>注:</span> 要素の<a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-sizing-3/#sizing-property"
                                id="ref-for-sizing-property">サイズ指定プロパティ</a>が内在サイズを指定している場合でも、
                            必ずしも要素がゼロサイズになるわけではありません。
                            要素自体に設定されたプロパティが引き続き考慮されるため、より大きくなる場合があります。</p>
                    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                            id="laying-out-in-place">通常レイアウト</dfn>
                    <dd> <a data-link-type="dfn" href="#size-containment-box"
                            id="ref-for-size-containment-box⑤">サイズ・コンテインメントボックス</a>の内容（疑似要素も含む）は、
                        固定サイズになった<span id="ref-for-size-containment-box⑥">コンテインメントボックス</span>内に通常通りレイアウトされます。
                </dl>
                <p class="note" role="note"><span>注:</span> <a data-link-type="dfn" href="#size-containment"
                        id="ref-for-size-containment③">サイズ・コンテインメント</a>はベースライン整列は抑制しません。
                    この点については<a data-link-type="dfn" href="#layout-containment"
                        id="ref-for-layout-containment②">レイアウト・コンテインメント</a>を参照してください。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#size-containment-box"
                        id="ref-for-size-containment-box⑦">サイズ・コンテインメントボックス</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-break-3/#monolithic" id="ref-for-monolithic">モノリシック</a>です（<a
                        href="https://www.w3.org/TR/css-break-3/#possible-breaks"><cite>CSS Fragmentation 3</cite> § 4.1
                        可能な改ページ位置</a>参照）。
                </p>
        </ol>
        <div class="example" id="example-eadb9c00">
            <a class="self-link" href="#example-eadb9c00"></a> 以下のマークアップとスタイルの場合、画像は100px×100pxにサイズされます。
            <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio"
                id="ref-for-propdef-aspect-ratio①">aspect-ratio</a>プロパティで設定したアスペクト比が有効になるためです。
            <pre><code class="lang-css highlight">img <c- p>{</c->
  <c- k>width</c-><c- p>:</c-> <c- m>100</c-><c- k>px</c-><c- p>;</c->
  <c- k>aspect-ratio</c-><c- p>:</c-> <c- m>1</c->/<c- m>1</c-><c- p>;</c->
  <c- k>contain</c-><c- p>:</c-> size<c- p>;</c->
<c- p>}</c->
</code><code class="lang-html highlight"><c- p>&lt;</c-><c- f>img</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://www.example.com/300x100.jpg"</c-><c- p>></c->
</code></pre>
            <p><a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio"
                    id="ref-for-propdef-aspect-ratio②">aspect-ratio</a>プロパティが宣言されていなかった場合、
                画像は100px×0pxとなり、<a data-link-type="dfn" href="https://www.w3.org/TR/css-images-3/#natural-aspect-ratio"
                    id="ref-for-natural-aspect-ratio②">自然なアスペクト比</a>が抑制され、
                <a data-link-type="dfn" href="https://www.w3.org/TR/css-images-3/#natural-height"
                    id="ref-for-natural-height">自然な高さ</a>は0とみなされます。
            </p>
        </div>
        <p>ただし、以下のいずれかが当てはまる場合、要素に<a data-link-type="dfn" href="#size-containment"
                id="ref-for-size-containment④">サイズ・コンテインメント</a>を与えても効果はありません:</p>
        <ul>
            <li data-md>
                <p>要素が<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box①">主ボックス</a>を生成しない場合（<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-display-3/#propdef-display"
                        id="ref-for-propdef-display">display: contents</a> や<span class="css"
                        id="ref-for-propdef-display①">display: none</span>の場合など）</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inner-display-type"
                        id="ref-for-inner-display-type">内部displayタイプ</a>が<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-display-3/#valdef-display-table"
                        id="ref-for-valdef-display-table">table</a>の場合</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box②">主ボックス</a>が
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#internal-table-box"
                        id="ref-for-internal-table-box">内部テーブルボックス</a>である場合
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box③">主ボックス</a>が
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#internal-ruby-box"
                        id="ref-for-internal-ruby-box">内部ルビボックス</a>または<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#atomic-inline"
                        id="ref-for-atomic-inline">非アトミック</a>な<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#inline-level"
                        id="ref-for-inline-level">インラインレベル</a>ボックスである場合
                </p>
        </ul>
        <p class="note" role="note"><span>注:</span>
            内部テーブルボックス（テーブルキャプションは含まない）は除外されます。なぜなら、テーブルレイアウトアルゴリズムはボックスがその流れのコンテンツより小さくなることを許さないためです。
            テーブルセルを空としてサイズ決定し、内容を中にレイアウトしてもサイズが変わらないというのは、実質的に未定義の動作です。
            <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width"
                id="ref-for-propdef-width①">width</a>や<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-sizing-3/#propdef-height"
                id="ref-for-propdef-height①">height</a>プロパティで<span class="css">0</span>を設定しても、内容より小さくはできません。
            この懸念はテーブルキャプションには当てはまらず、キャプションは内容に依存しない固定サイズが可能です。
        </p>
        <h4 class="no-toc heading settled" data-level="3.1.1" id="containment-size-opt"><span class="secno">3.1.1.
            </span><span class="content">サイズ・コンテインメントによる最適化例</span><a class="self-link"
                href="#containment-size-opt"></a></h4>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p><a data-link-type="dfn" href="#size-containment"
                id="ref-for-size-containment⑤">サイズ・コンテインメント</a>単体では大きな最適化の余地はありません。
            主な利点は、<a data-link-type="dfn" href="#size-containment-box"
                id="ref-for-size-containment-box⑧">コンテインメントボックス</a>のサイズに応じて内容をレイアウトしたいツール（例：「コンテナクエリ」概念を実装するJSライブラリ）が、
            「無限ループ」の心配なく動作できることです。
            つまり、子のサイズが<span id="ref-for-size-containment-box①⑨">コンテインメントボックス</span>のサイズに応答し、
            それがまた<span id="ref-for-size-containment-box①①">コンテインメントボックス</span>のサイズの変化を引き起こし、
            さらに子のサイズが変わり…という連鎖的な変更が無限に続くことを防げます。</p>
        <p><a data-link-type="dfn" href="#layout-containment"
                id="ref-for-layout-containment③">レイアウト・コンテインメント</a>と組み合わせることで、可能な最適化（例）は以下の通りです:</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#size-containment-box"
                        id="ref-for-size-containment-box①③">コンテインメントボックス</a>の子孫のスタイルや内容が変更された場合、
                    DOMツリーのどの部分が「汚れて」再レイアウトが必要かの計算を<span
                        id="ref-for-size-containment-box①④">コンテインメントボックス</span>で止めることができます。</p>
            <li data-md>
                <p>ページのレイアウト時に、<a data-link-type="dfn" href="#size-containment-box"
                        id="ref-for-size-containment-box①⑤">コンテインメントボックス</a>が画面外や隠れている場合、
                    その内容のレイアウト（「<a data-link-type="dfn" href="#laying-out-in-place"
                        id="ref-for-laying-out-in-place">通常レイアウト</a>」）を遅延したり、低い優先度で処理できます。</p>
        </ol>
        <h3 class="heading settled" data-level="3.2" id="containment-layout"><span class="secno">3.2. </span><span
                class="content">レイアウト・コンテインメント</span><a class="self-link" href="#containment-layout"></a></h3>
        <p>要素に<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="layout-containment">レイアウト・コンテインメント</dfn>を与えると、その<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#principal-box" id="ref-for-principal-box④">主ボックス</a>が
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="layout-containment-box">レイアウト・コンテインメントボックス</dfn>となり、以下の効果を持ちます:
        </p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#layout-containment-box"
                        id="ref-for-layout-containment-box①">レイアウト・コンテインメントボックス</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#establish-an-independent-formatting-context"
                        id="ref-for-establish-an-independent-formatting-context">独立したフォーマッティングコンテキスト</a>を確立します。</p>
            <li data-md>
                <p>ある<a data-link-type="dfn" href="https://www.w3.org/TR/css-break-3/#fragmentation-container"
                        id="ref-for-fragmentation-container">フラグメンテーションコンテナ</a>が属する<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-break-3/#fragmentation-context"
                        id="ref-for-fragmentation-context">フラグメンテーションコンテキスト</a>内に、少なくとも1つが<a data-link-type="dfn"
                        href="#layout-containment" id="ref-for-layout-containment④">レイアウト・コンテインメント</a>を持つ場合、
                    または同じフラグメンテーションコンテキスト内で、少なくとも1つの<span id="ref-for-fragmentation-container①">フラグメンテーションコンテナ</span>が
                    <span
                        id="ref-for-layout-containment-box②">レイアウト・コンテインメントボックス</span>の子孫であり、かつその後に現れるコンテナがその要素の子孫でない場合、
                    最初の<span id="ref-for-layout-containment-box③">レイアウト・コンテインメントボックス</span>（自身がコンテナまたはコンテナの祖先）は残りの<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-break-3/#fragmented-flow"
                        id="ref-for-fragmented-flow">フラグメントフロー</a>を「捕捉」しなければなりません。<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-break-3/#fragmentation"
                        id="ref-for-fragmentation">フラグメンテーション</a>は<span
                        id="ref-for-layout-containment⑤">レイアウト・コンテインメント</span>の境界を超えて継続してはならず、
                    最初の<span id="ref-for-layout-containment⑥">レイアウト・コンテインメント</span>境界内の最後の<span
                        id="ref-for-fragmentation-container⑤">フラグメンテーションコンテナ</span>は、
                    その<span id="ref-for-fragmentation-context③">フラグメンテーションコンテキスト</span>で最後のコンテナとして扱われます。
                </p>
                <p>そのフラグメンテーションコンテキスト内の後続の<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-break-3/#fragmentation-container"
                        id="ref-for-fragmentation-container⑦">フラグメンテーションコンテナ</a>が、
                    フラグメントフローにコンテンツが残っている場合のみ生成される場合は、生成されません。
                    それ以外の場合は、その<span id="ref-for-fragmentation-context⑤">フラグメンテーションコンテキスト</span>の一部には残りますが、
                    <span id="ref-for-fragmented-flow②">フラグメントフロー</span>からのコンテンツは受け取りません。
                </p>
                <p class="note" role="note"><span>注:</span> 本文書執筆時点で、この点の影響を受ける安定仕様はありません。
                    一部のフラグメンテーションコンテナのみがレイアウト・コンテインメントを持つ（またはその子孫である）仕様が対象です。
                    <a data-link-type="biblio" href="#biblio-css-page-3">[CSS-PAGE-3]</a>や
                    <a data-link-type="biblio" href="#biblio-css-multicol-1">[CSS-MULTICOL-1]</a>には該当しません。
                    ただし、将来的にこの可能性が検討されている複数の仕組み（例：<a data-link-type="biblio"
                        href="#biblio-css-regions-1">[CSS-REGIONS-1]</a>、
                    <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-overflow-4/#selectordef-nth-fragment"
                        id="ref-for-selectordef-nth-fragment">::nth-fragment()</a>、
                    マルチカラムの個々の列を対象とする仮想セレクタなど）があるため、この要件を明記しています。
                    <span>[CSS-REGIONS-1]</span>にはレイアウト・コンテインメントがリージョンに与える影響の詳細があります。
                </p>
                <div class="example" id="example-2b10faa8">
                    <a class="self-link" href="#example-2b10faa8"></a>
                    <pre><code class="highlight"><c- p>&lt;</c-><c- f>article</c-><c- p>></c->Lorem ipsum…<c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>a</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;</c-><c- f>aside</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>b</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>c</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>aside</c-><c- p>></c->
<c- p>&lt;</c-><c- f>aside</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>d</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>e</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>aside</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>f</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
</code></pre>
                    <pre><code class="highlight">article <c- p>{</c-><c- k>flow-into</c-><c- p>:</c-> foo<c- p>;}</c->
#a<c- p>,</c-> #b<c- p>,</c-> #c<c- p>,</c-> #d<c- p>,</c-> #e<c- p>,</c-> #f <c- p>{</c-><c- k>flow-from</c-><c- p>:</c-> foo<c- p>;}</c->
aside <c- p>{</c-><c- k>contain</c-><c- p>:</c-> layout<c- p>}</c->
</code></pre>
                    <p>この<a data-link-type="biblio"
                            href="#biblio-css-regions-1">[CSS-REGIONS-1]</a>の例では、コンテンツは<code>#a</code>から<code>#b</code>へ、
                        <code>#b</code>から<code>#c</code>へとフローできます。
                        しかし<code>#c</code>が最初の<a data-link-type="dfn" href="#layout-containment-box"
                            id="ref-for-layout-containment-box④">レイアウト・コンテインメントボックス</a>内の最後のフラグメントコンテナであるため、
                        残りのコンテンツは全て捕捉され、<code>#d</code>、<code>#e</code>、<code>#f</code>には何もフローされません。
                    </p>
                </div>
            <li data-md>
                <p><a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow"
                        id="ref-for-propdef-overflow①">overflow</a>プロパティの算出値が
                    <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-overflow-3/#valdef-overflow-visible"
                        id="ref-for-valdef-overflow-visible">visible</a>か<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-overflow-3/#valdef-overflow-clip"
                        id="ref-for-valdef-overflow-clip">clip</a>またはその組み合わせの場合、
                    いかなるオーバーフローも<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#ink-overflow"
                        id="ref-for-ink-overflow">インクオーバーフロー</a>として扱われます。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#layout-containment-box"
                        id="ref-for-layout-containment-box⑤">レイアウト・コンテインメントボックス</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block"
                        id="ref-for-absolute-positioning-containing-block">絶対位置決めコンテインメントブロック</a>および
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block"
                        id="ref-for-fixed-positioning-containing-block">固定位置決めコンテインメントブロック</a>を確立します。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#layout-containment-box"
                        id="ref-for-layout-containment-box⑥">レイアウト・コンテインメントボックス</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/CSS2/visuren.html#x43" id="ref-for-x43">スタッキングコンテキスト</a>を生成します。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-break-3/#forced-break"
                        id="ref-for-forced-break">強制改ページ</a>は<a data-link-type="dfn" href="#layout-containment-box"
                        id="ref-for-layout-containment-box⑦">レイアウト・コンテインメントボックス</a>内で許可されますが、
                    <a href="https://www.w3.org/TR/css-break-3/#break-between"><cite>CSS Fragmentation 3</cite> § 3.1
                        ボックス間の改ページ: break-beforeとbreak-afterプロパティ</a>で説明されているような親への伝播は行われません。
                </p>
                <p class="note" role="note"><span>注:</span> これにより、<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-break-3/#forced-break"
                        id="ref-for-forced-break①">強制改ページ</a>がボックスとそのコンテナの間に発生する可能性が生まれます（<a
                        href="https://www.w3.org/TR/css-break-3/#possible-breaks"><cite>CSS Fragmentation 3</cite> § 4.1
                        可能な改ページ位置</a>参照）。</p>
            <li data-md>
                <p><a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-inline-3/#propdef-vertical-align"
                        id="ref-for-propdef-vertical-align">vertical-align</a>プロパティや、
                    ベースライン位置を子孫以外と関連付ける必要があるその他のプロパティについては、
                    <span id="ref-for-layout-containment-box⑨">コンテインメントボックス</span>はベースラインを持たないものとして扱われます。
                </p>
        </ol>
        <p>ただし、以下のいずれかが当てはまる場合、要素に<a data-link-type="dfn" href="#layout-containment"
                id="ref-for-layout-containment⑧">レイアウト・コンテインメント</a>を与えても効果はありません:
        </p>
        <ul>
            <li data-md>
                <p>要素が<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box⑤">主ボックス</a>を生成しない場合（<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-display-3/#propdef-display"
                        id="ref-for-propdef-display②">display: contents</a>や<span class="css"
                        id="ref-for-propdef-display③">display: none</span>の場合など）</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box⑥">主ボックス</a>が
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#internal-table-box"
                        id="ref-for-internal-table-box①">内部テーブルボックス</a>（ただし<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-display-3/#valdef-display-table-cell"
                        id="ref-for-valdef-display-table-cell">table-cell</a>は除く）の場合
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box⑦">主ボックス</a>が
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#internal-ruby-box"
                        id="ref-for-internal-ruby-box①">内部ルビボックス</a>または<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#atomic-inline"
                        id="ref-for-atomic-inline①">非アトミック</a>な<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#inline-level"
                        id="ref-for-inline-level①">インラインレベル</a>ボックスである場合
                </p>
        </ul>
        <h4 class="no-toc heading settled" data-level="3.2.1" id="containment-layout-opt"><span class="secno">3.2.1.
            </span><span class="content">レイアウト・コンテインメントによる最適化例</span><a class="self-link"
                href="#containment-layout-opt"></a></h4>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p><a data-link-type="dfn" href="#layout-containment"
                id="ref-for-layout-containment⑨">レイアウト・コンテインメント</a>によって可能になる最適化例（代表例、限定されない）:</p>
        <ol>
            <li data-md>
                <p>ページのレイアウト時、
                    別々の<a data-link-type="dfn" href="#layout-containment-box"
                        id="ref-for-layout-containment-box①⓪">コンテインメントボックス</a>の内容は互いに影響しないことが保証されているため、並列でレイアウトできます。</p>
            <li data-md>
                <p>ページのレイアウト時、
                    <a data-link-type="dfn" href="#layout-containment-box"
                        id="ref-for-layout-containment-box①①">コンテインメントボックス</a>が画面外や隠れていて、画面の可視部分のレイアウトがその<span
                        id="ref-for-layout-containment-box①②">コンテインメントボックス</span>のサイズに依存しない場合（例えば、<span
                        id="ref-for-layout-containment-box①③">コンテインメントボックス</span>がブロックコンテナの末尾にあり、ユーザーがブロックコンテナの先頭を表示している場合）、
                    <span id="ref-for-layout-containment-box①④">コンテインメントボックス</span>の内容のレイアウトを遅延したり、優先度を下げて処理できます。
                </p>
                <p>（<a data-link-type="dfn" href="#size-containment"
                        id="ref-for-size-containment⑥">サイズ・コンテインメント</a>と組み合わせることで、この最適化をより自由に適用できます。）</p>
        </ol>
        <h3 class="heading settled" data-level="3.3" id="containment-style"><span class="secno">3.3. </span><span
                class="content">スタイル・コンテインメント</span><a class="self-link" href="#containment-style"></a></h3>
        <p>要素に<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="style-containment">スタイル・コンテインメント</dfn>を与えると、以下の効果があります:</p>
        <ol>
            <li data-md>
                <p><a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/CSS2/generate.html#propdef-counter-increment"
                        id="ref-for-propdef-counter-increment">counter-increment</a>および<a class="property css"
                        data-link-type="property" href="https://www.w3.org/TR/css-lists-3/#propdef-counter-set"
                        id="ref-for-propdef-counter-set">counter-set</a>プロパティは<a data-link-type="dfn"
                        href="#property-scoped-to-a-sub-tree"
                        id="ref-for-property-scoped-to-a-sub-tree">要素のサブツリーにスコープされ</a>、新しいカウンターを作成します。</p>
            <li data-md>
                <p><a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/CSS2/generate.html#propdef-content"
                        id="ref-for-propdef-content">content</a>プロパティの<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-content-3/#valdef-content-open-quote"
                        id="ref-for-valdef-content-open-quote">open-quote</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-content-3/#valdef-content-close-quote"
                        id="ref-for-valdef-content-close-quote">close-quote</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-content-3/#valdef-content-no-open-quote"
                        id="ref-for-valdef-content-no-open-quote">no-open-quote</a>および<a class="css"
                        data-link-type="maybe" href="https://www.w3.org/TR/css-content-3/#valdef-content-no-close-quote"
                        id="ref-for-valdef-content-no-close-quote">no-close-quote</a>の効果は<a data-link-type="dfn"
                        href="#property-scoped-to-a-sub-tree"
                        id="ref-for-property-scoped-to-a-sub-tree①">要素のサブツリーにスコープされ</a>ます。</p>
                <p class="note" role="note">
                    <span>注:</span>これはサブツリー内の引用ネストの深さが、通常のコンテキストから開始されて変更されないことを意味しますが、サブツリー内でこれらの値による深さの変更はサブツリー外の引用ネストの深さに影響しません。
                </p>
        </ol>
        <p class="note" role="note"><span>注:</span> <a data-link-type="biblio"
                href="#biblio-css-regions-1">[CSS-REGIONS-1]</a>には<a data-link-type="dfn" href="#style-containment"
                id="ref-for-style-containment①">スタイル・コンテインメント</a>がリージョンに与える規範的要件が定められています。</p>
        <p><dfn data-dfn-for="property" data-dfn-type="dfn" data-export
                data-lt="scoped | scoped property | scoped properties" id="property-scoped">スコープされたプロパティ<a
                    class="self-link" href="#property-scoped"></a></dfn>は、特定の要素またはサブツリーに効果範囲が限定されます。</p>
        <ul>
            <li data-md>
                <p><dfn data-dfn-for="property" data-dfn-type="dfn" data-export
                        data-lt="scoped to an element | scoped to the element"
                        id="property-scoped-to-an-element">要素にスコープ<a class="self-link"
                            href="#property-scoped-to-an-element"></a></dfn>されている場合、プロパティの効果評価において、スコープする要素が文書のルートであるかのように振る舞わなければなりません。
                    スコープ外でのプロパティの使用は、スコープ要素内外のプロパティの使用に影響しないものとし、逆も同様です。</p>
                <p class="note" role="note"><span>注:</span>「要素へのスコープ」は現在未使用です。将来の仕様で拡張ポイントとして定義されています。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="property" data-dfn-type="dfn" data-export
                        data-lt="scoped to a sub-tree | scoped to the sub-tree | scoped to the element’s sub-tree | scoped to an element’s sub-tree"
                        id="property-scoped-to-a-sub-tree">サブツリーにスコープ</dfn>された場合も同様ですが、スコープ要素自体はツリー外（文書全体と同様）とみなされ、その要素へのプロパティの効果はスコープの影響を受けません。
                    サブツリー内の要素に対してスコープされたプロパティの効果を考慮する際、サブツリーの基底要素が文書のルートであるかのように扱います。</p>
        </ul>
        <div class="example" id="example-6932a400">
            <a class="self-link" href="#example-6932a400"></a> <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/CSS2/generate.html#propdef-counter-increment"
                id="ref-for-propdef-counter-increment①">counter-increment</a>は要素のサブツリーにスコープされるため、
            サブツリー内で最初に使用された際は、スコープ要素でその名前のカウンターが0に設定されたかのように振る舞います。
            たとえスコープ外でそのカウンターが使われていても、サブツリー内でのインクリメントはスコープ外の同名カウンターに影響しません。
            ただし、<span class="css">counter()</span>や<span class="css">counters()</span>の値はスコープされず、
            サブツリー外で確立されたカウンターも参照できます。
            そのため、以下のコードでは<q><samp>1 1.2</samp></q>が表示されます:
            <pre><code class="highlight"><c- p>&lt;</c-><c- f>div</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
</code></pre>
            <pre><code class="highlight">div <c- p>{</c->
  <c- k>contain</c-><c- p>:</c-> style<c- p>;</c->
  <c- k>counter-increment</c-><c- p>:</c-> n<c- p>;</c->
<c- p>}</c->
div::before<c- p>,</c-> div::after <c- p>{</c->
  <c- k>content</c-><c- p>:</c-> <c- nf>counters</c-><c- p>(</c->n<c- p>,</c-> <c- s>'.'</c-><c- p>)</c-> <c- s>" "</c-><c- p>;</c->
<c- p>}</c->
div::after <c- p>{</c-><c- k>counter-increment</c-><c- p>:</c-> n <c- m>2</c-><c- p>;</c->
<c- p>}</c->
</code></pre>
        </div>
        <h4 class="no-toc heading settled" data-level="3.3.1" id="containment-style-opt"><span class="secno">3.3.1.
            </span><span class="content">スタイル・コンテインメントによる最適化例</span><a class="self-link"
                href="#containment-style-opt"></a></h4>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p><a data-link-type="dfn" href="#style-containment"
                id="ref-for-style-containment②">スタイル・コンテインメント</a>によって可能になる最適化例（代表例、限定されない）:</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#style-containment"
                        id="ref-for-style-containment③">スタイル・コンテインメント</a>を持つ要素の子孫プロパティが変更された場合、DOMツリーのどの部分が「汚れて」スタイル再計算が必要かの計算を<span
                        id="ref-for-style-containment④">スタイル・コンテインメント</span>要素で止めることができます。</p>
        </ol>
        <h3 class="heading settled" data-level="3.4" id="containment-paint"><span class="secno">3.4. </span><span
                class="content">ペイント・コンテインメント</span><a class="self-link" href="#containment-paint"></a></h3>
        <p>要素に<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="paint-containment">ペイント・コンテインメント</dfn>を与えると、その<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#principal-box" id="ref-for-principal-box⑧">主ボックス</a>が
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="paint-containment-box">ペイント・コンテインメントボックス</dfn>となり、以下の効果を持ちます:
        </p>
        <ol>
            <li data-md>
                <p>要素の内容（<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#ink-overflow"
                        id="ref-for-ink-overflow①">インク</a>や<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow"
                        id="ref-for-scrollable-overflow">スクロール可能なオーバーフロー</a>も含む）は、<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-overflow-3/#overflow-clip-edge"
                        id="ref-for-overflow-clip-edge">ペイント・コンテインメントボックス</a>の<a data-link-type="dfn"
                        href="#paint-containment-box"
                        id="ref-for-paint-containment-box①">オーバーフロークリップエッジ</a>でクリップされなければなりません。
                    この際、[[css-backgrounds-3#corner clipping|角のクリッピング]]も考慮します。
                    クリップされた内容へのアクセスや存在を示す仕組みの作成は含みませんし、他のプロパティ<span class="informative">（例えば <a class="property css"
                            data-link-type="property" href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow"
                            id="ref-for-propdef-overflow②">overflow</a>、<a class="property css"
                            data-link-type="property" href="https://www.w3.org/TR/css-ui-3/#propdef-resize"
                            id="ref-for-propdef-resize">resize</a>、<a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-ui-3/#propdef-text-overflow"
                            id="ref-for-propdef-text-overflow">text-overflow</a>など）によるそのような仕組みの作成も妨げません。</span></p>
                <p class="note" role="note"><span>注:</span>このクリッピング形状は<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow-clip-margin"
                        id="ref-for-propdef-overflow-clip-margin">overflow-clip-margin</a>を考慮し、
                    <a data-link-type="dfn" href="#paint-containment"
                        id="ref-for-paint-containment①">ペイント・コンテインメント</a>を持つ要素でも少しは通常の境界を超えて描画できます。
                </p>
                <p class="note" role="note"><span>注:</span>この段落で記述されている動作は、使用値時に<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow-x"
                        id="ref-for-propdef-overflow-x">overflow-x: visible</a>を<span class="css"
                        id="ref-for-propdef-overflow-x①">overflow-x: clip</span>に、
                    <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow-y"
                        id="ref-for-propdef-overflow-y">overflow-y: visible</a>を<span class="css"
                        id="ref-for-propdef-overflow-y①">overflow-y: clip</span>に変えることと同等ですが、
                    <span class="property" id="ref-for-propdef-overflow-x②">overflow-x</span>や<span class="property"
                        id="ref-for-propdef-overflow-y②">overflow-y</span>の他の値は変更しません。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#paint-containment-box"
                        id="ref-for-paint-containment-box②">ペイント・コンテインメントボックス</a>は
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block"
                        id="ref-for-absolute-positioning-containing-block①">絶対位置決めコンテインメントブロック</a>と
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block"
                        id="ref-for-fixed-positioning-containing-block①">固定位置決めコンテインメントブロック</a>を確立します。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#paint-containment-box"
                        id="ref-for-paint-containment-box③">ペイント・コンテインメントボックス</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/CSS2/visuren.html#x43" id="ref-for-x43①">スタッキングコンテキスト</a>を生成します。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#paint-containment-box"
                        id="ref-for-paint-containment-box④">ペイント・コンテインメントボックス</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#establish-an-independent-formatting-context"
                        id="ref-for-establish-an-independent-formatting-context①">独立したフォーマッティングコンテキスト</a>を確立します。</p>
        </ol>
        <p>ただし、以下のいずれかが当てはまる場合、要素に<a data-link-type="dfn" href="#paint-containment"
                id="ref-for-paint-containment②">ペイント・コンテインメント</a>を与えても効果はありません:
        </p>
        <ul>
            <li data-md>
                <p>要素が<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box⑨">主ボックス</a>を生成しない場合（<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-display-3/#propdef-display"
                        id="ref-for-propdef-display④">display: contents</a>や<span class="css"
                        id="ref-for-propdef-display⑤">display: none</span>の場合など）</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box①⓪">主ボックス</a>が
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#internal-table-box"
                        id="ref-for-internal-table-box②">内部テーブルボックス</a>（ただし<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-display-3/#valdef-display-table-cell"
                        id="ref-for-valdef-display-table-cell①">table-cell</a>は除く）の場合
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                        id="ref-for-principal-box①①">主ボックス</a>が
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#internal-ruby-box"
                        id="ref-for-internal-ruby-box②">内部ルビボックス</a>または<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#atomic-inline"
                        id="ref-for-atomic-inline②">非アトミック</a>な<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#inline-level"
                        id="ref-for-inline-level②">インラインレベル</a>ボックスである場合
                </p>
        </ul>
        <h4 class="no-toc heading settled" data-level="3.4.1" id="containment-paint-opt"><span class="secno">3.4.1.
            </span><span class="content">ペイント・コンテインメントによる最適化例</span><a class="self-link"
                href="#containment-paint-opt"></a></h4>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p><a data-link-type="dfn" href="#paint-containment"
                id="ref-for-paint-containment③">ペイント・コンテインメント</a>によって可能になる最適化例（代表例、限定されない）:</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#paint-containment-box"
                        id="ref-for-paint-containment-box⑤">コンテインメントボックス</a>が画面外または隠れている場合、
                    UAは通常、その内容の描画を省略できます。
                    内容も確実に画面外・不可視となるためです。</p>
                <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/filter-effects-1/#funcdef-filter-blur"
                        id="ref-for-funcdef-filter-blur">blur()</a>フィルター（<a data-link-type="biblio"
                        href="#biblio-filter-effects-1">[FILTER-EFFECTS-1]</a>）など一部のペイント効果は局所的でない影響を持ちます。
                    ユーザーエージェントはこれらを管理する必要があり、
                    該当フィルターが使われている場合、子孫が変更されると一部領域の再描画が必要になることがあります。
                    たとえ<a data-link-type="dfn" href="#paint-containment"
                        id="ref-for-paint-containment④">ペイント・コンテインメント</a>が有効で通常スキップできる場合でもです。</p>
            <li data-md>
                <p>クリップされたコンテンツが <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow"
                        id="ref-for-propdef-overflow③">overflow</a>、<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-ui-3/#propdef-resize" id="ref-for-propdef-resize①">resize</a>、
                    <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-ui-3/#propdef-text-overflow"
                        id="ref-for-propdef-text-overflow①">text-overflow</a>などの別の仕組みでアクセス可能でない限り、
                    UAはボックスのサイズぴったりに「キャンバス」領域を確保できます。
                    （スクロール可能な状況、例:<span class="css" id="ref-for-propdef-overflow④">overflow: hidden</span>などでは、
                    クリップされたコンテンツへスクロールできるため、
                    UAは予測的に多少余分に描画しておき、スクロール直後にすぐ表示されるようにします。
                    これは１フレーム遅れて表示されるのを防ぐためです。）
                </p>
            <li data-md>
                <p>スタッキングコンテキストであることが保証されるため、
                    スクロール要素は単一のGPUレイヤーとして描画できます。</p>
        </ol>
        <h2 class="heading settled" data-level="4" id="content-visibility"><span class="secno">4. </span><span
                class="content">要素の内容を完全に抑制する: <a class="property css" data-link-type="property"
                    href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility②">content-visibility</a>プロパティ</span><a class="self-link"
                href="#content-visibility"></a></h2>
        <table class="def propdef" data-link-for-hint="content-visibility">
            <tbody>
                <tr>
                    <th>Name:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-content-visibility">content-visibility</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">値:</a>
                    <td class="prod">visible <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> auto <span
                            id="ref-for-comb-one④">|</span> hidden
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初期値:</a>
                    <td>visible
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">適用対象:</a>
                    <td><a data-link-type="dfn" href="#layout-containment"
                            id="ref-for-layout-containment①⓪">レイアウト・コンテインメント</a>が適用可能な要素
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">継承:</a>
                    <td>no
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">パーセンテージ:</a>
                    <td>n/a
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">算出値:</a>
                    <td>指定通り
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">正規順序:</a>
                    <td>文法通り
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">アニメーション型:</a>
                    <td>アニメーション不可
        </table>
        <p><a class="property css" data-link-type="property" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility③">content-visibility</a>プロパティは、
            要素がその内容を描画するかどうかを制御します。
            また、強力な<a data-link-type="dfn" href="#containment" id="ref-for-containment⑤">コンテインメント</a>を強制し、
            ユーザーエージェントが必要になるまで大規模なレイアウトやレンダリング作業を省略できるようにします。
            以下の値があります:</p>
        <dl>
            <dt data-md><dfn class="css" data-dfn-for="content-visibility" data-dfn-type="value" data-export
                    id="valdef-content-visibility-visible">visible<a class="self-link"
                        href="#valdef-content-visibility-visible"></a></dfn>
            <dd data-md>
                <p>効果なし。
                    要素の内容は通常通りレイアウト・描画されます。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="content-visibility" data-dfn-type="value" data-export
                    id="valdef-content-visibility-hidden">hidden</dfn>
            <dd data-md>
                <p>要素は<a data-link-type="dfn" href="#skips-its-contents" id="ref-for-skips-its-contents">内容をスキップ</a>します。
                </p>
                <p><a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents①">スキップされた内容</a>は<em>ユーザーエージェントの機能でアクセス可能であってはなりません</em>
                    （ページ内検索、タブ移動、選択・フォーカスなど）。</p>
                <p class="note" role="note"><span>注:</span> これは内容に<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-display-3/#propdef-display"
                        id="ref-for-propdef-display⑥">display: none</a>を与えるのに類似しています。</p>
            <dt data-md><dfn class="css" data-dfn-for="content-visibility" data-dfn-type="value" data-export
                    id="valdef-content-visibility-auto">auto<a class="self-link"
                        href="#valdef-content-visibility-auto"></a></dfn>
            <dd data-md>
                <p><a data-link-type="dfn" href="#layout-containment"
                        id="ref-for-layout-containment①①">レイアウト・コンテインメント</a>、
                    <a data-link-type="dfn" href="#style-containment" id="ref-for-style-containment⑤">スタイル・コンテインメント</a>、
                    <a data-link-type="dfn" href="#paint-containment"
                        id="ref-for-paint-containment⑤">ペイント・コンテインメント</a>を有効化します。
                </p>
                <p>要素が<a data-link-type="dfn" href="#relevant-to-the-user"
                        id="ref-for-relevant-to-the-user">ユーザーに関連</a>しない場合、
                    <a data-link-type="dfn" href="#skips-its-contents" id="ref-for-skips-its-contents②">内容をスキップ</a>します。
                </p>
                <p><a class="css" data-link-type="maybe" href="#valdef-content-visibility-hidden"
                        id="ref-for-valdef-content-visibility-hidden">hidden</a>とは異なり、
                    <a data-link-type="dfn" href="#skips-its-contents" id="ref-for-skips-its-contents③">スキップされた内容</a>は
                    ページ内検索、タブ移動などのユーザーエージェント機能で通常通り利用可能であり、
                    フォーカス・選択も可能です。
                </p>
        </dl>
        <div class="algorithm" data-algorithm="skips its contents">
            要素が<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="skip"
                data-lt="skips its contents|skipping its contents|skip its contents|skipped contents"
                id="skips-its-contents">内容をスキップ</dfn>する場合、
            ユーザーエージェントは<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value"
                id="ref-for-used-value①">使用値</a>を変更し、
            <a class="property css" data-link-type="property" href="#propdef-contain"
                id="ref-for-propdef-contain①④">contain</a>プロパティで
            <a data-link-type="dfn" href="#layout-containment" id="ref-for-layout-containment①②">レイアウト・コンテインメント</a>、
            <a data-link-type="dfn" href="#style-containment" id="ref-for-style-containment⑥">スタイル・コンテインメント</a>、
            <a data-link-type="dfn" href="#paint-containment" id="ref-for-paint-containment⑥">ペイント・コンテインメント</a>、
            <a data-link-type="dfn" href="#size-containment" id="ref-for-size-containment⑦">サイズ・コンテインメント</a>を有効化します。
            また、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="element-contents">内容</dfn>
            （要素の<a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                id="ref-for-flat-tree">フラットツリー</a>の子孫（テキスト・要素両方）や、
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#replaced-element"
                id="ref-for-replaced-element①">置換要素</a>の置換内容）
            は描画されず
            （<a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-visibility"
                id="ref-for-propdef-visibility">visibility: hidden</a>と同様）、
            ヒットテストに応答せず
            （<a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-4/#propdef-pointer-events"
                id="ref-for-propdef-pointer-events">pointer-events: none</a>と同様）、
            スクリプトで明示的に要求されない限り、ほとんどスタイルを更新しません
            （詳細は<a href="#cv-notes">§ 4.4 制限事項と補足事項</a>参照）。
            <p>ユーザーエージェントは<a data-link-type="dfn" href="#skips-its-contents"
                    id="ref-for-skips-its-contents④">スキップされた内容</a>について、
                できる限りレイアウト・レンダリング作業を省略<em>すべき</em>です。
                強力な<a data-link-type="dfn" href="#containment"
                    id="ref-for-containment⑥">コンテインメント</a>と内容の不可視・非操作化の組み合わせにより、大幅な最適化が可能となります。
                何らかのレンダリング作業が行われた場合、
                ユーザーエージェントは可能なら以前のレイアウト状態を保持し、
                <span id="ref-for-skips-its-contents⑤">スキップされた内容</span>を後で素早く表示できるようにすべきです。
            </p>
            <div class="note" role="note">
                要素の値が<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility④">content-visibility: visible</a>以外である場合、以下が成立します:
                <ul>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#layout-containment"
                                id="ref-for-layout-containment①③">レイアウト・コンテインメント</a>により、
                            スキップされたサブツリーのレイアウト作業を省略可能です。
                            これらのレイアウト結果はコンテナ要素外に影響しないためです。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#style-containment"
                                id="ref-for-style-containment⑦">スタイル・コンテインメント</a>により、
                            スキップされたサブツリーのカウンター処理を省略可能です。
                            カウンターはコンテナ要素外に影響しないためです。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#paint-containment"
                                id="ref-for-paint-containment⑦">ペイント・コンテインメント</a>により、
                            ペイント内容のインクオーバーフローがクリップされます。
                            これにより、要素の可視部分がビューポートに近づいたとき（<a class="css" data-link-type="propdesc"
                                href="#propdef-content-visibility"
                                id="ref-for-propdef-content-visibility⑤">content-visibility: auto</a>の場合は描画開始）、
                            ユーザーエージェントが確実に判断できます。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#size-containment"
                                id="ref-for-size-containment⑧">サイズ・コンテインメント</a>により、
                            スキップされたサブツリーのレイアウトを省略可能です。
                            これらのレイアウト結果はコンテナ要素のサイズに影響しません。</p>
                </ul>
                <p>なお、<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility⑥">content-visibility: auto</a>の場合は、
                    <a data-link-type="dfn" href="#layout-containment"
                        id="ref-for-layout-containment①④">レイアウト・コンテインメント</a>、<a data-link-type="dfn"
                        href="#style-containment" id="ref-for-style-containment⑧">スタイル・コンテインメント</a>、<a
                        data-link-type="dfn" href="#paint-containment"
                        id="ref-for-paint-containment⑧">ペイント・コンテインメント</a>は、
                    要素が<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents⑥">スキップ</a>状態でなくても維持されます。
                    これは、要素がスキップ状態の出入りによる<a data-link-type="dfn" href="#containment"
                        id="ref-for-containment⑦">コンテインメント</a>変更によるレイアウト変化を防ぐためです。
                </p>
            </div>
        </div>
        <div class="algorithm" data-algorithm="relevant to the user">
            要素は、以下の<strong>いずれか</strong>が真であれば<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="relevant-to-the-user">ユーザーに関連</dfn>とみなされます:
            <ul>
                <li data-md>
                    <p>要素が「画面上にある」場合:
                        <a data-link-type="dfn" href="#paint-containment-box"
                            id="ref-for-paint-containment-box⑥">ペイント・コンテインメントボックス</a>の<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-overflow-3/#overflow-clip-edge"
                            id="ref-for-overflow-clip-edge①">overflow clip edge</a>がビューポート、またはUA定義のビューポート周辺マージンと交差する。
                    </p>
                    <p class="note" role="note"><span>注:</span> このマージンは、UAが要素を間もなくビューポート内に表示予定として準備できるよう設けます。
                        デフォルト値50%が妥当な目安です。</p>
                <li data-md>
                    <p>要素またはその<a data-link-type="dfn" href="#element-contents"
                            id="ref-for-element-contents">内容</a>がフォーカスされている場合
                        （HTML仕様の<a
                            href="https://html.spec.whatwg.org/multipage/interaction.html#focus">focus</a>セクション参照）。</p>
                <li data-md>
                    <p>要素またはその<a data-link-type="dfn" href="#element-contents"
                            id="ref-for-element-contents①">内容</a>が選択されている場合
                        （<a href="https://www.w3.org/TR/css-pseudo-4/#highlight-pseudos"><cite>CSS Pseudo-Elements
                                4</cite> § 3 ハイライト疑似要素</a>参照）。</p>
                <li data-md>
                    <p>要素またはその<a data-link-type="dfn" href="#element-contents" id="ref-for-element-contents②">内容</a>が<a
                            data-link-type="dfn" href="https://fullscreen.spec.whatwg.org/#top-layer"
                            id="ref-for-top-layer">トップレイヤー</a>に配置されている場合。</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="4.1" id="using-cv-hidden"><span class="secno">4.1. </span><span
                class="content"><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility⑦">content-visibility: hidden</a>の使用</span><a
                class="self-link" href="#using-cv-hidden"></a></h3>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility⑧">content-visibility: hidden</a>は要素に強力な制約を課すため、慎重に使用する必要があります。
            一方で非常に便利なシナリオも可能となり、既存技法より優れる場面も多く、以下にいくつか例を示します。</p>
        <ol>
            <li data-md>
                <p>ページで描画しない要素やテキストの計測が必要な場合、一般的には計測対象を画面外に配置し、
                    <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-position-3/#propdef-position"
                        id="ref-for-propdef-position">position: absolute; left: -100000px;</a>のように設定し、
                    <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view/#dom-element-getboundingclientrect" id="ref-for-dom-element-getboundingclientrect">getBoundingClientRect()</a></code>
                    などのAPIを呼び出します。
                </p>
                <p>しかし、ページがこの内容を表示する意図がなくても、ユーザーエージェントは万が一画面表示に影響する可能性を考慮し、スタイリング・レイアウト・レンダリングを完全に行います。
                    また、追加の工夫なしでは、内容が意図せず画面に表示されてしまうことも完全には防げません。
                    極端な<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-position-3/#propdef-left"
                        id="ref-for-propdef-left">left</a>値（上記のような）でも、内容によっては不十分な場合があります。</p>
                <p>この内容を<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility⑨">content-visibility:
                        hidden</a>のラッパーで囲むことで、これらの問題は全て解決できます。
                    ラッパーに境界線や背景などがなければ、その要素および<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents⑧">スキップされた内容</a>は、どれだけ大きくなっても絶対に画面に描画されません。
                    <span
                        id="ref-for-skips-its-contents⑨">スキップ</span>されるため、ユーザーエージェントは必要になるまでスタイリングやレイアウト処理を行わず、スクリプトで要求された時にだけ処理します。
                </p>
            <li data-md>
                <p>「シングルページアプリ」は複数の独立したペインや「ビュー」から構成され、同時に表示されるのは一つだけという場合が多いです。</p>
                <p>非表示のビューについて、スタイリング・レイアウト・レンダリングなどのコストを避けたい場合、完全に文書から削除するか、最低でも<span
                        class="css">display:none</span>を適用します。
                    しかし、ビューの表示が必要になった際には、全てのスタイリング・レイアウト・レンダリングなどを一度に行う必要があり、表示までに遅延が発生する場合があります。</p>
                <p>代わりにビューを画面外に配置すれば、すぐに使える状態にできますが、非表示時でも常にスタイリング・レイアウト・レンダリングのコストがかかり、非表示ビューが多数ある場合は負担が大きくなります。
                    また、スクリーンリーダーやCtrl-Fによる検索など、アクセシビリティツールにも表示されてしまい、ユーザーを混乱させる恐れがあります。</p>
                <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility①⓪">content-visibility: hidden</a>はこれら両方を改善します。
                    <a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents①⓪">スキップ</a>されている間はユーザーエージェントが処理を行わず、
                    スクリーンリーダー、ページ内検索などにも表示されません。
                    さらに、以前表示されていた場合は、そのスタイリング・レイアウト状態が保持されるため、再表示も高速です。
                </p>
            <li data-md>
                <p>要素を「不可視」にしたいが、レイアウト上はページに残したい場合、
                    <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-display-3/#propdef-visibility"
                        id="ref-for-propdef-visibility①">visibility: hidden</a>を使うのが一般的です。
                    しかし、<span class="css" id="ref-for-propdef-visibility②">visibility: hidden</span>な要素の子孫は、
                    <span class="css" id="ref-for-propdef-visibility③">visibility:
                        visible</span>を指定することで再び表示されてしまうため、直感的でない場合があります。
                </p>
                <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility①①">content-visibility: hidden</a>は類似の目的を達成できますが、
                    子孫が「オフ」にして表示を開始することはできず、祖先が解除するまで「隠れた」ままとなります。</p>
                <p>さらに、<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility①②">content-visibility: hidden</a>は多くの<a
                        data-link-type="dfn" href="#containment" id="ref-for-containment⑧">コンテインメント</a>値も適用されるため、
                    常に<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-display-3/#propdef-visibility"
                        id="ref-for-propdef-visibility④">visibility: hidden</a>ほど自由に使えるわけではありませんが、
                    制約が許容できる場合は、より信頼性・一貫性のある要素内容の非表示手段となります。</p>
        </ol>
        <h3 class="heading settled" data-level="4.2" id="using-cv-auto"><span class="secno">4.2. </span><span
                class="content"><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility①③">content-visibility: auto</a>の使用</span><a class="self-link"
                href="#using-cv-auto"></a></h3>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility①④">content-visibility: auto</a>は<a class="css"
                data-link-type="maybe" href="#valdef-content-visibility-hidden"
                id="ref-for-valdef-content-visibility-hidden①">hidden</a>よりも複雑な値です。
            <a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                id="ref-for-propdef-display⑦">display: none</a>に似ているわけではなく、
            要素内容をユーザーに<a data-link-type="dfn" href="#relevant-to-the-user"
                id="ref-for-relevant-to-the-user①">関連</a>が生じたタイミングで適応的に非表示・表示します。
            また、<a data-link-type="dfn" href="#skips-its-contents"
                id="ref-for-skips-its-contents①①">スキップされた内容</a>をユーザーエージェントから隠さないため、
            スクリーンリーダーやページ内検索など各種ツールは通常通り操作可能です。
        </p>
        <p>これは<em><a data-link-type="dfn" href="#containment"
                    id="ref-for-containment⑨">containment</a>のアップグレード版</em>として考えるのが最適です。
            著者が大量のコンテンツ（長いスクロール可能リスト等）を表示し、多くが画面外となる場合、
            そのコンテンツが強力な<a data-link-type="dfn" href="#containment" id="ref-for-containment①⓪">containment</a>に問題なければ、
            <a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility①⑤">content-visibility: auto</a>を用いて全ての<span
                id="ref-for-containment①①">containment</span>を一度に適用できます。
            これはユーザーエージェントに対し、
            内容への処理をスキップしてよい（表示時に少し遅延が発生することもあるが、大量のコンテンツを文書に保持しつつ、ほとんど表示されないことが重要）という強いヒントにもなります。
        </p>
        <p class="note" role="note"><span>注:</span> <a class="css" data-link-type="propdesc"
                href="#propdef-content-visibility" id="ref-for-propdef-content-visibility①⑥">content-visibility:
                auto</a>は多くの場合、複雑な「バーチャルリスト」技法の<em>代わりに</em>使えます。</p>
        <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility①⑦">content-visibility: auto</a>は要素の内容が全く<a data-link-type="dfn"
                href="#relevant-to-the-user" id="ref-for-relevant-to-the-user②">ユーザーに関連</a>しない時のみ<a data-link-type="dfn"
                href="#skips-its-contents" id="ref-for-skips-its-contents①②">スキップ</a>されるため、適用は適度に細かい粒度で行うのが最適です。</p>
        <div class="example" id="example-40f1ea8c">
            <a class="self-link" href="#example-40f1ea8c"></a> 例えばTwitterで、
            タイムライン全体に<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility①⑧">content-visibility: auto</a>を適用しても効果はほぼありません。
            常に画面上にあり、<a data-link-type="dfn" href="#skips-its-contents"
                id="ref-for-skips-its-contents①③">スキップ</a>されることがないからです。
            <p>代わりに、<a class="property css" data-link-type="property" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility①⑨">content-visibility</a>を個々のツイートに適用し、
                ツイートごとに画面外になった時に<a data-link-type="dfn" href="#skips-its-contents"
                    id="ref-for-skips-its-contents①④">スキップ</a>できるようにすべきです。</p>
        </div>
        <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility②⓪">content-visibility: auto</a>は要素が<a data-link-type="dfn"
                href="#skips-its-contents" id="ref-for-skips-its-contents①⑤">内容をスキップ</a>する時に<a data-link-type="dfn"
                href="#size-containment" id="ref-for-size-containment⑨">サイズ・コンテインメント</a>を課します。
            そのため、要素のサイズが内容に依存している場合は、ページレイアウト（特にスクロールバー位置）が要素の画面外化・<span
                id="ref-for-skips-its-contents①⑥">スキップ</span>によって「ジャンプ」することがあります。</p>
        <div class="example" id="example-6da2c0d3">
            <a class="self-link" href="#example-6da2c0d3"></a> これは以下のいずれかの方法で解決できます:
            <ul>
                <li data-md>
                    <p>要素を固定サイズにする</p>
                <li data-md>
                    <p>Gridなどのレイアウトで、内容に依存せずサイズ決定できるよう工夫する</p>
                <li data-md>
                    <p><a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size"
                            id="ref-for-propdef-contain-intrinsic-size">contain-intrinsic-size</a>で要素サイズの<em>推定値</em>を設定する
                    </p>
                <li data-md>
                    <p><a class="css" data-link-type="propdesc"
                            href="https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size"
                            id="ref-for-propdef-contain-intrinsic-size①">contain-intrinsic-size: auto</a>を使い、
                        要素が<em>直前に描画された時の正確なサイズ</em>を「スナップショット」し、スキップ前に推定値でサイズ確保する</p>
            </ul>
            <p>例えばTwitterでは、平均ツイート高さは約200pxなので、
                <a class="css" data-link-type="propdesc"
                    href="https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size"
                    id="ref-for-propdef-contain-intrinsic-size②">contain-intrinsic-size: auto 500px 200px</a>とすると、
                スクロールバーのつまみが正しいサイズ・位置にほぼなるようになり、
                前後のツイートが<a data-link-type="dfn" href="#skips-its-contents"
                    id="ref-for-skips-its-contents①⑧">スキップ</a>されていても正しく表示されます。
                ツイートが一度は表示されていて（スキップ中にサイズが変化していなければ）、
                スキップ中も<em>正確な</em>サイズとなるため、スクロールバーも正確です。
                新規ロードされたツイート（タイムライン上部でスクロール中にロードされるものなど）は、<span class="css">200px</span>の高さ推定値が使われます。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.3" id="content-visibility-auto-state-changed"><span class="secno">4.3.
            </span><span class="content"><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility②①">content-visibility:
                    auto</a>の状態変化検出: <a class="idl-code" data-link-type="event"
                    href="#eventdef-element-contentvisibilityautostatechanged"
                    id="ref-for-eventdef-element-contentvisibilityautostatechanged">contentvisibilityautostatechanged</a>
                イベント</span><a class="self-link" href="#content-visibility-auto-state-changed"></a></h3>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="Element" data-dfn-type="event" data-export
                id="eventdef-element-contentvisibilityautostatechanged"><code>contentvisibilityautostatechanged</code></dfn>
            イベントは、<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility②②">content-visibility:
                auto</a>スタイルを持つ要素でレンダリング状態が変化し、その要素が<a data-link-type="dfn" href="#relevant-to-the-user"
                id="ref-for-relevant-to-the-user③">ユーザーに関連</a>になる/ならなくなった時に発火します。</p>
        <p>このイベントは状態変化が発生した時点でタスクを投稿してdispatchされます。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="idl-code" data-dfn-type="interface" data-export id="contentvisibilityautostatechangedevent"><code><c- g>ContentVisibilityAutoStateChangedEvent</c-></code><a class="self-link" href="#contentvisibilityautostatechangedevent"></a></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="idl-code" data-dfn-for="ContentVisibilityAutoStateChangedEvent" data-dfn-type="constructor" data-export data-lt="ContentVisibilityAutoStateChangedEvent(type, eventInitDict)|constructor(type, eventInitDict)|ContentVisibilityAutoStateChangedEvent(type)|constructor(type)" id="dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="ContentVisibilityAutoStateChangedEvent/ContentVisibilityAutoStateChangedEvent(type, eventInitDict), ContentVisibilityAutoStateChangedEvent/constructor(type, eventInitDict), ContentVisibilityAutoStateChangedEvent/ContentVisibilityAutoStateChangedEvent(type), ContentVisibilityAutoStateChangedEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-type"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-contentvisibilityautostatechangedeventinit" id="ref-for-dictdef-contentvisibilityautostatechangedeventinit"><c- n>ContentVisibilityAutoStateChangedEventInit</c-></a> <dfn class="idl-code" data-dfn-for="ContentVisibilityAutoStateChangedEvent/ContentVisibilityAutoStateChangedEvent(type, eventInitDict), ContentVisibilityAutoStateChangedEvent/constructor(type, eventInitDict), ContentVisibilityAutoStateChangedEvent/ContentVisibilityAutoStateChangedEvent(type), ContentVisibilityAutoStateChangedEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-eventinitdict"></a></dfn> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-contentvisibilityautostatechangedevent-skipped" id="ref-for-dom-contentvisibilityautostatechangedevent-skipped"><c- g>skipped</c-></a>;
};
<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-contentvisibilityautostatechangedeventinit"><code><c- g>ContentVisibilityAutoStateChangedEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-default="false" data-link-type="dict-member" data-type="boolean " href="#dom-contentvisibilityautostatechangedeventinit-skipped" id="ref-for-dom-contentvisibilityautostatechangedeventinit-skipped"><c- g>skipped</c-></a> = <c- b>false</c->;
};
</pre>
        <div class="attributes">
            <p>ContentVisibilityAutoStateChangedEvent属性の説明:</p>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ContentVisibilityAutoStateChangedEvent"
                        data-dfn-type="attribute" data-export
                        id="dom-contentvisibilityautostatechangedevent-skipped"><code>skipped</code></dfn>, <span>
                        型は<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-boolean"
                            id="ref-for-idl-boolean②">boolean</a>、readonly</span>
                <dd data-md>
                    <p>ターゲットが<a data-link-type="dfn" href="#skips-its-contents"
                            id="ref-for-skips-its-contents②①">内容をスキップ</a>状態になった場合true、それ以外はfalse。</p>
            </dl>
        </div>
        <div class="members">
            <p>ContentVisibilityAutoStateChangedEventInitメンバーの説明:</p>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ContentVisibilityAutoStateChangedEventInit"
                        data-dfn-type="dict-member" data-export
                        id="dom-contentvisibilityautostatechangedeventinit-skipped"><code>skipped</code></dfn>, <span>
                        型は<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-boolean"
                            id="ref-for-idl-boolean③">boolean</a>、デフォルトは<code>false</code></span>
                <dd data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="#dom-contentvisibilityautostatechangedevent-skipped" id="ref-for-dom-contentvisibilityautostatechangedevent-skipped①">skipped</a></code>
                        属性の説明を参照してください。</p>
            </dl>
        </div>
        <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility②③">content-visibility: auto</a>サブツリー内の要素は、<a data-link-type="dfn"
                href="#skips-its-contents"
                id="ref-for-skips-its-contents②②">内容をスキップ</a>している場合でも意味的には有効です。つまり、このシグナルを使ってサブツリー内のDOM更新を無期限にスキップするのは不適切です。むしろ、更新の優先度を下げるために使い、内容が意味的に有効かつ適切に最新状態であることを保証してください。これは、支援技術（アクセシビリティ技術）が祖先が<span
                id="ref-for-skips-its-contents②③">内容をスキップ</span>状態でもこの内容を利用するため、特に重要です。</p>
        <h3 class="heading settled" data-level="4.4" id="cv-notes"><span class="secno">4.4. </span><span
                class="content">制限事項と補足事項</span><a class="self-link" href="#cv-notes"></a></h3>
        <ol>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/intersection-observer/#intersectionobserver" id="ref-for-intersectionobserver">IntersectionObserver</a></code>の観点では、要素の<a
                        data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents②④">スキップされた内容</a>は、<a data-link-type="dfn"
                        href="https://www.w3.org/TR/intersection-observer/#intersectionobserver-intersection-root"
                        id="ref-for-intersectionobserver-intersection-root">intersection
                        root</a>と交差していることはありません。これは、ルート要素とターゲット要素が両方とも<span
                        id="ref-for-skips-its-contents②⑤">スキップされた内容</span>である場合でも同様です。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/resize-observer-1/#resizeobserver" id="ref-for-resizeobserver">ResizeObserver</a></code>の観点では、要素の<a
                        data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents②⑥">スキップされた内容</a>はサイズが変化しません。これらの要素が後でスキップされなくなった場合、新しいサイズが最後にresize
                    observerへ通知したサイズと異なれば、リサイズ観察が配信されます。</p>
            <li data-md>
                <p>要素が<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents②⑦">内容のスキップ</a>を開始または停止する場合、この変更はその変化の効果をレンダリングするフレームのrequestAnimationFrameコールバックが実行された後に発生します。具体的には、こうした変更はProcessing
                    Modelの<a href="https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering"
                        id="termref-for-update-the-rendering">Update the
                        Rendering</a>ステップの13番および14番目の手順（「アニメーションフレームコールバックを実行」から「インターセクション監視ステップを実行」まで）の間に有効になります。</p>
                <div class="note" role="note">
                    要素のビューポート交差判定は内部的なIntersectionObserverバージョンで行うことができます。
                    ただし、この観察結果はUpdate the Renderingの14番のステップでディスパッチされるため、<a data-link-type="dfn"
                        href="#skips-its-contents"
                        id="ref-for-skips-its-contents②⑧">スキップ</a>（および描画済み）状態への変更は、次のフレーム処理までユーザーに可視化されません。
                    このため、<span id="ref-for-skips-its-contents②⑨">スキップ</span>状態の更新（containment調整も含む）は、そのフレームに遅延されます。
                    これにより、たとえばスクリプトが、これら2つのイベント（内部交差観察と<span
                        id="ref-for-skips-its-contents③⓪">スキップ</span>状態更新）の間に要素のcontainment値を取得する場合、現在の描画状態と一致する値を取得でき、強制レイアウトが発生することはありません。
                </div>
            <li data-md>
                <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility②④">content-visibility: auto</a>の可視性の初回判定は、新しい<span
                        class="css" id="ref-for-propdef-content-visibility②⑤">content-visibility:
                        auto</span>要素の存在を判定したのと同じフレーム内で行う必要があります。</p>
                <div class="note" role="note">
                    要素が初めて<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility②⑥">content-visibility:
                        auto</a>を獲得した場合、それが画面上に配置されているかどうかは未定です。状態判定およびその要素が<a data-link-type="dfn"
                        href="#skips-its-contents"
                        id="ref-for-skips-its-contents③①">スキップされる</a>かの判定は同じフレーム内で行う必要があります。そうしないと、可視性チェックと<span
                        id="ref-for-skips-its-contents③②">スキップ</span>状態の更新が次のフレームに遅延され、要素の位置が空白になる可能性があります。
                </div>
            <li data-md>
                <p>スクロール操作（<code
                        class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-element-scrollintoview" id="ref-for-dom-element-scrollintoview">scrollIntoView()</a></code>など）の目的では、<a
                        class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility②⑦">content-visibility: auto</a>かつ<a data-link-type="dfn"
                        href="#skips-its-contents" id="ref-for-skips-its-contents③③">内容をスキップ</a>している要素は、<a
                        data-link-type="dfn" href="#size-containment"
                        id="ref-for-size-containment①⓪">サイズ・コンテインメント</a>が有効な状態でサイズ・位置が決定されます。</p>
                <p class="note" role="note"><span>注:</span> スクロールして画面内に入ると、その要素は<a data-link-type="dfn"
                        href="#skips-its-contents" id="ref-for-skips-its-contents③④">内容スキップ</a>状態でなくなり、<a
                        data-link-type="dfn" href="#size-containment"
                        id="ref-for-size-containment①①">サイズ・コンテインメント</a>も解除される場合があります。これにより要素のサイズが変化した場合、ビューポート内で正確な位置合わせができない場合があります。
                </p>
                <p>要素がユーザーエージェントの機能で利用できない場合（例えば、<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents③⑤">スキップ</a>が<a class="css" data-link-type="propdesc"
                        href="#propdef-content-visibility" id="ref-for-propdef-content-visibility②⑧">content-visibility:
                        hidden</a>祖先のための場合）、スクロール操作ではその要素には一切スクロールされません。これはレイアウトボックスを持たないものとして扱われます。</p>
            <li data-md>
                <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility②⑨">content-visibility: auto</a>かつ<a data-link-type="dfn"
                        href="#skips-its-contents"
                        id="ref-for-skips-its-contents③⑥">内容をスキップ</a>している要素（またはその内容）がフォーカスされると、<a data-link-type="dfn"
                        href="#relevant-to-the-user" id="ref-for-relevant-to-the-user④">ユーザーに関連</a>（よって<span
                        id="ref-for-skips-its-contents③⑦">内容スキップ解除</span>）となり、フォーカス操作によるスクロールの<em>前</em>に状態が切り替わります。</p>
                <p class="note" role="note"><span>注:</span> そのため、前項と異なり、要素は正しいサイズ・位置でビューポートに整列されます。これは<code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus" id="ref-for-dom-window-focus">focus()</a></code>メソッドの手順順序と一致します。
                </p>
            <li data-md>
                <p>
                    <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element">iframe</a></code>が<a
                        data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents③⑧">内容をスキップ</a>する場合、または他要素の<span
                        id="ref-for-skips-its-contents③⑨">スキップされた内容</span>の一部である場合、ユーザーエージェントは可能であればiframeのイベントループ内で<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering"
                        id="ref-for-update-the-rendering">Update The Rendering</a>ステップを完全に省略すべきです。
                </p>
                <p class="note" role="note"><span>注:</span>
                    <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element①">iframe</a></code>が初めて<a
                        data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④⓪">スキップ</a>状態になる瞬間は、少なくとも一度そのステップを実行し、描画出力を削除する必要があります。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④①">スキップされた内容</a>は、<code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-innertext" id="ref-for-dom-innertext">innerText</a></code>の結果に寄与しません。
                </p>
            <li data-md>
                <p>要素が<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④②">スキップ</a>されている間は、CSSトランジションやアニメーションは更新されません:</p>
                <ul>
                    <li data-md>
                        <p>新しいアニメーションは、スタイルが新たに適用されても生成されません。</p>
                    <li data-md>
                        <p>既存のアニメーションはタイムラインが進みません。</p>
                    <li data-md>
                        <p>要素上で実行中のアニメーションは終了しません。</p>
                </ul>
                <p>スクリプトが<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④③">スキップ</a>された要素のスタイルを問い合わせ（<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                        id="ref-for-style-change-event">style change event</a>が発生）、アニメーションやトランジションの状態判定が必要な場合は、その<span
                        id="ref-for-style-change-event①">style change event</span>時点のスタイルでサンプリングされます。</p>
                <p><a href="https://drafts.csswg.org/css-animations-2/#events"><cite>CSS Animations 2</cite> § 4
                        Animation Events</a>および<a
                        href="https://drafts.csswg.org/css-transitions-2/#transition-events"><cite>CSS Transitions
                            2</cite> § 5 Transition
                        Events</a>では、アニメーションやトランジションの更新時にどのオブジェクトが作成され、どのイベントがどのデータで発火するかが定義されています。</p>
                <p>要素が<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④④">スキップ</a>されなくなった場合、アニメーションとトランジションはサンプリングされ、その時点から通常通りタイムラインが進行します。
                </p>
                <p class="note" role="note"><span>注:</span>
                    全体として、これはバックグラウンドタブがフォアグラウンドに戻された時のトランジション／アニメーションの挙動に似ています。これにより、ユーザーエージェントは不要なアニメーション処理を極力省略可能で、再度関連性が生じた際にアニメーションを過度に中断しません。
                </p>
            <li data-md>
                <p>要素が<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④⑤">スキップ</a>されている間は、<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                        id="ref-for-style-change-event②">style change event</a>によって算出スタイルが変化しても、トランジションは開始されません。</p>
                <p>要素が<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④⑥">スキップ</a>されなくなった場合でも、その<span
                        id="ref-for-skips-its-contents④⑦">スキップ解除</span>に伴う<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                        id="ref-for-style-change-event③">style change event</a>によってトランジションが開始されることはありません。</p>
                <p class="note" role="note"><span>注:</span> これは、要素が<span class="css">display:none</span>から非<a
                        class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-display-3/#valdef-display-none"
                        id="ref-for-valdef-display-none">none</a>値に切り替わる場合と似ています。<wbr>技術的にはスタイルが（初期値からカスケードによる「本来の」値へ）変化しますが、トランジションは開始されません。
                </p>
            <li data-md>
                <p>要素が<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility③⓪">content-visibility: hidden</a>な祖先を持ち、<a
                        data-link-type="dfn" href="https://fullscreen.spec.whatwg.org/#top-layer"
                        id="ref-for-top-layer①">トップレイヤー</a>に配置された場合、<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-display-3/#propdef-display"
                        id="ref-for-propdef-display⑧">display: none</a>のように、ボックスを生成しません。</p>
                <p class="note" role="note"><span>注:</span> 他の理由（例えば<a class="css" data-link-type="propdesc"
                        href="#propdef-content-visibility" id="ref-for-propdef-content-visibility③①">content-visibility:
                        auto</a>な祖先のため）で<a data-link-type="dfn" href="#skips-its-contents"
                        id="ref-for-skips-its-contents④⑧">スキップ</a>されている場合は、通常通りボックスが生成され、<span
                        id="ref-for-skips-its-contents④⑨">スキップ解除</span>されることもあります。</p>
        </ol>
        <h3 class="heading settled" data-level="4.5" id="cv-a11y"><span class="secno">4.5. </span><span
                class="content">アクセシビリティへの影響</span><a class="self-link" href="#cv-a11y"></a></h3>
        <p>ユーザーエージェントが、DOMツリーに似た「アクセシビリティツリー」をスクリーンリーダーなどのアクセシビリティ用途向けに公開する場合
            （アクセシビリティAPIにおいて要素の位置やフォーカス可能な要素等を提供）、
            <a data-link-type="dfn" href="#skips-its-contents" id="ref-for-skips-its-contents⑤⓪">スキップされた内容</a>は
            <a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility③②">content-visibility: hidden</a>要素と同様に
            アクセシビリティツリーでも「スキップ」（除外）されなければなりません。
            （<a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                id="ref-for-propdef-display⑨">display: none</a>要素が文書の全てのビューで除外されるのと同様）
        </p>
        <p><a data-link-type="dfn" href="#skips-its-contents" id="ref-for-skips-its-contents⑤①">スキップされた内容</a>が
            <a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                id="ref-for-propdef-content-visibility③③">content-visibility: auto</a>要素の場合、
            ユーザーがページとやり取りする際にアクセシビリティツリー経由か、画面表示経由かを
            露呈してはならない。
            特に、ユーザーエージェントが<span class="css" id="ref-for-propdef-content-visibility③④">content-visibility:
                auto</span>を用いて
            画面描画のため画面外コンテンツのレイアウトや描画作業を省略する場合、
            アクセシビリティツリー表現のためにも同様に省略すべきです。
            これが不可能な場合
            （例えば、アクセシビリティツリー上でフォーカス可能要素の正確な位置情報が必要で
            周辺も含めた完全なレイアウト処理が必要な場合）、
            ユーザーエージェントは<span id="ref-for-skips-its-contents⑤②">スキップされた内容</span>を
            アクセシビリティツリーから完全に除外<em>しなければなりません</em>。
        </p>
        <p class="note" role="note"><span>注:</span> この要件は、アクセシビリティ支援ツール利用者が
            タイミングチャネルの観測によって特定・プロファイリングされることを防ぐためのものです。
            ユーザーエージェントが画面描画で大幅に作業を省略できるのに、
            アクセシビリティツリー描画時には全ての作業を行う必要がある場合、
            著者はレイアウト操作のタイミングを観察することで
            ユーザーのページ操作方法を推測できてしまいます。</p>
        <h3 class="heading settled" data-level="4.6" id="cv-examples"><span class="secno">4.6. </span><span
                class="content">例</span><a class="self-link" href="#cv-examples"></a></h3>
        <div class="example" id="example-1f50d3e3">
            <a class="self-link" href="#example-1f50d3e3"></a>
            <pre class="highlight"><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- p>.</c-><c- nc>sv</c-> <c- p>{</c->
  <c- n>content-visibility</c-><c- p>:</c-> <c- kc>auto</c-><c- p>;</c->
  <c- k>min-height</c-><c- p>:</c-> <c- mi>50</c-><c- b>px</c-><c- p>;</c->
<c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->

<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>sv</c-><c- p>></c->
  ... some content goes here ...
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <p>.sv要素の<a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility③⑤">content-visibility: auto</a>値は、
                ユーザーエージェントが要素を<a data-link-type="dfn" href="#skips-its-contents"
                    id="ref-for-skips-its-contents⑤③">スキップ</a>するかどうか管理できるようにします。
                特にこの要素がビューポート付近にある場合、
                ユーザーエージェントは描画を開始します。
                要素がビューポートから離れると、描画が停止します。
                また、要素が<span id="ref-for-skips-its-contents⑤④">スキップ</span>された際は、
                ユーザーエージェントはできる限りレンダリング作業を省略するべきです。</p>
        </div>
        <div class="example" id="example-52a4682e">
            <a class="self-link" href="#example-52a4682e"></a>
            <pre class="highlight"><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- p>.</c-><c- nc>sv</c-> <c- p>{</c->
  <c- n>content-visibility</c-><c- p>:</c-> <c- kc>hidden</c-><c- p>;</c->
<c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->

<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>sv</c-><c- p>></c->
  ... some content goes here ...
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <p>この場合、要素はビューポートとの交差に関係なく<a data-link-type="dfn" href="#skips-its-contents"
                    id="ref-for-skips-its-contents⑤⑤">スキップ</a>されます。
                <a data-link-type="dfn" href="#element-contents" id="ref-for-element-contents③">内容</a>を描画する唯一の方法は、
                スクリプトで値を更新して<a class="property css" data-link-type="property" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility③⑥">content-visibility</a>を除去または変更することです。
                前述同様、ユーザーエージェントは<span id="ref-for-element-contents④">内容</span>のレンダリング作業を極力省略するべきです。
            </p>
            <p>レンダリングの省略がもたらす追加効果として、
                <a data-link-type="dfn" href="#element-contents"
                    id="ref-for-element-contents⑤">内容</a>のレイアウト状態がユーザーエージェントによって保持され、
                将来<a class="property css" data-link-type="property" href="#propdef-content-visibility"
                    id="ref-for-propdef-content-visibility③⑦">content-visibility</a>プロパティを削除した場合、
                <span id="ref-for-element-contents⑥">内容</span>のレンダリングが
                <a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                    id="ref-for-propdef-display①⓪">display: none</a>などで隠されていた場合よりも高速になります。
            </p>
        </div>
        <div class="example" id="example-a89bb171">
            <a class="self-link" href="#example-a89bb171"></a>
            <pre class="highlight"><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- f>body</c-> <c- p>{</c->
  <c- k>margin</c-><c- p>:</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
<c- p>.</c-><c- nc>sv</c-> <c- p>{</c->
  <c- n>content-visibility</c-><c- p>:</c-> <c- kc>hidden</c-><c- p>;</c->
  <c- k>position</c-><c- p>:</c-> <c- kc>relative</c-><c- p>;</c->
  <c- k>left</c-><c- p>:</c-> <c- mi>10</c-><c- b>px</c-><c- p>;</c->
  <c- k>top</c-><c- p>:</c-> <c- mi>20</c-><c- b>px</c-><c- p>;</c->
<c- p>}</c->
<c- p>#</c-><c- nn>child</c-> <c- p>{</c->
  <c- k>position</c-><c- p>:</c-> <c- kc>relative</c-><c- p>;</c->
  <c- k>left</c-><c- p>:</c-> <c- mi>1</c-><c- b>px</c-><c- p>;</c->
  <c- k>top</c-><c- p>:</c-> <c- mi>2</c-><c- b>px</c-><c- p>;</c->
  <c- k>width</c-><c- p>:</c-> <c- mi>100</c-><c- b>px</c-><c- p>;</c->
  <c- k>height</c-><c- p>:</c-> <c- mi>200</c-><c- b>px</c-><c- p>;</c->
<c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->

<c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>target</c-> <c- e>class</c-><c- o>=</c-><c- s>sv</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>child</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
  ... some other content goes here ...
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
  <c- p>...</c->
  <c- c1>// UAが以前にレンダリング作業を回避していた場合も、</c->
  <c- c1>// この操作でレイアウト等のレンダリング作業が強制される。</c->
  target<c- p>.</c->firstElementChild<c- p>.</c->getBoundingClientRect<c- p>();</c->
  <c- p>...</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
</pre>
            <p>前の例と同様、この要素は<a data-link-type="dfn" href="#skips-its-contents"
                    id="ref-for-skips-its-contents⑤⑥">スキップ</a>されます。
                ユーザーエージェントはできる限りレンダリング作業を回避すべきです。
                しかしこの例では、スクリプトが要素の<a data-link-type="dfn" href="#element-contents"
                    id="ref-for-element-contents⑦">内容</a>内のレイアウト値にアクセスします。
                この状況では、ユーザーエージェントはレンダリング作業を避けられず、
                正しい値を返すために以前スキップしていたレンダリングも処理しなければなりません。
                この例では、<code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view/#dom-element-getboundingclientrect" id="ref-for-dom-element-getboundingclientrect①">getBoundingClientRect()</a></code>
                の結果は (11, 22) の位置に100x200のサイズとなります。</p>
            <p>同じレイアウト値を繰り返し取得しても、追加のレンダリング作業は発生しません。ユーザーエージェントは最後に更新したレンダリング状態を保持すべきです。</p>
            <p>また、このようにレンダリング作業が必要となる状況は唯一ではありません。他にもユーザーエージェントがレンダリング作業を回避できない場合があります。</p>
        </div>
        <h2 class="heading settled" data-level="5" id="privacy"><span class="secno">5. </span><span class="content">
                プライバシーに関する考慮事項</span><span id="priv-sec"></span><a class="self-link" href="#privacy"></a></h2>
        <p>本仕様の機能による既知のプライバシー上の影響はありません。</p>
        <h2 class="heading settled" data-level="6" id="security"><span class="secno">6. </span><span class="content">
                セキュリティに関する考慮事項</span><a class="self-link" href="#security"></a></h2>
        <p>本仕様の機能による既知のセキュリティ上の影響はありません。</p>
        <p>他のCSS仕様と同様、本仕様は文書のレンダリングに影響を与えますが、
            他のCSSモジュールでも可能だった、あるいは文書整形行為自体に内在する
            誤解を招くコンテンツ表示能力を特別に導入するものではありません。</p>
        <h2 class="no-num non-normative heading settled" id="changes"><span class="content">付録A. 変更点</span><a
                class="self-link" href="#changes"></a></h2>
        <p>この付録は<em>参考情報</em>です。</p>
        <h3 class="heading settled" id="changes-since-2020-12-16"><span class="content"> <a
                    href="https://www.w3.org/TR/2020/WD-css-contain-2-20201216/">2020-12-16作業草案</a>からの変更点 </span><a
                class="self-link" href="#changes-since-2020-12-16"></a></h3>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#style-containment"
                        id="ref-for-style-containment⑨">スタイル・コンテインメント</a>を<a class="css" data-link-type="maybe"
                        href="#valdef-contain-strict" id="ref-for-valdef-contain-strict">strict</a>および<a class="css"
                        data-link-type="maybe" href="#valdef-contain-content"
                        id="ref-for-valdef-contain-content">content</a>キーワードに含めた。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#overflow-clip-edge"
                        id="ref-for-overflow-clip-edge②">overflow clip edge</a>を
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge"
                        id="ref-for-border-edge">border edge</a>の代わりに
                    「画面上にあるか」判定に使用（<a data-link-type="dfn" href="#relevant-to-the-user"
                        id="ref-for-relevant-to-the-user⑤">ユーザーに関連</a>の判定の一部）
                </p>
            <li data-md>
                <p>スキップされた要素のアニメーション・トランジションの挙動を定義</p>
            <li data-md>
                <p>style containmentの「at risk」マーカーを削除</p>
            <li data-md>
                <p>containment有効時、HTML body要素からの伝播を無効化</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#valdef-contain-strict"
                        id="ref-for-valdef-contain-strict①">strict</a>および<a class="css" data-link-type="maybe"
                        href="#valdef-contain-content" id="ref-for-valdef-contain-content①">content</a>にstyle
                    containmentを含めた</p>
            <li data-md>
                <p>scrollIntoView()が<span class="css">content-visibility:hidden</span>な要素の子にスクロールしないことを明確化</p>
            <li data-md>
                <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility③⑧">content-visibility:
                        hidden</a>な祖先を持つ要素はトップレイヤーでボックスを生成しないと定義</p>
            <li data-md>
                <p>トップレイヤーであることが要素をユーザーに関連付けると定義</p>
            <li data-md>
                <p>ペイント効果が非局所的な場合、一部最適化機会が制限されることに言及</p>
            <li data-md>
                <p>ContentVisibilityAutoStateChangedイベント追加</p>
        </ul>
        <h3 class="heading settled" id="changes-since-2020-06-03"><span class="content"> <a
                    href="https://www.w3.org/TR/2020/WD-css-contain-2-20200603/">2020-06-03作業草案</a>からの変更点 </span><a
                class="self-link" href="#changes-since-2020-06-03"></a></h3>
        <ul>
            <li data-md>
                <p>containプロパティの算出値の決定方法を変更しました。</p>
            <li data-md>
                <p><a class="css" data-link-type="propdesc" href="#propdef-contain"
                        id="ref-for-propdef-contain①⑤">contain: content</a>に関する注記の構文エラーを修正しました。</p>
            <li data-md>
                <p>用語変更: "containing box" を "containment box" に置き換えました（Level 1の同様の改善と同期）。</p>
            <li data-md>
                <p>サイズ・ペイント・コンテインメントに関する編集上の改善と明確化（Level 1の同様の改善と同期）。</p>
            <li data-md>
                <p>サイズ・コンテインメントが自然なアスペクト比を抑制することを明示しました（Level 1の同様の改善と同期）。</p>
            <li data-md>
                <p>content-visibilityのアニメーション型を「離散」から「アニメーション不可」に変更しました。</p>
            <li data-md>
                <p><a class="css" data-link-type="propdesc" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility③⑨">content-visibility: auto</a>の初回可視性判定タイミングに関する制約を<a
                        href="#cv-notes">§ 4.4 制限事項と補足事項</a>に追加しました。</p>
        </ul>
        <h3 class="heading settled" id="changes-since-2019-11-11"><span class="content"> <a
                    href="https://www.w3.org/TR/2019/WD-css-contain-2-20191111/">2019-11-11作業草案</a>からの変更点 </span><a
                class="self-link" href="#changes-since-2019-11-11"></a></h3>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#paint-containment"
                        id="ref-for-paint-containment⑨">ペイント・コンテインメント</a>と<a class="property css"
                        data-link-type="property"
                        href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow-clip-margin"
                        id="ref-for-propdef-overflow-clip-margin①">overflow-clip-margin</a>の相互作用を定義しました。</p>
            <li data-md>
                <p><a class="property css" data-link-type="property" href="#propdef-content-visibility"
                        id="ref-for-propdef-content-visibility④⓪">content-visibility</a>プロパティを追加しました。</p>
        </ul>
        <h3 class="heading settled" id="l1-changes"><span class="content"> <a
                    href="https://www.w3.org/TR/css-contain-1/">CSS Containment Level 1</a>からの変更点 </span><a
                class="self-link" href="#l1-changes"></a></h3>
        <ul>
            <li data-md>
                <p>Level 1で削除されていた<a data-link-type="dfn" href="#style-containment"
                        id="ref-for-style-containment①⓪">スタイル・コンテインメント</a>を復元しました。</p>
        </ul>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">適合性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文書の慣例</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>適合性要件は、記述的な主張とRFC 2119の用語の組み合わせで表現されています。規範的な部分で使われる「MUST」「MUST NOT」「REQUIRED」「SHALL」「SHALL NOT」「SHOULD」「SHOULD
        NOT」「RECOMMENDED」「MAY」「OPTIONAL」といったキーワードは、RFC 2119に記載された通りに解釈されます。
        ただし、可読性のため、本仕様書ではこれらの単語をすべて大文字で記載していません。</p>
    <p>本仕様書のすべてのテキストは、明示的に非規範的、例、または注記と示されたセクションを除き、規範的です。<a data-link-type="biblio"
            href="#biblio-rfc2119">[RFC2119]</a></p>
    <p>本仕様書の例は「例えば」という語で導入されるか、<code>class="example"</code>で規範的テキストと区別されます。例：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>これは情報的な例です。</p>
    </div>
    <p>情報的な注記は「Note」で始まり、<code>class="note"</code>で規範的テキストと区別されます。例：</p>
    <p class="note" role="note">Note: これは情報的な注記です。</p>
    <p>勧告（advisement）は特別な注意を促すための規範的セクションで、<code>&lt;strong class="advisement"></code>で他の規範的テキストと区別されます。例：<strong
            class="advisement">UAはアクセシブルな代替手段を提供しなければなりません。</strong></p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">適合性クラス</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本仕様への適合性は、3つの適合性クラスについて定義されています：</p>
    <dl>
        <dt>スタイルシート
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSSスタイルシート</a>。
        <dt>レンダラー
        <dd><a
                href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>（ユーザーエージェント）は、スタイルシートの意味を解釈し、それを使用する文書をレンダリングするものです。
        <dt>オーサリングツール
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>（ユーザーエージェント）は、スタイルシートを作成するものです。
    </dl>
    <p>スタイルシートは、本モジュールで定義された構文を用いるすべての文が、汎用CSS文法および本モジュールで定義された各機能の個別文法に従って有効である場合、本仕様に適合しています。</p>
    <p>レンダラーは、適切な仕様書に定義された通りにスタイルシートを解釈することに加え、本仕様で定義されたすべての機能を正しくパースし、文書をそれに従ってレンダリングすることで、本仕様に適合します。ただし、デバイスの制限によりUAが文書を正しくレンダリングできない場合でも、UAが非適合となるわけではありません（例えば、UAはモノクロモニターで色のレンダリングを要求されません）。
    </p>
    <p>オーサリングツールは、汎用CSS文法および本モジュールで定義された各機能の個別文法に従って構文的に正しいスタイルシートを作成し、かつ本モジュールで記載されたスタイルシートの他の適合性要件も満たす場合、本仕様に適合します。
    </p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分的な実装</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>著者が前方互換のパース規則を利用してフォールバック値を指定できるよう、CSSレンダラーは、利用可能なレベルのサポートがないatルール、プロパティ、プロパティ値、キーワード、およびその他の構文的構成要素を<strong>無効</strong>として扱い、<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">適切に無視</a>しなければなりません。特に、ユーザーエージェントは、未サポートのコンポーネント値を選択的に無視し、単一のマルチ値プロパティ宣言でサポートされている値のみを有効にすることは<strong>してはなりません</strong>。値のいずれかが無効（未サポート値は必ず無効）と見なされる場合、CSSでは宣言全体を無視する必要があります。
    </p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不安定・独自機能の実装</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>将来の安定したCSS機能との競合を避けるため、CSSWGは<a href="https://www.w3.org/TR/CSS/#future-proofing">ベストプラクティス</a>に従って<a
            href="https://www.w3.org/TR/CSS/#unstable">不安定</a>機能や<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">独自拡張</a>の実装を推奨します。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非実験的な実装</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>仕様がCandidate Recommendation段階に到達すると、非実験的な実装が可能となり、実装者は仕様に従って正しく実装できることを証明できるCRレベルの機能について、接頭辞なしの実装をリリースすべきです。</p>
    <p>CSSの相互運用性を確立・維持するため、CSS作業グループは、非実験的なCSSレンダラーに対し、CSS機能の接頭辞なし実装をリリースする前に、実装レポート（必要に応じてそのテストケース）をW3Cに提出することを求めます。W3Cに提出されたテストケースは、CSS作業グループによるレビュー・修正の対象となります。
    </p>
    <p>テストケースおよび実装レポートの提出方法などの詳細は、CSS作業グループのウェブサイト<a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>で確認できます。
        質問は<a
            href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>メーリングリストまで。
    </p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義された用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#valdef-content-visibility-auto">auto</a><span>、§ 4</span>
        <li><a
                href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent">constructor(type)</a><span>、§ 4.3</span>
        <li><a href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent">constructor(type,
                eventInitDict)</a><span>、§ 4.3</span>
        <li><a href="#propdef-contain">contain</a><span>、§ 2</span>
        <li><a href="#containment">containment</a><span>、§ 3</span>
        <li><a href="#valdef-contain-content">content</a><span>、§ 2</span>
        <li><a href="#element-contents">contents</a><span>、§ 4</span>
        <li><a href="#propdef-content-visibility">content-visibility</a><span>、§ 4</span>
        <li><a
                href="#eventdef-element-contentvisibilityautostatechanged">contentvisibilityautostatechanged</a><span>、§ 4.3</span>
        <li><a
                href="#contentvisibilityautostatechangedevent">ContentVisibilityAutoStateChangedEvent</a><span>、§ 4.3</span>
        <li><a
                href="#dictdef-contentvisibilityautostatechangedeventinit">ContentVisibilityAutoStateChangedEventInit</a><span>、§ 4.3</span>
        <li><a
                href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent">ContentVisibilityAutoStateChangedEvent(type)</a><span>、§ 4.3</span>
        <li><a href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent">ContentVisibilityAutoStateChangedEvent(type,
                eventInitDict)</a><span>、§ 4.3</span>
        <li><a href="#valdef-content-visibility-hidden">hidden</a><span>、§ 4</span>
        <li><a href="#laying-out-in-place">Laying out in-place</a><span>、§ 3.1</span>
        <li><a href="#valdef-contain-layout">layout</a><span>、§ 2</span>
        <li><a href="#layout-containment">layout containment</a><span>、§ 3.2</span>
        <li><a href="#layout-containment-box">layout containment box</a><span>、§ 3.2</span>
        <li><a href="#valdef-contain-none">none</a><span>、§ 2</span>
        <li><a href="#valdef-contain-paint">paint</a><span>、§ 2</span>
        <li><a href="#paint-containment">paint containment</a><span>、§ 3.4</span>
        <li><a href="#paint-containment-box">paint containment box</a><span>、§ 3.4</span>
        <li><a href="#relevant-to-the-user">relevant to the user</a><span>、§ 4</span>
        <li><a href="#property-scoped">scoped</a><span>、§ 3.3</span>
        <li><a href="#property-scoped">scoped properties</a><span>、§ 3.3</span>
        <li><a href="#property-scoped">scoped property</a><span>、§ 3.3</span>
        <li><a href="#property-scoped-to-an-element">scoped to an element</a><span>、§ 3.3</span>
        <li><a href="#property-scoped-to-a-sub-tree">scoped to an element’s sub-tree</a><span>、§ 3.3</span>
        <li><a href="#property-scoped-to-a-sub-tree">scoped to a sub-tree</a><span>、§ 3.3</span>
        <li><a href="#property-scoped-to-an-element">scoped to the element</a><span>、§ 3.3</span>
        <li><a href="#property-scoped-to-a-sub-tree">scoped to the element’s sub-tree</a><span>、§ 3.3</span>
        <li><a href="#property-scoped-to-a-sub-tree">scoped to the sub-tree</a><span>、§ 3.3</span>
        <li><a href="#valdef-contain-size">size</a><span>、§ 2</span>
        <li><a href="#size-containment">size containment</a><span>、§ 3.1</span>
        <li><a href="#size-containment-box">size containment box</a><span>、§ 3.1</span>
        <li><a href="#sizing-as-if-empty">Sizing as if empty</a><span>、§ 3.1</span>
        <li><a href="#skips-its-contents">skip</a><span>、§ 4</span>
        <li><a href="#skips-its-contents">skip its contents</a><span>、§ 4</span>
        <li>
            skipped
            <ul>
                <li><a
                        href="#dom-contentvisibilityautostatechangedevent-skipped">ContentVisibilityAutoStateChangedEventの属性</a><span>、§ 4.3</span>
                <li><a
                        href="#dom-contentvisibilityautostatechangedeventinit-skipped">ContentVisibilityAutoStateChangedEventInitのdict-member</a><span>、§ 4.3</span>
            </ul>
        <li><a href="#skips-its-contents">skipped contents</a><span>、§ 4</span>
        <li><a href="#skips-its-contents">skipping its contents</a><span>、§ 4</span>
        <li><a href="#skips-its-contents">skips its contents</a><span>、§ 4</span>
        <li><a href="#valdef-contain-strict">strict</a><span>、§ 2</span>
        <li><a href="#valdef-contain-style">style</a><span>、§ 2</span>
        <li><a href="#style-containment">style containment</a><span>、§ 3.3</span>
        <li><a href="#valdef-content-visibility-visible">visible</a><span>、§ 4</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-propdef-background">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background">https://www.w3.org/TR/css-backgrounds-3/#propdef-background</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-background">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-canvas-background">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#canvas-background">https://www.w3.org/TR/css-backgrounds-3/#canvas-background</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-canvas-background">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-canvas-background①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-border-edge">
        <a href="https://www.w3.org/TR/css-box-4/#border-edge">https://www.w3.org/TR/css-box-4/#border-edge</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-border-edge"> Changes from 2020-12-16 Working Draft </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-forced-break">
        <a href="https://www.w3.org/TR/css-break-3/#forced-break">https://www.w3.org/TR/css-break-3/#forced-break</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-forced-break">3.2.
                    Layout Containment</a> <a href="#ref-for-forced-break①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fragmentation">
        <a
            href="https://www.w3.org/TR/css-break-3/#fragmentation">https://www.w3.org/TR/css-break-3/#fragmentation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fragmentation">3.2.
                    Layout Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fragmentation-container">
        <a
            href="https://www.w3.org/TR/css-break-3/#fragmentation-container">https://www.w3.org/TR/css-break-3/#fragmentation-container</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fragmentation-container">3.2.
                    Layout Containment</a> <a href="#ref-for-fragmentation-container①">(2)</a> <a
                    href="#ref-for-fragmentation-container②">(3)</a> <a href="#ref-for-fragmentation-container③">(4)</a>
                <a href="#ref-for-fragmentation-container④">(5)</a> <a href="#ref-for-fragmentation-container⑤">(6)</a>
                <a href="#ref-for-fragmentation-container⑥">(7)</a> <a href="#ref-for-fragmentation-container⑦">(8)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fragmentation-context">
        <a
            href="https://www.w3.org/TR/css-break-3/#fragmentation-context">https://www.w3.org/TR/css-break-3/#fragmentation-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fragmentation-context">3.2.
                    Layout Containment</a> <a href="#ref-for-fragmentation-context①">(2)</a> <a
                    href="#ref-for-fragmentation-context②">(3)</a> <a href="#ref-for-fragmentation-context③">(4)</a> <a
                    href="#ref-for-fragmentation-context④">(5)</a> <a href="#ref-for-fragmentation-context⑤">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fragmented-flow">
        <a
            href="https://www.w3.org/TR/css-break-3/#fragmented-flow">https://www.w3.org/TR/css-break-3/#fragmented-flow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fragmented-flow">3.2.
                    Layout Containment</a> <a href="#ref-for-fragmented-flow①">(2)</a> <a
                    href="#ref-for-fragmented-flow②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-monolithic">
        <a href="https://www.w3.org/TR/css-break-3/#monolithic">https://www.w3.org/TR/css-break-3/#monolithic</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-monolithic">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-used-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#used-value">https://www.w3.org/TR/css-cascade-5/#used-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-used-value">3.1.
                    Size Containment</a>
            <li><a href="#ref-for-used-value①">4. Suppressing An Element’s Contents Entirely: the content-visibility
                    property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-content-close-quote">
        <a
            href="https://www.w3.org/TR/css-content-3/#valdef-content-close-quote">https://www.w3.org/TR/css-content-3/#valdef-content-close-quote</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-content-close-quote">3.3.
                    Style Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-content-no-close-quote">
        <a
            href="https://www.w3.org/TR/css-content-3/#valdef-content-no-close-quote">https://www.w3.org/TR/css-content-3/#valdef-content-no-close-quote</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-content-no-close-quote">3.3.
                    Style Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-content-no-open-quote">
        <a
            href="https://www.w3.org/TR/css-content-3/#valdef-content-no-open-quote">https://www.w3.org/TR/css-content-3/#valdef-content-no-open-quote</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-content-no-open-quote">3.3.
                    Style Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-content-open-quote">
        <a
            href="https://www.w3.org/TR/css-content-3/#valdef-content-open-quote">https://www.w3.org/TR/css-content-3/#valdef-content-open-quote</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-content-open-quote">3.3.
                    Style Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-atomic-inline">
        <a
            href="https://www.w3.org/TR/css-display-3/#atomic-inline">https://www.w3.org/TR/css-display-3/#atomic-inline</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-atomic-inline">3.1.
                    Size Containment</a>
            <li><a href="#ref-for-atomic-inline①">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-atomic-inline②">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-display">
        <a
            href="https://www.w3.org/TR/css-display-3/#propdef-display">https://www.w3.org/TR/css-display-3/#propdef-display</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-display">3.1.
                    Size Containment</a> <a href="#ref-for-propdef-display①">(2)</a>
            <li><a href="#ref-for-propdef-display②">3.2.
                    Layout Containment</a> <a href="#ref-for-propdef-display③">(2)</a>
            <li><a href="#ref-for-propdef-display④">3.4.
                    Paint Containment</a> <a href="#ref-for-propdef-display⑤">(2)</a>
            <li><a href="#ref-for-propdef-display⑥">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
            <li><a href="#ref-for-propdef-display⑦">4.2.
                    Using content-visibility: auto</a>
            <li><a href="#ref-for-propdef-display⑧">4.4. Restrictions and Clarifications</a>
            <li><a href="#ref-for-propdef-display⑨">4.5. Accessibility Implications</a>
            <li><a href="#ref-for-propdef-display①⓪">4.6. Examples</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-establish-an-independent-formatting-context">
        <a
            href="https://www.w3.org/TR/css-display-3/#establish-an-independent-formatting-context">https://www.w3.org/TR/css-display-3/#establish-an-independent-formatting-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-establish-an-independent-formatting-context">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-establish-an-independent-formatting-context①">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-initial-containing-block">
        <a
            href="https://www.w3.org/TR/css-display-3/#initial-containing-block">https://www.w3.org/TR/css-display-3/#initial-containing-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-initial-containing-block">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-initial-containing-block①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-level">
        <a
            href="https://www.w3.org/TR/css-display-3/#inline-level">https://www.w3.org/TR/css-display-3/#inline-level</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-level">3.1.
                    Size Containment</a>
            <li><a href="#ref-for-inline-level①">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-inline-level②">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inner-display-type">
        <a
            href="https://www.w3.org/TR/css-display-3/#inner-display-type">https://www.w3.org/TR/css-display-3/#inner-display-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inner-display-type">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-internal-ruby-box">
        <a
            href="https://www.w3.org/TR/css-display-3/#internal-ruby-box">https://www.w3.org/TR/css-display-3/#internal-ruby-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-internal-ruby-box">3.1.
                    Size Containment</a>
            <li><a href="#ref-for-internal-ruby-box①">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-internal-ruby-box②">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-internal-table-box">
        <a
            href="https://www.w3.org/TR/css-display-3/#internal-table-box">https://www.w3.org/TR/css-display-3/#internal-table-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-internal-table-box">3.1.
                    Size Containment</a>
            <li><a href="#ref-for-internal-table-box①">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-internal-table-box②">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-none">
        <a
            href="https://www.w3.org/TR/css-display-3/#valdef-display-none">https://www.w3.org/TR/css-display-3/#valdef-display-none</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-none">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-principal-box">
        <a
            href="https://www.w3.org/TR/css-display-3/#principal-box">https://www.w3.org/TR/css-display-3/#principal-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-principal-box">3.1.
                    Size Containment</a> <a href="#ref-for-principal-box①">(2)</a> <a
                    href="#ref-for-principal-box②">(3)</a> <a href="#ref-for-principal-box③">(4)</a>
            <li><a href="#ref-for-principal-box④">3.2.
                    Layout Containment</a> <a href="#ref-for-principal-box⑤">(2)</a> <a
                    href="#ref-for-principal-box⑥">(3)</a> <a href="#ref-for-principal-box⑦">(4)</a>
            <li><a href="#ref-for-principal-box⑧">3.4.
                    Paint Containment</a> <a href="#ref-for-principal-box⑨">(2)</a> <a
                    href="#ref-for-principal-box①⓪">(3)</a> <a href="#ref-for-principal-box①①">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-replaced-element">
        <a
            href="https://www.w3.org/TR/css-display-3/#replaced-element">https://www.w3.org/TR/css-display-3/#replaced-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-replaced-element">3.1.
                    Size Containment</a>
            <li><a href="#ref-for-replaced-element①">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-table">
        <a
            href="https://www.w3.org/TR/css-display-3/#valdef-display-table">https://www.w3.org/TR/css-display-3/#valdef-display-table</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-table">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-table-cell">
        <a
            href="https://www.w3.org/TR/css-display-3/#valdef-display-table-cell">https://www.w3.org/TR/css-display-3/#valdef-display-table-cell</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-table-cell">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-valdef-display-table-cell①">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-visibility">
        <a
            href="https://www.w3.org/TR/css-display-3/#propdef-visibility">https://www.w3.org/TR/css-display-3/#propdef-visibility</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-visibility">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
            <li><a href="#ref-for-propdef-visibility①">4.1.
                    Using content-visibility: hidden</a> <a href="#ref-for-propdef-visibility②">(2)</a> <a
                    href="#ref-for-propdef-visibility③">(3)</a> <a href="#ref-for-propdef-visibility④">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-grid-track">
        <a href="https://www.w3.org/TR/css-grid-2/#grid-track">https://www.w3.org/TR/css-grid-2/#grid-track</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-grid-track">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-natural-aspect-ratio">
        <a
            href="https://www.w3.org/TR/css-images-3/#natural-aspect-ratio">https://www.w3.org/TR/css-images-3/#natural-aspect-ratio</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-natural-aspect-ratio">3.1.
                    Size Containment</a> <a href="#ref-for-natural-aspect-ratio①">(2)</a> <a
                    href="#ref-for-natural-aspect-ratio②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-natural-dimensions">
        <a
            href="https://www.w3.org/TR/css-images-3/#natural-dimensions">https://www.w3.org/TR/css-images-3/#natural-dimensions</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-natural-dimensions">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-natural-height">
        <a
            href="https://www.w3.org/TR/css-images-3/#natural-height">https://www.w3.org/TR/css-images-3/#natural-height</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-natural-height">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-vertical-align">
        <a
            href="https://www.w3.org/TR/css-inline-3/#propdef-vertical-align">https://www.w3.org/TR/css-inline-3/#propdef-vertical-align</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-vertical-align">3.2.
                    Layout Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-counter-set">
        <a
            href="https://www.w3.org/TR/css-lists-3/#propdef-counter-set">https://www.w3.org/TR/css-lists-3/#propdef-counter-set</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-counter-set">3.3.
                    Style Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-overflow-clip">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#valdef-overflow-clip">https://www.w3.org/TR/css-overflow-3/#valdef-overflow-clip</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-overflow-clip">3.2.
                    Layout Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ink-overflow">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#ink-overflow">https://www.w3.org/TR/css-overflow-3/#ink-overflow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ink-overflow">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-ink-overflow①">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-overflow">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow">https://www.w3.org/TR/css-overflow-3/#propdef-overflow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-overflow">2.
                    Strong Containment: the contain property</a>
            <li><a href="#ref-for-propdef-overflow①">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-propdef-overflow②">3.4.
                    Paint Containment</a>
            <li><a href="#ref-for-propdef-overflow③">3.4.1.
                    Possible Paint-Containment Optimizations</a> <a href="#ref-for-propdef-overflow④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-overflow-clip-edge">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#overflow-clip-edge">https://www.w3.org/TR/css-overflow-3/#overflow-clip-edge</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-overflow-clip-edge">3.4.
                    Paint Containment</a>
            <li><a href="#ref-for-overflow-clip-edge①">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
            <li><a href="#ref-for-overflow-clip-edge②"> Changes from 2020-12-16 Working Draft </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-overflow-clip-margin">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow-clip-margin">https://www.w3.org/TR/css-overflow-3/#propdef-overflow-clip-margin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-overflow-clip-margin">3.4.
                    Paint Containment</a>
            <li><a href="#ref-for-propdef-overflow-clip-margin①"> Changes from 2019-11-11 Working Draft </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-overflow-x">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow-x">https://www.w3.org/TR/css-overflow-3/#propdef-overflow-x</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-overflow-x">3.4.
                    Paint Containment</a> <a href="#ref-for-propdef-overflow-x①">(2)</a> <a
                    href="#ref-for-propdef-overflow-x②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-overflow-y">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow-y">https://www.w3.org/TR/css-overflow-3/#propdef-overflow-y</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-overflow-y">3.4.
                    Paint Containment</a> <a href="#ref-for-propdef-overflow-y①">(2)</a> <a
                    href="#ref-for-propdef-overflow-y②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-scrollable-overflow">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow">https://www.w3.org/TR/css-overflow-3/#scrollable-overflow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-scrollable-overflow">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-overflow-visible">
        <a
            href="https://www.w3.org/TR/css-overflow-3/#valdef-overflow-visible">https://www.w3.org/TR/css-overflow-3/#valdef-overflow-visible</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-overflow-visible">3.2.
                    Layout Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-nth-fragment">
        <a
            href="https://www.w3.org/TR/css-overflow-4/#selectordef-nth-fragment">https://www.w3.org/TR/css-overflow-4/#selectordef-nth-fragment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-nth-fragment">3.2.
                    Layout Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-absolute-positioning-containing-block">
        <a
            href="https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block">https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-absolute-positioning-containing-block">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-absolute-positioning-containing-block①">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fixed-positioning-containing-block">
        <a
            href="https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block">https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fixed-positioning-containing-block">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-fixed-positioning-containing-block①">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-left">
        <a
            href="https://www.w3.org/TR/css-position-3/#propdef-left">https://www.w3.org/TR/css-position-3/#propdef-left</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-left">4.1.
                    Using content-visibility: hidden</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-position">
        <a
            href="https://www.w3.org/TR/css-position-3/#propdef-position">https://www.w3.org/TR/css-position-3/#propdef-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-position">4.1.
                    Using content-visibility: hidden</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-after">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-after">https://www.w3.org/TR/css-pseudo-4/#selectordef-after</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-after">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-before">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before">https://www.w3.org/TR/css-pseudo-4/#selectordef-before</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-before">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-marker">
        <a
            href="https://www.w3.org/TR/css-pseudo-4/#selectordef-marker">https://www.w3.org/TR/css-pseudo-4/#selectordef-marker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-marker">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-flat-tree">
        <a
            href="https://drafts.csswg.org/css-scoping-1/#flat-tree">https://drafts.csswg.org/css-scoping-1/#flat-tree</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-flat-tree">4. Suppressing An Element’s Contents Entirely: the content-visibility
                    property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fit-content-size">
        <a
            href="https://www.w3.org/TR/css-sizing-3/#fit-content-size">https://www.w3.org/TR/css-sizing-3/#fit-content-size</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fit-content-size">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-height">
        <a
            href="https://www.w3.org/TR/css-sizing-3/#propdef-height">https://www.w3.org/TR/css-sizing-3/#propdef-height</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-height">3.1.
                    Size Containment</a> <a href="#ref-for-propdef-height①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-intrinsic-size">
        <a
            href="https://www.w3.org/TR/css-sizing-3/#intrinsic-size">https://www.w3.org/TR/css-sizing-3/#intrinsic-size</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-intrinsic-size">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-width-max-content">
        <a
            href="https://www.w3.org/TR/css-sizing-3/#valdef-width-max-content">https://www.w3.org/TR/css-sizing-3/#valdef-width-max-content</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-width-max-content">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-width-min-content">
        <a
            href="https://www.w3.org/TR/css-sizing-3/#valdef-width-min-content">https://www.w3.org/TR/css-sizing-3/#valdef-width-min-content</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-width-min-content">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sizing-property">
        <a
            href="https://www.w3.org/TR/css-sizing-3/#sizing-property">https://www.w3.org/TR/css-sizing-3/#sizing-property</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sizing-property">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-width">
        <a
            href="https://www.w3.org/TR/css-sizing-3/#propdef-width">https://www.w3.org/TR/css-sizing-3/#propdef-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-width">3.1.
                    Size Containment</a> <a href="#ref-for-propdef-width①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-aspect-ratio">
        <a
            href="https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio">https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-aspect-ratio">3.1.
                    Size Containment</a> <a href="#ref-for-propdef-aspect-ratio①">(2)</a> <a
                    href="#ref-for-propdef-aspect-ratio②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-contain-intrinsic-size">
        <a
            href="https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size">https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-contain-intrinsic-size">4.2.
                    Using content-visibility: auto</a> <a href="#ref-for-propdef-contain-intrinsic-size①">(2)</a> <a
                    href="#ref-for-propdef-contain-intrinsic-size②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-preferred-aspect-ratio">
        <a
            href="https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio">https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-preferred-aspect-ratio">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-style-change-event">
        <a
            href="https://www.w3.org/TR/css-transitions-1/#style-change-event">https://www.w3.org/TR/css-transitions-1/#style-change-event</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-style-change-event">4.4. Restrictions and Clarifications</a> <a
                    href="#ref-for-style-change-event①">(2)</a> <a href="#ref-for-style-change-event②">(3)</a> <a
                    href="#ref-for-style-change-event③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-resize">
        <a href="https://www.w3.org/TR/css-ui-3/#propdef-resize">https://www.w3.org/TR/css-ui-3/#propdef-resize</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-resize">3.4.
                    Paint Containment</a>
            <li><a href="#ref-for-propdef-resize①">3.4.1.
                    Possible Paint-Containment Optimizations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-overflow">
        <a
            href="https://www.w3.org/TR/css-ui-3/#propdef-text-overflow">https://www.w3.org/TR/css-ui-3/#propdef-text-overflow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-overflow">3.4.
                    Paint Containment</a>
            <li><a href="#ref-for-propdef-text-overflow①">3.4.1.
                    Possible Paint-Containment Optimizations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-pointer-events">
        <a
            href="https://drafts.csswg.org/css-ui-4/#propdef-pointer-events">https://drafts.csswg.org/css-ui-4/#propdef-pointer-events</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-pointer-events">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-wide-keywords">
        <a
            href="https://www.w3.org/TR/css-values-4/#css-wide-keywords">https://www.w3.org/TR/css-values-4/#css-wide-keywords</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-wide-keywords">1.2.
                    Value Definitions</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-comb-one">
        <a href="https://www.w3.org/TR/css-values-4/#comb-one">https://www.w3.org/TR/css-values-4/#comb-one</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-comb-one">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-comb-one①">(2)</a> <a
                    href="#ref-for-comb-one②">(3)</a>
            <li><a href="#ref-for-comb-one③">4. Suppressing An Element’s Contents Entirely: the content-visibility
                    property</a> <a href="#ref-for-comb-one④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-comb-any">
        <a href="https://www.w3.org/TR/css-values-4/#comb-any">https://www.w3.org/TR/css-values-4/#comb-any</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-comb-any">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-comb-any①">(2)</a> <a
                    href="#ref-for-comb-any②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-direction">
        <a
            href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction">https://www.w3.org/TR/css-writing-modes-3/#propdef-direction</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-direction">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-orientation">
        <a
            href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation">https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-orientation">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-writing-mode">
        <a
            href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode">https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-writing-mode">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-content">
        <a
            href="https://www.w3.org/TR/CSS2/generate.html#propdef-content">https://www.w3.org/TR/CSS2/generate.html#propdef-content</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-content">3.3.
                    Style Containment</a> <a href="#ref-for-propdef-content①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-counter-increment">
        <a
            href="https://www.w3.org/TR/CSS2/generate.html#propdef-counter-increment">https://www.w3.org/TR/CSS2/generate.html#propdef-counter-increment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-counter-increment">3.3.
                    Style Containment</a> <a href="#ref-for-propdef-counter-increment①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-x43">
        <a href="https://www.w3.org/TR/CSS2/visuren.html#x43">https://www.w3.org/TR/CSS2/visuren.html#x43</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-x43">3.2.
                    Layout Containment</a>
            <li><a href="#ref-for-x43①">3.4.
                    Paint Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-element-getboundingclientrect">
        <a
            href="https://www.w3.org/TR/cssom-view/#dom-element-getboundingclientrect">https://www.w3.org/TR/cssom-view/#dom-element-getboundingclientrect</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-element-getboundingclientrect">4.1.
                    Using content-visibility: hidden</a>
            <li><a href="#ref-for-dom-element-getboundingclientrect①">4.6. Examples</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-element-scrollintoview">
        <a
            href="https://drafts.csswg.org/cssom-view-1/#dom-element-scrollintoview">https://drafts.csswg.org/cssom-view-1/#dom-element-scrollintoview</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-element-scrollintoview">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-event">
        <a href="https://dom.spec.whatwg.org/#event">https://dom.spec.whatwg.org/#event</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-event">4.3. Detecting content-visibility: auto state changes: the
                    contentvisibilityautostatechanged event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dictdef-eventinit">
        <a href="https://dom.spec.whatwg.org/#dictdef-eventinit">https://dom.spec.whatwg.org/#dictdef-eventinit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-eventinit">4.3. Detecting content-visibility: auto state changes: the
                    contentvisibilityautostatechanged event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-funcdef-filter-blur">
        <a
            href="https://www.w3.org/TR/filter-effects-1/#funcdef-filter-blur">https://www.w3.org/TR/filter-effects-1/#funcdef-filter-blur</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-funcdef-filter-blur">3.4.1.
                    Possible Paint-Containment Optimizations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-top-layer">
        <a href="https://fullscreen.spec.whatwg.org/#top-layer">https://fullscreen.spec.whatwg.org/#top-layer</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-top-layer">4. Suppressing An Element’s Contents Entirely: the content-visibility
                    property</a>
            <li><a href="#ref-for-top-layer①">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-body-element">
        <a
            href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element">https://html.spec.whatwg.org/multipage/sections.html#the-body-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-body-element">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-the-body-element①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-window-focus">
        <a
            href="https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus">https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-window-focus">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-html-element">
        <a
            href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">https://html.spec.whatwg.org/multipage/semantics.html#the-html-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-html-element">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-the-html-element①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-iframe-element">
        <a
            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-iframe-element">4.4. Restrictions and Clarifications</a> <a
                    href="#ref-for-the-iframe-element①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-innertext">
        <a
            href="https://html.spec.whatwg.org/multipage/dom.html#dom-innertext">https://html.spec.whatwg.org/multipage/dom.html#dom-innertext</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-innertext">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-update-the-rendering">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering">https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#termref-for-update-the-rendering">4.4. Restrictions and Clarifications</a> <a
                    href="#ref-for-update-the-rendering">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-intersectionobserver">
        <a
            href="https://www.w3.org/TR/intersection-observer/#intersectionobserver">https://www.w3.org/TR/intersection-observer/#intersectionobserver</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-intersectionobserver">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-intersectionobserver-intersection-root">
        <a
            href="https://www.w3.org/TR/intersection-observer/#intersectionobserver-intersection-root">https://www.w3.org/TR/intersection-observer/#intersectionobserver-intersection-root</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-intersectionobserver-intersection-root">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-resizeobserver">
        <a
            href="https://www.w3.org/TR/resize-observer-1/#resizeobserver">https://www.w3.org/TR/resize-observer-1/#resizeobserver</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-resizeobserver">4.4. Restrictions and Clarifications</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-elementdef-svg">
        <a
            href="https://www.w3.org/TR/SVG2/struct.html#elementdef-svg">https://www.w3.org/TR/SVG2/struct.html#elementdef-svg</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-elementdef-svg">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-DOMString">
        <a href="https://webidl.spec.whatwg.org/#idl-DOMString">https://webidl.spec.whatwg.org/#idl-DOMString</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-DOMString">4.3. Detecting content-visibility: auto state changes: the
                    contentvisibilityautostatechanged event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-Exposed">
        <a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-Exposed">4.3. Detecting content-visibility: auto state changes: the
                    contentvisibilityautostatechanged event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-boolean">
        <a href="https://webidl.spec.whatwg.org/#idl-boolean">https://webidl.spec.whatwg.org/#idl-boolean</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-boolean">4.3. Detecting content-visibility: auto state changes: the
                    contentvisibilityautostatechanged event</a> <a href="#ref-for-idl-boolean①">(2)</a> <a
                    href="#ref-for-idl-boolean②">(3)</a> <a href="#ref-for-idl-boolean③">(4)</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照定義された用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[css-backgrounds-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-background">background</span>
                <li><span class="dfn-paneled" id="term-for-canvas-background">canvas background</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-box-4]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-border-edge">border edge</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-break-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-forced-break">forced break</span>
                <li><span class="dfn-paneled" id="term-for-fragmentation">fragmentation</span>
                <li><span class="dfn-paneled" id="term-for-fragmentation-container">fragmentation container</span>
                <li><span class="dfn-paneled" id="term-for-fragmentation-context">fragmentation context</span>
                <li><span class="dfn-paneled" id="term-for-fragmented-flow">fragmented flow</span>
                <li><span class="dfn-paneled" id="term-for-monolithic">monolithic</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-cascade-5]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-used-value">used value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-content-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-valdef-content-close-quote">close-quote</span>
                <li><span class="dfn-paneled" id="term-for-valdef-content-no-close-quote">no-close-quote</span>
                <li><span class="dfn-paneled" id="term-for-valdef-content-no-open-quote">no-open-quote</span>
                <li><span class="dfn-paneled" id="term-for-valdef-content-open-quote">open-quote</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-display-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-atomic-inline">atomic inline</span>
                <li><span class="dfn-paneled" id="term-for-propdef-display">display</span>
                <li><span class="dfn-paneled" id="term-for-establish-an-independent-formatting-context">establishes an
                        independent formatting context</span>
                <li><span class="dfn-paneled" id="term-for-initial-containing-block">initial containing block</span>
                <li><span class="dfn-paneled" id="term-for-inline-level">inline-level</span>
                <li><span class="dfn-paneled" id="term-for-inner-display-type">inner display type</span>
                <li><span class="dfn-paneled" id="term-for-internal-ruby-box">internal ruby box</span>
                <li><span class="dfn-paneled" id="term-for-internal-table-box">internal table box</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-none">none</span>
                <li><span class="dfn-paneled" id="term-for-principal-box">principal box</span>
                <li><span class="dfn-paneled" id="term-for-replaced-element">replaced element</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-table">table</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-table-cell">table-cell</span>
                <li><span class="dfn-paneled" id="term-for-propdef-visibility">visibility</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-grid-2]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-grid-track">grid track</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-images-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-natural-aspect-ratio">natural aspect ratio</span>
                <li><span class="dfn-paneled" id="term-for-natural-dimensions">natural dimension</span>
                <li><span class="dfn-paneled" id="term-for-natural-height">natural height</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-inline-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-vertical-align">vertical-align</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-lists-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-counter-set">counter-set</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-overflow-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-valdef-overflow-clip">clip</span>
                <li><span class="dfn-paneled" id="term-for-ink-overflow">ink overflow</span>
                <li><span class="dfn-paneled" id="term-for-propdef-overflow">overflow</span>
                <li><span class="dfn-paneled" id="term-for-overflow-clip-edge">overflow clip edge</span>
                <li><span class="dfn-paneled" id="term-for-propdef-overflow-clip-margin">overflow-clip-margin</span>
                <li><span class="dfn-paneled" id="term-for-propdef-overflow-x">overflow-x</span>
                <li><span class="dfn-paneled" id="term-for-propdef-overflow-y">overflow-y</span>
                <li><span class="dfn-paneled" id="term-for-scrollable-overflow">scrollable overflow</span>
                <li><span class="dfn-paneled" id="term-for-valdef-overflow-visible">visible</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-overflow-4]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-selectordef-nth-fragment">::nth-fragment()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-position-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-absolute-positioning-containing-block">absolute positioning
                        containing block</span>
                <li><span class="dfn-paneled" id="term-for-fixed-positioning-containing-block">fixed positioning
                        containing block</span>
                <li><span class="dfn-paneled" id="term-for-propdef-left">left</span>
                <li><span class="dfn-paneled" id="term-for-propdef-position">position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-pseudo-4]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-selectordef-after">::after</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-before">::before</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-marker">::marker</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-scoping-1]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-flat-tree">flat tree</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-sizing-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-fit-content-size">fit-content size</span>
                <li><span class="dfn-paneled" id="term-for-propdef-height">height</span>
                <li><span class="dfn-paneled" id="term-for-intrinsic-size">intrinsic size</span>
                <li><span class="dfn-paneled" id="term-for-valdef-width-max-content">max-content</span>
                <li><span class="dfn-paneled" id="term-for-valdef-width-min-content">min-content</span>
                <li><span class="dfn-paneled" id="term-for-sizing-property">sizing property</span>
                <li><span class="dfn-paneled" id="term-for-propdef-width">width</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-sizing-4]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-aspect-ratio">aspect-ratio</span>
                <li><span class="dfn-paneled" id="term-for-propdef-contain-intrinsic-size">contain-intrinsic-size</span>
                <li><span class="dfn-paneled" id="term-for-preferred-aspect-ratio">preferred aspect ratio</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-transitions-1]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-style-change-event">style change event</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-ui-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-resize">resize</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-overflow">text-overflow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-ui-4]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-pointer-events">pointer-events</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-values-4]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-css-wide-keywords">css-wide keywords</span>
                <li><span class="dfn-paneled" id="term-for-comb-one">|</span>
                <li><span class="dfn-paneled" id="term-for-comb-any">||</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-writing-modes-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-direction">direction</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-writing-modes-4]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-text-orientation">text-orientation</span>
                <li><span class="dfn-paneled" id="term-for-propdef-writing-mode">writing-mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS2]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-content">content</span>
                <li><span class="dfn-paneled" id="term-for-propdef-counter-increment">counter-increment</span>
                <li><span class="dfn-paneled" id="term-for-x43">stacking context</span>
            </ul>
        <li>
            <a data-link-type="biblio">[cssom-view-1]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled"
                        id="term-for-dom-element-getboundingclientrect">getBoundingClientRect()</span>
                <li><span class="dfn-paneled" id="term-for-dom-element-scrollintoview">scrollIntoView()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-event">Event</span>
                <li><span class="dfn-paneled" id="term-for-dictdef-eventinit">EventInit</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FILTER-EFFECTS-1]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-funcdef-filter-blur">blur()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FULLSCREEN]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-top-layer">top layer</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-the-body-element">body</span>
                <li><span class="dfn-paneled" id="term-for-dom-window-focus">focus()</span>
                <li><span class="dfn-paneled" id="term-for-the-html-element">html</span>
                <li><span class="dfn-paneled" id="term-for-the-iframe-element">iframe</span>
                <li><span class="dfn-paneled" id="term-for-dom-innertext">innerText</span>
                <li><span class="dfn-paneled" id="term-for-update-the-rendering">update the rendering</span>
            </ul>
        <li>
            <a data-link-type="biblio">[intersection-observer]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-intersectionobserver">IntersectionObserver</span>
                <li><span class="dfn-paneled" id="term-for-intersectionobserver-intersection-root">intersection
                        root</span>
            </ul>
        <li>
            <a data-link-type="biblio">[resize-observer-1]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-resizeobserver">ResizeObserver</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SVG2]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-elementdef-svg">svg</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-idl-DOMString">DOMString</span>
                <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
                <li><span class="dfn-paneled" id="term-for-idl-boolean">boolean</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参照文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範参照</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/"><cite>CSS
                    Backgrounds and Borders Module Level 3</cite></a>. 2021年7月26日. CR. URL: <a
                href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
        <dt id="biblio-css-box-4">[CSS-BOX-4]
        <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-box-4/"><cite>CSS Box Model Module Level 4</cite></a>.
            2020年4月21日. WD. URL: <a href="https://www.w3.org/TR/css-box-4/">https://www.w3.org/TR/css-box-4/</a>
        <dt id="biblio-css-break-3">[CSS-BREAK-3]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://www.w3.org/TR/css-break-3/"><cite>CSS Fragmentation Module
                    Level 3</cite></a>. 2018年12月4日. CR. URL: <a
                href="https://www.w3.org/TR/css-break-3/">https://www.w3.org/TR/css-break-3/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>. 2022年1月13日. CR. URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-contain-1">[CSS-CONTAIN-1]
        <dd>Tab Atkins Jr.; Florian Rivoal. <a href="https://www.w3.org/TR/css-contain-1/"><cite>CSS Containment Module
                    Level 1</cite></a>. 2020年12月22日. REC. URL: <a
                href="https://www.w3.org/TR/css-contain-1/">https://www.w3.org/TR/css-contain-1/</a>
        <dt id="biblio-css-content-3">[CSS-CONTENT-3]
        <dd>Elika Etemad; Dave Cramer. <a href="https://www.w3.org/TR/css-content-3/"><cite>CSS Generated Content Module
                    Level 3</cite></a>. 2019年8月2日. WD. URL: <a
                href="https://www.w3.org/TR/css-content-3/">https://www.w3.org/TR/css-content-3/</a>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level
                    3</cite></a>. 2021年9月3日. CR. URL: <a
                href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-images-3">[CSS-IMAGES-3]
        <dd>Tab Atkins Jr.; Elika Etemad; Lea Verou. <a href="https://www.w3.org/TR/css-images-3/"><cite>CSS Images
                    Module Level 3</cite></a>. 2020年12月17日. CR. URL: <a
                href="https://www.w3.org/TR/css-images-3/">https://www.w3.org/TR/css-images-3/</a>
        <dt id="biblio-css-inline-3">[CSS-INLINE-3]
        <dd>Dave Cramer; Elika Etemad; Steve Zilles. <a href="https://www.w3.org/TR/css-inline-3/"><cite>CSS Inline
                    Layout Module Level 3</cite></a>. 2020年8月27日. WD. URL: <a
                href="https://www.w3.org/TR/css-inline-3/">https://www.w3.org/TR/css-inline-3/</a>
        <dt id="biblio-css-lists-3">[CSS-LISTS-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-lists-3/"><cite>CSS Lists and Counters
                    Module Level 3</cite></a>. 2020年11月17日. WD. URL: <a
                href="https://www.w3.org/TR/css-lists-3/">https://www.w3.org/TR/css-lists-3/</a>
        <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
        <dd>David Baron; Elika Etemad; Florian Rivoal. <a href="https://www.w3.org/TR/css-overflow-3/"><cite>CSS
                    Overflow Module Level 3</cite></a>. 2021年12月23日. WD. URL: <a
                href="https://www.w3.org/TR/css-overflow-3/">https://www.w3.org/TR/css-overflow-3/</a>
        <dt id="biblio-css-position-3">[CSS-POSITION-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-position-3/"><cite>CSS Positioned Layout
                    Module Level 3</cite></a>. 2022年9月1日. WD. URL: <a
                href="https://www.w3.org/TR/css-position-3/">https://www.w3.org/TR/css-position-3/</a>
        <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
        <dd>Daniel Glazman; Elika Etemad; Alan Stearns. <a href="https://www.w3.org/TR/css-pseudo-4/"><cite>CSS
                    Pseudo-Elements Module Level 4</cite></a>. 2020年12月31日. WD. URL: <a
                href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
        <dt id="biblio-css-scoping-1">[CSS-SCOPING-1]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-scoping-1/"><cite>CSS Scoping Module Level
                    1</cite></a>. 2014年4月3日. WD. URL: <a
                href="https://www.w3.org/TR/css-scoping-1/">https://www.w3.org/TR/css-scoping-1/</a>
        <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-sizing-3/"><cite>CSS Box Sizing Module
                    Level 3</cite></a>. 2021年12月17日. WD. URL: <a
                href="https://www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
        <dt id="biblio-css-transitions-1">[CSS-TRANSITIONS-1]
        <dd>David Baron; et al. <a href="https://www.w3.org/TR/css-transitions-1/"><cite>CSS Transitions</cite></a>.
            2018年10月11日. WD. URL: <a
                href="https://www.w3.org/TR/css-transitions-1/">https://www.w3.org/TR/css-transitions-1/</a>
        <dt id="biblio-css-ui-3">[CSS-UI-3]
        <dd>Tantek Çelik; Florian Rivoal. <a href="https://www.w3.org/TR/css-ui-3/"><cite>CSS Basic User Interface
                    Module Level 3 (CSS3 UI)</cite></a>. 2018年6月21日. REC. URL: <a
                href="https://www.w3.org/TR/css-ui-3/">https://www.w3.org/TR/css-ui-3/</a>
        <dt id="biblio-css-ui-4">[CSS-UI-4]
        <dd>Florian Rivoal. <a href="https://www.w3.org/TR/css-ui-4/"><cite>CSS Basic User Interface Module Level
                    4</cite></a>. 2021年3月16日. WD. URL: <a
                href="https://www.w3.org/TR/css-ui-4/">https://www.w3.org/TR/css-ui-4/</a>
        <dt id="biblio-css-values-3">[CSS-VALUES-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS Values and Units
                    Module Level 3</cite></a>. 2019年6月6日. CR. URL: <a
                href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>. 2021年12月16日. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS Writing Modes Level
                    3</cite></a>. 2019年12月10日. REC. URL: <a
                href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS Writing Modes Level
                    4</cite></a>. 2019年7月30日. CR. URL: <a
                href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS21/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS
                    2.1) Specification</cite></a>. 2011年6月7日. REC. URL: <a
                href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Pieters. <a href="https://www.w3.org/TR/cssom-view-1/"><cite>CSSOM View Module</cite></a>. 2016年3月17日.
            WD. URL: <a href="https://www.w3.org/TR/cssom-view-1/">https://www.w3.org/TR/cssom-view-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-fullscreen">[FULLSCREEN]
        <dd>Philip Jägenstedt. <a href="https://fullscreen.spec.whatwg.org/"><cite>Fullscreen API Standard</cite></a>.
            Living Standard. URL: <a href="https://fullscreen.spec.whatwg.org/">https://fullscreen.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-intersection-observer">[INTERSECTION-OBSERVER]
        <dd>Stefan Zager; Emilio Cobos Álvarez. <a
                href="https://www.w3.org/TR/intersection-observer/"><cite>Intersection Observer</cite></a>. 2022年7月6日.
            WD. URL: <a
                href="https://www.w3.org/TR/intersection-observer/">https://www.w3.org/TR/intersection-observer/</a>
        <dt id="biblio-resize-observer-1">[RESIZE-OBSERVER-1]
        <dd>Aleks Totic; Greg Whitworth. <a href="https://www.w3.org/TR/resize-observer-1/"><cite>Resize
                    Observer</cite></a>. 2020年2月11日. WD. URL: <a
                href="https://www.w3.org/TR/resize-observer-1/">https://www.w3.org/TR/resize-observer-1/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. 1997年3月. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-svg2">[SVG2]
        <dd>Amelia Bellamy-Royds; et al. <a href="https://www.w3.org/TR/SVG2/"><cite>Scalable Vector Graphics (SVG)
                    2</cite></a>. 2018年10月4日. CR. URL: <a
                href="https://www.w3.org/TR/SVG2/">https://www.w3.org/TR/SVG2/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考情報</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-grid-2">[CSS-GRID-2]
        <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://www.w3.org/TR/css-grid-2/"><cite>CSS Grid
                    Layout Module Level 2</cite></a>. 2020年12月18日. CR. URL: <a
                href="https://www.w3.org/TR/css-grid-2/">https://www.w3.org/TR/css-grid-2/</a>
        <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
        <dd>Florian Rivoal; Rachel Andrew. <a href="https://www.w3.org/TR/css-multicol-1/"><cite>CSS Multi-column Layout
                    Module Level 1</cite></a>. 2021年10月12日. CR. URL: <a
                href="https://www.w3.org/TR/css-multicol-1/">https://www.w3.org/TR/css-multicol-1/</a>
        <dt id="biblio-css-overflow-4">[CSS-OVERFLOW-4]
        <dd>David Baron; Florian Rivoal. <a href="https://www.w3.org/TR/css-overflow-4/"><cite>CSS Overflow Module Level
                    4</cite></a>. 2017年6月13日. WD. URL: <a
                href="https://www.w3.org/TR/css-overflow-4/">https://www.w3.org/TR/css-overflow-4/</a>
        <dt id="biblio-css-page-3">[CSS-PAGE-3]
        <dd>Elika Etemad; Simon Sapin. <a href="https://www.w3.org/TR/css-page-3/"><cite>CSS Paged Media Module Level
                    3</cite></a>. 2018年10月18日. WD. URL: <a
                href="https://www.w3.org/TR/css-page-3/">https://www.w3.org/TR/css-page-3/</a>
        <dt id="biblio-css-regions-1">[CSS-REGIONS-1]
        <dd>Rossen Atanassov; Alan Stearns. <a href="https://www.w3.org/TR/css-regions-1/"><cite>CSS Regions Module
                    Level 1</cite></a>. 2014年10月9日. WD. URL: <a
                href="https://www.w3.org/TR/css-regions-1/">https://www.w3.org/TR/css-regions-1/</a>
        <dt id="biblio-css-sizing-4">[CSS-SIZING-4]
        <dd>Tab Atkins Jr.; Elika Etemad; Jen Simmons. <a href="https://www.w3.org/TR/css-sizing-4/"><cite>CSS Box
                    Sizing Module Level 4</cite></a>. 2021年5月20日. WD. URL: <a
                href="https://www.w3.org/TR/css-sizing-4/">https://www.w3.org/TR/css-sizing-4/</a>
        <dt id="biblio-filter-effects-1">[FILTER-EFFECTS-1]
        <dd>Dirk Schulze; Dean Jackson. <a href="https://www.w3.org/TR/filter-effects-1/"><cite>Filter Effects Module
                    Level 1</cite></a>. 2018年12月18日. WD. URL: <a
                href="https://www.w3.org/TR/filter-effects-1/">https://www.w3.org/TR/filter-effects-1/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">プロパティ索引</span><a
            class="self-link" href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名前
                    <th scope="col">値
                    <th scope="col">初期値
                    <th scope="col">適用対象
                    <th scope="col">継承
                    <th scope="col">%ages
                    <th scope="col">アニメーション型
                    <th scope="col">正規順序
                    <th scope="col">算出値
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-contain"
                            id="ref-for-propdef-contain①⑥">contain</a>
                    <td>none | strict | content | [ size || layout || style || paint ]
                    <td>none
                    <td>下記参照
                    <td>no
                    <td>n/a
                    <td>アニメーション不可
                    <td>文法通り
                    <td>キーワードnoneまたはsize, layout, paintのいずれか
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-content-visibility"
                            id="ref-for-propdef-content-visibility④①">content-visibility</a>
                    <td>visible | auto | hidden
                    <td>visible
                    <td>レイアウト・コンテインメントが適用可能な要素
                    <td>no
                    <td>n/a
                    <td>アニメーション不可
                    <td>文法通り
                    <td>指定通り
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#contentvisibilityautostatechangedevent"><code><c- g>ContentVisibilityAutoStateChangedEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-contentvisibilityautostatechangedeventinit"><c- n>ContentVisibilityAutoStateChangedEventInit</c-></a> <a href="#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-contentvisibilityautostatechangedevent-skipped"><c- g>skipped</c-></a>;
};
<c- b>dictionary</c-> <a href="#dictdef-contentvisibilityautostatechangedeventinit"><code><c- g>ContentVisibilityAutoStateChangedEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-default="false" data-link-type="dict-member" data-type="boolean " href="#dom-contentvisibilityautostatechangedeventinit-skipped"><c- g>skipped</c-></a> = <c- b>false</c->;
};

</pre>
    <aside class="dfn-panel" data-for="propdef-contain">
        <b><a href="#propdef-contain">#propdef-contain</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-propdef-contain①">1.
                    Introduction</a>
            <li><a href="#ref-for-propdef-contain②">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-propdef-contain③">(2)</a> <a
                    href="#ref-for-propdef-contain④">(3)</a> <a href="#ref-for-propdef-contain⑤">(4)</a> <a
                    href="#ref-for-propdef-contain⑥">(5)</a> <a href="#ref-for-propdef-contain⑦">(6)</a> <a
                    href="#ref-for-propdef-contain⑧">(7)</a> <a href="#ref-for-propdef-contain⑨">(8)</a> <a
                    href="#ref-for-propdef-contain①⓪">(9)</a> <a href="#ref-for-propdef-contain①①">(10)</a> <a
                    href="#ref-for-propdef-contain①②">(11)</a> <a href="#ref-for-propdef-contain①③">(12)</a>
            <li><a href="#ref-for-propdef-contain①④">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
            <li><a href="#ref-for-propdef-contain①⑤"> Changes from 2020-06-03 Working Draft </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-contain-none">
        <b><a href="#valdef-contain-none">#valdef-contain-none</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-contain-none">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-contain-strict">
        <b><a href="#valdef-contain-strict">#valdef-contain-strict</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-contain-strict"> Changes from 2020-12-16 Working Draft </a> <a
                    href="#ref-for-valdef-contain-strict①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-contain-content">
        <b><a href="#valdef-contain-content">#valdef-contain-content</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-contain-content"> Changes from 2020-12-16 Working Draft </a> <a
                    href="#ref-for-valdef-contain-content①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-contain-size">
        <b><a href="#valdef-contain-size">#valdef-contain-size</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-contain-size">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-contain-layout">
        <b><a href="#valdef-contain-layout">#valdef-contain-layout</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-contain-layout">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-contain-paint">
        <b><a href="#valdef-contain-paint">#valdef-contain-paint</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-contain-paint">2.
                    Strong Containment: the contain property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="containment">
        <b><a href="#containment">#containment</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-containment">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-containment①">(2)</a> <a
                    href="#ref-for-containment②">(3)</a> <a href="#ref-for-containment③">(4)</a>
            <li><a href="#ref-for-containment④">3.
                    Types of Containment</a>
            <li><a href="#ref-for-containment⑤">4. Suppressing An Element’s Contents Entirely: the content-visibility
                    property</a> <a href="#ref-for-containment⑥">(2)</a> <a href="#ref-for-containment⑦">(3)</a>
            <li><a href="#ref-for-containment⑧">4.1.
                    Using content-visibility: hidden</a>
            <li><a href="#ref-for-containment⑨">4.2.
                    Using content-visibility: auto</a> <a href="#ref-for-containment①⓪">(2)</a> <a
                    href="#ref-for-containment①①">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="size-containment">
        <b><a href="#size-containment">#size-containment</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-size-containment">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-size-containment①">(2)</a> <a
                    href="#ref-for-size-containment②">(3)</a>
            <li><a href="#ref-for-size-containment③">3.1.
                    Size Containment</a> <a href="#ref-for-size-containment④">(2)</a>
            <li><a href="#ref-for-size-containment⑤">3.1.1.
                    Possible Size-Containment Optimizations</a>
            <li><a href="#ref-for-size-containment⑥">3.2.1.
                    Possible Layout-Containment Optimizations</a>
            <li><a href="#ref-for-size-containment⑦">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a> <a href="#ref-for-size-containment⑧">(2)</a>
            <li><a href="#ref-for-size-containment⑨">4.2.
                    Using content-visibility: auto</a>
            <li><a href="#ref-for-size-containment①⓪">4.4. Restrictions and Clarifications</a> <a
                    href="#ref-for-size-containment①①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="size-containment-box">
        <b><a href="#size-containment-box">#size-containment-box</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-size-containment-box">2.
                    Strong Containment: the contain property</a>
            <li><a href="#ref-for-size-containment-box①">3.1.
                    Size Containment</a> <a href="#ref-for-size-containment-box②">(2)</a> <a
                    href="#ref-for-size-containment-box③">(3)</a> <a href="#ref-for-size-containment-box④">(4)</a> <a
                    href="#ref-for-size-containment-box⑤">(5)</a> <a href="#ref-for-size-containment-box⑥">(6)</a> <a
                    href="#ref-for-size-containment-box⑦">(7)</a>
            <li><a href="#ref-for-size-containment-box⑧">3.1.1.
                    Possible Size-Containment Optimizations</a> <a href="#ref-for-size-containment-box⑨">(2)</a> <a
                    href="#ref-for-size-containment-box①⓪">(3)</a> <a href="#ref-for-size-containment-box①①">(4)</a> <a
                    href="#ref-for-size-containment-box①②">(5)</a> <a href="#ref-for-size-containment-box①③">(6)</a> <a
                    href="#ref-for-size-containment-box①④">(7)</a> <a href="#ref-for-size-containment-box①⑤">(8)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="sizing-as-if-empty">
        <b><a href="#sizing-as-if-empty">#sizing-as-if-empty</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sizing-as-if-empty">3.1.
                    Size Containment</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="laying-out-in-place">
        <b><a href="#laying-out-in-place">#laying-out-in-place</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-laying-out-in-place">3.1.1.
                    Possible Size-Containment Optimizations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="layout-containment">
        <b><a href="#layout-containment">#layout-containment</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-layout-containment">2.
                    Strong Containment: the contain property</a> <a href="#ref-for-layout-containment①">(2)</a>
            <li><a href="#ref-for-layout-containment②">3.1.
                    Size Containment</a>
            <li><a href="#ref-for-layout-containment③">3.1.1.
                    Possible Size-Containment Optimizations</a>
            <li><a href="#ref-for-layout-containment④">3.2.
                    Layout Containment</a> <a href="#ref-for-layout-containment⑤">(2)</a> <a
                    href="#ref-for-layout-containment⑥">(3)</a> <a href="#ref-for-layout-containment⑦">(4)</a> <a
                    href="#ref-for-layout-containment⑧">(5)</a>
            <li><a href="#ref-for-layout-containment⑨">3.2.1.
                    Possible Layout-Containment Optimizations</a>
            <li><a href="#ref-for-layout-containment①⓪">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a> <a href="#ref-for-layout-containment①①">(2)</a> <a
                    href="#ref-for-layout-containment①②">(3)</a> <a href="#ref-for-layout-containment①③">(4)</a> <a
                    href="#ref-for-layout-containment①④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="layout-containment-box">
        <b><a href="#layout-containment-box">#layout-containment-box</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-layout-containment-box">2.
                    Strong Containment: the contain property</a>
            <li><a href="#ref-for-layout-containment-box①">3.2.
                    Layout Containment</a> <a href="#ref-for-layout-containment-box②">(2)</a> <a
                    href="#ref-for-layout-containment-box③">(3)</a> <a href="#ref-for-layout-containment-box④">(4)</a>
                <a href="#ref-for-layout-containment-box⑤">(5)</a> <a href="#ref-for-layout-containment-box⑥">(6)</a> <a
                    href="#ref-for-layout-containment-box⑦">(7)</a> <a href="#ref-for-layout-containment-box⑧">(8)</a>
                <a href="#ref-for-layout-containment-box⑨">(9)</a>
            <li><a href="#ref-for-layout-containment-box①⓪">3.2.1.
                    Possible Layout-Containment Optimizations</a> <a href="#ref-for-layout-containment-box①①">(2)</a> <a
                    href="#ref-for-layout-containment-box①②">(3)</a> <a href="#ref-for-layout-containment-box①③">(4)</a>
                <a href="#ref-for-layout-containment-box①④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="style-containment">
        <b><a href="#style-containment">#style-containment</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-style-containment">2.
                    Strong Containment: the contain property</a>
            <li><a href="#ref-for-style-containment①">3.3.
                    Style Containment</a>
            <li><a href="#ref-for-style-containment②">3.3.1.
                    Possible Style-Containment Optimizations</a> <a href="#ref-for-style-containment③">(2)</a> <a
                    href="#ref-for-style-containment④">(3)</a>
            <li><a href="#ref-for-style-containment⑤">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a> <a href="#ref-for-style-containment⑥">(2)</a> <a
                    href="#ref-for-style-containment⑦">(3)</a> <a href="#ref-for-style-containment⑧">(4)</a>
            <li><a href="#ref-for-style-containment⑨"> Changes from 2020-12-16 Working Draft </a>
            <li><a href="#ref-for-style-containment①⓪"> Changes from CSS Containment Level 1 </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="property-scoped-to-a-sub-tree">
        <b><a href="#property-scoped-to-a-sub-tree">#property-scoped-to-a-sub-tree</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-property-scoped-to-a-sub-tree">3.3.
                    Style Containment</a> <a href="#ref-for-property-scoped-to-a-sub-tree①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="paint-containment">
        <b><a href="#paint-containment">#paint-containment</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-paint-containment">2.
                    Strong Containment: the contain property</a>
            <li><a href="#ref-for-paint-containment①">3.4.
                    Paint Containment</a> <a href="#ref-for-paint-containment②">(2)</a>
            <li><a href="#ref-for-paint-containment③">3.4.1.
                    Possible Paint-Containment Optimizations</a> <a href="#ref-for-paint-containment④">(2)</a>
            <li><a href="#ref-for-paint-containment⑤">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a> <a href="#ref-for-paint-containment⑥">(2)</a> <a
                    href="#ref-for-paint-containment⑦">(3)</a> <a href="#ref-for-paint-containment⑧">(4)</a>
            <li><a href="#ref-for-paint-containment⑨"> Changes from 2019-11-11 Working Draft </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="paint-containment-box">
        <b><a href="#paint-containment-box">#paint-containment-box</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-paint-containment-box">2.
                    Strong Containment: the contain property</a>
            <li><a href="#ref-for-paint-containment-box①">3.4.
                    Paint Containment</a> <a href="#ref-for-paint-containment-box②">(2)</a> <a
                    href="#ref-for-paint-containment-box③">(3)</a> <a href="#ref-for-paint-containment-box④">(4)</a>
            <li><a href="#ref-for-paint-containment-box⑤">3.4.1.
                    Possible Paint-Containment Optimizations</a>
            <li><a href="#ref-for-paint-containment-box⑥">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="propdef-content-visibility">
        <b><a href="#propdef-content-visibility">#propdef-content-visibility</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-propdef-content-visibility">1.
                    Introduction</a>
            <li><a href="#ref-for-propdef-content-visibility①">2.
                    Strong Containment: the contain property</a>
            <li><a href="#ref-for-propdef-content-visibility②">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a> <a href="#ref-for-propdef-content-visibility③">(2)</a> <a
                    href="#ref-for-propdef-content-visibility④">(3)</a> <a
                    href="#ref-for-propdef-content-visibility⑤">(4)</a> <a
                    href="#ref-for-propdef-content-visibility⑥">(5)</a>
            <li><a href="#ref-for-propdef-content-visibility⑦">4.1.
                    Using content-visibility: hidden</a> <a href="#ref-for-propdef-content-visibility⑧">(2)</a> <a
                    href="#ref-for-propdef-content-visibility⑨">(3)</a> <a
                    href="#ref-for-propdef-content-visibility①⓪">(4)</a> <a
                    href="#ref-for-propdef-content-visibility①①">(5)</a> <a
                    href="#ref-for-propdef-content-visibility①②">(6)</a>
            <li><a href="#ref-for-propdef-content-visibility①③">4.2.
                    Using content-visibility: auto</a> <a href="#ref-for-propdef-content-visibility①④">(2)</a> <a
                    href="#ref-for-propdef-content-visibility①⑤">(3)</a> <a
                    href="#ref-for-propdef-content-visibility①⑥">(4)</a> <a
                    href="#ref-for-propdef-content-visibility①⑦">(5)</a> <a
                    href="#ref-for-propdef-content-visibility①⑧">(6)</a> <a
                    href="#ref-for-propdef-content-visibility①⑨">(7)</a> <a
                    href="#ref-for-propdef-content-visibility②⓪">(8)</a>
            <li><a href="#ref-for-propdef-content-visibility②①">4.3. Detecting content-visibility: auto state changes:
                    the contentvisibilityautostatechanged event</a> <a
                    href="#ref-for-propdef-content-visibility②②">(2)</a> <a
                    href="#ref-for-propdef-content-visibility②③">(3)</a>
            <li><a href="#ref-for-propdef-content-visibility②④">4.4. Restrictions and Clarifications</a> <a
                    href="#ref-for-propdef-content-visibility②⑤">(2)</a> <a
                    href="#ref-for-propdef-content-visibility②⑥">(3)</a> <a
                    href="#ref-for-propdef-content-visibility②⑦">(4)</a> <a
                    href="#ref-for-propdef-content-visibility②⑧">(5)</a> <a
                    href="#ref-for-propdef-content-visibility②⑨">(6)</a> <a
                    href="#ref-for-propdef-content-visibility③⓪">(7)</a> <a
                    href="#ref-for-propdef-content-visibility③①">(8)</a>
            <li><a href="#ref-for-propdef-content-visibility③②">4.5. Accessibility Implications</a> <a
                    href="#ref-for-propdef-content-visibility③③">(2)</a> <a
                    href="#ref-for-propdef-content-visibility③④">(3)</a>
            <li><a href="#ref-for-propdef-content-visibility③⑤">4.6. Examples</a> <a
                    href="#ref-for-propdef-content-visibility③⑥">(2)</a> <a
                    href="#ref-for-propdef-content-visibility③⑦">(3)</a>
            <li><a href="#ref-for-propdef-content-visibility③⑧"> Changes from 2020-12-16 Working Draft </a>
            <li><a href="#ref-for-propdef-content-visibility③⑨"> Changes from 2020-06-03 Working Draft </a>
            <li><a href="#ref-for-propdef-content-visibility④⓪"> Changes from 2019-11-11 Working Draft </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-content-visibility-hidden">
        <b><a href="#valdef-content-visibility-hidden">#valdef-content-visibility-hidden</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-content-visibility-hidden">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
            <li><a href="#ref-for-valdef-content-visibility-hidden①">4.2.
                    Using content-visibility: auto</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="skips-its-contents">
        <b><a href="#skips-its-contents">#skips-its-contents</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-skips-its-contents">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a> <a href="#ref-for-skips-its-contents①">(2)</a> <a
                    href="#ref-for-skips-its-contents②">(3)</a> <a href="#ref-for-skips-its-contents③">(4)</a> <a
                    href="#ref-for-skips-its-contents④">(5)</a> <a href="#ref-for-skips-its-contents⑤">(6)</a> <a
                    href="#ref-for-skips-its-contents⑥">(7)</a> <a href="#ref-for-skips-its-contents⑦">(8)</a>
            <li><a href="#ref-for-skips-its-contents⑧">4.1.
                    Using content-visibility: hidden</a> <a href="#ref-for-skips-its-contents⑨">(2)</a> <a
                    href="#ref-for-skips-its-contents①⓪">(3)</a>
            <li><a href="#ref-for-skips-its-contents①①">4.2.
                    Using content-visibility: auto</a> <a href="#ref-for-skips-its-contents①②">(2)</a> <a
                    href="#ref-for-skips-its-contents①③">(3)</a> <a href="#ref-for-skips-its-contents①④">(4)</a> <a
                    href="#ref-for-skips-its-contents①⑤">(5)</a> <a href="#ref-for-skips-its-contents①⑥">(6)</a> <a
                    href="#ref-for-skips-its-contents①⑦">(7)</a> <a href="#ref-for-skips-its-contents①⑧">(8)</a> <a
                    href="#ref-for-skips-its-contents①⑨">(9)</a> <a href="#ref-for-skips-its-contents②⓪">(10)</a>
            <li><a href="#ref-for-skips-its-contents②①">4.3. Detecting content-visibility: auto state changes: the
                    contentvisibilityautostatechanged event</a> <a href="#ref-for-skips-its-contents②②">(2)</a> <a
                    href="#ref-for-skips-its-contents②③">(3)</a>
            <li><a href="#ref-for-skips-its-contents②④">4.4. Restrictions and Clarifications</a> <a
                    href="#ref-for-skips-its-contents②⑤">(2)</a> <a href="#ref-for-skips-its-contents②⑥">(3)</a> <a
                    href="#ref-for-skips-its-contents②⑦">(4)</a> <a href="#ref-for-skips-its-contents②⑧">(5)</a> <a
                    href="#ref-for-skips-its-contents②⑨">(6)</a> <a href="#ref-for-skips-its-contents③⓪">(7)</a> <a
                    href="#ref-for-skips-its-contents③①">(8)</a> <a href="#ref-for-skips-its-contents③②">(9)</a> <a
                    href="#ref-for-skips-its-contents③③">(10)</a> <a href="#ref-for-skips-its-contents③④">(11)</a> <a
                    href="#ref-for-skips-its-contents③⑤">(12)</a> <a href="#ref-for-skips-its-contents③⑥">(13)</a> <a
                    href="#ref-for-skips-its-contents③⑦">(14)</a> <a href="#ref-for-skips-its-contents③⑧">(15)</a> <a
                    href="#ref-for-skips-its-contents③⑨">(16)</a> <a href="#ref-for-skips-its-contents④⓪">(17)</a> <a
                    href="#ref-for-skips-its-contents④①">(18)</a> <a href="#ref-for-skips-its-contents④②">(19)</a> <a
                    href="#ref-for-skips-its-contents④③">(20)</a> <a href="#ref-for-skips-its-contents④④">(21)</a> <a
                    href="#ref-for-skips-its-contents④⑤">(22)</a> <a href="#ref-for-skips-its-contents④⑥">(23)</a> <a
                    href="#ref-for-skips-its-contents④⑦">(24)</a> <a href="#ref-for-skips-its-contents④⑧">(25)</a> <a
                    href="#ref-for-skips-its-contents④⑨">(26)</a>
            <li><a href="#ref-for-skips-its-contents⑤⓪">4.5. Accessibility Implications</a> <a
                    href="#ref-for-skips-its-contents⑤①">(2)</a> <a href="#ref-for-skips-its-contents⑤②">(3)</a>
            <li><a href="#ref-for-skips-its-contents⑤③">4.6. Examples</a> <a
                    href="#ref-for-skips-its-contents⑤④">(2)</a> <a href="#ref-for-skips-its-contents⑤⑤">(3)</a> <a
                    href="#ref-for-skips-its-contents⑤⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="element-contents">
        <b><a href="#element-contents">#element-contents</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-element-contents">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a> <a href="#ref-for-element-contents①">(2)</a> <a
                    href="#ref-for-element-contents②">(3)</a>
            <li><a href="#ref-for-element-contents③">4.6. Examples</a> <a href="#ref-for-element-contents④">(2)</a> <a
                    href="#ref-for-element-contents⑤">(3)</a> <a href="#ref-for-element-contents⑥">(4)</a> <a
                    href="#ref-for-element-contents⑦">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="relevant-to-the-user">
        <b><a href="#relevant-to-the-user">#relevant-to-the-user</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-relevant-to-the-user">4. Suppressing An Element’s Contents Entirely: the
                    content-visibility property</a>
            <li><a href="#ref-for-relevant-to-the-user①">4.2.
                    Using content-visibility: auto</a> <a href="#ref-for-relevant-to-the-user②">(2)</a>
            <li><a href="#ref-for-relevant-to-the-user③">4.3. Detecting content-visibility: auto state changes: the
                    contentvisibilityautostatechanged event</a>
            <li><a href="#ref-for-relevant-to-the-user④">4.4. Restrictions and Clarifications</a>
            <li><a href="#ref-for-relevant-to-the-user⑤"> Changes from 2020-12-16 Working Draft </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="eventdef-element-contentvisibilityautostatechanged">
        <b><a
                href="#eventdef-element-contentvisibilityautostatechanged">#eventdef-element-contentvisibilityautostatechanged</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventdef-element-contentvisibilityautostatechanged">4.3. Detecting content-visibility:
                    auto state changes: the contentvisibilityautostatechanged event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-contentvisibilityautostatechangedeventinit">
        <b><a
                href="#dictdef-contentvisibilityautostatechangedeventinit">#dictdef-contentvisibilityautostatechangedeventinit</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-contentvisibilityautostatechangedeventinit">4.3. Detecting content-visibility:
                    auto state changes: the contentvisibilityautostatechanged event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-contentvisibilityautostatechangedevent-skipped">
        <b><a
                href="#dom-contentvisibilityautostatechangedevent-skipped">#dom-contentvisibilityautostatechangedevent-skipped</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-contentvisibilityautostatechangedevent-skipped">4.3. Detecting content-visibility:
                    auto state changes: the contentvisibilityautostatechanged event</a> <a
                    href="#ref-for-dom-contentvisibilityautostatechangedevent-skipped①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-contentvisibilityautostatechangedeventinit-skipped">
        <b><a
                href="#dom-contentvisibilityautostatechangedeventinit-skipped">#dom-contentvisibilityautostatechangedeventinit-skipped</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-contentvisibilityautostatechangedeventinit-skipped">4.3. Detecting
                    content-visibility: auto state changes: the contentvisibilityautostatechanged event</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>