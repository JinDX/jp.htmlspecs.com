<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS カラーモジュール レベル 5</title>
    <meta content="WD" name="w3c-status">
    <!-- <meta content="Bikeshed version 4b8aed3f7, updated Thu Mar 6 12:35:01 2025 -0800" name="generator"> -->
    <link href="https://www.w3.org/TR/css-color-5/" rel="canonical">
    <!-- <meta content="2e37f85c673df18fb79998c96124aab9d87e321f" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <link href="https://www.w3.org/TR/css-color-5/style.css" rel="stylesheet">
    <style>
        table.deltaE td {
            border: 4px solid white;
            padding: 6px;
            font-size: 1.4em;
            color: black;
        }

        table.deltaE td.dE0 {
            background: rgb(68, 243, 91)
        }

        table.deltaE td.dE1 {
            background: rgb(153, 243, 68)
        }

        table.deltaE td.dE2 {
            background: rgb(217, 243, 68)
        }

        table.deltaE td.dE3 {
            background: rgb(243, 240, 68)
        }

        table.deltaE td.dE4 {
            background: rgb(243, 202, 68)
        }

        table.deltaE td.dE5 {
            background: rgb(243, 103, 68);
            color: white
        }

        table.deltaE th {
            text-align: center
        }

        /* work-around for https://github.com/tabatkins/bikeshed/issues/1799 */
        div.example,
        div.example pre {
            overflow: visible;
        }

        div.example>a.self-link::before {
            content: "¶";
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS カラーモジュール レベル 5</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#WD">W3C 作業草案</a>, <time class="dt-updated"
                datetime="2026-01-13">2026年1月13日</time></p>
        <details open>
            <summary>この文書の詳細情報</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>このバージョン:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2026/WD-css-color-5-20260113/">https://www.w3.org/TR/2026/WD-css-color-5-20260113/</a>
                    <dt>最新公開バージョン:
                    <dd><a href="https://www.w3.org/TR/css-color-5/">https://www.w3.org/TR/css-color-5/</a>
                    <dt>編集者ドラフト:
                    <dd><a href="https://drafts.csswg.org/css-color-5/">https://drafts.csswg.org/css-color-5/</a>
                    <dt>以前のバージョン:
                    <dd><a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/"
                            rel="prev">https://www.w3.org/TR/2024/WD-css-color-5-20240229/</a>
                    <dt>履歴:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-color-5/">https://www.w3.org/standards/history/css-color-5/</a>
                    <dt>フィードバック:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-color-5">CSSWG 問題リポジトリ</a>
                    <dt class="editor">編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="1438"><a class="p-name fn u-url url"
                            href="https://svgees.us/">Chris Lilley</a> (<span class="p-org org">W3C</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="115525"><a class="p-name fn u-url url"
                            href="https://una.im">Una Kravets</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="52258"><a class="p-name fn u-url url"
                            href="https://lea.verou.me/about">Lea Verou</a> (<span class="p-org org">招待された専門家</span>)
                    <dt class="editor">前編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="112669"><a class="p-name fn u-url url"
                            href="https://nerdy.dev">Adam Argyle</a> (<span class="p-org org">Google</span>)
                    <dt>この仕様の編集提案:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-color-5/Overview.bs">GitHub
                            編集者</a>
                    <dt>デルタ仕様:
                    <dd>はい
                    <dt>テストスイート:
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/css/css-color/">https://wpt.fyi/results/css/css-color/</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2026 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p>このモジュールは、CSS Color <a data-link-type="biblio" href="#biblio-css-color-4"
                title="CSS Color Module Level 4">[css-color-4]</a>
            を拡張し、色の変更関数、カスタムカラースペース（ICCプロファイル）、contrast-color()、light-dark()、およびdevice-cmyk()を追加します。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> は、構造化された文書（HTMLやXMLなど）の画面や紙などでのレンダリングを記述するための言語です。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">この文書の状態</span></h2>
    <div data-fill-with="status">
        <p><em>このセクションでは、公開時点での本書の状況について説明します。
                現在のW3C公開物の一覧や、本技術レポートの最新版は
                <a href="https://www.w3.org/TR/">W3C標準およびドラフト一覧</a>で確認できます。</em> </p>
        <p> この文書は
            <a href="https://www.w3.org/groups/wg/css">CSS作業グループ</a>によって
            <strong>作業草案</strong>として
            <a href="https://www.w3.org/policies/process/20250818/#recs-and-notes">勧告プロセス</a>
            を用いて公開されました。
            作業草案として公開されたことは
            <abbr title="World Wide Web Consortium">W3C</abbr>及びそのメンバーによる支持を意味するものではありません。
        </p>
        <p> この文書は草案であり、
            今後いつでも更新、置換、
            あるいは他の文書によって廃止される可能性があります。
            本書を進行中の作業以外の文献として引用するのは不適切です。</p>
        <p>フィードバックは
            <a href="https://github.com/w3c/csswg-drafts/issues">GitHubでissueを提出</a>（推奨）することで送信できます。
            タイトルに仕様コード「css-color」を含めてください、例:
            “[css-color] <i>…コメント要約…</i>”。
            全てのissueやコメントは<a href="https://lists.w3.org/Archives/Public/public-css-archive/">アーカイブ</a>されています。
            または (<a href="https://lists.w3.org/Archives/Public/www-style/">アーカイブ</a>あり)
            公開メーリングリスト<a
                href="mailto:www-style@w3.org?Subject=%5Bcss-color%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>へ送信も可能です。
        </p>
        <p>本書は
            <a href="https://www.w3.org/policies/process/20250818/"
                id="w3c_process_revision">2025年8月18日W3Cプロセス文書</a>に準拠しています。
        </p>
        <p>本書は、
            <a href="https://www.w3.org/policies/patent-policy/20200915/">W3C特許ポリシー</a>の下で活動するグループによって作成されています。
            W3Cはグループの成果物に関して
            <a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">公開特許開示一覧</a>
            を管理しています。
            そのページには特許の開示方法も記載されています。
            個人が特許で
            <a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">必須クレーム</a>を含むと認識した場合は、
            <a
                href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">W3C特許ポリシー第6節</a>に従い情報開示をする必要があります。
        </p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">はじめに</span></a>
            <li><a href="#color-syntax"><span class="secno">2</span> <span class="content"><span
                            class="production">&lt;color></span> 構文</span></a>
            <li>
                <a href="#color-mix"><span class="secno">3</span> <span class="content">色の混合: <span
                            class="css">color-mix()</span> 関数</span></a>
                <ol class="toc">
                    <li><a href="#color-mix-space"><span class="secno">3.1</span> <span class="content"> 混合用のカラー空間
                            </span></a>
                    <li><a href="#color-mix-percent-norm"><span class="secno">3.2</span> <span class="content"> 割合の正規化
                            </span></a>
                    <li><a href="#color-mix-result"><span class="secno">3.3</span> <span class="content">
                                color-mixの結果の計算 </span></a>
                    <li><a href="#color-mix-color-space-effect"><span class="secno">3.4</span> <span class="content">
                                color-mixにおける混合カラー空間の影響 </span></a>
                    <li><a href="#color-mix-with-alpha"><span class="secno">3.5</span> <span class="content">
                                color-mixにおける非ユニティアルファの影響 </span></a>
                </ol>
            <li>
                <a href="#relative-colors"><span class="secno">4</span> <span class="content"> 相対色 </span></a>
                <ol class="toc">
                    <li><a href="#rcs-intro"><span class="secno">4.1</span> <span class="content"> 相対色の処理モデル </span></a>
                    <li><a href="#relative-syntax"><span class="secno">4.2</span> <span class="content"> 相対色構文
                            </span></a>
                    <li><a href="#relative-RGB"><span class="secno">4.3</span> <span class="content">相対 sRGB
                                色</span></a>
                    <li><a href="#relative-HSL"><span class="secno">4.4</span> <span class="content">相対 HSL 色</span></a>
                    <li><a href="#relative-HWB"><span class="secno">4.5</span> <span class="content">相対 HWB 色</span></a>
                    <li><a href="#relative-Lab"><span class="secno">4.6</span> <span class="content">相対 Lab 色</span></a>
                    <li><a href="#relative-Oklab"><span class="secno">4.7</span> <span class="content">相対 Oklab
                                色</span></a>
                    <li><a href="#relative-LCH"><span class="secno">4.8</span> <span class="content">相対 LCH 色</span></a>
                    <li><a href="#relative-OkLCh"><span class="secno">4.9</span> <span class="content">相対 OkLCh
                                色</span></a>
                    <li><a href="#relative-alpha"><span class="secno">4.10</span> <span
                                class="content">相対アルファ色</span></a>
                </ol>
            <li>
                <a href="#color-function"><span class="secno">5</span> <span class="content"> 事前定義およびカスタム色空間の指定: <span
                            class="css">color()</span> 関数 </span></a>
                <ol class="toc">
                    <li><a href="#relative-color-function"><span class="secno">5.1</span> <span class="content">相対
                                color() 関数色</span></a>
                    <li><a href="#custom-color"><span class="secno">5.2</span> <span class="content"> カスタム色空間
                            </span></a>
                    <li><a href="#at-profile"><span class="secno">5.3</span> <span class="content"> 色プロファイルの指定: <span
                                    class="css">@color-profile</span> at規則 </span></a>
                    <li><a href="#cal-cmyk"><span class="secno">5.4</span> <span class="content">
                                CSSと印刷：キャリブレーションCMYKやその他の印刷用色空間の利用 </span></a>
                    <li><a href="#cmyk-to-lab"><span class="secno">5.5</span> <span class="content"> CMYK色からLabへの変換
                            </span></a>
                    <li><a href="#lab-to-cmyk"><span class="secno">5.6</span> <span class="content"> Lab色からCMYKへの変換
                            </span></a>
                </ol>
            <li>
                <a href="#device-cmyk"><span class="secno">6</span> <span class="content"> 較正されていないCMYKカラー: <span
                            class="css">device-cmyk()</span> 関数 </span></a>
                <ol class="toc">
                    <li><a href="#cmyk-rgb"><span class="secno">6.1</span> <span class="content">
                                非キャリブレーションCMYKとsRGB系色の単純変換 </span></a>
                </ol>
            <li><a href="#light-dark"><span class="secno">7</span> <span class="content"> 使用中のcolor-schemeへの反応: <span
                            class="css">light-dark()</span> 関数 </span></a>
            <li><a href="#contrast-color"><span class="secno">8</span> <span class="content"> 動的に十分なコントラストを持つテキスト色を指定する:
                        <span class="css">contrast-color()</span> 関数 </span></a>
            <li>
                <a href="#interpolation"><span class="secno">9</span> <span class="content"> 色の補間</span></a>
                <ol class="toc">
                    <li><a href="#interpolation-space"><span class="secno">9.1</span> <span class="content">
                                補間用の色空間</span></a>
                </ol>
            <li>
                <a href="#resolving-color-values"><span class="secno">10</span> <span class="content"> <span
                            class="production">&lt;color></span> 値の解決 </span></a>
                <ol class="toc">
                    <li><a href="#resolving-mix"><span class="secno">10.1</span> <span class="content"> <span
                                    class="css">color-mix()</span> 値の解決 </span></a>
                    <li><a href="#resolving-rcs"><span class="secno">10.2</span> <span class="content"> 相対色構文値の解決
                            </span></a>
                    <li><a href="#resolving-device-cmyk-values"><span class="secno">10.3</span> <span class="content">
                                <span class="css">device-cmyk</span> 値の解決 </span></a>
                </ol>
            <li>
                <a href="#serial"><span class="secno">11</span> <span class="content"> シリアライズ </span></a>
                <ol class="toc">
                    <li><a href="#serial-color-mix"><span class="secno">11.1</span> <span class="content"> color-mix()
                                のシリアライズ </span></a>
                    <li><a href="#serial-origin-color"><span class="secno">11.2</span> <span class="content">
                                元色のシリアライズ </span></a>
                    <li><a href="#serial-relative-color"><span class="secno">11.3</span> <span class="content">
                                相対色関数のシリアライズ </span></a>
                    <li><a href="#serial-custom-color"><span class="secno">11.4</span> <span class="content">
                                カスタム色空間のシリアライズ </span></a>
                    <li><a href="#serializing-device-cmyk-values"><span class="secno">11.5</span> <span class="content">
                                <span class="css">device-cmyk</span> 値のシリアライズ </span></a>
                </ol>
            <li>
                <a href="#apis"><span class="secno">12</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li><a href="#the-csscolorprofilerule-interface"><span class="secno">12.1</span> <span
                                class="content"><code>CSSColorProfileRule</code> インターフェイス</span></a>
                </ol>
            <li><a href="#sample"><span class="secno">13</span> <span class="content"> デフォルトスタイル規則 </span></a>
            <li><a href="#color-conversion-code"><span class="secno">14</span> <span class="content">
                        色変換のサンプルコード</span></a>
            <li><a href="#security"><span class="secno">15</span> <span class="content"> セキュリティに関する考慮事項
                    </span></a>
            <li><a href="#privacy"><span class="secno">16</span> <span class="content"> プライバシーに関する考慮事項
                    </span></a>
            <li><a href="#a11y-sec"><span class="secno">17</span> <span class="content">アクセシビリティに関する考慮事項
                    </span></a>
            <li>
                <a href="#changes"><span class="secno">18</span> <span class="content"> 変更点 </span></a>
                <ol class="toc">
                    <li><a href="#changes-20250318"><span class="secno">18.1</span> <span class="content">
                                <span>2025年3月18日作業草案</span>以降 </span></a>
                    <li><a href="#changes-20240229"><span class="secno">18.2</span> <span class="content">
                                <span>2024年2月29日作業草案</span>以降 </span></a>
                    <li><a href="#changes-20220628"><span class="secno">18.3</span> <span class="content">
                                <span>2022年6月28日作業草案</span>以降 </span></a>
                    <li><a href="#changes-20220428"><span class="secno">18.4</span> <span class="content">
                                <span>2022年4月28日作業草案</span>以降 </span></a>
                    <li><a href="#changes-20211215"><span class="secno">18.5</span> <span class="content">
                                <span>2021年12月15日作業草案</span>以降 </span></a>
                    <li><a href="#changes-20210601"><span class="secno">18.6</span> <span class="content">
                                <span>2021年6月1日作業草案</span>以降 </span></a>
                    <li><a href="#changes-20200303"><span class="secno">18.7</span> <span class="content">
                                <span>2020年6月10日FPWD</span>以降 </span></a>
                    <li><a href="#changes-from-4"><span class="secno">18.8</span> <span class="content"> CSS Color
                                4からの変更点 </span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> 適合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> 文書上の慣例</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                適合性クラス</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> 部分実装</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> 不安定機能・独自拡張の実装</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> 非実験的実装</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義されている用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照によって定義される用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範的参考文献</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考情報</span></a>
                </ol>
            <li>
                <a href="#property-index"><span class="secno"></span> <span class="content">プロパティ索引</span></a>
                <ol class="toc">
                    <li><a href="#color-profile-descriptor-table"><span class="secno"></span> <span
                                class="content"><span>@color-profile</span> ディスクリプタ一覧</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>
    <main>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                for (let e of document.querySelectorAll(".swatch")) {
                    e.tabIndex = "0";
                    const swatchColor = getComputedStyle(e).getPropertyValue("--color");

                    if (!CSS.supports('color', swatchColor)) {
                        e.style.background = "repeating-linear-gradient(135deg, red 0, red 4px, white 4px, white 8px)";
                        e.setAttribute("title", "Your browser does not recognize this color value, so we can't preview it.");
                    }
                }
            });
        </script>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">はじめに</span><a class="self-link" href="#intro"></a></h2>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p>このモジュールは、新しい関数 <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color">contrast-color()</a>、<a class="css" data-link-type="maybe"
                href="#funcdef-color-mix" id="ref-for-funcdef-color-mix">color-mix()</a>、および <a class="css"
                data-link-type="maybe" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark">light-dark()</a>
            を追加し、既存のものを <a href="#relative-colors">相対色構文</a>で拡張します。</p>
        <p>また、<a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color">color()</a>
            関数を拡張し、事前定義されたカラースペースだけでなく、ICCプロファイルで定義されたカスタムカラースペース（校正されたCMYKを含む）もCSSで使用できるようにします。</p>
        <p>さらに、<span class="css">device-cmyk</span> を追加し、校正されていないCMYK色を表現します。</p>
        <h2 class="heading settled" data-level="2" id="color-syntax"><span class="secno">2. </span><span
                class="content"><a class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color">&lt;color></a> 構文</span><a class="self-link" href="#color-syntax"></a>
        </h2>
        <p>CSSの色は、<dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-color"><a
                    class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color①">&lt;color></a></dfn> 型で表現されます:</p>
        <pre class="prod">&lt;color> = <a class="production" data-link-type="type" href="#typedef-color-base" id="ref-for-typedef-color-base">&lt;color-base></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> currentColor <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-system-color" id="ref-for-typedef-system-color">&lt;system-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> 
      <a class="production" data-link-type="function" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color①">&lt;contrast-color()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production" data-link-type="function" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk">&lt;device-cmyk()></a>  <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production" data-link-type="function" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark①">&lt;light-dark()></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-base">&lt;color-base></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hex-color" id="ref-for-typedef-hex-color">&lt;hex-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> <a class="production" data-link-type="type" href="#typedef-color-function" id="ref-for-typedef-color-function">&lt;color-function></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-named-color" id="ref-for-typedef-named-color">&lt;named-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> <a class="production" data-link-type="function" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①">&lt;color-mix()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> transparent
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-function">&lt;color-function></dfn> = <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb">&lt;rgb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba">&lt;rgba()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a>
              <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl">&lt;hsl()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla">&lt;hsla()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> <a class="production" data-link-type="function" href="#funcdef-hwb" id="ref-for-funcdef-hwb">&lt;hwb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a>
              <a class="production" data-link-type="function" href="#funcdef-lab" id="ref-for-funcdef-lab">&lt;lab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> <a class="production" data-link-type="function" href="#funcdef-lch" id="ref-for-funcdef-lch">&lt;lch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> <a class="production" data-link-type="function" href="#funcdef-oklab" id="ref-for-funcdef-oklab">&lt;oklab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> <a class="production" data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch">&lt;oklch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a>
              <a class="production" data-link-type="function" href="#funcdef-alpha" id="ref-for-funcdef-alpha">&lt;alpha()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a>
              <a class="production" data-link-type="function" href="#funcdef-color" id="ref-for-funcdef-color①">&lt;color()></a>
</pre>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="absolute-color">絶対色</dfn>は、計算された値が絶対的な色彩測定解釈を持つ
            <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②">&lt;color></a> です。
            これは、次の値ではないことを意味します:
        </p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                        id="ref-for-valdef-color-currentcolor">currentColor</a>（<a class="property css"
                        data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color"
                        id="ref-for-propdef-color">color</a>
                    プロパティの値に依存します）</p>
            <li data-md>
                <p><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-4/#typedef-system-color"
                        id="ref-for-typedef-system-color①">&lt;system-color></a>（カラーモードに依存します）</p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-light-dark"
                        id="ref-for-funcdef-light-dark②">&lt;light-dark()></a>（カラーモードに依存します）</p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-contrast-color"
                        id="ref-for-funcdef-contrast-color②">&lt;contrast-color()></a>（カラーモードに依存します）
                </p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-device-cmyk"
                        id="ref-for-funcdef-device-cmyk①">&lt;device-cmyk()></a>（色彩測定基準がありません）</p>
        </ul>
        <p>また、<a class="production css" data-link-type="function" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix②">&lt;color-mix()></a> または相対色構文内でこれらの値が使用されることもありません。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="resolve-to-srgb">sRGBに解決される</dfn>色は以下の通りです:</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/TR/css-color-4/#hex-notation">16進数</a>カラー</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb①">rgb()</a>および<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba①">rgba()</a>
                    値（相対カラーも含む）</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl①">hsl()</a>および<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla①">hsla()</a>
                    値（相対カラーも含む）</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb①">hwb()</a>値
                    （相対カラーも含む）</p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/css-color-4/#named-colors">名前付き</a>カラー</p>
        </ul>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="support-legacy-color-syntax">レガシーカラー構文をサポートする</dfn>関数は以下の通りです:</p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb②">rgb()</a>および<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba②">rgba()</a></p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl②">hsl()</a>および<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla②">hsla()</a></p>
        </ul>
        <p><a class="production css" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                id="ref-for-funcdef-hsl③">&lt;hsl()></a>、<a class="production css" data-link-type="function"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla③">&lt;hsla()></a>、
            <a class="production css" data-link-type="function" href="#funcdef-hwb"
                id="ref-for-funcdef-hwb②">&lt;hwb()></a>、<a class="production css" data-link-type="function"
                href="#funcdef-lch" id="ref-for-funcdef-lch①">&lt;lch()></a>、
            <a class="production css" data-link-type="function" href="#funcdef-oklch"
                id="ref-for-funcdef-oklch①">&lt;oklch()></a>
            <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color-functions"
                id="ref-for-color-functions">カラー関数</a>は、<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                id="ref-for-cylindrical-polar-color">円筒・極座標カラー</a>表現で<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue">&lt;hue></a>角度を使用します。
            その他の<span id="ref-for-color-functions①">カラー関数</span>は<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color"
                id="ref-for-rectangular-orthogonal-color">矩形直交カラー</a>表現を使用します。
        </p>
        <h2 class="heading settled" data-level="3" id="color-mix"><span class="secno">3. </span><span
                class="content">色の混合: <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix③">color-mix()</a> 関数</span><a class="self-link" href="#color-mix"></a>
        </h2>
        <p>ウェブ開発者、デザインツール、デザインシステムの開発者は、
            コンポーネントの色の関係をスケーリングする際に色関数を使用することがよくあります。
            複数のプラットフォームや複数のユーザー設定をサポートするデザインシステムの使用が増加している中で、
            例えばUIのダークモードの機能が向上した場合など、
            手動で色を設定する必要がなく、スキームを計算する単一のソースを持つことが
            さらに便利になります。</p>
        <figure id="fig-chloropleth">
            <p><img alt="LCカラーピッカー" height="1045" src="https://www.w3.org/TR/css-color-5/images/LC-picker-scale.png"
                    style="width: 40vmin" width="1168"><br> <img alt="アメリカのクロロプレス地図" height="1014"
                    src="https://www.w3.org/TR/css-color-5/images/LC-picker-map2.png" style="width: 48vmin"
                    width="1396"></p>
            <figcaption>上図は、CIE LCH空間で動作するカラーピッカーです。
                ここでは、2つの色を使用して
                色スケールを定義しています
                （色相が一定のクロマ-明度平面上）。
                下図は、クロロプレス地図で使用されている色スケールです。</figcaption>
        </figure>
        <p>現在、Sass、HSL値のcalc()、またはPostCSSがこれを行うために使用されています。
            しかし、プリプロセッサは動的に調整された色で動作することができません。
            現在のすべてのソリューションはsRGBガマットに制限されており、
            HSLの知覚的な制限（色がカラーホイール上で密集している、
            また、黄色と青のように視覚的に異なる明度を持つ2つの色が
            同じHSL明度を持つ可能性がある）に制約されています。</p>
        <p>このニーズを満たすために、color-mix()関数は
            1つ以上の<a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color③">&lt;color></a>指定のリストを受け取り、
            指定された<a class="production css" data-link-type="type" href="#typedef-color-space"
                id="ref-for-typedef-color-space">&lt;color-space></a>で、
            指定された割合でそれらを混合した結果を返します。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color-mix">color-mix()</dfn> = color-mix( <a class="production" data-link-type="type" href="#color-interpolation-method" id="ref-for-color-interpolation-method">&lt;color-interpolation-method></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> [ <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color④">&lt;color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-all" id="ref-for-comb-all">&amp;&amp;</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage [0,100]></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>)
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="3.1" id="color-mix-space"><span class="secno">3.1. </span><span
                class="content">混合用のカラー空間</span><a class="self-link" href="#color-mix-space"></a></h3>
        <p>色補間方式が指定されていない場合は、Oklabを仮定します。
            指定されている場合は、そのカラー空間を使用して混合します。</p>
        <h3 class="heading settled" data-level="3.2" id="color-mix-percent-norm"><span class="secno">3.2. </span><span
                class="content">割合の正規化</span><a class="self-link" href="#color-mix-percent-norm"></a></h3>
        <p>パーセンテージは0%から100%の範囲である必要があります。
            負のパーセンテージは明確に禁止されています。
            パーセンテージは<a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"
                id="ref-for-normalize-mix-percentages">混合割合の正規化</a>によって正規化されます。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-01.html"
                        title="css/css-color/color-mix-percents-01.html">color-mix-percents-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-01.html"><small>(ライブテスト)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-02.html"
                        title="css/css-color/color-mix-percents-02.html">color-mix-percents-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-02.html"><small>(ライブテスト)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-mix-syntactic">
            <a class="self-link" href="#ex-mix-syntactic"></a> これらの構文形式はすべて同等です：
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> plum<c- p>,</c-> purple<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>80</c-><c- k>%</c-><c- p>,</c-> plum <c- m>80</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>すべて <span class="swatch" style="--color: purple"></span> purple と <span class="swatch"
                    style="--color: plum"></span> plum の50-50ミックスを生成します。
                lchでは：<span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> lch(51.51% 52.21
                325.8) つまり <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> rgb(68.51%
                36.01% 68.29%) となります。</p>
            <p>ただし、以下の形式はアルファ値が1未満となるため、<em>同じではありません</em>：</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>30</c-><c- k>%</c-><c- p>,</c-> plum <c- m>30</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>これは <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span> lch(51.51%
                52.21 325.8 / 0.6) つまり <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span>
                rgb(68.51% 36.01% 68.29% / 0.6) となります。</p>
        </div>
        <h3 class="heading settled" data-level="3.3" id="color-mix-result"><span class="secno">3.3. </span><span
                class="content">color-mixの結果の計算</span><a class="self-link" href="#color-mix-result"></a></h3>
        <div class="algorithm" data-algorithm="calculate a color-mix()">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="calculate-a-color-mix">color-mix()</dfn>を計算するには:
            <ol>
                <li data-md>
                    <p>関数に渡された<a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#mix-item"
                            id="ref-for-mix-item">ミックスアイテム</a>のリストから<a data-link-type="dfn"
                            href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"
                            id="ref-for-normalize-mix-percentages①">混合割合の正規化</a>を行い、
                        "強制正規化"フラグをtrueに設定し、
                        <var>items</var> と <var>leftover</var> を結果とする。
                    </p>
                <li data-md>
                    <p><var>leftover</var>が100%の場合、
                        <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#transparent-black"
                            id="ref-for-transparent-black">透過黒</a>を、
                        指定された補間用<a class="production css" data-link-type="type" href="#typedef-color-space"
                            id="ref-for-typedef-color-space①">&lt;color-space></a>に変換して返す。
                    </p>
                <li data-md>
                    <p><var>alpha mult</var>を<code>1 - <var>leftover</var></code>とし、
                        <var>leftover</var>は0から1の値で解釈する。
                    </p>
                <li data-md>
                    <p><var>items</var>の長さが1の場合、
                        その唯一のアイテムの色を<var>color</var>に設定し、
                        指定された補間用<a class="production css" data-link-type="type" href="#typedef-color-space"
                            id="ref-for-typedef-color-space②">&lt;color-space></a>に変換する。</p>
                    <p>それ以外の場合:</p>
                    <ol>
                        <li data-md>
                            <p><var>item stack</var>を、<var>items</var>を逆順にした<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#stack" id="ref-for-stack">スタック</a>とする。
                                (最初のアイテムがスタックの先頭になる。)</p>
                        <li data-md>
                            <p><var>item stack</var>の長さが2以上の間、以下を繰り返す:</p>
                            <ol>
                                <li data-md>
                                    <p><var>item stack</var>から<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#stack-pop"
                                            id="ref-for-stack-pop">ポップ</a>を2回行い、
                                        2つの結果を<var>a</var>と<var>b</var>とする（順番通り）。
                                        <var>combined percentage</var>は、<var>a</var>と<var>b</var>のパーセンテージの和とする。
                                    </p>
                                <li data-md>
                                    <p><a href="https://www.w3.org/TR/css-color-4/#interpolation"><cite>CSS Color
                                                4</cite> § 12. 色補間</a>に記載の方法で
                                        <var>a</var>と<var>b</var>の色を補間する。
                                        進行度パーセンテージは
                                        <code>(<var>b</var>のパーセンテージ) / <var>combined percentage</var>)</code>とする。
                                        指定されたカラー空間が<a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                                            id="ref-for-cylindrical-polar-color①">円筒・極座標カラー</a>空間ならば、
                                        <a class="production css" data-link-type="type"
                                            href="#typedef-hue-interpolation-method"
                                            id="ref-for-typedef-hue-interpolation-method">&lt;hue-interpolation-method></a>が
                                        色相補間を制御し、詳細は<a
                                            href="https://www.w3.org/TR/css-color-4/#hue-interpolation"><cite>CSS Color
                                                4</cite> § 12.4 色相補間</a>参照。
                                        <span class="production"
                                            id="ref-for-typedef-hue-interpolation-method①">&lt;hue-interpolation-method></span>
                                        が指定されていない場合は
                                        <span class="css">shorter</span>と仮定する。
                                    </p>
                                <li data-md>
                                    <p>補間した色と<var>combined percentage</var>のパーセンテージで新しい<a data-link-type="dfn"
                                            href="https://drafts.csswg.org/css-values-5/#mix-item"
                                            id="ref-for-mix-item①">ミックスアイテム</a>を作成し、
                                        それを<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#stack-push"
                                            id="ref-for-stack-push">プッシュ</a>する。</p>
                            </ol>
                        <li data-md>
                            <p><var>item stack</var>の最後に残った1つのアイテムの色を<var>color</var>に設定する。
                            </p>
                    </ol>
                <li data-md>
                    <p><var>color</var>のアルファ成分に<var>alpha mult</var>を乗算する。</p>
                <li data-md>
                    <p><var>color</var>を返す。</p>
            </ol>
            <p class="note" role="note"><span class="marker">注:</span> <a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                    id="ref-for-cylindrical-polar-color②">円筒・極座標カラー</a>空間では、
                混合順序に依存します。
                なぜなら色相円上で"短い"または"長い"方向が他の混合の結果で変化することがあるためです。
                このアルゴリズムは指定された順にそれぞれの色を混合し、
                結果を次の色と混ぜ合わせます。
                <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color"
                    id="ref-for-rectangular-orthogonal-color①">矩形直交カラー</a>空間では
                順序の影響はなく、
                手順はより単純化できます。
            </p>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-basic-001.html"
                        title="css/css-color/color-mix-basic-001.html">color-mix-basic-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-basic-001.html"><small>(ライブテスト)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-basic-001.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-missing-components.html"
                        title="css/css-color/color-mix-missing-components.html">color-mix-missing-components.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-missing-components.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-missing-components.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-non-srgb-001.html"
                        title="css/css-color/color-mix-non-srgb-001.html">color-mix-non-srgb-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-non-srgb-001.html"><small>(ライブテスト)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-non-srgb-001.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-color-mix-function.html"
                        title="css/css-color/parsing/color-invalid-color-mix-function.html">color-invalid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-mix-out-of-gamut.html"
                        title="css/css-color/parsing/color-mix-out-of-gamut.html">color-mix-out-of-gamut.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html">2d.fillStyle.colormix.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html">2d.fillStyle.colormix.currentcolor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html">2d.strokeStyle.colormix.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-mix-lch-peru40">
            <a class="self-link" href="#ex-mix-lch-peru40"></a> この例は <span class="swatch" style="--color: peru"></span>
            peru を40%、<span class="swatch" style="--color: palegoldenrod"></span> palegoldenrod を60%混ぜます。
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> peru <c- m>40</c-><c- k>%</c-><c- p>,</c-> palegoldenrod<c- p>)</c-></pre>
            <p>混色は<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch"
                    id="ref-for-valdef-lch-lch">lch</a>カラースペースで行われます。
                ここではニュートラルL軸を上から見下ろした図です：</p>
            <figure id="fig-LCH-peru-goldenrod">
                <object data="images/CH-mixing.svg" height="480" width="480">
                    <p>2色の混色とその出力。
                        CIE L軸をab平面上から見下ろしています。
                        <em>a</em>と<em>b</em>の2つの軸があり、原点で交差し、グラフの中心にあります。
                    </p>
                </object>
                <figcaption>peruとpalegoldenrodのCIE LCHでの混色。
                    peruの色相角は正のa軸から63.677度、
                    palegoldenrodは98.834度です。
                    peruの彩度（中心軸からの距離）は54.011、
                    palegoldenrodは31.406です。
                    すべての混色は曲線上にあります。40%/60%の混合例を表示しています。</figcaption>
            </figure>
            <p>計算は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: peru"></span> peruは lch(62.253% 54.011 63.677)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: palegoldenrod"></span> palegoldenrodは lch(91.374% 31.406
                        98.834)</p>
                <li data-md>
                    <p>混合した明度は 62.253 * 40/100 + 91.374 * (100-40)/100 = 79.7256</p>
                <li data-md>
                    <p>混合した彩度は 54.011 * 40/100 + 31.406 * (100-40)/100 = 40.448</p>
                <li data-md>
                    <p>混合した色相は 63.677 * 40/100 + 98.834 * (100-40)/100 = 84.771</p>
                <li data-md>
                    <p>混色結果は <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                        lch(79.7256% 40.448 84.771)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-lch-teal65">
            <a class="self-link" href="#ex-mix-lch-teal65"></a> この例はtealとoliveを混ぜています。
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch"
                id="ref-for-valdef-lch-lch①">lch</a>カラースペースで混色し、
            各lch成分はtealの値の65%、oliveの値の35%で計算されています。
            <p class="note" role="note"><span class="marker">注:</span> 色相と彩度で補間すると、
                中間色も端点の色と同じくらい鮮やかになります。</p>
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> teal <c- m>65</c-><c- k>%</c-><c- p>,</c-> olive<c- p>);</c-></pre>
            <figure id="fig-LCH-teal-olive">
                <object data="images/CH-mixing3.svg" height="500" width="500">
                    <p>2色の混色とその出力。
                        CIE L軸をab平面上から見下ろしています。
                        <em>a</em>と<em>b</em>の2つの軸があり、原点で交差し、グラフの中心にあります。
                    </p>
                </object>
                <figcaption>tealとoliveの混色。
                    tealの色相角は正のa軸から196.4524度、
                    oliveは99.5746度です。
                    tealの彩度は31.6903、
                    oliveは56.8124です。
                    混色は破線の曲線上にあります。65%/35%の混合例を表示しています。</figcaption>
            </figure>
            <p>計算は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: teal"></span> teal (#008080) は lch(47.9855% 31.6903
                        196.4524)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: olive"></span> olive (#808000) は lch(52.1496% 56.8124
                        99.5746)</p>
                <li data-md>
                    <p>混合した明度は 47.9855 * 0.65 + 52.1496 * 0.35 = 49.4429</p>
                <li data-md>
                    <p>混合した彩度は 31.6903 * 0.65 + 56.8124 * 0.35 = 40.4830</p>
                <li data-md>
                    <p>混合した色相は 196.4524 * 0.65 + 99.5746 * 0.35 = 162.5452</p>
                <li data-md>
                    <p>混色結果は lch(49.4429% 40.4830 162.5452)</p>
                <li data-md>
                    <p>わずかに青みがかった緑：<span class="swatch" style="--color: rgb(7.7377% 52.5730% 37.3213%)"></span>
                        rgb(7.7377% 52.5730% 37.3213%)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-zero-sum">
            <a class="self-link" href="#ex-mix-zero-sum"></a> この例では、両方のパーセンテージが0なので、合計も0となります:
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> teal <c- m>0</c-><c- k>%</c-><c- p>,</c-> olive <c- m>0</c-><c- k>%</c-><c- p>);</c-></pre>
            <p>したがって、結果は<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch"
                    id="ref-for-valdef-oklch-oklch">oklch</a>カラー空間内の透明な黒となります:<br> <span class="swatch"
                    style="--color: transparent"></span> oklch(0% 0 none / 0)</p>
        </div>
        <h3 class="heading settled" data-level="3.4" id="color-mix-color-space-effect"><span class="secno">3.4.
            </span><span class="content">color-mixにおける混合カラー空間の影響</span><a class="self-link"
                href="#color-mix-color-space-effect"></a></h3>
        <p>混色に使用するカラースペースの選択は、結果に大きな影響を与えることがあります。</p>
        <div class="example" id="ex-mix-colorspaces-black-white">
            <a class="self-link" href="#ex-mix-colorspaces-black-white"></a> この例は、白と黒の50%ミックスを
            3種類のカラースペースで示しています。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
</pre>
            <p>計算結果は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: white"></span> white (#FFF) は lch(100% 0 0)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: black"></span> black (#000) は lch(0% 0 0)</p>
                <li data-md>
                    <p>LCHでの混色は <span class="swatch" style="--color: rgb(47% 47% 47%)"></span> lch(50% 0 0)</p>
                <li data-md>
                    <p>XYZでの混色は <span class="swatch" style="--color: rgb(74% 74% 74%)"></span> lch(76% 0 0)</p>
                <li data-md>
                    <p>sRGBでの混色は <span class="swatch" style="--color: rgb(50% 50% 50%)"></span> lch(53.4% 0 0)
                    </p>
            </ul>
            <p>LCHでの混色はL値が50%になり、
                期待通りの完全な中間グレーとなります
                （Labで混色しても同じ結果になります。
                LCHとLabのLightness軸は同じです）。</p>
            <p>XYZでの混色は明るすぎる結果となります；
                XYZは線形光ですが知覚的均一性はありません。
                sRGBでの混色はやや明るすぎます；
                sRGBは知覚的均一でも線形光でもありません。</p>
        </div>
        <div class="example" id="ex-mix-xyz">
            <a class="self-link" href="#ex-mix-xyz"></a> この例は
            赤と空色のミックスを
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                id="ref-for-valdef-color-xyz">xyz</a>カラースペースで示しています。
            ミックス比は赤が75.23%、青が24.77%です。
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>82.02</c-><c- k>%</c-> <c- m>30.21</c-><c- k>%</c-> <c- m>35.02</c-><c- k>%</c-><c- p>)</c-> <c- m>75.23</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>5.64</c-><c- k>%</c-> <c- m>55.94</c-><c- k>%</c-> <c- m>85.31</c-><c- k>%</c-><c- p>));</c-></pre>
            <p>計算結果は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(82.02% 30.21% 35.02%)"></span> rgb(82.02% 30.21% 35.02%)
                        は lch(52% 58.1 22.7)、X=0.3214, Y=0.2014, Z=0.0879。</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(5.64% 55.94% 85.31%)"></span> rgb(5.64% 55.94% 85.31%)
                        は lch(56% 49.1 257.1)、X=0.2070, Y=0.2391, Z=0.5249。</p>
                <li data-md>
                    <p>混色結果 X=(0.3214 * 0.7523) + (0.2070 * (1 - 0.7523)) = 0.29306。</p>
                <li data-md>
                    <p>混色結果 Y=(0.2014 * 0.7523) + (0.2391 * (1 - 0.7523)) = 0.21074。</p>
                <li data-md>
                    <p>混色結果 Z=(0.0879 * 0.7523) + (0.5249 * (1 - 0.7523)) = 0.19614。</p>
                <li data-md>
                    <p>ミックス結果は <span class="swatch" style="--color: rgb(72.300% 38.639% 53.557%)"></span>
                        lch(53.0304% 38.9346 352.8138)、rgb(72.300% 38.639% 53.557%)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-blue-white">
            <a class="self-link" href="#ex-mix-blue-white"></a>
            <p>この例は、白と青の50%ミックスを
                3種類のカラースペースで示しています。</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
</pre>
            <p>計算結果は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: white"></span> white
                        は rgb(100% 100% 100%)
                        lch(100% 0 none)
                        oklch(100% 0 none)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: blue"></span> blue
                        は rgb(0% 0% 100%)
                        lch(29.5683% 131.201 301.364)
                        oklch(45.201% 0.31321 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(68.594% 53.794% 100%)"></span> LCHでの混色は lch(64.7841%
                        65.6008 301.364)（やや紫み）</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(45.304% 63.808% 100%)"></span> OKLCHでの混色は oklch(72.601%
                        0.15661 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(50% 50% 100%)"></span> sRGBでの混色は rgb(50% 50%
                        100%)（こちらもやや紫み）</p>
            </ul>
        </div>
        <div class="example" id="ex-hsl-gamut-map">
            <a class="self-link" href="#ex-hsl-gamut-map"></a> この例は、2色を
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                id="ref-for-valdef-hsl-hsl">hsl</a>カラースペースで混色したものです。
            混色する片方の色が
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb"
                id="ref-for-valdef-color-srgb">sRGB</a>
            ガマット外の値です。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in hsl<c- p>,</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0</c-> <c- m>1</c-> <c- m>0</c-><c- p>)</c-> <c- m>80</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
            <p>計算結果は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch oog" style="--color: white"></span> color(display-p3 0 1 0)
                        は color(srgb -0.5116 1.01827 -0.3107)で、sRGBガマット外です</p>
                <li data-md>
                    <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                            id="ref-for-valdef-hsl-hsl①">hsl</a>に変換すると <span class="swatch oog"
                            style="--color: rgb(0% 99.797% 0%)"></span> hsl(127.879 301.946 25.334)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: yellow"></span> yellow は <span class="swatch"
                            style="--color: yellow"></span> hsl(60 100% 50%)</p>
                <li data-md>
                    <p>色相は 127.879 × 0.8 + 60 × 0.2 = 114.3032</p>
                <li data-md>
                    <p>彩度は 301.946 × 0.8 + 100 × 0.2 = 261.5568</p>
                <li data-md>
                    <p>明度は 25.334 × 0.8 + 50 × 0.2 = 30.2672</p>
                <li data-md>
                    <p>混色結果は <span class="swatch oog" style="--color: rgb(72.66% 100% 0%)"></span>
                        hsl(114.3032 261.5568 30.2672)、<span class="swatch oog"
                            style="--color: rgb(72.66% 100% 0%)"></span> color(srgb -0.3387 1.0943 -0.48899)</p>
            </ul>
        </div>
        <div class="example" id="ex-device-cmyk-mix">
            <a class="self-link" href="#ex-device-cmyk-mix"></a> <a class="css" data-link-type="maybe"
                href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk②">device-cmyk()</a>は<a class="css"
                data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix④">color-mix()</a>内で利用できますが、結果は実装がどのように算出値を求めるかによって異なります。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lab<c- p>,</c-> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0.091777</c-> <c- m>0.043303</c-> <c- m>0.312816</c-> <c- m>0.000000</c-><c- p>)</c-> <c- m>100</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
            <p>最初の色が100%の場合、
                2つ目の色は0%なので混合結果に一切影響しません。
                結果はしたがって、最初の色の算出値を
                CIE Labで表したものです。</p>
            <p>結果を視覚化するために、
                device CMYK値が実際にはSWOP 2006 coatedで印刷されると仮定します。</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span> device-cmyk(0.091777 0.043303
                        0.312816 0.000000) は <span class="swatch" style="--color: rgb(98% 89% 75%)"></span> lab(91.44%
                        4.142 20.52) です</p>
            </ul>
            <p>実装がICCプロファイルを使って
                <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab①">lab()</a>色を
                求める場合、この例ではFOGRA39 Coatedプロファイルを使ったとします：
            </p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span> device-cmyk(0.091777 0.043303
                        0.312816 0.000000) は <span class="swatch" style="--color: rgb(92.81% 91.34% 75.31%)"></span>
                        lab(91.840596 -3.559090 20.449159) です</p>
                <li data-md>
                    <p>この値と元の印刷色とのdeltaE 2000は <strong>8.17</strong> であり、明確に目視できます。</p>
            </ul>
            <p>さらに別の実装例として
                単純な色変換アルゴリズムを用いて
                sRGB結果を返す場合も想定します。</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span> device-cmyk(0.091777 0.043303
                        0.312816 0.000000) は <span class="swatch"
                            style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span> rgb(90.8223% 95.6697% 68.7184%)
                        であり、これは <span class="swatch" style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span>
                        lab(94.02% -12.31 31.79) です</p>
                <li data-md>
                    <p>この値と元の印刷色とのdeltaE 2000は <strong>14.3</strong> と非常に大きく異なります。</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.5" id="color-mix-with-alpha"><span class="secno">3.5. </span><span
                class="content">color-mixにおける非ユニティアルファの影響</span><a class="self-link" href="#color-mix-with-alpha"></a>
        </h3>
        <p>これまでの<a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑤">color-mix()</a>例は
            すべて完全に不透明な色を使用していました。
            例を簡略化するために、
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied">事前乗算</a>と事前除算のステップは
            単に1倍・1割となるため省略され、
            結果は変わらないためです。
        </p>
        <p>一般の場合には、
            色に非ユニティのアルファ成分が含まれることがあり
            このため<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied①">事前乗算</a>、補間、事前除算の各ステップは
            省略してはいけません。</p>
        <div class="example" id="ex-premultiply-srgb">
            <a class="self-link" href="#ex-premultiply-srgb"></a> この例は25%半透明な赤と
            75%半透明な緑を
            sRGBで混合したものです。
            正しい（<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied②">事前乗算</a>）場合と
            誤った（非事前乗算）
            計算方法を示します。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>25</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>));</c->
</pre>
            <p>計算工程は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        を事前乗算すると[0.7, 0, 0]になる</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        を事前乗算すると[0, 0.2, 0]になる</p>
                <li data-md>
                    <p>事前乗算し補間した結果は
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]で
                        [0.175, 0.150, 0]となる</p>
                <li data-md>
                    <p>補間アルファは 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>事前除算すると
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        となり、[0.53846, 0.46154, 0]になる</p>
                <li data-md>
                    <p>したがって混合色は <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span>
                        color(srgb 0.53846 0.46154 0 /
                        0.325) となる</p>
            </ul>
            <p><em>誤った</em>計算は以下の通り：</p>
            <ul>
                <li data-md>
                    <p>補間結果は
                        [1 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 1 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        なので[0.25, 0.75, 0]となる</p>
                <li data-md>
                    <p>したがって<em>誤った</em>混合色は <span class="swatch" style="--color: rgba(25%, 75%, 0%, 0.325)"></span>
                        color(srgb 0.25 0.75 0 / 0.325) となる</p>
            </ul>
            <p>これは<em>非常に</em>大きな違いで、正しい結果と誤った結果のΔE2000は30.7です！</p>
        </div>
        <p>パーセンテージ正規化によってアルファ乗算子が生じる場合、
            計算方法は最後にもう1つ追加ステップがある以外は同じです。</p>
        <div class="example" id="ex-premultiply-srgb-2">
            <a class="self-link" href="#ex-premultiply-srgb-2"></a> この例は前の例とほぼ同じで、
            25%半透明な赤と
            75%半透明な緑を
            sRGBで混合したものです。
            <p>ただしこちらではパーセンテージ指定が
                最初の色20%、2番目の色60%となっています。
                合計80%なのでアルファ乗算子は0.8になります。</p>
            <p>混合パーセンテージは
                100/80倍して正規化されます：<br> 20% * 100/80 = 25%<br> 60% * 100/80 = 75%<br> 最終的な混合比率は先の例と同じになります。</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>20</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>)</c-> <c- m>60</c-><c- k>%</c-><c- p>);</c->
</pre>
            <p>計算工程は以下の通りです：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        を事前乗算すると[0.7, 0, 0]になる</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        を事前乗算すると[0, 0.2, 0]になる</p>
                <li data-md>
                    <p>事前乗算し補間した結果は
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        で[0.175, 0.150, 0]になる</p>
                <li data-md>
                    <p>補間アルファは 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>事前除算すると
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        で[0.53846, 0.46154, 0]になる</p>
                <li data-md>
                    <p>混合色は <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span> color(srgb
                        0.53846 0.46154 0 /
                        0.325) となる</p>
                <li data-md>
                    <p>アルファ乗算子が0.8なので、
                        混合結果のアルファは実際には0.325 * 0.8 = 0.260となる
                        よって実際の混合色は <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.260)"></span>
                        color(srgb 0.53846 0.46154 0 /
                        0.260) になる</p>
            </ul>
        </div>
        <p class="note" role="note"><span class="marker">注:</span> 補間後のアルファにアルファ乗算率を掛けて
            それで逆プレ乗算してはいけません。
            ミックス比率が100%にスケールされていない場合は正しいですが、
            実際はスケール済みなので、この方法だと混色色が<em>二重に</em>調整されてしまいます。</p>
        <h2 class="heading settled" data-level="4" id="relative-colors"><span class="secno">4. </span><span
                class="content"> 相対色 </span><a class="self-link" href="#relative-colors"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="rcs-intro"><span class="secno">4.1. </span><span
                class="content"> 相対色の処理モデル </span><a class="self-link" href="#rcs-intro"></a>
        </h3>
        <p>この仕様の以前のレベルでは、カラー関数はすべての色成分を直接指定することでしか色を絶対的に指定できませんでした。</p>
        <p>新しい<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="relative-color">相対カラー</dfn>構文は、
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax">モダンカラー構文</a>を拡張し、
            カラー関数を使って既存の色を修正できるようにします。
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="origin-color">基準色</dfn>が指定された場合、
            各色成分（および指定されていればアルファ成分）は
            <em>直接指定</em>することもできますし、
            基準色から取り出し
            （さらに<a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                id="ref-for-math-function">数学関数</a>で修正も可能）です。
        </p>
        <p>基準色と相対カラーは同じカラー関数を使う必要はありません。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="required-conversion">必要な変換</dfn>：
            すべての操作は<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                id="ref-for-color-space">相対カラー</a>関数のカラー空間で行われます。
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="originally-specified-color-space">もともと指定されていたカラー空間</dfn>の
            <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color">基準色</a>が異なるカラー関数の場合は、
            まず選択した関数に変換され、
            各成分が意味のある値となる状態になります。
            <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword">成分キーワード</a>は
            相対カラーのカラー空間に基づいて参照され、<em>基準色</em>には依存しません。
        </p>
        <p>相対カラーのアルファ値が省略された場合、
            そのデフォルト値は<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②">基準色</a>の値になります
            （絶対構文のように<span class="css">100%</span>をデフォルトにはしません）。</p>
        <p>相対カラー構文で指定された場合、<strong>色成分</strong>の値は、
            直接指定された場合でも
            色空間変換によって決まった場合でも、
            <em>参照範囲にクランプされずそのまま保持</em>されます。
            これにより、出力先の色空間が表現可能であれば、
            ガマット外の値も維持されます。
        </p>
        <p>ただし、相対カラー構文使用時、<strong>アルファ成分</strong>の値は
            直接指定または色空間変換のいずれであっても<em>参照範囲にクランプされます</em>。</p>
        <p>不足している成分は
            <a href="https://www.w3.org/TR/css-color-4/#interpolation-missing"><cite>CSS Color 4</cite> § 12.2
                欠損成分での補間</a>と同じ扱いになります。
            基準色空間と相対関数の色空間をチェックして
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#analogous-components"
                id="ref-for-analogous-components">対応成分</a>を探し、
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#carried-forward"
                id="ref-for-carried-forward">forward参照</a>として扱われます。
        </p>
        <p>ほとんどの<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①">相対カラー</a>
            構文の利用では
            <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①">成分キーワード</a>を
            対応する引数で使いますが、
            どの位置に使っても構いません。
        </p>
        <p>成分を本来と異なる位置で使う場合はご注意ください。
            パーセンテージを数値に変換する際、
            位置が変わっていても
            そのまま数値として使われ、
            「自動スケーリング」などはありません。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk③">device-cmyk()</a> には相対構文はありません。</p>
        <h3 class="heading settled" data-level="4.2" id="relative-syntax"><span class="secno">4.2. </span><span
                class="content"> 相対色構文 </span><a class="self-link" href="#relative-syntax"></a></h3>
        <p>各関数で<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color②">相対色</a>に対応するための
            構文の詳細は以下に記載しますが、
            全て共通の構造に従います：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③">基準色</a>は
                    関数の先頭で<span class="css">from <a class="production css" data-link-type="type" href="#typedef-color"
                            id="ref-for-typedef-color⑤">&lt;color></a></span>値として指定できます。
                    ここでアルファ成分も省略されていなければ含みます。</p>
            <li data-md>
                <p>基準色が指定されていない場合、その関数は相対色ではありません。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④">基準色</a>が指定されている場合、
                    残りの引数は通常通り直接指定するか、
                    <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="component-keyword">成分キーワード</dfn>として
                    <span id="ref-for-origin-color⑤">基準色</span>の成分（相対色の<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-color-4/#color-space"
                        id="ref-for-color-space①">カラースペース</a>へ変換済）を参照できます。
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                        id="ref-for-math-function①">数式関数</a>でも
                    これらのキーワードを使い
                    <span id="ref-for-origin-color⑥">基準色</span>の成分を動的に修飾できます。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color③">相対色</a>構文は
                    引数が必須か任意かには影響しません。</p>
            <li data-md>
                <p>相対色構文は<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                        id="ref-for-modern-color-syntax①">現代的な色構文</a>のみに適用されます。
                    <em>古い色構文では使えません</em>。使おうとするとエラーです。
                </p>
            <li data-md>
                <p>ただし、<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑦">基準色</a>は
                    現代構文でも古い構文でも指定できます。</p>
        </ul>
        <p><a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword②">成分キーワード</a>は
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value">&lt;number></a>
            または <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none"
                id="ref-for-valdef-color-none">none</a> を返します。
            元が <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value①">&lt;percentage></a> や <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#angle-value" id="ref-for-angle-value">&lt;angle></a>
            で指定されていた場合、その<span class="production" id="ref-for-percentage-value②">&lt;percentage></span>は
            <span class="production" id="ref-for-number-value①">&lt;number></span>に変換され、
            <span class="production" id="ref-for-angle-value①">&lt;angle></span>は度数の
            <span class="production" id="ref-for-number-value②">&lt;number></span>（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#canonical-unit" id="ref-for-canonical-unit">正規単位</a>）として[0,
            360]範囲に解決されます。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-color-with-zoom.html"
                        title="css/css-color/relative-color-with-zoom.html">relative-color-with-zoom.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-color-with-zoom.html"><small>((ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-color-with-zoom.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"
                        title="css/css-color/relative-currentcolor-visited-getcomputedstyle.html">relative-currentcolor-visited-getcomputedstyle.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/relative-color-out-of-gamut.html"
                        title="css/css-color/parsing/relative-color-out-of-gamut.html">relative-color-out-of-gamut.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="example-1f6216e3">
            <a class="self-link" href="#example-1f6216e3"></a> 例えば、色が<em-production
                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③">&lt;percentage></em-production>で指定されている場合、
            同じカラースペースでRCSを使うと解決された<em-production href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value③">&lt;number></em-production>の形になります：
            <pre class="highlight">html <c- p>{</c-> <c- k>--bluegreen</c-><c- p>:</c-> <span class="swatch" style="--color: teal"></span> <c- nf>oklab</c-><c- p>(</c-><c- m>54.3</c-><c- k>%</c-> <c- m>-22.5</c-><c- k>%</c-> <c- m>-5</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(4.696% 39.17% 39.38%)"></span> <c- nf>oklab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bluegreen<c- p>)</c-> <c- nf>calc</c-><c- p>(</c-><c- m>1.0</c-> - l<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->a * <c- m>0.8</c-><c- p>)</c-> b<c- p>);</c->
<c- p>}</c->
</pre>
            <p>この例では、指定されたパーセンテージは数値に解決され、
                oklab(0.543 -0.09 -0.02) になります。
                RCSの結果色は l = 1 - 0.543 = 0.457、
                a = -0.09 * 0.8 = -0.072、
                bはそのまま -0.02:
                oklab(0.457 -0.072 -0.02) となります。</p>
        </div>
        <div class="example" id="example-4889a5cd">
            <a class="self-link" href="#example-4889a5cd"></a> 例えば、基準色の色相成分が度単位の<em-production
                href="https://www.w3.org/TR/css-values-4/#angle-value"
                id="ref-for-angle-value②">&lt;angle></em-production>で指定されている場合、
            同じカラースペースでRCSを使うと解決された<em-production href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value④">&lt;number></em-production>の形になります：
            <pre class="highlight">html <c- p>{</c-> <c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: sienna"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>52.6</c-><c- k>%</c-> <c- m>0.115</c-> <c- m>44.6</c-><c- k>deg</c-><c- p>)</c-> <c- p>}</c->
.summary <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(30.09% 47.36% 18.46%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> l c  <c- nf>calc</c-><c- p>(</c->h + <c- m>90</c-><c- p>));</c->
<c- p>}</c->
</pre>
            <p>この例ではRCSの結果色は oklch(0.526 0.115 134.6) となります。</p>
            <p>もし基準色の色相<em-production href="https://www.w3.org/TR/css-values-4/#angle-value"
                    id="ref-for-angle-value③">&lt;angle></em-production>が
                ラジアンやターンなど他の単位で指定されていても、
                解決された<em-production href="https://www.w3.org/TR/css-values-4/#number-value"
                    id="ref-for-number-value⑤">&lt;number></em-production>は度数になります。</p>
        </div>
        <div class="example" id="example-2a49656f">
            <a class="self-link" href="#example-2a49656f"></a> <a data-link-type="dfn" href="#component-keyword"
                id="ref-for-component-keyword③">成分キーワード</a>を<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#math-function" id="ref-for-math-function②">数式関数</a>で使うことで、
            <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑧">基準色</a>をより高度に操作できます。
            <pre class="highlight">html <c- p>{</c-> <c- k>--color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-accent</c-><c- p>:</c-> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l / <c- m>2</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
</pre>
            <p>この例では、<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑨">基準色</a>の明度を半分にして
                色を暗くしています。他の成分は変化しません。</p>
            <p>また、<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⓪">基準色</a>は色キーワード
                （つまりsRGB）ですが、
                <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch②">lch()</a>関数で使われることで
                自動的にLCH色として解釈されます。
            </p>
        </div>
        <div class="example" id="example-1374fcad">
            <a class="self-link" href="#example-1374fcad"></a> 例えばテーマ色が不透明に指定されていても、
            特定の場面で半透明にしたい場合：
            <pre class="highlight">html <c- p>{</c-> <c- k>--bg-color</c-><c- p>:</c-> <span class="swatch" style="--color: blue"></span> blue<c- p>;</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(0,0,255,80%)"></span> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg-color<c- p>)</c-> r g b / <c- m>80</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>この例では、<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①①">基準色</a>のr, g, b成分はそのままで
                キーワードで指定して値を基準色から取得していますが、
                不透明度は<span class="css">80%</span>に指定して少し透明にしています。
                基準色の不透明度が何であっても関係ありません。</p>
        </div>
        <div class="example" id="example-b1f4bd13">
            <a class="self-link" href="#example-b1f4bd13"></a> 例えば、sRGBのガマット外のDisplay P3色も
            クリップされずに表現できます。
            <pre class="highlight"><c- k>--vivid-yellow</c-><c- p>:</c-> <span class="swatch oog" style="--color: color(display-p3 1 1 0)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>1</c-> <c- m>1</c-> <c- m>0</c-><c- p>);</c-> 
<c- k>--paler-yellow</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--vivid-yellow<c- p>)</c-> srgb r g <c- nf>calc</c-><c- p>(</c->b + <c- m>0.5</c-><c- p>));</c->
</pre>
            <p>ここで --vivid-yellow をsRGBに変換すると
                <span class="swatch oog" style="--color: color(display-p3 1 1 0)"></span> rgb(100% 100% -34.63%) となり
                負の青成分もクランプされません。
                RCS計算結果は <span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span> rgb(100% 100% 15.37%)
                となります。
            </p>
        </div>
        <div class="example" id="example-4bad0aeb">
            <a class="self-link" href="#example-4bad0aeb"></a> 例えば基準色のアルファが0.7で、それを2倍しようとすると
            結果のアルファは1になり、1.4にはなりません。
            <pre class="highlight"><c- k>--tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27% / 70%)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>78</c-><c- k>%</c-> <c- m>0.06</c-> <c- m>75</c-> / <c- m>0.7</c-><c- p>);</c->
<c- k>--deeper-tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--tan<c- p>)</c-> l c h / <c- nf>calc</c-><c- p>(</c->alpha * <c- m>2</c-><c- p>));</c->
</pre>
        </div>
        <div class="example" id="example-2bf59389">
            <a class="self-link" href="#example-2bf59389"></a> 例えば、色をグレースケール化する大まかな近似：
            <pre class="highlight"><c- k>--blue-into-gray</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>));</c->
</pre>
            <p>この方法を使うと、<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-red"
                    id="ref-for-valdef-color-red">red</a>
                は <span class="css">rgb(76.5 76.5 76.5)</span>、<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-lime" id="ref-for-valdef-color-lime">lime</a>
                は <span class="css">rgb(150.45 150.45 150.45)</span>、
                <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-blue"
                    id="ref-for-valdef-color-blue">blue</a> も <span class="css">rgb(150.45 150.45 150.45)</span>になります。
                より中間色の<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen"
                    id="ref-for-valdef-color-darkolivegreen">darkolivegreen</a>
                （RGB値 <span class="css">rgb(85 107 47)</span>）は
                <span class="css">rgb(93.8 93.8 93.8)</span> となります。
            </p>
            <p>（粗い理由：まず、見た目は輝度計算のようですが
                実際は赤・緑・青値が線形光でなくガンマ空間で処理されています。
                また、重み係数はsRGBではなく
                古いNTSC色空間のものです。）</p>
            <p>（この例は構文の説明目的です。
                色をグレースケール化する簡単かつ正確な方法は
                <a class="css" data-link-type="maybe" href="#funcdef-oklch"
                    id="ref-for-funcdef-oklch②">oklch()</a>関数を使うことです。
                この色空間は人間の知覚に近く、
                <span class="css">oklch(from var(--color) l 0 h)</span> とすれば
                明度は維持され、彩度は0になり
                色味がなくなります。）
            </p>
        </div>
        <div class="example" id="ex-no-percentage-magic">
            <a class="self-link" href="#ex-no-percentage-magic"></a>
            <p>例えば、</p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->from <c- nf>color</c-><c- p>(</c->srgb <c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> srgb alpha <c- m>0.6</c-> <c- m>0.6</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>アルファ成分は<em-production href="https://www.w3.org/TR/css-values-4/#number-value"
                    id="ref-for-number-value⑥">&lt;number></em-production>に解決され、0.6になります。結果の色は <span class="swatch"
                    style="--color: rgb(60% 60% 60% / 0.9)"></span> <span class="css">color(srgb 0.6 0.6 0.6 /
                    0.9)</span> となります。 </p>
            <p>しかし次の例でもアルファは0.6ですが、
                rgb()構文の色成分範囲0〜255のため
                結果色が大きく異なります：</p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> alpha <c- m>153</c-> <c- m>153</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>結果は <span class="swatch" style="--color: rgb(0.235% 60% 60% / 0.9)"></span> <span class="css">rgb(0.6 153
                    153 / 0.9)</span> となり、<em>153 153 153 / 0.9</em> にはなりません。</p>
        </div>
        <div class="example" id="ex-missing-analogous">
            <a class="self-link" href="#ex-missing-analogous"></a> この例では無彩色の基準色が
            色相を欠損していて、
            <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color④">相対色</a>も
            色相を欠損しており、
            その色を使うグラデーションに影響します。
            <pre class="highlight">html <c- p>{</c-> <c- k>--bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.5% 48.5% 48.5%)"></span> <c- nf>hsl</c-><c- p>(</c->none <c- m>3</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
.bar <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <c- nf>linear-gradient</c-><c- p>(</c->in Oklab to right<c- p>,</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span>  <c- nf>var</c-><c- p>(</c->--darker-bg<c- p>),</c-> <span class="swatch" style="--color: #4C3"></span>  #4C3<c- p>);</c->
<c- p>}</c->
</pre>
            <p>--bg を OkLCh に変換すると
                oklch(0.592 0.009 17.42) ですが
                類似色の色相成分は引き継がれて
                oklch(0.592 0.009 none) となります。
                この値を相対関数で使うことで
                暗い色 oklch(0.474 0.009 none) が得られます。</p>
            <p>グラデーションの明るい緑は <span class="swatch" style="--color: #4C3"></span> oklch(0.743 0.222
                141.6) で、
                補間されるともう一方の色もその色相を持ち
                <span class="swatch" style="--color: rgb(34.96% 36.56% 34.72%)"></span> oklch(0.474 0.009
                141.6) になります。
            </p>
            <p>よってグラデーションは一定の緑色系の色相になります。</p>
            <p>実装がこの引き継ぎを行わなかった場合、
                灰色の --darker-bg は色相0となり、
                グラデーションの始端が赤みを帯びてしまいます。</p>
            <figure id="fig-gradient-missing">
                <img alt height="547" src="https://www.w3.org/TR/css-color-5/images/rectangular-missing.png"
                    width="775">
                <figcaption>正しい（上）と誤った（下・赤寄り）グラデーション。</figcaption>
            </figure>
        </div>
        <p>ただし、欠損値に対して計算を行う場合、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none①">none</a> は
            0として扱われます。</p>
        <h3 class="heading settled" data-level="4.3" id="relative-RGB"><span class="secno">4.3. </span><span
                class="content">相対sRGB色</span><a class="self-link" href="#relative-RGB"></a></h3>
        <p>sRGB色の意味は、<a href="https://www.w3.org/TR/css-color-4/#numeric-srgb"><cite>CSS Color 4</cite> § 5 sRGB
                Colors</a>で定義されています。</p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax②">モダンカラー構文</a>の<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb③">rgb()</a>および<a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba"
                id="ref-for-funcdef-rgba③">rgba()</a>関数の文法は、次のように拡張されています：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgb-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgb-syntax" id="ref-for-typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a></dfn> = rgb( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑥">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑦">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⓪">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②①">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt③">?</a>  )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgba-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgba-syntax" id="ref-for-typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a></dfn> = rgba( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑦">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt④">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②③">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num①">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②④">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑤">?</a>  )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑤">相対カラー</a>構文内の<a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                id="ref-for-funcdef-rgb④">rgb()</a>または<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba④">rgba()</a>関数では、利用可能な<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword④">成分キーワード</a>は以下の通りです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-r">r</dfn>、<dfn class="dfn-paneled css" data-dfn-for="rgb()"
                        data-dfn-type="value" data-export id="valdef-rgb-g">g</dfn>、および<dfn class="dfn-paneled css"
                        data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-b">b</dfn>は、すべて<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑨">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①④">基準色</a>の赤・緑・青成分（必要なら<a data-link-type="dfn"
                        href="#required-conversion"
                        id="ref-for-required-conversion">sRGBに変換</a>後）の値に対応します。255.0は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⓪">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑤">基準色</a>のアルファ（透明度）を表します。1.0は100%に相当します。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="example-cebe6396">
            <a class="self-link" href="#example-cebe6396"></a> sRGB色空間の色成分を操作する例：
            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: indianred"></span> indianred <c- m>255</c-> g b<c- p>)</c->
</pre>
            <p>これは indianred のsRGB値 (205 92 92) を取り、
                赤成分を255に置き換えて <span class="swatch" style="--color: rgb(255 92 92)"></span> rgb(255 92 92) を生成します。</p>
        </div>
        <p>相対sRGB色構文は<em>レガシーでない</em>RGB構文形式にのみ適用されます。</p>
        <div class="example invalid" id="example-648e776c">
            <a class="self-link" href="#example-648e776c"></a> 例えば、カンマ区切りのrgba<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax①">レガシー色構文</a>を使おうとした場合は誤りです
            <pre class="highlight"><c- nf>rgba</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-><c- p>,</c-> <c- m>32</c-><c- p>,</c-> b<c- p>,</c-> <c- m>0.5</c-> <c- p>)</c->
</pre>
        </div>
        <div class="example" id="example-c4b962d1">
            <a class="self-link" href="#example-c4b962d1"></a> 正しくは次のように記述します：
            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-> <c- m>32</c-> b / <c- m>0.5</c-> <c- p>)</c->
</pre>
            <p>これは darkblue のsRGB値 (0 0 139) を取り、
                赤・緑・アルファ成分を置き換えて <span class="swatch" style="--color: rgb(16 32 139 / 0.5)"></span> rgb(16 32 139 / 0.5)
                を生成します。</p>
        </div>
        <h3 class="heading settled" data-level="4.4" id="relative-HSL"><span class="secno">4.4. </span><span
                class="content">相対HSL色</span><a class="self-link" href="#relative-HSL"></a></h3>
        <p>HSLカラーの意味は <a href="https://www.w3.org/TR/css-color-4/#the-hsl-notation"><cite>CSS Color 4</cite> § 7 HSL
                Colors:
                hsl() および hsla() 関数</a> で定義されています。</p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax③">モダンカラー構文</a>の <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl④">hsl()</a> および <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla"
                id="ref-for-funcdef-hsla④">hsla()</a> 関数の文法は次のように拡張されています：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsl-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsl-syntax" id="ref-for-typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a></dfn> = hsl([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑧">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑥">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue①">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑤">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑦">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑨">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⓪">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑦">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsla-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsla-syntax" id="ref-for-typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a></dfn> = hsla([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑨">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑧">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue②">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③①">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①③">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③③">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③④">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①④">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑤">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value③">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑥">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑨">?</a> )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑥">相対カラー</a>構文内の <a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                id="ref-for-funcdef-hsl⑤">hsl()</a> または <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑤">hsla()</a> 関数では、利用可能な
            <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑤">成分キーワード</a> は次の通りです：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-h">h</dfn> は <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑤">&lt;number></a> で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑥">基準色</a>のHSL色相に対応し、度単位で表されます。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①">sRGBへ変換</a>後、[0, 360]の範囲に正規化されます。90は90degと同じ意味です。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-s">s</dfn> および <dfn class="dfn-paneled css" data-dfn-for="hsl()"
                        data-dfn-type="value" data-export id="valdef-hsl-l">l</dfn> は <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑥">&lt;number></a> で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑦">基準色</a>のHSLの彩度および輝度に対応します。
                    必要なら <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion②">sRGBへ変換</a> されます。
                    100は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-alpha">alpha</dfn> は <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑦">&lt;number></a> で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑧">基準色</a>のアルファ（透明度）に対応します。1.0は100%に相当します。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="example-c4b276dd">
            <a class="self-link" href="#example-c4b276dd"></a> この例では色相角に180度加え、補色を作ります。
            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: hsl(357deg 70% 41%)"></span> <c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>lightseagreen は hsl(177deg 70% 41%) なので --complement は <span class="swatch"
                    style="--color: hsl(357deg 70% 41%)"></span> hsl(357deg 70% 41%) となります。</p>
        </div>
        <p>相対HSL色構文はレガシーでないHSL構文形式にのみ適用されます。</p>
        <h3 class="heading settled" data-level="4.5" id="relative-HWB"><span class="secno">4.5. </span><span
                class="content">相対HWB色</span><a class="self-link" href="#relative-HWB"></a></h3>
        <p>HWBカラーの意味は<a href="https://www.w3.org/TR/css-color-4/#the-hwb-notation"><cite>CSS Color 4</cite> § 8 HWB
                Colors:
                hwb() 関数</a>で定義されています。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-hwb"
                id="ref-for-funcdef-hwb③">hwb()</a>関数の文法は次のように拡張されています：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-hwb">hwb()</dfn> = hwb([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⓪">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⓪">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue③">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑦">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑨">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④①">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value④">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④②">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①①">?</a> )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑦">相対カラー</a>構文内の<a class="css"
                data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb④">hwb()</a>関数では、使用できる<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑥">成分キーワード</a>は以下の通りです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-h">h</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⓪">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑨">基準色</a>のHWB色相（度単位）に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion③">sRGBへ変換</a>された後、[0, 360]範囲に正規化されます。90は90degと同じです。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-w">w</dfn>と<dfn class="dfn-paneled css" data-dfn-for="hwb()"
                        data-dfn-type="value" data-export id="valdef-hwb-b">b</dfn>は<a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②①">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⓪">基準色</a>のHWB白度（whiteness）・黒度（blackness）に対応します。必要なら<a
                        data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion④">sRGBへ変換</a>されます。
                    100は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②②">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②①">基準色</a>のアルファ（透明度）に対応します。1.0は100%に相当します。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="4.6" id="relative-Lab"><span class="secno">4.6. </span><span
                class="content">相対Lab色</span><a class="self-link" href="#relative-Lab"></a></h3>
        <p>Labカラーの意味は<a href="https://www.w3.org/TR/css-color-4/#cie-lab"><cite>CSS Color
                    4</cite> § 9.1 CIE Lab and LCH</a>で定義されています。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-lab"
                id="ref-for-funcdef-lab②">lab()</a>関数の文法は次のように拡張されています：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lab">lab()</dfn> = lab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①①">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①②">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②③">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④④">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②④">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑥">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑧">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑤">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑨">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①③">?</a> )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑧">相対カラー</a>構文内の<a class="css"
                data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab③">lab()</a>関数では、使用できる<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑦">成分キーワード</a>は以下の通りです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-l">l</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑥">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②②">基準色</a>のCIE明度（Lightness）に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑤">CIE
                        Labに変換</a>されます。
                    100は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-a">a</dfn>および<dfn class="dfn-paneled css" data-dfn-for="lab()"
                        data-dfn-type="value" data-export id="valdef-lab-b">b</dfn>は<a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑦">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②③">基準色</a>のCIE Labのa軸・b軸に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑥">CIE
                        Labに変換</a>されます。
                    125は100%に、-125は-100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑧">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②④">基準色</a>のアルファ（透明度）に対応します。1.0は100%に相当します。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>Tests</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                                title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live
                                    test)</small></a> <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
                    </ul>
                </details>
        </ul>
        <div class="example" id="example-b411f1d3">
            <a class="self-link" href="#example-b411f1d3"></a> ベース色の透明度を調整する複数の方法：
            <ul>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / 100%)</span>は<span
                            class="css">var(--mycolor)</span>のアルファ値を元の値に関係なく1.0に設定します。</p>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / calc(alpha * 0.8))</span>は<span
                            class="css">var(--mycolor)</span>のアルファ値を元の値の20%減にします。
                    </p>
            </ul>
            <p>全ての調整はロスレスで、ガマットクリッピングが発生しません。lab()は可視色全体をカバーしているためです。
                sRGBベース関数（'rgb()', 'hsl()', 'hwb()'など）のアルファ調整では
                計算の過程でsRGBへ変換されるため
                必要なステップとしてHSLやHWBの計算時にアルファ値調整に加えsRGB変換も行われます。</p>
        </div>
        <div class="example" id="example-d39afaf1">
            <a class="self-link" href="#example-d39afaf1"></a> 色を完全にグレースケール化し、明度はそのまま保持する例：
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchidは <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>52.460</c-> <c- m>-34.103</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> <c- m>0</c-><c- p>)</c->
// mygrayは <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>0</c-><c- p>)</c-> で、これは <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="4.7" id="relative-Oklab"><span class="secno">4.7. </span><span
                class="content">相対Oklab色</span><a class="self-link" href="#relative-Oklab"></a></h3>
        <p>Oklab色の意味は<a href="https://www.w3.org/TR/css-color-4/#ok-lab"><cite>CSS Color
                    4</cite> § 9.2 OklabおよびOKLCh</a>で定義されています。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-oklab"
                id="ref-for-funcdef-oklab①">oklab()</a>関数の文法は次のように拡張されています：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklab">oklab()</dfn> = oklab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①②">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①④">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤①">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⓪">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤③">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤④">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑤">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑥">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑥">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑤">?</a> )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑨">相対カラー</a>構文内の<a class="css"
                data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab②">oklab()</a>関数では、使用できる<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑧">成分キーワード</a>は以下の通りです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-l">l</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③②">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑤">基準色</a>のOklab明度（Lightness）に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion⑦">Oklabへの変換</a>が行われます。
                    1.0は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-a">a</dfn>及び<dfn class="dfn-paneled css" data-dfn-for="oklab()"
                        data-dfn-type="value" data-export id="valdef-oklab-b">b</dfn>は<a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③③">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑥">基準色</a>のOklabのa軸・b軸に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion⑧">Oklabへの変換</a>が行われます。
                    0.4は100%、-0.4は-100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③④">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑦">基準色</a>のアルファ（透明度）に対応します。1.0は100%に相当します。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>Tests</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                                title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live
                                    test)</small></a> <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
                    </ul>
                </details>
        </ul>
        <h3 class="heading settled" data-level="4.8" id="relative-LCH"><span class="secno">4.8. </span><span
                class="content">相対LCH色</span><a class="self-link" href="#relative-LCH"></a></h3>
        <p>LCHカラーの意味は<a href="https://www.w3.org/TR/css-color-4/#cie-lab"><cite>CSS Color
                    4</cite> § 9.1 CIE LabとLCH</a>で定義されています。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-lch"
                id="ref-for-funcdef-lch③">lch()</a>関数の文法は次のように拡張されています：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lch">lch()</dfn> = lch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①③">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑥">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑧">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑥">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⓪">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue④">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥①">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑦">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥②">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑦">?</a> )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⓪">相対カラー</a>構文内の<a class="css"
                data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch④">lch()</a>関数では、使用できる<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑨">成分キーワード</a>は以下の通りです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-l">l</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑦">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑧">基準色</a>のCIE明度（Lightness）に対応します。
                    必要に応じて<a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑨">CIE
                        LCHへ変換</a>されます。
                    100は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-c">c</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑧">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑨">基準色</a>のLCH彩度（chroma）に対応します。
                    必要に応じて<a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①⓪">CIE
                        LCHへ変換</a>されます。
                    150は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-h">h</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑨">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⓪">基準色</a>のLCH色相（度単位）に対応します。
                    必要に応じて<a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①①">CIE
                        LCHへ変換</a>され、
                    [0, 360]範囲に正規化されます。90は90degと同じです。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⓪">&lt;number></a>であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③①">基準色</a>のアルファ（透明度）に対応します。1.0は100%に相当します。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="example-fef81186"><a class="self-link" href="#example-fef81186"></a> <span
                class="css">lch(from peru calc(l * 0.8) c h)</span>は<span class="swatch" style="--color: peru"></span>
            peru（lch(62.2532% 54.0114 63.6769)）より20%暗い色を生成します。彩度と色相は変化しません。
            結果は <span class="swatch" style="--color: rgb(57.58% 32.47% 3.82%)"> </span> lch(49.80256 54.0114 63.6769)
        </div>
        <div class="example" id="example-fb53cf30">
            <a class="self-link" href="#example-fb53cf30"></a> この例では色相角に180度加えて補色を作ります。
            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>));</c->
</pre>
            <p>lightseagreen は lch(65.4937 39.4484 190.1013) なので --complement は <span class="swatch"
                    style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> lch(65.4937 39.4484 370.1013)</p>
        </div>
        <div class="example" id="example-dddffb4a">
            <a class="self-link" href="#example-dddffb4a"></a> 色を完全にグレースケール化し、明度はそのまま保持する例：
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchidは <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>62.571</c-> <c- m>326.973</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> h<c- p>)</c->
// mygrayは <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>326.973</c-><c- p>)</c-> で、これは <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>ただしこの場合（色相を保持したため）、再び<em>彩度を戻す</em>こともできます：</p>
            <pre class="highlight"><c- k>--mymuted</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(72.710% 53.293% 71.224%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mygray<c- p>)</c-> l <c- m>30</c-> h<c- p>);</c->
// mymutedは <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>30</c-> <c- m>326.973</c-><c- p>)</c-> で、これは <c- nf>rgb</c-><c- p>(</c-><c- m>72.710</c-><c- k>%</c-> <c- m>53.293</c-><c- k>%</c-> <c- m>71.224</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <p>ただし、HSLと違い、操作結果が常にガマット内になるとは限りません。</p>
        <div class="example" id="ex-wildly-oog">
            <a class="self-link" href="#ex-wildly-oog"></a> この例では、明度と彩度は同じで
            120度異なる三分配色（トライアド）を作ろうとしています。
            基準色はRGBガマット内ですが、
            LCHで色相を回転すると
            ガマット外の色になります。
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
            <p>この場合、非常に高彩度な青緑色 <span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60% 90 200)
                となり、color(srgb -0.6 0.698 0.772) なのでsRGBではガマット外（赤成分が負）。
                実際、display-p3でも <span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> color(display-p3
                -0.46 0.68 0.758)
                rec2020でも <span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> color(rec2020
                -0.14 0.623 0.729) でガマット外となります。</p>
            <p>sRGBガマット内の最も近い色は <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60.71% 37.56
                201.1)
                であり、 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> rgb(0% 64.2% 66.3%) ですが
                彩度（37.5）が90から大幅に減少します。</p>
            <figure id="fig-LCH-rotation-oog">
                <object data="images/LCH-rotation-oog.svg" height="520" width="540"></object>
                <p>CIE CH平面の図。相対色操作を示します。
                    <em>a</em>軸と<em>b</em>軸がラベル付けされ、中央で交差しています。
                    中央の明度軸を上から見下ろしています。
                    sRGB色空間の最大ガマットは
                    不規則な凸多角形として表示されます。
                </p>
                <figcaption> この図はCIE ab平面上のsRGBガマットを示しています。
                    小さい円は原色・副原色を示します。
                    <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> 基準色は大きい円で、sRGBガマット内です。
                    しかしLCH色相を-120°回転すると<span class="swatch oog" style="--color: #AAA"></span> ガマット外（灰色塗り＋赤枠）になります。
                    ガマットマッピング後の<span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span>結果は彩度が大幅に低下します。
                </figcaption>
            </figure>
            <p>同じ操作をHSLで行えばガマット内の結果になりますが、
                他の点で満足できません：</p>
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>HSLでは --mycolor は <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> hsl(289.18
                93.136% 65.531%)
                なので、120度引くと <span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> hsl(169.18
                93.136% 65.531%) になります。
                この結果をLCHに戻すと <span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> lch(89.0345%
                49.3503 178.714)
                となり、HSLで色相を回転すると
                明度は60%から89%に跳ね上がり、
                彩度も90から49に減り、
                色相も実際には120度ではなく141度変化しています。</p>
        </div>
        <h3 class="heading settled" data-level="4.9" id="relative-OkLCh"><span class="secno">4.9. </span><span
                class="content">相対 OkLCh 色</span><a class="self-link" href="#relative-OkLCh"></a></h3>
        <p>OkLChカラーの意味は、<a href="https://www.w3.org/TR/css-color-4/#ok-lab"><cite>CSS Color
                    4</cite> § 9.2 OklabおよびOKLCh</a>で定義されています。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-oklch"
                id="ref-for-funcdef-oklch③">oklch()</a>関数の文法は次のように拡張されています：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklch">oklch()</dfn> = oklch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①④">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑧">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥④">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑥">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue⑤">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑦">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑧">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑧">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑨">?</a> )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①①">相対カラー</a>構文内の<a class="css"
                data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch④">oklch()</a>関数で使える<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①⓪">成分キーワード</a>は以下の通りです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-l">l</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④③">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③②">基準色</a>のOklab明度に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①②">OkLChへの変換</a>が行われます。
                    1.0は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-c">c</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④④">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③③">基準色</a>のOkLCh彩度に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①③">OkLChへの変換</a>が行われます。
                    0.4は100%に相当します。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-h">h</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑤">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③④">基準色</a>のOkLCh色相（度）に対応します。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①④">OkLChへの変換</a>が行われ、
                    [0, 360]の範囲に正規化されます。90は90degと同じです。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑥">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑤">基準色</a>のアルファ（透明度）に対応します。1.0は100%に相当します。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <p>OkLChは知覚的に均一でクロマ保持的であり、また軸が色の分かりやすい属性に対応しているため、OkLChは色操作に適しています。</p>
        <div class="example" id="ex-oklch-wildly-oog">
            <a class="self-link" href="#ex-oklch-wildly-oog"></a> この例では、同じ明度と彩度を持つ新しい色を作ることが目的ですが、三分割配色（色相を120度ずらす）です。
            この例ではOkLChで操作を行います。
            基準色はRGBガマット内ですが、OkLChで色相を回転させると再びガマット外の色になります。
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
            <p>--mycolorは<span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> oklch(0.69012 0.25077
                319.893)です。
                色相から120引くと、非常に高彩度な青緑<span class="swatch oog" style="--color: grey"></span> oklch(0.69012 0.25077
                199.893)になり、
                これはsRGBガマット外であり、
                color(srgb -0.6018 0.7621 0.8448)
                のように赤成分が負になっています。
                OkLChクロマを減らせばガマット内に収めることができ、<span class="swatch" style="--color: rgb(0.079% 69.282% 72.067%)"></span>
                oklch(0.69012 0.1173 199.893)となります。
                OkLChクロマは0.251から0.117に減少しました。</p>
        </div>
        <h3 class="heading settled" data-level="4.10" id="relative-alpha"><span class="secno">4.10. </span><span
                class="content">相対アルファ色</span><a class="self-link" href="#relative-alpha"></a></h3>
        <p>相対アルファカラーは基準色を参照し、アルファチャンネルのみを変更します。アルファチャンネルの意味は、<a
                href="https://www.w3.org/TR/css-color-4/#alpha-syntax"><cite>CSS Color 4</cite>
                § 4.2 色の透明度の表現：&lt;alpha-value>構文</a>で定義されています。</p>
        <p>このレベルで新たに導入された<a class="css" data-link-type="maybe" href="#funcdef-alpha"
                id="ref-for-funcdef-alpha①">alpha()</a>関数の文法は以下の通りです：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-alpha">alpha()</dfn> = alpha([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑤">&lt;color></a>]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑨">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑨">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②⓪">?</a> )
</pre>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①②">相対カラー</a>構文内の<a class="css"
                data-link-type="maybe" href="#funcdef-alpha" id="ref-for-funcdef-alpha②">alpha()</a>関数で使える<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①①">成分キーワード</a>は以下の通りです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="alpha()" data-dfn-type="value" data-export
                        id="valdef-alpha-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑦">&lt;number></a>で、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑥">基準色</a>のアルファ（透明度）に対応します。1.0は100%に相当します。</p>
        </ul>
        <p><a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑦">基準色</a>の色成分は変更されず、
            アルファ成分だけが修正または置換されます。
            この関数の結果は基準色のカラー空間に属します。</p>
        <div class="example" id="ex-alpha-replace">
            <a class="self-link" href="#ex-alpha-replace"></a> 例：ここでは結果は基準色と同じですが、
            アルファが80%に変更されています
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.3)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>0.25</c-> <c- m>315</c-> / <c- m>0.3</c-><c- p>);</c->
<span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.8)"></span> <c- nf>alpha</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> / <c- m>80</c-><c- k>%</c-><c- p>);</c->
</pre>
        </div>
        <div class="example" id="ex-alpha-change">
            <a class="self-link" href="#ex-alpha-change"></a> 例：ここでは結果は基準色と同じですが、
            アルファは基準色の1/2になります
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.8)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>0.25</c-> <c- m>315</c-> / <c- m>0.8</c-><c- p>);</c->
<span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.4)"></span> <c- nf>alpha</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> / <c- nf>calc</c-><c- p>(</c->alpha * <c- m>0.5</c-><c- p>));</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="5" id="color-function"><span class="secno">5. </span><span
                class="content"> 事前定義およびカスタム色空間の指定：<a class="css" data-link-type="maybe" href="#funcdef-color"
                    id="ref-for-funcdef-color②">color()</a>関数
            </span><a class="self-link" href="#color-function"></a></h2>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color③">color()</a>
            関数は、特定の<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                id="ref-for-color-space②">色空間</a>（他の多くの色関数が暗黙的にsRGB色空間で動作するのに対し、明示的に指定された色空間）で
            色を指定できます。</p>
        <p>このレベルでは、<a class="css" data-link-type="maybe" href="#funcdef-color"
                id="ref-for-funcdef-color④">color()</a>関数が拡張され、
            <a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS
                    Color 4</cite> §  10. 事前定義色空間</a>で定義されているプリセット空間に加えて
            カスタム色空間も指定できるようになります。
        </p>
        <p>また、絶対色だけでなく相対色も指定できるよう拡張されています。</p>
        <p>構文は以下の通りです：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color">color()</dfn> = color( [from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑥">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②①">?</a> <a class="production" data-link-type="type" href="#typedef-colorspace-params" id="ref-for-typedef-colorspace-params">&lt;colorspace-params></a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①⓪">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⓪">|</a> none ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②②">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-colorspace-params">&lt;colorspace-params></dfn> = [<a class="production" data-link-type="type" href="#typedef-custom-params" id="ref-for-typedef-custom-params">&lt;custom-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦①">|</a> <a class="production" data-link-type="type" href="#typedef-predefined-rgb-params" id="ref-for-typedef-predefined-rgb-params">&lt;predefined-rgb-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦②">|</a> <a class="production" data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params">&lt;xyz-params></a>]
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-params">&lt;custom-params></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident">&lt;dashed-ident></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦④">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb-params">&lt;predefined-rgb-params></dfn> = <a class="production" data-link-type="type" href="#typedef-predefined-rgb" id="ref-for-typedef-predefined-rgb">&lt;predefined-rgb></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑥">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num②">{3}</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb">&lt;predefined-rgb></dfn> = srgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑦">|</a> srgb-linear <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑧">|</a> display-p3 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑨">|</a> a98-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⓪">|</a> prophoto-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧①">|</a> rec2020
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-xyz-params">&lt;xyz-params></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-xyz-space" id="ref-for-typedef-xyz-space">&lt;xyz-space></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑤⓪">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧③">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num③">{3}</a>
</pre>
        <p>color関数は明示的に指定された色空間で色を指定するためのパラメータを受け取ります。</p>
        <p>この関数は、下記で説明する<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="invalid-color">無効な色</dfn>
            または<a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color">有効な色</a>を表します。</p>
        <p>無効な色でない場合はすべて<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="valid-color">有効な色</dfn>です。</p>
        <p>有効な色であっても、出力デバイス（スクリーン、プロジェクタ、プリンタ）で
            再現可能な色域の範囲外である場合があります。
            その場合は、その色空間に対して<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="out-of-gamut">ガマット外</dfn>と言います。
        </p>
        <p>ガマット外の色は成分値が0や0%未満、1や100%超過となります。
            これらは無効ではなく、表示のために<a data-link-type="dfn" href="#gamut-map" id="ref-for-gamut-map">ガマットマッピング</a>によって
            相対色表色意図で0/0%〜1/100%の範囲に収められ、
            計算値時に処理されます。</p>
        <p>各<a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color②">有効な色</a>は出力デバイス（スクリーン、プリンタなど）のガマット内か
            <a data-link-type="dfn" href="#out-of-gamut" id="ref-for-out-of-gamut">ガマット外</a>のいずれかです。
        </p>
        <h3 class="heading settled" data-level="5.1" id="relative-color-function"><span class="secno">5.1. </span><span
                class="content">相対 color() 関数色</span><a class="self-link" href="#relative-color-function"></a></h3>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①③">相対カラー</a>構文の<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑤">color()</a>関数で<a
                class="production css" data-link-type="type" href="#typedef-custom-params"
                id="ref-for-typedef-custom-params①">&lt;custom-params></a>を使用する場合、許可される<a data-link-type="dfn"
                href="#component-keyword" id="ref-for-component-keyword①②">成分キーワード</a>の数と名前は:</p>
        <ul>
            <li data-md>
                <p>該当する<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                        id="ref-for-at-ruledef-profile">@color-profile</a>の<a class="property" data-link-type="propdesc"
                        href="#descdef-color-profile-components"
                        id="ref-for-descdef-color-profile-components">components</a>記述子で定義されていればそれに従う。
                    そうでない場合、相対カラー操作は無効である。これらは<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤①">&lt;number></a>型であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑧">基準色</a>の各成分に対応し、
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①⑤">カラープロファイルの色空間への変換</a>後の値となる。1.0は100%に相当。</p>
        </ul>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①④">相対カラー</a>構文の<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑥">color()</a>関数で<a
                class="production css" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params①">&lt;predefined-rgb-params></a>を使用する場合、
            許可される<a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①③">成分キーワード</a>は:</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-r">r</dfn>、<dfn class="dfn-paneled css" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-g">g</dfn>、<dfn class="dfn-paneled css"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-b">b</dfn>はすべて<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤②">&lt;number></a>型であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑨">基準色</a>の赤・緑・青各成分に対応。
                    必要なら<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①⑥">定義済みRGB色空間への変換</a>後の値となる。
                    1.0は100%に相当。</p>
        </ul>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑤">相対カラー</a>構文の<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑦">color()</a>関数で<a
                class="production css" data-link-type="type" href="#typedef-xyz-params"
                id="ref-for-typedef-xyz-params①">&lt;xyz-params></a>を使用する場合、
            許可される<a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①④">成分キーワード</a>は:</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-x">x</dfn>、<dfn class="dfn-paneled css" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-y">y</dfn>、<dfn class="dfn-paneled css"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-z">z</dfn>はすべて<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤③">&lt;number></a>型であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color④⓪">基準色</a>のX・Y・Z各成分に対応。
                    必要なら<a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①⑦">相対CIE
                        XYZ色空間への変換（適切な白色点への調整）</a>後の値となる。
                    1.0は100%に相当。</p>
        </ul>
        <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑥">相対カラー</a>構文の<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑧">color()</a>関数で
            <a class="production css" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params②">&lt;predefined-rgb-params></a>または<a class="production css"
                data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params②">&lt;xyz-params></a>
            を使う場合、さらに許可される<a data-link-type="dfn" href="#component-keyword"
                id="ref-for-component-keyword①⑤">成分キーワード</a>として:
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-alpha">alpha</dfn>は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤④">&lt;number></a>型であり、<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color④①">基準色</a>のアルファ（透明度）に対応し、1.0は100%に相当。</p>
        </ul>
        <p>パラメータの形式：</p>
        <ul>
            <li data-md>
                <p>色空間を示す<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident">&lt;ident></a> または <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident①">&lt;dashed-ident></a>。
                    <span class="production" id="ref-for-typedef-ident①">&lt;ident></span>は
                    <a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color
                            4</cite> § 10. Predefined Color Spaces</a>
                    の定義済み色空間（例：<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3"
                        id="ref-for-valdef-color-display-p3">display-p3</a>）を指定。
                    <span class="production" id="ref-for-typedef-dashed-ident②">&lt;dashed-ident></span>なら
                    <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                        id="ref-for-at-ruledef-profile①">@color-profile</a>規則で定義されたカスタム色空間を示す。
                    個々の定義済み色空間は<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑤">&lt;number></a>または<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑤">&lt;percentage></a>あるいはその両方の利用可否をさらに制限できる。
                </p>
                <p><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident②">&lt;ident></a>が存在しない色空間名の場合
                    （定義済色空間に一致しない場合やサポートされていない場合）、
                    この引数は<a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color①">無効な色</a>となる。</p>
                <p><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident③">&lt;dashed-ident></a>が存在しない色空間名の場合
                    （<a data-link-type="dfn" href="#css-color-profile"
                        id="ref-for-css-color-profile">カラープロファイル</a>名に一致しない、または一致しても未ロードや無効など）、
                    この引数は<a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color②">無効な色</a>となる。</p>
            <li data-md>
                <p>一つ以上の<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑥">&lt;number></a>または<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑥">&lt;percentage></a>でパラメータ値を指定。</p>
                <p>カスタム色空間の場合、成分値が0未満/0%未満または1超/100%超でも無効にはならず、
                    算出値時に有効範囲にクランプされる（ICCプロファイルは範囲外入力を許さないため）。</p>
                <p>カスタム色空間でパラメータ数より多い<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑦">&lt;number></a>または<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑦">&lt;percentage></a>を与えた場合、
                    余剰な値は末尾から無視される。
                    それでも<a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color③">有効な色</a>である。</p>
                <p>カスタム色空間でコンポーネント記述子より多い<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑨">&lt;number></a>または<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑧">&lt;percentage></a>を与えた場合、
                    余剰な値は末尾にあっても有効だが、Relative Color Syntaxでは使用できない。
                    それでも<a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color④">有効な色</a>である。</p>
                <p>カスタム色空間でパラメータ数より少ない<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑥⓪">&lt;number></a>または<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑨">&lt;percentage></a>の場合、
                    欠落した値は<span class="css">0</span>が既定値。
                    （多成分プリンタなどで追加インクが多い際に便利。）
                    この場合も<a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color⑤">有効な色</a>である。</p>
                <p>定義済み色空間では、
                    成分値が0未満/0%未満または1超/100%超でも無効にはならず、
                    これらガマット外色は算出値時に相対色度法で有効範囲にガマットマッピングされる。</p>
            <li data-md>
                <p>スラッシュ区切りの<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value"
                        id="ref-for-typedef-color-alpha-value①①">&lt;alpha-value></a>（省略時は<span
                        class="css">100%</span>）。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(ライブテスト)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-RCS-XYZ">
            <a class="self-link" href="#ex-RCS-XYZ"></a> 例：CIE XYZ D65 色空間で相対色構文を使い、
            ベース色と同じ色度で輝度のみ半分にした色を生成：
            <pre class="lang-css highlight"><c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(73.58% 48.92% 10.45%)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.7</c-> <c- m>0.5</c-> <c- m>0.1</c-><c- p>);</c->
<c- k>--dark</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(53.617% 35.186% 6.4237%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> xyz-d65 <c- nf>calc</c-><c- p>(</c->x/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->y/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->z/<c- m>2</c-><c- p>));</c->
</pre>
            <p>基準色は color(xyz-d65 0.281 0.253 0.044)
                相対色は color(xyz-d65 0.14 0.126 0.022) です。</p>
        </div>
        <h3 class="heading settled" data-level="5.2" id="custom-color"><span class="secno">5.2. </span><span
                class="content">カスタム色空間</span><a class="self-link" href="#custom-color"></a></h3>
        <p>CSSでは<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color"
                id="ref-for-color">色</a>を色プロファイル参照で指定できます。
            例えばキャリブレーション済みCMYKプリンタ、
            RGB色空間、
            または特性評価済みの任意のカラー・モノクロ出力デバイスなどです。</p>
        <div class="example" id="ex-profiles-colors">
            <a class="self-link" href="#ex-profiles-colors"></a> この例では4つのキャリブレーション済み色を指定しています：
            2つはカスタム空間
            （SWOPコートCMYK印刷機用と広色域7色インクプリンタ用）、
            残り2つは事前定義空間
            （ProPhoto RGB と display-p3 RGB）。
            すべて数値パラメータは0.0〜1.0の範囲（例えば0〜255ではなく）です。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--swopc <c- m>0.0134</c-> <c- m>0.8078</c-> <c- m>0.7451</c-> <c- m>0.3019</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--indigo <c- m>0.0941</c-> <c- m>0.6274</c-> <c- m>0.3372</c-> <c- m>0.1647</c-> <c- m>0</c-> <c- m>0.0706</c-> <c- m>0.1216</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->prophoto-rgb <c- m>0.9137</c-> <c- m>0.5882</c-> <c- m>0.4784</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.3804</c-> <c- m>0.9921</c-> <c- m>0.1412</c-><c- p>);</c->
</pre>
        </div>
        <p>事前定義色空間<a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10.
                事前定義色空間</a>を使わない色は
            <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident④">&lt;dashed-ident></a>を使うことで区別され、
            スタイルシート内のどこかで一致する<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile②">@color-profile</a>規則が必要です。
            これにより名前とプロファイルデータが関連付けられます。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(ライブテスト)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-profiles-colors-at">
            <a class="self-link" href="#ex-profiles-colors-at"></a>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swopc <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/swop-coated.icc'</c-><c- p>);}</c->
<c- n>@color-profile</c-> --indigo <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/indigo-seven.icc'</c-><c- p>);}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.3" id="at-profile"><span class="secno">5.3. </span><span
                class="content">色プロファイルの指定：<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile③">@color-profile</a> at規則</span><a class="self-link"
                href="#at-profile"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export
                id="at-ruledef-profile">@color-profile</dfn>規則は
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="color profile" data-lt="CSS color profile"
                data-noexport id="css-color-profile">色プロファイル</dfn>を定義・命名し、
            後で<a class="css" data-link-type="maybe" href="#funcdef-color"
                id="ref-for-funcdef-color⑨">color()</a>関数で色指定に利用できます。
        </p>
        <p>定義は以下の通りです：</p>
        <pre class="prod">@color-profile = @color-profile [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑤">&lt;dashed-ident></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧④">|</a> <span class="css">device-cmyk</span>] { <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" id="ref-for-typedef-declaration-list">&lt;declaration-list></a> }
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(ライブテスト)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <p><a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑥">&lt;dashed-ident></a>は<a data-link-type="dfn"
                href="#css-color-profile" id="ref-for-css-color-profile①">色プロファイル</a>の名前を指定し、
            CSSスタイルシートで利用されます。
            また、<span class="css">device-cmyk</span>キーワードを使うと、
            この色プロファイルが有効なら
            <span class="css">device-cmyk</span>指定色の解決に用いられます。
        </p>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile④">@color-profile</a>規則はこの仕様で定義されたディスクリプタを受け付けます。</p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名前:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-src">src</dfn>
                <tr>
                    <th>対象:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑤">@color-profile</a>
                <tr>
                    <th>値:
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#url-value" id="ref-for-url-value">&lt;url></a>
                <tr>
                    <th>初期値:
                    <td>n/a
        </table>
        <p><a class="property" data-link-type="propdesc" href="#descdef-color-profile-src"
                id="ref-for-descdef-color-profile-src">src</a>ディスクリプタは
            色プロファイル情報取得用のURLを指定します。</p>
        <p>同じ名前の<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile⑥">@color-profile</a>規則が複数定義されている場合は、文書順で最後のものが有効となり、それ以前のものは無視されます。</p>
        <p>取得したICCプロファイルは、以下の場合に有効です。</p>
        <ul>
            <li data-md>
                <p>ICCプロファイルとしてパースできること</p>
            <li data-md>
                <p>Input、Display、Output、または色空間ICCプロファイルであること（Abstract, DeviceLink, NamedColor ICCプロファイルは使用不可）。</p>
        </ul>
        <p>プロファイルが有効でない場合、このプロファイルを参照する全てのCSSカラーは<a data-link-type="dfn" href="#invalid-color"
                id="ref-for-invalid-color③">無効な色</a>となります。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="fetch-an-external-color-profile">外部カラープロファイルを取得する</dfn>には、<a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile⑦">@color-profile</a>規則<var>rule</var>を指定し、<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#fetch-a-style-resource"
                id="ref-for-fetch-a-style-resource">スタイルリソースを取得</a>します。リソースのURLには<var>rule</var>のURLを使い、ruleOrDeclarationは<var>rule</var>、destinationは"color-profile"、CORSモードは"cors"、processResponseには<a
                data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response">応答</a>|/res| と、null/失敗/またはバイトストリーム<var>byteStream</var>の場合の処理を書きます。
            <var>byteStream</var>がバイトストリームの場合は、|byteStream|をパースして得たカラープロファイルを適用します。
        </p>
        <p class="note" role="note"><span class="marker">注:</span> ICCプロファイルのインターネットメディアタイプ（MIMEタイプ）は <a
                href="https://www.iana.org/assignments/media-types/application/vnd.iccprofile">application/vnd.iccprofile</a>
            です。
        </p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名前:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-rendering-intent">rendering-intent</dfn>
                <tr>
                    <th>対象:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑧">@color-profile</a>
                <tr>
                    <th>値:
                    <td class="prod">relative-colorimetric <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑤">|</a>
                        absolute-colorimetric <span id="ref-for-comb-one⑧⑥">|</span> perceptual <span
                            id="ref-for-comb-one⑧⑦">|</span> saturation
                <tr>
                    <th>初期値:
                    <td>relative-colorimetric
        </table>
        <p><a data-link-type="dfn" href="#css-color-profile"
                id="ref-for-css-color-profile②">カラープロファイル</a>には「レンダリングインテント」が含まれており、定義された範囲より小さいガマットへどのように<a
                data-link-type="dfn" data-dfn-type="dfn" id="gamut-map">ガマットマッピング</a>するかを定義します。
            多くの場合プロファイルは単一のインテントのみを持ちますが、複数ある場合は
            <a class="property" data-link-type="propdesc" href="#descdef-color-profile-rendering-intent"
                id="ref-for-descdef-color-profile-rendering-intent">rendering-intent</a>記述子でどのインテントを使うか選びます。
        </p>
        <p>レンダリングインテントの種類は4つあります（<a data-link-type="biblio" href="#biblio-icc"
                title="ICC.1:2022 (Profile version 4.4.0.0)">[ICC]</a>参照）：</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export
                    id="valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</dfn>
            <dd>
                メディア相対色度法は、出力先媒体ガマット内の入力色をそれぞれのメディア白点に対して変更せず保持することが求められます。出力媒体外の色はガマット境界上に、さまざまな方法でマッピングされます。
                <p>しばしばブラックポイント補正（ソースの黒点も出力黒点にマッピング）が使われます。この方法では白点が必ずマッピングされ、ブラックポイント補正時は黒点も必ずマッピングされます。適切な順応アルゴリズムで白点の違いを補正すべきです。ガマット内色同士の相対的関係は保持すべきで、ガマット外では関係が変化しても構いません。
                </p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export
                    id="valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</dfn>
            <dd>
                ICC-絶対色度法は、出力媒体ガマット内の入力色を、採用した白色（理想的な拡散反射体）に対して変更せず保持します。出力媒体外の色はガマット境界上にマッピングされます。この方法はガマット内色で最も正確な色合致をもたらしますが、出力側白点が入力白点より低い場合、ハイライトがクリッピングされます。そのため、厳密な色合致が必要でハイライトクリッピングが問題にならない用途のみに推奨されます。
                <p>この方法ではホワイトポイント・ブラックポイントのマッチングを無効にします。通常、テスト用途以外には推奨されません。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-perceptual">perceptual</dfn>
            <dd>
                この方法は画像に推奨されることが多く、特にソースとターゲットに大きな差がある場合（例：モニター画像を反射プリントで再現）。ソース画像の色を取り、出力媒体向けに外観を再最適化します。この最適化によって、両ガマット内の色も変更されることがありますが、芸術的意図は維持されるべきです。元画像のエラー補正は行いません。
                <p class="note" role="note"><span class="marker">注:</span> v2
                    ICCプロファイルでは知覚リファレンスメディアが指定されておらず、相互運用問題の原因となります。v2ではperceptual intentよりmedia-relative
                    colorimetric+black point compensationの方が安全な場合が多いです。</p>
                <p>ターゲットガマットへのマッピング時は、ピクセル間の相対的色値を維持すべきです。場合によってはガマット内のピクセル値も変化しますが、色相の急変や不連続を回避し、全体外観を極力維持します。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-saturation">saturation</dfn>
            <dd> このオプションは、元の相対的な彩度（クロマ）を保持し、
                かつ単色を純粋なまま保つために作成された。しかし、
                知覚的インテントと同様に相互運用性の問題が発生し、
                また単色保持は参照媒体ソリューションに適さないため、
                v4プロファイルを用いた解決でも問題は解消されない。
                このレンダリングインテントの使用は、使用する特定の
                ソースおよびデスティネーションプロファイルを確認し、
                その組み合わせが望ましい結果を生むことが確かめられて
                いない限り、推奨されない。
                このオプションは、元のピクセルの相対的な彩度（クロマ）
                値を保持するべきである。色域外の色は、同じ彩度を持ち
                つつ色域の内側ぎりぎりに収まる色へ変換されるべきである。
        </dl>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名前:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-components">components</dfn>
                <tr>
                    <th>対象:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑨">@color-profile</a>
                <tr>
                    <th>値:
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                            id="ref-for-typedef-ident③">&lt;ident></a><a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>
                <tr>
                    <th>初期値:
                    <td>n/a
        </table>
        <p>カラープロファイルは、成分数が可変な色空間を定義できます。
            例: シアン・マゼンタ・イエロー・ブラック（CMYK）プロファイルは
            c, m, y, kの4成分を持ち、
            4成分の加法混色スクリーンプロファイルの場合は
            r, g, y, b のように異なる成分名を使うことがあります。</p>
        <p>この記述子の値は、<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                id="ref-for-typedef-ident④">&lt;ident></a>トークンで構成されるカンマ区切りリストです。
            各<span class="production" id="ref-for-typedef-ident⑤">&lt;ident></span>が成分名であり、
            カラープロファイル上の使用順に並べられ、トークン数が成分数を示します。</p>
        <div class="example" id="ex-components-cmyk">
            <a class="self-link" href="#ex-components-cmyk"></a> この記述では、4つの成分cyan, magenta, yellow, blackを持つことを示します:
            <pre>components: cyan, magenta, yellow, black</pre>
            <p>省略系の記述例:</p>
            <pre>components: c,m,y,k</pre>
        </div>
        <div class="example" id="ex-components-cmykogv">
            <a class="self-link" href="#ex-components-cmykogv"></a> この記述では、7つの成分cyan, magenta, yellow, black, orange,
            green, violetを持つことを示します:
            <pre>components: cyan, magenta, yellow, black, orange, green, violet</pre>
        </div>
        <p>成分が<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive">ASCII大文字小文字無視</a>で<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none"
                id="ref-for-valdef-color-none②">none</a>と一致する場合、その記述子は無効です。これは欠損値とトークンが衝突するためです。</p>
        <p>成分名が<a href="https://www.w3.org/TR/css-values-4/#calc-constants"><cite>CSS Values 4</cite>
                § 10.7.1 数値定数: e, pi</a>で定義された定数と衝突しても、その成分は有効ですが、
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                id="ref-for-funcdef-calc">calc()</a>の中では数値定数が優先され、期待通りに動作しません。
        </p>
        <div class="example" id="ex-component-pi">
            <a class="self-link" href="#ex-component-pi"></a> 次の記述例では成分名に<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-values-4/#valdef-calc-pi"
                id="ref-for-valdef-calc-pi">pi</a>を使っており、相対カラー構文で想定外の動作となります。
            <pre>@color-profile --unwise {
  src: url(https://example.com/unwise);
  components: mi, pi, ni;
}
--base: color(--unwise 35% 20% 8%);
--accent: color(from var(--base) mi calc(pi * 2) calc(ni / 2));
</pre>
            <p>この場合、--accentの成分値は35%、
                3.14159265358979 * 2 = 6.28318530717959、
                4%となります。</p>
        </div>
        <h3 class="heading settled" data-level="5.4" id="cal-cmyk"><span class="secno">5.4. </span><span
                class="content"> CSSと印刷：キャリブレーションCMYKやその他の印刷用色空間の利用 </span><a class="self-link" href="#cal-cmyk"></a>
        </h3>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile①⓪">@color-profile</a>ルールはRGB色空間に限定されません。
            画面は通常RGBで色を直接表示しますが、
            プリンターは多くの場合CMYKで色を再現します。</p>
        <p>シアン、マゼンタ、イエロー、ブラック（CMYK）による校正された四色印刷や、
            シアン、マゼンタ、イエロー、ブラック、オレンジ、グリーン、バイオレット（CMYKOGV）のような
            高忠実度ワイドガマット印刷もCSSで扱うことができます。
            その際に使用するインク・用紙・総インク量上限・機材の条件に合ったICCプロファイルがあれば
            この組み合わせに対応させることが可能です。</p>
        <div class="example" id="ex-fogra">
            <a class="self-link" href="#ex-fogra"></a> たとえば、FOGRA39特性データを使い、
            115gsmコート紙・インクリミット300%（総面積率）の
            ISO 12647-2:2004 / Amd 1:2007オフセット印刷
            <a data-link-type="biblio" href="#biblio-fogra39"
                title="ISO 12647-2:2004 / Amd 1, Offset commercial and specialty printing according to ISO 12647-2, paper type 1 or 2 (gloss or matte coated offset, 115 g/m²), screen frequency 60/cm">[FOGRA39]</a>の場合：
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra39 <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span>  <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
  <c- p>}</c->
</pre>
            <p>ここではcolor()関数が、まず指定プロファイルの名前を指定し、
                その後シアン・マゼンタ・イエロー・ブラックの各パーセンテージを続けています。</p>
            <p>このプロファイルでは、この入力値は
                <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> lab(63.673303% 51.576902
                5.811058)、
                <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> rgb(93.124, 44.098%
                57.491%)の色に解決されます。
            </p>
        </div>
        <p>特定のCMYKの組み合わせから得られる実際の色が分かっているため、
            その印刷結果（ソフトプルーフ）を画面上に可視化できます。</p>
        <p>また、色を前提とした処理
            （アンチエイリアス、合成、グラデーションへの使用等）も
            通常どおり行えます。</p>
        <figure id="fig-fogra51-roundtrip">
            <object data="images/macbeth-roundtrip.svg" height="500" width="720">
                <p>色付きの正方形グリッド。6列（A～F）、4行（1～4）です。</p>
            </object>
            <figcaption>
                <p>印刷や写真業界で色再現性を確認するためのカラーチェッカー。
                    各パッチの測定Lab値中央値が取得でき、
                    長方形はLab値をsRGBに変換したもの、
                    円はLab値をFOGRA51 <a data-link-type="biblio" href="#biblio-fogra51"
                        title="ISO 12647-2:2013, Process control for the production of half-tone colour separations, proof and production printsPart 2: Offset lithographic processes, PS 1, premium coated, 115 g/m², moderate substrate fluorescence">[FOGRA51]</a>
                    ICCプロファイルでCMYK変換したのち、逆変換して得られたLab値を表示、
                    さらにそれをsRGBに変換しています。</p>
                <p>もっとも目立つ円（3行目1列目）は
                    FOGRA51 CMYKガマット外になったためです。</p>
                <p>下の表は各パッチごとに元のLab値とCMYKラウンドトリップ後Lab値のDeltaE2000を示します。
                    DeltaE 2000が1以上だと人間が少し識別できる変化です。</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE0">0.06
                            <td class="dE0">0.07
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.17
                        <tr>
                            <th>2
                            <td class="dE0">0.03
                            <td class="dE0">0.75
                            <td class="dE0">0.05
                            <td class="dE0">0.06
                            <td class="dE0">0.03
                            <td class="dE0">0.02
                        <tr>
                            <th>3
                            <td class="dE2">1.9
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.05
                            <td class="dE0">0.02
                            <td class="dE0">0.05
                        <tr>
                            <th>4
                            <td class="dE0">0.03
                            <td class="dE0">0.08
                            <td class="dE0">0.03
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.80
                </table>
            </figcaption>
        </figure>
        <div class="example" id="ex-swop5v2">
            <a class="self-link" href="#ex-swop5v2"></a> この例は、CGATS/SWOP TR005 2007特性データを持つgrade5用紙を用いた、
            ISO 12647-2:2004オフセット印刷
            インクリミット300%・中程度グレー成分置換（GCR）です。
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>このプロファイルで同じCMYK割合（前例と同じ数値）は
                <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> lab(64.965217% 52.119710
                5.406966)、
                <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> rgb(94.903% 45.248%
                59.104%)の色になります。
            </p>
        </div>
        <p>フォールバック色は、例えばメディアクエリを使って、
            指定したCMYK色がsRGBガマット外と分かっている時などに指定可能です。</p>
        <div class="example" id="ex-fogra39-fallback-mq">
            <a class="self-link" href="#ex-fogra39-fallback-mq"></a> この例では前と同じFOGRA39セットアップを使いますが、
            sRGBガマット外の鮮やかな緑を指定しています。
            ただしディスプレイp3ガマット内には入っているため、
            ワイドガマットディスプレイや印刷ではそのまま表示され、
            sRGBディスプレイではより控えめなフォールバックが使われます。
            <pre class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->color-gamut: srgb<c- p>)</c-> <c- p>{</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>8.154</c-><c- k>%</c-> <c- m>60.9704</c-><c- k>%</c-> <c- m>37.184</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
<c- n>@media</c-> print<c- p>,</c-> <c- p>(</c->color-gamut: p3<c- p>){</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch oog" style="--color: rgb(0% 62.06% 34%)"></span> <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
</pre>
            <p>このCMYK色はlab(56.596645% -58.995875 28.072154)
                またはlch(56.596645% 65.33421077211648 154.5533771086801)に相当します。
                sRGBではrgb(-60.568% 62.558% 32.390%)で
                （赤成分が大きくマイナスでガマット外であることが分かる）。</p>
            <p>クロマを減らしてガマット内にすることで
                <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> lch(56.596645% 51
                154.5533771086801)、
                <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> rgb(8.154% 60.9704%
                37.184%)
                になり、これを手動でフォールバック色に指定しています。
            </p>
            <p>ワイドガマット画面ではdisplay-p3ガマット内
                （display-p3(0.1658 0.6147 0.3533)）です。</p>
        </div>
        <p>色は4色（CMYK）に限りません。たとえばワイドガマット7色インクセットも使えます。</p>
        <div class="example" id="ex-fogra55beta-7color">
            <a class="self-link" href="#ex-fogra55beta-7color"></a>この例ではCMYKOGV 7色印刷用のbeta版FOGRA55データセットを使います
            <a data-link-type="biblio" href="#biblio-fogra55" title="CMYKOGV-based gamut exchange space">[FOGRA55]</a>。
            インクのうち黒、シアン、マゼンタ、イエローの4色は
            FOGRA51セットと同じで同じ結果になります。
            残り3色は次の通りです：
            <ul>
                <li>オレンジ: CIELAB 65 58 88
                <li>グリーン: CIELAB 60 -75 0
                <li>CIELAB 22 47 -56
            </ul>
            <p>測定条件M1は、用紙の蛍光増白剤を考慮し、
                分光測色計にUVカットフィルターを用いないことを意味します。</p>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra55beta <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/2020_13.003_FOGRA55beta_CL_Profile.icc'</c-><c- p>);</c->
<c- p>}</c->
.dark_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(45.8702% 32.0071% 26.3813%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.183596</c-> <c- m>0.464444</c-> <c- m>0.461729</c-> <c- m>0.612490</c-> <c- m>0.156903</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.light_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(78.0170% 58.1957% 50.7737%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.070804</c-> <c- m>0.334971</c-> <c- m>0.321802</c-> <c- m>0.215606</c-> <c- m>0.103107</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_sky <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(35.8614% 48.0665% 61.6556%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.572088</c-> <c- m>0.229346</c-> <c- m>0.081708</c-> <c- m>0.282044</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.168260</c-><c- p>);</c->
<c- p>}</c->
.foliage <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(34.9582% 42.3446% 25.4209%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.314566</c-> <c- m>0.145687</c-> <c- m>0.661941</c-> <c- m>0.582879</c-> <c- m>0.000000</c-> <c- m>0.234362</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_flower <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.2952% 50.4131% 68.9186%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.375515</c-> <c- m>0.259934</c-> <c- m>0.034849</c-> <c- m>0.107161</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.308200</c-><c- p>);</c->
<c- p>}</c->
.bluish_green <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(36.8792% 74.3685% 67.4749%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.397575</c-> <c- m>0.010047</c-> <c- m>0.223682</c-> <c- m>0.031140</c-> <c- m>0.000000</c-> <c- m>0.317066</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.5" id="cmyk-to-lab"><span class="secno">5.5. </span><span
                class="content"> CMYK色からLabへの変換 </span><a class="self-link" href="#cmyk-to-lab"></a></h3>
        <p>キャリブレーション済みCMYK色空間からLabへの変換は、
            通常ICCプロファイルでLab値を参照することで行われます。</p>
        <h3 class="heading settled" data-level="5.6" id="lab-to-cmyk"><span class="secno">5.6. </span><span
                class="content"> Lab色からCMYKへの変換 </span><a class="self-link" href="#lab-to-cmyk"></a></h3>
        <p>印刷では、
            Lab色をプリンタの色空間に変換する必要があります。</p>
        <p>これも通常、ICCプロファイルでCMYK値を参照することで行います。</p>
        <h2 class="heading settled" data-level="6" id="device-cmyk"><span class="secno">6. </span><span class="content">
                較正されていないCMYKカラー： <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk④">device-cmyk()</a>関数 </span><a class="self-link"
                href="#device-cmyk"></a></h2>
        <p>特定のプリンターが較正されていない場合でも、
            実験や印刷見本帳を通じて特定のインクの組み合わせの出力が分かっている時、
            CMYKカラーを
            デバイス依存的に表現するのが便利なことがあります。</p>
        <p class="note" role="note"><span class="marker">注:</span> 実際の色が不明なため、
            CSSプロセッサは近似で処理する場合があります。
            この近似は、実際の印刷結果から見て大きく異なる可能性があります。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑤">device-cmyk()</a>関数を使うことで著者はこのように色を指定できます：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-device-cmyk">device-cmyk()</dfn> = <a class="production" data-link-type="type" href="#typedef-legacy-device-cmyk-syntax" id="ref-for-typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑧">|</a> <a class="production" data-link-type="type" href="#typedef-modern-device-cmyk-syntax" id="ref-for-typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥①">&lt;number></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma②">#{4}</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="#typedef-cmyk-component" id="ref-for-typedef-cmyk-component">&lt;cmyk-component></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num④">{4}</a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑨">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none③">none</a> ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②③">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-cmyk-component">&lt;cmyk-component></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value③⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨①">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none④">none</a>
</pre>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑥">device-cmyk()</a>関数の引数は、シアン・マゼンタ・イエロー・ブラックの成分を順に指定します。
            0から1までの値、または現代構文では0%から100%までのパーセンテージとして指定できます。
            この2つの指定方法は等価で、リニアに相互変換されます。
            0もしくは0%未満や1・100%超の値は無効にはなりません。
            算出値時に0/0%または1/100%にクランプされます。</p>
        <p>現代構文では5つ目の引数でアルファ成分を指定できます。
            これは<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                id="ref-for-funcdef-rgb⑤">rgb()</a>関数の
            4番目の引数と同じ解釈になります。
            省略時は<span class="css">100%</span>になります。</p>
        <p><a href="https://www.w3.org/TR/2011/WD-css3-gcpm-20111129/#cmyk-colors">歴史的経緯</a>により、<a class="css"
                data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑦">device-cmyk()</a>は<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax②">レガシーカラー構文</a>もサポートしています。</p>
        <p>印刷ベースのアプリケーションでは実際に使う色はCMYKとして保存され、そのままプリンターに送信するのが一般的です。
            ただし、これらの色には色度的な解釈がなく、
            グラデーション、合成、ブレンディング等には利用できません。</p>
        <p>したがって、デバイスCMYK色は等価な色への変換が必須です。
            これはHSLやHWB→RGBのように単純ではなく、
            正確な変換は出力デバイス特性に依存します。</p>
        <ol>
            <li>ユーザー・著者・UAのスタイルシートで
                device-cmyk用の<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①①">@color-profile</a>定義が存在し、
                src記述子で指定したリソースの取得が可能で、
                そのリソースが有効なCMYK ICCプロファイルであり、
                ユーザーエージェントがICCプロファイルを処理できる場合、
                <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑧">device-cmyk()</a>の算出値はCMYK色のLab値とする。
            <li>それ以外では、
                <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑨">device-cmyk()</a>の算出値は
                CMYK色を次に示す単純変換アルゴリズムで変換したsRGB値とする。
        </ol>
        <div class="example" id="ex-device-cmyk-naive">
            <a class="self-link" href="#ex-device-cmyk-naive"></a> 例えば<a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①②">@color-profile</a>がない場合は
            単純変換で次の色が等価になります。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>178</c-> <c- m>34</c-> <c- m>34</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> firebrick<c- p>;</c->
</pre>
        </div>
        <div class="example" id="ex-device-cmyk-colprof">
            <a class="self-link" href="#ex-device-cmyk-colprof"></a> スタイルシートで<a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①③">@color-profile</a>を指定した場合、
            色度変換で次の色が等価となります。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>45.060</c-><c- k>%</c-> <c- m>45.477</c-> <c- m>35.459</c-><c- p>)</c->
color: <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>70.690</c-><c- k>%</c-> <c- m>26.851</c-><c- k>%</c-> <c- m>19.724</c-><c- k>%</c-><c- p>);</c->
</pre>
        </div>
        <p>単純変換は必然的に近似であり、
            インクの色度、ドットゲイン、
            RGB空間の色度情報などを持ちません。</p>
        <figure id="fig-naive-cmyk">
            <object data="images/macbeth-naive.svg" height="450" width="670">
                <p>色付きの正方形グリッド。6列（A～F）、4行（1～4）です。</p>
            </object>
            <figcaption>
                <p>印刷・写真業界で色再現性を確認するカラーチェッカー。
                    各パッチの測定Lab値平均があり、
                    長方形はLab値をsRGBに変換したもの、
                    円はLab値をICCプロファイルでCMYKへ変換、さらに単純変換でsRGBへ戻したものを示します。</p>
                <p>下表は各パッチごとに元Lab値とCMYKラウンドトリップ後のLab値のDeltaE2000を示します。
                    DeltaE 2000が1以上で可視、それ以上ならまったく違う色です。</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE5">11.33
                            <td class="dE5">9.36
                            <td class="dE5">5.66
                            <td class="dE5">7.52
                            <td class="dE5">12.39
                            <td class="dE5">21.58
                        <tr>
                            <th>2
                            <td class="dE5">6.40
                            <td class="dE5">8.79
                            <td class="dE5">11.77
                            <td class="dE5">17.16
                            <td class="dE5">11.91
                            <td class="dE3">3.97
                        <tr>
                            <th>3
                            <td class="dE5">12.1
                            <td class="dE5">17.00
                            <td class="dE3">3.38
                            <td class="dE1">1.94
                            <td class="dE5">18.08
                            <td class="dE5">14.97
                        <tr>
                            <th>4
                            <td class="dE1">1.89
                            <td class="dE5">6.56
                            <td class="dE5">7.85
                            <td class="dE5">8.76
                            <td class="dE5">9.82
                            <td class="dE5">10.29
                </table>
            </figcaption>
        </figure>
        <h3 class="heading settled" data-level="6.1" id="cmyk-rgb"><span class="secno">6.1. </span><span
                class="content"> 非キャリブレーションCMYKとsRGB系色の単純変換 </span><a class="self-link" href="#cmyk-rgb"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="naively convert from CMYK to RGBA | naively converted to RGBA"
                id="naively-convert-from-cmyk-to-rgba">CMYKからRGBAへ単純変換</dfn>するには：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">red <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li><code
                    class="highlight">green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li><code
                    class="highlight">blue <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li>Alphaは入力色と同じ。
        </ul>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="naively convert from RGBA to CMYK | naively converted to CMYK"
                id="naively-convert-from-rgba-to-cmyk">RGBAからCMYKへ単純変換</dfn>するには：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">black <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> max<c- p>(</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>)</c-></code>
            <li><code
                    class="highlight">cyan <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> red <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> または <c- mf>0</c-> <c- k>（blackが1の時）</c-></code>
            <li><code
                    class="highlight">magenta <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> green <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> または <c- mf>0</c-> <c- k>（blackが1の時）</c-></code>
            <li><code
                    class="highlight">yellow <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> blue <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> または <c- mf>0</c-> <c- k>（blackが1の時）</c-></code>
            <li>alphaは入力色と同じ
        </ul>
        <h2 class="heading settled" data-level="7" id="light-dark"><span class="secno">7. </span><span class="content">
                使用中のcolor-schemeへの反応：<a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark③">light-dark()</a>関数 </span><a class="self-link"
                href="#light-dark"></a></h2>
        <p>システム色は現在の<span class="css">color-scheme</span>値に応じて反応できます。
            <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                id="ref-for-funcdef-light-dark④">light-dark()</a>関数は
            著者にも同様の機能を提供します。
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-light-dark">light-dark()</dfn> = light-dark( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑦">&lt;color></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma①">,</a> <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑧">&lt;color></a> )
</pre>
        <p>この関数は、<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme"
                id="ref-for-used-color-scheme">使用中のcolor scheme</a>が<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light"
                id="ref-for-valdef-color-scheme-light">light</a>または不明の場合は
            最初の色の計算値に、
            <span id="ref-for-used-color-scheme①">使用中のcolor scheme</span>が<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark"
                id="ref-for-valdef-color-scheme-dark">dark</a>の場合は
            2番目の色の計算値になります。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-basic.html"
                        title="css/css-color/light-dark-basic.html">light-dark-basic.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-basic.html"><small>(ライブテスト)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-basic.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor.html"
                        title="css/css-color/light-dark-currentcolor.html">light-dark-currentcolor.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-currentcolor.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-inheritance.html"
                        title="css/css-color/light-dark-inheritance.html">light-dark-inheritance.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-inheritance.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-inheritance.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor-in-color.html"
                        title="css/css-color/light-dark-currentcolor-in-color.html">light-dark-currentcolor-in-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-currentcolor-in-color.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor-in-color.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-pseudo/highlight-styling-004.html"
                        title="css/css-pseudo/highlight-styling-004.html">highlight-styling-004.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-pseudo/highlight-styling-004.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-pseudo/highlight-styling-004.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="8" id="contrast-color"><span class="secno">8. </span><span
                class="content">動的に十分なコントラストを持つテキスト色を指定する：<a class="css" data-link-type="maybe"
                    href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color③">contrast-color()</a>関数</span><a
                class="self-link" href="#contrast-color"></a></h2>
        <p>色を動的に生成する場合、背景色に十分なコントラストを持つテキスト色を指定するのは難しいことがあります。
            <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color④">contrast-color()</a>関数は、
            指定色を背景色としてテキスト色に使ったときに
            十分なコントラストが保証される色を自動的に提供します。
        </p>
        <p class="note" role="note"><span class="marker">注:</span> 可読性は複雑な課題であり、十分なコントラストはその一要素に過ぎません。
            コントラストのある色の組み合わせがあっても、フォント・文字サイズ・周囲の色などさまざまな要因で
            テキストの可読性が保証されるわけではありません。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-contrast-color">contrast-color()</dfn> = contrast-color( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑨">&lt;color></a> )
</pre>
        <p><a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color⑤">contrast-color()</a>は、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-white" id="ref-for-valdef-color-white">白</a>または<a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-black"
                id="ref-for-valdef-color-black">黒</a>
            のどちらか、入力色を背景にした時に<strong>最大</strong>コントラストとなる方を返します。
            <span class="css" id="ref-for-valdef-color-white①">白</span>と<span class="css"
                id="ref-for-valdef-color-black①">黒</span>が同じコントラストの場合は
            <span class="css" id="ref-for-valdef-color-white②">白</span>になります。
        </p>
        <p>どちらの色を返すかのコントラスト判定アルゴリズムは
            現行標準ではUA定義です。</p>
        <p class="note" role="note"><span class="marker">注:</span> 将来の仕様では
            コントラスト判定アルゴリズムや用途、返される色の制御が強化される予定です。</p>
        <p>UAは単純にWCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">section 1.4.3 Contrast
                (Minimum)</a>の判定アルゴリズムだけで
            明色・暗色の選択をしないことが推奨されます。既知の問題が複数あるためです。
            ただしこの関数の返す色はWCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">section 1.4.3 Contrast
                (Minimum)</a>
            のAA大型テキスト基準は満たすべきです。法令上これが必要な場合があるためです。</p>
        <details class="wpt-tests-block" dir="ltr" lang="ja" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/contrast-color-001.html"
                        title="css/css-color/contrast-color-001.html">contrast-color-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/contrast-color-001.html"><small>（ライブテスト）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/contrast-color-001.html"><small>（ソース）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-contrast-color-function.html"
                        title="css/css-color/parsing/color-computed-contrast-color-function.html">color-computed-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-contrast-color-function.html"><small>（ライブテスト）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-contrast-color-function.html"><small>（ソース）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-contrast-color-function.html"
                        title="css/css-color/parsing/color-invalid-contrast-color-function.html">color-invalid-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-contrast-color-function.html"><small>（ライブテスト）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-contrast-color-function.html"><small>（ソース）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-contrast-color-function.html"
                        title="css/css-color/parsing/color-valid-contrast-color-function.html">color-valid-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-contrast-color-function.html"><small>（ライブテスト）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-contrast-color-function.html"><small>（ソース）</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="9" id="interpolation"><span class="secno">9. </span><span
                class="content">色の補間</span><a class="self-link" href="#interpolation"></a></h2>
        <h3 class="heading settled" data-level="9.1" id="interpolation-space"><span class="secno">9.1. </span><span
                class="content">補間用の色空間</span><a class="self-link" href="#interpolation-space"></a></h3>
        <p><a class="production css" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method①">&lt;color-interpolation-method></a>は
            <a href="#custom-color">カスタム色空間</a>の利用も可能になりました：
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-space">&lt;color-space></dfn> = <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨②">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space">&lt;polar-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨③">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space">&lt;custom-color-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-rectangular-color-space">&lt;rectangular-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb" id="ref-for-valdef-color-srgb①">srgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" id="ref-for-valdef-color-srgb-linear">srgb-linear</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" id="ref-for-valdef-color-display-p3①">display-p3</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑥">|</a> <span class="css">display-p3-linear</span> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑦">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" id="ref-for-valdef-color-a98-rgb">a98-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑧">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" id="ref-for-valdef-color-prophoto-rgb">prophoto-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑨">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" id="ref-for-valdef-color-rec2020">rec2020</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⓪">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lab-lab" id="ref-for-valdef-lab-lab">lab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪①">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" id="ref-for-valdef-oklab-oklab">oklab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-xyz-space" id="ref-for-typedef-xyz-space①">&lt;xyz-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-polar-color-space">&lt;polar-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" id="ref-for-valdef-hsl-hsl②">hsl</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪③">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" id="ref-for-valdef-hwb-hwb">hwb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch②">lch</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" id="ref-for-valdef-oklch-oklch①">oklch</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-color-space">&lt;custom-color-space></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑦">&lt;dashed-ident></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-hue-interpolation-method">&lt;hue-interpolation-method></dfn> = [ shorter <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑥">|</a> longer <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑦">|</a> increasing <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑧">|</a> decreasing ] hue
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="color-interpolation-method">&lt;color-interpolation-method></dfn> = in [ <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space①">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑨">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space①">&lt;polar-color-space></a> <a class="production" data-link-type="type" href="#typedef-hue-interpolation-method" id="ref-for-typedef-hue-interpolation-method②">&lt;hue-interpolation-method></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②④">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①⓪">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space①">&lt;custom-color-space></a> ]
</pre>
        <p><a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑧">&lt;dashed-ident></a>は有効な<a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①④">@color-profile</a>ルールで宣言されている必要があります。
            そうでない場合、<a class="production css" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method②">&lt;color-interpolation-method></a>は無効です。</p>
        <h2 class="heading settled" data-level="10" id="resolving-color-values"><span class="secno">10. </span><span
                class="content">&lt;color>値の解決</span><a class="self-link" href="#resolving-color-values"></a></h2>
        <h3 class="heading settled" data-level="10.1" id="resolving-mix"><span class="secno">10.1. </span><span
                class="content">color-mix()値の解決</span><a class="self-link" href="#resolving-mix"></a></h3>
        <p>すべての<a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②①">&lt;color></a>パラメータが
            それぞれの色空間で対応する色に解決された場合、
            算出値は指定した混合カラー空間で
            <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> § 14. Resolving
                &lt;color> Values</a>に従って
            混合色となります。
            そうでない場合（関数内で<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor①">currentColor</a>が使われている場合）、
            算出値は各<span class="production" id="ref-for-typedef-color②②">&lt;color></span>パラメータが
            <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> § 14. Resolving
                &lt;color> Values</a>に従って
            解決されたcolor-mix()関数であり、
            これにより子要素への継承が維持されます。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-001.html"
                        title="css/css-color/color-mix-currentcolor-001.html">color-mix-currentcolor-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-001.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-001.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-002.html"
                        title="css/css-color/color-mix-currentcolor-002.html">color-mix-currentcolor-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-002.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-002.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-003.html"
                        title="css/css-color/color-mix-currentcolor-003.html">color-mix-currentcolor-003.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-003.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-003.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-nested-for-color-property.html"
                        title="css/css-color/color-mix-currentcolor-nested-for-color-property.html">color-mix-currentcolor-nested-for-color-property.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/nested-color-mix-with-currentcolor.html"
                        title="css/css-color/nested-color-mix-with-currentcolor.html">nested-color-mix-with-currentcolor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/nested-color-mix-with-currentcolor.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/nested-color-mix-with-currentcolor.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.2" id="resolving-rcs"><span class="secno">10.2. </span><span
                class="content">相対色構文値の解決</span><a class="self-link" href="#resolving-rcs"></a></h3>
        <p>すべての<a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②③">&lt;color></a>パラメータが
            それぞれの色空間で対応する色に解決された場合、
            算出値は指定したRCSカラー空間での絶対的な<span class="production" id="ref-for-typedef-color②④">&lt;color></span>値となり、
            <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> § 14.
                &lt;color>値の解決</a>に従って解決されます。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <p>そうでない場合（関数内で<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor②">currentColor</a>を使用した場合）は、
            計算値は相対色構文関数となり、
            基準<a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑤">&lt;color></a>パラメータを<a
                href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14.
                Resolving &lt;color> Values</a>で解決したものとして、
            子要素への継承を維持したままになります。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.3" id="resolving-device-cmyk-values"><span class="secno">10.3.
            </span><span class="content">device-cmyk値の解決</span><a class="self-link"
                href="#resolving-device-cmyk-values"></a></h3>
        <p>計算値・使用値は
            指定されたデバイス固有CMYK色
            （成分は<a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥③">&lt;number></a>、<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③①">&lt;percentage></a>ではない）
            と指定されたアルファ成分
            （<span class="production" id="ref-for-number-value⑥④">&lt;number></span>、<span class="production"
                id="ref-for-percentage-value③②">&lt;percentage></span>ではない、未指定なら不透明）です。
        </p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#actual-value"
                id="ref-for-actual-value">使用値</a>は操作によって異なり、
            CMYK対応デバイスへの描画時はCMYK色としてレンダリングされる場合があります。
            非CMYK色との合成や非CMYKデバイスへの描画時は、
            <a href="#device-cmyk">§ 6 非キャリブレーションCMYK色：device-cmyk()関数</a>に従い変換されます。
        </p>
        <div class="example" id="ex-device-cmyk-used">
            <a class="self-link" href="#ex-device-cmyk-used"></a> 例：
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>指定値・実際の値は</p>
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>0.7</c-> <c- m>0.2</c-> <c- m>0</c-><c- p>)</c->
</pre>
            <p>ICCプロファイルを理解し適切なプロファイルがインストールされている実装なら、使用値は</p>
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>63.673</c-><c- k>%</c-> <c- m>51.577</c-> <c- m>5.811</c-><c- p>)</c->
</pre>
            <p class="note" role="note"><span class="marker">注:</span> すべての色と同様、使用値はスクリプトから取得できません。</p>
        </div>
        <h2 class="heading settled" data-level="11" id="serial"><span class="secno">11. </span><span class="content">
                シリアライズ </span><a class="self-link" href="#serial"></a></h2>
        <p>このセクションは、<a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color
                    4</cite> §  15. &lt;color>値の直列化</a>を拡張し、
            <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑧">color-mix()</a>、<a class="css" data-link-type="maybe"
                href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①⓪">device-cmyk()</a>、
            および
            相対カラー関数の結果の直列化を追加します。
        </p>
        <p>このセクションでは、仕様で使われる文字列と対応する文字は次のとおりです。</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>文字列
                    <th>文字
                <tr>
                    <td>" "
                    <td>U+0020 スペース
                <tr>
                    <td>","
                    <td>U+002C コンマ
                <tr>
                    <td>"-"
                    <td>U+002D ハイフン
                <tr>
                    <td>"."
                    <td>U+002E ピリオド
                <tr>
                    <td>"/"
                    <td>U+002F スラッシュ
        </table>
        <p>文字列"."は、ロケールに関係なく
            10進区切り文字として使われ、千単位区切りは使いません。</p>
        <p>通常通り、
            結果のアルファ値がちょうど1なら
            シリアライズ時に省略します。
            暗黙の1（完全不透明）がデフォルトです。</p>
        <h3 class="heading settled" data-level="11.1" id="serial-color-mix"><span class="secno">11.1. </span><span
                class="content"> color-mix()のシリアライズ </span><a class="self-link" href="#serial-color-mix"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑨">color-mix()</a>関数の宣言値の直列化は、
            文字列"color-mix(in "で始まり、
            指定された<a class="production css" data-link-type="type" href="#typedef-color-space"
                id="ref-for-typedef-color-space③">&lt;color-space></a>（小文字）、
            続けて", "、
            1つ目に指定した色、
            続いてスペース、
            1つ目のパーセンテージの直列化（下記参照）、
            続けて", "、
            2つ目の指定色、
            2つ目のパーセンテージの直列化（下記参照）、
            そして")"となります。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①⓪">color-mix()</a>関数での<strong>1つ目の</strong>パーセンテージの宣言値直列化は次の通りです：</p>
        <ul>
            <li data-md>
                <p>1番目<var>p1</var>と2番目<var>p2</var>が両方指定された場合：</p>
                <ul>
                    <li data-md>
                        <p>両方とも<var>p1</var>=50%かつ<var>p2</var>=50%なら何も直列化しない。</p>
                    <li data-md>
                        <p>それ以外はp1をそのまま直列化。</p>
                </ul>
            <li data-md>
                <p>1つ目だけ<var>p1</var>が指定された場合：</p>
                <ul>
                    <li data-md>
                        <p><var>p1</var>が50%なら何も直列化しない。</p>
                    <li data-md>
                        <p>それ以外はp1をそのまま直列化。</p>
                </ul>
            <li data-md>
                <p>2つ目だけ<var>p2</var>が指定された場合：</p>
                <ul>
                    <li data-md>
                        <p><var>p2</var>=50%なら何も直列化しない。</p>
                    <li data-md>
                        <p><var>p2</var>が<a class="css" data-link-type="maybe"
                                href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                                id="ref-for-funcdef-calc①">calc()</a>でないなら
                            100%-p2の値を直列化。</p>
                    <li data-md>
                        <p>それ以外は何も直列化しない。</p>
                </ul>
            <li data-md>
                <p>どちらも指定されていない場合：</p>
                <ul>
                    <li data-md>
                        <p>何も直列化しない。</p>
                </ul>
        </ul>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①①">color-mix()</a>関数の<strong>2つ目の</strong>パーセンテージの宣言値直列化は次の通りです：</p>
        <ul>
            <li data-md>
                <p>1番目p1と2番目p2が両方指定された場合：</p>
                <ul>
                    <li data-md>
                        <p>両方ともcalc()でなく、p1+p2が100%なら何も直列化しない。</p>
                    <li data-md>
                        <p>それ以外はp2をそのまま直列化。</p>
                </ul>
            <li data-md>
                <p>1つ目のみp1が指定された場合：</p>
                <ul>
                    <li data-md>
                        <p>何も直列化しない。</p>
                </ul>
            <li data-md>
                <p>2つ目のみp2が指定された場合：</p>
                <ul>
                    <li data-md>
                        <p>p2が50%なら何も直列化しない。</p>
                    <li data-md>
                        <p>p2がcalc()でなければ何も直列化しない。</p>
                    <li data-md>
                        <p>それ以外はp2をそのまま直列化。</p>
                </ul>
            <li data-md>
                <p>どちらも指定されていない場合：</p>
                <ul>
                    <li data-md>
                        <p>何も直列化しない。</p>
                </ul>
        </ul>
        <p class="note" role="note"><span class="marker">注:</span> <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-values-4/#funcdef-calc" id="ref-for-funcdef-calc②">calc()</a>値は未知扱いであり、
            <strong>決して</strong>50%と等しくなく、他の値と合計して100%にもならない。
        </p>
        <div class="example" id="ex-serial-specified-mix">
            <a class="self-link" href="#ex-serial-specified-mix"></a> 例：下記の宣言値の直列化は
            <pre>color-mix(in oklab, teal, peru 40%)</pre>
            <p>の直列化文字列は "color-mix(in oklab, teal 60%, peru)" となります。</p>
            <p>下記の宣言値の直列化は</p>
            <pre>color-mix(in oklab, teal 50%, peru 50%)</pre>
            <p>の直列化文字列は "color-mix(in oklab, teal, peru)" です。</p>
            <p>下記の宣言値の直列化は</p>
            <pre>color-mix(in oklab, teal 70%, peru 70%)</pre>
            <p>の直列化は "color-mix(in oklab, teal 70%, peru 70%)"
                となります。なぜならこれが50%ずつに正規化されるのはパーセンテージ正規化以降でしか判明しないためです。</p>
        </div>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①②">color-mix()</a>関数の結果値の直列化は、
            ミックス内で<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor③">currentColor</a>キーワードが使われているかどうかに依存します。
            使われていれば、結果は宣言値として直列化します。
            これはcolorプロパティ値が異なる子要素にも正しい混合を伝播させるためです。
            それ以外は
            <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑥">&lt;color></a>
            となり、
            <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite> § 15.
                &lt;color>値の直列化</a>に従います。
            どの形になるかは "in" で指定されたカラー空間によります：
        </p>
        <table class="data">
            <tbody>
                <tr>
                    <th>混合カラー空間
                    <th>形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>display-p3
                    <td>color(display-p3 r g b)
                <tr>
                    <td>a98-rgb
                    <td>color(a98-rgb r g b)
                <tr>
                    <td>prophoto-rgb
                    <td>color(prophoto-rgb r g b)
                <tr>
                    <td>rec2020
                    <td>color(rec2020 r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z) <a href="#fn1">¹</a>
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <dl>
            <dt id="fn1"><a class="self-link" href="#fn1"></a>¹
            <dd><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                    id="ref-for-valdef-color-xyz①">xyz</a> は <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65"
                    id="ref-for-valdef-color-xyz-d65">xyz-d65</a>の別名であるため
        </dl>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"
                        title="css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html">color-mix-currentcolor-visited-getcomputedstyle.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(ソース)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited.html"
                        title="css/css-color/color-mix-currentcolor-visited.html">color-mix-currentcolor-visited.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited.html"><small>(ライブ
                            テスト)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited.html"><small>(ソース)</small></a>
            </ul>
        </details>
        <p>往復時の<em>最小</em>精度は<a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color
                    4</cite> §  15.
                シリアライズ &lt;color> 値</a>で規定されたものと同じです。</p>
        <div class="example" id="ex-serial-computed-color-mix">
            <a class="self-link" href="#ex-serial-computed-color-mix"></a> この混色結果
            <pre>color-mix(in lch, peru 40%, palegoldenrod)</pre>
            <p>は文字列 <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                "lch(79.7256 40.448 84.771)" でシリアライズされます、
                一方、</p>
            <pre>color-mix(in srgb, peru 40%, palegoldenrod)</pre>
            <p>は文字列 <span class="swatch" style="--color: rgb(88.16% 75.45% 49.88%)"></span>
                "color(srgb 0.8816 0.7545 0.4988)" でシリアライズされます。</p>
        </div>
        <h3 class="heading settled" data-level="11.2" id="serial-origin-color"><span class="secno">11.2. </span><span
                class="content">元色のシリアライズ</span><a class="self-link" href="#serial-origin-color"></a>
        </h3>
        <p>他のカラー関数内で<a data-link-type="dfn" href="#origin-color"
                id="ref-for-origin-color④②">基準色</a>として使われた色の宣言値直列化は、宣言値成分として次の通り：</p>
        <ol>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑥">rgb()</a>, <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑤">rgba()</a>, <a
                        class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑥">hsl()</a>, <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑥">hsla()</a>の場合
                </p>
        </ol>
        <ul>
            <li data-md>
                <p>カノニカルなカラーファンクションを識別する文字列
                    （<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑦">rgb()</a>
                    および <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba"
                        id="ref-for-funcdef-rgba⑥">rgba()</a> は "rgb"、
                    <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑦">hsl()</a>
                    および <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla"
                        id="ref-for-funcdef-hsla⑦">hsla()</a> は "hsl"）
                    全て小文字、
                    その後に "(" が続き、
                    非アルファ成分を指定通りスペース区切りで並べる
                    （数値は数値、パーセントはパーセント、角度は正規化した度数、calc()は簡略形）で
                    クランプせずに直列化し、
                    アルファ成分がある場合は " / " と指定通り直列化
                    （カラーパラメータと同じルール）とする。
                    最後に ")" で閉じる。
                </p>
        </ul>
        <p class="note" role="note"><span class="marker">注:</span> モダン構文でもレガシー構文でも直列化方法は同じです。</p>
        <ol start="2">
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑤">hwb()</a>, <a
                        class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab④">lab()</a>, <a
                        class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑤">lch()</a>, <a
                        class="css" data-link-type="maybe" href="#funcdef-oklab"
                        id="ref-for-funcdef-oklab③">oklab()</a>, <a class="css" data-link-type="maybe"
                        href="#funcdef-oklch" id="ref-for-funcdef-oklch⑤">oklch()</a>の場合</p>
        </ol>
        <ul>
            <li data-md>
                <p>関数名を全て小文字で、
                    "("の後に、
                    非アルファ成分をスペース区切りで並べる（数値は数値、パーセンテージはパーセンテージ、角度は度単位で正規化、calc()は簡約形）、クランプせず、
                    アルファ成分があれば " / "＋アルファ成分（色成分と同様の規則）、
                    ")"で閉じます。</p>
        </ul>
        <ol start="3">
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#funcdef-color"
                        id="ref-for-funcdef-color①⓪">color()</a>の場合：</p>
        </ol>
        <ul>
            <li data-md>
                <p>"color("の後に
                    正規化色空間名（"xyz"は"xyz-d65"）を全て小文字で、
                    スペース、
                    非アルファ成分をスペース区切りで並べる（数値は数値、パーセンテージはパーセンテージ、角度は度単位で正規化、calc()は簡約形）、クランプせず、
                    アルファ成分があれば " / "＋アルファ成分（色成分と同様の規則）、
                    ")"で閉じます。</p>
        </ul>
        <h3 class="heading settled" data-level="11.3" id="serial-relative-color"><span class="secno">11.3. </span><span
                class="content">相対色関数のシリアライズ</span><a class="self-link" href="#serial-relative-color"></a></h3>
        <p>相対カラーの宣言値の直列化は次の通りです:</p>
        <ol>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑧">rgb()</a>, <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑦">rgba()</a>, <a
                        class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑧">hsl()</a>, <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑧">hsla()</a>の場合
                </p>
        </ol>
        <ul>
            <li data-md>
                <p>カノニカルカラー関数名（"rgb"または"hsl"。すべて小文字）、続いて"(from "、
                    <a href="#serial-origin-color">ネストした基準色の直列化</a>ルールに従った基準色の直列化、
                    スペース1つ、非アルファチャネル引数（識別子は識別子として、数値・パーセントは数値として、角度は度に正規化して、calc()は簡約形で空白区切り）、
                    アルファ成分が非1なら " / "＋アルファ成分（短縮・正規化・clamp済み）、
                    ")" で閉じる。
                </p>
        </ul>
        <ol start="2">
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑥">hwb()</a>, <a
                        class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab⑤">lab()</a>, <a
                        class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑥">lch()</a>, <a
                        class="css" data-link-type="maybe" href="#funcdef-oklab"
                        id="ref-for-funcdef-oklab④">oklab()</a>, <a class="css" data-link-type="maybe"
                        href="#funcdef-oklch" id="ref-for-funcdef-oklch⑥">oklch()</a>の場合</p>
        </ol>
        <ul>
            <li data-md>
                <p>そのカラーファンクション名（小文字）、続けて"(from "、ネストした基準色の直列化、スペース、引数列（識別子・数値・パーセント・角度・calc()は上記と同様）、
                    アルファ成分が非1なら" / "＋アルファ値（clamp）、
                    最後に")"。</p>
        </ul>
        <ol start="3">
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#funcdef-color"
                        id="ref-for-funcdef-color①①">color()</a>の場合</p>
        </ol>
        <ul>
            <li data-md>
                <p>文字列 "color(from "、ネストした基準色直列化、スペース1つ、
                    標準カラー空間名（"xyz-d65" for "xyz"）、スペース1つ、
                    その他チャネル引数（上記と同様）、アルファが非1なら" / "＋アルファ値（clamp）、")"。</p>
        </ul>
        <div class="example" id="ex-serial-rcs-specified-simple">
            <a class="self-link" href="#ex-serial-rcs-specified-simple"></a> 例：次の宣言値の直列化は
            <pre class="lang-css highlight"><c- nf>OkLcH</c-><c- p>(</c->from peru  l    c  h<c- p>)</c-></pre>
            <p>→ "oklch(from peru l c h)"</p>
        </div>
        <div class="example" id="ex-serial-rcs-calc">
            <a class="self-link" href="#ex-serial-rcs-calc"></a> 例：次の宣言値の直列化は
            <pre
                class="lang-css highlight"><c- nf>rgb</c-><c- p>(</c->from red <c- nf>calc</c-><c- p>(</c->r / <c- m>2</c-><c- p>)</c-> g <c- nf>calc</c-><c- p>(</c-><c- m>30</c-><c- k>%</c-><c- p>));</c-></pre>
            <p>→ "rgb(from red calc(0.5 * r) g calc(30%))"。
                計算後の直列化では "color(srgb 0.5 0 0.3)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-nested-none">
            <a class="self-link" href="#ex-serial-rcs-nested-none"></a> 例：次の宣言値の直列化は
            <pre
                class="lang-css highlight"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c->none <c- m>10</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
            <p>→ "hsl(from hsl(none 10% 50%) h s l)"。
                計算後の直列化→ "color(srgb 0.55 0.45 0.45)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-hsl-unclamped">
            <a class="self-link" href="#ex-serial-rcs-hsl-unclamped"></a> 例：次の宣言値の直列化は
            <pre
                class="lang-css highlight"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c-><c- m>127.9</c-> <c- m>302</c-><c- k>%</c-> <c- m>25.33</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
            <p>→ "hsl(from hsl(127.9 302% 25.33%) h s l)"。
                計算後→ "color(srgb -0.511666 1.018266 -0.310225)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-currentcolor">
            <a class="self-link" href="#ex-serial-rcs-currentcolor"></a> 下記HTMLにて（color属性指定に注意）:
            <pre class="lang-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>"example"</c-> 
  <c- e>style</c-><c- o>=</c-><c- s>"background-color: rgb(from currentcolor r g calc(b / 2)); </c->
<c- s>  color: blue;"</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <p>この場合、background-color宣言値の直列化は "rgb(from currentcolor r g calc(b / 2))"
                計算後の直列化は "color(srgb 0 0 0.5)"</p>
        </div>
        <p>相対色関数の結果のシリアライズは、
            キーワード<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor④">currentColor</a>が<a data-link-type="dfn" href="#origin-color"
                id="ref-for-origin-color④③">origin color</a>であるかどうかによって異なります。
            その場合、結果は宣言された値としてシリアライズされます。
            これにより、<span class="css">color</span>プロパティの値が異なる子要素にも
            正しい値が利用できるようになります。
            それ以外の場合は、
            解決済みの値となり、
            これは<a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑦">&lt;color></a>であり、
            <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite>
                § 15. Serializing &lt;color> Values</a>で定義されています。
        </p>
        <p>形式は<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑦">相対カラー</a>の色空間によって決まります:</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>カラー空間
                    <th>形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>display-p3
                    <td>color(display-p3 r g b)
                <tr>
                    <td>a98-rgb
                    <td>color(a98-rgb r g b)
                <tr>
                    <td>prophoto-rgb
                    <td>color(prophoto-rgb r g b)
                <tr>
                    <td>rec2020
                    <td>color(rec2020 r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>テスト</summary>
            <ul class="wpt-tests-list"></ul>
        </details>
        <p>往復時の<em>最小</em>精度は<a href="https://www.w3.org/TR/css-color-4/#serializing-color-function-values"><cite>CSS
                    Color 4</cite>
                § 15.5 color()関数値のシリアライズ</a>で規定されたものと同じです。</p>
        <div class="example" id="ex-serial-rcs-computed">
            <a class="self-link" href="#ex-serial-rcs-computed"></a> シリアライズ結果
            <pre
                class="lang-css highlight"><c- nf>lch</c-><c- p>(</c->from peru <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->c * <c- m>0.7</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>))</c-> </pre>
            <p>→ 文字列 <span class="swatch" style="--color: rgb(3.12% 50.352% 68.894%)"></span> "lch(49.80224
                37.80819 243.6803)"</p>
        </div>
        <h3 class="heading settled" data-level="11.4" id="serial-custom-color"><span class="secno">11.4. </span><span
                class="content">カスタム色空間のシリアライズ</span><a class="self-link" href="#serial-custom-color"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①②">color()</a>成分値の保持精度、
            つまりシリアライズ値の有効数字の桁数は本仕様では定義されませんが、
            CMYK色空間の場合は少なくとも
            8ビット精度で値を往復できるだけの精度が必要です。
            これは少なくとも小数点以下2桁を要しますが、
            末尾のゼロが省略されている場合もあります。</p>
        <div class="example" id="ex-color-swop-serial">
            <a class="self-link" href="#ex-color-swop-serial"></a>
            <p>下記色のシリアライズ値：</p>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c-><c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
<c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(94.903% 45.248% 59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c  <c- m>0</c-><c- k>%</c-> <c- m>70.0</c-><c- k>%</c-> <c- m>20.00</c-><c- k>%</c-> <c- m>.0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c-></pre>
            <p>→ 文字列 "color(--swop5c 0 0.7 0.2 0)"</p>
        </div>
        <h3 class="heading settled" data-level="11.5" id="serializing-device-cmyk-values"><span class="secno">11.5.
            </span><span class="content">device-cmyk値のシリアライズ</span><a class="self-link"
                href="#serializing-device-cmyk-values"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①①">device-cmyk()</a>値の直列化形式は
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value">算出値</a>に基づき、
            関数名は小文字の<span class="css" id="ref-for-funcdef-device-cmyk①②">device-cmyk()</span>形式を用います。
        </p>
        <p>成分値は10進数で直列化され、
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥⑤">&lt;number></a>として表されます。
            成分間の区切りには
            ASCIIスペース（" "）1文字のみを使用します。
        </p>
        <p>どの成分値でも末尾の小数点以下のゼロは省略しなければなりません。
            小数点以下がすべてゼロの場合は
            小数点自体も省略します。</p>
        <div class="example" id="ex-device-cmyk-serial">
            <a class="self-link" href="#ex-device-cmyk-serial"></a>
            <p>次の色の直列化値は</p>
            <pre
                class="lang-css highlight"><span class="swatch" style="--color: rgb(70.7% 26.9% 19.7%);"></span>  <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>)</c-></pre>
            <p>文字列 "device-cmyk(0 0.81 0.81 0.3)" です。</p>
        </div>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①③">device-cmyk()</a>成分値の有効桁数、
            すなわち直列化値の有効数字の数の精度は
            本仕様では定義されませんが、
            少なくとも8ビット精度で
            ラウンドトリップできる十分な桁数が必要です。
            これは末尾のゼロを省けば
            少なくとも小数点以下2桁となります。
            値は<a href="https://drafts.csswg.org/css-values-4/#combine-integers">+∞方向に丸め</a>なければならず、切り捨ては不可です。</p>
        <p>アルファ値が1のときは明示的に直列化しません。
            非1のアルファ値は必ず明示的に直列化しなければならず、
            文字列 " / "
            （ASCIIスペース、スラッシュ、スペースの順）
            をblack("k")成分値とアルファ値の
            区切りに使用します。</p>
        <h2 class="heading settled" data-level="12" id="apis"><span class="secno">12. </span><span
                class="content">API</span><a class="self-link" href="#apis"></a></h2>
        <h3 class="heading settled" data-level="12.1" id="the-csscolorprofilerule-interface"><span class="secno">12.1.
            </span><span class="content"><code>CSSColorProfileRule</code>インターフェイス</span><a class="self-link"
                href="#the-csscolorprofilerule-interface"></a></h3>
        <p><a class="idl-code" data-link-type="interface" href="#csscolorprofilerule"
                id="ref-for-csscolorprofilerule">CSSColorProfileRule</a>インターフェイスは<a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑤">@color-profile</a>
            規則を表します。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule" id="ref-for-cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name" id="ref-for-dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src" id="ref-for-dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent" id="ref-for-dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components" id="ref-for-dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-name"><code>name</code></dfn>, <span>型 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring④">CSSOMString</a>, readonly</span>
            <dd> <var>name</var>属性の取得時は
                その規則に定義された<a data-link-type="dfn" href="#css-color-profile"
                    id="ref-for-css-color-profile③">色プロファイル</a>の<var>name</var>の
                シリアライズを含む<code>CSSOMString</code>オブジェクトを返します。
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-src"><code>src</code></dfn>, <span>型 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑤">CSSOMString</a>, readonly</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-renderingintent"><code>renderingIntent</code></dfn>, <span>
                    型 <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑥">CSSOMString</a>, readonly</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-components"><code>components</code></dfn>, <span>型 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑦">CSSOMString</a>, readonly</span>
            <dd> 残りの属性の取得時は
                その規則に定義されたディスクリプタのシリアライズを含む<code>CSSOMString</code>オブジェクトを返します。
                規則でそのディスクリプタが指定されていなければ
                属性は空文字列を返します。
        </dl>
        <h2 class="heading settled" data-level="13" id="sample"><span class="secno">13. </span><span class="content">
                デフォルトスタイル規則 </span><a class="self-link" href="#sample"></a></h2>
        <p>以下のスタイルシートは参考例であり、規範的なものではありません。このスタイルシートは、実装がHTMLファミリー文書のデフォルトスタイリングの一部として利用可能です。</p>
        <pre class="lang-css highlight"><c- c>/* 従来型デスクトップユーザーエージェントのリンク色 */</c->
:link <c- p>{</c-> <c- k>color</c-><c- p>:</c-> LinkText<c- p>;</c-> <c- p>}</c->
:visited <c- p>{</c-> <c- k>color</c-><c- p>:</c-> VisitedText<c- p>;</c-> <c- p>}</c->
:active <c- p>{</c-> <c- k>color</c-><c- p>:</c-> ActiveText<c- p>;</c-> <c- p>}</c->

<c- c>/* device-cmykに対する妥当で保守的なデフォルト */</c->
<c- n>@color-profile</c-> device-cmyk <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://drafts.csswg.org/css-color-4/ICCprofiles/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
</pre>
        <h2 class="heading settled" data-level="14" id="color-conversion-code"><span class="secno">14. </span><span
                class="content"> 色変換のサンプルコード</span><a class="self-link" href="#color-conversion-code"></a></h2>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p>device-cmyk からの単純変換は容易です：</p>
        <pre class="include-code highlight"><c- a>function</c-> naive<c- p>(</c->cmyk<c- p>)</c-> <c- p>{</c->
  <c- c1>// CMYK値の配列を単純にsRGBに変換</c->
  <c- a>let</c-> <c- p>[</c->cyan<c- p>,</c-> magenta<c- p>,</c-> yellow<c- p>,</c-> black<c- p>]</c-> <c- o>=</c-> cmyk<c- p>;</c->
    <c- a>let</c-> red <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> blue <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- k>return</c-> <c- p>[</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>];</c->
<c- p>}</c->
</pre>
        <h2 class="heading settled" data-level="15" id="security"><span class="secno">15. </span><span class="content">
                セキュリティに関する考慮事項 </span><a class="self-link" href="#security"></a></h2>
        <p>この仕様は、CSSにICCプロファイルのオンデマンドダウンロードを追加します。
            これらは実行コードを含まず、
            従ってセキュリティリスクが増加することはありません。</p>
        <h2 class="heading settled" data-level="16" id="privacy"><span class="secno">16. </span><span class="content">
                プライバシーに関する考慮事項 </span><a class="self-link" href="#privacy"></a></h2>
        <p>この仕様に関して、新たなプライバシー上の考慮事項は報告されていません。</p>
        <h2 class="heading settled" data-level="17" id="a11y-sec"><span class="secno">17. </span><span
                class="content">アクセシビリティに関する考慮事項 </span><a class="self-link" href="#a11y-sec"></a></h2>
        <p>この仕様は、ユーザー指定の色や動的な色の背景上にあるテキストの十分なコントラストを確保する方法を追加します。</p>
        <h2 class="heading settled" data-level="18" id="changes"><span class="secno">18. </span><span class="content">
                変更点 </span><a class="self-link" href="#changes"></a></h2>
        <h3 class="heading settled" data-level="18.1" id="changes-20250318"><span class="secno">18.1. </span><span
                class="content"> 2025年3月18日 <a href="https://www.w3.org/TR/2025/WD-css-color-5-20250318/">作業草案</a> 以降
            </span><a class="self-link" href="#changes-20250318"></a></h3>
        <ul>
            <li>相対色からCSS Color 4の対応する定義へのバックリンクを追加 (<a href="https://github.com/w3c/csswg-drafts/issues/13286">Issue
                    13286</a>)
            <li>複数の@color-profile規則がある場合、最後のものが優先されると定義 (<a
                    href="https://github.com/w3c/csswg-drafts/issues/12980">Issue 12980</a>)
            <li>color-mix()のデフォルトをoklabにし、color-interpolation-methodの省略を許可 (<a
                    href="https://github.com/w3c/csswg-drafts/issues/10484">Issue 10484</a>)
            <li>color-mix()が2色に制限されていると仮定していた残りのテキストを削除
            <li>origin colorsのシリアライズ方法を更新 (<a href="https://github.com/w3c/csswg-drafts/issues/10328">Issue
                    10328</a>)
            <li>補間用のカラースペースにdisplay-p3-linearを追加
            <li>alpha() RCS関数を追加
            <li>color-mixを2色に制限していた説明文を更新
            <li>スタイルリソースの外部URL取得を明確化
            <li>color-mix()の唯一の項目は指定されたカラースペースで返されることを明確化
            <li>カラーミキシングアルゴリズムにノーマライゼーションフラグを渡すようにした
            <li>color-mix()が1つ以上の引数を受け入れるようにし、一般的な*-mix()に合わせた
            <li>「sRGBに解決される色」や「レガシーカラー構文をサポートする色」の定義をCSS Color 4から移植
            <li>device-cmykから単純に変換するサンプルJavaScriptコードを追加
            <li>device-cmykのフォールバック色を使用したcolor-mix()の具体例を追加
            <li>device-cmyk()にはRCSがないことを（推定ではなく）明示的に明確化
            <li>color-mix()でパーセンテージの合計が0の場合はtransparentを返すと定義
            <li>"required conversion"用語を正しくエクスポート
        </ul>
        <h3 class="heading settled" data-level="18.2" id="changes-20240229"><span class="secno">18.2. </span><span
                class="content"> 2024年2月29日 <a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/">作業草案</a> 以降
            </span><a class="self-link" href="#changes-20240229"></a></h3>
        <ul>
            <li>成分キーワードが<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑤">none</a>
                や数値を返せることを明確化
            <li>ネストしたカラー関数の直列化例を追加
            <li>WG決議によりcalcを含むcolor-mix()の端エッジケース定義
            <li>WG決議によりcolor-mix()で「合計0なら無効」という記述を削除
            <li>color channel（色チャネル）（両用語あり）ではなくcolor component（色成分）を一貫使用
            <li>WG決議によりcontrast-color()を簡素化
            <li>premultipliedの用語への一貫したリンク
            <li>カラー・プロファイル成分の大文字小文字を区別しない検証を追加
            <li>color型定義にcontrast-color()を追加
            <li>アクセシビリティ考慮事項セクションを追加
            <li>FOGRA39, 51, 55への参照を追加
            <li>矩形色空間での&lt;hue-interpolation-method>がエラーとなる記述を削除（文法で許可されていないため）
            <li>相対カラー成分がどの色空間のものかを明確化
            <li>relative colorsの概念的説明と構文的説明の区別
            <li>deltaE表でテキストのコントラストを十分に確保
            <li>relative color componentsはclampされない、relative alphaはclampされることを明記
        </ul>
        <h3 class="heading settled" data-level="18.3" id="changes-20220628"><span class="secno">18.3. </span><span
                class="content"> 2022年6月28日 <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220628/">作業草案</a> 以降
            </span><a class="self-link" href="#changes-20220628"></a></h3>
        <ul>
            <li>CSSOM直列化をspecified valueでなくdeclared valueで記述
            <li><a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                    id="ref-for-funcdef-contrast-color⑥">contrast-color()</a>関数を追加
            <li>絶対カラーを文法ではなくプローズ定義に
            <li>パーセントからnumberへの変換範囲を各ケースのRCSで明記
            <li>currentColorがorigin colorのRCSの解決値を明確化
            <li>チャンネルキーワードは単一型のみ
            <li>legacy構文へのRCS適用例の誤りを訂正、実際にlegacy構文を使う例へ
            <li>すべてのhue成分値を度でnumberとしRCS introに合わせた
            <li>CIE LightnessとOklab lightnessの用語区別を明確化
            <li>色空間変換は不要なら省略可と明記
            <li>RCS値の指定値直列化を明記
            <li>単一要素のcolor-mix()例（指定色空間で返す）を明確化
            <li>device-cmyk()の直列化定義を明記
            <li>device-cmykのnone等に関する文法訂正
        </ul>
        <h3 class="heading settled" data-level="18.4" id="changes-20220428"><span class="secno">18.4. </span><span
                class="content"> 2022年4月28日 <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220428/">作業草案</a> 以降
            </span><a class="self-link" href="#changes-20220428"></a></h3>
        <ul>
            <li>rgb()定義のタイプミス修正
            <li>編集向け改善（大文字小文字、スペル、明確化）
            <li>他仕様で使う定義のexport
            <li>color()のalpha文法に<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑦">none</a>
                を追加
            <li>color-contrast()をレベル6へ移動
        </ul>
        <h3 class="heading settled" data-level="18.5" id="changes-20211215"><span class="secno">18.5. </span><span
                class="content"> 2021年12月15日 <a href="https://www.w3.org/TR/2021/WD-css-color-5-20211215/">作業草案</a> 以降
            </span><a class="self-link" href="#changes-20211215"></a></h3>
        <ul>
            <li>color()のパラメータ数違いの許容範囲をカスタム色空間のみに制限
            <li>すべての箇所でnumberとpercentを併用できるようにRCSを変更
            <li>コンポーネント名と定数名(PIなど)の衝突の説明追加
            <li>相対カラー構文でレガシー（カンマ区切り）は禁止と明記
            <li>rgb()の文法訂正（<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑧">none</a>
                がalphaで選択肢に入っていなかった）
            <li>color-mixでhslやhwbを使った場合直列化精度を最大に
            <li>ガマット外color-mix例を追加
        </ul>
        <h3 class="heading settled" data-level="18.6" id="changes-20210601"><span class="secno">18.6. </span><span
                class="content"> 2021年6月1日 <a href="https://www.w3.org/TR/2021/WD-css-color-5-20210601/">作業草案</a> 以降
            </span><a class="self-link" href="#changes-20210601"></a></h3>
        <ul>
            <li>矩形空間で&lt;hue-interpolation-method>使用でエラーに
            <li>旧&lt;hue-adjuster>を新しい&lt;hue-interpolation-method>に変更
            <li>CSSWG決議により@color-profileやdevice-cmykをレベル5へ
            <li>none を成分名で禁止
            <li>OkLCh相対カラー構文の追加
            <li>補間カラースペースの定義
            <li>プロファイル読み込みをfetchで定義
            <li>コントラストはD65-adapted CIE XYZ相対で算出を明記
            <li>oklab()およびoklch()をcolor-mixの直列化へ追加
            <li>oklab()およびoklch()相対カラー構文の追加
            <li>lch vs. oklch のミキシング例追加
            <li>ミキシングはoklabやoklchを推奨
            <li>xyzをD65-relativeに更新（Color 4に合わせ）
            <li>oklab, oklch カラースペースの追加
            <li>color-contrast()の解決方法を定義
            <li>直列化最小精度明確化
            <li>CIE LCHを指すと明記
            <li>例追加
            <li>color-adjust()は削除、relative color syntaxは残す
            <li>color-mix, color-contrast, relative colorの直列化定義追加
        </ul>
        <h3 class="heading settled" data-level="18.7" id="changes-20200303"><span class="secno">18.7. </span><span
                class="content"> 2020年6月10日 <a href="https://www.w3.org/TR/2020/WD-css-color-5-20200303/">FPWD 以降</a>
            </span><a class="self-link" href="#changes-20200303"></a></h3>
        <ul>
            <li>color()関数への相対カラー構文を追加
            <li>color-adjuster引数省略不可と明確化
            <li>color-mixのパーセント必須を明確化
            <li>hue-adjusterをcolor-mixに戻す
            <li>カラースペースごとのミックス例追加
            <li>color-mix()の正規化パーセンテージ例追加
            <li>color-mixで負のパーセントは明示的に除外
            <li>color-mixでパーセント合計が100%未満ならalpha透明度減少
            <li>colorspaceの粒度統一、<a class="production css" data-link-type="type" href="#typedef-color-space"
                    id="ref-for-typedef-color-space④">&lt;color-space></a>トークン定義
            <li>color-contrast文法修正
            <li>color-contrast()にターゲットコントラスト比をオプションで追加
            <li>adjuster文法修正
            <li>color-mix()端数例の正常化処理説明追加
            <li>演算順序明確化
            <li>例題を現状文法に更新
            <li>パーセント正規化方法定義
            <li>0%・100%の意味明確化
            <li>adjuster引数をcolor-mixからcolor-adjustへ移動
            <li>任意順序許容
            <li>color-mixにカラースペース必須
            <li>パーセント前置き可
            <li>color-mixアルゴリズム明示
            <li>小さなスペル・構文・書式の修正
            <li>color-mix内パーセント未解決状態対応
            <li>引数正規化
            <li>adjusterにもパーセント許容
            <li>リンク修正
            <li>color-mix文法調整、adjusterを分離、alpha調整追加
            <li>color-mixでinキーワード追加、混色空間明示
            <li>color-contrastは2つ以上必須に
            <li>relative color syntaxの説明改善
            <li>CSS 4定義への直列化リンク
            <li>色空間セクション追加
            <li>color-adjust例更新
            <li>説明図追加
            <li>未解決パーセント処理
            <li>引数の正規化
            <li>adjusterにもパーセント許可
            <li>リンク訂正
            <li>色空間ごとのcolor-mix文法更新、adjuster分離、alpha追加
            <li>仕様上と未解決パーセントの扱い
            <li>明示的色空間演算
            <li>アルゴリズム追加、分数や調整値処理記述
            <li>color-mix, color-contrast, relative color 構文の直列化追加
        </ul>
        <h3 class="heading settled" data-level="18.8" id="changes-from-4"><span class="secno">18.8. </span><span
                class="content"> CSS Color 4 からの変更点 </span><a class="self-link" href="#changes-from-4"></a></h3>
        <p>CSS Color 4と比べて大きな変更点の一つは、
            CSSカラーがもはや
            sRGBやdisplay-p3のような
            既定のRGB空間に限定されなくなったことです。</p>
        <p>このため、いくつかの新機能が追加されました：</p>
        <ol>
            <li><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①④">color()</a>
                関数へ<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①⑥">@color-profile</a>規則を追加し、プロファイル付きデバイス依存カラー
                （較正CMYK含む）を許可。
            <li><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①⑥">device-cmyk()</a> 関数により、
                出力デバイス固有のCMYK色空間で較正されていない色も指定可能。
        </ol>
        <p>さらに新たな<a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①⑥">color-mix()</a>関数で
            任意の色を指定した色空間で混ぜ、新しい色を得ることができます。</p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> 適合性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> 文書上の慣例</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>適合性要件は、記述的断定とRFC 2119用語の組み合わせで表現されます。規範部分における “MUST”、 “MUST NOT”、 “REQUIRED”、 “SHALL”、 “SHALL NOT”、 “SHOULD”、
        “SHOULD NOT”、 “RECOMMENDED”、 “MAY”、 “OPTIONAL” というキーワードは、RFC 2119に記載されている通りに解釈されます。
        ただし、本仕様書の可読性のため、これらのキーワードはすべて大文字では記載されていません。</p>
    <p>本仕様の文章は、明示的に非規範的と記載されたセクション、例、注釈を除き、すべて規範的です。 <a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本仕様の例は、「例えば」などの語で導入されるか、<code>class="example"</code>で規範文から区別されて提示されます。 </p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>これは情報提供のための例です。</p>
    </div>
    <p>情報的な注は「注」で始まり、<code>class="note"</code>で規範文から区別されて提示されます。 </p>
    <p class="note" role="note">注: これは情報提供のための注です。</p>
    <p>助言は注意喚起のための規範セクションであり、<code>&lt;strong class="advisement"></code>で他の規範文と区別され、次のように表示されます: <strong
            class="advisement"> UAはアクセシビリティ代替手段を提供しなければならない。 </strong></p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>テスト</summary>
        <p>本仕様の内容に関するテストは、このような「テスト」ブロックで文書化されている場合があります。
            このようなブロックは非規範的です。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> 適合性クラス</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本仕様への適合性は、3つの適合性クラスについて定義されています:</p>
    <dl>
        <dt>スタイルシート
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                スタイルシート</a>。
        <dt>レンダラー
        <dd>スタイルシートの意味を解釈し、それを利用する文書をレンダリングする<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。
        <dt>オーサリングツール
        <dd>スタイルシートを作成する<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。
    </dl>
    <p>スタイルシートは、本モジュールで定義された構文を用いるすべての文が、汎用CSS文法および本モジュールで定義された各機能の個別文法に従い有効であれば、本仕様に適合します。</p>
    <p>レンダラーは、スタイルシートを適切な仕様に従い解釈することに加え、本仕様で定義されたすべての機能を正しくパースし文書をレンダリングすることで、本仕様に適合します。ただし、デバイスの制約によりUAが文書を正しくレンダリングできない場合でも、UAが非適合となるわけではありません。（例:
        UAはモノクロモニター上で色をレンダリングする必要はありません。）</p>
    <p>オーサリングツールは、汎用CSS文法および本モジュールの各機能の個別文法に従い構文的に正しいスタイルシートを書き、本モジュールで記載されたスタイルシートのその他すべての適合性要件を満たしていれば、本仕様に適合します。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> 部分実装</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>作者が将来互換性のあるパース規則を利用してフォールバック値を指定できるように、CSSレンダラーは、利用可能なレベルのサポートがないat規則、プロパティ、プロパティ値、キーワード、その他の構文要素を無効として<strong>扱わなければならず</strong>、<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">適切に無視</a>しなければなりません。特に、ユーザーエージェントはサポートされていない成分値のみを選択的に無視し、同じ複数値プロパティ宣言内のサポートされている値のみを適用しては<strong>ならず</strong>、無効値（サポートされていない値）は宣言全体を無視しなければなりません。
    </p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> 不安定機能・独自拡張の実装</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>将来の安定CSS機能との衝突を避けるため、CSSWGは<a href="https://www.w3.org/TR/CSS/#future-proofing">ベストプラクティス</a>に従って、<a
            href="https://www.w3.org/TR/CSS/#unstable">不安定</a>機能および<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">独自拡張</a>を実装することを推奨します。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> 非実験的実装</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>仕様が現行標準の候補勧告段階に達した後は、非実験的な実装が可能となり、実装者は仕様通りに正しく実装されていることを証明できるCRレベルの機能について、プレフィックスなしでリリースすべきです。</p>
    <p>CSSの相互運用性を確立・維持するため、CSSワーキンググループは非実験的CSSレンダラーに対し、CSS機能のプレフィックスなし実装をリリースする前に実装レポート（必要に応じてそのテストケース）をW3Cへ提出することを求めています。W3Cに提出されたテストケースはCSSワーキンググループによるレビュー・修正の対象となります。
    </p>
    <p>テストケース・実装レポートの提出方法についてはCSSワーキンググループWebサイト <a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a> を参照してください。
        質問は <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
        メーリングリストへ。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義されている用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            a
            <ul>
                <li><a href="#valdef-lab-a">lab() の値</a><span>（§ 4.6）</span>
                <li><a href="#valdef-oklab-a">oklab() の値</a><span>（§ 4.7）</span>
            </ul>
        <li><a href="#absolute-color">絶対色</a><span>（§ 2）</span>
        <li><a
                href="#valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</a><span>（§ 5.3）</span>
        <li>
            alpha
            <ul>
                <li><a href="#valdef-alpha-alpha">alpha() の値</a><span>（§ 4.10）</span>
                <li><a href="#valdef-color-alpha">color() の値</a><span>（§ 5.1）</span>
                <li><a href="#valdef-hsl-alpha">hsl() の値</a><span>（§ 4.4）</span>
                <li><a href="#valdef-hwb-alpha">hwb() の値</a><span>（§ 4.5）</span>
                <li><a href="#valdef-lab-alpha">lab() の値</a><span>（§ 4.6）</span>
                <li><a href="#valdef-lch-alpha">lch() の値</a><span>（§ 4.8）</span>
                <li><a href="#valdef-oklab-alpha">oklab() の値</a><span>（§ 4.7）</span>
                <li><a href="#valdef-oklch-alpha">oklch() の値</a><span>（§ 4.9）</span>
                <li><a href="#valdef-rgb-alpha">rgb() の値</a><span>（§ 4.3）</span>
            </ul>
        <li><a href="#funcdef-alpha">alpha()</a><span>（§ 4.10）</span>
        <li>
            b
            <ul>
                <li><a href="#valdef-color-b">color() の値</a><span>（§ 5.1）</span>
                <li><a href="#valdef-hwb-b">hwb() の値</a><span>（§ 4.5）</span>
                <li><a href="#valdef-lab-b">lab() の値</a><span>（§ 4.6）</span>
                <li><a href="#valdef-oklab-b">oklab() の値</a><span>（§ 4.7）</span>
                <li><a href="#valdef-rgb-b">rgb() の値</a><span>（§ 4.3）</span>
            </ul>
        <li>
            c
            <ul>
                <li><a href="#valdef-lch-c">lch() の値</a><span>（§ 4.8）</span>
                <li><a href="#valdef-oklch-c">oklch() の値</a><span>（§ 4.9）</span>
            </ul>
        <li><a href="#calculate-a-color-mix">color-mix() を計算する</a><span>（§ 3.3）</span>
        <li><a href="#typedef-cmyk-component">&lt;cmyk-component></a><span>（§ 6）</span>
        <li><a href="#typedef-color">&lt;color></a><span>（§ 2）</span>
        <li><a href="#funcdef-color">color()</a><span>（§ 5）</span>
        <li><a href="#typedef-color-base">&lt;color-base></a><span>（§ 2）</span>
        <li><a href="#typedef-color-function">&lt;color-function></a><span>（§ 2）</span>
        <li><a href="#color-interpolation-method">&lt;color-interpolation-method></a><span>（§ 9.1）</span>
        <li><a href="#funcdef-color-mix">color-mix()</a><span>（§ 3）</span>
        <li><a href="#at-ruledef-profile">@color-profile</a><span>（§ 5.3）</span>
        <li><a href="#css-color-profile">カラープロファイル</a><span>（§ 5.3）</span>
        <li><a href="#typedef-color-space">&lt;color-space></a><span>（§ 9.1）</span>
        <li><a href="#typedef-colorspace-params">&lt;colorspace-params></a><span>（§ 5）</span>
        <li><a href="#component-keyword">成分キーワード</a><span>（§ 4.2）</span>
        <li>
            components
            <ul>
                <li><a href="#dom-csscolorprofilerule-components">CSSColorProfileRule の属性</a><span>（§ 12.1）</span>
                <li><a href="#descdef-color-profile-components">@color-profile の記述子</a><span>（§ 5.3）</span>
            </ul>
        <li><a href="#funcdef-contrast-color">contrast-color()</a><span>（§ 8）</span>
        <li><a href="#css-color-profile">CSS カラープロファイル</a><span>（§ 5.3）</span>
        <li><a href="#csscolorprofilerule">CSSColorProfileRule</a><span>（§ 12.1）</span>
        <li><a href="#typedef-custom-color-space">&lt;custom-color-space></a><span>（§ 9.1）</span>
        <li><a href="#typedef-custom-params">&lt;custom-params></a><span>（§ 5）</span>
        <li><a href="#funcdef-device-cmyk">device-cmyk()</a><span>（§ 6）</span>
        <li><a href="#fetch-an-external-color-profile">外部カラープロファイルを取得</a><span>（§ 5.3）</span>
        <li>
            g
            <ul>
                <li><a href="#valdef-color-g">color() の値</a><span>（§ 5.1）</span>
                <li><a href="#valdef-rgb-g">rgb() の値</a><span>（§ 4.3）</span>
            </ul>
        <li><a href="#gamut-map">ガマットマッピング</a><span>（§ 5.3）</span>
        <li>
            h
            <ul>
                <li><a href="#valdef-hsl-h">hsl() の値</a><span>（§ 4.4）</span>
                <li><a href="#valdef-hwb-h">hwb() の値</a><span>（§ 4.5）</span>
                <li><a href="#valdef-lch-h">lch() の値</a><span>（§ 4.8）</span>
                <li><a href="#valdef-oklch-h">oklch() の値</a><span>（§ 4.9）</span>
            </ul>
        <li><a href="#typedef-hue-interpolation-method">&lt;hue-interpolation-method></a><span>（§ 9.1）</span>
        <li><a href="#funcdef-hwb">hwb()</a><span>（§ 4.5）</span>
        <li><a href="#invalid-color">無効な色</a><span>（§ 5）</span>
        <li>
            l
            <ul>
                <li><a href="#valdef-hsl-l">hsl() の値</a><span>（§ 4.4）</span>
                <li><a href="#valdef-lab-l">lab() の値</a><span>（§ 4.6）</span>
                <li><a href="#valdef-lch-l">lch() の値</a><span>（§ 4.8）</span>
                <li><a href="#valdef-oklab-l">oklab() の値</a><span>（§ 4.7）</span>
                <li><a href="#valdef-oklch-l">oklch() の値</a><span>（§ 4.9）</span>
            </ul>
        <li><a href="#funcdef-lab">lab()</a><span>（§ 4.6）</span>
        <li><a href="#funcdef-lch">lch()</a><span>（§ 4.8）</span>
        <li><a href="#typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a><span>（§ 6）</span>
        <li><a href="#funcdef-light-dark">light-dark()</a><span>（§ 7）</span>
        <li><a href="#typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a><span>（§ 6）</span>
        <li><a href="#typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a><span>（§ 4.4）</span>
        <li><a href="#typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a><span>（§ 4.4）</span>
        <li><a href="#typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a><span>（§ 4.3）</span>
        <li><a href="#typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a><span>（§ 4.3）</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">RGBA から CMYK への単純変換</a><span>（§ 6.1）</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">CMYK から RGBA への単純変換</a><span>（§ 6.1）</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">CMYK から RGBA への単純変換</a><span>（§ 6.1）</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">RGBA から CMYK への単純変換</a><span>（§ 6.1）</span>
        <li><a href="#dom-csscolorprofilerule-name">name</a><span>（§ 12.1）</span>
        <li><a href="#funcdef-oklab">oklab()</a><span>（§ 4.7）</span>
        <li><a href="#funcdef-oklch">oklch()</a><span>（§ 4.9）</span>
        <li><a href="#originally-specified-color-space">元の指定色空間</a><span>（§ 4.1）</span>
        <li><a href="#origin-color">基準色</a><span>（§ 4.1）</span>
        <li><a href="#out-of-gamut">ガマット外</a><span>（§ 5）</span>
        <li><a href="#valdef-color-profile-rendering-intent-perceptual">perceptual</a><span>（§ 5.3）</span>
        <li><a href="#typedef-polar-color-space">&lt;polar-color-space></a><span>（§ 9.1）</span>
        <li><a href="#typedef-predefined-rgb">&lt;predefined-rgb></a><span>（§ 5）</span>
        <li><a href="#typedef-predefined-rgb-params">&lt;predefined-rgb-params></a><span>（§ 5）</span>
        <li>
            r
            <ul>
                <li><a href="#valdef-color-r">color() の値</a><span>（§ 5.1）</span>
                <li><a href="#valdef-rgb-r">rgb() の値</a><span>（§ 4.3）</span>
            </ul>
        <li><a href="#typedef-rectangular-color-space">&lt;rectangular-color-space></a><span>（§ 9.1）</span>
        <li><a href="#relative-color">相対カラー</a><span>（§ 4.1）</span>
        <li><a
                href="#valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</a><span>（§ 5.3）</span>
        <li><a href="#descdef-color-profile-rendering-intent">rendering-intent</a><span>（§ 5.3）</span>
        <li><a href="#dom-csscolorprofilerule-renderingintent">renderingIntent</a><span>（§ 12.1）</span>
        <li><a href="#required-conversion">必要な変換</a><span>（§ 4.1）</span>
        <li><a href="#resolve-to-srgb">sRGBへ解決する</a><span>（§ 2）</span>
        <li><a href="#valdef-hsl-s">s</a><span>（§ 4.4）</span>
        <li><a href="#valdef-color-profile-rendering-intent-saturation">saturation</a><span>（§ 5.3）</span>
        <li>
            src
            <ul>
                <li><a href="#dom-csscolorprofilerule-src">CSSColorProfileRule の属性</a><span>（§ 12.1）</span>
                <li><a href="#descdef-color-profile-src">@color-profile の記述子</a><span>（§ 5.3）</span>
            </ul>
        <li><a href="#support-legacy-color-syntax">レガシーカラー構文のサポート</a><span>（§ 2）</span>
        <li><a href="#valid-color">有効な色</a><span>（§ 5）</span>
        <li><a href="#valdef-hwb-w">w</a><span>（§ 4.5）</span>
        <li><a href="#valdef-color-x">x</a><span>（§ 5.1）</span>
        <li><a href="#typedef-xyz-params">&lt;xyz-params></a><span>（§ 5）</span>
        <li><a href="#valdef-color-y">y</a><span>（§ 5.1）</span>
        <li><a href="#valdef-color-z">z</a><span>（§ 5.1）</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照によって定義される用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="0948355d">actual value</span>
                <li><span class="dfn-paneled" id="8c8e51b4">computed value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-4]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="e5db470f">&lt;alpha-value></span>
                <li><span class="dfn-paneled" id="cee404c5">&lt;hex-color></span>
                <li><span class="dfn-paneled" id="33347c0e">&lt;hue></span>
                <li><span class="dfn-paneled" id="8fad2d26">&lt;named-color></span>
                <li><span class="dfn-paneled" id="024532da">&lt;system-color></span>
                <li><span class="dfn-paneled" id="640a9100">&lt;xyz-space></span>
                <li><span class="dfn-paneled" id="d11b143f">a98-rgb</span>
                <li><span class="dfn-paneled" id="4dee7468">analogous components</span>
                <li><span class="dfn-paneled" id="0ed7201e">black</span>
                <li><span class="dfn-paneled" id="a976c737">blue</span>
                <li><span class="dfn-paneled" id="7398228c">carried forward</span>
                <li><span class="dfn-paneled" id="b46a2c7d">color</span>
                <li><span class="dfn-paneled" id="4a1e4e52">color functions</span>
                <li><span class="dfn-paneled" id="f6f69187">color space</span>
                <li><span class="dfn-paneled" id="a42c65ac">currentcolor</span>
                <li><span class="dfn-paneled" id="c990915b">cylindrical polar color</span>
                <li><span class="dfn-paneled" id="19512a47">darkolivegreen</span>
                <li><span class="dfn-paneled" id="abed060e">display-p3</span>
                <li><span class="dfn-paneled" id="bc4e4c18">HSL</span>
                <li><span class="dfn-paneled" id="5bd3632a">hsl()</span>
                <li><span class="dfn-paneled" id="239640fd">hsla()</span>
                <li><span class="dfn-paneled" id="85dbac5b">HWB</span>
                <li><span class="dfn-paneled" id="4a14e4dc">lab</span>
                <li><span class="dfn-paneled" id="4b8ab2a8">LCH</span>
                <li><span class="dfn-paneled" id="e2a9e9b9">legacy color syntax</span>
                <li><span class="dfn-paneled" id="f8e15dd7">lime</span>
                <li><span class="dfn-paneled" id="77a29323">modern color syntax</span>
                <li><span class="dfn-paneled" id="528ea935">none</span>
                <li><span class="dfn-paneled" id="01b14142">oklab</span>
                <li><span class="dfn-paneled" id="404710e3">OKLCh</span>
                <li><span class="dfn-paneled" id="f0f7ce16">premultiplied</span>
                <li><span class="dfn-paneled" id="691e902b">prophoto-rgb</span>
                <li><span class="dfn-paneled" id="2eb59b48">rec2020</span>
                <li><span class="dfn-paneled" id="af48ee71">rectangular orthogonal color</span>
                <li><span class="dfn-paneled" id="970f70ea">red</span>
                <li><span class="dfn-paneled" id="daabf294">rgb()</span>
                <li><span class="dfn-paneled" id="f3226176">rgba()</span>
                <li><span class="dfn-paneled" id="ce4cacb8">srgb</span>
                <li><span class="dfn-paneled" id="e98886a5">srgb-linear</span>
                <li><span class="dfn-paneled" id="f3614b7c">transparent black</span>
                <li><span class="dfn-paneled" id="17858dc9">white</span>
                <li><span class="dfn-paneled" id="01b00791">xyz</span>
                <li><span class="dfn-paneled" id="b3bfee63">xyz-d65</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-ADJUST-1]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="746d81ae">dark</span>
                <li><span class="dfn-paneled" id="99387b3d">light</span>
                <li><span class="dfn-paneled" id="a55c0dec">used color scheme</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SYNTAX-3]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="a81b1fb8">&lt;declaration-list></span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="c297b070">#</span>
                <li><span class="dfn-paneled" id="bdb4e757">&amp;&amp;</span>
                <li><span class="dfn-paneled" id="af4a190d">+</span>
                <li><span class="dfn-paneled" id="8cd4f032">,</span>
                <li><span class="dfn-paneled" id="d7e1d67b">&lt;angle></span>
                <li><span class="dfn-paneled" id="f5b34cad">&lt;dashed-ident></span>
                <li><span class="dfn-paneled" id="dcecfc13">&lt;ident></span>
                <li><span class="dfn-paneled" id="61bb5e44">&lt;number></span>
                <li><span class="dfn-paneled" id="128295ac">&lt;percentage></span>
                <li><span class="dfn-paneled" id="699488a8">&lt;url></span>
                <li><span class="dfn-paneled" id="d4441b24">?</span>
                <li><span class="dfn-paneled" id="14d3255d">calc()</span>
                <li><span class="dfn-paneled" id="4dbf81d6">canonical unit</span>
                <li><span class="dfn-paneled" id="24ecd148">fetch a style resource</span>
                <li><span class="dfn-paneled" id="3db7b9e0">math function</span>
                <li><span class="dfn-paneled" id="d9909296">pi</span>
                <li><span class="dfn-paneled" id="8cbc2b3b">{A}</span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-5]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="acb3399b">mix item</span>
                <li><span class="dfn-paneled" id="8093bfd3">normalize mix percentages</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-1]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="9d357000">CSSOMString</span>
                <li><span class="dfn-paneled" id="0f78dbdd">CSSRule</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="ee7bba09">response</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="7f9469b5">ASCII case-insensitive</span>
                <li><span class="dfn-paneled" id="fca74142">pop</span>
                <li><span class="dfn-paneled" id="7c3de606">push</span>
                <li><span class="dfn-paneled" id="ceacaa1c">stack</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範的参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad氏、Miriam Suzanne氏、Tab Atkins Jr.氏。<a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>。2022年1月13日。CR。URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Chris Lilley氏、Tab Atkins Jr.氏、Lea Verou氏。<a href="https://www.w3.org/TR/css-color-4/"><cite>CSS Color Module
                    Level 4</cite></a>。2025年4月24日。CRD。URL: <a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
        <dd>Elika Etemad氏 ほか。<a href="https://www.w3.org/TR/css-color-adjust-1/"><cite>CSS Color Adjustment Module
                    Level 1</cite></a>。2025年12月16日。CR。URL: <a
                href="https://www.w3.org/TR/css-color-adjust-1/">https://www.w3.org/TR/css-color-adjust-1/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.氏、Simon Sapin氏。<a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS Syntax Module Level
                    3</cite></a>。2021年12月24日。CRD。URL: <a
                href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.氏、Elika Etemad氏。<a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>。2024年3月12日。WD。URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-values-5">[CSS-VALUES-5]
        <dd>Tab Atkins Jr.氏、Elika Etemad氏、Miriam Suzanne氏。<a href="https://www.w3.org/TR/css-values-5/"><cite>CSS Values
                    and Units Module Level 5</cite></a>。2024年11月11日。WD。URL: <a
                href="https://www.w3.org/TR/css-values-5/">https://www.w3.org/TR/css-values-5/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman氏、Emilio Cobos Álvarez氏。<a href="https://www.w3.org/TR/cssom-1/"><cite>CSS Object Model
                    (CSSOM)</cite></a>。2021年8月26日。WD。URL: <a
                href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren氏。<a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>。Living
            Standard。URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-icc">[ICC]
        <dd><a href="http://www.color.org/specification/ICC.1-2022-05.pdf"><cite>ICC.1:2022 (Profile version
                    4.4.0.0)</cite></a>。2022年5月。URL: <a
                href="http://www.color.org/specification/ICC.1-2022-05.pdf">http://www.color.org/specification/ICC.1-2022-05.pdf</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren氏、Domenic Denicola氏。<a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>。Living Standard。URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner氏。<a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>。1997年3月。Best Current Practice。URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen氏、Timothy Gu氏。<a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>。Living
            Standard。URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考情報</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-fogra39">[FOGRA39]
        <dd><a href="https://www.color.org/chardata/FOGRA39.xalter"><cite>ISO 12647-2:2004 / Amd 1、ISO
                    12647-2に準拠したオフセット商業印刷・特殊印刷、用紙タイプ1または2（光沢またはマットコートオフセット、115 g/m²）、線数60/cm</cite></a>。2006年。URL: <a
                href="https://www.color.org/chardata/FOGRA39.xalter">https://www.color.org/chardata/FOGRA39.xalter</a>
        <dt id="biblio-fogra51">[FOGRA51]
        <dd><a href="https://registry.color.org/cmyk-registry/fogra51"><cite>ISO
                    12647-2:2013、網点階調分解、校正印刷と生産印刷のための工程管理、パート2：オフセット平版印刷プロセス、PS 1、プレミアムコート紙、115
                    g/m²、蛍光剤中程度</cite></a>。2015年。URL: <a
                href="https://registry.color.org/cmyk-registry/fogra51">https://registry.color.org/cmyk-registry/fogra51</a>
        <dt id="biblio-fogra55">[FOGRA55]
        <dd><a
                href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003"><cite>CMYKOGVベースのガマット交換空間</cite></a>。2021年。URL:
            <a
                href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003">https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">プロパティ索引</span><a
            class="self-link" href="#property-index"></a></h2>
    <p>定義されたプロパティはありません。</p>
    <h3 class="no-num no-ref heading settled" id="color-profile-descriptor-table"><span class="content"><a class="css"
                data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑦">@color-profile</a>
            ディスクリプタ一覧</span><a class="self-link" href="#color-profile-descriptor-table"></a></h3>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名前
                    <th scope="col">値
                    <th scope="col">初期値
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-components"
                            id="ref-for-descdef-color-profile-components①">components</a>
                    <td>&lt;ident>#
                    <td>n/a
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-color-profile-rendering-intent"
                            id="ref-for-descdef-color-profile-rendering-intent①">rendering-intent</a>
                    <td>relative-colorimetric | absolute-colorimetric | perceptual | saturation
                    <td>relative-colorimetric
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-src"
                            id="ref-for-descdef-color-profile-src①">src</a>
                    <td>&lt;url>
                    <td>n/a
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "01b00791": { "dfnID": "01b00791", "dfnText": "xyz", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-xyz\u2460" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "01b14142": { "dfnID": "01b14142", "dfnText": "oklab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklab-oklab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "024532da": { "dfnID": "024532da", "dfnText": "<system-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-system-color" }, { "id": "ref-for-typedef-system-color\u2460" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "0948355d": { "dfnID": "0948355d", "dfnText": "actual value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-actual-value" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "0ed7201e": { "dfnID": "0ed7201e", "dfnText": "black", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-black" }, { "id": "ref-for-valdef-color-black\u2460" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "0f78dbdd": { "dfnID": "0f78dbdd", "dfnText": "CSSRule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssrule" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
                "128295ac": { "dfnID": "128295ac", "dfnText": "<percentage>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-percentage-value" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-percentage-value\u2460" }, { "id": "ref-for-percentage-value\u2461" }, { "id": "ref-for-percentage-value\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2463" }, { "id": "ref-for-percentage-value\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2465" }, { "id": "ref-for-percentage-value\u2466" }, { "id": "ref-for-percentage-value\u2467" }, { "id": "ref-for-percentage-value\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u24ea" }, { "id": "ref-for-percentage-value\u2460\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2461" }, { "id": "ref-for-percentage-value\u2460\u2462" }, { "id": "ref-for-percentage-value\u2460\u2463" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2464" }, { "id": "ref-for-percentage-value\u2460\u2465" }, { "id": "ref-for-percentage-value\u2460\u2466" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2467" }, { "id": "ref-for-percentage-value\u2460\u2468" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u24ea" }, { "id": "ref-for-percentage-value\u2461\u2460" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2461" }, { "id": "ref-for-percentage-value\u2461\u2462" }, { "id": "ref-for-percentage-value\u2461\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2464" }, { "id": "ref-for-percentage-value\u2461\u2465" }, { "id": "ref-for-percentage-value\u2461\u2466" }, { "id": "ref-for-percentage-value\u2461\u2467" }, { "id": "ref-for-percentage-value\u2461\u2468" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u24ea" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u2460" }, { "id": "ref-for-percentage-value\u2462\u2461" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "14d3255d": { "dfnID": "14d3255d", "dfnText": "calc()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-calc" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-funcdef-calc\u2460" }, { "id": "ref-for-funcdef-calc\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "17858dc9": { "dfnID": "17858dc9", "dfnText": "white", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-white" }, { "id": "ref-for-valdef-color-white\u2460" }, { "id": "ref-for-valdef-color-white\u2461" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "19512a47": { "dfnID": "19512a47", "dfnText": "darkolivegreen", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-darkolivegreen" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "239640fd": { "dfnID": "239640fd", "dfnText": "hsla()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsla" }, { "id": "ref-for-funcdef-hsla\u2460" }, { "id": "ref-for-funcdef-hsla\u2461" }, { "id": "ref-for-funcdef-hsla\u2462" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2463" }, { "id": "ref-for-funcdef-hsla\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2465" }, { "id": "ref-for-funcdef-hsla\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2467" }, { "id": "ref-for-funcdef-hsla\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "24ecd148": { "dfnID": "24ecd148", "dfnText": "fetch a style resource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-a-style-resource" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "2eb59b48": { "dfnID": "2eb59b48", "dfnText": "rec2020", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-rec2020" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "33347c0e": { "dfnID": "33347c0e", "dfnText": "<hue>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-typedef-hue\u2460" }, { "id": "ref-for-typedef-hue\u2461" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2462" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2463" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2464" }], "title": "4.9. Relative OkLCh Colors" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "3db7b9e0": { "dfnID": "3db7b9e0", "dfnText": "math function", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-math-function" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-math-function\u2460" }, { "id": "ref-for-math-function\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "404710e3": { "dfnID": "404710e3", "dfnText": "OKLCh", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklch-oklch" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-oklch-oklch\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "4a14e4dc": { "dfnID": "4a14e4dc", "dfnText": "lab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lab-lab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "4a1e4e52": { "dfnID": "4a1e4e52", "dfnText": "color functions", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color-functions" }, { "id": "ref-for-color-functions\u2460" }], "title": "2. The <color> syntax" }], "url": "https://drafts.csswg.org/css-color-4/#color-functions" },
                "4b8ab2a8": { "dfnID": "4b8ab2a8", "dfnText": "LCH", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lch-lch" }, { "id": "ref-for-valdef-lch-lch\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-lch-lch\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "4dbf81d6": { "dfnID": "4dbf81d6", "dfnText": "canonical unit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-canonical-unit" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "4dee7468": { "dfnID": "4dee7468", "dfnText": "analogous components", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-analogous-components" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }], "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }, { "id": "ref-for-comb-one\u2464" }, { "id": "ref-for-comb-one\u2465" }, { "id": "ref-for-comb-one\u2466" }, { "id": "ref-for-comb-one\u2467" }, { "id": "ref-for-comb-one\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea" }, { "id": "ref-for-comb-one\u2460\u2460" }, { "id": "ref-for-comb-one\u2460\u2461" }, { "id": "ref-for-comb-one\u2460\u2462" }, { "id": "ref-for-comb-one\u2460\u2463" }, { "id": "ref-for-comb-one\u2460\u2464" }, { "id": "ref-for-comb-one\u2460\u2465" }, { "id": "ref-for-comb-one\u2460\u2466" }, { "id": "ref-for-comb-one\u2460\u2467" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-comb-one\u2460\u2468" }, { "id": "ref-for-comb-one\u2461\u24ea" }, { "id": "ref-for-comb-one\u2461\u2460" }, { "id": "ref-for-comb-one\u2461\u2461" }, { "id": "ref-for-comb-one\u2461\u2462" }, { "id": "ref-for-comb-one\u2461\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2461\u2464" }, { "id": "ref-for-comb-one\u2461\u2465" }, { "id": "ref-for-comb-one\u2461\u2466" }, { "id": "ref-for-comb-one\u2461\u2467" }, { "id": "ref-for-comb-one\u2461\u2468" }, { "id": "ref-for-comb-one\u2462\u24ea" }, { "id": "ref-for-comb-one\u2462\u2460" }, { "id": "ref-for-comb-one\u2462\u2461" }, { "id": "ref-for-comb-one\u2462\u2462" }, { "id": "ref-for-comb-one\u2462\u2463" }, { "id": "ref-for-comb-one\u2462\u2464" }, { "id": "ref-for-comb-one\u2462\u2465" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2462\u2466" }, { "id": "ref-for-comb-one\u2462\u2467" }, { "id": "ref-for-comb-one\u2462\u2468" }, { "id": "ref-for-comb-one\u2463\u24ea" }, { "id": "ref-for-comb-one\u2463\u2460" }, { "id": "ref-for-comb-one\u2463\u2461" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2463\u2462" }, { "id": "ref-for-comb-one\u2463\u2463" }, { "id": "ref-for-comb-one\u2463\u2464" }, { "id": "ref-for-comb-one\u2463\u2465" }, { "id": "ref-for-comb-one\u2463\u2466" }, { "id": "ref-for-comb-one\u2463\u2467" }, { "id": "ref-for-comb-one\u2463\u2468" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2464\u24ea" }, { "id": "ref-for-comb-one\u2464\u2460" }, { "id": "ref-for-comb-one\u2464\u2461" }, { "id": "ref-for-comb-one\u2464\u2462" }, { "id": "ref-for-comb-one\u2464\u2463" }, { "id": "ref-for-comb-one\u2464\u2464" }, { "id": "ref-for-comb-one\u2464\u2465" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2464\u2466" }, { "id": "ref-for-comb-one\u2464\u2467" }, { "id": "ref-for-comb-one\u2464\u2468" }, { "id": "ref-for-comb-one\u2465\u24ea" }, { "id": "ref-for-comb-one\u2465\u2460" }, { "id": "ref-for-comb-one\u2465\u2461" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2462" }, { "id": "ref-for-comb-one\u2465\u2463" }, { "id": "ref-for-comb-one\u2465\u2464" }, { "id": "ref-for-comb-one\u2465\u2465" }, { "id": "ref-for-comb-one\u2465\u2466" }, { "id": "ref-for-comb-one\u2465\u2467" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2468" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2466\u24ea" }, { "id": "ref-for-comb-one\u2466\u2460" }, { "id": "ref-for-comb-one\u2466\u2461" }, { "id": "ref-for-comb-one\u2466\u2462" }, { "id": "ref-for-comb-one\u2466\u2463" }, { "id": "ref-for-comb-one\u2466\u2464" }, { "id": "ref-for-comb-one\u2466\u2465" }, { "id": "ref-for-comb-one\u2466\u2466" }, { "id": "ref-for-comb-one\u2466\u2467" }, { "id": "ref-for-comb-one\u2466\u2468" }, { "id": "ref-for-comb-one\u2467\u24ea" }, { "id": "ref-for-comb-one\u2467\u2460" }, { "id": "ref-for-comb-one\u2467\u2461" }, { "id": "ref-for-comb-one\u2467\u2462" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2463" }, { "id": "ref-for-comb-one\u2467\u2464" }, { "id": "ref-for-comb-one\u2467\u2465" }, { "id": "ref-for-comb-one\u2467\u2466" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2467" }, { "id": "ref-for-comb-one\u2467\u2468" }, { "id": "ref-for-comb-one\u2468\u24ea" }, { "id": "ref-for-comb-one\u2468\u2460" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2468\u2461" }, { "id": "ref-for-comb-one\u2468\u2462" }, { "id": "ref-for-comb-one\u2468\u2463" }, { "id": "ref-for-comb-one\u2468\u2464" }, { "id": "ref-for-comb-one\u2468\u2465" }, { "id": "ref-for-comb-one\u2468\u2466" }, { "id": "ref-for-comb-one\u2468\u2467" }, { "id": "ref-for-comb-one\u2468\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea\u24ea" }, { "id": "ref-for-comb-one\u2460\u24ea\u2460" }, { "id": "ref-for-comb-one\u2460\u24ea\u2461" }, { "id": "ref-for-comb-one\u2460\u24ea\u2462" }, { "id": "ref-for-comb-one\u2460\u24ea\u2463" }, { "id": "ref-for-comb-one\u2460\u24ea\u2464" }, { "id": "ref-for-comb-one\u2460\u24ea\u2465" }, { "id": "ref-for-comb-one\u2460\u24ea\u2466" }, { "id": "ref-for-comb-one\u2460\u24ea\u2467" }, { "id": "ref-for-comb-one\u2460\u24ea\u2468" }, { "id": "ref-for-comb-one\u2460\u2460\u24ea" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "528ea935": { "dfnID": "528ea935", "dfnText": "none", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-none" }, { "id": "ref-for-valdef-color-none\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2461" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2462" }, { "id": "ref-for-valdef-color-none\u2463" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2464" }], "title": "18.2. \n\tSince the Working Draft of 29 February 2024\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2465" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2466" }], "title": "18.4. \n\tSince the Working Draft of 28 April 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2467" }], "title": "18.5. \n\tSince the Working Draft of 15 December 2021\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "5bd3632a": { "dfnID": "5bd3632a", "dfnText": "hsl()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsl" }, { "id": "ref-for-funcdef-hsl\u2460" }, { "id": "ref-for-funcdef-hsl\u2461" }, { "id": "ref-for-funcdef-hsl\u2462" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2463" }, { "id": "ref-for-funcdef-hsl\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2465" }, { "id": "ref-for-funcdef-hsl\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2467" }, { "id": "ref-for-funcdef-hsl\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2460\u24ea" }, { "id": "ref-for-funcdef-hsl\u2460\u2460" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsl" },
                "61bb5e44": { "dfnID": "61bb5e44", "dfnText": "<number>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-number-value" }, { "id": "ref-for-number-value\u2460" }, { "id": "ref-for-number-value\u2461" }, { "id": "ref-for-number-value\u2462" }, { "id": "ref-for-number-value\u2463" }, { "id": "ref-for-number-value\u2464" }, { "id": "ref-for-number-value\u2465" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-number-value\u2466" }, { "id": "ref-for-number-value\u2467" }, { "id": "ref-for-number-value\u2468" }, { "id": "ref-for-number-value\u2460\u24ea" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2460" }, { "id": "ref-for-number-value\u2460\u2461" }, { "id": "ref-for-number-value\u2460\u2462" }, { "id": "ref-for-number-value\u2460\u2463" }, { "id": "ref-for-number-value\u2460\u2464" }, { "id": "ref-for-number-value\u2460\u2465" }, { "id": "ref-for-number-value\u2460\u2466" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2467" }, { "id": "ref-for-number-value\u2460\u2468" }, { "id": "ref-for-number-value\u2461\u24ea" }, { "id": "ref-for-number-value\u2461\u2460" }, { "id": "ref-for-number-value\u2461\u2461" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2462" }, { "id": "ref-for-number-value\u2461\u2463" }, { "id": "ref-for-number-value\u2461\u2464" }, { "id": "ref-for-number-value\u2461\u2465" }, { "id": "ref-for-number-value\u2461\u2466" }, { "id": "ref-for-number-value\u2461\u2467" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2468" }, { "id": "ref-for-number-value\u2462\u24ea" }, { "id": "ref-for-number-value\u2462\u2460" }, { "id": "ref-for-number-value\u2462\u2461" }, { "id": "ref-for-number-value\u2462\u2462" }, { "id": "ref-for-number-value\u2462\u2463" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2462\u2464" }, { "id": "ref-for-number-value\u2462\u2465" }, { "id": "ref-for-number-value\u2462\u2466" }, { "id": "ref-for-number-value\u2462\u2467" }, { "id": "ref-for-number-value\u2462\u2468" }, { "id": "ref-for-number-value\u2463\u24ea" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2460" }, { "id": "ref-for-number-value\u2463\u2461" }, { "id": "ref-for-number-value\u2463\u2462" }, { "id": "ref-for-number-value\u2463\u2463" }, { "id": "ref-for-number-value\u2463\u2464" }, { "id": "ref-for-number-value\u2463\u2465" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2466" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2467" }, { "id": "ref-for-number-value\u2463\u2468" }, { "id": "ref-for-number-value\u2464\u24ea" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2464\u2460" }, { "id": "ref-for-number-value\u2464\u2461" }, { "id": "ref-for-number-value\u2464\u2462" }, { "id": "ref-for-number-value\u2464\u2463" }, { "id": "ref-for-number-value\u2464\u2464" }, { "id": "ref-for-number-value\u2464\u2465" }, { "id": "ref-for-number-value\u2464\u2466" }, { "id": "ref-for-number-value\u2464\u2467" }, { "id": "ref-for-number-value\u2464\u2468" }, { "id": "ref-for-number-value\u2465\u24ea" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2460" }, { "id": "ref-for-number-value\u2465\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2462" }, { "id": "ref-for-number-value\u2465\u2463" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2464" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "640a9100": { "dfnID": "640a9100", "dfnText": "<xyz-space>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz-space" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-xyz-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-xyz-space" },
                "691e902b": { "dfnID": "691e902b", "dfnText": "prophoto-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-prophoto-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "699488a8": { "dfnID": "699488a8", "dfnText": "<url>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-value" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "7398228c": { "dfnID": "7398228c", "dfnText": "carried forward", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-carried-forward" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }], "url": "https://www.w3.org/TR/css-color-4/#carried-forward" },
                "746d81ae": { "dfnID": "746d81ae", "dfnText": "dark", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-dark" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "77a29323": { "dfnID": "77a29323", "dfnText": "modern color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-modern-color-syntax" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2461" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2462" }], "title": "4.4. Relative HSL Colors" }], "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "7c3de606": { "dfnID": "7c3de606", "dfnText": "push", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack-push" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack-push" },
                "7f9469b5": { "dfnID": "7f9469b5", "dfnText": "ASCII case-insensitive", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-case-insensitive" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "8093bfd3": { "dfnID": "8093bfd3", "dfnText": "normalize mix percentages", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-normalize-mix-percentages" }], "title": "3.2. \n\tPercentage Normalization\n" }, { "refs": [{ "id": "ref-for-normalize-mix-percentages\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" },
                "85dbac5b": { "dfnID": "85dbac5b", "dfnText": "HWB", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hwb-hwb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8c8e51b4": { "dfnID": "8c8e51b4", "dfnText": "computed value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-computed-value" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "8cbc2b3b": { "dfnID": "8cbc2b3b", "dfnText": "{A}", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-num" }, { "id": "ref-for-mult-num\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-num\u2461" }, { "id": "ref-for-mult-num\u2462" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-num\u2463" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "8cd4f032": { "dfnID": "8cd4f032", "dfnText": ",", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-comb-comma\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "8fad2d26": { "dfnID": "8fad2d26", "dfnText": "<named-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-named-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "970f70ea": { "dfnID": "970f70ea", "dfnText": "red", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-red" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "99387b3d": { "dfnID": "99387b3d", "dfnText": "light", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-light" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "9d357000": { "dfnID": "9d357000", "dfnText": "CSSOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssomstring" }, { "id": "ref-for-cssomstring\u2460" }, { "id": "ref-for-cssomstring\u2461" }, { "id": "ref-for-cssomstring\u2462" }, { "id": "ref-for-cssomstring\u2463" }, { "id": "ref-for-cssomstring\u2464" }, { "id": "ref-for-cssomstring\u2465" }, { "id": "ref-for-cssomstring\u2466" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "a42c65ac": { "dfnID": "a42c65ac", "dfnText": "currentcolor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-currentcolor" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2460" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2461" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2462" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2463" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2464" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "a55c0dec": { "dfnID": "a55c0dec", "dfnText": "used color scheme", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-used-color-scheme" }, { "id": "ref-for-used-color-scheme\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "a81b1fb8": { "dfnID": "a81b1fb8", "dfnText": "<declaration-list>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-declaration-list" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "a976c737": { "dfnID": "a976c737", "dfnText": "blue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-blue" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "abed060e": { "dfnID": "abed060e", "dfnText": "display-p3", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-display-p3" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-valdef-color-display-p3\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "absolute-color": { "dfnID": "absolute-color", "dfnText": "absolute color", "external": false, "refSections": [], "url": "#absolute-color" },
                "acb3399b": { "dfnID": "acb3399b", "dfnText": "mix item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mix-item" }, { "id": "ref-for-mix-item\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://drafts.csswg.org/css-values-5/#mix-item" },
                "af48ee71": { "dfnID": "af48ee71", "dfnText": "rectangular orthogonal color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-rectangular-orthogonal-color" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-rectangular-orthogonal-color\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color" },
                "af4a190d": { "dfnID": "af4a190d", "dfnText": "+", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-one-plus" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "at-ruledef-profile": { "dfnID": "at-ruledef-profile", "dfnText": "@color-profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-profile" }, { "id": "ref-for-at-ruledef-profile\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2461" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2462" }, { "id": "ref-for-at-ruledef-profile\u2463" }, { "id": "ref-for-at-ruledef-profile\u2464" }, { "id": "ref-for-at-ruledef-profile\u2465" }, { "id": "ref-for-at-ruledef-profile\u2466" }, { "id": "ref-for-at-ruledef-profile\u2467" }, { "id": "ref-for-at-ruledef-profile\u2468" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u24ea" }], "title": "5.4. \n\tCSS and Print: Using Calibrated CMYK and Other Printed Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2460" }, { "id": "ref-for-at-ruledef-profile\u2460\u2461" }, { "id": "ref-for-at-ruledef-profile\u2460\u2462" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2463" }], "title": "9.1. \n\tColor Space for Interpolation" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2464" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2465" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#at-ruledef-profile" },
                "b3bfee63": { "dfnID": "b3bfee63", "dfnText": "xyz-d65", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz-d65" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "b46a2c7d": { "dfnID": "b46a2c7d", "dfnText": "color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color" }], "title": "5.2. \n\tCustom Color Spaces\n" }], "url": "https://www.w3.org/TR/css-color-4/#color" },
                "bc4e4c18": { "dfnID": "bc4e4c18", "dfnText": "HSL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hsl-hsl" }, { "id": "ref-for-valdef-hsl-hsl\u2460" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-hsl-hsl\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "bdb4e757": { "dfnID": "bdb4e757", "dfnText": "&&", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-all" }], "title": "3. Mixing Colors: the color-mix() Function" }], "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "c297b070": { "dfnID": "c297b070", "dfnText": "#", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-comma\u2460" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-mult-comma\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "c990915b": { "dfnID": "c990915b", "dfnText": "cylindrical polar color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cylindrical-polar-color" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-cylindrical-polar-color\u2460" }, { "id": "ref-for-cylindrical-polar-color\u2461" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color" },
                "calculate-a-color-mix": { "dfnID": "calculate-a-color-mix", "dfnText": "calculate a color-mix()", "external": false, "refSections": [], "url": "#calculate-a-color-mix" },
                "ce4cacb8": { "dfnID": "ce4cacb8", "dfnText": "srgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-srgb\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "ceacaa1c": { "dfnID": "ceacaa1c", "dfnText": "stack", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack" },
                "cee404c5": { "dfnID": "cee404c5", "dfnText": "<hex-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hex-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "color-interpolation-method": { "dfnID": "color-interpolation-method", "dfnText": "<color-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-color-interpolation-method" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-color-interpolation-method\u2460" }, { "id": "ref-for-color-interpolation-method\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#color-interpolation-method" },
                "component-keyword": { "dfnID": "component-keyword", "dfnText": "component keyword", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-component-keyword" }, { "id": "ref-for-component-keyword\u2460" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-component-keyword\u2461" }, { "id": "ref-for-component-keyword\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-component-keyword\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2465" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2466" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2467" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2468" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u24ea" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u2460" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u2461" }, { "id": "ref-for-component-keyword\u2460\u2462" }, { "id": "ref-for-component-keyword\u2460\u2463" }, { "id": "ref-for-component-keyword\u2460\u2464" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#component-keyword" },
                "css-color-profile": { "dfnID": "css-color-profile", "dfnText": "color profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-css-color-profile" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-css-color-profile\u2460" }, { "id": "ref-for-css-color-profile\u2461" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-css-color-profile\u2462" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#css-color-profile" },
                "csscolorprofilerule": { "dfnID": "csscolorprofilerule", "dfnText": "CSSColorProfileRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-csscolorprofilerule" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-csscolorprofilerule\u2460" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#csscolorprofilerule" },
                "d11b143f": { "dfnID": "d11b143f", "dfnText": "a98-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-a98-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "d4441b24": { "dfnID": "d4441b24", "dfnText": "?", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-opt" }, { "id": "ref-for-mult-opt\u2460" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-opt\u2461" }, { "id": "ref-for-mult-opt\u2462" }, { "id": "ref-for-mult-opt\u2463" }, { "id": "ref-for-mult-opt\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2465" }, { "id": "ref-for-mult-opt\u2466" }, { "id": "ref-for-mult-opt\u2467" }, { "id": "ref-for-mult-opt\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u24ea" }, { "id": "ref-for-mult-opt\u2460\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2461" }, { "id": "ref-for-mult-opt\u2460\u2462" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2463" }, { "id": "ref-for-mult-opt\u2460\u2464" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2465" }, { "id": "ref-for-mult-opt\u2460\u2466" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2467" }, { "id": "ref-for-mult-opt\u2460\u2468" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u24ea" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2460" }, { "id": "ref-for-mult-opt\u2461\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2462" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2463" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "d7e1d67b": { "dfnID": "d7e1d67b", "dfnText": "<angle>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-angle-value" }, { "id": "ref-for-angle-value\u2460" }, { "id": "ref-for-angle-value\u2461" }, { "id": "ref-for-angle-value\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "d9909296": { "dfnID": "d9909296", "dfnText": "pi", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-calc-pi" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "daabf294": { "dfnID": "daabf294", "dfnText": "rgb()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgb" }, { "id": "ref-for-funcdef-rgb\u2460" }, { "id": "ref-for-funcdef-rgb\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2462" }, { "id": "ref-for-funcdef-rgb\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2464" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2465" }, { "id": "ref-for-funcdef-rgb\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2467" }, { "id": "ref-for-funcdef-rgb\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgb" },
                "dcecfc13": { "dfnID": "dcecfc13", "dfnText": "<ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-ident" }, { "id": "ref-for-typedef-ident\u2460" }, { "id": "ref-for-typedef-ident\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-ident\u2462" }, { "id": "ref-for-typedef-ident\u2463" }, { "id": "ref-for-typedef-ident\u2464" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "descdef-color-profile-components": { "dfnID": "descdef-color-profile-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-components" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#descdef-color-profile-components" },
                "descdef-color-profile-rendering-intent": { "dfnID": "descdef-color-profile-rendering-intent", "dfnText": "rendering-intent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-rendering-intent" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-rendering-intent" },
                "descdef-color-profile-src": { "dfnID": "descdef-color-profile-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-src" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-src" },
                "dom-csscolorprofilerule-components": { "dfnID": "dom-csscolorprofilerule-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-components" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-components" },
                "dom-csscolorprofilerule-name": { "dfnID": "dom-csscolorprofilerule-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-name" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-name" },
                "dom-csscolorprofilerule-renderingintent": { "dfnID": "dom-csscolorprofilerule-renderingintent", "dfnText": "renderingIntent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-renderingintent" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-renderingintent" },
                "dom-csscolorprofilerule-src": { "dfnID": "dom-csscolorprofilerule-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-src" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-src" },
                "e2a9e9b9": { "dfnID": "e2a9e9b9", "dfnText": "legacy color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-legacy-color-syntax" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "e5db470f": { "dfnID": "e5db470f", "dfnText": "<alpha-value>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-alpha-value" }, { "id": "ref-for-typedef-color-alpha-value\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2461" }, { "id": "ref-for-typedef-color-alpha-value\u2462" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2464" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2465" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2466" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2467" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2468" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u24ea" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" },
                "e98886a5": { "dfnID": "e98886a5", "dfnText": "srgb-linear", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb-linear" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "ee7bba09": { "dfnID": "ee7bba09", "dfnText": "response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "f0f7ce16": { "dfnID": "f0f7ce16", "dfnText": "premultiplied", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-premultiplied" }, { "id": "ref-for-premultiplied\u2460" }, { "id": "ref-for-premultiplied\u2461" }], "title": "3.5. \n\tEffect of Non-Unity Alpha on color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#premultiplied" },
                "f3226176": { "dfnID": "f3226176", "dfnText": "rgba()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgba" }, { "id": "ref-for-funcdef-rgba\u2460" }, { "id": "ref-for-funcdef-rgba\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2462" }, { "id": "ref-for-funcdef-rgba\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2464" }, { "id": "ref-for-funcdef-rgba\u2465" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2466" }, { "id": "ref-for-funcdef-rgba\u2467" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "f3614b7c": { "dfnID": "f3614b7c", "dfnText": "transparent black", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transparent-black" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#transparent-black" },
                "f5b34cad": { "dfnID": "f5b34cad", "dfnText": "<dashed-ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-dashed-ident" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2460" }, { "id": "ref-for-typedef-dashed-ident\u2461" }, { "id": "ref-for-typedef-dashed-ident\u2462" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2463" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2464" }, { "id": "ref-for-typedef-dashed-ident\u2465" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2466" }, { "id": "ref-for-typedef-dashed-ident\u2467" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "f6f69187": { "dfnID": "f6f69187", "dfnText": "color space", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color-space" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-color-space\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-color-space\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "f8e15dd7": { "dfnID": "f8e15dd7", "dfnText": "lime", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-lime" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "fca74142": { "dfnID": "fca74142", "dfnText": "pop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack-pop" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack-pop" },
                "fetch-an-external-color-profile": { "dfnID": "fetch-an-external-color-profile", "dfnText": "fetch an external color profile", "external": false, "refSections": [], "url": "#fetch-an-external-color-profile" },
                "funcdef-alpha": { "dfnID": "funcdef-alpha", "dfnText": "alpha()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-alpha" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-alpha\u2460" }, { "id": "ref-for-funcdef-alpha\u2461" }], "title": "4.10. Relative Alpha Colors" }], "url": "#funcdef-alpha" },
                "funcdef-color": { "dfnID": "funcdef-color", "dfnText": "color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color\u2461" }, { "id": "ref-for-funcdef-color\u2462" }, { "id": "ref-for-funcdef-color\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2464" }, { "id": "ref-for-funcdef-color\u2465" }, { "id": "ref-for-funcdef-color\u2466" }, { "id": "ref-for-funcdef-color\u2467" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-funcdef-color\u2468" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u24ea" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2460" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2461" }], "title": "11.4. \n\tSerializing Custom Color Spaces\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2462" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2463" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color" },
                "funcdef-color-mix": { "dfnID": "funcdef-color-mix", "dfnText": "color-mix()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color-mix" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460" }, { "id": "ref-for-funcdef-color-mix\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2462" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2463" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2464" }], "title": "3.5. \n\tEffect of Non-Unity Alpha on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2465" }, { "id": "ref-for-funcdef-color-mix\u2466" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2467" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2468" }, { "id": "ref-for-funcdef-color-mix\u2460\u24ea" }, { "id": "ref-for-funcdef-color-mix\u2460\u2460" }, { "id": "ref-for-funcdef-color-mix\u2460\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u2462" }, { "id": "ref-for-funcdef-color-mix\u2460\u2463" }, { "id": "ref-for-funcdef-color-mix\u2460\u2464" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u2465" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color-mix" },
                "funcdef-contrast-color": { "dfnID": "funcdef-contrast-color", "dfnText": "contrast-color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-contrast-color" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2460" }, { "id": "ref-for-funcdef-contrast-color\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2462" }, { "id": "ref-for-funcdef-contrast-color\u2463" }, { "id": "ref-for-funcdef-contrast-color\u2464" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2465" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-contrast-color" },
                "funcdef-device-cmyk": { "dfnID": "funcdef-device-cmyk", "dfnText": "device-cmyk()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-device-cmyk" }, { "id": "ref-for-funcdef-device-cmyk\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2461" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2462" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2463" }, { "id": "ref-for-funcdef-device-cmyk\u2464" }, { "id": "ref-for-funcdef-device-cmyk\u2465" }, { "id": "ref-for-funcdef-device-cmyk\u2466" }, { "id": "ref-for-funcdef-device-cmyk\u2467" }, { "id": "ref-for-funcdef-device-cmyk\u2468" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u24ea" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2460" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2461" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2462" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2463" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2464" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2465" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-device-cmyk" },
                "funcdef-hwb": { "dfnID": "funcdef-hwb", "dfnText": "hwb()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hwb" }, { "id": "ref-for-funcdef-hwb\u2460" }, { "id": "ref-for-funcdef-hwb\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2462" }, { "id": "ref-for-funcdef-hwb\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2466" }, { "id": "ref-for-funcdef-hwb\u2467" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-hwb" },
                "funcdef-lab": { "dfnID": "funcdef-lab", "dfnText": "lab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2460" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2461" }, { "id": "ref-for-funcdef-lab\u2462" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2463" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2464" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-lab" },
                "funcdef-lch": { "dfnID": "funcdef-lch", "dfnText": "lch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lch" }, { "id": "ref-for-funcdef-lch\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2462" }, { "id": "ref-for-funcdef-lch\u2463" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-lch" },
                "funcdef-light-dark": { "dfnID": "funcdef-light-dark", "dfnText": "light-dark()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-light-dark" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2460" }, { "id": "ref-for-funcdef-light-dark\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2462" }, { "id": "ref-for-funcdef-light-dark\u2463" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2464" }, { "id": "ref-for-funcdef-light-dark\u2465" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-light-dark" },
                "funcdef-oklab": { "dfnID": "funcdef-oklab", "dfnText": "oklab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2460" }, { "id": "ref-for-funcdef-oklab\u2461" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2462" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2463" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-oklab" },
                "funcdef-oklch": { "dfnID": "funcdef-oklch", "dfnText": "oklch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklch" }, { "id": "ref-for-funcdef-oklch\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2462" }, { "id": "ref-for-funcdef-oklch\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-oklch" },
                "gamut-map": { "dfnID": "gamut-map", "dfnText": "gamut-map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gamut-map" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#gamut-map" },
                "invalid-color": { "dfnID": "invalid-color", "dfnText": "invalid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-invalid-color" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-invalid-color\u2460" }, { "id": "ref-for-invalid-color\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-invalid-color\u2462" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#invalid-color" },
                "naively-convert-from-cmyk-to-rgba": { "dfnID": "naively-convert-from-cmyk-to-rgba", "dfnText": "naively convert from CMYK to RGBA", "external": false, "refSections": [], "url": "#naively-convert-from-cmyk-to-rgba" },
                "naively-convert-from-rgba-to-cmyk": { "dfnID": "naively-convert-from-rgba-to-cmyk", "dfnText": "naively convert from RGBA to CMYK", "external": false, "refSections": [], "url": "#naively-convert-from-rgba-to-cmyk" },
                "origin-color": { "dfnID": "origin-color", "dfnText": "origin color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-origin-color" }, { "id": "ref-for-origin-color\u2460" }, { "id": "ref-for-origin-color\u2461" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-origin-color\u2462" }, { "id": "ref-for-origin-color\u2463" }, { "id": "ref-for-origin-color\u2464" }, { "id": "ref-for-origin-color\u2465" }, { "id": "ref-for-origin-color\u2466" }, { "id": "ref-for-origin-color\u2467" }, { "id": "ref-for-origin-color\u2468" }, { "id": "ref-for-origin-color\u2460\u24ea" }, { "id": "ref-for-origin-color\u2460\u2460" }, { "id": "ref-for-origin-color\u2460\u2461" }, { "id": "ref-for-origin-color\u2460\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2463" }, { "id": "ref-for-origin-color\u2460\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2465" }, { "id": "ref-for-origin-color\u2460\u2466" }, { "id": "ref-for-origin-color\u2460\u2467" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2468" }, { "id": "ref-for-origin-color\u2461\u24ea" }, { "id": "ref-for-origin-color\u2461\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2461" }, { "id": "ref-for-origin-color\u2461\u2462" }, { "id": "ref-for-origin-color\u2461\u2463" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2464" }, { "id": "ref-for-origin-color\u2461\u2465" }, { "id": "ref-for-origin-color\u2461\u2466" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2467" }, { "id": "ref-for-origin-color\u2461\u2468" }, { "id": "ref-for-origin-color\u2462\u24ea" }, { "id": "ref-for-origin-color\u2462\u2460" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2461" }, { "id": "ref-for-origin-color\u2462\u2462" }, { "id": "ref-for-origin-color\u2462\u2463" }, { "id": "ref-for-origin-color\u2462\u2464" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2465" }, { "id": "ref-for-origin-color\u2462\u2466" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2467" }, { "id": "ref-for-origin-color\u2462\u2468" }, { "id": "ref-for-origin-color\u2463\u24ea" }, { "id": "ref-for-origin-color\u2463\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2463\u2461" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-origin-color\u2463\u2462" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#origin-color" },
                "originally-specified-color-space": { "dfnID": "originally-specified-color-space", "dfnText": "originally specified color space", "external": false, "refSections": [], "url": "#originally-specified-color-space" },
                "out-of-gamut": { "dfnID": "out-of-gamut", "dfnText": "out of gamut", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-out-of-gamut" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#out-of-gamut" },
                "relative-color": { "dfnID": "relative-color", "dfnText": "relative color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-relative-color" }, { "id": "ref-for-relative-color\u2460" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-relative-color\u2461" }, { "id": "ref-for-relative-color\u2462" }, { "id": "ref-for-relative-color\u2463" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-relative-color\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2465" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2466" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2467" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2468" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u24ea" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2460" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2461" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2462" }, { "id": "ref-for-relative-color\u2460\u2463" }, { "id": "ref-for-relative-color\u2460\u2464" }, { "id": "ref-for-relative-color\u2460\u2465" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2466" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#relative-color" },
                "required-conversion": { "dfnID": "required-conversion", "dfnText": "Required conversion", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-required-conversion" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460" }, { "id": "ref-for-required-conversion\u2461" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2462" }, { "id": "ref-for-required-conversion\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2464" }, { "id": "ref-for-required-conversion\u2465" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2466" }, { "id": "ref-for-required-conversion\u2467" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2468" }, { "id": "ref-for-required-conversion\u2460\u24ea" }, { "id": "ref-for-required-conversion\u2460\u2460" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460\u2461" }, { "id": "ref-for-required-conversion\u2460\u2462" }, { "id": "ref-for-required-conversion\u2460\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460\u2464" }, { "id": "ref-for-required-conversion\u2460\u2465" }, { "id": "ref-for-required-conversion\u2460\u2466" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#required-conversion" },
                "resolve-to-srgb": { "dfnID": "resolve-to-srgb", "dfnText": "resolve to sRGB", "external": false, "refSections": [], "url": "#resolve-to-srgb" },
                "support-legacy-color-syntax": { "dfnID": "support-legacy-color-syntax", "dfnText": "support legacy color syntax", "external": false, "refSections": [], "url": "#support-legacy-color-syntax" },
                "typedef-cmyk-component": { "dfnID": "typedef-cmyk-component", "dfnText": "<cmyk-component>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-cmyk-component" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-cmyk-component" },
                "typedef-color": { "dfnID": "typedef-color", "dfnText": "<color>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color" }, { "id": "ref-for-typedef-color\u2460" }, { "id": "ref-for-typedef-color\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-typedef-color\u2462" }, { "id": "ref-for-typedef-color\u2463" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color\u2464" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2465" }, { "id": "ref-for-typedef-color\u2466" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2467" }, { "id": "ref-for-typedef-color\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u24ea" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2460" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2461" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2462" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2464" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2465" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2466" }, { "id": "ref-for-typedef-color\u2460\u2467" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2468" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u24ea" }], "title": "10. \n\tResolving <color> Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2460" }, { "id": "ref-for-typedef-color\u2461\u2461" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2462" }, { "id": "ref-for-typedef-color\u2461\u2463" }, { "id": "ref-for-typedef-color\u2461\u2464" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2465" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2466" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#typedef-color" },
                "typedef-color-base": { "dfnID": "typedef-color-base", "dfnText": "<color-base>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-base" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-base" },
                "typedef-color-function": { "dfnID": "typedef-color-function", "dfnText": "<color-function>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-function" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-function" },
                "typedef-color-space": { "dfnID": "typedef-color-space", "dfnText": "<color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-space" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2460" }, { "id": "ref-for-typedef-color-space\u2461" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2462" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2463" }], "title": "18.7. \n\tSince the FPWD of 10 June 2020\n" }], "url": "#typedef-color-space" },
                "typedef-colorspace-params": { "dfnID": "typedef-colorspace-params", "dfnText": "<colorspace-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-colorspace-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-colorspace-params" },
                "typedef-custom-color-space": { "dfnID": "typedef-custom-color-space", "dfnText": "<custom-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-color-space" }, { "id": "ref-for-typedef-custom-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-custom-color-space" },
                "typedef-custom-params": { "dfnID": "typedef-custom-params", "dfnText": "<custom-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-custom-params\u2460" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-custom-params" },
                "typedef-hue-interpolation-method": { "dfnID": "typedef-hue-interpolation-method", "dfnText": "<hue-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue-interpolation-method" }, { "id": "ref-for-typedef-hue-interpolation-method\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-hue-interpolation-method\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-hue-interpolation-method" },
                "typedef-legacy-device-cmyk-syntax": { "dfnID": "typedef-legacy-device-cmyk-syntax", "dfnText": "<legacy-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-legacy-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-legacy-device-cmyk-syntax" },
                "typedef-modern-device-cmyk-syntax": { "dfnID": "typedef-modern-device-cmyk-syntax", "dfnText": "<modern-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-modern-device-cmyk-syntax" },
                "typedef-modern-hsl-syntax": { "dfnID": "typedef-modern-hsl-syntax", "dfnText": "<modern-hsl-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsl-syntax" }], "title": "4.4. Relative HSL Colors" }], "url": "#typedef-modern-hsl-syntax" },
                "typedef-modern-hsla-syntax": { "dfnID": "typedef-modern-hsla-syntax", "dfnText": "<modern-hsla-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsla-syntax" }], "title": "4.4. Relative HSL Colors" }], "url": "#typedef-modern-hsla-syntax" },
                "typedef-modern-rgb-syntax": { "dfnID": "typedef-modern-rgb-syntax", "dfnText": "<modern-rgb-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgb-syntax" }], "title": "4.3. Relative sRGB Colors" }], "url": "#typedef-modern-rgb-syntax" },
                "typedef-modern-rgba-syntax": { "dfnID": "typedef-modern-rgba-syntax", "dfnText": "<modern-rgba-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgba-syntax" }], "title": "4.3. Relative sRGB Colors" }], "url": "#typedef-modern-rgba-syntax" },
                "typedef-polar-color-space": { "dfnID": "typedef-polar-color-space", "dfnText": "<polar-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-polar-color-space" }, { "id": "ref-for-typedef-polar-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-polar-color-space" },
                "typedef-predefined-rgb": { "dfnID": "typedef-predefined-rgb", "dfnText": "<predefined-rgb>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-predefined-rgb" },
                "typedef-predefined-rgb-params": { "dfnID": "typedef-predefined-rgb-params", "dfnText": "<predefined-rgb-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-predefined-rgb-params\u2460" }, { "id": "ref-for-typedef-predefined-rgb-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-predefined-rgb-params" },
                "typedef-rectangular-color-space": { "dfnID": "typedef-rectangular-color-space", "dfnText": "<rectangular-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-rectangular-color-space" }, { "id": "ref-for-typedef-rectangular-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-rectangular-color-space" },
                "typedef-xyz-params": { "dfnID": "typedef-xyz-params", "dfnText": "<xyz-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-xyz-params\u2460" }, { "id": "ref-for-typedef-xyz-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-xyz-params" },
                "valdef-alpha-alpha": { "dfnID": "valdef-alpha-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-alpha-alpha" },
                "valdef-color-alpha": { "dfnID": "valdef-color-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-color-alpha" },
                "valdef-color-b": { "dfnID": "valdef-color-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-color-b" },
                "valdef-color-g": { "dfnID": "valdef-color-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-color-g" },
                "valdef-color-profile-rendering-intent-absolute-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-absolute-colorimetric", "dfnText": "absolute-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-absolute-colorimetric" },
                "valdef-color-profile-rendering-intent-perceptual": { "dfnID": "valdef-color-profile-rendering-intent-perceptual", "dfnText": "perceptual", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-perceptual" },
                "valdef-color-profile-rendering-intent-relative-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-relative-colorimetric", "dfnText": "relative-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-relative-colorimetric" },
                "valdef-color-profile-rendering-intent-saturation": { "dfnID": "valdef-color-profile-rendering-intent-saturation", "dfnText": "saturation", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-saturation" },
                "valdef-color-r": { "dfnID": "valdef-color-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-color-r" },
                "valdef-color-x": { "dfnID": "valdef-color-x", "dfnText": "x", "external": false, "refSections": [], "url": "#valdef-color-x" },
                "valdef-color-y": { "dfnID": "valdef-color-y", "dfnText": "y", "external": false, "refSections": [], "url": "#valdef-color-y" },
                "valdef-color-z": { "dfnID": "valdef-color-z", "dfnText": "z", "external": false, "refSections": [], "url": "#valdef-color-z" },
                "valdef-hsl-alpha": { "dfnID": "valdef-hsl-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hsl-alpha" },
                "valdef-hsl-h": { "dfnID": "valdef-hsl-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hsl-h" },
                "valdef-hsl-l": { "dfnID": "valdef-hsl-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-hsl-l" },
                "valdef-hsl-s": { "dfnID": "valdef-hsl-s", "dfnText": "s", "external": false, "refSections": [], "url": "#valdef-hsl-s" },
                "valdef-hwb-alpha": { "dfnID": "valdef-hwb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hwb-alpha" },
                "valdef-hwb-b": { "dfnID": "valdef-hwb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-hwb-b" },
                "valdef-hwb-h": { "dfnID": "valdef-hwb-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hwb-h" },
                "valdef-hwb-w": { "dfnID": "valdef-hwb-w", "dfnText": "w", "external": false, "refSections": [], "url": "#valdef-hwb-w" },
                "valdef-lab-a": { "dfnID": "valdef-lab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-lab-a" },
                "valdef-lab-alpha": { "dfnID": "valdef-lab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lab-alpha" },
                "valdef-lab-b": { "dfnID": "valdef-lab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-lab-b" },
                "valdef-lab-l": { "dfnID": "valdef-lab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lab-l" },
                "valdef-lch-alpha": { "dfnID": "valdef-lch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lch-alpha" },
                "valdef-lch-c": { "dfnID": "valdef-lch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-lch-c" },
                "valdef-lch-h": { "dfnID": "valdef-lch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-lch-h" },
                "valdef-lch-l": { "dfnID": "valdef-lch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lch-l" },
                "valdef-oklab-a": { "dfnID": "valdef-oklab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-oklab-a" },
                "valdef-oklab-alpha": { "dfnID": "valdef-oklab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklab-alpha" },
                "valdef-oklab-b": { "dfnID": "valdef-oklab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-oklab-b" },
                "valdef-oklab-l": { "dfnID": "valdef-oklab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklab-l" },
                "valdef-oklch-alpha": { "dfnID": "valdef-oklch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklch-alpha" },
                "valdef-oklch-c": { "dfnID": "valdef-oklch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-oklch-c" },
                "valdef-oklch-h": { "dfnID": "valdef-oklch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-oklch-h" },
                "valdef-oklch-l": { "dfnID": "valdef-oklch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklch-l" },
                "valdef-rgb-alpha": { "dfnID": "valdef-rgb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-rgb-alpha" },
                "valdef-rgb-b": { "dfnID": "valdef-rgb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-rgb-b" },
                "valdef-rgb-g": { "dfnID": "valdef-rgb-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-rgb-g" },
                "valdef-rgb-r": { "dfnID": "valdef-rgb-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-rgb-r" },
                "valid-color": { "dfnID": "valid-color", "dfnText": "valid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valid-color" }, { "id": "ref-for-valid-color\u2460" }, { "id": "ref-for-valid-color\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-valid-color\u2462" }, { "id": "ref-for-valid-color\u2463" }, { "id": "ref-for-valid-color\u2464" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#valid-color" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-link-titles */
        "use strict";
        {
            let linkTitleData = {
                "https://www.w3.org/TR/css-values-4/#angle-value": "Expands to: deg | grad | rad | turn",
                "https://www.w3.org/TR/css-values-4/#url-value": "Expands to: local url flag",
            };

            function setTypeTitles() {
                for (let el of document.querySelectorAll("a[href]")) {
                    if (el.href in linkTitleData && !el.hasAttribute("title")) {
                        el.setAttribute("title", linkTitleData[el.href]);
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", setTypeTitles);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#at-ruledef-profile": { "displayText": "@color-profile", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "@color-profile", "type": "at-rule", "url": "#at-ruledef-profile" },
                "#color-interpolation-method": { "displayText": "<color-interpolation-method>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-interpolation-method>", "type": "type", "url": "#color-interpolation-method" },
                "#component-keyword": { "displayText": "component keyword", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "component keyword", "type": "dfn", "url": "#component-keyword" },
                "#css-color-profile": { "displayText": "color profile", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color profile", "type": "dfn", "url": "#css-color-profile" },
                "#csscolorprofilerule": { "displayText": "CSSColorProfileRule", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "CSSColorProfileRule", "type": "interface", "url": "#csscolorprofilerule" },
                "#descdef-color-profile-components": { "displayText": "components", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "descriptor", "url": "#descdef-color-profile-components" },
                "#descdef-color-profile-rendering-intent": { "displayText": "rendering-intent", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "rendering-intent", "type": "descriptor", "url": "#descdef-color-profile-rendering-intent" },
                "#descdef-color-profile-src": { "displayText": "src", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "descriptor", "url": "#descdef-color-profile-src" },
                "#dom-csscolorprofilerule-components": { "displayText": "components", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "attribute", "url": "#dom-csscolorprofilerule-components" },
                "#dom-csscolorprofilerule-name": { "displayText": "name", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "name", "type": "attribute", "url": "#dom-csscolorprofilerule-name" },
                "#dom-csscolorprofilerule-renderingintent": { "displayText": "renderingIntent", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "renderingIntent", "type": "attribute", "url": "#dom-csscolorprofilerule-renderingintent" },
                "#dom-csscolorprofilerule-src": { "displayText": "src", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "attribute", "url": "#dom-csscolorprofilerule-src" },
                "#funcdef-alpha": { "displayText": "alpha()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "alpha()", "type": "function", "url": "#funcdef-alpha" },
                "#funcdef-color": { "displayText": "color()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color()", "type": "function", "url": "#funcdef-color" },
                "#funcdef-color-mix": { "displayText": "color-mix()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color-mix()", "type": "function", "url": "#funcdef-color-mix" },
                "#funcdef-contrast-color": { "displayText": "contrast-color()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "contrast-color()", "type": "function", "url": "#funcdef-contrast-color" },
                "#funcdef-device-cmyk": { "displayText": "device-cmyk()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "device-cmyk()", "type": "function", "url": "#funcdef-device-cmyk" },
                "#funcdef-hwb": { "displayText": "hwb()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "hwb()", "type": "function", "url": "#funcdef-hwb" },
                "#funcdef-lab": { "displayText": "lab()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lab()", "type": "function", "url": "#funcdef-lab" },
                "#funcdef-lch": { "displayText": "lch()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lch()", "type": "function", "url": "#funcdef-lch" },
                "#funcdef-light-dark": { "displayText": "light-dark()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "light-dark()", "type": "function", "url": "#funcdef-light-dark" },
                "#funcdef-oklab": { "displayText": "oklab()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklab()", "type": "function", "url": "#funcdef-oklab" },
                "#funcdef-oklch": { "displayText": "oklch()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklch()", "type": "function", "url": "#funcdef-oklch" },
                "#gamut-map": { "displayText": "gamut-map", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "gamut-map", "type": "dfn", "url": "#gamut-map" },
                "#invalid-color": { "displayText": "invalid color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "invalid color", "type": "dfn", "url": "#invalid-color" },
                "#origin-color": { "displayText": "origin color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "origin color", "type": "dfn", "url": "#origin-color" },
                "#out-of-gamut": { "displayText": "out of gamut", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "out of gamut", "type": "dfn", "url": "#out-of-gamut" },
                "#relative-color": { "displayText": "relative color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "relative color", "type": "dfn", "url": "#relative-color" },
                "#required-conversion": { "displayText": "required conversion", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "required conversion", "type": "dfn", "url": "#required-conversion" },
                "#typedef-cmyk-component": { "displayText": "<cmyk-component>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<cmyk-component>", "type": "type", "url": "#typedef-cmyk-component" },
                "#typedef-color": { "displayText": "<color>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color>", "type": "type", "url": "#typedef-color" },
                "#typedef-color-base": { "displayText": "<color-base>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-base>", "type": "type", "url": "#typedef-color-base" },
                "#typedef-color-function": { "displayText": "<color-function>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-function>", "type": "type", "url": "#typedef-color-function" },
                "#typedef-color-space": { "displayText": "<color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-space>", "type": "type", "url": "#typedef-color-space" },
                "#typedef-colorspace-params": { "displayText": "<colorspace-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<colorspace-params>", "type": "type", "url": "#typedef-colorspace-params" },
                "#typedef-custom-color-space": { "displayText": "<custom-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-color-space>", "type": "type", "url": "#typedef-custom-color-space" },
                "#typedef-custom-params": { "displayText": "<custom-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-params>", "type": "type", "url": "#typedef-custom-params" },
                "#typedef-hue-interpolation-method": { "displayText": "<hue-interpolation-method>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<hue-interpolation-method>", "type": "type", "url": "#typedef-hue-interpolation-method" },
                "#typedef-legacy-device-cmyk-syntax": { "displayText": "<legacy-device-cmyk-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<legacy-device-cmyk-syntax>", "type": "type", "url": "#typedef-legacy-device-cmyk-syntax" },
                "#typedef-modern-device-cmyk-syntax": { "displayText": "<modern-device-cmyk-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-device-cmyk-syntax>", "type": "type", "url": "#typedef-modern-device-cmyk-syntax" },
                "#typedef-modern-hsl-syntax": { "displayText": "<modern-hsl-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsl-syntax>", "type": "type", "url": "#typedef-modern-hsl-syntax" },
                "#typedef-modern-hsla-syntax": { "displayText": "<modern-hsla-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsla-syntax>", "type": "type", "url": "#typedef-modern-hsla-syntax" },
                "#typedef-modern-rgb-syntax": { "displayText": "<modern-rgb-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgb-syntax>", "type": "type", "url": "#typedef-modern-rgb-syntax" },
                "#typedef-modern-rgba-syntax": { "displayText": "<modern-rgba-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgba-syntax>", "type": "type", "url": "#typedef-modern-rgba-syntax" },
                "#typedef-polar-color-space": { "displayText": "<polar-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<polar-color-space>", "type": "type", "url": "#typedef-polar-color-space" },
                "#typedef-predefined-rgb": { "displayText": "<predefined-rgb>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb>", "type": "type", "url": "#typedef-predefined-rgb" },
                "#typedef-predefined-rgb-params": { "displayText": "<predefined-rgb-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb-params>", "type": "type", "url": "#typedef-predefined-rgb-params" },
                "#typedef-rectangular-color-space": { "displayText": "<rectangular-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<rectangular-color-space>", "type": "type", "url": "#typedef-rectangular-color-space" },
                "#typedef-xyz-params": { "displayText": "<xyz-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<xyz-params>", "type": "type", "url": "#typedef-xyz-params" },
                "#valid-color": { "displayText": "valid color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "valid color", "type": "dfn", "url": "#valid-color" },
                "https://drafts.csswg.org/css-color-4/#color-functions": { "displayText": "color functions", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "current", "text": "color functions", "type": "dfn", "url": "https://drafts.csswg.org/css-color-4/#color-functions" },
                "https://drafts.csswg.org/css-values-5/#mix-item": { "displayText": "mix item", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-values", "spec": "css-values-5", "status": "current", "text": "mix item", "type": "dfn", "url": "https://drafts.csswg.org/css-values-5/#mix-item" },
                "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages": { "displayText": "normalize mix percentages", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-values", "spec": "css-values-5", "status": "current", "text": "normalize mix percentages", "type": "dfn", "url": "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" },
                "https://fetch.spec.whatwg.org/#concept-response": { "displayText": "response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "https://infra.spec.whatwg.org/#ascii-case-insensitive": { "displayText": "ASCII case-insensitive", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii case-insensitive", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "https://infra.spec.whatwg.org/#stack": { "displayText": "stack", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "stack", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack" },
                "https://infra.spec.whatwg.org/#stack-pop": { "displayText": "pop", "export": true, "for_": ["stack"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "pop", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack-pop" },
                "https://infra.spec.whatwg.org/#stack-push": { "displayText": "push", "export": true, "for_": ["stack"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "push", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack-push" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://www.w3.org/TR/css-cascade-5/#actual-value": { "displayText": "actual value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "actual value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "https://www.w3.org/TR/css-cascade-5/#computed-value": { "displayText": "computed value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "computed value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "https://www.w3.org/TR/css-color-4/#analogous-components": { "displayText": "analogous components", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "analogous components", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "https://www.w3.org/TR/css-color-4/#carried-forward": { "displayText": "carried forward", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "carried forward", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#carried-forward" },
                "https://www.w3.org/TR/css-color-4/#color": { "displayText": "color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color" },
                "https://www.w3.org/TR/css-color-4/#color-space": { "displayText": "color space", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color space", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color": { "displayText": "cylindrical polar color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "cylindrical polar color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color" },
                "https://www.w3.org/TR/css-color-4/#funcdef-hsl": { "displayText": "hsl()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsl()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsl" },
                "https://www.w3.org/TR/css-color-4/#funcdef-hsla": { "displayText": "hsla()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsla()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "https://www.w3.org/TR/css-color-4/#funcdef-rgb": { "displayText": "rgb()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rgb()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgb" },
                "https://www.w3.org/TR/css-color-4/#funcdef-rgba": { "displayText": "rgba()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rgba()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "https://www.w3.org/TR/css-color-4/#legacy-color-syntax": { "displayText": "legacy color syntax", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "legacy color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#modern-color-syntax": { "displayText": "modern color syntax", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "modern color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#premultiplied": { "displayText": "premultiplied", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "premultiplied", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#premultiplied" },
                "https://www.w3.org/TR/css-color-4/#propdef-color": { "displayText": "color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "property", "url": "https://www.w3.org/TR/css-color-4/#propdef-color" },
                "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color": { "displayText": "rectangular orthogonal color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rectangular orthogonal color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color" },
                "https://www.w3.org/TR/css-color-4/#transparent-black": { "displayText": "transparent black", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "transparent black", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#transparent-black" },
                "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value": { "displayText": "<alpha-value>", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<alpha-value>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" },
                "https://www.w3.org/TR/css-color-4/#typedef-hex-color": { "displayText": "<hex-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hex-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-hue": { "displayText": "<hue>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hue>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "https://www.w3.org/TR/css-color-4/#typedef-named-color": { "displayText": "<named-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<named-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-system-color": { "displayText": "<system-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<system-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-xyz-space": { "displayText": "<xyz-space>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<xyz-space>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-xyz-space" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb": { "displayText": "a98-rgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "a98-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-black": { "displayText": "black", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "black", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-blue": { "displayText": "blue", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "blue", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor": { "displayText": "currentcolor", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "currentcolor", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen": { "displayText": "darkolivegreen", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "darkolivegreen", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3": { "displayText": "display-p3", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "display-p3", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-lime": { "displayText": "lime", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lime", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-none": { "displayText": "none", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb": { "displayText": "prophoto-rgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "prophoto-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020": { "displayText": "rec2020", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rec2020", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-red": { "displayText": "red", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "red", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb": { "displayText": "srgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear": { "displayText": "srgb-linear", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb-linear", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-white": { "displayText": "white", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "white", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz": { "displayText": "xyz", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65": { "displayText": "xyz-d65", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz-d65", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl": { "displayText": "HSL", "export": true, "for_": ["hsl()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsl", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb": { "displayText": "HWB", "export": true, "for_": ["hwb()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hwb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "https://www.w3.org/TR/css-color-4/#valdef-lab-lab": { "displayText": "lab", "export": true, "for_": ["lab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "https://www.w3.org/TR/css-color-4/#valdef-lch-lch": { "displayText": "LCH", "export": true, "for_": ["lch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab": { "displayText": "oklab", "export": true, "for_": ["oklab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch": { "displayText": "OKLCh", "export": true, "for_": ["oklch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme": { "displayText": "used color scheme", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "used color scheme", "type": "dfn", "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark": { "displayText": "dark", "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "dark", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light": { "displayText": "light", "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "light", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list": { "displayText": "<declaration-list>", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "<declaration-list>", "type": "type", "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "https://www.w3.org/TR/css-values-4/#angle-value": { "displayText": "<angle>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<angle>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "https://www.w3.org/TR/css-values-4/#canonical-unit": { "displayText": "canonical unit", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "canonical unit", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "https://www.w3.org/TR/css-values-4/#comb-all": { "displayText": "&&", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "&&", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "https://www.w3.org/TR/css-values-4/#comb-comma": { "displayText": ",", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": ",", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "displayText": "|", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource": { "displayText": "fetch a style resource", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "fetch a style resource", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "https://www.w3.org/TR/css-values-4/#funcdef-calc": { "displayText": "calc()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "calc()", "type": "function", "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "https://www.w3.org/TR/css-values-4/#math-function": { "displayText": "math function", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "math function", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "https://www.w3.org/TR/css-values-4/#mult-comma": { "displayText": "#", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "#", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "https://www.w3.org/TR/css-values-4/#mult-num": { "displayText": "{A}", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "{a}", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "https://www.w3.org/TR/css-values-4/#mult-one-plus": { "displayText": "+", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "+", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "https://www.w3.org/TR/css-values-4/#mult-opt": { "displayText": "?", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "?", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "https://www.w3.org/TR/css-values-4/#number-value": { "displayText": "<number>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<number>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "https://www.w3.org/TR/css-values-4/#percentage-value": { "displayText": "<percentage>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<percentage>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident": { "displayText": "<dashed-ident>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<dashed-ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "https://www.w3.org/TR/css-values-4/#typedef-ident": { "displayText": "<ident>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "https://www.w3.org/TR/css-values-4/#url-value": { "displayText": "<url>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<url>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "https://www.w3.org/TR/css-values-4/#valdef-calc-pi": { "displayText": "pi", "export": true, "for_": ["calc()"], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "pi", "type": "value", "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "https://www.w3.org/TR/cssom-1/#cssomstring": { "displayText": "CSSOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSOMString", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "https://www.w3.org/TR/cssom-1/#cssrule": { "displayText": "CSSRule", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSRule", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script>/* Boilerplate: script-wpt */
        "use strict";
        {
            let wptData = {
                "paths": ["/css/css-color/", "/css/css-pseudo/", "/html/canvas/"],
            };

            document.addEventListener("DOMContentLoaded", async () => {
                if (wptData.paths.length == 0) return;

                const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
                const runs = await (await fetch(runsUrl)).json();

                let testResults = [];
                for (const pathPrefix of wptData.paths) {
                    const pathResults = await (await fetch("https://wpt.fyi/api/search", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            "run_ids": runs.map(x => x.id),
                            "query": { "path": pathPrefix },
                        })
                    })).json();
                    testResults = testResults.concat(pathResults.results);
                }

                const browsers = runs.map(x => ({ name: x.browser_name, version: x.browser_version, passes: 0, total: 0 }));
                const resultsFromPath = new Map(testResults.map(result => {
                    const testPath = result.test;
                    const passes = result.legacy_status.map(x => [x.passes, x.total]);
                    return [testPath, passes];
                }));
                const seenTests = new Set();
                document.querySelectorAll(".wpt-name").forEach(nameEl => {
                    const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
                    if (!passData) {
                        console.log("Couldn't find test in results:", nameEl);
                        return
                    }
                    const numTests = passData[0][1];
                    if (numTests > 1) {
                        nameEl.insertAdjacentElement("beforeend",
                            mk.small({}, ` (${numTests} tests)`));
                    }
                    if (passData == undefined) return;
                    const resultsEl = mk.span({ "class": "wpt-results" },
                        ...passData.map((p, i) => mk.span(
                            {
                                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                                "class": "wpt-result",
                                "style": `background: conic-gradient(forestgreen ${p[0] / p[1] * 360}deg, darkred 0deg);`,
                            })),
                    );
                    nameEl.insertAdjacentElement("afterend", resultsEl);

                    // Only update the summary pass/total count if we haven't seen this
                    // test before, to support authors listing the same test multiple times
                    // in a spec.
                    if (!seenTests.has(nameEl.getAttribute("title"))) {
                        seenTests.add(nameEl.getAttribute("title"));
                        passData.forEach((p, i) => {
                            browsers[i].passes += p[0];
                            browsers[i].total += p[1];
                        });
                    }
                });
                const overview = document.querySelector(".wpt-overview");
                if (overview) {
                    overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
                    document.head.appendChild(mk.style({},
                        `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
                }
            });

            function formatWptResult({ name, version, passes, total }) {
                const passRate = passes / total;
                let passClass = "";
                if (passRate == 0) passClass = "passes-none";
                else if (passRate < .2) passClass = "passes-hardly";
                else if (passRate < .4) passClass = "passes-a-few";
                else if (passRate < .6) passClass = "passes-half";
                else if (passRate < .8) passClass = "passes-lots";
                else if (passRate < 1) passClass = "passes-most";
                else passClass = "passes-all";

                name = name[0].toUpperCase() + name.slice(1);
                const shortVersion = /^\d+/.exec(version);
                const icon = []

                if (name == "Chrome") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/chrome_64x64.png" }));
                if (name == "Edge") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/edge_64x64.png" }));
                if (name == "Safari") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/safari_64x64.png" }));
                if (name == "Firefox") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/firefox_64x64.png" }));

                return mk.li({ "class": passClass },
                    mk.nobr({ 'class': 'browser' }, ...icon, ` ${name} ${shortVersion}`),
                    mk.br(),
                    mk.nobr({ 'class': 'pass-rate' }, `${passes}/${total}`)
                );
            }
        }
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
