<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Webの定期的なバックグラウンド同期</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link href="https://www.w3.org/StyleSheets/TR/2016/cg-draft" rel="stylesheet">
    <!-- <meta content="Bikeshed version c5fd42b86, updated Mon Apr 5 16:27:33 2021 -0700" name="generator"> -->
    <link href="https://wicg.github.io/periodic-background-sync/index.html" rel="canonical">
    <!-- <meta content="6bdc291e9d941c9aaecb17fcab02d49d99576221" name="document-revision"> -->
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-colors */

        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #707070;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #bbb;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-mdn-anno */

        @media (max-width: 767px) {
            .mdn-anno {
                opacity: .1
            }
        }

        .mdn-anno {
            font: 1em sans-serif;
            padding: 0.3em;
            position: absolute;
            z-index: 8;
            right: 0.3em;
            background: #EEE;
            color: black;
            box-shadow: 0 0 3px #999;
            overflow: hidden;
            border-collapse: initial;
            border-spacing: initial;
            min-width: 9em;
            max-width: min-content;
            white-space: nowrap;
            word-wrap: normal;
            hyphens: none
        }

        .mdn-anno:not(.wrapped) {
            opacity: 1
        }

        .mdn-anno:hover {
            z-index: 9
        }

        .mdn-anno.wrapped {
            min-width: 0
        }

        .mdn-anno.wrapped> :not(button) {
            display: none;
        }

        .mdn-anno>.mdn-anno-btn {
            cursor: pointer;
            border: none;
            color: #000;
            background: transparent;
            margin: -8px;
            float: right;
            padding: 10px 8px 8px 8px;
            outline: none;
        }

        .mdn-anno>.mdn-anno-btn>.less-than-two-engines-flag {
            color: red;
            padding-right: 2px;
        }

        .mdn-anno>.mdn-anno-btn>.all-engines-flag {
            color: green;
            padding-right: 2px;
        }

        .mdn-anno>.mdn-anno-btn>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: red
        }

        .mdn-anno>.feature>.all-engines-text {
            color: green
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: #CCCCCC;
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */

        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <style>
        /* style-darkmode */

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">Webの定期的なバックグラウンド同期</h1>
        <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">ドラフト コミュニティグループ報告, <time
                    class="dt-updated" datetime="2021-04-12">2021年4月12日</time></span></h2>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>この版:
                <dd><a class="u-url"
                        href="https://wicg.github.io/periodic-background-sync/index.html">https://wicg.github.io/periodic-background-sync/index.html</a>
                <dt>課題追跡:
                <dd><a href="https://github.com/WICG/periodic-background-sync/issues/">GitHub</a>
                <dt class="editor">編集者:
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:nator@chromium.org">Mugdha Lakhani</a> (<span class="p-org org">Google</span>)
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:jakearchibald@chromium.org">Jake Archibald</a> (<span
                        class="p-org org">Google</span>)
            </dl>
        </div>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2021 the Contributors to
            the Web Periodic Background Synchronization Specification, published by the <a
                href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a
                href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement
                (CLA)</a>.
            A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available.
        </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">要旨</span></h2>
        <p>この仕様は、ウェブアプリケーションがバックグラウンドで定期的にデータやコンテンツを同期できる方法を説明します。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">この文書のステータス</span>
    </h2>
    <div data-fill-with="status">
        <p> この仕様は <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> によって公開されました。
            これは W3C 標準ではなく、W3C の標準化プロセストラック上にもありません。

            W3C Community Contributor License Agreement (CLA) に基づき、限定的なオプトアウトがあり、その他の条件が適用される点にご注意ください。

            <a href="http://www.w3.org/community/">W3C Community and Business Groups</a> について詳しくはこちら。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content">はじめに</span></a>
                <ol class="toc">
                    <li><a href="#example"><span class="secno">1.1</span> <span class="content">例</span></a>
                </ol>
            <li><a href="#concepts"><span class="secno">2</span> <span class="content">概念</span></a>
            <li><a href="#extensions-to-service-worker-registration"><span class="secno">3</span> <span
                        class="content">Service Worker 登録への拡張</span></a>
            <li>
                <a href="#constructs"><span class="secno">4</span> <span class="content">構成要素</span></a>
                <ol class="toc">
                    <li><a href="#periodic-sync-registration-construct"><span class="secno">4.1</span> <span
                                class="content">定期同期登録</span></a>
                    <li><a href="#periodic-sync-scheduler-construct"><span class="secno">4.2</span> <span
                                class="content"><span>定期同期スケジューラ</span></span></a>
                    <li><a href="#constants"><span class="secno">4.3</span> <span class="content">定数</span></a>
                </ol>
            <li>
                <a href="#privacy"><span class="secno">5</span> <span class="content">プライバシーに関する考慮事項</span></a>
                <ol class="toc">
                    <li><a href="#permission"><span class="secno">5.1</span> <span class="content">権限</span></a>
                    <li><a href="#location-tracking"><span class="secno">5.2</span> <span
                                class="content">位置情報の追跡</span></a>
                    <li><a href="#history-leaking"><span class="secno">5.3</span> <span class="content">履歴の漏洩</span></a>
                </ol>
            <li><a href="#resources"><span class="secno">6</span> <span class="content">リソース使用</span></a>
            <li>
                <a href="#algorithms"><span class="secno">7</span> <span class="content">アルゴリズム</span></a>
                <ol class="toc">
                    <li><a href="#process-periodic-sync-registrations-algorithm"><span class="secno">7.1</span> <span
                                class="content"><span>定期同期登録の処理</span></span></a>
                    <li><a href="#responding-to-permission-revocation-algorithm"><span class="secno">7.2</span> <span
                                class="content"><span>権限取り消しへの対応</span></span></a>
                </ol>
            <li>
                <a href="#api-description"><span class="secno">8</span> <span class="content">API の説明</span></a>
                <ol class="toc">
                    <li><a href="#extensions-to-serviceworkerglobalscope"><span class="secno">8.1</span> <span
                                class="content"> <code class="idl"><span>ServiceWorkerGlobalScope</span></code>
                                インターフェースへの拡張</span></a>
                    <li><a href="#extensions-to-serviceworkerregistration"><span class="secno">8.2</span> <span
                                class="content"> <code class="idl"><span>ServiceWorkerRegistration</span></code>
                                インターフェースへの拡張</span></a>
                    <li><a href="#periodicsyncmanager-interface"><span class="secno">8.3</span> <span
                                class="content"><code class="idl"><span>PeriodicSyncManager</span></code>
                                インターフェース</span></a>
                    <li>
                        <a href="#periodicsync-event-interface"><span class="secno">8.4</span> <span class="content">
                                <span>periodicsync イベント</span></span></a>
                        <ol class="toc">
                            <li><a href="#firing-a-periodicsync-event"><span class="secno">8.4.1</span> <span
                                        class="content"><span>periodicsync イベントを発火する</span></span></a>
                        </ol>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">適合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文書の慣例</span></a>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">適合するアルゴリズム</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">この仕様によって定義された用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照により定義される用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範的な参考文献</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">はじめに</span><a class="self-link" href="#intro"></a></h2>
        <p><em>この節は規範的ではありません。</em></p>
        <p>Web アプリケーションはしばしば信頼性の低いネットワーク（例：携帯電話）や寿命が不確かな環境（ブラウザが終了される、またはユーザーが離脱する可能性がある）で動作します。
            そのため、Web アプリがコンテンツや状態をサーバーと同期し続けることが困難になります。</p>
        <p>この API は、コンテンツ作成とサーバーおよび Web アプリ間のコンテンツ同期の間の時間を短縮することを目的としています。これは、Web
            アプリが定期的に状態やデータを同期する意図を、望む最小間隔とともに登録できるようにすることで実現します。サービスワーカーのイベントを通じて、ユーザーエージェントは定期的に Web
            アプリにネットワークリソースをダウンロードさせ、状態を更新させます。</p>
        <p>この API はサービスワーカーに依存しているため、この API が提供する機能は <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                id="ref-for-secure-context">セキュアコンテキスト</a> でのみ利用可能です。</p>
        <h3 class="heading settled" data-level="1.1" id="example"><span class="secno">1.1. </span><span
                class="content">例</span><a class="self-link" href="#example"></a></h3>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-bc"
                id="ref-for-concept-document-bc">ブラウジングコンテキスト</a> から最小間隔を 1 日にして定期的なバックグラウンド同期を登録する例：</p>
        <pre class="lang-js highlight"><c- k>async</c-> <c- a>function</c-> registerPeriodicNewsCheck<c- p>()</c-> <c- p>{</c->
  <c- a>const</c-> registration <c- o>=</c-> <c- k>await</c-> navigator<c- p>.</c->serviceWorker<c- p>.</c->ready<c- p>;</c->
  <c- k>try</c-> <c- p>{</c->
    <c- k>await</c-> registration<c- p>.</c->periodicSync<c- p>.</c->register<c- p>(</c-><c- t>'fetch-news'</c-><c- p>,</c-> <c- p>{</c->
      minInterval<c- o>:</c-> <c- mf>24</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>1000</c-><c- p>,</c->
    <c- p>});</c->
  <c- p>}</c-> <c- k>catch</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'Periodic Sync could not be registered!'</c-><c- p>);</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
        <p><a data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event">periodicsync イベント</a> に対して
            <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker">サービスワーカー</a> 内で反応する例：
        </p>
        <pre class="lang-js highlight">self<c- p>.</c->addEventListener<c- p>(</c-><c- t>'periodicsync'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  event<c- p>.</c->waitUntil<c- p>(</c->fetchAndCacheLatestNews<c- p>());</c->
<c- p>});</c->
</pre>
        <p>上の例では、<code>fetchAndCacheLatestNews</code> は開発者が定義した関数で、サーバーから最新のニュース記事を取得してローカルに保存します。例えばオフラインでの利用のために <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#cache" id="ref-for-cache">Cache</a></code>
            API を使用して保存します。</p>
        <h2 class="heading settled" data-level="2" id="concepts"><span class="secno">2. </span><span
                class="content">概念</span><a class="self-link" href="#concepts"></a></h2>
        <p><a data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event①">periodicsync イベント</a> が
            <a data-link-type="dfn" href="#periodic-sync-registration" id="ref-for-periodic-sync-registration">periodic
                sync registration</a> <var>registration</var> に対して発火したとき、その発動は関連する <a data-link-type="dfn"
                href="#periodic-sync-registration-service-worker-registration"
                id="ref-for-periodic-sync-registration-service-worker-registration">service worker registration</a> の <a
                data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                id="ref-for-service-worker-client-origin">origin</a> に対して、<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client">service worker clients</a> のうち、フレームタイプが
            "<code>top-level</code>"、"<code>auxiliary</code>"、または "<code>nested</code>" であるものが存在しない場合に、<dfn
                class="dfn-paneled" data-dfn-for="periodicsync event" data-dfn-type="dfn" data-noexport
                id="periodicsync-event-in-the-background">バックグラウンドで実行される</dfn> と見なされます。
        </p>
        <h2 class="heading settled" data-level="3" id="extensions-to-service-worker-registration"><span class="secno">3.
            </span><span class="content">Service Worker 登録への拡張</span><a class="self-link"
                href="#extensions-to-service-worker-registration"></a></h2>
        <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration">service worker registration</a> にはさらに以下が含まれます：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="active-periodic-sync-registrations">Active periodic sync registrations</dfn>（<a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                        id="ref-for-ordered-map">map</a>）で、各キーは <code
                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString">DOMString</a></code>、各アイテムは
                    <a data-link-type="dfn" href="#periodic-sync-registration"
                        id="ref-for-periodic-sync-registration①">periodic sync registration</a> です。
                </p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="periodic-sync-processing-queue">Periodic sync processing queue</dfn>、初期値は <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue"
                        id="ref-for-starting-a-new-parallel-queue">新しい並列キューを開始する</a> の結果です。</p>
        </ul>
        <h2 class="heading settled" data-level="4" id="constructs"><span class="secno">4. </span><span
                class="content">構成要素</span><a class="self-link" href="#constructs"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="periodic-sync-registration-construct"><span class="secno">4.1.
            </span><span class="content">定期同期登録</span><a class="self-link"
                href="#periodic-sync-registration-construct"></a></h3>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="periodic-sync-registration">periodic sync
                registration</dfn> は次の要素で構成されます：</p>
        <div>
            <p><dfn class="dfn-paneled" data-dfn-for="periodic sync registration" data-dfn-type="dfn" data-noexport
                    id="periodic-sync-registration-service-worker-registration">service worker registration</dfn>、これは <a
                    data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                    id="ref-for-dfn-service-worker-registration①">service worker registration</a> です。</p>
            <p> <dfn class="dfn-paneled" data-dfn-for="periodic sync registration" data-dfn-type="dfn" data-noexport
                    id="periodic-sync-registration-tag">tag</dfn>、これは <code
                    class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①">DOMString</a></code>
                です。
            </p>
            <p class="note" role="note"><span>注:</span> Periodic Background Sync は Background Sync と名前空間を共有しないため、ある <a
                    data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                    id="ref-for-service-worker-client-origin①">origin</a> は同じタグで両方のタイプの登録を持つことができます。</p>
            <p><dfn class="dfn-paneled" data-dfn-for="periodic sync registration" data-dfn-type="dfn" data-noexport
                    id="periodic-sync-registration-minimum-interval">minimum interval</dfn>（long
                long）は、定期同期が発生する最小間隔をミリ秒単位で指定するために使用されます。<a data-link-type="dfn"
                    href="#periodic-sync-registration-minimum-interval"
                    id="ref-for-periodic-sync-registration-minimum-interval">minimum interval</a> はユーザーエージェントへの提案です。
            </p>
            <p class="note" role="note"><span>注:</span> 実際に <a data-link-type="dfn" href="#periodicsync-event"
                    id="ref-for-periodicsync-event②">periodicsync イベント</a> が発火する間隔は、これと同じかそれ以上でなければなりません。</p>
            <p><dfn class="dfn-paneled" data-dfn-for="periodic sync registration" data-dfn-type="dfn" data-noexport
                    id="periodic-sync-registration-anchor-time">anchor time</dfn>（タイムスタンプ）は、この <a data-link-type="dfn"
                    href="#periodicsync-event" id="ref-for-periodicsync-event③">periodicsync イベント</a> がこの <a
                    data-link-type="dfn" href="#periodic-sync-registration"
                    id="ref-for-periodic-sync-registration②">periodic sync registration</a> に対して以前に発火した時刻、または初回登録の時刻です。
            </p>
            <p><dfn class="dfn-paneled" data-dfn-for="periodic sync registration" data-dfn-type="dfn" data-noexport
                    id="periodic-sync-registration-state">state</dfn> は
                "<code>pending</code>"、"<code>firing</code>"、"<code>suspended</code>"、または
                "<code>reregistered-while-firing</code>" のいずれかで、初期値は "<code>pending</code>" に設定されます。</p>
        </div>
        <h3 class="heading settled" data-level="4.2" id="periodic-sync-scheduler-construct"><span class="secno">4.2.
            </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="periodic-sync-scheduler">定期同期スケジューラ</dfn></span><a class="self-link"
                href="#periodic-sync-scheduler-construct"></a></h3>
        <p><a data-link-type="dfn" href="#periodic-sync-scheduler" id="ref-for-periodic-sync-scheduler">periodic sync
                scheduler</a> は <a data-link-type="dfn" href="#periodicsync-event"
                id="ref-for-periodicsync-event④">periodicsync イベント</a> の発火スケジューリングを担当します。</p>
        <p>これらのトリガーに応じて、スケジューラは将来の適切な時刻に <a data-link-type="dfn" href="#periodicsync-event"
                id="ref-for-periodicsync-event⑤">periodicsync イベント</a> を発火させるための遅延処理をスケジュールするか、またはそのスケジュールをキャンセルします。</p>
        <div>
            <p>スケジューラは次を維持します：</p>
            <ul>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="periodic sync scheduler" data-dfn-type="dfn" data-noexport
                            id="periodic-sync-scheduler-time-of-last-fire">time of last fire</dfn>、これは <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                            id="ref-for-ordered-map①">map</a> で、各キーは <a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                            id="ref-for-service-worker-client-origin②">origin</a>、各アイテムはタイムスタンプです。このマップのキーは <a
                            data-link-type="dfn" href="#periodic-sync-registration-service-worker-registration"
                            id="ref-for-periodic-sync-registration-service-worker-registration①">service worker
                            registrations</a> に関連付けられた <a data-link-type="dfn"
                            href="#active-periodic-sync-registrations"
                            id="ref-for-active-periodic-sync-registrations">active periodic sync registrations</a> の <a
                            data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                            id="ref-for-service-worker-client-origin③">origins</a> です。これは初期状態では空の <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                            id="ref-for-ordered-map②">map</a> です。</p>
            </ul>
        </div>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="effective-minimum-sync-interval-for-origin">effective minimum sync interval for origin</dfn>
            <var>origin</var>（<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                id="ref-for-service-worker-client-origin④">origin</a>）は、<a data-link-type="dfn"
                href="#minimum-periodic-sync-interval-for-any-origin"
                id="ref-for-minimum-periodic-sync-interval-for-any-origin">minimum periodic sync interval for any
                origin</a> に、その <var>origin</var> に対してユーザーエージェントが定義する量を加えたものです。
        </p>
        <p class="note" role="note"><span>注:</span> ユーザーエージェントが定義する量は、ユーザーのその origin へのエンゲージメント量に基づく可能性があります。この値は <a
                data-link-type="dfn" href="#effective-minimum-sync-interval-for-origin"
                id="ref-for-effective-minimum-sync-interval-for-origin">effective minimum sync interval for origin</a>
            が呼ばれるたびに異なる場合があります。</p>
        <p>スケジューラは <a data-link-type="dfn" href="#process-periodic-sync-registrations"
                id="ref-for-process-periodic-sync-registrations">定期同期登録の処理</a> を行います。</p>
        <p class="note" role="note"><span>注:</span> ブラウザはリソース節約のために、<a data-link-type="dfn"
                href="#active-periodic-sync-registrations"
                id="ref-for-active-periodic-sync-registrations①">アクティブな定期同期登録</a> が存在しない場合にこの処理ループを一時停止することがあります。</p>
        <h3 class="heading settled" data-level="4.3" id="constants"><span class="secno">4.3. </span><span
                class="content">定数</span><a class="self-link" href="#constants"></a></h3>
        <p>セクション <a href="#privacy">§ 5 プライバシーに関する考慮事項</a> および <a href="#resources">§ 6 リソース使用</a>
            で推奨されているように、ユーザーエージェントは次も定義すべきです：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="minimum-periodic-sync-interval-for-any-origin">minimum periodic sync interval for any
                        origin</dfn>、long long、これは任意の与えられた origin に対する <a data-link-type="dfn"
                        href="#periodicsync-event" id="ref-for-periodicsync-event⑥">periodicsync イベント</a> の最小間隔を表します。
                </p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="minimum-periodic-sync-interval-across-origins">minimum periodic sync interval across
                        origins</dfn>、long long、これはすべての origin にわたる <a data-link-type="dfn" href="#periodicsync-event"
                        id="ref-for-periodicsync-event⑦">periodicsync イベント</a> の最小間隔を表します。</p>
        </ul>
        <p><a data-link-type="dfn" href="#minimum-periodic-sync-interval-across-origins"
                id="ref-for-minimum-periodic-sync-interval-across-origins">minimum periodic sync interval across
                origins</a> は <a data-link-type="dfn" href="#minimum-periodic-sync-interval-for-any-origin"
                id="ref-for-minimum-periodic-sync-interval-for-any-origin①">minimum periodic sync interval for any
                origin</a> 以上でなければなりません。未定義の場合、これらは 43200000（ミリ秒単位で 12 時間）に設定されます。</p>
        <p class="note" role="note"><span>注:</span> 頻度に対する 2 つの上限が必要です。なぜなら、各 origin ごとに <a data-link-type="dfn"
                href="#minimum-periodic-sync-interval-for-any-origin"
                id="ref-for-minimum-periodic-sync-interval-for-any-origin②">minimum periodic sync interval for any
                origin</a> による制限を順守しても、ブラウザが <a data-link-type="dfn" href="#periodicsync-event"
                id="ref-for-periodicsync-event⑧">periodicsync イベント</a> を非常に頻繁に発火してしまうことがあるからです。例えば、多くの異なる origin に対する <a
                data-link-type="dfn" href="#periodic-sync-registration"
                id="ref-for-periodic-sync-registration③">periodic sync registrations</a> が存在する場合などです。<a
                data-link-type="dfn" href="#minimum-periodic-sync-interval-across-origins"
                id="ref-for-minimum-periodic-sync-interval-across-origins①">minimum periodic sync interval across
                origins</a> はこれらのイベントが発火する頻度に対するグローバルな上限を保証します。</p>
        <p>ユーザーエージェントは各 <a data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event⑨">periodicsync
                イベント</a> に許される <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="maximum-number-of-retries">最大再試行回数</dfn>（数値）を定義してもよいです。これを選定する際、ユーザーエージェントは <a data-link-type="dfn"
                href="#maximum-number-of-retries" id="ref-for-maximum-number-of-retries">最大再試行回数</a> を試行するのに必要な時間が <a
                data-link-type="dfn" href="#minimum-periodic-sync-interval-for-any-origin"
                id="ref-for-minimum-periodic-sync-interval-for-any-origin③">minimum periodic sync interval for any
                origin</a> より桁違いに短いことを保証するべきです。未定義の場合、この数値はゼロです。</p>
        <h2 class="heading settled" data-level="5" id="privacy"><span class="secno">5. </span><span
                class="content">プライバシーに関する考慮事項</span><a class="self-link" href="#privacy"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="permission"><span class="secno">5.1. </span><span
                class="content">権限</span><a class="self-link" href="#permission"></a></h3>
        Periodic Background Sync は、<code
            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#enumdef-permissionstate" id="ref-for-enumdef-permissionstate">PermissionState</a></code>
        が、<code
            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor" id="ref-for-dictdef-permissiondescriptor">PermissionDescriptor</a></code>
        の <code
            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name">name</a></code>
        に対して <code>"periodic-background-sync"</code> が <code
            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted">granted</a></code>
        の場合にのみ利用可能です。さらに、ユーザーエージェントはユーザーが Periodic Background Sync を無効にする方法を提供するべきです。
        Periodic Background Sync が無効になっている場合、<a data-link-type="dfn" href="#periodicsync-event"
            id="ref-for-periodicsync-event①⓪">periodicsync events</a> は、この権限の影響を受ける <a data-link-type="dfn"
            href="#periodic-sync-registration" id="ref-for-periodic-sync-registration④">periodic
            sync registrations</a> に対してディスパッチされてはなりません。（参照：<a
            href="#responding-to-permission-revocation-algorithm">§ 7.2 Respond to permission revocation</a>）
        <h3 class="heading settled" data-level="5.2" id="location-tracking"><span class="secno">5.2. </span><span
                class="content">位置情報の追跡</span><a class="self-link" href="#location-tracking"></a></h3>
        <p>バックグラウンドでの <a data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event①①">periodicsync
                event</a> 内での fetch リクエストは、ユーザーがページを離れた後にクライアントの IP アドレスをサーバーに明らかにする可能性があります。ユーザーエージェントは、再試行回数と <a
                data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event①②">periodicsync event</a>
            の継続時間に上限を設けることで追跡を制限し、ウェブサイトによってユーザーの位置が追跡される時間を短くするべきです。さらに、ユーザーエージェントは、<a data-link-type="dfn"
                href="#periodicsync-event" id="ref-for-periodicsync-event①③">periodicsync event</a>
            の頻度に上限を設けることで永続的な位置追跡を制限するべきであり、それは個々の <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                id="ref-for-service-worker-client-origin⑤">origin</a> および複数の <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                id="ref-for-service-worker-client-origin⑥">origins</a> 全体に対して行われるべきです。</p>
        <h3 class="heading settled" data-level="5.3" id="history-leaking"><span class="secno">5.3. </span><span
                class="content">履歴の漏洩</span><a class="self-link" href="#history-leaking"></a></h3>
        <p><a data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event①④">periodicsync event</a>
            内で、<a data-link-type="dfn" href="#periodicsync-event-in-the-background"
                id="ref-for-periodicsync-event-in-the-background①">バックグラウンドで</a> 行われる fetch リクエストは、<a
                data-link-type="dfn" href="#periodic-sync-registration"
                id="ref-for-periodic-sync-registration⑤">periodic sync registration</a>
            を作成したネットワークとは別のネットワーク上にあるミドルボックスにクライアントのナビゲーション履歴に関する何らかの情報を明らかにする可能性があります。例えば、クライアントが https://example.com
            を訪問して <a data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event①⑤">periodicsync
                event</a> を登録したとしても、実装によってはユーザーがページから離れてネットワークを切り替えた後まで発火しない場合があります。新しいネットワーク上のミドルボックスは、<a
                data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event①⑥">periodicsync event</a>
            によって行われる fetch リクエストを見る可能性があります。fetch リクエストは HTTPS で行われるためリクエストの内容は漏れませんが、フェッチ先やドメインは（DNS ルックアップやリクエストの IP
            アドレスを通じて）漏れる可能性があります。閲覧履歴のこのような漏洩を防ぐために、ユーザーエージェントは <a data-link-type="dfn" href="#periodicsync-event"
                id="ref-for-periodicsync-event①⑦">periodicsync events</a> を <a data-link-type="dfn"
                href="#periodic-sync-registration" id="ref-for-periodic-sync-registration⑥">periodic sync
                registration</a> が行われたネットワーク上でのみ発火させることを選択してもよいですが、その場合は同期を機会的に行えなくなるため使い勝手が低下する点に注意する必要があります。</p>
        <h2 class="heading settled" data-level="6" id="resources"><span class="secno">6. </span><span
                class="content">リソース使用</span><a class="self-link" href="#resources"></a></h2>
        <p><em>この節は規範的ではありません。</em></p>
        <p>ウェブサイトは、<a data-link-type="dfn" href="#periodicsync-event" id="ref-for-periodicsync-event①⑧">periodicsync
                event</a>
            を処理するときにネットワークからリソースをダウンロードすることが多くあります。基盤となるオペレーティングシステムは、これらのイベントをディスパッチするためにユーザーエージェントを起動し、イベントの処理を許可するためにあらかじめ定義された期間だけアプリを動作させ続ける場合があり、どちらもバッテリー消費を引き起こします。ユーザーエージェントは、ユーザーが離れた後のウェブサイトによるリソース使用を制限するために、これらのイベントの継続時間と頻度に上限を設けるべきです。
        </p>
        <p>大きなリソースは、<a data-link-type="dfn" href="https://wicg.github.io/background-fetch/#background-fetch"
                id="ref-for-background-fetch">background fetch</a> を <code
                class="idl"><a data-link-type="idl" href="https://wicg.github.io/background-fetch/#backgroundfetchmanager" id="ref-for-backgroundfetchmanager">BackgroundFetchManager</a></code>
            インターフェースを介して登録することでダウンロードするべきです。</p>
        <p>加えて、ユーザーエージェントは <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                id="ref-for-service-worker-client-origin⑦">origin</a>
            に対するユーザーのエンゲージメントや、データ節約モードなどデータ消費を一時的に抑えるユーザーの意思表示を考慮して、<a data-link-type="dfn" href="#periodicsync-event"
                id="ref-for-periodicsync-event①⑨">periodicsync events</a> の頻度を調整するべきです。</p>
        <h2 class="heading settled" data-level="7" id="algorithms"><span class="secno">7. </span><span
                class="content">アルゴリズム</span><a class="self-link" href="#algorithms"></a></h2>
        <div class="algorithm" data-algorithm="Process periodic sync registrations">
            <h3 class="heading settled" data-level="7.1" id="process-periodic-sync-registrations-algorithm"><span
                    class="secno">7.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn"
                        data-noexport id="process-periodic-sync-registrations">定期同期登録の処理</dfn></span><a
                    class="self-link" href="#process-periodic-sync-registrations-algorithm"></a></h3>
            ユーザーエージェントが開始したとき、以下の手順を<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel">並列</a>で実行します:
            <ol>
                <li data-md>
                    <p>次の処理を繰り返します:</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#minimum-periodic-sync-interval-across-origins"
                                    id="ref-for-minimum-periodic-sync-interval-across-origins②">minimum periodic sync
                                    interval across origins</a> を待ちます。</p>
                        <li data-md>
                            <p><var>firedPeriodicSync</var> を false にします。</p>
                        <li data-md>
                            <p><var>firedPeriodicSync</var> が false の間:</p>
                            <ol>
                                <li data-md>
                                    <p>ユーザーエージェントが定義する一定時間を待ちます。</p>
                                    <p class="note" role="note"><span>注:</span> これは異なる <a data-link-type="dfn"
                                            href="#periodic-sync-registration"
                                            id="ref-for-periodic-sync-registration⑦">periodic sync registrations</a>
                                        の同期を単一のデバイス起動にまとめるために使えます。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn"
                                            href="https://wicg.github.io/background-sync/spec/#online"
                                            id="ref-for-online">online</a> になるまで待ちます。</p>
                                <li data-md>
                                    <p>未だ<a data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-unregistered"
                                            id="ref-for-dfn-service-worker-registration-unregistered">unregistered</a>でない各<a
                                            data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                                            id="ref-for-dfn-service-worker-registration②">service worker
                                            registration</a> <var>registration</var>について、
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                                            id="ref-for-enqueue-the-following-steps">以下の手順をキューに追加</a>し、<var>registration</var>の<a
                                            data-link-type="dfn" href="#periodic-sync-processing-queue"
                                            id="ref-for-periodic-sync-processing-queue">periodic sync 処理キュー</a>に追加する:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><var>origin</var> を <a data-link-type="dfn"
                                                    href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                                                    id="ref-for-service-worker-client-origin⑧">origin</a> とします。これは
                                                <var>periodicSyncRegistration</var> の <a data-link-type="dfn"
                                                    href="#periodic-sync-registration-service-worker-registration"
                                                    id="ref-for-periodic-sync-registration-service-worker-registration②">service
                                                    worker registration</a> に関連付けられています。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#periodic-sync-scheduler-time-of-last-fire"
                                                    id="ref-for-periodic-sync-scheduler-time-of-last-fire">time of last
                                                    fire</a>[<var>origin</var>] + <a data-link-type="dfn"
                                                    href="#effective-minimum-sync-interval-for-origin"
                                                    id="ref-for-effective-minimum-sync-interval-for-origin①">effective
                                                    minimum sync interval for origin</a>(<var>origin</var>)
                                                が現在時刻より大きい場合、<a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                                    id="ref-for-iteration-continue">continue</a> します。</p>
                                        <li data-md>
                                            <p><var>registration</var> の <a data-link-type="dfn"
                                                    href="#active-periodic-sync-registrations"
                                                    id="ref-for-active-periodic-sync-registrations②">active periodic
                                                    sync registrations</a> にある各 <a data-link-type="dfn"
                                                    href="#periodic-sync-registration"
                                                    id="ref-for-periodic-sync-registration⑧">periodic sync
                                                    registration</a> <var>periodicSyncRegistration</var> について:</p>
                                            <ol>
                                                <li data-md>
                                                    <p><a data-link-type="dfn" href="#periodic-sync-registration-state"
                                                            id="ref-for-periodic-sync-registration-state">state</a> が
                                                        "<code>pending</code>" でない場合、<a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#iteration-continue"
                                                            id="ref-for-iteration-continue①">continue</a> します。</p>
                                                <li data-md>
                                                    <p><var>periodicSyncRegistration</var> の <a data-link-type="dfn"
                                                            href="#periodic-sync-registration-anchor-time"
                                                            id="ref-for-periodic-sync-registration-anchor-time">anchor
                                                            time</a> + <var>periodicSyncRegistration</var> の <a
                                                            data-link-type="dfn"
                                                            href="#periodic-sync-registration-minimum-interval"
                                                            id="ref-for-periodic-sync-registration-minimum-interval①">minimum
                                                            interval</a> が現在時刻より大きい場合、<a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#iteration-continue"
                                                            id="ref-for-iteration-continue②">continue</a> します。</p>
                                                <li data-md>
                                                    <p><var>firedPeriodicSync</var> を true に設定します。</p>
                                                <li data-md>
                                                    <p><a data-link-type="dfn" href="#fire-a-periodicsync-event"
                                                            id="ref-for-fire-a-periodicsync-event">periodicsync event
                                                            を発火</a> します（対象: <var>periodicSyncRegistration</var>）。</p>
                                            </ol>
                                    </ol>
                            </ol>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="Respond to permission revocation">
            <h3 class="heading settled" data-level="7.2" id="responding-to-permission-revocation-algorithm"><span
                    class="secno">7.2. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn"
                        data-noexport id="respond-to-permission-revocation">権限取り消しへの対応</dfn></span><a class="self-link"
                    href="#responding-to-permission-revocation-algorithm"></a></h3>
            <p><code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name①">name</a></code>
                <code>"periodic-background-sync"</code> の権限が <a data-link-type="dfn"
                    href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                    id="ref-for-service-worker-client-origin⑨">origin</a> <var>origin</var>
                に対して取り消された場合、ユーザーエージェントは次の手順を <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                    id="ref-for-enqueue-the-following-steps①">periodic sync processing queue</a> にエンキューしなければなりません:
            </p>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="#active-periodic-sync-registrations"
                            id="ref-for-active-periodic-sync-registrations③">active periodic sync registrations</a>
                        に含まれる各 <a data-link-type="dfn" href="#periodic-sync-registration"
                            id="ref-for-periodic-sync-registration⑨">periodic sync registration</a>
                        <var>registration</var> について、その <a data-link-type="dfn"
                            href="#periodic-sync-registration-service-worker-registration"
                            id="ref-for-periodic-sync-registration-service-worker-registration③">service worker
                            registration</a> が <var>origin</var> と同じ <a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                            id="ref-for-service-worker-client-origin①⓪">origin</a> に関連付けられているものを対象とします:
                    </p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#active-periodic-sync-registrations"
                                    id="ref-for-active-periodic-sync-registrations④">active periodic sync
                                    registrations</a> から <var>registration</var> を削除します。</p>
                    </ol>
            </ol>
        </div>
        <h2 class="heading settled" data-level="8" id="api-description"><span class="secno">8. </span><span
                class="content">API の説明</span><a class="self-link" href="#api-description"></a></h2>
        <h3 class="heading settled" data-level="8.1" id="extensions-to-serviceworkerglobalscope"><span
                class="secno">8.1. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code>
                インターフェースへの拡張</span><a class="self-link" href="#extensions-to-serviceworkerglobalscope"></a></h3>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①"><c- g>ServiceWorkerGlobalScope</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onperiodicsync"><code><c- g>onperiodicsync</c-></code><a class="self-link" href="#dom-serviceworkerglobalscope-onperiodicsync"></a></dfn>;
};
</pre>
        <h3 class="heading settled" data-level="8.2" id="extensions-to-serviceworkerregistration"><span
                class="secno">8.2. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code>
                インターフェースへの拡張</span><a class="self-link" href="#extensions-to-serviceworkerregistration"></a></h3>
        <div class="mdn-anno wrapped after">
            <button class="mdn-anno-btn"><b class="less-than-two-engines-flag"
                    title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/periodicSync"
                        title="The periodicSync read-only property of the ServiceWorkerRegistration interface returns a reference to the PeriodicSyncManager interface, which allows for registering of tasks to run at specific intervals.">ServiceWorkerRegistration/periodicSync</a>
                </p>
                <p class="less-than-two-engines-text">In only one current engine.</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                        class="safari no"><span>Safari</span><span>None</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera no"><span>Opera</span><span>None</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                        class="ie no"><span>IE</span><span>None</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Firefox for Android</span><span>None</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>None</span></span><span
                        class="chrome_android yes"><span>Chrome for Android</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android no"><span>Opera Mobile</span><span>None</span></span>
                </div>
            </div>
        </div>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration①"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#periodicsyncmanager" id="ref-for-periodicsyncmanager"><c- n>PeriodicSyncManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PeriodicSyncManager" href="#dom-serviceworkerregistration-periodicsync" id="ref-for-dom-serviceworkerregistration-periodicsync"><c- g>periodicSync</c-></a>;
};
</pre>
        <div>
            A <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration②">ServiceWorkerRegistration</a></code>
            has a <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="dfn" data-noexport
                id="serviceworkerregistration-periodic-sync-manager">periodic sync manager</dfn> (a <code
                class="idl"><a data-link-type="idl" href="#periodicsyncmanager" id="ref-for-periodicsyncmanager①">PeriodicSyncManager</a></code>).
            <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
                    data-export id="dom-serviceworkerregistration-periodicsync"><code>periodicSync</code></dfn>
                属性の getter はコンテキストオブジェクトの <a data-link-type="dfn"
                    href="#serviceworkerregistration-periodic-sync-manager"
                    id="ref-for-serviceworkerregistration-periodic-sync-manager">periodic sync manager</a>
                を返さなければならず、初期値は新しい <code
                    class="idl"><a data-link-type="idl" href="#periodicsyncmanager" id="ref-for-periodicsyncmanager②">PeriodicSyncManager</a></code>
                で、その <a data-link-type="dfn" href="#periodicsyncmanager-service-worker-registration"
                    id="ref-for-periodicsyncmanager-service-worker-registration">service worker registration</a>
                はコンテキストオブジェクトの <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#context-object"
                    id="ref-for-context-object①">context object</a> の <a data-link-type="dfn"
                    href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                    id="ref-for-dfn-service-worker-registration③">service worker registration</a> になります。
            </p>
        </div>
        <h3 class="heading settled" data-level="8.3" id="periodicsyncmanager-interface"><span class="secno">8.3.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#periodicsyncmanager" id="ref-for-periodicsyncmanager③">PeriodicSyncManager</a></code>
                インターフェース</span><a class="self-link" href="#periodicsyncmanager-interface"></a></h3>
        <div class="mdn-anno wrapped">
            <button class="mdn-anno-btn"><b class="less-than-two-engines-flag"
                    title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncManager"
                        title="The PeriodicSyncManager interface of the Web Periodic Background Synchronization API provides a way to register tasks to be run in a service worker at periodic intervals with network connectivity. These tasks are referred to as periodic background sync requests. Access PeriodicSyncManager through the ServiceWorkerRegistration.periodicSync.">PeriodicSyncManager</a>
                </p>
                <p class="less-than-two-engines-text">In only one current engine.</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                        class="safari no"><span>Safari</span><span>None</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera yes"><span>Opera</span><span>67+</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                        class="ie no"><span>IE</span><span>None</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Firefox for Android</span><span>None</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>None</span></span><span
                        class="chrome_android yes"><span>Chrome for Android</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android yes"><span>Opera Mobile</span><span>57+</span></span>
                </div>
            </div>
        </div>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="periodicsyncmanager"><code><c- g>PeriodicSyncManager</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-periodicsyncmanager-register" id="ref-for-dom-periodicsyncmanager-register"><c- g>register</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="PeriodicSyncManager/register(tag, options), PeriodicSyncManager/register(tag)" data-dfn-type="argument" data-export id="dom-periodicsyncmanager-register-tag-options-tag"><code><c- g>tag</c-></code><a class="self-link" href="#dom-periodicsyncmanager-register-tag-options-tag"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundsyncoptions" id="ref-for-dictdef-backgroundsyncoptions"><c- n>BackgroundSyncOptions</c-></a> <dfn class="idl-code" data-dfn-for="PeriodicSyncManager/register(tag, options), PeriodicSyncManager/register(tag)" data-dfn-type="argument" data-export id="dom-periodicsyncmanager-register-tag-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-periodicsyncmanager-register-tag-options-options"></a></dfn> = {});
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-periodicsyncmanager-gettags" id="ref-for-dom-periodicsyncmanager-gettags"><c- g>getTags</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-periodicsyncmanager-unregister" id="ref-for-dom-periodicsyncmanager-unregister"><c- g>unregister</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="PeriodicSyncManager/unregister(tag)" data-dfn-type="argument" data-export id="dom-periodicsyncmanager-unregister-tag-tag"><code><c- g>tag</c-></code><a class="self-link" href="#dom-periodicsyncmanager-unregister-tag-tag"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundsyncoptions"><code><c- g>BackgroundSyncOptions</c-></code></dfn> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#EnforceRange" id="ref-for-EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-default="0" data-dfn-for="BackgroundSyncOptions" data-dfn-type="dict-member" data-export data-type="unsigned long long " id="dom-backgroundsyncoptions-mininterval"><code><c- g>minInterval</c-></code></dfn> = 0;
};
</pre>
        <div> A <code
                class="idl"><a data-link-type="idl" href="#periodicsyncmanager" id="ref-for-periodicsyncmanager④">PeriodicSyncManager</a></code>
            has a <dfn class="dfn-paneled" data-dfn-for="PeriodicSyncManager" data-dfn-type="dfn" data-noexport
                id="periodicsyncmanager-service-worker-registration">service worker registration</dfn> (a <a
                data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration④">service worker registration</a>). </div>
        <div class="mdn-anno wrapped">
            <button class="mdn-anno-btn"><b class="less-than-two-engines-flag"
                    title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncManager/register"
                        title="The register() method of the PeriodicSyncManager interface registers a periodic sync request with the browser with the specified tag and options. It returns a Promise that resolves when the registration completes.">PeriodicSyncManager/register</a>
                </p>
                <p class="less-than-two-engines-text">In only one current engine.</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                        class="safari no"><span>Safari</span><span>None</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera yes"><span>Opera</span><span>67+</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                        class="ie no"><span>IE</span><span>None</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Firefox for Android</span><span>None</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>None</span></span><span
                        class="chrome_android yes"><span>Chrome for Android</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android yes"><span>Opera Mobile</span><span>57+</span></span>
                </div>
            </div>
        </div>
        <div class="algorithm" data-algorithm="register(tag, options)" data-algorithm-for="PeriodicSyncManager">
            <p>メソッド
                <code><dfn class="dfn-paneled idl-code" data-dfn-for="PeriodicSyncManager" data-dfn-type="method" data-export data-lt="register(tag, options)|register(tag)" id="dom-periodicsyncmanager-register" title="register(tag, options)"><code>register(<var>tag</var>, <var>options</var>)</code></dfn></code>
                が呼び出されたとき、必ず新しい Promise <var>promise</var> を返し、次の手順を <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                    id="ref-for-enqueue-the-following-steps②">periodic sync processing queue</a> にエンキューします:
            </p>
            <ol>
                <li data-md>
                    <p><var>serviceWorkerRegistration</var> を、コンテキストオブジェクトに関連付けられた <a data-link-type="dfn"
                            href="#periodicsyncmanager-service-worker-registration"
                            id="ref-for-periodicsyncmanager-service-worker-registration①">service worker
                            registration</a> とします。</p>
                <li data-md>
                    <p><var>serviceWorkerRegistration</var> の <a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#dfn-active-worker"
                            id="ref-for-dfn-active-worker">active worker</a> が null の場合、<a data-link-type="dfn"
                            href="https://heycam.github.io/webidl/#reject" id="ref-for-reject">reject</a> して
                        <var>promise</var> を <code
                            class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>
                        で拒否し、手順を中止します。
                    </p>
                <li data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#enumdef-permissionstate" id="ref-for-enumdef-permissionstate①">PermissionState</a></code>
                        が <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor" id="ref-for-dictdef-permissiondescriptor①">PermissionDescriptor</a></code>
                        の <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name②">name</a></code>
                        <code>"periodic-background-sync"</code> に対して <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted①">granted</a></code>
                        でない場合、<a data-link-type="dfn" href="https://heycam.github.io/webidl/#reject"
                            id="ref-for-reject①">reject</a> して <var>promise</var> を <code
                            class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>
                        で拒否し、手順を中止します。
                    </p>
                <li data-md>
                    <p>ブール値 <var>isBackground</var> を true にします。</p>
                <li data-md>
                    <p><var>serviceWorkerRegistration</var> の <a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-client"
                            id="ref-for-dfn-service-worker-client①">service worker clients</a> の各 <var>client</var>
                        について:</p>
                    <ol>
                        <li data-md>
                            <p><var>client</var> の <a data-link-type="dfn"
                                    href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-client-frame-type"
                                    id="ref-for-dfn-service-worker-client-frame-type①">frame type</a> が
                                "<code>top-level</code>" または "<code>auxiliary</code>" の場合、<var>isBackground</var> を
                                false に設定します。</p>
                    </ol>
                <li data-md>
                    <p><var>isBackground</var> が true の場合、<a data-link-type="dfn"
                            href="https://heycam.github.io/webidl/#reject" id="ref-for-reject②">reject</a> して
                        <var>promise</var> を <code
                            class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidaccesserror" id="ref-for-invalidaccesserror">InvalidAccessError</a></code>
                        で拒否し、手順を中止します。
                    </p>
                <li data-md>
                    <p><var>currentRegistration</var> を、<var>serviceWorkerRegistration</var> の <a data-link-type="dfn"
                            href="#active-periodic-sync-registrations"
                            id="ref-for-active-periodic-sync-registrations⑤">active periodic sync registrations</a>
                        にある、<a data-link-type="dfn" href="#periodic-sync-registration"
                            id="ref-for-periodic-sync-registration①⓪">periodic sync registration</a> の中で <a
                            data-link-type="dfn" href="#periodic-sync-registration-tag"
                            id="ref-for-periodic-sync-registration-tag">tag</a> が <var>tag</var> と等しいものがあればそれに設定し、なければ
                        null とします。</p>
                <li data-md>
                    <p><var>currentRegistration</var> が null の場合:</p>
                    <ol>
                        <li data-md>
                            <p>新しい <a data-link-type="dfn" href="#periodic-sync-registration"
                                    id="ref-for-periodic-sync-registration①①">periodic sync registration</a> を
                                <var>newRegistration</var> として作成します。
                            </p>
                        <li data-md>
                            <p><var>newRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-tag"
                                    id="ref-for-periodic-sync-registration-tag①">tag</a> を <var>tag</var> に設定します。</p>
                        <li data-md>
                            <p><var>newRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-minimum-interval"
                                    id="ref-for-periodic-sync-registration-minimum-interval②">minimum interval</a> を
                                <var>options</var> の <code
                                    class="idl"><a data-link-type="idl" href="#dom-backgroundsyncoptions-mininterval" id="ref-for-dom-backgroundsyncoptions-mininterval">minInterval</a></code>
                                メンバに設定します。
                            </p>
                        <li data-md>
                            <p><var>newRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-state"
                                    id="ref-for-periodic-sync-registration-state①">state</a> を "<code>pending</code>"
                                に設定します。</p>
                        <li data-md>
                            <p><var>newRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-service-worker-registration"
                                    id="ref-for-periodic-sync-registration-service-worker-registration④">service worker
                                    registration</a> を <var>serviceWorkerRegistration</var> に設定します。</p>
                        <li data-md>
                            <p><var>newRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-anchor-time"
                                    id="ref-for-periodic-sync-registration-anchor-time①">anchor time</a>
                                を現在時刻を表すタイムスタンプに設定します。</p>
                        <li data-md>
                            <p><var>newRegistration</var> を <var>serviceWorkerRegistration</var> の <a
                                    data-link-type="dfn" href="#active-periodic-sync-registrations"
                                    id="ref-for-active-periodic-sync-registrations⑥">active periodic sync
                                    registrations</a> に追加します。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                    id="ref-for-resolve">Resolve</a> して <var>promise</var> を完了させます。</p>
                    </ol>
                <li data-md>
                    <p>そうでない場合（既存の登録がある場合）:</p>
                    <ol>
                        <li data-md>
                            <p><var>currentRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-minimum-interval"
                                    id="ref-for-periodic-sync-registration-minimum-interval③">minimum interval</a> が
                                <var>options</var> の <code
                                    class="idl"><a data-link-type="idl" href="#dom-backgroundsyncoptions-mininterval" id="ref-for-dom-backgroundsyncoptions-mininterval①">minInterval</a></code>
                                と異なる場合:
                            </p>
                            <ol>
                                <li data-md>
                                    <p><var>currentRegistration</var> の <a data-link-type="dfn"
                                            href="#periodic-sync-registration-minimum-interval"
                                            id="ref-for-periodic-sync-registration-minimum-interval④">minimum
                                            interval</a> を <var>options</var> の <code
                                            class="idl"><a data-link-type="idl" href="#dom-backgroundsyncoptions-mininterval" id="ref-for-dom-backgroundsyncoptions-mininterval②">minInterval</a></code>
                                        に設定します。</p>
                            </ol>
                        <li data-md>
                            <p>それ以外で、もし <var>currentRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-state"
                                    id="ref-for-periodic-sync-registration-state②">state</a> が "<code>firing</code>"
                                の場合、<var>serviceWorkerRegistration</var> の <a data-link-type="dfn"
                                    href="#periodic-sync-registration-state"
                                    id="ref-for-periodic-sync-registration-state③">state</a> を
                                "<code>reregistered-while-firing</code>" に設定します。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                    id="ref-for-resolve①">Resolve</a> して <var>promise</var> を完了させます。</p>
                    </ol>
            </ol>
        </div>
        <div class="mdn-anno wrapped">
            <button class="mdn-anno-btn"><b class="less-than-two-engines-flag"
                    title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncManager/getTags"
                        title="The getTags() method of the PeriodicSyncManager interface returns a Promise that resolves with a list of String objects representing the tags that are currently registered for periodic syncing.">PeriodicSyncManager/getTags</a>
                </p>
                <p class="less-than-two-engines-text">In only one current engine.</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                        class="safari no"><span>Safari</span><span>None</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera yes"><span>Opera</span><span>67+</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                        class="ie no"><span>IE</span><span>None</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Firefox for Android</span><span>None</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>None</span></span><span
                        class="chrome_android yes"><span>Chrome for Android</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android yes"><span>Opera Mobile</span><span>57+</span></span>
                </div>
            </div>
        </div>
        <div class="algorithm" data-algorithm="getTags()" data-algorithm-for="PeriodicSyncManager">
            <p>メソッド
                <code><dfn class="dfn-paneled idl-code" data-dfn-for="PeriodicSyncManager" data-dfn-type="method" data-export id="dom-periodicsyncmanager-gettags" title="getTags()"><code>getTags()</code></dfn></code>
                が呼び出されたとき、必ず新しい Promise <var>promise</var> を返し、次の手順を <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                    id="ref-for-enqueue-the-following-steps③">periodic sync processing queue</a> にエンキューします:
            </p>
            <ol>
                <li data-md>
                    <p><var>serviceWorkerRegistration</var> を、コンテキストオブジェクトに関連付けられた <a data-link-type="dfn"
                            href="#periodicsyncmanager-service-worker-registration"
                            id="ref-for-periodicsyncmanager-service-worker-registration②">service worker
                            registration</a> とします。</p>
                <li data-md>
                    <p><var>currentTags</var> を新しい <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list">list</a> とします。</p>
                <li data-md>
                    <p><var>serviceWorkerRegistration</var> の <a data-link-type="dfn"
                            href="#active-periodic-sync-registrations"
                            id="ref-for-active-periodic-sync-registrations⑦">active periodic sync registrations</a> の各
                        <var>registration</var> について、<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">append</a> を使って
                        <var>registration</var> の <a data-link-type="dfn" href="#periodic-sync-registration-tag"
                            id="ref-for-periodic-sync-registration-tag②">tag</a> を <var>currentTags</var> に追加します。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                            id="ref-for-resolve②">Resolve</a> して <var>promise</var> を <var>currentTags</var> で完了させます。
                    </p>
            </ol>
        </div>
        <div class="mdn-anno wrapped">
            <button class="mdn-anno-btn"><b class="less-than-two-engines-flag"
                    title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncManager/unregister"
                        title="The unregister() method of the PeriodicSyncManager interface unregisters the periodic sync request corresponding to the specified tag and returns a Promise that resolves when unregistration completes.">PeriodicSyncManager/unregister</a>
                </p>
                <p class="less-than-two-engines-text">In only one current engine.</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                        class="safari no"><span>Safari</span><span>None</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera yes"><span>Opera</span><span>67+</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                        class="ie no"><span>IE</span><span>None</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Firefox for Android</span><span>None</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>None</span></span><span
                        class="chrome_android yes"><span>Chrome for Android</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android yes"><span>Opera Mobile</span><span>57+</span></span>
                </div>
            </div>
        </div>
        <div class="algorithm" data-algorithm="unregister(tag)" data-algorithm-for="PeriodicSyncManager">
            <p>メソッド
                <code><dfn class="dfn-paneled idl-code" data-dfn-for="PeriodicSyncManager" data-dfn-type="method" data-export id="dom-periodicsyncmanager-unregister" title="unregister(tag)"><code>unregister(<var>tag</var>)</code></dfn></code>
                が呼び出されたとき、必ず新しい Promise <var>promise</var> を返し、次の手順を <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                    id="ref-for-enqueue-the-following-steps④">periodic sync processing queue</a> にエンキューします:
            </p>
            <ol>
                <li data-md>
                    <p><var>serviceWorkerRegistration</var> を、<a data-link-type="dfn"
                            href="#periodicsyncmanager-service-worker-registration"
                            id="ref-for-periodicsyncmanager-service-worker-registration③">サービスワーカー登録</a>であり、<a
                            data-link-type="dfn" href="https://dom.spec.whatwg.org/#context-object"
                            id="ref-for-context-object④">コンテキストオブジェクト</a>の <code
                            class="idl"><a data-link-type="idl" href="#periodicsyncmanager" id="ref-for-periodicsyncmanager⑦">PeriodicSyncManager</a></code>
                        に関連付けられているものとする。
                    </p>
                    <ol>
                        <li data-md>
                            <p><var>currentRegistration</var> を、<var>serviceWorkerRegistration</var> の <a
                                    data-link-type="dfn" href="#active-periodic-sync-registrations"
                                    id="ref-for-active-periodic-sync-registrations⑧">有効な periodic sync 登録</a>の中から、その <a
                                    data-link-type="dfn" href="#periodic-sync-registration-tag"
                                    id="ref-for-periodic-sync-registration-tag③">tag</a> が <var>tag</var> と等しい <a
                                    data-link-type="dfn" href="#periodic-sync-registration"
                                    id="ref-for-periodic-sync-registration①②">periodic sync 登録</a>（存在しない場合は null）とする。
                            </p>
                        <li data-md>
                            <p>もし <var>currentRegistration</var> が null でなければ、<var>currentRegistration</var> を
                                <var>serviceWorkerRegistration</var> の <a data-link-type="dfn"
                                    href="#active-periodic-sync-registrations"
                                    id="ref-for-active-periodic-sync-registrations⑨">有効な periodic sync 登録</a> から削除する。
                            </p>
                        <li data-md>
                            <p><var>promise</var> を解決する。</p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.4" id="periodicsync-event-interface"><span class="secno">8.4.
            </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="periodicsync-event">periodicsync イベント</dfn></span><a class="self-link"
                href="#periodicsync-event-interface"></a></h3>
        <div class="mdn-anno wrapped after">
            <button class="mdn-anno-btn"><b class="less-than-two-engines-flag"
                    title="この機能は2つ未満の現行エンジンでサポートされています。">⚠</b><span>MDN</span></button>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncEvent/PeriodicSyncEvent"
                        title="PeriodicSyncEvent() コンストラクターは新しい PeriodicSyncEvent オブジェクトを作成します。このコンストラクターは通常使用されません。ブラウザーはこれらのオブジェクトを自動的に作成し、それを ServiceWorkerGlobalScope.onperiodicsync コールバックに提供します。">PeriodicSyncEvent/PeriodicSyncEvent</a>
                </p>
                <p class="less-than-two-engines-text">現在、1つのエンジンのみでサポートされています。</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>なし</span></span><span
                        class="safari no"><span>Safari</span><span>なし</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera yes"><span>Opera</span><span>67+</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (レガシー)</span><span>なし</span></span><span
                        class="ie no"><span>IE</span><span>なし</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Android 版 Firefox</span><span>なし</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>なし</span></span><span
                        class="chrome_android yes"><span>Android 版 Chrome</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android yes"><span>Opera Mobile</span><span>57+</span></span>
                </div>
            </div>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncEvent"
                        title="Web Periodic Background Synchronization API の PeriodicSyncEvent インターフェースは、サービスワーカー内でネットワーク接続を伴うタスクを実行する方法を提供します。">PeriodicSyncEvent</a>
                </p>
                <p class="less-than-two-engines-text">現在、1つのエンジンのみでサポートされています。</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>なし</span></span><span
                        class="safari no"><span>Safari</span><span>なし</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera yes"><span>Opera</span><span>67+</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (レガシー)</span><span>なし</span></span><span
                        class="ie no"><span>IE</span><span>なし</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Android 版 Firefox</span><span>なし</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>なし</span></span><span
                        class="chrome_android yes"><span>Android 版 Chrome</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android yes"><span>Opera Mobile</span><span>57+</span></span>
                </div>
            </div>
        </div>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-periodicsynceventinit"><code><c- g>PeriodicSyncEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="PeriodicSyncEventInit" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-periodicsynceventinit-tag"><code><c- g>tag</c-></code><a class="self-link" href="#dom-periodicsynceventinit-tag"></a></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="periodicsyncevent"><code><c- g>PeriodicSyncEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent"><c- n>ExtendableEvent</c-></a> {
    <dfn class="idl-code" data-dfn-for="PeriodicSyncEvent" data-dfn-type="constructor" data-export data-lt="PeriodicSyncEvent(type, init)|constructor(type, init)" id="dom-periodicsyncevent-periodicsyncevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-periodicsyncevent-periodicsyncevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="PeriodicSyncEvent/PeriodicSyncEvent(type, init), PeriodicSyncEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-periodicsyncevent-periodicsyncevent-type-init-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-periodicsyncevent-periodicsyncevent-type-init-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-periodicsynceventinit" id="ref-for-dictdef-periodicsynceventinit"><c- n>PeriodicSyncEventInit</c-></a> <dfn class="idl-code" data-dfn-for="PeriodicSyncEvent/PeriodicSyncEvent(type, init), PeriodicSyncEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-periodicsyncevent-periodicsyncevent-type-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-periodicsyncevent-periodicsyncevent-type-init-init"></a></dfn>);
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-periodicsyncevent-tag" id="ref-for-dom-periodicsyncevent-tag"><c- g>tag</c-></a>;
};
</pre>
        <div class="mdn-anno wrapped">
            <button class="mdn-anno-btn"><b class="less-than-two-engines-flag"
                    title="この機能は2つ未満の現行エンジンでサポートされています。">⚠</b><span>MDN</span></button>
            <div class="feature">
                <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncEvent/tag"
                        title="PeriodicSyncEvent インターフェースの tag 読み取り専用プロパティは、PeriodicSyncEvent 用に開発者が指定した識別子を返します。これは PeriodicSyncManager インターフェースの PeriodicSyncManager.register() メソッド呼び出し時に指定されます。Web アプリは異なる周期的タスクを異なる頻度で実行するために複数のタグを利用できます。">PeriodicSyncEvent/tag</a>
                </p>
                <p class="less-than-two-engines-text">現在、1つのエンジンのみでサポートされています。</p>
                <div class="support">
                    <span class="firefox no"><span>Firefox</span><span>なし</span></span><span
                        class="safari no"><span>Safari</span><span>なし</span></span><span
                        class="chrome yes"><span>Chrome</span><span>80+</span></span>
                    <hr>
                    <span class="opera yes"><span>Opera</span><span>67+</span></span><span
                        class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                    <hr>
                    <span class="edge no"><span>Edge (レガシー)</span><span>なし</span></span><span
                        class="ie no"><span>IE</span><span>なし</span></span>
                    <hr>
                    <span class="firefox_android no"><span>Android 版 Firefox</span><span>なし</span></span><span
                        class="safari_ios no"><span>iOS Safari</span><span>なし</span></span><span
                        class="chrome_android yes"><span>Android 版 Chrome</span><span>80+</span></span><span
                        class="webview_android yes"><span>Android WebView</span><span>80+</span></span><span
                        class="samsunginternet_android yes"><span>Samsung Internet</span><span>13.0+</span></span><span
                        class="opera_android yes"><span>Opera Mobile</span><span>57+</span></span>
                </div>
            </div>
        </div>
        <div>
            <code
                class="idl"><a data-link-type="idl" href="#periodicsyncevent" id="ref-for-periodicsyncevent">PeriodicSyncEvent</a></code>
            は <dfn class="dfn-paneled" data-dfn-for="PeriodicSyncEvent" data-dfn-type="dfn" data-noexport
                id="periodicsyncevent-tag">tag</dfn>（<a data-link-type="dfn" href="#periodic-sync-registration-tag"
                id="ref-for-periodic-sync-registration-tag④">tag</a>）を持ちます。
            <dfn class="dfn-paneled idl-code" data-dfn-for="PeriodicSyncEvent" data-dfn-type="attribute" data-export
                id="dom-periodicsyncevent-tag"><code>tag</code></dfn> 属性は初期化時に設定された値を返さなければなりません。
        </div>
        <h4 class="heading settled" data-level="8.4.1" id="firing-a-periodicsync-event"><span class="secno">8.4.1.
            </span><span class="content"><a data-link-type="dfn" href="#fire-a-periodicsync-event"
                    id="ref-for-fire-a-periodicsync-event①">periodicsync イベントを発火する</a></span><a class="self-link"
                href="#firing-a-periodicsync-event"></a></h4>
        注記: ユーザーエージェントは、<code
            class="idl"><a data-link-type="idl" href="#periodicsyncevent" id="ref-for-periodicsyncevent①">PeriodicSyncEvent</a></code>
        のライフタイム延長および実行時間に対し、一般的な <code
            class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent①">ExtendableEvent</a></code>
        よりも厳しい制限時間を課す場合があります。特に、<code
            class="idl"><a data-link-type="idl" href="#periodicsyncevent" id="ref-for-periodicsyncevent②">PeriodicSyncEvent</a></code>
        の再試行には大幅に短いタイムリミットが設けられる場合があります。
        <div class="algorithm" data-algorithm="fire a periodicsync event">
            <a class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-periodicsync-event">periodicsync
                イベントを発火する</a>ために、<a data-link-type="dfn" href="#periodic-sync-registration"
                id="ref-for-periodic-sync-registration①③">periodic sync registration</a> <var>registration</var>
            について、ユーザーエージェントは以下の手順を実行しなければなりません:
            <ol>
                <li data-md>
                    <p><var>serviceWorkerRegistration</var> を <var>registration</var> の <a data-link-type="dfn"
                            href="#periodic-sync-registration-service-worker-registration"
                            id="ref-for-periodic-sync-registration-service-worker-registration⑤">service worker
                            registration</a> とします。</p>
                <li data-md>
                    <p>もし <var>registration</var> が <var>serviceWorkerRegistration</var> の <a data-link-type="dfn"
                            href="#active-periodic-sync-registrations"
                            id="ref-for-active-periodic-sync-registrations①⓪">有効な periodic sync registration</a>
                        に含まれていなければ、これらの手順を中止します。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert">Assert</a>: <var>registration</var> の <a data-link-type="dfn"
                            href="#periodic-sync-registration-state"
                            id="ref-for-periodic-sync-registration-state④">state</a> は "<code>pending</code>" です。</p>
                <li data-md>
                    <p>retryCount を 0 にします。</p>
                <li data-md>
                    <p><var>registration</var> の <a data-link-type="dfn" href="#periodic-sync-registration-state"
                            id="ref-for-periodic-sync-registration-state⑤">state</a> を "<code>firing</code>" に設定します。</p>
                <li data-md>
                    <p>次の間、繰り返します:</p>
                    <ol>
                        <li data-md>
                            <p><var>continue</var> を false にします。</p>
                        <li data-md>
                            <p><var>success</var> を false にします。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event"
                                    id="ref-for-fire-functional-event">ファンクショナルイベント</a>
                                "<code>periodicsync</code>" を <code
                                    class="idl"><a data-link-type="idl" href="#periodicsyncevent" id="ref-for-periodicsyncevent③">PeriodicSyncEvent</a></code>
                                を用いて <var>serviceWorkerRegistration</var> 上で、<a data-link-type="dfn"
                                    href="#periodicsyncevent-tag" id="ref-for-periodicsyncevent-tag">tag</a> に
                                <var>registration</var> の <a data-link-type="dfn" href="#periodic-sync-registration-tag"
                                    id="ref-for-periodic-sync-registration-tag⑤">tag</a>
                                を設定して発火します。<var>dispatchedEvent</var>（<code
                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent②">ExtendableEvent</a></code>）を発火した
                                <a data-link-type="dfn" href="#periodicsync-event"
                                    id="ref-for-periodicsync-event②⓪">periodicsync イベント</a>
                                とし、<var>dispatchedEvent</var> で以下の手順を実行します:
                            </p>
                        <li data-md>
                            <p><var>waitUntilPromise</var> を、<a data-link-type="dfn"
                                    href="https://heycam.github.io/webidl/#wait-for-all"
                                    id="ref-for-wait-for-all">すべてを待機</a> した <var>dispatchedEvent</var> の <a
                                    data-link-type="dfn"
                                    href="https://w3c.github.io/ServiceWorker/#extendableevent-extend-lifetime-promises"
                                    id="ref-for-extendableevent-extend-lifetime-promises">ライフタイム延長プロミス</a> の結果とします。
                            </p>
                        <li data-md>
                            <p><var>waitUntilPromise</var> の <a data-link-type="dfn"
                                    href="https://heycam.github.io/webidl/#upon-fulfillment"
                                    id="ref-for-upon-fulfillment">成功時</a> には以下を実行:</p>
                            <ol>
                                <li data-md>
                                    <p><var>success</var> を true にします。</p>
                                <li data-md>
                                    <p><var>continue</var> を true にします。</p>
                            </ol>
                        <li data-md>
                            <p><var>waitUntilPromise</var> の <a data-link-type="dfn"
                                    href="https://heycam.github.io/webidl/#upon-rejection"
                                    id="ref-for-upon-rejection">失敗時</a> には以下を実行:</p>
                            <ol>
                                <li data-md>
                                    <p><var>continue</var> を true にします。</p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                    id="ref-for-in-parallel①">並列で</a>:</p>
                            <ol>
                                <li data-md>
                                    <p><var>continue</var> が true になるまで待機します。</p>
                                <li data-md>
                                    <p><var>origin</var> を <var>registration</var> の <a data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin"
                                            id="ref-for-service-worker-client-origin①②">origin</a> とします。
                                    </p>
                                <li data-md>
                                    <p>もし <var>success</var> が true ならば、キー <var>origin</var> に対する <a
                                            data-link-type="dfn" href="#periodic-sync-scheduler-time-of-last-fire"
                                            id="ref-for-periodic-sync-scheduler-time-of-last-fire①">前回発火時刻</a>
                                        を現在時刻に更新します。</p>
                                <li data-md>
                                    <p><var>success</var> が true、または <var>retryCount</var> が <a data-link-type="dfn"
                                            href="#maximum-number-of-retries"
                                            id="ref-for-maximum-number-of-retries①">最大リトライ回数</a> を超えた場合、または
                                        <var>registration</var> の state が "<code>reregistered-while-firing</code>"
                                        なら、以下を実行します:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><var>registration</var> の <a data-link-type="dfn"
                                                    href="#periodic-sync-registration-state"
                                                    id="ref-for-periodic-sync-registration-state⑥">state</a> を
                                                "<code>pending</code>" に設定します。</p>
                                        <li data-md>
                                            <p><var>registration</var> の <a data-link-type="dfn"
                                                    href="#periodic-sync-registration-anchor-time"
                                                    id="ref-for-periodic-sync-registration-anchor-time②">アンカータイム</a>
                                                を現在時刻のタイムスタンプに設定します。</p>
                                        <li data-md>
                                            <p>これらの手順を中止します。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p><var>retryCount</var> をインクリメントします。</p>
                        <li data-md>
                            <p><var>retryCount</var> に基づいた短いバックオフ時間待機します。</p>
                    </ol>
            </ol>
        </div>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">適合性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文書の慣例</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>適合要件は、記述的な主張と RFC 2119 の用語を組み合わせて示されています。
            この文書の規範的な部分で “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”,
            “MAY”, “OPTIONAL”
            のキーワードは RFC 2119 に記載されている通りに解釈するものとします。
            ただし、可読性のため、これらの単語は本仕様ではすべて大文字で表記されません。 </p>
        <p>この仕様書内のテキストはすべて規範的です。明示的に非規範的と示されたセクション、例、注記を除きます。<a data-link-type="biblio"
                href="#biblio-rfc2119">[RFC2119]</a> </p>
        <p>この仕様の例は “for example” との導入文、または
            <code>class="example"</code> により規範テキストと区別されています。以下のようになります:
        </p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>これは情報提供例のひとつです。 </p>
        </div>
        <p>情報提供用の注記は "Note" で始まり、<code>class="note"</code> で規範テキストと区別され、下記のようになります: </p>
        <p class="note" role="note">注記: これは情報提供用の注記です。</p>
        <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                class="content">適合するアルゴリズム</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
        <p>アルゴリズムの一部として命令形で記述されている要件（例えば "先頭からすべての空白文字を削除する" や "false を返し、これらの手順を中止する"
            など）は、そのアルゴリズムの冒頭で使われているキーワード（"must", "should", "may" など）に従って解釈されます。</p>
        <p>アルゴリズムまたは特定手順として記述された適合要件は、同等の結果となる限り任意の方法で実装可能です。
            特に本仕様で定義しているアルゴリズムは理解しやすいように作成されており、高速性を意図していません。
            実装者は最適化を推奨します。</p>
    </div>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">この仕様によって定義された用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#active-periodic-sync-registrations">アクティブな periodic sync 登録</a><span>、§3</span>
        <li><a href="#periodic-sync-registration-anchor-time">アンカータイム</a><span>、§4.1</span>
        <li><a href="#dictdef-backgroundsyncoptions">BackgroundSyncOptions</a><span>、§8.3</span>
        <li><a href="#dom-periodicsyncevent-periodicsyncevent">constructor(type, init)</a><span>、§8.4</span>
        <li><a href="#effective-minimum-sync-interval-for-origin">オリジンごとの有効最小同期間隔</a><span>、§4.2</span>
        <li><a href="#fire-a-periodicsync-event">periodicsync イベントを発火する</a><span>、§8.4.1</span>
        <li><a href="#dom-periodicsyncmanager-gettags">getTags()</a><span>、§8.3</span>
        <li><a href="#periodicsync-event-in-the-background">バックグラウンドで</a><span>、§2</span>
        <li><a href="#maximum-number-of-retries">最大リトライ回数</a><span>、§4.3</span>
        <li><a href="#periodic-sync-registration-minimum-interval">最小間隔</a><span>、§4.1</span>
        <li><a href="#minimum-periodic-sync-interval-across-origins">オリジン全体の最小 periodic sync 間隔</a><span>、§4.3</span>
        <li><a href="#minimum-periodic-sync-interval-for-any-origin">いずれかのオリジンの最小 periodic sync 間隔</a><span>、§4.3</span>
        <li><a href="#dom-backgroundsyncoptions-mininterval">minInterval</a><span>、§8.3</span>
        <li><a href="#dom-serviceworkerglobalscope-onperiodicsync">onperiodicsync</a><span>、§8.1</span>
        <li><a href="#dom-serviceworkerregistration-periodicsync">periodicSync</a><span>、§8.2</span>
        <li><a href="#periodicsync-event">periodicsync イベント</a><span>、§8.4</span>
        <li><a href="#periodicsyncevent">PeriodicSyncEvent</a><span>、§8.4</span>
        <li><a href="#dictdef-periodicsynceventinit">PeriodicSyncEventInit</a><span>、§8.4</span>
        <li><a href="#dom-periodicsyncevent-periodicsyncevent">PeriodicSyncEvent(type, init)</a><span>、§8.4</span>
        <li><a href="#serviceworkerregistration-periodic-sync-manager">periodic sync manager</a><span>、§8.2</span>
        <li><a href="#periodicsyncmanager">PeriodicSyncManager</a><span>、§8.3</span>
        <li><a href="#periodic-sync-processing-queue">Periodic sync 処理キュー</a><span>、§3</span>
        <li><a href="#periodic-sync-registration">periodic sync 登録</a><span>、§4.1</span>
        <li><a href="#periodic-sync-scheduler">Periodic Sync スケジューラ</a><span>、§4.2</span>
        <li><a href="#process-periodic-sync-registrations">periodic sync 登録の処理</a><span>、§7.1</span>
        <li><a href="#dom-periodicsyncmanager-register">register(tag)</a><span>、§8.3</span>
        <li><a href="#dom-periodicsyncmanager-register">register(tag, options)</a><span>、§8.3</span>
        <li><a href="#respond-to-permission-revocation">権限の取り消しへの応答</a><span>、§7.2</span>
        <li>
            service worker 登録
            <ul>
                <li><a href="#periodicsyncmanager-service-worker-registration">PeriodicSyncManager
                        の定義</a><span>、§8.3</span>
                <li><a href="#periodic-sync-registration-service-worker-registration">periodic sync
                        登録の定義</a><span>、§4.1</span>
            </ul>
        <li><a href="#periodic-sync-registration-state">state</a><span>、§4.1</span>
        <li>
            tag
            <ul>
                <li><a href="#dom-periodicsyncevent-tag">PeriodicSyncEvent の属性</a><span>、§8.4</span>
                <li><a href="#periodicsyncevent-tag">PeriodicSyncEvent の定義</a><span>、§8.4</span>
                <li><a href="#periodic-sync-registration-tag">periodic sync 登録の定義</a><span>、§4.1</span>
                <li><a href="#dom-periodicsynceventinit-tag">PeriodicSyncEventInit の dict-member</a><span>、§8.4</span>
            </ul>
        <li><a href="#periodic-sync-scheduler-time-of-last-fire">最終発火時刻</a><span>、§4.2</span>
        <li><a href="#dom-periodicsyncmanager-unregister">unregister(tag)</a><span>、§8.3</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-backgroundfetchmanager">
        <a
            href="https://wicg.github.io/background-fetch/#backgroundfetchmanager">https://wicg.github.io/background-fetch/#backgroundfetchmanager</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchmanager">6. Resource Usage</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-background-fetch">
        <a
            href="https://wicg.github.io/background-fetch/#background-fetch">https://wicg.github.io/background-fetch/#background-fetch</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch">6. Resource Usage</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-context-object">
        <a href="https://dom.spec.whatwg.org/#context-object">https://dom.spec.whatwg.org/#context-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-context-object">8.2. Extensions to the ServiceWorkerRegistration interface</a> <a
                    href="#ref-for-context-object①">(2)</a>
            <li><a href="#ref-for-context-object②">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-context-object③">(2)</a> <a href="#ref-for-context-object④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventhandler">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventhandler">8.1. Extensions to the ServiceWorkerGlobalScope interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-document-bc">
        <a
            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-bc">https://html.spec.whatwg.org/multipage/browsers.html#concept-document-bc</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-document-bc">1.1. Example</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-enqueue-the-following-steps">
        <a
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps">https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-enqueue-the-following-steps">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-enqueue-the-following-steps①">7.2. Respond to permission revocation</a>
            <li><a href="#ref-for-enqueue-the-following-steps②">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-enqueue-the-following-steps③">(2)</a> <a
                    href="#ref-for-enqueue-the-following-steps④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-in-parallel">
        <a
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-in-parallel">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-in-parallel①">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-secure-context">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context">https://html.spec.whatwg.org/multipage/webappapis.html#secure-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-secure-context">1. Introduction</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-starting-a-new-parallel-queue">
        <a
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue">https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-starting-a-new-parallel-queue">3. Extensions to service worker registration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-append">
        <a href="https://infra.spec.whatwg.org/#list-append">https://infra.spec.whatwg.org/#list-append</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-append">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-assert">
        <a href="https://infra.spec.whatwg.org/#assert">https://infra.spec.whatwg.org/#assert</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-assert">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-iteration-continue">
        <a
            href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-iteration-continue">7.1. Process periodic sync registrations</a> <a
                    href="#ref-for-iteration-continue①">(2)</a> <a href="#ref-for-iteration-continue②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list">
        <a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-list">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ordered-map">
        <a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ordered-map">3. Extensions to service worker registration</a>
            <li><a href="#ref-for-ordered-map①">4.2. Periodic Sync Scheduler</a> <a href="#ref-for-ordered-map②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-permissionstate-granted">
        <a
            href="https://w3c.github.io/permissions/#dom-permissionstate-granted">https://w3c.github.io/permissions/#dom-permissionstate-granted</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-permissionstate-granted">5.1. Permission</a>
            <li><a href="#ref-for-dom-permissionstate-granted①">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dictdef-permissiondescriptor">
        <a
            href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor">https://w3c.github.io/permissions/#dictdef-permissiondescriptor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-permissiondescriptor">5.1. Permission</a>
            <li><a href="#ref-for-dictdef-permissiondescriptor①">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-enumdef-permissionstate">
        <a
            href="https://w3c.github.io/permissions/#enumdef-permissionstate">https://w3c.github.io/permissions/#enumdef-permissionstate</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-permissionstate">5.1. Permission</a>
            <li><a href="#ref-for-enumdef-permissionstate①">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-permissiondescriptor-name">
        <a
            href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name">https://w3c.github.io/permissions/#dom-permissiondescriptor-name</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-permissiondescriptor-name">5.1. Permission</a>
            <li><a href="#ref-for-dom-permissiondescriptor-name①">7.2. Respond to permission revocation</a>
            <li><a href="#ref-for-dom-permissiondescriptor-name②">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cache">
        <a href="https://w3c.github.io/ServiceWorker/#cache">https://w3c.github.io/ServiceWorker/#cache</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cache">1.1. Example</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-extendableevent">
        <a
            href="https://w3c.github.io/ServiceWorker/#extendableevent">https://w3c.github.io/ServiceWorker/#extendableevent</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-extendableevent">8.4. The periodicsync event</a>
            <li><a href="#ref-for-extendableevent①">8.4.1. Fire a periodicsync event</a> <a
                    href="#ref-for-extendableevent②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dictdef-extendableeventinit">
        <a
            href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit">https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-extendableeventinit">8.4. The periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-serviceworkerglobalscope">
        <a
            href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope">https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serviceworkerglobalscope">8.1. Extensions to the ServiceWorkerGlobalScope
                    interface</a> <a href="#ref-for-serviceworkerglobalscope①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-serviceworkerregistration">
        <a
            href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration">https://w3c.github.io/ServiceWorker/#serviceworkerregistration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serviceworkerregistration">8.2. Extensions to the ServiceWorkerRegistration
                    interface</a> <a href="#ref-for-serviceworkerregistration①">(2)</a> <a
                    href="#ref-for-serviceworkerregistration②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-active-worker">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-active-worker">https://w3c.github.io/ServiceWorker/#dfn-active-worker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-active-worker">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-extendableevent-extend-lifetime-promises">
        <a
            href="https://w3c.github.io/ServiceWorker/#extendableevent-extend-lifetime-promises">https://w3c.github.io/ServiceWorker/#extendableevent-extend-lifetime-promises</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-extendableevent-extend-lifetime-promises">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fire-functional-event">
        <a
            href="https://w3c.github.io/ServiceWorker/#fire-functional-event">https://w3c.github.io/ServiceWorker/#fire-functional-event</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fire-functional-event">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-service-worker-client-frame-type">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-client-frame-type">https://w3c.github.io/ServiceWorker/#dfn-service-worker-client-frame-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-service-worker-client-frame-type">2. Concepts</a>
            <li><a href="#ref-for-dfn-service-worker-client-frame-type①">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-service-worker-client-origin">
        <a
            href="https://w3c.github.io/ServiceWorker/#service-worker-client-origin">https://w3c.github.io/ServiceWorker/#service-worker-client-origin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-service-worker-client-origin">2. Concepts</a>
            <li><a href="#ref-for-service-worker-client-origin①">4.1. Periodic sync registration</a>
            <li><a href="#ref-for-service-worker-client-origin②">4.2. Periodic Sync Scheduler</a> <a
                    href="#ref-for-service-worker-client-origin③">(2)</a> <a
                    href="#ref-for-service-worker-client-origin④">(3)</a>
            <li><a href="#ref-for-service-worker-client-origin⑤">5.2. Location Tracking</a> <a
                    href="#ref-for-service-worker-client-origin⑥">(2)</a>
            <li><a href="#ref-for-service-worker-client-origin⑦">6. Resource Usage</a>
            <li><a href="#ref-for-service-worker-client-origin⑧">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-service-worker-client-origin⑨">7.2. Respond to permission revocation</a> <a
                    href="#ref-for-service-worker-client-origin①⓪">(2)</a>
            <li><a href="#ref-for-service-worker-client-origin①①">8.3. PeriodicSyncManager interface</a>
            <li><a href="#ref-for-service-worker-client-origin①②">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-service-worker">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker">https://w3c.github.io/ServiceWorker/#dfn-service-worker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-service-worker">1.1. Example</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-service-worker-client">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-client">https://w3c.github.io/ServiceWorker/#dfn-service-worker-client</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-service-worker-client">2. Concepts</a>
            <li><a href="#ref-for-dfn-service-worker-client①">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-service-worker-registration">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration">https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-service-worker-registration">3. Extensions to service worker registration</a>
            <li><a href="#ref-for-dfn-service-worker-registration①">4.1. Periodic sync registration</a>
            <li><a href="#ref-for-dfn-service-worker-registration②">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-dfn-service-worker-registration③">8.2. Extensions to the ServiceWorkerRegistration
                    interface</a>
            <li><a href="#ref-for-dfn-service-worker-registration④">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-service-worker-registration-unregistered">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-unregistered">https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-unregistered</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-service-worker-registration-unregistered">7.1. Process periodic sync
                    registrations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-online">
        <a
            href="https://wicg.github.io/background-sync/spec/#online">https://wicg.github.io/background-sync/spec/#online</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-online">7.1. Process periodic sync registrations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-DOMString">
        <a href="https://heycam.github.io/webidl/#idl-DOMString">https://heycam.github.io/webidl/#idl-DOMString</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-DOMString">3. Extensions to service worker registration</a>
            <li><a href="#ref-for-idl-DOMString①">4.1. Periodic sync registration</a>
            <li><a href="#ref-for-idl-DOMString②">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-idl-DOMString③">(2)</a> <a href="#ref-for-idl-DOMString④">(3)</a>
            <li><a href="#ref-for-idl-DOMString⑤">8.4. The periodicsync event</a> <a
                    href="#ref-for-idl-DOMString⑥">(2)</a> <a href="#ref-for-idl-DOMString⑦">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-EnforceRange">
        <a href="https://heycam.github.io/webidl/#EnforceRange">https://heycam.github.io/webidl/#EnforceRange</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-EnforceRange">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-Exposed">
        <a href="https://heycam.github.io/webidl/#Exposed">https://heycam.github.io/webidl/#Exposed</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-Exposed">8.2. Extensions to the ServiceWorkerRegistration interface</a>
            <li><a href="#ref-for-Exposed①">8.3. PeriodicSyncManager interface</a>
            <li><a href="#ref-for-Exposed②">8.4. The periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-invalidaccesserror">
        <a
            href="https://heycam.github.io/webidl/#invalidaccesserror">https://heycam.github.io/webidl/#invalidaccesserror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-invalidaccesserror">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-invalidstateerror">
        <a
            href="https://heycam.github.io/webidl/#invalidstateerror">https://heycam.github.io/webidl/#invalidstateerror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-invalidstateerror">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-notallowederror">
        <a
            href="https://heycam.github.io/webidl/#notallowederror">https://heycam.github.io/webidl/#notallowederror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-notallowederror">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-promise">
        <a href="https://heycam.github.io/webidl/#idl-promise">https://heycam.github.io/webidl/#idl-promise</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-promise">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-idl-promise①">(2)</a> <a href="#ref-for-idl-promise②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-a-new-promise">
        <a href="https://heycam.github.io/webidl/#a-new-promise">https://heycam.github.io/webidl/#a-new-promise</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-a-new-promise">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-a-new-promise①">(2)</a> <a href="#ref-for-a-new-promise②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-reject">
        <a href="https://heycam.github.io/webidl/#reject">https://heycam.github.io/webidl/#reject</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-reject">8.3. PeriodicSyncManager interface</a> <a href="#ref-for-reject①">(2)</a> <a
                    href="#ref-for-reject②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-resolve">
        <a href="https://heycam.github.io/webidl/#resolve">https://heycam.github.io/webidl/#resolve</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-resolve">8.3. PeriodicSyncManager interface</a> <a href="#ref-for-resolve①">(2)</a> <a
                    href="#ref-for-resolve②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-sequence">
        <a href="https://heycam.github.io/webidl/#idl-sequence">https://heycam.github.io/webidl/#idl-sequence</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-sequence">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-undefined">
        <a href="https://heycam.github.io/webidl/#idl-undefined">https://heycam.github.io/webidl/#idl-undefined</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-undefined">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-idl-undefined①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-unsigned-long-long">
        <a
            href="https://heycam.github.io/webidl/#idl-unsigned-long-long">https://heycam.github.io/webidl/#idl-unsigned-long-long</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-unsigned-long-long">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-upon-fulfillment">
        <a
            href="https://heycam.github.io/webidl/#upon-fulfillment">https://heycam.github.io/webidl/#upon-fulfillment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-upon-fulfillment">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-upon-rejection">
        <a href="https://heycam.github.io/webidl/#upon-rejection">https://heycam.github.io/webidl/#upon-rejection</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-upon-rejection">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-wait-for-all">
        <a href="https://heycam.github.io/webidl/#wait-for-all">https://heycam.github.io/webidl/#wait-for-all</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-wait-for-all">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照により定義される用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[BACKGROUND-FETCH]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-backgroundfetchmanager">BackgroundFetchManager</span>
                <li><span class="dfn-paneled" id="term-for-background-fetch">background fetch</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-context-object">context object</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-eventhandler">EventHandler</span>
                <li><span class="dfn-paneled" id="term-for-concept-document-bc">browsing context</span>
                <li><span class="dfn-paneled" id="term-for-enqueue-the-following-steps">以下の手順をキューに追加する</span>
                <li><span class="dfn-paneled" id="term-for-in-parallel">並列で</span>
                <li><span class="dfn-paneled" id="term-for-secure-context">セキュアコンテキスト</span>
                <li><span class="dfn-paneled" id="term-for-starting-a-new-parallel-queue">新しい並列キューを開始する</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-list-append">append</span>
                <li><span class="dfn-paneled" id="term-for-assert">assert</span>
                <li><span class="dfn-paneled" id="term-for-iteration-continue">continue</span>
                <li><span class="dfn-paneled" id="term-for-list">list</span>
                <li><span class="dfn-paneled" id="term-for-ordered-map">map</span>
            </ul>
        <li>
            <a data-link-type="biblio">[permissions]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-dom-permissionstate-granted">"granted"</span>
                <li><span class="dfn-paneled" id="term-for-dictdef-permissiondescriptor">PermissionDescriptor</span>
                <li><span class="dfn-paneled" id="term-for-enumdef-permissionstate">PermissionState</span>
                <li><span class="dfn-paneled" id="term-for-dom-permissiondescriptor-name">name</span>
            </ul>
        <li>
            <a data-link-type="biblio">[service-workers-1]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-cache">Cache</span>
                <li><span class="dfn-paneled" id="term-for-extendableevent">ExtendableEvent</span>
                <li><span class="dfn-paneled" id="term-for-dictdef-extendableeventinit">ExtendableEventInit</span>
                <li><span class="dfn-paneled" id="term-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</span>
                <li><span class="dfn-paneled" id="term-for-serviceworkerregistration">ServiceWorkerRegistration</span>
                <li><span class="dfn-paneled" id="term-for-dfn-active-worker">active worker</span>
                <li><span class="dfn-paneled" id="term-for-extendableevent-extend-lifetime-promises">extend lifetime
                        promises</span>
                <li><span class="dfn-paneled" id="term-for-fire-functional-event">ファンクショナルイベントを発火する</span>
                <li><span class="dfn-paneled" id="term-for-dfn-service-worker-client-frame-type">frame type</span>
                <li><span class="dfn-paneled" id="term-for-service-worker-client-origin">origin</span>
                <li><span class="dfn-paneled" id="term-for-dfn-service-worker">service worker</span>
                <li><span class="dfn-paneled" id="term-for-dfn-service-worker-client">service worker client</span>
                <li><span class="dfn-paneled" id="term-for-dfn-service-worker-registration">service worker
                        registration</span>
                <li><span class="dfn-paneled"
                        id="term-for-dfn-service-worker-registration-unregistered">unregistered</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEB-BACKGROUND-SYNC]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-online">online</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WebIDL]</a> は次の用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="term-for-idl-DOMString">DOMString</span>
                <li><span class="dfn-paneled" id="term-for-EnforceRange">EnforceRange</span>
                <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
                <li><span class="dfn-paneled" id="term-for-invalidaccesserror">InvalidAccessError</span>
                <li><span class="dfn-paneled" id="term-for-invalidstateerror">InvalidStateError</span>
                <li><span class="dfn-paneled" id="term-for-notallowederror">NotAllowedError</span>
                <li><span class="dfn-paneled" id="term-for-idl-promise">Promise</span>
                <li><span class="dfn-paneled" id="term-for-a-new-promise">a new promise</span>
                <li><span class="dfn-paneled" id="term-for-reject">reject</span>
                <li><span class="dfn-paneled" id="term-for-resolve">resolve</span>
                <li><span class="dfn-paneled" id="term-for-idl-sequence">sequence</span>
                <li><span class="dfn-paneled" id="term-for-idl-undefined">undefined</span>
                <li><span class="dfn-paneled" id="term-for-idl-unsigned-long-long">unsigned long long</span>
                <li><span class="dfn-paneled" id="term-for-upon-fulfillment">完了時</span>
                <li><span class="dfn-paneled" id="term-for-upon-rejection">拒否時</span>
                <li><span class="dfn-paneled" id="term-for-wait-for-all">すべてを待機</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範的な参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-background-fetch">[BACKGROUND-FETCH]
        <dd><a href="https://wicg.github.io/background-fetch/">Background Fetch</a>. cg-draft. URL: <a
                href="https://wicg.github.io/background-fetch/">https://wicg.github.io/background-fetch/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living
            Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/">Infra Standard</a>. Living
            Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Mounir Lamouri; Marcos Caceres; Jeffrey Yasskin. <a
                href="https://www.w3.org/TR/permissions/">Permissions</a>. 2020年7月20日. WD. URL: <a
                href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement
                Levels</a>. 1997年3月. Best Current Practice. URL: <a
                href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
        <dt id="biblio-service-workers-1">[SERVICE-WORKERS-1]
        <dd>Alex Russell; et al. <a href="https://www.w3.org/TR/service-workers-1/">Service Workers 1</a>. 2019年11月19日.
            CR. URL: <a href="https://www.w3.org/TR/service-workers-1/">https://www.w3.org/TR/service-workers-1/</a>
        <dt id="biblio-web-background-sync">[WEB-BACKGROUND-SYNC]
        <dd><a href="https://wicg.github.io/background-sync/spec/">Web Background Synchronization</a>. cg-draft. URL: <a
                href="https://wicg.github.io/background-sync/spec/">https://wicg.github.io/background-sync/spec/</a>
        <dt id="biblio-webidl">[WebIDL]
        <dd>Boris Zbarsky. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 2016年12月15日. ED. URL: <a
                href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"><c- g>ServiceWorkerGlobalScope</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onperiodicsync"><code><c- g>onperiodicsync</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#periodicsyncmanager"><c- n>PeriodicSyncManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PeriodicSyncManager" href="#dom-serviceworkerregistration-periodicsync"><c- g>periodicSync</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#periodicsyncmanager"><code><c- g>PeriodicSyncManager</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-periodicsyncmanager-register"><c- g>register</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-periodicsyncmanager-register-tag-options-tag"><code><c- g>tag</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundsyncoptions"><c- n>BackgroundSyncOptions</c-></a> <a href="#dom-periodicsyncmanager-register-tag-options-options"><code><c- g>options</c-></code></a> = {});
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-periodicsyncmanager-gettags"><c- g>getTags</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-periodicsyncmanager-unregister"><c- g>unregister</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-periodicsyncmanager-unregister-tag-tag"><code><c- g>tag</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundsyncoptions"><code><c- g>BackgroundSyncOptions</c-></code></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-default="0" data-type="unsigned long long " href="#dom-backgroundsyncoptions-mininterval"><code><c- g>minInterval</c-></code></a> = 0;
};

<c- b>dictionary</c-> <a href="#dictdef-periodicsynceventinit"><code><c- g>PeriodicSyncEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-periodicsynceventinit-tag"><code><c- g>tag</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#periodicsyncevent"><code><c- g>PeriodicSyncEvent</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent"><c- n>ExtendableEvent</c-></a> {
    <a href="#dom-periodicsyncevent-periodicsyncevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-periodicsyncevent-periodicsyncevent-type-init-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-periodicsynceventinit"><c- n>PeriodicSyncEventInit</c-></a> <a href="#dom-periodicsyncevent-periodicsyncevent-type-init-init"><code><c- g>init</c-></code></a>);
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-periodicsyncevent-tag"><c- g>tag</c-></a>;
};

</pre>
    <aside class="dfn-panel" data-for="periodicsync-event-in-the-background">
        <b><a href="#periodicsync-event-in-the-background">#periodicsync-event-in-the-background</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-periodicsync-event-in-the-background">5.2. Location Tracking</a>
            <li><a href="#ref-for-periodicsync-event-in-the-background①">5.3. History Leaking</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="active-periodic-sync-registrations">
        <b><a href="#active-periodic-sync-registrations">#active-periodic-sync-registrations</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-active-periodic-sync-registrations">4.2. Periodic Sync Scheduler</a> <a
                    href="#ref-for-active-periodic-sync-registrations①">(2)</a>
            <li><a href="#ref-for-active-periodic-sync-registrations②">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-active-periodic-sync-registrations③">7.2. Respond to permission revocation</a> <a
                    href="#ref-for-active-periodic-sync-registrations④">(2)</a>
            <li><a href="#ref-for-active-periodic-sync-registrations⑤">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-active-periodic-sync-registrations⑥">(2)</a> <a
                    href="#ref-for-active-periodic-sync-registrations⑦">(3)</a> <a
                    href="#ref-for-active-periodic-sync-registrations⑧">(4)</a> <a
                    href="#ref-for-active-periodic-sync-registrations⑨">(5)</a>
            <li><a href="#ref-for-active-periodic-sync-registrations①⓪">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-processing-queue">
        <b><a href="#periodic-sync-processing-queue">#periodic-sync-processing-queue</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-processing-queue">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-periodic-sync-processing-queue①">7.2. Respond to permission revocation</a>
            <li><a href="#ref-for-periodic-sync-processing-queue②">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-periodic-sync-processing-queue③">(2)</a> <a
                    href="#ref-for-periodic-sync-processing-queue④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-registration">
        <b><a href="#periodic-sync-registration">#periodic-sync-registration</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-registration">2. Concepts</a>
            <li><a href="#ref-for-periodic-sync-registration①">3. Extensions to service worker registration</a>
            <li><a href="#ref-for-periodic-sync-registration②">4.1. Periodic sync registration</a>
            <li><a href="#ref-for-periodic-sync-registration③">4.3. Constants</a>
            <li><a href="#ref-for-periodic-sync-registration④">5.1. Permission</a>
            <li><a href="#ref-for-periodic-sync-registration⑤">5.3. History Leaking</a> <a
                    href="#ref-for-periodic-sync-registration⑥">(2)</a>
            <li><a href="#ref-for-periodic-sync-registration⑦">7.1. Process periodic sync registrations</a> <a
                    href="#ref-for-periodic-sync-registration⑧">(2)</a>
            <li><a href="#ref-for-periodic-sync-registration⑨">7.2. Respond to permission revocation</a>
            <li><a href="#ref-for-periodic-sync-registration①⓪">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-periodic-sync-registration①①">(2)</a> <a
                    href="#ref-for-periodic-sync-registration①②">(3)</a>
            <li><a href="#ref-for-periodic-sync-registration①③">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-registration-service-worker-registration">
        <b><a
                href="#periodic-sync-registration-service-worker-registration">#periodic-sync-registration-service-worker-registration</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-registration-service-worker-registration">2. Concepts</a>
            <li><a href="#ref-for-periodic-sync-registration-service-worker-registration①">4.2. Periodic Sync
                    Scheduler</a>
            <li><a href="#ref-for-periodic-sync-registration-service-worker-registration②">7.1. Process periodic sync
                    registrations</a>
            <li><a href="#ref-for-periodic-sync-registration-service-worker-registration③">7.2. Respond to permission
                    revocation</a>
            <li><a href="#ref-for-periodic-sync-registration-service-worker-registration④">8.3. PeriodicSyncManager
                    interface</a>
            <li><a href="#ref-for-periodic-sync-registration-service-worker-registration⑤">8.4.1. Fire a periodicsync
                    event</a> <a href="#ref-for-periodic-sync-registration-service-worker-registration⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-registration-tag">
        <b><a href="#periodic-sync-registration-tag">#periodic-sync-registration-tag</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-registration-tag">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-periodic-sync-registration-tag①">(2)</a> <a
                    href="#ref-for-periodic-sync-registration-tag②">(3)</a> <a
                    href="#ref-for-periodic-sync-registration-tag③">(4)</a>
            <li><a href="#ref-for-periodic-sync-registration-tag④">8.4. The periodicsync event</a>
            <li><a href="#ref-for-periodic-sync-registration-tag⑤">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-registration-minimum-interval">
        <b><a
                href="#periodic-sync-registration-minimum-interval">#periodic-sync-registration-minimum-interval</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-registration-minimum-interval">4.1. Periodic sync registration</a>
            <li><a href="#ref-for-periodic-sync-registration-minimum-interval①">7.1. Process periodic sync
                    registrations</a>
            <li><a href="#ref-for-periodic-sync-registration-minimum-interval②">8.3. PeriodicSyncManager interface</a>
                <a href="#ref-for-periodic-sync-registration-minimum-interval③">(2)</a> <a
                    href="#ref-for-periodic-sync-registration-minimum-interval④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-registration-anchor-time">
        <b><a
                href="#periodic-sync-registration-anchor-time">#periodic-sync-registration-anchor-time</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-registration-anchor-time">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-periodic-sync-registration-anchor-time①">8.3. PeriodicSyncManager interface</a>
            <li><a href="#ref-for-periodic-sync-registration-anchor-time②">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-registration-state">
        <b><a href="#periodic-sync-registration-state">#periodic-sync-registration-state</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-registration-state">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-periodic-sync-registration-state①">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-periodic-sync-registration-state②">(2)</a> <a
                    href="#ref-for-periodic-sync-registration-state③">(3)</a>
            <li><a href="#ref-for-periodic-sync-registration-state④">8.4.1. Fire a periodicsync event</a> <a
                    href="#ref-for-periodic-sync-registration-state⑤">(2)</a> <a
                    href="#ref-for-periodic-sync-registration-state⑥">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-scheduler">
        <b><a href="#periodic-sync-scheduler">#periodic-sync-scheduler</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-scheduler">4.2. Periodic Sync Scheduler</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodic-sync-scheduler-time-of-last-fire">
        <b><a
                href="#periodic-sync-scheduler-time-of-last-fire">#periodic-sync-scheduler-time-of-last-fire</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-periodic-sync-scheduler-time-of-last-fire">7.1. Process periodic sync
                    registrations</a>
            <li><a href="#ref-for-periodic-sync-scheduler-time-of-last-fire①">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="effective-minimum-sync-interval-for-origin">
        <b><a
                href="#effective-minimum-sync-interval-for-origin">#effective-minimum-sync-interval-for-origin</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-effective-minimum-sync-interval-for-origin">4.2. Periodic Sync Scheduler</a>
            <li><a href="#ref-for-effective-minimum-sync-interval-for-origin①">7.1. Process periodic sync
                    registrations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="minimum-periodic-sync-interval-for-any-origin">
        <b><a
                href="#minimum-periodic-sync-interval-for-any-origin">#minimum-periodic-sync-interval-for-any-origin</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-minimum-periodic-sync-interval-for-any-origin">4.2. Periodic Sync Scheduler</a>
            <li><a href="#ref-for-minimum-periodic-sync-interval-for-any-origin①">4.3. Constants</a> <a
                    href="#ref-for-minimum-periodic-sync-interval-for-any-origin②">(2)</a> <a
                    href="#ref-for-minimum-periodic-sync-interval-for-any-origin③">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="minimum-periodic-sync-interval-across-origins">
        <b><a
                href="#minimum-periodic-sync-interval-across-origins">#minimum-periodic-sync-interval-across-origins</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-minimum-periodic-sync-interval-across-origins">4.3. Constants</a> <a
                    href="#ref-for-minimum-periodic-sync-interval-across-origins①">(2)</a>
            <li><a href="#ref-for-minimum-periodic-sync-interval-across-origins②">7.1. Process periodic sync
                    registrations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="maximum-number-of-retries">
        <b><a href="#maximum-number-of-retries">#maximum-number-of-retries</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-maximum-number-of-retries">4.3. Constants</a>
            <li><a href="#ref-for-maximum-number-of-retries①">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="process-periodic-sync-registrations">
        <b><a href="#process-periodic-sync-registrations">#process-periodic-sync-registrations</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-process-periodic-sync-registrations">4.2. Periodic Sync Scheduler</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="respond-to-permission-revocation">
        <b><a href="#respond-to-permission-revocation">#respond-to-permission-revocation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-respond-to-permission-revocation">7.2. Respond to permission revocation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="serviceworkerregistration-periodic-sync-manager">
        <b><a
                href="#serviceworkerregistration-periodic-sync-manager">#serviceworkerregistration-periodic-sync-manager</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serviceworkerregistration-periodic-sync-manager">8.2. Extensions to the
                    ServiceWorkerRegistration interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-serviceworkerregistration-periodicsync">
        <b><a
                href="#dom-serviceworkerregistration-periodicsync">#dom-serviceworkerregistration-periodicsync</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-serviceworkerregistration-periodicsync">8.2. Extensions to the
                    ServiceWorkerRegistration interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodicsyncmanager">
        <b><a href="#periodicsyncmanager">#periodicsyncmanager</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodicsyncmanager">8.2. Extensions to the ServiceWorkerRegistration interface</a> <a
                    href="#ref-for-periodicsyncmanager①">(2)</a> <a href="#ref-for-periodicsyncmanager②">(3)</a>
            <li><a href="#ref-for-periodicsyncmanager③">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-periodicsyncmanager④">(2)</a> <a href="#ref-for-periodicsyncmanager⑤">(3)</a> <a
                    href="#ref-for-periodicsyncmanager⑥">(4)</a> <a href="#ref-for-periodicsyncmanager⑦">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-backgroundsyncoptions">
        <b><a href="#dictdef-backgroundsyncoptions">#dictdef-backgroundsyncoptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-backgroundsyncoptions">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundsyncoptions-mininterval">
        <b><a href="#dom-backgroundsyncoptions-mininterval">#dom-backgroundsyncoptions-mininterval</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundsyncoptions-mininterval">8.3. PeriodicSyncManager interface</a> <a
                    href="#ref-for-dom-backgroundsyncoptions-mininterval①">(2)</a> <a
                    href="#ref-for-dom-backgroundsyncoptions-mininterval②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodicsyncmanager-service-worker-registration">
        <b><a
                href="#periodicsyncmanager-service-worker-registration">#periodicsyncmanager-service-worker-registration</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-periodicsyncmanager-service-worker-registration">8.2. Extensions to the
                    ServiceWorkerRegistration interface</a>
            <li><a href="#ref-for-periodicsyncmanager-service-worker-registration①">8.3. PeriodicSyncManager
                    interface</a> <a href="#ref-for-periodicsyncmanager-service-worker-registration②">(2)</a> <a
                    href="#ref-for-periodicsyncmanager-service-worker-registration③">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-periodicsyncmanager-register">
        <b><a href="#dom-periodicsyncmanager-register">#dom-periodicsyncmanager-register</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-periodicsyncmanager-register">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-periodicsyncmanager-gettags">
        <b><a href="#dom-periodicsyncmanager-gettags">#dom-periodicsyncmanager-gettags</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-periodicsyncmanager-gettags">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-periodicsyncmanager-unregister">
        <b><a href="#dom-periodicsyncmanager-unregister">#dom-periodicsyncmanager-unregister</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-periodicsyncmanager-unregister">8.3. PeriodicSyncManager interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodicsync-event">
        <b><a href="#periodicsync-event">#periodicsync-event</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodicsync-event">1.1. Example</a>
            <li><a href="#ref-for-periodicsync-event①">2. Concepts</a>
            <li><a href="#ref-for-periodicsync-event②">4.1. Periodic sync registration</a> <a
                    href="#ref-for-periodicsync-event③">(2)</a>
            <li><a href="#ref-for-periodicsync-event④">4.2. Periodic Sync Scheduler</a> <a
                    href="#ref-for-periodicsync-event⑤">(2)</a>
            <li><a href="#ref-for-periodicsync-event⑥">4.3. Constants</a> <a href="#ref-for-periodicsync-event⑦">(2)</a>
                <a href="#ref-for-periodicsync-event⑧">(3)</a> <a href="#ref-for-periodicsync-event⑨">(4)</a>
            <li><a href="#ref-for-periodicsync-event①⓪">5.1. Permission</a>
            <li><a href="#ref-for-periodicsync-event①①">5.2. Location Tracking</a> <a
                    href="#ref-for-periodicsync-event①②">(2)</a> <a href="#ref-for-periodicsync-event①③">(3)</a>
            <li><a href="#ref-for-periodicsync-event①④">5.3. History Leaking</a> <a
                    href="#ref-for-periodicsync-event①⑤">(2)</a> <a href="#ref-for-periodicsync-event①⑥">(3)</a> <a
                    href="#ref-for-periodicsync-event①⑦">(4)</a>
            <li><a href="#ref-for-periodicsync-event①⑧">6. Resource Usage</a> <a
                    href="#ref-for-periodicsync-event①⑨">(2)</a>
            <li><a href="#ref-for-periodicsync-event②⓪">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-periodicsynceventinit">
        <b><a href="#dictdef-periodicsynceventinit">#dictdef-periodicsynceventinit</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-periodicsynceventinit">8.4. The periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodicsyncevent">
        <b><a href="#periodicsyncevent">#periodicsyncevent</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodicsyncevent">8.4. The periodicsync event</a>
            <li><a href="#ref-for-periodicsyncevent①">8.4.1. Fire a periodicsync event</a> <a
                    href="#ref-for-periodicsyncevent②">(2)</a> <a href="#ref-for-periodicsyncevent③">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="periodicsyncevent-tag">
        <b><a href="#periodicsyncevent-tag">#periodicsyncevent-tag</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-periodicsyncevent-tag">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-periodicsyncevent-tag">
        <b><a href="#dom-periodicsyncevent-tag">#dom-periodicsyncevent-tag</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-periodicsyncevent-tag">8.4. The periodicsync event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="fire-a-periodicsync-event">
        <b><a href="#fire-a-periodicsync-event">#fire-a-periodicsync-event</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-fire-a-periodicsync-event">7.1. Process periodic sync registrations</a>
            <li><a href="#ref-for-fire-a-periodicsync-event①">8.4.1. Fire a periodicsync event</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script>/* script-mdn-anno */

        document.body.addEventListener("click", (e) => {
            if (e.target.closest(".mdn-anno-btn")) {
                e.target.closest(".mdn-anno").classList.toggle("wrapped");
            }
        });
    </script>
    <script>/* script-var-click-highlighting */

        document.addEventListener("click", e => {
            if (e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        {
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>