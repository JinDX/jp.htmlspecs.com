<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>リサイズオブザーバー</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="exploring" name="csswg-work-status">
    <meta content="WD" name="w3c-status">
    <meta content="This specification describes an API for observing changes to Element&apos;s size." name="abstract">
    <link href="https://www.w3.org/TR/resize-observer/default.css" rel="stylesheet" type="text/css">
    <meta content="Bikeshed version a8675e8c315faa3f78e47e67c76649fa9a07ee9b" name="generator">
    <link href="https://www.w3.org/TR/resize-observer/" rel="canonical">
    <meta content="c5d81c7002a74ecfc2411af0033516de9a8ca224" name="document-revision">
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-selflinks */

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: gray;
            color: white;
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: black;
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: #005a9c;
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: black;
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-syntax-highlighting */
        pre.idl.highlight {
            color: #708090;
        }

        .highlight:not(.idl) {
            background: hsl(24, 20%, 95%);
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD" rel="stylesheet" type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">リサイズオブザーバー</h1>
        <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">W3C 初公開ワーキングドラフト, <time
                    class="dt-updated" datetime="2020-02-11">2020年2月11日</time></span></h2>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>このバージョン:
                <dd><a class="u-url"
                        href="https://www.w3.org/TR/2020/WD-resize-observer-1-20200211/">https://www.w3.org/TR/2020/WD-resize-observer-1-20200211/</a>
                <dt>最新公開バージョン:
                <dd><a href="https://www.w3.org/TR/resize-observer-1/">https://www.w3.org/TR/resize-observer-1/</a>
                <dt>編集者ドラフト:
                <dd><a href="https://drafts.csswg.org/resize-observer/">https://drafts.csswg.org/resize-observer/</a>
                <dt class="editor">編集者:
                <dd class="editor p-author h-card vcard" data-editor-id="92454"><a class="p-name fn u-email email"
                        href="mailto:atotic@google.com">Aleks Totic</a> (<span class="p-org org">Google</span>)
                <dd class="editor p-author h-card vcard" data-editor-id="69511"><a class="p-name fn u-email email"
                        href="mailto:gwhit@microsoft.com">Greg Whitworth</a> (<span class="p-org org">Microsoft</span>)
                <dt>この仕様への編集提案:
                <dd><a href="https://github.com/w3c/csswg-drafts/blob/master/resize-observer-1/Overview.bs">GitHub
                        編集者</a>
                <dt>課題管理:
                <dd><a href="https://github.com/w3c/csswg-drafts/labels/resize-observer-1">GitHub 課題</a>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2020 <a
                href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
                href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
                href="https://www.ercim.eu/"><abbr
                    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a
                href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document
                license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p>本仕様は、Elementのサイズ変更を監視するためのAPIについて説明します。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a>は、構造化文書（HTMLやXMLなど）の画面、紙などへのレンダリングを記述する言語です。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">この文書のステータス</span>
    </h2>
    <div data-fill-with="status">
        <p><em>このセクションは、本書が公開された時点でのステータスについて説明しています。他の文書が本書に取って代わる場合があります。現行のW3C出版物や本技術報告書の最新版の一覧は、<a
                    href="https://www.w3.org/TR/">W3C技術報告書インデックス（https://www.w3.org/TR/）</a>で確認できます。</em> </p>
        <p>本書は<b>初公開ワーキングドラフト</b>です。</p>
        <p>初公開ワーキングドラフトとして公開されたことは、W3C会員による承認を意味するものではありません。本書はドラフト文書であり、随時更新、置換、廃止される可能性があります。進行中の作業以外のものとして本書を引用することは不適切です。
        </p>
        <p>本仕様の議論には<a href="https://github.com/w3c/csswg-drafts/issues">GitHub
                Issues</a>が推奨されています。課題を提出する際はタイトルに「resize-observer」と記載してください。例：「[resize-observer] <i
                data-lt>…コメント要約…</i>」。すべての課題やコメントは<a
                href="https://lists.w3.org/Archives/Public/public-css-archive/">アーカイブ</a>されており、<a
                href="https://lists.w3.org/Archives/Public/www-style/">過去のアーカイブ</a>も存在します。</p>
        <p>本書は<a href="https://www.w3.org/Style/CSS/">CSS作業グループ</a>によって作成されました。</p>
        <p>本書は<a
                href="https://www.w3.org/Consortium/Patent-Policy/">W3C特許ポリシー</a>に基づいて運営されるグループによって作成されました。W3Cは、グループの成果物に関連してなされた特許開示の<a
                href="https://www.w3.org/2004/01/pp-impl/32061/status"
                rel="disclosure">公開リスト</a>を管理しています。そのページには特許開示の方法も記載されています。特許の存在を事実として知っている個人は、その特許が<a
                href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">必須クレーム</a>を含むと考える場合、<a
                href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">W3C特許ポリシー第6節</a>に従って情報を開示しなければなりません。
        </p>
        <p>本書は<a href="https://www.w3.org/2019/Process-20190301/"
                id="w3c_process_revision">2019年3月1日改訂W3Cプロセス文書</a>に準拠しています。</p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">はじめに</span></a>
            <li>
                <a href="#api"><span class="secno">2</span> <span class="content">Resize Observer API</span></a>
                <ol class="toc">
                    <li><a href="#resize-observer-interface"><span class="secno">2.1</span> <span
                                class="content">ResizeObserverインターフェイス</span></a>
                    <li><a href="#resize-observer-callback"><span class="secno">2.2</span> <span
                                class="content">ResizeObserverCallback</span></a>
                    <li><a href="#resize-observer-entry-interface"><span class="secno">2.3</span> <span
                                class="content">ResizeObserverEntry</span></a>
                </ol>
            <li>
                <a href="#processing-model"><span class="secno">3</span> <span class="content">処理モデル</span></a>
                <ol class="toc">
                    <li><a href="#resize-observation-interface"><span class="secno">3.1</span> <span
                                class="content">ResizeObservation例構造体</span></a>
                    <li>
                        <a href="#internal-slot-definitions"><span class="secno">3.2</span> <span
                                class="content">内部スロット定義</span></a>
                        <ol class="toc">
                            <li><a href="#document-slots"><span class="secno">3.2.1</span> <span
                                        class="content">Document</span></a>
                            <li><a href="#resize-observer-slots"><span class="secno">3.2.2</span> <span
                                        class="content">ResizeObserver</span></a>
                        </ol>
                    <li>
                        <a href="#css-definitions"><span class="secno">3.3</span> <span class="content">CSS定義</span></a>
                        <ol class="toc">
                            <li><a href="#content-rect-h"><span class="secno">3.3.1</span> <span class="content">content
                                        rect</span></a>
                        </ol>
                    <li>
                        <a href="#algorithms"><span class="secno">3.4</span> <span class="content">アルゴリズム</span></a>
                        <ol class="toc">
                            <li><a href="#gather-active-observations-h"><span class="secno">3.4.1</span> <span
                                        class="content">指定された深さでアクティブな観測を収集</span></a>
                            <li><a href="#has-active-observations-h"><span class="secno">3.4.2</span> <span
                                        class="content">アクティブな観測があるか</span></a>
                            <li><a href="#has-skipped-observations-h"><span class="secno">3.4.3</span> <span
                                        class="content">スキップされた観測があるか</span></a>
                            <li><a href="#create-and-populate-resizeobserverentry-h"><span class="secno">3.4.4</span>
                                    <span class="content">ResizeObserverEntryの作成と設定</span></a>
                            <li><a href="#broadcast-resize-notifications-h"><span class="secno">3.4.5</span> <span
                                        class="content">アクティブな観測の通知</span></a>
                            <li><a href="#deliver-resize-error"><span class="secno">3.4.6</span> <span
                                        class="content">Resize Loop Errorの通知</span></a>
                            <li><a href="#calculate-depth-for-node-h"><span class="secno">3.4.7</span> <span
                                        class="content">ノードの深さを計算</span></a>
                            <li><a href="#calculate-box-size"><span class="secno">3.4.8</span> <span
                                        class="content">targetと監視ボックスを与えてボックスサイズを計算</span></a>
                        </ol>
                    <li><a href="#lifetime"><span class="secno">3.5</span> <span
                                class="content">ResizeObserverのライフタイム</span></a>
                    <li>
                        <a href="#integrations"><span class="secno">3.6</span> <span class="content">外部仕様との統合</span></a>
                        <ol class="toc">
                            <li><a href="#html-event-loop"><span class="secno">3.6.1</span> <span
                                        class="content">HTML処理モデル：イベントループ</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#conformance"><span class="secno"></span> <span class="content">適合性</span></a>
                <ol class="toc">
                    <li><a href="#document-conventions"><span class="secno"></span> <span
                                class="content">文書規約</span></a>
                    <li><a href="#conform-classes"><span class="secno"></span> <span class="content">適合クラス</span></a>
                    <li>
                        <a href="#conform-responsible"><span class="secno"></span> <span
                                class="content">CSSの責任ある実装の要件</span></a>
                        <ol class="toc">
                            <li><a href="#conform-partial"><span class="secno"></span> <span
                                        class="content">部分的な実装</span></a>
                            <li><a href="#conform-future-proofing"><span class="secno"></span> <span class="content">
                                        不安定・独自機能の実装</span></a>
                            <li><a href="#conform-testing"><span class="secno"></span> <span class="content">
                                        CRレベル機能の実装</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義される用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照による定義用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範的参考文献</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">はじめに</span><a class="self-link" href="#intro"></a></h2>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p>レスポンシブWebコンポーネントは、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code>のサイズ変更に応答する必要があります。例として、地図を表示する<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①">Element</a></code>があります。
        </p>
        <ul>
            <li data-md>
                <p>地図を表示する際、内容ボックスを<code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a></code>タイルでタイル状にします。
                </p>
            <li data-md>
                <p>サイズが変更された場合、再度タイル処理が必要になります。</p>
        </ul>
        <p>レスポンシブWebアプリケーションは、<a data-link-type="dfn" href="https://www.w3.org/TR/css3-positioning/#viewport"
                id="ref-for-viewport">ビューポート</a>のサイズ変更にすでに対応できます。
            これはCSSメディアクエリやwindow.<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view/#eventdef-window-resize" id="ref-for-eventdef-window-resize">resize</a></code>イベントで実現します。
        </p>
        <p>ResizeObserver APIは、Elementのサイズ変更を監視するためのインターフェイスです。これはwindow.<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view/#eventdef-window-resize" id="ref-for-eventdef-window-resize①">resize</a></code>イベントのElement版です。
        </p>
        <p>ResizeObserverの通知は、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element④">Element</a></code>のサイズ変更に対応するために利用できます。これらの観測に関する興味深い事実：
        </p>
        <ul>
            <li data-md>
                <p>監視対象のElementがDOMに挿入・削除されたとき、観測が発火します。</p>
            <li data-md>
                <p>監視対象のElementの<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                        id="ref-for-propdef-display">display</a>がnoneに設定されたとき、観測が発火します。</p>
            <li data-md>
                <p>非置換インラインElementには観測は発火しません。</p>
            <li data-md>
                <p>CSSのtransformによる変更では観測は発火しません。</p>
            <li data-md>
                <p>監視開始時、Elementが<a href="https://html.spec.whatwg.org/#being-rendered">描画中</a>でサイズが0,0でない場合、観測が発火します。
                </p>
        </ul>
        <div class="example" id="example-ecce5bcd">
            <a class="self-link" href="#example-ecce5bcd"></a>
            <pre class="highlight"><c- p>&lt;</c-><c- f>canvas</c-> <c- e>id</c-><c- o>=</c-><c- s>"elipse"</c-> <c- e>style</c-><c- o>=</c-><c- s>"display:block"</c-><c- p>>&lt;/</c-><c- f>canvas</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>"menu"</c-> <c- e>style</c-><c- o>=</c-><c- s>"display:block;width:100px"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>img</c-> <c- e>src</c-><c- o>=</c-><c- s>"hamburger.jpg"</c-> <c- e>style</c-><c- o>=</c-><c- s>"width:24px;height:24px"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>p</c-> <c- e>class</c-><c- o>=</c-><c- s>"title"</c-><c- p>></c->メニュータイトル<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <pre class="highlight"><c- c1>// リサイズ時、elipseはキャンバス内に楕円を描画する</c->
document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#elipse'</c-><c- p>).</c->handleResize <c- o>=</c-> entry <c- p>=></c-> <c- p>{</c->
    entry<c- p>.</c->target<c- p>.</c->width <c- o>=</c-> entry<c- p>.</c->borderBoxSize<c- p>[</c-><c- mi>0</c-><c- p>].</c->inlineSize<c- p>;</c->
    entry<c- p>.</c->target<c- p>.</c->height <c- o>=</c-> entry<c- p>.</c->borderBoxSize<c- p>[</c-><c- mi>0</c-><c- p>].</c->blockSize<c- p>;</c->
    <c- a>let</c-> rx <c- o>=</c-> Math<c- p>.</c->floor<c- p>(</c->entry<c- p>.</c->target<c- p>.</c->width <c- o>/</c-> <c- mi>2</c-><c- p>);</c->
    <c- a>let</c-> ry <c- o>=</c-> Math<c- p>.</c->floor<c- p>(</c->entry<c- p>.</c->target<c- p>.</c->height <c- o>/</c-> <c- mi>2</c-><c- p>);</c->
    <c- a>let</c-> ctx <c- o>=</c-> entry<c- p>.</c->target<c- p>.</c->getContext<c- p>(</c-><c- t>'2d'</c-><c- p>);</c->
    ctx<c- p>.</c->beginPath<c- p>();</c->
    ctx<c- p>.</c->ellipse<c- p>(</c->rx<c- p>,</c-> ry<c- p>,</c-> rx<c- p>,</c-> ry<c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>2</c-> <c- o>*</c-> Math<c- p>.</c->PI<c- p>);</c->
    ctx<c- p>.</c->stroke<c- p>();</c->
<c- p>}</c->
<c- c1>// リサイズ時、幅によってタイトルの表示・非表示を切り替える</c->
document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#menu'</c-><c- p>).</c->handleResize <c- o>=</c-> entry <c- p>=></c-> <c- p>{</c->
    <c- a>let</c-> title <c- o>=</c-> entry<c- p>.</c->target<c- p>.</c->querySelector<c- p>(</c-><c- u>".title"</c-><c- p>)</c->
    <c- k>if</c-> <c- p>(</c->entry<c- p>.</c->borderBoxSize<c- p>[</c-><c- mi>0</c-><c- p>].</c->inlineSize <c- o>&lt;</c-> <c- mi>40</c-><c- p>)</c->
        title<c- p>.</c->style<c- p>.</c->display <c- o>=</c-> <c- u>"none"</c-><c- p>;</c->
    <c- k>else</c->
        title<c- p>.</c->style<c- p>.</c->display <c- o>=</c-> <c- u>"inline-block"</c-><c- p>;</c->
<c- p>}</c->

<c- a>var</c-> ro <c- o>=</c-> <c- k>new</c-> ResizeObserver<c- p>(</c-> entries <c- p>=></c-> <c- p>{</c->
  <c- k>for</c-> <c- p>(</c-><c- a>let</c-> entry <c- k>of</c-> entries<c- p>)</c-> <c- p>{</c->
    <c- a>let</c-> cs <c- o>=</c-> window<c- p>.</c->getComputedStyle<c- p>(</c->entry<c- p>.</c->target<c- p>);</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'監視中の要素:'</c-><c- p>,</c-> entry<c- p>.</c->target<c- p>);</c->
    console<c- p>.</c->log<c- p>(</c->entry<c- p>.</c->contentRect<c- p>.</c->top<c- p>,</c-><c- t>' は '</c-><c- p>,</c-> cs<c- p>.</c->paddingTop<c- p>);</c->
    console<c- p>.</c->log<c- p>(</c->entry<c- p>.</c->contentRect<c- p>.</c->left<c- p>,</c-><c- t>' は '</c-><c- p>,</c-> cs<c- p>.</c->paddingLeft<c- p>);</c->
    console<c- p>.</c->log<c- p>(</c->entry<c- p>.</c->borderBoxSize<c- p>[</c-><c- mi>0</c-><c- p>].</c->inlineSize<c- p>,</c-><c- t>' は '</c-><c- p>,</c-> cs<c- p>.</c->width<c- p>);</c->
    console<c- p>.</c->log<c- p>(</c->entry<c- p>.</c->borderBoxSize<c- p>[</c-><c- mi>0</c-><c- p>].</c->blockSize<c- p>,</c-><c- t>' は '</c-><c- p>,</c-> cs<c- p>.</c->height<c- p>);</c->
    <c- k>if</c-> <c- p>(</c->entry<c- p>.</c->target<c- p>.</c->handleResize<c- p>)</c->
        entry<c- p>.</c->target<c- p>.</c->handleResize<c- p>(</c->entry<c- p>);</c->
  <c- p>}</c->
<c- p>});</c->
ro<c- p>.</c->observe<c- p>(</c->document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#elipse'</c-><c- p>));</c->
ro<c- p>.</c->observe<c- p>(</c->document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#menu'</c-><c- p>));</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="2" id="api"><span class="secno">2. </span><span class="content">Resize
                Observer API</span><a class="self-link" href="#api"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="resize-observer-interface"><span class="secno">2.1.
            </span><span class="content">ResizeObserverインターフェイス</span><a class="self-link"
                href="#resize-observer-interface"></a></h3>
        <p>ResizeObserverインターフェイスは、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑤">Element</a></code>のサイズ変更を監視するために使われます。
        </p>
        <p>これは<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver" id="ref-for-mutationobserver">MutationObserver</a></code>や<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/intersection-observer/#intersection-observer-interface" id="ref-for-intersection-observer-interface">IntersectionObserver</a></code>を参考に設計されています。
        </p>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-resizeobserverboxoptions"><code><c- g>ResizeObserverBoxOptions</c-></code></dfn> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverBoxOptions" data-dfn-type="enum-value" data-export id="dom-resizeobserverboxoptions-border-box"><code><c- s>"border-box"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverBoxOptions" data-dfn-type="enum-value" data-export id="dom-resizeobserverboxoptions-content-box"><code><c- s>"content-box"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverBoxOptions" data-dfn-type="enum-value" data-export id="dom-resizeobserverboxoptions-device-pixel-content-box"><code><c- s>"device-pixel-content-box"</c-></code></dfn>
};
</pre>
        <p>ResizeObserverは、さまざまなCSSサイズを監視できます：</p>
        <ul>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverboxoptions-border-box" id="ref-for-dom-resizeobserverboxoptions-border-box">border-box</a></code>
                    ：CSS2で定義される<a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/box.html#box-border-area"
                        id="ref-for-box-border-area">ボーダー領域</a>のサイズ。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverboxoptions-content-box" id="ref-for-dom-resizeobserverboxoptions-content-box">content-box</a></code>
                    ：CSS2で定義される<a data-link-type="dfn" href="https://drafts.csswg.org/css-box-3/#content-area"
                        id="ref-for-content-area">内容領域</a>のサイズ。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverboxoptions-device-pixel-content-box" id="ref-for-dom-resizeobserverboxoptions-device-pixel-content-box">device-pixel-content-box</a></code>
                    ：CSS2で定義される<a data-link-type="dfn" href="https://drafts.csswg.org/css-box-3/#content-area"
                        id="ref-for-content-area①">内容領域</a>のサイズをデバイスピクセル単位で表したものです。要素や祖先へのCSS変換適用前の値です。
                    このサイズは整数値でなければなりません。</p>
        </ul>
        <p class="note" role="note"> <code
                class="idl"><a data-link-type="idl" href="#dom-resizeobserverboxoptions-device-pixel-content-box" id="ref-for-dom-resizeobserverboxoptions-device-pixel-content-box①">device-pixel-content-box</a></code>
            は、<a data-link-type="dfn" href="https://www.w3.org/TR/cssom-view-1/#dom-window-devicepixelratio"
                id="ref-for-dom-window-devicepixelratio">devicePixelRatio</a>を<code
                class="idl"><a data-link-type="idl" href="#dom-resizeobserverboxoptions-content-box" id="ref-for-dom-resizeobserverboxoptions-content-box①">content-box</a></code>
            のサイズに掛けて概算できます。
            ただし、ブラウザ固有のサブピクセルスナップ挙動のため、
            著者はこのスケールされた<code
                class="idl"><a data-link-type="idl" href="#dom-resizeobserverboxoptions-content-box" id="ref-for-dom-resizeobserverboxoptions-content-box②">content-box</a></code>
            サイズをどのように丸めるべきか判別できません。
            UAが要素のデバイスピクセルボックスを算出する方法は実装依存です。
            一例として、ボックスサイズと位置にデバイスピクセル比を掛け、その結果の浮動小数点のサイズと位置を整数値に丸め、描画品質を最大化する方法が考えられます。 </p>
        <p>このサイズはターゲットの位置変更の影響を受けるため、他のサイズより監視コストが高くなる傾向があります。</p>
        <p></p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-resizeobserveroptions"><code><c- g>ResizeObserverOptions</c-></code></dfn> {
    <a class="n" data-link-type="idl-name" href="#enumdef-resizeobserverboxoptions" id="ref-for-enumdef-resizeobserverboxoptions"><c- n>ResizeObserverBoxOptions</c-></a> <dfn class="idl-code" data-default="&quot;content-box&quot;" data-dfn-for="ResizeObserverOptions" data-dfn-type="dict-member" data-export data-type="ResizeObserverBoxOptions " id="dom-resizeobserveroptions-box"><code><c- g>box</c-></code><a class="self-link" href="#dom-resizeobserveroptions-box"></a></dfn> = "content-box";
};
</pre>
        <p>このセクションは規範的ではありません。著者は複数のCSSボックスを監視したい場合があります。
            この場合、複数のResizeObserverを使う必要があります。</p>
        <pre class="highlight"><c- c1>// content-boxを監視</c->
ro<c- p>.</c->observe<c- p>(</c->document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#menu'</c-><c- p>),</c-> <c- p>{</c-> box<c- o>:</c-> <c- t>'content-box'</c-> <c- p>});</c->

<c- c1>// border-boxのみを監視。前回の監視は置き換えられる。</c->
ro1<c- p>.</c->observe<c- p>(</c->document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#menu'</c-><c- p>),</c-> <c- p>{</c-> box<c- o>:</c-> <c- t>'border-box'</c-> <c- p>});</c->
</pre>
        <p class="note" role="note">これはイベント発火時に定義されたコールバックに返されるボックス寸法の種類には影響しません。著者がレイアウト変更を監視したいボックス種別を定義するだけです。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->),
 <a class="idl-code" data-link-type="constructor" href="#dom-resizeobserver-resizeobserver" id="ref-for-dom-resizeobserver-resizeobserver"><c- g>Constructor</c-></a>(<a class="n" data-link-type="idl-name" href="#callbackdef-resizeobservercallback" id="ref-for-callbackdef-resizeobservercallback"><c- n>ResizeObserverCallback</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObserver/ResizeObserver(callback)" data-dfn-type="argument" data-export id="dom-resizeobserver-resizeobserver-callback-callback"><code><c- g>callback</c-></code><a class="self-link" href="#dom-resizeobserver-resizeobserver-callback-callback"></a></dfn>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="resizeobserver"><code><c- g>ResizeObserver</c-></code></dfn> {
    <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-resizeobserver-observe" id="ref-for-dom-resizeobserver-observe"><c- g>observe</c-></a>(<a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑥"><c- n>Element</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObserver/observe(target, options), ResizeObserver/observe(target)" data-dfn-type="argument" data-export id="dom-resizeobserver-observe-target-options-target"><code><c- g>target</c-></code><a class="self-link" href="#dom-resizeobserver-observe-target-options-target"></a></dfn>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-resizeobserveroptions" id="ref-for-dictdef-resizeobserveroptions"><c- n>ResizeObserverOptions</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObserver/observe(target, options), ResizeObserver/observe(target)" data-dfn-type="argument" data-export id="dom-resizeobserver-observe-target-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-resizeobserver-observe-target-options-options"></a></dfn>);
    <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-resizeobserver-unobserve" id="ref-for-dom-resizeobserver-unobserve"><c- g>unobserve</c-></a>(<a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑦"><c- n>Element</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObserver/unobserve(target)" data-dfn-type="argument" data-export id="dom-resizeobserver-unobserve-target-target"><code><c- g>target</c-></code><a class="self-link" href="#dom-resizeobserver-unobserve-target-target"></a></dfn>);
    <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-resizeobserver-disconnect" id="ref-for-dom-resizeobserver-disconnect"><c- g>disconnect</c-></a>();
};
</pre>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="constructor"
                        data-export data-lt="ResizeObserver(callback)"
                        id="dom-resizeobserver-resizeobserver"><code>new ResizeObserver(callback)</code></dfn>
                <dd data-md>
                    <ol>
                        <li data-md>
                            <p><var>this</var>を新しい<code
                                    class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver">ResizeObserver</a></code>オブジェクトとする。
                            </p>
                        <li data-md>
                            <p><var>this</var>.<var>callback</var>内部スロットにcallbackをセットする。</p>
                        <li data-md>
                            <p><var>this</var>.<var>observationTargets</var>内部スロットに空リストをセットする。</p>
                        <li data-md>
                            <p><code
                                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>.<var>resizeObservers</var>スロットに<var>this</var>を追加する。
                            </p>
                    </ol>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="method"
                        data-export data-lt="observe(target, options)|observe(target)"
                        id="dom-resizeobserver-observe"><code>observe(target, options)</code></dfn>
                <dd data-md>
                    <p>targetを監視対象要素リストに追加します。</p>
                    <ol>
                        <li data-md>
                            <p><var>target</var>が<code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobserver-observationtargets" id="ref-for-dom-resizeobserver-observationtargets">observationTargets</a></code>スロットに存在する場合、unobserve(<var>target</var>)を呼び出す。
                            </p>
                        <li data-md>
                            <p><var>resizeObservation</var>を新しい<code
                                    class="idl"><a data-link-type="idl" href="#resizeobservation" id="ref-for-resizeobservation">ResizeObservation</a></code>(<var>target</var>,
                                <var>options</var>)とする。
                            </p>
                        <li data-md>
                            <p><var>resizeObservation</var>を<var>observationTargets</var>スロットに追加する。</p>
                    </ol>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="method"
                        data-export id="dom-resizeobserver-unobserve"><code>unobserve(target)</code></dfn>
                <dd data-md>
                    <p>targetを監視対象要素リストから削除します。</p>
                    <ol>
                        <li data-md>
                            <p><var>observation</var>を<code
                                    class="idl"><a data-link-type="idl" href="#resizeobservation" id="ref-for-resizeobservation①">ResizeObservation</a></code>で、<code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobserver-observationtargets" id="ref-for-dom-resizeobserver-observationtargets①">observationTargets</a></code>内のtargetスロットが<var>target</var>なものとする。
                            </p>
                        <li data-md>
                            <p><var>observation</var>が見つからなければ戻る。</p>
                        <li data-md>
                            <p><code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobserver-observationtargets" id="ref-for-dom-resizeobserver-observationtargets②">observationTargets</a></code>から<var>observation</var>を削除する。
                            </p>
                    </ol>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="method"
                        data-export id="dom-resizeobserver-disconnect"><code>disconnect()</code></dfn>
                <dd data-md>
                    <ol>
                        <li data-md>
                            <p><code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobserver-observationtargets" id="ref-for-dom-resizeobserver-observationtargets③">observationTargets</a></code>リストをクリアする。
                            </p>
                        <li data-md>
                            <p><code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobserver-activetargets" id="ref-for-dom-resizeobserver-activetargets">activeTargets</a></code>リストをクリアする。
                            </p>
                    </ol>
            </dl>
        </div>
        <h3 class="heading settled" data-level="2.2" id="resize-observer-callback"><span class="secno">2.2. </span><span
                class="content">ResizeObserverCallback</span><a class="self-link" href="#resize-observer-callback"></a>
        </h3>
        <pre class="idl highlight def"><c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-resizeobservercallback"><code><c- g>ResizeObserverCallback</c-></code></dfn> = <c- b>void</c-> (<c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserverentry" id="ref-for-resizeobserverentry"><c- n>ResizeObserverEntry</c-></a>> <dfn class="idl-code" data-dfn-for="ResizeObserverCallback" data-dfn-type="argument" data-export id="dom-resizeobservercallback-entries"><code><c- g>entries</c-></code><a class="self-link" href="#dom-resizeobservercallback-entries"></a></dfn>, <a class="n" data-link-type="idl-name" href="#resizeobserver" id="ref-for-resizeobserver①"><c- n>ResizeObserver</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObserverCallback" data-dfn-type="argument" data-export id="dom-resizeobservercallback-observer"><code><c- g>observer</c-></code><a class="self-link" href="#dom-resizeobservercallback-observer"></a></dfn>);
</pre>
        <p>このコールバックは<code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver②">ResizeObserver</a></code>の通知を配信します。<a
                data-link-type="dfn" href="#broadcast-active-observations"
                id="ref-for-broadcast-active-observations">アクティブな観測の通知</a>アルゴリズムによって呼び出されます。</p>
        <h3 class="heading settled" data-level="2.3" id="resize-observer-entry-interface"><span class="secno">2.3.
            </span><span class="content">ResizeObserverEntry</span><a class="self-link"
                href="#resize-observer-entry-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="resizeobserverentry"><code><c- g>ResizeObserverEntry</c-></code></dfn> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑧"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-resizeobserverentry-target" id="ref-for-dom-resizeobserverentry-target"><c- g>target</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly"><c- n>DOMRectReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly" href="#dom-resizeobserverentry-contentrect" id="ref-for-dom-resizeobserverentry-contentrect"><c- g>contentRect</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobserverentry-borderboxsize" id="ref-for-dom-resizeobserverentry-borderboxsize"><c- g>borderBoxSize</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize①"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobserverentry-contentboxsize" id="ref-for-dom-resizeobserverentry-contentboxsize"><c- g>contentBoxSize</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize②"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobserverentry-devicepixelcontentboxsize" id="ref-for-dom-resizeobserverentry-devicepixelcontentboxsize"><c- g>devicePixelContentBoxSize</c-></a>;
};
</pre>
        <p class="note" role="note">
            contentRectはResizeObserverのインキュベーション段階からのものであり、現行のウェブ互換性のためだけに含まれています。将来のレベルでは非推奨になる可能性があります。</p>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-resizeobserverentry-target"><code>target</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"
                            id="ref-for-element⑨">Element</a>, 読み取り専用</span>
                <dd data-md>
                    <p>サイズが変更された<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⓪">Element</a></code>です。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-resizeobserverentry-contentrect"><code>contentRect</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly"
                            id="ref-for-domrectreadonly①">DOMRectReadOnly</a>, 読み取り専用</span>
                <dd data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①①">Element</a></code>の<code><a data-link-type="dfn" href="#content-rect" id="ref-for-content-rect">content rect</a></code>であり、
                        <code
                            class="idl"><a data-link-type="idl" href="#callbackdef-resizeobservercallback" id="ref-for-callbackdef-resizeobservercallback①">ResizeObserverCallback</a></code>が呼び出された時点の値です。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-resizeobserverentry-borderboxsize"><code>borderBoxSize</code></dfn>, <span> 型
                        sequence&lt;<a data-link-type="idl-name" href="#resizeobserversize"
                            id="ref-for-resizeobserversize③">ResizeObserverSize</a>>, 読み取り専用</span>
                <dd data-md>
                    <p>シーケンスであり、<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①②">Element</a></code>の
                        <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-3/#border-box"
                            id="ref-for-border-box">border box</a>サイズが<code
                            class="idl"><a data-link-type="idl" href="#callbackdef-resizeobservercallback" id="ref-for-callbackdef-resizeobservercallback②">ResizeObserverCallback</a></code>呼び出し時に格納されます。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-resizeobserverentry-contentboxsize"><code>contentBoxSize</code></dfn>, <span> 型
                        sequence&lt;<a data-link-type="idl-name" href="#resizeobserversize"
                            id="ref-for-resizeobserversize④">ResizeObserverSize</a>>, 読み取り専用</span>
                <dd data-md>
                    <p>シーケンスであり、<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①③">Element</a></code>の
                        <a data-link-type="dfn" href="#content-rect" id="ref-for-content-rect①">content rect</a>サイズが
                        <code
                            class="idl"><a data-link-type="idl" href="#callbackdef-resizeobservercallback" id="ref-for-callbackdef-resizeobservercallback③">ResizeObserverCallback</a></code>呼び出し時に格納されます。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-resizeobserverentry-devicepixelcontentboxsize"><code>devicePixelContentBoxSize</code></dfn>,
                    <span> 型 sequence&lt;<a data-link-type="idl-name" href="#resizeobserversize"
                            id="ref-for-resizeobserversize⑤">ResizeObserverSize</a>>, 読み取り専用</span>
                <dd data-md>
                    <p>シーケンスであり、<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①④">Element</a></code>の
                        <a data-link-type="dfn" href="#content-rect" id="ref-for-content-rect②">content
                            rect</a>サイズ（デバイスピクセル単位の整数値）が
                        <code
                            class="idl"><a data-link-type="idl" href="#callbackdef-resizeobservercallback" id="ref-for-callbackdef-resizeobservercallback④">ResizeObserverCallback</a></code>呼び出し時に格納されます。
                    </p>
            </dl>
        </div>
        <p class="note" role="note">ボックスサイズプロパティは、複数のフラグメントを持つ要素（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css3-multicol/#">マルチカラム</a>など）への対応のためシーケンスとして公開されています。
            しかし、現行仕様で定義される<code><a data-link-type="dfn" href="#content-rect" id="ref-for-content-rect③">content rect</a></code>や
            <code><a data-link-type="dfn" href="https://www.w3.org/TR/css-box-3/#border-box" id="ref-for-border-box①">border box</a></code>は、マルチカラムレイアウト時の挙動を記載していません。
            本仕様ではシーケンスの中に1つだけResizeObserverSizeが返され、それは最初のカラムの寸法に対応します。
            将来のバージョンでは、フラグメントごとのサイズ情報をシーケンスとして返す予定です。
        </p>
        <pre class="idl highlight def"><c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="resizeobserversize"><code><c- g>ResizeObserverSize</c-></code></dfn> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObserverSize" data-dfn-type="attribute" data-export data-readonly data-type="unrestricted double" id="dom-resizeobserversize-inlinesize"><code><c- g>inlineSize</c-></code><a class="self-link" href="#dom-resizeobserversize-inlinesize"></a></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①"><c- b>unrestricted</c-> <c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObserverSize" data-dfn-type="attribute" data-export data-readonly data-type="unrestricted double" id="dom-resizeobserversize-blocksize"><code><c- g>blockSize</c-></code><a class="self-link" href="#dom-resizeobserversize-blocksize"></a></dfn>;
};
</pre>
        <h2 class="heading settled" data-level="3" id="processing-model"><span class="secno">3. </span><span
                class="content">処理モデル</span><a class="self-link" href="#processing-model"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="resize-observation-interface"><span class="secno">3.1.
            </span><span class="content">ResizeObservation例構造体</span><a class="self-link"
                href="#resize-observation-interface"></a></h3>
        <p class="note" role="note">このセクションは規範的ではありません。ResizeObservationはResize Observerの実装例構造体です。
            本仕様の処理モデルの理解を助けるために記載されています。実質的に1つの<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑤">Element</a></code>の観測情報を保持します。
            このインターフェイスはJavascriptからは参照できません。</p>
        <pre class="idl exclude highlight def">[<dfn class="idl-code" data-dfn-for="ResizeObservation" data-dfn-type="constructor" data-export data-lt="ResizeObservation(target)" id="dom-resizeobservation-resizeobservation"><code><c- g>Constructor</c-></code><a class="self-link" href="#dom-resizeobservation-resizeobservation"></a></dfn>(<a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑥"><c- n>Element</c-></a> <dfn class="idl-code" data-dfn-for="ResizeObservation/ResizeObservation(target)" data-dfn-type="argument" data-export id="dom-resizeobservation-resizeobservation-target-target"><code><c- g>target</c-></code><a class="self-link" href="#dom-resizeobservation-resizeobservation-target-target"></a></dfn>)
]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="resizeobservation"><code><c- g>ResizeObservation</c-></code></dfn> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑦"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-resizeobservation-target" id="ref-for-dom-resizeobservation-target"><c- g>target</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-resizeobserverboxoptions" id="ref-for-enumdef-resizeobserverboxoptions①"><c- n>ResizeObserverBoxOptions</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ResizeObserverBoxOptions" href="#dom-resizeobservation-observedbox" id="ref-for-dom-resizeobservation-observedbox"><c- g>observedBox</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize⑥"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobservation-lastreportedsizes" id="ref-for-dom-resizeobservation-lastreportedsizes"><c- g>lastReportedSizes</c-></a>;
};
</pre>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObservation" data-dfn-type="attribute"
                        data-export id="dom-resizeobservation-target"><code>target</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"
                            id="ref-for-element①⑧">Element</a>, 読み取り専用</span>
                <dd data-md>
                    <p>観測対象の<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑨">Element</a></code>です。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObservation" data-dfn-type="attribute"
                        data-export id="dom-resizeobservation-observedbox"><code>observedBox</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#enumdef-resizeobserverboxoptions"
                            id="ref-for-enumdef-resizeobserverboxoptions②">ResizeObserverBoxOptions</a>, 読み取り専用</span>
                <dd data-md>
                    <p>どのボックスが監視されているか。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObservation" data-dfn-type="attribute"
                        data-export id="dom-resizeobservation-lastreportedsizes"><code>lastReportedSizes</code></dfn>,
                    <span> 型 sequence&lt;<a data-link-type="idl-name" href="#resizeobserversize"
                            id="ref-for-resizeobserversize⑦">ResizeObserverSize</a>>, 読み取り専用</span>
                <dd data-md>
                    <p>最後に報告されたサイズの順序付きシーケンス。</p>
            </dl>
        </div>
        <div>
            <dl>
                <dt data-md><dfn class="idl-code" data-dfn-for="ResizeObservation" data-dfn-type="constructor"
                        data-export data-lt="ResizeObservation(target, options)"
                        id="dom-resizeobservation-resizeobservation-target-options"><code>new ResizeObservation(target, observedBox)</code><a
                            class="self-link" href="#dom-resizeobservation-resizeobservation-target-options"></a></dfn>
                <dd data-md>
                    <ol>
                        <li data-md>
                            <p><var>this</var>を新しい<code
                                    class="idl"><a data-link-type="idl" href="#resizeobservation" id="ref-for-resizeobservation②">ResizeObservation</a></code>オブジェクトとする
                            </p>
                        <li data-md>
                            <p><var>this</var>内部の<code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobservation-target" id="ref-for-dom-resizeobservation-target①">target</a></code>スロットに<var>target</var>をセットする
                            </p>
                        <li data-md>
                            <p><var>this</var>内部の<code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobservation-observedbox" id="ref-for-dom-resizeobservation-observedbox①">observedBox</a></code>スロットに<var>observedBox</var>をセットする
                            </p>
                        <li data-md>
                            <p><var>this</var>内部の<code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobservation-lastreportedsizes" id="ref-for-dom-resizeobservation-lastreportedsizes①">lastReportedSizes</a></code>スロットに[(0,0)]をセットする
                            </p>
                    </ol>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObservation" data-dfn-type="method"
                        data-export id="dom-resizeobservation-isactive"><code>isActive()</code></dfn>
                <dd data-md>
                    <ol>
                        <li data-md>
                            <p><var>currentSize</var>を<var>target</var>と<var>observedBox</var>を使って<a
                                    data-link-type="dfn" href="#calculate-box-size①"
                                    id="ref-for-calculate-box-size①">ボックスサイズを計算</a>で設定する。</p>
                        <li data-md>
                            <p><var>currentSize</var>がthis.<code
                                    class="idl"><a data-link-type="idl" href="#dom-resizeobservation-lastreportedsizes" id="ref-for-dom-resizeobservation-lastreportedsizes②">lastReportedSizes</a></code>の最初のエントリと異なる場合、trueを返す。
                            </p>
                        <li data-md>
                            <p>falseを返す。</p>
                    </ol>
            </dl>
        </div>
        <h3 class="heading settled" data-level="3.2" id="internal-slot-definitions"><span class="secno">3.2.
            </span><span class="content">内部スロット定義</span><a class="self-link" href="#internal-slot-definitions"></a></h3>
        <h4 class="heading settled" data-level="3.2.1" id="document-slots"><span class="secno">3.2.1. </span><span
                class="content">Document</span><a class="self-link" href="#document-slots"></a></h4>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document">Document</a>は、<dfn class="dfn-paneled idl-code" data-dfn-for="Document"
                data-dfn-type="attribute" data-export
                id="dom-document-resizeobservers"><code>resizeObservers</code></dfn>スロットを持ちます。これはこのドキュメント内の<code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver③">ResizeObserver</a></code>のリストです。初期値は空です。
        </p>
        <h4 class="heading settled" data-level="3.2.2" id="resize-observer-slots"><span class="secno">3.2.2.
            </span><span class="content">ResizeObserver</span><a class="self-link" href="#resize-observer-slots"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver④">ResizeObserver</a></code>
            は、コンストラクターで初期化される<dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="attribute"
                data-export id="dom-resizeobserver-callback"><code>callback</code></dfn>スロットを持ちます。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver⑤">ResizeObserver</a></code>
            は、<dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="attribute" data-export
                id="dom-resizeobserver-observationtargets"><code>observationTargets</code></dfn>スロットを持ちます。これは<code
                class="idl"><a data-link-type="idl" href="#resizeobservation" id="ref-for-resizeobservation③">ResizeObservation</a></code>のリストであり、監視中の全てのElementを表します。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver⑥">ResizeObserver</a></code>
            は、<dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="attribute" data-export
                id="dom-resizeobserver-activetargets"><code>activeTargets</code></dfn>スロットを持ちます。これは<code
                class="idl"><a data-link-type="idl" href="#resizeobservation" id="ref-for-resizeobservation④">ResizeObservation</a></code>のリストであり、直前の観測通知以降にサイズが変更され、通知対象となるElementを表します。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver⑦">ResizeObserver</a></code>
            は、<dfn class="dfn-paneled idl-code" data-dfn-for="ResizeObserver" data-dfn-type="attribute" data-export
                id="dom-resizeobserver-skippedtargets"><code>skippedTargets</code></dfn>スロットを持ちます。これは<code
                class="idl"><a data-link-type="idl" href="#resizeobservation" id="ref-for-resizeobservation⑤">ResizeObservation</a></code>のリストであり、直前の観測通知以降にサイズが変更されたが<strong>通知対象とならない</strong>Elementを表します。
        </p>
        <h3 class="heading settled" data-level="3.3" id="css-definitions"><span class="secno">3.3. </span><span
                class="content">CSS定義</span><a class="self-link" href="#css-definitions"></a></h3>
        <h4 class="heading settled" data-level="3.3.1" id="content-rect-h"><span class="secno">3.3.1. </span><span
                class="content">content rect</span><a class="self-link" href="#content-rect-h"></a></h4>
        DOM <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="content-rect">content
            rect</dfn>は次の値を持つrectです：
        <ul>
            <li data-md>
                <p>widthは<a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/box.html#content-width"
                        id="ref-for-content-width">content width</a>です。</p>
            <li data-md>
                <p>heightは<a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/box.html#content-height"
                        id="ref-for-content-height">content height</a>です。</p>
            <li data-md>
                <p>topは<a data-link-type="dfn" href="https://drafts.csswg.org/css-box-3/#padding-physical"
                        id="ref-for-padding-physical">padding top</a>です。</p>
            <li data-md>
                <p>leftは<a data-link-type="dfn" href="https://drafts.csswg.org/css-box-3/#padding-physical"
                        id="ref-for-padding-physical①">padding left</a>です。</p>
        </ul>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/box.html#content-width"
                id="ref-for-content-width①">content width</a>仕様は<a data-link-type="dfn"
                href="https://www.w3.org/TR/css3-multicol/#">マルチカラム</a>レイアウトが内容ボックスにどう影響するか記載していません。本仕様では、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②⓪">Element</a></code>が<span>マルチカラム</span>内にある場合のcontent
            widthは<code>getComputedStyle(element).width</code>の結果です。現状では最初のカラムの幅になります。</p>
        <p>content rectの位置をpadding-top/leftにすることで、ターゲットの子要素の絶対配置が便利になります。絶対座標空間の原点はパディング矩形の左上です。</p>
        <p>content rectを監視する場合：</p>
        <ul>
            <li data-md>
                <p>監視対象ElementがDOMに挿入・削除された時、観測が発火します。</p>
            <li data-md>
                <p>監視対象Elementのdisplayがnoneに設定された時、観測が発火します。</p>
            <li data-md>
                <p>非置換インラインElementは常に空のcontent rectを持ちます。</p>
            <li data-md>
                <p>CSS transformによる変更では観測は発火しません。</p>
        </ul>
        <p>ウェブコンテンツにはSVG要素も含まれます。SVG要素はcontent boxの代わりに<a data-link-type="dfn"
                href="https://www.w3.org/TR/SVG2/coords.html#BoundingBoxes" id="ref-for-BoundingBoxes">bounding
                box</a>を定義します。
            <a data-link-type="dfn" href="https://www.w3.org/TR/SVG2/types.html#InterfaceSVGGraphicsElement"
                id="ref-for-InterfaceSVGGraphicsElement">SVGGraphicsElement</a>のcontent rectは次の値を持つrectです：
        </p>
        <ul>
            <li data-md>
                <p>widthは<a data-link-type="dfn" href="https://www.w3.org/TR/SVG2/coords.html#BoundingBoxes"
                        id="ref-for-BoundingBoxes①">bounding box</a>の幅です。</p>
            <li data-md>
                <p>heightは<a data-link-type="dfn" href="https://www.w3.org/TR/SVG2/coords.html#BoundingBoxes"
                        id="ref-for-BoundingBoxes②">bounding box</a>の高さです。</p>
            <li data-md>
                <p>topおよびleftは0です。</p>
        </ul>
        <h3 class="heading settled" data-level="3.4" id="algorithms"><span class="secno">3.4. </span><span
                class="content">アルゴリズム</span><a class="self-link" href="#algorithms"></a></h3>
        <h4 class="heading settled" data-level="3.4.1" id="gather-active-observations-h"><span class="secno">3.4.1.
            </span><span class="content">指定された深さでアクティブな観測を収集</span><a class="self-link"
                href="#gather-active-observations-h"></a></h4>
        <p>これは<var>document</var>の全てのアクティブな観測を計算します。<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="gather-active-observations-at-depth">指定した深さでアクティブな観測を収集</dfn>するには、次の手順を実行します：</p>
        <ol>
            <li data-md>
                <p><var>depth</var>を指定された深さとする。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-document-resizeobservers" id="ref-for-dom-document-resizeobservers">resizeObservers</a></code>内の各<var>observer</var>について、次の手順を実行：
                </p>
                <ol>
                    <li data-md>
                        <p><var>observer</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-activetargets" id="ref-for-dom-resizeobserver-activetargets①">activeTargets</a></code>と<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-skippedtargets" id="ref-for-dom-resizeobserver-skippedtargets">skippedTargets</a></code>をクリアする。
                        </p>
                    <li data-md>
                        <p><var>observer</var>.<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-observationtargets" id="ref-for-dom-resizeobserver-observationtargets④">observationTargets</a></code>内の各<var>observation</var>について、次の手順を実行：
                        </p>
                        <ol>
                            <li data-md>
                                <p><var>observation</var>.<code
                                        class="idl"><a data-link-type="idl" href="#dom-resizeobservation-isactive" id="ref-for-dom-resizeobservation-isactive">isActive()</a></code>がtrueの場合
                                </p>
                                <ol>
                                    <li data-md>
                                        <p><var>observation</var>.<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobservation-target" id="ref-for-dom-resizeobservation-target②">target</a></code>について、<a
                                                data-link-type="dfn" href="#calculate-depth-for-node"
                                                id="ref-for-calculate-depth-for-node">ノードの深さを計算</a>の結果を<var>targetDepth</var>とする。
                                        </p>
                                    <li data-md>
                                        <p><var>targetDepth</var>が<var>depth</var>より大きければ、<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-activetargets" id="ref-for-dom-resizeobserver-activetargets②">activeTargets</a></code>に<var>observation</var>を追加する。
                                        </p>
                                    <li data-md>
                                        <p>それ以外の場合は<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-skippedtargets" id="ref-for-dom-resizeobserver-skippedtargets①">skippedTargets</a></code>に<var>observation</var>を追加する。
                                        </p>
                                </ol>
                        </ol>
                </ol>
        </ol>
        <h4 class="heading settled" data-level="3.4.2" id="has-active-observations-h"><span class="secno">3.4.2.
            </span><span class="content">アクティブな観測があるか</span><a class="self-link" href="#has-active-observations-h"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>に<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="has-active-observations">アクティブな観測があるか</dfn>を判定するには、次の手順を実行します：
        </p>
        <ol>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-document-resizeobservers" id="ref-for-dom-document-resizeobservers①">resizeObservers</a></code>内の各<var>observer</var>について、次の手順を実行：
                </p>
                <ol>
                    <li data-md>
                        <p><var>observer</var>.<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-activetargets" id="ref-for-dom-resizeobserver-activetargets③">activeTargets</a></code>が空でなければtrueを返す。
                        </p>
                </ol>
            <li data-md>
                <p>falseを返す。</p>
        </ol>
        <h4 class="heading settled" data-level="3.4.3" id="has-skipped-observations-h"><span class="secno">3.4.3.
            </span><span class="content">スキップされた観測があるか</span><a class="self-link"
                href="#has-skipped-observations-h"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code>に<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="has-skipped-observations">スキップされた観測があるか</dfn>を判定するには、次の手順を実行します：
        </p>
        <ol>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-document-resizeobservers" id="ref-for-dom-document-resizeobservers②">resizeObservers</a></code>内の各<var>observer</var>について、次の手順を実行：
                </p>
                <ol>
                    <li data-md>
                        <p><var>observer</var>.<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-skippedtargets" id="ref-for-dom-resizeobserver-skippedtargets②">skippedTargets</a></code>が空でなければtrueを返す。
                        </p>
                </ol>
            <li data-md>
                <p>falseを返す。</p>
        </ol>
        <h4 class="heading settled" data-level="3.4.4" id="create-and-populate-resizeobserverentry-h"><span
                class="secno">3.4.4. </span><span class="content"> ResizeObserverEntryの作成と設定 </span><a class="self-link"
                href="#create-and-populate-resizeobserverentry-h"></a></h4>
        <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
            id="create-and-populate-a-resizeobserverentry">ResizeObserverEntryの作成と設定</dfn>を、与えられた<var>target</var>に対して行うには、次の手順を実行します：
        <ol>
            <li data-md>
                <p><var>this</var>を新しい<code
                        class="idl"><a data-link-type="idl" href="#resizeobserverentry" id="ref-for-resizeobserverentry①">ResizeObserverEntry</a></code>とする。
                </p>
            <li data-md>
                <p><var>this</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-target" id="ref-for-dom-resizeobserverentry-target①">target</a></code>スロットに<var>target</var>を設定する。
                </p>
            <li data-md>
                <p><var>this</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-borderboxsize" id="ref-for-dom-resizeobserverentry-borderboxsize①">borderBoxSize</a></code>スロットに、<a
                        href="#calculate-box-size">targetと"border-box"のobservedBoxでサイズを計算</a>した結果を設定する。</p>
            <li data-md>
                <p><var>this</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-contentboxsize" id="ref-for-dom-resizeobserverentry-contentboxsize①">contentBoxSize</a></code>スロットに、<a
                        href="#calculate-box-size">targetと"content-box"のobservedBoxでサイズを計算</a>した結果を設定する。</p>
            <li data-md>
                <p><var>this</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-devicepixelcontentboxsize" id="ref-for-dom-resizeobserverentry-devicepixelcontentboxsize①">devicePixelContentBoxSize</a></code>スロットに、<a
                        href="#calculate-box-size">targetと"device-pixel-content-box"のobservedBoxでサイズを計算</a>した結果を設定する。
                </p>
            <li data-md>
                <p><var>this</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-contentrect" id="ref-for-dom-resizeobserverentry-contentrect①">contentRect</a></code>に、<var>target</var>と"content-box"のobservedBoxで<var>this</var>.<code
                        class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-contentboxsize" id="ref-for-dom-resizeobserverentry-contentboxsize②">contentBoxSize</a></code>を設定する。
                </p>
            <li data-md>
                <p><var>target</var>がSVG要素でない場合、次の手順を実行：</p>
                <ol>
                    <li data-md>
                        <p><var>this</var>.<var>contentRect</var>.topに<var>target</var>の<a data-link-type="dfn"
                                href="https://drafts.csswg.org/css-box-3/#padding-physical"
                                id="ref-for-padding-physical②">padding top</a>を設定する。</p>
                    <li data-md>
                        <p><var>this</var>.<var>contentRect</var>.leftに<var>target</var>の<a data-link-type="dfn"
                                href="https://drafts.csswg.org/css-box-3/#padding-physical"
                                id="ref-for-padding-physical③">padding left</a>を設定する。</p>
                </ol>
            <li data-md>
                <p><var>target</var>がSVG要素の場合、次の手順を実行：</p>
                <ol>
                    <li data-md>
                        <p><var>this</var>.<var>contentRect</var>.topおよび<var>this</var>.contentRect.leftに0を設定する。</p>
                </ol>
        </ol>
        <h4 class="heading settled" data-level="3.4.5" id="broadcast-resize-notifications-h"><span class="secno">3.4.5.
            </span><span class="content">アクティブな観測の通知</span><a class="self-link"
                href="#broadcast-resize-notifications-h"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="broadcast-active-observations">アクティブな観測の通知</dfn>は、ドキュメント内のすべてのアクティブな観測を配信し、通知対象の最も浅い深さを返します。</p>
        <p>ドキュメントのアクティブな観測を通知するには、次の手順を実行します：</p>
        <ol>
            <li data-md>
                <p><var>shallowestTargetDepth</var>を∞とする。</p>
            <li data-md>
                <p><var>document</var>.<code
                        class="idl"><a data-link-type="idl" href="#dom-document-resizeobservers" id="ref-for-dom-document-resizeobservers③">resizeObservers</a></code>内の各<var>observer</var>について、次の手順を実行：
                </p>
                <ol>
                    <li data-md>
                        <p><var>observer</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-activetargets" id="ref-for-dom-resizeobserver-activetargets④">activeTargets</a></code>スロットが空の場合は続ける。
                        </p>
                    <li data-md>
                        <p><var>entries</var>を空の<code
                                class="idl"><a data-link-type="idl" href="#resizeobserverentry" id="ref-for-resizeobserverentry②">ResizeObserverEntry</a></code>リストとする。
                        </p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-activetargets" id="ref-for-dom-resizeobserver-activetargets⑤">activeTargets</a></code>内の各<var>observation</var>について、次の手順を実行：
                        </p>
                        <ol>
                            <li data-md>
                                <p><var>entry</var>を、<var>observation</var>.<code
                                        class="idl"><a data-link-type="idl" href="#dom-resizeobservation-target" id="ref-for-dom-resizeobservation-target③">target</a></code>を与えて<a
                                        data-link-type="dfn" href="#create-and-populate-a-resizeobserverentry"
                                        id="ref-for-create-and-populate-a-resizeobserverentry">ResizeObserverEntryの作成と設定</a>を実行した結果とする。
                                </p>
                            <li data-md>
                                <p><var>entry</var>を<var>entries</var>に追加する。</p>
                            <li data-md>
                                <p><var>observation</var>の<code
                                        class="idl"><a data-link-type="idl" href="#dom-resizeobservation-lastreportedsizes" id="ref-for-dom-resizeobservation-lastreportedsizes③">lastReportedSizes</a></code>に一致する<var>entry</var>のサイズを設定する。
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>一致するサイズは、<var>observation</var>.<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobservation-observedbox" id="ref-for-dom-resizeobservation-observedbox②">observedBox</a></code>が"border-box"なら<var>entry</var>.<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-borderboxsize" id="ref-for-dom-resizeobserverentry-borderboxsize②">borderBoxSize</a></code>
                                        </p>
                                    <li data-md>
                                        <p>一致するサイズは、<var>observation</var>.<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobservation-observedbox" id="ref-for-dom-resizeobservation-observedbox③">observedBox</a></code>が"content-box"なら<var>entry</var>.<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-contentboxsize" id="ref-for-dom-resizeobserverentry-contentboxsize③">contentBoxSize</a></code>
                                        </p>
                                    <li data-md>
                                        <p>一致するサイズは、<var>observation</var>.<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobservation-observedbox" id="ref-for-dom-resizeobservation-observedbox④">observedBox</a></code>が"device-pixel-content-box"なら<var>entry</var>.<code
                                                class="idl"><a data-link-type="idl" href="#dom-resizeobserverentry-devicepixelcontentboxsize" id="ref-for-dom-resizeobserverentry-devicepixelcontentboxsize②">devicePixelContentBoxSize</a></code>
                                        </p>
                                </ol>
                            <li data-md>
                                <p><var>observation</var>.<code
                                        class="idl"><a data-link-type="idl" href="#dom-resizeobservation-target" id="ref-for-dom-resizeobservation-target④">target</a></code>について<a
                                        data-link-type="dfn" href="#calculate-depth-for-node"
                                        id="ref-for-calculate-depth-for-node①">ノードの深さを計算</a>の結果を<var>targetDepth</var>とする。
                                </p>
                            <li data-md>
                                <p><var>targetDepth</var>が<var>shallowestTargetDepth</var>より小さければ、<var>shallowestTargetDepth</var>を<var>targetDepth</var>に設定する。
                                </p>
                        </ol>
                    <li data-md>
                        <p><var>observer</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-callback" id="ref-for-dom-resizeobserver-callback">callback</a></code>を<var>entries</var>で呼び出す。
                        </p>
                    <li data-md>
                        <p><var>observer</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-resizeobserver-activetargets" id="ref-for-dom-resizeobserver-activetargets⑥">activeTargets</a></code>をクリアする。
                        </p>
                </ol>
            <li data-md>
                <p><var>shallowestTargetDepth</var>を返す。</p>
        </ol>
        <h4 class="heading settled" data-level="3.4.6" id="deliver-resize-error"><span class="secno">3.4.6. </span><span
                class="content">Resize Loop Errorの通知</span><a class="self-link" href="#deliver-resize-error"></a>
        </h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="deliver-resize-loop-error-notification">Resize
                Loop Error通知</dfn>を行うには、次の手順を実行します：</p>
        <ol>
            <li data-md>
                <p>新しい<code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" id="ref-for-errorevent">ErrorEvent</a></code>を作成する。
                </p>
            <li data-md>
                <p><var>event</var>のmessageスロットに"ResizeObserver loop completed with undelivered notifications."を設定する。
                </p>
            <li data-md>
                <p>例外<var>event</var>を報告する。</p>
        </ol>
        <h4 class="heading settled" data-level="3.4.7" id="calculate-depth-for-node-h"><span class="secno">3.4.7.
            </span><span class="content">ノードの深さを計算</span><a class="self-link" href="#calculate-depth-for-node-h"></a>
        </h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="calculate-depth-for-node">ノードの深さを計算</dfn>は、与えられた<var>node</var>に対して次の手順を実行します：</p>
        <ol>
            <li data-md>
                <p><var>p</var>を<var>node</var>からこの要素のフラット化DOMツリーのルートElementへの親トラバーサルパスとする。</p>
            <li data-md>
                <p><var>p</var>内のノード数を返す。</p>
        </ol>
        <h4 class="heading settled" data-level="3.4.8" id="calculate-box-size"><span class="secno">3.4.8. </span><span
                class="content">targetと監視ボックスを与えてボックスサイズを計算</span><a class="self-link" href="#calculate-box-size"></a>
        </h4>
        <p>このアルゴリズムは<var>target</var> <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②①">Element</a></code>の監視ボックスサイズを計算します。ボックスの種類は<code
                class="idl"><a data-link-type="idl" href="#enumdef-resizeobserverboxoptions" id="ref-for-enumdef-resizeobserverboxoptions③">ResizeObserverBoxOptions</a></code>で示されます。
            SVG要素は例外です。SVGサイズは常にバウンディングボックスサイズであり、SVG要素は標準のCSSボックスモデルを使用しません。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="calculate-box-size①">ボックスサイズを計算</dfn>は、<var>target</var>と<var>observedBox</var>を与えて次の手順を実行します：</p>
        <ol>
            <li data-md>
                <p><var>target</var>が<code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/svg2/types.html#InterfaceSVGGraphicsElement" id="ref-for-InterfaceSVGGraphicsElement①">SVGGraphicsElement</a></code>の場合
                </p>
                <ol>
                    <li data-md>
                        <p><var>computedSize</var>.inlineSizeに<var>target</var>の<a data-link-type="dfn"
                                href="https://www.w3.org/TR/SVG2/coords.html#BoundingBoxes"
                                id="ref-for-BoundingBoxes③">バウンディングボックス</a>のインライン長を設定する。</p>
                    <li data-md>
                        <p><var>computedSize</var>.blockSizeに<var>target</var>の<a data-link-type="dfn"
                                href="https://www.w3.org/TR/SVG2/coords.html#BoundingBoxes"
                                id="ref-for-BoundingBoxes④">バウンディングボックス</a>のブロック長を設定する。</p>
                </ol>
            <li data-md>
                <p><var>target</var>が<code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/svg2/types.html#InterfaceSVGGraphicsElement" id="ref-for-InterfaceSVGGraphicsElement②">SVGGraphicsElement</a></code>でない場合
                </p>
                <ol>
                    <li data-md>
                        <p><var>observedBox</var>が"border-box"の場合</p>
                        <ol>
                            <li data-md>
                                <p><var>computedSize</var>.inlineSizeにtargetの<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/css-box-3/#border-area"
                                        id="ref-for-border-area">border area</a>のインライン長を設定する。</p>
                            <li data-md>
                                <p><var>computedSize</var>.blockSizeにtargetの<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/css-box-3/#border-area"
                                        id="ref-for-border-area①">border area</a>のブロック長を設定する。</p>
                        </ol>
                    <li data-md>
                        <p><var>observedBox</var>が"content-box"の場合</p>
                        <ol>
                            <li data-md>
                                <p><var>computedSize</var>.inlineSizeにtargetの<a data-link-type="dfn"
                                        href="https://drafts.csswg.org/css-box-3/#content-area"
                                        id="ref-for-content-area②">content area</a>のインライン長を設定する。</p>
                            <li data-md>
                                <p><var>computedSize</var>.blockSizeにtargetの<a data-link-type="dfn"
                                        href="https://drafts.csswg.org/css-box-3/#content-area"
                                        id="ref-for-content-area③">content area</a>のブロック長を設定する。</p>
                        </ol>
                    <li data-md>
                        <p><var>observedBox</var>が"device-pixel-content-box"の場合</p>
                        <ol>
                            <li data-md>
                                <p><var>computedSize</var>.inlineSizeにtargetの<a data-link-type="dfn"
                                        href="https://drafts.csswg.org/css-box-3/#content-area"
                                        id="ref-for-content-area④">content area</a>のインライン長（デバイスピクセル単位の整数値）を設定する。</p>
                            <li data-md>
                                <p><var>computedSize</var>.blockSizeにtargetの<a data-link-type="dfn"
                                        href="https://drafts.csswg.org/css-box-3/#content-area"
                                        id="ref-for-content-area⑤">content area</a>のブロック長（デバイスピクセル単位の整数値）を設定する。</p>
                        </ol>
                    <li data-md>
                        <p><var>computedSize</var>を返す。</p>
                </ol>
        </ol>
        <h3 class="heading settled" data-level="3.5" id="lifetime"><span class="secno">3.5. </span><span
                class="content">ResizeObserverのライフタイム</span><a class="self-link" href="#lifetime"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver⑧">ResizeObserver</a></code>は、以下の2つの条件が両方とも満たされるまで存続します：
        </p>
        <ul>
            <li data-md>
                <p>オブザーバーへのスクリプト参照が存在しない。</p>
            <li data-md>
                <p>オブザーバーがいずれのターゲットも監視していない。</p>
        </ul>
        <h3 class="heading settled" data-level="3.6" id="integrations"><span class="secno">3.6. </span><span
                class="content">外部仕様との統合</span><a class="self-link" href="#integrations"></a></h3>
        <h4 class="heading settled" data-level="3.6.1" id="html-event-loop"><span class="secno">3.6.1. </span><span
                class="content"> HTML処理モデル：イベントループ</span><a class="self-link" href="#html-event-loop"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver⑨">ResizeObserver</a></code>の処理は、<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#processing-model-8"
                id="ref-for-processing-model-8">HTML処理モデル</a>のイベントループのステップ7.12内で行われます。</p>
        <p>ステップ12は現時点では以下のように明確に規定されていません：</p>
        <p><q>docs内のすべての完全にアクティブなDocumentについて、そのDocumentおよびその閲覧コンテキストのレンダリングやユーザーインターフェイスを現在の状態に合わせて更新する。</q></p>
        <p>現行のステップ12は、以下のように完全に規定できます：</p>
        <p>docs内のすべての完全にアクティブなDocumentについて、そのDocumentおよびその閲覧コンテンツに対して以下の手順を実行します：</p>
        <ol>
            <li data-md>
                <p>スタイル再計算</p>
            <li data-md>
                <p>レイアウト更新</p>
            <li data-md>
                <p>描画</p>
        </ol>
        <p><code
                class="idl"><a data-link-type="idl" href="#resizeobserver" id="ref-for-resizeobserver①⓪">ResizeObserver</a></code>はステップ12にリサイズ通知処理を追加します。
            保留中の通知がなくなるまでループしてすべての通知を配信しようとします。これにより無限ループが発生する可能性があります。</p>
        <p>無限ループは、各イテレーションごとに通知可能なノードの集合を縮小することで防止されます。各イテレーションでは、前回のイテレーションで最も浅かったノードより深いノードのみが通知できます。</p>
        <p>通知ループが完了した時点で未配信の通知がある場合はエラーが生成されます。未配信の通知がある要素は次回のループで通知対象となります。</p>
        <p>ResizeObserverの通知を含むステップ12は次の通りです：</p>
        <p>docs内のすべての完全にアクティブなDocumentについて、そのDocumentおよびその閲覧コンテキストに対して以下の手順を実行します：</p>
        <ol>
            <li data-md>
                <p>スタイル再計算</p>
            <li data-md>
                <p>レイアウト更新</p>
            <li data-md>
                <p><var>depth</var>を0に設定</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#gather-active-observations-at-depth"
                        id="ref-for-gather-active-observations-at-depth">指定した深さでアクティブな観測を収集</a>
                    <var>depth</var>を<code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③">Document</a></code>で実行
                </p>
            <li data-md>
                <p>documentが<a data-link-type="dfn" href="#has-active-observations"
                        id="ref-for-has-active-observations">アクティブな観測があるか</a>の間、繰り返す</p>
                <ol start="2">
                    <li data-md>
                        <p><var>depth</var>に<a data-link-type="dfn" href="#broadcast-active-observations"
                                id="ref-for-broadcast-active-observations①">アクティブな観測の通知</a>の結果を設定する。</p>
                    <li data-md>
                        <p>スタイル再計算</p>
                    <li data-md>
                        <p>レイアウト更新</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#gather-active-observations-at-depth"
                                id="ref-for-gather-active-observations-at-depth①">指定した深さでアクティブな観測を収集</a>
                            <var>depth</var>を<code
                                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④">Document</a></code>で実行
                        </p>
                </ol>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑤">Document</a></code>が<a
                        data-link-type="dfn" href="#has-skipped-observations"
                        id="ref-for-has-skipped-observations">スキップされた観測があるか</a>の場合は、<a data-link-type="dfn"
                        href="#deliver-resize-loop-error-notification"
                        id="ref-for-deliver-resize-loop-error-notification">Resize Loop Error通知</a>を実行する</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑥">Document</a></code>およびその閲覧コンテキストのレンダリングやユーザーインターフェイスを現在の状態に合わせて更新する。
                </p>
        </ol>
    </main>
    <h2 class="no-ref no-num heading settled" id="conformance"><span class="content">適合性</span><a class="self-link"
            href="#conformance"></a></h2>
    <h3 class="heading settled" id="document-conventions"><span class="content">文書規約</span><a class="self-link"
            href="#document-conventions"></a></h3>
    <p>適合要件は、記述的な主張とRFC 2119用語の組み合わせで表現されます。規範部分で使われる “MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD
        NOT”、“RECOMMENDED”、“MAY”、“OPTIONAL” のキーワードは、RFC 2119で説明されている通りに解釈してください。
        ただし、可読性のため、本仕様ではこれらの単語はすべて大文字では表記されません。</p>
    <p>この仕様書の本文は、明示的に規範的でないと記されたセクション、例、および注釈を除き、すべて規範的です。<a data-link-type="biblio"
            href="#biblio-rfc2119">[RFC2119]</a></p>
    <p>この仕様の例は「for example」という語で始まるか、次のように<code>class="example"</code>で規範文から区別されます：</p>
    <div class="example" id="example-ae2b6bc0">
        <a class="self-link" href="#example-ae2b6bc0"></a>
        <p>これは情報的な例です。</p>
    </div>
    <p>情報的な注釈は「Note」で始まり、次のように<code>class="note"</code>で規範文から区別されます：</p>
    <p class="note" role="note">Note、これは情報的な注釈です。</p>
    <p>アドバイスは特別な注意を促すためにスタイリングされた規範的なセクションであり、<code>&lt;strong class="advisement"></code>で他の規範文から区別されます。例：<strong
            class="advisement"> UAはアクセシブルな代替手段を提供<em>しなければなりません</em>。</strong></p>
    <h3 class="heading settled" id="conform-classes"><span class="content">適合クラス</span><a class="self-link"
            href="#conform-classes"></a></h3>
    <p>本仕様への適合は、3つの適合クラスで定義されます：</p>
    <dl>
        <dt>スタイルシート
        <dd><a href="https://www.w3.org/TR/CSS2/conform.html#style-sheet">CSSスタイルシート</a>。
        <dt>レンダラー
        <dd><a href="https://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a>は、スタイルシートのセマンティクスを解釈し、それを使って文書をレンダリングします。
        <dt>オーサリングツール
        <dd><a href="https://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a>は、スタイルシートを作成します。
    </dl>
    <p>スタイルシートは、本モジュールで定義された構文を使用したすべての文が、一般的なCSS文法および本モジュールで定義された各機能の個別文法に従い有効であれば、本仕様に適合しています。</p>
    <p>レンダラーは、スタイルシートを適切な仕様で定義された通りに解釈することに加え、本仕様で定義されたすべての機能を正しく解析し、ドキュメントを適切にレンダリングすることで本仕様に適合します。ただし、デバイスの制限によりUAがドキュメントを正しくレンダリングできない場合は、UAが非適合となるわけではありません。（例：UAはモノクロモニターで色を描画する必要はありません。）
    </p>
    <p>オーサリングツールは、一般的なCSS文法および本モジュールの各機能の個別文法に従い構文的に正しいスタイルシートを書き、本モジュールで記述されたスタイルシートの他の適合要件も満たすことで本仕様に適合します。</p>
    <h3 class="heading settled" id="conform-responsible"><span class="content">CSSの責任ある実装の要件</span><a class="self-link"
            href="#conform-responsible"></a></h3>
    <p>次のセクションでは、現在および将来の相互運用性を促進するための責任あるCSS実装の適合要件を定めます。</p>
    <h4 class="heading settled" id="conform-partial"><span class="content">部分的な実装</span><a class="self-link"
            href="#conform-partial"></a></h4>
    <p>著者が前方互換性のあるパース規則を利用してフォールバック値を指定できるように、<strong>CSSレンダラーは
            <em>必ず</em>サポートできるレベルを持たない
            at規則、プロパティ、プロパティ値、キーワード、その他の構文要素を無効として
            （<a href="https://www.w3.org/TR/CSS2/conform.html#ignore">必要に応じて無視</a>）
            扱わなければなりません</strong>。
        特に、ユーザーエージェントは
        サポートされていないプロパティ値を選択的に無視し、マルチ値プロパティ宣言の中でサポートされている値のみを適用しては<em>なりません</em>：
        いずれかの値が無効（サポートされていない値は必ず）とみなされた場合、
        CSSは宣言全体を無視することを要求します。</p>
    <h4 class="heading settled" id="conform-future-proofing"><span class="content">不安定・独自機能の実装</span><a
            class="self-link" href="#conform-future-proofing"></a></h4>
    <p>将来の安定したCSS機能との衝突を避けるため、CSSWGは<a href="https://www.w3.org/TR/CSS/#future-proofing">ベストプラクティス</a>に従い、
        <a href="https://www.w3.org/TR/CSS/#unstable">不安定</a>な機能や
        <a href="https://www.w3.org/TR/CSS/#proprietary-extension">独自拡張</a>の実装を推奨します。
    </p>
    <h4 class="heading settled" id="conform-testing"><span class="content"> CRレベル機能の実装</span><a class="self-link"
            href="#conform-testing"></a></h4>
    <p>仕様がCandidate Recommendation段階に到達したら、実装者は、仕様に従って正しく実装されていることを示せるCRレベル機能について、<a data-link-type="dfn"
            href="https://www.w3.org/TR/CSS/#vendor-prefix">ベンダープレフィックスなし</a>の実装をリリースし、
        プレフィックス付きのバリアントを公開することは避けるべきです。</p>
    <p>CSSの相互運用性を確立・維持するため、CSSワーキンググループは、実験的でないCSSレンダラーに対し、CSS機能の非プレフィックス実装をリリースする前に、実装報告書（および必要に応じてその実装報告書に使われたテストケース）をW3Cに提出するよう要請します。W3Cに提出されたテストケースはCSSワーキンググループによるレビューや修正の対象となります。
    </p>
    <p>
        テストケースや実装報告書の提出方法などの詳細は、CSSワーキンググループのWebサイト <a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a> を参照してください。
        質問は <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
        メーリングリストにお問い合わせください。
        <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    </p>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義される用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#dom-resizeobserver-activetargets">activeTargets</a><span>, §3.2.2</span>
        <li><a href="#dom-resizeobserversize-blocksize">blockSize</a><span>, §2.3</span>
        <li><a href="#dom-resizeobserverboxoptions-border-box">"border-box"</a><span>, §2.1</span>
        <li><a href="#dom-resizeobserverentry-borderboxsize">borderBoxSize</a><span>, §2.3</span>
        <li><a href="#dom-resizeobserveroptions-box">box</a><span>, §2.1</span>
        <li><a href="#broadcast-active-observations">broadcast active observations</a><span>, §3.4.5</span>
        <li><a href="#calculate-box-size①">calculate box size</a><span>, §3.4.8</span>
        <li><a href="#calculate-depth-for-node">calculate depth for node</a><span>, §3.4.7</span>
        <li><a href="#dom-resizeobserver-callback">callback</a><span>, §3.2.2</span>
        <li><a href="#dom-resizeobserverboxoptions-content-box">"content-box"</a><span>, §2.1</span>
        <li><a href="#dom-resizeobserverentry-contentboxsize">contentBoxSize</a><span>, §2.3</span>
        <li><a href="#content-rect">content rect</a><span>, §3.3.1</span>
        <li><a href="#dom-resizeobserverentry-contentrect">contentRect</a><span>, §2.3</span>
        <li><a href="#create-and-populate-a-resizeobserverentry">create and populate a ResizeObserverEntry</a><span>,
                §3.4.4</span>
        <li><a href="#deliver-resize-loop-error-notification">deliver resize loop error notification</a><span>,
                §3.4.6</span>
        <li><a href="#dom-resizeobserverboxoptions-device-pixel-content-box">"device-pixel-content-box"</a><span>,
                §2.1</span>
        <li><a href="#dom-resizeobserverentry-devicepixelcontentboxsize">devicePixelContentBoxSize</a><span>,
                §2.3</span>
        <li><a href="#dom-resizeobserver-disconnect">disconnect()</a><span>, §2.1</span>
        <li><a href="#gather-active-observations-at-depth">gather active observations at depth</a><span>, §3.4.1</span>
        <li><a href="#has-active-observations">has active observations</a><span>, §3.4.2</span>
        <li><a href="#has-skipped-observations">has skipped observations</a><span>, §3.4.3</span>
        <li><a href="#dom-resizeobserversize-inlinesize">inlineSize</a><span>, §2.3</span>
        <li><a href="#dom-resizeobservation-isactive">isActive()</a><span>, §3.1</span>
        <li><a href="#dom-resizeobservation-lastreportedsizes">lastReportedSizes</a><span>, §3.1</span>
        <li><a href="#dom-resizeobserver-observationtargets">observationTargets</a><span>, §3.2.2</span>
        <li><a href="#dom-resizeobservation-observedbox">observedBox</a><span>, §3.1</span>
        <li><a href="#dom-resizeobserver-observe">observe(target)</a><span>, §2.1</span>
        <li><a href="#dom-resizeobserver-observe">observe(target, options)</a><span>, §2.1</span>
        <li><a href="#resizeobservation">ResizeObservation</a><span>, §3.1</span>
        <li><a href="#dom-resizeobservation-resizeobservation">ResizeObservation(target)</a><span>, §3.1</span>
        <li><a href="#dom-resizeobservation-resizeobservation-target-options">ResizeObservation(target,
                options)</a><span>, §3.1</span>
        <li><a href="#resizeobserver">ResizeObserver</a><span>, §2.1</span>
        <li><a href="#enumdef-resizeobserverboxoptions">ResizeObserverBoxOptions</a><span>, §2.1</span>
        <li><a href="#dom-resizeobserver-resizeobserver">ResizeObserver(callback)</a><span>, §2.1</span>
        <li><a href="#callbackdef-resizeobservercallback">ResizeObserverCallback</a><span>, §2.2</span>
        <li><a href="#resizeobserverentry">ResizeObserverEntry</a><span>, §2.3</span>
        <li><a href="#dictdef-resizeobserveroptions">ResizeObserverOptions</a><span>, §2.1</span>
        <li><a href="#dom-document-resizeobservers">resizeObservers</a><span>, §3.2.1</span>
        <li><a href="#resizeobserversize">ResizeObserverSize</a><span>, §2.3</span>
        <li><a href="#dom-resizeobserver-skippedtargets">skippedTargets</a><span>, §3.2.2</span>
        <li>
            target
            <ul>
                <li><a href="#dom-resizeobservation-target">ResizeObservationの属性</a><span>, §3.1</span>
                <li><a href="#dom-resizeobserverentry-target">ResizeObserverEntryの属性</a><span>, §2.3</span>
            </ul>
        <li><a href="#dom-resizeobserver-unobserve">unobserve(target)</a><span>, §2.1</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-border-area">
        <a href="https://www.w3.org/TR/css-box-3/#border-area">https://www.w3.org/TR/css-box-3/#border-area</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-border-area">3.4.8. Calculate box size, given target and observed box</a> <a
                    href="#ref-for-border-area①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-border-box">
        <a href="https://www.w3.org/TR/css-box-3/#border-box">https://www.w3.org/TR/css-box-3/#border-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-border-box">2.3. ResizeObserverEntry</a> <a href="#ref-for-border-box①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventdef-window-resize">
        <a
            href="https://www.w3.org/TR/cssom-view/#eventdef-window-resize">https://www.w3.org/TR/cssom-view/#eventdef-window-resize</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventdef-window-resize">1. Introduction</a> <a
                    href="#ref-for-eventdef-window-resize①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-document">
        <a href="https://dom.spec.whatwg.org/#document">https://dom.spec.whatwg.org/#document</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-document">2.1. ResizeObserver interface</a>
            <li><a href="#ref-for-document①">3.4.2. Has active observations</a>
            <li><a href="#ref-for-document②">3.4.3. Has skipped observations</a>
            <li><a href="#ref-for-document③">3.6.1. HTML Processing Model: Event Loop</a> <a
                    href="#ref-for-document④">(2)</a> <a href="#ref-for-document⑤">(3)</a> <a
                    href="#ref-for-document⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-element">
        <a href="https://dom.spec.whatwg.org/#element">https://dom.spec.whatwg.org/#element</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-element">1. Introduction</a> <a href="#ref-for-element①">(2)</a> <a
                    href="#ref-for-element②">(3)</a> <a href="#ref-for-element③">(4)</a> <a
                    href="#ref-for-element④">(5)</a>
            <li><a href="#ref-for-element⑤">2.1. ResizeObserver interface</a> <a href="#ref-for-element⑥">(2)</a> <a
                    href="#ref-for-element⑦">(3)</a>
            <li><a href="#ref-for-element⑧">2.3. ResizeObserverEntry</a> <a href="#ref-for-element⑨">(2)</a> <a
                    href="#ref-for-element①⓪">(3)</a> <a href="#ref-for-element①①">(4)</a> <a
                    href="#ref-for-element①②">(5)</a> <a href="#ref-for-element①③">(6)</a> <a
                    href="#ref-for-element①④">(7)</a>
            <li><a href="#ref-for-element①⑤">3.1. ResizeObservation example struct</a> <a
                    href="#ref-for-element①⑥">(2)</a> <a href="#ref-for-element①⑦">(3)</a> <a
                    href="#ref-for-element①⑧">(4)</a> <a href="#ref-for-element①⑨">(5)</a>
            <li><a href="#ref-for-element②⓪">3.3.1. content rect</a>
            <li><a href="#ref-for-element②①">3.4.8. Calculate box size, given target and observed box</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-mutationobserver">
        <a href="https://dom.spec.whatwg.org/#mutationobserver">https://dom.spec.whatwg.org/#mutationobserver</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-mutationobserver">2.1. ResizeObserver interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-document">
        <a href="https://dom.spec.whatwg.org/#concept-document">https://dom.spec.whatwg.org/#concept-document</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-document">3.2.1. Document</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-domrectreadonly">
        <a
            href="https://www.w3.org/TR/geometry-1/#domrectreadonly">https://www.w3.org/TR/geometry-1/#domrectreadonly</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-domrectreadonly">2.3. ResizeObserverEntry</a> <a
                    href="#ref-for-domrectreadonly①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-errorevent">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent">https://html.spec.whatwg.org/multipage/webappapis.html#errorevent</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-errorevent">3.4.6. Deliver Resize Loop Error</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-InterfaceSVGGraphicsElement">
        <a
            href="https://www.w3.org/TR/svg2/types.html#InterfaceSVGGraphicsElement">https://www.w3.org/TR/svg2/types.html#InterfaceSVGGraphicsElement</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-InterfaceSVGGraphicsElement①">3.4.8. Calculate box size, given target and observed
                    box</a> <a href="#ref-for-InterfaceSVGGraphicsElement②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-Exposed">
        <a href="https://heycam.github.io/webidl/#Exposed">https://heycam.github.io/webidl/#Exposed</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-Exposed">2.1. ResizeObserver interface</a>
            <li><a href="#ref-for-Exposed①">2.3. ResizeObserverEntry</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-unrestricted-double">
        <a
            href="https://heycam.github.io/webidl/#idl-unrestricted-double">https://heycam.github.io/webidl/#idl-unrestricted-double</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-unrestricted-double">2.3. ResizeObserverEntry</a> <a
                    href="#ref-for-idl-unrestricted-double①">(2)</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照による定義用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[css-box-3]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-border-area" style="color:initial">border area</span>
                <li><span class="dfn-paneled" id="term-for-border-box" style="color:initial">border box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[cssom-view-1]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-eventdef-window-resize" style="color:initial">resize</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-document" style="color:initial">Document</span>
                <li><span class="dfn-paneled" id="term-for-element" style="color:initial">Element</span>
                <li><span class="dfn-paneled" id="term-for-mutationobserver"
                        style="color:initial">MutationObserver</span>
                <li><span class="dfn-paneled" id="term-for-concept-document" style="color:initial">document</span>
            </ul>
        <li>
            <a data-link-type="biblio">[geometry-1]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-domrectreadonly" style="color:initial">DOMRectReadOnly</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-errorevent" style="color:initial">ErrorEvent</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SVG2]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-InterfaceSVGGraphicsElement"
                        style="color:initial">SVGGraphicsElement</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WebIDL]</a> は以下の用語を定義しています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-Exposed" style="color:initial">Exposed</span>
                <li><span class="dfn-paneled" id="term-for-idl-unrestricted-double" style="color:initial">unrestricted
                        double</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範的参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-box-3">[CSS-BOX-3]
        <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-box-3/">CSS ボックスモデルモジュール レベル3</a>. 2018年12月18日.
            ワーキングドラフト. URL: <a href="https://www.w3.org/TR/css-box-3/">https://www.w3.org/TR/css-box-3/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Pieters. <a href="https://www.w3.org/TR/cssom-view-1/">CSSOM ビューモジュール</a>. 2016年3月17日. ワーキングドラフト. URL:
            <a href="https://www.w3.org/TR/cssom-view-1/">https://www.w3.org/TR/cssom-view-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM現行標準</a>. 現行標準. URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-geometry-1">[GEOMETRY-1]
        <dd>Simon Pieters; Chris Harrelson. <a href="https://www.w3.org/TR/geometry-1/">ジオメトリ インターフェイスモジュール レベル1</a>.
            2018年12月4日. CR. URL: <a href="https://www.w3.org/TR/geometry-1/">https://www.w3.org/TR/geometry-1/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; 他. <a href="https://html.spec.whatwg.org/multipage/">HTML現行標準</a>. 現行標準. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">RFCで要件レベルを示すキーワード</a>. 1997年3月. ベストカレントプラクティス.
            URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
        <dt id="biblio-svg2">[SVG2]
        <dd>Amelia Bellamy-Royds; 他. <a href="https://www.w3.org/TR/SVG2/">スケーラブルベクターグラフィックス (SVG) 2</a>. 2018年10月4日.
            CR. URL: <a href="https://www.w3.org/TR/SVG2/">https://www.w3.org/TR/SVG2/</a>
        <dt id="biblio-webidl">[WebIDL]
        <dd>Boris Zbarsky. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 2016年12月15日. 編集ドラフト. URL: <a
                href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>enum</c-> <a href="#enumdef-resizeobserverboxoptions"><code><c- g>ResizeObserverBoxOptions</c-></code></a> {
    <a href="#dom-resizeobserverboxoptions-border-box"><code><c- s>"border-box"</c-></code></a>, <a href="#dom-resizeobserverboxoptions-content-box"><code><c- s>"content-box"</c-></code></a>, <a href="#dom-resizeobserverboxoptions-device-pixel-content-box"><code><c- s>"device-pixel-content-box"</c-></code></a>
};

<c- b>dictionary</c-> <a href="#dictdef-resizeobserveroptions"><code><c- g>ResizeObserverOptions</c-></code></a> {
    <a class="n" data-link-type="idl-name" href="#enumdef-resizeobserverboxoptions" id="ref-for-enumdef-resizeobserverboxoptions④"><c- n>ResizeObserverBoxOptions</c-></a> <a data-default="&quot;content-box&quot;" data-type="ResizeObserverBoxOptions " href="#dom-resizeobserveroptions-box"><code><c- g>box</c-></code></a> = "content-box";
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->),
 <a class="idl-code" data-link-type="constructor" href="#dom-resizeobserver-resizeobserver" id="ref-for-dom-resizeobserver-resizeobserver①"><c- g>Constructor</c-></a>(<a class="n" data-link-type="idl-name" href="#callbackdef-resizeobservercallback" id="ref-for-callbackdef-resizeobservercallback⑤"><c- n>ResizeObserverCallback</c-></a> <a href="#dom-resizeobserver-resizeobserver-callback-callback"><code><c- g>callback</c-></code></a>)]
<c- b>interface</c-> <a href="#resizeobserver"><code><c- g>ResizeObserver</c-></code></a> {
    <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-resizeobserver-observe" id="ref-for-dom-resizeobserver-observe①"><c- g>observe</c-></a>(<a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑥①"><c- n>Element</c-></a> <a href="#dom-resizeobserver-observe-target-options-target"><code><c- g>target</c-></code></a>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-resizeobserveroptions" id="ref-for-dictdef-resizeobserveroptions①"><c- n>ResizeObserverOptions</c-></a> <a href="#dom-resizeobserver-observe-target-options-options"><code><c- g>options</c-></code></a>);
    <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-resizeobserver-unobserve" id="ref-for-dom-resizeobserver-unobserve①"><c- g>unobserve</c-></a>(<a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑦①"><c- n>Element</c-></a> <a href="#dom-resizeobserver-unobserve-target-target"><code><c- g>target</c-></code></a>);
    <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-resizeobserver-disconnect" id="ref-for-dom-resizeobserver-disconnect①"><c- g>disconnect</c-></a>();
};

<c- b>callback</c-> <a href="#callbackdef-resizeobservercallback"><code><c- g>ResizeObserverCallback</c-></code></a> = <c- b>void</c-> (<c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserverentry" id="ref-for-resizeobserverentry③"><c- n>ResizeObserverEntry</c-></a>> <a href="#dom-resizeobservercallback-entries"><code><c- g>entries</c-></code></a>, <a class="n" data-link-type="idl-name" href="#resizeobserver" id="ref-for-resizeobserver①②"><c- n>ResizeObserver</c-></a> <a href="#dom-resizeobservercallback-observer"><code><c- g>observer</c-></code></a>);

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#resizeobserverentry"><code><c- g>ResizeObserverEntry</c-></code></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑧①"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-resizeobserverentry-target" id="ref-for-dom-resizeobserverentry-target②"><c- g>target</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly②"><c- n>DOMRectReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly" href="#dom-resizeobserverentry-contentrect" id="ref-for-dom-resizeobserverentry-contentrect②"><c- g>contentRect</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize⑧"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobserverentry-borderboxsize" id="ref-for-dom-resizeobserverentry-borderboxsize③"><c- g>borderBoxSize</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize①①"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobserverentry-contentboxsize" id="ref-for-dom-resizeobserverentry-contentboxsize④"><c- g>contentBoxSize</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize②①"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobserverentry-devicepixelcontentboxsize" id="ref-for-dom-resizeobserverentry-devicepixelcontentboxsize③"><c- g>devicePixelContentBoxSize</c-></a>;
};

<c- b>interface</c-> <a href="#resizeobserversize"><code><c- g>ResizeObserverSize</c-></code></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double②"><c- b>unrestricted</c-> <c- b>double</c-></a> <a data-readonly data-type="unrestricted double" href="#dom-resizeobserversize-inlinesize"><code><c- g>inlineSize</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①①"><c- b>unrestricted</c-> <c- b>double</c-></a> <a data-readonly data-type="unrestricted double" href="#dom-resizeobserversize-blocksize"><code><c- g>blockSize</c-></code></a>;
};

[<a href="#dom-resizeobservation-resizeobservation"><code><c- g>Constructor</c-></code></a>(<a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑥①"><c- n>Element</c-></a> <a href="#dom-resizeobservation-resizeobservation-target-target"><code><c- g>target</c-></code></a>)
]
<c- b>interface</c-> <a href="#resizeobservation"><code><c- g>ResizeObservation</c-></code></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑦①"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-resizeobservation-target" id="ref-for-dom-resizeobservation-target⑤"><c- g>target</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-resizeobserverboxoptions" id="ref-for-enumdef-resizeobserverboxoptions①①"><c- n>ResizeObserverBoxOptions</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ResizeObserverBoxOptions" href="#dom-resizeobservation-observedbox" id="ref-for-dom-resizeobservation-observedbox⑤"><c- g>observedBox</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>sequence</c->&lt;<a class="n" data-link-type="idl-name" href="#resizeobserversize" id="ref-for-resizeobserversize⑥①"><c- n>ResizeObserverSize</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="sequence<ResizeObserverSize>" href="#dom-resizeobservation-lastreportedsizes" id="ref-for-dom-resizeobservation-lastreportedsizes④"><c- g>lastReportedSizes</c-></a>;
};

</pre>
    <aside class="dfn-panel" data-for="enumdef-resizeobserverboxoptions">
        <b><a href="#enumdef-resizeobserverboxoptions">#enumdef-resizeobserverboxoptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-resizeobserverboxoptions">2.1. ResizeObserver interface</a>
            <li><a href="#ref-for-enumdef-resizeobserverboxoptions①">3.1. ResizeObservation example struct</a> <a
                    href="#ref-for-enumdef-resizeobserverboxoptions②">(2)</a>
            <li><a href="#ref-for-enumdef-resizeobserverboxoptions③">3.4.8. Calculate box size, given target and
                    observed box</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverboxoptions-border-box">
        <b><a
                href="#dom-resizeobserverboxoptions-border-box">#dom-resizeobserverboxoptions-border-box</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverboxoptions-border-box">2.1. ResizeObserver interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverboxoptions-content-box">
        <b><a
                href="#dom-resizeobserverboxoptions-content-box">#dom-resizeobserverboxoptions-content-box</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverboxoptions-content-box">2.1. ResizeObserver interface</a> <a
                    href="#ref-for-dom-resizeobserverboxoptions-content-box①">(2)</a> <a
                    href="#ref-for-dom-resizeobserverboxoptions-content-box②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverboxoptions-device-pixel-content-box">
        <b><a
                href="#dom-resizeobserverboxoptions-device-pixel-content-box">#dom-resizeobserverboxoptions-device-pixel-content-box</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverboxoptions-device-pixel-content-box">2.1. ResizeObserver
                    interface</a> <a href="#ref-for-dom-resizeobserverboxoptions-device-pixel-content-box①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-resizeobserveroptions">
        <b><a href="#dictdef-resizeobserveroptions">#dictdef-resizeobserveroptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-resizeobserveroptions">2.1. ResizeObserver interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="resizeobserver">
        <b><a href="#resizeobserver">#resizeobserver</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-resizeobserver">2.1. ResizeObserver interface</a>
            <li><a href="#ref-for-resizeobserver①">2.2. ResizeObserverCallback</a> <a
                    href="#ref-for-resizeobserver②">(2)</a>
            <li><a href="#ref-for-resizeobserver③">3.2.1. Document</a>
            <li><a href="#ref-for-resizeobserver④">3.2.2. ResizeObserver</a> <a href="#ref-for-resizeobserver⑤">(2)</a>
                <a href="#ref-for-resizeobserver⑥">(3)</a> <a href="#ref-for-resizeobserver⑦">(4)</a>
            <li><a href="#ref-for-resizeobserver⑧">3.5. ResizeObserver Lifetime</a>
            <li><a href="#ref-for-resizeobserver⑨">3.6.1. HTML Processing Model: Event Loop</a> <a
                    href="#ref-for-resizeobserver①⓪">(2)</a> <a href="#ref-for-resizeobserver①①">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-resizeobserver">
        <b><a href="#dom-resizeobserver-resizeobserver">#dom-resizeobserver-resizeobserver</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-resizeobserver">2.1. ResizeObserver interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-observe">
        <b><a href="#dom-resizeobserver-observe">#dom-resizeobserver-observe</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-observe">2.1. ResizeObserver interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-unobserve">
        <b><a href="#dom-resizeobserver-unobserve">#dom-resizeobserver-unobserve</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-unobserve">2.1. ResizeObserver interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-disconnect">
        <b><a href="#dom-resizeobserver-disconnect">#dom-resizeobserver-disconnect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-disconnect">2.1. ResizeObserver interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="callbackdef-resizeobservercallback">
        <b><a href="#callbackdef-resizeobservercallback">#callbackdef-resizeobservercallback</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-callbackdef-resizeobservercallback">2.1. ResizeObserver interface</a>
            <li><a href="#ref-for-callbackdef-resizeobservercallback①">2.3. ResizeObserverEntry</a> <a
                    href="#ref-for-callbackdef-resizeobservercallback②">(2)</a> <a
                    href="#ref-for-callbackdef-resizeobservercallback③">(3)</a> <a
                    href="#ref-for-callbackdef-resizeobservercallback④">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="resizeobserverentry">
        <b><a href="#resizeobserverentry">#resizeobserverentry</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-resizeobserverentry">2.2. ResizeObserverCallback</a>
            <li><a href="#ref-for-resizeobserverentry①">3.4.4.
                    Create and populate a ResizeObserverEntry </a>
            <li><a href="#ref-for-resizeobserverentry②">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverentry-target">
        <b><a href="#dom-resizeobserverentry-target">#dom-resizeobserverentry-target</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverentry-target">2.3. ResizeObserverEntry</a>
            <li><a href="#ref-for-dom-resizeobserverentry-target①">3.4.4.
                    Create and populate a ResizeObserverEntry </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverentry-contentrect">
        <b><a href="#dom-resizeobserverentry-contentrect">#dom-resizeobserverentry-contentrect</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverentry-contentrect">2.3. ResizeObserverEntry</a>
            <li><a href="#ref-for-dom-resizeobserverentry-contentrect①">3.4.4.
                    Create and populate a ResizeObserverEntry </a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverentry-borderboxsize">
        <b><a href="#dom-resizeobserverentry-borderboxsize">#dom-resizeobserverentry-borderboxsize</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverentry-borderboxsize">2.3. ResizeObserverEntry</a>
            <li><a href="#ref-for-dom-resizeobserverentry-borderboxsize①">3.4.4.
                    Create and populate a ResizeObserverEntry </a>
            <li><a href="#ref-for-dom-resizeobserverentry-borderboxsize②">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverentry-contentboxsize">
        <b><a
                href="#dom-resizeobserverentry-contentboxsize">#dom-resizeobserverentry-contentboxsize</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverentry-contentboxsize">2.3. ResizeObserverEntry</a>
            <li><a href="#ref-for-dom-resizeobserverentry-contentboxsize①">3.4.4.
                    Create and populate a ResizeObserverEntry </a> <a
                    href="#ref-for-dom-resizeobserverentry-contentboxsize②">(2)</a>
            <li><a href="#ref-for-dom-resizeobserverentry-contentboxsize③">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserverentry-devicepixelcontentboxsize">
        <b><a
                href="#dom-resizeobserverentry-devicepixelcontentboxsize">#dom-resizeobserverentry-devicepixelcontentboxsize</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserverentry-devicepixelcontentboxsize">2.3. ResizeObserverEntry</a>
            <li><a href="#ref-for-dom-resizeobserverentry-devicepixelcontentboxsize①">3.4.4.
                    Create and populate a ResizeObserverEntry </a>
            <li><a href="#ref-for-dom-resizeobserverentry-devicepixelcontentboxsize②">3.4.5. Broadcast active
                    observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="resizeobserversize">
        <b><a href="#resizeobserversize">#resizeobserversize</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-resizeobserversize">2.3. ResizeObserverEntry</a> <a
                    href="#ref-for-resizeobserversize①">(2)</a> <a href="#ref-for-resizeobserversize②">(3)</a> <a
                    href="#ref-for-resizeobserversize③">(4)</a> <a href="#ref-for-resizeobserversize④">(5)</a> <a
                    href="#ref-for-resizeobserversize⑤">(6)</a>
            <li><a href="#ref-for-resizeobserversize⑥">3.1. ResizeObservation example struct</a> <a
                    href="#ref-for-resizeobserversize⑦">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="resizeobservation">
        <b><a href="#resizeobservation">#resizeobservation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-resizeobservation">2.1. ResizeObserver interface</a> <a
                    href="#ref-for-resizeobservation①">(2)</a>
            <li><a href="#ref-for-resizeobservation②">3.1. ResizeObservation example struct</a>
            <li><a href="#ref-for-resizeobservation③">3.2.2. ResizeObserver</a> <a
                    href="#ref-for-resizeobservation④">(2)</a> <a href="#ref-for-resizeobservation⑤">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobservation-target">
        <b><a href="#dom-resizeobservation-target">#dom-resizeobservation-target</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobservation-target">3.1. ResizeObservation example struct</a> <a
                    href="#ref-for-dom-resizeobservation-target①">(2)</a>
            <li><a href="#ref-for-dom-resizeobservation-target②">3.4.1. Gather active observations at depth</a>
            <li><a href="#ref-for-dom-resizeobservation-target③">3.4.5. Broadcast active observations</a> <a
                    href="#ref-for-dom-resizeobservation-target④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobservation-observedbox">
        <b><a href="#dom-resizeobservation-observedbox">#dom-resizeobservation-observedbox</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobservation-observedbox">3.1. ResizeObservation example struct</a> <a
                    href="#ref-for-dom-resizeobservation-observedbox①">(2)</a>
            <li><a href="#ref-for-dom-resizeobservation-observedbox②">3.4.5. Broadcast active observations</a> <a
                    href="#ref-for-dom-resizeobservation-observedbox③">(2)</a> <a
                    href="#ref-for-dom-resizeobservation-observedbox④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobservation-lastreportedsizes">
        <b><a
                href="#dom-resizeobservation-lastreportedsizes">#dom-resizeobservation-lastreportedsizes</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobservation-lastreportedsizes">3.1. ResizeObservation example struct</a> <a
                    href="#ref-for-dom-resizeobservation-lastreportedsizes①">(2)</a> <a
                    href="#ref-for-dom-resizeobservation-lastreportedsizes②">(3)</a>
            <li><a href="#ref-for-dom-resizeobservation-lastreportedsizes③">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobservation-isactive">
        <b><a href="#dom-resizeobservation-isactive">#dom-resizeobservation-isactive</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobservation-isactive">3.4.1. Gather active observations at depth</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-document-resizeobservers">
        <b><a href="#dom-document-resizeobservers">#dom-document-resizeobservers</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-document-resizeobservers">3.4.1. Gather active observations at depth</a>
            <li><a href="#ref-for-dom-document-resizeobservers①">3.4.2. Has active observations</a>
            <li><a href="#ref-for-dom-document-resizeobservers②">3.4.3. Has skipped observations</a>
            <li><a href="#ref-for-dom-document-resizeobservers③">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-callback">
        <b><a href="#dom-resizeobserver-callback">#dom-resizeobserver-callback</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-callback">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-observationtargets">
        <b><a href="#dom-resizeobserver-observationtargets">#dom-resizeobserver-observationtargets</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-observationtargets">2.1. ResizeObserver interface</a> <a
                    href="#ref-for-dom-resizeobserver-observationtargets①">(2)</a> <a
                    href="#ref-for-dom-resizeobserver-observationtargets②">(3)</a> <a
                    href="#ref-for-dom-resizeobserver-observationtargets③">(4)</a>
            <li><a href="#ref-for-dom-resizeobserver-observationtargets④">3.4.1. Gather active observations at depth</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-activetargets">
        <b><a href="#dom-resizeobserver-activetargets">#dom-resizeobserver-activetargets</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-activetargets">2.1. ResizeObserver interface</a>
            <li><a href="#ref-for-dom-resizeobserver-activetargets①">3.4.1. Gather active observations at depth</a> <a
                    href="#ref-for-dom-resizeobserver-activetargets②">(2)</a>
            <li><a href="#ref-for-dom-resizeobserver-activetargets③">3.4.2. Has active observations</a>
            <li><a href="#ref-for-dom-resizeobserver-activetargets④">3.4.5. Broadcast active observations</a> <a
                    href="#ref-for-dom-resizeobserver-activetargets⑤">(2)</a> <a
                    href="#ref-for-dom-resizeobserver-activetargets⑥">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-resizeobserver-skippedtargets">
        <b><a href="#dom-resizeobserver-skippedtargets">#dom-resizeobserver-skippedtargets</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-resizeobserver-skippedtargets">3.4.1. Gather active observations at depth</a> <a
                    href="#ref-for-dom-resizeobserver-skippedtargets①">(2)</a>
            <li><a href="#ref-for-dom-resizeobserver-skippedtargets②">3.4.3. Has skipped observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="content-rect">
        <b><a href="#content-rect">#content-rect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-content-rect">2.3. ResizeObserverEntry</a> <a href="#ref-for-content-rect①">(2)</a> <a
                    href="#ref-for-content-rect②">(3)</a> <a href="#ref-for-content-rect③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="gather-active-observations-at-depth">
        <b><a href="#gather-active-observations-at-depth">#gather-active-observations-at-depth</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-gather-active-observations-at-depth">3.6.1. HTML Processing Model: Event Loop</a> <a
                    href="#ref-for-gather-active-observations-at-depth①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="has-active-observations">
        <b><a href="#has-active-observations">#has-active-observations</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-has-active-observations">3.6.1. HTML Processing Model: Event Loop</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="has-skipped-observations">
        <b><a href="#has-skipped-observations">#has-skipped-observations</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-has-skipped-observations">3.6.1. HTML Processing Model: Event Loop</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="create-and-populate-a-resizeobserverentry">
        <b><a
                href="#create-and-populate-a-resizeobserverentry">#create-and-populate-a-resizeobserverentry</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-create-and-populate-a-resizeobserverentry">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="broadcast-active-observations">
        <b><a href="#broadcast-active-observations">#broadcast-active-observations</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-broadcast-active-observations">2.2. ResizeObserverCallback</a>
            <li><a href="#ref-for-broadcast-active-observations①">3.6.1. HTML Processing Model: Event Loop</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="deliver-resize-loop-error-notification">
        <b><a
                href="#deliver-resize-loop-error-notification">#deliver-resize-loop-error-notification</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-deliver-resize-loop-error-notification">3.6.1. HTML Processing Model: Event Loop</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="calculate-depth-for-node">
        <b><a href="#calculate-depth-for-node">#calculate-depth-for-node</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-calculate-depth-for-node">3.4.1. Gather active observations at depth</a>
            <li><a href="#ref-for-calculate-depth-for-node①">3.4.5. Broadcast active observations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="calculate-box-size①">
        <b><a href="#calculate-box-size①">#calculate-box-size①</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-calculate-box-size①">3.1. ResizeObservation example struct</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        // <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to top">↑</abbr></a></p>

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
