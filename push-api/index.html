<!DOCTYPE html>
<html lang="ja-JP">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.4.3">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>

    <title>Push API</title>


    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: italic
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>


    <meta name="color-scheme" content="light">
    <meta name="revision" content="54d5cb1f2f7f7295ca39e5cc5756213fb113e09b">
    <meta name="description"
        content="Push APIは、プッシュサービスを介してウェブアプリケーションにプッシュメッセージを送信することを可能にします。アプリケーションサーバーは、ウェブアプリケーションやユーザーエージェントが非アクティブな場合でも、いつでもプッシュメッセージを送信できます。プッシュサービスは、ユーザーエージェントへの信頼性の高い効率的な配信を保証します。プッシュメッセージはウェブアプリケーションのオリジンで実行されるService Workerに配信され、メッセージ内の情報を使用してローカル状態の更新やユーザーへの通知表示などが可能です。">
    <link rel="canonical" href="https://www.w3.org/TR/push-api/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "WD",
  "shortName": "push-api",
  "previousMaturity": "WD",
  "editors": [
    {
      "name": "Peter Beverloo",
      "company": "Google",
      "companyURL": "https://www.google.com/",
      "w3cid": "44819"
    },
    {
      "name": "Martin Thomson",
      "company": "Mozilla Foundation",
      "companyURL": "https://www.mozilla.org/",
      "w3cid": "68503"
    },
    {
      "name": "Marcos Caceres",
      "company": "Apple Inc.",
      "companyURL": "https://www.apple.com/",
      "w3cid": "39125"
    }
  ],
  "group": "webapps",
  "github": "w3c/push-api",
  "xref": "web-platform",
  "gitRevision": "54d5cb1f2f7f7295ca39e5cc5756213fb113e09b",
  "publishDate": "2025-08-06",
  "previousPublishDate": "2024-09-03",
  "publishISODate": "2025-08-06T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 06 August 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body
    data-cite="WEBIDL SERVICE-WORKERS FILEAPI SECURE-CONTEXTS HR-TIME PERMISSIONS ECMASCRIPT NOTIFICATIONS BADGING HTML INFRA URL WEBIDL DOM FETCH"
    class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">Push API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C作業草案</a> <time class="dt-published"
                datetime="2025-08-06">2025年8月6日</time></p>
        <details open="">
            <summary>この文書の詳細情報</summary>
            <dl>
                <dt>このバージョン:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/WD-push-api-20250806/">https://www.w3.org/TR/2025/WD-push-api-20250806/</a>
                </dd>
                <dt>最新公開バージョン:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/push-api/">https://www.w3.org/TR/push-api/</a>
                </dd>
                <dt>最新編集者ドラフト:</dt>
                <dd><a href="https://w3c.github.io/push-api/">https://w3c.github.io/push-api/</a></dd>
                <dt>履歴:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/push-api/">https://www.w3.org/standards/history/push-api/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/push-api/commits/">コミット履歴</a>
                </dd>

                <dt>編集者:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="44819">
                    <span class="p-name fn">Peter Beverloo</span> (<a class="p-org org h-org"
                        href="https://www.google.com/">Google</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="68503">
                    <span class="p-name fn">Martin Thomson</span> (<a class="p-org org h-org"
                        href="https://www.mozilla.org/">Mozilla Foundation</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <span class="p-name fn">Marcos Caceres</span> (<a class="p-org org h-org"
                        href="https://www.apple.com/">Apple Inc.</a>)
                </dd>
                <dt>
                    以前の編集者:
                </dt>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Bryan Sullivan</span> (<a class="p-org org h-org"
                        href="http://www.att.com/">AT&amp;T</a>) - <time datetime="2015-05-01">2015年5月1日まで</time>
                </dd>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Eduardo Fullea</span> (<a class="p-org org h-org"
                        href="http://www.telefonica.com/">Telefonica</a>) - <time
                        datetime="2015-05-01">2015年5月1日まで</time>
                </dd>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Michaël van Ouwerkerk</span> (<a class="p-org org h-org"
                        href="https://www.google.com/">Google</a>) - <time datetime="2016-11-08">2016年11月8日まで</time>
                </dd>

                <dt>フィードバック:</dt>
                <dd>
                    <a href="https://github.com/w3c/push-api/">GitHub w3c/push-api</a>
                    (<a href="https://github.com/w3c/push-api/pulls/">プルリクエスト</a>,
                    <a href="https://github.com/w3c/push-api/issues/new/choose">新しい課題</a>,
                    <a href="https://github.com/w3c/push-api/issues/">オープン課題</a>)
                </dd>
            </dl>
        </details>

        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>概要</h2>
        <p>
            <cite>Push API</cite>は、<a href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-1">プッシュサービス</a>を介してウェブアプリケーションに<a href="#dfn-push-message"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-message-1">プッシュメッセージ</a>を送信することを可能にします。<a
                href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-1">アプリケーションサーバー</a>は、ウェブアプリケーションや<a href="#dfn-user-agent"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-1">ユーザーエージェント</a>が非アクティブな場合でも、いつでも<a
                href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-2">プッシュメッセージ</a>を送信できます。<a href="#dfn-push-service" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-push-service-2">プッシュサービス</a>
            は<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-2">ユーザーエージェント</a>への信頼性の高い効率的な配信を保証します。<a href="#dfn-push-message"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-3">プッシュメッセージ</a>は、ウェブアプリケーションのオリジンで実行される<a data-link-type="dfn"
                href="https://www.w3.org/TR/service-workers/#dfn-service-worker">Service
                Worker</a>に配信され、メッセージ内の情報を使用してローカル状態の更新やユーザーへの通知表示などが可能です。
        </p>
        <p>
            この仕様は、<a href="#dfn-web-push-protocol" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-web-push-protocol-1">Web Pushプロトコル</a>とともに使用することを目的としています。これは<a
                href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-2">アプリケーションサーバー</a>や<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-3">ユーザーエージェント</a>が<a href="#dfn-push-service"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-3">プッシュサービス</a>とどのように連携するかを説明しています。
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>この文書のステータス</h2>
        <p><em>このセクションは、公開時点での
                文書のステータスを説明します。現行の<abbr title="World Wide Web Consortium">W3C</abbr>
                公開物およびこの技術レポートの最新改訂版は
                <a href="https://www.w3.org/TR/"><abbr
                        title="World Wide Web Consortium">W3C</abbr>標準・草案インデックス</a>で参照できます。</em></p>
        <p>
            この文書は、<a href="https://www.w3.org/groups/wg/webapps">Web Applications Working
                Group</a>によって
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">勧告トラック</a>を用いて作業草案として公開されました。
        </p>
        <p>作業草案として公開されても
            <abbr title="World Wide Web Consortium">W3C</abbr>およびそのメンバーによる承認を意味しません。
        </p>
        <p>
            この文書はドラフトであり、今後更新・置換・廃止される可能性があります。他の文書として引用するのは不適切です。進行中の作業としてのみ引用してください。
        </p>
        <p>
            この文書は
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                特許ポリシー</a>
            の下で活動するグループによって作成されました。
            <abbr title="World Wide Web Consortium">W3C</abbr>は
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webapps/ipr">関連する特許開示の公開リスト</a>
            を維持しています。そこには特許開示の方法も記載されています。ある個人が必須クレームを含むと考える特許を実際に知っている場合、
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C特許ポリシー第6節</a>に従い情報開示が必要です。
        </p>
        <p>
            この文書は
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023年11月3日 <abbr
                    title="World Wide Web Consortium">W3C</abbr>プロセス文書</a>に準拠しています。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">概要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">この文書のステータス</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    はじめに
                </a></li>
            <li class="tocline"><a class="tocxref" href="#dependencies"><bdi class="secno">2. </bdi>
                    依存関係
                </a></li>
            <li class="tocline"><a class="tocxref" href="#concepts"><bdi class="secno">3. </bdi>
                    概念
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#application-server"><bdi class="secno">3.1 </bdi>
                            アプリケーションサーバー
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#push-message"><bdi class="secno">3.2 </bdi>
                            プッシュメッセージ
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#declarative-push-message"><bdi class="secno">3.3
                            </bdi>
                            宣言的プッシュメッセージ
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#members"><bdi class="secno">3.3.1 </bdi>
                                    メンバー
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#parser"><bdi class="secno">3.3.2 </bdi>
                                    パーサー
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#push-subscription"><bdi class="secno">3.4 </bdi>
                            プッシュ購読
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#subscription-refreshes"><bdi
                                        class="secno">3.4.1 </bdi>
                                    購読の更新
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#subscription-deactivation"><bdi
                                        class="secno">3.4.2 </bdi>
                                    購読の無効化
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#push-service"><bdi class="secno">3.5 </bdi>
                            プッシュサービス
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#permission"><bdi class="secno">3.6 </bdi>
                            権限
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#security-and-privacy-considerations"><bdi class="secno">4.
                    </bdi>
                    セキュリティとプライバシーに関する考慮事項
                </a></li>
            <li class="tocline"><a class="tocxref" href="#pushframework"><bdi class="secno">5. </bdi>
                    プッシュフレームワーク
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#example"><bdi class="secno">5.1 </bdi>
                            例
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sequence-diagram"><bdi class="secno">5.2 </bdi>
                            シーケンス図
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#push-service-use"><bdi class="secno">5.3 </bdi>
                            プッシュサービスの利用
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-the-serviceworkerregistration-interface"><bdi
                        class="secno">6. </bdi>
                    <code>ServiceWorkerRegistration</code> インターフェースへの拡張
                </a></li>
            <li class="tocline"><a class="tocxref" href="#pushmanager-interface"><bdi class="secno">7. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PushManager"
                        data-dfn-for=""><code>PushManager</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#subscribe-method"><bdi class="secno">7.1 </bdi>
                            <code>subscribe()</code> メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#pushsubscriptionoptions-interface"><bdi
                                class="secno">7.2 </bdi>
                            <span data-export="" data-dfn-type="interface" data-idl="interface"
                                data-title="PushSubscriptionOptions"
                                data-dfn-for=""><code>PushSubscriptionOptions</code></span> インターフェース
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#pushsubscriptionoptionsinit-dictionary"><bdi
                                class="secno">7.3 </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="PushSubscriptionOptionsInit"
                                data-dfn-for=""><code>PushSubscriptionOptionsInit</code></span> 辞書
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#pushsubscription-interface"><bdi class="secno">8. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PushSubscription"
                        data-dfn-for=""><code>PushSubscription</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#pushencryptionkeyname-enumeration"><bdi
                                class="secno">8.1 </bdi>
                            <span data-export="" data-dfn-type="enum" data-idl="enum" data-title="PushEncryptionKeyName"
                                data-dfn-for=""><code>PushEncryptionKeyName</code></span> 列挙型
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#pushmessagedata-interface"><bdi class="secno">9. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PushMessageData"
                        data-dfn-for=""><code>PushMessageData</code></span> インターフェース
                </a></li>
            <li class="tocline"><a class="tocxref" href="#events"><bdi class="secno">10. </bdi>
                    イベント
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref"
                            href="#extensions-to-the-serviceworkerglobalscope-interface"><bdi class="secno">10.1 </bdi>
                            <code>ServiceWorkerGlobalScope</code> インターフェースへの拡張
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#pushevent-interface"><bdi class="secno">10.2 </bdi>
                            <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PushEvent"
                                data-dfn-for=""><code>PushEvent</code></span> インターフェース
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#receiving-a-push-message"><bdi class="secno">10.3
                            </bdi>
                            <span class="formerLink" data-link-type="dfn">プッシュメッセージ</span>の受信
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#the-pushsubscriptionchange-event"><bdi
                                class="secno">10.4 </bdi>
                            <span>pushsubscriptionchange</span> イベント
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#pushsubscriptionchangeevent-interface"><bdi
                                        class="secno">10.4.1 </bdi>
                                    <span data-export="" data-dfn-type="interface" data-idl="interface"
                                        data-title="PushSubscriptionChangeEvent"
                                        data-dfn-for=""><code>PushSubscriptionChangeEvent</code></span> インターフェース
                                </a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#pushsubscriptionchangeeventinit-interface"><bdi class="secno">10.4.2 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PushSubscriptionChangeEventInit"
                                        data-dfn-for=""><code>PushSubscriptionChangeEventInit</code></span> インターフェース
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#accessibility"><bdi class="secno">11. </bdi>
                    アクセシビリティ
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">12. </bdi>適合性</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">A. </bdi>IDL索引</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">B. </bdi>
                    謝辞
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1
                            </bdi>規範的参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">C.2
                            </bdi>参考情報</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="introduction">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                はじめに
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            Push APIはウェブアプリケーションが<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-4">ユーザーエージェント</a>と非同期に通信することを可能にします。これにより<a href="#dfn-application-server"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-3">アプリケーションサーバー</a>は、ユーザーがウェブアプリケーションを開くのを待つことなく、<a
                href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-5">ユーザーエージェント</a>にタイムリーな情報を提供できます。
        </p>
        <p>
            ここで定義されるように、<a href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-4">プッシュサービス</a>はいつでも<a href="#dfn-push-message" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-push-message-4">プッシュメッセージ</a>の配信をサポートします。
        </p>
        <p>
            特に、<a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-5">プッシュメッセージ</a>はウェブアプリケーションが現在ブラウザウィンドウでアクティブでなくても配信されます。これはユーザーがウェブアプリケーションを閉じていても、<a
                href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-6">プッシュメッセージ</a>受信時にウェブアプリケーションが再起動できることが有益となるユースケースに関連します。例えば、<a
                href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-7">プッシュメッセージ</a>は着信WebRTC通話の通知などに使われる場合があります。
        </p>
        <p>
            <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-8">プッシュメッセージ</a>は<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-6">ユーザーエージェント</a>が一時的にオフラインの場合にも送信可能です。これをサポートするため、<a
                href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-5">プッシュサービス</a>は<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-7">ユーザーエージェント</a>用のメッセージを<a href="#dfn-user-agent"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-8">ユーザーエージェント</a>が利用可能になるまで保存します。これにより、ユーザーがオフラインの間に発生した変更をウェブアプリケーションが把握し、<a
                href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-9">ユーザーエージェント</a>にタイムリーに関連情報を提供できます。<a href="#dfn-push-message"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-message-9">プッシュメッセージ</a>は、<a
                href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-6">プッシュサービス</a>によって<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-10">ユーザーエージェント</a>が到達可能になるまで保存され、その後配信されます。
        </p>
        <p>
            Push APIは、<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-11">ユーザーエージェント</a>がウェブアプリケーションを積極的に使用している間にもプッシュメッセージの信頼性の高い配信を保証します。例えば、ユーザーがウェブアプリケーションを積極的に利用している場合や、アクティブなワーカー・フレーム・バックグラウンドウィンドウを通じて<a
                href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-4">アプリケーションサーバー</a>と通信している場合です。これはPush
            APIの主なユースケースではありません。ウェブアプリケーションは、<a href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-5">アプリケーションサーバー</a>との常時通信を維持する必要を避けるため、稀なメッセージのためにPush
            APIを選択する場合があります。
        </p>
        <p>
            プッシュメッセージングは、<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-12">ユーザーエージェント</a>とウェブアプリケーションの間に既存の通信チャネルが確立されていない場合に最適です。<a
                href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-10">プッシュメッセージ</a>の送信は、<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-fetch" title="Fetch Standard">Fetch API</a></cite>や[<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-websockets"
                    title="WebSockets Standard">WebSockets</a></cite>]などのより直接的な通信方法と比較して、かなり多くのリソースを必要とします。<a
                href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-11">プッシュメッセージ</a>は通常、直接通信よりも高い遅延があり、利用制限を受ける場合があります。ほとんどの<a
                href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-7">プッシュサービス</a>は、送信可能な<a href="#dfn-push-message" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-push-message-12">プッシュメッセージ</a>のサイズや数に制限を設けています。
        </p>
    </section>
    <section id="dependencies">
        <div class="header-wrapper">
            <h2 id="x2-dependencies"><bdi class="secno">2. </bdi>
                依存関係
            </h2><a class="self-link" href="#dependencies" aria-label="Permalink for Section 2."></a>
        </div>

        <p>
            <dfn id="dfn-web-push-protocol" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Web Pushプロトコル</dfn>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8030"
                    title="Generic Event Delivery Using HTTP Push">RFC8030</a></cite>]は、<a href="#dfn-user-agent"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-13">ユーザーエージェント</a>または<a
                href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-6">アプリケーションサーバー</a>と<a href="#dfn-push-service" class="internalDFN"
                data-link-type="dfn"
                id="ref-for-dfn-push-service-8">プッシュサービス</a>間の通信を可能にするプロトコルを説明しています。代替プロトコルも使用可能ですが、本仕様はこのプロトコルの利用を前提としています。代替プロトコルは互換性のあるセマンティクスを提供する必要があります。
        </p>
        <p>
            <code><dfn id="dfn-content-encoding" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Content-Encoding</dfn></code>
            HTTPヘッダーは、[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7231"
                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">RFC7231</a></cite>]のセクション3.1.2.2で説明されており、<a
                href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-13">プッシュメッセージ</a>のペイロードに適用されるコンテンツコーディングを示します。
        </p>
    </section>
    <section id="concepts">
        <div class="header-wrapper">
            <h2 id="x3-concepts"><bdi class="secno">3. </bdi>
                概念
            </h2><a class="self-link" href="#concepts" aria-label="Permalink for Section 3."></a>
        </div>

        <section id="application-server">
            <div class="header-wrapper">
                <h3 id="x3-1-application-server"><bdi class="secno">3.1 </bdi>
                    アプリケーションサーバー
                </h3><a class="self-link" href="#application-server" aria-label="Permalink for Section 3.1"></a>
            </div>

            <p>
                <dfn data-plurals="application servers" id="dfn-application-server" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">アプリケーションサーバー</dfn>という用語は、ウェブアプリケーションのサーバー側コンポーネントを指します。
            </p>
        </section>
        <section id="push-message">
            <div class="header-wrapper">
                <h3 id="x3-2-push-message"><bdi class="secno">3.2 </bdi>
                    プッシュメッセージ
                </h3><a class="self-link" href="#push-message" aria-label="Permalink for Section 3.2"></a>
            </div>

            <p>
                <dfn data-plurals="push messages" id="dfn-push-message" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">プッシュメッセージ</dfn>は、<a href="#dfn-application-server" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-application-server-7">アプリケーションサーバー</a>からウェブアプリケーションに送信されるデータです。
            </p>
            <p>
                <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-14">プッシュメッセージ</a>は、メッセージが提出された<a href="#dfn-push-subscription"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-subscription-1">プッシュ購読</a>に関連付けられた<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-active-worker">アクティブワーカー</a>に配信されます。サービスワーカーが現在稼働していない場合、配信のためにワーカーが起動されます。
            </p>
        </section>
        <section id="declarative-push-message">
            <div class="header-wrapper">
                <h3 id="x3-3-declarative-push-message"><bdi class="secno">3.3 </bdi>
                    宣言的プッシュメッセージ
                </h3><a class="self-link" href="#declarative-push-message" aria-label="Permalink for Section 3.3"></a>
            </div>

            <p>
                <dfn id="dfn-declarative-push-message" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">宣言的プッシュメッセージ</dfn>は、ユーザーエージェントによって理解されるJSONドキュメントデータを持つ<a
                    data-link-type="dfn|abstract-op" href="#dfn-push-message" class="internalDFN"
                    id="ref-for-dfn-push-message-15">プッシュメッセージ</a>です。ユーザーエージェントは、各受信<a data-link-type="dfn|abstract-op"
                    href="#dfn-push-message" class="internalDFN"
                    id="ref-for-dfn-push-message-16">プッシュメッセージ</a>を機会的に解析し、<a data-link-type="dfn|abstract-op"
                    href="#dfn-declarative-push-message" class="internalDFN"
                    id="ref-for-dfn-declarative-push-message-1">宣言的プッシュメッセージ</a>かどうかを<a data-link-type="dfn|abstract-op"
                    href="#dfn-declarative-push-message-parser" class="internalDFN"
                    id="ref-for-dfn-declarative-push-message-parser-1">宣言的プッシュメッセージパーサー</a>を用いて判定します。
            </p>
            <p>
                <a data-link-type="dfn|abstract-op" href="#dfn-declarative-push-message" class="internalDFN"
                    id="ref-for-dfn-declarative-push-message-2">宣言的プッシュメッセージ</a>は、サービスワーカーの関与なしで通知の作成・表示を可能にします。ただし、<a
                    data-link-type="dfn|abstract-op" href="#dfn-application-server" class="internalDFN"
                    id="ref-for-dfn-application-server-8">アプリケーションサーバー</a>が望めばサービスワーカーも関与可能です。その場合、<a
                    data-link-type="dfn|abstract-op" href="#dfn-push-message" class="internalDFN"
                    id="ref-for-dfn-push-message-17">プッシュメッセージ</a>の宣言的性質は、例えばストレージのプレッシャー等でサービスワーカーが破棄された場合のバックアップとして機能します。また、通知データの送信によりオブジェクト指向的なアプローチを提供します。
            </p>
            <div class="example" id="example-1">
                <div class="marker">
                    <a class="self-link" href="#example-1">例<bdi> 1</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"web_push"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8030</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"notification"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Ada emailed ‘London’"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lang"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"en-US"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ltr"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"body"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Did you hear about the tube strikes?"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"navigate"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://email.example/message/12"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span></code></pre>
            </div>
            <section id="members">
                <div class="header-wrapper">
                    <h4 id="x3-3-1-members"><bdi class="secno">3.3.1 </bdi>
                        メンバー
                    </h4><a class="self-link" href="#members" aria-label="Permalink for Section 3.3.1"></a>
                </div>

                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-declarative-push-message" class="internalDFN"
                        id="ref-for-dfn-declarative-push-message-3">宣言的プッシュメッセージ</a>には以下のメンバーがあります：
                </p>
                <dl>
                    <dt>
                        <code>web_push</code>（必須）
                    </dt>
                    <dd>
                        <p>
                            値が8030でなければならない整数。他のJSONドキュメントと<a data-link-type="dfn|abstract-op"
                                href="#dfn-declarative-push-message" class="internalDFN"
                                id="ref-for-dfn-declarative-push-message-4">宣言的プッシュメッセージ</a>
                            を区別するために使用されます。
                        </p>
                    </dd>
                    <dt>
                        <code>notification</code>（必須）
                    </dt>
                    <dd>
                        <p>
                            以下のメンバーから成るJSONオブジェクトで、すべてNotifications
                            APIの機能と類似していますが、型がやや厳密な場合もあります。<code>title</code>以外のすべてのメンバーは<a data-link-type="dictionary"
                                data-lt="NotificationOptions"
                                href="https://notifications.spec.whatwg.org/#dictdef-notificationoptions"><code>NotificationOptions</code></a>
                            辞書から派生しており、同時に管理されます。[<cite><a class="bibref" data-link-type="biblio"
                                    href="#bib-notifications"
                                    title="Notifications API Standard">NOTIFICATIONS</a></cite>]
                        </p>
                        <dl>
                            <dt>
                                <code>title</code>（必須）
                            </dt>
                            <dd>
                                <p>
                                    文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>dir</code>
                            </dt>
                            <dd>
                                <p>
                                    "<code>auto</code>", "<code>ltr</code>", または "<code>rtl</code>"。
                                </p>
                            </dd>
                            <dt>
                                <code>lang</code>
                            </dt>
                            <dd>
                                <p>
                                    言語タグを保持する文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>body</code>
                            </dt>
                            <dd>
                                <p>
                                    文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>navigate</code>（必須）
                            </dt>
                            <dd>
                                <p>
                                    URLを保持する文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>tag</code>
                            </dt>
                            <dd>
                                <p>
                                    文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>image</code>
                            </dt>
                            <dd>
                                <p>
                                    URLを保持する文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>icon</code>
                            </dt>
                            <dd>
                                <p>
                                    URLを保持する文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>badge</code>
                            </dt>
                            <dd>
                                <p>
                                    URLを保持する文字列。
                                </p>
                            </dd>
                            <dt>
                                <code>vibrate</code>
                            </dt>
                            <dd>
                                <p>
                                    <a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#32-bit-unsigned-integer">32ビット符号なし整数</a>の配列。
                                </p>
                            </dd>
                            <dt>
                                <code>timestamp</code>
                            </dt>
                            <dd>
                                <p>
                                    <a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#64-bit-unsigned-integer">64ビット符号なし整数</a>。
                                </p>
                            </dd>
                            <dt>
                                <code>renotify</code>
                            </dt>
                            <dd>
                                <p>
                                    真偽値。
                                </p>
                            </dd>
                            <dt>
                                <code>silent</code>
                            </dt>
                            <dd>
                                <p>
                                    真偽値。
                                </p>
                            </dd>
                            <dt>
                                <code>requireInteraction</code>
                            </dt>
                            <dd>
                                <p>
                                    真偽値。
                                </p>
                                <div class="note" role="note" id="issue-container-generatedID">
                                    <div role="heading" class="note-title marker" id="h-note" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <a data-link-type="dictionary" data-lt="NotificationOptions"
                                            href="https://notifications.spec.whatwg.org/#dictdef-notificationoptions"><code>NotificationOptions</code></a>
                                        辞書との一貫性のため<code>require_interaction</code>とは名付けられていません。
                                    </p>
                                </div>
                            </dd>
                            <dt>
                                <code>data</code>
                            </dt>
                            <dd>
                                <p>
                                    任意のJSON値。
                                </p>
                            </dd>
                            <dt>
                                <code>actions</code>
                            </dt>
                            <dd>
                                <p>
                                    以下のメンバーを持つJSONオブジェクトの配列で、すべて<a data-link-type="dictionary"
                                        data-lt="NotificationAction"
                                        href="https://notifications.spec.whatwg.org/#dictdef-notificationaction"><code>NotificationAction</code></a>
                                    辞書から派生しており、同時に管理されます。
                                </p>
                                <dl>
                                    <dt>
                                        <code>action</code>（必須）
                                    </dt>
                                    <dd>
                                        <p>
                                            文字列。
                                        </p>
                                    </dd>
                                    <dt>
                                        <code>title</code>（必須）
                                    </dt>
                                    <dd>
                                        <p>
                                            文字列。
                                        </p>
                                    </dd>
                                    <dt>
                                        <code>navigate</code>（必須）
                                    </dt>
                                    <dd>
                                        <p>
                                            URLを保持する文字列。
                                        </p>
                                    </dd>
                                    <dt>
                                        <code>icon</code>
                                    </dt>
                                    <dd>
                                        <p>
                                            URLを保持する文字列。
                                        </p>
                                    </dd>
                                </dl>
                            </dd>
                        </dl>
                    </dd>
                    <dt>
                        <code>mutable</code>
                    </dt>
                    <dd>
                        <p>
                            真偽値。trueの場合、<a data-link-type="interface" data-lt="Notification"
                                href="https://notifications.spec.whatwg.org/#notification"><code>Notification</code></a>
                            オブジェクト（<a href="#dfn-declarative-push-message" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-declarative-push-message-5">宣言的プッシュメッセージ</a>で記述されたもの）を含む<code>push</code>イベントがサービスワーカー（存在する場合）へ
                            dispatch されます。
                        </p>
                    </dd>
                </dl>
            </section>
            <section id="parser">
                <div class="header-wrapper">
                    <h4 id="x3-3-2-parser"><bdi class="secno">3.3.2 </bdi>
                        パーサー
                    </h4><a class="self-link" href="#parser" aria-label="Permalink for Section 3.3.2"></a>
                </div>

                <p>
                    <dfn id="dfn-declarative-push-message-parser-result" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">宣言的プッシュメッセージパーサー結果</dfn>は、<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#tuple">タプル</a>であり、
                    <dfn data-dfn-for="declarative push message parser result" id="dfn-notification" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">notification</dfn>（
                    <a data-link-type="permission"
                        href="https://notifications.spec.whatwg.org/#permissiondef-notifications">通知</a>）と
                    <dfn data-dfn-for="declarative push message parser result" id="dfn-mutable" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">mutable</dfn>（真偽値）から成ります。
                </p>
                <p>
                    <dfn id="dfn-declarative-push-message-parser" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">宣言的プッシュメッセージパーサー</dfn>は、<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#byte-sequence">バイト列</a>
                    <var>bytes</var>、<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">オリジン</a>
                    <var>origin</var>、<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url">URL</a>
                    <var>baseURL</var>、
                    <a data-link-type="typedef" data-lt="EpochTimeStamp"
                        href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp"><code>EpochTimeStamp</code></a>
                    <var>fallbackTimestamp</var>を受け取り、以下の手順を実行します。失敗または<a data-link-type="dfn|abstract-op"
                        href="#dfn-declarative-push-message-parser-result" class="internalDFN"
                        id="ref-for-dfn-declarative-push-message-parser-result-1">宣言的プッシュメッセージパーサー結果</a>を返します。
                </p>
                <ol>
                    <li>
                        <p>
                            <var>message</var>を、<a data-link-type="dfn" data-lt="parse JSON bytes to an Infra value"
                                href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value">バイト列からInfra値へのJSON解析</a>を<var>bytes</var>に対して行った結果とします。例外が発生した場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p data-cite="INFRA">
                            <var>message</var>が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ordered-map">マップ</a>でない場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>message</var>["<code>web_push</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在しない</a>、または8030でない場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>message</var>["<code>notification</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在しない</a>場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>を<var>message</var>["<code>notification</code>"]とします。
                        </p>
                    </li>
                    <li>
                        <p data-cite="INFRA">
                            <var>notificationInput</var>が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ordered-map">マップ</a>でない場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>title</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在しない</a>、または文字列でない場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>navigate</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在しない</a>、または文字列でない場合、失敗を返します。
                        </p>
                    </li>

                    <li>
                        <p>
                            <var>notificationTitle</var>を<var>notificationInput</var>["<code>title</code>"]とします。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationOptions</var>を<a data-link-type="dictionary" data-lt="NotificationOptions"
                                href="https://notifications.spec.whatwg.org/#dictdef-notificationoptions"><code>NotificationOptions</code></a>
                            辞書とします。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>dir</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、"<code>auto</code>"・"<code>ltr</code>"・"<code>rtl</code>"のいずれかの場合、<var>notificationOptions</var>["<a
                                data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-dir"><code>dir</code></a>"]
                            に<var>notificationInput</var>["<code>dir</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>lang</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、文字列の場合、<var>notificationOptions</var>["<a
                                data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-lang"><code>lang</code></a>"]
                            に<var>notificationInput</var>["<code>lang</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>body</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、文字列の場合、<var>notificationOptions</var>["<a
                                data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-body"><code>body</code></a>"]
                            に<var>notificationInput</var>["<code>body</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationOptions</var>["<a data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-navigate"><code>navigate</code></a>"]
                            に<var>notificationInput</var>["<code>navigate</code>"]を<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#javascript-string-convert">変換</a>して設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>tag</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、文字列の場合、<var>notificationOptions</var>["<a
                                data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-tag"><code>tag</code></a>"]
                            に<var>notificationInput</var>["<code>tag</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>image</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、文字列の場合、<var>notificationOptions</var>["<a
                                data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-image"><code>image</code></a>"]
                            に<var>notificationInput</var>["<code>image</code>"]を<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#javascript-string-convert">変換</a>して設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>icon</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、文字列の場合、<var>notificationOptions</var>["<a
                                data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-icon"><code>icon</code></a>"]
                            に<var>notificationInput</var>["<code>icon</code>"]を<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#javascript-string-convert">変換</a>して設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>badge</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、文字列の場合、<var>notificationOptions</var>["<a
                                data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-badge"><code>badge</code></a>"]
                            に<var>notificationInput</var>["<code>badge</code>"]を<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#javascript-string-convert">変換</a>して設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>vibrate</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list">リスト</a>であり、
                            各<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item">要素</a>が<a
                                data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#32-bit-unsigned-integer">32ビット符号なし整数</a>の場合、
                            <var>notificationOptions</var>["<a data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-vibrate"><code>vibrate</code></a>"]
                            に<var>notificationInput</var>["<code>vibrate</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>timestamp</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#64-bit-unsigned-integer">64ビット符号なし整数</a>の場合、
                            <var>notificationOptions</var>["<a data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-timestamp"><code>timestamp</code></a>"]
                            に<var>notificationInput</var>["<code>timestamp</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>renotify</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、真偽値の場合、
                            <var>notificationOptions</var>["<a data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-renotify"><code>renotify</code></a>"]
                            に<var>notificationInput</var>["<code>renotify</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>silent</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、真偽値の場合、
                            <var>notificationOptions</var>["<a data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-silent"><code>silent</code></a>"]
                            に<var>notificationInput</var>["<code>silent</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>requireInteraction</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、真偽値の場合、
                            <var>notificationOptions</var>["<a data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-requireinteraction"><code>requireInteraction</code></a>"]
                            に<var>notificationInput</var>["<code>requireInteraction</code>"]を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>data</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>する場合、
                            <var>notificationOptions</var>["<a data-link-type="dict-member"
                                href="https://notifications.spec.whatwg.org/#dom-notificationoptions-data"><code>data</code></a>"]
                            に、<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#convert-an-infra-value-to-a-json-compatible-javascript-value">Infra値をJSON互換のJavaScript値に変換</a>を<var>notificationInput</var>["<code>data</code>"]に対して実行した結果を設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notificationInput</var>["<code>actions</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list">リスト</a>の場合：
                        </p>
                        <ol>
                            <li>
                                <p>
                                    <var>notificationActions</var>を« »とします。
                                </p>
                            </li>
                            <li>
                                <p>
                                    <a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#list-iterate">各</a><var>actionInput</var>を
                                    <var>notificationInput</var>["<code>actions</code>"]からイテレートします：
                                </p>
                                <ol>
                                    <li>
                                        <p>
                                            <var>actionInput</var>["<code>action</code>"]が<a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#map-exists">存在しない</a>、または文字列でない場合、<a
                                                data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#iteration-continue">継続</a>します。
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            <var>actionInput</var>["<code>title</code>"]が<a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#map-exists">存在しない</a>、または文字列でない場合、<a
                                                data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#iteration-continue">継続</a>します。
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            <var>actionInput</var>["<code>navigate</code>"]が<a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#map-exists">存在しない</a>、または文字列でない場合、<a
                                                data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#iteration-continue">継続</a>します。
                                        </p>
                                    </li>

                                    <li>
                                        <p>
                                            <var>actionNavigate</var>を
                                            <var>actionInput</var>["<code>navigate</code>"]を<a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#javascript-string-convert">変換</a>したものとします。
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            <var>notificationAction</var>を<a data-link-type="dictionary"
                                                data-lt="NotificationAction"
                                                href="https://notifications.spec.whatwg.org/#dictdef-notificationaction"><code>NotificationAction</code></a>
                                            辞書
                                            «[ "<a data-link-type="dict-member"
                                                href="https://notifications.spec.whatwg.org/#dom-notificationaction-action"><code>action</code></a>"
                                            → <var>actionInput</var>["<code>action</code>"],
                                            "<a data-link-type="dict-member"
                                                href="https://notifications.spec.whatwg.org/#dom-notificationaction-title"><code>title</code></a>"
                                            → <var>actionInput</var>["<code>title</code>"],
                                            "<a data-link-type="dict-member"
                                                href="https://notifications.spec.whatwg.org/#dom-notificationaction-navigate"><code>navigate</code></a>"
                                            → <var>actionNavigate</var> ]»とします。
                                        </p>
                                    </li>

                                    <li>
                                        <p>
                                            <var>actionInput</var>["<code>icon</code>"]が<a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>、文字列の場合、
                                            <var>notificationAction</var>["<a data-link-type="dict-member"
                                                href="https://notifications.spec.whatwg.org/#dom-notificationaction-icon"><code>icon</code></a>"]
                                            に<var>actionInput</var>["<code>icon</code>"]を<a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#javascript-string-convert">変換</a>して設定します。
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            <a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#list-append">追加</a>
                                            <var>notificationAction</var>を<var>notificationActions</var>に追加します。
                                        </p>
                                    </li>
                                </ol>
                            </li>
                            <li>
                                <p>
                                    <var>notificationOptions</var>["<a data-link-type="dict-member"
                                        href="https://notifications.spec.whatwg.org/#dom-notificationoptions-actions"><code>actions</code></a>"]
                                    に<var>notificationActions</var>を設定します。
                                </p>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <p>
                            <var>notification</var>を、<a data-lt="create a notification" data-link-type="dfn"
                                href="https://notifications.spec.whatwg.org/#create-a-notification">通知の作成</a>を
                            <var>notificationTitle</var>、<var>notificationOptions</var>、<var>origin</var>、
                            <var>baseURL</var>、<var>fallbackTimestamp</var>で実行した結果とします。例外が発生した場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notification</var>の<a data-link-type="dfn"
                                href="https://notifications.spec.whatwg.org/#notification-navigation-url">ナビゲーションURL</a>がnullの場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>notification</var>の<a data-link-type="dfn"
                                href="https://notifications.spec.whatwg.org/#actions">actions</a>に含まれる任意の<a
                                data-link-type="dfn" href="https://notifications.spec.whatwg.org/#action">通知アクション</a>の<a
                                data-link-type="dfn"
                                href="https://notifications.spec.whatwg.org/#notification-action-navigation-url">ナビゲーションURL</a>がnullの場合、失敗を返します。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>mutable</var>をfalseとします。
                        </p>
                    </li>
                    <li>
                        <p>
                            <var>message</var>["<code>mutable</code>"]が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#map-exists">存在し</a>し、
                            <var>message</var>["<code>mutable</code>"]が真偽値の場合、<var>mutable</var>を<var>message</var>["<code>mutable</code>"]に設定します。
                        </p>
                    </li>
                    <li>
                        <p>
                            (<var>notification</var>, <var>mutable</var>)を返します。
                        </p>
                    </li>
                </ol>
            </section>
        </section>
        <section id="push-subscription">
            <div class="header-wrapper">
                <h3 id="x3-4-push-subscription"><bdi class="secno">3.4 </bdi>
                    プッシュ購読
                </h3><a class="self-link" href="#push-subscription" aria-label="Permalink for Section 3.4"></a>
            </div>

            <p>
                <dfn data-plurals="push subscriptions" id="dfn-push-subscription" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">プッシュ購読</dfn>は、ウェブアプリケーションのために<a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-14">ユーザーエージェント</a>と<a href="#dfn-push-service"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-9">プッシュサービス</a>の間に確立されるメッセージ配信コンテキストです。各<a
                    href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-2">プッシュ購読</a>は<a data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>に関連付けられ、<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>には最大1つの<a
                    href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-3">プッシュ購読</a>のみが関連付けられます。
            </p>
            <p>
                <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-4">プッシュ購読</a>には、<dfn data-plurals="push endpoints"
                    id="dfn-push-endpoint" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">プッシュエンドポイント</dfn>が関連付けられます。これは<a href="#dfn-push-service" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-push-service-10">プッシュサービス</a>によって公開される絶対URLであり、<a
                    href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-application-server-9">アプリケーションサーバー</a>が<a href="#dfn-push-message"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-message-18">プッシュメッセージ</a>を送信できる場所です。<a
                    href="#dfn-push-endpoint" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-endpoint-1">プッシュエンドポイント</a>は<a href="#dfn-push-subscription"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-5">プッシュ購読</a>を一意に識別する必要があります。
            </p>
            <p>
                <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-6">プッシュ購読</a>には、<dfn id="dfn-subscription-expiration-time"
                    tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">購読有効期限</dfn>が関連付けられる場合があります。設定されている場合、これは1970年1月1日00:00:00 UTCからのミリ秒単位の時刻で、購読が<a
                    href="#dfn-deactivate" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-deactivate-1">無効化</a>される時刻です。<a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-15">ユーザーエージェント</a>は購読の有効期限前に<a href="#dfn-refresh"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-refresh-1">購読更新</a>を試みるべきです。
            </p>
            <p>
                <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-7">プッシュ購読</a>には、P-256 <a href="#dfn-ecdh" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-ecdh-1"><abbr
                        title="elliptic curve Diffie-Hellman">ECDH</abbr></a>鍵ペアと認証シークレットの内部スロットがあり、[<cite><a
                        class="bibref" data-link-type="biblio" href="#bib-rfc8291"
                        title="Message Encryption for Web Push">RFC8291</a></cite>]に準拠しています。これらのスロットは<a
                    href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-8">プッシュ購読</a>作成時に必ず設定される必要があります。
            </p>
            <p>
                <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-16">ユーザーエージェント</a>が何らかの理由で鍵を変更する必要がある場合、<a
                    href="#dfn-fire-the-pushsubscriptionchange-event" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-fire-the-pushsubscriptionchange-event-1">"pushsubscriptionchange"イベント</a>を、関連する<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>（<var>registration</var>）、旧鍵を持つ<a
                    data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                    id="ref-for-dom-pushsubscription-1"><code>PushSubscription</code></a>インスタンス（<var>oldSubscription</var>）、新鍵を持つ<a
                    data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                    id="ref-for-dom-pushsubscription-2"><code>PushSubscription</code></a>インスタンス（<var>newSubscription</var>）で発火する必要があります。
            </p>
            <p>
                <dfn id="dfn-create-a-push-subscription" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">プッシュ購読の作成</dfn>は、<a data-link-type="idl" data-lt="PushSubscriptionOptionsInit"
                    href="#dom-pushsubscriptionoptionsinit" class="internalDFN"
                    id="ref-for-dom-pushsubscriptionoptionsinit-1"><code>PushSubscriptionOptionsInit</code></a>
                <var data-type="PushSubscriptionOptionsInit">optionsDictionary</var>を受け取って以下の手順で実行されます：
            </p>
            <ol class="algorithm">
                <li><var data-type="PushSubscription">subscription</var>を新しい<a data-link-type="idl"
                        data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-3"><code>PushSubscription</code></a>とします。
                </li>
                <li><var data-type="PushSubscriptionOptions">options</var>を新しく作成した<a data-link-type="idl"
                        data-lt="PushSubscriptionOptions" href="#dom-pushsubscriptionoptions" class="internalDFN"
                        id="ref-for-dom-pushsubscriptionoptions-1"><code>PushSubscriptionOptions</code></a>
                    オブジェクトとし、その属性を<var
                        data-type="PushSubscriptionOptionsInit">optionsDictionary</var>の対応するメンバーと値で初期化します。
                </li>
                <li><var data-type="PushSubscription">subscription</var>の<a data-link-type="idl"
                        href="#dom-pushsubscription-options" class="internalDFN"
                        id="ref-for-dom-pushsubscription-options-1"><code>options</code></a>属性に<var
                        data-type="PushSubscriptionOptions">options</var>を設定します。
                </li>
                <li>新しいP-256 <a href="#dfn-ecdh" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-ecdh-2"><abbr
                            title="elliptic curve Diffie-Hellman">ECDH</abbr></a>鍵ペアを生成します
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-ansi-x9-62"
                            title="Public Key Cryptography for the Financial Services Industry, The Elliptic Curve Digital Signature Algorithm (ECDSA)">ANSI-X9-62</a></cite>]。
                    秘密鍵は<var data-type="PushSubscription">subscription</var>の内部スロットに格納し、この値はアプリケーションに公開してはなりません。
                    公開鍵も内部スロットに格納され、<a data-link-type="idl" data-lt="getKey()" href="#dom-pushsubscription-getkey"
                        class="internalDFN"
                        id="ref-for-dom-pushsubscription-getkey-1"><code>getKey</code></a><code>()</code>メソッドで"<a
                        data-link-type="idl" href="#dom-pushencryptionkeyname-p256dh" class="internalDFN"
                        id="ref-for-dom-pushencryptionkeyname-p256dh-1"><code>p256dh</code></a>"を引数に取得できます。
                </li>
                <li>新しい認証シークレット（[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8291"
                            title="Message Encryption for Web Push">RFC8291</a></cite>]で定義されたオクテット列）を生成し、<var
                        data-type="PushSubscription">subscription</var>の内部スロットに格納します。
                    この鍵は<a data-link-type="idl" data-lt="getKey()" href="#dom-pushsubscription-getkey"
                        class="internalDFN"
                        id="ref-for-dom-pushsubscription-getkey-2"><code>getKey</code></a><code>()</code>メソッドで"<a
                        data-link-type="idl" href="#dom-pushencryptionkeyname-auth" class="internalDFN"
                        id="ref-for-dom-pushencryptionkeyname-auth-1"><code>auth</code></a>"を引数に取得できます。
                </li>
                <li>新しい<a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-12">プッシュ購読</a>をリクエストします。
                    <a data-link-type="idl" href="#dom-pushsubscriptionoptions-applicationserverkey" class="internalDFN"
                        id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-1"><code>applicationServerKey</code></a>
                    属性が設定されている場合は<var data-type="PushSubscriptionOptions">options</var>から含めます。例外が発生した場合は再スローします。
                </li>
                <li><a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-13">プッシュ購読</a>リクエストが正常完了した場合：
                    <ol>
                        <li><var data-type="PushSubscription">subscription</var>の<a data-link-type="idl"
                                href="#dom-pushsubscription-endpoint" class="internalDFN"
                                id="ref-for-dom-pushsubscription-endpoint-1"><code>endpoint</code></a>属性に、<a
                                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-push-subscription-14">プッシュ購読</a>の<a href="#dfn-push-endpoint"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-push-endpoint-2">プッシュエンドポイント</a>を設定します。
                        </li>
                        <li><a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-push-subscription-15">プッシュ購読</a>から提供された場合は、<var
                                data-type="PushSubscription">subscription</var>の
                            <a data-link-type="idl" href="#dom-pushsubscription-expirationtime" class="internalDFN"
                                id="ref-for-dom-pushsubscription-expirationtime-1"><code>expirationTime</code></a>を設定します。
                        </li>
                    </ol>
                </li>
                <li><var data-type="PushSubscription">subscription</var>を返します。
                </li>
            </ol>
            <section id="subscription-refreshes">
                <div class="header-wrapper">
                    <h4 id="x3-4-1-subscription-refreshes"><bdi class="secno">3.4.1 </bdi>
                        購読の更新
                    </h4><a class="self-link" href="#subscription-refreshes"
                        aria-label="Permalink for Section 3.4.1"></a>
                </div>

                <p>
                    <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-17">ユーザーエージェント</a>または<a href="#dfn-push-service" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-push-service-11">プッシュサービス</a>は、<dfn id="dfn-refresh"
                        tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">購読更新</dfn>をいつでも行うことができます（例えば、一定期間経過後など）。
                </p>
                <p>
                    この場合、<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-18">ユーザーエージェント</a>は、現在の<a href="#dfn-push-subscription"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-17">プッシュ購読</a>作成時に提供された<a href="#dom-pushsubscriptionoptions"
                        class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-pushsubscriptionoptions-2"><code>PushSubscriptionOptions</code></a>で<a
                        href="#dfn-create-a-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-create-a-push-subscription-1">プッシュ購読の作成</a>手順を実行する必要があります。新しい<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-18">プッシュ購読</a>は元の購読とは異なる鍵ペアを持つ必要があります。
                </p>
                <p>
                    成功した場合、<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-19">ユーザーエージェント</a>は<em class="rfc2119">必ず</em><a
                        href="#dfn-fire-the-pushsubscriptionchange-event" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-fire-the-pushsubscriptionchange-event-2">"<code>pushsubscriptionchange</code>"イベントを発火</a>し、<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>（<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-19">プッシュ購読</a>に関連付けられたもの）を<var>registration</var>、初期の<a
                        data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-6"><code>PushSubscription</code></a>インスタンス（<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-20">プッシュ購読</a>を表す）を<var>oldSubscription</var>、新しい<a
                        data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-7"><code>PushSubscription</code></a>インスタンス（新しい<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-21">プッシュ購読</a>を表す）を<var>newSubscription</var>として指定します。
                </p>
                <p>
                    <a href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-application-server-10">アプリケーションサーバー</a>への変更伝播のための猶予を与えるため、<a
                        href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-20">ユーザーエージェント</a>は、更新後も短期間以前の<a href="#dfn-push-subscription"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-22">プッシュ購読</a>へのメッセージ受信を続ける場合があります。更新後にメッセージを受信したら、すべての古い<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-24">プッシュ購読</a>は<a href="#dfn-deactivate" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-deactivate-2">無効化</a>される必要があります。
                </p>
                <p>
                    <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-21">ユーザーエージェント</a>が<a href="#dfn-push-subscription"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-25">プッシュ購読</a>の更新に失敗した場合、定期的にリフレッシュを再試行する<em
                        class="rfc2119">べき</em>です。<a href="#dfn-push-subscription" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-push-subscription-26">プッシュ購読</a>が有効期限切れなどで利用できなくなった場合、<a
                        href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-22">ユーザーエージェント</a>は<em class="rfc2119">必ず</em><a
                        href="#dfn-fire-the-pushsubscriptionchange-event" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-fire-the-pushsubscriptionchange-event-3">"<code>pushsubscriptionchange</code>"イベントを発火</a>し、<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>（<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-27">プッシュ購読</a>に関連付けられているもの）を<var>registration</var>、無効化される<a
                        data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-8"><code>PushSubscription</code></a>インスタンス（<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-28">プッシュ購読</a>を表す）を<var>oldSubscription</var>、<var>newSubscription</var>には<code>null</code>を指定します。
                </p>
            </section>
            <section id="subscription-deactivation">
                <div class="header-wrapper">
                    <h4 id="x3-4-2-subscription-deactivation"><bdi class="secno">3.4.2 </bdi>
                        購読の無効化
                    </h4><a class="self-link" href="#subscription-deactivation"
                        aria-label="Permalink for Section 3.4.2"></a>
                </div>

                <p>
                    <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-29">プッシュ購読</a>が<dfn data-lt="deactivate|deactivated"
                        id="dfn-deactivate" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">無効化</dfn>されると、<a
                        href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-23">ユーザーエージェント</a>と<a href="#dfn-push-service" class="internalDFN"
                        data-link-type="dfn"
                        id="ref-for-dfn-push-service-12">プッシュサービス</a>は、その詳細の保存済みコピーを削除しなければなりません。その後、この<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-30">プッシュ購読</a>への<a href="#dfn-push-message"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-message-19">プッシュメッセージ</a>は配信してはなりません。
                </p>
                <p>
                    <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-31">プッシュ購読</a>は、関連付けられた<a data-link-type="dfn"
                        href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>が登録解除されたときに無効化されますが、<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-32">プッシュ購読</a>はそれ以前に無効化される場合もあります。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>注</span></div>
                    <p class="">
                        <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-push-subscription-33">プッシュ購読</a>は<a data-link-type="dfn"
                            href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>がクリアされると削除されます。
                    </p>
                </div>
            </section>
        </section>
        <section id="push-service">
            <div class="header-wrapper">
                <h3 id="x3-5-push-service"><bdi class="secno">3.5 </bdi>
                    プッシュサービス
                </h3><a class="self-link" href="#push-service" aria-label="Permalink for Section 3.5"></a>
            </div>

            <p>
                <dfn data-plurals="push services" id="dfn-push-service" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">プッシュサービス</dfn>という用語は、<a href="#dfn-application-server" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-application-server-11">アプリケーションサーバー</a>がウェブアプリケーションに<a
                    href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-20">プッシュメッセージ</a>を送信できるようにするシステムを指します。プッシュサービスは、そのサービスが扱う<a
                    href="#dfn-push-endpoint" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-endpoint-3">プッシュエンドポイント</a>または<a data-lt="push endpoints"
                    href="#dfn-push-endpoint" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-endpoint-4">エンドポイント</a>を提供します。
            </p>
            <p>
                <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-24">ユーザーエージェント</a>は、<a href="#dfn-push-service" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-push-service-13">プッシュサービス</a>に接続し、<a
                    href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-35">プッシュ購読</a>を作成します。<a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-25">ユーザーエージェント</a>は、利用可能な<a href="#dfn-push-service"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-14">プッシュサービス</a>の選択肢を制限する場合があります。これには、サービスの可用性（特定の国や職場ネットワークのファイアウォールによるブロックなど）、信頼性、バッテリー寿命への影響、特定の<a
                    href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-15">プッシュサービス</a>へのメタデータ誘導や回避に関する契約などの性能関連の理由が含まれます。
            </p>
        </section>
        <section id="permission">
            <div class="header-wrapper">
                <h3 id="x3-6-permission"><bdi class="secno">3.6 </bdi>
                    権限
                </h3><a class="self-link" href="#permission" aria-label="Permalink for Section 3.6"></a>
            </div>

            <p>
                Push APIは、<a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-powerful-feature">強力な機能</a>であり、<a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-name">名前</a>
                <dfn class="permission export" data-dfn-type="permission" data-export="" id="dfn-push" tabindex="0"
                    aria-haspopup="dialog">"push"</dfn>によって識別されます。
            </p>
            <p>
                <cite><a data-matched-text="[[[Permissions]]]"
                        href="https://www.w3.org/TR/permissions/">Permissions</a></cite>仕様との統合のため、本仕様は
                <a data-link-type="idl" data-lt="PushPermissionDescriptor" href="#dom-pushpermissiondescriptor"
                    class="internalDFN"
                    id="ref-for-dom-pushpermissiondescriptor-1"><code>PushPermissionDescriptor</code></a> <a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission-descriptor-type">権限記述子型</a>を定義します。
            </p>
            <pre class="idl def" id="webidl-1117437819"><span class="idlHeader"><a class="self-link" href="#webidl-1117437819">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-pushpermissiondescriptor" data-title="PushPermissionDescriptor">dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-pushpermissiondescriptor" data-idl="dictionary" data-title="PushPermissionDescriptor" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PushPermissionDescriptor</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor">PermissionDescriptor</a></span> {<span data-idl="" class="idlMember" id="idl-def-pushpermissiondescriptor-uservisibleonly" data-title="userVisibleOnly" data-dfn-for="PushPermissionDescriptor"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushpermissiondescriptor-uservisibleonly" id="ref-for-dom-pushpermissiondescriptor-uservisibleonly-1"><code>userVisibleOnly</code></a> = false;</span>
};</span></code></pre>
            <p data-dfn-for="PushPermissionDescriptor">
                <dfn data-export="" data-dfn-type="dict-member" id="dom-pushpermissiondescriptor-uservisibleonly"
                    data-idl="field" data-title="userVisibleOnly" data-dfn-for="PushPermissionDescriptor"
                    data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>userVisibleOnly</code></dfn>は
                <a data-link-type="idl" href="#dom-pushsubscriptionoptionsinit-uservisibleonly" class="internalDFN"
                    id="ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-1"><code>userVisibleOnly</code></a>と同じ意味を持ちます。
            </p>
            <p>
                <code>{name: "push", userVisibleOnly: false}</code>は
                <code>{name: "push", userVisibleOnly: true}</code>よりも<a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-stronger-than">強い</a>です。
            </p>
        </section>
    </section>
    <section id="security-and-privacy-considerations">
        <div class="header-wrapper">
            <h2 id="x4-security-and-privacy-considerations"><bdi class="secno">4. </bdi>
                セキュリティとプライバシーに関する考慮事項
            </h2><a class="self-link" href="#security-and-privacy-considerations"
                aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-21">プッシュメッセージ</a>の内容は暗号化されます [<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-rfc8291"
                    title="Message Encryption for Web Push">RFC8291</a></cite>]。ただし、<a href="#dfn-push-service"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-service-16">プッシュサービス</a>は、<a
                href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-12">アプリケーションサーバー</a>から<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-26">ユーザーエージェント</a>への<a href="#dfn-push-subscription"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-36">プッシュ購読</a>で送信されるメッセージのメタデータには依然としてアクセス可能です。これにはメッセージのタイミング・頻度・サイズが含まれます。<a
                href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-17">プッシュサービス</a>を変更する以外に、既知の対策はメッセージサイズをパディングで増やすことのみです（ユーザーエージェントがこれを許可しない場合もあります）。
        </p>
        <p>
            <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-22">プッシュメッセージ</a>がウェブアプリケーションと同じオリジンを持つ<a href="#dfn-application-server"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-13">アプリケーションサーバー</a>から送信された保証はありません。<a href="#dfn-application-server"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-application-server-14">アプリケーションサーバー</a>は、<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-37">プッシュ購読</a>の利用に必要な詳細を第三者と自由に共有可能です。
        </p>
        <p>
            以下の要件は、可能な限りユーザーのプライバシーとセキュリティを保護し、その目的達成を前提に
            <a href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-15">アプリケーションサーバー</a>とユーザーの通信の完全性も保護することを意図しています。
        </p>
        <p>
            <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-27">ユーザーエージェント</a>は、ユーザーの<a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions/#dfn-express-permission">明示的な許可</a>なしにPush
            APIアクセスをウェブアプリケーションに提供してはなりません。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-28">ユーザーエージェント</a>は、<code>subscribe()</code>メソッドの各呼び出し時にユーザーインターフェースを通じて許可の同意を取得する必要があります（すでに許可が保存されている場合や事前に信頼関係がある場合を除く）。現在のブラウジングセッションを超えて許可が保持される場合、それは取り消し可能でなければなりません。
        </p>
        <p>
            Push APIは、開発者が提供したイベントハンドラを実行するために関連する<a data-link-type="dfn"
                href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>を起動しなければならない場合があります。これによりネットワークトラフィックなどのリソース消費が発生しますが、<a
                href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-29">ユーザーエージェント</a>は、そのリソース消費を<a href="#dfn-push-subscription"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-38">プッシュ購読</a>を作成したウェブアプリケーションに帰属させるべきです。
        </p>
        <p>
            <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-30">ユーザーエージェント</a>は、許可取得や許可状態判定時に<a href="#dom-pushsubscriptionoptions"
                class="internalDFN" data-link-type="idl"
                id="ref-for-dom-pushsubscriptionoptions-3"><code>PushSubscriptionOptions</code></a>を考慮してもよいです。
        </p>
        <p>
            権限が取り消された場合、<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-31">ユーザーエージェント</a>は、その権限で作成された購読について、<em class="rfc2119">任意で</em><a
                href="#dfn-fire-the-pushsubscriptionchange-event" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-fire-the-pushsubscriptionchange-event-4">"<code>pushsubscriptionchange</code>"イベントを発火</a>してもよいです。その際、<a
                data-link-type="dfn"
                href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>（<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-39">プッシュ購読</a>に関連する）を<var>registration</var>、<a data-link-type="idl"
                data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                id="ref-for-dom-pushsubscription-9"><code>PushSubscription</code></a>インスタンス（<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-40">プッシュ購読</a>を表す）を<var>oldSubscription</var>、<var>newSubscription</var>には<code>null</code>を指定します。<a
                href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-32">ユーザーエージェント</a>は<em class="rfc2119">必ず</em>
            影響を受ける購読を並列で<a href="#dfn-deactivate" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-deactivate-5">無効化</a>しなければなりません。
        </p>
        <p>
            <a data-link-type="dfn"
                href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>が登録解除された場合、関連する<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-41">プッシュ購読</a>は必ず<a href="#dfn-deactivate" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-deactivate-6">無効化</a>されなければなりません。
        </p>
        <p>
            <a href="#dfn-push-endpoint" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-endpoint-5">プッシュエンドポイント</a>は、<a href="#dfn-push-service" class="internalDFN"
                data-link-type="dfn"
                id="ref-for-dfn-push-service-18">プッシュサービス</a>以外の主体（ユーザーのデバイス・識別・位置情報など）によってユーザーに関する情報を導出できるようにしてはなりません。詳細な要件は
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8030"
                    title="Generic Event Delivery Using HTTP Push">RFC8030</a></cite>] のPrivacy Considerationsを参照してください。
        </p>
        <p>
            <a href="#dfn-deactivate" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-deactivate-7">無効化</a>された<a href="#dfn-push-subscription" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-push-subscription-42">プッシュ購読</a>の<a href="#dfn-push-endpoint"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-endpoint-6">プッシュエンドポイント</a>は、新しい<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-43">プッシュ購読</a>に再利用してはなりません。これにより、ユーザーが削除できない永続的識別子の作成や、ある<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-44">プッシュ購読</a>の詳細を利用して別の<a href="#dfn-push-subscription"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-45">プッシュ購読</a>にメッセージを送信することを防ぎます。
        </p>
        <p>
            <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-33">ユーザーエージェント</a>は、Push APIが<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context">セキュアコンテキスト</a>でのみ利用可能となるよう実装しなければなりません。これにより、プッシュ購読データの取得を目的とした中間者攻撃からユーザーをより保護できます。ブラウザは開発目的のみこのルールを無視する場合があります。
        </p>
    </section>
    <section class="informative" id="pushframework">
        <div class="header-wrapper">
            <h2 id="x5-push-framework"><bdi class="secno">5. </bdi>
                プッシュフレームワーク
            </h2><a class="self-link" href="#pushframework" aria-label="Permalink for Section 5."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-24">プッシュメッセージ</a>は、以下のように<a href="#dfn-application-server"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-16">アプリケーションサーバー</a>からウェブアプリケーションに送信されます：
        </p>
        <ul>
            <li><a href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-application-server-17">アプリケーションサーバー</a>が<a href="#dfn-push-service"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-service-19">プッシュサービス</a>に、[<cite><a
                        class="bibref" data-link-type="biblio" href="#bib-rfc8030"
                        title="Generic Event Delivery Using HTTP Push">RFC8030</a></cite>]を使用して<a
                    href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-25">プッシュメッセージ</a>の配信を要求します。このリクエストは、<a href="#dfn-push-subscription"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-subscription-46">プッシュ購読</a>に含まれる<a
                    href="#dfn-push-endpoint" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-endpoint-7">プッシュエンドポイント</a>を使用します；
            </li>
            <li><a href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-20">プッシュサービス</a>が、メッセージ内で<a href="#dfn-push-endpoint"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-endpoint-8">プッシュエンドポイント</a>を特定し、特定の<a
                    href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-34">ユーザーエージェント</a>にメッセージを配信します；
            </li>
            <li><a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-35">ユーザーエージェント</a>が、対象となる<a data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-service-worker">Service Worker</a>を特定し、必要に応じて起動し、<a
                    href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-26">プッシュメッセージ</a>を<a data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-service-worker">Service Worker</a>に配信します。
            </li>
        </ul>
        <p>
            この全体的なフレームワークにより、<a href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-application-server-18">アプリケーションサーバー</a>側のイベントに応じて<a data-link-type="dfn"
                href="https://www.w3.org/TR/service-workers/#dfn-service-worker">Service
                Worker</a>を起動できます。これらのイベントに関する情報は<a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-27">プッシュメッセージ</a>に含めることができ、ウェブアプリケーションはそれに適切に反応し、ネットワークリクエストを開始する必要がない場合もあります。
        </p>
        <p>
            以下のコードと図は、push APIの仮想的な利用例を示します。
        </p>
        <section class="informative" id="example">
            <div class="header-wrapper">
                <h3 id="x5-1-example"><bdi class="secno">5.1 </bdi>
                    例
                </h3><a class="self-link" href="#example" aria-label="Permalink for Section 5.1"></a>
            </div>
            <p><em>このセクションは規範的ではありません。</em></p>

            <div class="example" id="example-2">
                <div class="marker">
                    <a class="self-link" href="#example-2">例<bdi> 2</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-comment">// https://example.com/serviceworker.js</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">onpush</span> = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">data</span>);
  <span class="hljs-comment">// ここからデータをIndexedDBに書き込んだり、開いているウィンドウに送信したり、通知を表示したりできる。</span>
}

<span class="hljs-comment">// https://example.com/webapp.js</span>
<span class="hljs-comment">// 非同期関数内...</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> serviceWorkerRegistration = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">serviceWorker</span>.<span class="hljs-title function_">register</span>(
    <span class="hljs-string">"serviceworker.js"</span>
  );
  <span class="hljs-keyword">const</span> pushSubscription = <span class="hljs-keyword">await</span> serviceWorkerRegistration.<span class="hljs-property">pushManager</span>.<span class="hljs-title function_">subscribe</span>();
  <span class="hljs-comment">// アプリケーションサーバーに必要なpush購読の詳細が利用可能となり、例えばXMLHttpRequestで送信できる。</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pushSubscription.<span class="hljs-property">endpoint</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pushSubscription.<span class="hljs-title function_">getKey</span>(<span class="hljs-string">"p256dh"</span>));
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pushSubscription.<span class="hljs-title function_">getKey</span>(<span class="hljs-string">"auth"</span>));
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-comment">// 本番環境ではエラー情報もアプリケーションサーバーに報告するのが適切かもしれない。</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);
}</code></pre>
            </div>
        </section>
        <section class="informative" id="sequence-diagram">
            <div class="header-wrapper">
                <h3 id="x5-2-sequence-diagram"><bdi class="secno">5.2 </bdi>
                    シーケンス図
                </h3><a class="self-link" href="#sequence-diagram" aria-label="Permalink for Section 5.2"></a>
            </div>
            <p><em>このセクションは規範的ではありません。</em></p>

            <figure id="fig-example-flow-of-events-for-subscription-push-message-delivery-and-unsubscription">
                <a href="images/sequence_diagram.png"><img src="images/sequence_diagram.png" width="795" height="870"
                        alt="購読・プッシュメッセージ配信・購読解除のイベントフロー例"></a>
                <figcaption><a class="self-link"
                        href="#fig-example-flow-of-events-for-subscription-push-message-delivery-and-unsubscription">図
                        <bdi class="figno">1</bdi></a> <span class="fig-title">
                        購読、プッシュメッセージ配信、購読解除のイベントフロー例
                    </span></figcaption>
            </figure>
        </section>
        <section id="push-service-use">
            <div class="header-wrapper">
                <h3 id="x5-3-push-service-use"><bdi class="secno">5.3 </bdi>
                    プッシュサービスの利用
                </h3><a class="self-link" href="#push-service-use" aria-label="Permalink for Section 5.3"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                    id="ref-for-dom-pushsubscription-10"><code>PushSubscription</code></a>に含まれるフィールドは、<a
                    href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-application-server-20">アプリケーションサーバー</a>が<a href="#dfn-push-message"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-28">プッシュメッセージ</a>を送信するために必要なすべての情報です。Push APIと互換性のあるプッシュサービスは、<a
                    href="#dfn-web-push-protocol" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-web-push-protocol-2">Web Pushプロトコル</a>に準拠した<a href="#dfn-push-endpoint"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-endpoint-9">プッシュエンドポイント</a>を提供します。これらのパラメータや属性には以下が含まれます：
            </p>
            <ul>
                <li><a href="#dfn-push-endpoint" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-endpoint-10">プッシュエンドポイント</a>は、<a data-link-type="idl"
                        data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-11"><code>PushSubscription</code></a>のURLであり、<a
                        href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-application-server-21">アプリケーションサーバー</a>がウェブアプリケーションに<a href="#dfn-push-message"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-message-29">プッシュメッセージ</a>配信を要求できるものです。
                </li>
                <li><a data-link-type="idl" data-lt="getKey()" href="#dom-pushsubscription-getkey" class="internalDFN"
                        id="ref-for-dom-pushsubscription-getkey-3"><code>getKey</code></a><code>()</code>メソッドは、<a
                        data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-12"><code>PushSubscription</code></a>からプッシュメッセージの暗号化と認証に使用される鍵情報を取得します。関数を呼び出すごとに、対応する鍵の値を含む新しい<a
                        data-link-type="interface" data-lt="ArrayBuffer"
                        href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a>が返され、識別された鍵が存在しない場合は<code>null</code>になります。"<a
                        data-link-type="idl" href="#dom-pushencryptionkeyname-p256dh" class="internalDFN"
                        id="ref-for-dom-pushencryptionkeyname-p256dh-2"><code>p256dh</code></a>"を指定すると、<dfn
                        data-abbr="ECDH" data-lt="ECDH|elliptic curve Diffie-Hellman" id="dfn-ecdh" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">楕円曲線Diffie-Hellman</dfn>（<abbr
                        title="elliptic curve Diffie-Hellman">ECDH</abbr>）公開鍵が返されます。<code>auth</code>を指定すると、アプリケーションサーバーがメッセージ認証に使用する認証シークレットが返されます。これらの鍵は、[<cite><a
                            class="bibref" data-link-type="biblio" href="#bib-rfc8291"
                            title="Message Encryption for Web Push">RFC8291</a></cite>]で説明されるように、<a
                        href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-application-server-22">アプリケーションサーバー</a>によって<a href="#dfn-push-subscription"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-48">プッシュ購読</a>向けのメッセージ暗号化・認証に使用されます。
                </li>
            </ul>
        </section>
    </section>
    <section data-dfn-for="ServiceWorkerRegistration" id="extensions-to-the-serviceworkerregistration-interface">
        <div class="header-wrapper">
            <h2 id="x6-extensions-to-the-serviceworkerregistration-interface"><bdi class="secno">6. </bdi>
                <code>ServiceWorkerRegistration</code> インターフェースへの拡張
            </h2><a class="self-link" href="#extensions-to-the-serviceworkerregistration-interface"
                aria-label="Permalink for Section 6."></a>
        </div>

        <p>
            Service Worker仕様は<a data-link-type="interface" data-lt="ServiceWorkerRegistration"
                href="https://www.w3.org/TR/service-workers/#serviceworkerregistration"><code>ServiceWorkerRegistration</code></a>
            インターフェース
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-service-workers"
                    title="Service Workers">SERVICE-WORKERS</a></cite>]を定義しており、本仕様はそれを拡張します。
        </p>
        <pre class="idl def" data-cite="WEBIDL SERVICE-WORKERS" id="webidl-27231878"><span class="idlHeader"><a class="self-link" href="#webidl-27231878">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-serviceworkerregistration-partial-1" data-title="ServiceWorkerRegistration">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="ServiceWorkerRegistration" class="idlID" data-dfn-for="ServiceWorkerRegistration" href="https://www.w3.org/TR/service-workers/#serviceworkerregistration">ServiceWorkerRegistration</a> {<span data-idl="" class="idlAttribute" id="idl-def-serviceworkerregistration-pushmanager" data-title="pushManager" data-dfn-for="ServiceWorkerRegistration">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushmanager" class="internalDFN" id="ref-for-dom-pushmanager-1"><code>PushManager</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serviceworkerregistration-pushmanager" id="ref-for-dom-serviceworkerregistration-pushmanager-1"><code>pushManager</code></a>;</span>
};</span></code></pre>
        <p>
            <dfn data-export="" data-dfn-type="attribute" id="dom-serviceworkerregistration-pushmanager"
                data-idl="attribute" data-title="pushManager" data-dfn-for="ServiceWorkerRegistration"
                data-type="PushManager" data-lt="pushManager" data-local-lt="ServiceWorkerRegistration.pushManager"
                tabindex="0" aria-haspopup="dialog"><code>pushManager</code></dfn>属性は<a data-link-type="idl"
                data-lt="PushManager" href="#dom-pushmanager" class="internalDFN"
                id="ref-for-dom-pushmanager-2"><code>PushManager</code></a>を公開し、この属性が公開される<a data-link-type="interface"
                data-lt="ServiceWorkerRegistration"
                href="https://www.w3.org/TR/service-workers/#serviceworkerregistration"><code>ServiceWorkerRegistration</code></a>によって
            表現される<a data-link-type="dfn"
                href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>に関連付けられています。
        </p>
    </section>
    <section data-dfn-for="PushManager" id="pushmanager-interface">
        <div class="header-wrapper">
            <h2 id="x7-pushmanager-interface"><bdi class="secno">7. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-pushmanager" data-idl="interface"
                    data-title="PushManager" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PushManager</code></dfn> インターフェース
            </h2><a class="self-link" href="#pushmanager-interface" aria-label="Permalink for Section 7."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="PushManager" href="#dom-pushmanager" class="internalDFN"
                id="ref-for-dom-pushmanager-3"><code>PushManager</code></a>インターフェースは<a href="#dfn-push-service"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-service-21">プッシュサービス</a>へのアクセス操作を定義します。
        </p>
        <pre class="idl def" id="webidl-1816674501"><span class="idlHeader"><a class="self-link" href="#webidl-1816674501">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-pushmanager" data-title="PushManager">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushmanager" id="ref-for-dom-pushmanager-4"><code>PushManager</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-pushmanager-supportedcontentencodings" data-title="supportedContentEncodings" data-dfn-for="PushManager">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] static readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array">FrozenArray</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushmanager-supportedcontentencodings" id="ref-for-dom-pushmanager-supportedcontentencodings-1"><code>supportedContentEncodings</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-pushmanager-subscribe-options" data-title="subscribe" data-dfn-for="PushManager"><span class="idlType">

  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-13"><code>PushSubscription</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmanager-subscribe" id="ref-for-dom-pushmanager-subscribe-1"><code>subscribe</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionoptionsinit" class="internalDFN" id="ref-for-dom-pushsubscriptionoptionsinit-2"><code>PushSubscriptionOptionsInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-pushmanager-getsubscription" data-title="getSubscription" data-dfn-for="PushManager"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-14"><code>PushSubscription</code></a>?&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmanager-getsubscription" id="ref-for-dom-pushmanager-getsubscription-1"><code>getSubscription</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-pushmanager-permissionstate-options" data-title="permissionState" data-dfn-for="PushManager"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="enum" href="https://www.w3.org/TR/permissions/#dom-permissionstate">PermissionState</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmanager-permissionstate" id="ref-for-dom-pushmanager-permissionstate-1"><code>permissionState</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionoptionsinit" class="internalDFN" id="ref-for-dom-pushsubscriptionoptionsinit-3"><code>PushSubscriptionOptionsInit</code></a></span> <span class="idlParamName">options</span> = {});</span>
};</span></code></pre>
        <p>
            <dfn data-export="" data-dfn-type="attribute" id="dom-pushmanager-supportedcontentencodings"
                data-idl="attribute" data-title="supportedContentEncodings" data-dfn-for="PushManager"
                data-type="FrozenArray" data-lt="supportedContentEncodings"
                data-local-lt="PushManager.supportedContentEncodings" tabindex="0"
                aria-haspopup="dialog"><code>supportedContentEncodings</code></dfn>属性は、<a href="#dfn-push-message"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-message-31">プッシュメッセージ</a>のペイロード暗号化に使用可能な対応コンテンツコーディングの配列を公開します。コンテンツコーディングは、<a
                href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-service-22">プッシュサービス</a>から<a href="#dfn-push-message" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-push-message-32">プッシュメッセージ</a>送信要求時に<a href="#dfn-content-encoding"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-content-encoding-1"><code>Content-Encoding</code></a>ヘッダフィールドで示されます。
        </p>
        <p>
            <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-36">ユーザーエージェント</a>は、[<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-rfc8291"
                    title="Message Encryption for Web Push">RFC8291</a></cite>]で定義された<code>aes128gcm</code>コンテンツコーディングをサポートしなければならず、互換性のため現行標準の以前のバージョンで定義されたコンテンツコーディングもサポートしてよいです。
        </p>
        <section id="subscribe-method">
            <div class="header-wrapper">
                <h3 id="x7-1-subscribe-method"><bdi class="secno">7.1 </bdi>
                    <code>subscribe()</code> メソッド
                </h3><a class="self-link" href="#subscribe-method" aria-label="Permalink for Section 7.1"></a>
            </div>
            <p>
                <dfn data-export="" data-dfn-type="method" id="dom-pushmanager-subscribe" data-idl="operation"
                    data-title="subscribe()" data-dfn-for="PushManager" data-type="Promise"
                    data-lt="subscribe()|subscribe(options)"
                    data-local-lt="PushManager.subscribe|PushManager.subscribe()|subscribe" tabindex="0"
                    aria-haspopup="dialog"><code>subscribe()</code></dfn>メソッドが呼び出された場合、以下の手順を実行しなければなりません：
            </p>
            <ol class="algorithm">
                <li><var>promise</var>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新しいpromise</a>とします。
                </li>
                <li><var>global</var>を<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>の<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">関連グローバルオブジェクト</a>とします。
                </li>
                <li><var>promise</var>を返し、<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">並列で</a>続行します。
                    <div class="note" role="note" id="issue-container-generatedID-1">
                        <div role="heading" class="note-title marker" id="h-note-1" aria-level="3">
                            <span>注</span><span class="issue-label">: 検証順序はユーザーエージェントごとに異なる場合があります</span>
                        </div>
                        <aside class="">
                            <p>
                                実装依存の理由により、ユーザーエージェントは以下の検証を異なる順序で行うことがあります（例：<a data-link-type="idl"
                                    href="#dom-pushsubscriptionoptionsinit-uservisibleonly" class="internalDFN"
                                    id="ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-2"><code>userVisibleOnly</code></a>
                                の許可を<a data-link-type="idl" href="#dom-pushsubscriptionoptionsinit-applicationserverkey"
                                    class="internalDFN"
                                    id="ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-1"><code>applicationServerKey</code></a>の検証後に行うことも、その逆もある）。しかし、これが実装やウェブアプリケーションの相互運用性に影響するとは考えていません。
                            </p>
                        </aside>
                    </div>
                </li>
                <li><var>options</var>引数の<a data-link-type="idl" href="#dom-pushsubscriptionoptionsinit-uservisibleonly"
                        class="internalDFN"
                        id="ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-3"><code>userVisibleOnly</code></a>
                    が<code>false</code>で、ユーザーエージェントが<code>true</code>を要求する場合、<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var>promise</var>
                    "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                </li>
                <li><var>options</var>引数が<a data-link-type="idl"
                        href="#dom-pushsubscriptionoptionsinit-applicationserverkey" class="internalDFN"
                        id="ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-2"><code>applicationServerKey</code></a>
                    メンバーの非null値を含まず、<a href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-service-23">プッシュサービス</a>が必須の場合、<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var>promise</var>
                    "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li><var>options</var>引数が<a data-link-type="idl"
                        href="#dom-pushsubscriptionoptions-applicationserverkey" class="internalDFN"
                        id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-2"><code>applicationServerKey</code></a>
                    属性の非null値を含む場合、以下のサブステップを実行：
                    <ol>
                        <li><var>options</var>の<a data-link-type="idl"
                                href="#dom-pushsubscriptionoptionsinit-applicationserverkey" class="internalDFN"
                                id="ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-3"><code>applicationServerKey</code></a>
                            が
                            <a data-link-type="interface" data-lt="DOMString"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>の場合、base64urlエンコーディング
                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515"
                                    title="JSON Web Signature (JWS)">RFC7515</a></cite>]でデコードし、そのオクテット列を含む<a
                                data-link-type="interface" data-lt="ArrayBuffer"
                                href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a>にセットする。
                        </li>
                        <li>デコード失敗時、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                            <var>promise</var> "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#invalidcharactererror"><code>InvalidCharacterError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                            でステップ終了。
                        </li>
                        <li><var>options</var>の<a data-link-type="idl"
                                href="#dom-pushsubscriptionoptionsinit-applicationserverkey" class="internalDFN"
                                id="ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-5"><code>applicationServerKey</code></a>
                            がP-256曲線上の有効な点か確認。有効でない場合、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                            <var>promise</var> "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#invalidaccesserror"><code>InvalidAccessError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                            でステップ終了。
                        </li>
                    </ol>
                </li>
                <li><var data-type="ServiceWorkerRegistration">registration</var>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>の関連<a data-link-type="dfn"
                        href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a>とする。
                </li>
                <li><var data-type="ServiceWorkerRegistration">registration</var>の<a data-link-type="dfn"
                        href="https://www.w3.org/TR/service-workers/#dfn-active-worker">アクティブワーカー</a>がnullの場合、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var>promise</var>
                    "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>でステップ終了。
                </li>
                <li><var>permission</var>を<a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use">"push"の使用許可を要求</a>の結果とする。
                </li>
                <li><var>permission</var>が"<a data-link-type="enum-value"
                        href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>"の場合、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">ユーザーインタラクションタスクソース</a>で<var>global</var>を使い、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var>promise</var>
                    "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>でステップ終了。
                </li>
                <li><var data-type="ServiceWorkerRegistration">registration</var>に<a href="#dfn-push-subscription"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-subscription-49">プッシュ購読</a>がある場合：
                    <ol>
                        <li><var>subscription</var>を<var data-type="ServiceWorkerRegistration">registration</var>の<a
                                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-push-subscription-50">プッシュ購読</a>の取得結果とする。エラーがあれば、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                            <var>promise</var> "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                            でステップ終了。
                        </li>
                        <li><var>options</var>引数と<var>subscription</var>の<code>options</code>属性を比較。<a
                                data-link-type="typedef" data-lt="BufferSource"
                                href="https://webidl.spec.whatwg.org/#BufferSource"><code>BufferSource</code></a>値は参照でなく内容の等価性で比較する。
                        </li>
                        <li><var>options</var>の任意の属性が<var>subscription</var>に保存された値と異なる場合、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                            <var>promise</var> "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                            でステップ終了。
                        </li>
                        <li>リクエスト完了時、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">resolve</a>
                            <var>promise</var> <var>subscription</var>でステップ終了。
                        </li>
                    </ol>
                </li>
                <li><var>subscription</var>を、<var>options</var>で<a data-link-type="dfn|abstract-op"
                        href="#dfn-create-a-push-subscription" class="internalDFN"
                        id="ref-for-dfn-create-a-push-subscription-2">プッシュ購読の作成</a>を試みた結果とする。購読の作成時に<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">例外を投げる</a>場合は、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                    <var>promise</var>をその<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-exception">例外</a>で拒否して、以降の手順を終了する。
                </li>
                <li>それ以外の場合、<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">グローバルタスクをキュー</a>し、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">ネットワーキングタスクソース</a>で<var>global</var>を使い、<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">resolve</a>
                    <var>promise</var> 新しい<var>subscription</var>の<a data-link-type="idl" data-lt="PushSubscription"
                        href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-15"><code>PushSubscription</code></a>詳細で。
                </li>
            </ol>
            <p>
                <dfn data-dfn-for="PushManager" data-export="" data-dfn-type="method"
                    id="dom-pushmanager-getsubscription" data-idl="operation" data-title="getSubscription"
                    data-type="Promise" data-lt="getSubscription()"
                    data-local-lt="PushManager.getSubscription|PushManager.getSubscription()|getSubscription"
                    tabindex="0"
                    aria-haspopup="dialog"><code>getSubscription</code></dfn>メソッドが呼び出された場合、以下の手順を実行しなければなりません：
            </p>
            <ol>
                <li><var>promise</var>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新しいpromise</a>とします。
                </li>
                <li><var>promise</var>を返し、以下の手順を非同期で継続します。
                </li>
                <li><a data-link-type="dfn" href="https://www.w3.org/TR/service-workers/#dfn-service-worker">Service
                        Worker</a>が購読されていない場合、<var>promise</var>をnullで解決。
                </li>
                <li><a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-51">プッシュ購読</a>を関連する<a data-link-type="dfn"
                        href="https://www.w3.org/TR/service-workers/#dfn-service-worker">Service Worker</a>から取得。
                </li>
                <li>エラーがあれば、<var>promise</var>を<a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>（名前は"<a
                        data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"）で拒否し、手順終了。
                </li>
                <li>リクエスト完了時、<var>promise</var>を<a data-link-type="idl" data-lt="PushSubscription"
                        href="#dom-pushsubscription" class="internalDFN"
                        id="ref-for-dom-pushsubscription-16"><code>PushSubscription</code></a>
                    取得した<a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-52">プッシュ購読</a>の詳細で解決。
                </li>
            </ol>
            <p>
                <dfn data-dfn-for="PushManager" data-export="" data-dfn-type="method"
                    id="dom-pushmanager-permissionstate" data-idl="operation" data-title="permissionState()"
                    data-type="Promise" data-lt="permissionState()|permissionState(options)"
                    data-local-lt="PushManager.permissionState|PushManager.permissionState()|permissionState"
                    tabindex="0"
                    aria-haspopup="dialog"><code>permissionState()</code></dfn>メソッドが呼び出された場合、以下の手順を実行しなければなりません：
            </p>
            <ol>
                <li><var>promise</var>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新しいpromise</a>とします。
                </li>
                <li><var>promise</var>を返し、以下の手順を非同期で継続します。
                </li>
                <li><var>descriptor</var>を新しい<a data-link-type="dictionary" data-lt="PermissionDescriptor"
                        href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"><code>PermissionDescriptor</code></a>
                    とし、<a data-link-type="dict-member"
                        href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor-name"><code>name</code></a>
                    を"push"で初期化。
                </li>
                <li><var>state</var>を<var>descriptor</var>の<a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions/#dfn-permission-state">権限状態</a>とその結果とします。
                </li>
                <li><var>promise</var>を<var>state</var>で解決。
                </li>
            </ol>
            <p>
                プッシュサービスの使用権限は永続的であり、有効な権限が存在すれば後続の購読で再確認不要です。
            </p>
            <p>
                権限取得が必要な場合は、
                <a data-link-type="idl" data-lt="subscribe()" href="#dom-pushmanager-subscribe" class="internalDFN"
                    id="ref-for-dom-pushmanager-subscribe-2"><code>subscribe</code></a><code>()</code>メソッドを呼び出す必要があります。
            </p>
        </section>
        <section data-dfn-for="PushSubscriptionOptions" id="pushsubscriptionoptions-interface">
            <div class="header-wrapper">
                <h3 id="x7-2-pushsubscriptionoptions-interface"><bdi class="secno">7.2 </bdi>
                    <dfn data-export="" data-dfn-type="interface" id="dom-pushsubscriptionoptions" data-idl="interface"
                        data-title="PushSubscriptionOptions" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PushSubscriptionOptions</code></dfn> インターフェース
                </h3><a class="self-link" href="#pushsubscriptionoptions-interface"
                    aria-label="Permalink for Section 7.2"></a>
            </div>

            <pre class="idl def" id="webidl-1484551711"><span class="idlHeader"><a class="self-link" href="#webidl-1484551711">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-pushsubscriptionoptions" data-title="PushSubscriptionOptions">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushsubscriptionoptions" id="ref-for-dom-pushsubscriptionoptions-4"><code>PushSubscriptionOptions</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-pushsubscriptionoptions-uservisibleonly" data-title="userVisibleOnly" data-dfn-for="PushSubscriptionOptions">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionoptions-uservisibleonly" id="ref-for-dom-pushsubscriptionoptions-uservisibleonly-1"><code>userVisibleOnly</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-pushsubscriptionoptions-applicationserverkey" data-title="applicationServerKey" data-dfn-for="PushSubscriptionOptions">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionoptions-applicationserverkey" id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-3"><code>applicationServerKey</code></a>;</span>
};</span></code></pre>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-pushsubscriptionoptions-uservisibleonly"
                    data-idl="attribute" data-title="userVisibleOnly" data-dfn-for="PushSubscriptionOptions"
                    data-type="boolean" data-lt="userVisibleOnly"
                    data-local-lt="PushSubscriptionOptions.userVisibleOnly" tabindex="0"
                    aria-haspopup="dialog"><code>userVisibleOnly</code></dfn>属性は、取得時に初期化された値を返します。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-pushsubscriptionoptions-applicationserverkey"
                    data-idl="attribute" data-title="applicationServerKey" data-dfn-for="PushSubscriptionOptions"
                    data-type="ArrayBuffer" data-lt="applicationServerKey"
                    data-local-lt="PushSubscriptionOptions.applicationServerKey" tabindex="0"
                    aria-haspopup="dialog"><code>applicationServerKey</code></dfn>属性は、取得時に初期化された値を返します。
            </p>
            <p>
                存在する場合、<a data-link-type="idl" href="#dom-pushsubscriptionoptions-applicationserverkey"
                    class="internalDFN"
                    id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-4"><code>applicationServerKey</code></a>の値は
                P-256楕円曲線上の点を含んでいなければなりません [<cite><a class="bibref" data-link-type="biblio" href="#bib-dss"
                        title="FIPS PUB 186-5: Digital Signature Standard (DSS)">DSS</a></cite>]。符号化は
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-ansi-x9-62"
                        title="Public Key Cryptography for the Financial Services Industry, The Elliptic Curve Digital Signature Algorithm (ECDSA)">ANSI-X9-62</a></cite>]
                附属書A（65オクテット、先頭は0x04オクテット）で示される非圧縮形式。<a data-link-type="interface" data-lt="DOMString"
                    href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>として提供される場合、値はbase64urlエンコーディング
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515"
                        title="JSON Web Signature (JWS)">RFC7515</a></cite>]で符号化されていなければなりません。
            </p>
            <p>
                <a data-link-type="idl" href="#dom-pushsubscriptionoptions-applicationserverkey" class="internalDFN"
                    id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-5"><code>applicationServerKey</code></a>が存在しない場合で、<a
                    href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-24">プッシュサービス</a>が運用上必須とする場合、ユーザーエージェントは購読試行を拒否してもよいです。
            </p>
            <p>
                <a data-link-type="idl" href="#dom-pushsubscriptionoptions-applicationserverkey" class="internalDFN"
                    id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-6"><code>applicationServerKey</code></a>は
                メッセージ暗号化に使用される値とは異なるものでなければなりません [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8291"
                        title="Message Encryption for Web Push">RFC8291</a></cite>]。
            </p>
        </section>
        <section data-dfn-for="PushSubscriptionOptionsInit" id="pushsubscriptionoptionsinit-dictionary">
            <div class="header-wrapper">
                <h3 id="x7-3-pushsubscriptionoptionsinit-dictionary"><bdi class="secno">7.3 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-pushsubscriptionoptionsinit"
                        data-idl="dictionary" data-title="PushSubscriptionOptionsInit" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PushSubscriptionOptionsInit</code></dfn> 辞書
                </h3><a class="self-link" href="#pushsubscriptionoptionsinit-dictionary"
                    aria-label="Permalink for Section 7.3"></a>
            </div>

            <pre class="idl def" id="webidl-975599346"><span class="idlHeader"><a class="self-link" href="#webidl-975599346">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-pushsubscriptionoptionsinit" data-title="PushSubscriptionOptionsInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-pushsubscriptionoptionsinit" id="ref-for-dom-pushsubscriptionoptionsinit-4"><code>PushSubscriptionOptionsInit</code></a> {<span data-idl="" class="idlMember" id="idl-def-pushsubscriptionoptionsinit-uservisibleonly" data-title="userVisibleOnly" data-dfn-for="PushSubscriptionOptionsInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionoptionsinit-uservisibleonly" id="ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-4"><code>userVisibleOnly</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-pushsubscriptionoptionsinit-applicationserverkey" data-title="applicationServerKey" data-dfn-for="PushSubscriptionOptionsInit"><span class="idlType">
  (<a data-link-type="typedef" href="https://webidl.spec.whatwg.org/#BufferSource">BufferSource</a> or <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>)?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionoptionsinit-applicationserverkey" id="ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-6"><code>applicationServerKey</code></a> = null;</span>
};</span></code></pre>
            <p>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-pushsubscriptionoptionsinit-uservisibleonly"
                    data-idl="field" data-title="userVisibleOnly" data-dfn-for="PushSubscriptionOptionsInit"
                    data-type="boolean" tabindex="0"
                    aria-haspopup="dialog"><code>userVisibleOnly</code></dfn>メンバーが<code>true</code>に設定されている場合、この<a
                    href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-53">プッシュ購読</a>はユーザーに可視化される効果を持つ<a href="#dfn-push-message"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-33">プッシュメッセージ</a>のみで使用されることを示します。例：Web通知の表示 [<cite><a class="bibref"
                        data-link-type="biblio" href="#bib-notifications"
                        title="Notifications API Standard">NOTIFICATIONS</a></cite>]
            </p>
            <p>
                <a href="#dom-pushsubscriptionoptionsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-pushsubscriptionoptionsinit-5"><code>PushSubscriptionOptionsInit</code></a>は
                <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-54">プッシュ購読</a>に関連する追加オプションを表します。<a href="#dfn-user-agent"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-37">ユーザーエージェント</a>は、これらのオプションをユーザーから<a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-express-permission">明示的な許可</a>を求める際に考慮してもよいです。オプションが考慮された場合、<a
                    href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-38">ユーザーエージェント</a>は、受信した<a href="#dfn-push-message" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-push-message-34">プッシュメッセージ</a>に対してそのオプションを施行すべきです。
            </p>
            <p>
                これらのオプションは任意であり、<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-39">ユーザーエージェント</a>はその一部のみをサポートする場合があります。<a href="#dfn-user-agent"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-40">ユーザーエージェント</a>はサポートしないオプションを公開してはなりません。
            </p>
            <p>
                一度設定された<a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-55">プッシュ購読</a>のオプションは変更できません。既存の<a href="#dfn-push-subscription"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-subscription-56">プッシュ購読</a>は、<a
                    data-link-type="idl" href="#dom-pushsubscription-unsubscribe" class="internalDFN"
                    id="ref-for-dom-pushsubscription-unsubscribe-1"><code>unsubscribe</code></a>で購読解除し、新しいオプションで再作成できます。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="dict-member"
                    id="dom-pushsubscriptionoptionsinit-applicationserverkey" data-idl="field"
                    data-title="applicationServerKey" data-dfn-for="PushSubscriptionOptionsInit"
                    data-type="BufferSource|DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>applicationServerKey</code></dfn>メンバーは、<a href="#dfn-user-agent"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-41">ユーザーエージェント</a>が<a
                    href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-25">プッシュサービス</a>と<a href="#dfn-push-subscription" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-push-subscription-58">プッシュ購読</a>を確立する際に使用されます。この<a
                    data-link-type="idl" href="#dom-pushsubscriptionoptions-applicationserverkey" class="internalDFN"
                    id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-7"><code>applicationServerKey</code></a>オプションには<a
                    href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-application-server-23">アプリケーションサーバー</a>の楕円曲線公開鍵が含まれます。これは<a
                    href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-application-server-24">アプリケーションサーバー</a>が、この<a href="#dfn-push-subscription"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-subscription-59">プッシュ購読</a>に<a
                    href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-35">プッシュメッセージ</a>を送信する際に自身を認証するために使用する鍵です [<cite><a class="bibref"
                        data-link-type="biblio" href="#bib-rfc8292"
                        title="Voluntary Application Server Identification (VAPID) for Web Push">RFC8292</a></cite>]；
                <a href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-26">プッシュサービス</a>は対応する秘密鍵で認証トークンが生成されなければ
                <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-36">プッシュメッセージ</a>を拒否します。
            </p>
        </section>
    </section>
    <section data-dfn-for="PushSubscription" id="pushsubscription-interface">
        <div class="header-wrapper">
            <h2 id="x8-pushsubscription-interface"><bdi class="secno">8. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-pushsubscription" data-idl="interface"
                    data-title="PushSubscription" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PushSubscription</code></dfn> インターフェース
            </h2><a class="self-link" href="#pushsubscription-interface" aria-label="Permalink for Section 8."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                id="ref-for-dom-pushsubscription-17"><code>PushSubscription</code></a>オブジェクトは<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-60">プッシュ購読</a>を表します。
        </p>
        <pre class="idl def" id="webidl-1348261679"><span class="idlHeader"><a class="self-link" href="#webidl-1348261679">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-pushsubscription" data-title="PushSubscription">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushsubscription" id="ref-for-dom-pushsubscription-18"><code>PushSubscription</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-pushsubscription-endpoint" data-title="endpoint" data-dfn-for="PushSubscription">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-pushsubscription-endpoint" data-idl="attribute" data-title="endpoint" data-dfn-for="PushSubscription" data-type="USVString" data-lt="endpoint" data-local-lt="PushSubscription.endpoint" class="idlName" tabindex="0" aria-haspopup="dialog"><code>endpoint</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-pushsubscription-expirationtime" data-title="expirationTime" data-dfn-for="PushSubscription">
  readonly attribute<span class="idlType"> <a data-link-type="typedef" href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp">EpochTimeStamp</a>?</span> <dfn data-export="" data-dfn-type="attribute" id="dom-pushsubscription-expirationtime" data-idl="attribute" data-title="expirationTime" data-dfn-for="PushSubscription" data-type="EpochTimeStamp" data-lt="expirationTime" data-local-lt="PushSubscription.expirationTime" class="idlName" tabindex="0" aria-haspopup="dialog"><code>expirationTime</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-pushsubscription-options" data-title="options" data-dfn-for="PushSubscription">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionoptions" class="internalDFN" id="ref-for-dom-pushsubscriptionoptions-5"><code>PushSubscriptionOptions</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscription-options" id="ref-for-dom-pushsubscription-options-2"><code>options</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-pushsubscription-getkey-name" data-title="getKey" data-dfn-for="PushSubscription"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a>?</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushsubscription-getkey" id="ref-for-dom-pushsubscription-getkey-4"><code>getKey</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-pushencryptionkeyname" class="internalDFN" id="ref-for-dom-pushencryptionkeyname-1"><code>PushEncryptionKeyName</code></a></span> <span class="idlParamName">name</span>);</span><span data-idl="" class="idlMethod" id="idl-def-pushsubscription-unsubscribe" data-title="unsubscribe" data-dfn-for="PushSubscription"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushsubscription-unsubscribe" id="ref-for-dom-pushsubscription-unsubscribe-2"><code>unsubscribe</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-pushsubscription-tojson" data-title="toJSON" data-dfn-for="PushSubscription"><span class="idlType">

  <a data-link-type="idl" href="#dom-pushsubscriptionjson" class="internalDFN" id="ref-for-dom-pushsubscriptionjson-1"><code>PushSubscriptionJSON</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushsubscription-tojson" id="ref-for-dom-pushsubscription-tojson-1"><code>toJSON</code></a>();</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-pushsubscriptionjson" data-title="PushSubscriptionJSON">

dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-pushsubscriptionjson" id="ref-for-dom-pushsubscriptionjson-2"><code>PushSubscriptionJSON</code></a> {<span data-idl="" class="idlMember" id="idl-def-pushsubscriptionjson-endpoint" data-title="endpoint" data-dfn-for="PushSubscriptionJSON"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-pushsubscriptionjson-endpoint" data-idl="field" data-title="endpoint" data-dfn-for="PushSubscriptionJSON" data-type="USVString" class="idlName" tabindex="0" aria-haspopup="dialog"><code>endpoint</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-pushsubscriptionjson-expirationtime" data-title="expirationTime" data-dfn-for="PushSubscriptionJSON"><span class="idlType">
  <a data-link-type="typedef" href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp">EpochTimeStamp</a>?</span> <dfn data-export="" data-dfn-type="dict-member" id="dom-pushsubscriptionjson-expirationtime" data-idl="field" data-title="expirationTime" data-dfn-for="PushSubscriptionJSON" data-type="EpochTimeStamp" class="idlName" tabindex="0" aria-haspopup="dialog"><code>expirationTime</code></dfn> = null;</span><span data-idl="" class="idlMember" id="idl-def-pushsubscriptionjson-keys" data-title="keys" data-dfn-for="PushSubscriptionJSON"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record">record</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>, <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionjson-keys" id="ref-for-dom-pushsubscriptionjson-keys-1"><code>keys</code></a>;</span>
};</span></code></pre>
        <p>
            <dfn id="dfn-getting-the-endpoint-attribute" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn"><code>endpoint</code>属性取得時</dfn>、<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-42">ユーザーエージェント</a>は
            <a href="#dfn-push-endpoint" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-endpoint-11">プッシュエンドポイント</a>（<a href="#dfn-push-subscription" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-push-subscription-61">プッシュ購読</a>に関連付けられている）を返さなければなりません。<a
                href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-43">ユーザーエージェント</a>は入力依存分岐のない（定数時間の）直列化方式を使わなければなりません。
        </p>
        <p>
            <dfn id="dfn-getting-the-expirationtime-attribute" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn"><code>expirationTime</code>属性取得時</dfn>、<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-44">ユーザーエージェント</a>は
            <a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-62">プッシュ購読</a>に関連付けられた<a href="#dfn-subscription-expiration-time"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-subscription-expiration-time-1">購読有効期限</a>を返す必要があり、なければ<code>null</code>を返します。
        </p>
        <p>
            <dfn data-export="" data-dfn-type="attribute" id="dom-pushsubscription-options" data-idl="attribute"
                data-title="options" data-dfn-for="PushSubscription" data-type="PushSubscriptionOptions"
                data-lt="options" data-local-lt="PushSubscription.options" tabindex="0"
                aria-haspopup="dialog"><code>options</code></dfn>属性取得時、<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-45">ユーザーエージェント</a>は
            <a href="#dom-pushsubscriptionoptions" class="internalDFN" data-link-type="idl"
                id="ref-for-dom-pushsubscriptionoptions-6"><code>PushSubscriptionOptions</code></a>オブジェクト（<a
                href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-push-subscription-63">プッシュ購読</a>に関連付けられたオプション）を返さなければなりません。
        </p>
        <p>
            <dfn data-export="" data-dfn-type="method" id="dom-pushsubscription-getkey" data-idl="operation"
                data-title="getKey()" data-dfn-for="PushSubscription" data-type="ArrayBuffer"
                data-lt="getKey()|getKey(name)" data-local-lt="PushSubscription.getKey|PushSubscription.getKey()|getKey"
                tabindex="0" aria-haspopup="dialog"><code>getKey()</code></dfn>メソッドは、メッセージの暗号化と認証に使用される鍵情報を取得します。<a
                data-link-type="idl" data-lt="getKey()" href="#dom-pushsubscription-getkey" class="internalDFN"
                id="ref-for-dom-pushsubscription-getkey-5"><code>getKey</code></a><code>()</code>が呼び出された場合、以下の処理が行われます：
        </p>
        <ol>
            <li><code>name</code>引数で指定された鍵名に対応する内部スロットを探します。</li>
            <li>スロットが見つからなければ<code>null</code>を返します。</li>
            <li><var>key</var>変数に新規インスタンス化した<a data-link-type="interface" data-lt="ArrayBuffer"
                    href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a>を初期化します。
            </li>
            <li>内部スロットが非対称鍵ペアを含む場合、<var>key</var>の内容を鍵ペアの公開鍵の直列化値で設定します。直列化方式は名前を定義する仕様で定められます。例：[<cite><a
                        class="bibref" data-link-type="biblio" href="#bib-rfc8291"
                        title="Message Encryption for Web Push">RFC8291</a></cite>]では"<a data-link-type="idl"
                    href="#dom-pushencryptionkeyname-p256dh" class="internalDFN"
                    id="ref-for-dom-pushencryptionkeyname-p256dh-3"><code>p256dh</code></a>"公開鍵は[<cite><a class="bibref"
                        data-link-type="biblio" href="#bib-ansi-x9-62"
                        title="Public Key Cryptography for the Financial Services Industry, The Elliptic Curve Digital Signature Algorithm (ECDSA)">ANSI-X9-62</a></cite>]附属書A（65オクテット、先頭は0x04）で定義される非圧縮形式で符号化されます。
            </li>
            <li>それ以外の場合、内部スロットが対称鍵を含むなら、<var>key</var>の内容をスロットの値のコピーで設定します。例：<code>auth</code>パラメータは<a
                    href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-46">ユーザーエージェント</a>が<a href="#dfn-application-server" class="internalDFN"
                    data-link-type="dfn"
                    id="ref-for-dfn-application-server-25">アプリケーションサーバー</a>から送信されるメッセージの認証に使うオクテット列です。
            </li>
            <li><var>key</var>を返します。</li>
        </ol>
        <p data-link-for="">
            "<a data-link-type="idl" href="#dom-pushencryptionkeyname-p256dh" class="internalDFN"
                id="ref-for-dom-pushencryptionkeyname-p256dh-4"><code>p256dh</code></a>"および"<a data-link-type="idl"
                href="#dom-pushencryptionkeyname-auth" class="internalDFN"
                id="ref-for-dom-pushencryptionkeyname-auth-2"><code>auth</code></a>"という名前の鍵は<em
                class="rfc2119">必ず</em>サポートされなければならず、その値は<em class="rfc2119">必ず</em>ユーザーエージェントが[<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-rfc8291"
                    title="Message Encryption for Web Push">RFC8291</a></cite>]に従って受信プッシュメッセージを復号するために必要なものと一致していなければなりません。
        </p>
        <p>
            <dfn data-lt="unsubscribed|unsubscribe()" data-export="" data-dfn-type="method"
                id="dom-pushsubscription-unsubscribe" data-idl="operation" data-title="unsubscribe()"
                data-dfn-for="PushSubscription" data-type="Promise"
                data-local-lt="PushSubscription.unsubscribe|PushSubscription.unsubscribe()|unsubscribe" tabindex="0"
                aria-haspopup="dialog"><code>unsubscribe()</code></dfn>メソッドが呼び出された場合、以下の手順を実行しなければなりません：
        </p>
        <ol>
            <li><var>promise</var>を<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#a-new-promise">新しいpromise</a>とします。</li>
            <li><var>promise</var>を返し、以下の手順を非同期で継続します。</li>
            <li><a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-64">プッシュ購読</a>がすでに<a href="#dfn-deactivate" class="internalDFN"
                    data-link-type="dfn"
                    id="ref-for-dfn-deactivate-8">無効化</a>されている場合、<var>promise</var>を<code>false</code>で解決し、手順終了。
            </li>
            <li>以下の手順を並列で実行：
                <ol>
                    <li>
                        <a href="#dfn-deactivate" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-deactivate-9">プッシュ購読を無効化</a>します。<a href="#dfn-user-agent"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-47">ユーザーエージェント</a>は以降この<a href="#dfn-push-subscription"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-push-subscription-66">プッシュ購読</a>に対する<a href="#dfn-push-message"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-push-message-37">プッシュメッセージ</a>を配信してはなりません。
                        <p>
                            <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-agent-48">ユーザーエージェント</a>がネットワーク障害等で<a href="#dfn-push-service"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-push-service-27">プッシュサービス</a>に<a href="#dfn-deactivate"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-deactivate-10">購読無効化</a>の要求ができなかった場合、適切な期間再試行すべきです。
                        </p>
                    </li>
                </ol>
            </li>
            <li><var>promise</var>を<code>true</code>で解決します。</li>
        </ol>
        <p>
            <dfn data-export="" data-dfn-type="method" id="dom-pushsubscription-tojson" data-idl="operation"
                data-title="toJSON()" data-dfn-for="PushSubscription" data-type="PushSubscriptionJSON"
                data-lt="toJSON()" data-local-lt="PushSubscription.toJSON|PushSubscription.toJSON()|toJSON" tabindex="0"
                aria-haspopup="dialog"><code>toJSON()</code></dfn>メソッドが呼び出された場合、以下の手順を実行しなければなりません：
        </p>
        <ol>
            <li><var data-type="PushSubscriptionJSON">json</var>を新しい<a data-link-type="idl"
                    data-lt="PushSubscriptionJSON" href="#dom-pushsubscriptionjson" class="internalDFN"
                    id="ref-for-dom-pushsubscriptionjson-3"><code>PushSubscriptionJSON</code></a>辞書とします。
            </li>
            <li><var data-type="PushSubscriptionJSON">json</var>["endpoint"]に<a data-link-type="dfn|abstract-op"
                    href="#dfn-getting-the-endpoint-attribute" class="internalDFN"
                    id="ref-for-dfn-getting-the-endpoint-attribute-1"><code>endpoint</code>属性取得</a>の結果を設定します。
            </li>
            <li><var data-type="PushSubscriptionJSON">json</var>["expirationTime"]に<a data-link-type="dfn|abstract-op"
                    href="#dfn-getting-the-expirationtime-attribute" class="internalDFN"
                    id="ref-for-dfn-getting-the-expirationtime-attribute-1"><code>expirationTime</code>属性取得</a>の結果を設定します。
            </li>
            <li><var>keys</var>を<code>record&lt;DOMString, USVString&gt;</code>の新しい空インスタンスとします。</li>
            <li><a data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                    id="ref-for-dom-pushsubscription-19"><code>PushSubscription</code></a>の内部スロットにある鍵名ごとに、鍵名で昇順に：
                <ol>
                    <li>内部スロットが非対称鍵ペアなら、<var>b</var>に鍵名<var>i</var>に対応する公開鍵を鍵名定義の符号化方式で符号化した値を設定（<a data-link-type="idl"
                            data-lt="getKey()" href="#dom-pushsubscription-getkey" class="internalDFN"
                            id="ref-for-dom-pushsubscription-getkey-6"><code>getKey</code></a><code>()</code>参照）。
                    </li>
                    <li>それ以外の場合、<var>b</var>に<a data-link-type="idl" href="#dom-pushsubscription-getkey"
                            class="internalDFN"
                            id="ref-for-dom-pushsubscription-getkey-7"><code>getKey</code></a>で返される値を設定。
                    </li>
                    <li><var>s</var>に<var>b</var>をURLセーフbase64符号化（パディングなし）[<cite><a class="bibref"
                                data-link-type="biblio" href="#bib-rfc4648"
                                title="The Base16, Base32, and Base64 Data Encodings">RFC4648</a></cite>]し、<a
                            href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-49">ユーザーエージェント</a>は<var>b</var>の値による分岐のない直列化方式を使う必要があります。
                    </li>
                    <li><var>keys</var>[<var>i</var>]に<var>s</var>を設定。</li>
                </ol>
            </li>
            <li><var data-type="PushSubscriptionJSON">json</var>["keys"]に<var>keys</var>を設定。</li>
            <li><var data-type="PushSubscriptionJSON">json</var>を返します。</li>
        </ol>
        <p>
            <dfn data-export="" data-dfn-type="dictionary" id="dom-pushsubscriptionjson" data-idl="dictionary"
                data-title="PushSubscriptionJSON" data-dfn-for="" tabindex="0"
                aria-haspopup="dialog"><code>PushSubscriptionJSON</code></dfn>辞書は<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-json-types">JSON型</a>であり、
            <a data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                id="ref-for-dom-pushsubscription-20"><code>PushSubscription</code></a>の型を表します。ECMAScriptでは
            <code>JSON</code>.<a data-link-type="method" data-lt="stringify()"
                href="https://tc39.es/ecma262/multipage/structured-data.html#sec-json.stringify"><code>stringify</code></a><code>()</code>
            関数でJSON文字列に変換できます。
        </p>
        <p>
            <dfn data-dfn-for="PushSubscriptionJSON" data-export="" data-dfn-type="dict-member"
                id="dom-pushsubscriptionjson-keys" data-idl="field" data-title="keys" data-type="record" tabindex="0"
                aria-haspopup="dialog"><code>keys</code></dfn>レコードには
            <a data-link-type="idl" data-lt="PushEncryptionKeyName" href="#dom-pushencryptionkeyname"
                class="internalDFN" id="ref-for-dom-pushencryptionkeyname-2"><code>PushEncryptionKeyName</code></a>
            の各エントリに対応するURLセーフbase64符号化表現（[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4648"
                    title="The Base16, Base32, and Base64 Data Encodings">RFC4648</a></cite>]）が含まれます。
        </p>
        <p>
            <a data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                id="ref-for-dom-pushsubscription-21"><code>PushSubscription</code></a>のオプションは直列化されないことに注意してください。
        </p>
        <section data-dfn-for="PushEncryptionKeyName" id="pushencryptionkeyname-enumeration">
            <div class="header-wrapper">
                <h3 id="x8-1-pushencryptionkeyname-enumeration"><bdi class="secno">8.1 </bdi>
                    <dfn data-export="" data-dfn-type="enum" id="dom-pushencryptionkeyname" data-idl="enum"
                        data-title="PushEncryptionKeyName" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PushEncryptionKeyName</code></dfn> 列挙型
                </h3><a class="self-link" href="#pushencryptionkeyname-enumeration"
                    aria-label="Permalink for Section 8.1"></a>
            </div>

            <p>
                <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-38">プッシュメッセージ</a>の暗号化に使われる暗号鍵は、<a data-link-type="idl"
                    data-lt="getKey()" href="#dom-pushsubscription-getkey" class="internalDFN"
                    id="ref-for-dom-pushsubscription-getkey-8"><code>getKey</code></a><code>()</code>メソッドや
                <a data-link-type="idl" data-lt="PushSubscription" href="#dom-pushsubscription" class="internalDFN"
                    id="ref-for-dom-pushsubscription-22"><code>PushSubscription</code></a>のシリアライザーを通じてウェブアプリケーションに提供されます。各鍵は<a
                    data-link-type="idl" data-lt="PushEncryptionKeyName" href="#dom-pushencryptionkeyname"
                    class="internalDFN"
                    id="ref-for-dom-pushencryptionkeyname-3"><code>PushEncryptionKeyName</code></a>列挙型の値で命名されます。
            </p>
            <pre class="idl def" id="webidl-226775330"><span class="idlHeader"><a class="self-link" href="#webidl-226775330">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-pushencryptionkeyname" data-title="PushEncryptionKeyName">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-pushencryptionkeyname" id="ref-for-dom-pushencryptionkeyname-4"><code>PushEncryptionKeyName</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-pushencryptionkeyname-p256dh" id="ref-for-dom-pushencryptionkeyname-p256dh-5"><code>p256dh</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-pushencryptionkeyname-auth" id="ref-for-dom-pushencryptionkeyname-auth-3"><code>auth</code></a>"</span>
};</span></code></pre>
            <p>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-pushencryptionkeyname-p256dh"
                    data-idl="enum-value" data-title="p256dh" data-dfn-for="PushEncryptionKeyName" tabindex="0"
                    aria-haspopup="dialog"><code>p256dh</code></dfn>値は、[<cite><a class="bibref" data-link-type="biblio"
                        href="#bib-rfc8291" title="Message Encryption for Web Push">RFC8291</a></cite>]で説明されるP-256 <abbr
                    title="elliptic curve Diffie-Hellman">ECDH</abbr> Diffie-Hellman公開鍵取得に使用されます。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-pushencryptionkeyname-auth" data-idl="enum-value"
                    data-title="auth" data-dfn-for="PushEncryptionKeyName" tabindex="0"
                    aria-haspopup="dialog"><code>auth</code></dfn>値は、
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8291"
                        title="Message Encryption for Web Push">RFC8291</a></cite>]で説明される認証シークレット取得に使用されます。
            </p>
        </section>
    </section>
    <section data-dfn-for="PushMessageData" id="pushmessagedata-interface">
        <div class="header-wrapper">
            <h2 id="x9-pushmessagedata-interface"><bdi class="secno">9. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-pushmessagedata" data-idl="interface"
                    data-title="PushMessageData" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PushMessageData</code></dfn> インターフェース
            </h2><a class="self-link" href="#pushmessagedata-interface" aria-label="Permalink for Section 9."></a>
        </div>

        <pre class="idl def" data-cite="WEBIDL FILEAPI" id="webidl-1430759589"><span class="idlHeader"><a class="self-link" href="#webidl-1430759589">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-pushmessagedata" data-title="PushMessageData">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushmessagedata" id="ref-for-dom-pushmessagedata-1"><code>PushMessageData</code></a> {<span data-idl="" class="idlMethod" id="idl-def-pushmessagedata-arraybuffer" data-title="arrayBuffer" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-arraybuffer" id="ref-for-dom-pushmessagedata-arraybuffer-1"><code>arrayBuffer</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-pushmessagedata-blob" data-title="blob" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-Blob">Blob</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-blob" id="ref-for-dom-pushmessagedata-blob-1"><code>blob</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-pushmessagedata-bytes" data-title="bytes" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Uint8Array">Uint8Array</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-bytes" id="ref-for-dom-pushmessagedata-bytes-1"><code>bytes</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-pushmessagedata-json" data-title="json" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any">any</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-json" id="ref-for-dom-pushmessagedata-json-1"><code>json</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-pushmessagedata-text" data-title="text" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-text" id="ref-for-dom-pushmessagedata-text-1"><code>text</code></a>();</span>
};</span></code></pre>
        <p>
            <a data-link-type="idl" data-lt="PushMessageData" href="#dom-pushmessagedata" class="internalDFN"
                id="ref-for-dom-pushmessagedata-2"><code>PushMessageData</code></a>オブジェクトは、作成時に設定される<dfn
                data-dfn-for="PushMessageData" id="dfn-bytes" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">bytes</dfn>（<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence">バイト列</a>）を持ちます。
        </p>
        <p>
            <dfn data-export="" data-dfn-type="method" id="dom-pushmessagedata-arraybuffer" data-idl="operation"
                data-title="arrayBuffer()" data-dfn-for="PushMessageData" data-type="ArrayBuffer"
                data-lt="arrayBuffer()"
                data-local-lt="PushMessageData.arrayBuffer|PushMessageData.arrayBuffer()|arrayBuffer" tabindex="0"
                aria-haspopup="dialog"><code>arrayBuffer()</code></dfn>メソッドの手順は、<a data-link-type="interface"
                data-lt="ArrayBuffer"
                href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a>オブジェクトを返し、その内容は<a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>の<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte">bytes</a>です。<a data-link-type="interface"
                data-lt="ArrayBuffer"
                href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a>オブジェクトの作成時に例外が発生した場合は再スローします。
        </p>
        <p>
            <dfn data-export="" data-dfn-type="method" id="dom-pushmessagedata-blob" data-idl="operation"
                data-title="blob()" data-dfn-for="PushMessageData" data-type="Blob" data-lt="blob()"
                data-local-lt="PushMessageData.blob|PushMessageData.blob()|blob" tabindex="0"
                aria-haspopup="dialog"><code>blob()</code></dfn>メソッドの手順は、内容が<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this">this</a>の<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte">bytes</a>である新しい<a data-link-type="interface" data-lt="Blob"
                href="https://www.w3.org/TR/FileAPI/#dfn-Blob"><code>Blob</code></a>オブジェクトを返します。
        </p>
        <p>
            <dfn data-export="" data-dfn-type="method" id="dom-pushmessagedata-bytes" data-idl="operation"
                data-title="bytes()" data-dfn-for="PushMessageData" data-type="Uint8Array" data-lt="bytes()"
                data-local-lt="PushMessageData.bytes|PushMessageData.bytes()|bytes" tabindex="0"
                aria-haspopup="dialog"><code>bytes()</code></dfn>メソッドの手順は、内容が<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this">this</a>の<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte">bytes</a>である<a data-link-type="interface"
                data-lt="ArrayBuffer"
                href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a>に裏付けられた新しい<a
                data-link-type="interface" data-lt="Uint8Array"
                href="https://webidl.spec.whatwg.org/#idl-Uint8Array"><code>Uint8Array</code></a>を返します。<a
                data-link-type="interface" data-lt="ArrayBuffer"
                href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a>オブジェクトの作成時に例外が発生した場合は再スローします。
        </p>
        <p data-cite="ENCODING">
            <dfn data-export="" data-dfn-type="method" id="dom-pushmessagedata-json" data-idl="operation"
                data-title="json()" data-dfn-for="PushMessageData" data-type="any" data-lt="json()"
                data-local-lt="PushMessageData.json|PushMessageData.json()|json" tabindex="0"
                aria-haspopup="dialog"><code>json()</code></dfn>メソッドの手順は、<a data-link-type="dfn"
                data-lt="parse JSON bytes to a JavaScript value"
                href="https://infra.spec.whatwg.org/#parse-json-bytes-to-a-javascript-value">JSONバイト列をJavaScript値に変換</a>を<a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>の<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte">bytes</a>に対して実行した結果を返します。
        </p>
        <p data-cite="ENCODING">
            <dfn data-export="" data-dfn-type="method" id="dom-pushmessagedata-text" data-idl="operation"
                data-title="text()" data-dfn-for="PushMessageData" data-type="USVString" data-lt="text()"
                data-local-lt="PushMessageData.text|PushMessageData.text()|text" tabindex="0"
                aria-haspopup="dialog"><code>text()</code></dfn>メソッドの手順は、<a data-link-type="dfn"
                href="https://encoding.spec.whatwg.org/#utf-8-decode">UTF-8デコード</a>を<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this">this</a>の<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte">bytes</a>に対して実行した結果を返します。
        </p>
        <p>
            <dfn id="dfn-extract-a-byte-sequence" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">バイト列を抽出する</dfn>には<var>object</var>に対して以下の手順を実行します：
        </p>
        <ol>
            <li><var>bytes</var>を空のバイト列とします。
            </li>
            <li><var>object</var>の型によって分岐：
                <dl data-cite="WEBIDL">
                    <dt>
                        <a data-link-type="typedef" data-lt="BufferSource"
                            href="https://webidl.spec.whatwg.org/#BufferSource"><code>BufferSource</code></a>
                    </dt>
                    <dd>
                        <var>bytes</var>に<var>object</var>の内容のコピーを設定。
                    </dd>
                    <dt>
                        <a data-link-type="interface" data-lt="USVString"
                            href="https://webidl.spec.whatwg.org/#idl-USVString"><code>USVString</code></a>
                    </dt>
                    <dd data-cite="ENCODING">
                        <var>bytes</var>に<var>object</var>へ<a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-encode">utf-8エンコード</a>を実行した結果を設定。
                    </dd>
                </dl>
            </li>
            <li><var>bytes</var>を返します。
            </li>
        </ol>
    </section>
    <section id="events">
        <div class="header-wrapper">
            <h2 id="x10-events"><bdi class="secno">10. </bdi>
                イベント
            </h2><a class="self-link" href="#events" aria-label="Permalink for Section 10."></a>
        </div>

        <section data-dfn-for="ServiceWorkerGlobalScope" id="extensions-to-the-serviceworkerglobalscope-interface">
            <div class="header-wrapper">
                <h3 id="x10-1-extensions-to-the-serviceworkerglobalscope-interface"><bdi class="secno">10.1 </bdi>
                    <code>ServiceWorkerGlobalScope</code> インターフェースへの拡張
                </h3><a class="self-link" href="#extensions-to-the-serviceworkerglobalscope-interface"
                    aria-label="Permalink for Section 10.1"></a>
            </div>

            <p>
                Service Worker仕様は<a data-link-type="interface" data-lt="ServiceWorkerGlobalScope"
                    href="https://www.w3.org/TR/service-workers/#serviceworkerglobalscope"><code>ServiceWorkerGlobalScope</code></a>
                インターフェース
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-service-workers"
                        title="Service Workers">SERVICE-WORKERS</a></cite>]を定義しており、本仕様はそれを拡張します。
            </p>
            <pre class="idl def" data-cite="WEBIDL HTML" id="webidl-801193280"><span class="idlHeader"><a class="self-link" href="#webidl-801193280">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-serviceworkerglobalscope-partial-1" data-title="ServiceWorkerGlobalScope">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="ServiceWorkerGlobalScope" class="idlID" data-dfn-for="ServiceWorkerGlobalScope" href="https://www.w3.org/TR/service-workers/#serviceworkerglobalscope">ServiceWorkerGlobalScope</a> {<span data-idl="" class="idlAttribute" id="idl-def-serviceworkerglobalscope-onpush" data-title="onpush" data-dfn-for="ServiceWorkerGlobalScope">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serviceworkerglobalscope-onpush" id="ref-for-dom-serviceworkerglobalscope-onpush-1"><code>onpush</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-serviceworkerglobalscope-onpushsubscriptionchange" data-title="onpushsubscriptionchange" data-dfn-for="ServiceWorkerGlobalScope">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serviceworkerglobalscope-onpushsubscriptionchange" id="ref-for-dom-serviceworkerglobalscope-onpushsubscriptionchange-1"><code>onpushsubscriptionchange</code></a>;</span>
};</span></code></pre>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-serviceworkerglobalscope-onpush"
                    data-idl="attribute" data-title="onpush" data-dfn-for="ServiceWorkerGlobalScope"
                    data-type="EventHandler" data-lt="onpush" data-local-lt="ServiceWorkerGlobalScope.onpush"
                    tabindex="0" aria-haspopup="dialog"><code>onpush</code></dfn>属性は、対応する<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">イベントハンドラーIDL属性</a>であり、
                対応する<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">イベントハンドラーイベントタイプ</a>は"<code>push</code>"です。"push"イベントは
                <a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-39">プッシュメッセージ</a>が<a href="#dfn-push-subscription" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-push-subscription-68">プッシュ購読</a>に対して受信されたことを示します。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-serviceworkerglobalscope-onpushsubscriptionchange"
                    data-idl="attribute" data-title="onpushsubscriptionchange" data-dfn-for="ServiceWorkerGlobalScope"
                    data-type="EventHandler" data-lt="onpushsubscriptionchange"
                    data-local-lt="ServiceWorkerGlobalScope.onpushsubscriptionchange" tabindex="0"
                    aria-haspopup="dialog"><code>onpushsubscriptionchange</code></dfn>属性は、対応する<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">イベントハンドラーIDL属性</a>であり、
                対応する<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">イベントハンドラーイベントタイプ</a>は
                "<code>pushsubscriptionchange</code>"です。
            </p>
        </section>
        <section data-dfn-for="PushEvent" id="pushevent-interface">
            <div class="header-wrapper">
                <h3 id="x10-2-pushevent-interface"><bdi class="secno">10.2 </bdi>
                    <dfn data-export="" data-dfn-type="interface" id="dom-pushevent" data-idl="interface"
                        data-title="PushEvent" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PushEvent</code></dfn> インターフェース
                </h3><a class="self-link" href="#pushevent-interface" aria-label="Permalink for Section 10.2"></a>
            </div>

            <pre class="idl def" data-cite="WEBIDL SERVICE-WORKERS NOTIFICATIONS"
                id="webidl-1213098884"><span class="idlHeader"><a class="self-link" href="#webidl-1213098884">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-pushevent" data-title="PushEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushevent" id="ref-for-dom-pushevent-1"><code>PushEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://www.w3.org/TR/service-workers/#extendableevent">ExtendableEvent</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-pushevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="PushEvent">
  <a class="internalDFN" data-link-type="constructor" href="#dom-pushevent-constructor" id="ref-for-dom-pushevent-constructor-1"><code>constructor</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-pusheventinit" class="internalDFN" id="ref-for-dom-pusheventinit-1"><code>PushEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-pushevent-data" data-title="data" data-dfn-for="PushEvent">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushmessagedata" class="internalDFN" id="ref-for-dom-pushmessagedata-3"><code>PushMessageData</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushevent-data" id="ref-for-dom-pushevent-data-1"><code>data</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-pushevent-notification" data-title="notification" data-dfn-for="PushEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://notifications.spec.whatwg.org/#notification">Notification</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushevent-notification" id="ref-for-dom-pushevent-notification-1"><code>notification</code></a>;</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-pusheventinit" data-title="PushEventInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-pusheventinit" data-idl="dictionary" data-title="PushEventInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PushEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://www.w3.org/TR/service-workers/#dictdef-extendableeventinit">ExtendableEventInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-pusheventinit-data" data-title="data" data-dfn-for="PushEventInit"><span class="idlType">
  <a data-link-type="idl" href="#dom-pushmessagedatainit" class="internalDFN" id="ref-for-dom-pushmessagedatainit-1"><code>PushMessageDataInit</code></a>?</span> <dfn data-export="" data-dfn-type="dict-member" id="dom-pusheventinit-data" data-idl="field" data-title="data" data-dfn-for="PushEventInit" data-type="PushMessageDataInit" class="idlName" tabindex="0" aria-haspopup="dialog"><code>data</code></dfn> = null;</span><span data-idl="" class="idlMember" id="idl-def-pusheventinit-notification" data-title="notification" data-dfn-for="PushEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://notifications.spec.whatwg.org/#notification">Notification</a>?</span> <dfn data-export="" data-dfn-type="dict-member" id="dom-pusheventinit-notification" data-idl="field" data-title="notification" data-dfn-for="PushEventInit" data-type="Notification" class="idlName" tabindex="0" aria-haspopup="dialog"><code>notification</code></dfn> = null;</span>
};</span><span data-idl="" class="idlTypedef" id="idl-def-pushmessagedatainit" data-title="PushMessageDataInit">

typedef<span class="idlType"> (<a data-link-type="typedef" href="https://webidl.spec.whatwg.org/#BufferSource">BufferSource</a> or <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a>)</span> <dfn data-export="" data-dfn-type="typedef" id="dom-pushmessagedatainit" data-idl="typedef" data-title="PushMessageDataInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PushMessageDataInit</code></dfn>;</span></code></pre>
            <p>
                <a href="#dom-pushevent" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-pushevent-2"><code>PushEvent</code></a>
                インターフェースまたは継承インターフェースの<dfn data-export="" data-dfn-type="constructor" id="dom-pushevent-constructor"
                    data-idl="constructor" data-title="constructor" data-dfn-for="PushEvent"
                    data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)"
                    data-local-lt="PushEvent.constructor|PushEvent.constructor()|constructor" tabindex="0"
                    aria-haspopup="dialog"><code>constructor</code></dfn>呼び出し時、通常の<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-event-constructor-ext">イベント構築手順</a>に加え、以下の手順を実行します：
            </p>
            <ol>
                <li><var>eventInitDict</var>の<code>data</code>メンバーが存在しない場合、イベントの<code>data</code>属性を<code>null</code>に設定し、以降の手順を終了。
                </li>
                <li><var>b</var>を、<var>eventInitDict</var>の"<code>data</code>"メンバーから<a data-lt="extract a byte sequence"
                        href="#dfn-extract-a-byte-sequence" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-extract-a-byte-sequence-1">バイト列を抽出する</a>結果とする。</li>
                <li>イベントの<code>data</code>属性に、新しい<a data-link-type="idl" data-lt="PushMessageData"
                        href="#dom-pushmessagedata" class="internalDFN"
                        id="ref-for-dom-pushmessagedata-4"><code>PushMessageData</code></a>インスタンス（<a
                        data-link-type="dfn|abstract-op" href="#dfn-bytes" class="internalDFN"
                        id="ref-for-dfn-bytes-1">bytes</a>が<var>b</var>）を設定。</li>
            </ol>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-pushevent-data" data-idl="attribute"
                    data-title="data" data-dfn-for="PushEvent" data-type="PushMessageData" data-lt="data"
                    data-local-lt="PushEvent.data" tabindex="0"
                    aria-haspopup="dialog"><code>data</code></dfn>属性は初期化時の値を返します。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-pushevent-notification" data-idl="attribute"
                    data-title="notification" data-dfn-for="PushEvent" data-type="Notification" data-lt="notification"
                    data-local-lt="PushEvent.notification" tabindex="0"
                    aria-haspopup="dialog"><code>notification</code></dfn>属性は初期化時の値を返します。
            </p>
        </section>
        <section id="receiving-a-push-message">
            <div class="header-wrapper">
                <h3 id="x10-3-receiving-a-push-message"><bdi class="secno">10.3 </bdi>
                    プッシュメッセージの受信
                </h3><a class="self-link" href="#receiving-a-push-message" aria-label="Permalink for Section 10.3"></a>
            </div>

            <p>
                <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-50">ユーザーエージェント</a>が<a href="#dfn-push-service" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-push-service-29">プッシュサービス</a>から<a href="#dfn-push-message"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-41">プッシュメッセージ</a>を受信した際は、以下の手順を必ず実行します。
            </p>
            <ol>
                <li><var>registration</var>を<a data-link-type="dfn"
                        href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">該当するサービスワーカー登録</a>とする。
                </li>
                <li><var>registration</var>が見つからない場合、手順を中止。</li>
                <li><var>subscription</var>を<var>registration</var>のアクティブな<a href="#dfn-push-subscription"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-push-subscription-69">プッシュ購読</a>とする。
                </li>
                <li><var>bytes</var>をnullとする。</li>
                <li><a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-message-43">プッシュメッセージ</a>がペイロードを含む場合：
                    <ol>
                        <li><a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-push-message-44">プッシュメッセージ</a>のペイロードを<var>subscription</var>に関連付けられた鍵ペアの秘密鍵で復号し、[<cite><a
                                    class="bibref" data-link-type="biblio" href="#bib-rfc8291"
                                    title="Message Encryption for Web Push">RFC8291</a></cite>]の手順に従う。<var>bytes</var>に復号結果の<a
                                data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence">バイト列</a>を設定。
                        </li>
                        <li>
                            <p>
                                何らかの理由で<a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-push-message-45">プッシュメッセージ</a>ペイロードが復号できなかった場合、<a
                                    data-link-type="dfn|abstract-op" data-lt="acknowledge a push message"
                                    href="#dfn-acknowledge-a-push-message" class="internalDFN"
                                    id="ref-for-dfn-acknowledge-a-push-message-1">プッシュメッセージの受領確認</a>を行い、手順を中止。
                            </p>
                            <div class="note" role="note" id="issue-container-generatedID-2">
                                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4">
                                    <span>注</span>
                                </div>
                                <p class="">
                                    <code>push</code>イベントは、購読に関連付けられた鍵ペアで復号できなかった<a href="#dfn-push-message"
                                        class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-push-message-47">プッシュメッセージ</a>には発火しません。
                                </p>
                            </div>
                        </li>
                    </ol>
                </li>
                <li>
                    <p>
                        <var>bytes</var>がnullでない場合：
                    </p>
                    <ol>
                        <li>
                            <p>
                                <var>baseURL</var>を<var>registration</var>の<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/service-workers/#dfn-scope-url">スコープURL</a>とする。
                            </p>
                        </li>
                        <li>
                            <p>
                                <var>origin</var>を<var>baseURL</var>の<a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-origin">オリジン</a>とする。
                            </p>
                        </li>
                        <li>
                            <p>
                                <var>fallbackTimestamp</var>を<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/hr-time-3/#dfn-current-wall-time">現在の粗化ウォールタイム</a>とする。
                            </p>
                        </li>
                        <li>
                            <p>
                                <var>declarativeResult</var>を、<a data-link-type="dfn|abstract-op"
                                    href="#dfn-declarative-push-message-parser" class="internalDFN"
                                    id="ref-for-dfn-declarative-push-message-parser-2">宣言的プッシュメッセージパーサー</a>を<var>bytes</var>,
                                <var>origin</var>, <var>baseURL</var>, <var>fallbackTimestamp</var>で実行した結果とする。
                            </p>
                        </li>
                        <li>
                            <p>
                                <var>declarativeResult</var>が失敗でない場合：
                            </p>
                            <ol>
                                <li>
                                    <p>
                                        <var>notification</var>を<var>declarativeResult</var>の<a
                                            data-link-type="dfn|abstract-op" href="#dfn-notification"
                                            class="internalDFN" id="ref-for-dfn-notification-1">notification</a>とする。
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <var>notification</var>の<a data-link-type="dfn"
                                            href="https://notifications.spec.whatwg.org/#service-worker-registration">サービスワーカー登録</a>を
                                        <var>registration</var>に設定。
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <var>notificationShown</var>をfalseとする。
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <var>declarativeResult</var>の<a data-link-type="dfn|abstract-op"
                                            href="#dfn-mutable" class="internalDFN"
                                            id="ref-for-dfn-mutable-1">mutable</a>
                                        がtrueの場合：
                                    </p>
                                    <ol>
                                        <li>
                                            <p>
                                                <var>result</var>を<a data-link-type="dfn|abstract-op"
                                                    data-lt="fire a push event" href="#dfn-fire-a-push-event"
                                                    class="internalDFN"
                                                    id="ref-for-dfn-fire-a-push-event-1">pushイベントの発火</a>を<var>registration</var>,
                                                null, <var>notification</var>の新しい<a data-link-type="interface"
                                                    data-lt="Notification"
                                                    href="https://notifications.spec.whatwg.org/#notification"><code>Notification</code></a>オブジェクトで実行した結果とする。
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                <var>result</var>が失敗でない場合、<var>notificationShown</var>を<var>result</var>の<a
                                                    data-link-type="dfn|abstract-op" href="#dfn-notification-shown"
                                                    class="internalDFN"
                                                    id="ref-for-dfn-notification-shown-1">notification shown</a>に設定。
                                            </p>
                                        </li>
                                    </ol>
                                </li>
                                <li>
                                    <p>
                                        <var>notificationShown</var>がfalseの場合、<a data-link-type="dfn"
                                            href="https://notifications.spec.whatwg.org/#notification-show-steps">通知表示手順</a>を<var>notification</var>で実行。
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <a data-link-type="dfn|abstract-op" data-lt="acknowledge a push message"
                                            href="#dfn-acknowledge-a-push-message" class="internalDFN"
                                            id="ref-for-dfn-acknowledge-a-push-message-2">プッシュメッセージの受領確認</a>を行い、手順を終了。
                                    </p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>
                    <p>
                        <var>data</var>を、<var>bytes</var>がnullでなければ<var>bytes</var>で初期化された新しい<a data-link-type="idl"
                            data-lt="PushMessageData" href="#dom-pushmessagedata" class="internalDFN"
                            id="ref-for-dom-pushmessagedata-5"><code>PushMessageData</code></a>オブジェクト、そうでなければnullとする。
                    </p>
                </li>
                <li>
                    <p>
                        <var>result</var>を<a data-link-type="dfn|abstract-op" data-lt="fire a push event"
                            href="#dfn-fire-a-push-event" class="internalDFN"
                            id="ref-for-dfn-fire-a-push-event-2">pushイベントの発火</a>を<var>registration</var>,
                        <var>data</var>, nullで実行した結果とする。
                    </p>
                </li>
                <li>
                    <p>
                        <var>result</var>が失敗で、同じ<a href="#dfn-push-message" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-push-message-49">プッシュメッセージ</a>が複数回サービスワーカー登録に失敗して配信された場合、<a
                            data-link-type="dfn|abstract-op" data-lt="acknowledge a push message"
                            href="#dfn-acknowledge-a-push-message" class="internalDFN"
                            id="ref-for-dfn-acknowledge-a-push-message-3">プッシュメッセージの受領確認</a>を行う。
                    </p>
                </li>
                <li>
                    <p>
                        <var>result</var>が失敗でなければ、<a data-link-type="dfn|abstract-op"
                            data-lt="acknowledge a push message" href="#dfn-acknowledge-a-push-message"
                            class="internalDFN" id="ref-for-dfn-acknowledge-a-push-message-4">プッシュメッセージの受領確認</a>を行う。
                    </p>
                </li>
            </ol>
            <p>
                <dfn id="dfn-push-event-result" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">pushイベント結果</dfn>は、<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#tuple">タプル</a>であり、<dfn data-dfn-for="push event result"
                    id="dfn-notification-shown" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">notification
                    shown</dfn>（<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean">真偽値</a>）を含みます。
            </p>
            <p>
                <dfn id="dfn-fire-a-push-event" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">pushイベントの発火</dfn>は、<a data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a><var>registration</var>、
                <a data-link-type="idl" data-lt="PushMessageData" href="#dom-pushmessagedata" class="internalDFN"
                    id="ref-for-dom-pushmessagedata-6"><code>PushMessageData</code></a>オブジェクトまたはnull<var>data</var>、
                <a data-link-type="permission"
                    href="https://notifications.spec.whatwg.org/#permissiondef-notifications">notification</a>またはnull<var>notification</var>で、以下の手順を実行。失敗または<a
                    data-link-type="dfn|abstract-op" href="#dfn-push-event-result" class="internalDFN"
                    id="ref-for-dfn-push-event-result-1">pushイベント結果</a>を返す。
            </p>
            <ol>
                <li>
                    <p>
                        <var>notificationResult</var>をnullとする。
                    </p>
                </li>
                <li>
                    <p>
                        <var>registration</var>の<a data-link-type="dfn"
                            data-lt="has shownotification() been successfully invoked"
                            href="https://notifications.spec.whatwg.org/#service-worker-registration-has-shownotification-been-successfully-invoked">showNotification()の正常呼び出し有無</a>をfalseに設定。
                    </p>
                </li>
                <li>
                    <p>
                        <a data-link-type="dfn"
                            href="https://www.w3.org/TR/service-workers/#fire-functional-event">「push」という機能的イベントを発火</a>し、<a
                            href="#dom-pushevent" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-pushevent-4"><code>PushEvent</code></a>を<var>registration</var>上で以下のプロパティとともに使用します：
                    </p>
                    <dl>
                        <dt>
                            <a data-link-type="idl" href="#dom-pushevent-data" class="internalDFN"
                                id="ref-for-dompushevent-data-2"><code>data</code></a>
                        </dt>
                        <dd>
                            <var>data</var>
                        </dd>
                        <dt>
                            <a data-link-type="idl" href="#dom-pushevent-notification" class="internalDFN"
                                id="ref-for-dom-pushevent-notification-2"><code>notification</code></a>
                        </dt>
                        <dd>
                            <var>notification</var>
                        </dd>
                    </dl>
                    <p>
                        その後、<var>dispatchedEvent</var>で以下の手順を並列で実行：
                    </p>
                    <ol>
                        <li>
                            <p>
                                <var>dispatchedEvent</var>の<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/service-workers/#extendableevent-extend-lifetime-promises">延長ライフタイムpromise</a>すべてが解決されるまで待機。
                            </p>
                        </li>
                        <li>
                            <p>
                                正常に解決されなければ<var>notificationResult</var>を失敗に設定。
                            </p>
                        </li>
                        <li>
                            <p>
                                正常に解決された場合、<var>notificationResult</var>を<var>registration</var>の<a data-link-type="dfn"
                                    data-lt="has shownotification() been successfully invoked"
                                    href="https://notifications.spec.whatwg.org/#service-worker-registration-has-shownotification-been-successfully-invoked">showNotification()の正常呼び出し有無</a>に設定。
                            </p>
                        </li>
                    </ol>
                </li>
                <li>
                    <p>
                        <var>notificationResult</var>がnullでなくなるまで待機。
                    </p>
                </li>
                <li>
                    <p>
                        <var>notificationResult</var>が失敗なら失敗を返す。
                    </p>
                </li>
                <li>
                    <p>
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert">Assert</a>:
                        <var>notificationResult</var>は<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#boolean">真偽値</a>である。
                    </p>
                </li>
                <li>
                    <p>
                        (<var>notificationResult</var>)を返す。
                    </p>
                </li>
            </ol>
            <p>
                <dfn id="dfn-acknowledge-a-push-message" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">プッシュメッセージの受領確認</dfn>は、<a href="#dfn-push-message" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-push-message-52">pushMessage</a>
                に対し、[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8030"
                        title="Generic Event Delivery Using HTTP Push">RFC8030</a></cite>]に従い受領確認を行うことを意味します。
            </p>
            <p>
                プッシュメッセージの受領確認により、<a href="#dfn-push-service" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-service-30">プッシュサービス</a>はメッセージの配信を停止し、<a href="#dfn-application-server"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-application-server-26">アプリケーションサーバー</a>に成功を報告します。これにより同じ<a href="#dfn-push-message"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-message-54">プッシュメッセージ</a>がプッシュサービスによって無限に再試行されるのを防ぎます。
            </p>
            <p>
                受領確認は、<a href="#dfn-application-server" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-application-server-27">アプリケーションサーバー</a>が誤って配信成功の受領通知を受け取る可能性もあることを意味します。そのため、受領確認前に複数回の拒否が許可されるべきです。少なくとも3回の試行が推奨されます。
            </p>
        </section>
        <section id="the-pushsubscriptionchange-event">
            <div class="header-wrapper">
                <h3 id="x10-4-the-pushsubscriptionchange-event"><bdi class="secno">10.4 </bdi>
                    <dfn id="dfn-pushsubscriptionchange" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">pushsubscriptionchange</dfn> イベント
                </h3><a class="self-link" href="#the-pushsubscriptionchange-event"
                    aria-label="Permalink for Section 10.4"></a>
            </div>

            <p>
                <a href="#dfn-pushsubscriptionchange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-pushsubscriptionchange-1">pushsubscriptionchange</a>イベントは、アプリケーションの制御外で発生した<a
                    href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-push-subscription-71">プッシュ購読</a>の変更（例：更新、取り消し、喪失など）を示します。
            </p>
            <p>
                <dfn id="dfn-fire-the-pushsubscriptionchange-event" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">pushsubscriptionchangeイベントの発火</dfn>は、<a data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#dfn-service-worker-registration">サービスワーカー登録</a><var>registration</var>、<var>newSubscription</var>、<var>oldSubscription</var>で、<a
                    href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-51">ユーザーエージェント</a>が
                <a data-link-type="dfn"
                    href="https://www.w3.org/TR/service-workers/#fire-functional-event">"pushsubscriptionchange"という機能的イベントを発火</a>
                し、<a href="#dom-pushsubscriptionchangeevent" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-pushsubscriptionchangeevent-1"><code>PushSubscriptionChangeEvent</code></a>で
                <var>registration</var>上で以下のプロパティを指定します：
            </p>
            <dl>
                <dt>
                    <code>newSubscription</code>
                </dt>
                <dd>
                    <var>newSubscription</var>
                </dd>
                <dt>
                    <code>oldSubscription</code>
                </dt>
                <dd>
                    <var>oldSubscription</var>
                </dd>
            </dl>
            <div class="note" role="note" id="issue-container-generatedID-3">
                <div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>注</span></div>
                <p class="">
                    新しい<a href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-72">プッシュ購読</a>の詳細を<a href="#dfn-application-server"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-application-server-28">アプリケーションサーバー</a>に送信する際は、[<cite><a class="bibref"
                            data-link-type="biblio" href="#bib-web-background-sync"
                            title="Web Background Synchronization">WEB-BACKGROUND-SYNC</a></cite>]などのより信頼性の高い同期機構の利用を検討してください。ユーザーが不安定なネットワーク状況下にある場合、fetchが失敗する可能性があります。
                </p>
            </div>
            <section data-dfn-for="PushSubscriptionChangeEvent" id="pushsubscriptionchangeevent-interface">
                <div class="header-wrapper">
                    <h4 id="x10-4-1-pushsubscriptionchangeevent-interface"><bdi class="secno">10.4.1 </bdi>
                        <dfn data-export="" data-dfn-type="interface" id="dom-pushsubscriptionchangeevent"
                            data-idl="interface" data-title="PushSubscriptionChangeEvent" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>PushSubscriptionChangeEvent</code></dfn> インターフェース
                    </h4><a class="self-link" href="#pushsubscriptionchangeevent-interface"
                        aria-label="Permalink for Section 10.4.1"></a>
                </div>

                <pre class="idl def" data-cite="WEBIDL SERVICE-WORKERS" id="webidl-2104077905"><span class="idlHeader"><a class="self-link" href="#webidl-2104077905">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-pushsubscriptionchangeevent" data-title="PushSubscriptionChangeEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushsubscriptionchangeevent" id="ref-for-dom-pushsubscriptionchangeevent-2"><code>PushSubscriptionChangeEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://www.w3.org/TR/service-workers/#extendableevent">ExtendableEvent</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-pushsubscriptionchangeevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="PushSubscriptionChangeEvent">
  <dfn data-export="" data-dfn-type="constructor" id="dom-pushsubscriptionchangeevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PushSubscriptionChangeEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="PushSubscriptionChangeEvent.constructor|PushSubscriptionChangeEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionchangeeventinit" class="internalDFN" id="ref-for-dom-pushsubscriptionchangeeventinit-1"><code>PushSubscriptionChangeEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-pushsubscriptionchangeevent-newsubscription" data-title="newSubscription" data-dfn-for="PushSubscriptionChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-23"><code>PushSubscription</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionchangeevent-newsubscription" id="ref-for-dom-pushsubscriptionchangeevent-newsubscription-1"><code>newSubscription</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-pushsubscriptionchangeevent-oldsubscription" data-title="oldSubscription" data-dfn-for="PushSubscriptionChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-24"><code>PushSubscription</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionchangeevent-oldsubscription" id="ref-for-dom-pushsubscriptionchangeevent-oldsubscription-1"><code>oldSubscription</code></a>;</span>
};</span></code></pre>
                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-pushsubscriptionchangeevent-newsubscription"
                        data-idl="attribute" data-title="newSubscription" data-dfn-for="PushSubscriptionChangeEvent"
                        data-type="PushSubscription" data-lt="newSubscription"
                        data-local-lt="PushSubscriptionChangeEvent.newSubscription" tabindex="0"
                        aria-haspopup="dialog"><code>newSubscription</code></dfn>属性取得時は初期化値を返します。
                </p>
                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-pushsubscriptionchangeevent-oldsubscription"
                        data-idl="attribute" data-title="oldSubscription" data-dfn-for="PushSubscriptionChangeEvent"
                        data-type="PushSubscription" data-lt="oldSubscription"
                        data-local-lt="PushSubscriptionChangeEvent.oldSubscription" tabindex="0"
                        aria-haspopup="dialog"><code>oldSubscription</code></dfn>属性取得時は初期化値を返します。
                </p>
            </section>
            <section data-dfn-for="PushSubscriptionChangeEventInit" id="pushsubscriptionchangeeventinit-interface">
                <div class="header-wrapper">
                    <h4 id="x10-4-2-pushsubscriptionchangeeventinit-interface"><bdi class="secno">10.4.2 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-pushsubscriptionchangeeventinit"
                            data-idl="dictionary" data-title="PushSubscriptionChangeEventInit" data-dfn-for=""
                            tabindex="0" aria-haspopup="dialog"><code>PushSubscriptionChangeEventInit</code></dfn>
                        インターフェース
                    </h4><a class="self-link" href="#pushsubscriptionchangeeventinit-interface"
                        aria-label="Permalink for Section 10.4.2"></a>
                </div>

                <pre class="idl def" data-cite="WEBIDL SERVICE-WORKERS" id="webidl-1842180883"><span class="idlHeader"><a class="self-link" href="#webidl-1842180883">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-pushsubscriptionchangeeventinit" data-title="PushSubscriptionChangeEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-pushsubscriptionchangeeventinit" id="ref-for-dom-pushsubscriptionchangeeventinit-2"><code>PushSubscriptionChangeEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://www.w3.org/TR/service-workers/#dictdef-extendableeventinit">ExtendableEventInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-pushsubscriptionchangeeventinit-newsubscription" data-title="newSubscription" data-dfn-for="PushSubscriptionChangeEventInit"><span class="idlType">
  <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-25"><code>PushSubscription</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionchangeeventinit-newsubscription" id="ref-for-dom-pushsubscriptionchangeeventinit-newsubscription-1"><code>newSubscription</code></a> = null;</span><span data-idl="" class="idlMember" id="idl-def-pushsubscriptionchangeeventinit-oldsubscription" data-title="oldSubscription" data-dfn-for="PushSubscriptionChangeEventInit"><span class="idlType">
  <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-26"><code>PushSubscription</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionchangeeventinit-oldsubscription" id="ref-for-dom-pushsubscriptionchangeeventinit-oldsubscription-1"><code>oldSubscription</code></a> = null;</span>
};</span></code></pre>
                <p>
                    <dfn data-export="" data-dfn-type="dict-member"
                        id="dom-pushsubscriptionchangeeventinit-newsubscription" data-idl="field"
                        data-title="newSubscription" data-dfn-for="PushSubscriptionChangeEventInit"
                        data-type="PushSubscription" tabindex="0"
                        aria-haspopup="dialog"><code>newSubscription</code></dfn>メンバーは、<a
                        href="#dfn-pushsubscriptionchange" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-pushsubscriptionchange-2">pushsubscriptionchange</a>イベント呼び出しごとに有効な<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-73">プッシュ購読</a>を示します。新しい<a href="#dfn-push-subscription"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-74">プッシュ購読</a>が確立できない場合（例：ウェブアプリケーションが<a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions/#dfn-express-permission">明示的な許可</a>を失ったなど）は値は<code>null</code>になります。
                </p>
                <p>
                    <dfn data-export="" data-dfn-type="dict-member"
                        id="dom-pushsubscriptionchangeeventinit-oldsubscription" data-idl="field"
                        data-title="oldSubscription" data-dfn-for="PushSubscriptionChangeEventInit"
                        data-type="PushSubscription" tabindex="0"
                        aria-haspopup="dialog"><code>oldSubscription</code></dfn>メンバーは、もはや利用すべきでない<a
                        href="#dfn-push-subscription" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-push-subscription-75">プッシュ購読</a>を示します。<a href="#dfn-user-agent"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-52">ユーザーエージェント</a>が完全な詳細を提供できない場合（例：データベースの部分的な破損など）は値は<code>null</code>になります。
                </p>
            </section>
        </section>
    </section>
    <section id="accessibility">
        <div class="header-wrapper">
            <h2 id="x11-accessibility"><bdi class="secno">11. </bdi>
                アクセシビリティ
            </h2><a class="self-link" href="#accessibility" aria-label="Permalink for Section 11."></a>
        </div>

        <p>
            <cite>Push API</cite>自体は、<a data-link-type="dfn|abstract-op" href="#dfn-push-service" class="internalDFN"
                id="ref-for-dfn-push-service-32">プッシュサービス</a>から受信したデータを表示する手段を提供しません。代わりに、<cite>Push
                API</cite>は他のAPI、主に<cite><a data-matched-text="[[[NOTIFICATIONS]]]"
                    href="https://notifications.spec.whatwg.org/">Notifications API
                    Standard</a></cite>に依存して、受信情報を最終ユーザーに提示します。そのため、<cite>Push
                API</cite>自体にはアクセシビリティ要件はありません。しかし、[<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-notifications"
                    title="Notifications API Standard">NOTIFICATIONS</a></cite>]などの仕様は、通知をアクセシブルに提示する方法についてガイドラインを提供しています。
        </p>
        <p>
            さらに、アクセシブルなインターフェースの提示には、プッシュメッセージで伝えられる以上の情報伝達が必要となる場合があります。プッシュメッセージは少量のコンテンツや識別子の送信に最適ですが、大きなリソースはサーバーから取得する必要があります。
        </p>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x12-conformance"><bdi class="secno">12. </bdi>適合性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 12."></a>
        </div>
        <p>非規範的と記載されたセクションだけでなく、本仕様における全ての著者向けガイドライン、図、例、および注記は非規範的です。それ以外の本仕様の全ては規範的です。</p>
        <p>
            本書で使われているキーワード<em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">MUST
                NOT</em>、<em class="rfc2119">SHOULD</em>、<em class="rfc2119">SHOULD NOT</em>は、<a
                href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]の記載に従い、ここに示すように全て大文字で現れる場合のみ適用されます。
        </p>
        <p>
            本仕様は、ここに含まれるインターフェースを実装する製品である<dfn data-plurals="user agents" id="dfn-user-agent" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">ユーザーエージェント</dfn>に対して適合性基準を定義します。
        </p>
    </section>
    <section class="appendix" id="idl-index">
        <div class="header-wrapper">
            <h2 id="a-idl-index"><bdi class="secno">A. </bdi>IDL索引</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlDictionary" data-title="PushPermissionDescriptor">dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PushPermissionDescriptor" data-dfn-for="" class="idlID"><code>PushPermissionDescriptor</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor">PermissionDescriptor</a></span> {<span data-idl="" class="idlMember" data-title="userVisibleOnly" data-dfn-for="PushPermissionDescriptor"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushpermissiondescriptor-uservisibleonly" id="ref-for-dom-pushpermissiondescriptor-uservisibleonly-2"><code>userVisibleOnly</code></a> = false;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="ServiceWorkerRegistration">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="ServiceWorkerRegistration" class="idlID" data-dfn-for="ServiceWorkerRegistration" href="https://www.w3.org/TR/service-workers/#serviceworkerregistration">ServiceWorkerRegistration</a> {<span data-idl="" class="idlAttribute" data-title="pushManager" data-dfn-for="ServiceWorkerRegistration">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushmanager" class="internalDFN" id="ref-for-dom-pushmanager-5"><code>PushManager</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serviceworkerregistration-pushmanager" id="ref-for-dom-serviceworkerregistration-pushmanager-2"><code>pushManager</code></a>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PushManager">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushmanager" id="ref-for-dom-pushmanager-6"><code>PushManager</code></a> {<span data-idl="" class="idlAttribute" data-title="supportedContentEncodings" data-dfn-for="PushManager">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] static readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array">FrozenArray</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushmanager-supportedcontentencodings" id="ref-for-dom-pushmanager-supportedcontentencodings-2"><code>supportedContentEncodings</code></a>;</span><span data-idl="" class="idlMethod" data-title="subscribe" data-dfn-for="PushManager"><span class="idlType">

  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-27"><code>PushSubscription</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmanager-subscribe" id="ref-for-dom-pushmanager-subscribe-3"><code>subscribe</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionoptionsinit" class="internalDFN" id="ref-for-dom-pushsubscriptionoptionsinit-6"><code>PushSubscriptionOptionsInit</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" data-title="getSubscription" data-dfn-for="PushManager"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-28"><code>PushSubscription</code></a>?&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmanager-getsubscription" id="ref-for-dom-pushmanager-getsubscription-2"><code>getSubscription</code></a>();</span><span data-idl="" class="idlMethod" data-title="permissionState" data-dfn-for="PushManager"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="enum" href="https://www.w3.org/TR/permissions/#dom-permissionstate">PermissionState</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmanager-permissionstate" id="ref-for-dom-pushmanager-permissionstate-2"><code>permissionState</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionoptionsinit" class="internalDFN" id="ref-for-dom-pushsubscriptionoptionsinit-7"><code>PushSubscriptionOptionsInit</code></a></span> <span class="idlParamName">options</span> = {});</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PushSubscriptionOptions">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushsubscriptionoptions" id="ref-for-dom-pushsubscriptionoptions-7"><code>PushSubscriptionOptions</code></a> {<span data-idl="" class="idlAttribute" data-title="userVisibleOnly" data-dfn-for="PushSubscriptionOptions">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionoptions-uservisibleonly" id="ref-for-dom-pushsubscriptionoptions-uservisibleonly-2"><code>userVisibleOnly</code></a>;</span><span data-idl="" class="idlAttribute" data-title="applicationServerKey" data-dfn-for="PushSubscriptionOptions">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionoptions-applicationserverkey" id="ref-for-dom-pushsubscriptionoptions-applicationserverkey-8"><code>applicationServerKey</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PushSubscriptionOptionsInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-pushsubscriptionoptionsinit" id="ref-for-dom-pushsubscriptionoptionsinit-8"><code>PushSubscriptionOptionsInit</code></a> {<span data-idl="" class="idlMember" data-title="userVisibleOnly" data-dfn-for="PushSubscriptionOptionsInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionoptionsinit-uservisibleonly" id="ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-5"><code>userVisibleOnly</code></a> = false;</span><span data-idl="" class="idlMember" data-title="applicationServerKey" data-dfn-for="PushSubscriptionOptionsInit"><span class="idlType">
  (<a data-link-type="typedef" href="https://webidl.spec.whatwg.org/#BufferSource">BufferSource</a> or <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>)?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionoptionsinit-applicationserverkey" id="ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-7"><code>applicationServerKey</code></a> = null;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PushSubscription">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushsubscription" id="ref-for-dom-pushsubscription-29"><code>PushSubscription</code></a> {<span data-idl="" class="idlAttribute" data-title="endpoint" data-dfn-for="PushSubscription">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="endpoint" data-dfn-for="PushSubscription" data-type="USVString" data-lt="endpoint" data-local-lt="PushSubscription.endpoint" class="idlName"><code>endpoint</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="expirationTime" data-dfn-for="PushSubscription">
  readonly attribute<span class="idlType"> <a data-link-type="typedef" href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp">EpochTimeStamp</a>?</span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="expirationTime" data-dfn-for="PushSubscription" data-type="EpochTimeStamp" data-lt="expirationTime" data-local-lt="PushSubscription.expirationTime" class="idlName"><code>expirationTime</code></dfn>;</span><span data-idl="" class="idlAttribute" data-title="options" data-dfn-for="PushSubscription">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionoptions" class="internalDFN" id="ref-for-dom-pushsubscriptionoptions-8"><code>PushSubscriptionOptions</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscription-options" id="ref-for-dom-pushsubscription-options-3"><code>options</code></a>;</span><span data-idl="" class="idlMethod" data-title="getKey" data-dfn-for="PushSubscription"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a>?</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushsubscription-getkey" id="ref-for-dom-pushsubscription-getkey-9"><code>getKey</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-pushencryptionkeyname" class="internalDFN" id="ref-for-dom-pushencryptionkeyname-5"><code>PushEncryptionKeyName</code></a></span> <span class="idlParamName">name</span>);</span><span data-idl="" class="idlMethod" data-title="unsubscribe" data-dfn-for="PushSubscription"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushsubscription-unsubscribe" id="ref-for-dom-pushsubscription-unsubscribe-3"><code>unsubscribe</code></a>();</span><span data-idl="" class="idlMethod" data-title="toJSON" data-dfn-for="PushSubscription"><span class="idlType">

  <a data-link-type="idl" href="#dom-pushsubscriptionjson" class="internalDFN" id="ref-for-dom-pushsubscriptionjson-4"><code>PushSubscriptionJSON</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushsubscription-tojson" id="ref-for-dom-pushsubscription-tojson-2"><code>toJSON</code></a>();</span>
};</span><span data-idl="" class="idlDictionary" data-title="PushSubscriptionJSON">

dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-pushsubscriptionjson" id="ref-for-dom-pushsubscriptionjson-5"><code>PushSubscriptionJSON</code></a> {<span data-idl="" class="idlMember" data-title="endpoint" data-dfn-for="PushSubscriptionJSON"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="endpoint" data-dfn-for="PushSubscriptionJSON" data-type="USVString" class="idlName"><code>endpoint</code></dfn>;</span><span data-idl="" class="idlMember" data-title="expirationTime" data-dfn-for="PushSubscriptionJSON"><span class="idlType">
  <a data-link-type="typedef" href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp">EpochTimeStamp</a>?</span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="expirationTime" data-dfn-for="PushSubscriptionJSON" data-type="EpochTimeStamp" class="idlName"><code>expirationTime</code></dfn> = null;</span><span data-idl="" class="idlMember" data-title="keys" data-dfn-for="PushSubscriptionJSON"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record">record</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>, <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionjson-keys" id="ref-for-dom-pushsubscriptionjson-keys-2"><code>keys</code></a>;</span>
};</span>

<span data-idl="" class="idlEnum" data-title="PushEncryptionKeyName">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-pushencryptionkeyname" id="ref-for-dom-pushencryptionkeyname-6"><code>PushEncryptionKeyName</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-pushencryptionkeyname-p256dh" id="ref-for-dom-pushencryptionkeyname-p256dh-6"><code>p256dh</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-pushencryptionkeyname-auth" id="ref-for-dom-pushencryptionkeyname-auth-4"><code>auth</code></a>"</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PushMessageData">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushmessagedata" id="ref-for-dom-pushmessagedata-7"><code>PushMessageData</code></a> {<span data-idl="" class="idlMethod" data-title="arrayBuffer" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-arraybuffer" id="ref-for-dom-pushmessagedata-arraybuffer-2"><code>arrayBuffer</code></a>();</span><span data-idl="" class="idlMethod" data-title="blob" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-Blob">Blob</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-blob" id="ref-for-dom-pushmessagedata-blob-2"><code>blob</code></a>();</span><span data-idl="" class="idlMethod" data-title="bytes" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Uint8Array">Uint8Array</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-bytes" id="ref-for-dom-pushmessagedata-bytes-2"><code>bytes</code></a>();</span><span data-idl="" class="idlMethod" data-title="json" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any">any</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-json" id="ref-for-dom-pushmessagedata-json-2"><code>json</code></a>();</span><span data-idl="" class="idlMethod" data-title="text" data-dfn-for="PushMessageData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-pushmessagedata-text" id="ref-for-dom-pushmessagedata-text-2"><code>text</code></a>();</span>
};</span>

<span data-idl="" class="idlInterface" data-title="ServiceWorkerGlobalScope">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="ServiceWorkerGlobalScope" class="idlID" data-dfn-for="ServiceWorkerGlobalScope" href="https://www.w3.org/TR/service-workers/#serviceworkerglobalscope">ServiceWorkerGlobalScope</a> {<span data-idl="" class="idlAttribute" data-title="onpush" data-dfn-for="ServiceWorkerGlobalScope">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serviceworkerglobalscope-onpush" id="ref-for-dom-serviceworkerglobalscope-onpush-2"><code>onpush</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onpushsubscriptionchange" data-dfn-for="ServiceWorkerGlobalScope">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serviceworkerglobalscope-onpushsubscriptionchange" id="ref-for-dom-serviceworkerglobalscope-onpushsubscriptionchange-2"><code>onpushsubscriptionchange</code></a>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PushEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushevent" id="ref-for-dom-pushevent-5"><code>PushEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://www.w3.org/TR/service-workers/#extendableevent">ExtendableEvent</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PushEvent">
  <a class="internalDFN" data-link-type="constructor" href="#dom-pushevent-constructor" id="ref-for-dom-pushevent-constructor-2"><code>constructor</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-pusheventinit" class="internalDFN" id="ref-for-dom-pusheventinit-2"><code>PushEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" data-title="data" data-dfn-for="PushEvent">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushmessagedata" class="internalDFN" id="ref-for-dom-pushmessagedata-8"><code>PushMessageData</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushevent-data" id="ref-for-dom-pushevent-data-3"><code>data</code></a>;</span><span data-idl="" class="idlAttribute" data-title="notification" data-dfn-for="PushEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://notifications.spec.whatwg.org/#notification">Notification</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushevent-notification" id="ref-for-dom-pushevent-notification-3"><code>notification</code></a>;</span>
};</span><span data-idl="" class="idlDictionary" data-title="PushEventInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PushEventInit" data-dfn-for="" class="idlID"><code>PushEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://www.w3.org/TR/service-workers/#dictdef-extendableeventinit">ExtendableEventInit</a></span> {<span data-idl="" class="idlMember" data-title="data" data-dfn-for="PushEventInit"><span class="idlType">
  <a data-link-type="idl" href="#dom-pushmessagedatainit" class="internalDFN" id="ref-for-dom-pushmessagedatainit-2"><code>PushMessageDataInit</code></a>?</span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="data" data-dfn-for="PushEventInit" data-type="PushMessageDataInit" class="idlName"><code>data</code></dfn> = null;</span><span data-idl="" class="idlMember" data-title="notification" data-dfn-for="PushEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://notifications.spec.whatwg.org/#notification">Notification</a>?</span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="notification" data-dfn-for="PushEventInit" data-type="Notification" class="idlName"><code>notification</code></dfn> = null;</span>
};</span><span data-idl="" class="idlTypedef" data-title="PushMessageDataInit">

typedef<span class="idlType"> (<a data-link-type="typedef" href="https://webidl.spec.whatwg.org/#BufferSource">BufferSource</a> or <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a>)</span> <dfn data-export="" data-dfn-type="typedef" data-idl="typedef" data-title="PushMessageDataInit" data-dfn-for="" class="idlID"><code>PushMessageDataInit</code></dfn>;</span>

<span data-idl="" class="idlInterface" data-title="PushSubscriptionChangeEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=ServiceWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-pushsubscriptionchangeevent" id="ref-for-dom-pushsubscriptionchangeevent-3"><code>PushSubscriptionChangeEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://www.w3.org/TR/service-workers/#extendableevent">ExtendableEvent</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PushSubscriptionChangeEvent">
  <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PushSubscriptionChangeEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="PushSubscriptionChangeEvent.constructor|PushSubscriptionChangeEvent.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscriptionchangeeventinit" class="internalDFN" id="ref-for-dom-pushsubscriptionchangeeventinit-3"><code>PushSubscriptionChangeEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" data-title="newSubscription" data-dfn-for="PushSubscriptionChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-30"><code>PushSubscription</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionchangeevent-newsubscription" id="ref-for-dom-pushsubscriptionchangeevent-newsubscription-2"><code>newSubscription</code></a>;</span><span data-idl="" class="idlAttribute" data-title="oldSubscription" data-dfn-for="PushSubscriptionChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-31"><code>PushSubscription</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-pushsubscriptionchangeevent-oldsubscription" id="ref-for-dom-pushsubscriptionchangeevent-oldsubscription-2"><code>oldSubscription</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PushSubscriptionChangeEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-pushsubscriptionchangeeventinit" id="ref-for-dom-pushsubscriptionchangeeventinit-4"><code>PushSubscriptionChangeEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://www.w3.org/TR/service-workers/#dictdef-extendableeventinit">ExtendableEventInit</a></span> {<span data-idl="" class="idlMember" data-title="newSubscription" data-dfn-for="PushSubscriptionChangeEventInit"><span class="idlType">
  <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-32"><code>PushSubscription</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionchangeeventinit-newsubscription" id="ref-for-dom-pushsubscriptionchangeeventinit-newsubscription-2"><code>newSubscription</code></a> = null;</span><span data-idl="" class="idlMember" data-title="oldSubscription" data-dfn-for="PushSubscriptionChangeEventInit"><span class="idlType">
  <a data-link-type="idl" href="#dom-pushsubscription" class="internalDFN" id="ref-for-dom-pushsubscription-33"><code>PushSubscription</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-pushsubscriptionchangeeventinit-oldsubscription" id="ref-for-dom-pushsubscriptionchangeeventinit-oldsubscription-2"><code>oldSubscription</code></a> = null;</span>
};</span></code></pre>
    </section>
    <section class="appendix" id="acknowledgements">
        <div class="header-wrapper">
            <h2 id="b-acknowledgements"><bdi class="secno">B. </bdi>
                謝辞
            </h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Appendix B."></a>
        </div>

        <p>
            編集者は、Firefox OS Pushメッセージソリューションを実装したMozillaおよびTelefónica
            Digitalのチーム、そして本ドキュメントに重要な技術的知見を提供いただいた以下の方々に感謝の意を表します：Antonio Amaya、Miguel García Arribas、Ben Bangert、Kit
            Cambridge、José Manuel Cantera、JR Conlin、Albert Crespell、Matt Gaunt、Phil Jenvey、Guillermo López、Nikhil
            Marathe、John Mellor、Pınar Özlen、Fernando R. Sela、Shijun Sun、Doug Turner。
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="c-references"><bdi class="secno">C. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix C."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>規範的参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix C.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-ansi-x9-62">[ANSI-X9-62]</dt>
                <dd>
                    <a href="https://webstore.ansi.org/RecordDetail.aspx?sku=ANSI+X9.62%3a2005"><cite>Public Key
                            Cryptography for the Financial Services Industry, The Elliptic Curve Digital Signature
                            Algorithm (ECDSA)</cite></a>. ANSI. 2005. URL: <a
                        href="https://webstore.ansi.org/RecordDetail.aspx?sku=ANSI+X9.62%3a2005">https://webstore.ansi.org/RecordDetail.aspx?sku=ANSI+X9.62%3a2005</a>
                </dd>
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM現行標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-dss">[DSS]</dt>
                <dd>
                    <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.186-5.pdf"><cite>FIPS PUB 186-5: Digital
                            Signature Standard (DSS)</cite></a>. 米国商務省/NIST. 2023年2月3日. 国家標準. URL: <a
                        href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.186-5.pdf">https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.186-5.pdf</a>
                </dd>
                <dt id="bib-ecmascript">[ecmascript]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript言語仕様</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-encoding">[encoding]</dt>
                <dd>
                    <a href="https://encoding.spec.whatwg.org/"><cite>Encoding現行標準</cite></a>. Anne van Kesteren.
                    WHATWG. 現行標準. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-fileapi">[fileapi]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/FileAPI/"><cite>File API</cite></a>. Marijn Kruisselbrink. W3C.
                    2024年12月4日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
                </dd>
                <dt id="bib-hr-time">[hr-time]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/hr-time-3/"><cite>High Resolution Time</cite></a>. Yoav Weiss. W3C.
                    2024年11月7日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML現行標準</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. 現行標準.
                    URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra現行標準</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. 現行標準. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-notifications">[NOTIFICATIONS]</dt>
                <dd>
                    <a href="https://notifications.spec.whatwg.org/"><cite>Notifications API現行標準</cite></a>. Anne
                    van Kesteren. WHATWG. 現行標準. URL: <a
                        href="https://notifications.spec.whatwg.org/">https://notifications.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-permissions">[Permissions]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/"><cite>Permissions</cite></a>. Marcos Caceres; Mike
                    Taylor. W3C. 2025年6月24日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. 1997年3月. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc4648">[RFC4648]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc4648"><cite>The Base16, Base32, and Base64 Data
                            Encodings</cite></a>. S. Josefsson. IETF. 2006年10月. Proposed Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>
                </dd>
                <dt id="bib-rfc7231">[RFC7231]</dt>
                <dd>
                    <a href="https://httpwg.org/specs/rfc7231.html"><cite>Hypertext Transfer Protocol (HTTP/1.1):
                            Semantics and Content</cite></a>. R. Fielding, Ed.; J. Reschke, Ed. IETF. 2014年6月.
                    Proposed Standard. URL: <a
                        href="https://httpwg.org/specs/rfc7231.html">https://httpwg.org/specs/rfc7231.html</a>
                </dd>
                <dt id="bib-rfc7515">[RFC7515]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc7515"><cite>JSON Web Signature (JWS)</cite></a>. M.
                    Jones; J. Bradley; N. Sakimura. IETF. 2015年5月. Proposed Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc7515">https://www.rfc-editor.org/rfc/rfc7515</a>
                </dd>
                <dt id="bib-rfc8030">[RFC8030]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8030"><cite>Generic Event Delivery Using HTTP
                            Push</cite></a>. M. Thomson; E. Damaggio; B. Raymor, Ed. IETF. 2016年12月. Proposed
                    Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8030">https://www.rfc-editor.org/rfc/rfc8030</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                            2119 Key Words</cite></a>. B. Leiba. IETF. 2017年5月. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-rfc8291">[RFC8291]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8291"><cite>Message Encryption for Web Push</cite></a>.
                    M. Thomson. IETF. 2017年11月. Proposed Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8291">https://www.rfc-editor.org/rfc/rfc8291</a>
                </dd>
                <dt id="bib-rfc8292">[RFC8292]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8292"><cite>Voluntary Application Server Identification
                            (VAPID) for Web Push</cite></a>. M. Thomson; P. Beverloo. IETF. 2017年11月. Proposed
                    Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8292">https://www.rfc-editor.org/rfc/rfc8292</a>
                </dd>
                <dt id="bib-service-workers">[SERVICE-WORKERS]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/service-workers/"><cite>Service Workers</cite></a>. Yoshisato
                    Yanagisawa; Monica CHINTALA. W3C. 2025年3月6日. CRD. URL: <a
                        href="https://www.w3.org/TR/service-workers/">https://www.w3.org/TR/service-workers/</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL現行標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL現行標準</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. 現行標準. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="c-2-informative-references"><bdi class="secno">C.2 </bdi>参考情報</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix C.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-fetch">[Fetch]</dt>
                <dd>
                    <a href="https://fetch.spec.whatwg.org/"><cite>Fetch現行標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-web-background-sync">[WEB-BACKGROUND-SYNC]</dt>
                <dd>
                    <a href="https://wicg.github.io/background-sync/spec/"><cite>Web Background
                            Synchronization</cite></a>. W3C. Draft Community Group Report. URL: <a
                        href="https://wicg.github.io/background-sync/spec/">https://wicg.github.io/background-sync/spec/</a>
                </dd>
                <dt id="bib-websockets">[WebSockets]</dt>
                <dd>
                    <a href="https://websockets.spec.whatwg.org/"><cite>WebSockets現行標準</cite></a>. Adam Rice.
                    WHATWG. 現行標準. URL: <a
                        href="https://websockets.spec.whatwg.org/">https://websockets.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-web-push-protocol"
        aria-label="Links in this document to definition: web push protocol">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-web-push-protocol"
                aria-label="Permalink for definition: web push protocol. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-web-push-protocol-1" title="§ Abstract">§ Abstract</a>
            </li>
            <li>
                <a href="#ref-for-dfn-web-push-protocol-2" title="§ 5.3 Push service use">§ 5.3 Push service use</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-content-encoding"
        aria-label="Links in this document to definition: Content-Encoding">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-content-encoding"
                aria-label="Permalink for definition: Content-Encoding. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-content-encoding-1" title="§ 7. PushManager interface">§ 7. PushManager
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-application-server"
        aria-label="Links in this document to definition: application server">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-application-server"
                aria-label="Permalink for definition: application server. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-application-server-1" title="§ Abstract">§ Abstract</a> <a
                    href="#ref-for-dfn-application-server-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-3" title="§ 1. Introduction">§ 1. Introduction</a> <a
                    href="#ref-for-dfn-application-server-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-application-server-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-6" title="§ 2. Dependencies">§ 2. Dependencies</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-7" title="§ 3.2 Push message">§ 3.2 Push message</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-8" title="§ 3.3 Declarative push message">§ 3.3 Declarative
                    push message</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-9" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-10" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1 Subscription
                    Refreshes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-11" title="§ 3.5 Push service">§ 3.5 Push service</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-12" title="§ 4. Security and privacy considerations">§ 4.
                    Security and privacy considerations</a> <a href="#ref-for-dfn-application-server-13"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-application-server-14" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-application-server-15" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-16" title="§ 5. Push Framework">§ 5. Push Framework</a> <a
                    href="#ref-for-dfn-application-server-17" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-application-server-18" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-application-server-19" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-20" title="§ 5.3 Push service use">§ 5.3 Push service use</a>
                <a href="#ref-for-dfn-application-server-21" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-application-server-22" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-23" title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3
                    PushSubscriptionOptionsInit dictionary</a> <a href="#ref-for-dfn-application-server-24"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-25" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-26" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a
                    Push Message</a> <a href="#ref-for-dfn-application-server-27" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-application-server-28" title="§ 10.4 The pushsubscriptionchange Event">§ 10.4 The
                    pushsubscriptionchange Event</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-push-message"
        aria-label="Links in this document to definition: push message">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-push-message"
                aria-label="Permalink for definition: push message. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-push-message-1" title="§ Abstract">§ Abstract</a> <a
                    href="#ref-for-dfn-push-message-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-message-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-4" title="§ 1. Introduction">§ 1. Introduction</a> <a
                    href="#ref-for-dfn-push-message-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-message-6"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-push-message-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-message-8" title="Reference 5">(5)</a> <a href="#ref-for-dfn-push-message-9"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-push-message-10" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-push-message-11" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-push-message-12" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-13" title="§ 2. Dependencies">§ 2. Dependencies</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-14" title="§ 3.2 Push message">§ 3.2 Push message</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-15" title="§ 3.3 Declarative push message">§ 3.3 Declarative push
                    message</a> <a href="#ref-for-dfn-push-message-16" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-message-17" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-18" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-19" title="§ 3.4.2 Subscription Deactivation">§ 3.4.2 Subscription
                    Deactivation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-20" title="§ 3.5 Push service">§ 3.5 Push service</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-21" title="§ 4. Security and privacy considerations">§ 4. Security
                    and privacy considerations</a> <a href="#ref-for-dfn-push-message-22" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-message-23" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-24" title="§ 5. Push Framework">§ 5. Push Framework</a> <a
                    href="#ref-for-dfn-push-message-25" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-message-26" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-push-message-27" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-28" title="§ 5.3 Push service use">§ 5.3 Push service use</a> <a
                    href="#ref-for-dfn-push-message-29" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-message-30" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-31" title="§ 7. PushManager interface">§ 7. PushManager interface</a>
                <a href="#ref-for-dfn-push-message-32" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-33" title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3
                    PushSubscriptionOptionsInit dictionary</a> <a href="#ref-for-dfn-push-message-34"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-message-35" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-push-message-36" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-37" title="§ 8. PushSubscription interface">§ 8. PushSubscription
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-38" title="§ 8.1 PushEncryptionKeyName enumeration">§ 8.1
                    PushEncryptionKeyName enumeration</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-39"
                    title="§ 10.1 Extensions to the ServiceWorkerGlobalScope interface">§ 10.1 Extensions to the
                    ServiceWorkerGlobalScope interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-message-40" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a> <a href="#ref-for-dfn-push-message-41" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-message-42" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-push-message-43" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-message-44" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-push-message-45" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-push-message-46" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-push-message-47" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-push-message-48" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-push-message-49" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-push-message-50" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-push-message-51" title="Reference 12">(12)</a> <a
                    href="#ref-for-dfn-push-message-52" title="Reference 13">(13)</a> <a
                    href="#ref-for-dfn-push-message-53" title="Reference 14">(14)</a> <a
                    href="#ref-for-dfn-push-message-54" title="Reference 15">(15)</a> <a
                    href="#ref-for-dfn-push-message-55" title="Reference 16">(16)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-declarative-push-message"
        aria-label="Links in this document to definition: declarative push message">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-declarative-push-message"
                aria-label="Permalink for definition: declarative push message. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-declarative-push-message-1" title="§ 3.3 Declarative push message">§ 3.3
                    Declarative push message</a> <a href="#ref-for-dfn-declarative-push-message-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-declarative-push-message-3" title="§ 3.3.1 Members">§ 3.3.1 Members</a> <a
                    href="#ref-for-dfn-declarative-push-message-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-declarative-push-message-5" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-declarative-push-message-parser-result"
        aria-label="Links in this document to definition: declarative push message parser result">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-declarative-push-message-parser-result"
                aria-label="Permalink for definition: declarative push message parser result. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-declarative-push-message-parser-result-1" title="§ 3.3.2 Parser">§ 3.3.2
                    Parser</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-notification"
        aria-label="Links in this document to definition: notification">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-notification"
                aria-label="Permalink for definition: notification. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-notification-1" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-mutable"
        aria-label="Links in this document to definition: mutable">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-mutable"
                aria-label="Permalink for definition: mutable. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-mutable-1" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-declarative-push-message-parser"
        aria-label="Links in this document to definition: declarative push message parser">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-declarative-push-message-parser"
                aria-label="Permalink for definition: declarative push message parser. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-declarative-push-message-parser-1" title="§ 3.3 Declarative push message">§ 3.3
                    Declarative push message</a>
            </li>
            <li>
                <a href="#ref-for-dfn-declarative-push-message-parser-2" title="§ 10.3 Receiving a Push Message">§ 10.3
                    Receiving a Push Message</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-push-subscription"
        aria-label="Links in this document to definition: push subscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-push-subscription"
                aria-label="Permalink for definition: push subscription. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-push-subscription-1" title="§ 3.2 Push message">§ 3.2 Push message</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-2" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a>
                <a href="#ref-for-dfn-push-subscription-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-subscription-4" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-push-subscription-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-subscription-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-push-subscription-7" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-push-subscription-8" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-push-subscription-9" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-push-subscription-10" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-push-subscription-11" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-push-subscription-12" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-push-subscription-13" title="Reference 12">(12)</a> <a
                    href="#ref-for-dfn-push-subscription-14" title="Reference 13">(13)</a> <a
                    href="#ref-for-dfn-push-subscription-15" title="Reference 14">(14)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-16" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1 Subscription
                    Refreshes</a> <a href="#ref-for-dfn-push-subscription-17" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-subscription-18" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-push-subscription-19" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-subscription-20" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-push-subscription-21" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-push-subscription-22" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-push-subscription-23" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-push-subscription-24" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-push-subscription-25" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-push-subscription-26" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-push-subscription-27" title="Reference 12">(12)</a> <a
                    href="#ref-for-dfn-push-subscription-28" title="Reference 13">(13)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-29" title="§ 3.4.2 Subscription Deactivation">§ 3.4.2
                    Subscription Deactivation</a> <a href="#ref-for-dfn-push-subscription-30"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-subscription-31" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-push-subscription-32" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-subscription-33" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-34" title="§ 3.5 Push service">§ 3.5 Push service</a> <a
                    href="#ref-for-dfn-push-subscription-35" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-36" title="§ 4. Security and privacy considerations">§ 4.
                    Security and privacy considerations</a> <a href="#ref-for-dfn-push-subscription-37"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-subscription-38" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-push-subscription-39" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-subscription-40" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-push-subscription-41" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-push-subscription-42" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-push-subscription-43" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-push-subscription-44" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-push-subscription-45" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-46" title="§ 5. Push Framework">§ 5. Push Framework</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-47" title="§ 5.3 Push service use">§ 5.3 Push service use</a> <a
                    href="#ref-for-dfn-push-subscription-48" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-49" title="§ 7.1 subscribe() method">§ 7.1 subscribe()
                    method</a> <a href="#ref-for-dfn-push-subscription-50" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-subscription-51" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-push-subscription-52" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-53" title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3
                    PushSubscriptionOptionsInit dictionary</a> <a href="#ref-for-dfn-push-subscription-54"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-subscription-55" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-push-subscription-56" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-subscription-57" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-push-subscription-58" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-push-subscription-59" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-60" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a> <a href="#ref-for-dfn-push-subscription-61"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-subscription-62" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-push-subscription-63" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-push-subscription-64" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-push-subscription-65" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-push-subscription-66" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-push-subscription-67" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-68"
                    title="§ 10.1 Extensions to the ServiceWorkerGlobalScope interface">§ 10.1 Extensions to the
                    ServiceWorkerGlobalScope interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-69" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a
                    Push Message</a> <a href="#ref-for-dfn-push-subscription-70" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-71" title="§ 10.4 The pushsubscriptionchange Event">§ 10.4 The
                    pushsubscriptionchange Event</a> <a href="#ref-for-dfn-push-subscription-72"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-subscription-73" title="§ 10.4.2 PushSubscriptionChangeEventInit Interface">§
                    10.4.2 PushSubscriptionChangeEventInit Interface</a> <a href="#ref-for-dfn-push-subscription-74"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-subscription-75" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-push-endpoint"
        aria-label="Links in this document to definition: push endpoint">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-push-endpoint"
                aria-label="Permalink for definition: push endpoint. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-push-endpoint-1" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a> <a
                    href="#ref-for-dfn-push-endpoint-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-endpoint-3" title="§ 3.5 Push service">§ 3.5 Push service</a> <a
                    href="#ref-for-dfn-push-endpoint-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-endpoint-5" title="§ 4. Security and privacy considerations">§ 4. Security
                    and privacy considerations</a> <a href="#ref-for-dfn-push-endpoint-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-endpoint-7" title="§ 5. Push Framework">§ 5. Push Framework</a> <a
                    href="#ref-for-dfn-push-endpoint-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-endpoint-9" title="§ 5.3 Push service use">§ 5.3 Push service use</a> <a
                    href="#ref-for-dfn-push-endpoint-10" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-endpoint-11" title="§ 8. PushSubscription interface">§ 8. PushSubscription
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-subscription-expiration-time"
        aria-label="Links in this document to definition: subscription expiration time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-subscription-expiration-time"
                aria-label="Permalink for definition: subscription expiration time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-subscription-expiration-time-1" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-create-a-push-subscription"
        aria-label="Links in this document to definition: create a push subscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-create-a-push-subscription"
                aria-label="Permalink for definition: create a push subscription. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-create-a-push-subscription-1" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1
                    Subscription Refreshes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-create-a-push-subscription-2" title="§ 7.1 subscribe() method">§ 7.1 subscribe()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-refresh"
        aria-label="Links in this document to definition: refresh">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-refresh"
                aria-label="Permalink for definition: refresh. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-refresh-1" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-deactivate"
        aria-label="Links in this document to definition: deactivated">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-deactivate"
                aria-label="Permalink for definition: deactivated. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-deactivate-1" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a>
            </li>
            <li>
                <a href="#ref-for-dfn-deactivate-2" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1 Subscription
                    Refreshes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-deactivate-3" title="§ 3.4.2 Subscription Deactivation">§ 3.4.2 Subscription
                    Deactivation</a> <a href="#ref-for-dfn-deactivate-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-deactivate-5" title="§ 4. Security and privacy considerations">§ 4. Security and
                    privacy considerations</a> <a href="#ref-for-dfn-deactivate-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-deactivate-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-deactivate-8" title="§ 8. PushSubscription interface">§ 8. PushSubscription
                    interface</a> <a href="#ref-for-dfn-deactivate-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-deactivate-10" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-push-service"
        aria-label="Links in this document to definition: push service">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-push-service"
                aria-label="Permalink for definition: push service. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-push-service-1" title="§ Abstract">§ Abstract</a> <a
                    href="#ref-for-dfn-push-service-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-service-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-4" title="§ 1. Introduction">§ 1. Introduction</a> <a
                    href="#ref-for-dfn-push-service-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-push-service-6"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-push-service-7" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-8" title="§ 2. Dependencies">§ 2. Dependencies</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-9" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a> <a
                    href="#ref-for-dfn-push-service-10" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-11" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1 Subscription
                    Refreshes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-12" title="§ 3.4.2 Subscription Deactivation">§ 3.4.2 Subscription
                    Deactivation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-13" title="§ 3.5 Push service">§ 3.5 Push service</a> <a
                    href="#ref-for-dfn-push-service-14" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-service-15" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-16" title="§ 4. Security and privacy considerations">§ 4. Security
                    and privacy considerations</a> <a href="#ref-for-dfn-push-service-17" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-service-18" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-19" title="§ 5. Push Framework">§ 5. Push Framework</a> <a
                    href="#ref-for-dfn-push-service-20" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-21" title="§ 7. PushManager interface">§ 7. PushManager interface</a>
                <a href="#ref-for-dfn-push-service-22" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-23" title="§ 7.1 subscribe() method">§ 7.1 subscribe() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-24" title="§ 7.2 PushSubscriptionOptions Interface">§ 7.2
                    PushSubscriptionOptions Interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-25" title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3
                    PushSubscriptionOptionsInit dictionary</a> <a href="#ref-for-dfn-push-service-26"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-27" title="§ 8. PushSubscription interface">§ 8. PushSubscription
                    interface</a> <a href="#ref-for-dfn-push-service-28" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-29" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a> <a href="#ref-for-dfn-push-service-30" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-push-service-31" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-push-service-32" title="§ 11. Accessibility">§ 11. Accessibility</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-push"
        aria-label="Links in this document to definition: &quot;push&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-push"
                aria-label="Permalink for definition: &quot;push&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushpermissiondescriptor"
        aria-label="Links in this document to definition: PushPermissionDescriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushpermissiondescriptor"
                aria-label="Permalink for definition: PushPermissionDescriptor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushpermissiondescriptor-1" title="§ 3.6 Permission">§ 3.6 Permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushpermissiondescriptor-uservisibleonly"
        aria-label="Links in this document to definition: userVisibleOnly">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushpermissiondescriptor-uservisibleonly"
                aria-label="Permalink for definition: userVisibleOnly. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1117437819">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushpermissiondescriptor-uservisibleonly-1" title="§ 3.6 Permission">§ 3.6
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushpermissiondescriptor-uservisibleonly-2" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-ecdh"
        aria-label="Links in this document to definition: elliptic curve Diffie-Hellman">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-ecdh"
                aria-label="Permalink for definition: elliptic curve Diffie-Hellman. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-ecdh-1" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a> <a
                    href="#ref-for-dfn-ecdh-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serviceworkerregistration-pushmanager"
        aria-label="Links in this document to definition: pushManager">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serviceworkerregistration-pushmanager"
                aria-label="Permalink for definition: pushManager. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-27231878">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serviceworkerregistration-pushmanager-1"
                    title="§ 6. Extensions to the ServiceWorkerRegistration Interface">§ 6. Extensions to the
                    ServiceWorkerRegistration Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serviceworkerregistration-pushmanager-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmanager"
        aria-label="Links in this document to definition: PushManager">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmanager"
                aria-label="Permalink for definition: PushManager. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1816674501">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmanager-1"
                    title="§ 6. Extensions to the ServiceWorkerRegistration Interface">§ 6. Extensions to the
                    ServiceWorkerRegistration Interface</a> <a href="#ref-for-dom-pushmanager-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmanager-3" title="§ 7. PushManager interface">§ 7. PushManager interface</a>
                <a href="#ref-for-dom-pushmanager-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmanager-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushmanager-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushmanager-supportedcontentencodings"
        aria-label="Links in this document to definition: supportedContentEncodings">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmanager-supportedcontentencodings"
                aria-label="Permalink for definition: supportedContentEncodings. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1816674501">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmanager-supportedcontentencodings-1" title="§ 7. PushManager interface">§ 7.
                    PushManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmanager-supportedcontentencodings-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmanager-subscribe"
        aria-label="Links in this document to definition: subscribe()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmanager-subscribe"
                aria-label="Permalink for definition: subscribe(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1816674501">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmanager-subscribe-1" title="§ 7. PushManager interface">§ 7. PushManager
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmanager-subscribe-2" title="§ 7.1 subscribe() method">§ 7.1 subscribe()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmanager-subscribe-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmanager-getsubscription"
        aria-label="Links in this document to definition: getSubscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmanager-getsubscription"
                aria-label="Permalink for definition: getSubscription. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1816674501">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmanager-getsubscription-1" title="§ 7. PushManager interface">§ 7. PushManager
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmanager-getsubscription-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmanager-permissionstate"
        aria-label="Links in this document to definition: permissionState()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmanager-permissionstate"
                aria-label="Permalink for definition: permissionState(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1816674501">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmanager-permissionstate-1" title="§ 7. PushManager interface">§ 7. PushManager
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmanager-permissionstate-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscriptionoptions"
        aria-label="Links in this document to definition: PushSubscriptionOptions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionoptions"
                aria-label="Permalink for definition: PushSubscriptionOptions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1484551711">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-2" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1
                    Subscription Refreshes</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-3" title="§ 4. Security and privacy considerations">§ 4.
                    Security and privacy considerations</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-4" title="§ 7.2 PushSubscriptionOptions Interface">§ 7.2
                    PushSubscriptionOptions Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-5" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a> <a href="#ref-for-dom-pushsubscriptionoptions-6"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-7" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushsubscriptionoptions-8" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionoptions-uservisibleonly"
        aria-label="Links in this document to definition: userVisibleOnly">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionoptions-uservisibleonly"
                aria-label="Permalink for definition: userVisibleOnly. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1484551711">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-uservisibleonly-1"
                    title="§ 7.2 PushSubscriptionOptions Interface">§ 7.2 PushSubscriptionOptions Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-uservisibleonly-2" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionoptions-applicationserverkey"
        aria-label="Links in this document to definition: applicationServerKey">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionoptions-applicationserverkey"
                aria-label="Permalink for definition: applicationServerKey. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1484551711">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-1" title="§ 3.4 Push subscription">§
                    3.4 Push subscription</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-2" title="§ 7.1 subscribe() method">§
                    7.1 subscribe() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-3"
                    title="§ 7.2 PushSubscriptionOptions Interface">§ 7.2 PushSubscriptionOptions Interface</a> <a
                    href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-5" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-6" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-7"
                    title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3 PushSubscriptionOptionsInit
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptions-applicationserverkey-8" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscriptionoptionsinit"
        aria-label="Links in this document to definition: PushSubscriptionOptionsInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionoptionsinit"
                aria-label="Permalink for definition: PushSubscriptionOptionsInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-975599346">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-2" title="§ 7. PushManager interface">§ 7. PushManager
                    interface</a> <a href="#ref-for-dom-pushsubscriptionoptionsinit-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-4"
                    title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3 PushSubscriptionOptionsInit
                    dictionary</a> <a href="#ref-for-dom-pushsubscriptionoptionsinit-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushsubscriptionoptionsinit-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-pushsubscriptionoptionsinit-8" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionoptionsinit-uservisibleonly"
        aria-label="Links in this document to definition: userVisibleOnly">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionoptionsinit-uservisibleonly"
                aria-label="Permalink for definition: userVisibleOnly. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-975599346">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-1" title="§ 3.6 Permission">§ 3.6
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-2" title="§ 7.1 subscribe() method">§
                    7.1 subscribe() method</a> <a href="#ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-4"
                    title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3 PushSubscriptionOptionsInit
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-uservisibleonly-5" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionoptionsinit-applicationserverkey"
        aria-label="Links in this document to definition: applicationServerKey">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionoptionsinit-applicationserverkey"
                aria-label="Permalink for definition: applicationServerKey. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-975599346">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-1"
                    title="§ 7.1 subscribe() method">§ 7.1 subscribe() method</a> <a
                    href="#ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-2" title="Reference 2">(2)</a>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-4" title="Reference 4">(4)</a>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-5" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-6"
                    title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3 PushSubscriptionOptionsInit
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionoptionsinit-applicationserverkey-7" title="§ A. IDL Index">§ A.
                    IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscription"
        aria-label="Links in this document to definition: PushSubscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscription"
                aria-label="Permalink for definition: PushSubscription. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1348261679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscription-1" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a> <a
                    href="#ref-for-dom-pushsubscription-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-pushsubscription-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-pushsubscription-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-pushsubscription-5" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-6" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1 Subscription
                    Refreshes</a> <a href="#ref-for-dom-pushsubscription-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-pushsubscription-8" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-9" title="§ 4. Security and privacy considerations">§ 4. Security
                    and privacy considerations</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-10" title="§ 5.3 Push service use">§ 5.3 Push service use</a> <a
                    href="#ref-for-dom-pushsubscription-11" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-pushsubscription-12" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-13" title="§ 7. PushManager interface">§ 7. PushManager
                    interface</a> <a href="#ref-for-dom-pushsubscription-14" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-15" title="§ 7.1 subscribe() method">§ 7.1 subscribe() method</a>
                <a href="#ref-for-dom-pushsubscription-16" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-17" title="§ 8. PushSubscription interface">§ 8. PushSubscription
                    interface</a> <a href="#ref-for-dom-pushsubscription-18" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-pushsubscription-19" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-pushsubscription-20" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-pushsubscription-21" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-22" title="§ 8.1 PushEncryptionKeyName enumeration">§ 8.1
                    PushEncryptionKeyName enumeration</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-23" title="§ 10.4.1 PushSubscriptionChangeEvent Interface">§
                    10.4.1 PushSubscriptionChangeEvent Interface</a> <a href="#ref-for-dom-pushsubscription-24"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-25" title="§ 10.4.2 PushSubscriptionChangeEventInit Interface">§
                    10.4.2 PushSubscriptionChangeEventInit Interface</a> <a href="#ref-for-dom-pushsubscription-26"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-27" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushsubscription-28" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-pushsubscription-29" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-pushsubscription-30" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-pushsubscription-31" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-pushsubscription-32" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-pushsubscription-33" title="Reference 7">(7)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscription-endpoint"
        aria-label="Links in this document to definition: endpoint">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscription-endpoint"
                aria-label="Permalink for definition: endpoint. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscription-endpoint-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscription-expirationtime"
        aria-label="Links in this document to definition: expirationTime">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscription-expirationtime"
                aria-label="Permalink for definition: expirationTime. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscription-expirationtime-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionjson-endpoint"
        aria-label="Links in this document to definition: endpoint">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionjson-endpoint"
                aria-label="Permalink for definition: endpoint. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionjson-expirationtime"
        aria-label="Links in this document to definition: expirationTime">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionjson-expirationtime"
                aria-label="Permalink for definition: expirationTime. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-getting-the-endpoint-attribute"
        aria-label="Links in this document to definition: getting the endpoint attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-getting-the-endpoint-attribute"
                aria-label="Permalink for definition: getting the endpoint attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-getting-the-endpoint-attribute-1" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-getting-the-expirationtime-attribute"
        aria-label="Links in this document to definition: getting the expirationTime attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-getting-the-expirationtime-attribute"
                aria-label="Permalink for definition: getting the expirationTime attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-getting-the-expirationtime-attribute-1" title="§ 8. PushSubscription interface">§
                    8. PushSubscription interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscription-options"
        aria-label="Links in this document to definition: options">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscription-options"
                aria-label="Permalink for definition: options. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1348261679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscription-options-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-options-2" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-options-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscription-getkey"
        aria-label="Links in this document to definition: getKey()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscription-getkey"
                aria-label="Permalink for definition: getKey(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1348261679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscription-getkey-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a> <a href="#ref-for-dom-pushsubscription-getkey-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-getkey-3" title="§ 5.3 Push service use">§ 5.3 Push service
                    use</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-getkey-4" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a> <a href="#ref-for-dom-pushsubscription-getkey-5"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-pushsubscription-getkey-6"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-pushsubscription-getkey-7"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-getkey-8" title="§ 8.1 PushEncryptionKeyName enumeration">§ 8.1
                    PushEncryptionKeyName enumeration</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-getkey-9" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscription-unsubscribe"
        aria-label="Links in this document to definition: unsubscribe()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscription-unsubscribe"
                aria-label="Permalink for definition: unsubscribe(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1348261679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscription-unsubscribe-1"
                    title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3 PushSubscriptionOptionsInit
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-unsubscribe-2" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-unsubscribe-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscription-tojson"
        aria-label="Links in this document to definition: toJSON()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscription-tojson"
                aria-label="Permalink for definition: toJSON(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1348261679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscription-tojson-1" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscription-tojson-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscriptionjson"
        aria-label="Links in this document to definition: PushSubscriptionJSON">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionjson"
                aria-label="Permalink for definition: PushSubscriptionJSON. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1348261679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionjson-1" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a> <a href="#ref-for-dom-pushsubscriptionjson-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-pushsubscriptionjson-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionjson-4" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushsubscriptionjson-5" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscriptionjson-keys"
        aria-label="Links in this document to definition: keys">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionjson-keys"
                aria-label="Permalink for definition: keys. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1348261679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionjson-keys-1" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionjson-keys-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushencryptionkeyname"
        aria-label="Links in this document to definition: PushEncryptionKeyName">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushencryptionkeyname"
                aria-label="Permalink for definition: PushEncryptionKeyName. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-226775330">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-1" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a> <a href="#ref-for-dom-pushencryptionkeyname-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-3" title="§ 8.1 PushEncryptionKeyName enumeration">§ 8.1
                    PushEncryptionKeyName enumeration</a> <a href="#ref-for-dom-pushencryptionkeyname-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushencryptionkeyname-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushencryptionkeyname-p256dh"
        aria-label="Links in this document to definition: p256dh">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushencryptionkeyname-p256dh"
                aria-label="Permalink for definition: p256dh. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-226775330">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-p256dh-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-p256dh-2" title="§ 5.3 Push service use">§ 5.3 Push service
                    use</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-p256dh-3" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a> <a href="#ref-for-dom-pushencryptionkeyname-p256dh-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-p256dh-5" title="§ 8.1 PushEncryptionKeyName enumeration">§
                    8.1 PushEncryptionKeyName enumeration</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-p256dh-6" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushencryptionkeyname-auth"
        aria-label="Links in this document to definition: auth">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushencryptionkeyname-auth"
                aria-label="Permalink for definition: auth. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-226775330">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-auth-1" title="§ 3.4 Push subscription">§ 3.4 Push
                    subscription</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-auth-2" title="§ 8. PushSubscription interface">§ 8.
                    PushSubscription interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-auth-3" title="§ 8.1 PushEncryptionKeyName enumeration">§
                    8.1 PushEncryptionKeyName enumeration</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushencryptionkeyname-auth-4" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmessagedata"
        aria-label="Links in this document to definition: PushMessageData">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmessagedata"
                aria-label="Permalink for definition: PushMessageData. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1430759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmessagedata-1" title="§ 9. PushMessageData interface">§ 9. PushMessageData
                    interface</a> <a href="#ref-for-dom-pushmessagedata-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-3" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent
                    Interface</a> <a href="#ref-for-dom-pushmessagedata-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-5" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a> <a href="#ref-for-dom-pushmessagedata-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-7" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushmessagedata-8" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-bytes"
        aria-label="Links in this document to definition: bytes">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-bytes"
                aria-label="Permalink for definition: bytes. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-bytes-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent Interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-bytes-2" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmessagedata-arraybuffer"
        aria-label="Links in this document to definition: arrayBuffer()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmessagedata-arraybuffer"
                aria-label="Permalink for definition: arrayBuffer(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1430759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmessagedata-arraybuffer-1" title="§ 9. PushMessageData interface">§ 9.
                    PushMessageData interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-arraybuffer-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmessagedata-blob"
        aria-label="Links in this document to definition: blob()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmessagedata-blob"
                aria-label="Permalink for definition: blob(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1430759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmessagedata-blob-1" title="§ 9. PushMessageData interface">§ 9.
                    PushMessageData interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-blob-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmessagedata-bytes"
        aria-label="Links in this document to definition: bytes()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmessagedata-bytes"
                aria-label="Permalink for definition: bytes(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1430759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmessagedata-bytes-1" title="§ 9. PushMessageData interface">§ 9.
                    PushMessageData interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-bytes-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmessagedata-json"
        aria-label="Links in this document to definition: json()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmessagedata-json"
                aria-label="Permalink for definition: json(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1430759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmessagedata-json-1" title="§ 9. PushMessageData interface">§ 9.
                    PushMessageData interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-json-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmessagedata-text"
        aria-label="Links in this document to definition: text()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmessagedata-text"
                aria-label="Permalink for definition: text(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1430759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmessagedata-text-1" title="§ 9. PushMessageData interface">§ 9.
                    PushMessageData interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedata-text-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-extract-a-byte-sequence"
        aria-label="Links in this document to definition: extract a byte sequence">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-extract-a-byte-sequence"
                aria-label="Permalink for definition: extract a byte sequence. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-extract-a-byte-sequence-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent
                    Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serviceworkerglobalscope-onpush"
        aria-label="Links in this document to definition: onpush">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serviceworkerglobalscope-onpush"
                aria-label="Permalink for definition: onpush. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-801193280">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serviceworkerglobalscope-onpush-1"
                    title="§ 10.1 Extensions to the ServiceWorkerGlobalScope interface">§ 10.1 Extensions to the
                    ServiceWorkerGlobalScope interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serviceworkerglobalscope-onpush-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serviceworkerglobalscope-onpushsubscriptionchange"
        aria-label="Links in this document to definition: onpushsubscriptionchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serviceworkerglobalscope-onpushsubscriptionchange"
                aria-label="Permalink for definition: onpushsubscriptionchange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-801193280">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serviceworkerglobalscope-onpushsubscriptionchange-1"
                    title="§ 10.1 Extensions to the ServiceWorkerGlobalScope interface">§ 10.1 Extensions to the
                    ServiceWorkerGlobalScope interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serviceworkerglobalscope-onpushsubscriptionchange-2" title="§ A. IDL Index">§ A.
                    IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushevent"
        aria-label="Links in this document to definition: PushEvent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushevent"
                aria-label="Permalink for definition: PushEvent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1213098884">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushevent-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent Interface</a> <a
                    href="#ref-for-dom-pushevent-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-pushevent-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushevent-4" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushevent-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pusheventinit"
        aria-label="Links in this document to definition: PushEventInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pusheventinit"
                aria-label="Permalink for definition: PushEventInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pusheventinit-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pusheventinit-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pusheventinit-data"
        aria-label="Links in this document to definition: data">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pusheventinit-data"
                aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pusheventinit-notification"
        aria-label="Links in this document to definition: notification">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pusheventinit-notification"
                aria-label="Permalink for definition: notification. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushmessagedatainit"
        aria-label="Links in this document to definition: PushMessageDataInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushmessagedatainit"
                aria-label="Permalink for definition: PushMessageDataInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushmessagedatainit-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushmessagedatainit-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushevent-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushevent-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1213098884">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushevent-constructor-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushevent-constructor-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushevent-data"
        aria-label="Links in this document to definition: data">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushevent-data"
                aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1213098884">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushevent-data-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushevent-data-2" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushevent-data-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushevent-notification"
        aria-label="Links in this document to definition: notification">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushevent-notification"
                aria-label="Permalink for definition: notification. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1213098884">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushevent-notification-1" title="§ 10.2 PushEvent Interface">§ 10.2 PushEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushevent-notification-2" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving
                    a Push Message</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushevent-notification-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-push-event-result"
        aria-label="Links in this document to definition: push event result">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-push-event-result"
                aria-label="Permalink for definition: push event result. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-push-event-result-1" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a
                    Push Message</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-notification-shown"
        aria-label="Links in this document to definition: notification shown">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-notification-shown"
                aria-label="Permalink for definition: notification shown. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-notification-shown-1" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a
                    Push Message</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-fire-a-push-event"
        aria-label="Links in this document to definition: fire a push event">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-fire-a-push-event"
                aria-label="Permalink for definition: fire a push event. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-fire-a-push-event-1" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a
                    Push Message</a> <a href="#ref-for-dfn-fire-a-push-event-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-acknowledge-a-push-message"
        aria-label="Links in this document to definition: acknowledge a push message">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-acknowledge-a-push-message"
                aria-label="Permalink for definition: acknowledge a push message. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-acknowledge-a-push-message-1" title="§ 10.3 Receiving a Push Message">§ 10.3
                    Receiving a Push Message</a> <a href="#ref-for-dfn-acknowledge-a-push-message-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-acknowledge-a-push-message-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-acknowledge-a-push-message-4"
                    title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-pushsubscriptionchange"
        aria-label="Links in this document to definition: pushsubscriptionchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-pushsubscriptionchange"
                aria-label="Permalink for definition: pushsubscriptionchange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-pushsubscriptionchange-1" title="§ 10.4 The pushsubscriptionchange Event">§ 10.4
                    The pushsubscriptionchange Event</a>
            </li>
            <li>
                <a href="#ref-for-dfn-pushsubscriptionchange-2"
                    title="§ 10.4.2 PushSubscriptionChangeEventInit Interface">§ 10.4.2 PushSubscriptionChangeEventInit
                    Interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-fire-the-pushsubscriptionchange-event"
        aria-label="Links in this document to definition: fire the &quot;pushsubscriptionchange&quot; event">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-fire-the-pushsubscriptionchange-event"
                aria-label="Permalink for definition: fire the &quot;pushsubscriptionchange&quot; event. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-fire-the-pushsubscriptionchange-event-1" title="§ 3.4 Push subscription">§ 3.4
                    Push subscription</a>
            </li>
            <li>
                <a href="#ref-for-dfn-fire-the-pushsubscriptionchange-event-2" title="§ 3.4.1 Subscription Refreshes">§
                    3.4.1 Subscription Refreshes</a> <a href="#ref-for-dfn-fire-the-pushsubscriptionchange-event-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-fire-the-pushsubscriptionchange-event-4"
                    title="§ 4. Security and privacy considerations">§ 4. Security and privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-pushsubscriptionchangeevent"
        aria-label="Links in this document to definition: PushSubscriptionChangeEvent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionchangeevent"
                aria-label="Permalink for definition: PushSubscriptionChangeEvent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2104077905">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeevent-1" title="§ 10.4 The pushsubscriptionchange Event">§
                    10.4 The pushsubscriptionchange Event</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeevent-2"
                    title="§ 10.4.1 PushSubscriptionChangeEvent Interface">§ 10.4.1 PushSubscriptionChangeEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeevent-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionchangeevent-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionchangeevent-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionchangeevent-newsubscription"
        aria-label="Links in this document to definition: newSubscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionchangeevent-newsubscription"
                aria-label="Permalink for definition: newSubscription. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2104077905">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeevent-newsubscription-1"
                    title="§ 10.4.1 PushSubscriptionChangeEvent Interface">§ 10.4.1 PushSubscriptionChangeEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeevent-newsubscription-2" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionchangeevent-oldsubscription"
        aria-label="Links in this document to definition: oldSubscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionchangeevent-oldsubscription"
                aria-label="Permalink for definition: oldSubscription. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2104077905">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeevent-oldsubscription-1"
                    title="§ 10.4.1 PushSubscriptionChangeEvent Interface">§ 10.4.1 PushSubscriptionChangeEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeevent-oldsubscription-2" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionchangeeventinit"
        aria-label="Links in this document to definition: PushSubscriptionChangeEventInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionchangeeventinit"
                aria-label="Permalink for definition: PushSubscriptionChangeEventInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1842180883">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeeventinit-1"
                    title="§ 10.4.1 PushSubscriptionChangeEvent Interface">§ 10.4.1 PushSubscriptionChangeEvent
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeeventinit-2"
                    title="§ 10.4.2 PushSubscriptionChangeEventInit Interface">§ 10.4.2 PushSubscriptionChangeEventInit
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeeventinit-3" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-pushsubscriptionchangeeventinit-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionchangeeventinit-newsubscription"
        aria-label="Links in this document to definition: newSubscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionchangeeventinit-newsubscription"
                aria-label="Permalink for definition: newSubscription. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1842180883">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeeventinit-newsubscription-1"
                    title="§ 10.4.2 PushSubscriptionChangeEventInit Interface">§ 10.4.2 PushSubscriptionChangeEventInit
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeeventinit-newsubscription-2" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-pushsubscriptionchangeeventinit-oldsubscription"
        aria-label="Links in this document to definition: oldSubscription">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-pushsubscriptionchangeeventinit-oldsubscription"
                aria-label="Permalink for definition: oldSubscription. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1842180883">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeeventinit-oldsubscription-1"
                    title="§ 10.4.2 PushSubscriptionChangeEventInit Interface">§ 10.4.2 PushSubscriptionChangeEventInit
                    Interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-pushsubscriptionchangeeventinit-oldsubscription-2" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-user-agent"
        aria-label="Links in this document to definition: user agent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-user-agent"
                aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-user-agent-1" title="§ Abstract">§ Abstract</a> <a
                    href="#ref-for-dfn-user-agent-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-4" title="§ 1. Introduction">§ 1. Introduction</a> <a
                    href="#ref-for-dfn-user-agent-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-6"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agent-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-user-agent-8" title="Reference 5">(5)</a> <a href="#ref-for-dfn-user-agent-9"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-user-agent-10" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-user-agent-11" title="Reference 8">(8)</a> <a href="#ref-for-dfn-user-agent-12"
                    title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-13" title="§ 2. Dependencies">§ 2. Dependencies</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-14" title="§ 3.4 Push subscription">§ 3.4 Push subscription</a> <a
                    href="#ref-for-dfn-user-agent-15" title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-16"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-17" title="§ 3.4.1 Subscription Refreshes">§ 3.4.1 Subscription
                    Refreshes</a> <a href="#ref-for-dfn-user-agent-18" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-user-agent-19" title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agent-20"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-user-agent-21" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-user-agent-22" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-23" title="§ 3.4.2 Subscription Deactivation">§ 3.4.2 Subscription
                    Deactivation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-24" title="§ 3.5 Push service">§ 3.5 Push service</a> <a
                    href="#ref-for-dfn-user-agent-25" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-26" title="§ 4. Security and privacy considerations">§ 4. Security and
                    privacy considerations</a> <a href="#ref-for-dfn-user-agent-27" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-user-agent-28" title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agent-29"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-user-agent-30" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-user-agent-31" title="Reference 6">(6)</a> <a href="#ref-for-dfn-user-agent-32"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-user-agent-33" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-34" title="§ 5. Push Framework">§ 5. Push Framework</a> <a
                    href="#ref-for-dfn-user-agent-35" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-36" title="§ 7. PushManager interface">§ 7. PushManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-37" title="§ 7.3 PushSubscriptionOptionsInit dictionary">§ 7.3
                    PushSubscriptionOptionsInit dictionary</a> <a href="#ref-for-dfn-user-agent-38"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-39" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-user-agent-40" title="Reference 4">(4)</a> <a href="#ref-for-dfn-user-agent-41"
                    title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-42" title="§ 8. PushSubscription interface">§ 8. PushSubscription
                    interface</a> <a href="#ref-for-dfn-user-agent-43" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-user-agent-44" title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agent-45"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-user-agent-46" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-user-agent-47" title="Reference 6">(6)</a> <a href="#ref-for-dfn-user-agent-48"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-user-agent-49" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-50" title="§ 10.3 Receiving a Push Message">§ 10.3 Receiving a Push
                    Message</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-51" title="§ 10.4 The pushsubscriptionchange Event">§ 10.4 The
                    pushsubscriptionchange Event</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agent-52" title="§ 10.4.2 PushSubscriptionChangeEventInit Interface">§ 10.4.2
                    PushSubscriptionChangeEventInit Interface</a>
            </li>
        </ul>
    </div>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>