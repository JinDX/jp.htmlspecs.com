<!DOCTYPE html>
<html dir="ltr" lang="ja-JP">

<head>
    <meta charset="utf-8">
    <!-- <meta name="generator" content="ReSpec 19.0.1"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        /* --- EXAMPLES --- */
        div.example-title {
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.example-title span {
            text-transform: uppercase;
        }

        aside.example,
        div.example,
        div.illegal-example {
            padding: 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: black
        }

        aside.example,
        div.example {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee;
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff;
        }

        aside.example div.example div.example-title {
            color: #999;
        }
    </style>
    <style>
        /* --- ISSUES/NOTES --- */
        div.issue-title,
        div.note-title,
        div.ednote-title,
        div.warning-title {
            padding-right: 1em;
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.issue-title {
            color: #e05252;
        }

        div.note-title,
        div.ednote-title {
            color: #2b2;
        }

        div.warning-title {
            color: #f22;
        }

        div.issue-title span,
        div.note-title span,
        div.ednote-title span,
        div.warning-title span {
            text-transform: uppercase;
        }

        div.note,
        div.issue,
        div.ednote,
        div.warning {
            margin-top: 1em;
            margin-bottom: 1em;
        }

        .note>p:first-child,
        .ednote>p:first-child,
        .issue>p:first-child,
        .warning>p:first-child {
            margin-top: 0
        }

        .issue,
        .note,
        .ednote,
        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
        }

        div.issue,
        div.note,
        div.ednote,
        div.warning {
            padding: 1em 1.2em 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        span.note,
        span.ednote,
        span.issue,
        span.warning {
            padding: .1em .5em .15em;
        }

        .issue {
            border-color: #e05252;
            background: #fbe9e9;
        }

        .note,
        .ednote {
            border-color: #52e052;
            background: #e9fbe9;
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
        }

        .warning-title:before {
            content: "⚠";
            /*U+26A0 WARNING SIGN*/
            font-size: 3em;
            float: left;
            height: 100%;
            padding-right: .3em;
            vertical-align: top;
            margin-top: -0.5em;
        }

        li.task-list-item {
            list-style: none;
        }

        input.task-list-item-checkbox {
            margin: 0 0.35em 0.25em -1.6em;
            vertical-align: middle;
        }
    </style>
    <title>ActivityPub</title>



    <style>
        img {
            max-width: 100%;
        }
    </style>
    <style id="respec-mainstyle">
        /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

        /* Override code highlighter background */
        .hljs {
            background: transparent !important;
        }

        /* --- INLINES --- */
        h1 abbr,
        h2 abbr,
        h3 abbr,
        h4 abbr,
        h5 abbr,
        h6 abbr,
        a abbr {
            border: none;
        }

        dfn {
            font-weight: bold;
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none;
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none;
        }

        a.bibref {
            text-decoration: none;
        }

        cite .bibref {
            font-style: normal;
        }

        code {
            color: #c83500;
        }

        th code {
            color: inherit;
        }

        /* --- TOC --- */

        .toc a,
        .tof a {
            text-decoration: none;
        }

        a .secno,
        a .figno {
            color: #000;
        }

        ul.tof,
        ol.tof {
            list-style: none outside none;
        }

        .caption {
            margin-top: 0.5em;
            font-style: italic;
        }

        /* --- TABLE --- */

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c;
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left;
        }

        .simple th[scope="row"] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd;
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd;
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff;
        }

        /* --- DL --- */

        .section dd>p:first-child {
            margin-top: 0;
        }

        .section dd>p:last-child {
            margin-bottom: 0;
        }

        .section dd {
            margin-bottom: 1em;
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0;
        }

        #issue-summary>ul,
        .respec-dfn-list {
            column-count: 2;
        }

        #issue-summary li,
        .respec-dfn-list li {
            list-style: none;
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top;
        }

        details.respec-tests-details>* {
            padding-right: 2em;
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: white;
            padding-bottom: .5em;
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em;
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -0.3em;
        }

        details.respec-tests-details>li {
            padding-left: 1em;
        }

        @media print {
            .removeOnSave {
                display: none;
            }
        }
    </style>
    <style>
        /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

        .hljs {
            display: block;
            overflow-x: auto;
            padding: 0.5em;
            color: #333;
            background: #f8f8f8;
        }

        .hljs-comment,
        .hljs-quote {
            color: #998;
            font-style: italic;
        }

        .hljs-keyword,
        .hljs-selector-tag,
        .hljs-subst {
            color: #333;
            font-weight: bold;
        }

        .hljs-number,
        .hljs-literal,
        .hljs-variable,
        .hljs-template-variable,
        .hljs-tag .hljs-attr {
            color: #008080;
        }

        .hljs-string,
        .hljs-doctag {
            color: #d14;
        }

        .hljs-title,
        .hljs-section,
        .hljs-selector-id {
            color: #900;
            font-weight: bold;
        }

        .hljs-subst {
            font-weight: normal;
        }

        .hljs-type,
        .hljs-class .hljs-title {
            color: #458;
            font-weight: bold;
        }

        .hljs-tag,
        .hljs-name,
        .hljs-attribute {
            color: #000080;
            font-weight: normal;
        }

        .hljs-regexp,
        .hljs-link {
            color: #009926;
        }

        .hljs-symbol,
        .hljs-bullet {
            color: #990073;
        }

        .hljs-built_in,
        .hljs-builtin-name {
            color: #0086b3;
        }

        .hljs-meta {
            color: #999;
            font-weight: bold;
        }

        .hljs-deletion {
            background: #fdd;
        }

        .hljs-addition {
            background: #dfd;
        }

        .hljs-emphasis {
            font-style: italic;
        }

        .hljs-strong {
            font-weight: bold;
        }
    </style>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-REC">
    <link rel="canonical" href="https://www.w3.org/TR/activitypub/">
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "REC",
  "publishDate": "2018-01-23",
  "previousPublishDate": "2017-12-05",
  "previousMaturity": "PR",
  "license": "w3c-software-doc",
  "shortName": "activitypub",
  "wg": "Social Web Working Group",
  "wgURI": "https://www.w3.org/Social/WG",
  "wgPublicList": "public-socialweb",
  "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/72531/status",
  "edDraftURI": "https://w3c.github.io/activitypub/",
  "testSuiteURI": "https://test.activitypub.rocks/",
  "errata": "https://www.w3.org/wiki/ActivityPub_errata",
  "implementationReportURI": "https://activitypub.rocks/implementation-report",
  "otherLinks": [
    {
      "key": "Repository",
      "data": [
        {
          "value": "Git repository",
          "href": "https://github.com/w3c/activitypub"
        },
        {
          "value": "Issues",
          "href": "https://github.com/w3c/activitypub/issues"
        },
        {
          "value": "Commits",
          "href": "https://github.com/w3c/activitypub/commits/gh-pages"
        }
      ]
    }
  ],
  "editors": [
    {
      "name": "Christine Lemmer-Webber",
      "url": "https://dustycloud.org/",
      "w3cid": "57007"
    },
    {
      "name": "Jessica Tallon",
      "url": "https://tsyesika.se",
      "w3cid": "72695"
    }
  ],
  "authors": [
    {
      "name": "Christine Lemmer-Webber",
      "url": "https://dustycloud.org/"
    },
    {
      "name": "Jessica Tallon",
      "url": "https://tsyesika.se"
    },
    {
      "name": "Erin Shepherd",
      "url": "http://erinshepherd.net/"
    },
    {
      "name": "Amy Guy",
      "url": "https://rhiaro.co.uk/"
    },
    {
      "name": "Evan Prodromou",
      "url": "https://en.wikipedia.org/wiki/Evan_Prodromou"
    }
  ],
  "localBiblio": {
    "ActivityStreams": {
      "title": "Activity Streams 2.0",
      "href": "https://www.w3.org/TR/activitystreams-core/",
      "authors": [
        "J. Snell"
      ],
      "status": "Editors Draft",
      "publisher": "ActivityStreams Working Group"
    },
    "Activity-Vocabulary": {
      "title": "Activity Vocabulary",
      "href": "https://www.w3.org/TR/activitystreams-vocabulary/",
      "authors": [
        "J. Snell"
      ],
      "status": "Editors Draft",
      "publisher": "ActivityStreams Working Group"
    },
    "OAuth-Server-Metadata": {
      "title": "OAuth 2.0 Authorization Server Metadata",
      "href": "https://tools.ietf.org/html/draft-ietf-oauth-discovery-06",
      "authors": [
        "M. Jones",
        "N. Sakimura",
        "J. Bradley"
      ],
      "status": "Internet-Draft",
      "publisher": "OAuth Working Group"
    }
  },
  "publishISODate": "2018-01-23T00:00:00.000Z",
  "generatedSubtitle": "Recommendation 23 January 2018"
}</script>
    <meta name="description"
        content="ActivityPubプロトコルは、[ActivityStreams] 2.0データフォーマットに基づく分散型ソーシャルネットワーキングプロトコルです。コンテンツの作成・更新・削除のためのクライアントからサーバーへのAPI、および通知やコンテンツを連携して配信するサーバー間連携APIを提供します。">
</head>

<body aria-busy="false" class="h-entry">
    <div class="head">
        <p>
            <a class="logo" href="https://www.w3.org/"><img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"
                    alt="W3C" width="72" height="48"></a>
        </p>
        <p><!--_hyper: 682859076;--></p>
        <h1 class="title p-name" id="title">ActivityPub</h1>
        <h2 id="w3c-recommendation-23-january-2018"><abbr title="World Wide Web Consortium">W3C</abbr> 勧告
            <time class="dt-published" datetime="2018-01-23">2018年1月23日</time>
        </h2>
        <dl>
            <dt>このバージョン:</dt>
            <dd><a class="u-url"
                    href="https://www.w3.org/TR/2018/REC-activitypub-20180123/">https://www.w3.org/TR/2018/REC-activitypub-20180123/</a>
            </dd>
            <dt>最新公開バージョン:</dt>
            <dd><a href="https://www.w3.org/TR/activitypub/">https://www.w3.org/TR/activitypub/</a></dd>
            <dt>最新編集者ドラフト:</dt>
            <dd><a href="https://w3c.github.io/activitypub/">https://w3c.github.io/activitypub/</a></dd>
            <dt>テストスイート:</dt>
            <dd><a href="https://test.activitypub.rocks/">https://test.activitypub.rocks/</a></dd>
            <dt>実装レポート:</dt>
            <dd><a
                    href="https://activitypub.rocks/implementation-report">https://activitypub.rocks/implementation-report</a>
            </dd>
            <dt>以前のバージョン:</dt>
            <dd><a
                    href="https://www.w3.org/TR/2017/PR-activitypub-20171205/">https://www.w3.org/TR/2017/PR-activitypub-20171205/</a>
            </dd>
            <dt>編集者:</dt>
            <dd class="p-author h-card vcard" data-editor-id="57007"><a class="u-url url p-name fn"
                    href="https://dustycloud.org/">Christine Lemmer-Webber</a></dd>
            <dd class="p-author h-card vcard" data-editor-id="72695"><a class="u-url url p-name fn"
                    href="https://tsyesika.se">Jessica Tallon</a></dd>

            <dt>著者:</dt>
            <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="https://dustycloud.org/">Christine
                    Lemmer-Webber</a></dd>
            <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="https://tsyesika.se">Jessica
                    Tallon</a></dd>
            <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="http://erinshepherd.net/">Erin
                    Shepherd</a></dd>
            <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="https://rhiaro.co.uk/">Amy Guy</a>
            </dd>
            <dd class="p-author h-card vcard"><a class="u-url url p-name fn"
                    href="https://en.wikipedia.org/wiki/Evan_Prodromou">Evan Prodromou</a></dd>

            <dt>リポジトリ:</dt>
            <dd>
                <a href="https://github.com/w3c/activitypub">
                    Gitリポジトリ
                </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/activitypub/issues">
                    イシュー
                </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/activitypub/commits/gh-pages">
                    コミット
                </a>
            </dd>
        </dl>
        <p>
            公開後に報告されたエラーや問題については、<a href="https://www.w3.org/wiki/ActivityPub_errata"><strong>正誤表</strong></a>をご確認ください。
        </p>
        <p>
            また、<a href="https://www.w3.org/2003/03/Translations/byTechnology?technology=activitypub">
                <strong>翻訳</strong></a>もご覧ください。
        </p>
        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
            2018

            <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
            (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
            <a href="https://www.ercim.eu/"><abbr
                    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
            <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
            <abbr title="World Wide Web Consortium">W3C</abbr> <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive
                document license</a>
            rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2 id="abstract-0">要約</h2>
        <p>
            ActivityPubプロトコルは、[<cite><a class="bibref" href="#bib-ActivityStreams">ActivityStreams</a></cite>]
            2.0データフォーマットに基づく分散型ソーシャルネットワーキングプロトコルです。
            このプロトコルはコンテンツの作成・更新・削除のためのクライアントからサーバーへのAPIに加え、通知やコンテンツを配信する連合サーバー間APIも提供します。
        </p>
    </section>

    <section id="sotd" class="introductory">
        <h2 id="status-of-this-document">この文書のステータス</h2>
        <p>
            <em>このセクションでは、本書が公開された時点での文書のステータスについて説明します。ほかの文書が本書に取って代わる可能性があります。現在の<abbr
                    title="World Wide Web Consortium">W3C</abbr>の出版物一覧や、この技術報告書の最新版は、<a
                    href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    技術報告一覧</a>（https://www.w3.org/TR/）で確認できます。</em>
        </p>


        <p>
            本書は<a href="https://www.w3.org/Social/WG">Social Web Working Group</a>によって勧告として発行されました。
        </p>
        <p>
            興味のある方はどなたでも、ワーキンググループの<a href="https://github.com/w3c/activitypub/issues">Issue tracker</a>
            で実装やバグ報告、その他コメントを提供できます。
            これらは<a href="https://www.w3.org/wiki/SocialCG">Social Web Community Group</a> で議論され、将来のこの仕様のバージョンで考慮されます。
        </p>
        <p>
            ワーキンググループの <a href="https://activitypub.rocks/implementation-report">実装レポート</a> も参照してください。
        </p>
        <p>
            この文書は<abbr title="World Wide Web Consortium">W3C</abbr>のメンバー、ソフトウェア開発者、その他<abbr
                title="World Wide Web Consortium">W3C</abbr>グループや関係者によってレビューされ、ディレクターにより<abbr
                title="World Wide Web Consortium">W3C</abbr>勧告として承認されています。
            安定した文書であり、参考資料として利用したり他の文書から引用したりできます。<abbr
                title="World Wide Web Consortium">W3C</abbr>が勧告を発行する役割は、仕様に注目を集め、その広範な導入を促進する点にあります。これによりWebの機能と相互運用性が向上します。
        </p>
        <p>
            この文書は<abbr title="World Wide Web Consortium">W3C</abbr>
            <a href="https://www.w3.org/Consortium/Patent-Policy/">パテントポリシー</a>のもとで運営されているグループによって作成されました。
            <abbr title="World Wide Web Consortium">W3C</abbr>は、グループの納品物に関連して<a
                href="https://www.w3.org/2004/01/pp-impl/72531/status" rel="disclosure">公開特許開示リスト</a>を管理しています。
            そのページには、特許開示の方法についての案内も記載されています。自らが実際に把握する特許が
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">必須クレーム</a>に含まれると考える場合は、
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">W3Cパテントポリシー第6節</a> に従い情報を開示しなければなりません。
        </p>
        <p>この文書は、<a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">2017年3月1日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> プロセス文書</a>に従って管理されています。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a href="#Overview" class="tocxref"><span class="secno">1. </span>概要</a>
                <ol class="toc">
                    <li class="tocline"><a href="#social-web-working-group" class="tocxref"><span class="secno">1.1
                            </span>Social Web Working Group</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#conformance" class="tocxref"><span class="secno">2. </span>適合性</a>
                <ol class="toc">
                    <li class="tocline"><a href="#specification-profiles" class="tocxref"><span class="secno">2.1
                            </span>仕様プロファイル</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#obj" class="tocxref"><span class="secno">3. </span>オブジェクト</a>
                <ol class="toc">
                    <li class="tocline"><a href="#obj-id" class="tocxref"><span class="secno">3.1 </span>オブジェクト識別子</a>
                    </li>
                    <li class="tocline"><a href="#retrieving-objects" class="tocxref"><span class="secno">3.2
                            </span>オブジェクトの取得</a></li>
                    <li class="tocline"><a href="#source-property" class="tocxref"><span class="secno">3.3
                            </span>sourceプロパティ</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#actors" class="tocxref"><span class="secno">4. </span>アクター</a>
                <ol class="toc">
                    <li class="tocline"><a href="#actor-objects" class="tocxref"><span class="secno">4.1
                            </span><i>アクター</i>オブジェクト</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#collections" class="tocxref"><span class="secno">5. </span>コレクション</a>
                <ol class="toc">
                    <li class="tocline"><a href="#outbox" class="tocxref"><span class="secno">5.1 </span>Outbox</a></li>
                    <li class="tocline"><a href="#inbox" class="tocxref"><span class="secno">5.2 </span>Inbox</a></li>
                    <li class="tocline"><a href="#followers" class="tocxref"><span class="secno">5.3
                            </span>フォロワーコレクション</a></li>
                    <li class="tocline"><a href="#following" class="tocxref"><span class="secno">5.4
                            </span>フォロー中コレクション</a></li>
                    <li class="tocline"><a href="#liked" class="tocxref"><span class="secno">5.5 </span>Likedコレクション</a>
                    </li>
                    <li class="tocline"><a href="#public-addressing" class="tocxref"><span class="secno">5.6
                            </span>公開宛先</a></li>
                    <li class="tocline"><a href="#likes" class="tocxref"><span class="secno">5.7 </span>Likesコレクション</a>
                    </li>
                    <li class="tocline"><a href="#shares" class="tocxref"><span class="secno">5.8
                            </span>Sharesコレクション</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#client-to-server-interactions" class="tocxref"><span class="secno">6.
                    </span>クライアントからサーバーへのやりとり</a>
                <ol class="toc">
                    <li class="tocline"><a href="#client-addressing" class="tocxref"><span class="secno">6.1
                            </span>クライアントによる宛先指定</a></li>
                    <li class="tocline"><a href="#create-activity-outbox" class="tocxref"><span class="secno">6.2
                            </span>Createアクティビティ</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#object-without-create" class="tocxref"><span
                                        class="secno">6.2.1 </span>Createアクティビティ無しでのオブジェクト作成</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#update-activity-outbox" class="tocxref"><span class="secno">6.3
                            </span>Updateアクティビティ</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#partial-updates" class="tocxref"><span class="secno">6.3.1
                                    </span>部分更新</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#delete-activity-outbox" class="tocxref"><span class="secno">6.4
                            </span>Deleteアクティビティ</a></li>
                    <li class="tocline"><a href="#follow-activity-outbox" class="tocxref"><span class="secno">6.5
                            </span>Followアクティビティ</a></li>
                    <li class="tocline"><a href="#add-activity-outbox" class="tocxref"><span class="secno">6.6
                            </span>Addアクティビティ</a></li>
                    <li class="tocline"><a href="#remove-activity-outbox" class="tocxref"><span class="secno">6.7
                            </span>Removeアクティビティ</a></li>
                    <li class="tocline"><a href="#like-activity-outbox" class="tocxref"><span class="secno">6.8
                            </span>Likeアクティビティ</a></li>
                    <li class="tocline"><a href="#block-activity-outbox" class="tocxref"><span class="secno">6.9
                            </span>Blockアクティビティ</a></li>
                    <li class="tocline"><a href="#undo-activity-outbox" class="tocxref"><span class="secno">6.10
                            </span>Undoアクティビティ</a></li>
                    <li class="tocline"><a href="#client-to-server-outbox-delivery" class="tocxref"><span
                                class="secno">6.11 </span>配信</a></li>
                    <li class="tocline"><a href="#uploading-media" class="tocxref"><span class="secno">6.12
                            </span>メディアのアップロード</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#server-to-server-interactions" class="tocxref"><span class="secno">7.
                    </span>サーバー間のやりとり</a>
                <ol class="toc">
                    <li class="tocline"><a href="#delivery" class="tocxref"><span class="secno">7.1 </span>配信</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#outbox-delivery" class="tocxref"><span class="secno">7.1.1
                                    </span>サーバー間Outbox配信要件</a></li>
                            <li class="tocline"><a href="#inbox-forwarding" class="tocxref"><span class="secno">7.1.2
                                    </span>Inboxからの転送</a></li>
                            <li class="tocline"><a href="#shared-inbox-delivery" class="tocxref"><span
                                        class="secno">7.1.3 </span>共有Inbox配信</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#create-activity-inbox" class="tocxref"><span class="secno">7.2
                            </span>Createアクティビティ</a></li>
                    <li class="tocline"><a href="#update-activity-inbox" class="tocxref"><span class="secno">7.3
                            </span>Updateアクティビティ</a></li>
                    <li class="tocline"><a href="#delete-activity-inbox" class="tocxref"><span class="secno">7.4
                            </span>Deleteアクティビティ</a></li>
                    <li class="tocline"><a href="#follow-activity-inbox" class="tocxref"><span class="secno">7.5
                            </span>Followアクティビティ</a></li>
                    <li class="tocline"><a href="#accept-activity-inbox" class="tocxref"><span class="secno">7.6
                            </span>Acceptアクティビティ</a></li>
                    <li class="tocline"><a href="#reject-activity-inbox" class="tocxref"><span class="secno">7.7
                            </span>Rejectアクティビティ</a></li>
                    <li class="tocline"><a href="#add-activity-inbox" class="tocxref"><span class="secno">7.8
                            </span>Addアクティビティ</a></li>
                    <li class="tocline"><a href="#remove-activity-inbox" class="tocxref"><span class="secno">7.9
                            </span>Removeアクティビティ</a></li>
                    <li class="tocline"><a href="#like-activity-inbox" class="tocxref"><span class="secno">7.10
                            </span>Likeアクティビティ</a></li>
                    <li class="tocline"><a href="#announce-activity-inbox" class="tocxref"><span class="secno">7.11
                            </span>Announceアクティビティ（共有）</a></li>
                    <li class="tocline"><a href="#undo-activity-inbox" class="tocxref"><span class="secno">7.12
                            </span>Undoアクティビティ</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#i18n-concerns" class="tocxref"><span class="secno">A.
                    </span>国際化</a></li>
            <li class="tocline"><a href="#security-considerations" class="tocxref"><span class="secno">B.
                    </span>セキュリティに関する考慮事項</a>
                <ol class="toc">
                    <li class="tocline"><a href="#authorization" class="tocxref"><span class="secno">B.1
                            </span>認証と認可</a></li>
                    <li class="tocline"><a href="#security-verification" class="tocxref"><span class="secno">B.2
                            </span>検証</a></li>
                    <li class="tocline"><a href="#security-localhost" class="tocxref"><span class="secno">B.3
                            </span>localhost URIへのアクセス</a></li>
                    <li class="tocline"><a href="#security-uri-schemes" class="tocxref"><span class="secno">B.4
                            </span>URIスキーム</a></li>
                    <li class="tocline"><a href="#security-recursive-objects" class="tocxref"><span class="secno">B.5
                            </span>再帰オブジェクト</a></li>
                    <li class="tocline"><a href="#security-spam" class="tocxref"><span class="secno">B.6 </span>スパム</a>
                    </li>
                    <li class="tocline"><a href="#security-federation-dos" class="tocxref"><span class="secno">B.7
                            </span>連合型DoS対策</a></li>
                    <li class="tocline"><a href="#security-c2s-ratelimiting" class="tocxref"><span class="secno">B.8
                            </span>クライアント→サーバのレート制限</a></li>
                    <li class="tocline"><a href="#security-c2s-response-dos" class="tocxref"><span class="secno">B.9
                            </span>クライアント→サーバ応答型DoS</a></li>
                    <li class="tocline"><a href="#security-sanitizing-content" class="tocxref"><span class="secno">B.10
                            </span>コンテンツのサニタイズ</a></li>
                    <li class="tocline"><a href="#security-not-displaying-bto-bcc" class="tocxref"><span
                                class="secno">B.11 </span>bto/bccプロパティ非表示</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#acknowledgements" class="tocxref"><span class="secno">C.
                    </span>謝辞</a></li>
            <li class="tocline"><a href="#references" class="tocxref"><span class="secno">D. </span>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">D.1
                            </span>規範的参考文献</a></li>
                    <li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">D.2
                            </span>参考情報文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>

    <section id="Overview">
        <!--OddPage-->
        <h2 id="x1-overview"><span class="secno">1. </span>概要</h2>

        <p>ActivityPubは2つのレイヤーを提供します：</p>

        <ul>
            <li>
                <b>サーバ間連合プロトコル</b>
                （分散型Webサイト同士が情報を共有できるようにするもの）
            </li>
            <li>
                <b>クライアントからサーバへのプロトコル</b>
                （ユーザー、リアルな人・ボット・その他自動処理などが、サーバ上のアカウントを使って、スマートフォンやデスクトップやWebアプリなど様々な手段でActivityPubとやり取りできるようにするもの）
            </li>
        </ul>

        <p>
            ActivityPubの実装はこれらのいずれか一方、または両方を実装することができます。
            ただし一方を実装したなら他方を実装するのもそれほど多くの手順はなく、どちらも実装することで（サイトを分散型ソーシャルウェブの一部とし、さまざまなソーシャルサービスに共通するクライアントやクライアントライブラリが利用できるなど）多くのメリットがあります。
        </p>

        <p>
            ActivityPubにおいてユーザーはサーバ上のアカウントを通じて "<a href="#actors">アクター</a>" として表現されます。
            異なるサーバ上のユーザーアカウントは異なるアクターに対応します。
            すべてのアクターは以下を持ちます：
        </p>

        <ul>
            <li><b><code>inbox</code>：</b>外部からメッセージを受け取るためのもの</li>
            <li><b><code>outbox</code>：</b>他者にメッセージを送信するためのもの</li>
        </ul>

        <p>
            <img src="https://www.w3.org/TR/activitypub/illustration/tutorial-1.png" alt="inboxとoutboxを持つアクター">
        </p>

        <p>
            これらはエンドポイント、つまり実体としてはActivityPubアクターのActivityStreams記述にリストされるURLです。
            （ActivityStreamsについては後述）
        </p>

        <p>
            以下は友人Alyssa P. Hackerのレコード例です：
        </p>

        <div class="example">
            <div class="example-title marker"><span>Example 1</span></div>
            <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Person"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Alyssa P. Hacker"</span>,
 <span class="hljs-attr">"preferredUsername"</span>: <span class="hljs-string">"alyssa"</span>,
 <span class="hljs-attr">"summary"</span>: <span class="hljs-string">"Lisp愛好家、MIT出身"</span>,
 <span class="hljs-attr">"inbox"</span>: <span class="hljs-string">"https://social.example/alyssa/inbox/"</span>,
 <span class="hljs-attr">"outbox"</span>: <span class="hljs-string">"https://social.example/alyssa/outbox/"</span>,
 <span class="hljs-attr">"followers"</span>: <span class="hljs-string">"https://social.example/alyssa/followers/"</span>,
 <span class="hljs-attr">"following"</span>: <span class="hljs-string">"https://social.example/alyssa/following/"</span>,
 <span class="hljs-attr">"liked"</span>: <span class="hljs-string">"https://social.example/alyssa/liked/"</span>}</pre>
        </div>

        <p>
            ActivityPubは語彙として[<cite><a class="bibref" href="#bib-ActivityStreams">ActivityStreams</a></cite>]を利用します。
            これはとても便利で、ActivityStreamsはソーシャルネットワークを流れる全てのアクションやコンテンツを表現するために必要な共通用語を網羅しています。
            おそらくActivityStreamsは必要な語彙を既に持っていますが、もしそうでなくても[<cite><a class="bibref"
                    href="#bib-JSON-LD">JSON-LD</a></cite>]を使ってActivityStreamsを拡張できます。
            JSON-LDを知っていれば、そのリンクドデータのアプローチの利点を活かせます。
            知らなくても大丈夫です、JSON-LD文書やActivityStreamsは普通のシンプルなJSONとして理解できます。
            （拡張したい場合にはJSON-LDが強力な助けとなります）
        </p>

        <p>
            さて、Alyssaは友達とやりとりしたいし、友達もAlyssaとやりとりしたい！
            そんな時「inbox」と「outbox」が活躍します。
            これらはGETとPOSTで動作が異なります。
            どのように動くか見てみましょう：
        </p>

        <p>
            <img src="https://www.w3.org/TR/activitypub/illustration/tutorial-2.png"
                alt="世界からinboxへ、outboxから世界へメッセージが流れるアクター">
        </p>

        <p>
            では要点をまとめます：
        </p>

        <ul>
            <li>
                相手のinboxへPOSTすると、その人にメッセージを送れます
                （サーバ間の連合のみ。これが「連合/federation」です！）
            </li>
            <li>
                自分のinboxからGETすれば最新メッセージを読めます
                （クライアントからサーバー。これはSNSストリームを読むのと同じです）
            </li>
            <li>
                自分のoutboxへPOSTすると世界へメッセージを送信できます
                （クライアントからサーバー）
            </li>
            <li>
                相手のoutboxからGETすると、その人が投稿したメッセージ（少なくとも自分が閲覧を許されたもの）を見られます
                （クライアントからサーバ・またはサーバ間どちらも可能）
            </li>
        </ul>

        <p>
            もちろん、もし最後の（他人のoutboxからGETするだけ）が唯一のメッセージ閲覧手段だったら、これは効率のよい連合プロトコルになりません。
            実際には、連合は通常サーバがアクターのメッセージを他サーバ上のアクターのinboxにPOSTすることで成立します。
        </p>

        <p>
            例を見てみましょう！
            Alyssaが友人Ben Bitdiddleと連絡を取りたいとします。
            彼女は最近Benに本を貸したので、返してほしいと思っています。
            彼女が作成したActivityStreamsオブジェクトは次のようになります：
        </p>

        <div class="example">
            <div class="example-title marker"><span>Example 2</span></div>
            <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
 <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"content"</span>: <span class="hljs-string">"ねえ、貸した本はもう読み終わった？"</span>}</pre>
        </div>

        <p>
            これはBen宛てのNoteです。
            彼女はこれを自分のoutboxへPOSTします。
        </p>

        <p>
            <img src="https://www.w3.org/TR/activitypub/illustration/tutorial-3.png" alt="アクターがoutboxへメッセージを投稿する">
        </p>

        <p>
            これはアクティビティ系オブジェクトではないので、サーバはこれは新規作成されたオブジェクトだと認識し、Createアクティビティでラップしてくれます。
            （ActivityPubで送受信されるアクティビティはおおむね「誰かアクターが、何かオブジェクトについて、何らかの行為を行う」というパターンをたどります。ここではPersonがNoteオブジェクトをCreateするアクティビティです。）
        </p>


        <div class="example">
            <div class="example-title marker"><span>Example 3</span></div>
            <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Create"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/a29a6843-9feb-4c74-a7f7-081b9c9201d3"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
 <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"object"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/49e2d03d-b53a-4c4c-a95c-94a6abf45a19"</span>,
            <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
            <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
            <span class="hljs-attr">"content"</span>: <span class="hljs-string">"ねえ、貸した本はもう読み終わった？"</span>}}</pre>
        </div>

        <p>
            AlyssaのサーバはBenのActivityStreamsアクターオブジェクトとそのinboxエンドポイントを探し、BenのinboxへこのオブジェクトをPOSTします。
        </p>

        <p>
            <img src="https://www.w3.org/TR/activitypub/illustration/tutorial-4.png" alt="サーバがリモートアクターのinboxへPOSTしている">
        </p>

        <p>
            技術的にはこれは2つの独立したステップです……ひとつはクライアントからサーバへの通信、もうひとつはサーバ間の通信（連合）。
            ですが、この例では両方使っているので、「outboxからinboxへのスムーズな流れ」と抽象化して考えられます：
        </p>

        <p>
            <img src="https://www.w3.org/TR/activitypub/illustration/tutorial-5.png"
                alt="あるアクターのoutboxから他アクターのinboxへのNoteの流れ">
        </p>

        <p>
            やったね！
            しばらくしてAlyssaは新着メッセージを確認します。
            彼女のスマホがinboxをGETしてチェックすると、友人たちの猫動画や妹が投稿した甥っ子の写真と一緒に、こんなレスが届いています：
        </p>

        <div class="example">
            <div class="example-title marker"><span>Example 4</span></div>
            <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{"@context": "https://www.w3.org/ns/activitystreams",
 "type": "Create",
 "id": "https://chatty.example/ben/p/51086",
 "to": ["https://social.example/alyssa/"],
 "actor": "https://chatty.example/ben/",
 "object": {"type": "Note",
            "id": "https://chatty.example/ben/p/51085",
            "attributedTo": "https://chatty.example/ben/",
            "to": ["https://social.example/alyssa/"],
            "inReplyTo": "https://social.example/alyssa/posts/49e2d03d-b53a-4c4c-a95c-94a6abf45a19",
            "content": "&lt;p&gt;あー、ごめん！明日返すよ。&lt;/p&gt;
                        &lt;p&gt;最近レジスタマシンのセクションを見直してたんだ。作ったのは久しぶりだったからさ。&lt;/p&gt;"}}</pre>
        </div>

        <p>Alyssaはホッとして、Benの投稿に「Like」します：</p>

        <div class="example">
            <div class="example-title marker"><span>Example 5</span></div>
            <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/5312e10e-5110-42e5-a09b-934882b3ecec"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
 <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"object"</span>: <span class="hljs-string">"https://chatty.example/ben/p/51086"</span>}</pre>
        </div>

        <p>
            Alyssaはこのメッセージを自分のoutboxへPOSTします。
            （これはアクティビティなので、サーバ側はCreateでラップする必要がないと判断します。）
        </p>

        <p>
            満足したAlyssaは、フォロワー全員に向けて公開メッセージを投稿することにします。
            まもなく彼女のfollowersコレクション全員に加え、特別なPublicグループも宛先に含まれているため、基本的に誰でも読める形で次のメッセージが配信されます。
        </p>

        <div class="example">
            <div class="example-title marker"><span>Example 6</span></div>
            <pre class="highlight json hljs" aria-busy="false"
                aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Create"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/9282e9cc-14d0-42b3-a758-d6aeca6c876b"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://social.example/alyssa/followers/"</span>,
        <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>],
 <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"object"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/d18c55d4-8a63-4181-9745-4e6cf7938fa1"</span>,
            <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
            <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://social.example/alyssa/followers/"</span>,
                   <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>],
            <span class="hljs-attr">"content"</span>: <span class="hljs-string">"友達に本を貸すのは良いこと。返してもらえるともっと良い！ :)"</span>}}</pre>
        </div>

        <section id="social-web-working-group" inlist="" rel="schema:hasPart" resource="#social-web-working-group">
            <h3 property="schema:name" id="x1-1-social-web-working-group"><span class="secno">1.1 </span>Social Web
                Working Group</h3>
            <div datatype="rdf:HTML" property="schema:description">
                <p>
                    <a href="#Overview">ActivityPub</a>は、Social Web Working Groupが策定する複数の関連仕様の1つです。
                    他の手法や補完的プロトコルに関心のある実装者は [<cite><a class="bibref" href="#bib-Micropub">Micropub</a></cite>] や
                    概要ドキュメント
                    [<cite><a class="bibref" href="#bib-Social-Web-Protocols">Social-Web-Protocols</a></cite>]
                    を確認するとよいでしょう。
                </p>
            </div>
        </section>
    </section>

    <section id="conformance"><!--OddPage-->
        <h2 id="x2-conformance"><span class="secno">2. </span>適合性</h2>
        <p>
            非規範的と明記されたセクション以外にも、この仕様のすべての著述ガイドライン、図、例、および注記は非規範的です。それ以外のこの仕様の内容はすべて規範的です。
        </p>
        <p id="respecRFC2119">この仕様内の <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em
                class="rfc2119">MUST NOT</em>, <em class="rfc2119">SHOULD</em>, <em class="rfc2119">SHOULD NOT</em>
            というキーワードは[<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>]で示される意味として解釈されます。
        </p>

        <section id="specification-profiles">
            <h3 id="x2-1-specification-profiles"><span class="secno">2.1 </span>仕様プロファイル</h3>
            <p>
                この仕様は2つの密接に関連し相互に作用するプロトコルを定義します：
            </p>
            <dl>
                <dt>クライアントからサーバへのプロトコル、または"Social API"</dt>
                <dd>
                    このプロトコルにより、クライアントはユーザー<strong>を代表して</strong>動作できます。
                    例えばモバイルアプリがユーザーアクターのソーシャル・ストリームとやりとりするのに使われます。
                </dd>
                <dt>サーバ間プロトコル、または"連合プロトコル"</dt>
                <dd>
                    このプロトコルは、異なるサーバ上のアクター間のアクティビティを分配し、同じソーシャルグラフにつなげます。
                </dd>
            </dl>
            <p>
                ActivityPub仕様は、このいずれか片方を実装した後で、もう一方もほとんど手間なく追加できるよう設計されています。
                ただしサーバは片方だけ実装しても問題ありません。
                このため、以下の3つの適合クラスが定義されます：
            </p>
            <dl>
                <dt>ActivityPubに準拠したクライアント</dt>
                <dd>
                    これはクライアントからサーバプロトコルのクライアント部全体を実装したものに該当します。
                </dd>
                <dt>ActivityPubに準拠したサーバ</dt>
                <dd>
                    これはクライアントからサーバプロトコルのサーバ部全体を実装したものに該当します。
                </dd>
                <dt>ActivityPubに準拠した連合サーバ</dt>
                <dd>
                    これは連合プロトコル全体を実装したものに該当します。
                </dd>
            </dl>
            <p>
                仕様の一部が連合プロトコルの実装時のみに適用される場合、このことが明確に示されます。
                また要件指定時は、それがクライアント／サーバ（クライアントからサーバプロトコル）に該当するのか、
                サーバ間プロトコルの送信サーバ／受信サーバに該当するのか明示されます。
            </p>
        </section>
    </section>

    <section id="obj">
        <!--OddPage-->
        <h2 id="x3-objects"><span class="secno">3. </span>オブジェクト</h2>
        <p>
            オブジェクトは、[<cite><a class="bibref" href="#bib-ActivityStreams">ActivityStreams</a></cite>]および
            ActivityPubが構築される中心概念です。
            オブジェクトは多くの場合アクティビティでラップされ、ストリームとしてコレクションに含まれます。そしてコレクション自体もオブジェクトのサブクラスです。
            詳細は[<cite><a class="bibref" href="#bib-Activity-Vocabulary">Activity-Vocabulary</a></cite>]ドキュメント、特に
            <a href="https://www.w3.org/TR/activitystreams-vocabulary/#types">コアクラス</a>を参照してください。
            ActivityPubはこの語彙の割り当てを忠実に踏襲しています。
        </p>
        <p>
            ActivityPubはActivityStreamsで提供される用語に加えて、いくつかの用語を定義します。
            それらはActivityPub
            <a href="https://www.w3.org/TR/json-ld/#the-context">JSON-LDコンテキスト</a>
            <code>https://www.w3.org/ns/activitystreams</code>
            で提供されます。
            実装者はオブジェクト定義にActivityPubコンテキスト<em class="rfc2119" title="SHOULD">を含めるべきです</em>。
            必要に応じて追加のコンテキスト<em class="rfc2119" title="MAY">を含めても構いません</em>。
        </p>
        <p>
            ActivityPubは
            <a href="https://www.w3.org/TR/activitystreams-core/#urls">
                ActivityStreamsと同じURI／IRI慣例</a>
            を共有します。
        </p>
        <p>
            サーバは受信したコンテンツの検証<em class="rfc2119" title="SHOULD">を行うべき</em>です。これはコンテンツのなりすまし攻撃を避けるためです。
            （サーバは少なくとも、オブジェクトが送信元で受信時と同じものであるかチェックすべきですが、署名検証などが利用できるなら、そちらの方がより堅牢です。）
            この文書では検証メカニズムは明示的に定めませんが、<a href="#security-considerations">セキュリティの考慮事項</a>に良い手法例がありますので参照ください。
        </p>
        <div class="informative">
            例として、example.comが以下のアクティビティを受信した場合
            <div class="example">
                <div class="example-title marker"><span>Example 7</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://example.net/~mallory"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://hatchat.example/sarah/"</span>,
         <span class="hljs-string">"https://example.com/peeps/john/"</span>],
  <span class="hljs-attr">"object"</span>: {
    <span class="hljs-attr">"@context"</span>: {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>},
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.org/~alice/note/23"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
    <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://example.org/~alice"</span>,
    <span class="hljs-attr">"content"</span>: <span class="hljs-string">"I'm a goat"</span>
  }
}</pre>
            </div>
            受信側は<code>id</code>の参照先にアクセスし、それが存在し有効なオブジェクトか、また内容が偽装されていないかも確認すべきです。
            （この例ではMalloryがAliceの名前でオブジェクトを偽装しようとしている可能性があります。）
        </div>
        <section id="obj-id">
            <h3 id="x3-1-object-identifiers"><span class="secno">3.1 </span>オブジェクト識別子</h3>
            <p>
                [<cite><a class="bibref"
                        href="#bib-ActivityStreams">ActivityStreams</a></cite>]の全オブジェクトはグローバルに一意な識別子を持つべきです。
                ActivityPubはこの要件を拡張し、ActivityPubプロトコルで配信される全オブジェクトは、意図的に一時的なもの（チャットやゲーム通知のように参照を意図しない短命アクティビティ）を除き、<em
                    class="rfc2119" title="MUST">グローバルに一意な識別子が必須</em>となります。
                識別子は以下のいずれかに該当する必要があります：
            </p>
            <ol>
                <li>
                    公開参照可能なURI、たとえばHTTPS URIで、その所有権が元サーバに属していること。
                    （公開向けコンテンツは<em class="rfc2119" title="SHOULD">HTTPS URIを使うべき</em>です。）
                </li>
                <li>
                    JSONの<code>null</code>として明示的に指定されたID、つまり匿名オブジェクト（親コンテキストの一部）
                </li>
            </ol>
            <p>
                サーバ間連携で配信されるアクティビティには、意図的に一時的でない限り<em class="rfc2119" title="MUST">識別子が必須</em>です。
                ただしクライアントからサーバへの通信では、outboxにID指定無しで投稿されたオブジェクトを受信するサーバは、アクターの名前空間内でIDを割り当ててオブジェクトに付与<em class="rfc2119"
                    title="SHOULD">すべきです</em>。
            </p>
            <p>全オブジェクトは次のプロパティを持ちます：</p>
            <dl>
                <dt>id</dt>
                <dd>
                    （一時的オブジェクトでなければ）オブジェクトのグローバル一意識別子
                </dd>
                <dt>type</dt>
                <dd>
                    オブジェクトの種別
                </dd>
            </dl>
        </section>

        <section id="retrieving-objects">
            <h3 id="x3-2-retrieving-objects"><span class="secno">3.2 </span>オブジェクトの取得</h3>
            <p>
                HTTP GETメソッドは、オブジェクトの<code>id</code>プロパティに対して発行することで、そのアクティビティを取得できます。
                サーバは、[<cite><a class="bibref" href="#bib-RFC7231">RFC7231</a></cite>]で定義されるHTTPコンテンツネゴシエーションを<em
                    class="rfc2119" title="MAY">利用してもよい</em>ですが、
                <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
                でリクエストされた場合は<em class="rfc2119" title="MUST">必ず</em>
                ActivityStreamsオブジェクト表現を返す必要があります。
                また<code>application/activity+json</code>でもActivityStreams表現を<em class="rfc2119"
                    title="SHOULD">返すべき</em>です。
                クライアントはアクティビティを取得するため、<code>Accept</code>ヘッダーで
                <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
                メディアタイプを<em class="rfc2119" title="MUST">必ず</em>指定しなければなりません。
            </p>
            <p>
                上記要件に従わないリクエストへの対処として、サーバはその他動作<em class="rfc2119" title="MAY">も実装できます</em>。
                （例：追加のレガシープロトコルの実装や、同一URIでHTMLとActivityStreamsの両方の表現を使い分ける場合など）
            </p>
            <p>
                サーバは認可を<a href="#authorization" class="sec-ref"><span class="secno">B.1</span> <span
                        class="sec-title">認証と認可</span></a>に従って<em class="rfc2119"
                    title="MAY">要求することもできます</em>し、独自の認可ルールも<em class="rfc2119" title="MAY">実装可能</em>です。
                認可チェック不合格のリクエストは適切なHTTPエラーコード、または存在自体を秘匿したい場合は403 Forbiddenエラーで<em class="rfc2119"
                    title="SHOULD">拒否すべき</em>です。
                存在自体が秘匿されるべきとサーバが判断した場合は、404 Not Foundで<em class="rfc2119" title="MAY">レスポンスしてもよい</em>です。
            </p>
        </section>

        <section id="source-property">
            <h3 id="x3-3-the-source-property"><span class="secno">3.3 </span>sourceプロパティ</h3>
            <p>
                [<cite><a class="bibref"
                        href="#bib-Activity-Vocabulary">Activity-Vocabulary</a></cite>]で定義されたすべてのプロパティに加えて、ActivityPubは<code>Object</code>に<code>source</code>プロパティを拡張します。
                <code>source</code>は、<code>content</code>マークアップの由来を示す情報や証跡、将来の編集機能サポートなどを伝える用途のためのものです。
                一般に、<code>source</code>→<code>content</code>への変換はクライアントが担い、逆は行いません。
            </p>
            <p>
                <code>source</code>の値はオブジェクトで、<code>content</code> および <code>mediaType</code> フィールドを使い元情報を与えます。
            </p>
            <div class="example">
                <div class="example-title marker"><span>Example 8</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"http://postparty.example/p/2415"</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"&lt;p&gt;I &lt;em&gt;really&lt;/em&gt; like strawberries!&lt;/p&gt;"</span>,
  <span class="hljs-attr">"source"</span>: {
    <span class="hljs-attr">"content"</span>: <span class="hljs-string">"I *really* like strawberries!"</span>,
    <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"text/markdown"</span>}
}</pre>
            </div>
            <div class="note">
                <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注</span><span
                        style="text-transform: none">: クライアントがmediaTypeを扱えない場合どうする？</span></div>
                <div class="">
                    <p>
                        一般的には、ユーザーが最初に作成した元の投稿を、それと同じソース形式で編集できるのが最適です。
                        ただし全てのクライアントがあらゆるソースタイプに対して良いUIを提供できるわけではありません。
                        クライアントは<code>source</code>→<code>content</code>の変換を担う前提なので、あるクライアントが対応しているmediaTypeでも他のクライアントが扱えない場合があります。
                        クライアントが<code>content</code>マークアップのみ編集用に提供しsourceを無視することも可能ですが、その場合、将来の修正時に元の<code>source</code>形式が失われてしまうことになります。
                        こうした場合、クライアントは元のソース形式を認識できず無視する旨、できるだけ控えめな警告を表示するのが望ましいです。
                    </p>
                    <p>
                        例として、Alyssa P. Hackerは自作のEmacsクライアントと
                        <a href="http://orgmode.org/">Org mode</a>を使い、ActivityPub対応ブログへ投稿しています。
                        後日、スマホクライアントから編集しようとしますが、そのクライアントは<code>text/x-org</code>を知らずHTMLへの変換にも対応していないので、元の<code>content</code>編集用テキストボックスのみ表示されます。
                        編集画面の上部には「この投稿は元々対応していないマークアップ形式で書かれています。編集すると元のソースが失われます」といった警告が表示されます。
                        Alyssaは小さなタイプミスを直すためだけにorg-modeマークアップを失うのは惜しいと考え、自宅で修正することにしました。
                    </p>
                </div>
            </div>
        </section>
    </section>

    <section id="actors">
        <!--OddPage-->
        <h2 id="x4-actors"><span class="secno">4. </span>アクター</h2>
        <p>
            ActivityPubのアクターは一般的には
            <a href="https://www.w3.org/TR/activitystreams-vocabulary/#actor-types">
                ActivityStreams アクター型</a>
            のいずれかですが、必ずしもそうである必要はありません。例えば
            <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-profile">
                Profile</a>オブジェクト
            をアクターとして使ってもいいですし、ActivityStreamsの拡張タイプを使っても構いません。
            アクターは、ActivityPub内の他のオブジェクト同様に<a href="#retrieving-objects">取得</a>されます。
            他のActivityStreamsオブジェクトと同じように、アクターも<code>id</code>（URI）を持ちます。
            このidを（例えばログインフォームのようなUIで）直接入力する場合、より簡易な名前表記のサポートが望ましいです。
            このため、IDの正規化を以下のように<em class="rfc2119" title="SHOULD">推奨します</em>:
        </p>
        <ol>
            <li>
                入力されたIDが有効なURIなら、そのまま使用します。
            </li>
            <li>
                ユーザーがURIスキームを付け忘れた場合（例: <code>example.org/alice/</code> など）で、
                通常であれば有効URIとなりうる場合、クライアントは<em class="rfc2119"
                    title="MAY">デフォルトスキーム（できれば<code>https</code>）の自動補完を試みてもよい</em>。
            </li>
            <li>
                上記いずれにも当てはまらない場合、入力値は無効と見なします。
            </li>
        </ol>

        <p>
            アクターのURIが特定できたら、それをデリファレンス（参照）すべきです。
        </p>

        <div class="note">
            <div role="heading" class="note-title marker" id="h-note-0" aria-level="3"><span>注</span></div>
            <div class="">
                ActivityPubは「ユーザー」とアクター間の関係性を固定していません。さまざまな構成が可能です。
                1人または複数の人間ユーザーや組織が1つのアクターを管理することも、逆に1人の人間や1つの組織が複数のアクターを管理する場合もあります。また、アクターがボットや自動プロセスのようなソフトウェアを表すこともあります。
                さらに詳細な「ユーザー」モデル化（たとえば、同じ主体が制御するアクター同士を紐付ける、1つのアクターを複数のプロファイルや側面で提示可能にするなど）は実装の裁量に委ねられます。
            </div>
        </div>

        <section id="actor-objects">
            <h3 id="x4-1-actor-objects"><span class="secno">4.1 </span><i>アクター</i>オブジェクト</h3>
            <p>
                アクターオブジェクトは<a href="#obj-id" class="sec-ref"><span class="secno">3.1</span> <span
                        class="sec-title">オブジェクト識別子</span></a>の必須プロパティに加えて、以下のプロパティを<em class="rfc2119"
                    title="MUST">必ず</em>持たなければなりません:
            </p>
            <dl>
                <dt id="inbox-property">inbox</dt>
                <dd>
                    アクターが受信したすべてのメッセージを含む [<cite><a class="bibref"
                            href="#bib-ActivityStreams">ActivityStreams</a></cite>]
                    <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                        <code>OrderedCollection</code></a>
                    への参照。詳しくは
                    <a href="#inbox" class="sec-ref"><span class="secno">5.2</span> <span
                            class="sec-title">Inbox</span></a>
                    を参照。
                </dd>
                <dt id="outbox-property">outbox</dt>
                <dd>
                    アクターが生成したすべてのメッセージを含む [<cite><a class="bibref"
                            href="#bib-ActivityStreams">ActivityStreams</a></cite>]
                    <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                        <code>OrderedCollection</code></a>
                    への参照。詳しくは
                    <a href="#outbox" class="sec-ref"><span class="secno">5.1</span> <span
                            class="sec-title">Outbox</span></a>
                    を参照。
                </dd>
            </dl>
            <p>
                実装は、さらに次のプロパティも<em class="rfc2119" title="SHOULD">提供することが望ましい</em>です:
            </p>
            <dl>
                <dt id="following-property">following</dt>
                <dd>
                    このアクターがフォローしているアクターの [<cite><a class="bibref"
                            href="#bib-ActivityStreams">ActivityStreams</a></cite>] コレクションへのリンク。<a href="#following"
                        class="sec-ref"><span class="secno">5.4</span> <span
                            class="sec-title">フォロー中コレクション</span></a>を参照。
                </dd>
                <dt id="followers-property">followers</dt>
                <dd>
                    このアクターをフォローしているアクターの [<cite><a class="bibref"
                            href="#bib-ActivityStreams">ActivityStreams</a></cite>] コレクションへのリンク。<a href="#followers"
                        class="sec-ref"><span class="secno">5.3</span> <span
                            class="sec-title">フォロワーコレクション</span></a>を参照。
                </dd>
            </dl>
            <p>
                実装は、さらに次のプロパティも<em class="rfc2119" title="MAY">任意で提供できます</em>:
            </p>
            <dl>
                <dt id="liked-property">liked</dt>
                <dd>
                    このアクターが「いいね」したオブジェクトの [<cite><a class="bibref"
                            href="#bib-ActivityStreams">ActivityStreams</a></cite>] コレクションへのリンク。<a href="#liked"
                        class="sec-ref"><span class="secno">5.5</span> <span
                            class="sec-title">Likedコレクション</span></a>を参照。
                </dd>
            </dl>
            <div class="example">
                <div class="example-title marker"><span>Example 9</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"ja"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Person"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://kenzoishii.example.com/"</span>,
  <span class="hljs-attr">"following"</span>: <span class="hljs-string">"https://kenzoishii.example.com/following.json"</span>,
  <span class="hljs-attr">"followers"</span>: <span class="hljs-string">"https://kenzoishii.example.com/followers.json"</span>,
  <span class="hljs-attr">"liked"</span>: <span class="hljs-string">"https://kenzoishii.example.com/liked.json"</span>,
  <span class="hljs-attr">"inbox"</span>: <span class="hljs-string">"https://kenzoishii.example.com/inbox.json"</span>,
  <span class="hljs-attr">"outbox"</span>: <span class="hljs-string">"https://kenzoishii.example.com/feed.json"</span>,
  <span class="hljs-attr">"preferredUsername"</span>: <span class="hljs-string">"kenzoishii"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"石井健蔵"</span>,
  <span class="hljs-attr">"summary"</span>: <span class="hljs-string">"この方はただの例です"</span>,
  <span class="hljs-attr">"icon"</span>: [
    <span class="hljs-string">"https://kenzoishii.example.com/image/165987aklre4"</span>
  ]
}</pre>
            </div>
            <p>実装は、さらに次のプロパティも<em class="rfc2119" title="MAY">任意で提供できます</em>:</p>
            <dl>
                <dt id="streams-property">streams</dt>
                <dd>
                    補足的なコレクションの一覧（興味深いリソースかもしれません）。
                </dd>
                <dt id="preferredUsername">preferredUsername</dt>
                <dd>
                    このアクターを参照するための短いユーザー名。一意とは限りません。
                </dd>
                <dt id="endpoints">endpoints</dt>
                <dd>
                    追加の（一般的にサーバ/ドメイン単位の）エンドポイントをマッピングするJSONオブジェクト。
                    これらはこのアクター用、あるいはこのアクターを参照する他者用に有用です。
                    このマッピングはアクタードキュメントの中に値としてネストされるか、または別のJSON-LDドキュメントへのリンクでもかまいません。
                </dd>
            </dl>
            <p>
                <code>endpoints</code>マッピングには、以下のプロパティを<em class="rfc2119" title="MAY">含めてもよい</em>です:
            </p>
            <dl>
                <dt id="proxyUrl">proxyUrl</dt>
                <dd>
                    このアクターのクライアントが認証を必要とするリモートActivityStreamsオブジェクトへアクセスできるようにするエンドポイントURI。
                    このエンドポイント利用時は、クライアントは<code>x-www-form-urlencoded</code>の<code>id</code>パラメータに、取得したいActivityStreamsオブジェクトの<code>id</code>を指定してPOSTします。
                </dd>
                <dt id="oauthAuthorizationEndpoint">oauthAuthorizationEndpoint</dt>
                <dd>
                    クライアントからサーバ連携で OAuth 2.0ベアラートークン [<cite><a class="bibref"
                            href="#bib-RFC6749">RFC6749</a></cite>][<cite><a class="bibref"
                            href="#bib-RFC6750">RFC6750</a></cite>] を認証用途で使う場合、
                    ブラウザ認証済みユーザーが新しい認可を取得できるURIを指定します。
                </dd>
                <dt id="oauthTokenEndpoint">oauthTokenEndpoint</dt>
                <dd>
                    クライアントからサーバ連携で OAuth 2.0ベアラートークン [<cite><a class="bibref"
                            href="#bib-RFC6749">RFC6749</a></cite>][<cite><a class="bibref"
                            href="#bib-RFC6750">RFC6750</a></cite>] を認証用途で使う場合、
                    クライアントがアクセストークンを取得できるURIを指定します。
                </dd>
                <dt id="provideClientKey">provideClientKey</dt>
                <dd>
                    Linked Data SignatureやHTTP
                    Signatureで認証・認可を行う場合、クライアントの公開鍵認可のためのURI（クライアントからサーバー連携用、ブラウザ認証ユーザー向け）を指定します。
                </dd>
                <dt id="signClientKey">signClientKey</dt>
                <dd>
                    Linked Data SignatureやHTTP Signatureで認証・認可を行う場合、他サーバとのやり取りでクライアントキーが一時的にアクター代理として署名されるためのURIを指定します。
                </dd>
                <dt id="sharedInbox">sharedInbox</dt>
                <dd>
                    <a href="#shared-inbox-delivery">
                        公開宛やフォロワー宛アクティビティの広域配信用
                    </a>
                    のオプションエンドポイントです。
                    <code>sharedInbox</code>エンドポイントは、<a href="#public-addressing">Public</a>特別コレクション宛のオブジェクトを収めた
                    公開読み取り可能な<code>OrderedCollection</code>オブジェクトとしても<em class="rfc2119" title="SHOULD">あるべきです</em>。
                    <code>sharedInbox</code>へのGETでは、<code>Public</code>宛でないオブジェクトは<em class="rfc2119"
                        title="MUST NOT">絶対に表示してはいけません</em>。
                </dd>
            </dl>

            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>注</span></div>
                <div class="" id="as2-actor-properties">
                    <p>
                        ActivityPubの上流語彙である [<cite><a class="bibref"
                                href="#bib-ActivityStreams">ActivityStreams</a></cite>] の
                        あらゆるプロパティはActivityPubアクターにも利用可能です。
                        とくにActivityPub実装でどのように使われるか示す目的で、いくつかのActivityStreamsプロパティは強調して紹介されます。
                    </p>
                    <dl>
                        <dt id="url-property">url</dt>
                        <dd>
                            アクターの「プロフィールWebページ」へのリンク（<code>id</code>と異なる場合）。
                        </dd>
                        <dt id="name-property">name</dt>
                        <dd>
                            アクターの好ましい「ニックネーム」や「表示名」。
                        </dd>
                        <dt id="summary-property">summary</dt>
                        <dd>ユーザーによる自己紹介や要約。</dd>
                        <dt id="icon-property">icon</dt>
                        <dd>
                            プロフィール画像（またはImageオブジェクト）へのリンク（サムネイルの場合もある）。
                        </dd>
                    </dl>
                </div>
            </div>
            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>注</span></div>
                <p class="" id="actor-text-direction">
                    <code>name</code>、<code>preferredUsername</code>、<code>summary</code> など
                    自然言語値を含むプロパティは
                    <a href="https://www.w3.org/TR/activitystreams-core/#naturalLanguageValues">
                        ActivityStreamsで定義された自然言語サポート</a>を利用します。
                </p>
            </div>
        </section>
    </section>

    <section id="collections">
        <!--OddPage-->
        <h2 id="x5-collections"><span class="secno">5. </span>コレクション</h2>
        <p>
            [<cite><a class="bibref" href="#bib-ActivityStreams">ActivityStreams</a></cite>]
            はコレクションという概念を定義していますが、ActivityPubは特別な振る舞いを持ついくつかのコレクションも定義します。
            ActivityPubは
            <a href="https://www.w3.org/TR/activitystreams-core/#paging">
                ActivityStreamsのページング</a>
            を利用して大量のオブジェクトを巡回することができます。
        </p>

        <p>
            これらコレクションの一部は
            <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                <code>OrderedCollection</code></a>
            型である必要が明記されていますが、他は
            <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
                <code>Collection</code></a>
            または
            <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                <code>OrderedCollection</code></a>
            のいずれかでも構いません。
            <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                <code>OrderedCollection</code></a>
            は常に逆時系列（新しいものが先）で<em class="rfc2119" title="MUST">一貫して</em>提示されなければなりません。
        </p>

        <div class="note">
            <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>注</span></div>
            <p class="">
                どのプロパティで逆時系列順を判定するかは実装詳細として意図的に規定しません。
                多くのSQL型データベースではインクリメントする整数IDを利用し、たいていの場面で挿入順の管理に用いられます。
                他のデータベースでは挿入時タイムスタンプの方が好まれるかもしれません。
                何を使うかは重要ではありませんが、要素の順序は必ず新しいものが先に来るよう維持しなければなりません。
                「最終更新時刻」など頻繁に変化するプロパティは使用しないで下さい。
            </p>
        </div>

        <section id="outbox">
            <h3 id="x5-1-outbox"><span class="secno">5.1 </span>Outbox</h3>
            <p>
                Outboxは<a href="#actors">アクター</a>のプロフィールの<code>outbox</code>プロパティによって発見されます。
                <code>outbox</code>は<em class="rfc2119" title="MUST">必ず</em>
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                    <code>OrderedCollection</code></a>でなければなりません。
            </p>
            <p>
                Outboxストリームはユーザーが公開したアクティビティを含みますが、これはリクエスタがそのアクティビティを取得できる権限を持っている場合に限ります（つまり、Outboxの内容は閲覧者の権限によってフィルタされます）。
                ユーザーが<a href="#authorization">認可</a>無しでリクエストした場合、サーバはすべての<a href="#public-addressing">公開宛</a>の投稿を返すべきです。
                これは当該ユーザーによる公開済みオブジェクトの全てとなる可能性もありますが、何件返すかはサーバ実装者の裁量に委ねられます。
            </p>
            <p>
                OutboxはHTTP POSTリクエストも受け付け、その挙動は<a
                    href="#client-to-server-interactions">クライアントとサーバーのやりとり</a>セクションで説明されています。
            </p>
        </section>

        <section id="inbox">
            <h3 id="x5-2-inbox"><span class="secno">5.2 </span>Inbox</h3>

            <p>
                Inboxは<a href="#actors">アクター</a>のプロフィールの<code>inbox</code>プロパティによって発見されます。
                <code>inbox</code>は<em class="rfc2119" title="MUST">必ず</em>
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                    <code>OrderedCollection</code></a>でなければなりません。
            </p>

            <p>
                Inboxストリームはアクターが受信したすべてのアクティビティを含みます。
                サーバはリクエスタの権限に応じて内容を<em class="rfc2119" title="SHOULD">フィルタするべき</em>です。
                一般的にInbox所有者はInboxの内容全てにアクセス可能ですが、アクセス制御によって他者には公開/非公開が分かれ、認証無しの利用者にはアクセスできない場合もあります。
            </p>

            <p>
                サーバはInbox内で返すアクティビティの重複排除を<em class="rfc2119"
                    title="MUST">必ず</em>行う必要があります。たとえば1つのアクティビティがアクターのフォロワー全員ならびに特定のアクター（そのアクターもフォロワーである）の両方に宛てられた場合で、サーバが受取人リストの重複排除に失敗した場合などです。
                この重複排除は、アクティビティの<code>id</code>を比較し、すでに見たものは除外することで<em class="rfc2119" title="MUST">必ず</em> 行います。
            </p>

            <p>
                連合サーバ上のアクターのInboxはHTTP POSTリクエストも受け付け、その挙動は<a href="#delivery">配信</a>セクションで説明されています。
                非連合サーバはPOSTリクエストを受け取った場合<em class="rfc2119" title="SHOULD">405 Method Not Allowed</em>を返すべきです。
            </p>
        </section>

        <section id="followers">
            <h3 id="x5-3-followers-collection"><span class="secno">5.3 </span>フォロワーコレクション</h3>
            <p>
                すべての<a href="#actors">アクター</a>は<em class="rfc2119"
                    title="SHOULD">フォロワーコレクション<code>followers</code>を持つべき</em>です。
                これは、そのアクターに<a
                    href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-follow">Follow</a>アクティビティを送信した全ての人の一覧であり、
                <a href="#follow-activity-outbox">副作用として</a>追加されます。
                ここでアクターをフォローしている全アクターのリストが取得できます。
                <code>followers</code>コレクションは<em class="rfc2119" title="MUST">必ず</em>
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                    <code>OrderedCollection</code></a>
                または
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
                    <code>Collection</code></a>
                でなければならず、さらに認証ユーザの特権や認証なしの場合の適宜な条件で<em class="rfc2119" title="MAY">フィルタ可能</em>です。
            </p>

            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>注</span><span
                        style="text-transform: none">: 通知配信のデフォルトターゲット</span></div>
                <p class="">
                    Followアクティビティは一般的にアクターの作成したオブジェクトを見るリクエストとして扱われます。したがって、Followersコレクションは通知<a
                        href="#delivery">配信</a>時のデフォルトターゲットとして適切です。
                </p>
            </div>
        </section>

        <section id="following">
            <h3 id="x5-4-following-collection"><span class="secno">5.4 </span>フォロー中コレクション</h3>
            <p>
                各アクターは<code>following</code>コレクション<em class="rfc2119" title="SHOULD">を持つべき</em>です。
                これはアクターがフォローした全員のリストであり、<a href="#follow-activity-outbox">副作用として</a>追加されます。
                <code>following</code>コレクションは<em class="rfc2119" title="MUST">必ず</em>
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                    <code>OrderedCollection</code></a>
                または
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
                    <code>Collection</code></a>
                でなければならず、必要に応じて認証ユーザの特権によるフィルタや認証無し時の適切な制限が<em class="rfc2119" title="MAY">施されてもよい</em>です。
            </p>
        </section>

        <section id="liked">
            <h3 id="x5-5-liked-collection"><span class="secno">5.5 </span>Likedコレクション</h3>
            <p>
                各アクターは<code>liked</code>コレクション<em class="rfc2119" title="MAY">を持ってもよい</em>です。
                これは、アクターが行った全ての<code>Like</code>アクティビティの対象オブジェクトのリストであり、
                <a href="#like-activity-outbox">副作用として</a>追加されます。
                <code>liked</code>コレクションは<em class="rfc2119" title="MUST">必ず</em>
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                    <code>OrderedCollection</code></a>
                または
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
                    <code>Collection</code></a>
                でなければならず、必要に応じて認証ユーザの特権によるフィルタや認証無し時の制限が<em class="rfc2119" title="MAY">加わってもよい</em>です。
            </p>
        </section>

        <section id="public-addressing">
            <h3 id="x5-6-public-addressing"><span class="secno">5.6 </span>公開宛先</h3>
            <p>
                [<cite><a class="bibref" href="#bib-ActivityStreams">ActivityStreams</a></cite>]コレクションやオブジェクトに加え、
                アクティビティは特別な「公開（public）」コレクション<code>https://www.w3.org/ns/activitystreams#Public</code>宛てにも送ることができます。
                例：
            </p>
            <div class="example">
                <div class="example-title marker"><span>Example 10</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Collection"</span>
}</pre>
            </div>
            <p>
                この特別なURI宛てのアクティビティは、すべてのユーザーが認証無しでアクセス可能でなければなりません。
                実装は「public」特別コレクションへの配信を<em class="rfc2119" title="MUST NOT">行ってはいけません</em>；
                ここは実際のアクティビティを受理できません。
                ただし、アクターは
                <a href="#sharedInbox"><code>sharedInbox</code></a>エンドポイントを持てます。
                これは公開投稿やフォロワー宛投稿の効率的な共有配信用であり、詳しくは
                <a href="#shared-inbox-delivery" class="sec-ref"><span class="secno">7.1.3</span> <span
                        class="sec-title">共有Inbox配信</span></a> を参照してください。
            </p>
            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>注</span></div>
                <div class="">
                    <p>
                        ActivityStreamsオブジェクトをActivityStreamsのJSON-LDコンテキストでコンパクト化すると、
                        <code>https://www.w3.org/ns/activitystreams#Public</code>
                        が単に<code>Public</code>または<code>as:Public</code>と表現される場合もあります。これらも公開コレクションの有効な表現です。
                        ActivityStreamsオブジェクトをJSONとして直接扱う実装は、これら3表現すべてに対応できるようにしておくべきです。
                    </p>
                </div>
            </div>
        </section>

        <section id="likes">
            <h3 id="x5-7-likes-collection"><span class="secno">5.7 </span>Likesコレクション</h3>
            <p>
                すべてのオブジェクトは<code>likes</code>コレクション<em class="rfc2119" title="MAY">を持ってもよい</em>です。
                これは、本オブジェクトを<code>object</code>とする全ての<code>Like</code>アクティビティのリストであり、
                <a href="#like-activity-inbox">副作用として</a> 追加されます。
                <code>likes</code>コレクションは<em class="rfc2119" title="MUST">必ず</em>
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                    <code>OrderedCollection</code></a>
                または
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
                    <code>Collection</code></a>
                でなければならず、必要に応じて認証ユーザの特権や認証無し時の制限などのフィルタ<em class="rfc2119" title="MAY">がかかる可能性</em>もあります。
            </p>

            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>注</span></div>
                <div class="">
                    <p>
                        <a href="#likes"><code>likes</code></a>コレクションと
                        よく似ているが異なる<a href="#liked"><code>liked</code></a>コレクションを混同しないようご注意ください。
                        要点をまとめると:
                    </p>

                    <ul>
                        <li>
                            <b>liked:</b>
                            アクターのプロパティ限定。
                            <i>そのアクターが</i>Likeしたアクティビティのコレクション。
                            <a href="#like-activity-outbox">
                                outboxへの配信時の副作用として
                            </a>追加。
                        </li>

                        <li>
                            <b>likes:</b>
                            任意のオブジェクトのプロパティ。
                            本オブジェクトを対象にしたLikeアクティビティのコレクション。
                            <a href="#like-activity-inbox">
                                inboxへの配信時の副作用として
                            </a>追加。
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="shares">
            <h3 id="x5-8-shares-collection"><span class="secno">5.8 </span>Sharesコレクション</h3>
            <p>
                すべてのオブジェクトは<code>shares</code>コレクション<em class="rfc2119" title="MAY">を持ってもよい</em>です。
                これは本オブジェクトを<code>object</code>プロパティとする全<code>Announce</code>アクティビティのリストであり、
                <a href="#announce-activity-inbox">副作用として</a> 追加されます。
                <code>shares</code>コレクションは<em class="rfc2119" title="MUST">必ず</em>
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
                    <code>OrderedCollection</code></a>
                または
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
                    <code>Collection</code></a>
                でなければならず、必要に応じて認証ユーザの特権や認証無し時のフィルタ<em class="rfc2119" title="MAY">がかかる場合もあります</em>。
            </p>
        </section>
    </section>

    <section id="client-to-server-interactions">
        <!--OddPage-->
        <h2 id="x6-client-to-server-interactions"><span class="secno">6. </span>クライアントからサーバーへのやりとり</h2>
        <p>
            [<cite><a class="bibref"
                    href="#bib-ActivityStreams">ActivityStreams</a></cite>]で定義されたアクティビティは、ソーシャルグラフ内でコンテンツを作成・変更・共有するための中核的な仕組みです。
        </p>

        <p>
            クライアントからサーバへのやりとりは、クライアントがアクターの<a href="#outbox">outbox</a>にアクティビティを投稿することで行われます。
            これを行うため、クライアントはアクターの<a href="#actor-objects">プロフィール</a>からoutboxのURLを<em class="rfc2119"
                title="MUST">必ず</em>発見し、そのURLに対して
            <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
            のContent-TypeでHTTP<code>POST</code>リクエストを投げる必要があります。
            サーバーは<em class="rfc2119" title="MAY">任意で</em>
            <code>application/activity+json</code>というContent-TypeまたはAcceptヘッダーも
            <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>と同等として扱っても構いません。
            このリクエストは、outboxの所有ユーザーの認証情報を用いた認証を<em class="rfc2119" title="MUST">必ず</em>通す必要があります。
            <code>POST</code>リクエストのボディは1つのアクティビティ（<em class="rfc2119" title="MAY">埋め込みオブジェクトを含んでいてもよい</em>）または、
            <a href="#object-without-create">サーバーによってCreate activityでラップされる単一の非アクティビティオブジェクト</a>でなければなりません。
        </p>
        <div class="example">
            <div class="example-title marker"><span>Example 11</span><span style="text-transform: none">:
                    Outboxへのアクティビティ送信</span></div>
            <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/outbox/</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: dustycloud.org
<span class="hljs-attribute">Authorization</span>: Bearer XXXXXXXXXXX
<span class="hljs-attribute">Content-Type</span>: application/ld+json; profile="https://www.w3.org/ns/activitystreams"

<span class="json">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://dustycloud.org/chris/"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Chris liked 'Minimal ActivityPub update client'"</span>,
  <span class="hljs-attr">"object"</span>: <span class="hljs-string">"https://rhiaro.co.uk/2016/05/minimal-activitypub"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://rhiaro.co.uk/#amy"</span>,
         <span class="hljs-string">"https://dustycloud.org/followers"</span>,
         <span class="hljs-string">"https://rhiaro.co.uk/followers/"</span>],
  <span class="hljs-attr">"cc"</span>: <span class="hljs-string">"https://e14n.com/evan"</span>
}</span></pre>
        </div>

        <p>
            アクティビティが<code>id</code>プロパティ付きで投稿された場合、サーバーはこれを無視し、新たな<code>id</code>を<em class="rfc2119"
                title="MUST">必ず</em>生成しなければなりません。
            サーバーは<em class="rfc2119"
                title="MUST">必ず</em><code>201 Created</code>のHTTPコードを返し、アクティビティが一時的なものでない限り、新しい<code>id</code>を<code>Location</code>ヘッダーに含める<em
                class="rfc2119" title="MUST">必要があります</em>。
        </p>
        <div class="example">
            <div class="example-title marker"><span>Example 12</span><span style="text-transform: none">:
                    Outboxへのアクティビティ送信後の応答</span></div>
            <pre class="hljs http" aria-busy="false" aria-live="polite">HTTP/1.1 <span class="hljs-number">201</span> Created
<span class="hljs-attribute">Location</span>: https://dustycloud.org/likes/345</pre>
        </div>

        <p id="remove-bto-bcc-before-delivery">
            サーバーは配信前に、ActivityStreamsオブジェクトに<b>存在すれば</b><code>bto</code>および<code>bcc</code>プロパティを<em class="rfc2119"
                title="MUST">削除しなければなりません</em>。ただし配信先判定には元々<code>bto</code>/<code>bcc</code>プロパティに保存されていた宛先指定を<em
                class="rfc2119" title="MUST">必ず</em>用います（<a href="#delivery">配信</a>参照）。
        </p>

        <p>
            サーバーはその新たなアクティビティを<a href="#outbox">outbox</a>コレクションへ追加<em class="rfc2119" title="MUST">しなければなりません</em>。
            アクティビティの種別次第で、さらに副作用的な処理をサーバーが実施する場合があります。
            （ただし、アクティビティがoutboxに出現するタイミングは保証されません。遅延後に現れる場合や、逆に消える場合もあります。）
            こうした副作用は、各アクティビティごとに下記で説明します。
        </p>

        <p>
            クライアントからサーバ連携未対応サーバーにオブジェクト送信を試みた場合、<code>405 Method Not Allowed</code>応答を<em class="rfc2119"
                title="SHOULD">返すべき</em>です。
        </p>


        <p>
            HTTPキャッシュ機構 [<cite><a class="bibref" href="#bib-RFC7234">RFC7234</a></cite>]
            は、クライアントがサーバからの応答を受け取る場合もサーバがクライアントへ応答を返す場合も、適切なら<em class="rfc2119" title="SHOULD">尊重すべき</em>です。
        </p>

        <section id="client-addressing">
            <h3 id="x6-1-client-addressing"><span class="secno">6.1 </span>クライアントによる宛先指定</h3>
            <p>
                <strong>クライアント</strong>は新しいアクティビティの宛先指定を適切に行う責任が有ります。
                どのように宛て先を決定するかはクライアントの実装によりますが、サーバーが新しいアクティビティを転送するのは<code>to</code>、<code>bto</code>、<code>cc</code>、<code>bcc</code>、<code>audience</code>フィールド内の宛先だけである、ということをクライアントは理解しておかなければなりません。
            </p>
            <p>
                <a href="#followers">フォロワーコレクション</a>や<a
                    href="#public-addressing">公開コレクション</a>は、新規アクティビティのデフォルトの宛先として適切な選択肢です。
            </p>
            <p>
                クライアントは新しいアクティビティの<code>object</code>、<code>target</code>、<code>inReplyTo</code>、<code>tag</code>フィールドに付いているオブジェクトを調べ、それぞれの<code>actor</code>または<code>attributedTo</code>プロパティや、<em
                    class="rfc2119"
                    title="MAY">さらに</em>各オブジェクトの宛先指定プロパティを取得し、新しく作るアクティビティの<code>to</code>や<code>cc</code>フィールドに追加すること<em
                    class="rfc2119" title="SHOULD">が望ましい</em>です。
                クライアントは<em class="rfc2119" title="MAY">再帰的にオブジェクトをたどっても構いません</em>が、その際は<em class="rfc2119"
                    title="SHOULD">再帰の深さ制限を設けるべき</em>です。
                （ただし、「宛先アクターのコレクション」をリスト内で個別に分解して受信者とする必要がある、という意味ではありません。）
            </p>
            <p>
                クライアントは<em class="rfc2119" title="MAY">UIでユーザーが宛名を修正する機会を与えても構いません</em>。
            </p>
            <p>
                例えば、ChrisがAmyの記事に「いいね」した場合は：
            </p>

            <div class="example">
                <div class="example-title marker"><span>Example 13</span><span style="text-transform: none">:
                        記事オブジェクト</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en-GB"</span>}],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://rhiaro.co.uk/2016/05/minimal-activitypub"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Article"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Minimal ActivityPub update client"</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"Today I finished morph, a client for posting ActivityStreams2..."</span>,
  <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://rhiaro.co.uk/#amy"</span>,
  <span class="hljs-attr">"to"</span>: <span class="hljs-string">"https://rhiaro.co.uk/followers/"</span>,
  <span class="hljs-attr">"cc"</span>: <span class="hljs-string">"https://e14n.com/evan"</span>
}</pre>
            </div>

            <p>クライアントが生成するLikeは：</p>

            <div class="example">
                <div class="example-title marker"><span>Example 14</span><span style="text-transform: none">:
                        記事へのLike</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://dustycloud.org/chris/"</span>,
  <span class="hljs-attr">"summary"</span>: <span class="hljs-string">"Chris liked 'Minimal ActivityPub update client'"</span>,
  <span class="hljs-attr">"object"</span>: <span class="hljs-string">"https://rhiaro.co.uk/2016/05/minimal-activitypub"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://rhiaro.co.uk/#amy"</span>,
         <span class="hljs-string">"https://dustycloud.org/followers"</span>,
         <span class="hljs-string">"https://rhiaro.co.uk/followers/"</span>],
  <span class="hljs-attr">"cc"</span>: <span class="hljs-string">"https://e14n.com/evan"</span>
}</pre>
            </div>

            <p>受信したoutboxは配信時に、Chris（Likeした本人）のフォロワーに加え、Amy本人、Amyのフォロワー、また元記事を受信したEvanにもdeliveryできます。</p>

            <p>
                クライアントがoutboxへ以下のアクティビティを投稿する際は<code>object</code>プロパティを<em class="rfc2119"
                    title="MUST">必ず</em>指定しなければなりません：
                <code>Create</code>, <code>Update</code>, <code>Delete</code>,
                <code>Follow</code>, <code>Add</code>, <code>Remove</code>,
                <code>Like</code>, <code>Block</code>, <code>Undo</code>。
                また<code>Add</code>、<code>Remove</code>投稿時は<code>target</code>プロパティの指定も<em class="rfc2119"
                    title="MUST">必須です</em>。
            </p>

        </section>


        <section id="create-activity-outbox">
            <h3 id="x6-2-create-activity"><span class="secno">6.2 </span>Createアクティビティ</h3>
            <p>
                <code>Create</code>アクティビティは新しいオブジェクトを投稿するときに用います。
                これには、そのアクティビティに埋め込まれた（<code>object</code>プロパティ内の）オブジェクトを新規作成する副作用があります。
            </p>
            <p>
                <code>Create</code>アクティビティを投稿した際は、その<code>actor</code>フィールドを
                <code>object</code>の<code>attributedTo</code>フィールドに<em class="rfc2119" title="SHOULD">コピーすべきです</em>。
            </p>
            <p>
                Createアクティビティとその<code>object</code>の宛先指定が一致していないと混乱のもとになります。
                そのため、サーバーは初回配信時にCreateアクティビティの宛先指定を<code>object</code>にコピーしたり、逆に<code>object</code>からラップしているCreateアクティビティへコピー<em
                    class="rfc2119" title="SHOULD">すべき</em>です。
                ただし、<code>object</code>の宛て先が後で変更されてもCreate側の宛て先指定は変更される必要はありません（例：<code>Update</code>アクティビティによる場合）。
            </p>

            <section id="object-without-create">
                <h4 id="x6-2-1-object-creation-without-a-create-activity"><span class="secno">6.2.1
                    </span>Createアクティビティ無しでのオブジェクト作成</h4>
                <p>
                    クライアントからサーバーへオブジェクトを投稿する際、アクティビティでラップせずにオブジェクト単体を投稿することも可能です。
                    サーバーは、POSTされた内容が<code>Activity</code>のサブタイプでない有効な[<cite><a class="bibref"
                            href="#bib-ActivityStreams">ActivityStreams</a></cite>]オブジェクトの場合は<em class="rfc2119"
                        title="MUST">必ず</em>受け付けなければなりません。
                    その場合、サーバーはこのオブジェクトを<a
                        href="#create-activity-outbox">Createアクティビティ</a>の<code>object</code>としてラップし、非一時的オブジェクトなら
                    <code>Create</code>自体とラップされた<code>Object</code>両方へ<code>id</code>を<em class="rfc2119"
                        title="MUST">必ず</em>付与します。
                </p>

                <div class="note">
                    <div role="heading" class="note-title marker" id="h-note-7" aria-level="5"><span>注</span></div>
                    <p class="">
                        サーバーが返す<code>Location</code>の値は新しく生成されたCreateアクティビティ（オブジェクトそのものではない）のURLであるべきです。
                    </p>
                </div>

                <p>
                    オブジェクトに指定された<code>to</code>、<code>bto</code>、<code>cc</code>、<code>bcc</code>、<code>audience</code>各プロパティは、サーバーが新しいCreateアクティビティへ<em
                        class="rfc2119" title="MUST">コピーしなければなりません</em>。
                </p>

                <div class="example">
                    <div class="example-title marker"><span>Example 15</span><span style="text-transform: none">:
                            宛先指定付きオブジェクト</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"This is a note"</span>,
  <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://example.org/~john/"</span>],
  <span class="hljs-attr">"cc"</span>: [<span class="hljs-string">"https://example.com/~erik/followers"</span>,
         <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>]
}</pre>
                </div>

                上記は次のように変換されます：
                <div class="example">
                    <div class="example-title marker"><span>Example 16</span><span style="text-transform: none">:
                            サーバーが生成するCreateアクティビティのラッパー</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Create"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.net/~mallory/87374"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://example.net/~mallory"</span>,
  <span class="hljs-attr">"object"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.com/~mallory/note/72"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
    <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://example.net/~mallory"</span>,
    <span class="hljs-attr">"content"</span>: <span class="hljs-string">"This is a note"</span>,
    <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
    <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://example.org/~john/"</span>],
    <span class="hljs-attr">"cc"</span>: [<span class="hljs-string">"https://example.com/~erik/followers"</span>,
           <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>]
  },
  <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://example.org/~john/"</span>],
  <span class="hljs-attr">"cc"</span>: [<span class="hljs-string">"https://example.com/~erik/followers"</span>,
         <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>]
}</pre>
                </div>
            </section>
        </section>
        <section id="update-activity-outbox">
            <h3 id="x6-3-update-activity"><span class="secno">6.3 </span>Updateアクティビティ</h3>
            <p>
                <code>Update</code>アクティビティは、既存のオブジェクトを更新する際に使います。
                これにより、<code>object</code>は、更新アクティビティが定義する新しい構造で<em class="rfc2119"
                    title="MUST">必ず</em>書き換えられます（そのアクターに更新権限がある場合）。
            </p>

            <section id="partial-updates">
                <h4 id="x6-3-1-partial-updates"><span class="secno">6.3.1 </span>部分更新</h4>
                <p>
                    クライアントからサーバーのやりとりでは、更新は部分的なフィールドごとに行われます。
                    すなわち、ドキュメント全体を置き換えるのではなく、指定されたキー値ペアのみ既存の値が新しい値に置換されます。
                    これは更新対象オブジェクトのトップレベルフィールドのみに適用されます。
                    例外として、jsonの<code>null</code>型が指定されている場合、そのフィールドはサーバ側のオブジェクト表現から除去します。
                </p>
                <p>
                    ただし、この動作は「クライアント→サーバ通信」（クライアントがサーバへ投稿するだけの場合）のものです。
                    サーバ間通信やサーバからクライアントへの更新では、部分更新後の完全な新オブジェクト表現が含まれるべきです。
                    詳しくは<a href="#update-activity-inbox">サーバ間やりとりでのUpdateアクティビティ説明</a>を参照してください。
                </p>
            </section>
        </section>
        <section id="delete-activity-outbox">
            <h3 id="x6-4-delete-activity"><span class="secno">6.4 </span>Deleteアクティビティ</h3>
            <p>
                <code>Delete</code>アクティビティは既存オブジェクトを削除するために使います。
                この副作用として、サーバは<code>object</code>を、そのオブジェクトの<code>Tombstone</code>で置き換えても構いません（他のアクティビティが削除済みオブジェクトを参照する際に表示されます）。
                削除済みオブジェクトがリクエストされた場合、サーバは<code>Tombstone</code>オブジェクトをレスポンスボディに返すならHTTP 410 Goneで返す<em class="rfc2119"
                    title="SHOULD">べき</em>、それ以外は404 Not Foundで返します。
            </p>

            <p>削除済みオブジェクトの例：</p>
            <div class="example">
                <div class="example-title marker"><span>Example 17</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.com/~alice/note/72"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Tombstone"</span>,
  <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"updated"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"deleted"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>
}</pre>
            </div>
        </section>
        <section id="follow-activity-outbox">
            <h3 id="x6-5-follow-activity"><span class="secno">6.5 </span>Followアクティビティ</h3>
            <p>
                <code>Follow</code>アクティビティは他のアクターのアクティビティ購読時に使用します。
            </p>
            <p>
                <strong>outbox</strong>でこれを受信した場合、
                サーバーは<code>Accept</code>アクティビティが、この<code>Follow</code>アクティビティを<code>object</code>として受信するまでは
                <code>object</code>を<code>actor</code>の<a href="#following"><code>following</code>コレクション</a>に<em
                    class="rfc2119" title="SHOULD">追加すべきでありません</em>。
            </p>
        </section>
        <section id="add-activity-outbox">
            <h3 id="x6-6-add-activity"><span class="secno">6.6 </span>Addアクティビティ</h3>
            <p>
                <strong>outbox</strong>に<code>Add</code>アクティビティが届いたら、サーバーは
                <code>object</code>を<code>target</code>で指定されたコレクションに追加<em class="rfc2119"
                    title="SHOULD">すべき</em>ですが、以下の場合は除きます：
            </p>
            <ul>
                <li>
                    <code>target</code>の所有者が受信サーバでない場合（よって更新権限が無い場合）。
                </li>
                <li>
                    <code>object</code>を<code>target</code>コレクションに追加するのが受信サーバの裁量で許可されない場合。
                </li>
            </ul>
        </section>
        <section id="remove-activity-outbox">
            <h3 id="x6-7-remove-activity"><span class="secno">6.7 </span>Removeアクティビティ</h3>
            <p>
                <strong>outbox</strong>に<code>Remove</code>アクティビティが届いたら、サーバーは
                <code>object</code>を<code>target</code>で指定されたコレクションから削除<em class="rfc2119"
                    title="SHOULD">すべき</em>ですが、以下の場合は除きます：
            </p>
            <ul>
                <li>
                    <code>target</code>の所有者が受信サーバでない場合（よって更新権限が無い場合）。
                </li>
                <li>
                    <code>object</code>をその<code>target</code>コレクションから削除するのが受信サーバの裁量で許可されない場合。
                </li>
            </ul>
        </section>
        <section id="like-activity-outbox">
            <h3 id="x6-8-like-activity"><span class="secno">6.8 </span>Likeアクティビティ</h3>
            <p>
                <code>Like</code>アクティビティは<code>actor</code>が<code>object</code>を「いいね」したことを示します。
            </p>
            <p>
                <strong>outbox</strong>でこれを受信した場合、
                サーバーは<code>object</code>を<code>actor</code>の<a href="#liked"><code>liked</code>コレクション</a>に<em
                    class="rfc2119" title="SHOULD">追加すべきです</em>。
            </p>
        </section>
        <section id="block-activity-outbox">
            <h3 id="x6-9-block-activity"><span class="secno">6.9 </span>Blockアクティビティ</h3>
            <p>
                <code>Block</code>アクティビティは、投稿者アクターが（<code>object</code>フィールドで指定する）他のアクターに対し、自分の投稿したオブジェクトとやり取りできないようにしたい時に使います。
                サーバーはブロックされたユーザーが投稿者アクターのオブジェクトとやり取りできないように<em class="rfc2119" title="SHOULD">防ぐべきです</em>。
            </p>
            <p>
                サーバーは<em class="rfc2119" title="SHOULD NOT">Blockアクティビティをその<code>object</code>で指定された相手へ配信すべきでありません</em>。
            </p>
        </section>
        <section id="undo-activity-outbox">
            <h3 id="x6-10-undo-activity"><span class="secno">6.10 </span>Undoアクティビティ</h3>
            <p>
                <code>Undo</code>アクティビティは以前のアクティビティを取り消すために使われます。
                詳細はActivity Vocabularyの
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#inverse">
                    逆アクティビティと「Undo」</a>を参照。
                例えば<code>Like</code>、<code>Follow</code>、<code>Block</code>などを取り消すのに使います。
                Undoアクティビティも元アクティビティも<em class="rfc2119" title="MUST">必ず</em>同じアクターでなければなりません。
                副作用は出来る限り元に戻してください。
                例えばLikeのUndoであれば、以前インクリメントされたカウンターは適切にデクリメントするなど。
            </p>

            <p>
                ただし、明示的な「逆アクティビティ」がある場合はそちらを用いるべきです。
                <code>Create</code>ベースアクティビティなら<code>Delete</code>、
                <code>Add</code>アクティビティなら<code>Remove</code>を使ってください。
            </p>
        </section>

        <section id="client-to-server-outbox-delivery">
            <h3 id="x6-11-delivery"><span class="secno">6.11 </span>配信</h3>
            <p>
                連合型サーバーは<strong>outbox</strong>に投稿されたすべてのアクティビティについて、
                <a href="#outbox-delivery">outbox配信</a>に従い必ず配信<em class="rfc2119" title="MUST">しなければなりません</em>。
            </p>
        </section>

        <section id="uploading-media" class="informative">
            <h3 id="x6-12-uploading-media"><span class="secno">6.12 </span>メディアのアップロード</h3>
            <p><em>このセクションは規範的ではありません。</em></p>
            <p>
                サーバーは画像・動画などのバイナリデータを活動で参照できるようアップロード機能を<em class="rfc2119"
                    title="MAY">提供しても構いません</em>が、その具体的な仕組みはこのActivityPubバージョンの範囲外です。
                Social Web Community Groupは
                <a href="https://www.w3.org/wiki/SocialCG/ActivityPub/MediaUpload">ActivityPubメディアアップロード報告書</a>
                でプロトコル改訂議論を行っています。
            </p>
        </section>
    </section>

    <section id="server-to-server-interactions">
        <!--OddPage-->
        <h2 id="x7-server-to-server-interactions"><span class="secno">7. </span>サーバー間のやりとり</h2>
        <p>
            サーバーは他のサーバーと通信し、アクターの<a href="#inbox">inbox</a>エンドポイントにアクティビティを投稿することで、ソーシャルグラフ全体に情報を伝播させます。
            ネットワーク上で送信されるアクティビティは、意図的に一時的でない限り<em class="rfc2119" title="SHOULD">id</em>を持つべきですが、一時的な場合は<em
                class="rfc2119" title="MAY">id</em>省略可能です。
        </p>
        <p>
            <code>POST</code>リクエスト（例：inbox宛）は<em class="rfc2119" title="MUST">必ず</em>
            <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
            をContent-Typeとして送信し、<code>GET</code>リクエスト（<a href="#retrieving-objects" class="sec-ref"><span
                    class="secno">3.2</span> <span class="sec-title">オブジェクトの取得</span></a>も参照）
            はAcceptヘッダーで<code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>を付けます。
            サーバーは、サーバー間通信において
            <code>application/activity+json</code>のContent-TypeまたはAcceptヘッダーを
            <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>と同等に<em class="rfc2119"
                title="SHOULD">扱うべきです</em>。
        </p>
        <p>
            ソーシャルグラフ全体に更新を伝播するため、アクティビティは適切な受信者へ送信されます。
            まず、該当オブジェクト間のリンクをたどってアクターまで到達し、そのアクターの<em>inbox</em>にアクティビティが挿入されます（<a href="#delivery">配信</a>）。
            これにより受信サーバーは以下のことができます：
        </p>
        <ul>
            <li>
                アクティビティに関連する副作用の処理（例：誰かが「いいね」した場合、オブジェクトの「いいね」数を更新する等）
            </li>
            <li>
                オリジナルオブジェクトの受取人へアクティビティを届け、ソーシャルグラフ全体への更新伝播を保証する
                （<a href="#inbox-forwarding">inboxによる配信</a>参照）
            </li>
        </ul>
        <p>配信は通常、例えば次の場合にトリガされます：</p>
        <ul>
            <li>
                アクターの<a href="#outbox">outbox</a>でアクティビティが作成され、その<code>Followers Collection</code>が宛先の場合
            </li>
            <li>
                アクターの<a href="#outbox">outbox</a>でアクティビティが作成され、直接指定された受信者がいる場合
            </li>
            <li>
                アクターの<a href="#outbox">outbox</a>でユーザー管理のコレクションが宛先の場合
            </li>
            <li>
                アクターの<a href="#outbox">outbox</a>または<a href="#inbox">inbox</a>で、他のオブジェクトを参照しているアクティビティが作られた場合
            </li>
        </ul>

        <p>
            他サーバー上のアクターの<code>inbox</code>または<code>sharedInbox</code>プロパティへ配信を行うサーバーは、
            以下のアクティビティに<code>object</code>プロパティを<em class="rfc2119" title="MUST">必ず</em>含める必要があります：
            <code>Create</code>、<code>Update</code>、<code>Delete</code>、
            <code>Follow</code>、<code>Add</code>、<code>Remove</code>、
            <code>Like</code>、<code>Block</code>、<code>Undo</code>。
            加えて、サーバー間で<code>Add</code>、<code>Remove</code>アクティビティの配信を行う場合は<code>target</code>プロパティも<em class="rfc2119"
                title="MUST">必要です</em>。
        </p>

        <p>
            HTTPキャッシュ機構 [<cite><a class="bibref" href="#bib-RFC7234">RFC7234</a></cite>]
            は、他サーバーからの応答受信・他サーバーへの応答送信どちらでも、適切なら<em class="rfc2119" title="SHOULD">尊重すべき</em>です。
        </p>

        <section id="delivery">
            <h3 id="x7-1-delivery"><span class="secno">7.1 </span>配信</h3>

            <p><i>
                    以降は連合型サーバー間の通信についてのみ必要となる規定です。
                </i></p>

            <p>
                アクティビティはそのターゲット（<a href="#actors">アクター</a>）のinboxを参照し、
                そのinboxへ投稿することで届けられます。
                ターゲットは<a href="https://www.w3.org/TR/activitystreams-vocabulary/#audienceTargeting">
                    ActivityStreamsの宛先指定
                </a>
                、つまりアクティビティの<code>to</code>、<code>bto</code>、<code>cc</code>、<code>bcc</code>、<code>audience</code>フィールドで決定します。
            </p>

            <p>
                <a href="#inbox">inbox</a>はまず
                <a href="#retrieving-objects">
                    ターゲットアクターのJSON-LD表現を取得し
                </a>、その<code>inbox</code>プロパティを参照することで特定されます。
                受信者が<code>Collection</code>または<code>OrderedCollection</code>の場合、サーバーは<em class="rfc2119"
                    title="MUST">必ず</em>（ユーザーの認証情報で）そのコレクションをデリファレンスし、各アイテムのinboxを探します。
                サーバーはコレクションを通じた間接的なたどりの階層数に上限を設ける<em class="rfc2119" title="MUST">必要があり</em>、その上限は1階層でもかまいません<em
                    class="rfc2119" title="MAY">。</em>
            </p>

            <p>
                サーバーは最終的な受信者リストを重複排除<em class="rfc2119"
                    title="MUST">しなければならず</em>、配信対象アクティビティの<code>actor</code>自身はリストから除外<em class="rfc2119"
                    title="MUST">する必要があります</em>。すなわち、アクターは自身のアクティビティを自分自身に配信しないで下さい。
            </p>

            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>注</span><span
                        style="text-transform: none">: 非公開アクティビティ・サイレント配信について</span></div>
                <p class="">
                    宛先が指定されていない場合の動作は未規定ですが、推奨としては、宛先がなければそのオブジェクトは完全非公開としアクセス制御で保護すべきです。
                    単に「public」コレクション宛の場合、そのオブジェクトはアクターのoutboxで公開表示されますが、いずれのアクターにも届けられません。
                </p>
            </div>

            <p>
                その後、（送信者認証つきで）<a href="#inbox">inbox</a>へHTTP POSTリクエストが発行され、ボディにアクティビティが含まれます。
                このアクティビティは受信側により<a href="#inbox">inbox</a>の<code>OrderedCollection</code>の<code>item</code>として追加されます。
                非連合サーバーのinboxに配信しようとした場合は<em class="rfc2119" title="SHOULD">405 Method Not Allowed</em> が返るべきです。
            </p>

            <p>
                連合サーバーが第三者サーバーへ配信を行う場合、配信は<em class="rfc2119"
                    title="SHOULD">非同期で実施すべき</em>です。またネットワークエラーなどで失敗した場合には配信を<em class="rfc2119"
                    title="SHOULD">再試行</em>すべきです。
            </p>

            <p>
                <strong>注:</strong> 同一オリジン間のアクター同士の配信は任意の内部メカニズムを用いても良く、HTTPを使う必要はありません。
            </p>

            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>注</span><span
                        style="text-transform: none">: Linked Data Notificationsとの関係</span></div>
                <p class="" id="ldn-relationship">
                    この仕様の理解に必須ではありませんが、ActivityPubの宛先指定・配信機構は
                    <a href="https://www.w3.org/TR/ldn/">Linked Data Notifications</a>
                    仕様と重複します。両者は相互運用可能です。
                    特に<code>inbox</code>プロパティは両者共通であり、本仕様書で記述される宛先指定・配信はLDNでもサポートされています。
                    また、JSON-LDでコンパクト化されたActivityStreams文書に加え、Linked Data
                    NotificationsはActivityPub実装で必須でない様々なRDFシリアライゼーションもサポートします。
                    より広範な互換性を目指すActivityPub実装は、他のRDF表現のサポートも検討できます。
                </p>
            </div>

            <section id="outbox-delivery">
                <h4 id="x7-1-1-outbox-delivery-requirements-for-server-to-server"><span class="secno">7.1.1
                    </span>サーバー間のOutbox配信要件</h4>
                <p>
                    （クライアントからサーバー、サーバー間双方をサポートするサーバの）<a href="#outbox">outbox</a>でオブジェクトを受信した場合、
                    サーバは以下の宛先へ配信<em class="rfc2119" title="MUST">しなければなりません</em>：
                </p>
                <ul>
                    <li>
                        <code>to</code>、<code>bto</code>、<code>cc</code>、
                        <code>bcc</code>、<code>audience</code>のいずれかのフィールドの値が、そのアクター自身の所有する個人またはコレクションの場合
                    </li>
                </ul>
                <p>
                    これらのフィールドは<a href="#client-addressing">
                        クライアントにより適切に設定されているはず</a>です。
                </p>
            </section>

            <section id="inbox-forwarding">
                <h4 id="x7-1-2-forwarding-from-inbox"><span class="secno">7.1.2 </span>Inboxからの転送</h4>

                <div class="note">
                    <div role="heading" class="note-title marker" id="h-note-10" aria-level="5"><span>注</span><span
                            style="text-transform: none">: ゴーストリプライ問題の回避のための転送</span></div>
                    <div class="">
                        <p>
                            この節は、連合ネットワーク上で時折問題となる「ゴーストリプライ」問題の対策です。
                            この問題は例を使うと最もよく分かります。
                        </p>

                        <p>
                            Alyssaが学会発表成功の投稿をfollowersコレクションに送り、その中にはBenも入っています。
                            BenはAlyssaへ返信し、そのフォロワーコレクションも宛先に含めます。
                            しかしBenはAlyssaのfollowersコレクションの中身にアクセスできず、自身のサーバからfollowersメンバーのinboxへは転送できません。
                            この転送機構が無いと、AlyssaがBenに再返信した場合、Alyssaのフォロワー達はAlyssaが突然Benに返事しているように見え、Benの発言を見ないままになるので混乱します。
                        </p>
                    </div>
                </div>

                <p>
                    <a
                        href="#inbox">inbox</a>でアクティビティを受信したサーバーは、元サーバーが配信できなかった受信者に対してこれを転送する必要があります。これを行うには、サーバーは以下の全てを満たすときに限り、
                    <code>to</code>、<code>cc</code>、<code>audience</code>値をターゲットとし<a href="#delivery">配信</a><em
                        class="rfc2119" title="MUST">しなければなりません</em>：
                </p>
                <ul>
                    <li>サーバがこのアクティビティを初めて受信した場合</li>
                    <li>
                        <code>to</code>、<code>cc</code>、<code>audience</code>の値内に、サーバ自身が所有するコレクションが含まれている
                    </li>
                    <li>
                        <code>inReplyTo</code>、<code>object</code>、<code>target</code>、<code>tag</code>
                        の値がサーバ所有のオブジェクトの場合。
                        サーバはこれら値を再帰的に辿り自分の所有オブジェクトか調べ<em class="rfc2119" title="SHOULD">すべき</em>、ただし再帰の深さには上限<em
                            class="rfc2119" title="SHOULD">有り</em>。
                        但し新しい宛先は拾わず、<b>元</b>オブジェクトの<code>to</code>、<code>cc</code>、<code>audience</code>のみ配信ターゲットとする（クライアントorユーザーで意図的に宛先を追加・修正している場合があるため）。
                    </li>
                </ul>
                <p>
                    サーバは実装固有のルール（例：スパムフィルタ等）で配信ターゲットをフィルタ<em class="rfc2119" title="MAY">してもよい</em>です。
                </p>
            </section>

            <section id="shared-inbox-delivery">
                <h4 id="x7-1-3-shared-inbox-delivery"><span class="secno">7.1.3 </span>共有Inbox配信</h4>
                <p>
                    多数のアクターを抱えるサーバーでは、全フォロワーへの配信は膨大な数のメッセージ送信につながることがあります。
                    一部サーバーでは「既知ネットワーク」へ公開投稿されたすべてのメッセージの一覧も表示したいと考えています。
                    そこでActivityPubはこれら2点に対応するオプション機構を定めます。
                </p>
                <p>
                    オブジェクトを元アクターのフォロワーに配信する場合、
                    サーバは同じ<a href="#sharedInbox">sharedInbox</a>を持つ全フォロワーへの配信をまとめて、
                    受信対象が個別受信者から<code>sharedInbox</code>への配信に<em class="rfc2119" title="MAY">集約しても</em>構いません。
                    この場合はリモート受信側サーバーが宛先判定・最終配信を担います。
                </p>
                <p>
                    また、オブジェクトが<a href="#public-addressing">Public</a>特別コレクション宛であれば、
                    サーバーはネットワーク上の全ての<code>sharedInbox</code>エンドポイントにそのオブジェクトを<em class="rfc2119"
                        title="MAY">配信してもよい</em>です。
                </p>
                <p>
                    公開宛アクティビティを<code>sharedInbox</code>に送信する場合も
                    <code>to</code>、<code>bto</code>、<code>cc</code>、<code>bcc</code>、<code>audience</code>による宛先指定で、<code>sharedInbox</code>非対象・本来受信できないアクターやコレクションがあれば
                    そこにも<em class="rfc2119" title="MUST">必ず</em>配信してください。
                </p>
            </section>
        </section>

        <section id="create-activity-inbox">
            <h3 id="x7-2-create-activity"><span class="secno">7.2 </span>Createアクティビティ</h3>
            <p>
                <code>inbox</code>で<code>Create</code>を受信した際の副作用は意外と少なく、そのアクティビティはアクターの<code>inbox</code>に現れるべきですが、サーバー側でそのアクティビティや付随オブジェクトのローカル表現を保存したくなる可能性が高いです。
                ただし、このことは全般的に<code>inbox</code>に配信されたアクティビティを処理する際には常に行われます。
            </p>
        </section>

        <section id="update-activity-inbox">
            <h3 id="x7-3-update-activity"><span class="secno">7.3 </span>Updateアクティビティ</h3>
            <p>
                サーバー間通信では、<code>Update</code>アクティビティを受信したサーバーは、その<code>id</code>が一致する
                <code>object</code>のコピーを<code>Update</code>で送られてきた内容で<em class="rfc2119" title="SHOULD">上書きすべき</em>です。
                なお、<a href="#update-activity-outbox">
                    クライアント→サーバでのUpdateアクティビティ
                </a>と違い、サーバ間では部分更新ではなくオブジェクト全体が置き換えられます。
            </p>
            <p>
                受信サーバはこの<code>Update</code>が対象<code>object</code>の更新権限を持つことを<em class="rfc2119"
                    title="MUST">厳重に確認すべきです</em>。
                最低でも<code>Update</code>と<code>object</code>が同じオリジンであることを確認しましょう。
            </p>
        </section>

        <section id="delete-activity-inbox">
            <h3 id="x7-4-delete-activity"><span class="secno">7.4 </span>Deleteアクティビティ</h3>
            <p>
                これを受信した場合の副作用は、（<code>object</code>が送信アクター／サーバー所有である場合）受信側サーバは
                <code>id</code>一致の<code>object</code>表現を<em class="rfc2119" title="SHOULD">削除すべき</em>であり、<em
                    class="rfc2119" title="MAY">Tombstone</em>オブジェクトに置換しても構いません。
            </p>
            <p>
                （なお、ActivityPubで発信元サーバからリモートサーバにアクティビティが送信された後は、オブジェクトの表現の<em>リモート削除強制</em>を義務付けるものはありません。）
            </p>
        </section>

        <section id="follow-activity-inbox">
            <h3 id="x7-5-follow-activity"><span class="secno">7.5 </span>Followアクティビティ</h3>

            <p>
                <strong>inbox</strong>でこれを受信した場合、
                サーバーは<code>object</code>にこのFollowアクティビティを指定した
                <code>Accept</code>または<code>Reject</code>アクティビティを生成し、その<code>Follow</code>の<code>actor</code>に配信<em
                    class="rfc2119" title="SHOULD">すべき</em>です。
                受理<code>Accept</code>も拒否<code>Reject</code>も自動生成またはユーザー操作で生成できます（レビュー後の遅延発行も可）。
                サーバーは<code>Follow</code>リクエストに明示的な<code>Reject</code>の送信をしない
                <em class="rfc2119" title="MAY">選択も可能</em>ですが、リクエスト送信側サーバが中間状態に留まるリスクには注意しましょう。
                （例：ユーザー保護のためRejectedの通知を控える…など）
            </p>

            <p>
                <code>Accept</code>でこのFollowアクティビティが<code>object</code>となっている場合、サーバーは
                <code>actor</code>を目的アクターの<a href="#followers">Followers Collection</a>に<em class="rfc2119"
                    title="SHOULD">追加すべき</em>です。
                <code>Reject</code>の場合は<em class="rfc2119" title="MUST NOT">絶対に</em>目的アクターのFollowers
                Collectionに追加してはいけません。
            </p>

            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-11" aria-level="4"><span>注</span></div>
                <div class="">
                    <p>
                        <code>Follow</code>購読が一度成功したとしても、将来長期間にわたりフォロワーへの配信が失敗することがあります。
                        実装者はネットワーク上のアクターが常に到達可能と限らないことを想定し、適切な対策を施してください。
                        例えば半年等、配信に何度も失敗しフォロワーが長期間到達不能となれば、
                        配信側サーバーはその購読者を<code>followers</code>リストから除外しても合理的です。
                        到達不能アクターへの対応方針と期限は配信サーバー実装側の裁量に委ねます。
                    </p>
                </div>
            </div>

        </section>

        <section id="accept-activity-inbox">
            <h3 id="x7-6-accept-activity"><span class="secno">7.6 </span>Acceptアクティビティ</h3>
            <p>
                <strong>inbox</strong>でこれを受信した際の副作用は<code>object</code>の種別によって決まります。
                本書で述べていない型（例: <code>Offer</code>）も受理可能です。
            </p>

            <p>
                <strong>inbox</strong>宛<code>Accept</code>の<code>object</code>が、以前受信者から送信された<code>Follow</code>アクティビティであれば、
                サーバーは<code>actor</code>を受信者の<a href="#following">Following Collection</a>に<em class="rfc2119"
                    title="SHOULD">追加すべき</em>です。
            </p>
        </section>

        <section id="reject-activity-inbox">
            <h3 id="x7-7-reject-activity"><span class="secno">7.7 </span>Rejectアクティビティ</h3>
            <p>
                <strong>inbox</strong>でこれを受信した際の副作用は<code>object</code>の種別によって決まります。
                本書で述べていない型（例: <code>Offer</code>）も拒否可能です。
            </p>

            <p>
                <strong>inbox</strong>宛の<code>Reject</code>の<code>object</code>が、以前受信者から送信された<code>Follow</code>アクティビティであった場合、
                これは受信者がFollow要求を認可しなかったことを意味します。サーバーは<code>actor</code>を受信者の<a href="#following">Following
                    Collection</a>に<em class="rfc2119" title="MUST NOT">絶対に追加してはいけません</em>。
            </p>
        </section>

        <section id="add-activity-inbox">
            <h3 id="x7-8-add-activity"><span class="secno">7.8 </span>Addアクティビティ</h3>
            <p>
                <strong>inbox</strong>で<code>Add</code>アクティビティを受信した際は、サーバーは
                <code>object</code>を<code>target</code>プロパティのコレクションに<em class="rfc2119"
                    title="SHOULD">追加すべき</em>ですが、以下の場合を除きます：
            </p>
            <ul>
                <li>
                    <code>target</code>が受信サーバの所有物でなく、更新権限が無い場合
                </li>
                <li>
                    <code>object</code>が他理由で<code>target</code>コレクションに追加されるべきでないと、受信側が判断する場合
                </li>
            </ul>
        </section>
        <section id="remove-activity-inbox">
            <h3 id="x7-9-remove-activity"><span class="secno">7.9 </span>Removeアクティビティ</h3>
            <p>
                <strong>inbox</strong>で<code>Remove</code>アクティビティを受信した場合、サーバーは
                <code>object</code>を<code>target</code>プロパティのコレクションから<em class="rfc2119"
                    title="SHOULD">削除すべき</em>ですが、以下の場合を除きます：
            </p>
            <ul>
                <li>
                    <code>target</code>が受信サーバ所有でなく、更新権限が無い場合
                </li>
                <li>
                    <code>object</code>の<code>target</code>コレクション削除が認められないと判断した場合
                </li>
            </ul>
        </section>
        <section id="like-activity-inbox">
            <h3 id="x7-10-like-activity"><span class="secno">7.10 </span>Likeアクティビティ</h3>
            <p>
                <strong>inbox</strong>でこれを受信した副作用として、サーバーは
                <a href="#likes"><code>likes</code></a>コレクションが有る場合は
                アクティビティを追加し<code>object</code>のLike数を<em class="rfc2119" title="SHOULD">インクリメント</em>すべきです。
            </p>
        </section>
        <section id="announce-activity-inbox">
            <h3 id="x7-11-announce-activity-sharing"><span class="secno">7.11 </span>Announceアクティビティ（共有）</h3>
            <p>
                <strong>inbox</strong>で<code>Announce</code>アクティビティを受信した際は、サーバーは
                <a href="#shares"><code>shares</code></a>コレクションが有る場合は
                アクティビティを追加し<code>object</code>の共有数を<em class="rfc2119" title="SHOULD">インクリメント</em>すべきです。
            </p>
            <div class="note">
                <div role="heading" class="note-title marker" id="h-note-12" aria-level="4"><span>注</span></div>
                <div class="">
                    <code>Announce</code>アクティビティは、他のSNSで言うところの「共有」「リポスト」「ブースト」にあたります。
                </div>
            </div>
        </section>
        <section id="undo-activity-inbox">
            <h3 id="x7-12-undo-activity"><span class="secno">7.12 </span>Undoアクティビティ</h3>
            <p>
                <code>Undo</code>アクティビティは直前のアクティビティ副作用を取り消すために利用されます。
                詳細はActivityStreamsの
                <a href="https://www.w3.org/TR/activitystreams-vocabulary/#inverse">
                    逆アクティビティと「Undo」
                </a>を参照してください。
                Undoアクティビティの効力および制約範囲は
                <a href="#undo-activity-outbox">
                    クライアントからサーバー時のUndoアクティビティ
                </a>
                と同様ですが、ここでは連合サーバー間で適用されます。
            </p>
        </section>
    </section>

    <section id="i18n-concerns" class="appendix informative">
        <!--OddPage-->
        <h2 id="a-internationalization"><span class="secno">A. </span>国際化</h2>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p>
            連合ネットワークで国際的なユーザーベースを築くことは重要です。
            <a href="https://www.w3.org/TR/activitystreams-core/#naturalLanguageValues">
                ActivityStreamsはコンテンツの国際化対応ツールを提供しており</a>、
            可能な限りこれを利用すべきです。
            しかし、実装でユーザー投稿コンテンツにどの
            <a href="https://www.w3.org/TR/activitystreams-core/#defaultlangcontext">
                <code>@language</code>プロパティ</a>
            を指定すべきか判断するのは難しい場合もあります。
            <a href="https://www.w3.org/International/"><abbr title="World Wide Web Consortium">W3C</abbr>
                国際化グループ</a>
            は、
            <a href="https://www.w3.org/International/wiki/LanguageDetection">
                言語検出に関するガイドライン</a>を提供しています。
        </p>
    </section>

    <section id="security-considerations" class="appendix informative">
        <!--OddPage-->
        <h2 id="b-security-considerations"><span class="secno">B. </span>セキュリティに関する考慮事項</h2>
        <p><em>このセクションは規範的ではありません。</em></p>

        <section id="authorization">
            <h3 id="b-1-authentication-and-authorization"><span class="secno">B.1 </span>認証と認可</h3>
            <p>
                ActivityPubは2つの目的で認証を使用します。1つ目はクライアントによるサーバー認証、2つ目は連合実装でサーバー同士の認証です。
            </p>

            <p>
                標準化時点では、認証に関して強く合意された仕組みは残念ながら存在しません。
                認証のありうる方向性として
                <a href="https://www.w3.org/wiki/SocialCG/ActivityPub/Authentication_Authorization">Social Web Community
                    Groupのベストプラクティス報告書</a>
                でいくつか指針が示されています。
            </p>

        </section>

        <section id="security-verification">
            <h3 id="b-2-verification"><span class="secno">B.2 </span>検証</h3>
            <p>
                サーバーは、クライアントから投稿されたコンテンツを信用すべきではありませんし、
                連合サーバーも、そのコンテンツの発信元でない別サーバーから受け取ったものは、なんらかの検証無しに信用すべきではありません。
            </p>
            <p>
                サーバーは、新規コンテンツが本当にその主張するアクターから投稿されたものか、またアクターが主張するリソースを更新する権限があるか、慎重に検証すべきです。
                詳しくは
                <a href="#obj" class="sec-ref"><span class="secno">3.</span> <span class="sec-title">オブジェクト</span></a>
                および <a href="#authorization" class="sec-ref"><span class="secno">B.1</span> <span
                        class="sec-title">認証と認可</span></a>も参照してください。
            </p>
        </section>

        <section id="security-localhost">
            <h3 id="b-3-accessing-localhost-uris"><span class="secno">B.3 </span>localhost URIへのアクセス</h3>
            <p>
                開発中はlocalhostで動作するプロセスへテストアクセスするのが便利ですが、本番クライアントやサーバーでlocalhostへのリクエストを許可するのは危険な場合があります。
                認証が不要なlocalhostのURIへリクエストを投げると思わぬリソースにアクセスしたり、localhost専用の想定だったリソースが操作されてしまうことがあります。
            </p>
            <p>
                ActivityPubサーバーやクライアントが開発目的でlocalhost URIへのリクエストを許可する場合、デフォルトでオフになる設定項目とすることを検討してください。
            </p>
        </section>

        <section id="security-uri-schemes">
            <h3 id="b-4-uri-schemes"><span class="secno">B.4 </span>URIスキーム</h3>
            <p>
                <code>http</code>や<code>https</code>以外にも多様なURIタイプがあります。
                URIスキームごとにリクエスト処理するようなライブラリの中には、望ましくないスキーム、例えば<code>file</code>を参照しようとするものもあるかもしれません。
                クライアント・サーバー実装者は、自分のライブラリがどのようなリクエスト動作になるか十分検証し、<code>http</code>や<code>https</code>など安全なスキームだけをホワイトリストすることも検討すべきです。
            </p>
        </section>

        <section id="security-recursive-objects">
            <h3 id="b-5-recursive-objects"><span class="secno">B.5 </span>再帰オブジェクト</h3>
            <p>
                サーバーは、オブジェクト解決時の再帰の深さ上限を設けたり、再帰参照を持つActivityStreamsオブジェクトを特別に処理するよう工夫すべきです。
                これを怠るとDoS（サービス拒否）セキュリティ脆弱性につながる恐れがあります。
            </p>
        </section>

        <section id="security-spam">
            <h3 id="b-6-spam"><span class="secno">B.6 </span>スパム</h3>
            <p>
                スパムはどんなネットワークでも問題ですが、連合型ネットワークでは特に問題が顕著になります。
                ActivityPub自体はスパム対策の具体的仕組みは提供しませんが、サーバーは信頼できないローカルユーザーやリモートユーザーからの受信コンテンツを、何らかのスパムフィルターで検査することが推奨されます。
            </p>
        </section>

        <section id="security-federation-dos">
            <h3 id="b-7-federation-denial-of-service"><span class="secno">B.7 </span>連合型DoS対策</h3>
            <p>
                サーバーは、他の連合サーバーからのDoS攻撃対策を実装すべきです。
                たとえばレート制限機構を使うなどの方法があります。
                とくに副作用を伴うアクティビティではこの対策を厳重に実装すべきです。
                サーバーはまた自身が提出するリクエストで他のサーバーを過負荷にしないよう、指数バックオフなどの戦略で抑制<em class="rfc2119" title="SHOULD">すべき</em>です。
            </p>
        </section>

        <section id="security-c2s-ratelimiting">
            <h3 id="b-8-client-to-server-ratelimiting"><span class="secno">B.8 </span>クライアント→サーバのレート制限</h3>
            <p>
                サーバーはAPIクライアントからの投稿をレート制限すべきです。
                その目的は2つあります：
            </p>
            <ol>
                <li>
                    悪意あるクライアントによるサーバーへのDoS攻撃の防止
                </li>
                <li>
                    サーバーがあまり大量のアクティビティを配信してしまい、他サーバーの<a href="#security-federation-dos">DoS防御機構</a>を発動させてしまうのを防ぐ
                </li>
            </ol>
            <p></p>
        </section>

        <section id="security-c2s-response-dos">
            <h3 id="b-9-client-to-server-response-denial-of-service"><span class="secno">B.9 </span>クライアント→サーバ応答型DoS
            </h3>
            <p>
                大きすぎるコレクションの返却でクライアントが過負荷にならないよう、サーバーは返すコレクションページサイズを制限すべきです。
                クライアントもまた、悪意ある/乗っ取られたサーバーに接続した場合に備えて、処理可能な応答のサイズを制限する備えが必要です（たとえばタイムアウトやエラー生成など）。
            </p>
        </section>

        <section id="security-sanitizing-content">
            <h3 id="b-10-sanitizing-content"><span class="secno">B.10 </span>コンテンツのサニタイズ</h3>
            <p>
                ブラウザやリッチテキスト対応アプリ向けにアクティビティのフィールドを描画する場合、マークアップを含むフィールドのクロスサイトスクリプティング（XSS）対策としてサニタイズ処理を必ず行ってください。
            </p>
        </section>

        <section id="security-not-displaying-bto-bcc">
            <h3 id="b-11-not-displaying-bto-and-bcc-properties"><span class="secno">B.11 </span>bto/bccプロパティ非表示</h3>
            <p>
                <code>bto</code>および<code>bcc</code>は<a href="#remove-bto-bcc-before-delivery">配信時に削除すべき</a>ですが、
                サーバーが自身のストレージ上でどう表現するかは自由です。
                ただし<code>bto</code>や<code>bcc</code>はオブジェクト/アクティビティの元作成者のみに知れている／見えている前提なので、表示時にもこれらプロパティは省略すべきです。
            </p>
        </section>
    </section>

    <section class="appendix informative" id="acknowledgements">
        <!--OddPage-->
        <h2 id="c-acknowledgements"><span class="secno">C. </span>謝辞</h2>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p>
            この仕様はWeb連合分野を探究する多くのコミュニティの長年の努力と経験から生まれました。
            特に本仕様の多くは
            <a href="https://www.w3.org/community/ostatus/wiki/Main_Page">OStatus</a>
            および
            <a href="https://github.com/pump-io/pump.io/blob/master/API.md">Pump API</a>
            （StatusNet（現GNU Social）およびPump.ioが先駆）に影響を受けています。
            これらイニシアチブはいずれも多くの開発者の貢献から生まれましたが、なかでもEvan
            Prodromou氏はこの分野で一貫したリーダーであり、彼の情熱がなければ現在のActivityPubが存在していたかどうか分かりません。
        </p>

        <p>
            Erin Shepherdは最初期の仕様バージョンを構築しました。これは
            <a href="https://github.com/pump-io/pump.io/blob/master/API.md">Pump API</a>
            ドキュメントのアイデアを元に、ほとんどを完全新規に書き下ろしたものですが、主要なアイデアを共有しつつActivityStreams 1から2へ切り替えています。
        </p>

        <p>
            Jessica TallonとChristine Lemmer-Webberは標準化が<abbr title="World Wide Web Consortium">W3C</abbr> Social Working
            Groupに移った際に編集を引き継ぎ、Erin Shepherdのドキュメントから現在のActivityPubへの移行の大半を担いました。
            この文書の多くはSocial Working Groupの長いフィードバックプロセスの中で書き換えや再編成が行われています。
        </p>

        <p>
            ActivityPubは<abbr title="World Wide Web Consortium">W3C</abbr> Social Working Groupの多くのメンバーの丁寧な意見を元に作られています。
            なかでもAmy Guyには特大の感謝があります。彼女は[<cite><a class="bibref"
                    href="#bib-Social-Web-Protocols">Social-Web-Protocols</a></cite>]により、
            異なるSocial Working Group文書の内容を調和的に体系化してくれました。
            またAmyはChristopher Allan Webberと4日間のスプリントでActivityPub仕様の重要なリファクタ案を作成し、
            そのおかげでクライアント・サーバー・連合間の構造がより明確になり、[<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>]との関係もわかりやすくなりました。
            Benjamin Goeringには実装レポートテンプレート作成への特別な感謝があります。
            またmrayには本仕様のチュートリアル図（本ドキュメントと同じライセンス）の制作に感謝いたします。
        </p>

        <p>
            多くの方々が細やかなレビューでActivityPubを支えてくれました。
            特に感謝します：
            Aaron Parecki、
            AJ Jordan、
            Benjamin Goering、
            Caleb Langeslag、
            Elsa Balderrama、
            elf Pavlik、
            Eugen Rochko、
            Erik Wilde、
            Jason Robinson、
            Manu Sporny、
            Michael Vogel、
            Mike Macgirvin、
            nightpool、
            Puck Meerburg、
            Sandro Hawke、
            Sarven Capadisli、
            Tantek Çelik、
            Yuri Volkov。
        </p>

        <p>
            本書は地球上すべての市民への献辞です。
            あなたたちはコミュニケーションの自由を享受する権利があります。私たちの活動が、その目的・権利のために微力ながら寄与できたことを願います。
        </p>
    </section>


    <section id="references" class="appendix"><!--OddPage-->
        <h2 id="d-references"><span class="secno">D. </span>参考文献</h2>
        <section id="normative-references">
            <h3 id="d-1-normative-references"><span class="secno">D.1 </span>規範的参考文献</h3>
            <dl class="bibliography">
                <dt id="bib-Activity-Vocabulary">[Activity-Vocabulary]</dt>
                <dd><a href="https://www.w3.org/TR/activitystreams-vocabulary/"><cite>Activity Vocabulary</cite></a>. J.
                    Snell. ActivityStreams Working Group. Editors Draft. URL: <a
                        href="https://www.w3.org/TR/activitystreams-vocabulary/">https://www.w3.org/TR/activitystreams-vocabulary/</a>
                </dd>
                <dt id="bib-ActivityStreams">[ActivityStreams]</dt>
                <dd><a href="https://www.w3.org/TR/activitystreams-core/"><cite>Activity Streams 2.0</cite></a>. J.
                    Snell. ActivityStreams Working Group. Editors Draft. URL: <a
                        href="https://www.w3.org/TR/activitystreams-core/">https://www.w3.org/TR/activitystreams-core/</a>
                </dd>
                <dt id="bib-JSON-LD">[JSON-LD]</dt>
                <dd><a href="https://www.w3.org/TR/json-ld/"><cite>JSON-LD 1.0</cite></a>. Manu Sporny; Gregg Kellogg;
                    Markus Lanthaler. W3C. 2014年1月16日. W3C 勧告. URL: <a
                        href="https://www.w3.org/TR/json-ld/">https://www.w3.org/TR/json-ld/</a>
                </dd>
                <dt id="bib-LDN">[LDN]</dt>
                <dd><a href="https://www.w3.org/TR/ldn/"><cite>Linked Data Notifications</cite></a>. Sarven Capadisli;
                    Amy Guy. W3C. 2017年5月2日. W3C 勧告. URL: <a
                        href="https://www.w3.org/TR/ldn/">https://www.w3.org/TR/ldn/</a>
                </dd>
                <dt id="bib-RFC2119">[RFC2119]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. 1997年3月. Best Current Practice. URL: <a
                        href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
                </dd>
                <dt id="bib-RFC7231">[RFC7231]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc7231"><cite>Hypertext Transfer Protocol (HTTP/1.1):
                            Semantics and Content</cite></a>. R. Fielding, Ed.; J. Reschke, Ed.. IETF. 2014年6月.
                    提案標準. URL: <a href="https://tools.ietf.org/html/rfc7231">https://tools.ietf.org/html/rfc7231</a>
                </dd>
                <dt id="bib-RFC7234">[RFC7234]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc7234"><cite>Hypertext Transfer Protocol (HTTP/1.1):
                            Caching</cite></a>. R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. IETF. 2014年6月.
                    提案標準. URL: <a href="https://tools.ietf.org/html/rfc7234">https://tools.ietf.org/html/rfc7234</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <h3 id="d-2-informative-references"><span class="secno">D.2 </span>参考情報文献</h3>
            <dl class="bibliography">
                <dt id="bib-Micropub">[Micropub]</dt>
                <dd><a href="https://www.w3.org/TR/micropub/"><cite>Micropub</cite></a>. Aaron Parecki. W3C. 2017年5月23日.
                    W3C 勧告. URL: <a href="https://www.w3.org/TR/micropub/">https://www.w3.org/TR/micropub/</a>
                </dd>
                <dt id="bib-RFC6749">[RFC6749]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc6749"><cite>The OAuth 2.0 Authorization
                            Framework</cite></a>. D. Hardt, Ed.. IETF. 2012年10月. 提案標準. URL: <a
                        href="https://tools.ietf.org/html/rfc6749">https://tools.ietf.org/html/rfc6749</a>
                </dd>
                <dt id="bib-RFC6750">[RFC6750]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc6750"><cite>The OAuth 2.0 Authorization Framework: Bearer
                            Token Usage</cite></a>. M. Jones; D. Hardt. IETF. 2012年10月. 提案標準. URL: <a
                        href="https://tools.ietf.org/html/rfc6750">https://tools.ietf.org/html/rfc6750</a>
                </dd>
                <dt id="bib-Social-Web-Protocols">[Social-Web-Protocols]</dt>
                <dd><a href="https://www.w3.org/TR/social-web-protocols/"><cite>Social Web Protocols</cite></a>. Amy
                    Guy. W3C. 2017年12月25日. W3C Note. URL: <a
                        href="https://www.w3.org/TR/social-web-protocols/">https://www.w3.org/TR/social-web-protocols/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>