<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>バックグラウンドフェッチ</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link href="https://www.w3.org/StyleSheets/TR/2016/cg-draft" rel="stylesheet">
    <!-- <meta content="Bikeshed version c6f50773a, updated Fri Apr 16 16:45:47 2021 -0700" name="generator"> -->
    <link href="https://wicg.github.io/background-fetch/" rel="canonical">
    <!-- <meta content="56974241e32a71462f215744effc89ca94340c4f" name="document-revision"> -->
    <style>
        .algorithm dl {
            overflow: hidden;
        }

        .algorithm dt {
            font-weight: normal;
            float: left;
            clear: left;
            line-height: 1.5;
            margin-right: 0.3em;
        }

        .algorithm dt::after {
            content: '- ';
        }

        .algorithm dd {
            margin-left: 0em;
        }
    </style>
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-colors */

        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-railroad */

        :root {
            --railroad-bg: hsl(30, 20%, 95%);
            --railroad-stroke: black;
            --railroad-fill: hsl(120, 100%, 90%);
        }

        svg.railroad-diagram {
            background-color: var(--railroad-bg);
        }

        svg.railroad-diagram path {
            stroke-width: 3px;
            stroke: var(--railroad-stroke);
            fill: transparent;
        }

        svg.railroad-diagram text {
            font: bold 14px monospace;
            fill: var(--text, currentcolor);
            text-anchor: middle;
        }

        svg.railroad-diagram text.label {
            text-anchor: start;
        }

        svg.railroad-diagram text.comment {
            font: italic 12px monospace;
        }

        svg.railroad-diagram rect {
            stroke-width: 3px;
            stroke: var(--railroad-stroke);
            fill: var(--railroad-fill);
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */

        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <style>
        /* style-darkmode */

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --railroad-bg: rgba(255, 255, 255, .05);
                --railroad-stroke: #bbb;
                --railroad-fill: hsla(240deg, 20%, 15%);
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">バックグラウンド フェッチ</h1>
        <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">草案コミュニティグループレポート,
                <time class="dt-updated" datetime="2021-04-21">2021年4月21日</time></span></h2>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>このバージョン:
                <dd><a class="u-url"
                        href="https://wicg.github.io/background-fetch/">https://wicg.github.io/background-fetch/</a>
                <dt>課題追跡:
                <dd><a href="https://github.com/WICG/background-fetch/issues/">GitHub</a>
                <dd><a href="#issues-index">仕様内インライン</a>
                <dt class="editor">編集者:
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:jakearchibald@google.com">Jake Archibald</a> (<span
                        class="p-org org">Google</span>)
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:beverloo@google.com">Peter Beverloo</a> (<span class="p-org org">Google</span>)
            </dl>
        </div>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2021 the Contributors to
            the Background Fetch Specification, published by the <a href="https://www.w3.org/community/wicg/">Web
                Platform Incubator Community Group</a> under the <a
                href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement
                (CLA)</a>.
            A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available.
        </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p>ユーザーが可視性を持ちながら、バックグラウンドで大容量のアップロード/ダウンロードを処理するためのAPI。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">この文書のステータス</span>
    </h2>
    <div data-fill-with="status">
        <p> この仕様は<a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>によって公開されました。
            これはW3C標準ではなく、W3C標準化トラックにも載っていません。

            <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement
                (CLA)</a>の下で限定的なオプトアウトが可能で、その他の条件も適用されることに注意してください。

            <a href="http://www.w3.org/community/">W3Cコミュニティおよびビジネスグループ</a>についての詳細をご覧ください。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">導入</span></a>
            <li><a href="#realms"><span class="secno">2</span> <span class="content">レルム</span></a>
            <li>
                <a href="#infrastructure"><span class="secno">3</span> <span class="content">インフラストラクチャ</span></a>
                <ol class="toc">
                    <li><a href="#service-worker-registration-concept-extensions"><span class="secno">3.1</span> <span
                                class="content">サービスワーカー登録の拡張</span></a>
                    <li>
                        <a href="#background-fetch-concept"><span class="secno">3.2</span> <span
                                class="content"><span>バックグラウンドフェッチ</span></span></a>
                        <ol class="toc">
                            <li><a href="#background-fetch-display-algorithm"><span class="secno">3.2.1</span> <span
                                        class="content"><span>表示</span></span></a>
                        </ol>
                    <li><a href="#background-fetch-record-concept"><span class="secno">3.3</span> <span
                                class="content">バックグラウンドフェッチレコード</span></a>
                    <li><a href="#background-fetch-response-concept"><span class="secno">3.4</span> <span
                                class="content">バックグラウンドフェッチ応答</span></a>
                </ol>
            <li>
                <a href="#algorithms"><span class="secno">4</span> <span class="content">アルゴリズム</span></a>
                <ol class="toc">
                    <li><a href="#perform-a-background-fetch-algorithm"><span class="secno">4.1</span> <span
                                class="content"><span>バックグラウンドフェッチを実行する</span></span></a>
                    <li><a href="#complete-a-record-algorithm"><span class="secno">4.2</span> <span
                                class="content"><span>レコードを完了する</span></span></a>
                    <li><a href="#update-background-fetch-instance-algorithm"><span class="secno">4.3</span> <span
                                class="content"><span>バックグラウンドフェッチインスタンスを更新する</span></span></a>
                    <li><a href="#fire-a-background-fetch-click-event-algorithm"><span class="secno">4.4</span> <span
                                class="content"><span>バックグラウンドフェッチクリックイベントを発火する</span></span></a>
                    <li><a href="#get-a-backgroundfetchregistration-instance-algorithm"><span class="secno">4.5</span>
                            <span class="content"><span>BackgroundFetchRegistrationインスタンスを取得する</span></span></a>
                    <li><a href="#validate-partial-response-algorithm"><span class="secno">4.6</span> <span
                                class="content"><span>部分的なレスポンスを検証する</span></span></a>
                    <li><a href="#extract-content-range-values-algorithm"><span class="secno">4.7</span> <span
                                class="content"><span>Content-Range値を抽出する</span></span></a>
                    <li><a href="#create-settled-fetches-algorithm"><span class="secno">4.8</span> <span
                                class="content"><span>レコードオブジェクトを作成する</span></span></a>
                    <li><a href="#contains-background-fetch-algorithm"><span class="secno">4.9</span> <span
                                class="content"><span> バックグラウンドフェッチを含むか</span></span></a>
                </ol>
            <li><a href="#header-syntax"><span class="secno">5</span> <span class="content">ヘッダー構文</span></a>
            <li>
                <a href="#api"><span class="secno">6</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li>
                        <a href="#extensions-to-service-worker-global"><span class="secno">6.1</span> <span
                                class="content">拡張 <code
                                    class="idl"><span>ServiceWorkerGlobalScope</span></code></span></a>
                        <ol class="toc">
                            <li><a href="#service-worker-global-events"><span class="secno">6.1.1</span> <span
                                        class="content">イベント</span></a>
                        </ol>
                    <li><a href="#extensions-to-service-worker-registration"><span class="secno">6.2</span> <span
                                class="content">拡張 <code
                                    class="idl"><span>ServiceWorkerRegistration</span></code></span></a>
                    <li>
                        <a href="#background-fetch-manager"><span class="secno">6.3</span> <span class="content"><code
                                    class="idl"><span>BackgroundFetchManager</span></code></span></a>
                        <ol class="toc">
                            <li><a href="#background-fetch-manager-fetch"><span class="secno">6.3.1</span> <span
                                        class="content"><code class="idl"><span>fetch()</span></code></span></a>
                            <li><a href="#background-fetch-manager-get"><span class="secno">6.3.2</span> <span
                                        class="content"><code class="idl"><span>get()</span></code></span></a>
                            <li><a href="#background-fetch-manager-get-ids"><span class="secno">6.3.3</span> <span
                                        class="content"><code class="idl"><span>getIds()</span></code></span></a>
                        </ol>
                    <li>
                        <a href="#background-fetch-registration"><span class="secno">6.4</span> <span
                                class="content"><code
                                    class="idl"><span>BackgroundFetchRegistration</span></code></span></a>
                        <ol class="toc">
                            <li><a href="#background-fetch-registration-events"><span class="secno">6.4.1</span> <span
                                        class="content">イベント</span></a>
                            <li><a href="#background-fetch-registration-abort"><span class="secno">6.4.2</span> <span
                                        class="content"><code class="idl"><span>abort()</span></code></span></a>
                            <li><a href="#background-fetch-registration-match"><span class="secno">6.4.3</span> <span
                                        class="content"><code class="idl"><span>match()</span></code></span></a>
                            <li><a href="#background-fetch-registration-match-all"><span class="secno">6.4.4</span>
                                    <span class="content"><code class="idl"><span>matchAll()</span></code></span></a>
                        </ol>
                    <li><a href="#background-fetch-record-interface"><span class="secno">6.5</span> <span
                                class="content"><code class="idl"><span>BackgroundFetchRecord</span></code></span></a>
                    <li><a href="#background-fetch-event"><span class="secno">6.6</span> <span class="content"><code
                                    class="idl"><span>BackgroundFetchEvent</span></code></span></a>
                    <li>
                        <a href="#background-fetch-update-ui-event"><span class="secno">6.7</span> <span
                                class="content"><code
                                    class="idl"><span>BackgroundFetchUpdateUIEvent</span></code></span></a>
                        <ol class="toc">
                            <li><a href="#background-fetch-update-ui-event-update-ui"><span class="secno">6.7.1</span>
                                    <span class="content"><code class="idl"><span>updateUI()</span></code></span></a>
                        </ol>
                </ol>
            <li>
                <a href="#automation"><span class="secno">7</span> <span class="content">自動化</span></a>
                <ol class="toc">
                    <li><a href="#automation-click"><span class="secno">7.1</span> <span
                                class="content"><span>クリック</span></span></a>
                </ol>
            <li><a href="#privacy-and-bandwidth-use"><span class="secno">8</span> <span
                        class="content">プライバシーと帯域幅の使用</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">適合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文書の規約</span></a>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">合するアルゴリズム</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">この仕様で定義される用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照によって定義された用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範的な参考文献</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL索引</span></a>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">問題の索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">導入</span><a class="self-link" href="#intro"></a></h2>
        <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker">サービスワーカー</a>は、<a
                href="https://storage.spec.whatwg.org/#usage-and-quota">オリジンストレージ</a>によってのみ制限されるサイズのアセットをフェッチし、キャッシュする能力を持っています。ただし、ユーザーがサイトから離れたりブラウザを閉じたりすると、サービスワーカーは<a
                href="https://www.w3.org/TR/service-workers-1/#service-worker-lifetime">終了される可能性があります</a>。これは、<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil">waitUntil()</a></code>に渡された未解決のプロミスがある場合でも発生する可能性があります。数分以内に解決されない場合、ブラウザはこれを<a
                data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker①">サービスワーカー</a>の乱用と見なしてプロセスを終了することがあります。</p>
        <p>これはバッテリーとプライバシーにとっては優れていますが、ポッドキャストや映画などの大きなアセットをダウンロードしてキャッシュしたり、動画や画像をアップロードしたりするのが難しくなります。</p>
        <p>この仕様の目的は以下の通りです:</p>
        <ul>
            <li data-md>
                <p>ユーザーがオリジンへのすべてのウィンドウやワーカーを閉じても、フェッチ（リクエスト＆レスポンス）を続行できるようにする。</p>
            <li data-md>
                <p>アプリによって定義されたように、多くのリクエストを含む単一のジョブを可能にする。</p>
            <li data-md>
                <p>ブラウザ/OSがそのジョブの進行状況を示すUIを表示し、ユーザーが一時停止/中止できるようにする。</p>
            <li data-md>
                <p>接続が不安定な場合に、ブラウザ/OSがダウンロードを一時停止/再開することを可能にする。</p>
            <li data-md>
                <p>アプリがジョブの成功/失敗に反応し、結果をキャッシュするなどの対応を可能にする。</p>
            <li data-md>
                <p>バックグラウンドでフェッチされたリソースにフェッチ中にアクセスできるようにする。</p>
        </ul>
        <h2 class="heading settled" data-level="2" id="realms"><span class="secno">2. </span><span
                class="content">レルム</span><a class="self-link" href="#realms"></a></h2>
        <p>すべてのプラットフォームオブジェクトは、特に指定がない限り、<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                id="ref-for-concept-relevant-realm">関連するレルム</a>内で作成されます。</p>
        <h2 class="heading settled" data-level="3" id="infrastructure"><span class="secno">3. </span><span
                class="content">インフラストラクチャ</span><a class="self-link" href="#infrastructure"></a></h2>
        <p>リソースは、ユーザーエージェントがリソースがまもなく利用可能になると考える場合、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="temporarily-unavailable">一時的に利用不可</dfn>と見なされます。理由には以下が含まれる場合があります:</p>
        <ul>
            <li data-md>
                <p>ユーザーエージェントがオフラインである。</p>
            <li data-md>
                <p>ユーザーエージェントがキャプティブポータルの背後にいる。</p>
        </ul>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="background-fetch-task-source">バックグラウンドフェッチタスクソース</dfn>は、<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source">タスクソース</a>です。</p>
        <div class="algorithm" data-algorithm="queue a bgfetch task"> オプションの<var>eventLoop</var>
            （<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"
                id="ref-for-concept-agent-event-loop">イベントループ</a>、デフォルトでは呼び出し元の<a
                data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                id="ref-for-relevant-settings-object">関連する設定オブジェクト</a>の<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                id="ref-for-responsible-event-loop">責任を持つイベントループ</a>）と<var>steps</var>（ステップ）を使って<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport
                id="queue-a-bgfetch-task">バックグラウンドフェッチタスクをキューに入れる</dfn>には、<var>eventLoop</var>上で<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task">タスクをキューに入れ</a>、<a data-link-type="dfn" href="#background-fetch-task-source"
                id="ref-for-background-fetch-task-source">バックグラウンドフェッチタスクソース</a>を使用して<var>steps</var>を実行します。 </div>
        <h3 class="heading settled" data-level="3.1" id="service-worker-registration-concept-extensions"><span
                class="secno">3.1. </span><span class="content">サービスワーカー登録の拡張</span><a class="self-link"
                href="#service-worker-registration-concept-extensions"></a></h3>
        <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration">サービスワーカー登録</a>には以下が追加されます:</p>
        <div>
            <ul>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn"
                            data-noexport
                            id="service-worker-registration-active-background-fetches">アクティブなバックグラウンドフェッチ</dfn> (<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                            id="ref-for-ordered-map">マップ</a>)。各キーはDOMStringであり、各項目は<a data-link-type="dfn"
                            href="#background-fetch" id="ref-for-background-fetch">バックグラウンドフェッチ</a>です。初期状態では空の<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                            id="ref-for-ordered-map①">マップ</a>です。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn"
                            data-noexport
                            id="service-worker-registration-active-background-fetches-edit-queue">アクティブなバックグラウンドフェッチ編集キュー</dfn>
                        (<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue"
                            id="ref-for-parallel-queue">並列キュー</a>)。初期状態では<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue"
                            id="ref-for-starting-a-new-parallel-queue">新しい並列キューを開始する</a>結果です。</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.2" id="background-fetch-concept"><span class="secno">3.2. </span><span
                class="content"><a data-link-type="dfn" href="#background-fetch"
                    id="ref-for-background-fetch①">バックグラウンドフェッチ</a></span><a class="self-link"
                href="#background-fetch-concept"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="background-fetch">バックグラウンドフェッチ</dfn>は以下で構成されます:</p>
        <div>
            <ul>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-id">ID</dfn> (DOMString)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-records">レコード</dfn> (<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list">リスト</a> of <a
                            data-link-type="dfn" href="#background-fetch-record"
                            id="ref-for-background-fetch-record">バックグラウンドフェッチレコード</a>)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-title">タイトル</dfn> (DOMString)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-download-total">ダウンロード合計</dfn> (数値)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-upload-total">アップロード合計</dfn> (数値)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-uploaded">アップロード済み</dfn> (数値)、初期値は0。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-result">結果</dfn> (<code
                            class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult">BackgroundFetchResult</a></code>)、
                        初期値は空文字列。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-failure-reason">失敗理由</dfn> (<code
                            class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason">BackgroundFetchFailureReason</a></code>)、
                        初期値は空文字列。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-records-available-flag">レコード利用可能フラグ</dfn> 初期状態では設定済み。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-icons">アイコン</dfn> (<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">リスト</a> of <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/image-resource/#dom-imageresource" id="ref-for-dom-imageresource">ImageResource</a></code>)。
                    </p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-service-worker-registration">サービスワーカー登録</dfn> (<a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                            id="ref-for-dfn-service-worker-registration①">サービスワーカー登録</a>)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-update-handling-queue">更新処理キュー</dfn> (<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue"
                            id="ref-for-parallel-queue①">並列キュー</a>)。初期状態では<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue"
                            id="ref-for-starting-a-new-parallel-queue①">新しい並列キューを開始する</a>結果。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-paused-flag">一時停止フラグ</dfn>、初期状態では未設定。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport
                            id="background-fetch-abort-all-flag">すべて中止フラグ</dfn>、初期状態では未設定。</p>
            </ul>
            <div class="algorithm" data-algorithm="stored body bytes total">
                <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②">バックグラウンドフェッチ</a>
                (<var>bgFetch</var>) の<dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn"
                    data-noexport id="background-fetch-stored-body-bytes-total">保存されたボディバイトの合計</dfn>を取得するには、以下の手順を実行します:
                <ol>
                    <li data-md>
                        <p><var>total</var>を0に設定します。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                id="ref-for-list-iterate">各</a> <var>record</var> について、<var>bgFetch</var> の <a
                                data-link-type="dfn" href="#background-fetch-records"
                                id="ref-for-background-fetch-records">レコード</a>:</p>
                        <ol>
                            <li data-md>
                                <p><var>record</var>の<a data-link-type="dfn"
                                        href="#background-fetch-record-response-data"
                                        id="ref-for-background-fetch-record-response-data">応答データ</a>の<a
                                        data-link-type="dfn" href="#background-fetch-response-bytes"
                                        id="ref-for-background-fetch-response-bytes">バイト</a>の<a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                        id="ref-for-byte-sequence-length">長さ</a>分、<var>total</var>を増やします。</p>
                        </ol>
                    <li data-md>
                        <p><var>total</var>を返します。</p>
                </ol>
            </div>
            <h4 class="heading settled" data-level="3.2.1" id="background-fetch-display-algorithm"><span
                    class="secno">3.2.1. </span><span class="content"><a data-link-type="dfn"
                        href="#background-fetch-display" id="ref-for-background-fetch-display">表示</a></span><a
                    class="self-link" href="#background-fetch-display-algorithm"></a></h4>
            <div class="algorithm" data-algorithm="display">
                <a data-link-type="dfn" id="background-fetch-display">バックグラウンドフェッチ</a> (<var>bgFetch</var>)
                を指定された<var>environment</var> (<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                    id="ref-for-environment-settings-object">環境設定オブジェクト</a>)
                のために表示するには、ユーザーエージェントは以下のルールに従ってUIを表示する必要があります:
                <ul>
                    <li data-md>
                        <p>UIは<var>bgFetch</var>の<a data-link-type="dfn"
                                href="#background-fetch-service-worker-registration"
                                id="ref-for-background-fetch-service-worker-registration">サービスワーカー登録</a>の<a
                                data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                                id="ref-for-dfn-scope-url">スコープURL</a>の<a data-link-type="dfn"
                                href="https://url.spec.whatwg.org/#concept-url-origin"
                                id="ref-for-concept-url-origin">オリジン</a>を目立つ形で表示しなければなりません。</p>
                    <li data-md>
                        <p>もし<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-paused-flag"
                                id="ref-for-background-fetch-paused-flag">一時停止フラグ</a>が未設定であり、<var>bgFetch</var>の<a
                                data-link-type="dfn" href="#background-fetch-result"
                                id="ref-for-background-fetch-result">結果</a>が空文字列でない場合、UIは帯域幅が使用されていることを示さなければなりません。</p>
                    <li data-md>
                        <p><var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-result"
                                id="ref-for-background-fetch-result①">結果</a>が空文字列でない限り、UIは中止されることなく（例:
                            スワイプで閉じられる）解消されてはなりません。</p>
                    <li data-md>
                        <p>UIは<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-title"
                                id="ref-for-background-fetch-title">タイトル</a>を表示することができます。</p>
                    <li data-md>
                        <p>UIは<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-icons"
                                id="ref-for-background-fetch-icons">アイコン</a>から表示用の<a data-link-type="dfn"
                                href="https://w3c.github.io/image-resource/#image-resource"
                                id="ref-for-image-resource">画像リソース</a> (<var>icon</var>) を選択し、<a data-link-type="dfn"
                                href="https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api"
                                id="ref-for-processing-an-imageresource-from-an-api">処理</a>に成功した後、新しい<a
                                data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                                id="ref-for-concept-request">リクエスト</a>を使用して<a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-fetch"
                                id="ref-for-concept-fetch">フェッチ</a>することができます。そのプロパティは以下の通りです:
                        </p>
                        <dl>
                            <dt data-md><a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-request-url"
                                    id="ref-for-concept-request-url">URL</a>
                            <dd data-md>
                                <p><var>icon</var>の<a data-link-type="dfn"
                                        href="https://w3c.github.io/image-resource/#dfn-src"
                                        id="ref-for-dfn-src">src</a>。</p>
                            <dt data-md><a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-request-client"
                                    id="ref-for-concept-request-client">クライアント</a>
                            <dd data-md>
                                <p><var>environment</var>。</p>
                            <dt data-md><a data-link-type="dfn">Keepaliveフラグ</a>
                            <dd data-md>
                                <p>設定済み。</p>
                            <dt data-md><a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#request-service-workers-mode"
                                    id="ref-for-request-service-workers-mode">サービスワーカーモード</a>
                            <dd data-md>
                                <p>"<code>none</code>"。</p>
                            <dt data-md><a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-request-destination"
                                    id="ref-for-concept-request-destination">宛先</a>
                            <dd data-md>
                                <p>"<code>image</code>"。</p>
                            <dt data-md><a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-request-mode"
                                    id="ref-for-concept-request-mode">モード</a>
                            <dd data-md>
                                <p>"<code>no-cors</code>"。</p>
                            <dt data-md><a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode"
                                    id="ref-for-concept-request-credentials-mode">認証モード</a>
                            <dd data-md>
                                <p>"<code>include</code>"。</p>
                        </dl>
                        <p class="issue" id="issue-20b63876"><a class="self-link" href="#issue-20b63876"></a> <a
                                href="https://github.com/w3c/manifest/pull/710">manifest/pull/710</a>。</p>
                    <li data-md>
                        <p>UIは<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-download-total"
                                id="ref-for-background-fetch-download-total">ダウンロード合計</a>、<a data-link-type="dfn"
                                href="#background-fetch-upload-total"
                                id="ref-for-background-fetch-upload-total">アップロード合計</a>、<a data-link-type="dfn"
                                href="#background-fetch-stored-body-bytes-total"
                                id="ref-for-background-fetch-stored-body-bytes-total">保存されたボディバイトの合計</a>、<a
                                data-link-type="dfn" href="#background-fetch-uploaded"
                                id="ref-for-background-fetch-uploaded">アップロード済み</a>、<a data-link-type="dfn"
                                href="#background-fetch-paused-flag"
                                id="ref-for-background-fetch-paused-flag①">一時停止フラグ</a>、および<a data-link-type="dfn"
                                href="#background-fetch-result"
                                id="ref-for-background-fetch-result②">結果</a>を使用してフェッチの進行状況を表示することができます。</p>
                    <li data-md>
                        <p>UIはユーザーが<var>bgFetch</var>を中止できるように<var>bgFetch</var>の<a data-link-type="dfn"
                                href="#background-fetch-abort-all-flag"
                                id="ref-for-background-fetch-abort-all-flag">すべて中止フラグ</a>を設定する方法を提供しなければなりません。</p>
                    <li data-md>
                        <p>もし<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-record-request"
                                id="ref-for-background-fetch-record-request">リクエスト</a>がすべて<a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-request-method"
                                id="ref-for-concept-request-method">メソッド</a>
                            `<code>GET</code>`である場合、UIは<var>bgFetch</var>の<a data-link-type="dfn"
                                href="#background-fetch-paused-flag"
                                id="ref-for-background-fetch-paused-flag②">一時停止フラグ</a>を切り替える方法を提供することができます。</p>
                        <p class="note" role="note"><span>注記:</span> <a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-request-method"
                                id="ref-for-concept-request-method①">メソッド</a>が`<code>GET</code>`でない場合、リクエストを再発行すると望ましくない副作用が生じる可能性があります。
                        </p>
                    <li data-md>
                        <p>UIはアクティブ化される可能性があります（例: クリックによって）、その場合<a data-link-type="dfn"
                                href="#fire-a-background-fetch-click-event"
                                id="ref-for-fire-a-background-fetch-click-event">バックグラウンドフェッチクリックイベントを発火</a>します。</p>
                    <li data-md>
                        <p>操作が完了してもUIが維持される場合があります。この場合、UIは引き続きアクティブ化可能です。</p>
                </ul>
                <p><var>permission</var>を<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor" id="ref-for-dictdef-permissiondescriptor">PermissionDescriptor</a></code>として<a
                        data-link-type="dfn" href="https://w3c.github.io/permissions/#permission-state"
                        id="ref-for-permission-state">許可状態</a>を取得します。その<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name">name</a></code>は<code>"background-fetch"</code>で、<var>environment</var>で指定されます。もし<var>permission</var>が<code>"prompt"</code>である場合、ユーザーエージェントはこのアルゴリズムの開始時に<var>bgFetch</var>の<a
                        data-link-type="dfn" href="#background-fetch-paused-flag"
                        id="ref-for-background-fetch-paused-flag③">一時停止フラグ</a>を設定することができます。ユーザーエージェントはユーザーがバックグラウンドフェッチを受け入れる（<var>bgFetch</var>の<a
                        data-link-type="dfn" href="#background-fetch-paused-flag"
                        id="ref-for-background-fetch-paused-flag④">一時停止フラグ</a>を解除する）か、拒否する（<var>bgFetch</var>の<a
                        data-link-type="dfn" href="#background-fetch-abort-all-flag"
                        id="ref-for-background-fetch-abort-all-flag①">すべて中止フラグ</a>を設定する）ことを許可すべきです。ユーザーエージェントは常に許可または常に拒否するオプションを提供することもできます。これをこの許可に対する<a
                        data-link-type="dfn"
                        href="https://w3c.github.io/permissions/#new-information-about-the-users-intent"
                        id="ref-for-new-information-about-the-users-intent">ユーザーの意図に関する新情報</a>として使用することができます。</p>
                <p>ユーザーが従量制接続を使用している場合や、バックグラウンドでバックグラウンドフェッチが開始された場合、ユーザーエージェントは<var>bgFetch</var>の<a
                        data-link-type="dfn" href="#background-fetch-paused-flag"
                        id="ref-for-background-fetch-paused-flag⑤">一時停止フラグ</a>を設定することも検討できます。</p>
            </div>
        </div>
        <h3 class="heading settled" data-level="3.3" id="background-fetch-record-concept"><span class="secno">3.3.
            </span><span class="content">バックグラウンドフェッチレコード</span><a class="self-link"
                href="#background-fetch-record-concept"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="background-fetch-record">バックグラウンドフェッチレコード</dfn>は以下で構成されます:</p>
        <div>
            <ul>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch record" data-dfn-type="dfn" data-noexport
                            id="background-fetch-record-request">リクエスト</dfn> (<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request"
                            id="ref-for-concept-request①">リクエスト</a>)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch record" data-dfn-type="dfn" data-noexport
                            id="background-fetch-record-response-data">応答データ</dfn> (<a data-link-type="dfn"
                            href="#background-fetch-response"
                            id="ref-for-background-fetch-response">バックグラウンドフェッチ応答</a>)、初期値は新しい<a data-link-type="dfn"
                            href="#background-fetch-response"
                            id="ref-for-background-fetch-response①">バックグラウンドフェッチ応答</a>。</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.4" id="background-fetch-response-concept"><span class="secno">3.4.
            </span><span class="content">バックグラウンドフェッチ応答</span><a class="self-link"
                href="#background-fetch-response-concept"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="background-fetch-response">バックグラウンドフェッチ応答</dfn>は以下で構成されます:</p>
        <div>
            <ul>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn"
                            data-noexport id="background-fetch-response-response">応答</dfn> (<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response"
                            id="ref-for-concept-response">応答</a>またはnull)、初期値はnull。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn"
                            data-noexport id="background-fetch-response-bytes">バイト</dfn> (<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence"
                            id="ref-for-byte-sequence">バイト列</a>)、初期値は空の<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">バイト列</a>。
                    </p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn"
                            data-noexport id="background-fetch-response-result">結果</dfn> (<code
                            class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason①">BackgroundFetchFailureReason</a></code>、
                        <code>"success"</code>、または<code>"redundant"</code>)、初期値は空文字列。
                    </p>
            </ul>
            <p><a data-link-type="dfn" href="#background-fetch-response-response"
                    id="ref-for-background-fetch-response-response">応答</a>は<dfn class="dfn-paneled"
                    data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport
                    id="background-fetch-response-exposed">公開</dfn>される場合があります。その場合<a data-link-type="dfn"
                    href="#background-fetch-response-result"
                    id="ref-for-background-fetch-response-result">結果</a>が空文字列、<code>"success"</code>、または<code>"bad-status"</code>である必要があります。
            </p>
        </div>
        <h2 class="heading settled" data-level="4" id="algorithms"><span class="secno">4. </span><span
                class="content">アルゴリズム</span><a class="self-link" href="#algorithms"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="perform-a-background-fetch-algorithm"><span class="secno">4.1.
            </span><span class="content"><a data-link-type="dfn" href="#perform-a-background-fetch"
                    id="ref-for-perform-a-background-fetch">バックグラウンドフェッチを実行する</a></span><a class="self-link"
                href="#perform-a-background-fetch-algorithm"></a></h3>
        <p class="note" role="note"><span>注記:</span> これはバックグラウンドフェッチの「バックグラウンド」部分を管理するアルゴリズムです。<a data-link-type="dfn"
                href="#background-fetch" id="ref-for-background-fetch④">バックグラウンドフェッチ</a>ごとにこのアルゴリズムのインスタンスは1つしか実行されません。
        </p>
        <div class="algorithm" data-algorithm="perform a background fetch">
            <a data-link-type="dfn" href="#perform-a-background-fetch"
                id="perform-a-background-fetch">バックグラウンドフェッチ</a>を<var>bgFetch</var> (a <a data-link-type="dfn"
                href="#background-fetch" id="ref-for-background-fetch⑤">バックグラウンドフェッチ</a>) のために実行するには、以下の手順を実行します:
            <ol>
                <li data-md>
                    <p><var>swRegistration</var>を<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-service-worker-registration"
                            id="ref-for-background-fetch-service-worker-registration①">サービスワーカー登録</a>とします。
                    </p>
                <li data-md>
                    <p><var>settledFetches</var>を0に設定します。</p>
                <li data-md>
                    <p><var>immediateFailure</var>をfalseに設定します。</p>
                <li data-md>
                    <p><var>failureReason</var>を空文字列に設定します。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate①">各</a> <var>record</var>について、<var>bgFetch</var>の<a
                            data-link-type="dfn" href="#background-fetch-records"
                            id="ref-for-background-fetch-records②">レコード</a>に対して、以下の手順を<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel">並列で</a>実行します:</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#complete-a-record"
                                    id="ref-for-complete-a-record">レコードを完了する</a>を<var>bgFetch</var>と<var>record</var>で実行します。
                            </p>
                        <li data-md>
                            <p><var>result</var>を<var>record</var>の<a data-link-type="dfn"
                                    href="#background-fetch-record-response-data"
                                    id="ref-for-background-fetch-record-response-data①">応答データ</a>の<a
                                    data-link-type="dfn" href="#background-fetch-response-result"
                                    id="ref-for-background-fetch-response-result①">結果</a>とします。</p>
                        <li data-md>
                            <p>もし<var>failureReason</var>が空文字列でない場合:</p>
                            <ol>
                                <li data-md>
                                    <p class="assertion">アサーション: <var>result</var>が<code>"redundant"</code>ではありません。</p>
                                <li data-md>
                                    <p><var>failureReason</var>を<var>result</var>に設定します。</p>
                            </ol>
                        <li data-md>
                            <p><var>settledFetches</var>を1増やします。</p>
                        <li data-md>
                            <p>もし<var>result</var>が<code>"download-total-exceeded"</code>である場合、<var>immediateFailure</var>をtrueに設定します。
                            </p>
                    </ol>
                <li data-md>
                    <p><var>settledFetches</var>が<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-records" id="ref-for-background-fetch-records③">レコード</a>の<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size"
                            id="ref-for-list-size">サイズ</a>に等しいか、または<var>immediateFailure</var>がtrueになるまで待ちます。</p>
                <li data-md>
                    <p>もし<var>immediateFailure</var>がtrueである場合、<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-abort-all-flag"
                            id="ref-for-background-fetch-abort-all-flag②">すべて中止フラグ</a>を設定します。</p>
                    <p class="note" role="note"><span>注記:</span> <a data-link-type="dfn" href="#complete-a-record"
                            id="ref-for-complete-a-record①">レコードを完了する</a>アルゴリズムはこのフラグを監視し、設定されるとフェッチを終了します。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-steps">以下の手順をキューに追加する</a>を<var>swRegistration</var>の<a
                            data-link-type="dfn"
                            href="#service-worker-registration-active-background-fetches-edit-queue"
                            id="ref-for-service-worker-registration-active-background-fetches-edit-queue">アクティブなバックグラウンドフェッチ編集キュー</a>に対して実行します:
                    </p>
                    <ol>
                        <li data-md>
                            <p><var>activeBgFetches</var>を<var>swRegistration</var>の<a data-link-type="dfn"
                                    href="#service-worker-registration-active-background-fetches"
                                    id="ref-for-service-worker-registration-active-background-fetches">アクティブなバックグラウンドフェッチ</a>とします。
                            </p>
                        <li data-md>
                            <p><var>id</var>を<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-id"
                                    id="ref-for-background-fetch-id">ID</a>とします。</p>
                        <li data-md>
                            <p>もし<var>activeBgFetches</var>が<a data-link-type="dfn" href="#contains-background-fetch"
                                    id="ref-for-contains-background-fetch">バックグラウンドフェッチを含む</a>なら、<var>activeBgFetches</var>[<var>id</var>]を削除します。
                            </p>
                        <li data-md>
                            <p>それ以外の場合、<var>failureReason</var>を<code>"aborted"</code>に設定します。</p>
                            <p class="note" role="note"><span>注記:</span> これは、<code
                                    class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort">abort()</a></code>が正常に呼び出されたが、同時にフェッチの1つが失敗した場合の競合状態を処理します。<code
                                    class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort①">abort()</a></code>からtrueが返された場合、これにより関連する中止イベントが発生します。
                            </p>
                        <li data-md>
                            <p>もし<var>failureReason</var>が空文字列でない場合:</p>
                            <ol>
                                <li data-md>
                                    <p><var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-result"
                                            id="ref-for-background-fetch-result③">結果</a>を<code>"failure"</code>に設定します。
                                    </p>
                                <li data-md>
                                    <p><var>bgFetch</var>の<a data-link-type="dfn"
                                            href="#background-fetch-failure-reason"
                                            id="ref-for-background-fetch-failure-reason">失敗理由</a>を<var>failureReason</var>に設定します。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>それ以外の場合、<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-result"
                                    id="ref-for-background-fetch-result④">結果</a>を
                                <code>"success"</code>に設定します。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#update-background-fetch-instances"
                                    id="ref-for-update-background-fetch-instances">バックグラウンドフェッチインスタンスを更新する</a>
                                を<var>bgFetch</var>に対して実行します。</p>
                        <li data-md>
                            <p><var>eventName</var>を空文字列に設定します。</p>
                        <li data-md>
                            <p><var>eventConstructor</var>をnullに設定します。</p>
                        <li data-md>
                            <p>もし<var>failureReason</var>が<code>"aborted"</code>である場合:</p>
                            <ol>
                                <li data-md>
                                    <p><var>eventName</var>を"<code>backgroundfetchabort</code>"に設定します。</p>
                                <li data-md>
                                    <p><var>eventConstructor</var>を<code
                                            class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent">BackgroundFetchEvent</a></code>に設定します。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>それ以外の場合、もし<var>failureReason</var>が空文字列でない場合:</p>
                            <ol>
                                <li data-md>
                                    <p><var>eventName</var>を"<code>backgroundfetchfail</code>"に設定します。</p>
                                <li data-md>
                                    <p><var>eventConstructor</var>を<code
                                            class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent</a></code>に設定します。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>それ以外の場合:</p>
                            <ol>
                                <li data-md>
                                    <p><var>eventName</var>を"<code>backgroundfetchsuccess</code>"に設定します。</p>
                                <li data-md>
                                    <p><var>eventConstructor</var>を<code
                                            class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent①">BackgroundFetchUpdateUIEvent</a></code>に設定します。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event"
                                    id="ref-for-fire-functional-event">機能イベントを発火する</a>を<var>eventName</var>を名前として<var>eventConstructor</var>を使用し、<var>swRegistration</var>で以下のプロパティを持つイベントを実行します:
                            </p>
                            <dl>
                                <dt data-md><code
                                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration">登録</a></code>
                                <dd data-md>
                                    <p>イベントオブジェクトの<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                            id="ref-for-concept-relevant-realm①">関連するレルム</a>において<var>bgFetch</var>の<a
                                            data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance"
                                            id="ref-for-get-a-backgroundfetchregistration-instance">BackgroundFetchRegistrationインスタンスを取得する</a>結果。
                                    </p>
                            </dl>
                            <p>その後<var>dispatchedEvent</var>を<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                    id="ref-for-in-parallel①">並列で</a>以下の手順を実行します:</p>
                            <ol>
                                <li data-md>
                                    <p><var>dispatchedEvent</var>が<a data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#extendableevent-active"
                                            id="ref-for-extendableevent-active">アクティブ</a>でなくなるまで待ちます。</p>
                                    <p class="issue" id="issue-b420dc4f"><a class="self-link"
                                            href="#issue-b420dc4f"></a> <a
                                            href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>。
                                    </p>
                                <li data-md>
                                    <p><var>bgFetch</var>の<a data-link-type="dfn"
                                            href="#background-fetch-records-available-flag"
                                            id="ref-for-background-fetch-records-available-flag">レコード利用可能フラグ</a>を未設定にします。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#update-background-fetch-instances"
                                            id="ref-for-update-background-fetch-instances①">バックグラウンドフェッチインスタンスを更新する</a>を<var>bgFetch</var>に対して実行します。
                                    </p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.2" id="complete-a-record-algorithm"><span class="secno">4.2.
            </span><span class="content"><a data-link-type="dfn" href="#complete-a-record"
                    id="ref-for-complete-a-record②">レコードを完了する</a></span><a class="self-link"
                href="#complete-a-record-algorithm"></a></h3>
        <p class="note" role="note"><span>注:</span> このアルゴリズムは、<a data-link-type="dfn" href="#background-fetch-record"
                id="ref-for-background-fetch-record①">バックグラウンドフェッチレコード</a>のフェッチを管理します。
            このアルゴリズムのインスタンスは、<a data-link-type="dfn" href="#background-fetch-record"
                id="ref-for-background-fetch-record②">バックグラウンドフェッチレコード</a>ごとに1つ開始されますが、
            フェッチを再試行したり、部分的なレスポンスの次の部分をフェッチするために再帰的に呼び出されます。</p>
        <div class="algorithm" data-algorithm="complete a record">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="complete-a-record">レコードを完了する</dfn>
            を<var>bgFetch</var>（<a data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch⑥">バックグラウンドフェッチ</a>）および<var>record</var>（<a data-link-type="dfn"
                href="#background-fetch-record" id="ref-for-background-fetch-record③">バックグラウンドフェッチレコード</a>）に対して実行するには、
            以下の手順を実行します：
            <ol>
                <li data-md>
                    <p><var>responseData</var>を<var>record</var>の<a data-link-type="dfn"
                            href="#background-fetch-record-response-data"
                            id="ref-for-background-fetch-record-response-data②">レスポンスデータ</a>とします。</p>
                <li data-md>
                    <p><var>downloadTotal</var>を<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-download-total"
                            id="ref-for-background-fetch-download-total①">ダウンロード合計</a>とします。ただし0でない場合はその値を、それ以外の場合は無限大とします。
                    </p>
                <li data-md>
                    <p><var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-paused-flag"
                            id="ref-for-background-fetch-paused-flag⑥">一時停止フラグ</a>が解除されるのを待ちます。</p>
                <li data-md>
                    <p><var>request</var>を<var>record</var>の<a data-link-type="dfn"
                            href="#background-fetch-record-request"
                            id="ref-for-background-fetch-record-request①">リクエスト</a>のコピーとします。</p>
                    <p class="note" role="note"><span>注:</span> この時点でリクエストは完全にストレージに保持されています。ストリームとして開始された場合でも同様です。</p>
                <li data-md>
                    <p><var>request</var>の<a data-link-type="dfn">keepalive フラグ</a>を設定します。</p>
                <li data-md>
                    <p><var>request</var>の<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#request-service-workers-mode"
                            id="ref-for-request-service-workers-mode①">サービスワーカーモード</a>を"<code>none</code>"に設定します。</p>
                <li data-md>
                    <p><var>rangeStart</var>を<var>responseData</var>の<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length①">長さ</a>とします。</p>
                <li data-md>
                    <p>もし<var>rangeStart</var>が0でない場合は、<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-add-range-header"
                            id="ref-for-concept-request-add-range-header">Range
                            ヘッダーを追加</a>して<var>request</var>に<var>rangeStart</var>を設定します。</p>
                    <p class="note" role="note"><span>注:</span>
                        <var>rangeStart</var>が0の場合、通常のリクエストが行われます。これにより、初期リクエストでコンテンツエンコーディングを利用できます。<code>Accept-Encoding: identity</code>がRangeヘッダーを持つリクエストに追加されるためです。
                    </p>
                <li data-md>
                    <p><var>fetchAttemptComplete</var>を false とします。</p>
                <li data-md>
                    <p><var>lastTransmittedSize</var>を 0 とします。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
                            id="ref-for-concept-fetch①">Fetch</a> <var>request</var>を実行します。</p>
                    <p class="issue" id="issue-775cdb79"><a class="self-link" href="#issue-775cdb79"></a>
                        このステップの残りの部分では、Fetch "callbacks"
                        を使用していますが、現在タスクをキューに入れています。これは望ましくも可能でもないため、タスクがキューに入っていないと仮定します。(<a
                            href="https://github.com/whatwg/fetch/issues/536#issuecomment-330184276">issue</a>)</p>
                    <p><var>request</var>の<a data-link-type="dfn">リクエストボディを処理する</a>には、以下の手順を実行します：</p>
                    <ol>
                        <li data-md>
                            <p><var>transmittedSize</var>を<var>request</var>の<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-request-body"
                                    id="ref-for-concept-request-body">body</a>の<a data-link-type="dfn">送信済みバイト数</a>とします。
                            </p>
                        <li data-md>
                            <p><var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-uploaded"
                                    id="ref-for-background-fetch-uploaded①">アップロード済み</a>を<var>transmittedSize</var>から
                                <var>lastTransmittedSize</var>を引いた値で増加させます。
                            </p>
                        <li data-md>
                            <p><var>lastTransmittedSize</var>を<var>transmittedSize</var>に設定します。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#update-background-fetch-instances"
                                    id="ref-for-update-background-fetch-instances②">バックグラウンドフェッチインスタンスを更新</a>
                                します。</p>
                    </ol>
                    <p><a data-link-type="dfn">レスポンスを処理する</a>には、<var>response</var>に対して以下の手順を実行します：</p>
                    <ol>
                        <li data-md>
                            <p><var>response</var>が<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-network-error"
                                    id="ref-for-concept-network-error">ネットワークエラー</a>の場合：</p>
                            <ol>
                                <li data-md>
                                    <p>リソースが<a data-link-type="dfn" href="#temporarily-unavailable"
                                            id="ref-for-temporarily-unavailable">一時的に利用できない</a>状態であり、
                                        <var>request</var>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-request-method"
                                            id="ref-for-concept-request-method②">method</a>が
                                        `<code>GET</code>`の場合、リソースが<a data-link-type="dfn"
                                            href="#temporarily-unavailable"
                                            id="ref-for-temporarily-unavailable①">一時的に利用できない</a>状態でなくなるまで
                                        待機し、<var>fetchAttemptComplete</var>をtrueに設定してこれらの手順を中止します。
                                    </p>
                                    <p class="note" role="note"><span>注:</span> <var>request</var>の<a
                                            data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-request-method"
                                            id="ref-for-concept-request-method③">method</a>が
                                        `<code>GET</code>`でない場合、リクエストを再発行することで意図しない副作用が
                                        発生する可能性があります。リクエストを再開する標準的な方法が利用可能になった場合、
                                        それがここで採用されます。</p>
                                <li data-md>
                                    <p><var>response</var>が<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-aborted-network-error"
                                            id="ref-for-concept-aborted-network-error">中止されたネットワークエラー</a>
                                        の場合、<var>responseData</var>の<a data-link-type="dfn"
                                            href="#background-fetch-response-result"
                                            id="ref-for-background-fetch-response-result②">result</a>を
                                        <code>"aborted"</code>に設定し、それ以外の場合は
                                        <code>"fetch-error"</code>に設定します。
                                    </p>
                                <li data-md>
                                    <p><var>fetchAttemptComplete</var>をtrueに設定して、これらの手順を中止します。</p>
                            </ol>
                        <li data-md>
                            <p><var>response</var>の<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-response-status"
                                    id="ref-for-concept-response-status">status</a>が<code>206</code>の場合：</p>
                            <ol>
                                <li data-md>
                                    <p>もし<a data-link-type="dfn" href="#validate-a-partial-response"
                                            id="ref-for-validate-a-partial-response">部分レスポンスを検証する</a>が<var>rangeStart</var>、<var>response</var>、および<var>responseData</var>の<a
                                            data-link-type="dfn" href="#background-fetch-response-response"
                                            id="ref-for-background-fetch-response-response①">レスポンス</a>に対して無効を返す場合、次を実行します:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><var>responseData</var>の<a data-link-type="dfn"
                                                    href="#background-fetch-response-result"
                                                    id="ref-for-background-fetch-response-result③">result</a>を
                                                <code>"fetch-error"</code>に設定します。
                                            </p>
                                        <li data-md>
                                            <p><var>fetchAttemptComplete</var>をtrueに設定します。</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://fetch.spec.whatwg.org/#concept-fetch-terminate"
                                                    id="ref-for-concept-fetch-terminate">進行中のフェッチを終了</a>し、
                                                これらの手順を中止します。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>それ以外の場合：</p>
                            <ol>
                                <li data-md>
                                    <p><var>responseData</var>の<a data-link-type="dfn"
                                            href="#background-fetch-response-result"
                                            id="ref-for-background-fetch-response-result④">result</a>を
                                        <code>"redundant"</code>に設定します。
                                    </p>
                                <li data-md>
                                    <p><var>responseData</var>を新しい<a data-link-type="dfn"
                                            href="#background-fetch-response"
                                            id="ref-for-background-fetch-response②">バックグラウンドフェッチレスポンス</a>
                                        に設定します。</p>
                                <li data-md>
                                    <p><var>record</var>の<a data-link-type="dfn"
                                            href="#background-fetch-record-response-data"
                                            id="ref-for-background-fetch-record-response-data③">レスポンスデータ</a>
                                        を<var>responseData</var>に設定します。
                                    </p>
                                    <p class="note" role="note"><span>注:</span> <a data-link-type="dfn"
                                            href="#create-record-objects"
                                            id="ref-for-create-record-objects">レコードオブジェクトの作成</a>アルゴリズムは、
                                        前の<a data-link-type="dfn" href="#background-fetch-response"
                                            id="ref-for-background-fetch-response③">バックグラウンドフェッチレスポンス</a>
                                        への参照を保持する場合があります。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#update-background-fetch-instances"
                                            id="ref-for-update-background-fetch-instances③">バックグラウンドフェッチインスタンスを更新</a>
                                        します。</p>
                            </ol>
                        <li data-md>
                            <p><var>rangeStart</var>が0であるか、<var>response</var>の<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-response-status"
                                    id="ref-for-concept-response-status①">status</a>が<code>206</code>でない場合、
                                <var>responseData</var>の<a data-link-type="dfn"
                                    href="#background-fetch-response-response"
                                    id="ref-for-background-fetch-response-response②">response</a>を<var>response</var>
                                のコピーに設定します。ただし<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-response-body"
                                    id="ref-for-concept-response-body">body</a>を除きます。
                            </p>
                        <li data-md>
                            <p><var>stream</var>を<var>response</var>の<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-response-body"
                                    id="ref-for-concept-response-body①">body</a>の<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-body-stream"
                                    id="ref-for-concept-body-stream">stream</a>とします。</p>
                        <li data-md>
                            <p><var>stream</var>から1バイト以上が送信された場合は、<var>bytes</var>を送信されたバイト数
                                として以下の手順を実行します：</p>
                            <ol>
                                <li data-md>
                                    <p><var>bgFetch</var>の<a data-link-type="dfn"
                                            href="#background-fetch-stored-body-bytes-total"
                                            id="ref-for-background-fetch-stored-body-bytes-total①">保存されたボディ
                                            バイト合計</a>に<var>bytes</var>のサイズを加算した値が
                                        <var>downloadTotal</var>を超える場合：
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://streams.spec.whatwg.org/#readablestream-cancel"
                                                    id="ref-for-readablestream-cancel"><var>stream</var>をキャンセル</a>
                                                します。</p>
                                        <li data-md>
                                            <p><var>responseData</var>の<a data-link-type="dfn"
                                                    href="#background-fetch-response-result"
                                                    id="ref-for-background-fetch-response-result⑤">result</a>を
                                                <code>"download-total-exceeded"</code>
                                                に設定し、<var>fetchAttemptComplete</var>をtrueに設定してこれらの手順を中止します。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><var>bytes</var>を<var>responseData</var>の<a data-link-type="dfn"
                                            href="#background-fetch-response-bytes"
                                            id="ref-for-background-fetch-response-bytes②">bytes</a>に追加します。</p>
                                <li data-md>
                                    <p>前の手順がクォータ制限を超えたために失敗した場合、<var>responseData</var>の<a data-link-type="dfn"
                                            href="#background-fetch-response-result"
                                            id="ref-for-background-fetch-response-result⑥">result</a>を
                                        <code>"quota-exceeded"</code>
                                        に設定し、<var>fetchAttemptComplete</var>をtrueに設定してこれらの手順を中止します。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#update-background-fetch-instances"
                                            id="ref-for-update-background-fetch-instances④">バックグラウンドフェッチインスタンスを更新</a>
                                        します。</p>
                            </ol>
                        <li data-md>
                            <p>任意の時点で<var>stream</var>のバイト送信が正常に完了した場合：</p>
                            <ol>
                                <li data-md>
                                    <p><var>response</var>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-response-status"
                                            id="ref-for-concept-response-status②">status</a>が<code>206</code>である場合：</p>
                                    <ol>
                                        <li data-md>
                                            <p><var>firstBytePos</var>、<var>lastBytePos</var>、および
                                                <var>completeLength</var>を<var>response</var>から<a data-link-type="dfn"
                                                    href="#extract-content-range-values"
                                                    id="ref-for-extract-content-range-values">content-range値を抽出</a>
                                                した結果とします。
                                            </p>
                                        <li data-md>
                                            <p><var>completeLength</var>がnullでなく、かつ<var>responseData</var>の<a
                                                    data-link-type="dfn" href="#background-fetch-response-bytes"
                                                    id="ref-for-background-fetch-response-bytes③">bytes</a>の
                                                <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length②">長さ</a>に等しい場合、
                                                <var>responseData</var>の<a data-link-type="dfn"
                                                    href="#background-fetch-response-result"
                                                    id="ref-for-background-fetch-response-result⑦">result</a>を
                                                <code>"success"</code>
                                                に設定します。
                                            </p>
                                            <p class="note" role="note"><span>注:</span> リソース全体または残りを要求しても、
                                                サーバーが残りを返さない場合があります。この場合、追加のリクエストを行う必要があります。</p>
                                    </ol>
                                <li data-md>
                                    <p>それ以外の場合、<var>response</var>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-response-status"
                                            id="ref-for-concept-response-status③">status</a>が<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#ok-status"
                                            id="ref-for-ok-status">okステータス</a>でない場合、
                                        <var>responseData</var>の<a data-link-type="dfn"
                                            href="#background-fetch-response-result"
                                            id="ref-for-background-fetch-response-result⑧">result</a>を
                                        <code>"bad-status"</code>
                                        に設定します。
                                    </p>
                                <li data-md>
                                    <p>それ以外の場合、<var>responseData</var>の<a data-link-type="dfn"
                                            href="#background-fetch-response-result"
                                            id="ref-for-background-fetch-response-result⑨">result</a>を
                                        <code>"success"</code>
                                        に設定します。
                                    </p>
                                <li data-md>
                                    <p><var>fetchAttemptComplete</var>をtrueに設定します。</p>
                            </ol>
                        <li data-md>
                            <p>任意の時点で<var>stream</var>が<a data-link-type="dfn"
                                    href="https://streams.spec.whatwg.org/#readablestream-errored"
                                    id="ref-for-readablestream-errored">エラー状態</a>になった場合：</p>
                            <ol>
                                <li data-md>
                                    <p>リソースが<a data-link-type="dfn" href="#temporarily-unavailable"
                                            id="ref-for-temporarily-unavailable②">一時的に利用できない</a>状態であり、
                                        <var>request</var>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-request-method"
                                            id="ref-for-concept-request-method④">method</a>が
                                        `<code>GET</code>`の場合、リソースが<a data-link-type="dfn"
                                            href="#temporarily-unavailable"
                                            id="ref-for-temporarily-unavailable③">一時的に利用できない</a>状態でなくなるまで
                                        待機し、<var>fetchAttemptComplete</var>をtrueに設定します。
                                    </p>
                                <li data-md>
                                    <p>それ以外の場合、<var>responseData</var>の<a data-link-type="dfn"
                                            href="#background-fetch-response-result"
                                            id="ref-for-background-fetch-response-result①⓪">result</a>を
                                        <code>"fetch-error"</code>
                                        に設定し、<var>fetchAttemptComplete</var>をtrueに設定します。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p><var>result</var>を空文字列とします。</p>
                <li data-md>
                    <p>以下の手順を実行しますが、<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when"
                            id="ref-for-abort-when">中止条件</a>として<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑦">paused
                            flag</a>または<a data-link-type="dfn" href="#background-fetch-abort-all-flag"
                            id="ref-for-background-fetch-abort-all-flag③">abort all flag</a>が設定された場合：</p>
                    <ol>
                        <li data-md>
                            <p><var>fetchAttemptComplete</var>がtrueになるのを待ちます。</p>
                        <li data-md>
                            <p><var>result</var>を<var>responseData</var>の<a data-link-type="dfn"
                                    href="#background-fetch-response-result"
                                    id="ref-for-background-fetch-response-result①①">result</a>に設定します。</p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted"
                            id="ref-for-if-aborted">中止された場合</a>：</p>
                    <ol>
                        <li data-md>
                            <p><var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-paused-flag"
                                    id="ref-for-background-fetch-paused-flag⑧">paused flag</a>が設定されている場合、
                                <var>request</var>の<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-request-method"
                                    id="ref-for-concept-request-method⑤">method</a>が`<code>GET</code>`であることを確認します。
                            </p>
                        <li data-md>
                            <p><var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-abort-all-flag"
                                    id="ref-for-background-fetch-abort-all-flag④">abort all flag</a>が設定されている場合、
                                <var>responseData</var>の<a data-link-type="dfn" href="#background-fetch-response-result"
                                    id="ref-for-background-fetch-response-result①②">result</a>を
                                <code>"aborted"</code>に設定します。
                            </p>
                        <li data-md>
                            <p><var>result</var>を<var>responseData</var>の<a data-link-type="dfn"
                                    href="#background-fetch-response-result"
                                    id="ref-for-background-fetch-response-result①③">result</a>に設定します。</p>
                            <p class="note" role="note"><span>注:</span> フェッチを終了することで結果が変更される可能性があるため、この時点で結果を保存します。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch-terminate"
                                    id="ref-for-concept-fetch-terminate①">進行中のフェッチを終了</a>します。</p>
                    </ol>
                <li data-md>
                    <p><var>result</var>が空文字列の場合、<a data-link-type="dfn" href="#complete-a-record"
                            id="ref-for-complete-a-record③">レコードを完了する</a>を<var>bgFetch</var>および
                        <var>record</var>に対して実行します。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.3" id="update-background-fetch-instance-algorithm"><span
                class="secno">4.3. </span><span class="content"><a data-link-type="dfn"
                    href="#update-background-fetch-instances"
                    id="ref-for-update-background-fetch-instances⑤">バックグラウンドフェッチインスタンスを更新する</a></span><a
                class="self-link" href="#update-background-fetch-instance-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="update background fetch instances">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="update-background-fetch-instances">バックグラウンドフェッチインスタンスを更新する</dfn>
            を<var>bgFetch</var>（<a data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch⑦">バックグラウンドフェッチ</a>）に対して実行するには、<var>bgFetch</var>の<a data-link-type="dfn"
                href="#background-fetch-update-handling-queue"
                id="ref-for-background-fetch-update-handling-queue">更新処理キュー</a>に<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                id="ref-for-enqueue-the-following-steps①">以下の手順をエンキュー</a>します：
            <ol>
                <li data-md>
                    <p><var>downloaded</var>を<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-stored-body-bytes-total"
                            id="ref-for-background-fetch-stored-body-bytes-total②">保存されたボディバイト合計</a>とします。</p>
                <li data-md>
                    <p><var>uploaded</var>を<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-uploaded"
                            id="ref-for-background-fetch-uploaded②">アップロード済み</a>とします。
                    </p>
                <li data-md>
                    <p><var>result</var>を<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-result"
                            id="ref-for-background-fetch-result⑤">結果</a>とします。</p>
                <li data-md>
                    <p><var>failureReason</var>を<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-failure-reason"
                            id="ref-for-background-fetch-failure-reason①">失敗理由</a>とします。</p>
                <li data-md>
                    <p><var>recordsAvailable</var>を、<var>bgFetch</var>の<a data-link-type="dfn"
                            href="#background-fetch-records-available-flag"
                            id="ref-for-background-fetch-records-available-flag①">レコード利用可能フラグ</a>が設定されている場合はtrue、そうでない場合はfalseとします。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                            id="ref-for-environment-settings-object①">環境設定オブジェクト</a>のうち、その<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin">オリジン</a>が<var>bgFetch</var>の<a
                            data-link-type="dfn" href="#background-fetch-service-worker-registration"
                            id="ref-for-background-fetch-service-worker-registration②">サービスワーカーレジストレーション</a>の
                        <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                            id="ref-for-dfn-scope-url①">スコープURL</a>の<a data-link-type="dfn"
                            href="https://url.spec.whatwg.org/#concept-url-origin"
                            id="ref-for-concept-url-origin①">オリジン</a>と等しいものをそれぞれ取り出し、<var>env</var>の<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                            id="ref-for-responsible-event-loop①">責任あるイベントループ</a>に<a data-link-type="dfn"
                            href="#queue-a-bgfetch-task"
                            id="ref-for-queue-a-bgfetch-task">バックグラウンドフェッチタスクをキューイング</a>して以下の手順を実行します：
                    </p>
                    <ol>
                        <li data-md>
                            <p><var>bgFetchRegistration</var>を、<a data-link-type="idl"
                                    href="#backgroundfetchregistration"
                                    id="ref-for-backgroundfetchregistration">BackgroundFetchRegistration</a>のうち、<a
                                    data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                                    id="ref-for-backgroundfetchregistration-background-fetch">バックグラウンドフェッチ</a>が
                                <var>bgFetch</var>と等しいものとします。該当するインスタンスが存在しない場合はnullとします。
                            </p>
                            <p class="note" role="note"><span>注:</span> <a data-link-type="dfn"
                                    href="#get-a-backgroundfetchregistration-instance"
                                    id="ref-for-get-a-backgroundfetchregistration-instance①">BackgroundFetchRegistrationインスタンスを取得する</a>アルゴリズムによって、環境ごとに最大1つ存在します。
                            </p>
                        <li data-md>
                            <p><var>bgFetchRegistration</var>がnullの場合、これらの手順を中止します。</p>
                        <li data-md>
                            <p>もし<var>recordsAvailable</var>がfalseであり、かつ<var>bgFetchRegistration</var>の<a
                                    data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag"
                                    id="ref-for-backgroundfetchregistration-records-available-flag">レコード利用可能フラグ</a>が設定されている場合、<var>bgFetchRegistration</var>の<a
                                    data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag"
                                    id="ref-for-backgroundfetchregistration-records-available-flag①">レコード利用可能フラグ</a>を解除します。
                            </p>
                        <li data-md>
                            <p>もし<var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                    href="#backgroundfetchregistration-result"
                                    id="ref-for-backgroundfetchregistration-result">結果</a>が空文字列でない場合、これらの手順を中止します。</p>
                            <p class="note" role="note"><span>注:</span>
                                これにより、バックグラウンドフェッチが確定した後に進行状況が報告されるのを防ぎます。これは、操作が中止されたが、一部のフェッチがまだ終了していない場合に可能です。</p>
                        <li data-md>
                            <p>以下のすべてが真である場合：</p>
                            <ul>
                                <li data-md>
                                    <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                            href="#backgroundfetchregistration-downloaded"
                                            id="ref-for-backgroundfetchregistration-downloaded">ダウンロード済み</a>が
                                        <var>downloaded</var>と等しい。
                                    </p>
                                <li data-md>
                                    <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                            href="#backgroundfetchregistration-uploaded"
                                            id="ref-for-backgroundfetchregistration-uploaded">アップロード済み</a>が
                                        <var>uploaded</var>と等しい。
                                    </p>
                                <li data-md>
                                    <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                            href="#backgroundfetchregistration-result"
                                            id="ref-for-backgroundfetchregistration-result①">結果</a>が
                                        <var>result</var>と等しい。
                                    </p>
                                <li data-md>
                                    <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                            href="#backgroundfetchregistration-failure-reason"
                                            id="ref-for-backgroundfetchregistration-failure-reason">失敗理由</a>が
                                        <var>failureReason</var>と等しい。
                                    </p>
                            </ul>
                            <p>これらの手順を中止します。</p>
                        <li data-md>
                            <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                    href="#backgroundfetchregistration-downloaded"
                                    id="ref-for-backgroundfetchregistration-downloaded①">ダウンロード済み</a>を
                                <var>downloaded</var>に設定します。
                            </p>
                        <li data-md>
                            <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                    href="#backgroundfetchregistration-uploaded"
                                    id="ref-for-backgroundfetchregistration-uploaded①">アップロード済み</a>を
                                <var>uploaded</var>に設定します。
                            </p>
                        <li data-md>
                            <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                    href="#backgroundfetchregistration-result"
                                    id="ref-for-backgroundfetchregistration-result②">結果</a>を
                                <var>result</var>に設定します。
                            </p>
                        <li data-md>
                            <p><var>bgFetchRegistration</var>の<a data-link-type="dfn"
                                    href="#backgroundfetchregistration-failure-reason"
                                    id="ref-for-backgroundfetchregistration-failure-reason①">失敗理由</a>を
                                <var>failureReason</var>に設定します。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                                    id="ref-for-concept-event-fire">イベント</a>を"<code>progress</code>"という名前で
                                <var>bgFetchRegistration</var>に発火します。
                            </p>
                    </ol>
                    <p class="issue" id="issue-20ad71fa"><a class="self-link" href="#issue-20ad71fa"></a>
                        マウス移動イベントのデバウンスに似た方法でデバウンスを実装する必要があります。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.4" id="fire-a-background-fetch-click-event-algorithm"><span
                class="secno">4.4. </span><span class="content"><a data-link-type="dfn"
                    href="#fire-a-background-fetch-click-event"
                    id="ref-for-fire-a-background-fetch-click-event①">バックグラウンドフェッチクリックイベントを発火する</a></span><a
                class="self-link" href="#fire-a-background-fetch-click-event-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="fire a background fetch click event">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="fire-a-background-fetch-click-event">バックグラウンドフェッチクリックイベントを発火する</dfn>
            を<var>bgFetch</var>（<a data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch⑧">バックグラウンドフェッチ</a>）に対して実行するには、<var>bgFetch</var>の<a data-link-type="dfn"
                href="#background-fetch-service-worker-registration"
                id="ref-for-background-fetch-service-worker-registration③">サービスワーカーレジストレーション</a>で、以下のプロパティを使用して<code
                class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent①">BackgroundFetchEvent</a></code>という名前の
            "<code>backgroundfetchclick</code>"の<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#fire-functional-event"
                id="ref-for-fire-functional-event①">機能イベントを発火する</a>：
            <dl>
                <dt data-md><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration①">registration</a></code>
                <dd data-md>
                    <p>イベントオブジェクトの<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm③">関連するRealm</a>で、<var>bgFetch</var>の<a
                            data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance"
                            id="ref-for-get-a-backgroundfetchregistration-instance②">BackgroundFetchRegistrationインスタンスを取得する</a>結果。
                    </p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="4.5" id="get-a-backgroundfetchregistration-instance-algorithm"><span
                class="secno">4.5. </span><span class="content"><a data-link-type="dfn"
                    href="#get-a-backgroundfetchregistration-instance"
                    id="ref-for-get-a-backgroundfetchregistration-instance③">BackgroundFetchRegistrationインスタンスを取得する</a></span><a
                class="self-link" href="#get-a-backgroundfetchregistration-instance-algorithm"></a></h3>
        <p class="note" role="note"><span>注:</span> このアルゴリズムは、<a data-link-type="idl"
                href="#backgroundfetchregistration"
                id="ref-for-backgroundfetchregistration①">BackgroundFetchRegistration</a>インスタンスが、<code
                class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager">BackgroundFetchManager</a></code>のライフサイクル全体で特定の<a
                data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch⑨">バックグラウンドフェッチ</a>に対して同じインスタンスを返すことを保証します。ブラウザが最適化を行うことは問題ありませんが、特定の<a
                data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch①⓪">バックグラウンドフェッチ</a>に対して複数のインスタンスが作成されたと判別されない限り（例：等価性、拡張プロパティ、または弱い関連データを通じて）。
        </p>
        <div class="algorithm" data-algorithm="get a BackgroundFetchRegistration instance">
            <dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="get a BackgroundFetchRegistration instance|getting a BackgroundFetchRegistration instance"
                data-noexport
                id="get-a-backgroundfetchregistration-instance">BackgroundFetchRegistrationインスタンスを取得する</dfn>
            を<var>bgFetch</var>（<a data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch①①">バックグラウンドフェッチ</a>）および<var>realm</var>（<a data-link-type="dfn"
                href="https://tc39.github.io/ecma262/#realm" id="ref-for-realm">Realm</a>）に対して実行するには、以下の手順を実行します：
            <ol>
                <li data-md>
                    <p><var>instancesMap</var>を、この<var>realm</var>内に存在する唯一の<code
                            class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager①">BackgroundFetchManager</a></code>の<a
                            data-link-type="dfn" href="#backgroundfetchmanager-backgroundfetchregistration-instances"
                            id="ref-for-backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistrationインスタンス</a>とします。
                    </p>
                <li data-md>
                    <p>もし<var>instancesMap</var>[<var>bgFetch</var>]が<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">存在する</a>場合、
                        <var>instancesMap</var>[<var>bgFetch</var>]を返します。
                    </p>
                <li data-md>
                    <p><var>instance</var>を、この<var>realm</var>内の新しい<code
                            class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration②">BackgroundFetchRegistration</a></code>とし、
                        その<a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch①">バックグラウンドフェッチ</a>を
                        <var>bgFetch</var>に設定します。
                    </p>
                <li data-md>
                    <p><var>instancesMap</var>[<var>bgFetch</var>]を<var>instance</var>に設定します。</p>
                <li data-md>
                    <p><var>instance</var>を返します。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.6" id="validate-partial-response-algorithm"><span class="secno">4.6.
            </span><span class="content"><a data-link-type="dfn" href="#validate-a-partial-response"
                    id="ref-for-validate-a-partial-response①">部分的なレスポンスを検証する</a></span><a class="self-link"
                href="#validate-partial-response-algorithm"></a></h3>
        <p class="note" role="note"><span>注:</span>
            このアルゴリズムは、部分的なレスポンスがリクエストされた内容と合理的に一致するかどうかを確認し、オプションで以前のレスポンスと組み合わせるべきかを確認します。</p>
        <div class="algorithm" data-algorithm="validate a partial response">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="validate-a-partial-response">部分的なレスポンスを検証する</dfn>
            を<var>expectedRangeStart</var>（数値）、<var>partialResponse</var>（<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response①">レスポンス</a>）、およびオプションの<var>previousResponse</var>（<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response②">レスポンス</a>またはnull、指定がない場合はnull）に対して実行するには、以下の手順を実行します：
            <ol>
                <li data-md>
                    <p class="assertion">断言: <var>partialResponse</var>の<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-status"
                            id="ref-for-concept-response-status④">ステータス</a>が<code>206</code>である。</p>
                <li data-md>
                    <p><var>responseFirstBytePos</var>、<var>responseLastBytePos</var>、および
                        <var>responseCompleteLength</var>を、<var>partialResponse</var>から<a data-link-type="dfn"
                            href="#extract-content-range-values"
                            id="ref-for-extract-content-range-values①">content-range値を抽出する</a>結果とします。これが失敗した場合、invalidを返します。
                    </p>
                <li data-md>
                    <p>もし<var>responseFirstBytePos</var>が<var>expectedRangeStart</var>と等しくない場合、invalidを返します。</p>
                <li data-md>
                    <p>もし<var>previousResponse</var>がnullでない場合：</p>
                    <ol>
                        <li data-md>
                            <p>《`<code>ETag</code>`、`<code>Last-Modified</code>`》の<var>headerName</var>それぞれに対して：</p>
                            <ol>
                                <li data-md>
                                    <p>もし<var>previousResponse</var>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                                            id="ref-for-concept-response-header-list">ヘッダーリスト</a>が<var>headerName</var>を<a
                                            data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#header-list-contains"
                                            id="ref-for-header-list-contains">含み</a>、かつ
                                        <var>previousResponse</var>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                                            id="ref-for-concept-response-header-list①">ヘッダーリスト</a>内の<var>headerName</var>の<a
                                            data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-header-list-combine"
                                            id="ref-for-concept-header-list-combine">結合値</a>が
                                        <var>partialResponse</var>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                                            id="ref-for-concept-response-header-list②">ヘッダーリスト</a>内の<var>headerName</var>の<a
                                            data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-header-list-combine"
                                            id="ref-for-concept-header-list-combine①">結合値</a>と等しくない場合、
                                        invalidを返します。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>もし<var>previousResponse</var>の<a data-link-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#concept-response-status"
                                    id="ref-for-concept-response-status⑤">ステータス</a>が<code>206</code>の場合：</p>
                            <ol>
                                <li data-md>
                                    <p><var>previousResponseFirstBytePos</var>、
                                        <var>previousResponseLastBytePos</var>、および
                                        <var>previousResponseCompleteLength</var>を、<var>previousResponse</var>から<a
                                            data-link-type="dfn" href="#extract-content-range-values"
                                            id="ref-for-extract-content-range-values②">content-range値を抽出</a>した結果とします。これが失敗した場合、invalidを返します。
                                    </p>
                                <li data-md>
                                    <p>もし<var>previousResponseCompleteLength</var>がnullでない場合、かつ
                                        <var>responseCompleteLength</var>が
                                        <var>previousResponseCompleteLength</var>と等しくない場合、invalidを返します。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>validを返します。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.7" id="extract-content-range-values-algorithm"><span
                class="secno">4.7. </span><span class="content"><a data-link-type="dfn"
                    href="#extract-content-range-values"
                    id="ref-for-extract-content-range-values③">Content-Rangeの値を抽出する</a></span><a class="self-link"
                href="#extract-content-range-values-algorithm"></a></h3>
        <p class="note" role="note"><span>注:</span> このアルゴリズムは、<code>Content-Range</code>を<a data-link-type="dfn"
                href="#single-byte-content-range"
                id="ref-for-single-byte-content-range">単一バイトのContent-Range</a>として解析し、値を抽出します。</p>
        <div class="algorithm" data-algorithm="extract content-range values">
            <dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="extract content-range values|extracting content-range values" data-noexport
                id="extract-content-range-values">Content-Rangeの値を抽出する</dfn>
            を<var>response</var>（<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response③">レスポンス</a>）に対して実行するには、以下の手順を実行します：
            <ol>
                <li data-md>
                    <p>もし<var>response</var>の<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                            id="ref-for-concept-response-header-list③">ヘッダーリスト</a>が<code>Content-Range</code>を<a
                            data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-list-contains"
                            id="ref-for-header-list-contains①">含まない</a>場合、失敗を返します。</p>
                <li data-md>
                    <p><var>contentRangeValue</var>を、<var>response</var>の<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                            id="ref-for-concept-response-header-list④">ヘッダーリスト</a>内で
                        <code>Content-Range</code>と<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-case-insensitive"
                            id="ref-for-byte-case-insensitive">バイトケース非依存</a>で一致する<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-header"
                            id="ref-for-concept-header">ヘッダー</a>の最初の<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-header-value"
                            id="ref-for-concept-header-value">値</a>とします。
                    </p>
                <li data-md>
                    <p><var>contentRangeValue</var>を<a data-link-type="dfn" href="#single-byte-content-range"
                            id="ref-for-single-byte-content-range①">単一バイトのContent-Range</a>に従って解析して失敗した場合、失敗を返します。</p>
                <li data-md>
                    <p><var>firstBytePos</var>を、<var>contentRangeValue</var>を<a data-link-type="dfn"
                            href="#single-byte-content-range"
                            id="ref-for-single-byte-content-range②">単一バイトのContent-Range</a>として解析した際に
                        <code>first-byte-pos</code>という名前の部分を整数として解析したものとします。
                    </p>
                <li data-md>
                    <p><var>lastBytePos</var>を、<var>contentRangeValue</var>を<a data-link-type="dfn"
                            href="#single-byte-content-range"
                            id="ref-for-single-byte-content-range③">単一バイトのContent-Range</a>として解析した際に
                        <code>last-byte-pos</code>という名前の部分を整数として解析したものとします。
                    </p>
                <li data-md>
                    <p><var>completeLength</var>を、<var>contentRangeValue</var>を<a data-link-type="dfn"
                            href="#single-byte-content-range"
                            id="ref-for-single-byte-content-range④">単一バイトのContent-Range</a>として解析した際に
                        <code>complete-length</code>という名前の部分とします。
                    </p>
                <li data-md>
                    <p>もし<var>completeLength</var>が<code>"*"</code>である場合、<var>completeLength</var>をnullに設定し、それ以外の場合は<var>completeLength</var>を整数として解析したものに設定します。
                    </p>
                <li data-md>
                    <p><var>firstBytePos</var>、<var>lastBytePos</var>、および<var>completeLength</var>を返します。</p>
            </ol>
            <p class="issue" id="issue-cddfe468"><a class="self-link" href="#issue-cddfe468"></a> 整数としての解析について
                <a href="https://github.com/whatwg/infra/issues/189">infra/189</a>を参照。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.8" id="create-settled-fetches-algorithm"><span class="secno">4.8.
            </span><span class="content"><a data-link-type="dfn" href="#create-record-objects"
                    id="ref-for-create-record-objects①">レコードオブジェクトを作成する</a></span><a class="self-link"
                href="#create-settled-fetches-algorithm"></a></h3>
        <p class="note" role="note"><span>注:</span> このアルゴリズムは、<a data-link-type="dfn" href="#background-fetch-record"
                id="ref-for-background-fetch-record④">バックグラウンドフェッチレコード</a>のためのプラットフォームオブジェクトを作成します。また、保存された<a
                data-link-type="dfn" href="#background-fetch-response-bytes"
                id="ref-for-background-fetch-response-bytes④">バイト</a>からの<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response④">レスポンス</a>のストリーミングを管理します。この時点でバックグラウンドフェッチ操作がまだ進行中である可能性があります。</p>
        <div class="algorithm" data-algorithm="create record objects">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="create record objects|creating record objects"
                data-noexport id="create-record-objects">レコードオブジェクトを作成する</dfn>
            を<var>records</var>（<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list②">リスト</a>）および<var>realm</var>（<a data-link-type="dfn"
                href="https://tc39.github.io/ecma262/#realm" id="ref-for-realm①">Realm</a>）に対して実行するには、以下の手順を実行します：
            <p>すべてのプラットフォームオブジェクトは<var>realm</var>内で作成されなければなりません。</p>
            <ol>
                <li data-md>
                    <p><var>recordObjects</var>を新しい<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list③">リスト</a>とします。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate②">各</a> <var>record</var>を<var>records</var>から以下のように処理する：</p>
                    <ol>
                        <li data-md>
                            <p><var>responseData</var>を<var>record</var>の<a data-link-type="dfn"
                                    href="#background-fetch-record-response-data"
                                    id="ref-for-background-fetch-record-response-data④">レスポンスデータ</a>とします。</p>
                        <li data-md>
                            <p><var>recordObject</var>を新しい<code
                                    class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord">BackgroundFetchRecord</a></code>とします。
                            </p>
                        <li data-md>
                            <p><var>recordObject</var>の<code
                                    class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready">responseReady</a></code>
                                を<a data-link-type="dfn" href="https://heycam.github.io/webidl/#a-new-promise"
                                    id="ref-for-a-new-promise">新しいPromise</a>に設定します。</p>
                        <li data-md>
                            <p><var>requestObject</var>を以下の設定を持つ新しい<code
                                    class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request">Request</a></code>
                                オブジェクトとします：</p>
                            <dl>
                                <dt data-md><a data-link-type="dfn"
                                        href="https://fetch.spec.whatwg.org/#concept-request-request"
                                        id="ref-for-concept-request-request">リクエスト</a>
                                <dd data-md>
                                    <p><var>record</var>の<a data-link-type="dfn" href="#background-fetch-record-request"
                                            id="ref-for-background-fetch-record-request②">リクエスト</a>のコピーを設定します。その中には<a
                                            data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-request-body"
                                            id="ref-for-concept-request-body①">ボディ</a>も含みます。
                                    </p>
                                <dt data-md><a data-link-type="dfn"
                                        href="https://fetch.spec.whatwg.org/#request-headers"
                                        id="ref-for-request-headers">ヘッダー</a>
                                <dd data-md>
                                    <p>この<code
                                            class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers">Headers</a></code>
                                        オブジェクトに関連付けられた新しい<code
                                            class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①">Request</a></code>オブジェクト。その<a
                                            data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-request-request"
                                            id="ref-for-concept-request-request①">リクエスト</a>の<a data-link-type="dfn"
                                            href="https://fetch.spec.whatwg.org/#concept-request-header-list"
                                            id="ref-for-concept-request-header-list">ヘッダーリスト</a>に関連付けられています。
                                    </p>
                            </dl>
                        <li data-md>
                            <p><var>recordObject</var>の<code
                                    class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-request" id="ref-for-dom-backgroundfetchrecord-request">request</a></code>
                                を<var>requestObject</var>に設定します。</p>
                        <li data-md>
                            <p><var>transmittedBytes</var>を0とします。</p>
                        <li data-md>
                            <p><var>stream</var>を<a data-link-type="dfn">新しいReadable
                                    Stream</a>とし、以下の手順を並行して実行するプルアクションを持たせる：</p>
                            <ol>
                                <li data-md>
                                    <p><var>responseData</var>の<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                            id="ref-for-byte-sequence-length③">長さ</a>が<var>transmittedBytes</var>を超えるか、または<var>responseData</var>の<a
                                            data-link-type="dfn" href="#background-fetch-response-result"
                                            id="ref-for-background-fetch-response-result①④">結果</a>が空文字列でなくなるのを待つ。</p>
                                <li data-md>
                                    <p><var>bytes</var>をnullとします。</p>
                                <li data-md>
                                    <p>もし<var>responseData</var>の<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                            id="ref-for-byte-sequence-length④">長さ</a>が<var>transmittedBytes</var>を超え、かつ<var>responseData</var>が<a
                                            data-link-type="dfn" href="#background-fetch-response-exposed"
                                            id="ref-for-background-fetch-response-exposed">公開可能</a>である場合：</p>
                                    <ol>
                                        <li data-md>
                                            <p><var>bytes</var>を<var>responseData</var>の<a data-link-type="dfn"
                                                    href="#background-fetch-response-bytes"
                                                    id="ref-for-background-fetch-response-bytes⑦">バイト</a>のうち、<var>transmittedBytes</var>オフセットから始まるエージェントが決定するスライスとする。
                                            </p>
                                            <p class="note" role="note"><span>注:</span>
                                                これにより、ユーザーエージェントが適切な速度でストレージからリソースをストリーミングできます。</p>
                                        <li data-md>
                                            <p><var>transmittedBytes</var>に<var>bytes</var>の<a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length⑤">長さ</a>を加算する。</p>
                                    </ol>
                                <li data-md>
                                    <p><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                                            id="ref-for-queue-a-task①">タスクをキューに追加</a>し、以下を実行する：</p>
                                    <ol>
                                        <li data-md>
                                            <p>もし<var>bytes</var>がnullでない場合：</p>
                                            <ol>
                                                <li data-md>
                                                    <p><var>array</var>を新しい<code
                                                            class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code>オブジェクトとし、<code
                                                            class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code>をラップする。
                                                    </p>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://streams.spec.whatwg.org/#readablestream-enqueue"
                                                            id="ref-for-readablestream-enqueue"><var>array</var>を<var>stream</var>にキューに追加</a>する。
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>もし<var>responseData</var>が<a data-link-type="dfn"
                                                    href="#background-fetch-response-exposed"
                                                    id="ref-for-background-fetch-response-exposed①">公開可能</a>であり、<var>responseData</var>の<a
                                                    data-link-type="dfn" href="#background-fetch-response-result"
                                                    id="ref-for-background-fetch-response-result①⑤">結果</a>が空文字列でなく、かつ<var>transmittedBytes</var>が<var>responseData</var>の<a
                                                    data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length⑥">長さ</a>と等しい場合、<a
                                                    data-link-type="dfn"
                                                    href="https://streams.spec.whatwg.org/#readablestream-close"
                                                    id="ref-for-readablestream-close"><var>stream</var>を閉じる</a>。</p>
                                        <li data-md>
                                            <p>それ以外の場合、もし<var>responseData</var>の<a data-link-type="dfn"
                                                    href="#background-fetch-response-result"
                                                    id="ref-for-background-fetch-response-result①⑥">結果</a>が<code>"aborted"</code>である場合、<a
                                                    data-link-type="dfn"
                                                    href="https://streams.spec.whatwg.org/#readablestream-error"
                                                    id="ref-for-readablestream-error"><var>stream</var>をエラー状態にする</a>。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                                    id="ref-for-resolve">Promiseを解決する</a>。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append"><var>recordObject</var>を<var>recordObjects</var>に追加する</a>。
                            </p>
                    </ol>
                <li data-md>
                    <p><var>recordObjects</var>を返します。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.9" id="contains-background-fetch-algorithm"><span class="secno">4.9.
            </span><span class="content"><a data-link-type="dfn" href="#contains-background-fetch"
                    id="ref-for-contains-background-fetch①">バックグラウンドフェッチを含むか</a></span><a class="self-link"
                href="#contains-background-fetch-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="contains background fetch">
            <var>map</var>（<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                id="ref-for-ordered-map②">マップ</a>）が<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="contains-background-fetch">バックグラウンドフェッチを含むか</dfn>
            <var>bgFetch</var>（<a data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch①②">バックグラウンドフェッチ</a>）を判定するには、以下の手順を実行します：
            <ol>
                <li data-md>
                    <p><var>id</var>を<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-id"
                            id="ref-for-background-fetch-id①">ID</a>とします。</p>
                <li data-md>
                    <p>もし<var>map</var>[<var>id</var>]が<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">存在しない</a>場合、
                        falseを返します。</p>
                <li data-md>
                    <p>もし<var>map</var>[<var>id</var>]が<var>bgFetch</var>と等しくない場合、falseを返します。</p>
                <li data-md>
                    <p>trueを返します。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="does not contain background fetch">
            <var>map</var>（<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                id="ref-for-ordered-map③">マップ</a>）が<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="does-not-contain-background-fetch">バックグラウンドフェッチを含まないか</dfn>
            <var>bgFetch</var>（<a data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch①③">バックグラウンドフェッチ</a>）を判定するには、以下の手順を実行します：
            <ol>
                <li data-md>
                    <p>もし<var>map</var>が<a data-link-type="dfn" href="#contains-background-fetch"
                            id="ref-for-contains-background-fetch②">バックグラウンドフェッチを含む</a>
                        <var>bgFetch</var>の場合、falseを返します。
                    </p>
                <li data-md>
                    <p>trueを返します。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="5" id="header-syntax"><span class="secno">5. </span><span
                class="content">ヘッダー構文</span><a class="self-link" href="#header-syntax"></a></h2>
        <p>以下は<a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7230#section-7" id="ref-for-section-7">HTTP
                ABNF</a>で定義された<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="single-byte-content-range">単一バイトのContent-Range</dfn>の構文です：</p>
        <pre>"bytes=" first-byte-pos "-" last-byte-pos "/" complete-length
first-byte-pos = 1*DIGIT
last-byte-pos  = 1*DIGIT
complete-length = ( 1*DIGIT / "*" )</pre>
        <p class="note" role="note"><span>注:</span> これは<a href="https://tools.ietf.org/html/rfc7233#section-3.1">RFC
                7233</a>で許可されている構文のサブセットです。</p>
        <div class="note" role="note">
            <p>上記をレールロード図にした場合：</p>
            <div class="railroad">
                <svg class="railroad-diagram" height="197" viewBox="0 0 651 197" width="651">
                    <g transform="translate(.5 .5)">
                        <path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path>
                        <path d="M40 31h10"></path>
                        <g class="terminal">
                            <path d="M50 31h0"></path>
                            <path d="M134 31h0"></path>
                            <rect height="22" rx="10" ry="10" width="84" x="50" y="20"></rect>
                            <text x="92" y="35">"bytes="</text>
                        </g>
                        <path d="M134 31h10"></path>
                        <path d="M144 31h10"></path>
                        <g>
                            <path d="M154 31h0"></path>
                            <path d="M154 31h10"></path>
                            <g>
                                <path d="M164 31h10"></path>
                                <path d="M581 31h10"></path>
                                <g>
                                    <path d="M174 31h0"></path>
                                    <path d="M282 31h0"></path>
                                    <text class="comment" x="228" y="36">first-byte-pos</text>
                                </g>
                                <path d="M282 31h10"></path>
                                <path d="M292 31h10"></path>
                                <g>
                                    <path d="M302 31h0"></path>
                                    <path d="M382 31h0"></path>
                                    <path d="M302 31h10"></path>
                                    <g class="non-terminal">
                                        <path d="M312 31h0"></path>
                                        <path d="M372 31h0"></path>
                                        <rect height="22" width="60" x="312" y="20"></rect>
                                        <text x="342" y="35">digit</text>
                                    </g>
                                    <path d="M372 31h10"></path>
                                    <path d="M312 31a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
                                    <g>
                                        <path d="M312 51h60"></path>
                                    </g>
                                    <path d="M372 51a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
                                </g>
                                <path d="M382 31h10"></path>
                                <path d="M392 31h10"></path>
                                <g>
                                    <path d="M402 31h0"></path>
                                    <path d="M517 31h0"></path>
                                    <text class="comment" x="459.5" y="36">/first-byte-pos</text>
                                </g>
                                <path d="M517 31h10"></path>
                                <path d="M527 31h10"></path>
                                <g class="non-terminal">
                                    <path d="M537 31h0"></path>
                                    <path d="M581 31h0"></path>
                                    <rect height="22" width="44" x="537" y="20"></rect>
                                    <text x="559" y="35">"/"</text>
                                </g>
                            </g>
                            <path
                                d="M591 31a10 10 0 0 1 10 10v8a10 10 0 0 1 -10 10h-427a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
                            </path>
                            <g>
                                <path d="M164 79h17"></path>
                                <path d="M574 79h17"></path>
                                <g>
                                    <path d="M181 79h0"></path>
                                    <path d="M282 79h0"></path>
                                    <text class="comment" x="231.5" y="84">last-byte-pos</text>
                                </g>
                                <path d="M282 79h10"></path>
                                <path d="M292 79h10"></path>
                                <g>
                                    <path d="M302 79h0"></path>
                                    <path d="M382 79h0"></path>
                                    <path d="M302 79h10"></path>
                                    <g class="non-terminal">
                                        <path d="M312 79h0"></path>
                                        <path d="M372 79h0"></path>
                                        <rect height="22" width="60" x="312" y="68"></rect>
                                        <text x="342" y="83">digit</text>
                                    </g>
                                    <path d="M372 79h10"></path>
                                    <path d="M312 79a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
                                    <g>
                                        <path d="M312 99h60"></path>
                                    </g>
                                    <path d="M372 99a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
                                </g>
                                <path d="M382 79h10"></path>
                                <path d="M392 79h10"></path>
                                <g>
                                    <path d="M402 79h0"></path>
                                    <path d="M510 79h0"></path>
                                    <text class="comment" x="456" y="84">/last-byte-pos</text>
                                </g>
                                <path d="M510 79h10"></path>
                                <path d="M520 79h10"></path>
                                <g class="non-terminal">
                                    <path d="M530 79h0"></path>
                                    <path d="M574 79h0"></path>
                                    <rect height="22" width="44" x="530" y="68"></rect>
                                    <text x="552" y="83">"/"</text>
                                </g>
                            </g>
                            <path
                                d="M591 79a10 10 0 0 1 10 10v8a10 10 0 0 1 -10 10h-427a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
                            </path>
                            <g>
                                <path d="M164 127h25"></path>
                                <path d="M566 127h25"></path>
                                <g>
                                    <path d="M189 127h0"></path>
                                    <path d="M304 127h0"></path>
                                    <text class="comment" x="246.5" y="132">complete-length</text>
                                </g>
                                <path d="M304 127h10"></path>
                                <g>
                                    <path d="M314 127h0"></path>
                                    <path d="M434 127h0"></path>
                                    <path d="M314 127h20"></path>
                                    <g class="non-terminal">
                                        <path d="M334 127h18"></path>
                                        <path d="M396 127h18"></path>
                                        <rect height="22" width="44" x="352" y="116"></rect>
                                        <text x="374" y="131">"*"</text>
                                    </g>
                                    <path d="M414 127h20"></path>
                                    <path d="M314 127a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
                                    <g>
                                        <path d="M334 157h0"></path>
                                        <path d="M414 157h0"></path>
                                        <path d="M334 157h10"></path>
                                        <g class="non-terminal">
                                            <path d="M344 157h0"></path>
                                            <path d="M404 157h0"></path>
                                            <rect height="22" width="60" x="344" y="146"></rect>
                                            <text x="374" y="161">digit</text>
                                        </g>
                                        <path d="M404 157h10"></path>
                                        <path d="M344 157a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
                                        <g>
                                            <path d="M344 177h60"></path>
                                        </g>
                                        <path d="M404 177a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
                                    </g>
                                    <path d="M414 157a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
                                </g>
                                <path d="M434 127h10"></path>
                                <g>
                                    <path d="M444 127h0"></path>
                                    <path d="M566 127h0"></path>
                                    <text class="comment" x="505" y="132">/complete-length</text>
                                </g>
                            </g>
                            <path d="M591 127h10"></path>
                            <path d="M601 127h0"></path>
                        </g>
                        <path d="M601 127h10"></path>
                        <path d="M 611 127 h 20 m -10 -10 v 20 m 10 -20 v 20"></path>
                    </g>
                </svg>
            </div>
        </div>
        <h2 class="heading settled" data-level="6" id="api"><span class="secno">6. </span><span
                class="content">API</span><a class="self-link" href="#api"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="extensions-to-service-worker-global"><span class="secno">6.1.
            </span><span class="content">拡張 <code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code></span><a
                class="self-link" href="#extensions-to-service-worker-global"></a></h3>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①"><c- g>ServiceWorkerGlobalScope</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchsuccess"><code><c- g>onbackgroundfetchsuccess</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchfail"><code><c- g>onbackgroundfetchfail</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchabort"><code><c- g>onbackgroundfetchabort</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchclick"><code><c- g>onbackgroundfetchclick</c-></code></dfn>;
};
</pre>
        <h4 class="heading settled" data-level="6.1.1" id="service-worker-global-events"><span class="secno">6.1.1.
            </span><span class="content">イベント</span><a class="self-link" href="#service-worker-global-events"></a>
        </h4>
        <p>以下は、すべての<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworker" id="ref-for-serviceworker">ServiceWorker</a></code>インターフェイスを実装するオブジェクトによって、<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
                id="ref-for-event-handler-idl-attributes">イベントハンドラーIDL属性</a>としてサポートされるべき<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                id="ref-for-event-handlers">イベントハンドラー</a>（およびその対応する<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                id="ref-for-event-handler-event-type">イベントハンドラーイベントタイプ</a>）です：
        </p>
        <table class="data">
            <thead>
                <tr>
                    <th><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                            id="ref-for-event-handler-event-type①">イベントハンドラーイベントタイプ</a>
                    <th><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                            id="ref-for-event-handlers①">イベントハンドラー</a>
                    <th>インターフェイス
            <tbody>
                <tr>
                    <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export
                            id="eventdef-serviceworkerglobalscope-backgroundfetchsuccess"><code>backgroundfetchsuccess</code><a
                                class="self-link"
                                href="#eventdef-serviceworkerglobalscope-backgroundfetchsuccess"></a></dfn>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess">onbackgroundfetchsuccess</a></code>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent②">BackgroundFetchUpdateUIEvent</a></code>
                <tr>
                    <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export
                            id="eventdef-serviceworkerglobalscope-backgroundfetchfail"><code>backgroundfetchfail</code><a
                                class="self-link"
                                href="#eventdef-serviceworkerglobalscope-backgroundfetchfail"></a></dfn>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchfail" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchfail">onbackgroundfetchfail</a></code>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent③">BackgroundFetchUpdateUIEvent</a></code>
                <tr>
                    <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export
                            id="eventdef-serviceworkerglobalscope-backgroundfetchabort"><code>backgroundfetchabort</code><a
                                class="self-link"
                                href="#eventdef-serviceworkerglobalscope-backgroundfetchabort"></a></dfn>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchabort" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchabort">onbackgroundfetchabort</a></code>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent②">BackgroundFetchEvent</a></code>
                <tr>
                    <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export
                            id="eventdef-serviceworkerglobalscope-backgroundfetchclick"><code>backgroundfetchclick</code><a
                                class="self-link"
                                href="#eventdef-serviceworkerglobalscope-backgroundfetchclick"></a></dfn>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchclick" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchclick">onbackgroundfetchclick</a></code>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent③">BackgroundFetchEvent</a></code>
        </table>
        <h3 class="heading settled" data-level="6.2" id="extensions-to-service-worker-registration"><span
                class="secno">6.2. </span><span class="content">拡張 <code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code></span><a
                class="self-link" href="#extensions-to-service-worker-registration"></a></h3>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration①"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager②"><c- n>BackgroundFetchManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchManager" href="#dom-serviceworkerregistration-backgroundfetch" id="ref-for-dom-serviceworkerregistration-backgroundfetch"><c- g>backgroundFetch</c-></a>;
};
</pre>
        <div>
            <p><code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration②">ServiceWorkerRegistration</a></code>
                には、<dfn class="dfn-paneled" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="dfn" data-noexport
                    id="serviceworkerregistration-background-fetch-manager">バックグラウンドフェッチマネージャ</dfn>
                （<code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager③">BackgroundFetchManager</a></code>）
                が含まれます。初期状態では、新しい<code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager④">BackgroundFetchManager</a></code>
                であり、その<a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration"
                    id="ref-for-backgroundfetchmanager-service-worker-registration">サービスワーカーレジストレーション</a>
                は<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                    id="ref-for-dfn-service-worker-registration②">サービスワーカーレジストレーション</a>です。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
                    data-export id="dom-serviceworkerregistration-backgroundfetch"><code>backgroundFetch</code></dfn>
                属性のgetterは、<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#serviceworkerregistration-background-fetch-manager"
                    id="ref-for-serviceworkerregistration-background-fetch-manager">バックグラウンドフェッチマネージャ</a>
                を返さなければなりません。
            </p>
        </div>
        <h3 class="heading settled" data-level="6.3" id="background-fetch-manager"><span class="secno">6.3.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager⑤">BackgroundFetchManager</a></code></span><a
                class="self-link" href="#background-fetch-manager"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchmanager"><code><c- g>BackgroundFetchManager</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration③"><c- n>BackgroundFetchRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-fetch" id="ref-for-dom-backgroundfetchmanager-fetch"><c- g>fetch</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-id"><code><c- g>id</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-fetch-id-requests-options-id"></a></dfn>, (<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo"><c- n>RequestInfo</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo①"><c- n>RequestInfo</c-></a>>) <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-requests"><code><c- g>requests</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-fetch-id-requests-options-requests"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchoptions" id="ref-for-dictdef-backgroundfetchoptions"><c- n>BackgroundFetchOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-fetch-id-requests-options-options"></a></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration④"><c- n>BackgroundFetchRegistration</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-get" id="ref-for-dom-backgroundfetchmanager-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/get(id)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-get-id-id"><code><c- g>id</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-get-id-id"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-getids" id="ref-for-dom-backgroundfetchmanager-getids"><c- g>getIds</c-></a>();
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetchuioptions"><code><c- g>BackgroundFetchUIOptions</c-></code></dfn> {
  <a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/image-resource/#dom-imageresource" id="ref-for-dom-imageresource①"><c- n>ImageResource</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUIOptions" data-dfn-type="dict-member" data-export data-type="sequence<ImageResource> " id="dom-backgroundfetchuioptions-icons"><code><c- g>icons</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUIOptions" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-backgroundfetchuioptions-title"><code><c- g>title</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetchoptions"><code><c- g>BackgroundFetchOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions" id="ref-for-dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="idl-code" data-default="0" data-dfn-for="BackgroundFetchOptions" data-dfn-type="dict-member" data-export data-type="unsigned long long " id="dom-backgroundfetchoptions-downloadtotal"><code><c- g>downloadTotal</c-></code><a class="self-link" href="#dom-backgroundfetchoptions-downloadtotal"></a></dfn> = 0;
};
</pre>
        <div>
            <p><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager⑥">BackgroundFetchManager</a></code>
                には以下が含まれます：</p>
            <div>
                <ul>
                    <li data-md>
                        <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchManager" data-dfn-type="dfn"
                                data-noexport
                                id="backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration
                                インスタンス</dfn>（<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                                id="ref-for-ordered-map④">マップ</a>）で、キーが<a data-link-type="dfn" href="#background-fetch"
                                id="ref-for-background-fetch①④">バックグラウンドフェッチ</a>、値が<code
                                class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑤">BackgroundFetchRegistration</a></code>
                            オブジェクトです。初期状態では空の<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                                id="ref-for-ordered-map⑤">マップ</a>です。
                        </p>
                    <li data-md>
                        <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchManager" data-dfn-type="dfn"
                                data-noexport
                                id="backgroundfetchmanager-service-worker-registration">サービスワーカーレジストレーション</dfn>（<a
                                data-link-type="dfn"
                                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                                id="ref-for-dfn-service-worker-registration③">サービスワーカーレジストレーション</a>）です。</p>
                </ul>
            </div>
            <h4 class="heading settled" data-level="6.3.1" id="background-fetch-manager-fetch"><span
                    class="secno">6.3.1. </span><span class="content"><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-fetch" id="ref-for-dom-backgroundfetchmanager-fetch①">fetch()</a></code></span><a
                    class="self-link" href="#background-fetch-manager-fetch"></a></h4>
            <div class="algorithm" data-algorithm="fetch(id, requests, options)">
                <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method"
                    data-export data-lt="fetch(id, requests, options)|fetch(id, requests)"
                    id="dom-backgroundfetchmanager-fetch"><code>fetch(<var>id</var>, <var>requests</var>, <var>options</var>)</code></dfn>
                メソッドを呼び出すと、以下の手順を実行します：
                <ol>
                    <li data-md>
                        <p><var>registration</var>を<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                                href="#backgroundfetchmanager-service-worker-registration"
                                id="ref-for-backgroundfetchmanager-service-worker-registration①">サービスワーカーレジストレーション</a>とします。
                        </p>
                    <li data-md>
                        <p><var>records</var>を新しい<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                                id="ref-for-list④">リスト</a>とします。</p>
                    <li data-md>
                        <p><var>uploadTotal</var>を0とします。</p>
                    <li data-md>
                        <p>もし<var>requests</var>が<code
                                class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo②">RequestInfo</a></code>の場合、<var>requests</var>を«
                            <var>requests</var> »に設定します。
                        </p>
                    <li data-md>
                        <p>もし<var>requests</var>が<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty">空</a>の場合、
                            <a data-link-type="dfn" href="https://heycam.github.io/webidl/#a-promise-rejected-with"
                                id="ref-for-a-promise-rejected-with">Promiseを以下で拒否</a>された状態で返します：
                            <code
                                class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>。
                        </p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                id="ref-for-list-iterate③">各</a><var>request</var>を<var>requests</var>から以下のように処理します：</p>
                        <ol>
                            <li data-md>
                                <p><var>internalRequest</var>を、以下を実行した結果の<a data-link-type="dfn"
                                        href="https://fetch.spec.whatwg.org/#concept-request-request"
                                        id="ref-for-concept-request-request②">リクエスト</a>とします：
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request②">Request</a></code>
                                    コンストラクタを<var>request</var>と共に呼び出します。これが例外をスローした場合、<a data-link-type="dfn"
                                        href="https://heycam.github.io/webidl/#a-promise-rejected-with"
                                        id="ref-for-a-promise-rejected-with①">Promiseを例外で拒否</a>された状態で返します。
                                </p>
                            <li data-md>
                                <p>もし<var>internalRequest</var>の<a data-link-type="dfn"
                                        href="https://fetch.spec.whatwg.org/#concept-request-mode"
                                        id="ref-for-concept-request-mode①">モード</a>が"<code>no-cors</code>"の場合、
                                    <a data-link-type="dfn"
                                        href="https://heycam.github.io/webidl/#a-promise-rejected-with"
                                        id="ref-for-a-promise-rejected-with②">Promiseを以下で拒否</a>された状態で返します：
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>。
                                </p>
                            <li data-md>
                                <p><var>internalRequest</var>の<a data-link-type="dfn"
                                        href="https://fetch.spec.whatwg.org/#concept-request-client"
                                        id="ref-for-concept-request-client①">クライアント</a>をnullに設定します。</p>
                            <li data-md>
                                <p><var>record</var>を新しい<a data-link-type="dfn" href="#background-fetch-record"
                                        id="ref-for-background-fetch-record⑥">バックグラウンドフェッチレコード</a>とします。</p>
                            <li data-md>
                                <p><var>record</var>の<a data-link-type="dfn" href="#background-fetch-record-request"
                                        id="ref-for-background-fetch-record-request③">リクエスト</a>を<var>internalRequest</var>に設定します。
                                </p>
                            <li data-md>
                                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                        id="ref-for-list-append①">リストに追加</a>として<var>record</var>を<var>records</var>に追加します。
                                </p>
                        </ol>
                    <li data-md>
                        <p><var>promise</var>を<a data-link-type="dfn"
                                href="https://heycam.github.io/webidl/#a-new-promise"
                                id="ref-for-a-new-promise②">新しいPromise</a>とします。</p>
                    <li data-md>
                        <p><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                                id="ref-for-enqueue-the-following-steps②">以下の手順をエンキュー</a>として
                            <var>registration</var>の<a data-link-type="dfn"
                                href="#service-worker-registration-active-background-fetches-edit-queue"
                                id="ref-for-service-worker-registration-active-background-fetches-edit-queue①">アクティブなバックグラウンドフェッチ編集キュー</a>に追加します：
                        </p>
                        <ol>
                            <li data-md>
                                <p><var>permission</var>を、以下を満たす<a data-link-type="dfn"
                                        href="https://w3c.github.io/permissions/#permission-state"
                                        id="ref-for-permission-state①">権限状態</a>とします：
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor" id="ref-for-dictdef-permissiondescriptor①">PermissionDescriptor</a></code>
                                    の<code
                                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name①">name</a></code>
                                    が<code>"background-fetch"</code>であり、<a data-link-type="dfn">コンテキストオブジェクト</a>の<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                                        id="ref-for-relevant-settings-object③">関連設定オブジェクト</a>です。
                                </p>
                            <li data-md>
                                <p>もし<var>permission</var>が<code>"denied"</code>である場合、<var>promise</var>を以下で拒否して手順を中止します：
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>。
                                </p>
                            <li data-md>
                                <p><var>bgFetchMap</var>を<var>registration</var>の<a data-link-type="dfn"
                                        href="#service-worker-registration-active-background-fetches"
                                        id="ref-for-service-worker-registration-active-background-fetches①">アクティブなバックグラウンドフェッチ</a>とします。
                                </p>
                            <li data-md>
                                <p>もし<var>registration</var>の<a data-link-type="dfn"
                                        href="https://w3c.github.io/ServiceWorker/#dfn-active-worker"
                                        id="ref-for-dfn-active-worker">アクティブワーカー</a>がnullである場合、<var>promise</var>を以下で拒否して手順を中止します：
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>。
                                </p>
                            <li data-md>
                                <p>もし<var>bgFetchMap</var>[<var>id</var>]が<a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#map-exists"
                                        id="ref-for-map-exists②">存在する</a>場合、<var>promise</var>を以下で拒否して手順を中止します：
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>。
                                </p>
                            <li data-md>
                                <p>以下のプロパティを持つ新しい<var>bgFetch</var>を作成し、<var>bgFetchMap</var>[<var>id</var>]に設定します：</p>
                                <dl>
                                    <dt data-md><a data-link-type="dfn" href="#background-fetch-id"
                                            id="ref-for-background-fetch-id②">id</a>
                                    <dd data-md>
                                        <p><var>id</var>。</p>
                                    <dt data-md><a data-link-type="dfn" href="#background-fetch-records"
                                            id="ref-for-background-fetch-records④">records</a>
                                    <dd data-md>
                                        <p><var>records</var>。</p>
                                    <dt data-md><a data-link-type="dfn" href="#background-fetch-download-total"
                                            id="ref-for-background-fetch-download-total②">download total</a>
                                    <dd data-md>
                                        <p><var>options</var>の<code>downloadTotal</code>メンバー。</p>
                                    <dt data-md><a data-link-type="dfn" href="#background-fetch-upload-total"
                                            id="ref-for-background-fetch-upload-total①">upload total</a>
                                    <dd data-md>
                                        <p><var>uploadTotal</var>。</p>
                                    <dt data-md><a data-link-type="dfn" href="#background-fetch-icons"
                                            id="ref-for-background-fetch-icons①">icons</a>
                                    <dd data-md>
                                        <p><var>options</var>の<code>icons</code>メンバーが存在する場合それを使用し、存在しない場合は空の<a
                                                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                                                id="ref-for-list⑤">リスト</a>。</p>
                                    <dt data-md><a data-link-type="dfn" href="#background-fetch-title"
                                            id="ref-for-background-fetch-title①">title</a>
                                    <dd data-md>
                                        <p><var>options</var>の<code>title</code>メンバーが存在する場合それを使用し、存在しない場合は空文字列。</p>
                                    <dt data-md><a data-link-type="dfn"
                                            href="#background-fetch-service-worker-registration"
                                            id="ref-for-background-fetch-service-worker-registration④">service worker
                                            registration</a>
                                    <dd data-md>
                                        <p><var>registration</var>。</p>
                                </dl>
                            <li data-md>
                                <p><a data-link-type="dfn" href="#queue-a-bgfetch-task"
                                        id="ref-for-queue-a-bgfetch-task①">Bgfetchタスクをキューに追加</a>して以下を実行：</p>
                                <ol>
                                    <li data-md>
                                        <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                                id="ref-for-resolve②">Promiseを解決</a>し、<a data-link-type="dfn"
                                                href="#get-a-backgroundfetchregistration-instance"
                                                id="ref-for-get-a-backgroundfetchregistration-instance④">BackgroundFetchRegistrationインスタンスを取得</a>し
                                            <var>bgFetch</var>を<a data-link-type="dfn">コンテキストオブジェクト</a>の<a
                                                data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                                id="ref-for-concept-relevant-realm④">関連するRealm</a>で返します。
                                        </p>
                                </ol>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                        id="ref-for-in-parallel⑤">並行して</a>、<a data-link-type="dfn"
                                        href="#background-fetch-display"
                                        id="ref-for-background-fetch-display①">bgFetchを表示</a>します。</p>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                        id="ref-for-in-parallel⑥">並行して</a>、<a data-link-type="dfn"
                                        href="#perform-a-background-fetch"
                                        id="ref-for-perform-a-background-fetch①">バックグラウンドフェッチを実行</a>します。</p>
                        </ol>
                    <li data-md>
                        <p><var>promise</var>を返します。</p>
                </ol>
            </div>
            <h4 class="heading settled" data-level="6.3.2" id="background-fetch-manager-get"><span class="secno">6.3.2.
                </span><span class="content"><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-get" id="ref-for-dom-backgroundfetchmanager-get①">get()</a></code></span><a
                    class="self-link" href="#background-fetch-manager-get"></a></h4>
            <div class="algorithm" data-algorithm="get(id)">
                <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method"
                    data-export id="dom-backgroundfetchmanager-get"><code>get(<var>id</var>)</code></dfn>
                メソッドを呼び出すと、新しい<a data-link-type="dfn" href="https://heycam.github.io/webidl/#a-new-promise"
                    id="ref-for-a-new-promise③">Promise</a> <var>promise</var>を返し、以下の手順を<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel⑦">並行して</a>実行します：
                <ol>
                    <li data-md>
                        <p><var>registration</var>を<a data-link-type="dfn">コンテキストオブジェクト</a>に関連付けられた<a
                                data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration"
                                id="ref-for-backgroundfetchmanager-service-worker-registration②">サービスワーカーレジストレーション</a>とします。
                        </p>
                    <li data-md>
                        <p><var>bgFetch</var>を<var>registration</var>の<a data-link-type="dfn"
                                href="#service-worker-registration-active-background-fetches"
                                id="ref-for-service-worker-registration-active-background-fetches②">アクティブなバックグラウンドフェッチ</a>[<var>id</var>]とします。
                        </p>
                    <li data-md>
                        <p>もし<var>bgFetch</var>が未定義の場合、<a data-link-type="dfn"
                                href="https://heycam.github.io/webidl/#resolve"
                                id="ref-for-resolve③">Promiseを解決</a>して<var>promise</var>に未定義を設定し、これらの手順を中止します。</p>
                    <li data-md>
                        <p><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                                id="ref-for-enqueue-the-following-steps③">以下の手順をエンキュー</a>として<var>bgFetch</var>の<a
                                data-link-type="dfn" href="#background-fetch-update-handling-queue"
                                id="ref-for-background-fetch-update-handling-queue①">更新処理キュー</a>に追加します：</p>
                        <ol>
                            <li data-md>
                                <p><a data-link-type="dfn" href="#queue-a-bgfetch-task"
                                        id="ref-for-queue-a-bgfetch-task②">Bgfetchタスクをキューに追加</a>として<var>task</var>を実行し、以下の手順を実行します：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p><var>bgFetchRegistration</var>を、<a data-link-type="dfn"
                                                href="#get-a-backgroundfetchregistration-instance"
                                                id="ref-for-get-a-backgroundfetchregistration-instance⑤">BackgroundFetchRegistrationインスタンスを取得</a>して<var>bgFetch</var>を<a
                                                data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                                id="ref-for-concept-relevant-realm⑤">関連するRealm</a>に設定した結果とします。</p>
                                    <li data-md>
                                        <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                                id="ref-for-resolve④">Promiseを解決</a>して<var>promise</var>に<var>bgFetchRegistration</var>を設定します。
                                        </p>
                                </ol>
                            <li data-md>
                                <p><var>task</var>が完了するのを待ちます。</p>
                                <p class="note" role="note"><span>注:</span> これにより、新しい<code
                                        class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑥">BackgroundFetchRegistration</a></code>インスタンスが
                                    <code
                                        class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-backgroundfetchregistration-progress" id="ref-for-eventdef-backgroundfetchregistration-progress">progress</a></code>イベントを見逃さないことを保証します。
                                </p>
                        </ol>
                </ol>
            </div>
            <h4 class="heading settled" data-level="6.3.3" id="background-fetch-manager-get-ids"><span
                    class="secno">6.3.3. </span><span class="content"><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-getids" id="ref-for-dom-backgroundfetchmanager-getids①">getIds()</a></code></span><a
                    class="self-link" href="#background-fetch-manager-get-ids"></a></h4>
            <div class="algorithm" data-algorithm="getIds()">
                <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method"
                    data-export id="dom-backgroundfetchmanager-getids"><code>getIds()</code></dfn> メソッドを呼び出すと、新しい<a
                    data-link-type="dfn" href="https://heycam.github.io/webidl/#a-new-promise"
                    id="ref-for-a-new-promise④">Promise</a> <var>promise</var>を返し、以下の手順を<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel⑧">並行して</a>実行します：
                <ol>
                    <li data-md>
                        <p><var>registration</var>を<a data-link-type="dfn">コンテキストオブジェクト</a>に関連付けられた<a
                                data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration"
                                id="ref-for-backgroundfetchmanager-service-worker-registration③">サービスワーカーレジストレーション</a>とします。
                        </p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                id="ref-for-resolve⑤">Promiseを解決</a>して<var>promise</var>に以下の結果を設定します：
                            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys"
                                id="ref-for-map-getting-the-keys">キーを取得</a>した<var>registration</var>の<a
                                data-link-type="dfn" href="#service-worker-registration-active-background-fetches"
                                id="ref-for-service-worker-registration-active-background-fetches③">アクティブなバックグラウンドフェッチ</a>。
                        </p>
                </ol>
            </div>
        </div>
        <h3 class="heading settled" data-level="6.4" id="background-fetch-registration"><span class="secno">6.4.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑦">BackgroundFetchRegistration</a></code></span><a
                class="self-link" href="#background-fetch-registration"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchregistration"><code><c- g>BackgroundFetchRegistration</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-backgroundfetchregistration-id" id="ref-for-dom-backgroundfetchregistration-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploadtotal" id="ref-for-dom-backgroundfetchregistration-uploadtotal"><c- g>uploadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploaded" id="ref-for-dom-backgroundfetchregistration-uploaded"><c- g>uploaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloadtotal" id="ref-for-dom-backgroundfetchregistration-downloadtotal"><c- g>downloadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long④"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloaded" id="ref-for-dom-backgroundfetchregistration-downloaded"><c- g>downloaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult①"><c- n>BackgroundFetchResult</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchResult" href="#dom-backgroundfetchregistration-result" id="ref-for-dom-backgroundfetchregistration-result"><c- g>result</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason②"><c- n>BackgroundFetchFailureReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchFailureReason" href="#dom-backgroundfetchregistration-failurereason" id="ref-for-dom-backgroundfetchregistration-failurereason"><c- g>failureReason</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-backgroundfetchregistration-recordsavailable" id="ref-for-dom-backgroundfetchregistration-recordsavailable"><c- g>recordsAvailable</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-backgroundfetchregistration-onprogress" id="ref-for-dom-backgroundfetchregistration-onprogress"><c- g>onprogress</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort②"><c- g>abort</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord①"><c- n>BackgroundFetchRecord</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-match" id="ref-for-dom-backgroundfetchregistration-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo③"><c- n>RequestInfo</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/match(request, options), BackgroundFetchRegistration/match(request)" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-match-request-options-request"><code><c- g>request</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-match-request-options-request"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/match(request, options), BackgroundFetchRegistration/match(request)" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-match-request-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-match-request-options-options"></a></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord②"><c- n>BackgroundFetchRecord</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo④"><c- n>RequestInfo</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/matchAll(request, options), BackgroundFetchRegistration/matchAll(request), BackgroundFetchRegistration/matchAll()" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-matchall-request-options-request"><code><c- g>request</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-matchall-request-options-request"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions①"><c- n>CacheQueryOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/matchAll(request, options), BackgroundFetchRegistration/matchAll(request), BackgroundFetchRegistration/matchAll()" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-matchall-request-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-matchall-request-options-options"></a></dfn> = {});
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-backgroundfetchresult"><code><c- g>BackgroundFetchResult</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult"><code><c- s>""</c-></code><a class="self-link" href="#dom-backgroundfetchresult"></a></dfn>, <dfn class="idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult-success"><code><c- s>"success"</c-></code><a class="self-link" href="#dom-backgroundfetchresult-success"></a></dfn>, <dfn class="idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult-failure"><code><c- s>"failure"</c-></code><a class="self-link" href="#dom-backgroundfetchresult-failure"></a></dfn> };

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-backgroundfetchfailurereason"><code><c- g>BackgroundFetchFailureReason</c-></code></dfn> {
  // バックグラウンドフェッチがまだ完了していない、または成功した場合。
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason"><code><c- s>""</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason"></a></dfn>,
  // 操作がユーザーによって中止されたか、abort() が呼び出された場合。
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-aborted"><code><c- s>"aborted"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-aborted"></a></dfn>,
  // レスポンスが「not-ok-status」だった場合。
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-bad-status"><code><c- s>"bad-status"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-bad-status"></a></dfn>,
  // CORS、MIX、不正な部分レスポンス、または再試行できない一般的なネットワークエラーなど、その他の理由でフェッチが失敗した場合。
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-fetch-error"><code><c- s>"fetch-error"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-fetch-error"></a></dfn>,
  // 操作中にストレージのクォータに到達した場合。
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-quota-exceeded"><code><c- s>"quota-exceeded"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-quota-exceeded"></a></dfn>,
  // 提供された downloadTotal を超えた場合。
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-download-total-exceeded"><code><c- s>"download-total-exceeded"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-download-total-exceeded"></a></dfn>
};
</pre>
        <div>
            <p><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑧">BackgroundFetchRegistration</a></code>
                インスタンスには以下が含まれます：</p>
            <ul>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-background-fetch">バックグラウンドフェッチ</dfn>
                        (<a data-link-type="dfn" href="#background-fetch"
                            id="ref-for-background-fetch①⑥">バックグラウンドフェッチ</a>)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-downloaded">ダウンロード済み</dfn> (数値)、
                        初期値は<a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch②">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-stored-body-bytes-total"
                            id="ref-for-background-fetch-stored-body-bytes-total③">保存されたボディバイト合計</a>のコピー。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-uploaded">アップロード済み</dfn> (数値)、
                        初期値は<a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch③">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-uploaded"
                            id="ref-for-background-fetch-uploaded③">アップロード済み</a>のコピー。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-result">結果</dfn> (<code
                            class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult②">BackgroundFetchResult</a></code>)、
                        初期値は<a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch④">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-result"
                            id="ref-for-background-fetch-result⑥">結果</a>のコピー。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-failure-reason">失敗理由</dfn> (<code
                            class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason③">BackgroundFetchFailureReason</a></code>)、
                        初期値は<a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch⑤">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-failure-reason"
                            id="ref-for-background-fetch-failure-reason②">失敗理由</a>のコピー。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-id">ID</dfn> (数値)、<a data-link-type="dfn"
                            href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch⑥">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-id"
                            id="ref-for-background-fetch-id③">ID</a>のコピー。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-upload-total">アップロード合計</dfn> (数値)、<a
                            data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch⑦">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-upload-total"
                            id="ref-for-background-fetch-upload-total②">アップロード合計</a>のコピー。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-download-total">ダウンロード合計</dfn> (数値)、<a
                            data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch⑧">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-download-total"
                            id="ref-for-background-fetch-download-total③">ダウンロード合計</a>のコピー。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn"
                            data-noexport id="backgroundfetchregistration-records-available-flag">レコード利用可能フラグ</dfn>。
                        初期値は<a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                            id="ref-for-backgroundfetchregistration-background-fetch⑨">バックグラウンドフェッチ</a>の<a
                            data-link-type="dfn" href="#background-fetch-records-available-flag"
                            id="ref-for-background-fetch-records-available-flag②">レコード利用可能フラグ</a>が設定されている場合に設定され、そうでない場合は未設定。
                    </p>
            </ul>
            <p class="note" role="note"><span>注:</span> 上記の値は同期的に利用可能なようにコピーされています。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-id"><code>ID</code></dfn>
                属性のgetterは<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-id"
                    id="ref-for-backgroundfetchregistration-id">ID</a>を返さなければなりません。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-uploadtotal"><code>uploadTotal</code></dfn>
                属性のgetterは<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-upload-total"
                    id="ref-for-backgroundfetchregistration-upload-total">アップロード合計</a>を返さなければなりません。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-downloadtotal"><code>downloadTotal</code></dfn>
                属性のgetterは<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-download-total"
                    id="ref-for-backgroundfetchregistration-download-total">ダウンロード合計</a>を返さなければなりません。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-uploaded"><code>uploaded</code></dfn> 属性のgetterは<a
                    data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-uploaded"
                    id="ref-for-backgroundfetchregistration-uploaded②">アップロード済み</a>を返さなければなりません。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-downloaded"><code>downloaded</code></dfn>
                属性のgetterは<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-downloaded"
                    id="ref-for-backgroundfetchregistration-downloaded②">ダウンロード済み</a>を返さなければなりません。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-result"><code>result</code></dfn> 属性のgetterは<a
                    data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-result"
                    id="ref-for-backgroundfetchregistration-result③">結果</a>を返さなければなりません。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-failurereason"><code>failureReason</code></dfn>
                属性のgetterは<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-failure-reason"
                    id="ref-for-backgroundfetchregistration-failure-reason②">失敗理由</a>を返さなければなりません。</p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export
                    id="dom-backgroundfetchregistration-recordsavailable"><code>recordsAvailable</code></dfn>
                属性のgetterは、<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchregistration-records-available-flag"
                    id="ref-for-backgroundfetchregistration-records-available-flag②">レコード利用可能フラグ</a>が設定されている場合にtrueを、そうでない場合にfalseを返さなければなりません。
            </p>
            <h4 class="heading settled" data-level="6.4.1" id="background-fetch-registration-events"><span
                    class="secno">6.4.1. </span><span class="content">イベント</span><a class="self-link"
                    href="#background-fetch-registration-events"></a></h4>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchregistration-onprogress"><code>onprogress</code></dfn> <a
                    data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-event-handlers②">イベントハンドラー</a>の<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-event-handler-event-type②">イベントハンドラーイベントタイプ</a>は<code
                    class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-backgroundfetchregistration-progress" id="ref-for-eventdef-backgroundfetchregistration-progress①">progress</a></code>です。
            </p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="event"
                    data-export id="eventdef-backgroundfetchregistration-progress"><code>progress</code></dfn>イベントは<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code>
                インターフェースを使用します。</p>
            <h4 class="heading settled" data-level="6.4.2" id="background-fetch-registration-abort"><span
                    class="secno">6.4.2. </span><span class="content"><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort③">abort()</a></code></span><a
                    class="self-link" href="#background-fetch-registration-abort"></a></h4>
            <div class="algorithm" data-algorithm="abort()">
                <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method"
                    data-export id="dom-backgroundfetchregistration-abort"><code>abort()</code></dfn> メソッドは、呼び出された時、<a
                    data-link-type="dfn" href="https://heycam.github.io/webidl/#a-new-promise"
                    id="ref-for-a-new-promise⑤">新しいPromise</a> <var>promise</var>を返し、以下の手順を<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel⑨">並行して</a>実行しなければなりません：
                <ol>
                    <li data-md>
                        <p><var>bgFetch</var>を<a data-link-type="dfn">コンテキストオブジェクト</a>に関連付けられた<a data-link-type="dfn"
                                href="#backgroundfetchregistration-background-fetch"
                                id="ref-for-backgroundfetchregistration-background-fetch①⓪">バックグラウンドフェッチ</a>とします。
                        </p>
                    <li data-md>
                        <p><var>swRegistration</var>を<var>bgFetch</var>の<a data-link-type="dfn"
                                href="#background-fetch-service-worker-registration"
                                id="ref-for-background-fetch-service-worker-registration⑤">サービスワーカーレジストレーション</a>とします。
                        </p>
                    <li data-md>
                        <p><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                                id="ref-for-enqueue-the-following-steps④">以下の手順をエンキュー</a>として
                            <var>swRegistration</var>の<a data-link-type="dfn"
                                href="#service-worker-registration-active-background-fetches-edit-queue"
                                id="ref-for-service-worker-registration-active-background-fetches-edit-queue②">アクティブなバックグラウンドフェッチ編集キュー</a>に追加します：
                        </p>
                        <ol>
                            <li data-md>
                                <p><var>activeBgFetches</var>を<var>swRegistration</var>の<a data-link-type="dfn"
                                        href="#service-worker-registration-active-background-fetches"
                                        id="ref-for-service-worker-registration-active-background-fetches④">アクティブなバックグラウンドフェッチ</a>とします。
                                </p>
                            <li data-md>
                                <p><var>id</var>を<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-id"
                                        id="ref-for-background-fetch-id④">ID</a>とします。</p>
                            <li data-md>
                                <p>もし<var>activeBgFetches</var>が<a data-link-type="dfn"
                                        href="#does-not-contain-background-fetch"
                                        id="ref-for-does-not-contain-background-fetch">バックグラウンドフェッチを含まない</a>
                                    <var>bgFetch</var>である場合、
                                    <a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                        id="ref-for-resolve⑥">Promiseを解決</a>して<var>promise</var>にfalseを設定し、これらの手順を中止します。
                                </p>
                            <li data-md>
                                <p><var>activeBgFetches</var>[<var>id</var>]を削除します。</p>
                            <li data-md>
                                <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                        id="ref-for-resolve⑦">Promiseを解決</a>して<var>promise</var>にtrueを設定します。</p>
                            <li data-md>
                                <p><var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-abort-all-flag"
                                        id="ref-for-background-fetch-abort-all-flag⑤">すべて中止フラグ</a>を設定します。</p>
                        </ol>
                </ol>
            </div>
            <h4 class="heading settled" data-level="6.4.3" id="background-fetch-registration-match"><span
                    class="secno">6.4.3. </span><span class="content"><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-match" id="ref-for-dom-backgroundfetchregistration-match①">match()</a></code></span><a
                    class="self-link" href="#background-fetch-registration-match"></a></h4>
            <div class="algorithm" data-algorithm="match(request, options)">
                <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method"
                    data-export data-lt="match(request, options)|match(request)"
                    id="dom-backgroundfetchregistration-match"><code>match(<var>request</var>, <var>options</var>)</code></dfn>
                メソッドは、呼び出された時、以下の手順を実行しなければなりません：
                <ol>
                    <li data-md>
                        <p><var>promise</var>を次のアルゴリズムを呼び出した結果とします：<code
                                class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall①">matchAll()</a></code>
                            に<var>request</var>と<var>options</var>を渡します。</p>
                    <li data-md>
                        <p><a data-link-type="dfn"
                                href="https://heycam.github.io/webidl/#dfn-perform-steps-once-promise-is-settled"
                                id="ref-for-dfn-perform-steps-once-promise-is-settled">Promiseが解決された時に実行する手順</a>の結果を返します。
                            その結果、<var>promise</var>に<var>matches</var>を渡し、<var>matches</var>[0]を返します。</p>
                </ol>
                <p class="note" role="note"><span>注:</span> ユーザーエージェントは上記を最適化し、<code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall②">matchAll()</a></code>を呼び出すよりも高速にすることが推奨されます。
                </p>
            </div>
            <h4 class="heading settled" data-level="6.4.4" id="background-fetch-registration-match-all"><span
                    class="secno">6.4.4. </span><span class="content"><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall③">matchAll()</a></code></span><a
                    class="self-link" href="#background-fetch-registration-match-all"></a></h4>
            <div class="algorithm" data-algorithm="matchAll(request, options)">
                <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method"
                    data-export data-lt="matchAll(request, options)|matchAll(request)|matchAll()"
                    id="dom-backgroundfetchregistration-matchall"><code>matchAll(<var>request</var>, <var>options</var>)</code></dfn>
                メソッドは、呼び出された時、以下の手順を実行しなければなりません：
                <ol>
                    <li data-md>
                        <p>もし<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                                href="#backgroundfetchregistration-records-available-flag"
                                id="ref-for-backgroundfetchregistration-records-available-flag③">レコード利用可能フラグ</a>が未設定の場合、
                            <a data-link-type="dfn" href="https://heycam.github.io/webidl/#a-promise-rejected-with"
                                id="ref-for-a-promise-rejected-with③">Promiseを以下で拒否</a>して返します：
                            <code
                                class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>
                            <code
                                class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>。
                        </p>
                    <li data-md>
                        <p><var>promise</var>を<a data-link-type="dfn"
                                href="https://heycam.github.io/webidl/#a-new-promise"
                                id="ref-for-a-new-promise⑥">新しいPromise</a>とします。</p>
                    <li data-md>
                        <p>以下の手順を<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                id="ref-for-in-parallel①⓪">並行して</a>実行します：</p>
                        <ol>
                            <li data-md>
                                <p><var>matchingRecords</var>を空の<a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">リスト</a>とします。</p>
                            <li data-md>
                                <p>各<var>record</var>について、以下を<a data-link-type="dfn">コンテキストオブジェクト</a>の<a
                                        data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                                        id="ref-for-backgroundfetchregistration-background-fetch①①">バックグラウンドフェッチ</a>の<a
                                        data-link-type="dfn" href="#background-fetch-records"
                                        id="ref-for-background-fetch-records⑤">レコード</a>から実行します：</p>
                                <ol>
                                    <li data-md>
                                        <p>もし<a data-link-type="dfn"
                                                href="https://w3c.github.io/ServiceWorker/#request-matches-cached-item"
                                                id="ref-for-request-matches-cached-item">リクエストがキャッシュされたアイテムに一致する</a>
                                            ための<var>request</var>、<var>record</var>の<a data-link-type="dfn"
                                                href="#background-fetch-record-request"
                                                id="ref-for-background-fetch-record-request④">リクエスト</a>、
                                            <var>record</var>の<a data-link-type="dfn"
                                                href="#background-fetch-record-response-data"
                                                id="ref-for-background-fetch-record-response-data⑤">レスポンスデータ</a>の
                                            <a data-link-type="dfn" href="#background-fetch-response-response"
                                                id="ref-for-background-fetch-response-response⑤">レスポンス</a>、
                                            および<var>options</var>がtrueを返す場合、
                                            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                                id="ref-for-list-append②">リストに追加</a>として<var>record</var>を<var>matchingRecords</var>に追加します。
                                        </p>
                                </ol>
                            <li data-md>
                                <p><a data-link-type="dfn" href="#queue-a-bgfetch-task"
                                        id="ref-for-queue-a-bgfetch-task③">Bgfetchタスクをキューに追加</a>して、
                                    <a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                        id="ref-for-resolve⑧">Promiseを解決</a>し、
                                    <var>promise</var>に<a data-link-type="dfn" href="#create-record-objects"
                                        id="ref-for-create-record-objects②">レコードオブジェクトを作成</a>して<var>matchingRecords</var>を<a
                                        data-link-type="dfn">コンテキストオブジェクト</a>の
                                    <a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                        id="ref-for-concept-relevant-realm⑥">関連するRealm</a>で設定します。
                                </p>
                        </ol>
                    <li data-md>
                        <p><var>promise</var>を返します。</p>
                </ol>
            </div>
        </div>
        <h3 class="heading settled" data-level="6.5" id="background-fetch-record-interface"><span class="secno">6.5.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord③">BackgroundFetchRecord</a></code></span><a
                class="self-link" href="#background-fetch-record-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchrecord"><code><c- g>BackgroundFetchRecord</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request③"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-backgroundfetchrecord-request" id="ref-for-dom-backgroundfetchrecord-request①"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response②"><c- n>Response</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Response>" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready④"><c- g>responseReady</c-></a>;
};
</pre>
        <div>
            <p><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord④">BackgroundFetchRecord</a></code>
                には以下が含まれます：
            <ul>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRecord" data-dfn-type="dfn" data-noexport
                            id="backgroundfetchrecord-request">リクエスト</dfn> (<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request"
                            id="ref-for-concept-request②">リクエスト</a>)。</p>
                <li data-md>
                    <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRecord" data-dfn-type="dfn" data-noexport
                            id="backgroundfetchrecord-response-promise">レスポンスプロミス</dfn> (<code
                            class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise⑦">Promise</a></code>
                        として<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                            id="ref-for-concept-response⑤">レスポンス</a>を返します)。
                    </p>
            </ul>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRecord" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchrecord-request"><code>request</code></dfn>
                属性のgetterは<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchrecord-request"
                    id="ref-for-backgroundfetchrecord-request">リクエスト</a>を返さなければなりません。
            </p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRecord" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchrecord-responseready"><code>responseReady</code></dfn>
                属性のgetterは<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                    href="#backgroundfetchrecord-response-promise"
                    id="ref-for-backgroundfetchrecord-response-promise">レスポンスプロミス</a>を返さなければなりません。</p>
        </div>
        <h3 class="heading settled" data-level="6.6" id="background-fetch-event"><span class="secno">6.6.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent④">BackgroundFetchEvent</a></code></span><a
                class="self-link" href="#background-fetch-event"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchevent"><code><c- g>BackgroundFetchEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent"><c- n>ExtendableEvent</c-></a> {
  <dfn class="idl-code" data-dfn-for="BackgroundFetchEvent" data-dfn-type="constructor" data-export data-lt="BackgroundFetchEvent(type, init)|constructor(type, init)" id="dom-backgroundfetchevent-backgroundfetchevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-backgroundfetchevent-backgroundfetchevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchEvent/BackgroundFetchEvent(type, init), BackgroundFetchEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchevent-backgroundfetchevent-type-init-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit" id="ref-for-dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchEvent/BackgroundFetchEvent(type, init), BackgroundFetchEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchevent-backgroundfetchevent-type-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-init"></a></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑨"><c- n>BackgroundFetchRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchRegistration" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration②"><c- g>registration</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetcheventinit"><code><c- g>BackgroundFetchEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration①⓪"><c- n>BackgroundFetchRegistration</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchEventInit" data-dfn-type="dict-member" data-export data-type="BackgroundFetchRegistration " id="dom-backgroundfetcheventinit-registration"><code><c- g>registration</c-></code><a class="self-link" href="#dom-backgroundfetcheventinit-registration"></a></dfn>;
};
</pre>
        <div>
            <p><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent⑤">BackgroundFetchEvent</a></code>
                には<dfn class="dfn-paneled" data-dfn-for="BackgroundFetchEvent" data-dfn-type="dfn" data-noexport
                    id="backgroundfetchevent-background-fetch">バックグラウンドフェッチ</dfn> (<a data-link-type="dfn"
                    href="#background-fetch" id="ref-for-background-fetch①⑦">バックグラウンドフェッチ</a>) が含まれます。初期値は値<code
                    class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration③">registration</a></code>
                が初期化された際の<a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch"
                    id="ref-for-backgroundfetchregistration-background-fetch①②">バックグラウンドフェッチ</a>です。
            </p>
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchEvent" data-dfn-type="attribute"
                    data-export id="dom-backgroundfetchevent-registration"><code>registration</code></dfn>
                属性は初期化された値を返さなければなりません。</p>
        </div>
        <h3 class="heading settled" data-level="6.7" id="background-fetch-update-ui-event"><span class="secno">6.7.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent④">BackgroundFetchUpdateUIEvent</a></code></span><a
                class="self-link" href="#background-fetch-update-ui-event"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchupdateuievent"><code><c- g>BackgroundFetchUpdateUIEvent</c-></code></dfn> : <a data-link-type="idl-name" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent⑥"><c- n>BackgroundFetchEvent</c-></a> {
  <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="constructor" data-export data-lt="BackgroundFetchUpdateUIEvent(type, init)|constructor(type, init)" id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent(type, init), BackgroundFetchUpdateUIEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit" id="ref-for-dictdef-backgroundfetcheventinit①"><c- n>BackgroundFetchEventInit</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent(type, init), BackgroundFetchUpdateUIEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchupdateuievent-updateui" id="ref-for-dom-backgroundfetchupdateuievent-updateui"><c- g>updateUI</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions" id="ref-for-dictdef-backgroundfetchuioptions①"><c- n>BackgroundFetchUIOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/updateUI(options), BackgroundFetchUpdateUIEvent/updateUI()" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-updateui-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-updateui-options-options"></a></dfn> = {});
};
</pre>
        <div>
            <p><code
                    class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent⑤">BackgroundFetchUpdateUIEvent</a></code>
                には<dfn class="dfn-paneled" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="dfn" data-noexport
                    id="backgroundfetchupdateuievent-ui-updated-flag">UI更新済みフラグ</dfn>が含まれ、初期値は未設定です。</p>
            <h4 class="heading settled" data-level="6.7.1" id="background-fetch-update-ui-event-update-ui"><span
                    class="secno">6.7.1. </span><span class="content"><code
                        class="idl"><a data-link-type="idl" href="#dom-backgroundfetchupdateuievent-updateui" id="ref-for-dom-backgroundfetchupdateuievent-updateui①">updateUI()</a></code></span><a
                    class="self-link" href="#background-fetch-update-ui-event-update-ui"></a></h4>
            <div class="algorithm" data-algorithm="updateUI(options)">
                <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="method"
                    data-export data-lt="updateUI(options)|updateUI()"
                    id="dom-backgroundfetchupdateuievent-updateui"><code>updateUI(<var>options</var>)</code></dfn>
                メソッドは、呼び出された時、<a data-link-type="dfn" href="https://heycam.github.io/webidl/#a-new-promise"
                    id="ref-for-a-new-promise⑦">新しいPromise</a>
                <var>promise</var>を返し、以下の手順を<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel①①">並行して</a>実行しなければなりません：
                <ol>
                    <li data-md>
                        <p>以下のいずれかがtrueの場合：</p>
                        <ul>
                            <li data-md>
                                <p><a data-link-type="dfn">コンテキストオブジェクト</a>の<code
                                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code>
                                    属性がfalse。</p>
                            <li data-md>
                                <p><a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                                        href="#backgroundfetchupdateuievent-ui-updated-flag"
                                        id="ref-for-backgroundfetchupdateuievent-ui-updated-flag">UI更新済みフラグ</a>
                                    が設定されている。</p>
                            <li data-md>
                                <p><a data-link-type="dfn">コンテキストオブジェクト</a>が<a data-link-type="dfn"
                                        href="https://w3c.github.io/ServiceWorker/#extendableevent-active"
                                        id="ref-for-extendableevent-active①">アクティブ</a>でない。</p>
                                <p class="issue" id="issue-b420dc4f①"><a class="self-link" href="#issue-b420dc4f①"></a>
                                    <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>
                                </p>
                        </ul>
                        <p><code
                                class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>
                            <code
                                class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>
                            をスローします。
                        </p>
                    <li data-md>
                        <p><a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                                href="#backgroundfetchupdateuievent-ui-updated-flag"
                                id="ref-for-backgroundfetchupdateuievent-ui-updated-flag①">UI更新済みフラグ</a>を設定します。</p>
                    <li data-md>
                        <p>もし<var>options</var>がnullの場合、返します。</p>
                    <li data-md>
                        <p><var>bgFetch</var>を<a data-link-type="dfn">コンテキストオブジェクト</a>の<a data-link-type="dfn"
                                href="#backgroundfetchevent-background-fetch"
                                id="ref-for-backgroundfetchevent-background-fetch">バックグラウンドフェッチ</a>とします。</p>
                    <li data-md>
                        <p>もし<var>options</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-icons" id="ref-for-dom-backgroundfetchuioptions-icons">icons</a></code>
                            メンバーが存在する場合、<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-icons"
                                id="ref-for-background-fetch-icons②">アイコン</a>を
                            <var>options</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-icons" id="ref-for-dom-backgroundfetchuioptions-icons①">icons</a></code>
                            に設定します。
                        </p>
                    <li data-md>
                        <p>もし<var>options</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-title" id="ref-for-dom-backgroundfetchuioptions-title">title</a></code>
                            メンバーが存在する場合、<var>bgFetch</var>の<a data-link-type="dfn" href="#background-fetch-title"
                                id="ref-for-background-fetch-title②">タイトル</a>を
                            <var>options</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-title" id="ref-for-dom-backgroundfetchuioptions-title①">title</a></code>
                            に設定します。
                        </p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#resolve"
                                id="ref-for-resolve⑨">Promiseを解決</a>します。</p>
                </ol>
            </div>
        </div>
        <h2 class="heading settled" data-level="7" id="automation"><span class="secno">7. </span><span
                class="content">自動化</span><a class="self-link" href="#automation"></a></h2>
        <p>ユーザーエージェントの自動化およびアプリケーションテストの目的で、この文書は<a data-link-type="dfn"
                href="https://w3c.github.io/webdriver/#dfn-extension-command"
                id="ref-for-dfn-extension-command">拡張コマンド</a>を<a data-link-type="biblio"
                href="#biblio-webdriver">[WebDriver]</a>仕様に定義します。</p>
        <h3 class="heading settled" data-level="7.1" id="automation-click"><span class="secno">7.1. </span><span
                class="content"><a data-link-type="dfn" href="#background-fetch-click"
                    id="ref-for-background-fetch-click">クリック</a></span><a class="self-link"
                href="#automation-click"></a></h3>
        <div class="algorithm" data-algorithm="background fetch click">
            <table>
                <tbody>
                    <tr>
                        <th><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method"
                                id="ref-for-concept-request-method⑥">メソッド</a>
                        <th><a data-link-type="dfn"
                                href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                                id="ref-for-dfn-extension-command-uri-template">URIテンプレート</a>
                    <tr>
                        <td>POST
                        <td>/session/{session id}/backgroundfetch/{<var>id</var>}/click
            </table>
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="background-fetch-click">バックグラウンドフェッチクリック</dfn> <a data-link-type="dfn"
                    href="https://w3c.github.io/webdriver/#dfn-extension-command"
                    id="ref-for-dfn-extension-command①">拡張コマンド</a>は、<a data-link-type="dfn"
                    href="#background-fetch-display" id="ref-for-background-fetch-display②">表示</a>の<a
                    data-link-type="dfn" href="#background-fetch"
                    id="ref-for-background-fetch①⑧">バックグラウンドフェッチ</a>をユーザーがアクティブにすることをシミュレートします。<a data-link-type="dfn"
                    href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                    id="ref-for-dfn-remote-end-steps">リモートエンドステップ</a>は以下の通りです：</p>
            <ol>
                <li data-md>
                    <p>もし<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context"
                            id="ref-for-dfn-current-top-level-browsing-context">現在のトップレベルブラウジングコンテキスト</a>
                        が<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-no-longer-open"
                            id="ref-for-dfn-no-longer-open">既に閉じられている</a>場合、<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-errors"
                            id="ref-for-dfn-errors">WebDriverエラー</a>を<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code">WebDriverエラーコード</a> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-no-such-window"
                            id="ref-for-dfn-no-such-window">no such window</a>と共に返します。</p>
                <li data-md>
                    <p><var>pageURL</var>を<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context"
                            id="ref-for-dfn-current-top-level-browsing-context①">現在のトップレベルブラウジングコンテキスト</a>の<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#active-document"
                            id="ref-for-active-document">アクティブドキュメント</a>の<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-document-url"
                            id="ref-for-concept-document-url">URL</a>とします。</p>
                <li data-md>
                    <p><var>swRegistration</var>を<var>pageURL</var>に対する<a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#match-service-worker-registration"
                            id="ref-for-match-service-worker-registration">一致するサービスワーカーレジストレーション</a>とします。
                    </p>
                <li data-md>
                    <p>もし<var>swRegistration</var>がnullの場合、<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-errors"
                            id="ref-for-dfn-errors①">WebDriverエラー</a>を<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-status"
                            id="ref-for-concept-response-status⑥">ステータス</a> <code>400</code>およびJSONエラーコード
                        "<code>invalid service worker state</code>"と共に返します。</p>
                <li data-md>
                    <p><var>bgFetch</var>を、<a data-link-type="dfn" href="#background-fetch"
                            id="ref-for-background-fetch①⑨">バックグラウンドフェッチ</a>の中で、<a data-link-type="dfn"
                            href="#background-fetch-id" id="ref-for-background-fetch-id⑤">id</a>が<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-url-variables"
                            id="ref-for-dfn-url-variables">url変数</a> <var>id</var>で、<a data-link-type="dfn"
                            href="#background-fetch-service-worker-registration"
                            id="ref-for-background-fetch-service-worker-registration⑥">サービスワーカーレジストレーション</a>が<var>swRegistration</var>の最新のものとし、それが存在しない場合はnullとします。
                    </p>
                <li data-md>
                    <p>もし<var>bgFetch</var>がnullの場合、<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-errors"
                            id="ref-for-dfn-errors②">WebDriverエラー</a>を<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-status"
                            id="ref-for-concept-response-status⑦">ステータス</a> <code>404</code>およびJSONエラーコード
                        "<code>background fetch not found</code>"と共に返します。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#fire-a-background-fetch-click-event"
                            id="ref-for-fire-a-background-fetch-click-event②">バックグラウンドフェッチクリックイベントを発火</a>
                        します。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success"
                            id="ref-for-dfn-success">WebDriver成功</a>を返します。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="8" id="privacy-and-bandwidth-use"><span class="secno">8.
            </span><span class="content">プライバシーと帯域幅の使用</span><a class="self-link" href="#privacy-and-bandwidth-use"></a>
        </h2>
        <p>フェッチは大規模で完了までに長時間かかる場合があります。この間、ユーザーは1つ以上のサーバーからデータをフェッチします。この操作中に変更される可能性のあるユーザーのIPアドレスは、時間をかけてユーザーの位置を追跡するために使用される可能性があります。
        </p>
        <p>これを軽減するために、<a data-link-type="dfn" href="#background-fetch-display"
                id="ref-for-background-fetch-display③">バックグラウンドフェッチを表示</a>する手順では以下を要求します：</p>
        <ul>
            <li data-md>
                <p>フェッチを行うサイトの<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin"
                        id="ref-for-concept-url-origin②">オリジン</a>を表示すること。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#background-fetch"
                        id="ref-for-background-fetch②①">バックグラウンドフェッチ</a>がアクティブである間、UIを閉じることができないこと。</p>
            <li data-md>
                <p>操作を簡単に中止できること。</p>
            <li data-md>
                <p>操作を一時停止状態で開始し、ユーザーの操作を必要とすること。</p>
        </ul>
        <p>この手順はまた、ユーザーが従量制接続を使用している場合、ユーザーエージェントが<a data-link-type="dfn" href="#background-fetch"
                id="ref-for-background-fetch②②">バックグラウンドフェッチ</a>を一時停止できるようにします。</p>
        <p>保存されるすべてのデータは、特定の<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration④">サービスワーカーレジストレーション</a>に関連付けられています。<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤">サービスワーカーレジストレーション</a>をクリアすると、関連付けられたすべての<a
                data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②③">バックグラウンドフェッチ</a>がクリアされます。
        </p>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">適合性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文書の規約</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>適合性の要件は、記述的な断言とRFC 2119の用語を組み合わせて表現されています。
            重要な単語である「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、
            「MAY」、「OPTIONAL」は、本書の規範的な部分において、RFC 2119で説明されているとおりに解釈されます。
            ただし、可読性のため、これらの単語は本仕様ではすべて大文字では表示されていません。</p>
        <p>本仕様のテキストは、非規範的と明記されたセクション、例、および注意書きを除き、すべて規範的です。<a data-link-type="biblio"
                href="#biblio-rfc2119">[RFC2119]</a></p>
        <p>本仕様における例は、「例えば」という言葉で導入されるか、
            または<code>class="example"</code>で設定されることで、規範的なテキストから区別されます。
            次のように:</p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>これは情報例の一例です。</p>
        </div>
        <p>情報提供のための注意書きは「注意」という言葉で始まり、
            <code>class="note"</code>で設定されることで、規範的なテキストから区別されます。
            次のように:
        </p>
        <p class="note" role="note">注意: これは情報提供のための注意書きです。</p>
        <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                class="content">適合するアルゴリズム</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
        <p>アルゴリズムの一部として命令形で表現された要件
            （例えば「先頭のスペース文字を削除する」や「falseを返し、これらの手順を中止する」など）は、
            アルゴリズムを導入する際に使用される重要な単語
            （「must」、「should」、「may」など）の意味に従って解釈されるべきです。</p>
        <p>アルゴリズムまたは具体的な手順として表現された適合性の要件は、
            結果が同等である限り、どのような方法でも実装可能です。
            特に、本仕様で定義されたアルゴリズムは理解しやすいように設計されており、
            パフォーマンスを意図したものではありません。
            実装者は最適化を推奨されます。</p>
    </div>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">この仕様で定義される用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            ""
            <ul>
                <li><a href="#dom-backgroundfetchfailurereason">BackgroundFetchFailureReason の列挙値</a><span>,
                        §6.4 にあります</span>
                <li><a href="#dom-backgroundfetchresult">BackgroundFetchResult の列挙値</a><span>, §6.4 にあります</span>
            </ul>
        <li><a href="#dom-backgroundfetchregistration-abort">abort()</a><span>, §6.4.2 にあります</span>
        <li><a href="#background-fetch-abort-all-flag">すべて中止フラグ</a><span>, §3.2 にあります</span>
        <li><a href="#dom-backgroundfetchfailurereason-aborted">"aborted"</a><span>, §6.4 にあります</span>
        <li><a href="#service-worker-registration-active-background-fetches">アクティブなバックグラウンドフェッチ</a><span>, §3.1
                にあります</span>
        <li><a
                href="#service-worker-registration-active-background-fetches-edit-queue">アクティブなバックグラウンドフェッチ編集キュー</a><span>,
                §3.1 にあります</span>
        <li>
            バックグラウンドフェッチ
            <ul>
                <li><a href="#background-fetch">定義</a><span>, §3.2 にあります</span>
                <li><a href="#backgroundfetchevent-background-fetch">BackgroundFetchEvent の定義</a><span>, §6.6
                        にあります</span>
                <li><a href="#backgroundfetchregistration-background-fetch">BackgroundFetchRegistration の定義</a><span>,
                        §6.4 にあります</span>
            </ul>
        <li><a href="#dom-serviceworkerregistration-backgroundfetch">backgroundFetch</a><span>, §6.2 にあります</span>
        <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchabort">backgroundfetchabort</a><span>, §6.1.1
                にあります</span>
        <li><a href="#background-fetch-click">バックグラウンドフェッチクリック</a><span>, §7.1 にあります</span>
        <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchclick">backgroundfetchclick</a><span>, §6.1.1
                にあります</span>
        <li><a href="#backgroundfetchevent">BackgroundFetchEvent</a><span>, §6.6 にあります</span>
        <li><a href="#dictdef-backgroundfetcheventinit">BackgroundFetchEventInit</a><span>, §6.6 にあります</span>
        <li><a href="#dom-backgroundfetchevent-backgroundfetchevent">BackgroundFetchEvent(type, init)</a><span>, §6.6
                にあります</span>
        <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchfail">backgroundfetchfail</a><span>, §6.1.1
                にあります</span>
        <li><a href="#enumdef-backgroundfetchfailurereason">BackgroundFetchFailureReason</a><span>, §6.4 にあります</span>
        <li><a href="#serviceworkerregistration-background-fetch-manager">バックグラウンドフェッチマネージャー</a><span>, §6.2
                にあります</span>
        <li><a href="#backgroundfetchmanager">BackgroundFetchManager</a><span>, §6.3 にあります</span>
        <li><a href="#dictdef-backgroundfetchoptions">BackgroundFetchOptions</a><span>, §6.3 にあります</span>
        <li><a href="#background-fetch-record">バックグラウンドフェッチレコード</a><span>, §3.3 にあります</span>
        <li><a href="#backgroundfetchrecord">BackgroundFetchRecord</a><span>, §6.5 にあります</span>
        <li><a href="#backgroundfetchregistration">BackgroundFetchRegistration</a><span>, §6.4 にあります</span>
        <li><a href="#backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration
                のインスタンス</a><span>, §6.3 にあります</span>
        <li><a href="#background-fetch-response">バックグラウンドフェッチレスポンス</a><span>, §3.4 にあります</span>
        <li><a href="#enumdef-backgroundfetchresult">BackgroundFetchResult</a><span>, §6.4 にあります</span>
        <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchsuccess">backgroundfetchsuccess</a><span>, §6.1.1
                にあります</span>
        <li><a href="#background-fetch-task-source">バックグラウンドフェッチタスクソース</a><span>, §3 にあります</span>
        <li><a href="#dictdef-backgroundfetchuioptions">BackgroundFetchUIOptions</a><span>, §6.3 にあります</span>
        <li><a href="#backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent</a><span>, §6.7 にあります</span>
        <li><a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent(type,
                init)</a><span>, §6.7 にあります</span>
        <li><a href="#dom-backgroundfetchfailurereason-bad-status">"bad-status"</a><span>, §6.4 にあります</span>
        <li><a href="#background-fetch-response-bytes">バイト</a><span>, §3.4 にあります</span>
        <li><a href="#complete-a-record">レコードを完了する</a><span>, §4.2 にあります</span>
        <li>
            コンストラクタ(type, init)
            <ul>
                <li><a href="#dom-backgroundfetchevent-backgroundfetchevent">BackgroundFetchEvent のコンストラクタ</a><span>,
                        §6.6 にあります</span>
                <li><a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent
                        のコンストラクタ</a><span>, §6.7 にあります</span>
            </ul>
        <li><a href="#contains-background-fetch">バックグラウンドフェッチを含む</a><span>, §4.9 にあります</span>
        <li><a href="#create-record-objects">レコードオブジェクトを作成する</a><span>, §4.8 にあります</span>
        <li><a href="#background-fetch-display">表示</a><span>, §3.2.1 にあります</span>
        <li><a href="#does-not-contain-background-fetch">バックグラウンドフェッチを含まない</a><span>, §4.9 にあります</span>
        <li>
            ダウンロード済み
            <ul>
                <li><a href="#dom-backgroundfetchregistration-downloaded">BackgroundFetchRegistration の属性</a><span>,
                        §6.4 にあります</span>
                <li><a href="#backgroundfetchregistration-downloaded">BackgroundFetchRegistration の定義</a><span>, §6.4
                        にあります</span>
            </ul>
        <li>
            ダウンロード合計
            <ul>
                <li><a href="#backgroundfetchregistration-download-total">BackgroundFetchRegistration の定義</a><span>,
                        §6.4 にあります</span>
                <li><a href="#background-fetch-download-total">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
            </ul>
        <li>
            downloadTotal
            <ul>
                <li><a href="#dom-backgroundfetchregistration-downloadtotal">BackgroundFetchRegistration の属性</a><span>,
                        §6.4 にあります</span>
                <li><a href="#dom-backgroundfetchoptions-downloadtotal">BackgroundFetchOptions の辞書メンバー</a><span>, §6.3
                        にあります</span>
            </ul>
        <li><a href="#dom-backgroundfetchfailurereason-download-total-exceeded">"download-total-exceeded"</a><span>,
                §6.4 にあります</span>
        <li><a href="#background-fetch-response-exposed">公開</a><span>, §3.4 にあります</span>
        <li><a href="#extract-content-range-values">content-range 値を抽出する</a><span>, §4.7 にあります</span>
        <li><a href="#extract-content-range-values">content-range 値を抽出する</a><span>, §4.7 にあります</span>
        <li><a href="#dom-backgroundfetchresult-failure">"failure"</a><span>, §6.4 にあります</span>
        <li>
            失敗理由
            <ul>
                <li><a href="#backgroundfetchregistration-failure-reason">BackgroundFetchRegistration の定義</a><span>,
                        §6.4 にあります</span>
                <li><a href="#background-fetch-failure-reason">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
            </ul>
        <li><a href="#dom-backgroundfetchregistration-failurereason">failureReason</a><span>, §6.4 にあります</span>
        <li><a href="#dom-backgroundfetchfailurereason-fetch-error">"fetch-error"</a><span>, §6.4 にあります</span>
        <li><a href="#dom-backgroundfetchmanager-fetch">fetch(id, requests)</a><span>, §6.3.1 にあります</span>
        <li><a href="#dom-backgroundfetchmanager-fetch">fetch(id, requests, options)</a><span>, §6.3.1 にあります</span>
        <li><a href="#fire-a-background-fetch-click-event">バックグラウンドフェッチクリックイベントを発火する</a><span>, §4.4 にあります</span>
        <li><a href="#get-a-backgroundfetchregistration-instance">BackgroundFetchRegistration インスタンスを取得する</a><span>,
                §4.5 にあります</span>
        <li><a href="#dom-backgroundfetchmanager-get">get(id)</a><span>, §6.3.2 にあります</span>
        <li><a href="#dom-backgroundfetchmanager-getids">getIds()</a><span>, §6.3.3 にあります</span>
        <li><a href="#get-a-backgroundfetchregistration-instance">BackgroundFetchRegistration インスタンスを取得する</a><span>,
                §4.5 にあります</span>
        <li><a href="#background-fetch-icons">アイコン</a><span>, §3.2 にあります</span>
        <li><a href="#dom-backgroundfetchuioptions-icons">icons</a><span>, §6.3 にあります</span>
        <li>
            id
            <ul>
                <li><a href="#dom-backgroundfetchregistration-id">BackgroundFetchRegistration の属性</a><span>, §6.4
                        にあります</span>
                <li><a href="#backgroundfetchregistration-id">BackgroundFetchRegistration の定義</a><span>, §6.4
                        にあります</span>
                <li><a href="#background-fetch-id">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
            </ul>
        <li><a href="#dom-backgroundfetchregistration-matchall">matchAll()</a><span>, §6.4.4 にあります</span>
        <li><a href="#dom-backgroundfetchregistration-matchall">matchAll(request)</a><span>, §6.4.4 にあります</span>
        <li><a href="#dom-backgroundfetchregistration-matchall">matchAll(request, options)</a><span>, §6.4.4
                にあります</span>
        <li><a href="#dom-backgroundfetchregistration-match">match(request)</a><span>, §6.4.3 にあります</span>
        <li><a href="#dom-backgroundfetchregistration-match">match(request, options)</a><span>, §6.4.3 にあります</span>
        <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchabort">onbackgroundfetchabort</a><span>, §6.1
                にあります</span>
        <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchclick">onbackgroundfetchclick</a><span>, §6.1
                にあります</span>
        <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchfail">onbackgroundfetchfail</a><span>, §6.1
                にあります</span>
        <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess">onbackgroundfetchsuccess</a><span>, §6.1
                にあります</span>
        <li><a href="#dom-backgroundfetchregistration-onprogress">onprogress</a><span>, §6.4.1 にあります</span>
        <li><a href="#background-fetch-paused-flag">一時停止フラグ</a><span>, §3.2 にあります</span>
        <li><a href="#perform-a-background-fetch">バックグラウンドフェッチを実行する</a><span>, §4.1 にあります</span>
        <li><a href="#eventdef-backgroundfetchregistration-progress">progress</a><span>, §6.4.1 にあります</span>
        <li><a href="#queue-a-bgfetch-task">bgfetchタスクをキューに追加する</a><span>, §3 にあります</span>
        <li><a href="#dom-backgroundfetchfailurereason-quota-exceeded">"quota-exceeded"</a><span>, §6.4 にあります</span>
        <li><a href="#background-fetch-records">レコード</a><span>, §3.2 にあります</span>
        <li><a href="#dom-backgroundfetchregistration-recordsavailable">recordsAvailable</a><span>, §6.4 にあります</span>
        <li>
            レコード利用可能フラグ
            <ul>
                <li><a href="#backgroundfetchregistration-records-available-flag">BackgroundFetchRegistration
                        の定義</a><span>, §6.4 にあります</span>
                <li><a href="#background-fetch-records-available-flag">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
            </ul>
        <li>
            レジストレーション
            <ul>
                <li><a href="#dom-backgroundfetchevent-registration">BackgroundFetchEvent の属性</a><span>, §6.6
                        にあります</span>
                <li><a href="#dom-backgroundfetcheventinit-registration">BackgroundFetchEventInit の辞書メンバー</a><span>,
                        §6.6 にあります</span>
            </ul>
        <li>
            リクエスト
            <ul>
                <li><a href="#dom-backgroundfetchrecord-request">BackgroundFetchRecord の属性</a><span>, §6.5 にあります</span>
                <li><a href="#backgroundfetchrecord-request">BackgroundFetchRecord の定義</a><span>, §6.5 にあります</span>
                <li><a href="#background-fetch-record-request">バックグラウンドフェッチレコードの定義</a><span>, §3.3 にあります</span>
            </ul>
        <li><a href="#background-fetch-response-response">レスポンス</a><span>, §3.4 にあります</span>
        <li><a href="#background-fetch-record-response-data">レスポンスデータ</a><span>, §3.3 にあります</span>
        <li><a href="#backgroundfetchrecord-response-promise">レスポンスプロミス</a><span>, §6.5 にあります</span>
        <li><a href="#dom-backgroundfetchrecord-responseready">responseReady</a><span>, §6.5 にあります</span>
        <li>
            結果
            <ul>
                <li><a href="#dom-backgroundfetchregistration-result">BackgroundFetchRegistration の属性</a><span>, §6.4
                        にあります</span>
                <li><a href="#backgroundfetchregistration-result">BackgroundFetchRegistration の定義</a><span>, §6.4
                        にあります</span>
                <li><a href="#background-fetch-result">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
                <li><a href="#background-fetch-response-result">バックグラウンドフェッチレスポンスの定義</a><span>, §3.4 にあります</span>
            </ul>
        <li>
            サービスワーカーレジストレーション
            <ul>
                <li><a href="#backgroundfetchmanager-service-worker-registration">BackgroundFetchManager の定義</a><span>,
                        §6.3 にあります</span>
                <li><a href="#background-fetch-service-worker-registration">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
            </ul>
        <li><a href="#single-byte-content-range">シングルバイトのcontent-range</a><span>, §5 にあります</span>
        <li><a href="#background-fetch-stored-body-bytes-total">保存されたボディバイト合計</a><span>, §3.2 にあります</span>
        <li><a href="#dom-backgroundfetchresult-success">"success"</a><span>, §6.4 にあります</span>
        <li><a href="#temporarily-unavailable">一時的に利用できない</a><span>, §3 にあります</span>
        <li>
            タイトル
            <ul>
                <li><a href="#background-fetch-title">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
                <li><a href="#dom-backgroundfetchuioptions-title">BackgroundFetchUIOptions の辞書メンバー</a><span>, §6.3
                        にあります</span>
            </ul>
        <li><a href="#backgroundfetchupdateuievent-ui-updated-flag">UI更新済みフラグ</a><span>, §6.7 にあります</span>
        <li><a href="#update-background-fetch-instances">バックグラウンドフェッチインスタンスを更新する</a><span>, §4.3 にあります</span>
        <li><a href="#background-fetch-update-handling-queue">更新処理キュー</a><span>, §3.2 にあります</span>
        <li><a href="#dom-backgroundfetchupdateuievent-updateui">updateUI()</a><span>, §6.7.1 にあります</span>
        <li><a href="#dom-backgroundfetchupdateuievent-updateui">updateUI(options)</a><span>, §6.7.1 にあります</span>
        <li>
            アップロード済み
            <ul>
                <li><a href="#dom-backgroundfetchregistration-uploaded">BackgroundFetchRegistration の属性</a><span>, §6.4
                        にあります</span>
                <li><a href="#backgroundfetchregistration-uploaded">BackgroundFetchRegistration の定義</a><span>, §6.4
                        にあります</span>
                <li><a href="#background-fetch-uploaded">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
            </ul>
        <li>
            アップロード合計
            <ul>
                <li><a href="#backgroundfetchregistration-upload-total">BackgroundFetchRegistration の定義</a><span>, §6.4
                        にあります</span>
                <li><a href="#background-fetch-upload-total">バックグラウンドフェッチの定義</a><span>, §3.2 にあります</span>
            </ul>
        <li><a href="#dom-backgroundfetchregistration-uploadtotal">uploadTotal</a><span>, §6.4 にあります</span>
        <li><a href="#validate-a-partial-response">部分レスポンスを検証する</a><span>, §4.6 にあります</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-event">
        <a href="https://dom.spec.whatwg.org/#event">https://dom.spec.whatwg.org/#event</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-event">6.4.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventtarget">
        <a href="https://dom.spec.whatwg.org/#eventtarget">https://dom.spec.whatwg.org/#eventtarget</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventtarget">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-event-fire">
        <a href="https://dom.spec.whatwg.org/#concept-event-fire">https://dom.spec.whatwg.org/#concept-event-fire</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-event-fire">4.3. Update background fetch instances</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-event-istrusted">
        <a
            href="https://dom.spec.whatwg.org/#dom-event-istrusted">https://dom.spec.whatwg.org/#dom-event-istrusted</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-event-istrusted">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-document-url">
        <a
            href="https://dom.spec.whatwg.org/#concept-document-url">https://dom.spec.whatwg.org/#concept-document-url</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-document-url">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-realm">
        <a href="https://tc39.github.io/ecma262/#realm">https://tc39.github.io/ecma262/#realm</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-realm">4.5. Get a BackgroundFetchRegistration instance</a>
            <li><a href="#ref-for-realm①">4.8. Create record objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-headers">
        <a href="https://fetch.spec.whatwg.org/#headers">https://fetch.spec.whatwg.org/#headers</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-headers">4.8. Create record objects</a> <a href="#ref-for-headers①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-request">
        <a href="https://fetch.spec.whatwg.org/#request">https://fetch.spec.whatwg.org/#request</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-request">4.8. Create record objects</a> <a href="#ref-for-request①">(2)</a>
            <li><a href="#ref-for-request②">6.3.1. fetch()</a>
            <li><a href="#ref-for-request③">6.5. BackgroundFetchRecord</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-requestinfo">
        <a href="https://fetch.spec.whatwg.org/#requestinfo">https://fetch.spec.whatwg.org/#requestinfo</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-requestinfo">6.3. BackgroundFetchManager</a> <a href="#ref-for-requestinfo①">(2)</a>
            <li><a href="#ref-for-requestinfo②">6.3.1. fetch()</a>
            <li><a href="#ref-for-requestinfo③">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-requestinfo④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-response">
        <a href="https://fetch.spec.whatwg.org/#response">https://fetch.spec.whatwg.org/#response</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-response">4.8. Create record objects</a> <a href="#ref-for-response①">(2)</a>
            <li><a href="#ref-for-response②">6.5. BackgroundFetchRecord</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-aborted-network-error">
        <a
            href="https://fetch.spec.whatwg.org/#concept-aborted-network-error">https://fetch.spec.whatwg.org/#concept-aborted-network-error</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-aborted-network-error">4.2. Complete a record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-add-range-header">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-add-range-header">https://fetch.spec.whatwg.org/#concept-request-add-range-header</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-add-range-header">4.2. Complete a record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-response-body">
        <a
            href="https://fetch.spec.whatwg.org/#concept-response-body">https://fetch.spec.whatwg.org/#concept-response-body</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-response-body">4.2. Complete a record</a> <a
                    href="#ref-for-concept-response-body①">(2)</a>
            <li><a href="#ref-for-concept-response-body②">4.8. Create record objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-client">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-client">https://fetch.spec.whatwg.org/#concept-request-client</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-client">3.2.1. Display</a>
            <li><a href="#ref-for-concept-request-client①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-header-list-combine">
        <a
            href="https://fetch.spec.whatwg.org/#concept-header-list-combine">https://fetch.spec.whatwg.org/#concept-header-list-combine</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-header-list-combine">4.6. Validate a partial response</a> <a
                    href="#ref-for-concept-header-list-combine①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-header-list-contains">
        <a
            href="https://fetch.spec.whatwg.org/#header-list-contains">https://fetch.spec.whatwg.org/#header-list-contains</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-header-list-contains">4.6. Validate a partial response</a>
            <li><a href="#ref-for-header-list-contains①">4.7. Extract content-range values</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-credentials-mode">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">https://fetch.spec.whatwg.org/#concept-request-credentials-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-credentials-mode">3.2.1. Display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-header-list-delete">
        <a
            href="https://fetch.spec.whatwg.org/#concept-header-list-delete">https://fetch.spec.whatwg.org/#concept-header-list-delete</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-header-list-delete">4.8. Create record objects</a> <a
                    href="#ref-for-concept-header-list-delete①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-destination">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-destination">https://fetch.spec.whatwg.org/#concept-request-destination</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-destination">3.2.1. Display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-fetch">
        <a href="https://fetch.spec.whatwg.org/#concept-fetch">https://fetch.spec.whatwg.org/#concept-fetch</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-fetch">3.2.1. Display</a>
            <li><a href="#ref-for-concept-fetch①">4.2. Complete a record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-header">
        <a href="https://fetch.spec.whatwg.org/#concept-header">https://fetch.spec.whatwg.org/#concept-header</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-header">4.7. Extract content-range values</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-response-header-list">
        <a
            href="https://fetch.spec.whatwg.org/#concept-response-header-list">https://fetch.spec.whatwg.org/#concept-response-header-list</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-response-header-list">4.6. Validate a partial response</a> <a
                    href="#ref-for-concept-response-header-list①">(2)</a> <a
                    href="#ref-for-concept-response-header-list②">(3)</a>
            <li><a href="#ref-for-concept-response-header-list③">4.7. Extract content-range values</a> <a
                    href="#ref-for-concept-response-header-list④">(2)</a>
            <li><a href="#ref-for-concept-response-header-list⑤">4.8. Create record objects</a> <a
                    href="#ref-for-concept-response-header-list⑥">(2)</a> <a
                    href="#ref-for-concept-response-header-list⑦">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-response-headers">
        <a href="https://fetch.spec.whatwg.org/#response-headers">https://fetch.spec.whatwg.org/#response-headers</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-response-headers">4.8. Create record objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-method">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-method">https://fetch.spec.whatwg.org/#concept-request-method</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-method">3.2.1. Display</a> <a
                    href="#ref-for-concept-request-method①">(2)</a>
            <li><a href="#ref-for-concept-request-method②">4.2. Complete a record</a> <a
                    href="#ref-for-concept-request-method③">(2)</a> <a href="#ref-for-concept-request-method④">(3)</a>
                <a href="#ref-for-concept-request-method⑤">(4)</a>
            <li><a href="#ref-for-concept-request-method⑥">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-mode">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-mode">https://fetch.spec.whatwg.org/#concept-request-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-mode">3.2.1. Display</a>
            <li><a href="#ref-for-concept-request-mode①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-header-name">
        <a
            href="https://fetch.spec.whatwg.org/#concept-header-name">https://fetch.spec.whatwg.org/#concept-header-name</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-header-name">4.7. Extract content-range values</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-network-error">
        <a
            href="https://fetch.spec.whatwg.org/#concept-network-error">https://fetch.spec.whatwg.org/#concept-network-error</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-network-error">4.2. Complete a record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ok-status">
        <a href="https://fetch.spec.whatwg.org/#ok-status">https://fetch.spec.whatwg.org/#ok-status</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ok-status">4.2. Complete a record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-request">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-request">https://fetch.spec.whatwg.org/#concept-request-request</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-request">4.8. Create record objects</a> <a
                    href="#ref-for-concept-request-request①">(2)</a>
            <li><a href="#ref-for-concept-request-request②">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-response-response">
        <a
            href="https://fetch.spec.whatwg.org/#concept-response-response">https://fetch.spec.whatwg.org/#concept-response-response</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-response-response">4.8. Create record objects</a> <a
                    href="#ref-for-concept-response-response①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-request-service-workers-mode">
        <a
            href="https://fetch.spec.whatwg.org/#request-service-workers-mode">https://fetch.spec.whatwg.org/#request-service-workers-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-request-service-workers-mode">3.2.1. Display</a>
            <li><a href="#ref-for-request-service-workers-mode①">4.2. Complete a record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-response-status">
        <a
            href="https://fetch.spec.whatwg.org/#concept-response-status">https://fetch.spec.whatwg.org/#concept-response-status</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-response-status">4.2. Complete a record</a> <a
                    href="#ref-for-concept-response-status①">(2)</a> <a href="#ref-for-concept-response-status②">(3)</a>
                <a href="#ref-for-concept-response-status③">(4)</a>
            <li><a href="#ref-for-concept-response-status④">4.6. Validate a partial response</a> <a
                    href="#ref-for-concept-response-status⑤">(2)</a>
            <li><a href="#ref-for-concept-response-status⑥">7.1. Click</a> <a
                    href="#ref-for-concept-response-status⑦">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-body-stream">
        <a
            href="https://fetch.spec.whatwg.org/#concept-body-stream">https://fetch.spec.whatwg.org/#concept-body-stream</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-body-stream">4.2. Complete a record</a>
            <li><a href="#ref-for-concept-body-stream①">4.8. Create record objects</a>
            <li><a href="#ref-for-concept-body-stream②">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-fetch-terminate">
        <a
            href="https://fetch.spec.whatwg.org/#concept-fetch-terminate">https://fetch.spec.whatwg.org/#concept-fetch-terminate</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-fetch-terminate">4.2. Complete a record</a> <a
                    href="#ref-for-concept-fetch-terminate①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-request-url">
        <a
            href="https://fetch.spec.whatwg.org/#concept-request-url">https://fetch.spec.whatwg.org/#concept-request-url</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-request-url">3.2.1. Display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-header-value">
        <a
            href="https://fetch.spec.whatwg.org/#concept-header-value">https://fetch.spec.whatwg.org/#concept-header-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-header-value">4.7. Extract content-range values</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventhandler">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventhandler">6.1. Extensions to ServiceWorkerGlobalScope</a> <a
                    href="#ref-for-eventhandler①">(2)</a> <a href="#ref-for-eventhandler②">(3)</a> <a
                    href="#ref-for-eventhandler③">(4)</a>
            <li><a href="#ref-for-eventhandler④">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-active-document">
        <a
            href="https://html.spec.whatwg.org/multipage/browsers.html#active-document">https://html.spec.whatwg.org/multipage/browsers.html#active-document</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-active-document">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-enqueue-the-following-steps">
        <a
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps">https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-enqueue-the-following-steps">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-enqueue-the-following-steps①">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-enqueue-the-following-steps②">6.3.1. fetch()</a>
            <li><a href="#ref-for-enqueue-the-following-steps③">6.3.2. get()</a>
            <li><a href="#ref-for-enqueue-the-following-steps④">6.4.2. abort()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-environment-settings-object">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-environment-settings-object">3.2.1. Display</a>
            <li><a href="#ref-for-environment-settings-object①">4.3. Update background fetch instances</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-event-handlers">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-event-handlers">6.1.1. Events</a> <a href="#ref-for-event-handlers①">(2)</a>
            <li><a href="#ref-for-event-handlers②">6.4.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-event-handler-event-type">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-event-handler-event-type">6.1.1. Events</a> <a
                    href="#ref-for-event-handler-event-type①">(2)</a>
            <li><a href="#ref-for-event-handler-event-type②">6.4.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-event-handler-idl-attributes">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-event-handler-idl-attributes">6.1.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-agent-event-loop">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop">https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-agent-event-loop">3. Infrastructure</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-in-parallel">
        <a
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-in-parallel">4.1. Perform a background fetch</a> <a
                    href="#ref-for-in-parallel①">(2)</a>
            <li><a href="#ref-for-in-parallel②">4.8. Create record objects</a> <a href="#ref-for-in-parallel③">(2)</a>
            <li><a href="#ref-for-in-parallel④">6.3.1. fetch()</a> <a href="#ref-for-in-parallel⑤">(2)</a> <a
                    href="#ref-for-in-parallel⑥">(3)</a>
            <li><a href="#ref-for-in-parallel⑦">6.3.2. get()</a>
            <li><a href="#ref-for-in-parallel⑧">6.3.3. getIds()</a>
            <li><a href="#ref-for-in-parallel⑨">6.4.2. abort()</a>
            <li><a href="#ref-for-in-parallel①⓪">6.4.4. matchAll()</a>
            <li><a href="#ref-for-in-parallel①①">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-networking-task-source">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-networking-task-source">4.8. Create record objects</a> <a
                    href="#ref-for-networking-task-source①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-settings-object-origin">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-settings-object-origin">4.3. Update background fetch instances</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-parallel-queue">
        <a
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue">https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-parallel-queue">3.1. Extensions to service worker registration</a>
            <li><a href="#ref-for-parallel-queue①">3.2. Background fetch</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-queue-a-task">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-queue-a-task">3. Infrastructure</a>
            <li><a href="#ref-for-queue-a-task①">4.8. Create record objects</a> <a href="#ref-for-queue-a-task②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-relevant-realm">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-relevant-realm">2. Realms</a>
            <li><a href="#ref-for-concept-relevant-realm①">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-concept-relevant-realm②">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-concept-relevant-realm③">4.4. Fire a background fetch click event</a>
            <li><a href="#ref-for-concept-relevant-realm④">6.3.1. fetch()</a>
            <li><a href="#ref-for-concept-relevant-realm⑤">6.3.2. get()</a>
            <li><a href="#ref-for-concept-relevant-realm⑥">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-relevant-settings-object">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-relevant-settings-object">3. Infrastructure</a>
            <li><a href="#ref-for-relevant-settings-object①">4.8. Create record objects</a> <a
                    href="#ref-for-relevant-settings-object②">(2)</a>
            <li><a href="#ref-for-relevant-settings-object③">6.3.1. fetch()</a> <a
                    href="#ref-for-relevant-settings-object④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-responsible-event-loop">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop">https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-responsible-event-loop">3. Infrastructure</a>
            <li><a href="#ref-for-responsible-event-loop①">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-responsible-event-loop②">4.8. Create record objects</a> <a
                    href="#ref-for-responsible-event-loop③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-starting-a-new-parallel-queue">
        <a
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue">https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-starting-a-new-parallel-queue">3.1. Extensions to service worker registration</a>
            <li><a href="#ref-for-starting-a-new-parallel-queue①">3.2. Background fetch</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-task-source">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">https://html.spec.whatwg.org/multipage/webappapis.html#task-source</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-task-source">3. Infrastructure</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-imageresource">
        <a
            href="https://w3c.github.io/image-resource/#dom-imageresource">https://w3c.github.io/image-resource/#dom-imageresource</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-imageresource">3.2. Background fetch</a>
            <li><a href="#ref-for-dom-imageresource①">6.3. BackgroundFetchManager</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-image-resource">
        <a
            href="https://w3c.github.io/image-resource/#image-resource">https://w3c.github.io/image-resource/#image-resource</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-image-resource">3.2.1. Display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-processing-an-imageresource-from-an-api">
        <a
            href="https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api">https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-processing-an-imageresource-from-an-api">3.2.1. Display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-src">
        <a href="https://w3c.github.io/image-resource/#dfn-src">https://w3c.github.io/image-resource/#dfn-src</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-src">3.2.1. Display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-abort-when">
        <a href="https://infra.spec.whatwg.org/#abort-when">https://infra.spec.whatwg.org/#abort-when</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-abort-when">4.2. Complete a record</a>
            <li><a href="#ref-for-abort-when①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-append">
        <a href="https://infra.spec.whatwg.org/#list-append">https://infra.spec.whatwg.org/#list-append</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-append">4.8. Create record objects</a>
            <li><a href="#ref-for-list-append①">6.3.1. fetch()</a>
            <li><a href="#ref-for-list-append②">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-byte-sequence">
        <a href="https://infra.spec.whatwg.org/#byte-sequence">https://infra.spec.whatwg.org/#byte-sequence</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-byte-sequence">3.4. Background fetch response</a> <a
                    href="#ref-for-byte-sequence①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-byte-case-insensitive">
        <a
            href="https://infra.spec.whatwg.org/#byte-case-insensitive">https://infra.spec.whatwg.org/#byte-case-insensitive</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-byte-case-insensitive">4.7. Extract content-range values</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-iteration-continue">
        <a
            href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-iteration-continue">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-empty">
        <a href="https://infra.spec.whatwg.org/#list-empty">https://infra.spec.whatwg.org/#list-empty</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-empty">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-map-exists">
        <a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-map-exists">4.5. Get a BackgroundFetchRegistration instance</a>
            <li><a href="#ref-for-map-exists①">4.9. Contains background fetch</a>
            <li><a href="#ref-for-map-exists②">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-iterate">
        <a href="https://infra.spec.whatwg.org/#list-iterate">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-iterate">3.2. Background fetch</a>
            <li><a href="#ref-for-list-iterate①">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-list-iterate②">4.8. Create record objects</a>
            <li><a href="#ref-for-list-iterate③">6.3.1. fetch()</a> <a href="#ref-for-list-iterate④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-map-getting-the-keys">
        <a
            href="https://infra.spec.whatwg.org/#map-getting-the-keys">https://infra.spec.whatwg.org/#map-getting-the-keys</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-map-getting-the-keys">6.3.3. getIds()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-if-aborted">
        <a href="https://infra.spec.whatwg.org/#if-aborted">https://infra.spec.whatwg.org/#if-aborted</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-if-aborted">4.2. Complete a record</a>
            <li><a href="#ref-for-if-aborted①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-byte-sequence-length">
        <a
            href="https://infra.spec.whatwg.org/#byte-sequence-length">https://infra.spec.whatwg.org/#byte-sequence-length</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-byte-sequence-length">3.2. Background fetch</a>
            <li><a href="#ref-for-byte-sequence-length①">4.2. Complete a record</a> <a
                    href="#ref-for-byte-sequence-length②">(2)</a>
            <li><a href="#ref-for-byte-sequence-length③">4.8. Create record objects</a> <a
                    href="#ref-for-byte-sequence-length④">(2)</a> <a href="#ref-for-byte-sequence-length⑤">(3)</a> <a
                    href="#ref-for-byte-sequence-length⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list">
        <a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-list">3.2. Background fetch</a> <a href="#ref-for-list①">(2)</a>
            <li><a href="#ref-for-list②">4.8. Create record objects</a> <a href="#ref-for-list③">(2)</a>
            <li><a href="#ref-for-list④">6.3.1. fetch()</a> <a href="#ref-for-list⑤">(2)</a>
            <li><a href="#ref-for-list⑥">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ordered-map">
        <a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ordered-map">3.1. Extensions to service worker registration</a> <a
                    href="#ref-for-ordered-map①">(2)</a>
            <li><a href="#ref-for-ordered-map②">4.9. Contains background fetch</a> <a
                    href="#ref-for-ordered-map③">(2)</a>
            <li><a href="#ref-for-ordered-map④">6.3. BackgroundFetchManager</a> <a href="#ref-for-ordered-map⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-size">
        <a href="https://infra.spec.whatwg.org/#list-size">https://infra.spec.whatwg.org/#list-size</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-size">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-list-size①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dictdef-permissiondescriptor">
        <a
            href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor">https://w3c.github.io/permissions/#dictdef-permissiondescriptor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-permissiondescriptor">3.2.1. Display</a>
            <li><a href="#ref-for-dictdef-permissiondescriptor①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-permissiondescriptor-name">
        <a
            href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name">https://w3c.github.io/permissions/#dom-permissiondescriptor-name</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-permissiondescriptor-name">3.2.1. Display</a>
            <li><a href="#ref-for-dom-permissiondescriptor-name①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-new-information-about-the-users-intent">
        <a
            href="https://w3c.github.io/permissions/#new-information-about-the-users-intent">https://w3c.github.io/permissions/#new-information-about-the-users-intent</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-new-information-about-the-users-intent">3.2.1. Display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-permission-state">
        <a
            href="https://w3c.github.io/permissions/#permission-state">https://w3c.github.io/permissions/#permission-state</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-permission-state">3.2.1. Display</a>
            <li><a href="#ref-for-permission-state①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dictdef-cachequeryoptions">
        <a
            href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions">https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-cachequeryoptions">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-dictdef-cachequeryoptions①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-extendableevent">
        <a
            href="https://w3c.github.io/ServiceWorker/#extendableevent">https://w3c.github.io/ServiceWorker/#extendableevent</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-extendableevent">6.6. BackgroundFetchEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dictdef-extendableeventinit">
        <a
            href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit">https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-extendableeventinit">6.6. BackgroundFetchEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-serviceworker">
        <a
            href="https://w3c.github.io/ServiceWorker/#serviceworker">https://w3c.github.io/ServiceWorker/#serviceworker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serviceworker">6.1.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-serviceworkerglobalscope">
        <a
            href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope">https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serviceworkerglobalscope">6.1. Extensions to ServiceWorkerGlobalScope</a> <a
                    href="#ref-for-serviceworkerglobalscope①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-serviceworkerregistration">
        <a
            href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration">https://w3c.github.io/ServiceWorker/#serviceworkerregistration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serviceworkerregistration">6.2. Extensions to ServiceWorkerRegistration</a> <a
                    href="#ref-for-serviceworkerregistration①">(2)</a> <a
                    href="#ref-for-serviceworkerregistration②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-extendableevent-active">
        <a
            href="https://w3c.github.io/ServiceWorker/#extendableevent-active">https://w3c.github.io/ServiceWorker/#extendableevent-active</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-extendableevent-active">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-extendableevent-active①">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-active-worker">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-active-worker">https://w3c.github.io/ServiceWorker/#dfn-active-worker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-active-worker">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-fire-functional-event">
        <a
            href="https://w3c.github.io/ServiceWorker/#fire-functional-event">https://w3c.github.io/ServiceWorker/#fire-functional-event</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fire-functional-event">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-fire-functional-event①">4.4. Fire a background fetch click event</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-match-service-worker-registration">
        <a
            href="https://w3c.github.io/ServiceWorker/#match-service-worker-registration">https://w3c.github.io/ServiceWorker/#match-service-worker-registration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-match-service-worker-registration">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-request-matches-cached-item">
        <a
            href="https://w3c.github.io/ServiceWorker/#request-matches-cached-item">https://w3c.github.io/ServiceWorker/#request-matches-cached-item</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-request-matches-cached-item">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-scope-url">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-scope-url">https://w3c.github.io/ServiceWorker/#dfn-scope-url</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-scope-url">3.2.1. Display</a>
            <li><a href="#ref-for-dfn-scope-url①">4.3. Update background fetch instances</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-service-worker">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker">https://w3c.github.io/ServiceWorker/#dfn-service-worker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-service-worker">1. Introduction</a> <a href="#ref-for-dfn-service-worker①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-service-worker-registration">
        <a
            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration">https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-service-worker-registration">3.1. Extensions to service worker registration</a>
            <li><a href="#ref-for-dfn-service-worker-registration①">3.2. Background fetch</a>
            <li><a href="#ref-for-dfn-service-worker-registration②">6.2. Extensions to ServiceWorkerRegistration</a>
            <li><a href="#ref-for-dfn-service-worker-registration③">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-dfn-service-worker-registration④">8. Privacy and bandwidth usage</a> <a
                    href="#ref-for-dfn-service-worker-registration⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-extendableevent-waituntil">
        <a
            href="https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil">https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-extendableevent-waituntil">1. Introduction</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-readablestream-cancel">
        <a
            href="https://streams.spec.whatwg.org/#readablestream-cancel">https://streams.spec.whatwg.org/#readablestream-cancel</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-readablestream-cancel">4.2. Complete a record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-readablestream-close">
        <a
            href="https://streams.spec.whatwg.org/#readablestream-close">https://streams.spec.whatwg.org/#readablestream-close</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-readablestream-close">4.8. Create record objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-readablestream-enqueue">
        <a
            href="https://streams.spec.whatwg.org/#readablestream-enqueue">https://streams.spec.whatwg.org/#readablestream-enqueue</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-readablestream-enqueue">4.8. Create record objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-readablestream-error">
        <a
            href="https://streams.spec.whatwg.org/#readablestream-error">https://streams.spec.whatwg.org/#readablestream-error</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-readablestream-error">4.8. Create record objects</a> <a
                    href="#ref-for-readablestream-error①">(2)</a>
            <li><a href="#ref-for-readablestream-error②">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-readablestream-errored">
        <a
            href="https://streams.spec.whatwg.org/#readablestream-errored">https://streams.spec.whatwg.org/#readablestream-errored</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-readablestream-errored">4.2. Complete a record</a>
            <li><a href="#ref-for-readablestream-errored①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-readablestream-readable">
        <a
            href="https://streams.spec.whatwg.org/#readablestream-readable">https://streams.spec.whatwg.org/#readablestream-readable</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-readablestream-readable">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-url-origin">
        <a href="https://url.spec.whatwg.org/#concept-url-origin">https://url.spec.whatwg.org/#concept-url-origin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-url-origin">3.2.1. Display</a>
            <li><a href="#ref-for-concept-url-origin①">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-concept-url-origin②">8. Privacy and bandwidth usage</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-current-top-level-browsing-context">
        <a
            href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context">https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-current-top-level-browsing-context">7.1. Click</a> <a
                    href="#ref-for-dfn-current-top-level-browsing-context①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-extension-command">
        <a
            href="https://w3c.github.io/webdriver/#dfn-extension-command">https://w3c.github.io/webdriver/#dfn-extension-command</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-extension-command">7. Automation</a>
            <li><a href="#ref-for-dfn-extension-command①">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-extension-command-uri-template">
        <a
            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template">https://w3c.github.io/webdriver/#dfn-extension-command-uri-template</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-extension-command-uri-template">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-no-longer-open">
        <a
            href="https://w3c.github.io/webdriver/#dfn-no-longer-open">https://w3c.github.io/webdriver/#dfn-no-longer-open</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-no-longer-open">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-no-such-window">
        <a
            href="https://w3c.github.io/webdriver/#dfn-no-such-window">https://w3c.github.io/webdriver/#dfn-no-such-window</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-no-such-window">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-remote-end-steps">
        <a
            href="https://w3c.github.io/webdriver/#dfn-remote-end-steps">https://w3c.github.io/webdriver/#dfn-remote-end-steps</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-remote-end-steps">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-url-variables">
        <a
            href="https://w3c.github.io/webdriver/#dfn-url-variables">https://w3c.github.io/webdriver/#dfn-url-variables</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-url-variables">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-errors">
        <a href="https://w3c.github.io/webdriver/#dfn-errors">https://w3c.github.io/webdriver/#dfn-errors</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-errors">7.1. Click</a> <a href="#ref-for-dfn-errors①">(2)</a> <a
                    href="#ref-for-dfn-errors②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-error-code">
        <a href="https://w3c.github.io/webdriver/#dfn-error-code">https://w3c.github.io/webdriver/#dfn-error-code</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-error-code">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-success">
        <a href="https://w3c.github.io/webdriver/#dfn-success">https://w3c.github.io/webdriver/#dfn-success</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-success">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-aborterror">
        <a href="https://heycam.github.io/webidl/#aborterror">https://heycam.github.io/webidl/#aborterror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-aborterror">4.8. Create record objects</a> <a href="#ref-for-aborterror①">(2)</a>
            <li><a href="#ref-for-aborterror②">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-ArrayBuffer">
        <a
            href="https://heycam.github.io/webidl/#idl-ArrayBuffer">https://heycam.github.io/webidl/#idl-ArrayBuffer</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-ArrayBuffer">4.8. Create record objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-DOMException">
        <a
            href="https://heycam.github.io/webidl/#idl-DOMException">https://heycam.github.io/webidl/#idl-DOMException</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-DOMException">4.8. Create record objects</a> <a
                    href="#ref-for-idl-DOMException①">(2)</a>
            <li><a href="#ref-for-idl-DOMException②">6.3.1. fetch()</a> <a href="#ref-for-idl-DOMException③">(2)</a> <a
                    href="#ref-for-idl-DOMException④">(3)</a>
            <li><a href="#ref-for-idl-DOMException⑤">6.4.4. matchAll()</a>
            <li><a href="#ref-for-idl-DOMException⑥">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-DOMString">
        <a href="https://heycam.github.io/webidl/#idl-DOMString">https://heycam.github.io/webidl/#idl-DOMString</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-DOMString">6.3. BackgroundFetchManager</a> <a
                    href="#ref-for-idl-DOMString①">(2)</a> <a href="#ref-for-idl-DOMString②">(3)</a> <a
                    href="#ref-for-idl-DOMString③">(4)</a>
            <li><a href="#ref-for-idl-DOMString④">6.4. BackgroundFetchRegistration</a>
            <li><a href="#ref-for-idl-DOMString⑤">6.6. BackgroundFetchEvent</a>
            <li><a href="#ref-for-idl-DOMString⑥">6.7. BackgroundFetchUpdateUIEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-Exposed">
        <a href="https://heycam.github.io/webidl/#Exposed">https://heycam.github.io/webidl/#Exposed</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-Exposed">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-Exposed①">6.4. BackgroundFetchRegistration</a>
            <li><a href="#ref-for-Exposed②">6.5. BackgroundFetchRecord</a>
            <li><a href="#ref-for-Exposed③">6.6. BackgroundFetchEvent</a>
            <li><a href="#ref-for-Exposed④">6.7. BackgroundFetchUpdateUIEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-invalidstateerror">
        <a
            href="https://heycam.github.io/webidl/#invalidstateerror">https://heycam.github.io/webidl/#invalidstateerror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-invalidstateerror">6.4.4. matchAll()</a>
            <li><a href="#ref-for-invalidstateerror①">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-notallowederror">
        <a
            href="https://heycam.github.io/webidl/#notallowederror">https://heycam.github.io/webidl/#notallowederror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-notallowederror">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-promise">
        <a href="https://heycam.github.io/webidl/#idl-promise">https://heycam.github.io/webidl/#idl-promise</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-promise">6.3. BackgroundFetchManager</a> <a href="#ref-for-idl-promise①">(2)</a>
                <a href="#ref-for-idl-promise②">(3)</a>
            <li><a href="#ref-for-idl-promise③">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-idl-promise④">(2)</a> <a href="#ref-for-idl-promise⑤">(3)</a>
            <li><a href="#ref-for-idl-promise⑥">6.5. BackgroundFetchRecord</a> <a href="#ref-for-idl-promise⑦">(2)</a>
            <li><a href="#ref-for-idl-promise⑧">6.7. BackgroundFetchUpdateUIEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-quotaexceedederror">
        <a
            href="https://heycam.github.io/webidl/#quotaexceedederror">https://heycam.github.io/webidl/#quotaexceedederror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-quotaexceedederror">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-exceptiondef-typeerror">
        <a
            href="https://heycam.github.io/webidl/#exceptiondef-typeerror">https://heycam.github.io/webidl/#exceptiondef-typeerror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-exceptiondef-typeerror">4.8. Create record objects</a> <a
                    href="#ref-for-exceptiondef-typeerror①">(2)</a>
            <li><a href="#ref-for-exceptiondef-typeerror②">6.3.1. fetch()</a> <a
                    href="#ref-for-exceptiondef-typeerror③">(2)</a> <a href="#ref-for-exceptiondef-typeerror④">(3)</a>
                <a href="#ref-for-exceptiondef-typeerror⑤">(4)</a> <a href="#ref-for-exceptiondef-typeerror⑥">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-Uint8Array">
        <a href="https://heycam.github.io/webidl/#idl-Uint8Array">https://heycam.github.io/webidl/#idl-Uint8Array</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-Uint8Array">4.8. Create record objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-a-new-promise">
        <a href="https://heycam.github.io/webidl/#a-new-promise">https://heycam.github.io/webidl/#a-new-promise</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-a-new-promise">4.8. Create record objects</a> <a
                    href="#ref-for-a-new-promise①">(2)</a>
            <li><a href="#ref-for-a-new-promise②">6.3.1. fetch()</a>
            <li><a href="#ref-for-a-new-promise③">6.3.2. get()</a>
            <li><a href="#ref-for-a-new-promise④">6.3.3. getIds()</a>
            <li><a href="#ref-for-a-new-promise⑤">6.4.2. abort()</a>
            <li><a href="#ref-for-a-new-promise⑥">6.4.4. matchAll()</a>
            <li><a href="#ref-for-a-new-promise⑦">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-a-promise-rejected-with">
        <a
            href="https://heycam.github.io/webidl/#a-promise-rejected-with">https://heycam.github.io/webidl/#a-promise-rejected-with</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-a-promise-rejected-with">6.3.1. fetch()</a> <a
                    href="#ref-for-a-promise-rejected-with①">(2)</a> <a href="#ref-for-a-promise-rejected-with②">(3)</a>
            <li><a href="#ref-for-a-promise-rejected-with③">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-boolean">
        <a href="https://heycam.github.io/webidl/#idl-boolean">https://heycam.github.io/webidl/#idl-boolean</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-boolean">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-idl-boolean①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-perform-steps-once-promise-is-settled">
        <a
            href="https://heycam.github.io/webidl/#dfn-perform-steps-once-promise-is-settled">https://heycam.github.io/webidl/#dfn-perform-steps-once-promise-is-settled</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-perform-steps-once-promise-is-settled">6.4.3. match()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-reject">
        <a href="https://heycam.github.io/webidl/#reject">https://heycam.github.io/webidl/#reject</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-reject">4.8. Create record objects</a> <a href="#ref-for-reject①">(2)</a>
            <li><a href="#ref-for-reject②">6.3.1. fetch()</a> <a href="#ref-for-reject③">(2)</a> <a
                    href="#ref-for-reject④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-resolve">
        <a href="https://heycam.github.io/webidl/#resolve">https://heycam.github.io/webidl/#resolve</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-resolve">4.8. Create record objects</a> <a href="#ref-for-resolve①">(2)</a>
            <li><a href="#ref-for-resolve②">6.3.1. fetch()</a>
            <li><a href="#ref-for-resolve③">6.3.2. get()</a> <a href="#ref-for-resolve④">(2)</a>
            <li><a href="#ref-for-resolve⑤">6.3.3. getIds()</a>
            <li><a href="#ref-for-resolve⑥">6.4.2. abort()</a> <a href="#ref-for-resolve⑦">(2)</a>
            <li><a href="#ref-for-resolve⑧">6.4.4. matchAll()</a>
            <li><a href="#ref-for-resolve⑨">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-sequence">
        <a href="https://heycam.github.io/webidl/#idl-sequence">https://heycam.github.io/webidl/#idl-sequence</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-sequence">6.3. BackgroundFetchManager</a> <a href="#ref-for-idl-sequence①">(2)</a>
                <a href="#ref-for-idl-sequence②">(3)</a>
            <li><a href="#ref-for-idl-sequence③">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-undefined">
        <a href="https://heycam.github.io/webidl/#idl-undefined">https://heycam.github.io/webidl/#idl-undefined</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-undefined">6.7. BackgroundFetchUpdateUIEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-unsigned-long-long">
        <a
            href="https://heycam.github.io/webidl/#idl-unsigned-long-long">https://heycam.github.io/webidl/#idl-unsigned-long-long</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-unsigned-long-long">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-idl-unsigned-long-long①">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-idl-unsigned-long-long②">(2)</a> <a href="#ref-for-idl-unsigned-long-long③">(3)</a>
                <a href="#ref-for-idl-unsigned-long-long④">(4)</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照によって定義された用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[DOM]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-event">イベント</span>
                <li><span class="dfn-paneled" id="term-for-eventtarget">イベントターゲット</span>
                <li><span class="dfn-paneled" id="term-for-concept-event-fire">イベントを発火する</span>
                <li><span class="dfn-paneled" id="term-for-dom-event-istrusted">isTrusted</span>
                <li><span class="dfn-paneled" id="term-for-concept-document-url">URL</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-realm">レルム</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-headers">ヘッダー</span>
                <li><span class="dfn-paneled" id="term-for-request">リクエスト</span>
                <li><span class="dfn-paneled" id="term-for-requestinfo">RequestInfo</span>
                <li><span class="dfn-paneled" id="term-for-response">レスポンス</span>
                <li><span class="dfn-paneled" id="term-for-concept-aborted-network-error">中止されたネットワークエラー</span>
                <li><span class="dfn-paneled" id="term-for-concept-request-add-range-header">レンジヘッダーを追加する</span>
                <li><span class="dfn-paneled" id="term-for-concept-response-body">ボディ <small>(レスポンス用)</small></span>
                <li><span class="dfn-paneled" id="term-for-concept-request-client">クライアント</span>
                <li><span class="dfn-paneled" id="term-for-concept-header-list-combine">結合</span>
                <li><span class="dfn-paneled" id="term-for-header-list-contains">含む</span>
                <li><span class="dfn-paneled" id="term-for-concept-request-credentials-mode">認証情報モード</span>
                <li><span class="dfn-paneled" id="term-for-concept-header-list-delete">削除</span>
                <li><span class="dfn-paneled" id="term-for-concept-request-destination">宛先</span>
                <li><span class="dfn-paneled" id="term-for-concept-fetch">フェッチ</span>
                <li><span class="dfn-paneled" id="term-for-concept-header">ヘッダー</span>
                <li><span class="dfn-paneled" id="term-for-concept-response-header-list">ヘッダーリスト
                        <small>(レスポンス用)</small></span>
                <li><span class="dfn-paneled" id="term-for-response-headers">レスポンスのヘッダー</span>
                <li><span class="dfn-paneled" id="term-for-concept-request-method">メソッド</span>
                <li><span class="dfn-paneled" id="term-for-concept-request-mode">モード</span>
                <li><span class="dfn-paneled" id="term-for-concept-header-name">名前</span>
                <li><span class="dfn-paneled" id="term-for-concept-network-error">ネットワークエラー</span>
                <li><span class="dfn-paneled" id="term-for-ok-status">ok ステータス</span>
                <li><span class="dfn-paneled" id="term-for-concept-request-request">リクエスト <small>(Request
                            用)</small></span>
                <li><span class="dfn-paneled" id="term-for-concept-response-response">レスポンス <small>(Response
                            用)</small></span>
                <li><span class="dfn-paneled" id="term-for-request-service-workers-mode">Service Workers モード</span>
                <li><span class="dfn-paneled" id="term-for-concept-response-status">ステータス</span>
                <li><span class="dfn-paneled" id="term-for-concept-body-stream">ストリーム</span>
                <li><span class="dfn-paneled" id="term-for-concept-fetch-terminate">終了</span>
                <li><span class="dfn-paneled" id="term-for-concept-request-url">URL</span>
                <li><span class="dfn-paneled" id="term-for-concept-header-value">値</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-eventhandler">イベントハンドラー</span>
                <li><span class="dfn-paneled" id="term-for-active-document">アクティブドキュメント</span>
                <li><span class="dfn-paneled" id="term-for-enqueue-the-following-steps">以下の手順をエンキューする</span>
                <li><span class="dfn-paneled" id="term-for-environment-settings-object">環境設定オブジェクト</span>
                <li><span class="dfn-paneled" id="term-for-event-handlers">イベントハンドラー</span>
                <li><span class="dfn-paneled" id="term-for-event-handler-event-type">イベントハンドラーイベントタイプ</span>
                <li><span class="dfn-paneled" id="term-for-event-handler-idl-attributes">イベントハンドラー IDL 属性</span>
                <li><span class="dfn-paneled" id="term-for-concept-agent-event-loop">イベントループ</span>
                <li><span class="dfn-paneled" id="term-for-in-parallel">並列で</span>
                <li><span class="dfn-paneled" id="term-for-networking-task-source">ネットワーキングタスクソース</span>
                <li><span class="dfn-paneled" id="term-for-concept-settings-object-origin">オリジン</span>
                <li><span class="dfn-paneled" id="term-for-parallel-queue">並列キュー</span>
                <li><span class="dfn-paneled" id="term-for-queue-a-task">タスクをキューに追加する</span>
                <li><span class="dfn-paneled" id="term-for-concept-relevant-realm">関連するレルム</span>
                <li><span class="dfn-paneled" id="term-for-relevant-settings-object">関連する設定オブジェクト</span>
                <li><span class="dfn-paneled" id="term-for-responsible-event-loop">責任あるイベントループ</span>
                <li><span class="dfn-paneled" id="term-for-starting-a-new-parallel-queue">新しい並列キューを開始する</span>
                <li><span class="dfn-paneled" id="term-for-task-source">タスクソース</span>
            </ul>
        <li>
            <a data-link-type="biblio">[image-resource]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-dom-imageresource">ImageResource</span>
                <li><span class="dfn-paneled" id="term-for-image-resource">画像リソース</span>
                <li><span class="dfn-paneled" id="term-for-processing-an-imageresource-from-an-api">処理</span>
                <li><span class="dfn-paneled" id="term-for-dfn-src">src</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-abort-when">中止する場合</span>
                <li><span class="dfn-paneled" id="term-for-list-append">追加</span>
                <li><span class="dfn-paneled" id="term-for-byte-sequence">バイトシーケンス</span>
                <li><span class="dfn-paneled" id="term-for-byte-case-insensitive">バイトケース無視</span>
                <li><span class="dfn-paneled" id="term-for-iteration-continue">続行</span>
                <li><span class="dfn-paneled" id="term-for-list-empty">空リスト</span>
                <li><span class="dfn-paneled" id="term-for-map-exists">存在する</span>
                <li><span class="dfn-paneled" id="term-for-list-iterate">各項目について</span>
                <li><span class="dfn-paneled" id="term-for-map-getting-the-keys">キーを取得する</span>
                <li><span class="dfn-paneled" id="term-for-if-aborted">中止された場合</span>
                <li><span class="dfn-paneled" id="term-for-byte-sequence-length">長さ</span>
                <li><span class="dfn-paneled" id="term-for-list">リスト</span>
                <li><span class="dfn-paneled" id="term-for-ordered-map">マップ</span>
                <li><span class="dfn-paneled" id="term-for-list-size">サイズ</span>
            </ul>
        <li>
            <a data-link-type="biblio">[permissions]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-dictdef-permissiondescriptor">PermissionDescriptor</span>
                <li><span class="dfn-paneled" id="term-for-dom-permissiondescriptor-name">名前</span>
                <li><span class="dfn-paneled"
                        id="term-for-new-information-about-the-users-intent">ユーザーの意図に関する新しい情報</span>
                <li><span class="dfn-paneled" id="term-for-permission-state">許可状態</span>
            </ul>
        <li>
            <a data-link-type="biblio">[service-workers-1]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-dictdef-cachequeryoptions">CacheQueryOptions</span>
                <li><span class="dfn-paneled" id="term-for-extendableevent">ExtendableEvent</span>
                <li><span class="dfn-paneled" id="term-for-dictdef-extendableeventinit">ExtendableEventInit</span>
                <li><span class="dfn-paneled" id="term-for-serviceworker">ServiceWorker</span>
                <li><span class="dfn-paneled" id="term-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</span>
                <li><span class="dfn-paneled" id="term-for-serviceworkerregistration">ServiceWorkerRegistration</span>
                <li><span class="dfn-paneled" id="term-for-extendableevent-active">アクティブ</span>
                <li><span class="dfn-paneled" id="term-for-dfn-active-worker">アクティブワーカー</span>
                <li><span class="dfn-paneled" id="term-for-fire-functional-event">機能イベントを発火する</span>
                <li><span class="dfn-paneled"
                        id="term-for-match-service-worker-registration">一致するサービスワーカーレジストレーション</span>
                <li><span class="dfn-paneled" id="term-for-request-matches-cached-item">リクエストがキャッシュされた項目に一致する</span>
                <li><span class="dfn-paneled" id="term-for-dfn-scope-url">スコープURL</span>
                <li><span class="dfn-paneled" id="term-for-dfn-service-worker">サービスワーカー</span>
                <li><span class="dfn-paneled" id="term-for-dfn-service-worker-registration">サービスワーカーレジストレーション</span>
                <li><span class="dfn-paneled" id="term-for-dom-extendableevent-waituntil">waitUntil(f)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[STREAMS]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-readablestream-cancel">キャンセル</span>
                <li><span class="dfn-paneled" id="term-for-readablestream-close">閉じる</span>
                <li><span class="dfn-paneled" id="term-for-readablestream-enqueue">エンキュー</span>
                <li><span class="dfn-paneled" id="term-for-readablestream-error">エラー</span>
                <li><span class="dfn-paneled" id="term-for-readablestream-errored">エラー状態</span>
                <li><span class="dfn-paneled" id="term-for-readablestream-readable">読み取り可能</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-concept-url-origin">オリジン</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WebDriver]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled"
                        id="term-for-dfn-current-top-level-browsing-context">現在のトップレベルブラウジングコンテキスト</span>
                <li><span class="dfn-paneled" id="term-for-dfn-extension-command">拡張コマンド</span>
                <li><span class="dfn-paneled" id="term-for-dfn-extension-command-uri-template">拡張コマンドURIテンプレート</span>
                <li><span class="dfn-paneled" id="term-for-dfn-no-longer-open">すでに閉じられている</span>
                <li><span class="dfn-paneled" id="term-for-dfn-no-such-window">そのようなウィンドウは存在しない</span>
                <li><span class="dfn-paneled" id="term-for-dfn-remote-end-steps">リモートエンドステップ</span>
                <li><span class="dfn-paneled" id="term-for-dfn-url-variables">URL変数</span>
                <li><span class="dfn-paneled" id="term-for-dfn-errors">WebDriverエラー</span>
                <li><span class="dfn-paneled" id="term-for-dfn-error-code">WebDriverエラーコード</span>
                <li><span class="dfn-paneled" id="term-for-dfn-success">WebDriver成功</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WebIDL]</a> によって以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-aborterror">AbortError</span>
                <li><span class="dfn-paneled" id="term-for-idl-ArrayBuffer">ArrayBuffer</span>
                <li><span class="dfn-paneled" id="term-for-idl-DOMException">DOMException</span>
                <li><span class="dfn-paneled" id="term-for-idl-DOMString">DOMString</span>
                <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
                <li><span class="dfn-paneled" id="term-for-invalidstateerror">InvalidStateError</span>
                <li><span class="dfn-paneled" id="term-for-notallowederror">NotAllowedError</span>
                <li><span class="dfn-paneled" id="term-for-idl-promise">Promise</span>
                <li><span class="dfn-paneled" id="term-for-quotaexceedederror">QuotaExceededError</span>
                <li><span class="dfn-paneled" id="term-for-exceptiondef-typeerror">TypeError</span>
                <li><span class="dfn-paneled" id="term-for-idl-Uint8Array">Uint8Array</span>
                <li><span class="dfn-paneled" id="term-for-a-new-promise">新しいPromise</span>
                <li><span class="dfn-paneled" id="term-for-a-promise-rejected-with">Promiseが拒否される</span>
                <li><span class="dfn-paneled" id="term-for-idl-boolean">boolean</span>
                <li><span class="dfn-paneled" id="term-for-dfn-perform-steps-once-promise-is-settled">反応する</span>
                <li><span class="dfn-paneled" id="term-for-reject">拒否</span>
                <li><span class="dfn-paneled" id="term-for-resolve">解決</span>
                <li><span class="dfn-paneled" id="term-for-idl-sequence">sequence</span>
                <li><span class="dfn-paneled" id="term-for-idl-undefined">undefined</span>
                <li><span class="dfn-paneled" id="term-for-idl-unsigned-long-long">unsigned long long</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範的な参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM標準</a>. 現行標準. URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/">ECMAScript 言語仕様</a>. URL: <a
                href="https://tc39.es/ecma262/">https://tc39.es/ecma262/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">フェッチ標準</a>. 現行標準. URL: <a
                href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML標準</a>. 現行標準. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-image-resource">[IMAGE-RESOURCE]
        <dd>Aaron Gustafson; Rayan Kanso; Marcos Caceres. <a href="https://www.w3.org/TR/image-resource/">画像リソース</a>.
            2021年3月29日. 作業草案. URL: <a
                href="https://www.w3.org/TR/image-resource/">https://www.w3.org/TR/image-resource/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/">インフラ標準</a>. 現行標準. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Mounir Lamouri; Marcos Caceres; Jeffrey Yasskin. <a href="https://www.w3.org/TR/permissions/">権限</a>.
            2020年7月20日. 作業草案. URL: <a href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">RFCで要求レベルを示すためのキーワード</a>. 1997年3月. 最良の現在の実践. URL:
            <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
        <dt id="biblio-service-workers-1">[SERVICE-WORKERS-1]
        <dd>Alex Russell; et al. <a href="https://www.w3.org/TR/service-workers-1/">サービスワーカー 1</a>. 2019年11月19日. 勧告候補.
            URL: <a href="https://www.w3.org/TR/service-workers-1/">https://www.w3.org/TR/service-workers-1/</a>
        <dt id="biblio-streams">[STREAMS]
        <dd>Adam Rice; Domenic Denicola; 吉野剛史 (Takeshi Yoshino). <a href="https://streams.spec.whatwg.org/">ストリーム標準</a>.
            現行標準. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/">URL標準</a>. 現行標準. URL: <a
                href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-webdriver">[WebDriver]
        <dd>Simon Stewart; David Burns. <a href="https://www.w3.org/TR/webdriver1/">WebDriver</a>. 2018年6月5日. 勧告. URL:
            <a href="https://www.w3.org/TR/webdriver1/">https://www.w3.org/TR/webdriver1/</a>
        <dt id="biblio-webidl">[WebIDL]
        <dd>Boris Zbarsky. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 2016年12月15日. 編集草案. URL: <a
                href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"><c- g>ServiceWorkerGlobalScope</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess"><code><c- g>onbackgroundfetchsuccess</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchfail"><code><c- g>onbackgroundfetchfail</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchabort"><code><c- g>onbackgroundfetchabort</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchclick"><code><c- g>onbackgroundfetchclick</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchmanager"><c- n>BackgroundFetchManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchManager" href="#dom-serviceworkerregistration-backgroundfetch"><c- g>backgroundFetch</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchmanager"><code><c- g>BackgroundFetchManager</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-fetch"><c- g>fetch</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-id"><code><c- g>id</c-></code></a>, (<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a>>) <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-requests"><code><c- g>requests</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchoptions"><c- n>BackgroundFetchOptions</c-></a> <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchmanager-get-id-id"><code><c- g>id</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-getids"><c- g>getIds</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetchuioptions"><code><c- g>BackgroundFetchUIOptions</c-></code></a> {
  <a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/image-resource/#dom-imageresource"><c- n>ImageResource</c-></a>> <a data-type="sequence<ImageResource> " href="#dom-backgroundfetchuioptions-icons"><code><c- g>icons</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-backgroundfetchuioptions-title"><code><c- g>title</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetchoptions"><code><c- g>BackgroundFetchOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-default="0" data-type="unsigned long long " href="#dom-backgroundfetchoptions-downloadtotal"><code><c- g>downloadTotal</c-></code></a> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchregistration"><code><c- g>BackgroundFetchRegistration</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-backgroundfetchregistration-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploadtotal"><c- g>uploadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploaded"><c- g>uploaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloadtotal"><c- g>downloadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloaded"><c- g>downloaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchresult"><c- n>BackgroundFetchResult</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchResult" href="#dom-backgroundfetchregistration-result"><c- g>result</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchfailurereason"><c- n>BackgroundFetchFailureReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchFailureReason" href="#dom-backgroundfetchregistration-failurereason"><c- g>failureReason</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-backgroundfetchregistration-recordsavailable"><c- g>recordsAvailable</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-backgroundfetchregistration-onprogress"><c- g>onprogress</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-abort"><c- g>abort</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord"><c- n>BackgroundFetchRecord</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-backgroundfetchregistration-match-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-backgroundfetchregistration-match-request-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord"><c- n>BackgroundFetchRecord</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-backgroundfetchregistration-matchall-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-backgroundfetchregistration-matchall-request-options-options"><code><c- g>options</c-></code></a> = {});
};

<c- b>enum</c-> <a href="#enumdef-backgroundfetchresult"><code><c- g>BackgroundFetchResult</c-></code></a> { <a href="#dom-backgroundfetchresult"><code><c- s>""</c-></code></a>, <a href="#dom-backgroundfetchresult-success"><code><c- s>"success"</c-></code></a>, <a href="#dom-backgroundfetchresult-failure"><code><c- s>"failure"</c-></code></a> };

<c- b>enum</c-> <a href="#enumdef-backgroundfetchfailurereason"><code><c- g>BackgroundFetchFailureReason</c-></code></a> {
  // The background fetch has not completed yet, or was successful.
  <a href="#dom-backgroundfetchfailurereason"><code><c- s>""</c-></code></a>,
  // The operation was aborted by the user, or abort() was called.
  <a href="#dom-backgroundfetchfailurereason-aborted"><code><c- s>"aborted"</c-></code></a>,
  // A response had a not-ok-status.
  <a href="#dom-backgroundfetchfailurereason-bad-status"><code><c- s>"bad-status"</c-></code></a>,
  // A fetch failed for other reasons, e.g. CORS, MIX, an invalid partial response,
  // or a general network failure for a fetch that cannot be retried.
  <a href="#dom-backgroundfetchfailurereason-fetch-error"><code><c- s>"fetch-error"</c-></code></a>,
  // Storage quota was reached during the operation.
  <a href="#dom-backgroundfetchfailurereason-quota-exceeded"><code><c- s>"quota-exceeded"</c-></code></a>,
  // The provided downloadTotal was exceeded.
  <a href="#dom-backgroundfetchfailurereason-download-total-exceeded"><code><c- s>"download-total-exceeded"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchrecord"><code><c- g>BackgroundFetchRecord</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-backgroundfetchrecord-request"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Response>" href="#dom-backgroundfetchrecord-responseready"><c- g>responseReady</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#backgroundfetchevent"><code><c- g>BackgroundFetchEvent</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-backgroundfetchevent-backgroundfetchevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <a href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-init"><code><c- g>init</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchRegistration" href="#dom-backgroundfetchevent-registration"><c- g>registration</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetcheventinit"><code><c- g>BackgroundFetchEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a> <a data-type="BackgroundFetchRegistration " href="#dom-backgroundfetcheventinit-registration"><code><c- g>registration</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#backgroundfetchupdateuievent"><code><c- g>BackgroundFetchUpdateUIEvent</c-></code></a> : <a data-link-type="idl-name" href="#backgroundfetchevent"><c- n>BackgroundFetchEvent</c-></a> {
  <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"><code><c- g>init</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchupdateuievent-updateui"><c- g>updateUI</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> <a href="#dom-backgroundfetchupdateuievent-updateui-options-options"><code><c- g>options</c-></code></a> = {});
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">問題の索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> <a href="https://github.com/w3c/manifest/pull/710">manifest/pull/710</a>.<a
                href="#issue-20b63876"> ↵ </a></div>
        <div class="issue"> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>.<a
                href="#issue-b420dc4f"> ↵ </a></div>
        <div class="issue"> この手順の残り部分では fetch
            の「コールバック」を使用していますが、これらは現在タスクをキューに追加します。ここではそれが望ましくも可能でもないため、タスクがキューに追加されないふりをしましょう。 (<a
                href="https://github.com/whatwg/fetch/issues/536#issuecomment-330184276">問題</a>)<a
                href="#issue-775cdb79"> ↵ </a></div>
        <div class="issue"> マウス移動イベントと同様にデバウンスする必要があります。<a href="#issue-20ad71fa"> ↵ </a></div>
        <div class="issue"> 整数として解析 <a href="https://github.com/whatwg/infra/issues/189">infra/189</a>.<a
                href="#issue-cddfe468"> ↵ </a></div>
        <div class="issue"> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>.<a
                href="#issue-b420dc4f①"> ↵ </a></div>
    </div>
    <aside class="dfn-panel" data-for="temporarily-unavailable">
        <b><a href="#temporarily-unavailable">#temporarily-unavailable</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-temporarily-unavailable">4.2. Complete a record</a> <a
                    href="#ref-for-temporarily-unavailable①">(2)</a> <a href="#ref-for-temporarily-unavailable②">(3)</a>
                <a href="#ref-for-temporarily-unavailable③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-task-source">
        <b><a href="#background-fetch-task-source">#background-fetch-task-source</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-task-source">3. Infrastructure</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="queue-a-bgfetch-task">
        <b><a href="#queue-a-bgfetch-task">#queue-a-bgfetch-task</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-queue-a-bgfetch-task">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-queue-a-bgfetch-task①">6.3.1. fetch()</a>
            <li><a href="#ref-for-queue-a-bgfetch-task②">6.3.2. get()</a>
            <li><a href="#ref-for-queue-a-bgfetch-task③">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="service-worker-registration-active-background-fetches">
        <b><a
                href="#service-worker-registration-active-background-fetches">#service-worker-registration-active-background-fetches</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches">4.1. Perform a background
                    fetch</a>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches①">6.3.1. fetch()</a>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches②">6.3.2. get()</a>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches③">6.3.3. getIds()</a>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches④">6.4.2. abort()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="service-worker-registration-active-background-fetches-edit-queue">
        <b><a
                href="#service-worker-registration-active-background-fetches-edit-queue">#service-worker-registration-active-background-fetches-edit-queue</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches-edit-queue">4.1. Perform a
                    background fetch</a>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches-edit-queue①">6.3.1. fetch()</a>
            <li><a href="#ref-for-service-worker-registration-active-background-fetches-edit-queue②">6.4.2. abort()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch">
        <b><a href="#background-fetch">#background-fetch</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch">3.1. Extensions to service worker registration</a>
            <li><a href="#ref-for-background-fetch①">3.2. Background fetch</a> <a
                    href="#ref-for-background-fetch②">(2)</a>
            <li><a href="#ref-for-background-fetch③">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch④">4.1. Perform a background fetch</a> <a
                    href="#ref-for-background-fetch⑤">(2)</a>
            <li><a href="#ref-for-background-fetch⑥">4.2. Complete a record</a>
            <li><a href="#ref-for-background-fetch⑦">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-background-fetch⑧">4.4. Fire a background fetch click event</a>
            <li><a href="#ref-for-background-fetch⑨">4.5. Get a BackgroundFetchRegistration instance</a> <a
                    href="#ref-for-background-fetch①⓪">(2)</a> <a href="#ref-for-background-fetch①①">(3)</a>
            <li><a href="#ref-for-background-fetch①②">4.9. Contains background fetch</a> <a
                    href="#ref-for-background-fetch①③">(2)</a>
            <li><a href="#ref-for-background-fetch①④">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-background-fetch①⑤">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch①⑥">6.4. BackgroundFetchRegistration</a>
            <li><a href="#ref-for-background-fetch①⑦">6.6. BackgroundFetchEvent</a>
            <li><a href="#ref-for-background-fetch①⑧">7.1. Click</a> <a href="#ref-for-background-fetch①⑨">(2)</a>
            <li><a href="#ref-for-background-fetch②⓪">8. Privacy and bandwidth usage</a> <a
                    href="#ref-for-background-fetch②①">(2)</a> <a href="#ref-for-background-fetch②②">(3)</a> <a
                    href="#ref-for-background-fetch②③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-id">
        <b><a href="#background-fetch-id">#background-fetch-id</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-id">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-background-fetch-id①">4.9. Contains background fetch</a>
            <li><a href="#ref-for-background-fetch-id②">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-id③">6.4. BackgroundFetchRegistration</a>
            <li><a href="#ref-for-background-fetch-id④">6.4.2. abort()</a>
            <li><a href="#ref-for-background-fetch-id⑤">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-records">
        <b><a href="#background-fetch-records">#background-fetch-records</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-records">3.2. Background fetch</a>
            <li><a href="#ref-for-background-fetch-records①">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-records②">4.1. Perform a background fetch</a> <a
                    href="#ref-for-background-fetch-records③">(2)</a>
            <li><a href="#ref-for-background-fetch-records④">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-records⑤">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-title">
        <b><a href="#background-fetch-title">#background-fetch-title</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-title">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-title①">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-title②">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-download-total">
        <b><a href="#background-fetch-download-total">#background-fetch-download-total</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-download-total">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-download-total①">4.2. Complete a record</a>
            <li><a href="#ref-for-background-fetch-download-total②">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-download-total③">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-upload-total">
        <b><a href="#background-fetch-upload-total">#background-fetch-upload-total</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-upload-total">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-upload-total①">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-upload-total②">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-uploaded">
        <b><a href="#background-fetch-uploaded">#background-fetch-uploaded</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-uploaded">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-uploaded①">4.2. Complete a record</a>
            <li><a href="#ref-for-background-fetch-uploaded②">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-background-fetch-uploaded③">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-result">
        <b><a href="#background-fetch-result">#background-fetch-result</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-result">3.2.1. Display</a> <a
                    href="#ref-for-background-fetch-result①">(2)</a> <a href="#ref-for-background-fetch-result②">(3)</a>
            <li><a href="#ref-for-background-fetch-result③">4.1. Perform a background fetch</a> <a
                    href="#ref-for-background-fetch-result④">(2)</a>
            <li><a href="#ref-for-background-fetch-result⑤">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-background-fetch-result⑥">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-failure-reason">
        <b><a href="#background-fetch-failure-reason">#background-fetch-failure-reason</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-failure-reason">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-background-fetch-failure-reason①">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-background-fetch-failure-reason②">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-records-available-flag">
        <b><a
                href="#background-fetch-records-available-flag">#background-fetch-records-available-flag</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-records-available-flag">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-background-fetch-records-available-flag①">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-background-fetch-records-available-flag②">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-icons">
        <b><a href="#background-fetch-icons">#background-fetch-icons</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-icons">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-icons①">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-icons②">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-service-worker-registration">
        <b><a
                href="#background-fetch-service-worker-registration">#background-fetch-service-worker-registration</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-service-worker-registration">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-service-worker-registration①">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-background-fetch-service-worker-registration②">4.3. Update background fetch
                    instances</a>
            <li><a href="#ref-for-background-fetch-service-worker-registration③">4.4. Fire a background fetch click
                    event</a>
            <li><a href="#ref-for-background-fetch-service-worker-registration④">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-service-worker-registration⑤">6.4.2. abort()</a>
            <li><a href="#ref-for-background-fetch-service-worker-registration⑥">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-update-handling-queue">
        <b><a
                href="#background-fetch-update-handling-queue">#background-fetch-update-handling-queue</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-update-handling-queue">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-background-fetch-update-handling-queue①">6.3.2. get()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-paused-flag">
        <b><a href="#background-fetch-paused-flag">#background-fetch-paused-flag</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-paused-flag">3.2.1. Display</a> <a
                    href="#ref-for-background-fetch-paused-flag①">(2)</a> <a
                    href="#ref-for-background-fetch-paused-flag②">(3)</a> <a
                    href="#ref-for-background-fetch-paused-flag③">(4)</a> <a
                    href="#ref-for-background-fetch-paused-flag④">(5)</a> <a
                    href="#ref-for-background-fetch-paused-flag⑤">(6)</a>
            <li><a href="#ref-for-background-fetch-paused-flag⑥">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-paused-flag⑦">(2)</a> <a
                    href="#ref-for-background-fetch-paused-flag⑧">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-abort-all-flag">
        <b><a href="#background-fetch-abort-all-flag">#background-fetch-abort-all-flag</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-abort-all-flag">3.2.1. Display</a> <a
                    href="#ref-for-background-fetch-abort-all-flag①">(2)</a>
            <li><a href="#ref-for-background-fetch-abort-all-flag②">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-background-fetch-abort-all-flag③">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-abort-all-flag④">(2)</a>
            <li><a href="#ref-for-background-fetch-abort-all-flag⑤">6.4.2. abort()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-stored-body-bytes-total">
        <b><a
                href="#background-fetch-stored-body-bytes-total">#background-fetch-stored-body-bytes-total</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-stored-body-bytes-total">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-stored-body-bytes-total①">4.2. Complete a record</a>
            <li><a href="#ref-for-background-fetch-stored-body-bytes-total②">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-background-fetch-stored-body-bytes-total③">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-display">
        <b><a href="#background-fetch-display">#background-fetch-display</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-display">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-display①">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-display②">7.1. Click</a>
            <li><a href="#ref-for-background-fetch-display③">8. Privacy and bandwidth usage</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-record">
        <b><a href="#background-fetch-record">#background-fetch-record</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-record">3.2. Background fetch</a>
            <li><a href="#ref-for-background-fetch-record①">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-record②">(2)</a> <a href="#ref-for-background-fetch-record③">(3)</a>
            <li><a href="#ref-for-background-fetch-record④">4.8. Create record objects</a> <a
                    href="#ref-for-background-fetch-record⑤">(2)</a>
            <li><a href="#ref-for-background-fetch-record⑥">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-record-request">
        <b><a href="#background-fetch-record-request">#background-fetch-record-request</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-record-request">3.2.1. Display</a>
            <li><a href="#ref-for-background-fetch-record-request①">4.2. Complete a record</a>
            <li><a href="#ref-for-background-fetch-record-request②">4.8. Create record objects</a>
            <li><a href="#ref-for-background-fetch-record-request③">6.3.1. fetch()</a>
            <li><a href="#ref-for-background-fetch-record-request④">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-record-response-data">
        <b><a href="#background-fetch-record-response-data">#background-fetch-record-response-data</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-record-response-data">3.2. Background fetch</a>
            <li><a href="#ref-for-background-fetch-record-response-data①">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-background-fetch-record-response-data②">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-record-response-data③">(2)</a>
            <li><a href="#ref-for-background-fetch-record-response-data④">4.8. Create record objects</a>
            <li><a href="#ref-for-background-fetch-record-response-data⑤">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-response">
        <b><a href="#background-fetch-response">#background-fetch-response</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-response">3.3. Background fetch record</a> <a
                    href="#ref-for-background-fetch-response①">(2)</a>
            <li><a href="#ref-for-background-fetch-response②">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-response③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-response-response">
        <b><a href="#background-fetch-response-response">#background-fetch-response-response</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-response-response">3.4. Background fetch response</a>
            <li><a href="#ref-for-background-fetch-response-response①">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-response-response②">(2)</a>
            <li><a href="#ref-for-background-fetch-response-response③">4.8. Create record objects</a> <a
                    href="#ref-for-background-fetch-response-response④">(2)</a>
            <li><a href="#ref-for-background-fetch-response-response⑤">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-response-bytes">
        <b><a href="#background-fetch-response-bytes">#background-fetch-response-bytes</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-response-bytes">3.2. Background fetch</a>
            <li><a href="#ref-for-background-fetch-response-bytes①">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-response-bytes②">(2)</a> <a
                    href="#ref-for-background-fetch-response-bytes③">(3)</a>
            <li><a href="#ref-for-background-fetch-response-bytes④">4.8. Create record objects</a> <a
                    href="#ref-for-background-fetch-response-bytes⑤">(2)</a> <a
                    href="#ref-for-background-fetch-response-bytes⑥">(3)</a> <a
                    href="#ref-for-background-fetch-response-bytes⑦">(4)</a> <a
                    href="#ref-for-background-fetch-response-bytes⑧">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-response-result">
        <b><a href="#background-fetch-response-result">#background-fetch-response-result</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-response-result">3.4. Background fetch response</a>
            <li><a href="#ref-for-background-fetch-response-result①">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-background-fetch-response-result②">4.2. Complete a record</a> <a
                    href="#ref-for-background-fetch-response-result③">(2)</a> <a
                    href="#ref-for-background-fetch-response-result④">(3)</a> <a
                    href="#ref-for-background-fetch-response-result⑤">(4)</a> <a
                    href="#ref-for-background-fetch-response-result⑥">(5)</a> <a
                    href="#ref-for-background-fetch-response-result⑦">(6)</a> <a
                    href="#ref-for-background-fetch-response-result⑧">(7)</a> <a
                    href="#ref-for-background-fetch-response-result⑨">(8)</a> <a
                    href="#ref-for-background-fetch-response-result①⓪">(9)</a> <a
                    href="#ref-for-background-fetch-response-result①①">(10)</a> <a
                    href="#ref-for-background-fetch-response-result①②">(11)</a> <a
                    href="#ref-for-background-fetch-response-result①③">(12)</a>
            <li><a href="#ref-for-background-fetch-response-result①④">4.8. Create record objects</a> <a
                    href="#ref-for-background-fetch-response-result①⑤">(2)</a> <a
                    href="#ref-for-background-fetch-response-result①⑥">(3)</a> <a
                    href="#ref-for-background-fetch-response-result①⑦">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-response-exposed">
        <b><a href="#background-fetch-response-exposed">#background-fetch-response-exposed</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-response-exposed">4.8. Create record objects</a> <a
                    href="#ref-for-background-fetch-response-exposed①">(2)</a> <a
                    href="#ref-for-background-fetch-response-exposed②">(3)</a> <a
                    href="#ref-for-background-fetch-response-exposed③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="perform-a-background-fetch">
        <b><a href="#perform-a-background-fetch">#perform-a-background-fetch</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-perform-a-background-fetch">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-perform-a-background-fetch①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="complete-a-record">
        <b><a href="#complete-a-record">#complete-a-record</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-complete-a-record">4.1. Perform a background fetch</a> <a
                    href="#ref-for-complete-a-record①">(2)</a>
            <li><a href="#ref-for-complete-a-record②">4.2. Complete a record</a> <a
                    href="#ref-for-complete-a-record③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="update-background-fetch-instances">
        <b><a href="#update-background-fetch-instances">#update-background-fetch-instances</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-update-background-fetch-instances">4.1. Perform a background fetch</a> <a
                    href="#ref-for-update-background-fetch-instances①">(2)</a>
            <li><a href="#ref-for-update-background-fetch-instances②">4.2. Complete a record</a> <a
                    href="#ref-for-update-background-fetch-instances③">(2)</a> <a
                    href="#ref-for-update-background-fetch-instances④">(3)</a>
            <li><a href="#ref-for-update-background-fetch-instances⑤">4.3. Update background fetch instances</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="fire-a-background-fetch-click-event">
        <b><a href="#fire-a-background-fetch-click-event">#fire-a-background-fetch-click-event</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-fire-a-background-fetch-click-event">3.2.1. Display</a>
            <li><a href="#ref-for-fire-a-background-fetch-click-event①">4.4. Fire a background fetch click event</a>
            <li><a href="#ref-for-fire-a-background-fetch-click-event②">7.1. Click</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="get-a-backgroundfetchregistration-instance">
        <b><a
                href="#get-a-backgroundfetchregistration-instance">#get-a-backgroundfetchregistration-instance</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-get-a-backgroundfetchregistration-instance">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-get-a-backgroundfetchregistration-instance①">4.3. Update background fetch
                    instances</a>
            <li><a href="#ref-for-get-a-backgroundfetchregistration-instance②">4.4. Fire a background fetch click
                    event</a>
            <li><a href="#ref-for-get-a-backgroundfetchregistration-instance③">4.5. Get a BackgroundFetchRegistration
                    instance</a>
            <li><a href="#ref-for-get-a-backgroundfetchregistration-instance④">6.3.1. fetch()</a>
            <li><a href="#ref-for-get-a-backgroundfetchregistration-instance⑤">6.3.2. get()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="validate-a-partial-response">
        <b><a href="#validate-a-partial-response">#validate-a-partial-response</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-validate-a-partial-response">4.2. Complete a record</a>
            <li><a href="#ref-for-validate-a-partial-response①">4.6. Validate a partial response</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="extract-content-range-values">
        <b><a href="#extract-content-range-values">#extract-content-range-values</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-extract-content-range-values">4.2. Complete a record</a>
            <li><a href="#ref-for-extract-content-range-values①">4.6. Validate a partial response</a> <a
                    href="#ref-for-extract-content-range-values②">(2)</a>
            <li><a href="#ref-for-extract-content-range-values③">4.7. Extract content-range values</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="create-record-objects">
        <b><a href="#create-record-objects">#create-record-objects</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-create-record-objects">4.2. Complete a record</a>
            <li><a href="#ref-for-create-record-objects①">4.8. Create record objects</a>
            <li><a href="#ref-for-create-record-objects②">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="contains-background-fetch">
        <b><a href="#contains-background-fetch">#contains-background-fetch</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-contains-background-fetch">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-contains-background-fetch①">4.9. Contains background fetch</a> <a
                    href="#ref-for-contains-background-fetch②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="does-not-contain-background-fetch">
        <b><a href="#does-not-contain-background-fetch">#does-not-contain-background-fetch</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-does-not-contain-background-fetch">6.4.2. abort()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="single-byte-content-range">
        <b><a href="#single-byte-content-range">#single-byte-content-range</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-single-byte-content-range">4.7. Extract content-range values</a> <a
                    href="#ref-for-single-byte-content-range①">(2)</a> <a
                    href="#ref-for-single-byte-content-range②">(3)</a> <a
                    href="#ref-for-single-byte-content-range③">(4)</a> <a
                    href="#ref-for-single-byte-content-range④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchsuccess">
        <b><a
                href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess">#dom-serviceworkerglobalscope-onbackgroundfetchsuccess</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess">6.1.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchfail">
        <b><a
                href="#dom-serviceworkerglobalscope-onbackgroundfetchfail">#dom-serviceworkerglobalscope-onbackgroundfetchfail</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchfail">6.1.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchabort">
        <b><a
                href="#dom-serviceworkerglobalscope-onbackgroundfetchabort">#dom-serviceworkerglobalscope-onbackgroundfetchabort</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchabort">6.1.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchclick">
        <b><a
                href="#dom-serviceworkerglobalscope-onbackgroundfetchclick">#dom-serviceworkerglobalscope-onbackgroundfetchclick</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchclick">6.1.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="serviceworkerregistration-background-fetch-manager">
        <b><a
                href="#serviceworkerregistration-background-fetch-manager">#serviceworkerregistration-background-fetch-manager</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serviceworkerregistration-background-fetch-manager">6.2. Extensions to
                    ServiceWorkerRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-serviceworkerregistration-backgroundfetch">
        <b><a
                href="#dom-serviceworkerregistration-backgroundfetch">#dom-serviceworkerregistration-backgroundfetch</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-serviceworkerregistration-backgroundfetch">6.2. Extensions to
                    ServiceWorkerRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchmanager">
        <b><a href="#backgroundfetchmanager">#backgroundfetchmanager</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchmanager">4.5. Get a BackgroundFetchRegistration instance</a> <a
                    href="#ref-for-backgroundfetchmanager①">(2)</a>
            <li><a href="#ref-for-backgroundfetchmanager②">6.2. Extensions to ServiceWorkerRegistration</a> <a
                    href="#ref-for-backgroundfetchmanager③">(2)</a> <a href="#ref-for-backgroundfetchmanager④">(3)</a>
            <li><a href="#ref-for-backgroundfetchmanager⑤">6.3. BackgroundFetchManager</a> <a
                    href="#ref-for-backgroundfetchmanager⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-backgroundfetchuioptions">
        <b><a href="#dictdef-backgroundfetchuioptions">#dictdef-backgroundfetchuioptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-backgroundfetchuioptions">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-dictdef-backgroundfetchuioptions①">6.7. BackgroundFetchUpdateUIEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchuioptions-icons">
        <b><a href="#dom-backgroundfetchuioptions-icons">#dom-backgroundfetchuioptions-icons</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchuioptions-icons">6.7.1. updateUI()</a> <a
                    href="#ref-for-dom-backgroundfetchuioptions-icons①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchuioptions-title">
        <b><a href="#dom-backgroundfetchuioptions-title">#dom-backgroundfetchuioptions-title</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchuioptions-title">6.7.1. updateUI()</a> <a
                    href="#ref-for-dom-backgroundfetchuioptions-title①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-backgroundfetchoptions">
        <b><a href="#dictdef-backgroundfetchoptions">#dictdef-backgroundfetchoptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-backgroundfetchoptions">6.3. BackgroundFetchManager</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchmanager-backgroundfetchregistration-instances">
        <b><a
                href="#backgroundfetchmanager-backgroundfetchregistration-instances">#backgroundfetchmanager-backgroundfetchregistration-instances</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchmanager-backgroundfetchregistration-instances">4.5. Get a
                    BackgroundFetchRegistration instance</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchmanager-service-worker-registration">
        <b><a
                href="#backgroundfetchmanager-service-worker-registration">#backgroundfetchmanager-service-worker-registration</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration">6.2. Extensions to
                    ServiceWorkerRegistration</a>
            <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration①">6.3.1. fetch()</a>
            <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration②">6.3.2. get()</a>
            <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration③">6.3.3. getIds()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchmanager-fetch">
        <b><a href="#dom-backgroundfetchmanager-fetch">#dom-backgroundfetchmanager-fetch</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchmanager-fetch">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-dom-backgroundfetchmanager-fetch①">6.3.1. fetch()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchmanager-get">
        <b><a href="#dom-backgroundfetchmanager-get">#dom-backgroundfetchmanager-get</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchmanager-get">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-dom-backgroundfetchmanager-get①">6.3.2. get()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchmanager-getids">
        <b><a href="#dom-backgroundfetchmanager-getids">#dom-backgroundfetchmanager-getids</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchmanager-getids">6.3. BackgroundFetchManager</a>
            <li><a href="#ref-for-dom-backgroundfetchmanager-getids①">6.3.3. getIds()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration">
        <b><a href="#backgroundfetchregistration">#backgroundfetchregistration</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration">4.3. Update background fetch instances</a>
            <li><a href="#ref-for-backgroundfetchregistration①">4.5. Get a BackgroundFetchRegistration instance</a> <a
                    href="#ref-for-backgroundfetchregistration②">(2)</a>
            <li><a href="#ref-for-backgroundfetchregistration③">6.3. BackgroundFetchManager</a> <a
                    href="#ref-for-backgroundfetchregistration④">(2)</a> <a
                    href="#ref-for-backgroundfetchregistration⑤">(3)</a>
            <li><a href="#ref-for-backgroundfetchregistration⑥">6.3.2. get()</a>
            <li><a href="#ref-for-backgroundfetchregistration⑦">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-backgroundfetchregistration⑧">(2)</a>
            <li><a href="#ref-for-backgroundfetchregistration⑨">6.6. BackgroundFetchEvent</a> <a
                    href="#ref-for-backgroundfetchregistration①⓪">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-backgroundfetchresult">
        <b><a href="#enumdef-backgroundfetchresult">#enumdef-backgroundfetchresult</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-backgroundfetchresult">3.2. Background fetch</a>
            <li><a href="#ref-for-enumdef-backgroundfetchresult①">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-enumdef-backgroundfetchresult②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-backgroundfetchfailurereason">
        <b><a href="#enumdef-backgroundfetchfailurereason">#enumdef-backgroundfetchfailurereason</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-backgroundfetchfailurereason">3.2. Background fetch</a>
            <li><a href="#ref-for-enumdef-backgroundfetchfailurereason①">3.4. Background fetch response</a>
            <li><a href="#ref-for-enumdef-backgroundfetchfailurereason②">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-enumdef-backgroundfetchfailurereason③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-background-fetch">
        <b><a
                href="#backgroundfetchregistration-background-fetch">#backgroundfetchregistration-background-fetch</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-background-fetch">4.3. Update background fetch
                    instances</a>
            <li><a href="#ref-for-backgroundfetchregistration-background-fetch①">4.5. Get a BackgroundFetchRegistration
                    instance</a>
            <li><a href="#ref-for-backgroundfetchregistration-background-fetch②">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-backgroundfetchregistration-background-fetch③">(2)</a> <a
                    href="#ref-for-backgroundfetchregistration-background-fetch④">(3)</a> <a
                    href="#ref-for-backgroundfetchregistration-background-fetch⑤">(4)</a> <a
                    href="#ref-for-backgroundfetchregistration-background-fetch⑥">(5)</a> <a
                    href="#ref-for-backgroundfetchregistration-background-fetch⑦">(6)</a> <a
                    href="#ref-for-backgroundfetchregistration-background-fetch⑧">(7)</a> <a
                    href="#ref-for-backgroundfetchregistration-background-fetch⑨">(8)</a>
            <li><a href="#ref-for-backgroundfetchregistration-background-fetch①⓪">6.4.2. abort()</a>
            <li><a href="#ref-for-backgroundfetchregistration-background-fetch①①">6.4.4. matchAll()</a>
            <li><a href="#ref-for-backgroundfetchregistration-background-fetch①②">6.6. BackgroundFetchEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-downloaded">
        <b><a
                href="#backgroundfetchregistration-downloaded">#backgroundfetchregistration-downloaded</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-downloaded">4.3. Update background fetch instances</a> <a
                    href="#ref-for-backgroundfetchregistration-downloaded①">(2)</a>
            <li><a href="#ref-for-backgroundfetchregistration-downloaded②">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-uploaded">
        <b><a href="#backgroundfetchregistration-uploaded">#backgroundfetchregistration-uploaded</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-uploaded">4.3. Update background fetch instances</a> <a
                    href="#ref-for-backgroundfetchregistration-uploaded①">(2)</a>
            <li><a href="#ref-for-backgroundfetchregistration-uploaded②">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-result">
        <b><a href="#backgroundfetchregistration-result">#backgroundfetchregistration-result</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-result">4.3. Update background fetch instances</a> <a
                    href="#ref-for-backgroundfetchregistration-result①">(2)</a> <a
                    href="#ref-for-backgroundfetchregistration-result②">(3)</a>
            <li><a href="#ref-for-backgroundfetchregistration-result③">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-failure-reason">
        <b><a
                href="#backgroundfetchregistration-failure-reason">#backgroundfetchregistration-failure-reason</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-failure-reason">4.3. Update background fetch instances</a>
                <a href="#ref-for-backgroundfetchregistration-failure-reason①">(2)</a>
            <li><a href="#ref-for-backgroundfetchregistration-failure-reason②">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-id">
        <b><a href="#backgroundfetchregistration-id">#backgroundfetchregistration-id</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-id">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-upload-total">
        <b><a
                href="#backgroundfetchregistration-upload-total">#backgroundfetchregistration-upload-total</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-upload-total">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-download-total">
        <b><a
                href="#backgroundfetchregistration-download-total">#backgroundfetchregistration-download-total</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-download-total">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchregistration-records-available-flag">
        <b><a
                href="#backgroundfetchregistration-records-available-flag">#backgroundfetchregistration-records-available-flag</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchregistration-records-available-flag">4.3. Update background fetch
                    instances</a> <a href="#ref-for-backgroundfetchregistration-records-available-flag①">(2)</a>
            <li><a href="#ref-for-backgroundfetchregistration-records-available-flag②">6.4.
                    BackgroundFetchRegistration</a>
            <li><a href="#ref-for-backgroundfetchregistration-records-available-flag③">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-id">
        <b><a href="#dom-backgroundfetchregistration-id">#dom-backgroundfetchregistration-id</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-id">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-uploadtotal">
        <b><a
                href="#dom-backgroundfetchregistration-uploadtotal">#dom-backgroundfetchregistration-uploadtotal</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-uploadtotal">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-downloadtotal">
        <b><a
                href="#dom-backgroundfetchregistration-downloadtotal">#dom-backgroundfetchregistration-downloadtotal</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-downloadtotal">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-uploaded">
        <b><a
                href="#dom-backgroundfetchregistration-uploaded">#dom-backgroundfetchregistration-uploaded</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-uploaded">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-downloaded">
        <b><a
                href="#dom-backgroundfetchregistration-downloaded">#dom-backgroundfetchregistration-downloaded</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-downloaded">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-result">
        <b><a
                href="#dom-backgroundfetchregistration-result">#dom-backgroundfetchregistration-result</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-result">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-failurereason">
        <b><a
                href="#dom-backgroundfetchregistration-failurereason">#dom-backgroundfetchregistration-failurereason</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-failurereason">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-recordsavailable">
        <b><a
                href="#dom-backgroundfetchregistration-recordsavailable">#dom-backgroundfetchregistration-recordsavailable</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-recordsavailable">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-onprogress">
        <b><a
                href="#dom-backgroundfetchregistration-onprogress">#dom-backgroundfetchregistration-onprogress</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-onprogress">6.4. BackgroundFetchRegistration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="eventdef-backgroundfetchregistration-progress">
        <b><a
                href="#eventdef-backgroundfetchregistration-progress">#eventdef-backgroundfetchregistration-progress</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventdef-backgroundfetchregistration-progress">6.3.2. get()</a>
            <li><a href="#ref-for-eventdef-backgroundfetchregistration-progress①">6.4.1. Events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-abort">
        <b><a href="#dom-backgroundfetchregistration-abort">#dom-backgroundfetchregistration-abort</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-abort">4.1. Perform a background fetch</a> <a
                    href="#ref-for-dom-backgroundfetchregistration-abort①">(2)</a>
            <li><a href="#ref-for-dom-backgroundfetchregistration-abort②">6.4. BackgroundFetchRegistration</a>
            <li><a href="#ref-for-dom-backgroundfetchregistration-abort③">6.4.2. abort()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-match">
        <b><a href="#dom-backgroundfetchregistration-match">#dom-backgroundfetchregistration-match</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-match">6.4. BackgroundFetchRegistration</a>
            <li><a href="#ref-for-dom-backgroundfetchregistration-match①">6.4.3. match()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchregistration-matchall">
        <b><a
                href="#dom-backgroundfetchregistration-matchall">#dom-backgroundfetchregistration-matchall</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchregistration-matchall">6.4. BackgroundFetchRegistration</a>
            <li><a href="#ref-for-dom-backgroundfetchregistration-matchall①">6.4.3. match()</a> <a
                    href="#ref-for-dom-backgroundfetchregistration-matchall②">(2)</a>
            <li><a href="#ref-for-dom-backgroundfetchregistration-matchall③">6.4.4. matchAll()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchrecord">
        <b><a href="#backgroundfetchrecord">#backgroundfetchrecord</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchrecord">4.8. Create record objects</a>
            <li><a href="#ref-for-backgroundfetchrecord①">6.4. BackgroundFetchRegistration</a> <a
                    href="#ref-for-backgroundfetchrecord②">(2)</a>
            <li><a href="#ref-for-backgroundfetchrecord③">6.5. BackgroundFetchRecord</a> <a
                    href="#ref-for-backgroundfetchrecord④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchrecord-request">
        <b><a href="#backgroundfetchrecord-request">#backgroundfetchrecord-request</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchrecord-request">6.5. BackgroundFetchRecord</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchrecord-response-promise">
        <b><a
                href="#backgroundfetchrecord-response-promise">#backgroundfetchrecord-response-promise</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchrecord-response-promise">6.5. BackgroundFetchRecord</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchrecord-request">
        <b><a href="#dom-backgroundfetchrecord-request">#dom-backgroundfetchrecord-request</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchrecord-request">4.8. Create record objects</a>
            <li><a href="#ref-for-dom-backgroundfetchrecord-request①">6.5. BackgroundFetchRecord</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchrecord-responseready">
        <b><a
                href="#dom-backgroundfetchrecord-responseready">#dom-backgroundfetchrecord-responseready</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchrecord-responseready">4.8. Create record objects</a> <a
                    href="#ref-for-dom-backgroundfetchrecord-responseready①">(2)</a> <a
                    href="#ref-for-dom-backgroundfetchrecord-responseready②">(3)</a> <a
                    href="#ref-for-dom-backgroundfetchrecord-responseready③">(4)</a>
            <li><a href="#ref-for-dom-backgroundfetchrecord-responseready④">6.5. BackgroundFetchRecord</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchevent">
        <b><a href="#backgroundfetchevent">#backgroundfetchevent</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchevent">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-backgroundfetchevent①">4.4. Fire a background fetch click event</a>
            <li><a href="#ref-for-backgroundfetchevent②">6.1.1. Events</a> <a
                    href="#ref-for-backgroundfetchevent③">(2)</a>
            <li><a href="#ref-for-backgroundfetchevent④">6.6. BackgroundFetchEvent</a> <a
                    href="#ref-for-backgroundfetchevent⑤">(2)</a>
            <li><a href="#ref-for-backgroundfetchevent⑥">6.7. BackgroundFetchUpdateUIEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-backgroundfetcheventinit">
        <b><a href="#dictdef-backgroundfetcheventinit">#dictdef-backgroundfetcheventinit</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-backgroundfetcheventinit">6.6. BackgroundFetchEvent</a>
            <li><a href="#ref-for-dictdef-backgroundfetcheventinit①">6.7. BackgroundFetchUpdateUIEvent</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchevent-background-fetch">
        <b><a href="#backgroundfetchevent-background-fetch">#backgroundfetchevent-background-fetch</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchevent-background-fetch">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchevent-registration">
        <b><a href="#dom-backgroundfetchevent-registration">#dom-backgroundfetchevent-registration</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchevent-registration">4.1. Perform a background fetch</a>
            <li><a href="#ref-for-dom-backgroundfetchevent-registration①">4.4. Fire a background fetch click event</a>
            <li><a href="#ref-for-dom-backgroundfetchevent-registration②">6.6. BackgroundFetchEvent</a> <a
                    href="#ref-for-dom-backgroundfetchevent-registration③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchupdateuievent">
        <b><a href="#backgroundfetchupdateuievent">#backgroundfetchupdateuievent</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchupdateuievent">4.1. Perform a background fetch</a> <a
                    href="#ref-for-backgroundfetchupdateuievent①">(2)</a>
            <li><a href="#ref-for-backgroundfetchupdateuievent②">6.1.1. Events</a> <a
                    href="#ref-for-backgroundfetchupdateuievent③">(2)</a>
            <li><a href="#ref-for-backgroundfetchupdateuievent④">6.7. BackgroundFetchUpdateUIEvent</a> <a
                    href="#ref-for-backgroundfetchupdateuievent⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="backgroundfetchupdateuievent-ui-updated-flag">
        <b><a
                href="#backgroundfetchupdateuievent-ui-updated-flag">#backgroundfetchupdateuievent-ui-updated-flag</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-backgroundfetchupdateuievent-ui-updated-flag">6.7.1. updateUI()</a> <a
                    href="#ref-for-backgroundfetchupdateuievent-ui-updated-flag①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-backgroundfetchupdateuievent-updateui">
        <b><a
                href="#dom-backgroundfetchupdateuievent-updateui">#dom-backgroundfetchupdateuievent-updateui</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-backgroundfetchupdateuievent-updateui">6.7. BackgroundFetchUpdateUIEvent</a>
            <li><a href="#ref-for-dom-backgroundfetchupdateuievent-updateui①">6.7.1. updateUI()</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="background-fetch-click">
        <b><a href="#background-fetch-click">#background-fetch-click</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-background-fetch-click">7.1. Click</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script>/* script-var-click-highlighting */

        document.addEventListener("click", e => {
            if (e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        {
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>