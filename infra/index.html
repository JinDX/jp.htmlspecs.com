<!doctype html>
<html lang=ja-JP>

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="#3c790a" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <title>インフラ 標準</title>
    <link crossorigin href="https://resources.whatwg.org/standard-shared-with-dev.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/standard.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/logo-infra.svg" rel="icon">
    <script crossorigin defer src="https://resources.whatwg.org/commit-snapshot-shortcut-key.js"></script>
    <!-- <meta content="Bikeshed version 7a96e07ec, updated Mon Jul 14 11:12:36 2025 -0700" name="generator">
    <meta content="00418123caa91dc603829d28adcfa51bfbd68e3f" name="revision"> -->
    <style>
        /* Used for normative exemplars of how to write algorithms, as distinct from .example */
        .exemplary-prose {
            margin-left: 2em;
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>

<body class="h-entry status-LS">
    <div class="head">

        <a class="logo" href="https://whatwg.org/">
            <img alt="WHATWG" class="darkmode-aware" crossorigin height="100"
                src="https://resources.whatwg.org/logo-infra.svg">
        </a>

        <hgroup>
            <h1 class="p-name no-ref" id="title">インフラ</h1>
            <p id="subtitle">現行標準 — 最終更新 <time class="dt-updated" datetime="2025-07-21">2025年7月21日</time>
            </p>
        </hgroup>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>参加方法:
                <dd><a href="https://github.com/whatwg/infra">GitHub whatwg/infra</a> (<a
                        href="https://github.com/whatwg/infra/issues/new/choose">新規Issue</a>, <a
                        href="https://github.com/whatwg/infra/issues">オープンIssue</a>)
                <dd><a href="https://whatwg.org/chat">Matrixでチャット</a>
                <dt>コミット履歴:
                <dd><a href="https://github.com/whatwg/infra/commits">GitHub whatwg/infra/commits</a>
                <dd><a href="/commit-snapshots/00418123caa91dc603829d28adcfa51bfbd68e3f/"
                        id="commit-snapshot-link">このコミット時点でのスナップショット</a>
                <dd><a href="https://twitter.com/infrastandard">@infrastandard</a>
                <dt>テスト:
                <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/infra">web-platform-tests infra/</a>
                    (<a href="https://github.com/web-platform-tests/wpt/labels/infra">進行中の作業</a>)
                <dt>翻訳 <small>（参考訳）</small>:
                <dd><span title="Japanese"><a href="https://triple-underscore.github.io/infra-ja.html" hreflang="ja"
                            lang="ja" rel="alternate">日本語</a></span>
                <dd><span title="Simplified Chinese"><a href="https://htmlspecs.com/infra/" hreflang="zh-hans"
                            lang="zh-hans" rel="alternate">简体中文</a></span>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p>インフラ現行標準は、標準を構築するための基本概念を定義することを目的としています。</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li><a href="#goals"><span class="secno"></span> <span class="content">目的</span></a>
            <li><a href="#usage"><span class="secno">1</span> <span class="content">利用方法</span></a>
            <li>
                <a href="#conventions"><span class="secno">2</span> <span class="content">規約</span></a>
                <ol class="toc">
                    <li><a href="#conformance"><span class="secno">2.1</span> <span class="content">適合性</span></a>
                    <li><a href="#other-specs"><span class="secno">2.2</span> <span class="content">他の仕様への準拠</span></a>
                    <li><a href="#terminology"><span class="secno">2.3</span> <span class="content">用語</span></a>
                    <li><a href="#privacy"><span class="secno">2.4</span> <span class="content">プライバシーに関する懸念</span></a>
                </ol>
            <li>
                <a href="#algorithms"><span class="secno">3</span> <span class="content">アルゴリズム</span></a>
                <ol class="toc">
                    <li><a href="#algorithm-conformance"><span class="secno">3.1</span> <span
                                class="content">適合性</span></a>
                    <li><a href="#algorithm-limits"><span class="secno">3.2</span> <span
                                class="content">アルゴリズム入力の制限回避</span></a>
                    <li><a href="#algorithm-declaration"><span class="secno">3.3</span> <span
                                class="content">宣言</span></a>
                    <li><a href="#algorithm-params"><span class="secno">3.4</span> <span
                                class="content">パラメーター</span></a>
                    <li><a href="#variables"><span class="secno">3.5</span> <span class="content">変数</span></a>
                    <li><a href="#algorithm-control-flow"><span class="secno">3.6</span> <span
                                class="content">制御フロー</span></a>
                    <li><a href="#algorithm-conditional-abort"><span class="secno">3.7</span> <span
                                class="content">条件付き中断</span></a>
                    <li><a href="#algorithm-conditional-statements"><span class="secno">3.8</span> <span
                                class="content">条件文</span></a>
                    <li><a href="#algorithm-iteration"><span class="secno">3.9</span> <span
                                class="content">反復</span></a>
                    <li><a href="#assertions"><span class="secno">3.10</span> <span class="content">アサーション</span></a>
                </ol>
            <li>
                <a href="#primitive-data-types"><span class="secno">4</span> <span class="content">プリミティブデータ型</span></a>
                <ol class="toc">
                    <li><a href="#nulls"><span class="secno">4.1</span> <span class="content">Null</span></a>
                    <li><a href="#booleans"><span class="secno">4.2</span> <span class="content">Boolean</span></a>
                    <li><a href="#numbers"><span class="secno">4.3</span> <span class="content">数値</span></a>
                    <li><a href="#bytes"><span class="secno">4.4</span> <span class="content">バイト</span></a>
                    <li><a href="#byte-sequences"><span class="secno">4.5</span> <span class="content">バイト列</span></a>
                    <li><a href="#code-points"><span class="secno">4.6</span> <span class="content">符号位置</span></a>
                    <li><a href="#strings"><span class="secno">4.7</span> <span class="content">文字列</span></a>
                    <li><a href="#time"><span class="secno">4.8</span> <span class="content">時間</span></a>
                </ol>
            <li>
                <a href="#data-structures"><span class="secno">5</span> <span class="content">データ構造</span></a>
                <ol class="toc">
                    <li>
                        <a href="#lists"><span class="secno">5.1</span> <span class="content">リスト</span></a>
                        <ol class="toc">
                            <li><a href="#stacks"><span class="secno">5.1.1</span> <span class="content">スタック</span></a>
                            <li><a href="#queues"><span class="secno">5.1.2</span> <span class="content">キュー</span></a>
                            <li><a href="#sets"><span class="secno">5.1.3</span> <span class="content">集合</span></a>
                        </ol>
                    <li><a href="#maps"><span class="secno">5.2</span> <span class="content">マップ</span></a>
                    <li>
                        <a href="#structs"><span class="secno">5.3</span> <span class="content">構造体</span></a>
                        <ol class="toc">
                            <li><a href="#tuples"><span class="secno">5.3.1</span> <span class="content">タプル</span></a>
                        </ol>
                </ol>
            <li><a href="#json"><span class="secno">6</span> <span class="content">JSON</span></a>
            <li><a href="#forgiving-base64"><span class="secno">7</span> <span class="content">許容的base64</span></a>
            <li><a href="#namespaces"><span class="secno">8</span> <span class="content">名前空間</span></a>
            <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">謝辞</span></a>
            <li><a href="#ipr"><span class="secno"></span> <span class="content">知的財産権</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義される用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照によって定義される用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">標準的な参考文献</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考情報</span></a>
                </ol>
        </ol>
    </nav>
    <main>
        <h2 class="no-num heading settled" id="goals"><span class="content">目的</span></h2>
        <ul>
            <li>
                <p>標準仕様における定型的な記述の重複を排除します。
                </p>
            <li>
                <p>標準仕様間の規約・用語・データ構造の統一を図ります。
                </p>
            <li>
                <p>複数の標準仕様で用いられるが適切な場所がない概念の受け皿となります。
                </p>
            <li>
                <p>曖昧になりがちな概念を明確にし、分かりやすく読みやすいアルゴリズム記述の助けとなります。
                </p>
        </ul>
        <p>追加の目的についての提案も歓迎します。</p>
        <h2 class="heading settled" data-level="1" id="usage"><span class="secno">1. </span><span
                class="content">利用方法</span><a class="self-link" href="#usage"></a></h2>
        <p>この標準を<var>X</var>というタイトルの文書で利用するには、以下のように記述します。
        </p>
        <p><samp><var>X</var> は <cite>インフラ</cite> に依存する。 <a data-link-type="biblio" href="#biblio-infra"
                    title="インフラ現行標準">[Infra]</a></samp>
        </p>
        <p>また、曖昧さを避けるため、すべての用語の相互参照を強く推奨します。
        </p>
        <h2 class="heading settled" data-level="2" id="conventions"><span class="secno">2. </span><span
                class="content">規約</span><a class="self-link" href="#conventions"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="conformance"><span class="secno">2.1. </span><span
                class="content">適合性</span><a class="self-link" href="#conformance"></a></h3>
        <p>すべてのアサーション、図、例、および注記は非規範的であり、明示的に非規範的と記載されたセクションも同様です。それ以外はすべて規範的です。
        </p>
        <p>キーワード "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
            "RECOMMENDED", "NOT RECOMMENDED", "MAY", "OPTIONAL" は RFC 2119 で記載されている通りに解釈されます。 <a data-link-type="biblio"
                href="#biblio-rfc2119" title="RFCsで要求レベルを示すキーワード">[RFC2119]</a>
        </p>
        <p>これらのキーワードは小文字で書かれても同等の意味を持ち、非規範的な内容には使用できません。
        </p>
        <p class="note" role="note">これは、読みやすさやRFC 8174以前の多くの文書における長年の慣習を考慮した結果、<a data-link-type="dfn"
                href="#willful-violation" id="ref-for-willful-violation">意図的な違反</a>としてRFC 8174に反していることに注意してください。 <a
                data-link-type="biblio" href="#biblio-rfc8174" title="RFC 2119 キーワードの大文字・小文字の曖昧性">[RFC8174]</a>
        </p>
        <p>上記の内容は本標準だけでなく、本標準を利用する文書にも適用されます。本標準を利用する文書では "must", "must not", "should", "may"
            に限定し、小文字で用いることがより読みやすいと一般に考えられるため推奨します。
        </p>
        <p>非規範的な内容では "strongly encouraged", "strongly discouraged", "encouraged",
            "discouraged", "can", "cannot", "could", "could not", "might", "might not" を代わりに用いることができます。
        </p>
        <h3 class="heading settled" data-level="2.2" id="other-specs"><span class="secno">2.2. </span><span
                class="content">他の仕様への準拠</span><a class="self-link" href="#other-specs"></a>
        </h3>
        <p>一般に、仕様はさまざまな他の仕様と連携し依存しています。しかし残念ながら、要件が衝突し、他の仕様の要件に違反する必要が生じる場合があります。このような場合、インフラ現行標準を利用する文書では、その逸脱を<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export
                id="willful-violation">意図的な違反</dfn>として明記し、理由も記載してください。
        </p>
        <p class="example" id="example-willful-violation"><a class="self-link"
                href="#example-willful-violation"></a>前のセクション <a href="#conformance">§ 2.1 適合性</a> では <a
                data-link-type="dfn" href="#willful-violation" id="ref-for-willful-violation①">意図的な違反</a>（RFC
            8174に対するもの）が<cite>インフラ</cite>によって記載されています。
        </p>
        <h3 class="heading settled" data-level="2.3" id="terminology"><span class="secno">2.3. </span><span
                class="content">用語</span><a class="self-link" href="#terminology"></a></h3>
        <p>「または（or）」という語は、包摂的（両方も可）の場合（例:「幅または高さが0の場合」）は「両方も含む」の意味であり、排他的な場合は明示的に「両方は不可」と記されます。
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="user-agent">ユーザーエージェント</dfn>とは、ユーザーの代わりに動作するソフトウェアエンティティであり、たとえばウェブコンテンツの取得・表示や、エンドユーザーとのやりとりの仲介などを行います。インフラ現行標準を利用する仕様では、ユーザーエージェントは一般に仕様を実装したクライアントソフトウェアのインスタンスです。このクライアントソフトウェア自体を<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="implementation">実装</dfn>と呼びます。
            一人のユーザーが複数の<a data-link-type="dfn" href="#user-agent"
                id="ref-for-user-agent">ユーザーエージェント</a>を使い分けることもあり、たとえば<a data-link-type="dfn" href="#implementation"
                id="ref-for-implementation">実装</a>を複数プロファイルやプライベートブラウジングモードで同時に動作させる場合も含まれます。
        </p>
        <p>何かが<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="implementation-defined">実装依存</dfn>とされている場合、その詳細は<a data-link-type="dfn"
                href="#implementation-defined" id="ref-for-implementation-defined">実装依存</a>の対象となる<a data-link-type="dfn"
                href="#implementation" id="ref-for-implementation①">実装</a>に委ねられます。そうした記載がない場合は逆に、本標準を利用するドキュメントでは<a
                data-link-type="dfn" href="#implementation" id="ref-for-implementation②">実装</a>は定められたルールに従わなければなりません。
        </p>
        <p class="example" id="example-implementation-defined"><a class="self-link"
                href="#example-implementation-defined"></a><var>input</var> に U+000A (LF) コードポイントを挿入する際、各行が最大
            <var>width</var> コードポイントとなるよう、<a data-link-type="dfn" href="#implementation-defined"
                id="ref-for-implementation-defined①">実装依存</a>の方法で処理します。この要件における「行」は <var>input</var> の開始、終了、および U+000A
            (LF) で区切られます。
        </p>
        <h3 class="heading settled" data-level="2.4" id="privacy"><span class="secno">2.4. </span><span
                class="content">プライバシーに関する懸念</span><a class="self-link" href="#privacy"></a></h3>
        <p>インフラ現行標準を利用する文書で定義される一部の機能は、ユーザーの利便性と引き換えに、ある程度のプライバシーを犠牲にする場合があります。
        </p>
        <p>一般的に、インターネットの構造上、ユーザーはIPアドレスによって識別されます。しかし、ユーザーがデバイスやネットワークを移動するとIPアドレスも変わり、逆にNATやプロキシ、共有PCにより、一つのIPアドレスから複数のユーザーのアクセスが発生する場合もあります。また、オニオンルーティング等の技術でリクエストの発信元を匿名化し、一つのユーザーのリクエストがネットワーク上の様々な場所から発信されているように見せることも可能です。<a
                data-link-type="biblio" href="#biblio-rfc791" title="インターネットプロトコル">[RFC791]</a>
        </p>
        <p>しかし、ユーザーのリクエストを結び付ける手段はIPアドレスだけではありません。たとえばCookieはまさにこの目的で設計されており、ウェブのセッション機能の多くはこれを基盤としています（アカウントでのログインなど）。より広くは、キャッシュや共有状態（HSTS、HTTPキャッシュ、コネクションのグルーピング、ストレージAPIなど）も悪用されうることを想定すべきです。<a
                data-link-type="biblio" href="#biblio-cookies" title="HTTP状態管理メカニズム">[COOKIES]</a> <a
                data-link-type="biblio" href="#biblio-rfc6797" title="HTTPストリクトトランスポートセキュリティ (HSTS)">[RFC6797]</a> <a
                data-link-type="biblio" href="#biblio-storage" title="ストレージ標準">[STORAGE]</a>
        </p>
        <p>さらに微妙な手法もあります。ユーザーのシステム固有の特徴を収集し、十分な情報が集まれば、個々のユーザーのブラウザの「デジタルフィンガープリント」を計算できます。これはIPアドレス以上に、同じユーザーからのリクエストを特定できる場合があります。
        </p>
        <p>このようなリクエストのグルーピングは、特に複数サイト間で悪意のある目的に利用される恐れがあります。たとえば、ある人が経路検索した住所（自宅住所）と、参加しているフォーラムサイトから推測される政治的傾向を突き合わせて、その人の選挙での投票を妨害するなどです。
        </p>
        <p>このような悪用が極めて深刻になり得るため、ユーザーエージェントの実装者や仕様策定者は、指紋付けや追跡に使われうる情報の漏洩を最小限に抑えるよう強く推奨します。
        </p>
        <p>しかし、冒頭でも述べた通り、指紋付けや追跡に悪用されうるAPIの公開は大きな利便性をもたらす場合もあり、全ての情報漏洩を防ぐだけでは十分とは言えません。たとえば、特定のIDでサイトにログインして投稿するには、同一ユーザーからのリクエストであることを識別できる必要があります。さらに、キャンバス上でテキストに枠を描画するなど、テキストの幅を取得する機能も、フォント情報の推定によるユーザーのグルーピングにつながる可能性があります。
        </p>
        <p><a class="tracking-vector" href="https://infra.spec.whatwg.org/#tracking-vector"
                style="color: currentcolor"><img alt="(これはトラッキングベクトルです。)" class="darkmode-aware" crossorigin height="64"
                    src="https://resources.whatwg.org/tracking-vector.svg" title="ここにトラッキングベクトルがあります。" width="46"></a>
            インフラ現行標準を利用する文書で定義される機能のうち、<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="tracking-vector">トラッキングベクトル</dfn>として利用され得るものは、この段落のように明示されます。
        </p>
        <p>同様の目的で利用されうる他のプラットフォーム機能には、次のようなものがあります。
        </p>
        <ul>
            <li>ユーザーエージェントがサポートする機能の正確なリスト
            <li>スクリプトにおける再帰の最大許可スタック深度
            <li>ユーザー環境を記述する機能
            <li>ユーザーのタイムゾーン
            <li>HTTPリクエストヘッダ
        </ul>
        <h2 class="heading settled" data-level="3" id="algorithms"><span class="secno">3. </span><span
                class="content">アルゴリズム</span><a class="self-link" href="#algorithms"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="algorithm-conformance"><span class="secno">3.1. </span><span
                class="content">適合性</span><a class="self-link" href="#algorithm-conformance"></a></h3>
        <p>アルゴリズムや、アルゴリズムの一部として命令形で記述された要件（例：「先頭の空白を除去する」「falseを返す」など）は、そのアルゴリズムや手順の導入部で用いられているキーワード（例："must"）の意味で解釈されます。キーワードがない場合は
            "must" が暗黙的に適用されます。
        </p>
        <div class="example" id="example-algorithms">
            <a class="self-link" href="#example-algorithms"></a>

            <p>例えば、仕様で次のように記載されていたとします：</p>
            <div class="exemplary-prose">
                <p class="allow-2119"><dfn data-var-ignore>オレンジを食べる</dfn>には、ユーザーは次を行う：</p>
                <ol class="brief">
                    <li>オレンジの皮をむく。
                    <li>オレンジを一房ずつ分ける。
                    <li>オレンジの房を食べる。
                </ol>
            </div>
            <p>これは次の記述と同等です：</p>
            <div class="exemplary-prose">
                <p><dfn data-var-ignore>オレンジを食べる</dfn>には：</p>
                <ol class="brief">
                    <li class="allow-2119">ユーザーはオレンジの皮をむかなければならない。
                    <li class="allow-2119">ユーザーはオレンジを一房ずつ分けなければならない。
                    <li class="allow-2119">ユーザーはオレンジの房を食べなければならない。
                </ol>
            </div>
            <p class="allow-2119">ここでのキーワードは "must" です。</p>
            <p class="allow-2119">上記の例を修正して、アルゴリズムの導入部が単に "To eat an orange:" であっても、"must" が暗黙的に適用されるため、意味は同じです。
            </p>
        </div>
        <p>アルゴリズムや個別の手順として記述された適合要件は、最終的な結果が同等である限り、どのような方法で実装しても構いません（特に、アルゴリズムは理解しやすいことを目的としており、性能を意図したものではありません）。
        </p>
        <p class="note" role="note">
            性能はユーザーの体感やコンピュータアーキテクチャ、入力の種類など、さまざまな要因に左右されるため取り扱いが難しいものです。例えば、JavaScriptエンジンは標準化された単一のアルゴリズムに対して複数の実装経路を持ち、速度やメモリ消費の最適化を図っています。すべての実装経路を標準化するのは現実的でなく、長期的な観点からも単一のアルゴリズムを標準化する方が望ましいため、性能面は各実装間の競争分野に委ねられます。
        </p>
        <h3 class="heading settled" data-level="3.2" id="algorithm-limits"><span class="secno">3.2. </span><span
                class="content">アルゴリズム入力の制限回避</span><a class="self-link" href="#algorithm-limits"></a></h3>
        <p>インフラ現行標準を利用する文書では、アルゴリズムの入力に関して、そのサイズやリソース使用量などに明確な制限を設けないことが一般的です。これによりユーザーエージェント間の競争を促し、将来の計算需要も妨げません。
        </p>
        <p><a class="tracking-vector" href="https://infra.spec.whatwg.org/#tracking-vector"
                style="color: currentcolor"><img alt="(これはトラッキングベクトルです。)" class="darkmode-aware" crossorigin height="64"
                    src="https://resources.whatwg.org/tracking-vector.svg" title="ここにトラッキングベクトルがあります。" width="46"></a>
            ただし、ユーザーエージェントは、他に制限がない場合でも<a data-link-type="dfn" href="#implementation-defined"
                id="ref-for-implementation-defined②">
                実装依存</a>の制限を課すことができます。例えば、サービス拒否攻撃を防ぐため、メモリ不足を防ぐため、またはプラットフォーム固有の制約を回避するためなどです。
        </p>
        <p class="note" role="note">
            グローバルなリソース制限は、リソース枯渇攻撃の一形態として副次的なチャネルとなり得ます。攻撃者が被害者のアプリケーションがグローバル制限に達したかを観測できるためです。また、制限がユーザーエージェント固有の場合は、フィンガープリントの手段ともなり得ます（基盤となるハードウェア固有の場合など）。
        </p>
        <p class="example" id="example-algorithm-limits"><a class="self-link"
                href="#example-algorithm-limits"></a>メモリ上にビットマップを作成できるAPIは、任意の大きさ、またはJavaScriptの
            <code>Number.MAX_SAFE_INTEGER</code> のような大きな上限まで許可すると仕様できるかもしれません。しかし、実装では巨大なメモリ割当てを避けるために、<a
                data-link-type="dfn" href="#implementation-defined"
                id="ref-for-implementation-defined③">実装依存</a>（つまり仕様としては未規定）の上限を設けても構いません。
        </p>
        <p class="example" id="example-algorithm-limits-language"><a class="self-link"
                href="#example-algorithm-limits-language"></a>あるプログラミング言語で最大コールスタックサイズが仕様として定められていない場合でも、実装では実用上の理由から上限を設けても構いません。
        </p>
        <p>コードが特定の制限に依存する場合もあり、相互運用性のために上限を定義することが有用な場合もあります。将来的にも問題がなければ、それを受け入れることで、より多くのユーザーエージェントでコードが動作するようになります。
        </p>
        <p>また、<a data-link-type="dfn" href="#implementation-defined"
                id="ref-for-implementation-defined④">実装依存</a>の上限に下限を設け、すべての実装が一定の最小サイズの入力を扱えるようにすることも有用です。
        </p>
        <h3 class="heading settled" data-level="3.3" id="algorithm-declaration"><span class="secno">3.3. </span><span
                class="content">宣言</span><a class="self-link" href="#algorithm-declaration"></a></h3>
        <p>アルゴリズム名は通常動詞句ですが、標準や読者がより慣用的に参照できるよう、その存在自体を強調する名前が付けられる場合もあります。
        </p>
        <p class="example" id="example-algorithm-declaration-names"><a class="self-link"
                href="#example-algorithm-declaration-names"></a>後者の例としては、「属性変更手順」「内部モジュールスクリプトグラフ取得手順」「オーバーロード解決アルゴリズム」などがあります。
        </p>
        <p>アルゴリズムは、次の形式で名前・パラメーター・戻り値の型を宣言します：
        </p>
        <p class="exemplary-prose">[アルゴリズム名]するには、[型1] <var>[parameter1]</var>、[型2] <var>[parameter2]</var> …
            を与えて、次の手順を実行する。戻り値は[戻り値の型]である。
        </p>
        <p>（動詞句でないアルゴリズム名では「[アルゴリズム名]を実行するには…」とします。より複雑なパラメーター宣言形式については<a href="#algorithm-params">§ 3.4
                パラメーター</a>も参照してください。）
        </p>
        <p class="example" id="example-algorithm-declaration"><a class="self-link"
                href="#example-algorithm-declaration"></a><a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence">バイト列</a> <var>bytes</var> を与えて <dfn
                data-var-ignore>素晴らしいフォーマットをパースする</dfn>には、次の手順を実行する。戻り値は <a data-link-type="dfn" href="#string"
                id="ref-for-string">文字列</a> または null である。
        </p>
        <p>値を返さないアルゴリズムでは、より短い形式を用います。返り値が手順から明らかな場合もこの短縮形を用いて構いません：
        </p>
        <p class="exemplary-prose">[アルゴリズム名]するには、[型1] <var>[parameter1]</var>、[型2] <var>[parameter2]</var> … を与えて：
        </p>
        <p class="example" id="example-algorithm-declaration-no-return"><a class="self-link"
                href="#example-algorithm-declaration-no-return"></a><a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence①">バイト列</a> <var>bytes</var> を与えて <dfn
                data-var-ignore>素晴らしいフォーマットをパースする</dfn>には：
        </p>
        <p>非常に短いアルゴリズムは、1文で宣言・記述できます：
        </p>
        <p class="example" id="example-algorithm-declaration-short"><a class="self-link"
                href="#example-algorithm-declaration-short"></a><a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence②">バイト列</a> <var>bytes</var> を与えて <dfn
                data-var-ignore>素晴らしいフォーマットをパースする</dfn>には、<var>bytes</var>の<a data-link-type="dfn"
                href="#isomorphic-decode" id="ref-for-isomorphic-decode">等価デコード</a>を<a data-link-type="dfn"
                href="#ascii-uppercase" id="ref-for-ascii-uppercase">ASCII大文字化</a>した結果を返す。
        </p>
        <p>型はアルゴリズム宣言に含めるべきですが、パラメーター名が十分に明確な場合や文脈から明らかな場合は省略できます（たとえば、単に他のアルゴリズムのラッパーである場合など）。
        </p>
        <p class="example" id="example-algorithm-declaration-no-types"><a class="self-link"
                href="#example-algorithm-declaration-no-types"></a><dfn
                data-var-ignore>クラシックスクリプトを読み込む</dfn>には、<var>url</var>を与えて、内部スクリプト読み込みアルゴリズムを<var>url</var>と"<code>classic</code>"で実行した結果を返す。
        </p>
        <h3 class="heading settled" data-level="3.4" id="algorithm-params"><span class="secno">3.4. </span><span
                class="content">パラメーター</span><a class="self-link" href="#algorithm-params"></a></h3>
        <p>アルゴリズムのパラメーターは通常、<a href="#algorithm-declaration">§ 3.3 宣言</a>で説明したように順番に列挙されます。ただし、より複雑な場合もあります。
        </p>
        <p>パラメーターはオプションにでき、その場合は宣言で明記し、必須パラメーターの後に記載します。デフォルト値を与える場合と、アルゴリズム本体で値が与えられたかどうかを判定する場合があります。具体的な記法は以下の通りです：
        </p>
        <p class="exemplary-prose">… オプションの[型] <var>[parameter]</var> …
        </p>
        <p class="exemplary-prose">… オプションの[型] <var>[parameter]</var>（既定値 [default value]）…
        </p>
        <p>オプションの<a data-link-type="dfn" href="#boolean"
                id="ref-for-boolean">boolean</a>パラメーターは必ずデフォルト値を指定し、その値はfalseでなければなりません。
        </p>
        <div class="example" id="example-algorithm-optional-positional-params">
            <a class="self-link" href="#example-algorithm-optional-positional-params"></a>

            <p class="allow-2119"><dfn data-var-ignore
                    id="example-navigate-algo-positional">navigate</dfn>を実行するには、リソース<var>resource</var>、オプションの文字列<var>navigationType</var>、オプションのboolean
                <var>exceptionsEnabled</var>（既定値false）を与えて：
            </p>
            <ol class="brief">
                <li>…
                <li><var>navigationType</var> が与えられていれば、それを使って何かを行う。
                <li>…
            </ol>
        </div>
        <p>このようなオプションの位置引数パラメーターを持つアルゴリズムを呼び出す際は、末尾のオプションの引数のみ省略できます。
        </p>
        <div class="example" id="example-algorithm-optional-positional-params-calling">
            <a class="self-link" href="#example-algorithm-optional-positional-params-calling"></a>

            <p>上記アルゴリズムの呼び出し例：
            </p>
            <ul class="brief">
                <li><a href="#example-navigate-algo-positional">navigate</a> to <var>resource</var>。
                <li><a href="#example-navigate-algo-positional">navigate</a> to <var>resource</var> with
                    "<code>form submission</code>"。
                <li><a href="#example-navigate-algo-positional">navigate</a> to <var>resource</var> with
                    "<code>form submission</code>" and true。
            </ul>
            <p>ただし、2番目の引数を省略して3番目に非デフォルト値を与えることはできません。また、最後の呼び出し例では "true"
                が「例外有効」であることが分かりづらく、宣言まで戻ってパラメーターを数える必要があります。これを解決する方法は後述します。
            </p>
        </div>
        <p>位置引数でなく名前付き引数を使うことで、呼び出し時の明確さと柔軟性が向上します。こうしたパラメーターは変数と定義の両方としてマークアップし、呼び出し元からリンクします。
        </p>
        <div class="example" id="example-algorithm-optional-named-params">
            <a class="self-link" href="#example-algorithm-optional-named-params"></a>

            <p class="allow-2119"><dfn data-var-ignore
                    id="example-navigate-algo-named">navigate</dfn>を実行するには、リソース<var>resource</var>、オプションの文字列<dfn
                    data-var-ignore
                    id="example-navigate-algo-navigationType"><var>navigationType</var></dfn>、オプションのboolean <dfn
                    data-var-ignore
                    id="example-navigate-algo-exceptionsEnabled"><var>exceptionsEnabled</var></dfn>（既定値false）を与えて：
            </p>
            <ol class="brief">
                <li>…
                <li><var>navigationType</var> が与えられていれば、それを使って何かを行う。
                <li>…
            </ol>
            <p>呼び出し例は下記のようになります：
            </p>
            <ul class="brief">
                <li><a href="#example-navigate-algo-named">navigate</a> to <var>resource</var>。
                <li><a href="#example-navigate-algo-named">navigate</a> to <var>resource</var> with <a
                        href="#example-navigate-algo-navigationType"><i>navigationType</i></a> set to
                    "<code>form-submission</code>"。
                <li><a href="#example-navigate-algo-named">navigate</a> to <var>resource</var> with <a
                        href="#example-navigate-algo-exceptionsEnabled"><i>exceptionsEnabled</i></a> set to true。
                <li><a href="#example-navigate-algo-named">navigate</a> to <var>resource</var> with <a
                        href="#example-navigate-algo-navigationType"><i>navigationType</i></a> set to
                    "<code>form-submission</code>" and <a
                        href="#example-navigate-algo-exceptionsEnabled"><i>exceptionsEnabled</i></a> set to true。
            </ul>
        </div>
        <p class="note" role="note">アルゴリズム手順内では、引数値はパラメーター宣言へのリンクではなく、単なる変数参照として記載されます。パラメーター宣言へのリンクは呼び出し箇所でのみ行います。
        </p>
        <p>必須の名前付きパラメーターも同様に、変数と定義の両方としてマークアップし、呼び出し元からリンクします。これにより呼び出し時の明確さが向上します。
        </p>
        <p class="example allow-2119" id="example-algorithm-non-optional-named-params"><a class="self-link"
                href="#example-algorithm-non-optional-named-params"></a><a data-link-type="dfn" href="#boolean"
                id="ref-for-boolean①">Boolean</a>型パラメーターは必須・オプションに関わらず名前付きにすることで呼び出し時の明確さが大きく向上します。詳しくは<a
                href="https://ariya.io/2011/08/hall-of-api-shame-boolean-trap"><cite>The Pitfalls of Boolean
                    Trap</cite></a>もご参照ください。
        </p>
        <p>明確さを高める補完的な手法として、関連する値群を<a data-link-type="dfn" href="#struct"
                id="ref-for-struct">構造体</a>にまとめてパラメーターとして渡すことも有効です。特に同じ値群を複数のアルゴリズムで入力として使う場合に適しています。
        </p>
        <h3 class="heading settled" data-level="3.5" id="variables"><span class="secno">3.5. </span><span
                class="content">変数</span><a class="self-link" href="#variables"></a></h3>
        <p>変数は "let" で宣言し、"set" で変更します。
        </p>
        <p class="example" id="example-variable"><a class="self-link" href="#example-variable"></a><var>list</var> を新しい
            <a data-link-type="dfn" href="#list" id="ref-for-list">リスト</a>とする。
        </p>
        <div class="example" id="example-variable-null">
            <a class="self-link" href="#example-variable-null"></a>
            <ol>
                <li>
                    <p><var>value</var> を null とする。
                    </p>
                <li>
                    <p><var>input</var> が <a data-link-type="dfn" href="#string" id="ref-for-string①">文字列</a>
                        であれば、<var>value</var> に <var>input</var> を設定する。
                    </p>
                <li>
                    <p>それ以外の場合、<var>value</var> に <var>input</var> の <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode"
                            id="ref-for-utf-8-decode">UTF-8デコード</a>結果を設定する。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert">アサート</a>：<var>value</var> は <a
                            data-link-type="dfn" href="#string" id="ref-for-string②">文字列</a> である。
                    </p>
            </ol>
        </div>
        <p class="example" id="example-variable-ternary"><a class="self-link"
                href="#example-variable-ternary"></a><var>isActivationEvent</var> が true で <var>target</var>
            がアクティベーション動作を持つ場合は <var>target</var>、そうでなければ null を <var>activationTarget</var> とする。
        </p>
        <p>変数は宣言前に使用してはなりません。変数は <a
                href="https://en.wikipedia.org/wiki/Scope_(computer_science)#Block_scope">ブロックスコープ</a>
            です。1つのアルゴリズム内で同じ変数を複数回宣言してはなりません。
        </p>
        <p>複数代入構文を使うと、カンマで区切った変数名を括弧で囲み、<a data-link-type="dfn" href="#tuple" id="ref-for-tuple">タプル</a>の <a
                data-link-type="dfn" href="#struct-item" id="ref-for-struct-item">要素</a> に複数の変数を同時に割り当てられます。割り当てる変数の数は
            <a data-link-type="dfn" href="#tuple" id="ref-for-tuple①">タプル</a>の <a data-link-type="dfn"
                href="#struct-item" id="ref-for-struct-item①">要素</a>の数と一致しなければなりません。
        </p>
        <div class="example" id="example-tuple-multiple-assignment">
            <a class="self-link" href="#example-tuple-multiple-assignment"></a>
            <ol>
                <li>
                    <p><var>statusInstance</var> を status (200, `<code>OK</code>`) とする。
                    </p>
                <li>
                    <p>(<var>status</var>, <var>statusMessage</var>) を <var>statusInstance</var> とする。
                    </p>
            </ol>
            <p><var>status</var> と <var>statusMessage</var> への代入は、インデックスまたは<a data-link-type="dfn" href="#struct-name"
                    id="ref-for-struct-name">名前</a>で<a data-link-type="dfn" href="#tuple" id="ref-for-tuple②">タプル</a>の<a
                    data-link-type="dfn" href="#struct-item" id="ref-for-struct-item②">要素</a>にアクセスして2段階で書くこともできます。
            </p>
        </div>
        <h3 class="heading settled" data-level="3.6" id="algorithm-control-flow"><span class="secno">3.6. </span><span
                class="content">制御フロー</span><a class="self-link" href="#algorithm-control-flow"></a></h3>
        <p>アルゴリズムの制御フローは、「return」や「throw」要求によって、そのステートメントが属するアルゴリズムを終了させます。「return」は与えられた値（ある場合）を呼び出し元に返します。「throw」は、与えられた値（ある場合）で例外を発生させ、呼び出し元のアルゴリズムも自動的に例外を再スローして終了します。本文で明示すれば、呼び出し元は例外を「catch」して別の処理を実行できます。
        </p>
        <h3 class="heading settled" data-level="3.7" id="algorithm-conditional-abort"><span class="secno">3.7.
            </span><span class="content">条件付き中断</span><a class="self-link" href="#algorithm-conditional-abort"></a></h3>
        <p>ある条件が成立したときに手順の実行を中断したい場合があります。
        </p>
        <p>その場合、特定の<var>条件</var>に達したらその手順を<a class="dfn-paneled" data-dfn-type="dfn" data-export
                id="abort-when">中断する(abort
                when)</a>と記述します。これは、指定された手順のそれぞれの前に<var>条件</var>を評価し、真なら残りの手順をスキップするステップを挿入して評価することを示します。
        </p>
        <p>このようなアルゴリズムでは、続く手順に「<a class="dfn-paneled" data-dfn-type="dfn" data-export id="if-aborted">中断時(if
                aborted)</a>」と注記でき、その場合は直前の<a data-link-type="dfn" href="#abort-when"
                id="ref-for-abort-when">中断</a>条件が真になってスキップされた場合に必ず実行されます。
        </p>
        <div class="example" id="example-conditional-abort">
            <a class="self-link" href="#example-conditional-abort"></a>
            <p>次のアルゴリズムは
            </p>
            <ol>
                <li>
                    <p><var>result</var> を空の<a data-link-type="dfn" href="#list" id="ref-for-list①">リスト</a>とする。
                    </p>
                <li>
                    <p>以下の手順を、ユーザーが「キャンセル」ボタンをクリックしたら<a data-link-type="dfn" href="#abort-when"
                            id="ref-for-abort-when①">中断する</a>として実行する：
                    </p>
                    <ol>
                        <li>
                            <p><var>π</var> の最初の100万桁を計算し、<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append">result</a> に追加する。
                            </p>
                        <li>
                            <p><var>e</var> の最初の100万桁を計算し、<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append①">result</a> に追加する。
                            </p>
                        <li>
                            <p><var>φ</var> の最初の100万桁を計算し、<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append②">result</a> に追加する。
                            </p>
                    </ol>
                <li>
                    <p><a data-link-type="dfn" href="#if-aborted"
                            id="ref-for-if-aborted">中断時</a>、「<code>Didn’t finish!</code>」を<a data-link-type="dfn"
                            href="#list-append" id="ref-for-list-append③">result</a> に追加する。
                    </p>
            </ol>
            <p>は、より冗長な次の記述と同等です。</p>
            <ol>
                <li>
                    <p><var>result</var> を空の<a data-link-type="dfn" href="#list" id="ref-for-list②">リスト</a>とする。
                    </p>
                <li>
                    <p>ユーザーが「キャンセル」ボタンをクリックしていなければ：
                    </p>
                    <ol>
                        <li>
                            <p><var>π</var> の最初の100万桁を計算し、<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append④">result</a> に追加する。
                            </p>
                        <li>
                            <p>ユーザーが「キャンセル」ボタンをクリックしていなければ：
                            </p>
                            <ol>
                                <li>
                                    <p><var>e</var> の最初の100万桁を計算し、<a data-link-type="dfn" href="#list-append"
                                            id="ref-for-list-append⑤">result</a> に追加する。
                                    </p>
                                <li>
                                    <p>ユーザーが「キャンセル」ボタンをクリックしていなければ、<var>φ</var> の最初の100万桁を計算し、<a data-link-type="dfn"
                                            href="#list-append" id="ref-for-list-append⑥">result</a> に追加する。
                                    </p>
                            </ol>
                    </ol>
                <li>
                    <p>ユーザーが「キャンセル」ボタンをクリックした場合は、「<code>Didn’t finish!</code>」を<a data-link-type="dfn"
                            href="#list-append" id="ref-for-list-append⑦">result</a> に追加する。
                    </p>
            </ol>
        </div>
        <p class="note" role="note">
            この構文を使う場合、実装は手順の実行中に<var>条件</var>を評価しても、各手順の前後で評価しても、最終的な結果が区別できなければどちらでも構いません。例えば、上記例で <var>result</var>
            が計算中に変更されなければ、ユーザーエージェントは計算を途中で停止できます。
        </p>
        <h3 class="heading settled" data-level="3.8" id="algorithm-conditional-statements"><span class="secno">3.8.
            </span><span class="content">条件文</span><a class="self-link" href="#algorithm-conditional-statements"></a>
        </h3>
        <p>条件文を持つアルゴリズムでは "if"、"then"、"otherwise" キーワードを使うべきです。
        </p>
        <div class="example" id="example-conditional-statement">
            <a class="self-link" href="#example-conditional-statement"></a>
            <ol>
                <li>
                    <p><var>value</var> を null とする。
                    </p>
                <li>
                    <p><var>input</var> が <a data-link-type="dfn" href="#string" id="ref-for-string③">文字列</a>
                        であれば、<var>value</var> に <var>input</var> を設定する。
                    </p>
                <li>
                    <p><var>value</var> を返す。
                    </p>
            </ol>
        </div>
        <p>一度 "otherwise" キーワードが使われたら、"then" は省略します。</p>
        <div class="example" id="example-conditional-statement-no-then-1">
            <a class="self-link" href="#example-conditional-statement-no-then-1"></a>
            <ol>
                <li>
                    <p><var>value</var> を null とする。
                    </p>
                <li>
                    <p><var>input</var> が <a data-link-type="dfn" href="#string" id="ref-for-string④">文字列</a>
                        であれば、<var>value</var> に <var>input</var> を設定する。
                    </p>
                <li>
                    <p>それ以外の場合、<var>value</var> を failure に設定する。
                    </p>
                <li>
                    <p><var>value</var> を返す。
                    </p>
            </ol>
        </div>
        <div class="example" id="example-conditional-statement-no-then-2">
            <a class="self-link" href="#example-conditional-statement-no-then-2"></a>
            <ol>
                <li>
                    <p><var>value</var> を null とする。
                    </p>
                <li>
                    <p><var>input</var> が <a data-link-type="dfn" href="#string" id="ref-for-string⑤">文字列</a>
                        であれば、<var>value</var> に <var>input</var> を設定する。
                    </p>
                <li>
                    <p>それ以外の場合、もし<var>input</var>が<a data-link-type="dfn" href="#list" id="ref-for-list③">リスト</a>かつ<a
                            data-link-type="dfn" href="#string"
                            id="ref-for-string⑥">文字列</a>のリストであれば、<var>value</var>に<var>input</var>[0]を設定する。
                    </p>
                <li>
                    <p>それ以外の場合、<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>
                        をスローする。
                    </p>
                <li>
                    <p><var>value</var> を返す。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.9" id="algorithm-iteration"><span class="secno">3.9. </span><span
                class="content">反復</span><a class="self-link" href="#algorithm-iteration"></a></h3>
        <p>条件に達するまで一連の手順を繰り返す方法はいくつかあります。
        </p>
        <p class="note" role="note">インフラ現行標準はこれについて（まだ）網羅的ではありません。必要な場合はissueを提出してください。
        </p>
        <dl>
            <dt>For each
            <dd>
                <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate">リスト</a>（およびその派生型）や<a
                        data-link-type="dfn" href="#map-iterate" id="ref-for-map-iterate">マップ</a>で定義されています。
                </p>
            <dt><dfn class="dfn-paneled" data-dfn-for="iteration" data-dfn-type="dfn" data-export data-lt="while"
                    id="iteration-while">While</dfn>
            <dd>
                <p>条件が成立している間、一連の手順を繰り返す命令です。
                </p>
                <div class="example" id="example-while">
                    <a class="self-link" href="#example-while"></a>
                    <p><var>condition</var> が "<code>met</code>" である間：
                    </p>
                    <ol>
                        <li>
                            <p>…
                            </p>
                    </ol>
                </div>
        </dl>
        <p>反復の流れは、<dfn class="dfn-paneled" data-dfn-for="iteration" data-dfn-type="dfn" data-export
                id="iteration-continue">continue</dfn> や <dfn class="dfn-paneled" data-dfn-for="iteration"
                data-dfn-type="dfn" data-export id="iteration-break">break</dfn> 要求で制御できます。
            <a data-link-type="dfn" href="#iteration-continue" id="ref-for-iteration-continue">continue</a>
            は反復内の残りの手順をスキップして次の項目に進みます。次の項目がなければ反復は終了します。<a data-link-type="dfn" href="#iteration-break"
                id="ref-for-iteration-break">break</a> は残りの手順と項目の両方をスキップし、反復を終了します。
        </p>
        <div class="example" id="example-break-continue">
            <a class="self-link" href="#example-break-continue"></a>
            <p><var>example</var> を <a data-link-type="dfn" href="#list" id="ref-for-list④">リスト</a> « 1, 2, 3, 4 »
                とする。次の記述は <var>operation</var> を1, 2, 3, 4 の順に実行します：
            </p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①">For each</a>
                        <var>item</var> of <var>example</var>:
                    </p>
                    <ol>
                        <li><var>item</var> に対して <var>operation</var> を実行する。
                    </ol>
            </ol>
            <p>次の記述は <var>operation</var> を1, 2, 4 に実行し、3はスキップされます。
            </p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate②">For each</a>
                        <var>item</var> of <var>example</var>:
                    </p>
                    <ol>
                        <li><var>item</var> が3であれば <a data-link-type="dfn" href="#iteration-continue"
                                id="ref-for-iteration-continue①">continue</a>。
                        <li><var>item</var> に対して <var>operation</var> を実行する。
                    </ol>
            </ol>
            <p>次の記述は <var>operation</var> を1, 2 に実行し、3と4はスキップされます。
            </p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate③">For each</a>
                        <var>item</var> of <var>example</var>:
                    </p>
                    <ol>
                        <li><var>item</var> が3であれば <a data-link-type="dfn" href="#iteration-break"
                                id="ref-for-iteration-break①">break</a>。
                        <li><var>item</var> に対して <var>operation</var> を実行する。
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.10" id="assertions"><span class="secno">3.10. </span><span
                class="content">アサーション</span><a class="self-link" href="#assertions"></a></h3>
        <p>可読性を高めるために、アルゴリズムにアサーション（不変条件の明示）を追加することが有用な場合があります。その場合は「<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-export
                id="assert">アサート</dfn>：」に続けて、常に成り立つべき文を記述します。この文が偽になった場合は、インフラ現行標準を利用する文書に問題があることを意味し、報告・対応されるべきです。
        </p>
        <p class="note" role="note">アサーションは常に真でなければならないため、実装に影響はありません。
        </p>
        <div class="example" id="example-assert">
            <a class="self-link" href="#example-assert"></a>
            <ol>
                <li>
                    <p><var>x</var> を "<code>Aperture Science</code>" とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①">アサート</a>：<var>x</var> は
                        "<code>Aperture Science</code>" である。
                    </p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="4" id="primitive-data-types"><span class="secno">4. </span><span
                class="content">プリミティブデータ型</span><a class="self-link" href="#primitive-data-types"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="nulls"><span class="secno">4.1. </span><span
                class="content">Null</span><a class="self-link" href="#nulls"></a></h3>
        <p>null値は値が存在しないことを示すために用いられます。これはJavaScriptの<b>null</b>値と相互に扱うことができます。<a data-link-type="biblio"
                href="#biblio-ecma-262" title="ECMAScript Language Specification">[ECMA-262]</a>
        </p>
        <p class="example" id="example-null"><a class="self-link" href="#example-null"></a><var>element</var> を null
            とする。
        </p>
        <p class="example" id="example-null-return"><a class="self-link"
                href="#example-null-return"></a><var>input</var> が空文字列であれば、null を返す。
        </p>
        <h3 class="heading settled" data-level="4.2" id="booleans"><span class="secno">4.2. </span><span
                class="content">Boolean</span><a class="self-link" href="#booleans"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="boolean">Boolean</dfn>は true または false のいずれかです。
        </p>
        <p class="example" id="example-boolean"><a class="self-link" href="#example-boolean"></a><var>elementSeen</var>
            を false とする。
        </p>
        <h3 class="heading settled" data-level="4.3" id="numbers"><span class="secno">4.3. </span><span
                class="content">数値</span><a class="self-link" href="#numbers"></a></h3>
        <p class="XXX">数値は複雑です。詳細は <a href="https://github.com/whatwg/infra/issues/87">issue #87</a>
            を参照してください。将来的には型や数学演算についてのガイダンスも追加したいと考えています。ご協力歓迎します！
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="8-bit-unsigned-integer">8ビット符号なし整数</dfn>は、0から255（0〜2<sup>8</sup> − 1）までの整数です（両端含む）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="16-bit-unsigned-integer">16ビット符号なし整数</dfn>は、0から65535（0〜2<sup>16</sup> − 1）までの整数です（両端含む）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="32-bit-unsigned-integer">32ビット符号なし整数</dfn>は、0から4294967295（0〜2<sup>32</sup> − 1）までの整数です（両端含む）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="64-bit-unsigned-integer">64ビット符号なし整数</dfn>は、0から18446744073709551615（0〜2<sup>64</sup> −
            1）までの整数です（両端含む）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="128-bit-unsigned-integer">128ビット符号なし整数</dfn>は、0から340282366920938463463374607431768211455（0〜2<sup>128</sup>
            − 1）までの整数です（両端含む）。
        </p>
        <p class="example" id="example-128-bit-unsigned-integer"><a class="self-link"
                href="#example-128-bit-unsigned-integer"></a>IPv6アドレスは<a data-link-type="dfn"
                href="#128-bit-unsigned-integer" id="ref-for-128-bit-unsigned-integer">128ビット符号なし整数</a>です。
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="8-bit-signed-integer">8ビット符号付き整数</dfn>は、−128から127（−2<sup>7</sup>〜2<sup>7</sup>−1）までの整数です（両端含む）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="16-bit-signed-integer">16ビット符号付き整数</dfn>は、−32768から32767（−2<sup>15</sup>〜2<sup>15</sup>−1）までの整数です（両端含む）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="32-bit-signed-integer">32ビット符号付き整数</dfn>は、−2147483648から2147483647（−2<sup>31</sup>〜2<sup>31</sup>−1）までの整数です（両端含む）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="64-bit-signed-integer">64ビット符号付き整数</dfn>は、−9223372036854775808から9223372036854775807（−2<sup>63</sup>〜2<sup>63</sup>−1）までの整数です（両端含む）。
        </p>
        <h3 class="heading settled" data-level="4.4" id="bytes"><span class="secno">4.4. </span><span
                class="content">バイト</span><a class="self-link" href="#bytes"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="byte">バイト</dfn>は8ビットの並びであり、"<code>0x</code>"に2つの<a data-link-type="dfn"
                href="#ascii-upper-hex-digit"
                id="ref-for-ascii-upper-hex-digit">ASCII大文字16進数字</a>を続けて表記します。値の範囲は0x00〜0xFFです。<a data-link-type="dfn"
                href="#byte" id="ref-for-byte">バイト</a>の<dfn class="dfn-paneled" data-dfn-for="byte" data-dfn-type="dfn"
                data-export id="byte-value">値</dfn>はその内部の数値です。
        </p>
        <p class="example" id="example-byte-value"><a class="self-link" href="#example-byte-value"></a>0x40は<a
                data-link-type="dfn" href="#byte" id="ref-for-byte①">バイト</a>であり、その<a data-link-type="dfn"
                href="#byte-value" id="ref-for-byte-value">値</a>は64です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="ascii-byte">ASCIIバイト</dfn>は、0x00（NUL）から0x7F（DEL）までの<a data-link-type="dfn" href="#byte"
                id="ref-for-byte②">バイト</a>です。0x28, 0x29 以外の<a data-link-type="dfn" href="#ascii-byte"
                id="ref-for-ascii-byte">ASCIIバイト</a>は、<a href="https://tools.ietf.org/html/rfc20#section-2">ASCII format
                for Network Interchange</a>の Standard Code セクションで定められた表記（括弧内）で続けて示すことができます。<a data-link-type="biblio"
                href="#biblio-rfc20" title="ASCII format for network interchange">[RFC20]</a>
        </p>
        <p>0x28 の場合「(left parenthesis)」、0x29 の場合「(right parenthesis)」と続けます。
        </p>
        <p class="example" id="example-byte-notation"><a class="self-link" href="#example-byte-notation"></a>0x49 (I) を
            <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode"
                id="ref-for-utf-8-decode①">UTF-8デコード</a>すると、<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point">符号位置</a> U+0049 (I) になります。
        </p>
        <h3 class="heading settled" data-level="4.5" id="byte-sequences"><span class="secno">4.5. </span><span
                class="content">バイト列</span><a class="self-link" href="#byte-sequences"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="byte-sequence">バイト列</dfn>は<a
                data-link-type="dfn" href="#byte"
                id="ref-for-byte③">バイト</a>の並びであり、バイトをスペースで区切って表現します。0x20（SP）〜0x7E（~）のバイトのみで構成される場合は、文字列としても表せますがダブルクォートではなくバッククォートで囲みます（文字列型との混同を避けるため）。
        </p>
        <div class="example" id="example-byte-sequence-notation">
            <a class="self-link" href="#example-byte-sequence-notation"></a>
            <p>0x48 0x49 は `<code>HI</code>` とも表せます。
            </p>
            <p>たとえば `<code>Content-Type</code>` のようなヘッダーは<a data-link-type="dfn" href="#byte-sequence"
                    id="ref-for-byte-sequence③">バイト列</a>です。
            </p>
        </div>
        <p class="note" role="note"><a data-link-type="dfn" href="#string" id="ref-for-string⑧">文字列</a>から<a
                data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence④">バイト列</a>に変換するには、<cite>Encoding</cite>の<a data-link-type="dfn"
                href="https://encoding.spec.whatwg.org/#utf-8-encode"
                id="ref-for-utf-8-encode">UTF-8エンコード</a>の使用が推奨されます。まれに<a data-link-type="dfn" href="#isomorphic-encode"
                id="ref-for-isomorphic-encode">等価エンコード</a>が必要な場合もあります。<a data-link-type="biblio" href="#biblio-encoding"
                title="Encoding Standard">[ENCODING]</a>
        </p>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence⑤">バイト列</a>の<dfn class="dfn-paneled"
                data-dfn-for="byte sequence" data-dfn-type="dfn" data-export
                id="byte-sequence-length">長さ</dfn>は、その中に含まれる<a data-link-type="dfn" href="#byte"
                id="ref-for-byte④">バイト</a>の数です。
        </p>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence⑥">バイト列</a>を<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="byte-lowercase">バイト小文字化</dfn>するには、含まれる<a data-link-type="dfn"
                href="#byte" id="ref-for-byte⑤">バイト</a>のうち 0x41（A）〜0x5A（Z）の範囲のものを0x20だけ加算します。
        </p>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence⑦">バイト列</a>を<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="byte-uppercase">バイト大文字化</dfn>するには、含まれる<a data-link-type="dfn"
                href="#byte" id="ref-for-byte⑥">バイト</a>のうち 0x61（a）〜0x7A（z）の範囲のものを0x20だけ減算します。
        </p>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence⑧">バイト列</a> <var>A</var> が、<a
                class="dfn-paneled" data-dfn-type="dfn" data-export
                id="byte-case-insensitive">バイト大文字小文字非区別</a>で一致するのは、<a data-link-type="dfn" href="#byte-lowercase"
                id="ref-for-byte-lowercase">バイト小文字化</a>した <var>A</var> が <a data-link-type="dfn" href="#byte-lowercase"
                id="ref-for-byte-lowercase①">バイト小文字化</a>した <var>B</var> と一致する場合です。
        </p>
        <hr>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①⓪">バイト列</a>
            <var>potentialPrefix</var> が、<a class="dfn-paneled" data-dfn-for="byte sequence" data-dfn-type="dfn"
                data-export id="byte-sequence-prefix">接頭辞</a>であるかどうかは、以下の手順で true になる場合です：
        </p>
        <ol>
            <li>
                <p><var>i</var> を 0 とする。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#iteration-while" id="ref-for-iteration-while">While</a> true:
                </p>
                <ol>
                    <li>
                        <p><var>i</var> が <var>potentialPrefix</var> の<a data-link-type="dfn"
                                href="#byte-sequence-length" id="ref-for-byte-sequence-length">長さ</a>以上なら true を返す。
                        </p>
                    <li>
                        <p><var>i</var> が <var>input</var> の<a data-link-type="dfn" href="#byte-sequence-length"
                                id="ref-for-byte-sequence-length①">長さ</a>以上なら false を返す。
                        </p>
                    <li>
                        <p><var>potentialPrefixByte</var> を <var>potentialPrefix</var> の <var>i</var> 番目の<a
                                data-link-type="dfn" href="#byte" id="ref-for-byte⑦">バイト</a>とする。
                        </p>
                    <li>
                        <p><var>inputByte</var> を <var>input</var> の <var>i</var> 番目の<a data-link-type="dfn"
                                href="#byte" id="ref-for-byte⑧">バイト</a>とする。
                        </p>
                    <li>
                        <p><var>potentialPrefixByte</var> が <var>inputByte</var> でなければ false を返す。
                        </p>
                    <li>
                        <p><var>i</var> に <var>i</var> + 1 を設定する。
                        </p>
                </ol>
        </ol>
        <p>"<var>input</var> <dfn class="dfn-paneled" data-dfn-for="byte sequence" data-dfn-type="dfn" data-export
                data-lt="starts with|start with" id="byte-sequence-starts-with">で始まる</dfn> <var>potentialPrefix</var>" は
            "<var>potentialPrefix</var> が <var>input</var> の<a data-link-type="dfn" href="#byte-sequence-prefix"
                id="ref-for-byte-sequence-prefix">接頭辞</a>である" と同義です。
        </p>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①②">バイト列</a> <var>a</var> が <a
                class="dfn-paneled" data-dfn-type="dfn" data-export id="byte-less-than">バイト小なり</a>で <a
                data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①③">バイト列</a> <var>b</var>
            となるのは、以下の手順で true になる場合です：
        </p>
        <ol>
            <li>
                <p><var>b</var> が <a data-link-type="dfn" href="#byte-sequence-prefix"
                        id="ref-for-byte-sequence-prefix①">接頭辞</a>であれば false を返す。
                </p>
            <li>
                <p><var>a</var> が <a data-link-type="dfn" href="#byte-sequence-prefix"
                        id="ref-for-byte-sequence-prefix②">接頭辞</a>であれば true を返す。
                </p>
            <li>
                <p><var>n</var> を、<var>a</var> の <var>n</var> 番目の<a data-link-type="dfn" href="#byte"
                        id="ref-for-byte⑨">バイト</a>と <var>b</var> の <var>n</var>
                    番目のバイトが異なる最小のインデックスとする（どちらも接頭辞でないので必ず存在する）。
                </p>
            <li>
                <p><var>a</var> の <var>n</var> 番目のバイトが <var>b</var> の <var>n</var> 番目のバイトより小さければ true を返す。
                </p>
            <li>
                <p>false を返す。
                </p>
        </ol>
        <hr>
        <div class="algorithm" data-algorithm="isomorphic decode">
            <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="isomorphic-decode">等価デコード</a>を<a
                    data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①④">バイト列</a> <var>input</var>
                に対して行うには、<var>input</var> の<a data-link-type="dfn" href="#byte-sequence-length"
                    id="ref-for-byte-sequence-length②">長さ</a>に等しい<a data-link-type="dfn" href="#string"
                    id="ref-for-string⑨">文字列</a>で、各<a data-link-type="dfn" href="#code-point"
                    id="ref-for-code-point①">符号位置</a>の<a data-link-type="dfn" href="#code-point-value"
                    id="ref-for-code-point-value">値</a>が <var>input</var> の<a data-link-type="dfn" href="#byte-value"
                    id="ref-for-byte-value①">値</a>と同じになるようにし、その順序も同一とする。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.6" id="code-points"><span class="secno">4.6. </span><span
                class="content">符号位置</span><a class="self-link" href="#code-points"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="code point|character"
                id="code-point">符号位置</dfn>はUnicodeの符号位置であり、"U+"に4〜6桁の<a data-link-type="dfn"
                href="#ascii-upper-hex-digit"
                id="ref-for-ascii-upper-hex-digit①">ASCII大文字16進数字</a>を続けて表記します。値の範囲はU+0000〜U+10FFFFです。<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point②">符号位置</a>の<dfn class="dfn-paneled"
                data-dfn-for="code point" data-dfn-type="dfn" data-export id="code-point-value">値</dfn>は内部の数値です。
        </p>
        <p><a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point③">符号位置</a>の直後には、その名前、またはU+0028やU+0029以外の場合はレンダリング結果（括弧書き）、またはその両方を続けてもよいです。インフラ現行標準を利用する文書では、レンダリングできない場合やU+0028/U+0029の場合は名前を、そうでなければ判読性のためレンダリング結果（括弧書き）を続けることが推奨されます。
        </p>
        <p><a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point⑤">符号位置</a>の名前は<cite>Unicode</cite>で定義されており、<a data-link-type="dfn"
                href="#ascii-uppercase" id="ref-for-ascii-uppercase①">ASCII大文字</a>で表現されます。<a data-link-type="biblio"
                href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a>
        </p>
        <div class="example" id="example-code-point-notation">
            <a class="self-link" href="#example-code-point-notation"></a>
            <p>🤔としてレンダリングされる<a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑥">符号位置</a>はU+1F914で表されます。
            </p>
            <p>この<a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑦">符号位置</a>を参照する場合、「U+1F914
                (🤔)」と表記して文脈を補足できます。さらに「U+1F914 THINKING FACE (🤔)」と書いても構いませんが、やや冗長です。
            </p>
        </div>
        <p class="example" id="example-code-point-notation-hard-to-render"><a class="self-link"
                href="#example-code-point-notation-hard-to-render"></a>U+000Aのように明確にレンダリングしにくい<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point⑧">符号位置</a>は「U+000A
            LF」と表せます。U+0029はレンダリングできるものの括弧の対応を避けるため「U+0029 RIGHT PARENTHESIS」と表せます。
        </p>
        <p><a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑨">符号位置</a>は文脈によって<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point①⓪">文字</a>と呼ばれることもあり、"0x"で始めて表記される場合もあります。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="leading-surrogate">前方サロゲート</dfn>は、U+D800〜U+DBFFの範囲にある<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①①">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="trailing-surrogate">後方サロゲート</dfn>は、U+DC00〜U+DFFFの範囲にある<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①②">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="surrogate">サロゲート</dfn>は、<a data-link-type="dfn"
                href="#leading-surrogate" id="ref-for-leading-surrogate">前方サロゲート</a>または<a data-link-type="dfn"
                href="#trailing-surrogate" id="ref-for-trailing-surrogate">後方サロゲート</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="scalar-value">スカラ値</dfn>は、<a
                data-link-type="dfn" href="#surrogate" id="ref-for-surrogate">サロゲート</a>でない<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point①③">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="noncharacter">非文字</dfn>は、U+FDD0〜U+FDEF（両端含む）、またはU+FFFE, U+FFFF, U+1FFFE, U+1FFFF, U+2FFFE, U+2FFFF,
            U+3FFFE, U+3FFFF, U+4FFFE, U+4FFFF, U+5FFFE, U+5FFFF, U+6FFFE, U+6FFFF, U+7FFFE, U+7FFFF, U+8FFFE, U+8FFFF,
            U+9FFFE, U+9FFFF, U+AFFFE, U+AFFFF, U+BFFFE, U+BFFFF, U+CFFFE, U+CFFFF, U+DFFFE, U+DFFFF, U+EFFFE, U+EFFFF,
            U+FFFFE, U+FFFFF, U+10FFFE, U+10FFFF のいずれかに該当する<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①④">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="ascii-code-point">ASCII符号位置</dfn>は、U+0000（NULL）〜U+007F（DELETE）の範囲の<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point①⑤">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="ASCII tab or newline|ASCII tabs or newlines"
                id="ascii-tab-or-newline">ASCIIタブまたは改行</dfn>は、U+0009（TAB）、U+000A（LF）、U+000D（CR）です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="ascii-whitespace">ASCII空白</dfn>は、U+0009（TAB）、U+000A（LF）、U+000C（FF）、U+000D（CR）、U+0020（SPACE）です。
        </p>
        <p class="note" role="note">"Whitespace"（空白）は不可算名詞です。
        </p>
        <div class="note" role="note">
            <p>XML、JSON、およびHTTP仕様の一部ではU+000C（FF）を空白として扱いません：
            </p>
            <ul class="brief">
                <li><a href="https://www.w3.org/TR/xml/#NT-S">XMLのS生成規則</a>
                <li><a href="https://www.rfc-editor.org/rfc/rfc8259#section-2">JSONのws生成規則</a>
                <li><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#http-whitespace"
                        id="ref-for-http-whitespace">HTTP空白</a>
            </ul>
            <p>新しい機能には、XML/JSON/HTTP専用でない限りインフラ現行標準の<a data-link-type="dfn" href="#ascii-whitespace"
                    id="ref-for-ascii-whitespace">ASCII空白</a>定義の使用を推奨します。
            </p>
        </div>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="c0-control">C0制御文字</dfn>は、U+0000（NULL）〜U+001F（INFORMATION SEPARATOR ONE）の範囲の<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point①⑥">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="C0 control or space|C0 controls or spaces"
                id="c0-control-or-space">C0制御文字またはスペース</dfn>は、<a data-link-type="dfn" href="#c0-control"
                id="ref-for-c0-control">C0制御文字</a>またはU+0020（SPACE）です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="control">制御文字</dfn>は、<a data-link-type="dfn"
                href="#c0-control" id="ref-for-c0-control①">C0制御文字</a>またはU+007F（DELETE）〜U+009F（APPLICATION PROGRAM
            COMMAND）の範囲の<a data-link-type="dfn" href="#code-point" id="ref-for-code-point①⑦">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="ascii-digit">ASCII数字</dfn>は、U+0030（0）〜U+0039（9）の範囲の<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①⑧">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-upper-hex-digit">ASCII大文字16進数字</dfn>は、<a
                data-link-type="dfn" href="#ascii-digit"
                id="ref-for-ascii-digit">ASCII数字</a>またはU+0041（A）〜U+0046（F）の範囲の<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①⑨">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-lower-hex-digit">ASCII小文字16進数字</dfn>は、<a
                data-link-type="dfn" href="#ascii-digit"
                id="ref-for-ascii-digit①">ASCII数字</a>またはU+0061（a）〜U+0066（f）の範囲の<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point②⓪">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-hex-digit">ASCII16進数字</dfn>は、<a
                data-link-type="dfn" href="#ascii-upper-hex-digit"
                id="ref-for-ascii-upper-hex-digit②">ASCII大文字16進数字</a>または<a data-link-type="dfn"
                href="#ascii-lower-hex-digit" id="ref-for-ascii-lower-hex-digit">ASCII小文字16進数字</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="ascii-upper-alpha">ASCII大文字アルファベット</dfn>は、U+0041（A）〜U+005A（Z）の範囲の<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point②①">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="ascii-lower-alpha">ASCII小文字アルファベット</dfn>は、U+0061（a）〜U+007A（z）の範囲の<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point②②">符号位置</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-alpha">ASCIIアルファベット</dfn>は、<a
                data-link-type="dfn" href="#ascii-upper-alpha" id="ref-for-ascii-upper-alpha">ASCII大文字アルファベット</a>または<a
                data-link-type="dfn" href="#ascii-lower-alpha" id="ref-for-ascii-lower-alpha">ASCII小文字アルファベット</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-alphanumeric">ASCII英数字</dfn>は、<a
                data-link-type="dfn" href="#ascii-digit" id="ref-for-ascii-digit②">ASCII数字</a>または<a data-link-type="dfn"
                href="#ascii-alpha" id="ref-for-ascii-alpha">ASCIIアルファベット</a>です。
        </p>
        <h3 class="heading settled" data-level="4.7" id="strings"><span class="secno">4.7. </span><span
                class="content">文字列</span><a class="self-link" href="#strings"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="string|JavaScript string"
                id="string">文字列</dfn>は<a data-link-type="dfn" href="#16-bit-unsigned-integer"
                id="ref-for-16-bit-unsigned-integer">16ビット符号なし整数</a>（<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-export data-lt="code unit" id="code-unit">コード単位</dfn>とも呼ばれる）の並びです。<a data-link-type="dfn"
                href="#string" id="ref-for-string①⓪">文字列</a>は<a data-link-type="dfn" href="#string"
                id="javascript-string">JavaScript文字列</a>とも呼ばれます。
            <a data-link-type="dfn" href="#string" id="ref-for-string①①">文字列</a>はダブルクォートと等幅フォントで表記します。
        </p>
        <p class="example" id="example-string-notation"><a class="self-link"
                href="#example-string-notation"></a>"<code>Hello, world!</code>" は文字列です。
        </p>
        <p class="note" role="note">これは<cite>Unicode</cite>での「コード単位」の定義とは異なります。特に、Unicode 16ビット文字列の定義に限定されます。<a
                data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a>
        </p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string①②">文字列</a>は、JavaScript仕様の<a data-link-type="dfn"
                href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type"
                id="ref-for-sec-ecmascript-language-types-string-type">The String Type</a>セクションで定義される変換により、<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point②③">符号位置</a>を含むものとして解釈できます。<a
                data-link-type="biblio" href="#biblio-ecma-262" title="ECMAScript Language Specification">[ECMA-262]</a>
        </p>
        <p class="note" role="note">この変換処理ではサロゲートペアが対応する<a data-link-type="dfn" href="#scalar-value"
                id="ref-for-scalar-value">スカラ値</a>に変換され、残るサロゲートは元の<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point②④">符号位置</a>に対応付けられ、実質的にそのまま残ります。
        </p>
        <p class="example" id="example-javascript-string-in-code-points"><a class="self-link"
                href="#example-javascript-string-in-code-points"></a>0xD83D, 0xDCA9, 0xD800 の<a data-link-type="dfn"
                href="#code-unit" id="ref-for-code-unit">コード単位</a>で構成される<a data-link-type="dfn" href="#string"
                id="ref-for-string①③">文字列</a>は、<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point②⑤">符号位置</a>として解釈すると U+1F4A9 と U+D800 からなります。
        </p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string①④">文字列</a>の<dfn class="dfn-paneled"
                data-dfn-for="string,JavaScript string,ASCII string,isomorphic string,scalar value string"
                data-dfn-type="dfn" data-export id="string-length"><span class="bs-old-id"
                    id="javascript-string-length"></span>長さ</dfn>は、含まれる<a data-link-type="dfn" href="#code-unit"
                id="ref-for-code-unit①">コード単位</a>の数です。
        </p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string①⑤">文字列</a>の<dfn class="dfn-paneled"
                data-dfn-for="string,JavaScript string,ASCII string,isomorphic string,scalar value string"
                data-dfn-type="dfn" data-export id="string-code-point-length">符号位置長</dfn>は、含まれる<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point②⑦">符号位置</a>の数です。
        </p>
        <hr>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string①⑥">文字列</a>が含む<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point②⑧">符号位置</a>に追加の制約がある場合、この仕様では<a data-link-type="dfn"
                href="#ascii-string" id="ref-for-ascii-string">ASCII文字列</a>、<a data-link-type="dfn"
                href="#isomorphic-string" id="ref-for-isomorphic-string">等価文字列</a>、<a data-link-type="dfn"
                href="#scalar-value-string" id="ref-for-scalar-value-string">スカラ値文字列</a>を定義します。これらを使うことで仕様の明確性が増します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-string">ASCII文字列</dfn>は、その<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point②⑨">符号位置</a>がすべて<a data-link-type="dfn"
                href="#ascii-code-point" id="ref-for-ascii-code-point">ASCII符号位置</a>である<a data-link-type="dfn"
                href="#string" id="ref-for-string①⑦">文字列</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="isomorphic-string">等価文字列</dfn>は、その<a
                data-link-type="dfn" href="#code-point"
                id="ref-for-code-point③⓪">符号位置</a>がU+0000（NULL）〜U+00FF（ÿ）の範囲にある<a data-link-type="dfn" href="#string"
                id="ref-for-string①⑧">文字列</a>です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="scalar-value-string">スカラ値文字列</dfn>は、その<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point③①">符号位置</a>がすべて<a data-link-type="dfn"
                href="#scalar-value" id="ref-for-scalar-value①">スカラ値</a>である<a data-link-type="dfn" href="#string"
                id="ref-for-string①⑨">文字列</a>です。
        </p>
        <p class="note" role="note"><a data-link-type="dfn" href="#scalar-value-string"
                id="ref-for-scalar-value-string①">スカラ値文字列</a>はI/Oや<a data-link-type="dfn"
                href="https://encoding.spec.whatwg.org/#utf-8-encode"
                id="ref-for-utf-8-encode①">UTF-8エンコード</a>が関わるあらゆる操作に便利です。
        </p>
        <hr>
        <p><a class="dfn-paneled" data-dfn-for="string,JavaScript string" data-dfn-type="dfn" data-export
                id="javascript-string-convert">変換</a>により<a data-link-type="dfn" href="#string"
                id="ref-for-string②⓪">文字列</a>を<a data-link-type="dfn" href="#scalar-value-string"
                id="ref-for-scalar-value-string②">スカラ値文字列</a>にするには、<a data-link-type="dfn" href="#surrogate"
                id="ref-for-surrogate①">サロゲート</a>をU+FFFD (�) に置換します。
        </p>
        <div class="note" role="note">
            <p>置換されるサロゲートはサロゲートペアの一部ではありません。文字列を<a data-link-type="dfn" href="#code-point"
                    id="ref-for-code-point③②">符号位置</a>として解釈する過程で、サロゲートペアはすでに<a data-link-type="dfn" href="#scalar-value"
                    id="ref-for-scalar-value②">スカラ値</a>に変換されるためです。
            </p>
            <p><a data-link-type="dfn" href="#scalar-value-string" id="ref-for-scalar-value-string③">スカラ値文字列</a>は常に<a
                    data-link-type="dfn" href="#string" id="ref-for-string②①">文字列</a>として暗黙的に使えます（すべての<a
                    data-link-type="dfn" href="#scalar-value-string" id="ref-for-scalar-value-string④">スカラ値文字列</a>は<a
                    data-link-type="dfn" href="#string" id="ref-for-string②②">文字列</a>だからです）。逆に、<a data-link-type="dfn"
                    href="#string" id="ref-for-string②③">文字列</a>はサロゲートを含まないことが分かっている場合のみ<a data-link-type="dfn"
                    href="#scalar-value-string" id="ref-for-scalar-value-string⑤">スカラ値文字列</a>として暗黙的に使えます。そうでなければ<a
                    data-link-type="dfn" href="#javascript-string-convert"
                    id="ref-for-javascript-string-convert">変換</a>が必要です。
            </p>
            <p>実装によっては<a data-link-type="dfn" href="#string" id="ref-for-string②④">文字列</a>や<a data-link-type="dfn"
                    href="#scalar-value-string"
                    id="ref-for-scalar-value-string⑥">スカラ値文字列</a>の表現方法によって明示的な変換が必要な場合もあります。多くの実装ではパフォーマンスやメモリの理由で<a
                    data-link-type="dfn" href="#string" id="ref-for-string②⑤">文字列</a>だけでも複数の実装が存在するのが一般的です。
            </p>
        </div>
        <hr>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string②⑥">文字列</a> <var>a</var> が <a class="dfn-paneled"
                data-dfn-for="string" data-dfn-type="dfn" data-export data-lt="is|identical to"
                id="string-is">等しい(is)</a> または<a data-link-type="dfn" href="#string-is" id="ref-for-string-is">同一</a>である
            <a data-link-type="dfn" href="#string" id="ref-for-string②⑦">文字列</a> <var>b</var> とは、同じ順序の<a
                data-link-type="dfn" href="#code-unit" id="ref-for-code-unit②">コード単位</a>からなる場合です。
        </p>
        <p>特に断りがない限り、すべての文字列比較は<a data-link-type="dfn" href="#string-is" id="ref-for-string-is①">等しい(is)</a>比較を用います。
        </p>
        <p class="note" role="note">この<a data-link-type="dfn" href="#string"
                id="ref-for-string②⑧">文字列</a>の比較は、<cite>HTML</cite> における従来の「大文字小文字を区別する」比較と同じです。<a data-link-type="dfn"
                href="#string-is"
                id="ref-for-string-is②">等しい</a>文字列同士は大文字小文字の違いだけでなく、正規化形式や結合記号の順序など、符号位置のエンコーディングの差異にも敏感です。<cite>Unicode</cite>で視覚的または正規等価とされる2つの文字列でも、<a
                data-link-type="dfn" href="#string-is" id="ref-for-string-is③">等しい</a>とは限りません。<a data-link-type="biblio"
                href="#biblio-html" title="HTML Standard">[HTML]</a> <a data-link-type="biblio" href="#biblio-unicode"
                title="The Unicode Standard">[UNICODE]</a>
        </p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string②⑨">文字列</a> <var>potentialPrefix</var> が<a
                class="dfn-paneled" data-dfn-type="dfn" data-export id="code-unit-prefix">コード単位接頭辞</a>として<a
                data-link-type="dfn" href="#string" id="ref-for-string③⓪">文字列</a> <var>input</var>
            の先頭にあるかどうかは、以下の手順でtrueとなります：
        </p>
        <ol>
            <li>
                <p><var>i</var> を 0 とする。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#iteration-while" id="ref-for-iteration-while①">While</a> true:
                </p>
                <ol>
                    <li>
                        <p><var>i</var> が <var>potentialPrefix</var> の<a data-link-type="dfn" href="#string-length"
                                id="ref-for-string-length">長さ</a>以上なら true を返す。
                        </p>
                    <li>
                        <p><var>i</var> が <var>input</var> の<a data-link-type="dfn" href="#string-length"
                                id="ref-for-string-length①">長さ</a>以上なら false を返す。
                        </p>
                    <li>
                        <p><var>potentialPrefixCodeUnit</var> を <var>potentialPrefix</var> の <var>i</var> 番目の<a
                                data-link-type="dfn" href="#code-unit" id="ref-for-code-unit③">コード単位</a>とする。
                        </p>
                    <li>
                        <p><var>inputCodeUnit</var> を <var>input</var> の <var>i</var> 番目の<a data-link-type="dfn"
                                href="#code-unit" id="ref-for-code-unit④">コード単位</a>とする。
                        </p>
                    <li>
                        <p><var>potentialPrefixCodeUnit</var> が <var>inputCodeUnit</var> でなければ false を返す。
                        </p>
                    <li>
                        <p><var>i</var> に <var>i</var> + 1 を設定する。
                        </p>
                </ol>
        </ol>
        <p>どちらかの文字列が U+0020（SPACE）〜U+007E（~）のみを含むリテラルであるなど、文脈から<a data-link-type="dfn" href="#code-unit"
                id="ref-for-code-unit⑤">コード単位</a>による比較であることが明らかな場合、「<var>input</var> <dfn class="dfn-paneled"
                data-dfn-for="string" data-dfn-type="dfn" data-export id="string-starts-with">で始まる</dfn>
            <var>potentialPrefix</var>」は「<var>potentialPrefix</var> が <var>input</var> の<a data-link-type="dfn"
                href="#code-unit-prefix" id="ref-for-code-unit-prefix">コード単位接頭辞</a>である」と同義として使えます。
        </p>
        <p class="example" id="code-unit-prefix-example"><a class="self-link"
                href="#code-unit-prefix-example"></a>値が不明な場合は明示的に記述した方がよい例：<var>targetString</var> は <a
                data-link-type="dfn" href="#code-unit-prefix" id="ref-for-code-unit-prefix①">コード単位接頭辞</a>で
            <var>userInput</var> です。一方、リテラルの場合は簡潔に「<var>userInput</var> <a data-link-type="dfn"
                href="#string-starts-with" id="ref-for-string-starts-with">で始まる</a> \"<code>!</code>\"」のように書けます。
        </p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string③①">文字列</a> <var>potentialSuffix</var> が<a
                class="dfn-paneled" data-dfn-type="dfn" data-export id="code-unit-suffix">コード単位接尾辞</a>として<a
                data-link-type="dfn" href="#string" id="ref-for-string③②">文字列</a> <var>input</var>
            の末尾にあるかどうかは、以下の手順でtrueとなります：
        </p>
        <ol>
            <li>
                <p><var>i</var> を 1 とする。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#iteration-while" id="ref-for-iteration-while②">While</a> true:
                </p>
                <ol>
                    <li>
                        <p><var>potentialSuffixIndex</var> を <var>potentialSuffix</var> の<a data-link-type="dfn"
                                href="#string-length" id="ref-for-string-length②">長さ</a>−<var>i</var>とする。
                        </p>
                    <li>
                        <p><var>inputIndex</var> を <var>input</var> の<a data-link-type="dfn" href="#string-length"
                                id="ref-for-string-length③">長さ</a>−<var>i</var>とする。
                        </p>
                    <li>
                        <p><var>potentialSuffixIndex</var> が0未満なら true を返す。
                        </p>
                    <li>
                        <p><var>inputIndex</var> が0未満なら false を返す。
                        </p>
                    <li>
                        <p><var>potentialSuffixCodeUnit</var> を <var>potentialSuffixIndex</var>番目の<a
                                data-link-type="dfn" href="#code-unit" id="ref-for-code-unit⑥">コード単位</a>とする。
                        </p>
                    <li>
                        <p><var>inputCodeUnit</var> を <var>inputIndex</var>番目の<a data-link-type="dfn" href="#code-unit"
                                id="ref-for-code-unit⑦">コード単位</a>とする。
                        </p>
                    <li>
                        <p><var>potentialSuffixCodeUnit</var> が <var>inputCodeUnit</var> でなければ false を返す。
                        </p>
                    <li>
                        <p><var>i</var> に <var>i</var> + 1 を設定する。
                        </p>
                </ol>
        </ol>
        <p>どちらかの文字列が U+0020（SPACE）〜U+007E（~）のみを含むリテラルであるなど、文脈から<a data-link-type="dfn" href="#code-unit"
                id="ref-for-code-unit⑧">コード単位</a>による比較であることが明らかな場合、「<var>input</var> <dfn class="dfn-paneled"
                data-dfn-for="string" data-dfn-type="dfn" data-export id="string-ends-with">で終わる</dfn>
            <var>potentialSuffix</var>」は「<var>potentialSuffix</var> が <var>input</var> の<a data-link-type="dfn"
                href="#code-unit-suffix" id="ref-for-code-unit-suffix">コード単位接尾辞</a>である」と同義として使えます。
        </p>
        <p class="example" id="code-unit-suffix-example"><a class="self-link"
                href="#code-unit-suffix-example"></a>値が不明な場合は明示的に記述した方がよい例：<var>targetString</var> は <a
                data-link-type="dfn" href="#code-unit-suffix" id="ref-for-code-unit-suffix①">コード単位接尾辞</a>で
            <var>domain</var> です。一方、リテラルの場合は簡潔に「<var>domain</var> <a data-link-type="dfn" href="#string-ends-with"
                id="ref-for-string-ends-with">で終わる</a> \"<code>.</code>\"」のように書けます。
        </p>
        <hr>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string③③">文字列</a> <var>a</var> が<a class="dfn-paneled"
                data-dfn-type="dfn" data-export id="code-unit-less-than">コード単位小なり</a>で <a data-link-type="dfn"
                href="#string" id="ref-for-string③④">文字列</a> <var>b</var> となるのは、以下の手順で true になる場合です：
        </p>
        <ol>
            <li>
                <p><var>b</var> が <a data-link-type="dfn" href="#code-unit-prefix"
                        id="ref-for-code-unit-prefix②">コード単位接頭辞</a>で <var>a</var> なら false を返す。</p>
            <li>
                <p><var>a</var> が <a data-link-type="dfn" href="#code-unit-prefix"
                        id="ref-for-code-unit-prefix③">コード単位接頭辞</a>で <var>b</var> なら true を返す。</p>
            <li>
                <p><var>n</var> を、<var>a</var> の <var>n</var> 番目の<a data-link-type="dfn" href="#code-unit"
                        id="ref-for-code-unit⑨">コード単位</a>と <var>b</var> の <var>n</var>
                    番目のコード単位が異なる最小のインデックスとする（どちらも接頭辞でないので必ず存在する）。</p>
            <li>
                <p><var>a</var> の <var>n</var> 番目のコード単位が <var>b</var> の <var>n</var> 番目のコード単位より小さければ true を返す。</p>
            <li>
                <p>false を返す。</p>
        </ol>
        <p class="note" role="note">これはJavaScriptの<code>&lt;</code>演算子や、配列の<code
                class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array.prototype.sort" id="ref-for-sec-array.prototype.sort">sort()</a></code>メソッドで用いられている順序と一致します。この順序は各文字列の16ビットコード単位を比較し、非常に効率的・一貫性・決定論的なソート順を生み出します。結果的に、サロゲートペアで表現される<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point③③">符号位置</a>も含め、特定のアルファベットや辞書順とは一致しません。<a
                data-link-type="biblio" href="#biblio-ecma-262" title="ECMAScript Language Specification">[ECMA-262]</a>
        </p>
        <p class="example" id="example-code-unit-less-than"><a class="self-link"
                href="#example-code-unit-less-than"></a>たとえば、U+FF5E（全角チルダ,
            ～）はU+1F600（😀）より明らかに小さいですが、チルダは単一コード単位0xFF5Eで、スマイリーは2つのコード単位0xD83D, 0XDE00で構成されるため、スマイリーは<a
                data-link-type="dfn" href="#code-unit-less-than" id="ref-for-code-unit-less-than">コード単位小なり</a>でチルダとなります。
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="code-unit-substring">コード単位部分文字列</dfn>は、<a
                data-link-type="dfn" href="#string" id="ref-for-string③⑤">文字列</a> <var>string</var> の <var>start</var>
            から長さ <var>length</var> で切り出した部分文字列を以下の手順で求めます：</p>
        <ol>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert②">アサート</a>：<var>start</var> と
                    <var>length</var> は0以上である。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert③">アサート</a>：<var>start</var> +
                    <var>length</var> は <var>string</var> の<a data-link-type="dfn" href="#string-length"
                        id="ref-for-string-length④">長さ</a>以下である。
                </p>
            <li>
                <p><var>result</var> を空文字列とする。</p>
            <li>
                <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate④">start</a> から <var>start</var>
                    + <var>length</var> まで（exclusive）の範囲の各 <var>i</var> について：<var>string</var> の <var>i</var> 番目の<a
                        data-link-type="dfn" href="#code-unit" id="ref-for-code-unit①⓪">コード単位</a>を <var>result</var>
                    に追加する。</p>
            <li>
                <p><var>result</var> を返す。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="code unit substring by positions"
                id="code-unit-substring-by-positions">コード単位部分文字列</dfn>は、<a data-link-type="dfn" href="#string"
                id="ref-for-string③⑥">文字列</a> <var>string</var> の <var>start</var> から <var>end</var>
            までの部分を、<var>start</var> から長さ <var>end</var> − <var>start</var> の<a data-link-type="dfn"
                href="#code-unit-substring" id="ref-for-code-unit-substring">コード単位部分文字列</a>として切り出します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="code unit substring to the end of the string"
                id="code-unit-substring-to-the-end-of-the-string">コード単位部分文字列</dfn>は、<a data-link-type="dfn"
                href="#string" id="ref-for-string③⑦">文字列</a> <var>string</var> の <var>start</var> から末尾までを、<a
                data-link-type="dfn" href="#code-unit-substring-by-positions"
                id="ref-for-code-unit-substring-by-positions">コード単位部分文字列</a>（<var>start</var> から <var>string</var> の<a
                data-link-type="dfn" href="#string-length" id="ref-for-string-length⑤">長さ</a>まで）として切り出します。
        </p>
        <p class="example" id="example-code-unit-substring"><a class="self-link"
                href="#example-code-unit-substring"></a>"<code>Hello world</code>" の <a data-link-type="dfn"
                href="#code-unit-substring" id="ref-for-code-unit-substring①">コード単位部分文字列</a>（開始1・長さ3）は
            "<code>ell</code>" です。これは <a data-link-type="dfn" href="#code-unit-substring-by-positions"
                id="ref-for-code-unit-substring-by-positions①">1から4のコード単位部分文字列</a>とも表現されます。
        </p>
        <p class="note" role="note">これらのアルゴリズムで使われる数値は、<a data-link-type="dfn" href="#code-unit"
                id="ref-for-code-unit①①">コード単位</a>そのもののインデックスではなく、その「間」の位置と考えるのがよいです。返される部分文字列は、その区間に挟まれたコード単位で構成されます。例えば、空文字列における
            <a data-link-type="dfn" href="#code-unit-substring-by-positions"
                id="ref-for-code-unit-substring-by-positions②">0から0のコード単位部分文字列</a>が空文字列になる理由です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="code-point-substring">符号位置部分文字列</dfn>は、<a
                data-link-type="dfn" href="#string" id="ref-for-string③⑧">文字列</a> <var>string</var> の <var>start</var>
            から長さ <var>length</var> で切り出した部分文字列を以下の手順で求めます：</p>
        <ol>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert④">アサート</a>：<var>start</var> と
                    <var>length</var> は0以上である。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert⑤">アサート</a>：<var>start</var> +
                    <var>length</var> は <var>string</var> の<a data-link-type="dfn" href="#string-code-point-length"
                        id="ref-for-string-code-point-length①">符号位置長</a>以下である。
                </p>
            <li>
                <p><var>result</var> を空文字列とする。</p>
            <li>
                <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate⑤">start</a> から <var>start</var>
                    + <var>length</var> まで（exclusive）の範囲の各 <var>i</var> について：<var>string</var> の <var>i</var> 番目の<a
                        data-link-type="dfn" href="#code-point" id="ref-for-code-point③④">符号位置</a>を <var>result</var>
                    に追加する。</p>
            <li>
                <p><var>result</var> を返す。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="code point substring by positions"
                id="code-point-substring-by-positions">符号位置部分文字列</dfn>は、<a data-link-type="dfn" href="#string"
                id="ref-for-string③⑨">文字列</a> <var>string</var> の <var>start</var> から <var>end</var>
            までを、<var>start</var> から長さ <var>end</var> − <var>start</var> の<a data-link-type="dfn"
                href="#code-point-substring" id="ref-for-code-point-substring">符号位置部分文字列</a>として切り出します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="code point substring to the end of the string"
                id="code-point-substring-to-the-end-of-the-string">符号位置部分文字列</dfn>は、<a data-link-type="dfn"
                href="#string" id="ref-for-string④⓪">文字列</a> <var>string</var> の <var>start</var> から末尾までを、<a
                data-link-type="dfn" href="#code-point-substring-by-positions"
                id="ref-for-code-point-substring-by-positions">符号位置部分文字列</a>（<var>start</var> から <var>string</var> の<a
                data-link-type="dfn" href="#string-code-point-length"
                id="ref-for-string-code-point-length②">符号位置長</a>まで）として切り出します。
        </p>
        <div class="example" id="example-code-unit-vs-point-substring">
            <a class="self-link" href="#example-code-unit-vs-point-substring"></a>
            <p>一般に、開発者が指定する位置や長さが与えられている場合は<a data-link-type="dfn" href="#code-unit-substring"
                    id="ref-for-code-unit-substring②">コード単位部分文字列</a>を使います。これはJavaScriptの文字列インデックスの動作に合わせたものです。たとえば<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#characterdata" id="ref-for-characterdata">CharacterData</a></code>クラスのメソッドなど。<a
                    data-link-type="biblio" href="#biblio-dom" title="DOM Standard">[DOM]</a>
            </p>
            <p>それ以外の場合、<a data-link-type="dfn" href="#code-point-substring"
                    id="ref-for-code-point-substring①">符号位置部分文字列</a>のほうがよいでしょう。たとえば、"<code>👽</code>" の0から長さ1の<a
                    data-link-type="dfn" href="#code-point-substring" id="ref-for-code-point-substring②">符号位置部分文字列</a>は
                "<code>👽</code>" ですが、<a data-link-type="dfn" href="#code-unit-substring"
                    id="ref-for-code-unit-substring③">コード単位部分文字列</a>ならサロゲートU+D83Bだけの<a data-link-type="dfn"
                    href="#string" id="ref-for-string④①">文字列</a>になります。
            </p>
        </div>
        <hr>
        <div class="algorithm" data-algorithm="isomorphic encode">
            <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="isomorphic-encode">等価エンコード</a>は、<a
                    data-link-type="dfn" href="#isomorphic-string" id="ref-for-isomorphic-string①">等価文字列</a>
                <var>input</var> に対して、<var>input</var> の<a data-link-type="dfn" href="#string-code-point-length"
                    id="ref-for-string-code-point-length③">符号位置長</a>と等しい<a data-link-type="dfn" href="#byte-sequence"
                    id="ref-for-byte-sequence①⑤">バイト列</a>で、各<a data-link-type="dfn" href="#code-point"
                    id="ref-for-code-point③⑤">符号位置</a>の<a data-link-type="dfn" href="#code-point-value"
                    id="ref-for-code-point-value①">値</a>を<a data-link-type="dfn" href="#byte-value"
                    id="ref-for-byte-value②">値</a>とする<a data-link-type="dfn" href="#byte"
                    id="ref-for-byte①①">バイト</a>で同順に構成したものを返します。
            </p>
        </div>
        <hr>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-lowercase">ASCII小文字化</a>は、<a
                data-link-type="dfn" href="#string" id="ref-for-string④②">文字列</a>中のすべての<a data-link-type="dfn"
                href="#ascii-upper-alpha" id="ref-for-ascii-upper-alpha①">ASCII大文字アルファベット</a>を対応する<a
                data-link-type="dfn" href="#ascii-lower-alpha" id="ref-for-ascii-lower-alpha①">ASCII小文字アルファベット</a>の<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point③⑥">符号位置</a>に置換します。
        </p>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-uppercase">ASCII大文字化</a>は、<a
                data-link-type="dfn" href="#string" id="ref-for-string④④">文字列</a>中のすべての<a data-link-type="dfn"
                href="#ascii-lower-alpha" id="ref-for-ascii-lower-alpha②">ASCII小文字アルファベット</a>を対応する<a
                data-link-type="dfn" href="#ascii-upper-alpha" id="ref-for-ascii-upper-alpha②">ASCII大文字アルファベット</a>の<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point③⑦">符号位置</a>に置換します。
        </p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string④⑥">文字列</a> <var>A</var> が <a class="dfn-paneled"
                data-dfn-type="dfn" data-export id="ascii-case-insensitive">ASCII大文字小文字非区別</a>で <a data-link-type="dfn"
                href="#string" id="ref-for-string④⑦">文字列</a> <var>B</var> と一致するとは、<var>A</var> の<a data-link-type="dfn"
                href="#ascii-lowercase" id="ref-for-ascii-lowercase">ASCII小文字化</a>が<var>B</var>の<a data-link-type="dfn"
                href="#ascii-lowercase" id="ref-for-ascii-lowercase①">ASCII小文字化</a>と等しい場合です。
        </p>
        <div class="algorithm" data-algorithm="ASCII encode">
            <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-encode">ASCIIエンコード</a>は、<a
                    data-link-type="dfn" href="#ascii-string" id="ref-for-ascii-string①">ASCII文字列</a> <var>input</var>
                に対して、<a data-link-type="dfn" href="#isomorphic-encode"
                    id="ref-for-isomorphic-encode①">等価エンコード</a>した結果を返します。
            </p>
            <p class="note" role="note"><a data-link-type="dfn" href="#isomorphic-encode"
                    id="ref-for-isomorphic-encode②">等価エンコード</a>と<a data-link-type="dfn"
                    href="https://encoding.spec.whatwg.org/#utf-8-encode"
                    id="ref-for-utf-8-encode②">UTF-8エンコード</a>は、この入力に対して同じ<a data-link-type="dfn" href="#byte-sequence"
                    id="ref-for-byte-sequence①⑥">バイト列</a>を返します。
            </p>
        </div>
        <div class="algorithm" data-algorithm="ASCII decode">
            <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-decode">ASCIIデコード</a>は、<a
                    data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①⑦">バイト列</a> <var>input</var>
                に対して次を実行します：</p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert⑥">アサート</a>：<var>input</var> のすべてのバイトが<a
                            data-link-type="dfn" href="#ascii-byte" id="ref-for-ascii-byte①">ASCIIバイト</a>である。
                    </p>
                    <p class="note" role="note">この前提条件により、<a data-link-type="dfn" href="#isomorphic-decode"
                            id="ref-for-isomorphic-decode①">等価デコード</a>と<a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode"
                            id="ref-for-utf-8-decode②">UTF-8デコード</a>はこの入力に対して同じ<a data-link-type="dfn" href="#string"
                            id="ref-for-string④⑧">文字列</a>を返します。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#isomorphic-decode"
                            id="ref-for-isomorphic-decode②">等価デコード</a>した<var>input</var>を返す。</p>
            </ol>
        </div>
        <hr>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="strip-newlines">改行除去</a>は、<a data-link-type="dfn"
                href="#string" id="ref-for-string④⑨">文字列</a>から U+000A（LF）と U+000D（CR）の<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point③⑧">符号位置</a>を取り除きます。
        </p>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="normalize-newlines">改行正規化</a>は、<a
                data-link-type="dfn" href="#string" id="ref-for-string⑤①">文字列</a>中の U+000D（CR） U+000A（LF）のペアをすべて単一の
            U+000A（LF）に置き換え、残る U+000D（CR）もすべて U+000A（LF）に置換します。
        </p>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export
                id="strip-leading-and-trailing-ascii-whitespace">先頭と末尾のASCII空白除去</a>は、<a data-link-type="dfn"
                href="#string" id="ref-for-string⑤②">文字列</a>の先頭・末尾にある<a data-link-type="dfn" href="#ascii-whitespace"
                id="ref-for-ascii-whitespace①">ASCII空白</a>をすべて取り除きます。
        </p>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export
                id="strip-and-collapse-ascii-whitespace">ASCII空白除去・折り畳み</a>は、<a data-link-type="dfn" href="#string"
                id="ref-for-string⑤④">文字列</a>中の1個以上連続する<a data-link-type="dfn" href="#ascii-whitespace"
                id="ref-for-ascii-whitespace②">ASCII空白</a>の並びを単一のU+0020（SPACE）に置換し、その後先頭と末尾の<a data-link-type="dfn"
                href="#ascii-whitespace" id="ref-for-ascii-whitespace③">ASCII空白</a>も除去します。
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="collect a sequence of code points|collecting a sequence of code
points" id="collect-a-sequence-of-code-points"><a data-link-type="dfn" href="#code-point"
                    id="ref-for-code-point④⑤">符号位置</a>の列を収集する</dfn>には、ある条件<var>condition</var>を満たすものを
            <a data-link-type="dfn" href="#string" id="ref-for-string⑤⑥">文字列</a> <var>input</var>から収集し、<dfn
                class="dfn-paneled" data-dfn-for="string" data-dfn-type="dfn" data-export
                id="string-position-variable">位置変数</dfn>
            <var>position</var>が<var>input</var>内で呼び出しアルゴリズムの位置を追跡するものとする：
        </p>
        <ol>
            <li>
                <p><var>result</var> を空の<a data-link-type="dfn" href="#string" id="ref-for-string⑤⑦">文字列</a>とする。</p>
            <li>
                <p><var>position</var> が<var>input</var>の末尾を越えておらず、かつ <var>position</var> 位置の<a data-link-type="dfn"
                        href="#code-point" id="ref-for-code-point④⑥">符号位置</a>が条件 <var>condition</var> を満たす間：</p>
                <ol>
                    <li>
                        <p>その<a data-link-type="dfn" href="#code-point"
                                id="ref-for-code-point④⑦">符号位置</a>を<var>result</var>の末尾に追加する。</p>
                    <li>
                        <p><var>position</var> を1進める。</p>
                </ol>
            <li>
                <p><var>result</var> を返す。</p>
        </ol>
        <p class="note" role="note">このアルゴリズムは収集した<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point④⑧">符号位置</a>を返すだけでなく、呼び出しアルゴリズム内の<a data-link-type="dfn"
                href="#string-position-variable" id="ref-for-string-position-variable">位置変数</a>も更新します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="skip-ascii-whitespace">ASCII空白をスキップする</dfn>には、<a
                data-link-type="dfn" href="#string" id="ref-for-string⑤⑧">文字列</a>
            <var>input</var>と<a data-link-type="dfn" href="#string-position-variable"
                id="ref-for-string-position-variable①">位置変数</a> <var>position</var>が与えられたとき、
            <a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                id="ref-for-collect-a-sequence-of-code-points">ASCII空白</a>である<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point④⑨">符号位置</a>を
            <var>input</var>から<var>position</var>を使って収集する。収集された符号位置自体は使わないが、
            <var>position</var>は更新される。
        </p>
        <hr>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="strictly split|strictly split a string"
                id="strictly-split">厳密分割</a>は、<a data-link-type="dfn" href="#string" id="ref-for-string⑤⑨">文字列</a>
            <var>input</var> を区切り文字<a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑤⓪">符号位置</a>
            <var>delimiter</var> で分割する際、次を行います：
        </p>
        <ol>
            <li>
                <p><var>position</var>を<var>input</var>用の<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable②">位置変数</a>とし、最初は<var>input</var>の先頭を指すようにする。
                </p>
            <li>
                <p><var>tokens</var>を<a data-link-type="dfn" href="#list" id="ref-for-list⑤">リスト</a>（<a
                        data-link-type="dfn" href="#string" id="ref-for-string⑥⓪">文字列</a>のリスト）として空で初期化する。
                </p>
            <li>
                <p><var>token</var>を、<var>position</var>を使い、<var>input</var>から<var>delimiter</var>と等しくない
                    <a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                        id="ref-for-collect-a-sequence-of-code-points①">符号位置の列を収集する</a>の結果とする。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append⑧">tokenをtokensに追加</a>する。
                </p>
            <li>
                <p><var>position</var>が<var>input</var>の末尾を越えていない間、次を繰り返す：
                </p>
                <ol>
                    <li>
                        <p><a data-link-type="dfn" href="#assert"
                                id="ref-for-assert⑦">アサート</a>：<var>input</var>内の<var>position</var>にある
                            <a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑤①">符号位置</a>は
                            <var>delimiter</var>である。
                        </p>
                    <li>
                        <p><var>position</var>を1進める。
                        </p>
                    <li>
                        <p><var>token</var>を、<var>position</var>を使い、<var>input</var>から<var>delimiter</var>と等しくない
                            <a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                                id="ref-for-collect-a-sequence-of-code-points②">符号位置の列を収集する</a>の結果とする。
                        </p>
                    <li>
                        <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append⑨">tokenをtokensに追加</a>する。
                        </p>
                </ol>
            <li>
                <p><var>tokens</var>を返す。
                </p>
        </ol>
        <p class="note" role="note">このアルゴリズムは「厳密な」分割であり、以下のASCII空白用・カンマ用分割（どちらも間にASCII空白がある場合など様々な緩和あり）と対照的です。
        </p>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="split on ASCII whitespace|split a string on ASCII whitespace"
                id="split-on-ascii-whitespace">ASCII空白で分割</a>は、<a data-link-type="dfn" href="#string"
                id="ref-for-string⑥①">文字列</a> <var>input</var> について次を行います：
        </p>
        <ol>
            <li>
                <p><var>position</var>を<var>input</var>用の<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable③">位置変数</a>とし、最初は<var>input</var>の先頭を指すようにする。
                </p>
            <li>
                <p><var>tokens</var>を<a data-link-type="dfn" href="#list" id="ref-for-list⑥">リスト</a>（<a
                        data-link-type="dfn" href="#string" id="ref-for-string⑥②">文字列</a>のリスト）として空で初期化する。
                </p>
            <li>
                <p><var>input</var>内で<var>position</var>を使い、<a data-link-type="dfn" href="#skip-ascii-whitespace"
                        id="ref-for-skip-ascii-whitespace">ASCII空白をスキップ</a>する。
                </p>
            <li>
                <p><var>position</var>が<var>input</var>の末尾を越えていない間、次を繰り返す：
                </p>
                <ol>
                    <li>
                        <p><var>token</var>を、<var>position</var>を使い、<var>input</var>から<a data-link-type="dfn"
                                href="#ascii-whitespace" id="ref-for-ascii-whitespace⑥">ASCII空白</a>でない
                            <a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                                id="ref-for-collect-a-sequence-of-code-points③">符号位置の列を収集する</a>の結果とする。
                        </p>
                    <li>
                        <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append①⓪">tokenをtokensに追加</a>する。
                        </p>
                    <li>
                        <p><var>input</var>内で<var>position</var>を使い、<a data-link-type="dfn"
                                href="#skip-ascii-whitespace" id="ref-for-skip-ascii-whitespace①">ASCII空白をスキップ</a>する。
                        </p>
                </ol>
            <li>
                <p><var>tokens</var>を返す。
                </p>
        </ol>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="split on commas|split a string on commas"
                id="split-on-commas">カンマで分割</a>は、<a data-link-type="dfn" href="#string" id="ref-for-string⑥③">文字列</a>
            <var>input</var> について次を行います：
        </p>
        <ol>
            <li>
                <p><var>position</var> を<var>input</var>用の<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable④">位置変数</a>（初期値は先頭）とする。</p>
            <li>
                <p><var>tokens</var> を空の<a data-link-type="dfn" href="#list" id="ref-for-list⑦">リスト</a>（要素型：<a
                        data-link-type="dfn" href="#string" id="ref-for-string⑥④">文字列</a>）とする。</p>
            <li>
                <p><var>position</var>が<var>input</var>の末尾を越えない限り：</p>
                <ol>
                    <li>
                        <p><var>token</var>を、<var>position</var>を使い、<var>input</var>からU+002C（,）でない
                            <a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                                id="ref-for-collect-a-sequence-of-code-points④">符号位置の列を収集する</a>の結果とする。
                        </p>
                        <p class="note" role="note"><var>token</var>は空文字列の場合もある。
                        </p>
                    <li><a data-link-type="dfn" href="#strip-leading-and-trailing-ascii-whitespace"
                            id="ref-for-strip-leading-and-trailing-ascii-whitespace">tokenの先頭と末尾のASCII空白を除去</a>する。
                    <li>
                        <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append①①">tokenをtokensに追加</a>する。
                        </p>
                    <li>
                        <p>もし<var>position</var>が<var>input</var>の末尾を越えていなければ：
                        </p>
                        <ol>
                            <li>
                                <p><a data-link-type="dfn" href="#assert"
                                        id="ref-for-assert⑧">アサート</a>：<var>input</var>内の<var>position</var>にある
                                    <a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑤②">符号位置</a>は
                                    U+002C（,）である。
                                </p>
                            <li>
                                <p><var>position</var>を1進める。
                                </p>
                        </ol>
                </ol>
            <li>
                <p><var>tokens</var>を返す。</p>
        </ol>
        <p><a class="dfn-paneled" data-dfn-for="string" data-dfn-type="dfn" data-export
                data-lt="concatenate|concatenation" id="string-concatenate">連結</a>は、<a data-link-type="dfn" href="#list"
                id="ref-for-list⑧">リスト</a> <var>list</var>（要素型：<a data-link-type="dfn" href="#string"
                id="ref-for-string⑥⑤">文字列</a>）について、オプションの区切り文字列 <var>separator</var> を使って次を実行します：</p>
        <ol>
            <li>
                <p><var>list</var> が<a data-link-type="dfn" href="#list-is-empty"
                        id="ref-for-list-is-empty">空</a>なら空文字列を返す。</p>
            <li>
                <p><var>separator</var> が与えられていなければ空文字列に設定する。</p>
            <li>
                <p><var>list</var> の<a data-link-type="dfn" href="#list-item"
                        id="ref-for-list-item">各要素</a>を順に、<var>separator</var>で区切って連結した<a data-link-type="dfn"
                        href="#string" id="ref-for-string⑥⑥">文字列</a>を返す。</p>
        </ol>
        <p class="example" id="example-string-concatenate"><a class="self-link"
                href="#example-string-concatenate"></a>集合 <var>set</var> を直列化するには、U+0020（SPACE）で区切って<a
                data-link-type="dfn" href="#string-concatenate" id="ref-for-string-concatenate">連結</a>したものを返す。
        </p>
        <h3 class="heading settled" data-level="4.8" id="time"><span class="secno">4.8. </span><span
                class="content">時間</span><a class="self-link" href="#time"></a></h3>
        <p>時間は <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment"
                id="ref-for-dfn-moment">moment（瞬間）</a> 型および <a data-link-type="dfn"
                href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">duration（期間）</a>
            型で表現します。これらを定義したりJavaScriptとやりとりしたりする際は、<a href="https://w3c.github.io/hr-time/#sec-tools"><cite>High
                    Resolution Time</cite> § 3 仕様策定者のためのツール</a>の助言に従ってください。<a data-link-type="biblio"
                href="#biblio-hr-time" title="High Resolution Time">[HR-TIME]</a>
        </p>
        <h2 class="heading settled" data-level="5" id="data-structures"><span class="secno">5. </span><span
                class="content">データ構造</span><a class="self-link" href="#data-structures"></a></h2>
        <p>従来、仕様ではさまざまな曖昧な仕様レベルのデータ構造を、意味の共有認識をもとに扱ってきました。これは一般的にうまく機能しますが、たとえば反復順序や、すでに<a data-link-type="dfn"
                href="#ordered-set" id="ref-for-ordered-set">順序付き集合</a>に含まれる<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item①">item</a>を<a data-link-type="dfn" href="#set-append"
                id="ref-for-set-append">append</a>した場合など、端のケースで曖昧さが生じることがあります。また、特に複雑なデータ構造（<a data-link-type="dfn"
                href="#ordered-map" id="ref-for-ordered-map">map</a>など）については記法や表現が分かれがちでした。
        </p>
        <p>本標準は、共通の基盤を作るために、共通のデータ構造とそれを扱うための記法や表現を少数提供します。
        </p>
        <h3 class="heading settled" data-level="5.1" id="lists"><span class="secno">5.1. </span><span
                class="content">リスト</span><a class="self-link" href="#lists"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="list">リスト</dfn>は、有限個の順序付き
            <dfn class="dfn-paneled" data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export data-lt="item"
                id="list-item">項目</dfn>から成る仕様上の型である。
        </p>
        <p>記法上の便宜として、リストを«»で囲み、<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item②">item</a>をカンマで区切ってリテラル表記できます。添字アクセスは角括弧内に0始まりのインデックスを指定します。添字は、<a
                data-link-type="dfn" href="#list-contain" id="ref-for-list-contain①">exists</a>と併用する場合を除き、範囲外にしてはなりません。
        </p>
        <p class="example" id="example-list-notation"><a class="self-link"
                href="#example-list-notation"></a><var>example</var> を <a data-link-type="dfn" href="#list"
                id="ref-for-list①⓪">リスト</a> « "<code>a</code>", "<code>b</code>", "<code>c</code>", "<code>a</code>" »
            とすると、<var>example</var>[1] は <a data-link-type="dfn" href="#string" id="ref-for-string⑥⑦">文字列</a>
            "<code>b</code>" です。
        </p>
        <p>記法上の便宜として、複数代入構文を使ってリストの<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item③">item</a>を複数の変数に同時に割り当てても構いません。割り当てる変数を«»で囲み、カンマで区切ります。リストの<a
                data-link-type="dfn" href="#list-size"
                id="ref-for-list-size">size</a>と変数の個数は同じでなければなりません。各変数にはリストの同じインデックスの<a data-link-type="dfn"
                href="#list-item" id="ref-for-list-item④">item</a>が割り当てられます。
        </p>
        <div class="example" id="example-list-multiple-assignment">
            <a class="self-link" href="#example-list-multiple-assignment"></a>
            <ol>
                <li>
                    <p><var>value</var> を <a data-link-type="dfn" href="#list" id="ref-for-list①④">リスト</a> «
                        "<code>a</code>", "<code>b</code>", "<code>c</code>" » とする。
                    </p>
                <li>
                    <p>« <var>a</var>, <var>b</var>, <var>c</var> » を <var>value</var> とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert⑨">アサート</a>：<var>a</var> は
                        "<code>a</code>" である。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①⓪">アサート</a>：<var>b</var> は
                        "<code>b</code>" である。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①①">アサート</a>：<var>c</var> は
                        "<code>c</code>" である。
                    </p>
            </ol>
        </div>
        <p>リストの内容が完全に制御されていない場合（たとえばユーザー入力由来のリストなど）、複数代入構文を使う前にリストの<a data-link-type="dfn" href="#list-size"
                id="ref-for-list-size①">size</a>が期待通りかどうかを確認すべきです。
        </p>
        <div class="example" id="example-list-multiple-assignment-size">
            <a class="self-link" href="#example-list-multiple-assignment-size"></a>
            <ol>
                <li>
                    <p><var>list</var> の<a data-link-type="dfn" href="#list-size"
                            id="ref-for-list-size②">size</a>が<code>3</code>でなければ failure を返す。</p>
                <li>
                    <p>« <var>a</var>, <var>b</var>, <var>c</var> » を <var>list</var> とする。</p>
            </ol>
        </div>
        <hr>
        <p><a class="dfn-paneled" data-dfn-for="list" data-dfn-type="dfn" data-export id="list-append">append</a> は <a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①">順序付き集合</a>でない<a data-link-type="dfn"
                href="#list" id="ref-for-list①⑦">リスト</a>の末尾に<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item⑤">item</a>を追加することです。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="list" data-dfn-type="dfn" data-export id="list-extend">拡張</dfn>
            は、<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set②">順序付きセット</a>でない<a
                data-link-type="dfn" href="#list" id="ref-for-list①⑧">リスト</a> <var>A</var>を、<a data-link-type="dfn"
                href="#list" id="ref-for-list①⑨">リスト</a> <var>B</var>で拡張するには、<a data-link-type="dfn"
                href="#list-iterate" id="ref-for-list-iterate⑥">B の各</a> <var>item</var>に対し、<a data-link-type="dfn"
                href="#list-append" id="ref-for-list-append①②">item を A に追加</a>する。
        </p>
        <div class="example" id="example-list-extend">
            <a class="self-link" href="#example-list-extend"></a>
            <ol>
                <li>
                    <p><var>ghostbusters</var> を « "<code>Erin Gilbert</code>", "<code>Abby Yates</code>" » とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#list-extend" id="ref-for-list-extend">Extend</a>
                        <var>ghostbusters</var> を « "<code>Jillian Holtzmann</code>", "<code>Patty Tolan</code>" »
                        で拡張する。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①②">アサート</a>：<var>ghostbusters</var> の<a
                            data-link-type="dfn" href="#list-size" id="ref-for-list-size③">size</a>は4である。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①③">アサート</a>：<var>ghostbusters</var>[2]
                        は "<code>Jillian Holtzmann</code>" である。
                    </p>
            </ol>
        </div>
        <p><a class="dfn-paneled" data-dfn-for="list" data-dfn-type="dfn" data-export id="list-prepend">prepend</a> は <a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set③">順序付き集合</a>でない<a data-link-type="dfn"
                href="#list" id="ref-for-list②⓪">リスト</a>の先頭に<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item⑥">item</a>を追加することです。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list" data-dfn-type="dfn" data-export id="list-replace">replace</a> は <a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set④">順序付き集合</a>でない<a data-link-type="dfn"
                href="#list" id="ref-for-list②①">リスト</a>中の、指定条件に一致する<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item⑦">item</a>をすべて、そのitemで置き換える（該当なしなら何もしない）ことです。
        </p>
        <p class="note" role="note">上記の定義は、<a data-link-type="dfn" href="#list" id="ref-for-list②②">リスト</a>が<a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set⑤">順序付き集合</a>の場合は修正されます。下記の <a
                data-link-type="dfn" href="#set-append" id="ref-for-set-append①">ordered set append</a>、<a
                data-link-type="dfn" href="#set-prepend" id="ref-for-set-prepend">prepend</a>、<a data-link-type="dfn"
                href="#set-replace" id="ref-for-set-replace">replace</a> を参照してください。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list,set" data-dfn-type="dfn" data-export id="list-insert">insert</a> は
            <a data-link-type="dfn" href="#list" id="ref-for-list②③">リスト</a>内で指定インデックスの直前（インデックス0なら先頭）に<a
                data-link-type="dfn" href="#list-item" id="ref-for-list-item⑧">item</a>を挿入することです。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list,set" data-dfn-type="dfn" data-export id="list-remove">remove</a> は
            <a data-link-type="dfn" href="#list" id="ref-for-list②④">リスト</a>から指定条件に一致する<a data-link-type="dfn"
                href="#list-item" id="ref-for-list-item⑨">item</a>をすべて除去する（該当なしなら何もしない）ことです。
        </p>
        <div class="example" id="example-list-remove">
            <a class="self-link" href="#example-list-remove"></a>
            <p><a data-link-type="dfn" href="#list-remove" id="ref-for-list-remove">xをリスト</a> « <var>x</var>,
                <var>y</var>, <var>z</var>, <var>x</var> » から除去すると、xに等しいitemすべてが除去され、リストは « <var>y</var>, <var>z</var> »
                となります。
            </p>
            <p><a data-link-type="dfn" href="#list-remove" id="ref-for-list-remove①">"a"で始まるitemをすべてリスト</a> «
                "<code>a</code>", "<code>b</code>", "<code>ab</code>", "<code>ba</code>" » から除去すると、"a"と"ab"が除かれ、リストは «
                "<code>b</code>", "<code>ba</code>" » となります。
            </p>
        </div>
        <p><a class="dfn-paneled" data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export
                id="list-empty">empty</a> は <a data-link-type="dfn" href="#list" id="ref-for-list②⑦">リスト</a>の<a
                data-link-type="dfn" href="#list-item" id="ref-for-list-item①⓪">item</a>をすべて<a data-link-type="dfn"
                href="#list-remove" id="ref-for-list-remove②">remove</a>することです。
        </p>
        <p><a data-link-type="dfn" href="#list" id="ref-for-list②⑧">リスト</a>が<a class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export data-lt="contain|exist"
                id="list-contain">itemを含む</a>とは、そのitemがリスト中に存在することです。<a data-link-type="dfn" href="#list"
                id="ref-for-list②⑨">リスト</a> <var>list</var> とインデックス <var>index</var>
            について、「<var>list</var>[<var>index</var>] <a data-link-type="dfn" href="#list-contain"
                id="ref-for-list-contain②">exists</a>」とも表せます。
        </p>
        <p><a data-link-type="dfn" href="#list" id="ref-for-list③⓪">リスト</a>の<a class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export id="list-size">size</a>は、リストが<a
                data-link-type="dfn" href="#list-contain" id="ref-for-list-contain③">含む</a>itemの数です。
        </p>
        <p><a data-link-type="dfn" href="#list" id="ref-for-list③①">リスト</a>が<a class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export data-lt="is empty|is not empty"
                id="list-is-empty">空</a>であるとは、<a data-link-type="dfn" href="#list-size"
                id="ref-for-list-size④">size</a>が0であることです。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export
                data-lt="get the indices|indices" id="list-get-the-indices">インデックス取得</a>は、<a data-link-type="dfn"
                href="#list" id="ref-for-list③②">リスト</a>のインデックスとして 0 から<a data-link-type="dfn" href="#list-size"
                id="ref-for-list-size⑤">size</a>（exclusive）までの範囲を返します。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list,set" data-dfn-type="dfn" data-export data-lt="iterate|for each"
                id="list-iterate">iterate</a>は、<a data-link-type="dfn" href="#list" id="ref-for-list③③">リスト</a>の各<a
                data-link-type="dfn" href="#list-item" id="ref-for-list-item①③">item</a>に順に一連の手順を行う際、「<a
                data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>item</var> of
            <var>list</var>」の形で記述します。以降の本文で<var>item</var>に対し処理します。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export
                id="list-clone">clone</a> は <a data-link-type="dfn" href="#list" id="ref-for-list③④">リスト</a>
            <var>list</var> と同じdesignationの新しい<a data-link-type="dfn" href="#list" id="ref-for-list③⑤">リスト</a>
            <var>clone</var>を作成し、<a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate⑧">for each</a>
            <var>item</var> of <var>list</var> で <a data-link-type="dfn" href="#list-append"
                id="ref-for-list-append①③">append</a>して、同じ順序・内容のリストを作ります。
        </p>
        <p class="note" role="note">これは「浅いclone」です。item自身は複製しません。
        </p>
        <p class="example" id="example-list-clone"><a class="self-link" href="#example-list-clone"></a>
            <var>original</var>を<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set⑥">順序付きセット</a> «
            "<code>a</code>", "<code>b</code>", "<code>c</code>" » とする。<a data-link-type="dfn" href="#list-clone"
                id="ref-for-list-clone">originalを複製</a>すると、
            新しい<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set⑦">順序付きセット</a>
            <var>clone</var>が作られる。<a data-link-type="dfn" href="#set-replace" id="ref-for-set-replace①">clone内の</a>
            "<code>a</code>" を
            "<code>foo</code>" に<ruby>置換<rt>ちかん</rt></ruby>すると « "<code>foo</code>", "<code>b</code>", "<code>c</code>"
            » となるが、
            <var>original</var>[0] は依然として<a data-link-type="dfn" href="#string" id="ref-for-string⑥⑨">文字列</a>
            "<code>a</code>" のままである。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export
                data-lt="sort in ascending order|sorting in ascending order|sort|sorting"
                id="list-sort-in-ascending-order">昇順ソート</a>は、<a data-link-type="dfn" href="#list"
                id="ref-for-list③⑥">リスト</a> <var>list</var>・less thanアルゴリズム <var>lessThanAlgo</var> で、<var>list</var>
            と同じitemを持つ新リスト <var>sorted</var> を生成し、<var>lessThanAlgo</var>
            に従って各itemが後続のitemより小さい順になるように並べます。同順位（両方向false）のitemは元の順番を維持します。
        </p>
        <p><a class="dfn-paneled" data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export
                data-lt="sort in descending order|sorting in descending order"
                id="list-sort-in-descending-order">降順ソート</a>は、昇順ソートの逆順です。<var>lessThanAlgo</var>で後続itemより小さいitemが前に来るように並べ、新リスト
            <var>sorted</var> を作ります。同順位は元の順序を維持します。
        </p>
        <p class="example" id="example-list-sort"><a class="self-link" href="#example-list-sort"></a><var>original</var>
            を <a data-link-type="dfn" href="#list" id="ref-for-list④⓪">リスト</a> « (200, "<code>OK</code>"), (404,
            "<code>Not Found</code>"), (null, "<code>OK</code>") » とし、2番目の<a data-link-type="dfn" href="#struct-item"
                id="ref-for-struct-item③">item</a>が<a data-link-type="dfn" href="#code-unit-less-than"
                id="ref-for-code-unit-less-than①">コード単位小なり</a>となる順で<a data-link-type="dfn"
                href="#list-sort-in-ascending-order" id="ref-for-list-sort-in-ascending-order">昇順ソート</a>すると、結果は « (404,
            "<code>Not Found</code>"), (200, "<code>OK</code>"), (null, "<code>OK</code>") » となります。
        </p>
        <hr>
        <p><a data-link-type="dfn" href="#list"
                id="ref-for-list④①">リスト</a>型はJavaScript仕様（大文字のList）由来であり、その定義要素の一部をここに再掲し、さらに<a data-link-type="dfn"
                href="#list" id="ref-for-list④②">リスト</a>操作用の語彙を拡張しています。JavaScriptが<a data-link-type="dfn"
                href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type"
                id="ref-for-sec-list-and-record-specification-type">List</a>を要求する場合、本標準の<a data-link-type="dfn"
                href="#list" id="ref-for-list④③">リスト</a>が使えます（同じ型です）。<a data-link-type="biblio" href="#biblio-ecma-262"
                title="ECMAScript Language Specification">[ECMA-262]</a>
        </p>
        <h4 class="heading settled" data-level="5.1.1" id="stacks"><span class="secno">5.1.1. </span><span
                class="content">スタック</span><a class="self-link" href="#stacks"></a></h4>
        <p>一部の<a data-link-type="dfn" href="#list" id="ref-for-list④④">リスト</a>は<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-lt="stack" id="stack">スタック</dfn>と指定されます。スタックも<a
                data-link-type="dfn" href="#list" id="ref-for-list④⑤">リスト</a>ですが、通常は<a data-link-type="dfn"
                href="#list-append" id="ref-for-list-append①④">append</a>、<a data-link-type="dfn" href="#list-prepend"
                id="ref-for-list-prepend①">prepend</a>、<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove③">remove</a>ではなく、以下の操作を使います。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="stack" data-dfn-type="dfn" data-export id="stack-push">push</dfn>は、<a
                data-link-type="dfn" href="#stack" id="ref-for-stack">スタック</a>に<a data-link-type="dfn"
                href="#list-append" id="ref-for-list-append①⑤">append</a>することです。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="stack" data-dfn-type="dfn" data-export id="stack-pop">pop</dfn>は、<a
                data-link-type="dfn" href="#stack" id="ref-for-stack①">スタック</a>が<a data-link-type="dfn"
                href="#list-is-empty" id="ref-for-list-is-empty①">空でなければ</a>、末尾の<a data-link-type="dfn"
                href="#list-item" id="ref-for-list-item①⑧">item</a>を<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove④">remove</a>して返します。空なら何も返しません。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="stack" data-dfn-type="dfn" data-export id="stack-peek">peek</dfn>は、<a
                data-link-type="dfn" href="#stack" id="ref-for-stack③">スタック</a>が<a data-link-type="dfn"
                href="#list-is-empty" id="ref-for-list-is-empty②">空でなければ</a>、末尾の<a data-link-type="dfn"
                href="#list-item" id="ref-for-list-item①⑨">item</a>を返します。空なら何も返しません。
        </p>
        <p><a data-link-type="dfn" href="#stack" id="ref-for-stack⑤">スタック</a>も<a data-link-type="dfn" href="#list"
                id="ref-for-list④⑥">リスト</a>ですが、<a data-link-type="dfn" href="#list-iterate"
                id="ref-for-list-iterate⑨">for each</a>は使わず、<a data-link-type="dfn" href="#iteration-while"
                id="ref-for-iteration-while③">while</a>と<a data-link-type="dfn" href="#stack-pop"
                id="ref-for-stack-pop">pop</a>の組み合わせが適切です。
        </p>
        <h4 class="heading settled" data-level="5.1.2" id="queues"><span class="secno">5.1.2. </span><span
                class="content">キュー</span><a class="self-link" href="#queues"></a></h4>
        <p>一部の<a data-link-type="dfn" href="#list" id="ref-for-list④⑦">リスト</a>は<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-lt="queue" id="queue">キュー</dfn>と指定されます。キューも<a data-link-type="dfn"
                href="#list" id="ref-for-list④⑧">リスト</a>ですが、通常は<a data-link-type="dfn" href="#list-append"
                id="ref-for-list-append①⑥">append</a>、<a data-link-type="dfn" href="#list-prepend"
                id="ref-for-list-prepend②">prepend</a>、<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove⑤">remove</a>ではなく、以下の操作を使います。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="queue" data-dfn-type="dfn" data-export
                id="queue-enqueue">enqueue</dfn>は、<a data-link-type="dfn" href="#queue" id="ref-for-queue">キュー</a>に<a
                data-link-type="dfn" href="#list-append" id="ref-for-list-append①⑦">append</a>することです。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="queue" data-dfn-type="dfn" data-export
                id="queue-dequeue">dequeue</dfn>は、<a data-link-type="dfn" href="#queue" id="ref-for-queue①">キュー</a>が<a
                data-link-type="dfn" href="#list-is-empty" id="ref-for-list-is-empty③">空でなければ</a>、先頭の<a
                data-link-type="dfn" href="#list-item" id="ref-for-list-item②⓪">item</a>を<a data-link-type="dfn"
                href="#list-remove" id="ref-for-list-remove⑥">remove</a>して返します。空なら何も返しません。
        </p>
        <p><a data-link-type="dfn" href="#queue" id="ref-for-queue③">キュー</a>も<a data-link-type="dfn" href="#list"
                id="ref-for-list④⑨">リスト</a>ですが、<a data-link-type="dfn" href="#list-iterate"
                id="ref-for-list-iterate①⓪">for each</a>は使わず、<a data-link-type="dfn" href="#iteration-while"
                id="ref-for-iteration-while④">while</a>と<a data-link-type="dfn" href="#queue-dequeue"
                id="ref-for-queue-dequeue">dequeue</a>の組み合わせが適切です。
        </p>
        <h4 class="heading settled" data-level="5.1.3" id="sets"><span class="secno">5.1.3. </span><span
                class="content">集合</span><a class="self-link" href="#sets"></a></h4>
        <p>一部の<a data-link-type="dfn" href="#list" id="ref-for-list⑤⓪">リスト</a>は<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-lt="ordered set|set"
                id="ordered-set">順序付き集合</dfn>と指定されます。順序付き集合は、同じ<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item②①">item</a>を2回含まないという意味が追加された<a data-link-type="dfn" href="#list"
                id="ref-for-list⑤①">リスト</a>です。
        </p>
        <p class="note" role="note">
            ウェブプラットフォームのほとんどのケースでは、順序を持つ集合が必要です。なぜなら、開発者に見せる列挙の順序がブラウザ間で一貫していなければならないからです。順序が重要でない場合でも順序付き集合を使い、実装では順序が観測されないことを利用して最適化できます。
        </p>
        <div class="algorithm" data-algorithm="create" data-algorithm-for="set">
            <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                    id="set-create">集合生成</dfn>は、<a data-link-type="dfn" href="#list" id="ref-for-list⑤②">リスト</a>
                <var>input</var> を与えて次を行います：
            </p>
            <ol>
                <li>
                    <p><var>result</var> を空の<a data-link-type="dfn" href="#ordered-set"
                            id="ref-for-ordered-set⑨">順序付き集合</a>とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①①">For each</a>
                        <var>item</var> of <var>input</var> に対して、<a data-link-type="dfn" href="#set-append"
                            id="ref-for-set-append②">append</a> <var>item</var> を <var>result</var> に追加。
                    </p>
                <li>
                    <p><var>result</var> を返す。
                    </p>
            </ol>
        </div>
        <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export id="set-append">append</dfn>は、<a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⓪">順序付き集合</a>に指定<a data-link-type="dfn"
                href="#list-item" id="ref-for-list-item②②">item</a>がすでに含まれていれば何もしません。含まれていなければ通常の<a data-link-type="dfn"
                href="#list" id="ref-for-list⑤③">リスト</a>の<a data-link-type="dfn" href="#list-append"
                id="ref-for-list-append①⑧">append</a>操作を行います。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export id="set-extend">拡張</dfn>
            は、<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①①">順序付きセット</a> <var>A</var>を
            <a data-link-type="dfn" href="#list" id="ref-for-list⑤④">リスト</a> <var>B</var>で拡張するには、<a data-link-type="dfn"
                href="#list-iterate" id="ref-for-list-iterate①②">B の各</a>
            <var>item</var>に対し、<a data-link-type="dfn" href="#set-append" id="ref-for-set-append③">item を A に追加</a>する。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-prepend">prepend</dfn>は、<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set①②">順序付き集合</a>に指定<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item②③">item</a>がすでに含まれていれば何もしません。含まれていなければ通常の<a data-link-type="dfn" href="#list"
                id="ref-for-list⑤⑤">リスト</a>の<a data-link-type="dfn" href="#list-prepend"
                id="ref-for-list-prepend③">prepend</a>操作を行います。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export data-lt="replace|replacing"
                id="set-replace">replace</dfn>は、<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set①③">順序付き集合</a> <var>set</var>
            において、<var>item</var>または<var>replacement</var>が含まれていれば最初のものを<var>replacement</var>で置き換え、それ以外の重複を<a
                data-link-type="dfn" href="#list-remove" id="ref-for-list-remove⑦">remove</a>します。
        </p>
        <p class="example" id="example-set-replace"><a class="self-link" href="#example-set-replace"></a><a
                data-link-type="dfn" href="#set-replace" id="ref-for-set-replace②">"a"を"c"にreplace</a>する場合、順序付き集合 « "a",
            "b", "c" » は « "c", "b" » となります。« "c", "b", "a" » も « "c", "b" » となります。
        </p>
        <p><a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⑤">順序付き集合</a> <var>set</var> が別の<a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⑥">順序付き集合</a> <var>superset</var>の<dfn
                class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-subset">部分集合</dfn>（supersetは<dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn"
                data-export id="set-superset">上位集合</dfn>）であるとは、<a data-link-type="dfn" href="#list-iterate"
                id="ref-for-list-iterate①③">for each</a> <var>item</var> of <var>set</var>
            について、<var>superset</var>が<var>item</var>を含む場合です。
        </p>
        <p class="note" role="note">これは、<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set①⑦">順序付きセット</a>は自分自身の<a data-link-type="dfn" href="#set-subset"
                id="ref-for-set-subset">部分集合</a>かつ
            <a data-link-type="dfn" href="#set-superset" id="ref-for-set-superset">上位集合</a>であることを意味する。
        </p>
        <p><a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⑧">集合</a> <var>A</var> が <a
                class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export id="set-equal">等しい(equal)</a> <a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⑨">集合</a> <var>B</var> なのは、<var>A</var>
            が<dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-subset①">部分集合</dfn>かつ<dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-superset①">上位集合</dfn>である場合です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-intersection">交差(intersection)</dfn>は、<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set②①">順序付き集合</a> <var>A</var>, <var>B</var> について、新しい順序付き集合 <var>set</var> を生成し、<a
                data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①④">for each</a> <var>item</var> of
            <var>A</var> について、<var>B</var> が <var>item</var> を含んでいれば <a data-link-type="dfn" href="#set-append"
                id="ref-for-set-append④">append</a> します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-union">和集合(union)</dfn>は、<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set②②">順序付き集合</a> <var>A</var>, <var>B</var> について、<var>A</var>を<a
                data-link-type="dfn" href="#list-clone" id="ref-for-list-clone①">clone</a>した<var>set</var>に、<a
                data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①⑤">for each</a> <var>item</var> of
            <var>B</var> で <a data-link-type="dfn" href="#set-append" id="ref-for-set-append⑤">append</a>します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-difference">差(difference)</dfn>は、<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set②③">順序付き集合</a> <var>A</var>, <var>B</var> について、新しい順序付き集合 <var>set</var> を生成し、<a
                data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①⑥">for each</a> <var>item</var> of
            <var>A</var> について、<var>B</var> が <var>item</var> を含まなければ <a data-link-type="dfn" href="#set-append"
                id="ref-for-set-append⑥">append</a> します。
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="the range|the inclusive range"
                id="the-range">範囲（the range）</dfn> <var>n</var> to
            <var>m</var>（inclusive）は、<var>n</var>から<var>m</var>まで（両端含む）の整数を昇順で含む新しい<a data-link-type="dfn"
                href="#ordered-set" id="ref-for-ordered-set②⑤">順序付き集合</a>を生成します（<var>m</var> ≥ <var>n</var>の場合）。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="the exclusive range"
                id="the-exclusive-range">範囲（exclusive）</dfn> <var>n</var> to <var>m</var>
            は、<var>n</var>から<var>m</var>−1まで（両端含まず）の整数を昇順で含む新しい<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set②⑥">順序付き集合</a>を生成します（<var>m</var> >
            <var>n</var>の場合）。<var>m</var>＝<var>n</var>なら空集合となります。
        </p>
        <p class="example" id="example-the-range"><a class="self-link" href="#example-the-range"></a><a
                data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①⑦">For each</a> <var>n</var> of <a
                data-link-type="dfn" href="#the-range" id="ref-for-the-range">範囲</a> 1 to 4, inclusive, …
        </p>
        <h3 class="heading settled" data-level="5.2" id="maps"><span class="secno">5.2. </span><span
                class="content">マップ</span><a class="self-link" href="#maps"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="ordered map|map"
                id="ordered-map">順序付きマップ</dfn>（時には単に「マップ」とも呼ばれる）は、
            有限個の<a data-link-type="dfn" href="#tuple" id="ref-for-tuple③">タプル</a>からなる順序付き列で構成される仕様型であり、各タプルは
            <dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export id="map-key">キー</dfn>と
            <dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export id="map-value">値</dfn>からなり、
            同じキーが二度現れることはありません。このような各タプルは
            <dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                id="map-entry">エントリー</dfn>と呼ばれます。
        </p>
        <p class="note" role="note"><a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set②⑧">順序付きセット</a>と同様に、現行標準では実装間の相互運用性のため、
            マップには順序性が必要であると仮定します。
        </p>
        <p>リテラル構文を使って<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①">順序付きマップ</a>を示すことができ、
            マップ全体を«[ ]»で囲み、各<a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry">エントリー</a>を<var>key</var> →
            <var>value</var>の形で記述し、
            エントリー同士はカンマで区切ります。
        </p>
        <p class="example" id="example-map-notation"><a class="self-link" href="#example-map-notation"></a>
            <var>example</var>を<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②">順序付きマップ</a>
            «[
            "<code>a</code>" → `<code>x</code>`, "<code>b</code>" → `<code>y</code>` ]»とする。
            このとき<var>example</var>["<code>a</code>"]は<a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence①⑧">バイト列</a> `<code>x</code>`である。
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="get|get the value"
                id="map-get">エントリーの値を取得する</dfn>には、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map③">順序付きマップ</a> <var>map</var>と
            <a data-link-type="dfn" href="#map-key" id="ref-for-map-key">キー</a> <var>key</var>、および任意の
            <var>default</var>を与える：
        </p>
        <ol>
            <li>
                <p>もし<var>map</var>が<a data-link-type="dfn" href="#map-exists" id="ref-for-map-exists">key</a>
                    <var>key</var>を
                    含まない場合、かつ<var>default</var>が与えられていれば、<var>default</var>を返す。
                </p>
            <li>
                <p>アサート: <var>map</var>は<a data-link-type="dfn" href="#map-exists" id="ref-for-map-exists①">key</a>
                    <var>key</var>を含んでいる。
                </p>
            <li>
                <p><var>map</var>内で<a data-link-type="dfn" href="#map-key"
                        id="ref-for-map-key①">key</a>が<var>key</var>である
                    <a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry①">エントリー</a>の
                    <a data-link-type="dfn" href="#map-value" id="ref-for-map-value">値</a>を返す。
                </p>
        </ol>
        <p>また、インデックス記法を使って<a data-link-type="dfn" href="#map-get" id="ref-for-map-get">値の取得</a>を示すこともできる。
            これは、<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map④">マップ</a>の直後に角括弧で
            <a data-link-type="dfn" href="#map-key" id="ref-for-map-key②">キー</a>を指定する。
            デフォルト値を与えたい場合は、<dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                id="map-with-default">with default</dfn>の後に
            デフォルト値を記載する。
        </p>
        <p class="example" id="example-map-get"><a class="self-link" href="#example-map-get"></a>
            <var>map</var>["<code>test</code>"]
            が<a data-link-type="dfn" href="#map-exists" id="ref-for-map-exists②">存在</a>する場合は、
            <var>map</var>["<code>test</code>"]を返す。
        </p>
        <p class="example" id="example-map-get-with-default"><a class="self-link"
                href="#example-map-get-with-default"></a>
            <var>example</var>を<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map⑤">順序付きマップ</a>
            «[ "<code>a</code>" → "<code>x</code>", "<code>b</code>" → "<code>y</code>" ]»とする。
            このとき<var>example</var>["<code>a</code>"]は
            <var>example</var>["<code>a</code>"] <a data-link-type="dfn" href="#map-with-default"
                id="ref-for-map-with-default">with default</a>
            "<code>z</code>"と同じ、すなわち"<code>x</code>"となる。
            <var>example</var>["<code>c</code>"]はアサートに失敗する。
            <var>example</var>["<code>c</code>"] <a data-link-type="dfn" href="#map-with-default"
                id="ref-for-map-with-default①">with default</a> "<code>z</code>"は"<code>z</code>"となる。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="set|set the value"
                id="map-set">エントリーの値を設定する</dfn>には、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map⑥">順序付きマップ</a>内で既存の
            <a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry②">エントリー</a>が
            <a data-link-type="dfn" href="#map-exists" id="ref-for-map-exists③">指定キー</a>を持つ場合はその値を更新し、
            そうでなければ新たなエントリーをマップの末尾に追加することを意味します。
            また、<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map⑦">順序付きマップ</a>
            <var>map</var>、キー<var>key</var>、値<var>value</var>について
            「<a data-link-type="dfn" href="#map-set" id="ref-for-map-set">set</a> <var>map</var>[<var>key</var>] to
            <var>value</var>」と記述することもできる。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="remove"
                id="map-remove">エントリーを削除する</dfn>には、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map⑧">順序付きマップ</a>から
            条件に一致する<a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry③">エントリー</a>をすべて削除し、
            該当しない場合は何もしません。
            条件が特定の<a data-link-type="dfn" href="#map-key" id="ref-for-map-key④">キー</a>の場合は、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map⑨">順序付きマップ</a>
            <var>map</var>とキー<var>key</var>について
            「<a data-link-type="dfn" href="#map-remove" id="ref-for-map-remove">remove</a>
            <var>map</var>[<var>key</var>]」と記述できる。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export id="map-clear">クリアする</dfn>とは、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⓪">順序付きマップ</a>の
            <a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry④">全エントリー</a>を削除することです。
        </p>
        <p><a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①①">順序付きマップ</a>は
            <dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="exist|contain"
                id="map-exists">指定キーを持つエントリーを含む</dfn>
            とは、その<a data-link-type="dfn" href="#map-key" id="ref-for-map-key⑤">キー</a>を持つエントリーが存在することを意味します。
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①②">順序付きマップ</a>
            <var>map</var>とキー<var>key</var>に対して
            「<var>map</var>[<var>key</var>]
            <a data-link-type="dfn" href="#map-exists" id="ref-for-map-exists④">exists</a>」とも記述できます。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                data-lt="getting the keys|get the keys|keys" id="map-getting-the-keys">キーを取得する</dfn>には、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①③">順序付きマップ</a>内の
            <a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry⑥">エントリー</a>の各
            <a data-link-type="dfn" href="#map-getting-the-keys" id="ref-for-map-getting-the-keys">キー</a>を
            <a data-link-type="dfn" href="#list-item" id="ref-for-list-item②④">アイテム</a>とする
            新しい<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set②⑨">順序付きセット</a>を返します。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                data-lt="getting the values|get the values|values" id="map-getting-the-values">値を取得する</dfn>には、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①④">順序付きマップ</a>内の
            <a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry⑦">エントリー</a>の各
            <a data-link-type="dfn" href="#map-getting-the-values" id="ref-for-map-getting-the-values">値</a>を
            <a data-link-type="dfn" href="#list-item" id="ref-for-list-item②⑤">アイテム</a>とする
            新しい<a data-link-type="dfn" href="#list" id="ref-for-list⑤⑥">リスト</a>を返します。
        </p>
        <p><a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⑤">順序付きマップ</a>の
            <dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export id="map-size">サイズ</dfn>は、
            そのマップに対して<a data-link-type="dfn" href="#map-getting-the-keys"
                id="ref-for-map-getting-the-keys①">キーを取得</a>した結果の
            <a data-link-type="dfn" href="#list-size" id="ref-for-list-size⑥">サイズ</a>です。
        </p>
        <p><a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⑥">順序付きマップ</a>は
            <dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="is empty|is not empty"
                id="map-is-empty">空である</dfn>とは、
            <a data-link-type="dfn" href="#map-size" id="ref-for-map-size">サイズ</a>が0である場合をいう。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="iterate|for each"
                id="map-iterate">反復する</dfn>には、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⑦">順序付きマップ</a>内の各<a data-link-type="dfn"
                href="#map-entry" id="ref-for-map-entry⑧">エントリー</a>に
            順に一連の手順を適用する。例えば
            「<a data-link-type="dfn" href="#map-iterate" id="ref-for-map-iterate①">For each</a> <var>key</var> →
            <var>value</var> of <var>map</var>」と記述し、その後の文章で<var>key</var>と<var>value</var>に操作を行う。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export id="map-clone">複製する</dfn>には、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⑧">順序付きマップ</a> <var>map</var>から
            新しい<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⑨">順序付きマップ</a>
            <var>clone</var>を作成し、
            <a data-link-type="dfn" href="#map-iterate" id="ref-for-map-iterate②">各</a> <var>key</var> →
            <var>value</var>について
            <a data-link-type="dfn" href="#map-set" id="ref-for-map-set①">clone</a>[<var>key</var>]に
            <var>value</var>を設定します。
        </p>
        <p class="note" role="note">これは「浅い複製」であり、<a data-link-type="dfn" href="#map-getting-the-keys"
                id="ref-for-map-getting-the-keys②">キー</a>や<a data-link-type="dfn" href="#map-getting-the-values"
                id="ref-for-map-getting-the-values①">値</a>自体は複製されません。
        </p>
        <p class="example" id="example-map-clone"><a class="self-link" href="#example-map-clone"></a>
            <var>original</var>を<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②⓪">順序付きマップ</a>
            «[
            "<code>a</code>" → «1, 2, 3», "<code>b</code>" → «» ]»とする。
            <a data-link-type="dfn" href="#list-clone" id="ref-for-list-clone②">複製</a>した<var>original</var>は
            新しい<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②①">順序付きマップ</a>
            <var>clone</var>となるので、
            <a data-link-type="dfn" href="#map-set" id="ref-for-map-set②">clone</a>["<code>a</code>"]に
            «-1, -2, -3»を設定しても
            «[ "<code>a</code>" → «-1, -2, -3», "<code>b</code>" → «» ]»となり<var>original</var>は変更されない。
            しかし<var>clone</var>["<code>b</code>"]に4を<a data-link-type="dfn" href="#list-append"
                id="ref-for-list-append①⑨">追加</a>すると、
            <var>clone</var>と<var>original</var>両方で
            対応する<a data-link-type="dfn" href="#map-value" id="ref-for-map-value②">値</a>が変更される。これは両方が
            同じ<a data-link-type="dfn" href="#list" id="ref-for-list⑤⑦">リスト</a>を指しているため。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                data-lt="sort in ascending order|sorting in ascending order|sort|sorting"
                id="map-sort-in-ascending-order">昇順ソート</dfn>は、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②②">マップ</a> <var>map</var>と
            比較アルゴリズム<var>lessThanAlgo</var>を使って
            新しい<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②③">マップ</a> <var>sorted</var>を作成し、
            その<a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry⑨">エントリー</a>を<var>lessThanAlgo</var>の基準で、
            各エントリーが後続のエントリーより小さい順に並べる。比較結果が同じ（両方向でfalse）場合は、
            <var>sorted</var>内での順序は<var>map</var>の順序を維持する。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                data-lt="sort in descending order|sorting in descending order"
                id="map-sort-in-descending-order">降順ソート</dfn>は、
            <a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②④">マップ</a> <var>map</var>と
            比較アルゴリズム<var>lessThanAlgo</var>を使って
            新しい<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②⑤">マップ</a> <var>sorted</var>を作成し、
            その<a data-link-type="dfn" href="#map-entry" id="ref-for-map-entry①⓪">エントリー</a>を<var>lessThanAlgo</var>の基準で
            各エントリーが前のエントリーより小さい順に並べる。比較結果が同じ（両方向でfalse）場合は、
            <var>sorted</var>内での順序は<var>map</var>の順序を維持する。
        </p>
        <h3 class="heading settled" data-level="5.3" id="structs"><span class="secno">5.3. </span><span
                class="content">構造体</span><a class="self-link" href="#structs"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="struct">構造体</dfn>とは、
            有限個の
            <dfn class="dfn-paneled" data-dfn-for="struct,tuple" data-dfn-type="dfn" data-export data-lt="item"
                id="struct-item">項目</dfn>から構成される仕様型であり、それぞれの項目は一意かつ不変な
            <dfn class="dfn-paneled" data-dfn-for="struct,tuple" data-dfn-type="dfn" data-export
                id="struct-name">名前</dfn>を持ちます。<a data-link-type="dfn" href="#struct-item"
                id="ref-for-struct-item⑤">項目</a>は定義された型の値を保持します。
        </p>
        <div class="example" id="example-struct">
            <a class="self-link" href="#example-struct"></a>

            <p><dfn data-var-ignore>email</dfn>は、<a data-link-type="dfn" href="#struct"
                    id="ref-for-struct①">構造体</a>の例であり、
                <dfn data-var-ignore>local part</dfn>（文字列）と<dfn data-var-ignore>host</dfn>（<a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-host" id="ref-for-concept-host">ホスト</a>）から構成されます。
            </p>
            <p>架空のアルゴリズムは次のようにこの定義を利用できます：</p>
            <ol>
                <li><var>email</var>を、local partが"<code>hostmaster</code>"でhostが<code>infra.example</code>のemailとする。
                <li>…
            </ol>
        </div>
        <h4 class="heading settled" data-level="5.3.1" id="tuples"><span class="secno">5.3.1. </span><span
                class="content">タプル</span><a class="self-link" href="#tuples"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="tuple">タプル</dfn>とは、
            <a data-link-type="dfn" href="#struct" id="ref-for-struct②">構造体</a>の一種で、その<a data-link-type="dfn"
                href="#struct-item" id="ref-for-struct-item⑥">項目</a>が順序付けられているものです。
            記法上の利便性のため、<a data-link-type="dfn" href="#tuple" id="ref-for-tuple④">タプル</a>は括弧で囲み、<a data-link-type="dfn"
                href="#struct-item" id="ref-for-struct-item⑦">項目</a>をカンマで区切るリテラル構文で表現できます。
            この記法を使うには<a data-link-type="dfn" href="#struct-name" id="ref-for-struct-name①">名前</a>が文脈から明らかである必要があります。
            そのためには最初の出現時に<a data-link-type="dfn" href="#tuple" id="ref-for-tuple⑤">タプル</a>に名前を与えておきます。
            インデックス記法として、<a data-link-type="dfn" href="#tuple" id="ref-for-tuple⑥">タプル</a>に対して0始まりの添字を角括弧で指定できます。
            添字は範囲外であってはなりません。
        </p>
        <div class="example" id="example-tuple">
            <a class="self-link" href="#example-tuple"></a>

            <p><dfn data-var-ignore>status</dfn>は、<a data-link-type="dfn" href="#tuple"
                    id="ref-for-tuple⑦">タプル</a>の例であり、
                <dfn data-var-ignore>code</dfn>（数値）と<dfn data-var-ignore>text</dfn>（バイト列）からなります。
            </p>
            <p>タプルstatusを操作する架空のアルゴリズム例：</p>
            <ol>
                <li><var>statusInstance</var>をstatus (200, `<code>OK</code>`)とする。
                <li><var>statusInstance</var>を(301, `<code>FOO BAR</code>`)に設定する。
                <li>もし<var>statusInstance</var>のcodeが404なら…
            </ol>
            <p>最後の手順は「もし<var>statusInstance</var>[0]が404なら…」と書くこともできます。
                <a data-link-type="dfn" href="#tuple" id="ref-for-tuple⑧">タプル</a>の<a data-link-type="dfn"
                    href="#struct-name" id="ref-for-struct-name②">名前</a>に明示的な定義がない場合、この書き方の方が好ましいかもしれません。
            </p>
        </div>
        <p class="note" role="note">すべての<a data-link-type="dfn" href="#struct" id="ref-for-struct③">構造体</a>が<a
                data-link-type="dfn" href="#tuple" id="ref-for-tuple⑨">タプル</a>であるとは限らないのは意図的です。
            Infra Standardを利用する文書は、依存先で使われているリテラル構文を壊さずに自身の構造体に新しい<a data-link-type="dfn" href="#struct-name"
                id="ref-for-struct-name③">名前</a>を追加できる柔軟性を必要とすることがあります。
            その場合、タプルは適切ではありません。
        </p>
        <h2 class="heading settled" data-level="6" id="json"><span class="secno">6. </span><span
                class="content">JSON</span><a class="self-link" href="#json"></a></h2>
        <p class="note" role="note">この節のアルゴリズムで用いられる規約は、JavaScript仕様のものです。<a data-link-type="biblio"
                href="#biblio-ecma-262" title="ECMAScript Language Specification">[ECMA-262]</a>
        </p>
        <div class="algorithm" data-algorithm="parse a JSON string to a JavaScript value">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="parse-a-json-string-to-a-javascript-value">JSON文字列をJavaScript値にパースする</dfn>には、
                <a data-link-type="dfn" href="#string" id="ref-for-string⑦⓪">文字列</a> <var>string</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p>次を返す：? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-call"
                            id="ref-for-sec-call">Call</a>(<a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.parse"
                            id="ref-for-sec-json.parse">%JSON.parse%</a>, undefined, « <var>string</var> »)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="parse JSON bytes to a JavaScript value">
            <p>
                <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="parse JSON bytes to a JavaScript value|parse JSON from bytes"
                    id="parse-json-bytes-to-a-javascript-value">JSONバイト列をJavaScript値にパースする</dfn>には、
                <a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①⑨">バイト列</a>
                <var>bytes</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p><var>string</var>を、<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode"
                            id="ref-for-utf-8-decode③">UTF-8デコード</a>を
                        <var>bytes</var>に対して実行した結果とする。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a>
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#parse-a-json-string-to-a-javascript-value"
                            id="ref-for-parse-a-json-string-to-a-javascript-value">JSON文字列をJavaScript値にパースする</a>を
                        <var>string</var>に対して実行した結果を返す。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize a JavaScript value to a JSON string">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="serialize-a-javascript-value-to-a-json-string">JavaScript値をJSON文字列に直列化する</dfn>には、
                JavaScript値<var>value</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p><var>result</var>を ? <a data-link-type="abstract-op"
                            href="https://tc39.github.io/ecma262/#sec-call" id="ref-for-sec-call①">Call</a>(<a
                            data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify">%JSON.stringify%</a>, undefined, « <var>value</var> »)
                        の結果とする。
                    </p>
                    <p class="note" role="note"><a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify①">%JSON.stringify%</a>に追加の引数は渡されていないため、
                        生成される文字列には空白が挿入されません。
                    </p>
                <li>
                    <p>もし<var>result</var>がundefinedなら、<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>を投げる。
                    </p>
                    <p class="note" role="note">これは<var>value</var>がJSON表現を持たない場合（例えば、undefinedや関数の場合）に発生します。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①④">アサート</a>：<var>result</var>は
                        <a data-link-type="dfn" href="#string" id="ref-for-string⑦①">文字列</a>である。
                    </p>
                <li>
                    <p><var>result</var>を返す。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize a JavaScript value to JSON bytes">
            <p>
                <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="serialize a JavaScript value to JSON bytes|serialize JSON to bytes"
                    id="serialize-a-javascript-value-to-json-bytes">JavaScript値をJSONバイト列に直列化する</dfn>には、
                JavaScript値<var>value</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p><var>string</var>を<a data-link-type="dfn" href="#serialize-a-javascript-value-to-a-json-string"
                            id="ref-for-serialize-a-javascript-value-to-a-json-string">JavaScript値をJSON文字列に直列化する</a>を
                        <var>value</var>に対して実行した結果とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode"
                            id="ref-for-utf-8-encode③">UTF-8エンコード</a>を
                        <var>string</var>に対して実行した結果を返す。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a>
                    </p>
            </ol>
        </div>
        <hr>
        <p>上記の操作はJavaScript値に直接作用します。特に、ここで扱うオブジェクトや配列は特定の<a data-link-type="dfn"
                href="https://tc39.github.io/ecma262/#realm"
                id="ref-for-realm">JavaScriptレルム</a>に結び付けられます。現行標準では、JSONとレルム非依存な<a data-link-type="dfn"
                href="#ordered-map" id="ref-for-ordered-map②⑥">マップ</a>、
            <a data-link-type="dfn" href="#list" id="ref-for-list⑤⑧">リスト</a>、<a data-link-type="dfn" href="#string"
                id="ref-for-string⑦②">文字列</a>、<a data-link-type="dfn" href="#boolean"
                id="ref-for-boolean②">真偽値</a>、数値、null間の変換がしばしば便利です。
        </p>
        <div class="algorithm" data-algorithm="parse a JSON string to an Infra value">
            <p>
                <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="parse a JSON string to an Infra value|parse JSON into Infra values"
                    id="parse-a-json-string-to-an-infra-value">JSON文字列をInfra値にパースする</dfn>には、
                <a data-link-type="dfn" href="#string" id="ref-for-string⑦③">文字列</a> <var>string</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p><var>jsValue</var>を ? <a data-link-type="abstract-op"
                            href="https://tc39.github.io/ecma262/#sec-call" id="ref-for-sec-call②">Call</a>(<a
                            data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-json.parse"
                            id="ref-for-sec-json.parse①">%JSON.parse%</a>, undefined, « <var>string</var> »)の結果とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#convert-a-json-derived-javascript-value-to-an-infra-value"
                            id="ref-for-convert-a-json-derived-javascript-value-to-an-infra-value">JSON由来のJavaScript値をInfra値に変換する</a>を
                        <var>jsValue</var>に対して実行した結果を返す。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="parse JSON bytes to an Infra value">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="parse-json-bytes-to-an-infra-value">JSONバイト列をInfra値にパースする</dfn>には、<a data-link-type="dfn"
                    href="#byte-sequence" id="ref-for-byte-sequence②⓪">バイト列</a> <var>bytes</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p><var>string</var>を<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode"
                            id="ref-for-utf-8-decode④">UTF-8デコード</a>を
                        <var>bytes</var>に対して実行した結果とする。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a>
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#parse-a-json-string-to-an-infra-value"
                            id="ref-for-parse-a-json-string-to-an-infra-value">JSON文字列をInfra値にパースする</a>を
                        <var>string</var>に対して実行した結果を返す。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="convert a JSON-derived JavaScript value to an Infra value">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="convert-a-json-derived-javascript-value-to-an-infra-value">JSON由来のJavaScript値をInfra値に変換する</dfn>には、JavaScript値
                <var>jsValue</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p>もし<var>jsValue</var>が<emu-val>null</emu-val>、<a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type"
                            id="ref-for-sec-ecmascript-language-types-boolean-type">真偽値</a>、<a data-link-type="dfn"
                            data-refhint-key="383964c1"
                            href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type"
                            id="ref-for-sec-ecmascript-language-types-string-type①">文字列</a>、または
                        <a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type"
                            id="ref-for-sec-ecmascript-language-types-number-type">数値</a>なら、そのまま<var>jsValue</var>を返す。
                    </p>
                <li>
                    <p>もし<a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-isarray"
                            id="ref-for-sec-isarray">IsArray</a>(<var>jsValue</var>)がtrueなら：
                    </p>
                    <ol>
                        <li>
                            <p><var>result</var>を空の<a data-link-type="dfn" href="#list" id="ref-for-list⑤⑨">リスト</a>とする。
                            </p>
                        <li>
                            <p><var>length</var>を! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-tolength"
                                    id="ref-for-sec-tolength">ToLength</a>(! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-get-o-p"
                                    id="ref-for-sec-get-o-p">Get</a>(<var>jsValue</var>, "<code>length</code>"))とする。
                            </p>
                        <li>
                            <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①⑧">各</a>
                                <var>index</var>について、<a data-link-type="dfn" href="#the-range"
                                    id="ref-for-the-range①">範囲</a>0から<var>length</var> − 1まで反復：
                            </p>
                            <ol>
                                <li>
                                    <p><var>indexName</var>を! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-tostring"
                                            id="ref-for-sec-tostring">ToString</a>(<var>index</var>)とする。
                                    </p>
                                <li>
                                    <p><var>jsValueAtIndex</var>を! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-get-o-p"
                                            id="ref-for-sec-get-o-p①">Get</a>(<var>jsValue</var>,
                                        <var>indexName</var>)とする。
                                    </p>
                                <li>
                                    <p><var>infraValueAtIndex</var>を<a data-link-type="dfn"
                                            href="#convert-a-json-derived-javascript-value-to-an-infra-value"
                                            id="ref-for-convert-a-json-derived-javascript-value-to-an-infra-value①">JSON由来のJavaScript値をInfra値に変換する</a>を
                                        <var>jsValueAtIndex</var>に対して実行した結果とする。
                                    </p>
                                <li>
                                    <p><a data-link-type="dfn" href="#list-append"
                                            id="ref-for-list-append②⓪">infraValueAtIndexをresultに追加する</a>。
                                    </p>
                            </ol>
                        <li>
                            <p><var>result</var>を返す。
                            </p>
                    </ol>
                <li>
                    <p><var>result</var>を空の<a data-link-type="dfn" href="#ordered-map"
                            id="ref-for-ordered-map②⑦">順序付きマップ</a>とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①⑨">各</a>
                        <var>key</var>について! <var>jsValue</var>.[[OwnPropertyKeys]]()を反復：
                    </p>
                    <ol>
                        <li>
                            <p><var>jsValueAtKey</var>を! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-get-o-p"
                                    id="ref-for-sec-get-o-p②">Get</a>(<var>jsValue</var>, <var>key</var>)とする。
                            </p>
                        <li>
                            <p><var>infraValueAtKey</var>を<a data-link-type="dfn"
                                    href="#convert-a-json-derived-javascript-value-to-an-infra-value"
                                    id="ref-for-convert-a-json-derived-javascript-value-to-an-infra-value②">JSON由来のJavaScript値をInfra値に変換する</a>を
                                <var>jsValueAtKey</var>に対して実行した結果とする。
                            </p>
                        <li>
                            <p><a data-link-type="dfn" href="#map-set"
                                    id="ref-for-map-set③">result[<var>key</var>]にinfraValueAtKeyを設定する</a>。
                            </p>
                    </ol>
                <li>
                    <p><var>result</var>を返す。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize an Infra value to a JSON string">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="serialize-an-infra-value-to-a-json-string">Infra値をJSON文字列に直列化する</dfn>には、
                <a data-link-type="dfn" href="#string" id="ref-for-string⑦④">文字列</a>、
                <a data-link-type="dfn" href="#boolean" id="ref-for-boolean③">真偽値</a>、数値、null、<a data-link-type="dfn"
                    href="#list" id="ref-for-list⑥⓪">リスト</a>、または
                <a data-link-type="dfn" href="#string" id="ref-for-string⑦⑤">文字列</a>キーの<a data-link-type="dfn"
                    href="#ordered-map" id="ref-for-ordered-map②⑧">マップ</a> <var>value</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p><var>jsValue</var>を
                        <a data-link-type="dfn" href="#convert-an-infra-value-to-a-json-compatible-javascript-value"
                            id="ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value">Infra値をJSON互換のJavaScript値に変換する</a>を
                        <var>value</var>に対して実行した結果とする。
                    </p>
                <li>
                    <p>! <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-call"
                            id="ref-for-sec-call③">Call</a>(<a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify②">%JSON.stringify%</a>, undefined, « <var>jsValue</var> »)
                        の結果を返す。
                    </p>
                    <p class="note" role="note"><a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify③">%JSON.stringify%</a>に追加の引数は渡されていないため、
                        生成される文字列には空白が挿入されません。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize an Infra value to JSON bytes">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="serialize-an-infra-value-to-json-bytes">Infra値をJSONバイト列に直列化する</dfn>には、<a data-link-type="dfn"
                    href="#string" id="ref-for-string⑦⑥">文字列</a>、
                <a data-link-type="dfn" href="#boolean" id="ref-for-boolean④">真偽値</a>、数値、null、<a data-link-type="dfn"
                    href="#list" id="ref-for-list⑥①">リスト</a>、または
                <a data-link-type="dfn" href="#string" id="ref-for-string⑦⑦">文字列</a>キーの<a data-link-type="dfn"
                    href="#ordered-map" id="ref-for-ordered-map②⑨">マップ</a> <var>value</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p><var>string</var>を<a data-link-type="dfn" href="#serialize-an-infra-value-to-a-json-string"
                            id="ref-for-serialize-an-infra-value-to-a-json-string">Infra値をJSON文字列に直列化する</a>を
                        <var>value</var>に対して実行した結果とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode"
                            id="ref-for-utf-8-encode④">UTF-8エンコード</a>を
                        <var>string</var>に対して実行した結果を返す。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a>
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="convert an Infra value to a JSON-compatible JavaScript value">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="convert-an-infra-value-to-a-json-compatible-javascript-value">Infra値をJSON互換のJavaScript値に変換する</dfn>には、<var>value</var>が与えられたとき：
            </p>
            <ol>
                <li>
                    <p>もし<var>value</var>が<a data-link-type="dfn" href="#string" id="ref-for-string⑦⑧">文字列</a>、
                        <a data-link-type="dfn" href="#boolean"
                            id="ref-for-boolean⑤">真偽値</a>、数値、またはnullなら、そのまま<var>value</var>を返す。
                    </p>
                <li>
                    <p>もし<var>value</var>が<a data-link-type="dfn" href="#list" id="ref-for-list⑥②">リスト</a>なら：
                    </p>
                    <ol>
                        <li>
                            <p><var>jsValue</var>を! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-arraycreate"
                                    id="ref-for-sec-arraycreate">ArrayCreate</a>(0)とする。
                            </p>
                        <li>
                            <p><var>i</var>を0とする。
                            </p>
                        <li>
                            <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate②⓪">各</a>
                                <var>listItem</var>について、<var>value</var>を反復：
                            </p>
                            <ol>
                                <li>
                                    <p><var>listItemJSValue</var>を
                                        <a data-link-type="dfn"
                                            href="#convert-an-infra-value-to-a-json-compatible-javascript-value"
                                            id="ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value①">Infra値をJSON互換のJavaScript値に変換する</a>を
                                        <var>listItem</var>に対して実行した結果とする。
                                    </p>
                                <li>
                                    <p>! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow"
                                            id="ref-for-sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a>(<var>jsValue</var>,
                                        ! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-tostring"
                                            id="ref-for-sec-tostring①">ToString</a>(<var>i</var>),
                                        <var>listItemJSValue</var>)を実行する。
                                    </p>
                                <li>
                                    <p><var>i</var>に<var>i</var> + 1を設定する。
                                    </p>
                            </ol>
                        <li>
                            <p><var>jsValue</var>を返す。
                            </p>
                    </ol>
                <li>
                    <p>アサート：<var>value</var>は<a data-link-type="dfn" href="#ordered-map"
                            id="ref-for-ordered-map③⓪">マップ</a>である。
                    </p>
                <li>
                    <p><var>jsValue</var>を! <a data-link-type="abstract-op"
                            href="https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate"
                            id="ref-for-sec-ordinaryobjectcreate">OrdinaryObjectCreate</a>(null)とする。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate②①">各</a>
                        <var>mapKey</var> → <var>mapValue</var>について、<var>value</var>を反復：
                    </p>
                    <ol>
                        <li>
                            <p>アサート：<var>mapKey</var>は<a data-link-type="dfn" href="#string"
                                    id="ref-for-string⑦⑨">文字列</a>である。
                            </p>
                        <li>
                            <p><var>mapValueJSValue</var>を
                                <a data-link-type="dfn"
                                    href="#convert-an-infra-value-to-a-json-compatible-javascript-value"
                                    id="ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value②">Infra値をJSON互換のJavaScript値に変換する</a>を
                                <var>mapValue</var>に対して実行した結果とする。
                            </p>
                        <li>
                            <p>! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow"
                                    id="ref-for-sec-createdatapropertyorthrow①">CreateDataPropertyOrThrow</a>(<var>jsValue</var>,
                                <var>mapKey</var>, <var>mapValueJSValue</var>)を実行する。
                            </p>
                    </ol>
                <li>
                    <p><var>jsValue</var>を返す。
                    </p>
            </ol>
            <p class="warning">仕様中でJavaScript値を直接操作することはほとんど適切ではないため、原則として
                <a data-link-type="dfn" href="#serialize-an-infra-value-to-a-json-string"
                    id="ref-for-serialize-an-infra-value-to-a-json-string①">Infra値をJSON文字列に直列化する</a>
                または
                <a data-link-type="dfn" href="#serialize-an-infra-value-to-json-bytes"
                    id="ref-for-serialize-an-infra-value-to-json-bytes">Infra値をJSONバイト列に直列化する</a>
                を用いるべきです。もし<a data-link-type="dfn" href="#convert-an-infra-value-to-a-json-compatible-javascript-value"
                    id="ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value③">Infra値をJSON互換のJavaScript値に変換する</a>の使用が必要だと思われる場合は、
                <a href="https://github.com/whatwg/infra/issues/new">Issueを作成</a>してユースケースをご相談ください。
            </p>
        </div>
        <h2 class="heading settled" data-level="7" id="forgiving-base64"><span class="secno">7. </span><span
                class="content">許容的base64</span><a class="self-link" href="#forgiving-base64"></a></h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="forgiving-base64-encode">許容的base64エンコード</dfn>は、<a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence②①">バイト列</a> <var>data</var>が与えられたとき、RFC
            4648のセクション4で定義されたbase64アルゴリズムを<var>data</var>に適用し、その結果を返す。
            <a data-link-type="biblio" href="#biblio-rfc4648"
                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</a>
        </p>
        <p class="note no-backref" role="note">これは<a data-link-type="dfn" href="#forgiving-base64-encode"
                id="ref-for-forgiving-base64-encode">許容的base64エンコード</a>と名付けられているが、これは
            <a data-link-type="dfn" href="#forgiving-base64-decode"
                id="ref-for-forgiving-base64-decode">許容的base64デコード</a>との対称性のためであり、後者はRFCと異なり
            特定の入力に対するエラー処理を定義している。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="forgiving-base64-decode">許容的base64デコード</dfn>は、文字列<var>data</var>が与えられたとき、次の手順を実行する：</p>
        <ol>
            <li>
                <p><var>data</var>からすべての<a data-link-type="dfn" href="#ascii-whitespace"
                        id="ref-for-ascii-whitespace⑦">ASCII空白</a>を除去する。
                </p>
            <li>
                <p>もし<var>data</var>の<a data-link-type="dfn" href="#string-code-point-length"
                        id="ref-for-string-code-point-length④">符号位置長</a>が4で割り切れるなら：</p>
                <ol>
                    <li>
                        <p>もし<var>data</var>が1個または2個のU+003D(=) <a data-link-type="dfn" href="#code-point"
                                id="ref-for-code-point⑤③">符号位置</a>で終わっていれば、それらを<var>data</var>から除去する。
                        </p>
                </ol>
            <li>
                <p>もし<var>data</var>の<a data-link-type="dfn" href="#string-code-point-length"
                        id="ref-for-string-code-point-length⑤">符号位置長</a>を4で割った余りが1なら、失敗を返す。
                </p>
            <li>
                <p>もし<var>data</var>が次のいずれでもない<a data-link-type="dfn" href="#code-point"
                        id="ref-for-code-point⑤④">符号位置</a>を含んでいれば：</p>
                <ul class="brief">
                    <li>U+002B (+)
                    <li>U+002F (/)
                    <li><a data-link-type="dfn" href="#ascii-alphanumeric" id="ref-for-ascii-alphanumeric">ASCII英数字</a>
                </ul>
                <p>失敗を返す。</p>
            <li>
                <p><var>output</var>を空の<a data-link-type="dfn" href="#byte-sequence"
                        id="ref-for-byte-sequence②②">バイト列</a>とする。
                </p>
            <li>
                <p><var>buffer</var>を、ビットを追加できる空のバッファとする。
                </p>
            <li>
                <p><var>position</var>を、<var>data</var>の<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable⑤">位置変数</a>として、最初は<var>data</var>の先頭を指すようにする。
                </p>
            <li>
                <p><var>position</var>が<var>data</var>の末尾を越えない間、繰り返す：</p>
                <ol>
                    <li>
                        <p><var>position</var>が指す<a data-link-type="dfn" href="#code-point"
                                id="ref-for-code-point⑤⑤">符号位置</a>をRFC 4648のTable 1: The Base 64 Alphabetの
                            第2列で見つけ、同じ行の第1セルの数値を<var>n</var>とする。<a data-link-type="biblio" href="#biblio-rfc4648"
                                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</a>
                        </p>
                    <li>
                        <p><var>n</var>に対応する6ビット（最上位ビットが先頭）を<var>buffer</var>に追加する。
                        </p>
                    <li>
                        <p>もし<var>buffer</var>が24ビット溜まったら、それらを3つの8ビットビッグエンディアン数値として解釈し、
                            それらの値のバイトを順に3つ<var>output</var>に追加し、<var>buffer</var>を空にする。
                        </p>
                    <li>
                        <p><var>position</var>を1進める。
                        </p>
                </ol>
            <li>
                <p>もし<var>buffer</var>が空でなければ、12ビットまたは18ビットが入っている。
                    12ビットの場合は最後の4ビットを捨て、残り8ビットを8ビットビッグエンディアン数値とする。
                    18ビットの場合は最後の2ビットを捨て、残り16ビットを2つの8ビットビッグエンディアン数値とする。
                    その1つまたは2つの値をバイトとして順に<var>output</var>に追加する。
                </p>
                <p class="note" role="note">捨てられるビットにより、例えば"<code>YQ</code>"や"<code>YR</code>"のどちらも`<code>a</code>`を返す。
                </p>
            <li>
                <p><var>output</var>を返す。
                </p>
        </ol>
        <h2 class="heading settled" data-level="8" id="namespaces"><span class="secno">8. </span><span
                class="content">名前空間</span><a class="self-link" href="#namespaces"></a></h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="html-namespace">HTML名前空間</dfn>は
            "<code>http://www.w3.org/1999/xhtml</code>" である。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="mathml-namespace">MathML名前空間</dfn>は
            "<code>http://www.w3.org/1998/Math/MathML</code>" である。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="svg-namespace">SVG名前空間</dfn>は
            "<code>http://www.w3.org/2000/svg</code>" である。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="xlink-namespace">XLink名前空間</dfn>は
            "<code>http://www.w3.org/1999/xlink</code>" である。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="xml-namespace">XML名前空間</dfn>は
            "<code>http://www.w3.org/XML/1998/namespace</code>" である。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="xmlns-namespace">XMLNS名前空間</dfn>は
            "<code>http://www.w3.org/2000/xmlns/</code>" である。
        </p>
        <h2 class="no-num heading settled" id="acknowledgments"><span class="content">謝辞</span><a class="self-link"
                href="#acknowledgments"></a></h2>
        <p>次の方々に多大な感謝を捧げます：
            Addison Phillips,
            Andreu Botella,
            Aryeh Gregor,
            Ben Kelly,
            Chris Rebert,
            Daniel Ehrenberg,
            Dominic Farolino,
            Gabriel Pivovarov,
            Ian Hickson,
            Jakob Ackermann,
            Jake Archibald,
            Jeff Hodges,
            Jeffrey Yasskin,
            Jungkee Song,
            Leonid Vasilyev,
            Maciej Stachowiak,
            Malika Aubakirova,
            Martin Thomson,
            Michael™ Smith,
            Mike West,
            Mike Taylor,
            Ms2ger,
            Pavel "Al Arz" Kurochkin,
            Philip Jägenstedt,
            Rashaun "Snuggs" Stovall,
            Sergey Shekyan,
            Simon Pieters,
            Tab Atkins,
            Tobie Langel,
            triple-underscore,
            Wolf Lammen,
            およびXue Fuqiao
            に心より敬意を表します！
        </p>
        <p>本標準は <a href="https://annevankesteren.nl/" lang="nl">Anne van Kesteren</a>
            (<a href="https://www.apple.com/">Apple</a>, <a href="mailto:annevk@annevk.nl">annevk@annevk.nl</a>) と
            <a href="https://domenic.me/">Domenic Denicola</a> (<a href="https://www.google.com/">Google</a>,
            <a href="mailto:d@domenic.me">d@domenic.me</a>)
            によって執筆されています。
        </p>
        <h2 class="no-num heading settled" id="ipr"><span class="content">知的財産権</span><a class="self-link"
                href="#ipr"></a></h2>
        <p>Copyright © WHATWG (Apple, Google, Mozilla, Microsoft)。本作業は
            <a href="https://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0
                International License</a> の下でライセンスされています。その一部がソースコードに組み込まれている場合、ソースコード内の該当部分は
            <a href="https://opensource.org/licenses/BSD-3-Clause" rel="license">BSD 3-Clause License</a> の下でライセンスされます。
        </p>
        <p>これは現行標準です。
            特許レビュー版に関心がある方は
            <a href="/review-drafts/2025-07/">現行標準レビュー草案</a>をご覧ください。
        </p>
    </main>
    <script>
        // "use strict";
        // if ("serviceWorker" in navigator) {
        //     navigator.serviceWorker.register("/service-worker.js");
        // }
    </script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義される用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#128-bit-unsigned-integer">128ビット符号なし整数</a><span>、§ 4.3</span>
        <li><a href="#16-bit-signed-integer">16ビット符号付き整数</a><span>、§ 4.3</span>
        <li><a href="#16-bit-unsigned-integer">16ビット符号なし整数</a><span>、§ 4.3</span>
        <li><a href="#32-bit-signed-integer">32ビット符号付き整数</a><span>、§ 4.3</span>
        <li><a href="#32-bit-unsigned-integer">32ビット符号なし整数</a><span>、§ 4.3</span>
        <li><a href="#64-bit-signed-integer">64ビット符号付き整数</a><span>、§ 4.3</span>
        <li><a href="#64-bit-unsigned-integer">64ビット符号なし整数</a><span>、§ 4.3</span>
        <li><a href="#8-bit-signed-integer">8ビット符号付き整数</a><span>、§ 4.3</span>
        <li><a href="#8-bit-unsigned-integer">8ビット符号なし整数</a><span>、§ 4.3</span>
        <li><a href="#abort-when">abort when</a><span>、§ 3.7</span>
        <li>
            append
            <ul>
                <li><a href="#list-append">リストの定義</a><span>、§ 5.1</span>
                <li><a href="#set-append">セットの定義</a><span>、§ 5.1.3</span>
            </ul>
        <li><a href="#ascii-alpha">ASCII アルファベット</a><span>、§ 4.6</span>
        <li><a href="#ascii-alphanumeric">ASCII 英数字</a><span>、§ 4.6</span>
        <li><a href="#ascii-byte">ASCII バイト</a><span>、§ 4.4</span>
        <li><a href="#ascii-case-insensitive">ASCII 大文字小文字区別なし</a><span>、§ 4.7</span>
        <li><a href="#ascii-code-point">ASCII 符号位置</a><span>、§ 4.6</span>
        <li><a href="#ascii-decode">ASCII デコード</a><span>、§ 4.7</span>
        <li><a href="#ascii-digit">ASCII 数字</a><span>、§ 4.6</span>
        <li><a href="#ascii-encode">ASCII エンコード</a><span>、§ 4.7</span>
        <li><a href="#ascii-hex-digit">ASCII 16進数字</a><span>、§ 4.6</span>
        <li><a href="#ascii-lower-alpha">ASCII 小文字アルファベット</a><span>、§ 4.6</span>
        <li><a href="#ascii-lowercase">ASCII 小文字</a><span>、§ 4.7</span>
        <li><a href="#ascii-lower-hex-digit">ASCII 小文字16進数字</a><span>、§ 4.6</span>
        <li><a href="#ascii-string">ASCII 文字列</a><span>、§ 4.7</span>
        <li><a href="#ascii-tab-or-newline">ASCII タブまたは改行</a><span>、§ 4.6</span>
        <li><a href="#ascii-tab-or-newline">ASCII タブまたは改行（複数）</a><span>、§ 4.6</span>
        <li><a href="#ascii-upper-alpha">ASCII 大文字アルファベット</a><span>、§ 4.6</span>
        <li><a href="#ascii-uppercase">ASCII 大文字</a><span>、§ 4.7</span>
        <li><a href="#ascii-upper-hex-digit">ASCII 大文字16進数字</a><span>、§ 4.6</span>
        <li><a href="#ascii-whitespace">ASCII 空白</a><span>、§ 4.6</span>
        <li><a href="#assert">アサート</a><span>、§ 3.10</span>
        <li><a href="#boolean">真偽値</a><span>、§ 4.2</span>
        <li><a href="#iteration-break">break</a><span>、§ 3.9</span>
        <li><a href="#byte">バイト</a><span>、§ 4.4</span>
        <li><a href="#byte-case-insensitive">バイト大文字小文字区別なし</a><span>、§ 4.5</span>
        <li><a href="#byte-less-than">バイト比較（小なり）</a><span>、§ 4.5</span>
        <li><a href="#byte-lowercase">バイト小文字化</a><span>、§ 4.5</span>
        <li><a href="#byte-sequence">バイト列</a><span>、§ 4.5</span>
        <li><a href="#byte-uppercase">バイト大文字化</a><span>、§ 4.5</span>
        <li><a href="#c0-control">C0制御文字</a><span>、§ 4.6</span>
        <li><a href="#c0-control-or-space">C0制御文字またはスペース</a><span>、§ 4.6</span>
        <li><a href="#c0-control-or-space">C0制御文字またはスペース（複数）</a><span>、§ 4.6</span>
        <li><a href="#code-point">文字</a><span>、§ 4.6</span>
        <li><a href="#map-clear">クリア</a><span>、§ 5.2</span>
        <li>
            clone
            <ul>
                <li><a href="#list-clone">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-clone">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#code-point">符号位置</a><span>、§ 4.6</span>
        <li><a href="#string-code-point-length">符号位置長</a><span>、§ 4.7</span>
        <li><a href="#code-point-substring">符号位置部分文字列</a><span>、§ 4.7</span>
        <li><a href="#code-point-substring-by-positions">位置による符号位置部分文字列</a><span>、§ 4.7</span>
        <li><a href="#code-point-substring-to-the-end-of-the-string">符号位置部分文字列（末尾まで）</a><span>、§ 4.7</span>
        <li><a href="#code-unit">コード単位</a><span>、§ 4.7</span>
        <li><a href="#code-unit-less-than">コード単位比較（小なり）</a><span>、§ 4.7</span>
        <li><a href="#code-unit-prefix">コード単位接頭辞</a><span>、§ 4.7</span>
        <li><a href="#code-unit-substring">コード単位部分文字列</a><span>、§ 4.7</span>
        <li><a href="#code-unit-substring-by-positions">位置によるコード単位部分文字列</a><span>、§ 4.7</span>
        <li><a href="#code-unit-substring-to-the-end-of-the-string">コード単位部分文字列（末尾まで）</a><span>、§ 4.7</span>
        <li><a href="#code-unit-suffix">コード単位接尾辞</a><span>、§ 4.7</span>
        <li><a href="#collect-a-sequence-of-code-points">符号位置列を収集する</a><span>、§ 4.7</span>
        <li><a href="#collect-a-sequence-of-code-points">符号位置列の収集</a><span>、§ 4.7</span>
        <li><a href="#string-concatenate">連結</a><span>、§ 4.7</span>
        <li><a href="#string-concatenate">連結操作</a><span>、§ 4.7</span>
        <li>
            contain
            <ul>
                <li><a href="#list-contain">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-exists">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#iteration-continue">continue</a><span>、§ 3.9</span>
        <li><a href="#control">制御文字</a><span>、§ 4.6</span>
        <li><a href="#javascript-string-convert">変換</a><span>、§ 4.7</span>
        <li><a
                href="#convert-a-json-derived-javascript-value-to-an-infra-value">JSON由来のJavaScript値をInfra値に変換する</a><span>、§ 6</span>
        <li><a
                href="#convert-an-infra-value-to-a-json-compatible-javascript-value">Infra値をJSON互換のJavaScript値に変換する</a><span>、§ 6</span>
        <li><a href="#set-create">作成</a><span>、§ 5.1.3</span>
        <li><a href="#queue-dequeue">デキュー</a><span>、§ 5.1.2</span>
        <li><a href="#set-difference">差集合</a><span>、§ 5.1.3</span>
        <li><a href="#list-empty">空</a><span>、§ 5.1</span>
        <li><a href="#string-ends-with">で終わる</a><span>、§ 4.7</span>
        <li><a href="#queue-enqueue">エンキュー</a><span>、§ 5.1.2</span>
        <li><a href="#map-entry">エントリー</a><span>、§ 5.2</span>
        <li><a href="#set-equal">等しい</a><span>、§ 5.1.3</span>
        <li>
            exist
            <ul>
                <li><a href="#list-contain">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-exists">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li>
            extend
            <ul>
                <li><a href="#list-extend">リストの定義</a><span>、§ 5.1</span>
                <li><a href="#set-extend">セットの定義</a><span>、§ 5.1.3</span>
            </ul>
        <li>
            for each
            <ul>
                <li><a href="#list-iterate">リスト・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-iterate">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#forgiving-base64-decode">許容的base64デコード</a><span>、§ 7</span>
        <li><a href="#forgiving-base64-encode">許容的base64エンコード</a><span>、§ 7</span>
        <li><a href="#map-get">取得</a><span>、§ 5.2</span>
        <li><a href="#list-get-the-indices">インデックスの取得</a><span>、§ 5.1</span>
        <li><a href="#map-getting-the-keys">キーの取得</a><span>、§ 5.2</span>
        <li><a href="#map-get">値の取得</a><span>、§ 5.2</span>
        <li><a href="#map-getting-the-values">値の取得（複数）</a><span>、§ 5.2</span>
        <li><a href="#map-getting-the-keys">キーの取得（複数）</a><span>、§ 5.2</span>
        <li><a href="#map-getting-the-values">値の取得</a><span>、§ 5.2</span>
        <li><a href="#html-namespace">HTML名前空間</a><span>、§ 8</span>
        <li><a href="#string-is">一致</a><span>、§ 4.7</span>
        <li><a href="#if-aborted">if aborted</a><span>、§ 3.7</span>
        <li><a href="#implementation">実装</a><span>、§ 2.3</span>
        <li><a href="#implementation-defined">実装定義</a><span>、§ 2.3</span>
        <li><a href="#list-get-the-indices">インデックス</a><span>、§ 5.1</span>
        <li><a href="#list-insert">挿入</a><span>、§ 5.1</span>
        <li><a href="#set-intersection">共通集合</a><span>、§ 5.1.3</span>
        <li><a href="#string-is">is</a><span>、§ 4.7</span>
        <li>
            is empty
            <ul>
                <li><a href="#list-is-empty">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-is-empty">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li>
            is not empty
            <ul>
                <li><a href="#list-is-empty">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-is-empty">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#isomorphic-decode">同型デコード</a><span>、§ 4.5</span>
        <li><a href="#isomorphic-encode">同型エンコード</a><span>、§ 4.7</span>
        <li><a href="#isomorphic-string">同型文字列</a><span>、§ 4.7</span>
        <li>
            item
            <ul>
                <li><a href="#list-item">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#struct-item">構造体・タプルの定義</a><span>、§ 5.3</span>
            </ul>
        <li>
            iterate
            <ul>
                <li><a href="#list-iterate">リスト・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-iterate">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#string">JavaScript文字列</a><span>、§ 4.7</span>
        <li><a href="#map-key">キー</a><span>、§ 5.2</span>
        <li><a href="#map-getting-the-keys">キー（複数）</a><span>、§ 5.2</span>
        <li><a href="#leading-surrogate">リードサロゲート</a><span>、§ 4.6</span>
        <li>
            length
            <ul>
                <li><a href="#byte-sequence-length">バイト列の定義</a><span>、§ 4.5</span>
                <li><a href="#string-length">文字列・JavaScript文字列・ASCII文字列・同型文字列・スカラ値文字列の定義</a><span>、§ 4.7</span>
            </ul>
        <li><a href="#list">リスト</a><span>、§ 5.1</span>
        <li><a href="#ordered-map">マップ</a><span>、§ 5.2</span>
        <li><a href="#mathml-namespace">MathML名前空間</a><span>、§ 8</span>
        <li><a href="#struct-name">名前</a><span>、§ 5.3</span>
        <li><a href="#noncharacter">非文字</a><span>、§ 4.6</span>
        <li><a href="#normalize-newlines">改行正規化</a><span>、§ 4.7</span>
        <li><a href="#ordered-map">順序付きマップ</a><span>、§ 5.2</span>
        <li><a href="#ordered-set">順序付きセット</a><span>、§ 5.1.3</span>
        <li><a href="#parse-a-json-string-to-a-javascript-value">JSON文字列をJavaScript値にパースする</a><span>、§ 6</span>
        <li><a href="#parse-a-json-string-to-an-infra-value">JSON文字列をInfra値にパースする</a><span>、§ 6</span>
        <li><a href="#parse-json-bytes-to-a-javascript-value">JSONバイト列をJavaScript値にパースする</a><span>、§ 6</span>
        <li><a href="#parse-json-bytes-to-an-infra-value">JSONバイト列をInfra値にパースする</a><span>、§ 6</span>
        <li><a href="#parse-json-bytes-to-a-javascript-value">バイト列からJSONをパースする</a><span>、§ 6</span>
        <li><a href="#parse-a-json-string-to-an-infra-value">JSONをInfra値にパースする</a><span>、§ 6</span>
        <li><a href="#stack-peek">peek</a><span>、§ 5.1.1</span>
        <li><a href="#stack-pop">pop</a><span>、§ 5.1.1</span>
        <li><a href="#string-position-variable">位置変数</a><span>、§ 4.7</span>
        <li><a href="#byte-sequence-prefix">接頭辞</a><span>、§ 4.5</span>
        <li>
            prepend
            <ul>
                <li><a href="#list-prepend">リストの定義</a><span>、§ 5.1</span>
                <li><a href="#set-prepend">セットの定義</a><span>、§ 5.1.3</span>
            </ul>
        <li><a href="#stack-push">push</a><span>、§ 5.1.1</span>
        <li><a href="#queue">キュー</a><span>、§ 5.1.2</span>
        <li>
            remove
            <ul>
                <li><a href="#list-remove">リスト・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-remove">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li>
            replace
            <ul>
                <li><a href="#list-replace">リストの定義</a><span>、§ 5.1</span>
                <li><a href="#set-replace">セットの定義</a><span>、§ 5.1.3</span>
            </ul>
        <li><a href="#set-replace">置換</a><span>、§ 5.1.3</span>
        <li><a href="#scalar-value">スカラ値</a><span>、§ 4.6</span>
        <li><a href="#scalar-value-string">スカラ値文字列</a><span>、§ 4.7</span>
        <li><a href="#serialize-a-javascript-value-to-a-json-string">JavaScript値をJSON文字列に直列化する</a><span>、§ 6</span>
        <li><a href="#serialize-a-javascript-value-to-json-bytes">JavaScript値をJSONバイト列に直列化する</a><span>、§ 6</span>
        <li><a href="#serialize-an-infra-value-to-a-json-string">Infra値をJSON文字列に直列化する</a><span>、§ 6</span>
        <li><a href="#serialize-an-infra-value-to-json-bytes">Infra値をJSONバイト列に直列化する</a><span>、§ 6</span>
        <li><a href="#serialize-a-javascript-value-to-json-bytes">JSONをバイト列に直列化する</a><span>、§ 6</span>
        <li>
            set
            <ul>
                <li><a href="#ordered-set">定義</a><span>、§ 5.1.3</span>
                <li><a href="#map-set">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#map-set">値の設定</a><span>、§ 5.2</span>
        <li>
            size
            <ul>
                <li><a href="#list-size">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-size">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#skip-ascii-whitespace">ASCII空白をスキップ</a><span>、§ 4.7</span>
        <li>
            sort
            <ul>
                <li><a href="#list-sort-in-ascending-order">リスト・スタック・キュー・セットの定義（昇順）</a><span>、§ 5.1</span>
                <li><a href="#map-sort-in-ascending-order">マップの定義（昇順）</a><span>、§ 5.2</span>
            </ul>
        <li>
            sort in ascending order
            <ul>
                <li><a href="#list-sort-in-ascending-order">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-sort-in-ascending-order">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li>
            sort in descending order
            <ul>
                <li><a href="#list-sort-in-descending-order">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-sort-in-descending-order">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li>
            sorting
            <ul>
                <li><a href="#list-sort-in-ascending-order">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-sort-in-ascending-order">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li>
            sorting in ascending order
            <ul>
                <li><a href="#list-sort-in-ascending-order">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-sort-in-ascending-order">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li>
            sorting in descending order
            <ul>
                <li><a href="#list-sort-in-descending-order">リスト・スタック・キュー・セットの定義</a><span>、§ 5.1</span>
                <li><a href="#map-sort-in-descending-order">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#split-on-ascii-whitespace">ASCII空白で分割</a><span>、§ 4.7</span>
        <li><a href="#split-on-commas">カンマで分割</a><span>、§ 4.7</span>
        <li><a href="#split-on-ascii-whitespace">ASCII空白で分割</a><span>、§ 4.7</span>
        <li><a href="#split-on-commas">カンマで分割</a><span>、§ 4.7</span>
        <li><a href="#stack">スタック</a><span>、§ 5.1.1</span>
        <li>
            starts with
            <ul>
                <li><a href="#byte-sequence-starts-with">バイト列の定義</a><span>、§ 4.5</span>
                <li><a href="#string-starts-with">文字列の定義</a><span>、§ 4.7</span>
            </ul>
        <li><a href="#byte-sequence-starts-with">で始まる</a><span>、§ 4.5</span>
        <li><a href="#strictly-split">厳密分割</a><span>、§ 4.7</span>
        <li><a href="#strictly-split">厳密に文字列を分割</a><span>、§ 4.7</span>
        <li><a href="#string">文字列</a><span>、§ 4.7</span>
        <li><a href="#strip-and-collapse-ascii-whitespace">ASCII空白の除去と結合</a><span>、§ 4.7</span>
        <li><a href="#strip-leading-and-trailing-ascii-whitespace">先頭・末尾ASCII空白の除去</a><span>、§ 4.7</span>
        <li><a href="#strip-newlines">改行の除去</a><span>、§ 4.7</span>
        <li><a href="#struct">構造体</a><span>、§ 5.3</span>
        <li><a href="#set-subset">部分集合</a><span>、§ 5.1.3</span>
        <li><a href="#set-superset">上位集合</a><span>、§ 5.1.3</span>
        <li><a href="#surrogate">サロゲート</a><span>、§ 4.6</span>
        <li><a href="#svg-namespace">SVG名前空間</a><span>、§ 8</span>
        <li><a href="#the-exclusive-range">排他的範囲</a><span>、§ 5.1.3</span>
        <li><a href="#the-range">包括的範囲</a><span>、§ 5.1.3</span>
        <li><a href="#the-range">範囲</a><span>、§ 5.1.3</span>
        <li><a href="#tracking-vector">トラッキングベクター</a><span>、§ 2.4</span>
        <li><a href="#trailing-surrogate">トレイリングサロゲート</a><span>、§ 4.6</span>
        <li><a href="#tuple">タプル</a><span>、§ 5.3.1</span>
        <li><a href="#set-union">和集合</a><span>、§ 5.1.3</span>
        <li><a href="#user-agent">ユーザーエージェント</a><span>、§ 2.3</span>
        <li>
            value
            <ul>
                <li><a href="#byte-value">バイトの定義</a><span>、§ 4.4</span>
                <li><a href="#code-point-value">符号位置の定義</a><span>、§ 4.6</span>
                <li><a href="#map-value">マップの定義</a><span>、§ 5.2</span>
            </ul>
        <li><a href="#map-getting-the-values">値（複数）</a><span>、§ 5.2</span>
        <li><a href="#iteration-while">while</a><span>、§ 3.9</span>
        <li><a href="#willful-violation">故意の逸脱</a><span>、§ 2.2</span>
        <li><a href="#map-with-default">with default</a><span>、§ 5.2</span>
        <li><a href="#xlink-namespace">XLink名前空間</a><span>、§ 8</span>
        <li><a href="#xml-namespace">XML名前空間</a><span>、§ 8</span>
        <li><a href="#xmlns-namespace">XMLNS名前空間</a><span>、§ 8</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照によって定義される用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[DOM]</a>は以下の用語を定義する：
            <ul>
                <li><span class="dfn-paneled" id="a8fc7c38">CharacterData</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMA-262]</a>は以下の用語を定義する：
            <ul>
                <li><span class="dfn-paneled" id="8b3dfc64">%JSON.parse%</span>
                <li><span class="dfn-paneled" id="ca4a8997">%JSON.stringify%</span>
                <li><span class="dfn-paneled" id="437d21ea">ArrayCreate</span>
                <li><span class="dfn-paneled" id="1010768b">Call</span>
                <li><span class="dfn-paneled" id="cef3e940">CreateDataPropertyOrThrow</span>
                <li><span class="dfn-paneled" id="0d804898">Get</span>
                <li><span class="dfn-paneled" id="41110b4b">IsArray</span>
                <li><span class="dfn-paneled" id="cb213548">OrdinaryObjectCreate</span>
                <li><span class="dfn-paneled" id="d8530df1">ToLength</span>
                <li><span class="dfn-paneled" id="d5bd3770">ToString</span>
                <li><span class="dfn-paneled" id="d19654fd">is a Boolean</span>
                <li><span class="dfn-paneled" id="921f1639">is a Number</span>
                <li><span class="dfn-paneled" id="31f77191">is a String</span>
                <li><span class="dfn-paneled" id="66553159">List</span>
                <li><span class="dfn-paneled" id="db6dbae4">realm</span>
                <li><span class="dfn-paneled" id="b7ef7f32">sort()</span>
                <li><span class="dfn-paneled" id="1d2f9726">The String Type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a>は以下の用語を定義する：
            <ul>
                <li><span class="dfn-paneled" id="b0fcb8d7">UTF-8 decode</span>
                <li><span class="dfn-paneled" id="0303e8e5">UTF-8 encode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a>は以下の用語を定義する：
            <ul>
                <li><span class="dfn-paneled" id="5fe4ff5e">HTTP whitespace</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME]</a>は以下の用語を定義する：
            <ul>
                <li><span class="dfn-paneled" id="4b2c8c72">duration</span>
                <li><span class="dfn-paneled" id="1e2edd5b">moment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a>は以下の用語を定義する：
            <ul>
                <li><span class="dfn-paneled" id="752d140b">host</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a>は以下の用語を定義する：
            <ul>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">標準的な参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-ecma-262">[ECMA-262]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>。URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren。<a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>。現行標準。URL:
            <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-hr-time">[HR-TIME]
        <dd>Yoav Weiss。<a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>。URL: <a
                href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
        <dt id="biblio-infra">[Infra]
        <dd>Anne van Kesteren; Domenic Denicola。<a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>。現行標準。URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc20">[RFC20]
        <dd>V.G. Cerf。<a href="https://www.rfc-editor.org/rfc/rfc20"><cite>ASCII format for network
                    interchange</cite></a>。1969年10月。Internet Standard。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc20">https://www.rfc-editor.org/rfc/rfc20</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner。<a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>。1997年3月。Best Current Practice。URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-rfc4648">[RFC4648]
        <dd>S. Josefsson。<a href="https://www.rfc-editor.org/rfc/rfc4648"><cite>The Base16, Base32, and Base64 Data
                    Encodings</cite></a>。2006年10月。Proposed Standard。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>
        <dt id="biblio-unicode">[UNICODE]
        <dd><a href="https://www.unicode.org/versions/latest/"><cite>The Unicode Standard</cite></a>。URL: <a
                href="https://www.unicode.org/versions/latest/">https://www.unicode.org/versions/latest/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu。<a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>。現行標準。URL:
            <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考情報</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-cookies">[COOKIES]
        <dd>A. Barth。<a href="https://httpwg.org/specs/rfc6265.html"><cite>HTTP State Management
                    Mechanism</cite></a>。2011年4月。Proposed Standard。URL: <a
                href="https://httpwg.org/specs/rfc6265.html">https://httpwg.org/specs/rfc6265.html</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren。<a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>。現行標準。URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren。<a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>。現行標準。URL: <a
                href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; 他。<a href="https://html.spec.whatwg.org/multipage/"><cite>HTML
                    Standard</cite></a>。現行標準。URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-rfc6797">[RFC6797]
        <dd>J. Hodges; C. Jackson; A. Barth。<a href="https://www.rfc-editor.org/rfc/rfc6797"><cite>HTTP Strict
                    Transport Security (HSTS)</cite></a>。2012年11月。Proposed Standard。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc6797">https://www.rfc-editor.org/rfc/rfc6797</a>
        <dt id="biblio-rfc791">[RFC791]
        <dd>J. Postel。<a href="https://www.rfc-editor.org/rfc/rfc791"><cite>Internet
                    Protocol</cite></a>。1981年9月。Internet Standard。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc791">https://www.rfc-editor.org/rfc/rfc791</a>
        <dt id="biblio-rfc8174">[RFC8174]
        <dd>B. Leiba。<a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                    2119 Key Words</cite></a>。2017年5月。Best Current Practice。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
        <dt id="biblio-rfc8259">[RFC8259]
        <dd>T. Bray, Ed.。<a href="https://www.rfc-editor.org/rfc/rfc8259"><cite>The JavaScript Object Notation (JSON)
                    Data Interchange Format</cite></a>。2017年12月。Internet Standard。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
        <dt id="biblio-storage">[STORAGE]
        <dd>Anne van Kesteren。<a href="https://storage.spec.whatwg.org/"><cite>Storage Standard</cite></a>。現行標準。URL: <a
                href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren。<a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>。現行標準。URL: <a
                href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-xml">[XML]
        <dd>Tim Bray; 他。<a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth
                    Edition)</cite></a>。2008年11月26日。REC。URL: <a
                href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a>
    </dl>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0303e8e5": { "dfnID": "0303e8e5", "dfnText": "UTF-8 encode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2460" }, { "id": "ref-for-utf-8-encode\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2462" }, { "id": "ref-for-utf-8-encode\u2463" }], "title": "6. JSON" }], "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "0d804898": { "dfnID": "0d804898", "dfnText": "Get", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-get-o-p" }, { "id": "ref-for-sec-get-o-p\u2460" }, { "id": "ref-for-sec-get-o-p\u2461" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-get-o-p" },
                "1010768b": { "dfnID": "1010768b", "dfnText": "Call", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-call" }, { "id": "ref-for-sec-call\u2460" }, { "id": "ref-for-sec-call\u2461" }, { "id": "ref-for-sec-call\u2462" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-call" },
                "128-bit-unsigned-integer": { "dfnID": "128-bit-unsigned-integer", "dfnText": "128-bit unsigned integer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-128-bit-unsigned-integer" }], "title": "4.3. Numbers" }], "url": "#128-bit-unsigned-integer" },
                "16-bit-signed-integer": { "dfnID": "16-bit-signed-integer", "dfnText": "16-bit signed integer", "external": false, "refSections": [], "url": "#16-bit-signed-integer" },
                "16-bit-unsigned-integer": { "dfnID": "16-bit-unsigned-integer", "dfnText": "16-bit unsigned integer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-16-bit-unsigned-integer" }], "title": "4.7. Strings" }], "url": "#16-bit-unsigned-integer" },
                "1d2f9726": { "dfnID": "1d2f9726", "dfnText": "The String Type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "1e2edd5b": { "dfnID": "1e2edd5b", "dfnText": "moment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-moment" }], "title": "4.8. Time" }], "url": "https://w3c.github.io/hr-time/#dfn-moment" },
                "31f77191": { "dfnID": "31f77191", "dfnText": "is a String", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "32-bit-signed-integer": { "dfnID": "32-bit-signed-integer", "dfnText": "32-bit signed integer", "external": false, "refSections": [], "url": "#32-bit-signed-integer" },
                "32-bit-unsigned-integer": { "dfnID": "32-bit-unsigned-integer", "dfnText": "32-bit unsigned integer", "external": false, "refSections": [], "url": "#32-bit-unsigned-integer" },
                "41110b4b": { "dfnID": "41110b4b", "dfnText": "IsArray", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-isarray" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-isarray" },
                "437d21ea": { "dfnID": "437d21ea", "dfnText": "ArrayCreate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-arraycreate" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-arraycreate" },
                "4b2c8c72": { "dfnID": "4b2c8c72", "dfnText": "duration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-duration" }], "title": "4.8. Time" }], "url": "https://w3c.github.io/hr-time/#dfn-duration" },
                "5fe4ff5e": { "dfnID": "5fe4ff5e", "dfnText": "HTTP whitespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-http-whitespace" }], "title": "4.6. Code points" }], "url": "https://fetch.spec.whatwg.org/#http-whitespace" },
                "64-bit-signed-integer": { "dfnID": "64-bit-signed-integer", "dfnText": "64-bit signed integer", "external": false, "refSections": [], "url": "#64-bit-signed-integer" },
                "64-bit-unsigned-integer": { "dfnID": "64-bit-unsigned-integer", "dfnText": "64-bit unsigned integer", "external": false, "refSections": [], "url": "#64-bit-unsigned-integer" },
                "66553159": { "dfnID": "66553159", "dfnText": "List", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-list-and-record-specification-type" }, { "id": "ref-for-sec-list-and-record-specification-type\u2460" }], "title": "5.1. Lists" }], "url": "https://tc39.github.io/ecma262/#sec-list-and-record-specification-type" },
                "752d140b": { "dfnID": "752d140b", "dfnText": "host", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-host" }], "title": "5.3. Structs" }], "url": "https://url.spec.whatwg.org/#concept-host" },
                "8-bit-signed-integer": { "dfnID": "8-bit-signed-integer", "dfnText": "8-bit signed integer", "external": false, "refSections": [], "url": "#8-bit-signed-integer" },
                "8-bit-unsigned-integer": { "dfnID": "8-bit-unsigned-integer", "dfnText": "8-bit unsigned integer", "external": false, "refSections": [], "url": "#8-bit-unsigned-integer" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }], "title": "3.8. Conditional statements" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460" }], "title": "6. JSON" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "8b3dfc64": { "dfnID": "8b3dfc64", "dfnText": "%JSON.parse%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-json.parse" }, { "id": "ref-for-sec-json.parse\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-json.parse" },
                "921f1639": { "dfnID": "921f1639", "dfnText": "is a Number", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-number-type" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type" },
                "a8fc7c38": { "dfnID": "a8fc7c38", "dfnText": "CharacterData", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-characterdata" }], "title": "4.7. Strings" }], "url": "https://dom.spec.whatwg.org/#characterdata" },
                "abort-when": { "dfnID": "abort-when", "dfnText": "abort when", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abort-when" }, { "id": "ref-for-abort-when\u2460" }], "title": "3.7. Conditional abort" }], "url": "#abort-when" },
                "ascii-alpha": { "dfnID": "ascii-alpha", "dfnText": "ASCII alpha", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-alpha" }], "title": "4.6. Code points" }], "url": "#ascii-alpha" },
                "ascii-alphanumeric": { "dfnID": "ascii-alphanumeric", "dfnText": "ASCII alphanumeric", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-alphanumeric" }], "title": "7. Forgiving base64" }], "url": "#ascii-alphanumeric" },
                "ascii-byte": { "dfnID": "ascii-byte", "dfnText": "ASCII byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-byte" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-ascii-byte\u2460" }], "title": "4.7. Strings" }], "url": "#ascii-byte" },
                "ascii-case-insensitive": { "dfnID": "ascii-case-insensitive", "dfnText": "ASCII case-insensitive", "external": false, "refSections": [], "url": "#ascii-case-insensitive" },
                "ascii-code-point": { "dfnID": "ascii-code-point", "dfnText": "ASCII code point", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-code-point" }], "title": "4.7. Strings" }], "url": "#ascii-code-point" },
                "ascii-decode": { "dfnID": "ascii-decode", "dfnText": "ASCII decode", "external": false, "refSections": [], "url": "#ascii-decode" },
                "ascii-digit": { "dfnID": "ascii-digit", "dfnText": "ASCII digit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-digit" }, { "id": "ref-for-ascii-digit\u2460" }, { "id": "ref-for-ascii-digit\u2461" }], "title": "4.6. Code points" }], "url": "#ascii-digit" },
                "ascii-encode": { "dfnID": "ascii-encode", "dfnText": "ASCII encode", "external": false, "refSections": [], "url": "#ascii-encode" },
                "ascii-hex-digit": { "dfnID": "ascii-hex-digit", "dfnText": "ASCII hex digit", "external": false, "refSections": [], "url": "#ascii-hex-digit" },
                "ascii-lower-alpha": { "dfnID": "ascii-lower-alpha", "dfnText": "ASCII lower alpha", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lower-alpha" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-ascii-lower-alpha\u2460" }, { "id": "ref-for-ascii-lower-alpha\u2461" }], "title": "4.7. Strings" }], "url": "#ascii-lower-alpha" },
                "ascii-lower-hex-digit": { "dfnID": "ascii-lower-hex-digit", "dfnText": "ASCII lower hex digit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lower-hex-digit" }], "title": "4.6. Code points" }], "url": "#ascii-lower-hex-digit" },
                "ascii-lowercase": { "dfnID": "ascii-lowercase", "dfnText": "ASCII lowercase", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lowercase" }, { "id": "ref-for-ascii-lowercase\u2460" }], "title": "4.7. Strings" }], "url": "#ascii-lowercase" },
                "ascii-string": { "dfnID": "ascii-string", "dfnText": "ASCII string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-string" }, { "id": "ref-for-ascii-string\u2460" }], "title": "4.7. Strings" }], "url": "#ascii-string" },
                "ascii-tab-or-newline": { "dfnID": "ascii-tab-or-newline", "dfnText": "ASCII tab or newline", "external": false, "refSections": [], "url": "#ascii-tab-or-newline" },
                "ascii-upper-alpha": { "dfnID": "ascii-upper-alpha", "dfnText": "ASCII upper alpha", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-upper-alpha" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-ascii-upper-alpha\u2460" }, { "id": "ref-for-ascii-upper-alpha\u2461" }], "title": "4.7. Strings" }], "url": "#ascii-upper-alpha" },
                "ascii-upper-hex-digit": { "dfnID": "ascii-upper-hex-digit", "dfnText": "ASCII upper hex digit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-upper-hex-digit" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-ascii-upper-hex-digit\u2460" }, { "id": "ref-for-ascii-upper-hex-digit\u2461" }], "title": "4.6. Code points" }], "url": "#ascii-upper-hex-digit" },
                "ascii-uppercase": { "dfnID": "ascii-uppercase", "dfnText": "ASCII uppercase", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-uppercase" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-ascii-uppercase\u2460" }], "title": "4.6. Code points" }], "url": "#ascii-uppercase" },
                "ascii-whitespace": { "dfnID": "ascii-whitespace", "dfnText": "ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-whitespace" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-ascii-whitespace\u2460" }, { "id": "ref-for-ascii-whitespace\u2461" }, { "id": "ref-for-ascii-whitespace\u2462" }, { "id": "ref-for-ascii-whitespace\u2463" }, { "id": "ref-for-ascii-whitespace\u2464" }, { "id": "ref-for-ascii-whitespace\u2465" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-ascii-whitespace\u2466" }], "title": "7. Forgiving base64" }], "url": "#ascii-whitespace" },
                "assert": { "dfnID": "assert", "dfnText": "Assert", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-assert\u2460" }], "title": "3.10. Assertions" }, { "refs": [{ "id": "ref-for-assert\u2461" }, { "id": "ref-for-assert\u2462" }, { "id": "ref-for-assert\u2463" }, { "id": "ref-for-assert\u2464" }, { "id": "ref-for-assert\u2465" }, { "id": "ref-for-assert\u2466" }, { "id": "ref-for-assert\u2467" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-assert\u2468" }, { "id": "ref-for-assert\u2460\u24ea" }, { "id": "ref-for-assert\u2460\u2460" }, { "id": "ref-for-assert\u2460\u2461" }, { "id": "ref-for-assert\u2460\u2462" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-assert\u2460\u2463" }], "title": "6. JSON" }], "url": "#assert" },
                "b0fcb8d7": { "dfnID": "b0fcb8d7", "dfnText": "UTF-8 decode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2460" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2462" }, { "id": "ref-for-utf-8-decode\u2463" }], "title": "6. JSON" }], "url": "https://encoding.spec.whatwg.org/#utf-8-decode" },
                "b7ef7f32": { "dfnID": "b7ef7f32", "dfnText": "sort()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-array.prototype.sort" }], "title": "4.7. Strings" }], "url": "https://tc39.github.io/ecma262/#sec-array.prototype.sort" },
                "boolean": { "dfnID": "boolean", "dfnText": "boolean", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-boolean" }, { "id": "ref-for-boolean\u2460" }], "title": "3.4. Parameters" }, { "refs": [{ "id": "ref-for-boolean\u2461" }, { "id": "ref-for-boolean\u2462" }, { "id": "ref-for-boolean\u2463" }, { "id": "ref-for-boolean\u2464" }], "title": "6. JSON" }], "url": "#boolean" },
                "byte": { "dfnID": "byte", "dfnText": "byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte" }, { "id": "ref-for-byte\u2460" }, { "id": "ref-for-byte\u2461" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-byte\u2462" }, { "id": "ref-for-byte\u2463" }, { "id": "ref-for-byte\u2464" }, { "id": "ref-for-byte\u2465" }, { "id": "ref-for-byte\u2466" }, { "id": "ref-for-byte\u2467" }, { "id": "ref-for-byte\u2468" }, { "id": "ref-for-byte\u2460\u24ea" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte\u2460\u2460" }], "title": "4.7. Strings" }], "url": "#byte" },
                "byte-case-insensitive": { "dfnID": "byte-case-insensitive", "dfnText": "byte-case-insensitive", "external": false, "refSections": [], "url": "#byte-case-insensitive" },
                "byte-less-than": { "dfnID": "byte-less-than", "dfnText": "byte less than", "external": false, "refSections": [], "url": "#byte-less-than" },
                "byte-lowercase": { "dfnID": "byte-lowercase", "dfnText": "byte-lowercase", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-lowercase" }, { "id": "ref-for-byte-lowercase\u2460" }], "title": "4.5. Byte sequences" }], "url": "#byte-lowercase" },
                "byte-sequence": { "dfnID": "byte-sequence", "dfnText": "byte sequence", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }, { "id": "ref-for-byte-sequence\u2460" }, { "id": "ref-for-byte-sequence\u2461" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-byte-sequence\u2462" }, { "id": "ref-for-byte-sequence\u2463" }, { "id": "ref-for-byte-sequence\u2464" }, { "id": "ref-for-byte-sequence\u2465" }, { "id": "ref-for-byte-sequence\u2466" }, { "id": "ref-for-byte-sequence\u2467" }, { "id": "ref-for-byte-sequence\u2468" }, { "id": "ref-for-byte-sequence\u2460\u24ea" }, { "id": "ref-for-byte-sequence\u2460\u2460" }, { "id": "ref-for-byte-sequence\u2460\u2461" }, { "id": "ref-for-byte-sequence\u2460\u2462" }, { "id": "ref-for-byte-sequence\u2460\u2463" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2464" }, { "id": "ref-for-byte-sequence\u2460\u2465" }, { "id": "ref-for-byte-sequence\u2460\u2466" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2467" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2468" }, { "id": "ref-for-byte-sequence\u2461\u24ea" }], "title": "6. JSON" }, { "refs": [{ "id": "ref-for-byte-sequence\u2461\u2460" }, { "id": "ref-for-byte-sequence\u2461\u2461" }], "title": "7. Forgiving base64" }], "url": "#byte-sequence" },
                "byte-sequence-length": { "dfnID": "byte-sequence-length", "dfnText": "length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-length" }, { "id": "ref-for-byte-sequence-length\u2460" }, { "id": "ref-for-byte-sequence-length\u2461" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2462" }], "title": "4.7. Strings" }], "url": "#byte-sequence-length" },
                "byte-sequence-prefix": { "dfnID": "byte-sequence-prefix", "dfnText": "prefix", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-prefix" }, { "id": "ref-for-byte-sequence-prefix\u2460" }, { "id": "ref-for-byte-sequence-prefix\u2461" }], "title": "4.5. Byte sequences" }], "url": "#byte-sequence-prefix" },
                "byte-sequence-starts-with": { "dfnID": "byte-sequence-starts-with", "dfnText": "starts with", "external": false, "refSections": [], "url": "#byte-sequence-starts-with" },
                "byte-uppercase": { "dfnID": "byte-uppercase", "dfnText": "byte-uppercase", "external": false, "refSections": [], "url": "#byte-uppercase" },
                "byte-value": { "dfnID": "byte-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-value" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-byte-value\u2460" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte-value\u2461" }], "title": "4.7. Strings" }], "url": "#byte-value" },
                "c0-control": { "dfnID": "c0-control", "dfnText": "C0 control", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-c0-control" }, { "id": "ref-for-c0-control\u2460" }], "title": "4.6. Code points" }], "url": "#c0-control" },
                "c0-control-or-space": { "dfnID": "c0-control-or-space", "dfnText": "C0 control or space", "external": false, "refSections": [], "url": "#c0-control-or-space" },
                "ca4a8997": { "dfnID": "ca4a8997", "dfnText": "%JSON.stringify%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-json.stringify" }, { "id": "ref-for-sec-json.stringify\u2460" }, { "id": "ref-for-sec-json.stringify\u2461" }, { "id": "ref-for-sec-json.stringify\u2462" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-json.stringify" },
                "cb213548": { "dfnID": "cb213548", "dfnText": "OrdinaryObjectCreate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ordinaryobjectcreate" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate" },
                "cef3e940": { "dfnID": "cef3e940", "dfnText": "CreateDataPropertyOrThrow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-createdatapropertyorthrow" }, { "id": "ref-for-sec-createdatapropertyorthrow\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow" },
                "code-point": { "dfnID": "code-point", "dfnText": "code point", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-code-point\u2460" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-code-point\u2461" }, { "id": "ref-for-code-point\u2462" }, { "id": "ref-for-code-point\u2463" }, { "id": "ref-for-code-point\u2464" }, { "id": "ref-for-code-point\u2465" }, { "id": "ref-for-code-point\u2466" }, { "id": "ref-for-code-point\u2467" }, { "id": "ref-for-code-point\u2468" }, { "id": "ref-for-code-point\u2460\u24ea" }, { "id": "ref-for-code-point\u2460\u2460" }, { "id": "ref-for-code-point\u2460\u2461" }, { "id": "ref-for-code-point\u2460\u2462" }, { "id": "ref-for-code-point\u2460\u2463" }, { "id": "ref-for-code-point\u2460\u2464" }, { "id": "ref-for-code-point\u2460\u2465" }, { "id": "ref-for-code-point\u2460\u2466" }, { "id": "ref-for-code-point\u2460\u2467" }, { "id": "ref-for-code-point\u2460\u2468" }, { "id": "ref-for-code-point\u2461\u24ea" }, { "id": "ref-for-code-point\u2461\u2460" }, { "id": "ref-for-code-point\u2461\u2461" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-code-point\u2461\u2462" }, { "id": "ref-for-code-point\u2461\u2463" }, { "id": "ref-for-code-point\u2461\u2464" }, { "id": "ref-for-code-point\u2461\u2465" }, { "id": "ref-for-code-point\u2461\u2466" }, { "id": "ref-for-code-point\u2461\u2467" }, { "id": "ref-for-code-point\u2461\u2468" }, { "id": "ref-for-code-point\u2462\u24ea" }, { "id": "ref-for-code-point\u2462\u2460" }, { "id": "ref-for-code-point\u2462\u2461" }, { "id": "ref-for-code-point\u2462\u2462" }, { "id": "ref-for-code-point\u2462\u2463" }, { "id": "ref-for-code-point\u2462\u2464" }, { "id": "ref-for-code-point\u2462\u2465" }, { "id": "ref-for-code-point\u2462\u2466" }, { "id": "ref-for-code-point\u2462\u2467" }, { "id": "ref-for-code-point\u2462\u2468" }, { "id": "ref-for-code-point\u2463\u24ea" }, { "id": "ref-for-code-point\u2463\u2460" }, { "id": "ref-for-code-point\u2463\u2461" }, { "id": "ref-for-code-point\u2463\u2462" }, { "id": "ref-for-code-point\u2463\u2463" }, { "id": "ref-for-code-point\u2463\u2464" }, { "id": "ref-for-code-point\u2463\u2465" }, { "id": "ref-for-code-point\u2463\u2466" }, { "id": "ref-for-code-point\u2463\u2467" }, { "id": "ref-for-code-point\u2463\u2468" }, { "id": "ref-for-code-point\u2464\u24ea" }, { "id": "ref-for-code-point\u2464\u2460" }, { "id": "ref-for-code-point\u2464\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-code-point\u2464\u2462" }, { "id": "ref-for-code-point\u2464\u2463" }, { "id": "ref-for-code-point\u2464\u2464" }], "title": "7. Forgiving base64" }], "url": "#code-point" },
                "code-point-substring": { "dfnID": "code-point-substring", "dfnText": "code point substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point-substring" }, { "id": "ref-for-code-point-substring\u2460" }, { "id": "ref-for-code-point-substring\u2461" }], "title": "4.7. Strings" }], "url": "#code-point-substring" },
                "code-point-substring-by-positions": { "dfnID": "code-point-substring-by-positions", "dfnText": "code point substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point-substring-by-positions" }], "title": "4.7. Strings" }], "url": "#code-point-substring-by-positions" },
                "code-point-substring-to-the-end-of-the-string": { "dfnID": "code-point-substring-to-the-end-of-the-string", "dfnText": "code point substring", "external": false, "refSections": [], "url": "#code-point-substring-to-the-end-of-the-string" },
                "code-point-value": { "dfnID": "code-point-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point-value" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-code-point-value\u2460" }], "title": "4.7. Strings" }], "url": "#code-point-value" },
                "code-unit": { "dfnID": "code-unit", "dfnText": "code units", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit" }, { "id": "ref-for-code-unit\u2460" }, { "id": "ref-for-code-unit\u2461" }, { "id": "ref-for-code-unit\u2462" }, { "id": "ref-for-code-unit\u2463" }, { "id": "ref-for-code-unit\u2464" }, { "id": "ref-for-code-unit\u2465" }, { "id": "ref-for-code-unit\u2466" }, { "id": "ref-for-code-unit\u2467" }, { "id": "ref-for-code-unit\u2468" }, { "id": "ref-for-code-unit\u2460\u24ea" }, { "id": "ref-for-code-unit\u2460\u2460" }], "title": "4.7. Strings" }], "url": "#code-unit" },
                "code-unit-less-than": { "dfnID": "code-unit-less-than", "dfnText": "code unit less than", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-less-than" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-code-unit-less-than\u2460" }], "title": "5.1. Lists" }], "url": "#code-unit-less-than" },
                "code-unit-prefix": { "dfnID": "code-unit-prefix", "dfnText": "code unit prefix", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-prefix" }, { "id": "ref-for-code-unit-prefix\u2460" }, { "id": "ref-for-code-unit-prefix\u2461" }, { "id": "ref-for-code-unit-prefix\u2462" }], "title": "4.7. Strings" }], "url": "#code-unit-prefix" },
                "code-unit-substring": { "dfnID": "code-unit-substring", "dfnText": "code unit substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-substring" }, { "id": "ref-for-code-unit-substring\u2460" }, { "id": "ref-for-code-unit-substring\u2461" }, { "id": "ref-for-code-unit-substring\u2462" }], "title": "4.7. Strings" }], "url": "#code-unit-substring" },
                "code-unit-substring-by-positions": { "dfnID": "code-unit-substring-by-positions", "dfnText": "code unit substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-substring-by-positions" }, { "id": "ref-for-code-unit-substring-by-positions\u2460" }, { "id": "ref-for-code-unit-substring-by-positions\u2461" }], "title": "4.7. Strings" }], "url": "#code-unit-substring-by-positions" },
                "code-unit-substring-to-the-end-of-the-string": { "dfnID": "code-unit-substring-to-the-end-of-the-string", "dfnText": "code unit substring", "external": false, "refSections": [], "url": "#code-unit-substring-to-the-end-of-the-string" },
                "code-unit-suffix": { "dfnID": "code-unit-suffix", "dfnText": "code unit suffix", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-suffix" }, { "id": "ref-for-code-unit-suffix\u2460" }], "title": "4.7. Strings" }], "url": "#code-unit-suffix" },
                "collect-a-sequence-of-code-points": { "dfnID": "collect-a-sequence-of-code-points", "dfnText": "collect a sequence of code points", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-collect-a-sequence-of-code-points" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2460" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2461" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2462" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2463" }], "title": "4.7. Strings" }], "url": "#collect-a-sequence-of-code-points" },
                "control": { "dfnID": "control", "dfnText": "control", "external": false, "refSections": [], "url": "#control" },
                "convert-a-json-derived-javascript-value-to-an-infra-value": { "dfnID": "convert-a-json-derived-javascript-value-to-an-infra-value", "dfnText": "convert a JSON-derived JavaScript value to an Infra value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-convert-a-json-derived-javascript-value-to-an-infra-value" }, { "id": "ref-for-convert-a-json-derived-javascript-value-to-an-infra-value\u2460" }, { "id": "ref-for-convert-a-json-derived-javascript-value-to-an-infra-value\u2461" }], "title": "6. JSON" }], "url": "#convert-a-json-derived-javascript-value-to-an-infra-value" },
                "convert-an-infra-value-to-a-json-compatible-javascript-value": { "dfnID": "convert-an-infra-value-to-a-json-compatible-javascript-value", "dfnText": "convert an Infra value to a JSON-compatible JavaScript value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value" }, { "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value\u2460" }, { "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value\u2461" }, { "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value\u2462" }], "title": "6. JSON" }], "url": "#convert-an-infra-value-to-a-json-compatible-javascript-value" },
                "d19654fd": { "dfnID": "d19654fd", "dfnText": "is a Boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-boolean-type" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type" },
                "d5bd3770": { "dfnID": "d5bd3770", "dfnText": "ToString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-tostring" }, { "id": "ref-for-sec-tostring\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-tostring" },
                "d8530df1": { "dfnID": "d8530df1", "dfnText": "ToLength", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-tolength" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-tolength" },
                "db6dbae4": { "dfnID": "db6dbae4", "dfnText": "realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-realm" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#realm" },
                "forgiving-base64-decode": { "dfnID": "forgiving-base64-decode", "dfnText": "forgiving-base64 decode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-forgiving-base64-decode" }], "title": "7. Forgiving base64" }], "url": "#forgiving-base64-decode" },
                "forgiving-base64-encode": { "dfnID": "forgiving-base64-encode", "dfnText": "forgiving-base64 encode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-forgiving-base64-encode" }], "title": "7. Forgiving base64" }], "url": "#forgiving-base64-encode" },
                "html-namespace": { "dfnID": "html-namespace", "dfnText": "HTML namespace", "external": false, "refSections": [], "url": "#html-namespace" },
                "if-aborted": { "dfnID": "if-aborted", "dfnText": "if aborted", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-if-aborted" }], "title": "3.7. Conditional abort" }], "url": "#if-aborted" },
                "implementation": { "dfnID": "implementation", "dfnText": "implementation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-implementation" }, { "id": "ref-for-implementation\u2460" }, { "id": "ref-for-implementation\u2461" }], "title": "2.3. Terminology" }], "url": "#implementation" },
                "implementation-defined": { "dfnID": "implementation-defined", "dfnText": "implementation-defined", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }, { "id": "ref-for-implementation-defined\u2460" }], "title": "2.3. Terminology" }, { "refs": [{ "id": "ref-for-implementation-defined\u2461" }, { "id": "ref-for-implementation-defined\u2462" }, { "id": "ref-for-implementation-defined\u2463" }], "title": "3.2. Avoid limits on algorithm inputs" }], "url": "#implementation-defined" },
                "isomorphic-decode": { "dfnID": "isomorphic-decode", "dfnText": "isomorphic decode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-isomorphic-decode" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-isomorphic-decode\u2460" }, { "id": "ref-for-isomorphic-decode\u2461" }], "title": "4.7. Strings" }], "url": "#isomorphic-decode" },
                "isomorphic-encode": { "dfnID": "isomorphic-encode", "dfnText": "isomorphic encode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-isomorphic-encode" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-isomorphic-encode\u2460" }, { "id": "ref-for-isomorphic-encode\u2461" }], "title": "4.7. Strings" }], "url": "#isomorphic-encode" },
                "isomorphic-string": { "dfnID": "isomorphic-string", "dfnText": "isomorphic string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-isomorphic-string" }, { "id": "ref-for-isomorphic-string\u2460" }], "title": "4.7. Strings" }], "url": "#isomorphic-string" },
                "iteration-break": { "dfnID": "iteration-break", "dfnText": "break", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iteration-break" }, { "id": "ref-for-iteration-break\u2460" }], "title": "3.9. Iteration" }], "url": "#iteration-break" },
                "iteration-continue": { "dfnID": "iteration-continue", "dfnText": "continue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }, { "id": "ref-for-iteration-continue\u2460" }], "title": "3.9. Iteration" }], "url": "#iteration-continue" },
                "iteration-while": { "dfnID": "iteration-while", "dfnText": "While", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iteration-while" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-iteration-while\u2460" }, { "id": "ref-for-iteration-while\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-iteration-while\u2462" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-iteration-while\u2463" }], "title": "5.1.2. Queues" }], "url": "#iteration-while" },
                "javascript-string-convert": { "dfnID": "javascript-string-convert", "dfnText": "convert", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-javascript-string-convert" }], "title": "4.7. Strings" }], "url": "#javascript-string-convert" },
                "leading-surrogate": { "dfnID": "leading-surrogate", "dfnText": "leading surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-leading-surrogate" }], "title": "4.6. Code points" }], "url": "#leading-surrogate" },
                "list": { "dfnID": "list", "dfnText": "list", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-list\u2460" }, { "id": "ref-for-list\u2461" }], "title": "3.7. Conditional abort" }, { "refs": [{ "id": "ref-for-list\u2462" }], "title": "3.8. Conditional statements" }, { "refs": [{ "id": "ref-for-list\u2463" }], "title": "3.9. Iteration" }, { "refs": [{ "id": "ref-for-list\u2464" }, { "id": "ref-for-list\u2465" }, { "id": "ref-for-list\u2466" }, { "id": "ref-for-list\u2467" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list\u2468" }, { "id": "ref-for-list\u2460\u24ea" }, { "id": "ref-for-list\u2460\u2460" }, { "id": "ref-for-list\u2460\u2461" }, { "id": "ref-for-list\u2460\u2462" }, { "id": "ref-for-list\u2460\u2463" }, { "id": "ref-for-list\u2460\u2464" }, { "id": "ref-for-list\u2460\u2465" }, { "id": "ref-for-list\u2460\u2466" }, { "id": "ref-for-list\u2460\u2467" }, { "id": "ref-for-list\u2460\u2468" }, { "id": "ref-for-list\u2461\u24ea" }, { "id": "ref-for-list\u2461\u2460" }, { "id": "ref-for-list\u2461\u2461" }, { "id": "ref-for-list\u2461\u2462" }, { "id": "ref-for-list\u2461\u2463" }, { "id": "ref-for-list\u2461\u2464" }, { "id": "ref-for-list\u2461\u2465" }, { "id": "ref-for-list\u2461\u2466" }, { "id": "ref-for-list\u2461\u2467" }, { "id": "ref-for-list\u2461\u2468" }, { "id": "ref-for-list\u2462\u24ea" }, { "id": "ref-for-list\u2462\u2460" }, { "id": "ref-for-list\u2462\u2461" }, { "id": "ref-for-list\u2462\u2462" }, { "id": "ref-for-list\u2462\u2463" }, { "id": "ref-for-list\u2462\u2464" }, { "id": "ref-for-list\u2462\u2465" }, { "id": "ref-for-list\u2462\u2466" }, { "id": "ref-for-list\u2462\u2467" }, { "id": "ref-for-list\u2462\u2468" }, { "id": "ref-for-list\u2463\u24ea" }, { "id": "ref-for-list\u2463\u2460" }, { "id": "ref-for-list\u2463\u2461" }, { "id": "ref-for-list\u2463\u2462" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list\u2463\u2463" }, { "id": "ref-for-list\u2463\u2464" }, { "id": "ref-for-list\u2463\u2465" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list\u2463\u2466" }, { "id": "ref-for-list\u2463\u2467" }, { "id": "ref-for-list\u2463\u2468" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list\u2464\u24ea" }, { "id": "ref-for-list\u2464\u2460" }, { "id": "ref-for-list\u2464\u2461" }, { "id": "ref-for-list\u2464\u2462" }, { "id": "ref-for-list\u2464\u2463" }, { "id": "ref-for-list\u2464\u2464" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list\u2464\u2465" }, { "id": "ref-for-list\u2464\u2466" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-list\u2464\u2467" }, { "id": "ref-for-list\u2464\u2468" }, { "id": "ref-for-list\u2465\u24ea" }, { "id": "ref-for-list\u2465\u2460" }, { "id": "ref-for-list\u2465\u2461" }], "title": "6. JSON" }], "url": "#list" },
                "list-append": { "dfnID": "list-append", "dfnText": "append", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }, { "id": "ref-for-list-append\u2460" }, { "id": "ref-for-list-append\u2461" }, { "id": "ref-for-list-append\u2462" }, { "id": "ref-for-list-append\u2463" }, { "id": "ref-for-list-append\u2464" }, { "id": "ref-for-list-append\u2465" }, { "id": "ref-for-list-append\u2466" }], "title": "3.7. Conditional abort" }, { "refs": [{ "id": "ref-for-list-append\u2467" }, { "id": "ref-for-list-append\u2468" }, { "id": "ref-for-list-append\u2460\u24ea" }, { "id": "ref-for-list-append\u2460\u2460" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2461" }, { "id": "ref-for-list-append\u2460\u2462" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2463" }, { "id": "ref-for-list-append\u2460\u2464" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2465" }, { "id": "ref-for-list-append\u2460\u2466" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2467" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2468" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-list-append\u2461\u24ea" }], "title": "6. JSON" }], "url": "#list-append" },
                "list-clone": { "dfnID": "list-clone", "dfnText": "clone", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-clone" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-clone\u2460" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-clone\u2461" }], "title": "5.2. Maps" }], "url": "#list-clone" },
                "list-contain": { "dfnID": "list-contain", "dfnText": "contains", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }, { "id": "ref-for-list-contain\u2461" }, { "id": "ref-for-list-contain\u2462" }, { "id": "ref-for-list-contain\u2463" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-contain\u2464" }, { "id": "ref-for-list-contain\u2465" }, { "id": "ref-for-list-contain\u2466" }, { "id": "ref-for-list-contain\u2467" }, { "id": "ref-for-list-contain\u2468" }, { "id": "ref-for-list-contain\u2460\u24ea" }], "title": "5.1.3. Sets" }], "url": "#list-contain" },
                "list-empty": { "dfnID": "list-empty", "dfnText": "empty", "external": false, "refSections": [], "url": "#list-empty" },
                "list-extend": { "dfnID": "list-extend", "dfnText": "extend", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-extend" }], "title": "5.1. Lists" }], "url": "#list-extend" },
                "list-get-the-indices": { "dfnID": "list-get-the-indices", "dfnText": "get the indices", "external": false, "refSections": [], "url": "#list-get-the-indices" },
                "list-insert": { "dfnID": "list-insert", "dfnText": "insert", "external": false, "refSections": [], "url": "#list-insert" },
                "list-is-empty": { "dfnID": "list-is-empty", "dfnText": "is empty", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460" }, { "id": "ref-for-list-is-empty\u2461" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-is-empty\u2462" }], "title": "5.1.2. Queues" }], "url": "#list-is-empty" },
                "list-item": { "dfnID": "list-item", "dfnText": "items", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-item\u2460" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-list-item\u2461" }, { "id": "ref-for-list-item\u2462" }, { "id": "ref-for-list-item\u2463" }, { "id": "ref-for-list-item\u2464" }, { "id": "ref-for-list-item\u2465" }, { "id": "ref-for-list-item\u2466" }, { "id": "ref-for-list-item\u2467" }, { "id": "ref-for-list-item\u2468" }, { "id": "ref-for-list-item\u2460\u24ea" }, { "id": "ref-for-list-item\u2460\u2460" }, { "id": "ref-for-list-item\u2460\u2461" }, { "id": "ref-for-list-item\u2460\u2462" }, { "id": "ref-for-list-item\u2460\u2463" }, { "id": "ref-for-list-item\u2460\u2464" }, { "id": "ref-for-list-item\u2460\u2465" }, { "id": "ref-for-list-item\u2460\u2466" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-item\u2460\u2467" }, { "id": "ref-for-list-item\u2460\u2468" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-item\u2461\u24ea" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-item\u2461\u2460" }, { "id": "ref-for-list-item\u2461\u2461" }, { "id": "ref-for-list-item\u2461\u2462" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-item\u2461\u2463" }, { "id": "ref-for-list-item\u2461\u2464" }], "title": "5.2. Maps" }], "url": "#list-item" },
                "list-iterate": { "dfnID": "list-iterate", "dfnText": "iterate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }, { "id": "ref-for-list-iterate\u2460" }, { "id": "ref-for-list-iterate\u2461" }, { "id": "ref-for-list-iterate\u2462" }], "title": "3.9. Iteration" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }, { "id": "ref-for-list-iterate\u2464" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-iterate\u2465" }, { "id": "ref-for-list-iterate\u2466" }, { "id": "ref-for-list-iterate\u2467" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-iterate\u2468" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u24ea" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2460" }, { "id": "ref-for-list-iterate\u2460\u2461" }, { "id": "ref-for-list-iterate\u2460\u2462" }, { "id": "ref-for-list-iterate\u2460\u2463" }, { "id": "ref-for-list-iterate\u2460\u2464" }, { "id": "ref-for-list-iterate\u2460\u2465" }, { "id": "ref-for-list-iterate\u2460\u2466" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2467" }, { "id": "ref-for-list-iterate\u2460\u2468" }, { "id": "ref-for-list-iterate\u2461\u24ea" }, { "id": "ref-for-list-iterate\u2461\u2460" }], "title": "6. JSON" }], "url": "#list-iterate" },
                "list-prepend": { "dfnID": "list-prepend", "dfnText": "prepend", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-prepend" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-prepend\u2460" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-prepend\u2461" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-prepend\u2462" }], "title": "5.1.3. Sets" }], "url": "#list-prepend" },
                "list-remove": { "dfnID": "list-remove", "dfnText": "remove", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }, { "id": "ref-for-list-remove\u2460" }, { "id": "ref-for-list-remove\u2461" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-remove\u2462" }, { "id": "ref-for-list-remove\u2463" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-remove\u2464" }, { "id": "ref-for-list-remove\u2465" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-remove\u2466" }], "title": "5.1.3. Sets" }], "url": "#list-remove" },
                "list-replace": { "dfnID": "list-replace", "dfnText": "replace", "external": false, "refSections": [], "url": "#list-replace" },
                "list-size": { "dfnID": "list-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-size" }, { "id": "ref-for-list-size\u2460" }, { "id": "ref-for-list-size\u2461" }, { "id": "ref-for-list-size\u2462" }, { "id": "ref-for-list-size\u2463" }, { "id": "ref-for-list-size\u2464" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-size\u2465" }], "title": "5.2. Maps" }], "url": "#list-size" },
                "list-sort-in-ascending-order": { "dfnID": "list-sort-in-ascending-order", "dfnText": "sort in ascending order", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-sort-in-ascending-order" }], "title": "5.1. Lists" }], "url": "#list-sort-in-ascending-order" },
                "list-sort-in-descending-order": { "dfnID": "list-sort-in-descending-order", "dfnText": "sort in descending order", "external": false, "refSections": [], "url": "#list-sort-in-descending-order" },
                "map-clear": { "dfnID": "map-clear", "dfnText": "clear", "external": false, "refSections": [], "url": "#map-clear" },
                "map-clone": { "dfnID": "map-clone", "dfnText": "clone", "external": false, "refSections": [], "url": "#map-clone" },
                "map-entry": { "dfnID": "map-entry", "dfnText": "entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-entry" }, { "id": "ref-for-map-entry\u2460" }, { "id": "ref-for-map-entry\u2461" }, { "id": "ref-for-map-entry\u2462" }, { "id": "ref-for-map-entry\u2463" }, { "id": "ref-for-map-entry\u2464" }, { "id": "ref-for-map-entry\u2465" }, { "id": "ref-for-map-entry\u2466" }, { "id": "ref-for-map-entry\u2467" }, { "id": "ref-for-map-entry\u2468" }, { "id": "ref-for-map-entry\u2460\u24ea" }], "title": "5.2. Maps" }], "url": "#map-entry" },
                "map-exists": { "dfnID": "map-exists", "dfnText": "contains an\nentry with a given key", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }, { "id": "ref-for-map-exists\u2460" }, { "id": "ref-for-map-exists\u2461" }, { "id": "ref-for-map-exists\u2462" }, { "id": "ref-for-map-exists\u2463" }], "title": "5.2. Maps" }], "url": "#map-exists" },
                "map-get": { "dfnID": "map-get", "dfnText": "get the value of an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-get" }], "title": "5.2. Maps" }], "url": "#map-get" },
                "map-getting-the-keys": { "dfnID": "map-getting-the-keys", "dfnText": "get the keys", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-keys" }, { "id": "ref-for-map-getting-the-keys\u2460" }, { "id": "ref-for-map-getting-the-keys\u2461" }], "title": "5.2. Maps" }], "url": "#map-getting-the-keys" },
                "map-getting-the-values": { "dfnID": "map-getting-the-values", "dfnText": "get the values", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-values" }, { "id": "ref-for-map-getting-the-values\u2460" }], "title": "5.2. Maps" }], "url": "#map-getting-the-values" },
                "map-is-empty": { "dfnID": "map-is-empty", "dfnText": "is empty", "external": false, "refSections": [], "url": "#map-is-empty" },
                "map-iterate": { "dfnID": "map-iterate", "dfnText": "iterate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-iterate" }], "title": "3.9. Iteration" }, { "refs": [{ "id": "ref-for-map-iterate\u2460" }, { "id": "ref-for-map-iterate\u2461" }], "title": "5.2. Maps" }], "url": "#map-iterate" },
                "map-key": { "dfnID": "map-key", "dfnText": "key", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-key" }, { "id": "ref-for-map-key\u2460" }, { "id": "ref-for-map-key\u2461" }, { "id": "ref-for-map-key\u2462" }, { "id": "ref-for-map-key\u2463" }, { "id": "ref-for-map-key\u2464" }], "title": "5.2. Maps" }], "url": "#map-key" },
                "map-remove": { "dfnID": "map-remove", "dfnText": "remove an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-remove" }], "title": "5.2. Maps" }], "url": "#map-remove" },
                "map-set": { "dfnID": "map-set", "dfnText": "set the value of an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-set" }, { "id": "ref-for-map-set\u2460" }, { "id": "ref-for-map-set\u2461" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-map-set\u2462" }], "title": "6. JSON" }], "url": "#map-set" },
                "map-size": { "dfnID": "map-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-size" }], "title": "5.2. Maps" }], "url": "#map-size" },
                "map-sort-in-ascending-order": { "dfnID": "map-sort-in-ascending-order", "dfnText": "sort in ascending order", "external": false, "refSections": [], "url": "#map-sort-in-ascending-order" },
                "map-sort-in-descending-order": { "dfnID": "map-sort-in-descending-order", "dfnText": "sort in descending order", "external": false, "refSections": [], "url": "#map-sort-in-descending-order" },
                "map-value": { "dfnID": "map-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-value" }, { "id": "ref-for-map-value\u2460" }, { "id": "ref-for-map-value\u2461" }], "title": "5.2. Maps" }], "url": "#map-value" },
                "map-with-default": { "dfnID": "map-with-default", "dfnText": "with default", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-with-default" }, { "id": "ref-for-map-with-default\u2460" }], "title": "5.2. Maps" }], "url": "#map-with-default" },
                "mathml-namespace": { "dfnID": "mathml-namespace", "dfnText": "MathML namespace", "external": false, "refSections": [], "url": "#mathml-namespace" },
                "noncharacter": { "dfnID": "noncharacter", "dfnText": "noncharacter", "external": false, "refSections": [], "url": "#noncharacter" },
                "normalize-newlines": { "dfnID": "normalize-newlines", "dfnText": "normalize newlines", "external": false, "refSections": [], "url": "#normalize-newlines" },
                "ordered-map": { "dfnID": "ordered-map", "dfnText": "ordered map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-ordered-map\u2460" }, { "id": "ref-for-ordered-map\u2461" }, { "id": "ref-for-ordered-map\u2462" }, { "id": "ref-for-ordered-map\u2463" }, { "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }, { "id": "ref-for-ordered-map\u2466" }, { "id": "ref-for-ordered-map\u2467" }, { "id": "ref-for-ordered-map\u2468" }, { "id": "ref-for-ordered-map\u2460\u24ea" }, { "id": "ref-for-ordered-map\u2460\u2460" }, { "id": "ref-for-ordered-map\u2460\u2461" }, { "id": "ref-for-ordered-map\u2460\u2462" }, { "id": "ref-for-ordered-map\u2460\u2463" }, { "id": "ref-for-ordered-map\u2460\u2464" }, { "id": "ref-for-ordered-map\u2460\u2465" }, { "id": "ref-for-ordered-map\u2460\u2466" }, { "id": "ref-for-ordered-map\u2460\u2467" }, { "id": "ref-for-ordered-map\u2460\u2468" }, { "id": "ref-for-ordered-map\u2461\u24ea" }, { "id": "ref-for-ordered-map\u2461\u2460" }, { "id": "ref-for-ordered-map\u2461\u2461" }, { "id": "ref-for-ordered-map\u2461\u2462" }, { "id": "ref-for-ordered-map\u2461\u2463" }, { "id": "ref-for-ordered-map\u2461\u2464" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-ordered-map\u2461\u2465" }, { "id": "ref-for-ordered-map\u2461\u2466" }, { "id": "ref-for-ordered-map\u2461\u2467" }, { "id": "ref-for-ordered-map\u2461\u2468" }, { "id": "ref-for-ordered-map\u2462\u24ea" }], "title": "6. JSON" }], "url": "#ordered-map" },
                "ordered-set": { "dfnID": "ordered-set", "dfnText": "ordered sets", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-ordered-set\u2460" }, { "id": "ref-for-ordered-set\u2461" }, { "id": "ref-for-ordered-set\u2462" }, { "id": "ref-for-ordered-set\u2463" }, { "id": "ref-for-ordered-set\u2464" }, { "id": "ref-for-ordered-set\u2465" }, { "id": "ref-for-ordered-set\u2466" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-ordered-set\u2467" }, { "id": "ref-for-ordered-set\u2468" }, { "id": "ref-for-ordered-set\u2460\u24ea" }, { "id": "ref-for-ordered-set\u2460\u2460" }, { "id": "ref-for-ordered-set\u2460\u2461" }, { "id": "ref-for-ordered-set\u2460\u2462" }, { "id": "ref-for-ordered-set\u2460\u2463" }, { "id": "ref-for-ordered-set\u2460\u2464" }, { "id": "ref-for-ordered-set\u2460\u2465" }, { "id": "ref-for-ordered-set\u2460\u2466" }, { "id": "ref-for-ordered-set\u2460\u2467" }, { "id": "ref-for-ordered-set\u2460\u2468" }, { "id": "ref-for-ordered-set\u2461\u24ea" }, { "id": "ref-for-ordered-set\u2461\u2460" }, { "id": "ref-for-ordered-set\u2461\u2461" }, { "id": "ref-for-ordered-set\u2461\u2462" }, { "id": "ref-for-ordered-set\u2461\u2463" }, { "id": "ref-for-ordered-set\u2461\u2464" }, { "id": "ref-for-ordered-set\u2461\u2465" }, { "id": "ref-for-ordered-set\u2461\u2466" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-ordered-set\u2461\u2467" }, { "id": "ref-for-ordered-set\u2461\u2468" }], "title": "5.2. Maps" }], "url": "#ordered-set" },
                "parse-a-json-string-to-a-javascript-value": { "dfnID": "parse-a-json-string-to-a-javascript-value", "dfnText": "parse a JSON string to a JavaScript value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-parse-a-json-string-to-a-javascript-value" }], "title": "6. JSON" }], "url": "#parse-a-json-string-to-a-javascript-value" },
                "parse-a-json-string-to-an-infra-value": { "dfnID": "parse-a-json-string-to-an-infra-value", "dfnText": "parse a JSON string to an Infra value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-parse-a-json-string-to-an-infra-value" }], "title": "6. JSON" }], "url": "#parse-a-json-string-to-an-infra-value" },
                "parse-json-bytes-to-a-javascript-value": { "dfnID": "parse-json-bytes-to-a-javascript-value", "dfnText": "parse JSON bytes to a JavaScript value", "external": false, "refSections": [], "url": "#parse-json-bytes-to-a-javascript-value" },
                "parse-json-bytes-to-an-infra-value": { "dfnID": "parse-json-bytes-to-an-infra-value", "dfnText": "parse JSON bytes to an Infra value", "external": false, "refSections": [], "url": "#parse-json-bytes-to-an-infra-value" },
                "queue": { "dfnID": "queue", "dfnText": "queues", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-queue" }, { "id": "ref-for-queue\u2460" }, { "id": "ref-for-queue\u2461" }, { "id": "ref-for-queue\u2462" }], "title": "5.1.2. Queues" }], "url": "#queue" },
                "queue-dequeue": { "dfnID": "queue-dequeue", "dfnText": "dequeue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-queue-dequeue" }], "title": "5.1.2. Queues" }], "url": "#queue-dequeue" },
                "queue-enqueue": { "dfnID": "queue-enqueue", "dfnText": "enqueue", "external": false, "refSections": [], "url": "#queue-enqueue" },
                "scalar-value": { "dfnID": "scalar-value", "dfnText": "scalar value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value" }, { "id": "ref-for-scalar-value\u2460" }, { "id": "ref-for-scalar-value\u2461" }], "title": "4.7. Strings" }], "url": "#scalar-value" },
                "scalar-value-string": { "dfnID": "scalar-value-string", "dfnText": "scalar value string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value-string" }, { "id": "ref-for-scalar-value-string\u2460" }, { "id": "ref-for-scalar-value-string\u2461" }, { "id": "ref-for-scalar-value-string\u2462" }, { "id": "ref-for-scalar-value-string\u2463" }, { "id": "ref-for-scalar-value-string\u2464" }, { "id": "ref-for-scalar-value-string\u2465" }], "title": "4.7. Strings" }], "url": "#scalar-value-string" },
                "serialize-a-javascript-value-to-a-json-string": { "dfnID": "serialize-a-javascript-value-to-a-json-string", "dfnText": "serialize a JavaScript value to a JSON string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serialize-a-javascript-value-to-a-json-string" }], "title": "6. JSON" }], "url": "#serialize-a-javascript-value-to-a-json-string" },
                "serialize-a-javascript-value-to-json-bytes": { "dfnID": "serialize-a-javascript-value-to-json-bytes", "dfnText": "serialize a JavaScript value to JSON bytes", "external": false, "refSections": [], "url": "#serialize-a-javascript-value-to-json-bytes" },
                "serialize-an-infra-value-to-a-json-string": { "dfnID": "serialize-an-infra-value-to-a-json-string", "dfnText": "serialize an Infra value to a JSON string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serialize-an-infra-value-to-a-json-string" }, { "id": "ref-for-serialize-an-infra-value-to-a-json-string\u2460" }], "title": "6. JSON" }], "url": "#serialize-an-infra-value-to-a-json-string" },
                "serialize-an-infra-value-to-json-bytes": { "dfnID": "serialize-an-infra-value-to-json-bytes", "dfnText": "serialize an Infra value to JSON bytes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serialize-an-infra-value-to-json-bytes" }], "title": "6. JSON" }], "url": "#serialize-an-infra-value-to-json-bytes" },
                "set-append": { "dfnID": "set-append", "dfnText": "append", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-set-append\u2460" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-set-append\u2461" }, { "id": "ref-for-set-append\u2462" }, { "id": "ref-for-set-append\u2463" }, { "id": "ref-for-set-append\u2464" }, { "id": "ref-for-set-append\u2465" }], "title": "5.1.3. Sets" }], "url": "#set-append" },
                "set-create": { "dfnID": "set-create", "dfnText": "create", "external": false, "refSections": [], "url": "#set-create" },
                "set-difference": { "dfnID": "set-difference", "dfnText": "difference", "external": false, "refSections": [], "url": "#set-difference" },
                "set-equal": { "dfnID": "set-equal", "dfnText": "equal", "external": false, "refSections": [], "url": "#set-equal" },
                "set-extend": { "dfnID": "set-extend", "dfnText": "extend", "external": false, "refSections": [], "url": "#set-extend" },
                "set-intersection": { "dfnID": "set-intersection", "dfnText": "intersection", "external": false, "refSections": [], "url": "#set-intersection" },
                "set-prepend": { "dfnID": "set-prepend", "dfnText": "prepend", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-prepend" }], "title": "5.1. Lists" }], "url": "#set-prepend" },
                "set-replace": { "dfnID": "set-replace", "dfnText": "replace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-replace" }, { "id": "ref-for-set-replace\u2460" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-set-replace\u2461" }], "title": "5.1.3. Sets" }], "url": "#set-replace" },
                "set-subset": { "dfnID": "set-subset", "dfnText": "subset", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-subset" }, { "id": "ref-for-set-subset\u2460" }], "title": "5.1.3. Sets" }], "url": "#set-subset" },
                "set-superset": { "dfnID": "set-superset", "dfnText": "superset", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-superset" }, { "id": "ref-for-set-superset\u2460" }], "title": "5.1.3. Sets" }], "url": "#set-superset" },
                "set-union": { "dfnID": "set-union", "dfnText": "union", "external": false, "refSections": [], "url": "#set-union" },
                "skip-ascii-whitespace": { "dfnID": "skip-ascii-whitespace", "dfnText": "skip ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-skip-ascii-whitespace" }, { "id": "ref-for-skip-ascii-whitespace\u2460" }], "title": "4.7. Strings" }], "url": "#skip-ascii-whitespace" },
                "split-on-ascii-whitespace": { "dfnID": "split-on-ascii-whitespace", "dfnText": "split a\nstring input on ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-split-on-ascii-whitespace" }], "title": "4.7. Strings" }], "url": "#split-on-ascii-whitespace" },
                "split-on-commas": { "dfnID": "split-on-commas", "dfnText": "split a string\ninput on commas", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-split-on-commas" }], "title": "4.7. Strings" }], "url": "#split-on-commas" },
                "stack": { "dfnID": "stack", "dfnText": "stacks", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-stack" }, { "id": "ref-for-stack\u2460" }, { "id": "ref-for-stack\u2461" }, { "id": "ref-for-stack\u2462" }, { "id": "ref-for-stack\u2463" }, { "id": "ref-for-stack\u2464" }], "title": "5.1.1. Stacks" }], "url": "#stack" },
                "stack-peek": { "dfnID": "stack-peek", "dfnText": "peek", "external": false, "refSections": [], "url": "#stack-peek" },
                "stack-pop": { "dfnID": "stack-pop", "dfnText": "pop", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-stack-pop" }], "title": "5.1.1. Stacks" }], "url": "#stack-pop" },
                "stack-push": { "dfnID": "stack-push", "dfnText": "push", "external": false, "refSections": [], "url": "#stack-push" },
                "strictly-split": { "dfnID": "strictly-split", "dfnText": "strictly split a string", "external": false, "refSections": [], "url": "#strictly-split" },
                "string": { "dfnID": "string", "dfnText": "string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-string\u2460" }, { "id": "ref-for-string\u2461" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-string\u2462" }, { "id": "ref-for-string\u2463" }, { "id": "ref-for-string\u2464" }, { "id": "ref-for-string\u2465" }], "title": "3.8. Conditional statements" }, { "refs": [{ "id": "ref-for-string\u2466" }, { "id": "ref-for-string\u2467" }, { "id": "ref-for-string\u2468" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-string\u2460\u24ea" }, { "id": "javascript-string" }, { "id": "ref-for-string\u2460\u2460" }, { "id": "ref-for-string\u2460\u2461" }, { "id": "ref-for-string\u2460\u2462" }, { "id": "ref-for-string\u2460\u2463" }, { "id": "ref-for-string\u2460\u2464" }, { "id": "ref-for-string\u2460\u2465" }, { "id": "ref-for-string\u2460\u2466" }, { "id": "ref-for-string\u2460\u2467" }, { "id": "ref-for-string\u2460\u2468" }, { "id": "ref-for-string\u2461\u24ea" }, { "id": "ref-for-string\u2461\u2460" }, { "id": "ref-for-string\u2461\u2461" }, { "id": "ref-for-string\u2461\u2462" }, { "id": "ref-for-string\u2461\u2463" }, { "id": "ref-for-string\u2461\u2464" }, { "id": "ref-for-string\u2461\u2465" }, { "id": "ref-for-string\u2461\u2466" }, { "id": "ref-for-string\u2461\u2467" }, { "id": "ref-for-string\u2461\u2468" }, { "id": "ref-for-string\u2462\u24ea" }, { "id": "ref-for-string\u2462\u2460" }, { "id": "ref-for-string\u2462\u2461" }, { "id": "ref-for-string\u2462\u2462" }, { "id": "ref-for-string\u2462\u2463" }, { "id": "ref-for-string\u2462\u2464" }, { "id": "ref-for-string\u2462\u2465" }, { "id": "ref-for-string\u2462\u2466" }, { "id": "ref-for-string\u2462\u2467" }, { "id": "ref-for-string\u2462\u2468" }, { "id": "ref-for-string\u2463\u24ea" }, { "id": "ref-for-string\u2463\u2460" }, { "id": "ref-for-string\u2463\u2461" }, { "id": "ref-for-string\u2463\u2462" }, { "id": "ref-for-string\u2463\u2463" }, { "id": "ref-for-string\u2463\u2464" }, { "id": "ref-for-string\u2463\u2465" }, { "id": "ref-for-string\u2463\u2466" }, { "id": "ref-for-string\u2463\u2467" }, { "id": "ref-for-string\u2463\u2468" }, { "id": "ref-for-string\u2464\u24ea" }, { "id": "ref-for-string\u2464\u2460" }, { "id": "ref-for-string\u2464\u2461" }, { "id": "ref-for-string\u2464\u2462" }, { "id": "ref-for-string\u2464\u2463" }, { "id": "ref-for-string\u2464\u2464" }, { "id": "ref-for-string\u2464\u2465" }, { "id": "ref-for-string\u2464\u2466" }, { "id": "ref-for-string\u2464\u2467" }, { "id": "ref-for-string\u2464\u2468" }, { "id": "ref-for-string\u2465\u24ea" }, { "id": "ref-for-string\u2465\u2460" }, { "id": "ref-for-string\u2465\u2461" }, { "id": "ref-for-string\u2465\u2462" }, { "id": "ref-for-string\u2465\u2463" }, { "id": "ref-for-string\u2465\u2464" }, { "id": "ref-for-string\u2465\u2465" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-string\u2465\u2466" }, { "id": "ref-for-string\u2465\u2467" }, { "id": "ref-for-string\u2465\u2468" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-string\u2466\u24ea" }, { "id": "ref-for-string\u2466\u2460" }, { "id": "ref-for-string\u2466\u2461" }, { "id": "ref-for-string\u2466\u2462" }, { "id": "ref-for-string\u2466\u2463" }, { "id": "ref-for-string\u2466\u2464" }, { "id": "ref-for-string\u2466\u2465" }, { "id": "ref-for-string\u2466\u2466" }, { "id": "ref-for-string\u2466\u2467" }, { "id": "ref-for-string\u2466\u2468" }], "title": "6. JSON" }], "url": "#string" },
                "string-code-point-length": { "dfnID": "string-code-point-length", "dfnText": "code point length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-code-point-length" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-string-code-point-length\u2460" }, { "id": "ref-for-string-code-point-length\u2461" }, { "id": "ref-for-string-code-point-length\u2462" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-string-code-point-length\u2463" }, { "id": "ref-for-string-code-point-length\u2464" }], "title": "7. Forgiving base64" }], "url": "#string-code-point-length" },
                "string-concatenate": { "dfnID": "string-concatenate", "dfnText": "concatenate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-concatenate" }], "title": "4.7. Strings" }], "url": "#string-concatenate" },
                "string-ends-with": { "dfnID": "string-ends-with", "dfnText": "ends with", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-ends-with" }], "title": "4.7. Strings" }], "url": "#string-ends-with" },
                "string-is": { "dfnID": "string-is", "dfnText": "is", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-is" }, { "id": "ref-for-string-is\u2460" }, { "id": "ref-for-string-is\u2461" }, { "id": "ref-for-string-is\u2462" }], "title": "4.7. Strings" }], "url": "#string-is" },
                "string-length": { "dfnID": "string-length", "dfnText": "length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-length" }, { "id": "ref-for-string-length\u2460" }, { "id": "ref-for-string-length\u2461" }, { "id": "ref-for-string-length\u2462" }, { "id": "ref-for-string-length\u2463" }, { "id": "ref-for-string-length\u2464" }], "title": "4.7. Strings" }], "url": "#string-length" },
                "string-position-variable": { "dfnID": "string-position-variable", "dfnText": "position variable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-position-variable" }, { "id": "ref-for-string-position-variable\u2460" }, { "id": "ref-for-string-position-variable\u2461" }, { "id": "ref-for-string-position-variable\u2462" }, { "id": "ref-for-string-position-variable\u2463" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-string-position-variable\u2464" }], "title": "7. Forgiving base64" }], "url": "#string-position-variable" },
                "string-starts-with": { "dfnID": "string-starts-with", "dfnText": "starts with", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-starts-with" }], "title": "4.7. Strings" }], "url": "#string-starts-with" },
                "strip-and-collapse-ascii-whitespace": { "dfnID": "strip-and-collapse-ascii-whitespace", "dfnText": "strip and collapse ASCII whitespace", "external": false, "refSections": [], "url": "#strip-and-collapse-ascii-whitespace" },
                "strip-leading-and-trailing-ascii-whitespace": { "dfnID": "strip-leading-and-trailing-ascii-whitespace", "dfnText": "strip leading and trailing ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-strip-leading-and-trailing-ascii-whitespace" }], "title": "4.7. Strings" }], "url": "#strip-leading-and-trailing-ascii-whitespace" },
                "strip-newlines": { "dfnID": "strip-newlines", "dfnText": "strip newlines", "external": false, "refSections": [], "url": "#strip-newlines" },
                "struct": { "dfnID": "struct", "dfnText": "struct", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-struct" }], "title": "3.4. Parameters" }, { "refs": [{ "id": "ref-for-struct\u2460" }], "title": "5.3. Structs" }, { "refs": [{ "id": "ref-for-struct\u2461" }, { "id": "ref-for-struct\u2462" }], "title": "5.3.1. Tuples" }], "url": "#struct" },
                "struct-item": { "dfnID": "struct-item", "dfnText": "items", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }, { "id": "ref-for-struct-item\u2460" }, { "id": "ref-for-struct-item\u2461" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-struct-item\u2462" }, { "id": "ref-for-struct-item\u2463" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-struct-item\u2464" }], "title": "5.3. Structs" }, { "refs": [{ "id": "ref-for-struct-item\u2465" }, { "id": "ref-for-struct-item\u2466" }], "title": "5.3.1. Tuples" }], "url": "#struct-item" },
                "struct-name": { "dfnID": "struct-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-struct-name" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-struct-name\u2460" }, { "id": "ref-for-struct-name\u2461" }, { "id": "ref-for-struct-name\u2462" }], "title": "5.3.1. Tuples" }], "url": "#struct-name" },
                "surrogate": { "dfnID": "surrogate", "dfnText": "surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-surrogate" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-surrogate\u2460" }, { "id": "ref-for-surrogate\u2461" }, { "id": "ref-for-surrogate\u2462" }], "title": "4.7. Strings" }], "url": "#surrogate" },
                "svg-namespace": { "dfnID": "svg-namespace", "dfnText": "SVG namespace", "external": false, "refSections": [], "url": "#svg-namespace" },
                "the-exclusive-range": { "dfnID": "the-exclusive-range", "dfnText": "The range", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-the-exclusive-range" }, { "id": "ref-for-the-exclusive-range\u2460" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-the-exclusive-range\u2461" }], "title": "5.1. Lists" }], "url": "#the-exclusive-range" },
                "the-range": { "dfnID": "the-range", "dfnText": "The range", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-the-range" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-the-range\u2460" }], "title": "6. JSON" }], "url": "#the-range" },
                "tracking-vector": { "dfnID": "tracking-vector", "dfnText": "tracking vector", "external": false, "refSections": [], "url": "#tracking-vector" },
                "trailing-surrogate": { "dfnID": "trailing-surrogate", "dfnText": "trailing surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trailing-surrogate" }], "title": "4.6. Code points" }], "url": "#trailing-surrogate" },
                "tuple": { "dfnID": "tuple", "dfnText": "tuple", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-tuple" }, { "id": "ref-for-tuple\u2460" }, { "id": "ref-for-tuple\u2461" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-tuple\u2462" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-tuple\u2463" }, { "id": "ref-for-tuple\u2464" }, { "id": "ref-for-tuple\u2465" }, { "id": "ref-for-tuple\u2466" }, { "id": "ref-for-tuple\u2467" }, { "id": "ref-for-tuple\u2468" }], "title": "5.3.1. Tuples" }], "url": "#tuple" },
                "user-agent": { "dfnID": "user-agent", "dfnText": "user agent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-user-agent" }, { "id": "ref-for-user-agent\u2460" }], "title": "2.3. Terminology" }], "url": "#user-agent" },
                "willful-violation": { "dfnID": "willful-violation", "dfnText": "willful violation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-willful-violation" }], "title": "2.1. Conformance" }, { "refs": [{ "id": "ref-for-willful-violation\u2460" }], "title": "2.2. Compliance with other specifications" }], "url": "#willful-violation" },
                "xlink-namespace": { "dfnID": "xlink-namespace", "dfnText": "XLink namespace", "external": false, "refSections": [], "url": "#xlink-namespace" },
                "xml-namespace": { "dfnID": "xml-namespace", "dfnText": "XML namespace", "external": false, "refSections": [], "url": "#xml-namespace" },
                "xmlns-namespace": { "dfnID": "xmlns-namespace", "dfnText": "XMLNS namespace", "external": false, "refSections": [], "url": "#xmlns-namespace" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#128-bit-unsigned-integer": { "displayText": "128-bit unsigned integer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "128-bit unsigned integer", "type": "dfn", "url": "#128-bit-unsigned-integer" },
                "#16-bit-unsigned-integer": { "displayText": "16-bit unsigned integer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "16-bit unsigned integer", "type": "dfn", "url": "#16-bit-unsigned-integer" },
                "#abort-when": { "displayText": "abort when", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "abort when", "type": "dfn", "url": "#abort-when" },
                "#ascii-alpha": { "displayText": "ascii alpha", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii alpha", "type": "dfn", "url": "#ascii-alpha" },
                "#ascii-alphanumeric": { "displayText": "ascii alphanumeric", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii alphanumeric", "type": "dfn", "url": "#ascii-alphanumeric" },
                "#ascii-byte": { "displayText": "ascii byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii byte", "type": "dfn", "url": "#ascii-byte" },
                "#ascii-code-point": { "displayText": "ascii code point", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii code point", "type": "dfn", "url": "#ascii-code-point" },
                "#ascii-digit": { "displayText": "ascii digit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii digit", "type": "dfn", "url": "#ascii-digit" },
                "#ascii-lower-alpha": { "displayText": "ascii lower alpha", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii lower alpha", "type": "dfn", "url": "#ascii-lower-alpha" },
                "#ascii-lower-hex-digit": { "displayText": "ascii lower hex digit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii lower hex digit", "type": "dfn", "url": "#ascii-lower-hex-digit" },
                "#ascii-lowercase": { "displayText": "ascii lowercase", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii lowercase", "type": "dfn", "url": "#ascii-lowercase" },
                "#ascii-string": { "displayText": "ascii string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii string", "type": "dfn", "url": "#ascii-string" },
                "#ascii-upper-alpha": { "displayText": "ascii upper alpha", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii upper alpha", "type": "dfn", "url": "#ascii-upper-alpha" },
                "#ascii-upper-hex-digit": { "displayText": "ascii upper hex digit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii upper hex digit", "type": "dfn", "url": "#ascii-upper-hex-digit" },
                "#ascii-uppercase": { "displayText": "ascii uppercase", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii uppercase", "type": "dfn", "url": "#ascii-uppercase" },
                "#ascii-whitespace": { "displayText": "ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii whitespace", "type": "dfn", "url": "#ascii-whitespace" },
                "#assert": { "displayText": "assert", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "assert", "type": "dfn", "url": "#assert" },
                "#boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "boolean", "type": "dfn", "url": "#boolean" },
                "#byte": { "displayText": "byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "byte", "type": "dfn", "url": "#byte" },
                "#byte-lowercase": { "displayText": "byte-lowercase", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "byte-lowercase", "type": "dfn", "url": "#byte-lowercase" },
                "#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "byte sequence", "type": "dfn", "url": "#byte-sequence" },
                "#byte-sequence-length": { "displayText": "length", "export": true, "for_": ["byte sequence"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "length", "type": "dfn", "url": "#byte-sequence-length" },
                "#byte-sequence-prefix": { "displayText": "prefix", "export": true, "for_": ["byte sequence"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "prefix", "type": "dfn", "url": "#byte-sequence-prefix" },
                "#byte-value": { "displayText": "value", "export": true, "for_": ["byte"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "value", "type": "dfn", "url": "#byte-value" },
                "#c0-control": { "displayText": "c0 control", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "c0 control", "type": "dfn", "url": "#c0-control" },
                "#code-point": { "displayText": "code point", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point", "type": "dfn", "url": "#code-point" },
                "#code-point-substring": { "displayText": "code point substring", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point substring", "type": "dfn", "url": "#code-point-substring" },
                "#code-point-substring-by-positions": { "displayText": "code point substring by positions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point substring by positions", "type": "dfn", "url": "#code-point-substring-by-positions" },
                "#code-point-value": { "displayText": "value", "export": true, "for_": ["code point"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "value", "type": "dfn", "url": "#code-point-value" },
                "#code-unit": { "displayText": "code unit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit", "type": "dfn", "url": "#code-unit" },
                "#code-unit-less-than": { "displayText": "code unit less than", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit less than", "type": "dfn", "url": "#code-unit-less-than" },
                "#code-unit-prefix": { "displayText": "code unit prefix", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit prefix", "type": "dfn", "url": "#code-unit-prefix" },
                "#code-unit-substring": { "displayText": "code unit substring", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit substring", "type": "dfn", "url": "#code-unit-substring" },
                "#code-unit-substring-by-positions": { "displayText": "code unit substring by positions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit substring by positions", "type": "dfn", "url": "#code-unit-substring-by-positions" },
                "#code-unit-suffix": { "displayText": "code unit suffix", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit suffix", "type": "dfn", "url": "#code-unit-suffix" },
                "#collect-a-sequence-of-code-points": { "displayText": "collect a sequence of code points", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "collect a sequence of code points", "type": "dfn", "url": "#collect-a-sequence-of-code-points" },
                "#convert-a-json-derived-javascript-value-to-an-infra-value": { "displayText": "convert a json-derived javascript value to an infra value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "convert a json-derived javascript value to an infra value", "type": "dfn", "url": "#convert-a-json-derived-javascript-value-to-an-infra-value" },
                "#convert-an-infra-value-to-a-json-compatible-javascript-value": { "displayText": "convert an infra value to a json-compatible javascript value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "convert an infra value to a json-compatible javascript value", "type": "dfn", "url": "#convert-an-infra-value-to-a-json-compatible-javascript-value" },
                "#forgiving-base64-decode": { "displayText": "forgiving-base64 decode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "forgiving-base64 decode", "type": "dfn", "url": "#forgiving-base64-decode" },
                "#forgiving-base64-encode": { "displayText": "forgiving-base64 encode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "forgiving-base64 encode", "type": "dfn", "url": "#forgiving-base64-encode" },
                "#if-aborted": { "displayText": "if aborted", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "if aborted", "type": "dfn", "url": "#if-aborted" },
                "#implementation": { "displayText": "implementation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "implementation", "type": "dfn", "url": "#implementation" },
                "#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "implementation-defined", "type": "dfn", "url": "#implementation-defined" },
                "#isomorphic-decode": { "displayText": "isomorphic decode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "isomorphic decode", "type": "dfn", "url": "#isomorphic-decode" },
                "#isomorphic-encode": { "displayText": "isomorphic encode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "isomorphic encode", "type": "dfn", "url": "#isomorphic-encode" },
                "#isomorphic-string": { "displayText": "isomorphic string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "isomorphic string", "type": "dfn", "url": "#isomorphic-string" },
                "#iteration-break": { "displayText": "break", "export": true, "for_": ["iteration"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "break", "type": "dfn", "url": "#iteration-break" },
                "#iteration-continue": { "displayText": "continue", "export": true, "for_": ["iteration"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "continue", "type": "dfn", "url": "#iteration-continue" },
                "#iteration-while": { "displayText": "while", "export": true, "for_": ["iteration"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "while", "type": "dfn", "url": "#iteration-while" },
                "#javascript-string-convert": { "displayText": "convert", "export": true, "for_": ["JavaScript string", "string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "convert", "type": "dfn", "url": "#javascript-string-convert" },
                "#leading-surrogate": { "displayText": "leading surrogate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "leading surrogate", "type": "dfn", "url": "#leading-surrogate" },
                "#list": { "displayText": "list", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "list", "type": "dfn", "url": "#list" },
                "#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "append", "type": "dfn", "url": "#list-append" },
                "#list-clone": { "displayText": "clone", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "clone", "type": "dfn", "url": "#list-clone" },
                "#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "contain", "type": "dfn", "url": "#list-contain" },
                "#list-extend": { "displayText": "extend", "export": true, "for_": ["list"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "extend", "type": "dfn", "url": "#list-extend" },
                "#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "is empty", "type": "dfn", "url": "#list-is-empty" },
                "#list-item": { "displayText": "item", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "item", "type": "dfn", "url": "#list-item" },
                "#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "for each", "type": "dfn", "url": "#list-iterate" },
                "#list-prepend": { "displayText": "prepend", "export": true, "for_": ["list"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "prepend", "type": "dfn", "url": "#list-prepend" },
                "#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "remove", "type": "dfn", "url": "#list-remove" },
                "#list-size": { "displayText": "size", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "size", "type": "dfn", "url": "#list-size" },
                "#list-sort-in-ascending-order": { "displayText": "sorting", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "sorting", "type": "dfn", "url": "#list-sort-in-ascending-order" },
                "#map-entry": { "displayText": "entry", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "entry", "type": "dfn", "url": "#map-entry" },
                "#map-exists": { "displayText": "contain", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "contain", "type": "dfn", "url": "#map-exists" },
                "#map-get": { "displayText": "get", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "get", "type": "dfn", "url": "#map-get" },
                "#map-getting-the-keys": { "displayText": "keys", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "keys", "type": "dfn", "url": "#map-getting-the-keys" },
                "#map-getting-the-values": { "displayText": "values", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "values", "type": "dfn", "url": "#map-getting-the-values" },
                "#map-iterate": { "displayText": "for each", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "for each", "type": "dfn", "url": "#map-iterate" },
                "#map-key": { "displayText": "key", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "key", "type": "dfn", "url": "#map-key" },
                "#map-remove": { "displayText": "remove", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "remove", "type": "dfn", "url": "#map-remove" },
                "#map-set": { "displayText": "set", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "set", "type": "dfn", "url": "#map-set" },
                "#map-size": { "displayText": "size", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "size", "type": "dfn", "url": "#map-size" },
                "#map-value": { "displayText": "value", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "value", "type": "dfn", "url": "#map-value" },
                "#map-with-default": { "displayText": "with default", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "with default", "type": "dfn", "url": "#map-with-default" },
                "#ordered-map": { "displayText": "ordered map", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ordered map", "type": "dfn", "url": "#ordered-map" },
                "#ordered-set": { "displayText": "ordered set", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ordered set", "type": "dfn", "url": "#ordered-set" },
                "#parse-a-json-string-to-a-javascript-value": { "displayText": "parse a json string to a javascript value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "parse a json string to a javascript value", "type": "dfn", "url": "#parse-a-json-string-to-a-javascript-value" },
                "#parse-a-json-string-to-an-infra-value": { "displayText": "parse a json string to an infra value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "parse a json string to an infra value", "type": "dfn", "url": "#parse-a-json-string-to-an-infra-value" },
                "#queue": { "displayText": "queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "queue", "type": "dfn", "url": "#queue" },
                "#queue-dequeue": { "displayText": "dequeue", "export": true, "for_": ["queue"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "dequeue", "type": "dfn", "url": "#queue-dequeue" },
                "#scalar-value": { "displayText": "scalar value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "scalar value", "type": "dfn", "url": "#scalar-value" },
                "#scalar-value-string": { "displayText": "scalar value string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "scalar value string", "type": "dfn", "url": "#scalar-value-string" },
                "#serialize-a-javascript-value-to-a-json-string": { "displayText": "serialize a javascript value to a json string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "serialize a javascript value to a json string", "type": "dfn", "url": "#serialize-a-javascript-value-to-a-json-string" },
                "#serialize-an-infra-value-to-a-json-string": { "displayText": "serialize an infra value to a json string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "serialize an infra value to a json string", "type": "dfn", "url": "#serialize-an-infra-value-to-a-json-string" },
                "#serialize-an-infra-value-to-json-bytes": { "displayText": "serialize an infra value to json bytes", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "serialize an infra value to json bytes", "type": "dfn", "url": "#serialize-an-infra-value-to-json-bytes" },
                "#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "append", "type": "dfn", "url": "#set-append" },
                "#set-prepend": { "displayText": "prepend", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "prepend", "type": "dfn", "url": "#set-prepend" },
                "#set-replace": { "displayText": "replace", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "replace", "type": "dfn", "url": "#set-replace" },
                "#set-subset": { "displayText": "subset", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "subset", "type": "dfn", "url": "#set-subset" },
                "#set-superset": { "displayText": "superset", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "superset", "type": "dfn", "url": "#set-superset" },
                "#skip-ascii-whitespace": { "displayText": "skip ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "skip ascii whitespace", "type": "dfn", "url": "#skip-ascii-whitespace" },
                "#split-on-ascii-whitespace": { "displayText": "split on ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "split on ascii whitespace", "type": "dfn", "url": "#split-on-ascii-whitespace" },
                "#split-on-commas": { "displayText": "split on commas", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "split on commas", "type": "dfn", "url": "#split-on-commas" },
                "#stack": { "displayText": "stack", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "stack", "type": "dfn", "url": "#stack" },
                "#stack-pop": { "displayText": "pop", "export": true, "for_": ["stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "pop", "type": "dfn", "url": "#stack-pop" },
                "#string": { "displayText": "string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "string", "type": "dfn", "url": "#string" },
                "#string-code-point-length": { "displayText": "code point length", "export": true, "for_": ["ASCII string", "JavaScript string", "isomorphic string", "scalar value string", "string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point length", "type": "dfn", "url": "#string-code-point-length" },
                "#string-concatenate": { "displayText": "concatenation", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "concatenation", "type": "dfn", "url": "#string-concatenate" },
                "#string-ends-with": { "displayText": "ends with", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ends with", "type": "dfn", "url": "#string-ends-with" },
                "#string-is": { "displayText": "identical to", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "identical to", "type": "dfn", "url": "#string-is" },
                "#string-length": { "displayText": "length", "export": true, "for_": ["ASCII string", "JavaScript string", "isomorphic string", "scalar value string", "string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "length", "type": "dfn", "url": "#string-length" },
                "#string-position-variable": { "displayText": "position variable", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "position variable", "type": "dfn", "url": "#string-position-variable" },
                "#string-starts-with": { "displayText": "starts with", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "starts with", "type": "dfn", "url": "#string-starts-with" },
                "#strip-leading-and-trailing-ascii-whitespace": { "displayText": "strip leading and trailing ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "strip leading and trailing ascii whitespace", "type": "dfn", "url": "#strip-leading-and-trailing-ascii-whitespace" },
                "#struct": { "displayText": "struct", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "struct", "type": "dfn", "url": "#struct" },
                "#struct-item": { "displayText": "item", "export": true, "for_": ["struct", "tuple"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "item", "type": "dfn", "url": "#struct-item" },
                "#struct-name": { "displayText": "name", "export": true, "for_": ["struct", "tuple"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "name", "type": "dfn", "url": "#struct-name" },
                "#surrogate": { "displayText": "surrogate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "surrogate", "type": "dfn", "url": "#surrogate" },
                "#the-exclusive-range": { "displayText": "the exclusive range", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "the exclusive range", "type": "dfn", "url": "#the-exclusive-range" },
                "#the-range": { "displayText": "the range", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "the range", "type": "dfn", "url": "#the-range" },
                "#trailing-surrogate": { "displayText": "trailing surrogate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "trailing surrogate", "type": "dfn", "url": "#trailing-surrogate" },
                "#tuple": { "displayText": "tuple", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "tuple", "type": "dfn", "url": "#tuple" },
                "#user-agent": { "displayText": "user agent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "user agent", "type": "dfn", "url": "#user-agent" },
                "#willful-violation": { "displayText": "willful violation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "willful violation", "type": "dfn", "url": "#willful-violation" },
                "383964c1_https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type": { "displayText": "is a String", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "is a string", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "https://dom.spec.whatwg.org/#characterdata": { "displayText": "CharacterData", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "CharacterData", "type": "interface", "url": "https://dom.spec.whatwg.org/#characterdata" },
                "https://encoding.spec.whatwg.org/#utf-8-decode": { "displayText": "UTF-8 decode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 decode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-decode" },
                "https://encoding.spec.whatwg.org/#utf-8-encode": { "displayText": "UTF-8 encode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 encode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "https://fetch.spec.whatwg.org/#http-whitespace": { "displayText": "HTTP whitespace", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "http whitespace", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#http-whitespace" },
                "https://tc39.github.io/ecma262/#realm": { "displayText": "realm", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "realm", "type": "dfn", "url": "https://tc39.github.io/ecma262/#realm" },
                "https://tc39.github.io/ecma262/#sec-array.prototype.sort": { "displayText": "sort()", "export": true, "for_": ["Array"], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "sort()", "type": "method", "url": "https://tc39.github.io/ecma262/#sec-array.prototype.sort" },
                "https://tc39.github.io/ecma262/#sec-arraycreate": { "displayText": "ArrayCreate", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "ArrayCreate", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-arraycreate" },
                "https://tc39.github.io/ecma262/#sec-call": { "displayText": "Call", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "Call", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-call" },
                "https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow": { "displayText": "CreateDataPropertyOrThrow", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "CreateDataPropertyOrThrow", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow" },
                "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type": { "displayText": "is a Boolean", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "is a boolean", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type" },
                "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type": { "displayText": "is a Number", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "is a number", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type" },
                "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type": { "displayText": "The String Type", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "the string type", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "https://tc39.github.io/ecma262/#sec-get-o-p": { "displayText": "Get", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "Get", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-get-o-p" },
                "https://tc39.github.io/ecma262/#sec-isarray": { "displayText": "IsArray", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "IsArray", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-isarray" },
                "https://tc39.github.io/ecma262/#sec-json.parse": { "displayText": "%JSON.parse%", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "%json.parse%", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-json.parse" },
                "https://tc39.github.io/ecma262/#sec-json.stringify": { "displayText": "%JSON.stringify%", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "%json.stringify%", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-json.stringify" },
                "https://tc39.github.io/ecma262/#sec-list-and-record-specification-type": { "displayText": "List", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "list", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-list-and-record-specification-type" },
                "https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate": { "displayText": "OrdinaryObjectCreate", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "OrdinaryObjectCreate", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate" },
                "https://tc39.github.io/ecma262/#sec-tolength": { "displayText": "ToLength", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "ToLength", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-tolength" },
                "https://tc39.github.io/ecma262/#sec-tostring": { "displayText": "ToString", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "ToString", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-tostring" },
                "https://url.spec.whatwg.org/#concept-host": { "displayText": "host", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "host", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-host" },
                "https://w3c.github.io/hr-time/#dfn-duration": { "displayText": "duration", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "duration", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-duration" },
                "https://w3c.github.io/hr-time/#dfn-moment": { "displayText": "moment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "moment", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-moment" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>