<!DOCTYPE html>
<html lang="ja-JP" dir="ltr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!-- <meta name="generator" content="ReSpec 35.5.1"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>メディアソース拡張™</title>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: italic
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>



    <link rel="stylesheet" href="https://www.w3.org/TR/media-source-2/mse.css">

    <meta name="color-scheme" content="light">
    <!-- <meta name="revision" content="3b3254f4709e3f55e83452b635a875e63795b405"> -->
    <link rel="canonical" href="https://www.w3.org/TR/media-source-2/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "WD",
  "shortName": "media-source-2",
  "prevRecURI": "https://www.w3.org/TR/2016/REC-media-source-20161117/",
  "editors": [
    {
      "name": "Jean-Yves Avenard",
      "mailto": "jya@apple.com",
      "company": "Apple Inc.",
      "companyURL": "https://www.apple.com/",
      "w3cid": "115886",
      "url": "mailto:jya@apple.com"
    },
    {
      "name": "Mark Watson",
      "company": "Netflix Inc.",
      "companyURL": "https://www.netflix.com/",
      "w3cid": "46379"
    }
  ],
  "formerEditors": [
    {
      "name": "Matthew Wolenetz",
      "retiredDate": "2024-02-01",
      "mailto": "matt.wolenetz@gmail.com",
      "company": "W3C Invited Expert",
      "url": "mailto:matt.wolenetz@gmail.com"
    },
    {
      "name": "Jerry Smith",
      "retiredDate": "2017-09-01",
      "company": "Microsoft Corporation",
      "companyURL": "https://www.microsoft.com/"
    },
    {
      "name": "Aaron Colwell",
      "retiredDate": "2015-04-01",
      "company": "Google Inc.",
      "companyURL": "https://www.google.com/"
    },
    {
      "name": "Adrian Bateman",
      "retiredDate": "2015-04-01",
      "company": "Microsoft Corporation",
      "companyURL": "https://www.microsoft.com/"
    }
  ],
  "mseDefGroupName": "media-source",
  "group": "media",
  "github": "w3c/media-source",
  "caniuse": "mediasource",
  "testsuiteURI": "https://wpt.live/media-source/",
  "wgPublicList": "public-media-wg",
  "preProcess": [
    null
  ],
  "postProcess": [
    null
  ],
  "gitRevision": "3b3254f4709e3f55e83452b635a875e63795b405",
  "publishDate": "2025-08-21",
  "previousMaturity": "WD",
  "previousPublishDate": "2025-04-17",
  "publishISODate": "2025-08-21T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 21 August 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body data-cite="WEBIDL html dom url fileapi infra" class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">メディアソース拡張™</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C作業草案</a> <time class="dt-published"
                datetime="2025-08-21">2025年8月21日</time></p>
        <details open="">
            <summary>この文書の詳細情報</summary>
            <dl>
                <dt>このバージョン：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/WD-media-source-2-20250821/">https://www.w3.org/TR/2025/WD-media-source-2-20250821/</a>
                </dd>
                <dt>最新公開バージョン：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/media-source-2/">https://www.w3.org/TR/media-source-2/</a>
                </dd>
                <dt>最新エディタドラフト：</dt>
                <dd><a href="https://w3c.github.io/media-source/">https://w3c.github.io/media-source/</a></dd>
                <dt>履歴：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/media-source-2/">https://www.w3.org/standards/history/media-source-2/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/media-source/commits/">コミット履歴</a>
                </dd>




                <dt>最新の勧告：</dt>
                <dd><a
                        href="https://www.w3.org/TR/2016/REC-media-source-20161117/">https://www.w3.org/TR/2016/REC-media-source-20161117/</a>
                </dd>
                <dt>編集者：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="115886">
                    <a class="ed_mailto u-email email p-name" href="mailto:jya@apple.com">Jean-Yves Avenard</a> (<a
                        class="p-org org h-org" href="https://www.apple.com/">Apple Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="46379">
                    <span class="p-name fn">Mark Watson</span> (<a class="p-org org h-org"
                        href="https://www.netflix.com/">Netflix Inc.</a>)
                </dd>
                <dt>
                    以前の編集者：
                </dt>
                <dd class="editor p-author h-card vcard">
                    <a class="ed_mailto u-email email p-name" href="mailto:matt.wolenetz@gmail.com">Matthew Wolenetz</a>
                    (<span class="p-org org h-org">W3C招聘エキスパート</span>) - <time datetime="2024-02-01">2024年2月1日まで</time>
                </dd>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Jerry Smith</span> (<a class="p-org org h-org"
                        href="https://www.microsoft.com/">Microsoft Corporation</a>) - <time
                        datetime="2017-09-01">2017年9月1日まで</time>
                </dd>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Aaron Colwell</span> (<a class="p-org org h-org"
                        href="https://www.google.com/">Google Inc.</a>) - <time datetime="2015-04-01">2015年4月1日まで</time>
                </dd>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Adrian Bateman</span> (<a class="p-org org h-org"
                        href="https://www.microsoft.com/">Microsoft Corporation</a>) - <time
                        datetime="2015-04-01">2015年4月1日まで</time>
                </dd>

                <dt>フィードバック：</dt>
                <dd>
                    <a href="https://github.com/w3c/media-source/">GitHub w3c/media-source</a>
                    (<a href="https://github.com/w3c/media-source/pulls/">プルリクエスト</a>,
                    <a href="https://github.com/w3c/media-source/issues/new/choose">新しい課題</a>,
                    <a href="https://github.com/w3c/media-source/issues/">公開中の課題</a>)
                </dd>
                <dd><a
                        href="mailto:public-media-wg@w3.org?subject=%5Bmedia-source-2%5D%20YOUR%20TOPIC%20HERE">public-media-wg@w3.org</a>
                    件名 <kbd>[media-source-2] <em>… メッセージトピック …</em></kbd> (<a rel="discussion"
                        href="https://lists.w3.org/Archives/Public/public-media-wg">アーカイブ</a>)</dd>


                <dt class="caniuse-title">ブラウザ対応状況：</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/mediasource">caniuse.com</a></dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>概要</h2>
        この仕様は、<a data-link-type="interface" data-lt="HTMLMediaElement"
            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>] を拡張し、
        JavaScriptによるメディアストリームの生成と再生を可能にします。JavaScriptでストリームを生成できることで、アダプティブストリーミングやライブストリームのタイムシフトなど、さまざまなユースケースに対応できます。
    </section>
    <section id="sotd" class="introductory">
        <h2>この文書のステータス</h2>
        <p><em>このセクションは、公開時点での本
                文書のステータスを説明します。現在の<abbr title="World Wide Web Consortium">W3C</abbr>
                公開文書や、この技術レポートの最新版は
                <a href="https://www.w3.org/TR/"><abbr
                        title="World Wide Web Consortium">W3C</abbr>標準・草案一覧</a>でご覧いただけます。</em></p>
        <p>
            編集上の更新に加え、2016年11月<a
                href="https://www.w3.org/TR/2016/REC-media-source-20161117/">W3C勧告</a>として公開されて以来の主な変更点は以下の通りです：
        </p>
        <ul>
            <li><a data-link-type="idl" data-lt="changeType()" href="#dom-sourcebuffer-changetype" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-changetype-1"><code>changeType</code></a><code>()</code>
                メソッドが追加され、コーデックやバイトストリーム間の切り替えが可能になりました
            </li>
            <li>メインスレッド以外の、専用ワーカー内で<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                    class="internalDFN" id="ref-for-dom-mediasource-1"><code>MediaSource</code></a>オブジェクトの生成・利用が可能になりました
            </li>
            <li><a data-link-type="method" data-lt="createObjectURL()"
                    href="https://www.w3.org/TR/FileAPI/#dfn-createObjectURL"><code>createObjectURL</code></a><code>()</code>
                拡張が、File API[<cite><a class="bibref" data-link-type="biblio" href="#bib-fileapi"
                        title="File API">FILEAPI</a></cite>]統合により<a data-link-type="interface" data-lt="URL"
                    href="https://url.spec.whatwg.org/#url"><code>URL</code></a>オブジェクトから削除されました
            </li>
            <li><a data-link-type="idl" data-lt="ManagedMediaSource" href="#dom-managedmediasource" class="internalDFN"
                    id="ref-for-dom-managedmediasource-1"><code>ManagedMediaSource</code></a>、<a data-link-type="idl"
                    data-lt="ManagedSourceBuffer" href="#dom-managedsourcebuffer" class="internalDFN"
                    id="ref-for-dom-managedsourcebuffer-1"><code>ManagedSourceBuffer</code></a>、<a data-link-type="idl"
                    data-lt="BufferedChangeEvent" href="#dom-bufferedchangeevent" class="internalDFN"
                    id="ref-for-dom-bufferedchangeevent-1"><code>BufferedChangeEvent</code></a>
                インターフェースが追加され、ユーザーエージェントによる省電力ストリーミングやメディアバッファの積極的なクリーンアップをサポートします
            </li>
        </ul>
        <p>
            以前のバージョン以降の変更点詳細は<a href="https://github.com/w3c/media-source/commits/main">コミット履歴</a>をご覧ください。
        </p>
        <p>
            ワーキンググループは<a href="https://github.com/w3c/media-source/issues">編集者が未対応のバグ報告一覧</a>を管理しています。
        </p>
        <p>
            実装者は、この仕様が安定していないことに注意してください。<strong>議論に参加せず実装する場合、仕様が非互換な形で変更される可能性があります。</strong>最終的にCandidate
            Recommendation（CR）段階に到達する前に実装を検討するベンダーは、
            <a href="https://github.com/w3c/media-source">GitHubリポジトリ</a>を追跡し議論に参加してください。
        </p>
        <p>
            この文書は<a href="https://www.w3.org/groups/wg/media">Media Working Group</a>によって
            <a href="https://www.w3.org/policies/process/20250818/#recs-and-notes">勧告トラック</a>を使用して作業草案として公開されました。
        </p>
        <p>作業草案として公開されたことは、<abbr title="World Wide Web Consortium">W3C</abbr>およびそのメンバーによる承認を意味しません。</p>
        <p>
            この文書はドラフトであり、随時更新・差し替え・廃止される可能性があります。進行中の作業以外のものとして引用するのは不適切です。
        </p>
        <p>
            この文書は、
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                特許ポリシー</a>の下で作成されています。
            <abbr title="World Wide Web Consortium">W3C</abbr>は、
            <a rel="disclosure"
                href="https://www.w3.org/groups/wg/media/ipr">公開特許開示リスト</a>を管理しており、グループ成果物に関連する特許開示や開示方法の案内も掲載しています。ある特許に
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">必須クレーム</a>が含まれると判断した場合は、
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C特許ポリシー第6節</a>に従って開示してください。
        </p>
        <p>
            この文書は
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20250818/">2025年8月18日 <abbr
                    title="World Wide Web Consortium">W3C</abbr>プロセス文書</a>に従って管理されています。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">概要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">この文書のステータス</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    はじめに
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#goals"><bdi class="secno">1.1 </bdi>
                            目的
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#definitions"><bdi class="secno">2. </bdi>
                    定義
                </a></li>
            <li class="tocline"><a class="tocxref" href="#mediasource"><bdi class="secno">3. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="MediaSource"
                        data-dfn-for=""><code>MediaSource</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#handle-attribute"><bdi class="secno">3.1 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="handle"
                                data-dfn-for="MediaSource" data-type="MediaSourceHandle" data-lt="handle"
                                data-local-lt="MediaSource.handle"><code>handle</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sourcebuffers-attribute"><bdi class="secno">3.2 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="sourceBuffers" data-dfn-for="MediaSource" data-type="SourceBufferList"
                                data-lt="sourceBuffers"
                                data-local-lt="MediaSource.sourceBuffers"><code>sourceBuffers</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#activesourcebuffers-attribute"><bdi class="secno">3.3
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="activeSourceBuffers" data-dfn-for="MediaSource" data-type="SourceBufferList"
                                data-lt="activeSourceBuffers"
                                data-local-lt="MediaSource.activeSourceBuffers"><code>activeSourceBuffers</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#readystate-attribute"><bdi class="secno">3.4 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="readyState"
                                data-dfn-for="MediaSource" data-type="ReadyState" data-lt="readyState"
                                data-local-lt="MediaSource.readyState"><code>readyState</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#duration-attribute"><bdi class="secno">3.5 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="duration"
                                data-dfn-for="MediaSource" data-type="unrestricted double" data-lt="duration"
                                data-local-lt="MediaSource.duration"><code>duration</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#canconstructindedicatedworker-attribute"><bdi
                                class="secno">3.6 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="canConstructInDedicatedWorker" data-dfn-for="MediaSource"
                                data-type="boolean" data-lt="canConstructInDedicatedWorker"
                                data-local-lt="MediaSource.canConstructInDedicatedWorker"><code>canConstructInDedicatedWorker</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#addsourcebuffer-method"><bdi class="secno">3.7 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation"
                                data-title="addSourceBuffer()" data-dfn-for="MediaSource" data-type="SourceBuffer"
                                data-lt="addSourceBuffer()|addSourceBuffer(type)"
                                data-local-lt="MediaSource.addSourceBuffer|MediaSource.addSourceBuffer()|addSourceBuffer"><code>addSourceBuffer()</code></span>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#removesourcebuffer-method"><bdi class="secno">3.8
                            </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation"
                                data-title="removeSourceBuffer()" data-dfn-for="MediaSource" data-type="undefined"
                                data-lt="removeSourceBuffer()|removeSourceBuffer(sourceBuffer)"
                                data-local-lt="MediaSource.removeSourceBuffer|MediaSource.removeSourceBuffer()|removeSourceBuffer"><code>removeSourceBuffer()</code></span>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#endofstream-method"><bdi class="secno">3.9 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="endOfStream()"
                                data-dfn-for="MediaSource" data-type="undefined"
                                data-lt="endOfStream()|endOfStream(error)"
                                data-local-lt="MediaSource.endOfStream|MediaSource.endOfStream()|endOfStream"><code>endOfStream()</code></span>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#setliveseekablerange-method"><bdi class="secno">3.10
                            </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation"
                                data-title="setLiveSeekableRange()" data-dfn-for="MediaSource" data-type="undefined"
                                data-lt="setLiveSeekableRange()|setLiveSeekableRange(start, end)"
                                data-local-lt="MediaSource.setLiveSeekableRange|MediaSource.setLiveSeekableRange()|setLiveSeekableRange"><code>setLiveSeekableRange()</code></span>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#clearliveseekablerange-method"><bdi class="secno">3.11
                            </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation"
                                data-title="clearLiveSeekableRange()" data-dfn-for="MediaSource" data-type="undefined"
                                data-lt="clearLiveSeekableRange()"
                                data-local-lt="MediaSource.clearLiveSeekableRange|MediaSource.clearLiveSeekableRange()|clearLiveSeekableRange"><code>clearLiveSeekableRange()</code></span>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#istypesupported-method"><bdi class="secno">3.12 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation"
                                data-title="isTypeSupported()" data-dfn-for="MediaSource" data-type="boolean"
                                data-lt="isTypeSupported()|isTypeSupported(type)"
                                data-local-lt="MediaSource.isTypeSupported|MediaSource.isTypeSupported()|isTypeSupported"><code>isTypeSupported()</code></span>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#mediasource-events"><bdi class="secno">3.13 </bdi>
                            イベント概要
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#mediasource-in-worker-communication-model"><bdi
                                class="secno">3.14 </bdi>
                            <span>クロスコンテキスト通信モデル</span>
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#mediasource-algorithms"><bdi class="secno">3.15 </bdi>
                            アルゴリズム
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#mediasource-attach"><bdi class="secno">3.15.1
                                    </bdi>
                                    <span>メディア要素へのアタッチ</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#mediasource-detach"><bdi class="secno">3.15.2
                                    </bdi>
                                    <span>メディア要素からのデタッチ</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#mediasource-seeking"><bdi class="secno">3.15.3
                                    </bdi>
                                    <span>シーク</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#buffer-monitoring"><bdi class="secno">3.15.4
                                    </bdi>
                                    <span>SourceBuffer監視</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#active-source-buffer-changes"><bdi
                                        class="secno">3.15.5 </bdi>
                                    <span>選択/有効化トラック状態の変更</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#duration-change-algorithm"><bdi
                                        class="secno">3.15.6 </bdi>
                                    <span>duration変更</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#end-of-stream-algorithm"><bdi
                                        class="secno">3.15.7 </bdi>
                                    <span>ストリーム終了</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#mirror-if-necessary-algorithm"><bdi
                                        class="secno">3.15.8 </bdi>
                                    <span>必要ならmirror</span>
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#mediasourcehandle"><bdi class="secno">4. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="MediaSourceHandle"
                        data-dfn-for=""><code>MediaSourceHandle</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#transfer"><bdi class="secno">4.1 </bdi>
                            転送
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sourcebuffer"><bdi class="secno">5. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="SourceBuffer"
                        data-dfn-for=""><code>SourceBuffer</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#attributes"><bdi class="secno">5.1 </bdi>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#methods"><bdi class="secno">5.2 </bdi>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#track-buffers"><bdi class="secno">5.3 </bdi>
                            トラックバッファ
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sourcebuffer-events"><bdi class="secno">5.4 </bdi>
                            イベント概要
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sourcebuffer-algorithms"><bdi class="secno">5.5 </bdi>
                            アルゴリズム
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-segment-parser-loop"><bdi
                                        class="secno">5.5.1 </bdi>
                                    <span>セグメントパーサループ</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-reset-parser-state"><bdi
                                        class="secno">5.5.2 </bdi>
                                    <span>パーサ状態のリセット</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-append-error"><bdi
                                        class="secno">5.5.3 </bdi>
                                    <span data-export="">追加エラー</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-prepare-append"><bdi
                                        class="secno">5.5.4 </bdi>
                                    <span>追加準備</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-buffer-append"><bdi
                                        class="secno">5.5.5 </bdi>
                                    <span>バッファ追加</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-range-removal"><bdi
                                        class="secno">5.5.6 </bdi>
                                    <span>範囲削除</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-init-segment-received"><bdi
                                        class="secno">5.5.7 </bdi>
                                    <span>initialization セグメント受信</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-coded-frame-processing"><bdi
                                        class="secno">5.5.8 </bdi>
                                    <span data-export="">コーデッドフレーム処理</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-coded-frame-removal"><bdi
                                        class="secno">5.5.9 </bdi>
                                    <span>コーデッドフレーム除去</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-coded-frame-eviction"><bdi
                                        class="secno">5.5.10 </bdi>
                                    <span>コーデッドフレーム追い出し</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#sourcebuffer-audio-splice-frame-algorithm"><bdi class="secno">5.5.11 </bdi>
                                    <span>音声スプライスフレーム</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#sourcebuffer-audio-splice-rendering-algorithm"><bdi class="secno">5.5.12
                                    </bdi>
                                    <span>音声スプライスレンダリング</span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#sourcebuffer-text-splice-frame-algorithm"><bdi
                                        class="secno">5.5.13 </bdi>
                                    <span>テキストスプライスフレーム</span>
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sourcebufferlist"><bdi class="secno">6. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="SourceBufferList"
                        data-dfn-for=""><code>SourceBufferList</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#attributes-0"><bdi class="secno">6.1 </bdi>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#methods-0"><bdi class="secno">6.2 </bdi>
                            メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sourcebufferlist-events"><bdi class="secno">6.3 </bdi>
                            イベント概要
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#managedmediasource-interface"><bdi class="secno">7. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="ManagedMediaSource"
                        data-dfn-for=""><code>ManagedMediaSource</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#attributes-1"><bdi class="secno">7.1 </bdi>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#event-summary"><bdi class="secno">7.2 </bdi>
                            イベント概要
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#algorithms"><bdi class="secno">7.3 </bdi>
                            アルゴリズム
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#managedsourcebuffer-monitoring"><bdi
                                        class="secno">7.3.1 </bdi>
                                    <code>ManagedSourceBuffer</code> 監視
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#memory-cleanup"><bdi class="secno">7.3.2
                                    </bdi>
                                    <span data-dfn-for="ManagedMediaSource">メモリクリーンアップ</span>
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#bufferedchangeevent-interface"><bdi class="secno">8. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="BufferedChangeEvent"
                        data-dfn-for=""><code>BufferedChangeEvent</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#attributes-2"><bdi class="secno">8.1 </bdi>
                            属性
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#managedsourcebuffer-interface"><bdi class="secno">9. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="ManagedSourceBuffer"
                        data-dfn-for=""><code>ManagedSourceBuffer</code></span> インターフェース
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#attributes-3"><bdi class="secno">9.1 </bdi>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#event-summary-0"><bdi class="secno">9.2 </bdi>
                            イベント概要
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#algorithms-0"><bdi class="secno">9.3 </bdi>
                            アルゴリズム
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#buffered-change"><bdi class="secno">9.3.1
                                    </bdi>
                                    Buffered Change
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#memory-cleanup-0"><bdi class="secno">9.3.2
                                    </bdi>
                                    <span data-dfn-for="ManagedSourceBuffer">メモリクリーンアップ</span>
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#htmlmediaelement-extensions"><bdi class="secno">10. </bdi>
                    HTMLMediaElement拡張
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#htmlmediaelement-extensions-seekable"><bdi
                                class="secno">10.1 </bdi>
                            <span data-xref-type="_IDL_" data-link-type="interface" data-lt="HTMLMediaElement"
                                data-cite="html" data-cite-path="/media.html" data-cite-frag="htmlmediaelement"
                                class="formerLink"><code>HTMLMediaElement</code></span>の<span data-link-type="attribute"
                                data-xref-type="attribute|dict-member|const" data-link-for="HTMLMediaElement"
                                data-xref-for="HTMLMediaElement" data-cite="html" data-cite-path="/media.html"
                                data-cite-frag="dom-media-seekable" class="formerLink"><code>seekable</code></span>
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#htmlmediaelement-extensions-buffered"><bdi
                                class="secno">10.2 </bdi>
                            <span data-xref-type="_IDL_" data-link-type="interface" data-lt="HTMLMediaElement"
                                data-cite="html" data-cite-path="/media.html" data-cite-frag="htmlmediaelement"
                                class="formerLink"><code>HTMLMediaElement</code></span>の<span data-link-type="attribute"
                                data-xref-type="attribute|dict-member|const" data-link-for="HTMLMediaElement"
                                data-xref-for="HTMLMediaElement" data-cite="html" data-cite-path="/media.html"
                                data-cite-frag="dom-media-buffered" class="formerLink"><code>buffered</code></span>
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#htmlmediaelement-extensions-srcobject"><bdi
                                class="secno">10.3 </bdi>
                            <span data-xref-type="_IDL_" data-link-type="interface" data-lt="HTMLMediaElement"
                                data-cite="html" data-cite-path="/media.html" data-cite-frag="htmlmediaelement"
                                class="formerLink"><code>HTMLMediaElement</code></span>の<span data-link-type="attribute"
                                data-xref-type="attribute|dict-member|const" data-link-for="HTMLMediaElement"
                                data-xref-for="HTMLMediaElement" data-cite="html" data-cite-path="/media.html"
                                data-cite-frag="dom-media-srcobject" class="formerLink"><code>srcObject</code></span>
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#audio-track-extensions"><bdi class="secno">11. </bdi>
                    <code>AudioTrack</code>拡張
                </a></li>
            <li class="tocline"><a class="tocxref" href="#video-track-extensions"><bdi class="secno">12. </bdi>
                    <code>VideoTrack</code>拡張
                </a></li>
            <li class="tocline"><a class="tocxref" href="#text-track-extensions"><bdi class="secno">13. </bdi>
                    <code>TextTrack</code>拡張
                </a></li>
            <li class="tocline"><a class="tocxref" href="#byte-stream-formats"><bdi class="secno">14. </bdi>
                    <span data-export="">Byte Stream Formats</span>
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">15. </bdi>適合性</a></li>
            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">16. </bdi>
                    例
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#using-media-source-extensions"><bdi class="secno">16.1
                            </bdi>
                            Media Source Extensionsの使用
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#using-a-managed-media-source"><bdi class="secno">16.2
                            </bdi>
                            Managed Media Sourceの使用
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">17. </bdi>
                    謝辞
                </a></li>
            <li class="tocline"><a class="tocxref" href="#VideoPlaybackQuality"><bdi class="secno">A. </bdi>
                    VideoPlaybackQuality
                </a></li>
            <li class="tocline"><a class="tocxref" href="#issue-summary"><bdi class="secno">B. </bdi>課題の要約</a>
            </li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1
                            </bdi>規範参照</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">C.2
                            </bdi>参考（情報）</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="introduction" class="informative">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                はじめに
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            この仕様は、JavaScriptが&lt;audio&gt;および&lt;video&gt;のメディアストリームを動的に構築できるようにします。MediaSourceオブジェクトを定義し、HTMLMediaElementのメディアデータのソースとして利用できます。MediaSourceオブジェクトは1つ以上の<a
                data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                id="ref-for-dom-sourcebuffer-1"><code>SourceBuffer</code></a>オブジェクトを持ちます。アプリケーションは<a
                data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                id="ref-for-dom-sourcebuffer-2"><code>SourceBuffer</code></a>オブジェクトにデータセグメントを追加し、システム性能やその他の要因に応じて追加データの品質を調整できます。<a
                data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                id="ref-for-dom-sourcebuffer-3"><code>SourceBuffer</code></a>オブジェクトのデータは、音声・映像・テキストのトラックバッファとして管理され、デコード・再生されます。これらの拡張で使用されるバイトストリーム仕様は、バイトストリームフォーマットレジストリ
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-mse-registry"
                    title="Media Source Extensions™ Byte Stream Format Registry">MSE-REGISTRY</a></cite>] で参照できます。
        </p>
        <figure id="fig-media-source-pipeline-model-diagram">
            <a href="https://w3c.github.io/media-source/pipeline_model_description.html#pipelinedesc">
                <picture><img src="https://www.w3.org/TR/media-source-2/pipeline_model.svg" alt="メディアソース・パイプラインモデル図">
                </picture>
            </a>
            <figcaption><a class="self-link" href="#fig-media-source-pipeline-model-diagram">図 <bdi
                        class="figno">1</bdi></a> <span class="fig-title">
                    メディアソース・パイプラインモデル図
                </span></figcaption>
        </figure>
        <section id="goals">
            <div class="header-wrapper">
                <h3 id="x1-1-goals"><bdi class="secno">1.1 </bdi>
                    目的
                </h3><a class="self-link" href="#goals" aria-label="Permalink for Section 1.1"></a>
            </div>

            <p>
                この仕様は以下の目的で設計されました：
            </p>
            <ul>
                <li>JavaScriptがメディア取得方法に依存せずメディアストリームを構築できるようにする。
                </li>
                <li>アダプティブストリーミング、広告挿入、タイムシフト、映像編集などのユースケースに対応するスプライス・バッファリングモデルを定義する。
                </li>
                <li>JavaScriptでのメディア解析の必要性を最小限にする。
                </li>
                <li>可能な限りブラウザーキャッシュを活用する。
                </li>
                <li>バイトストリームフォーマット仕様の要件を提供する。
                </li>
                <li>特定のメディアフォーマットやコーデックの対応を要求しない。
                </li>
            </ul>
            <p>
                この仕様で定義される内容：
            </p>
            <ul>
                <li>ユーザーエージェントがメディアデータを処理する際のウェブアプリケーションとの相互運用性を可能にする規範的動作。
                </li>
                <li>他の仕様が本仕様内で利用するメディアフォーマットを定義できるようにする規範的要件。
                </li>
            </ul>
        </section>
    </section>
    <section id="definitions">
        <div class="header-wrapper">
            <h2 id="x2-definitions"><bdi class="secno">2. </bdi>
                定義
            </h2><a class="self-link" href="#definitions" aria-label="Permalink for Section 2."></a>
        </div>

        <dl>
            <dt>
                <dfn id="dfn-active-track-buffers" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">アクティブ・トラックバッファ</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                        id="ref-for-track-buffer-1">トラックバッファ</a>のうち、<a data-link-type="dfn|abstract-op"
                        href="#dfn-coded-frame" class="internalDFN" id="ref-for-dfn-coded-frame-1">符号化フレーム</a>を、<a
                        data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-enabled"><code>enabled</code></a>
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-audiotracks"><code>audioTracks</code></a>、
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-selected"><code>selected</code></a>
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-videotracks"><code>videoTracks</code></a>、
                    <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-showing">"showing"</a></code>
                    または
                    <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-hidden">"hidden"</a></code>
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-texttracks"><code>textTracks</code></a>
                    に提供するもの。これらのトラックはすべて、<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                        class="internalDFN" id="ref-for-dom-sourcebuffer-4"><code>SourceBuffer</code></a>オブジェクトと、<a
                        data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-activesourcebuffers-1"><code>activeSourceBuffers</code></a>リストに関連付けられます。
                </p>
            </dd>
            <dt>
                <dfn id="dfn-append-window" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">アペンドウィンドウ</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-1">表示タイムスタンプ</a>の範囲で、アペンド時に<a
                        data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-2">符号化フレーム</a>をフィルタリングします。アペンドウィンドウは、開始時刻と終了時刻で構成される連続した時間範囲です。この範囲内の<a
                        data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-2">表示タイムスタンプ</a>を持つ符号化フレームのみ<a data-link-type="idl"
                        data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-5"><code>SourceBuffer</code></a>にアペンドできます。範囲外のフレームはフィルタリングされます。開始・終了時刻は、それぞれ<a
                        data-link-type="idl" href="#dom-sourcebuffer-appendwindowstart" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-appendwindowstart-1"><code>appendWindowStart</code></a>および<a
                        data-link-type="idl" href="#dom-sourcebuffer-appendwindowend" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-appendwindowend-1"><code>appendWindowEnd</code></a>属性で制御されます。
                </p>
            </dd>
            <dt>
                <dfn class="export" data-export="" data-plurals="coded frames" id="dfn-coded-frame" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">符号化フレーム</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-3">表示タイムスタンプ</a>、<a data-link-type="dfn|abstract-op"
                        href="#dfn-decode-timestamp" class="internalDFN"
                        id="ref-for-dfn-decode-timestamp-1">デコードタイムスタンプ</a>、
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-duration" class="internalDFN"
                        id="ref-for-dfn-coded-frame-duration-1">符号化フレーム継続時間</a>を持つメディアデータの単位。
                </p>
            </dd>
            <dt>
                <dfn id="dfn-coded-frame-duration" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">符号化フレーム継続時間</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-3">符号化フレーム</a>の継続時間。映像・テキストの場合、フレームやテキストが表示されるべき時間を示します。音声の場合、フレーム内のすべてのサンプルの合計時間となります。例えば、44100Hzで441サンプルの音声フレームの場合、継続時間は10ミリ秒です。
                </p>
            </dd>
            <dt>
                <dfn id="dfn-coded-frame-end-timestamp" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">符号化フレーム終了タイムスタンプ</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-4">符号化フレーム</a>の<a data-link-type="dfn|abstract-op"
                        href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-4">表示タイムスタンプ</a>と<a data-link-type="dfn|abstract-op"
                        href="#dfn-coded-frame-duration" class="internalDFN"
                        id="ref-for-dfn-coded-frame-duration-2">継続時間</a>の合計。これは、そのフレーム直後の表示タイムスタンプを表します。
                </p>
            </dd>
            <dt>
                <dfn id="dfn-coded-frame-group" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">符号化フレームグループ</dfn>
            </dt>
            <dd>
                <p>
                    隣接しており、ギャップなく単調増加する<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-5">符号化フレーム</a>の<a data-link-type="dfn|abstract-op"
                        href="#dfn-decode-timestamp" class="internalDFN"
                        id="ref-for-dfn-decode-timestamp-2">デコードタイムスタンプ</a>を持つグループ。<a data-link-type="dfn|abstract-op"
                        href="#dfn-coded-frame-processing" class="internalDFN"
                        id="ref-for-dfn-coded-frame-processing-1">符号化フレーム処理</a>アルゴリズムや<a data-link-type="idl"
                        data-lt="abort()" href="#dom-sourcebuffer-abort" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-abort-1"><code>abort</code></a><code>()</code>呼び出しで新しいグループが開始されます。
                </p>
            </dd>
            <dt>
                <dfn data-plurals="decode timestamps" id="dfn-decode-timestamp" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">デコードタイムスタンプ</dfn>
            </dt>
            <dd>
                <p>
                    フレームおよび依存フレームの即時デコード・表示を仮定した場合、フレームをデコードする必要がある最も遅い時刻を示します（これは依存関係の最初のフレームの<a
                        data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-6">表示タイムスタンプ</a>と同じです）。プレゼンテーション順でフレームを順序通りデコードできる場合、デコードタイムスタンプがバイトストリームに存在しない場合は、表示タイムスタンプと同一です。
                </p>
            </dd>
            <dt>
                <dfn class="export" data-export="" data-plurals="initialization segments"
                    id="dfn-initialization-segment" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">初期化セグメント</dfn>
            </dt>
            <dd>
                <p>
                    一連のバイトで、<a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                        id="ref-for-dfn-media-segment-1">メディアセグメント</a>のデコードに必要な初期化情報（コーデック初期化データ、<a
                        data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                        id="ref-for-dfn-track-id-1">トラックID</a>マッピング、タイムスタンプオフセット等）が含まれます。
                </p>
                <div class="note" role="note" id="issue-container-generatedID">
                    <div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>注</span></div>
                    <p class="">
                        バイトストリームフォーマットレジストリ [<cite><a class="bibref" data-link-type="biblio" href="#bib-mse-registry"
                                title="Media Source Extensions™ Byte Stream Format Registry">MSE-REGISTRY</a></cite>]
                        の<a data-link-type="dfn|abstract-op" href="#byte-stream-format-specs" class="internalDFN"
                            id="ref-for-byte-stream-format-specs-1">バイトストリームフォーマット仕様</a>には、フォーマット固有の例が含まれています。
                    </p>
                </div>
            </dd>
            <dt>
                <dfn class="export" data-export="" data-plurals="media segments" id="dfn-media-segment" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">メディアセグメント</dfn>
            </dt>
            <dd>
                <p>
                    一部の<a
                        href="https://html.spec.whatwg.org/multipage/media.html#media-timeline">メディアタイムライン</a>のパケット化・タイムスタンプ付きメディアデータを含むバイト列。常に直近で追加された<a
                        data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                        id="ref-for-dfn-initialization-segment-1">初期化セグメント</a>に関連付けられます。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="3"><span>注</span></div>
                    <p class="">
                        バイトストリームフォーマットレジストリ [<cite><a class="bibref" data-link-type="biblio" href="#bib-mse-registry"
                                title="Media Source Extensions™ Byte Stream Format Registry">MSE-REGISTRY</a></cite>]
                        の<a data-link-type="dfn|abstract-op" href="#byte-stream-format-specs" class="internalDFN"
                            id="ref-for-byte-stream-format-specs-2">バイトストリームフォーマット仕様</a>には、フォーマット固有の例が含まれています。
                    </p>
                </div>
            </dd>
            <dt>
                <dfn id="mediasource-object-url" data-plurals="mediasource object urls" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">MediaSourceオブジェクトURL</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-2"><code>MediaSource</code></a>オブジェクトURLは、<a data-link-type="dfn"
                        href="https://www.w3.org/TR/FileAPI/#blob-url">blob URL</a>であり、<a data-link-type="method"
                        data-lt="createObjectURL()"
                        href="https://www.w3.org/TR/FileAPI/#dfn-createObjectURL"><code>createObjectURL</code></a><code>()</code>で生成されます。HTMLMediaElementに<a
                        data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-3"><code>MediaSource</code></a>オブジェクトをアタッチするために使われます。
                </p>
                <p>
                    これらのURLは<a data-link-type="dfn" href="https://www.w3.org/TR/FileAPI/#blob-url">blob URL</a>と同じですが、<a
                        data-link-type="interface" data-lt="File"
                        href="https://www.w3.org/TR/FileAPI/#dfn-file"><code>File</code></a>や<a
                        data-link-type="interface" data-lt="Blob"
                        href="https://www.w3.org/TR/FileAPI/#dfn-Blob"><code>Blob</code></a>に関する定義は、<a
                        data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-4"><code>MediaSource</code></a>オブジェクトにも適用されます。
                </p>
                <p>
                    MediaSourceオブジェクトURLの<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">オリジン</a>は、<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant
                        settings object</a>です。<a data-link-type="method" data-lt="createObjectURL()"
                        href="https://www.w3.org/TR/FileAPI/#dfn-createObjectURL"><code>createObjectURL</code></a><code>()</code>呼び出し時の<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>のオリジンとなります。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-1">
                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="3"><span>注</span></div>
                    <p class="">
                        例えば、MediaSourceオブジェクトURLの<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">オリジン</a>は、メディア要素が<a
                            href="https://html.spec.whatwg.org/multipage/canvas.html#security-with-canvas-elements">canvasによって利用</a>される方法に影響します。
                    </p>
                </div>
            </dd>
            <dt>
                <dfn id="parent-media-source" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">親MediaSource</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-6"><code>SourceBuffer</code></a>オブジェクトの親MediaSourceは、それを生成した<a
                        data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-5"><code>MediaSource</code></a>オブジェクトです。
                </p>
            </dd>
            <dt>
                <dfn id="presentation-start-time" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">表示開始時刻</dfn>
            </dt>
            <dd>
                <p>
                    表示開始時刻はプレゼンテーションの最も早い時点であり、初期の<a
                        href="https://html.spec.whatwg.org/multipage/media.html#current-playback-position">再生位置</a>や<a
                        href="https://html.spec.whatwg.org/multipage/media.html#earliest-possible-position">可能な最も早い位置</a>を指定します。本仕様で作成されるすべてのプレゼンテーションは表示開始時刻が0です。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-2">
                    <div role="heading" class="note-title marker" id="h-note-2" aria-level="3"><span>注</span></div>
                    <p class="">
                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の<a
                            data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>が、現在の再生位置を含む<a
                            data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>を持つか判定するため、実装は現在の再生位置が表示開始時刻以降かつ最初の<a
                            data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>の開始より前の場合でも、1秒以内など十分短い時間であれば最初の<a
                            data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>再生を許容してよいことがあります。これは多重化ストリームでトラック開始が厳密に0でないことが多いためです。実装はこの許容とは関係なく、実際のバッファ範囲を報告<em
                            class="rfc2119">しなければなりません</em>。
                    </p>
                </div>
            </dd>
            <dt>
                <dfn id="presentation-interval" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">表示区間</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-6">符号化フレーム</a>の表示区間は、<a data-link-type="dfn|abstract-op"
                        href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-8">表示タイムスタンプ</a>から、<a data-link-type="dfn|abstract-op"
                        href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-9">表示タイムスタンプ</a>＋<a data-link-type="dfn|abstract-op"
                        data-lt="coded frame duration" href="#dfn-coded-frame-duration" class="internalDFN"
                        id="ref-for-dfn-coded-frame-duration-3">継続時間</a>までの区間です。例えば、表示タイムスタンプが10秒で継続時間が100ミリ秒なら、表示区間は[10-10.1)です。範囲の開始は含み、終了は含みません。
                </p>
            </dd>
            <dt>
                <dfn id="presentation-order" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">表示順序</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-7">符号化フレーム</a>がプレゼンテーションで表示される順序。表示順序は、<a
                        data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-8">符号化フレーム</a>を表示タイムスタンプの単調増加順で並べることで実現されます。
                </p>
            </dd>
            <dt>
                <dfn id="presentation-timestamp" data-export="" data-plurals="presentation timestamps" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">表示タイムスタンプ</dfn>
            </dt>
            <dd>
                <p>
                    プレゼンテーション内の特定時刻への参照。符号化フレーム内の表示タイムスタンプは、そのフレームが表示されるべき時刻を示します。
                </p>
            </dd>
            <dt>
                <dfn id="random-access-point" data-export="" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">ランダムアクセスポイント</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                        id="ref-for-dfn-media-segment-2">メディアセグメント</a>内で、連続再生・デコードを前のデータに頼らず開始できる位置。映像ならIフレームの位置が該当することが多く、音声は多くのフレームがランダムアクセス可能。映像トラックはランダムアクセスポイントが稀なので、多重化ストリームでもその位置が重要になります。
                </p>
            </dd>
            <dt>
                <dfn id="dfn-sourcebuffer-byte-stream-format-specification" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">SourceBuffer バイトストリームフォーマット仕様</dfn>
            </dt>
            <dd>
                <p>
                    <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-7"><code>SourceBuffer</code></a>インスタンスが受け付けるバイトストリームのフォーマットを記述する<a
                        data-link-type="dfn|abstract-op" href="#byte-stream-format-specs" class="internalDFN"
                        id="ref-for-byte-stream-format-specs-3">バイトストリームフォーマット仕様</a>。<a data-link-type="idl"
                        data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-8"><code>SourceBuffer</code></a>オブジェクトの仕様は、<a data-link-type="idl"
                        data-lt="addSourceBuffer()" href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                        id="ref-for-dom-mediasource-addsourcebuffer-1"><code>addSourceBuffer</code></a><code>()</code>呼び出し時の<var
                        data-type="DOMString">type</var>で初期選択され、<a data-link-type="idl" data-lt="changeType()"
                        href="#dom-sourcebuffer-changetype" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-changetype-2"><code>changeType</code></a><code>()</code>呼び出しで変更できます。
                </p>
            </dd>
            <dt>
                <dfn id="dfn-sourcebuffer-configuration" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn"><code>SourceBuffer</code>構成</dfn>
            </dt>
            <dd>
                <p>
                    単一の<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-6"><code>MediaSource</code></a>インスタンスが所有する、1つ以上の<a
                        data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-9"><code>SourceBuffer</code></a>オブジェクトに分散する特定トラック群。
                </p>
                <p>
                    実装は少なくとも以下の構成のいずれかをサポート<em class="rfc2119">しなければなりません</em>：
                </p>
                <ul>
                    <li>音声トラックおよび/または映像トラックを持つ単一のSourceBuffer
                    </li>
                    <li>1つは音声トラックのみ、もう1つは映像トラックのみを扱う2つのSourceBuffer
                    </li>
                </ul>
                <p>
                    MediaSourceオブジェクトは上記の各構成をサポート<em
                        class="rfc2119">しなければなりません</em>が、同時に複数構成のサポートは必須ではありません。同時・追加構成のサポートは実装品質に依存します。
                </p>
            </dd>
            <dt>
                <dfn data-plurals="track descriptions" id="dfn-track-description" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">トラック記述</dfn>
            </dt>
            <dd>
                <p>
                    バイトストリームフォーマット固有の構造で、<a data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                        id="ref-for-dfn-track-id-2">トラックID</a>、コーデック設定、その他メタデータを提供します。単一の<a
                        data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                        id="ref-for-dfn-initialization-segment-2">初期化セグメント</a>内の各トラック記述には一意な<a
                        data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                        id="ref-for-dfn-track-id-3">トラックID</a>が必要です。トラックIDが一意でない場合、ユーザーエージェントは<a
                        data-link-type="dfn|abstract-op" href="#dfn-append-error" class="internalDFN"
                        id="ref-for-dfn-append-error-2">append error</a>アルゴリズムを実行<em class="rfc2119">しなければなりません</em>。
                </p>
            </dd>
            <dt>
                <dfn data-plurals="track ids" id="dfn-track-id" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">トラックID</dfn>
            </dt>
            <dd>
                <p>
                    トラックIDはバイトストリームフォーマット固有の識別子で、ストリームの特定区間がどのトラックに属するかを示します。<a data-link-type="dfn|abstract-op"
                        href="#dfn-track-description" class="internalDFN"
                        id="ref-for-dfn-track-description-1">トラック記述</a>内のトラックIDは、<a data-link-type="dfn|abstract-op"
                        href="#dfn-media-segment" class="internalDFN"
                        id="ref-for-dfn-media-segment-3">メディアセグメント</a>内の該当区間を識別します。
                </p>
            </dd>
        </dl>
    </section>
    <section id="mediasource" data-dfn-for="MediaSource">
        <div class="header-wrapper">
            <h2 id="x3-mediasource-interface"><bdi class="secno">3. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-mediasource" data-idl="interface"
                    data-title="MediaSource" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>MediaSource</code></dfn> インターフェース
            </h2><a class="self-link" href="#mediasource" aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-8"><code>MediaSource</code></a> インターフェースは、
            <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>用のメディアデータのソースを表します。
            このソースの<a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                id="ref-for-dom-mediasource-readystate-1"><code>readyState</code></a>や、
            プレゼンテーションにメディアデータを追加可能な<a href="#dom-sourcebuffer" class="internalDFN" data-link-type="idl"
                id="ref-for-dom-sourcebuffer-10"><code>SourceBuffer</code></a>オブジェクトのリストを管理します。
            MediaSourceオブジェクトはウェブアプリケーションによって作成され、HTMLMediaElementにアタッチされます。
            アプリケーションは<a href="#dom-sourcebuffer" class="internalDFN" data-link-type="idl"
                id="ref-for-dom-sourcebuffer-11"><code>SourceBuffer</code></a>オブジェクトを
            <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                id="ref-for-dom-mediasource-sourcebuffers-1"><code>sourceBuffers</code></a>で利用し、本ソースへメディアデータを追加します。
            HTMLMediaElementは再生時に<a href="#dom-mediasource" class="internalDFN" data-link-type="idl"
                id="ref-for-dom-mediasource-9"><code>MediaSource</code></a>オブジェクトからメディアデータを取得します。
        </p>
        <p>
            各<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-10"><code>MediaSource</code></a>オブジェクトは、<dfn data-dfn-for="MediaSource"
                data-idl="" data-noexport="" data-dfn-type="attribute" id="dfn-live-seekable-range" tabindex="0"
                aria-haspopup="dialog">[[live seekable
                range]]</dfn>という内部スロットを持ち、これは
            <a
                href="https://html.spec.whatwg.org/multipage/media.html#normalised-timeranges-object">正規化されたTimeRangesオブジェクト</a>を保持します。
            オブジェクト生成時には空の<a data-link-type="interface" data-lt="TimeRanges"
                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>オブジェクトで初期化され、
            <a data-link-type="idl" data-lt="setLiveSeekableRange()" href="#dom-mediasource-setliveseekablerange"
                class="internalDFN"
                id="ref-for-dom-mediasource-setliveseekablerange-1"><code>setLiveSeekableRange</code></a><code>()</code>や
            <a data-link-type="idl" data-lt="clearLiveSeekableRange()" href="#dom-mediasource-clearliveseekablerange"
                class="internalDFN"
                id="ref-for-dom-mediasource-clearliveseekablerange-1"><code>clearLiveSeekableRange</code></a><code>()</code>で管理されます。
            また、<a href="#htmlmediaelement-extensions" data-matched-text="[[[#htmlmediaelement-extensions]]]"
                class="sec-ref"><bdi class="secno">10. </bdi>
                HTMLMediaElement拡張</a>で
            <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の
            <a data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seekable"><code>seekable</code></a>
            の挙動変更にも利用されます。
        </p>
        <p>
            各<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-12"><code>MediaSource</code></a>オブジェクトは、<dfn data-dfn-for="MediaSource"
                data-idl="" data-noexport="" data-dfn-type="attribute" id="dfn-has-ever-been-attached" tabindex="0"
                aria-haspopup="dialog">[[has ever been
                attached]]</dfn>という内部スロットも持ち、これは<a data-link-type="interface" data-lt="boolean"
                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>型です。
            オブジェクト生成時にfalseで初期化され、拡張された
            <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">リソース取得アルゴリズム</a>（<a
                data-link-type="dfn|abstract-op" href="#dfn-attaching-to-a-media-element" class="internalDFN"
                id="ref-for-dfn-attaching-to-a-media-element-1">メディア要素へのアタッチ</a>アルゴリズム）でtrueに設定されます。
            拡張された<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">リソース取得アルゴリズム</a>は、
            この内部スロットを用いて、<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-14"><code>MediaSource</code></a>の
            <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                id="ref-for-dom-mediasourcehandle-1"><code>MediaSourceHandle</code></a>を
            <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の
            <a data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
            属性に設定してアタッチする際に条件付きで失敗させるために使用します。
        </p>
        <pre class="idl def" id="webidl-26865842"><span class="idlHeader"><a class="self-link" href="#webidl-26865842">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-readystate" data-title="ReadyState">enum <dfn data-export="" data-dfn-type="enum" id="dom-readystate" data-idl="enum" data-title="ReadyState" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>ReadyState</code></dfn> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-readystate-closed" id="ref-for-dom-readystate-closed-1"><code>closed</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-readystate-open" id="ref-for-dom-readystate-open-1"><code>open</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-readystate-ended" id="ref-for-dom-readystate-ended-1"><code>ended</code></a>"</span>,
};</span></code></pre>
        <dl data-dfn-for="ReadyState">
            <dt>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-readystate-closed" data-idl="enum-value"
                    data-title="closed" data-dfn-for="ReadyState" tabindex="0"
                    aria-haspopup="dialog"><code>closed</code></dfn>
            </dt>
            <dd>
                このソースは現在メディア要素にアタッチされていないことを示します。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-readystate-open" data-idl="enum-value"
                    data-title="open" data-dfn-for="ReadyState" tabindex="0"
                    aria-haspopup="dialog"><code>open</code></dfn>
            </dt>
            <dd>
                ソースがメディア要素によってオープンされ、
                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-12"><code>SourceBuffer</code></a>オブジェクト（<a data-link-type="idl"
                    data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-15"><code>MediaSource</code></a>の<a data-link-type="idl"
                    href="#dom-mediasource-sourcebuffers" class="internalDFN"
                    id="ref-for-dom-mediasource-sourcebuffers-2"><code>sourceBuffers</code></a>）へデータ追加可能な状態です。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-readystate-ended" data-idl="enum-value"
                    data-title="ended" data-dfn-for="ReadyState" tabindex="0"
                    aria-haspopup="dialog"><code>ended</code></dfn>
            </dt>
            <dd>
                ソースはまだメディア要素にアタッチされていますが、
                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-16"><code>MediaSource</code></a>の
                <a data-link-type="idl" data-lt="endOfStream()" href="#dom-mediasource-endofstream" class="internalDFN"
                    id="ref-for-dom-mediasource-endofstream-1"><code>endOfStream</code></a><code>()</code>が呼び出されています。
            </dd>
        </dl>
        <div class="issue" id="issue-container-number-276">
            <div role="heading" class="issue-title marker" id="h-issue" aria-level="3"><a
                    href="https://github.com/w3c/media-source/issues/276"><span class="issue-number">Issue
                        276</span></a><span class="issue-label">: MSE-in-Workers:
                    「closing」readyStateを追加して、クローズ中の新しい`InvalidStateError`例外を説明することを検討 <a class="respec-gh-label"
                        href="https://github.com/w3c/media-source/issues/?q=is%3Aissue+is%3Aopen+label%3A%22mse-in-workers%22"
                        style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);"
                        aria-label="GitHub label: mse-in-workers">mse-in-workers</a></span></div>
            <aside class="">
                <p>
                    ソースがメディア要素から同時にデタッチ中であることを示す「<code>closing</code>」<a data-link-type="idl"
                        href="#dom-mediasource-readystate" class="internalDFN"
                        id="ref-for-dom-mediasource-readystate-2"><code>ReadyState</code></a>の追加を検討してください。
                    これは、<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-17"><code>MediaSource</code></a>や<a data-link-type="idl"
                        data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-13"><code>SourceBuffer</code></a>の
                    <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>での一部実装に有用です。
                </p>
            </aside>
        </div>
        <pre class="idl def" id="webidl-1031259774"><span class="idlHeader"><a class="self-link" href="#webidl-1031259774">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-endofstreamerror" data-title="EndOfStreamError">enum <dfn data-export="" data-dfn-type="enum" id="dom-endofstreamerror" data-idl="enum" data-title="EndOfStreamError" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>EndOfStreamError</code></dfn> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-endofstreamerror-network" id="ref-for-dom-endofstreamerror-network-1"><code>network</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-endofstreamerror-decode" id="ref-for-dom-endofstreamerror-decode-1"><code>decode</code></a>"</span>,
};</span></code></pre>
        <dl data-dfn-for="EndOfStreamError">
            <dt>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-endofstreamerror-network" data-idl="enum-value"
                    data-title="network" data-dfn-for="EndOfStreamError" tabindex="0"
                    aria-haspopup="dialog"><code>network</code></dfn>
            </dt>
            <dd>
                <p>
                    再生を終了し、ネットワークエラーの発生を通知します。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-3">
                    <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>注</span></div>
                    <p class="">
                        JavaScriptアプリケーションは、ネットワークエラーで再生を終了する際にこのステータスコードを利用<em class="rfc2119">すべきです</em>。
                        例：メディアデータ取得中にネットワークエラーが発生した場合。
                    </p>
                </div>
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-endofstreamerror-decode" data-idl="enum-value"
                    data-title="decode" data-dfn-for="EndOfStreamError" tabindex="0"
                    aria-haspopup="dialog"><code>decode</code></dfn>
            </dt>
            <dd>
                <p>
                    再生を終了し、デコードエラーの発生を通知します。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-4">
                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="3"><span>注</span></div>
                    <p class="">
                        JavaScriptアプリケーションは、デコードエラーで再生を終了する際にこのステータスコードを利用<em class="rfc2119">すべきです</em>。
                        例：帯域外のメディアデータ処理時にパースエラーが発生した場合。
                    </p>
                </div>
            </dd>
        </dl>
        <pre class="idl def" id="webidl-1502719514"><span class="idlHeader"><a class="self-link" href="#webidl-1502719514">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-mediasource" data-title="MediaSource">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediasource" id="ref-for-dom-mediasource-18"><code>MediaSource</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-mediasource-constructor" data-title="constructor" data-dfn-for="MediaSource">
    <dfn data-export="" data-dfn-type="constructor" id="dom-mediasource-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="MediaSource" data-lt="constructor()" data-local-lt="MediaSource.constructor|MediaSource.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>();</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-handle" data-title="handle" data-dfn-for="MediaSource">

    [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=DedicatedWorker</span>]
    readonly  attribute<span class="idlType"> <a data-link-type="idl" href="#dom-mediasourcehandle" class="internalDFN" id="ref-for-dom-mediasourcehandle-2"><code>MediaSourceHandle</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediasource-handle" id="ref-for-dom-mediasource-handle-1"><code>handle</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-sourcebuffers" data-title="sourceBuffers" data-dfn-for="MediaSource">
    readonly  attribute<span class="idlType"> <a data-link-type="idl" href="#dom-sourcebufferlist" class="internalDFN" id="ref-for-dom-sourcebufferlist-1"><code>SourceBufferList</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediasource-sourcebuffers" id="ref-for-dom-mediasource-sourcebuffers-3"><code>sourceBuffers</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-activesourcebuffers" data-title="activeSourceBuffers" data-dfn-for="MediaSource">
    readonly  attribute<span class="idlType"> <a data-link-type="idl" href="#dom-sourcebufferlist" class="internalDFN" id="ref-for-dom-sourcebufferlist-2"><code>SourceBufferList</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediasource-activesourcebuffers" id="ref-for-dom-mediasource-activesourcebuffers-2"><code>activeSourceBuffers</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-readystate" data-title="readyState" data-dfn-for="MediaSource">
    readonly  attribute<span class="idlType"> <a data-link-type="idl" href="#dom-readystate" class="internalDFN" id="ref-for-dom-readystate-1"><code>ReadyState</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediasource-readystate" id="ref-for-dom-mediasource-readystate-3"><code>readyState</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-duration" data-title="duration" data-dfn-for="MediaSource">

    attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double">unrestricted double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediasource-duration" id="ref-for-dom-mediasource-duration-1"><code>duration</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-onsourceopen" data-title="onsourceopen" data-dfn-for="MediaSource">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-onsourceopen" data-idl="attribute" data-title="onsourceopen" data-dfn-for="MediaSource" data-type="EventHandler" data-lt="onsourceopen" data-local-lt="MediaSource.onsourceopen" class="idlName" tabindex="0" aria-haspopup="dialog"><code>onsourceopen</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-onsourceended" data-title="onsourceended" data-dfn-for="MediaSource">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-onsourceended" data-idl="attribute" data-title="onsourceended" data-dfn-for="MediaSource" data-type="EventHandler" data-lt="onsourceended" data-local-lt="MediaSource.onsourceended" class="idlName" tabindex="0" aria-haspopup="dialog"><code>onsourceended</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-onsourceclose" data-title="onsourceclose" data-dfn-for="MediaSource">
    attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-onsourceclose" data-idl="attribute" data-title="onsourceclose" data-dfn-for="MediaSource" data-type="EventHandler" data-lt="onsourceclose" data-local-lt="MediaSource.onsourceclose" class="idlName" tabindex="0" aria-haspopup="dialog"><code>onsourceclose</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediasource-canconstructindedicatedworker" data-title="canConstructInDedicatedWorker" data-dfn-for="MediaSource">

    static readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediasource-canconstructindedicatedworker" id="ref-for-dom-mediasource-canconstructindedicatedworker-1"><code>canConstructInDedicatedWorker</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-mediasource-addsourcebuffer-type" data-title="addSourceBuffer" data-dfn-for="MediaSource"><span class="idlType">

    <a data-link-type="idl" href="#dom-sourcebuffer" class="internalDFN" id="ref-for-dom-sourcebuffer-14"><code>SourceBuffer</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediasource-addsourcebuffer" id="ref-for-dom-mediasource-addsourcebuffer-2"><code>addSourceBuffer</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>);</span><span data-idl="" class="idlMethod" id="idl-def-mediasource-removesourcebuffer-sourcebuffer" data-title="removeSourceBuffer" data-dfn-for="MediaSource"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediasource-removesourcebuffer" id="ref-for-dom-mediasource-removesourcebuffer-1"><code>removeSourceBuffer</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-sourcebuffer" class="internalDFN" id="ref-for-dom-sourcebuffer-15"><code>SourceBuffer</code></a></span> <span class="idlParamName">sourceBuffer</span>);</span><span data-idl="" class="idlMethod" id="idl-def-mediasource-endofstream-error" data-title="endOfStream" data-dfn-for="MediaSource"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediasource-endofstream" id="ref-for-dom-mediasource-endofstream-2"><code>endOfStream</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-endofstreamerror" class="internalDFN" id="ref-for-dom-endofstreamerror-1"><code>EndOfStreamError</code></a></span> <span class="idlParamName">error</span>);</span><span data-idl="" class="idlMethod" id="idl-def-mediasource-setliveseekablerange-start-end" data-title="setLiveSeekableRange" data-dfn-for="MediaSource"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediasource-setliveseekablerange" id="ref-for-dom-mediasource-setliveseekablerange-2"><code>setLiveSeekableRange</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span> <span class="idlParamName">start</span>,<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span> <span class="idlParamName">end</span>);</span><span data-idl="" class="idlMethod" id="idl-def-mediasource-clearliveseekablerange" data-title="clearLiveSeekableRange" data-dfn-for="MediaSource"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediasource-clearliveseekablerange" id="ref-for-dom-mediasource-clearliveseekablerange-2"><code>clearLiveSeekableRange</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediasource-istypesupported-type" data-title="isTypeSupported" data-dfn-for="MediaSource">
    static<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediasource-istypesupported" id="ref-for-dom-mediasource-istypesupported-1"><code>isTypeSupported</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>);</span>
};</span></code></pre>
        <section id="handle-attribute">
            <div class="header-wrapper">
                <h3 id="x3-1-handle-attribute"><bdi class="secno">3.1 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-handle" data-idl="attribute"
                        data-title="handle" data-dfn-for="MediaSource" data-type="MediaSourceHandle" data-lt="handle"
                        data-local-lt="MediaSource.handle" tabindex="0" aria-haspopup="dialog"><code>handle</code></dfn>
                    属性
                </h3><a class="self-link" href="#handle-attribute" aria-label="Permalink for Section 3.1"></a>
            </div>
            <p>
                この属性は、専用ワーカーの<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-19"><code>MediaSource</code></a>オブジェクトを
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                の<a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
                経由でアタッチするのに役立つハンドルを保持します。このhandleは、この<a data-link-type="idl" data-lt="MediaSource"
                    href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-20"><code>MediaSource</code></a>オブジェクトに対する属性アクセス間で同一のオブジェクトですが、
                各<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-21"><code>MediaSource</code></a>オブジェクトごとに異なります。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-5">
                <div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>注</span></div>
                <p class="">
                    この仕様は将来的に、メインWindowコンテキスト上の<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                        class="internalDFN" id="ref-for-dom-mediasource-22"><code>MediaSource</code></a>
                    オブジェクトでもこの属性を可視化できるようになる可能性があります。その場合、属性アクセス時に例外が発生するなど、後方非互換な変更を防ぐため、仕様上の配慮が必要となります。
                </p>
            </div>
            <p>
                取得時、以下の手順を実行します：
            </p>
            <ol>
                <li>この<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-23"><code>MediaSource</code></a>オブジェクトのhandleが
                    まだ作成されていない場合、次の手順を実行：
                    <ol>
                        <li><var data-type="MediaSourceHandle">created handle</var>に、新しい
                            <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                                class="internalDFN"
                                id="ref-for-dom-mediasourcehandle-3"><code>MediaSourceHandle</code></a>オブジェクトと関連リソースを生成し、内部的に
                            この<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-24"><code>MediaSource</code></a>へリンクする。
                        </li>
                        <li>属性値を<var data-type="MediaSourceHandle">created handle</var>に更新する。
                        </li>
                    </ol>
                </li>
                <li>この属性値である<a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-4"><code>MediaSourceHandle</code></a>
                    オブジェクトを返す。
                </li>
            </ol>
        </section>
        <section id="sourcebuffers-attribute">
            <div class="header-wrapper">
                <h3 id="x3-2-sourcebuffers-attribute"><bdi class="secno">3.2 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-sourcebuffers"
                        data-idl="attribute" data-title="sourceBuffers" data-dfn-for="MediaSource"
                        data-type="SourceBufferList" data-lt="sourceBuffers" data-local-lt="MediaSource.sourceBuffers"
                        tabindex="0" aria-haspopup="dialog"><code>sourceBuffers</code></dfn> 属性
                </h3><a class="self-link" href="#sourcebuffers-attribute" aria-label="Permalink for Section 3.2"></a>
            </div>
            <p>
                この属性は、この<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-25"><code>MediaSource</code></a>に関連付けられた
                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-16"><code>SourceBuffer</code></a>オブジェクトのリストを保持します。
                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-26"><code>MediaSource</code></a>の<a data-link-type="idl"
                    href="#dom-mediasource-readystate" class="internalDFN"
                    id="ref-for-dom-mediasource-readystate-4"><code>readyState</code></a>が"<a data-link-type="idl"
                    href="#dom-readystate-closed" class="internalDFN"
                    id="ref-for-dom-readystate-closed-2"><code>closed</code></a>"の場合、
                このリストは空になります。<a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                    id="ref-for-dom-mediasource-readystate-5"><code>readyState</code></a>が"<a data-link-type="idl"
                    href="#dom-readystate-open" class="internalDFN"
                    id="ref-for-dom-readystate-open-2"><code>open</code></a>"に遷移すると、
                <a data-link-type="idl" data-lt="addSourceBuffer()" href="#dom-mediasource-addsourcebuffer"
                    class="internalDFN"
                    id="ref-for-dom-mediasource-addsourcebuffer-3"><code>addSourceBuffer</code></a><code>()</code>で
                このリストにSourceBufferオブジェクトを追加できます。
            </p>
        </section>
        <section id="activesourcebuffers-attribute">
            <div class="header-wrapper">
                <h3 id="x3-3-activesourcebuffers-attribute"><bdi class="secno">3.3 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-activesourcebuffers"
                        data-idl="attribute" data-title="activeSourceBuffers" data-dfn-for="MediaSource"
                        data-type="SourceBufferList" data-lt="activeSourceBuffers"
                        data-local-lt="MediaSource.activeSourceBuffers" tabindex="0"
                        aria-haspopup="dialog"><code>activeSourceBuffers</code></dfn> 属性
                </h3><a class="self-link" href="#activesourcebuffers-attribute"
                    aria-label="Permalink for Section 3.3"></a>
            </div>
            <p>
                この属性は、<a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                    id="ref-for-dom-mediasource-sourcebuffers-4"><code>sourceBuffers</code></a>のうち、
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-selected"><code>selected</code></a>
                な映像トラック、<a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-enabled"><code>enabled</code></a>
                な音声トラック、そして
                <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-showing">"showing"</a></code>
                や
                <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-hidden">"hidden"</a></code>
                なテキストトラックを提供しているSourceBufferの部分集合を保持します。
            </p>
            <p>
                このリスト内の<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-17"><code>SourceBuffer</code></a>オブジェクトは、
                <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                    id="ref-for-dom-mediasource-sourcebuffers-5"><code>sourceBuffers</code></a>属性内での順序と同じ順番で
                <em class="rfc2119">なければなりません</em>。例：sourceBuffers[0]とsourceBuffers[3]のみが
                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                    id="ref-for-dom-mediasource-activesourcebuffers-3"><code>activeSourceBuffers</code></a>の場合、
                activeSourceBuffers[0] <em class="rfc2119">は</em> sourceBuffers[0]と等しく、activeSourceBuffers[1] <em
                    class="rfc2119">は</em> sourceBuffers[3]と等しくなります。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-6">
                <div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>注</span></div>
                <p class="">
                    <a href="#active-source-buffer-changes" data-matched-text="[[[#active-source-buffer-changes]]]"
                        class="sec-ref"><bdi class="secno">3.15.5 </bdi>
                        <span>選択/有効トラック状態の変更</span></a>で、この属性の更新方法が説明されています。
                </p>
            </div>
        </section>
        <section id="readystate-attribute">
            <div class="header-wrapper">
                <h3 id="x3-4-readystate-attribute"><bdi class="secno">3.4 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-readystate" data-idl="attribute"
                        data-title="readyState" data-dfn-for="MediaSource" data-type="ReadyState" data-lt="readyState"
                        data-local-lt="MediaSource.readyState" tabindex="0"
                        aria-haspopup="dialog"><code>readyState</code></dfn> 属性
                </h3><a class="self-link" href="#readystate-attribute" aria-label="Permalink for Section 3.4"></a>
            </div>
            <p>
                <a href="#dom-mediasource" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-mediasource-27"><code>MediaSource</code></a>オブジェクトの現在の状態を示します。
                <a href="#dom-mediasource" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-mediasource-28"><code>MediaSource</code></a>
                が生成された時、<a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                    id="ref-for-dom-mediasource-readystate-6"><code>readyState</code></a>は"<a data-link-type="idl"
                    href="#dom-readystate-closed" class="internalDFN"
                    id="ref-for-dom-readystate-closed-3"><code>closed</code></a>"に
                <em class="rfc2119">設定されていなければなりません</em>。
            </p>
        </section>
        <section id="duration-attribute">
            <div class="header-wrapper">
                <h3 id="x3-5-duration-attribute"><bdi class="secno">3.5 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-duration" data-idl="attribute"
                        data-title="duration" data-dfn-for="MediaSource" data-type="unrestricted double"
                        data-lt="duration" data-local-lt="MediaSource.duration" tabindex="0"
                        aria-haspopup="dialog"><code>duration</code></dfn> 属性
                </h3><a class="self-link" href="#duration-attribute" aria-label="Permalink for Section 3.5"></a>
            </div>
            <p>
                Webアプリケーションがプレゼンテーションのduration（継続時間）を設定できます。<a href="#dom-mediasource" class="internalDFN"
                    data-link-type="idl"
                    id="ref-for-dom-mediasource-29"><code>MediaSource</code></a>オブジェクト生成時、durationは最初にNaNとなります。
            </p>
            <p>
                取得時、以下の手順を実行します：
            </p>
            <ol>
                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                        id="ref-for-dom-mediasource-readystate-7"><code>readyState</code></a>属性が"<a data-link-type="idl"
                        href="#dom-readystate-closed" class="internalDFN"
                        id="ref-for-dom-readystate-closed-4"><code>closed</code></a>"の場合、
                    NaNを返して手順を中止する。
                </li>
                <li>属性の現在値を返す。
                </li>
            </ol>
            <p>
                設定時、以下の手順を実行します：
            </p>
            <ol>
                <li>設定値が負またはNaNなら、<a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                    例外を投げて手順を中止する。
                </li>
                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                        id="ref-for-dom-mediasource-readystate-8"><code>readyState</code></a>属性が"<a data-link-type="idl"
                        href="#dom-readystate-open" class="internalDFN"
                        id="ref-for-dom-readystate-open-3"><code>open</code></a>"でない場合、
                    <a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                    例外を投げて手順を中止する。
                </li>
                <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-updating-1"><code>updating</code></a>属性が
                    <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-18"><code>SourceBuffer</code></a>のいずれかでtrueなら、
                    <a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                    例外を投げて手順を中止する。
                </li>
                <li><var data-type="unrestricted double">new duration</var>にこの属性へ代入される値をセットし、
                    <a data-link-type="dfn|abstract-op" href="#dfn-duration-change" class="internalDFN"
                        id="ref-for-dfn-duration-change-1">duration change</a>アルゴリズムを実行する。
                    <div class="note" role="note" id="issue-container-generatedID-7">
                        <div role="heading" class="note-title marker" id="h-note-7" aria-level="3"><span>注</span>
                        </div>
                        <p class="">
                            <a data-link-type="dfn|abstract-op" href="#dfn-duration-change" class="internalDFN"
                                id="ref-for-dfn-duration-change-2">duration change</a>アルゴリズムは、現在バッファされている
                            end timeがより大きい符号化フレームがあれば、<var data-type="unrestricted double">new duration</var>を
                            より大きい値に調整します。
                        </p>
                    </div>
                    <div class="note" role="note" id="issue-container-generatedID-8">
                        <div role="heading" class="note-title marker" id="h-note-8" aria-level="3"><span>注</span>
                        </div>
                        <p class="">
                            <a data-link-type="idl" data-lt="appendBuffer()" href="#dom-sourcebuffer-appendbuffer"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-appendbuffer-1"><code>appendBuffer</code></a><code>()</code>
                            や<a data-link-type="idl" data-lt="endOfStream()" href="#dom-mediasource-endofstream"
                                class="internalDFN"
                                id="ref-for-dom-mediasource-endofstream-3"><code>endOfStream</code></a><code>()</code>
                            は、状況によってdurationを更新する可能性があります。
                        </p>
                    </div>
                </li>
            </ol>
        </section>
        <section id="canconstructindedicatedworker-attribute">
            <div class="header-wrapper">
                <h3 id="x3-6-canconstructindedicatedworker-attribute"><bdi class="secno">3.6 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-mediasource-canconstructindedicatedworker"
                        data-idl="attribute" data-title="canConstructInDedicatedWorker" data-dfn-for="MediaSource"
                        data-type="boolean" data-lt="canConstructInDedicatedWorker"
                        data-local-lt="MediaSource.canConstructInDedicatedWorker" tabindex="0"
                        aria-haspopup="dialog"><code>canConstructInDedicatedWorker</code></dfn> 属性
                </h3><a class="self-link" href="#canconstructindedicatedworker-attribute"
                    aria-label="Permalink for Section 3.6"></a>
            </div>
            <p>
                trueを返します。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-9">
                <div role="heading" class="note-title marker" id="h-note-9" aria-level="3"><span>注</span></div>
                <p class="">
                    この属性により、メインスレッド・専用ワーカーでの<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                        class="internalDFN" id="ref-for-dom-mediasource-30"><code>MediaSource</code></a>オブジェクトの
                    生成・利用のサポート有無を機能検出でき、高遅延な検出ポリフィル（専用ワーカーからの生成試行など）を不要にします。
                </p>
            </div>
        </section>
        <section id="addsourcebuffer-method">
            <div class="header-wrapper">
                <h3 id="x3-7-addsourcebuffer-method"><bdi class="secno">3.7 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-mediasource-addsourcebuffer" data-idl="operation"
                        data-title="addSourceBuffer()" data-dfn-for="MediaSource" data-type="SourceBuffer"
                        data-lt="addSourceBuffer()|addSourceBuffer(type)"
                        data-local-lt="MediaSource.addSourceBuffer|MediaSource.addSourceBuffer()|addSourceBuffer"
                        tabindex="0" aria-haspopup="dialog"><code>addSourceBuffer()</code></dfn> メソッド
                </h3><a class="self-link" href="#addsourcebuffer-method" aria-label="Permalink for Section 3.7"></a>
            </div>
            <p>
                新しい<a href="#dom-sourcebuffer" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-sourcebuffer-19"><code>SourceBuffer</code></a>を<a data-link-type="idl"
                    href="#dom-mediasource-sourcebuffers" class="internalDFN"
                    id="ref-for-dom-mediasource-sourcebuffers-7"><code>sourceBuffers</code></a>へ追加します。
            </p>
            <ol class="algorithm">
                <li><var data-type="DOMString">type</var>が空文字列なら、<a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                    例外を投げて手順を中止する。
                </li>
                <li><var data-type="DOMString">type</var>がサポートされないMIMEタイプ、もしくは他の<a data-link-type="idl"
                        data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-20"><code>SourceBuffer</code></a>オブジェクトに指定されたtypeとの組み合わせでサポートされないMIMEタイプを含む場合、
                    <a data-link-type="exception" data-lt="NotSupportedError"
                        href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>
                    例外を投げて手順を中止する。
                </li>
                <li>ユーザーエージェントがこれ以上SourceBufferオブジェクトを扱えない場合、または
                    <var data-type="DOMString">type</var>に基づいてSourceBufferを生成すると
                    サポートされない<a data-link-type="dfn|abstract-op" href="#dfn-sourcebuffer-configuration"
                        class="internalDFN" id="ref-for-dfn-sourcebuffer-configuration-1">SourceBuffer構成</a>となる場合、
                    <a data-link-type="interface" data-lt="QuotaExceededError"
                        href="https://webidl.spec.whatwg.org/#quotaexceedederror"><code>QuotaExceededError</code></a>
                    例外を投げて手順を中止する。
                    <div class="note" role="note" id="issue-container-generatedID-10">
                        <div role="heading" class="note-title marker" id="h-note-10" aria-level="3"><span>注</span>
                        </div>
                        <p class="">
                            例：ユーザーエージェントは、メディア要素が<a data-link-type="const"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                            readyStateに達した場合、<a data-link-type="interface" data-lt="QuotaExceededError"
                                href="https://webidl.spec.whatwg.org/#quotaexceedederror"><code>QuotaExceededError</code></a>
                            例外を投げる<em class="rfc2119">ことがあります</em>。これは、再生中に新しいトラック追加をサポートしないメディアエンジンの場合などです。
                        </p>
                    </div>
                </li>
                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                        id="ref-for-dom-mediasource-readystate-9"><code>readyState</code></a>属性が"<a data-link-type="idl"
                        href="#dom-readystate-open" class="internalDFN"
                        id="ref-for-dom-readystate-open-4"><code>open</code></a>"状態でない場合、
                    <a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                    例外を投げて手順を中止する。
                </li>
                <li><var>buffer</var>に、<a data-link-type="idl" data-lt="ManagedSourceBuffer"
                        href="#dom-managedsourcebuffer" class="internalDFN"
                        id="ref-for-dom-managedsourcebuffer-2"><code>ManagedSourceBuffer</code></a>（<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>が
                    <a data-link-type="idl" data-lt="ManagedMediaSource" href="#dom-managedmediasource"
                        class="internalDFN" id="ref-for-dom-managedmediasource-2"><code>ManagedMediaSource</code></a>
                    の場合）または、それ以外の場合は<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                        class="internalDFN"
                        id="ref-for-dom-sourcebuffer-21"><code>SourceBuffer</code></a>の新しいインスタンス（関連リソース付き）をセットする。
                </li>
                <li><var>buffer</var>の<a data-link-type="attribute" data-lt="[[generate timestamps flag]]"
                        href="#dfn-generate-timestamps-flag" class="internalDFN"
                        id="ref-for-dfn-generate-timestamps-flag-1"><code>[[generate timestamps flag]]</code></a>を、
                    <cite><a data-matched-text="[[[MSE-REGISTRY]]]"
                            href="https://www.w3.org/TR/mse-byte-stream-format-registry/">Media Source Extensions™ Byte
                            Stream Format Registry</a></cite>の該当<var data-type="DOMString">type</var>の
                    "Generate Timestamps Flag"列の値に設定する。
                </li>
                <li><var>buffer</var>の<a data-link-type="attribute" data-lt="[[generate timestamps flag]]"
                        href="#dfn-generate-timestamps-flag" class="internalDFN"
                        id="ref-for-dfn-generate-timestamps-flag-2"><code>[[generate timestamps flag]]</code></a>がtrueなら、
                    <var>buffer</var>の<a data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-mode-1"><code>mode</code></a>を"<a data-link-type="idl"
                        href="#dom-appendmode-sequence" class="internalDFN"
                        id="ref-for-dom-appendmode-sequence-1"><code>sequence</code></a>"に、
                    そうでなければ"<a data-link-type="idl" href="#dom-appendmode-segments" class="internalDFN"
                        id="ref-for-dom-appendmode-segments-1"><code>segments</code></a>"に設定する。
                </li>
                <li><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append">Append</a>
                    <var>buffer</var>を<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>の
                    <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-sourcebuffers-9"><code>sourceBuffers</code></a>へ追加する。
                </li>
                <li><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                    <a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-fire">addsourcebufferイベントを発火</a>
                    させる（thisの<a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-sourcebuffers-10"><code>sourceBuffers</code></a>対象）。
                </li>
                <li><var>buffer</var>を返す。
                </li>
            </ol>
        </section>
        <section id="removesourcebuffer-method">
            <div class="header-wrapper">
                <h3 id="x3-8-removesourcebuffer-method"><bdi class="secno">3.8 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-mediasource-removesourcebuffer"
                        data-idl="operation" data-title="removeSourceBuffer()" data-dfn-for="MediaSource"
                        data-type="undefined" data-lt="removeSourceBuffer()|removeSourceBuffer(sourceBuffer)"
                        data-local-lt="MediaSource.removeSourceBuffer|MediaSource.removeSourceBuffer()|removeSourceBuffer"
                        tabindex="0" aria-haspopup="dialog"><code>removeSourceBuffer()</code></dfn> メソッド
                </h3><a class="self-link" href="#removesourcebuffer-method" aria-label="Permalink for Section 3.8"></a>
            </div>
            <p>
                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-22"><code>SourceBuffer</code></a>を<a data-link-type="idl"
                    href="#dom-mediasource-sourcebuffers" class="internalDFN"
                    id="ref-for-dom-mediasource-sourcebuffers-11"><code>sourceBuffers</code></a>から削除します。
            </p>
            <ol class="algorithm">
                <li><var data-type="SourceBuffer">sourceBuffer</var>が<a data-link-type="idl"
                        href="#dom-mediasource-sourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-sourcebuffers-12"><code>sourceBuffers</code></a>に含まれていない場合は、<a
                        data-link-type="exception" data-lt="NotFoundError"
                        href="https://webidl.spec.whatwg.org/#notfounderror"><code>NotFoundError</code></a>例外を投げて手順を中止します。
                </li>
                <li><var data-type="SourceBuffer">sourceBuffer</var>.<a data-link-type="idl"
                        href="#dom-sourcebuffer-updating" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-updating-2"><code>updating</code></a>属性がtrueの場合、次の手順を実行します：
                    <ol>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-buffer-append" class="internalDFN"
                                id="ref-for-dfn-buffer-append-1">buffer append</a>アルゴリズムが実行中なら中止します。
                        </li>
                        <li><var data-type="SourceBuffer">sourceBuffer</var>.<a data-link-type="idl"
                                href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-3"><code>updating</code></a>属性をfalseに設定します。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、<a
                                data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-fire">abortイベントを発火</a>します（<var
                                data-type="SourceBuffer">sourceBuffer</var>対象）。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、<a
                                data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-fire">updateendイベントを発火</a>します（<var
                                data-type="SourceBuffer">sourceBuffer</var>対象）。
                        </li>
                    </ol>
                </li>
                <li><var data-type="AudioTrackList">SourceBuffer audioTracks list</var>を<var
                        data-type="SourceBuffer">sourceBuffer</var>.<a data-link-type="idl"
                        href="#dom-sourcebuffer-audiotracks" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-audiotracks-1"><code>audioTracks</code></a>から取得します。
                </li>
                <li><var data-type="AudioTrackList">SourceBuffer audioTracks list</var>が空でない場合、次の手順を実行します：
                    <ol>
                        <li><var data-type="AudioTrackList">SourceBuffer audioTracks list</var>内の各<a
                                data-link-type="interface" data-lt="AudioTrack"
                                href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>オブジェクトについて、次の手順を実行します：
                            <ol>
                                <li><a data-link-type="idl" href="#dom-audiotrack-sourcebuffer" class="internalDFN"
                                        id="ref-for-dom-audiotrack-sourcebuffer-1"><code>sourceBuffer</code></a>属性をnullに設定します。
                                </li>
                                <li><a data-link-type="interface" data-lt="AudioTrack"
                                        href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
                                    オブジェクトを<var data-type="AudioTrackList">SourceBuffer audioTracks list</var>から削除します。
                                    <div class="note" role="note" id="issue-container-generatedID-11">
                                        <div role="heading" class="note-title marker" id="h-note-11" aria-level="3">
                                            <span>注</span>
                                        </div>
                                        <p class="">
                                            これにより<a data-link-type="interface" data-lt="AudioTrackList"
                                                href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
                                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                    title="HTML Standard">HTML</a></cite>]のロジックで、<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>し、
                                            <a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#concept-event-fire">removetrackイベント</a>
                                            （<a data-link-type="interface" data-lt="TrackEvent"
                                                href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                            の<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                            属性にこのオーディオトラックオブジェクトをセット）を<var data-type="AudioTrackList">SourceBuffer
                                                audioTracks list</var>上で発火します。さらに、<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-enabled"><code>enabled</code></a>
                                            属性がこの削除手順開始時にtrueだった場合、<a data-link-type="interface"
                                                data-lt="AudioTrackList"
                                                href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
                                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                    title="HTML Standard">HTML</a></cite>]のロジックで<code>change</code>イベントも発火します。
                                        </p>
                                    </div>
                                </li>
                                <li><a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary"
                                        class="internalDFN" id="ref-for-dfn-mirror-if-necessary-1">mirror if
                                        necessary</a>アルゴリズムを使い、<a data-link-type="interface" data-lt="Window"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>で
                                    以下の手順を実行し、（専用ワーカー生成の場合はWindow側のmirror）メディア要素から<a data-link-type="interface"
                                        data-lt="AudioTrack"
                                        href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
                                    オブジェクトを削除：
                                    <ol>
                                        <li><var data-type="AudioTrackList">HTMLMediaElement audioTracks list</var>を
                                            HTMLMediaElementの<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-audiotracks"><code>audioTracks</code></a>
                                            属性から取得します。
                                        </li>
                                        <li><a data-link-type="interface" data-lt="AudioTrack"
                                                href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
                                            オブジェクトを<var>HTMLMediaElement audioTracks list</var>から削除します。
                                            <div class="note" role="note" id="issue-container-generatedID-12">
                                                <div role="heading" class="note-title marker" id="h-note-12"
                                                    aria-level="3"><span>注</span></div>
                                                <p class="">
                                                    これにより<a data-link-type="interface" data-lt="AudioTrackList"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
                                                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                            title="HTML Standard">HTML</a></cite>]のロジックで
                                                    removetrackイベント（<a data-link-type="interface" data-lt="TrackEvent"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                    のtrack属性にこのオーディオトラックオブジェクトをセット）をHTMLMediaElement audioTracks
                                                    list上で発火します。さらに、enabled属性が削除手順開始時にtrueだった場合はchangeイベントも発火します。
                                                </p>
                                            </div>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li><var data-type="VideoTrackList">SourceBuffer videoTracks list</var>を<var
                        data-type="SourceBuffer">sourceBuffer</var>.<a data-link-type="idl"
                        href="#dom-sourcebuffer-videotracks" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-videotracks-1"><code>videoTracks</code></a>から取得します。
                </li>
                <li><var data-type="VideoTrackList">SourceBuffer videoTracks list</var>が空でない場合、次の手順を実行します：
                    <ol>
                        <li><var data-type="VideoTrackList">SourceBuffer videoTracks list</var>内の各<a
                                data-link-type="interface" data-lt="VideoTrack"
                                href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>オブジェクトについて、次の手順を実行します：
                            <ol>
                                <li><a data-link-type="idl" href="#dom-videotrack-sourcebuffer" class="internalDFN"
                                        id="ref-for-dom-videotrack-sourcebuffer-1"><code>sourceBuffer</code></a>属性をnullに設定します。
                                </li>
                                <li><a data-link-type="interface" data-lt="VideoTrack"
                                        href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
                                    オブジェクトを<var data-type="VideoTrackList">SourceBuffer videoTracks list</var>から削除します。
                                    <div class="note" role="note" id="issue-container-generatedID-13">
                                        <div role="heading" class="note-title marker" id="h-note-13" aria-level="3">
                                            <span>注</span>
                                        </div>
                                        <p class="">
                                            これにより<a data-link-type="interface" data-lt="VideoTrackList"
                                                href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
                                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                    title="HTML Standard">HTML</a></cite>]のロジックで、<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>し、
                                            <a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#concept-event-fire">removetrackイベント</a>
                                            （<a data-link-type="interface" data-lt="TrackEvent"
                                                href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                            の<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                            属性にこのビデオトラックオブジェクトをセット）を<var data-type="VideoTrackList">SourceBuffer
                                                videoTracks list</var>上で発火します。さらに、<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-selected"><code>selected</code></a>
                                            属性がこの削除手順開始時にtrueだった場合、changeイベントも発火します。
                                        </p>
                                    </div>
                                </li>
                                <li><a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary"
                                        class="internalDFN" id="ref-for-dfn-mirror-if-necessary-2">mirror if
                                        necessary</a>アルゴリズムを使い、<a data-link-type="interface" data-lt="Window"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>で
                                    以下の手順を実行し、（専用ワーカー生成の場合はWindow側のmirror）メディア要素から<a data-link-type="interface"
                                        data-lt="VideoTrack"
                                        href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
                                    オブジェクトを削除：
                                    <ol>
                                        <li><var data-type="VideoTrackList">HTMLMediaElement videoTracks list</var>を
                                            HTMLMediaElementの<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-videotracks"><code>videoTracks</code></a>
                                            属性から取得します。
                                        </li>
                                        <li><a data-link-type="interface" data-lt="VideoTrack"
                                                href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
                                            オブジェクトを<var>HTMLMediaElement videoTracks list</var>から削除します。
                                            <div class="note" role="note" id="issue-container-generatedID-14">
                                                <div role="heading" class="note-title marker" id="h-note-14"
                                                    aria-level="3"><span>注</span></div>
                                                <p class="">
                                                    これにより<a data-link-type="interface" data-lt="VideoTrackList"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
                                                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                            title="HTML Standard">HTML</a></cite>]のロジックで
                                                    removetrackイベント（<a data-link-type="interface" data-lt="TrackEvent"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                    のtrack属性にこのビデオトラックオブジェクトをセット）をHTMLMediaElement videoTracks
                                                    list上で発火します。さらに、selected属性が削除手順開始時にtrueだった場合はchangeイベントも発火します。
                                                </p>
                                            </div>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li><var data-type="TextTrackList">SourceBuffer textTracks list</var>を<var
                        data-type="SourceBuffer">sourceBuffer</var>.<a data-link-type="idl"
                        href="#dom-sourcebuffer-texttracks" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-texttracks-1"><code>textTracks</code></a>から取得します。
                </li>
                <li><var data-type="TextTrackList">SourceBuffer textTracks list</var>が空でない場合、次の手順を実行します：
                    <ol>
                        <li><var data-type="TextTrackList">SourceBuffer textTracks list</var>内の各<a
                                data-link-type="interface" data-lt="TextTrack"
                                href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>オブジェクトについて、次の手順を実行します：
                            <ol>
                                <li><a data-link-type="idl" href="#dom-texttrack-sourcebuffer" class="internalDFN"
                                        id="ref-for-dom-texttrack-sourcebuffer-1"><code>sourceBuffer</code></a>属性をnullに設定します。
                                </li>
                                <li><a data-link-type="interface" data-lt="TextTrack"
                                        href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>
                                    オブジェクトを<var data-type="TextTrackList">SourceBuffer textTracks list</var>から削除します。
                                    <div class="note" role="note" id="issue-container-generatedID-15">
                                        <div role="heading" class="note-title marker" id="h-note-15" aria-level="3">
                                            <span>注</span>
                                        </div>
                                        <p class="">
                                            これにより<a data-link-type="interface" data-lt="TextTrackList"
                                                href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>
                                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                    title="HTML Standard">HTML</a></cite>]のロジックで、<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>し、
                                            <a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#concept-event-fire">removetrackイベント</a>
                                            （<a data-link-type="interface" data-lt="TrackEvent"
                                                href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                            の<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                            属性にこのテキストトラックオブジェクトをセット）を<var data-type="TextTrackList">SourceBuffer
                                                textTracks list</var>上で発火します。さらに、<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-mode"><code>mode</code></a>
                                            属性がこの削除手順開始時に"showing"または"hidden"だった場合、changeイベントも発火します。
                                        </p>
                                    </div>
                                </li>
                                <li><a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary"
                                        class="internalDFN" id="ref-for-dfn-mirror-if-necessary-3">mirror if
                                        necessary</a>アルゴリズムを使い、<a data-link-type="interface" data-lt="Window"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>で
                                    以下の手順を実行し、（専用ワーカー生成の場合はWindow側のmirror）メディア要素から<a data-link-type="interface"
                                        data-lt="TextTrack"
                                        href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>
                                    オブジェクトを削除：
                                    <ol>
                                        <li><var data-type="TextTrackList">HTMLMediaElement textTracks list</var>を
                                            HTMLMediaElementの<a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-texttracks"><code>textTracks</code></a>
                                            属性から取得します。
                                        </li>
                                        <li><a data-link-type="interface" data-lt="TextTrack"
                                                href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>
                                            オブジェクトを<var>HTMLMediaElement textTracks list</var>から削除します。
                                            <div class="note" role="note" id="issue-container-generatedID-16">
                                                <div role="heading" class="note-title marker" id="h-note-16"
                                                    aria-level="3"><span>注</span></div>
                                                <p class="">
                                                    これにより<a data-link-type="interface" data-lt="TextTrackList"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>
                                                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                            title="HTML Standard">HTML</a></cite>]のロジックで
                                                    removetrackイベント（<a data-link-type="interface" data-lt="TrackEvent"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                    のtrack属性にこのテキストトラックオブジェクトをセット）をHTMLMediaElement textTracks
                                                    list上で発火します。さらに、mode属性が削除手順開始時に"showing"または"hidden"だった場合はchangeイベントも発火します。
                                                </p>
                                            </div>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li><var data-type="SourceBuffer">sourceBuffer</var>が<a data-link-type="idl"
                        href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-activesourcebuffers-4"><code>activeSourceBuffers</code></a>に含まれる場合、
                    <var data-type="SourceBuffer">sourceBuffer</var>を<a data-link-type="idl"
                        href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-activesourcebuffers-5"><code>activeSourceBuffers</code></a>から削除し、
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                    <a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-fire">removesourcebufferイベント</a>
                    を<a href="#dom-sourcebufferlist" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-sourcebufferlist-3"><code>SourceBufferList</code></a>（<a data-link-type="idl"
                        href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-activesourcebuffers-6"><code>activeSourceBuffers</code></a>から返される）で発火します。
                </li>
                <li><var data-type="SourceBuffer">sourceBuffer</var>を<a data-link-type="idl"
                        href="#dom-mediasource-sourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-sourcebuffers-13"><code>sourceBuffers</code></a>から削除し、
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                    <a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-fire">removesourcebufferイベント</a>
                    を<a href="#dom-sourcebufferlist" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-sourcebufferlist-4"><code>SourceBufferList</code></a>（<a data-link-type="idl"
                        href="#dom-mediasource-sourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-sourcebuffers-14"><code>sourceBuffers</code></a>から返される）で発火します。
                </li>
                <li><var data-type="SourceBuffer">sourceBuffer</var>のすべてのリソースを破棄します。
                </li>
            </ol>
        </section>
        <section id="endofstream-method">
            <div class="header-wrapper">
                <h3 id="x3-9-endofstream-method"><bdi class="secno">3.9 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-mediasource-endofstream" data-idl="operation"
                        data-title="endOfStream()" data-dfn-for="MediaSource" data-type="undefined"
                        data-lt="endOfStream()|endOfStream(error)"
                        data-local-lt="MediaSource.endOfStream|MediaSource.endOfStream()|endOfStream" tabindex="0"
                        aria-haspopup="dialog"><code>endOfStream()</code></dfn> メソッド
                </h3><a class="self-link" href="#endofstream-method" aria-label="Permalink for Section 3.9"></a>
            </div>
            <p>
                ストリームの終了を通知します。
            </p>
            <ol class="algorithm">
                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                        id="ref-for-dom-mediasource-readystate-10"><code>readyState</code></a>属性が"<a
                        data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                        id="ref-for-dom-readystate-open-5"><code>open</code></a>"状態でないなら、
                    <a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                    例外を投げて手順を中止します。
                </li>
                <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-updating-4"><code>updating</code></a>属性が
                    <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-23"><code>SourceBuffer</code></a>のいずれかでtrueなら、
                    <a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                    例外を投げて手順を中止します。
                </li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-end-of-stream" class="internalDFN"
                        id="ref-for-dfn-end-of-stream-1">end of stream</a>アルゴリズムを、errorパラメータに
                    <var data-type="EndOfStreamError">error</var>を指定して実行します。
                </li>
            </ol>
        </section>
        <section id="setliveseekablerange-method">
            <div class="header-wrapper">
                <h3 id="x3-10-setliveseekablerange-method"><bdi class="secno">3.10 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-mediasource-setliveseekablerange"
                        data-idl="operation" data-title="setLiveSeekableRange()" data-dfn-for="MediaSource"
                        data-type="undefined" data-lt="setLiveSeekableRange()|setLiveSeekableRange(start, end)"
                        data-local-lt="MediaSource.setLiveSeekableRange|MediaSource.setLiveSeekableRange()|setLiveSeekableRange"
                        tabindex="0" aria-haspopup="dialog"><code>setLiveSeekableRange()</code></dfn> メソッド
                </h3><a class="self-link" href="#setliveseekablerange-method"
                    aria-label="Permalink for Section 3.10"></a>
            </div>
            <p>
                <a data-link-type="attribute" data-lt="[[live seekable range]]" href="#dfn-live-seekable-range"
                    class="internalDFN" id="ref-for-dfn-live-seekable-range-1"><code>[[live seekable range]]</code></a>
                を更新します。この属性は
                <a href="#htmlmediaelement-extensions" data-matched-text="[[[#htmlmediaelement-extensions]]]"
                    class="sec-ref"><bdi class="secno">10. </bdi>
                    HTMLMediaElement拡張</a>で
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seekable"><code>seekable</code></a>
                の挙動変更に利用されます。
            </p>

            <p>このメソッドが呼び出されたとき、ユーザーエージェントは次の手順を実行します：</p>
            <ol class="method-algorithm">
                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                        id="ref-for-dom-mediasource-readystate-11"><code>readyState</code></a>属性が"<a
                        data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                        id="ref-for-dom-readystate-open-6"><code>open</code></a>"でないなら、
                    <a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                    例外を投げて手順を中止します。
                </li>
                <li><var data-type="double">start</var>が負または<var data-type="double">end</var>より大きい場合、
                    <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて手順を中止します。
                </li>
                <li><a data-link-type="attribute" data-lt="[[live seekable range]]" href="#dfn-live-seekable-range"
                        class="internalDFN"
                        id="ref-for-dfn-live-seekable-range-2"><code>[[live seekable range]]</code></a>を
                    新しい<a
                        href="https://html.spec.whatwg.org/multipage/media.html#normalised-timeranges-object">正規化されたTimeRangesオブジェクト</a>（開始位置が<var
                        data-type="double">start</var>、終了位置が<var data-type="double">end</var>の単一範囲）に設定します。
                </li>
            </ol>
        </section>
        <section id="clearliveseekablerange-method">
            <div class="header-wrapper">
                <h3 id="x3-11-clearliveseekablerange-method"><bdi class="secno">3.11 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-mediasource-clearliveseekablerange"
                        data-idl="operation" data-title="clearLiveSeekableRange()" data-dfn-for="MediaSource"
                        data-type="undefined" data-lt="clearLiveSeekableRange()"
                        data-local-lt="MediaSource.clearLiveSeekableRange|MediaSource.clearLiveSeekableRange()|clearLiveSeekableRange"
                        tabindex="0" aria-haspopup="dialog"><code>clearLiveSeekableRange()</code></dfn> メソッド
                </h3><a class="self-link" href="#clearliveseekablerange-method"
                    aria-label="Permalink for Section 3.11"></a>
            </div>
            <p>
                <a data-link-type="attribute" data-lt="[[live seekable range]]" href="#dfn-live-seekable-range"
                    class="internalDFN" id="ref-for-dfn-live-seekable-range-3"><code>[[live seekable range]]</code></a>
                を更新します。この属性は
                <a href="#htmlmediaelement-extensions" data-matched-text="[[[#htmlmediaelement-extensions]]]"
                    class="sec-ref"><bdi class="secno">10. </bdi>
                    HTMLMediaElement拡張</a>で
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seekable"><code>seekable</code></a>
                の挙動変更に利用されます。
            </p>

            <p>このメソッドが呼び出されたとき、ユーザーエージェントは次の手順を実行します：</p>
            <ol class="method-algorithm">
                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                        id="ref-for-dom-mediasource-readystate-12"><code>readyState</code></a>属性が"<a
                        data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                        id="ref-for-dom-readystate-open-7"><code>open</code></a>"でないなら、
                    <a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                    例外を投げて手順を中止します。
                </li>
                <li><a data-link-type="attribute" data-lt="[[live seekable range]]" href="#dfn-live-seekable-range"
                        class="internalDFN"
                        id="ref-for-dfn-live-seekable-range-4"><code>[[live seekable range]]</code></a>に範囲が含まれている場合は、
                    <a data-link-type="attribute" data-lt="[[live seekable range]]" href="#dfn-live-seekable-range"
                        class="internalDFN"
                        id="ref-for-dfn-live-seekable-range-5"><code>[[live seekable range]]</code></a>を新しい空の
                    <a data-link-type="interface" data-lt="TimeRanges"
                        href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>オブジェクトに設定します。
                </li>
            </ol>
        </section>
        <section id="istypesupported-method">
            <div class="header-wrapper">
                <h3 id="x3-12-istypesupported-method"><bdi class="secno">3.12 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-mediasource-istypesupported" data-idl="operation"
                        data-title="isTypeSupported()" data-dfn-for="MediaSource" data-type="boolean"
                        data-lt="isTypeSupported()|isTypeSupported(type)"
                        data-local-lt="MediaSource.isTypeSupported|MediaSource.isTypeSupported()|isTypeSupported"
                        tabindex="0" aria-haspopup="dialog"><code>isTypeSupported()</code></dfn> メソッド
                </h3><a class="self-link" href="#istypesupported-method" aria-label="Permalink for Section 3.12"></a>
            </div>
            <p>
                指定したMIMEタイプに対して、<a href="#dom-mediasource" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-mediasource-35"><code>MediaSource</code></a>が
                <a href="#dom-sourcebuffer" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-sourcebuffer-24"><code>SourceBuffer</code></a>オブジェクトを生成できるかどうかをチェックします。
            </p>

            <div class="note" role="note" id="issue-container-generatedID-17">
                <div role="heading" class="note-title marker" id="h-note-17" aria-level="3"><span>注</span></div>
                <p class="">
                    このメソッドがtrueを返した場合、それは<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                        class="internalDFN" id="ref-for-dom-mediasource-36"><code>MediaSource</code></a>の実装が
                    指定されたMIMEタイプに対して<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                        class="internalDFN"
                        id="ref-for-dom-sourcebuffer-25"><code>SourceBuffer</code></a>オブジェクトを生成できることだけを示します。
                    <a data-link-type="idl" data-lt="addSourceBuffer()" href="#dom-mediasource-addsourcebuffer"
                        class="internalDFN"
                        id="ref-for-dom-mediasource-addsourcebuffer-4"><code>addSourceBuffer</code></a><code>()</code>
                    の呼び出しは、十分なリソースがなければ失敗<em class="rfc2119">するべきです</em>。
                </p>
            </div>
            <div class="note" role="note" id="issue-container-generatedID-18">
                <div role="heading" class="note-title marker" id="h-note-18" aria-level="3"><span>注</span></div>
                <p class="">
                    このメソッドがtrueを返す場合、
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の
                    <a data-link-type="method" data-lt="canPlayType()"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-navigator-canplaytype"><code>canPlayType</code></a><code>()</code>
                    も"maybe"または"probably"を返すことを意味します。HTMLMediaElementが再生できないタイプをMediaSourceがサポートすることはありえません。
                </p>
            </div>
            <p>このメソッドが呼び出されたとき、ユーザーエージェントは次の手順を実行します：</p>
            <ol class="method-algorithm">
                <li><var data-type="DOMString">type</var>が空文字列なら、falseを返します。
                </li>
                <li><var data-type="DOMString">type</var>が有効なMIMEタイプ文字列でない場合、falseを返します。
                </li>
                <li><var data-type="DOMString">type</var>がMediaSourceのサポートしないメディアタイプまたはサブタイプを含む場合、falseを返します。
                </li>
                <li><var data-type="DOMString">type</var>がMediaSourceのサポートしないコーデックを含む場合、falseを返します。
                </li>
                <li>MediaSourceが指定されたメディアタイプ・サブタイプ・コーデックの組み合わせをサポートしない場合、falseを返します。
                </li>
                <li>trueを返します。
                </li>
            </ol>
        </section>
        <section id="mediasource-events">
            <div class="header-wrapper">
                <h3 id="x3-13-event-summary"><bdi class="secno">3.13 </bdi>
                    イベント概要
                </h3><a class="self-link" href="#mediasource-events" aria-label="Permalink for Section 3.13"></a>
            </div>

            <table class="data">
                <thead>
                    <tr>
                        <th>
                            イベント名
                        </th>
                        <th>
                            インターフェース
                        </th>
                        <th>
                            発生条件
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-sourceopen" tabindex="0"
                                aria-haspopup="dialog" data-export="">sourceopen</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-38"><code>MediaSource</code></a>の<a data-link-type="idl"
                                href="#dom-mediasource-readystate" class="internalDFN"
                                id="ref-for-dom-mediasource-readystate-13"><code>readyState</code></a>が
                            "<a data-link-type="idl" href="#dom-readystate-closed" class="internalDFN"
                                id="ref-for-dom-readystate-closed-5"><code>closed</code></a>"
                            から"<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                id="ref-for-dom-readystate-open-8"><code>open</code></a>"へ、
                            または"<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                id="ref-for-dom-readystate-ended-2"><code>ended</code></a>"から"<a data-link-type="idl"
                                href="#dom-readystate-open" class="internalDFN"
                                id="ref-for-dom-readystate-open-9"><code>open</code></a>"へ遷移したとき。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-sourceended" tabindex="0"
                                aria-haspopup="dialog" data-export="">sourceended</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-39"><code>MediaSource</code></a>の<a data-link-type="idl"
                                href="#dom-mediasource-readystate" class="internalDFN"
                                id="ref-for-dom-mediasource-readystate-14"><code>readyState</code></a>が
                            "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                id="ref-for-dom-readystate-open-10"><code>open</code></a>"
                            から"<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                id="ref-for-dom-readystate-ended-3"><code>ended</code></a>"へ遷移したとき。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-sourceclose" tabindex="0"
                                aria-haspopup="dialog" data-export="">sourceclose</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-40"><code>MediaSource</code></a>の<a data-link-type="idl"
                                href="#dom-mediasource-readystate" class="internalDFN"
                                id="ref-for-dom-mediasource-readystate-15"><code>readyState</code></a>が
                            "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                id="ref-for-dom-readystate-open-11"><code>open</code></a>"
                            から"<a data-link-type="idl" href="#dom-readystate-closed" class="internalDFN"
                                id="ref-for-dom-readystate-closed-6"><code>closed</code></a>"、
                            または"<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                id="ref-for-dom-readystate-ended-4"><code>ended</code></a>"から"<a data-link-type="idl"
                                href="#dom-readystate-closed" class="internalDFN"
                                id="ref-for-dom-readystate-closed-7"><code>closed</code></a>"へ遷移したとき。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="mediasource-in-worker-communication-model">
            <div class="header-wrapper">
                <h3 id="x3-14-cross-context-communication-model"><bdi class="secno">3.14 </bdi>
                    <dfn id="dfn-cross-context-communication-model" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">クロスコンテキスト通信モデル</dfn>
                </h3><a class="self-link" href="#mediasource-in-worker-communication-model"
                    aria-label="Permalink for Section 3.14"></a>
            </div>

            <p>
                <a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                の<a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                が<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                の<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-41"><code>MediaSource</code></a>にアタッチされると、
                各コンテキストは互いの情報に依存するアルゴリズムを持ちます。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-19">
                <div role="heading" class="note-title marker" id="h-note-19" aria-level="4"><span>注</span></div>
                <p class="">
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    は<a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    コンテキストのみで公開されますが、本仕様で定義された<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                        class="internalDFN" id="ref-for-dom-mediasource-42"><code>MediaSource</code></a>および関連オブジェクトは
                    <a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    および<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    コンテキスト両方で公開されます。これにより、アプリケーションはどちらのコンテキストでも<a data-link-type="idl" data-lt="MediaSource"
                        href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-43"><code>MediaSource</code></a>オブジェクトを構築し、
                    <a data-link-type="dfn|abstract-op" href="#mediasource-object-url" class="internalDFN"
                        id="ref-for-mediasource-object-url-1">MediaSourceオブジェクトURL</a>や
                    <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-5"><code>MediaSourceHandle</code></a>
                    を使って、<a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    コンテキストの
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    にアタッチできます（<a data-link-type="dfn|abstract-op" href="#dfn-attaching-to-a-media-element"
                        class="internalDFN" id="ref-for-dfn-attaching-to-a-media-element-2">メディア要素へのアタッチ</a>アルゴリズム参照）。
                    <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-44"><code>MediaSource</code></a>オブジェクトは
                    <a data-link-type="extended-attribute" data-lt="Transferable"
                        href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable"><code>Transferable</code></a>ではなく、
                    生成されたコンテキストでのみ可視です。
                </p>
            </div>
            <p>
                残りのこのセクションでは、
                <a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                のメディア要素を<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                の<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-45"><code>MediaSource</code></a>にアタッチする際の情報遅延を制限するモデルを説明します。
                モデルではメッセージパッシングによる通信を記述しますが、実装は共有メモリやロックなどより高速な通信手段を選択<em class="rfc2119">してもよい</em>です。
                <a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                の<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-46"><code>MediaSource</code></a>へのアタッチは、情報がすでに同期的に得られるため、
                コンテキスト間の通信は不要です。
            </p>
            <p>
                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-47"><code>MediaSource</code></a>が
                <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>で構築された場合、
                <dfn data-dfn-for="MediaSource" data-idl="" data-noexport="" data-dfn-type="attribute"
                    id="dfn-port-to-main" tabindex="0" aria-haspopup="dialog">[[port to main]]</dfn>という内部スロットを持ち、
                アタッチ時にセットされ、デタッチ時にnullとなる
                <a data-link-type="interface" data-lt="MessagePort"
                    href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><code>MessagePort</code></a>を保持します。
                <a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>の
                <a data-link-type="attribute" data-lt="[[port to main]]" href="#dfn-port-to-main" class="internalDFN"
                    id="ref-for-dfn-port-to-main-1"><code>[[port to main]]</code></a>は常にnullです。
            </p>
            <p>
                本仕様で拡張された<a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>が
                <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>の
                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-48"><code>MediaSource</code></a>にアタッチされる場合も同様に、
                <dfn data-dfn-for="HTMLMediaElement" data-idl="" data-noexport="" data-dfn-type="attribute"
                    id="dfn-port-to-worker" tabindex="0" aria-haspopup="dialog">[[port to
                    worker]]</dfn>内部スロット（アタッチ時にセット、デタッチ時にnull）と、
                <dfn data-dfn-for="HTMLMediaElement" data-idl="" data-noexport="" data-dfn-type="attribute"
                    id="dfn-channel-with-worker" tabindex="0" aria-haspopup="dialog">[[channel with
                    worker]]</dfn>内部スロット（<a data-link-type="interface" data-lt="MessageChannel"
                    href="https://html.spec.whatwg.org/multipage/web-messaging.html#messagechannel"><code>MessageChannel</code></a>を保持し、アタッチ時セット、デタッチ時null）を持ちます。
                <a data-link-type="attribute" data-lt="[[port to worker]]" href="#dfn-port-to-worker"
                    class="internalDFN" id="ref-for-dfn-port-to-worker-1"><code>[[port to worker]]</code></a>と
                <a data-link-type="attribute" data-lt="[[channel with worker]]" href="#dfn-channel-with-worker"
                    class="internalDFN" id="ref-for-dfn-channel-with-worker-1"><code>[[channel with worker]]</code></a>
                は、<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>の
                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-49"><code>MediaSource</code></a>にアタッチされていない限りnullです。
            </p>
            <p>
                本仕様のアルゴリズムで、<a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>の
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                からアタッチ先の<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>の
                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-50"><code>MediaSource</code></a>、またはその逆方向へ情報通信が必要な場合、
                これらの内部ポートを暗黙的に使い、対応する側へメッセージをポストします。メッセージの暗黙ハンドラは、アルゴリズムで記述された手順を実行します。
            </p>
        </section>
        <section id="mediasource-algorithms">
            <div class="header-wrapper">
                <h3 id="x3-15-algorithms"><bdi class="secno">3.15 </bdi>
                    アルゴリズム
                </h3><a class="self-link" href="#mediasource-algorithms" aria-label="Permalink for Section 3.15"></a>
            </div>

            <section id="mediasource-attach">
                <div class="header-wrapper">
                    <h4 id="x3-15-1-attaching-to-a-media-element"><bdi class="secno">3.15.1 </bdi>
                        <dfn id="dfn-attaching-to-a-media-element" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">メディア要素へのアタッチ</dfn>
                    </h4><a class="self-link" href="#mediasource-attach" aria-label="Permalink for Section 3.15.1"></a>
                </div>

                <p>
                    <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-51"><code>MediaSource</code></a>をメディア要素にアタッチする仕組みは、<a
                        data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-52"><code>MediaSource</code></a>オブジェクトがどこで構築されたか、すなわち<a
                        data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>なのか
                    <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>なのかに応じて異なります。
                </p>
                <ul>
                    <li>
                        <p>
                            <a data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>で構築された<a
                                data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-53"><code>MediaSource</code></a>をアタッチするには、その<a
                                data-link-type="dfn|abstract-op" href="#mediasource-object-url" class="internalDFN"
                                id="ref-for-mediasource-object-url-2">MediaSourceオブジェクトURL</a>を、該当する<a
                                data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-54"><code>MediaSource</code></a>についてメディア要素の<a
                                data-link-type="attribute"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-src"><code>src</code></a>属性、またはメディア要素内の&lt;source&gt;のsrc属性へ代入します。<a
                                data-link-type="dfn|abstract-op" href="#mediasource-object-url" class="internalDFN"
                                id="ref-for-mediasource-object-url-3">MediaSourceオブジェクトURL</a>は、
                            MediaSourceオブジェクトを<a data-link-type="method" data-lt="createObjectURL()"
                                href="https://www.w3.org/TR/FileAPI/#dfn-createObjectURL"><code>createObjectURL</code></a><code>()</code>に渡すことで作成されます。
                        </p>
                        <p>
                            実装は、ある<a data-link-type="dfn|abstract-op" href="#mediasource-object-url" class="internalDFN"
                                id="ref-for-mediasource-object-url-4">MediaSourceオブジェクトURL</a>の作成を、<a
                                data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>内で、そのワーカーで構築された<a
                                data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-55"><code>MediaSource</code></a>に対して許可してもよい<em
                                class="rfc2119">MAY</em>ですが、その<a data-link-type="dfn|abstract-op"
                                href="#mediasource-object-url" class="internalDFN"
                                id="ref-for-mediasource-object-url-5">MediaSourceオブジェクトURL</a>を用いて、メディア要素の<a
                                data-link-type="attribute"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-src"><code>src</code></a>属性またはメディア要素内の&lt;source&gt;のsrc属性でアタッチしようとする試みは、以下で拡張されるメディア要素の<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                fetch algorithm</a>において失敗しなければなりません<em class="rfc2119">MUST</em>。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-20">
                            <div role="heading" class="note-title marker" id="h-note-20" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                オブジェクトURLによるアタッチ機構をワーカーのMediaSourceオブジェクトURLにまで拡張すると、srcObjectの利用に比べて望ましくないイディオムがさらに広がり、ユーザーエージェント間の相互運用性リスクや実装の複雑さを不必要に高めます。
                            </p>
                        </div>
                    </li>
                    <li><a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-56"><code>MediaSource</code></a>が
                        <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>で構築された場合のアタッチは、<a
                            data-link-type="idl" href="#dom-mediasource-handle" class="internalDFN"
                            id="ref-for-dom-mediasource-handle-2"><code>handle</code></a>を使ってハンドルを取得し、その<a
                            data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                            class="internalDFN"
                            id="ref-for-dom-mediasourcehandle-6"><code>MediaSourceHandle</code></a>を<a
                            data-link-type="interface" data-lt="Window"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>コンテキストへ転送して、メディア要素の<a
                            data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>属性に代入する方法でのみ可能です。
                        この仕様を<a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>のリソースの読み込みおよび取得アルゴリズムと整合させる目的では、基礎となる<a
                            data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>の<a
                            data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-57"><code>MediaSource</code></a>がそこで言及されるMediaSourceオブジェクトであり、<a
                            data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                            class="internalDFN"
                            id="ref-for-dom-mediasourcehandle-7"><code>MediaSourceHandle</code></a>オブジェクトがメディア提供オブジェクトです。
                    </li>
                </ul>
                <p>
                    もし<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                        fetch algorithm</a>が、メディア提供オブジェクトとして<a data-link-type="idl" data-lt="MediaSource"
                        href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-58"><code>MediaSource</code></a>オブジェクト、<a data-link-type="idl"
                        data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                        id="ref-for-dom-mediasourcehandle-8"><code>MediaSourceHandle</code></a>オブジェクト、またはオブジェクトが<a
                        data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-59"><code>MediaSource</code></a>であるURLレコードで呼び出された場合は、modeをlocalにし、（そうでなければmodeをremoteに設定しうる）<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                        fetch algorithm</a>の最初の手順をスキップして、その<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                        fetch algorithm</a>の実行を続けます。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-21">
                    <div role="heading" class="note-title marker" id="h-note-21" aria-level="5"><span>注</span></div>
                    <p class="">
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                            fetch
                            algorithm</a>の最初の手順は、オブジェクトがメディア提供オブジェクトであるURLレコードに対してlocalモードを選択するよう、最終的には整合される見込みです。意図としては、<a
                            data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の<a
                            data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-src"><code>src</code></a>属性や、選択された子
                        <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element">source</a></code>の
                        <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-source-src">src</a></code>
                        属性が、当該<code>src</code>属性が最後に変更された時点で<a data-link-type="dfn|abstract-op"
                            href="#mediasource-object-url" class="internalDFN"
                            id="ref-for-mediasource-object-url-6">MediaSourceオブジェクトURL</a>に一致する<code>blob:</code>URLであれば、その<a
                            data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-60"><code>MediaSource</code></a>オブジェクトが、<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                            fetch
                            algorithm</a>のlocalモードのロジックにおけるメディア提供オブジェクトかつ現在のメディアリソースとして用いられるというものです。これはまた、MediaSourceオブジェクトがアタッチされている場合には、preload属性の順守を含むremoteモードのロジックがスキップされることも意味します。たとえ[<cite><a
                                class="bibref" data-link-type="biblio" href="#bib-html"
                                title="HTML Standard">HTML</a></cite>]にそのような変更が将来的に行われたとしても、現在のメディアリソースが<a
                            data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-61"><code>MediaSource</code></a>オブジェクトである場合には、localモードのロジックの冒頭で以下の手順を実行する必要があります。
                    </p>
                </div>
                <p>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                        fetch algorithm</a>の「Otherwise（mode is local）」節の冒頭で、以下の追加手順を実行します。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-22">
                    <div role="heading" class="note-title marker" id="h-note-22" aria-level="5"><span>注</span></div>
                    <p class="">
                        メディア要素のリソース選択アルゴリズムをトリガーしたアクションに対して、これらの手順は非同期です。<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                            fetch
                            algorithm</a>は、リソース選択アルゴリズムを呼び出したタスクが継続でき、安定状態に到達した後に実行されます。実装は、以下の「<i>Otherwise</i>」節の手順を、MediaSourceオブジェクトが使用可能になるまで遅延させてもかまいません。
                    </p>
                </div>
                <ol>
                    <li>もし<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                            fetch algorithm</a>が、メディア提供オブジェクトとして<a data-link-type="idl" data-lt="MediaSource"
                            href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-62"><code>MediaSource</code></a>オブジェクト、<a data-link-type="idl"
                            data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                            id="ref-for-dom-mediasourcehandle-9"><code>MediaSourceHandle</code></a>オブジェクト、またはオブジェクトが<a
                            data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-63"><code>MediaSource</code></a>であるURLレコードで呼び出されているなら：
                        <dl class="switch">
                            <dt>
                                メディア提供オブジェクトが、オブジェクトが<a data-link-type="idl" data-lt="MediaSource"
                                    href="#dom-mediasource" class="internalDFN"
                                    id="ref-for-dom-mediasource-64"><code>MediaSource</code></a>であるURLレコードで、かつそれが<a
                                    data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>で構築された場合（
                                例えば<a data-link-type="dfn|abstract-op" href="#mediasource-object-url"
                                    class="internalDFN" id="ref-for-mediasource-object-url-7">MediaSourceオブジェクトURL</a>を
                                <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>から用いようとする場合
                                など）
                            </dt>
                            <dd>
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                    fetch algorithm</a>の<a
                                    href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                    data processing steps list</a>にある、<span>"<i>If the media data cannot be fetched at
                                        all, due to network errors,
                                        causing the user agent to give up trying to fetch the
                                        resource</i>"</span>の手順を実行します。
                                <div class="note" role="note" id="issue-container-generatedID-23">
                                    <div role="heading" class="note-title marker" id="h-note-23" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <div class="">
                                        これは、DedicatedWorkerのMediaSourceアタッチに<a data-link-type="dfn|abstract-op"
                                            href="#mediasource-object-url" class="internalDFN"
                                            id="ref-for-mediasource-object-url-8">MediaSourceオブジェクトURL</a>を使用できないようにするためのものです。<a
                                            data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-66"><code>MediaSource</code></a>の<a
                                            data-link-type="idl" href="#dom-mediasource-handle" class="internalDFN"
                                            id="ref-for-dom-mediasource-handle-3"><code>handle</code></a>をDedicatedWorkerからWindowコンテキストへ転送し、メディア要素の<a
                                            data-link-type="attribute"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>属性に代入することが、そのようなMediaSourceをアタッチする唯一の方法です。
                                    </div>
                                </div>
                            </dd>
                            <dt>
                                メディア提供オブジェクトが、<a data-link-type="idl" data-lt="MediaSourceHandle"
                                    href="#dom-mediasourcehandle" class="internalDFN"
                                    id="ref-for-dom-mediasourcehandle-10"><code>MediaSourceHandle</code></a>で、その<a
                                    data-link-type="attribute" data-lt="[[Detached]]" href="#dfn-detached"
                                    class="internalDFN"
                                    id="ref-for-dfn-detached-1"><code>[[Detached]]</code></a>内部スロットがtrueである場合
                            </dt>
                            <dd>
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                    fetch algorithm</a>の<a
                                    href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                    data processing steps list</a>にある、<span>"<i>If the media data cannot be fetched at
                                        all, due to network errors,
                                        causing the user agent to give up trying to fetch the
                                        resource</i>"</span>の手順を実行します。
                            </dd>
                            <dt>
                                メディア提供オブジェクトが、基礎となる<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                    class="internalDFN" id="ref-for-dom-mediasource-67"><code>MediaSource</code></a>の<a
                                    data-link-type="attribute" data-lt="[[has ever been attached]]"
                                    href="#dfn-has-ever-been-attached" class="internalDFN"
                                    id="ref-for-dfn-has-ever-been-attached-1"><code>[[has ever been attached]]</code></a>内部スロットがtrueである<a
                                    data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                                    class="internalDFN"
                                    id="ref-for-dom-mediasourcehandle-11"><code>MediaSourceHandle</code></a>である場合
                            </dt>
                            <dd>
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                    fetch algorithm</a>の<a
                                    href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                    data processing steps list</a>にある、<span>"<i>If the media data cannot be fetched at
                                        all, due to network errors,
                                        causing the user agent to give up trying to fetch the
                                        resource</i>"</span>の手順を実行します。
                                <div class="note" role="note" id="issue-container-generatedID-24">
                                    <div role="heading" class="note-title marker" id="h-note-24" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <div class="">
                                        これは、基礎となる<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-68"><code>MediaSource</code></a>が、たとえ<a
                                            data-link-type="interface" data-lt="Window"
                                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>で構築され、以前に<a
                                            data-link-type="dfn|abstract-op" href="#mediasource-object-url"
                                            class="internalDFN"
                                            id="ref-for-mediasource-object-url-9">MediaSourceオブジェクトURL</a>を用いて読み込まれていたとしても、<a
                                            data-link-type="idl" data-lt="MediaSourceHandle"
                                            href="#dom-mediasourcehandle" class="internalDFN"
                                            id="ref-for-dom-mediasourcehandle-12"><code>MediaSourceHandle</code></a>を使って複数回読み込まれることを防ぎます。
                                        ただし、これは<a data-link-type="interface" data-lt="Window"
                                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>の<a
                                            data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-69"><code>MediaSource</code></a>に対して、その後に<a
                                            data-link-type="dfn|abstract-op" href="#mediasource-object-url"
                                            class="internalDFN"
                                            id="ref-for-mediasource-object-url-10">MediaSourceオブジェクトURL</a>を用いることが成功する可能性を妨げるものではありません。
                                    </div>
                                </div>
                            </dd>
                            <dt>
                                <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                    id="ref-for-dom-mediasource-readystate-16"><code>readyState</code></a>が
                                "<a data-link-type="idl" href="#dom-readystate-closed" class="internalDFN"
                                    id="ref-for-dom-readystate-closed-8"><code>closed</code></a>"に設定されていない場合
                            </dt>
                            <dd>
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                    fetch algorithm</a>の<a
                                    href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                    data processing steps list</a>にある、<span>"<i>If the media data cannot be fetched at
                                        all, due to network errors,
                                        causing the user agent to give up trying to fetch the
                                        resource</i>"</span>の手順を実行します。
                            </dd>
                            <dt>
                                それ以外の場合
                            </dt>
                            <dd>
                                <ol>
                                    <li><a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-71"><code>MediaSource</code></a>の<a
                                            data-link-type="attribute" data-lt="[[has ever been attached]]"
                                            href="#dfn-has-ever-been-attached" class="internalDFN"
                                            id="ref-for-dfn-has-ever-been-attached-2"><code>[[has ever been attached]]</code></a>内部スロットをtrueに設定します。
                                    </li>
                                    <li>メディア要素の<a
                                            href="https://html.spec.whatwg.org/multipage/media.html#delaying-the-load-event-flag">delaying-the-load-event-flag</a>を
                                        falseに設定します。
                                    </li>
                                    <li>
                                        <dl class="switch">
                                            <dt>
                                                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                                    class="internalDFN"
                                                    id="ref-for-dom-mediasource-72"><code>MediaSource</code></a>が
                                                <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>で構築されている場合、ワーカー側のアタッチ通信をセットアップし、<a
                                                    data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                                    class="internalDFN"
                                                    id="ref-for-dom-mediasource-73"><code>MediaSource</code></a>をopenにします：
                                            </dt>
                                            <dd>
                                                <ol>
                                                    <li><a data-link-type="attribute" data-lt="[[channel with worker]]"
                                                            href="#dfn-channel-with-worker" class="internalDFN"
                                                            id="ref-for-dfn-channel-with-worker-2"><code>[[channel with worker]]</code></a>に新しい
                                                        <a data-link-type="interface" data-lt="MessageChannel"
                                                            href="https://html.spec.whatwg.org/multipage/web-messaging.html#messagechannel"><code>MessageChannel</code></a>を設定します。
                                                    </li>
                                                    <li><a data-link-type="attribute" data-lt="[[port to worker]]"
                                                            href="#dfn-port-to-worker" class="internalDFN"
                                                            id="ref-for-dfn-port-to-worker-2"><code>[[port to worker]]</code></a>を、
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-messagechannel-port1"><code>port1</code></a>（<a
                                                            data-link-type="attribute" data-lt="[[channel with worker]]"
                                                            href="#dfn-channel-with-worker" class="internalDFN"
                                                            id="ref-for-dfn-channel-with-worker-3"><code>[[channel with worker]]</code></a>の値）に設定します。
                                                    </li>
                                                    <li><a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer">StructuredSerializeWithTransfer</a>を実行し、
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-messagechannel-port2"><code>port2</code></a>（<a
                                                            data-link-type="attribute" data-lt="[[channel with worker]]"
                                                            href="#dfn-channel-with-worker" class="internalDFN"
                                                            id="ref-for-dfn-channel-with-worker-4"><code>[[channel with worker]]</code></a>の値）を値および<var>transferList</var>の唯一のメンバーとして渡し、結果を<var
                                                            data-type="MessagePort">serialized
                                                            port2</var>とします。
                                                    </li>
                                                    <li><a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue
                                                            a task</a>を、<a data-link-type="idl" data-lt="MediaSource"
                                                            href="#dom-mediasource" class="internalDFN"
                                                            id="ref-for-dom-mediasource-74"><code>MediaSource</code></a>の<a
                                                            data-link-type="interface"
                                                            data-lt="DedicatedWorkerGlobalScope"
                                                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>上で行い、次を実施します
                                                        <ol>
                                                            <li><a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer">StructuredDeserializeWithTransfer</a>を、<var>serialized
                                                                    port2</var>と<a data-link-type="interface"
                                                                    data-lt="DedicatedWorkerGlobalScope"
                                                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>の<a
                                                                    data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm">realm</a>で実行し、転送された<a
                                                                    data-link-type="attribute"
                                                                    href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-messagechannel-port2"><code>port2</code></a>のデシリアライズされたクローンを<a
                                                                    data-link-type="attribute"
                                                                    data-lt="[[port to main]]" href="#dfn-port-to-main"
                                                                    class="internalDFN"
                                                                    id="ref-for-dfn-port-to-main-2"><code>[[port to main]]</code></a>に設定します（<a
                                                                    data-link-type="attribute"
                                                                    data-lt="[[channel with worker]]"
                                                                    href="#dfn-channel-with-worker" class="internalDFN"
                                                                    id="ref-for-dfn-channel-with-worker-5"><code>[[channel with worker]]</code></a>の値）。
                                                            </li>
                                                            <li><a data-link-type="idl"
                                                                    href="#dom-mediasource-readystate"
                                                                    class="internalDFN"
                                                                    id="ref-for-dom-mediasource-readystate-17"><code>readyState</code></a>属性を
                                                                "<a data-link-type="idl" href="#dom-readystate-open"
                                                                    class="internalDFN"
                                                                    id="ref-for-dom-readystate-open-12"><code>open</code></a>"に設定します。
                                                            </li>
                                                            <li><a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue
                                                                    a task</a>で、<a data-link-type="dfn"
                                                                    href="https://dom.spec.whatwg.org/#concept-event-fire">fire
                                                                    an event</a>を行い、<a data-link-type="idl"
                                                                    data-lt="sourceopen" href="#dfn-sourceopen"
                                                                    class="internalDFN"
                                                                    id="ref-for-dfn-sourceopen-1"><code>sourceopen</code></a>という名前のイベントを
                                                                <a data-link-type="idl" data-lt="MediaSource"
                                                                    href="#dom-mediasource" class="internalDFN"
                                                                    id="ref-for-dom-mediasource-75"><code>MediaSource</code></a>で発火します。
                                                            </li>
                                                        </ol>
                                                    </li>
                                                </ol>
                                            </dd>
                                            <dt>
                                                それ以外の場合、<a data-link-type="idl" data-lt="MediaSource"
                                                    href="#dom-mediasource" class="internalDFN"
                                                    id="ref-for-dom-mediasource-76"><code>MediaSource</code></a>は<a
                                                    data-link-type="interface" data-lt="Window"
                                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>で構築されています：
                                            </dt>
                                            <dd>
                                                <ol>
                                                    <li><a data-link-type="attribute" data-lt="[[channel with worker]]"
                                                            href="#dfn-channel-with-worker" class="internalDFN"
                                                            id="ref-for-dfn-channel-with-worker-6"><code>[[channel with worker]]</code></a>を
                                                        nullに設定します。
                                                    </li>
                                                    <li><a data-link-type="attribute" data-lt="[[port to worker]]"
                                                            href="#dfn-port-to-worker" class="internalDFN"
                                                            id="ref-for-dfn-port-to-worker-3"><code>[[port to worker]]</code></a>を
                                                        nullに設定します。
                                                    </li>
                                                    <li><a data-link-type="attribute" data-lt="[[port to main]]"
                                                            href="#dfn-port-to-main" class="internalDFN"
                                                            id="ref-for-dfn-port-to-main-3"><code>[[port to main]]</code></a>を
                                                        nullに設定します。
                                                    </li>
                                                    <li><a data-link-type="idl" href="#dom-mediasource-readystate"
                                                            class="internalDFN"
                                                            id="ref-for-dom-mediasource-readystate-18"><code>readyState</code></a>属性を
                                                        "<a data-link-type="idl" href="#dom-readystate-open"
                                                            class="internalDFN"
                                                            id="ref-for-dom-readystate-open-13"><code>open</code></a>"に設定します。
                                                    </li>
                                                    <li><a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue
                                                            a task</a>で、<a data-link-type="dfn"
                                                            href="https://dom.spec.whatwg.org/#concept-event-fire">fire
                                                            an event</a>を行い、<a data-link-type="idl" data-lt="sourceopen"
                                                            href="#dfn-sourceopen" class="internalDFN"
                                                            id="ref-for-dfn-sourceopen-2"><code>sourceopen</code></a>という名前のイベントを
                                                        <a data-link-type="idl" data-lt="MediaSource"
                                                            href="#dom-mediasource" class="internalDFN"
                                                            id="ref-for-dom-mediasource-77"><code>MediaSource</code></a>で発火します。
                                                    </li>
                                                </ol>
                                            </dd>
                                        </dl>
                                    </li>
                                    <li><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                            fetch algorithm</a>を、残りの<span>"<i>Otherwise (mode is
                                                local)</i>"</span>の手順を実行することで継続します。要件は次のとおりです：
                                        <ol>
                                            <li><a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                                    fetch algorithm</a>または<a
                                                    href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                                    data processing steps list</a>における「the download」「bytes
                                                received」「whenever new data for the current media resource
                                                becomes available」への言及は、<a data-link-type="idl" data-lt="appendBuffer()"
                                                    href="#dom-sourcebuffer-appendbuffer" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-appendbuffer-2"><code>appendBuffer</code></a><code>()</code>経由で渡されるデータを指します。
                                            </li>
                                            <li><a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                                    fetch algorithm</a>および<a
                                                    href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                                    data processing steps list</a>におけるHTTPへの参照は、<a data-link-type="idl"
                                                    data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                                    id="ref-for-dom-mediasource-78"><code>MediaSource</code></a>がアタッチされているときはHTMLMediaElementがHTTP経由でメディアデータを取得しないため、適用されません。
                                            </li>
                                        </ol>
                                    </li>
                                </ol>
                            </dd>
                        </dl>
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-25">
                    <div role="heading" class="note-title marker" id="h-note-25" aria-level="5"><span>注</span></div>
                    <p class="">
                        アタッチされたMediaSourceは、<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                            fetch
                            algorithm</a>のremoteモードの手順を使用しないため、メディア要素は「suspend」イベントを発火しません。将来のこの仕様のバージョンでは、MediaSourceがアタッチされたメディア要素から「progress」および「stalled」イベントを削除する可能性が高いですが、この版に準拠するユーザーエージェントは、実装が安定した後で[<cite><a
                                class="bibref" data-link-type="biblio" href="#bib-html"
                                title="HTML Standard">HTML</a></cite>]側の参照が変更されたため、これら2つのイベントを引き続き発火する場合があります。
                    </p>
                </div>
            </section>
            <section id="mediasource-detach">
                <div class="header-wrapper">
                    <h4 id="x3-15-2-detaching-from-a-media-element"><bdi class="secno">3.15.2 </bdi>
                        <dfn id="dfn-detaching-from-a-media-element" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn" class="respec-offending-element"
                            title="Found definition for &quot;Detaching from a media element&quot;, but nothing links to it. This is usually a spec bug!">メディア要素からのデタッチ</dfn>
                    </h4><a class="self-link" href="#mediasource-detach" aria-label="Permalink for Section 3.15.2"></a>
                </div>

                <p>
                    以下の手順は、メディア要素が
                    <a data-link-type="const"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-network_empty"><code>NETWORK_EMPTY</code></a>
                    に遷移し、メディア要素で
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                    <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>
                    （名前は
                    <a data-link-type="event"
                        href="https://html.spec.whatwg.org/multipage/media.html#event-media-emptied">emptied</a>）
                    するあらゆる場合に実行されます。これらの手順は、遷移の直前に実行される
                    <em class="rfc2119">SHOULD</em> があります。
                </p>
                <ol>
                    <li>
                        <dl class="switch">
                            <dt>
                                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                    class="internalDFN" id="ref-for-dom-mediasource-79"><code>MediaSource</code></a> が
                                <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                で構築された場合：
                            </dt>
                            <dd>
                                <ol>
                                    <li><a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-80"><code>MediaSource</code></a> に対して、内部の
                                        <code>detach</code> メッセージを
                                        <a data-link-type="attribute" data-lt="[[port to worker]]"
                                            href="#dfn-port-to-worker" class="internalDFN"
                                            id="ref-for-dfn-port-to-worker-4"><code>[[port to worker]]</code></a>
                                        にポストして通知する。
                                    </li>
                                    <li><a data-link-type="attribute" data-lt="[[port to worker]]"
                                            href="#dfn-port-to-worker" class="internalDFN"
                                            id="ref-for-dfn-port-to-worker-5"><code>[[port to worker]]</code></a> を null
                                        に設定する。
                                    </li>
                                    <li><a data-link-type="attribute" data-lt="[[channel with worker]]"
                                            href="#dfn-channel-with-worker" class="internalDFN"
                                            id="ref-for-dfn-channel-with-worker-7"><code>[[channel with worker]]</code></a>
                                        を null に設定する。
                                    </li>
                                    <li>この <code>detach</code> 通知に対する暗黙のメッセージハンドラは、
                                        残りの手順を
                                        <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                        の
                                        <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-81"><code>MediaSource</code></a> で実行する。
                                    </li>
                                </ol>
                            </dd>
                            <dt>
                                それ以外の場合、<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                    class="internalDFN" id="ref-for-dom-mediasource-82"><code>MediaSource</code></a> は
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                で構築されている：
                            </dt>
                            <dd>
                                残りの手順は
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                の
                                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                    class="internalDFN" id="ref-for-dom-mediasource-83"><code>MediaSource</code></a>
                                で続行する。
                            </dd>
                        </dl>
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[port to main]]" href="#dfn-port-to-main"
                            class="internalDFN" id="ref-for-dfn-port-to-main-4"><code>[[port to main]]</code></a> を null
                        に設定する。
                    </li>
                    <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                            id="ref-for-dom-mediasource-readystate-19"><code>readyState</code></a> 属性を
                        "<a data-link-type="idl" href="#dom-readystate-closed" class="internalDFN"
                            id="ref-for-dom-readystate-closed-9"><code>closed</code></a>" に設定する。
                    </li>
                    <li><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> が
                        <a data-link-type="idl" data-lt="ManagedMediaSource" href="#dom-managedmediasource"
                            class="internalDFN"
                            id="ref-for-dom-managedmediasource-3"><code>ManagedMediaSource</code></a> の場合、
                        <a data-link-type="idl" href="#dom-managedmediasource-streaming" class="internalDFN"
                            id="ref-for-dom-managedmediasource-streaming-1"><code>streaming</code></a>
                        属性を <code>false</code> に設定する。
                    </li>
                    <li><a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                            id="ref-for-dom-mediasource-duration-2"><code>duration</code></a> を NaN に更新する。
                    </li>
                    <li><a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-27"><code>SourceBuffer</code></a> オブジェクトをすべて
                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-activesourcebuffers-7"><code>activeSourceBuffers</code></a>
                        から削除する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                        名前が <a data-link-type="idl" data-lt="removesourcebuffer" href="#dfn-removesourcebuffer"
                            class="internalDFN"
                            id="ref-for-dfn-removesourcebuffer-3"><code>removesourcebuffer</code></a> のイベントを
                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-activesourcebuffers-8"><code>activeSourceBuffers</code></a>
                        で発火する。
                    </li>
                    <li><a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-28"><code>SourceBuffer</code></a> オブジェクトをすべて
                        <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-sourcebuffers-16"><code>sourceBuffers</code></a> から削除する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                        名前が <a data-link-type="idl" data-lt="removesourcebuffer" href="#dfn-removesourcebuffer"
                            class="internalDFN"
                            id="ref-for-dfn-removesourcebuffer-4"><code>removesourcebuffer</code></a> のイベントを
                        <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-sourcebuffers-17"><code>sourceBuffers</code></a> で発火する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                        名前が <a data-link-type="idl" data-lt="sourceclose" href="#dfn-sourceclose" class="internalDFN"
                            id="ref-for-dfn-sourceclose-1"><code>sourceclose</code></a> のイベントを
                        <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-84"><code>MediaSource</code></a> で発火する。
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-26">
                    <div role="heading" class="note-title marker" id="h-note-26" aria-level="5"><span>注</span></div>
                    <p class="">
                        今後、このアルゴリズムは、アタッチされている
                        <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-85"><code>MediaSource</code></a>（存在する場合）を
                        メディア要素からデタッチしなければならないあらゆるケースで、外部から呼び出して実行することを意図しています。
                        これは、メディア要素が
                        <a data-link-type="const"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-network_empty"><code>NETWORK_EMPTY</code></a>
                        に遷移する際に加えて、あるいはその代わりに、HTMLMediaElement
                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                title="HTML Standard">HTML</a></cite>] の load() などの操作や
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                            fetch algorithm</a> の失敗時に呼び出される <em class="rfc2119">MAY</em> があります。
                        リソース取得アルゴリズムの失敗とは、resource fetch algorithm か resource selection algorithm のいずれかを中断する失敗を指しますが、
                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                title="HTML Standard">HTML</a></cite>] の「Final step」は
                        デタッチをトリガーする失敗とは見なされません。
                    </p>
                </div>
            </section>
            <section id="mediasource-seeking">
                <div class="header-wrapper">
                    <h4 id="x3-15-3-seeking"><bdi class="secno">3.15.3 </bdi>
                        <dfn id="dfn-seeking" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn"
                            class="respec-offending-element"
                            title="Found definition for &quot;Seeking&quot;, but nothing links to it. This is usually a spec bug!">シーク</dfn>
                    </h4><a class="self-link" href="#mediasource-seeking" aria-label="Permalink for Section 3.15.3"></a>
                </div>

                <p>
                    <a href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seek">seek アルゴリズム</a> の
                    「<i>ユーザーエージェントが、新しい再生位置のメディアデータが利用可能かどうかを判断し、
                        もし利用可能であれば、その位置を再生できるだけのデータをデコードするまで待機する</i>」手順の一部として、
                    次の手順を実行します。
                </p>
                <ol>
                    <li>
                        <div class="note" role="note" id="issue-container-generatedID-27">
                            <div role="heading" class="note-title marker" id="h-note-27" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                メディア要素は、<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-29"><code>SourceBuffer</code></a>
                                オブジェクト（
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-9"><code>activeSourceBuffers</code></a>
                                内）
                                のそれぞれについて、<var data-type="double">new playback
                                    position</var> を含む
                                <a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                                    id="ref-for-dfn-media-segment-4">メディアセグメント</a>
                                を探します。現在の
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="attribute"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                                属性の値に含まれる
                                <a data-link-type="interface" data-lt="TimeRanges"
                                    href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                                内の任意の位置には、その位置に必要なすべてのメディアセグメントがバッファされています。
                            </p>
                        </div>
                        <dl class="switch">
                            <dt>
                                <var>new playback position</var> が、
                                <a data-link-type="interface" data-lt="TimeRanges"
                                    href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                                （<a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="attribute"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>）
                                のいずれにも含まれていない場合
                            </dt>
                            <dd>
                                <ol>
                                    <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-2"><code>readyState</code></a> 属性が
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                        より大きい場合、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-3"><code>readyState</code></a> 属性を
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                        に設定する。
                                        <div class="note" role="note" id="issue-container-generatedID-28">
                                            <div role="heading" class="note-title marker" id="h-note-28" aria-level="5">
                                                <span>注</span>
                                            </div>
                                            <p class="">
                                                <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement のレディ状態</a></code>
                                                [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                        title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                                の
                                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                                    id="ref-for-dom-readystate-4"><code>readyState</code></a> の変更は、
                                                HTMLMediaElement 上でイベントをトリガーする可能性があります。
                                            </p>
                                        </div>
                                    </li>
                                    <li>メディア要素は、ある
                                        <a data-link-type="idl" data-lt="appendBuffer()"
                                            href="#dom-sourcebuffer-appendbuffer" class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-appendbuffer-3"><code>appendBuffer</code></a><code>()</code>
                                        呼び出しによって
                                        <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-processing-2">符号化フレーム処理</a>
                                        アルゴリズムが実行され、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-5"><code>readyState</code></a> 属性が
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                        より大きい値に設定されるまで待機する。
                                        <div class="note" role="note" id="issue-container-generatedID-29">
                                            <div role="heading" class="note-title marker" id="h-note-29" aria-level="5">
                                                <span>注</span>
                                            </div>
                                            <p class="">
                                                ウェブアプリケーションは、
                                                <a data-link-type="idl" href="#dom-sourcebuffer-buffered"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-buffered-1"><code>buffered</code></a> と
                                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                                の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                                                を用いて、再生再開に必要なものを判断できます。
                                            </p>
                                        </div>
                                    </li>
                                </ol>
                            </dd>
                            <dt>
                                それ以外の場合
                            </dt>
                            <dd>
                                続行
                                <div class="note" role="note" id="issue-container-generatedID-30">
                                    <div role="heading" class="note-title marker" id="h-note-30" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                            id="ref-for-dom-mediasource-readystate-20"><code>readyState</code></a>
                                        属性が "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                            id="ref-for-dom-readystate-ended-5"><code>ended</code></a>" で、
                                        <var>new playback position</var> が現在の
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="attribute"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                                        に含まれる
                                        <a data-link-type="interface" data-lt="TimeRanges"
                                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                                        内にある場合には、現在選択または有効なトラックバッファの最大範囲終了タイムスタンプが
                                        <var>new playback position</var> より小さくても、ここでシーク操作は完了まで継続しなければなりません。
                                        この条件は、
                                        <a data-link-type="idl" href="#dom-sourcebuffer-buffered" class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-buffered-2"><code>buffered</code></a> のロジックにより、
                                        <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                            id="ref-for-dom-mediasource-readystate-21"><code>readyState</code></a> が
                                        "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                            id="ref-for-dom-readystate-ended-6"><code>ended</code></a>" のときにのみ発生するはずです。
                                    </p>
                                </div>
                            </dd>
                        </dl>
                    </li>
                    <li>メディア要素はすべてのデコーダーをリセットし、適切な
                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                            id="ref-for-dfn-initialization-segment-4">initialization segment</a> のデータで各デコーダーを初期化する。
                    </li>
                    <li>メディア要素は、<a data-link-type="dfn|abstract-op" href="#dfn-active-track-buffers" class="internalDFN"
                            id="ref-for-dfn-active-track-buffers-1">active track buffers</a> から
                        <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                            id="ref-for-dfn-coded-frame-10">coded frames</a> をデコーダーへ供給し、
                        <var>new playback position</var> の直前で最も近い
                        <a data-link-type="dfn|abstract-op" href="#random-access-point" class="internalDFN"
                            id="ref-for-random-access-point-1">random
                            access point</a> から開始する。
                    </li>
                    <li><a href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seek">seek
                            アルゴリズム</a> を「<i>安定状態を待機</i>」の手順から再開する。
                    </li>
                </ol>
            </section>
            <section id="buffer-monitoring">
                <div class="header-wrapper">
                    <h4 id="x3-15-4-sourcebuffer-monitoring"><bdi class="secno">3.15.4 </bdi>
                        <dfn id="dfn-sourcebuffer-monitoring" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">SourceBuffer 監視</dfn>
                    </h4><a class="self-link" href="#buffer-monitoring" aria-label="Permalink for Section 3.15.4"></a>
                </div>

                <p>
                    再生中に定期的に次の手順を実行し、<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                        class="internalDFN" id="ref-for-dom-sourcebuffer-30"><code>SourceBuffer</code></a> オブジェクト（
                    <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-activesourcebuffers-10"><code>activeSourceBuffers</code></a> 内）が、
                    <a data-link-type="dfn|abstract-op" href="#enough-data" class="internalDFN"
                        id="ref-for-enough-data-1">途切れのない再生を保証するのに十分なデータ</a> を持っていることを確認します。
                    <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-activesourcebuffers-11"><code>activeSourceBuffers</code></a> の変更も、
                    状態遷移をトリガーする条件に影響するため、これらの手順の実行原因となります。
                </p>
                <p>
                    <dfn id="enough-data" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">途切れのない再生を保証するのに十分なデータ</dfn> を持つとは、
                    ユーザーエージェントが、意味のある時間停止することなくプレゼンテーションを再生できるだけのデータが現在あると判断する、
                    実装固有の条件です。この条件は常に評価され、メディア要素を
                    <a data-link-type="const"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_enough_data"><code>HAVE_ENOUGH_DATA</code></a>
                    レディ状態に入出するタイミングを決定します。これらの遷移は、それぞれ、ユーザーエージェントが十分なデータがバッファされていると考えているのか、さらなるデータが必要なのかを示します。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-31">
                    <div role="heading" class="note-title marker" id="h-note-31" aria-level="5"><span>注</span></div>
                    <p class="">
                        実装は、バッファ済みバイト数、バッファ済み時間、アペンド速度、その他適切と見なす任意の指標を用いて、
                        いつ十分なデータがあるかを判断しても
                        <em class="rfc2119">MAY</em> です。使用する指標は再生中に変化する
                        <em class="rfc2119">MAY</em> があるため、
                        ウェブアプリケーションは、より多くのデータが必要かどうかの判断には
                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                        の
                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                            id="ref-for-dom-readystate-6"><code>readyState</code></a> の値のみに依拠する
                        <em class="rfc2119">SHOULD</em> があります。
                    </p>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-32">
                    <div role="heading" class="note-title marker" id="h-note-32" aria-level="5"><span>注</span></div>
                    <p class="">
                        メディア要素がより多くのデータを必要とする場合、ユーザーエージェントは、
                        <em class="rfc2119">SHOULD</em> 早めに
                        <a data-link-type="const"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_enough_data"><code>HAVE_ENOUGH_DATA</code></a>
                        から
                        <a data-link-type="const"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_future_data"><code>HAVE_FUTURE_DATA</code></a>
                        に遷移させ、再生の中断を引き起こすことなくウェブアプリケーションが応答できるようにすべきです。
                        例えば、現在の再生位置がバッファ済みデータの末尾の 500ms 手前で遷移すれば、再生が停止する前にアプリケーションはおよそ 500ms でデータを追加できます。
                    </p>
                </div>
                <dl class="switch">
                    <dt>
                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                        の
                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                            id="ref-for-dom-readystate-7"><code>readyState</code></a> 属性が
                        <a data-link-type="const"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_nothing"><code>HAVE_NOTHING</code></a>
                        と等しい場合：
                    </dt>
                    <dd>
                        <ol>
                            <li>これらの手順を中止する。
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                        の
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                        が、現在の再生位置に対応する
                        <a data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                        を含まない場合：
                    </dt>
                    <dd>
                        <ol>
                            <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-8"><code>readyState</code></a> 属性を
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                に設定する。
                                <div class="note" role="note" id="issue-container-generatedID-33">
                                    <div role="heading" class="note-title marker" id="h-note-33" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement のレディ状態</a></code>
                                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-9"><code>readyState</code></a> の変更は、
                                        HTMLMediaElement 上でイベントをトリガーする可能性があります。
                                    </p>
                                </div>
                            </li>
                            <li>これらの手順を中止する。
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                        の
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                        が、現在の再生位置を含み、かつ
                        <a data-link-type="dfn|abstract-op" href="#enough-data" class="internalDFN"
                            id="ref-for-enough-data-2">途切れのない再生を保証するのに十分なデータ</a>
                        を含む <a data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                        を含む場合：
                    </dt>
                    <dd>
                        <ol>
                            <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-10"><code>readyState</code></a> 属性を
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_enough_data"><code>HAVE_ENOUGH_DATA</code></a>
                                に設定する。
                                <div class="note" role="note" id="issue-container-generatedID-34">
                                    <div role="heading" class="note-title marker" id="h-note-34" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement のレディ状態</a></code>
                                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-11"><code>readyState</code></a> の変更は、
                                        HTMLMediaElement 上でイベントをトリガーする可能性があります。
                                    </p>
                                </div>
                            </li>
                            <li>以前に
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_current_data"><code>HAVE_CURRENT_DATA</code></a>
                                への遷移によって一時停止していた場合、この時点で再生が再開されることがある。
                            </li>
                            <li>これらの手順を中止する。
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                        の
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                        が、現在の再生位置を含み、かつ現在の再生位置よりも先の時間も含む
                        <a data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                        を含む場合、次の手順を実行する：
                    </dt>
                    <dd>
                        <ol>
                            <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-12"><code>readyState</code></a> 属性を
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_future_data"><code>HAVE_FUTURE_DATA</code></a>
                                に設定する。
                                <div class="note" role="note" id="issue-container-generatedID-35">
                                    <div role="heading" class="note-title marker" id="h-note-35" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement のレディ状態</a></code>
                                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-13"><code>readyState</code></a> の変更は、
                                        HTMLMediaElement 上でイベントをトリガーする可能性があります。
                                    </p>
                                </div>
                            </li>
                            <li>以前に
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_current_data"><code>HAVE_CURRENT_DATA</code></a>
                                への遷移によって一時停止していた場合、この時点で再生が再開されることがある。
                            </li>
                            <li>これらの手順を中止する。
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                        の
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                        が、現在の再生位置で終了し、その直後の時間をカバーする範囲を持たない
                        <a data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                        を含む場合：
                    </dt>
                    <dd>
                        <ol>
                            <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-14"><code>readyState</code></a> 属性を
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_current_data"><code>HAVE_CURRENT_DATA</code></a>
                                に設定する。
                                <div class="note" role="note" id="issue-container-generatedID-36">
                                    <div role="heading" class="note-title marker" id="h-note-36" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement のレディ状態</a></code>
                                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-15"><code>readyState</code></a> の変更は、
                                        HTMLMediaElement 上でイベントをトリガーする可能性があります。
                                    </p>
                                </div>
                            </li>
                            <li>メディア要素は、<a
                                    href="https://html.spec.whatwg.org/multipage/media.html#media-timeline">メディアタイムライン</a>
                                を進めるのに十分なデータを持たないため、
                                この時点で再生は一時停止される。
                            </li>
                            <li>これらの手順を中止する。
                            </li>
                        </ol>
                    </dd>
                </dl>
            </section>
            <section id="active-source-buffer-changes">
                <div class="header-wrapper">
                    <h4 id="x3-15-5-changes-to-selected-enabled-track-state"><bdi class="secno">3.15.5 </bdi>
                        <dfn id="dfn-changes-to-selected-enabled-track-state" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn" class="respec-offending-element"
                            title="Found definition for &quot;Changes to selected/enabled track state&quot;, but nothing links to it. This is usually a spec bug!">選択/有効トラック状態の変更</dfn>
                    </h4><a class="self-link" href="#active-source-buffer-changes"
                        aria-label="Permalink for Section 3.15.5"></a>
                </div>

                <p>
                    再生中、<a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                        id="ref-for-dom-mediasource-activesourcebuffers-12"><code>activeSourceBuffers</code></a> は、
                    ビデオトラックの
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-selected"><code>selected</code></a>、
                    オーディオトラックの
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-enabled"><code>enabled</code></a>、
                    あるいはテキストトラックの
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-mode"><code>mode</code></a>
                    が変更された場合に更新する必要があります。これらのうち 1 つ以上が変更されたときは、以下の手順に従う必要があります。
                    また、<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-86"><code>MediaSource</code></a> が
                    <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    で構築された場合、
                    以前に内部の <code>create track mirror</code> メッセージの暗黙ハンドラによって作成されたトラックの
                    <a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    ミラーに発生する各変更も、
                    <a data-link-type="attribute" data-lt="[[port to worker]]" href="#dfn-port-to-worker"
                        class="internalDFN" id="ref-for-dfn-port-to-worker-6"><code>[[port to worker]]</code></a>
                    にポストされる内部の <code>update track state</code> メッセージを用いて
                    対応する
                    <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    のトラックにも反映しなければなりません <em class="rfc2119">MUST</em>。暗黙ハンドラは変更を行い、以下の手順を実行します。
                    同様に、
                    <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    のトラックに発生する各変更も、
                    <a data-link-type="attribute" data-lt="[[port to main]]" href="#dfn-port-to-main"
                        class="internalDFN" id="ref-for-dfn-port-to-main-5"><code>[[port to main]]</code></a> にポストされる内部の
                    <code>update track state</code> メッセージを用いて
                    対応する
                    <a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    のミラーにも反映しなければなりません <em class="rfc2119">MUST</em>。暗黙ハンドラはミラーに変更を適用します。
                </p>
                <dl class="switch">
                    <dt>
                        選択されたビデオトラックが変更された場合は、以下の手順を実行する：
                    </dt>
                    <dd>
                        <ol>
                            <li>以前に選択されていたビデオトラックに関連付けられている
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-31"><code>SourceBuffer</code></a>
                                が、
                                他の有効なトラックと関連付けられていない場合、以下の手順を実行する：
                                <ol>
                                    <li>その <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-32"><code>SourceBuffer</code></a> を
                                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-activesourcebuffers-13"><code>activeSourceBuffers</code></a>
                                        から削除する。
                                    </li>
                                    <li><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                        <a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                        名前が <a data-link-type="idl" data-lt="removesourcebuffer"
                                            href="#dfn-removesourcebuffer" class="internalDFN"
                                            id="ref-for-dfn-removesourcebuffer-5"><code>removesourcebuffer</code></a>
                                        のイベントを
                                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-activesourcebuffers-14"><code>activeSourceBuffers</code></a>
                                        で発火する。
                                    </li>
                                </ol>
                            </li>
                            <li>新たに選択されたビデオトラックに関連付けられている
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-33"><code>SourceBuffer</code></a>
                                が、
                                まだ <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                    class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-15"><code>activeSourceBuffers</code></a>
                                に含まれていない場合、以下の手順を実行する：
                                <ol>
                                    <li>その <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-34"><code>SourceBuffer</code></a> を
                                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-activesourcebuffers-16"><code>activeSourceBuffers</code></a>
                                        に追加する。
                                    </li>
                                    <li><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                        <a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                        名前が <a data-link-type="idl" data-lt="addsourcebuffer"
                                            href="#dfn-addsourcebuffer" class="internalDFN"
                                            id="ref-for-dfn-addsourcebuffer-2"><code>addsourcebuffer</code></a> のイベントを
                                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-activesourcebuffers-17"><code>activeSourceBuffers</code></a>
                                        で発火する。
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        あるオーディオトラックが無効になり、そのトラックに関連付けられている
                        <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-35"><code>SourceBuffer</code></a>
                        が、他の有効または選択トラックと関連付けられていない場合、次の手順を実行する：
                    </dt>
                    <dd>
                        <ol>
                            <li>そのオーディオトラックに関連付けられている
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-36"><code>SourceBuffer</code></a> を
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-18"><code>activeSourceBuffers</code></a>
                                から削除する。
                            </li>
                            <li><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                名前が <a data-link-type="idl" data-lt="removesourcebuffer" href="#dfn-removesourcebuffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-removesourcebuffer-6"><code>removesourcebuffer</code></a> のイベントを
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-19"><code>activeSourceBuffers</code></a>
                                で発火する。
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        あるオーディオトラックが有効になり、そのトラックに関連付けられている
                        <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-37"><code>SourceBuffer</code></a> が、
                        まだ <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-activesourcebuffers-20"><code>activeSourceBuffers</code></a>
                        に含まれていない場合、次の手順を実行する：
                    </dt>
                    <dd>
                        <ol>
                            <li>そのオーディオトラックに関連付けられている
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-38"><code>SourceBuffer</code></a> を
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-21"><code>activeSourceBuffers</code></a>
                                に追加する。
                            </li>
                            <li><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                名前が <a data-link-type="idl" data-lt="addsourcebuffer" href="#dfn-addsourcebuffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-addsourcebuffer-3"><code>addsourcebuffer</code></a> のイベントを
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-22"><code>activeSourceBuffers</code></a>
                                で発火する。
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        テキストトラックの
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-mode"><code>mode</code></a>
                        が
                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-disabled">"disabled"</a></code>
                        になり、そのトラックに関連付けられている
                        <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-39"><code>SourceBuffer</code></a> が、
                        他の有効または選択トラックと関連付けられていない場合、次の手順を実行する：
                    </dt>
                    <dd>
                        <ol>
                            <li>そのテキストトラックに関連付けられている
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-40"><code>SourceBuffer</code></a> を
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-23"><code>activeSourceBuffers</code></a>
                                から削除する。
                            </li>
                            <li><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                名前が <a data-link-type="idl" data-lt="removesourcebuffer" href="#dfn-removesourcebuffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-removesourcebuffer-7"><code>removesourcebuffer</code></a> のイベントを
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-24"><code>activeSourceBuffers</code></a>
                                で発火する。
                            </li>
                        </ol>
                    </dd>
                    <dt>
                        テキストトラックの
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-mode"><code>mode</code></a>
                        が
                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-showing">"showing"</a></code>
                        または
                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-hidden">"hidden"</a></code>
                        になり、そのトラックに関連付けられている
                        <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-41"><code>SourceBuffer</code></a> が、
                        まだ <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-activesourcebuffers-25"><code>activeSourceBuffers</code></a>
                        に含まれていない場合、次の手順を実行する：
                    </dt>
                    <dd>
                        <ol>
                            <li>そのテキストトラックに関連付けられている
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-42"><code>SourceBuffer</code></a> を
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-26"><code>activeSourceBuffers</code></a>
                                に追加する。
                            </li>
                            <li><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                名前が <a data-link-type="idl" data-lt="addsourcebuffer" href="#dfn-addsourcebuffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-addsourcebuffer-4"><code>addsourcebuffer</code></a> のイベントを
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-27"><code>activeSourceBuffers</code></a>
                                で発火する。
                            </li>
                        </ol>
                    </dd>
                </dl>
            </section>
            <section id="duration-change-algorithm">
                <div class="header-wrapper">
                    <h4 id="x3-15-6-duration-change"><bdi class="secno">3.15.6 </bdi>
                        <dfn id="dfn-duration-change" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">duration変更</dfn>
                    </h4><a class="self-link" href="#duration-change-algorithm"
                        aria-label="Permalink for Section 3.15.6"></a>
                </div>

                <p>
                    <a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                        id="ref-for-dom-mediasource-duration-3"><code>duration</code></a> を <var
                        data-type="unrestricted double">new
                        duration</var> に変更する必要がある場合、以下の手順に従います。
                </p>
                <ol>
                    <li>現在の <a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                            id="ref-for-dom-mediasource-duration-4"><code>duration</code></a> の値が
                        <var>new duration</var> と等しい場合、戻ります。
                    </li>
                    <li><var>new duration</var> が、
                        <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-43"><code>SourceBuffer</code></a> （
                        <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-sourcebuffers-18"><code>sourceBuffers</code></a>内）のすべてにわたる
                        バッファ済み <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                            id="ref-for-dfn-coded-frame-11">coded frames</a> の最大の
                        <a data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-11">presentation timestamp</a> より小さい場合、
                        <a data-link-type="exception" data-lt="InvalidStateError"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                        例外を投げて、
                        これらの手順を中止します。
                        <div class="note" role="note" id="issue-container-generatedID-37">
                            <div role="heading" class="note-title marker" id="h-note-37" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                現在バッファされているメディアを切り捨てるような duration の短縮は許可されません。
                                切り捨てが必要な場合は、<a data-link-type="idl" data-lt="remove()" href="#dom-sourcebuffer-remove"
                                    class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-remove-1"><code>remove</code></a><code>()</code> を使用して
                                duration を更新する前にバッファ範囲を縮小してください。
                            </p>
                        </div>
                    </li>
                    <li><var data-type="unrestricted double">highest end time</var> を、
                        すべての <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-44"><code>SourceBuffer</code></a> （
                        <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-sourcebuffers-19"><code>sourceBuffers</code></a>内）の
                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                            id="ref-for-track-buffer-2">track buffers</a> にわたる
                        <a data-link-type="dfn|abstract-op" href="#track-buffer-ranges" class="internalDFN"
                            id="ref-for-track-buffer-ranges-1">track buffer ranges</a> の最大の終了時刻とします。
                    </li>
                    <li><var>new duration</var> が <var data-type="unrestricted double">highest end time</var> より小さい場合
                        <div class="note" role="note" id="issue-container-generatedID-38">
                            <div role="heading" class="note-title marker" id="h-note-38" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                この条件は、<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-removal"
                                    class="internalDFN" id="ref-for-dfn-coded-frame-removal-1">coded frame removal</a>
                                アルゴリズムが、
                                削除範囲の開始前に始まる coded frames を保持するために発生することがあります。
                            </p>
                        </div>
                        <ol>
                            <li><var>new duration</var> を <var data-type="unrestricted double">highest end time</var>
                                と等しく更新します。
                            </li>
                        </ol>
                    </li>
                    <li><a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                            id="ref-for-dom-mediasource-duration-6"><code>duration</code></a> を <var>new
                            duration</var> に更新します。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary" class="internalDFN"
                            id="ref-for-dfn-mirror-if-necessary-4">mirror if necessary</a> アルゴリズムを使って、
                        メディア要素の duration を更新するため、<a data-link-type="interface" data-lt="Window"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                        で
                        以下の手順を実行します：
                        <ol>
                            <li>メディア要素の <a data-link-type="attribute"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-duration"><code>duration</code></a>
                                を <var>new duration</var> に更新する。
                            </li>
                            <li><a href="https://html.spec.whatwg.org/multipage/media.html#durationChange">HTMLMediaElement
                                    duration change algorithm</a> を実行する。
                            </li>
                        </ol>
                    </li>
                </ol>
            </section>
            <section id="end-of-stream-algorithm">
                <div class="header-wrapper">
                    <h4 id="x3-15-7-end-of-stream"><bdi class="secno">3.15.7 </bdi>
                        <dfn id="dfn-end-of-stream" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">ストリーム終了</dfn>
                    </h4><a class="self-link" href="#end-of-stream-algorithm"
                        aria-label="Permalink for Section 3.15.7"></a>
                </div>

                <p>
                    このアルゴリズムは、アプリケーションが
                    <a data-link-type="idl" data-lt="endOfStream()" href="#dom-mediasource-endofstream"
                        class="internalDFN"
                        id="ref-for-dom-mediasource-endofstream-4"><code>endOfStream</code></a><code>()</code>
                    を呼び出してストリームの終了を通知したとき、
                    またはアルゴリズムがデコードエラーを通知する必要があるときに呼び出されます。
                    このアルゴリズムは、エラーを通知するかどうかを示す <var data-type="EndOfStreamError">error</var> パラメータを受け取ります。
                </p>
                <ol>
                    <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                            id="ref-for-dom-mediasource-readystate-22"><code>readyState</code></a> 属性値を
                        "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                            id="ref-for-dom-readystate-ended-7"><code>ended</code></a>" に変更します。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                        名前が <a data-link-type="idl" data-lt="sourceended" href="#dfn-sourceended" class="internalDFN"
                            id="ref-for-dfn-sourceended-1"><code>sourceended</code></a> のイベントを
                        <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-87"><code>MediaSource</code></a> で発火します。
                    </li>
                    <li>
                        <dl class="switch">
                            <dt>
                                <var data-type="EndOfStreamError">error</var> が設定されていない場合
                            </dt>
                            <dd>
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" href="#dfn-duration-change"
                                            class="internalDFN" id="ref-for-dfn-duration-change-3">duration変更</a>
                                        アルゴリズムを、
                                        <var data-type="unrestricted double">new duration</var> を
                                        すべての <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-45"><code>SourceBuffer</code></a> （
                                        <a data-link-type="idl" href="#dom-mediasource-sourcebuffers"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-sourcebuffers-20"><code>sourceBuffers</code></a>内）の
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                            id="ref-for-track-buffer-3">track buffers</a> にわたる
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer-ranges"
                                            class="internalDFN" id="ref-for-track-buffer-ranges-2">track buffer
                                            ranges</a> の最大の終了時刻に設定して実行します。
                                        <div class="note" role="note" id="issue-container-generatedID-39">
                                            <div role="heading" class="note-title marker" id="h-note-39" aria-level="5">
                                                <span>注</span>
                                            </div>
                                            <p class="">
                                                これにより、durationが追加済みメディアセグメントの終了位置に正しく反映されます。
                                                例えば、durationが明示的に10秒に設定されており、endOfStream()呼び出し前に0～5秒のメディアセグメントだけが追加された場合、
                                                durationは5秒に更新されます。
                                            </p>
                                        </div>
                                    </li>
                                    <li>メディア要素に、すべてのメディアデータが揃ったことを通知します。
                                    </li>
                                </ol>
                            </dd>
                            <dt>
                                <var data-type="EndOfStreamError">error</var> が "<a data-link-type="idl"
                                    href="#dom-endofstreamerror-network" class="internalDFN"
                                    id="ref-for-dom-endofstreamerror-network-2"><code>network</code></a>" に設定されている場合
                            </dt>
                            <dd>
                                <a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary" class="internalDFN"
                                    id="ref-for-dfn-mirror-if-necessary-5">mirror if necessary</a> アルゴリズムを使い、
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                で以下の手順を実行します：
                                <dl class="switch">
                                    <dt>
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-16"><code>readyState</code></a> 属性が
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_nothing"><code>HAVE_NOTHING</code></a>
                                        と等しい場合
                                    </dt>
                                    <dd>
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                            fetch algorithm</a> の
                                        <a
                                            href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                            data processing steps list</a> にある
                                        <span>"<i>If the media data cannot be fetched at all, due to network errors,
                                                causing the user agent to give up trying to fetch the
                                                resource</i>"</span> の手順を実行します。
                                    </dd>
                                    <dt>
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-17"><code>readyState</code></a> 属性が
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_nothing"><code>HAVE_NOTHING</code></a>
                                        より大きい場合
                                    </dt>
                                    <dd>
                                        <span>"<i>If the connection is interrupted after some media data has been
                                                received, causing the user agent to give up trying to fetch the
                                                resource</i>"</span> の手順を
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                            fetch algorithm</a> の
                                        <a
                                            href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                            data processing steps list</a> で実行します。
                                    </dd>
                                </dl>
                            </dd>
                            <dt>
                                <var data-type="EndOfStreamError">error</var> が "<a data-link-type="idl"
                                    href="#dom-endofstreamerror-decode" class="internalDFN"
                                    id="ref-for-dom-endofstreamerror-decode-2"><code>decode</code></a>" に設定されている場合
                            </dt>
                            <dd>
                                <a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary" class="internalDFN"
                                    id="ref-for-dfn-mirror-if-necessary-6">mirror if necessary</a> アルゴリズムを使い、
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                で以下の手順を実行します：
                                <dl class="switch">
                                    <dt>
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-18"><code>readyState</code></a> 属性が
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_nothing"><code>HAVE_NOTHING</code></a>
                                        と等しい場合
                                    </dt>
                                    <dd>
                                        "<i>If the media data can be fetched but is found by inspection to be
                                            in an unsupported format, or can otherwise not be rendered at all</i>" の手順を
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                            fetch algorithm</a> の
                                        <a
                                            href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                            data processing steps list</a> で実行します。
                                    </dd>
                                    <dt>
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-19"><code>readyState</code></a> 属性が
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_nothing"><code>HAVE_NOTHING</code></a>
                                        より大きい場合
                                    </dt>
                                    <dd>
                                        <a href="https://html.spec.whatwg.org/multipage/media.html#fatal-decode-error">media
                                            data is corrupted</a> の手順を
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/media.html#concept-media-load-resource">resource
                                            fetch algorithm</a> の
                                        <a
                                            href="https://html.spec.whatwg.org/multipage/media.html#media-data-processing-steps-list">media
                                            data processing steps list</a> で実行します。
                                    </dd>
                                </dl>
                            </dd>
                        </dl>
                    </li>
                </ol>
            </section>
            <section id="mirror-if-necessary-algorithm">
                <div class="header-wrapper">
                    <h4 id="x3-15-8-mirror-if-necessary"><bdi class="secno">3.15.8 </bdi>
                        <dfn id="dfn-mirror-if-necessary" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">必要ならmirror</dfn>
                    </h4><a class="self-link" href="#mirror-if-necessary-algorithm"
                        aria-label="Permalink for Section 3.15.8"></a>
                </div>

                <p>
                    このアルゴリズムは、<a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-88"><code>MediaSource</code></a> が
                    同じ <a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    でアタッチされている場合や
                    <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    からアタッチされている場合に、
                    <a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    で手順を実行するために使います。
                    通常は、アタッチされている
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    の状態を更新するためです。
                    このアルゴリズムは、<var>steps</var> パラメータ（<a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    で実行する手順のリスト）を受け取ります。
                </p>
                <dl class="switch">
                    <dt>
                        <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-89"><code>MediaSource</code></a> が <a data-link-type="interface"
                            data-lt="DedicatedWorkerGlobalScope"
                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                        で構築されている場合：
                    </dt>
                    <dd>
                        <a data-link-type="attribute" data-lt="[[port to main]]" href="#dfn-port-to-main"
                            class="internalDFN" id="ref-for-dfn-port-to-main-6"><code>[[port to main]]</code></a> に内部
                        <code>mirror on window</code> メッセージをポストし、
                        <a data-link-type="interface" data-lt="Window"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                        の暗黙ハンドラが <var>steps</var> を実行します。
                        このハンドラの受信を待たずに呼び出し元に制御を返します。
                        <div class="note" role="note" id="issue-container-generatedID-40">
                            <div role="heading" class="note-title marker" id="h-note-40" aria-level="5">
                                <span>注</span>
                            </div>
                            <div class="">
                                mirrorメッセージ機構の目的は以下の通りです：
                                <ol>
                                    <li><var>steps</var> が <a data-link-type="interface" data-lt="Window"
                                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                        上で
                                        非同期に独立したタスクとして実行されること（他の <a data-link-type="interface" data-lt="Window"
                                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                        タスクの途中で
                                        実行されるのではなく）、かつ
                                    </li>
                                    <li><var>steps</var> が
                                        <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                        上で
                                        このアルゴリズムの同期実行やリターンをブロックしないこと
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </dd>
                    <dt>
                        それ以外の場合：
                    </dt>
                    <dd>
                        <var>steps</var> を実行する。
                    </dd>
                </dl>
            </section>
        </section>
    </section>
    <section id="mediasourcehandle">
        <div class="header-wrapper">
            <h2 id="x4-mediasourcehandle-interface"><bdi class="secno">4. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-mediasourcehandle" data-idl="interface"
                    data-title="MediaSourceHandle" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>MediaSourceHandle</code></dfn> インターフェース
            </h2><a class="self-link" href="#mediasourcehandle" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                id="ref-for-dom-mediasourcehandle-13"><code>MediaSourceHandle</code></a> インターフェースは、
            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-90"><code>MediaSource</code></a> オブジェクトのプロキシを表します。
            これは、<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
            の
            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-91"><code>MediaSource</code></a> を
            <a data-link-type="interface" data-lt="Window"
                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a> の
            <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
            に
            <a data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
            を使って
            アタッチする際に便利です（<a data-link-type="dfn|abstract-op" href="#dfn-attaching-to-a-media-element"
                class="internalDFN" id="ref-for-dfn-attaching-to-a-media-element-3">メディア要素へのアタッチ</a>アルゴリズム参照）。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-41">
            <div role="heading" class="note-title marker" id="h-note-41" aria-level="3"><span>注</span></div>
            <p class="">
                この別オブジェクトは、クロスコンテキストの <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                    class="internalDFN" id="ref-for-dom-mediasource-92"><code>MediaSource</code></a> を
                メディア要素にアタッチするために必要です。なぜなら
                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-93"><code>MediaSource</code></a> オブジェクト自体は
                イベントターゲットであるため、transferableではありません。
            </p>
        </div>
        <p>
            それぞれの <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                id="ref-for-dom-mediasourcehandle-14"><code>MediaSourceHandle</code></a> オブジェクトは
            <dfn data-dfn-for="MediaSourceHandle" data-idl="" data-noexport="" data-dfn-type="attribute"
                id="dfn-has-ever-been-assigned-as-srcobject" tabindex="0" aria-haspopup="dialog">[[has ever
                been assigned as srcobject]]</dfn> という内部スロットを持ちます。
            これは <a data-link-type="interface" data-lt="boolean"
                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a> 型で、
            <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                id="ref-for-dom-mediasourcehandle-15"><code>MediaSourceHandle</code></a> オブジェクト生成時は false で初期化されます。
            <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
            の
            <a data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
            セッター（
            <a href="#htmlmediaelement-extensions" data-matched-text="[[[#htmlmediaelement-extensions]]]"
                class="sec-ref"><bdi class="secno">10. </bdi>
                HTMLMediaElement拡張</a>参照）で true に設定されます。
            true の場合は <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                class="internalDFN" id="ref-for-dom-mediasourcehandle-16"><code>MediaSourceHandle</code></a> の
            転送が成功しなくなります（<a href="#transfer" data-matched-text="[[[#transfer]]]" class="sec-ref"><bdi class="secno">4.1
                </bdi>
                転送</a>参照）。
        </p>
        <p>
            <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                id="ref-for-dom-mediasourcehandle-17"><code>MediaSourceHandle</code></a> オブジェクトは
            <a data-link-type="extended-attribute" data-lt="Transferable"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable"><code>Transferable</code></a>
            であり、それぞれ
            <dfn data-dfn-for="MediaSourceHandle" data-idl="" data-noexport="" data-dfn-type="attribute"
                id="dfn-detached" tabindex="0" aria-haspopup="dialog">[[Detached]]</dfn>
            という内部スロットを持ちます。これは、一度転送されたハンドルオブジェクトインスタンスが、再度転送できないことを保証するために使われます。
        </p>
        <pre class="idl def"
            id="webidl-1737388085"><span class="idlHeader"><a class="self-link" href="#webidl-1737388085">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-mediasourcehandle" data-title="MediaSourceHandle">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable">Transferable</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediasourcehandle" id="ref-for-dom-mediasourcehandle-18"><code>MediaSourceHandle</code></a> {};</span></code></pre>
        <section id="transfer">
            <div class="header-wrapper">
                <h3 id="x4-1-transfer"><bdi class="secno">4.1 </bdi>
                    転送
                </h3><a class="self-link" href="#transfer" aria-label="Permalink for Section 4.1"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                    id="ref-for-dom-mediasourcehandle-19"><code>MediaSourceHandle</code></a> の
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps">転送手順</a> と
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps">転送受信手順</a>
                では、
                実装が基礎となる <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-94"><code>MediaSource</code></a> への暗黙内部スロット参照を維持する必要があります。
                これは <a data-link-type="dfn|abstract-op" href="#dfn-attaching-to-a-media-element" class="internalDFN"
                    id="ref-for-dfn-attaching-to-a-media-element-4">メディア要素へのアタッチ</a>アルゴリズムで
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
                を使ったアタッチや、
                その後の <a data-link-type="dfn|abstract-op" href="#dfn-cross-context-communication-model"
                    class="internalDFN"
                    id="ref-for-dfn-cross-context-communication-model-1">クロスコンテキスト通信モデル</a>のセットアップを可能にするためです。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-42">
                <div role="heading" class="note-title marker" id="h-note-42" aria-level="4"><span>注</span></div>
                <p class="">
                    実装者は、<a data-link-type="extended-attribute" data-lt="Transferable"
                        href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable"><code>Transferable</code></a>
                    によって
                    暗黙的に「ムーブ」セマンティクスが想定されがちですが、常に現実とは限らないことに注意すべきです。
                    例えば、postMessageの拡張や内部実装がブロードキャスト方式になっている場合、
                    転送された <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-20"><code>MediaSourceHandle</code></a> の
                    受信側が複数になりえることがあります。
                    そのため、実装は、基礎となる <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-21"><code>MediaSourceHandle</code></a>
                    のいずれのハンドルが
                    アタッチに有効かを、メディア要素のリソース選択アルゴリズムの非同期部分でハンドルが使われるまで決定しないことが推奨されます。
                    これは、容易にクローン可能な <a data-link-type="dfn|abstract-op" href="#mediasource-object-url"
                        class="internalDFN"
                        id="ref-for-mediasource-object-url-11">MediaSourceオブジェクトURL</a>によるアタッチと類似しており、
                    そのURLは（多数のクローンがあっても）1度だけアタッチの開始に有効です。
                </p>
            </div>
            <p>
                実装は、基礎となる <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                    id="ref-for-dom-mediasource-96"><code>MediaSource</code></a> オブジェクトに対して
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
                による
                アタッチ（ロード）を <em class="rfc2119">MUST</em> 最大1回のみサポートする必要があります。
                これは <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                    class="internalDFN" id="ref-for-dom-mediasourcehandle-22"><code>MediaSourceHandle</code></a> の
                <a data-link-type="extended-attribute" data-lt="Transferable"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable"><code>Transferable</code></a>
                実装の違いによるクローンの有無を問わずです。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-43">
                <div role="heading" class="note-title marker" id="h-note-43" aria-level="4"><span>注</span></div>
                <p class="">
                    これが非同期部分でどのように強制されるかは
                    <a data-link-type="dfn|abstract-op" href="#dfn-attaching-to-a-media-element" class="internalDFN"
                        id="ref-for-dfn-attaching-to-a-media-element-5">メディア要素へのアタッチ</a>を参照してください。
                </p>
            </div>
            <p>
                <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                    id="ref-for-dom-mediasourcehandle-24"><code>MediaSourceHandle</code></a> は
                <a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a> と
                <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                コンテキストでのみ公開され、異なる
                <a data-link-type="dfn"
                    href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters">agent
                    cluster</a>
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecmascript"
                        title="ECMAScript Language Specification">ECMASCRIPT</a></cite>] 間の転送は成功しません。
                <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                    id="ref-for-dom-mediasourcehandle-25"><code>MediaSourceHandle</code></a> オブジェクトの転送は、
                同じ <a data-link-type="dfn"
                    href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters">agent
                    cluster</a> 内でのみ成功します。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-44">
                <div role="heading" class="note-title marker" id="h-note-44" aria-level="4"><span>注</span></div>
                <p class="">
                    例えば、<a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-26"><code>MediaSourceHandle</code></a>
                    オブジェクトを
                    <a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    や
                    <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    から
                    SharedWorker や ServiceWorker に転送しても成功しません。
                    開発者は、<a data-link-type="dfn|abstract-op" href="#mediasource-object-url" class="internalDFN"
                        id="ref-for-mediasource-object-url-12">MediaSourceオブジェクトURL</a> のような
                    <a data-link-type="interface" data-lt="DOMString"
                        href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a> は
                    多様な方法で通信できることとの違いに注意が必要です。
                    それでも <a data-link-type="dfn|abstract-op" href="#dfn-attaching-to-a-media-element"
                        class="internalDFN" id="ref-for-dfn-attaching-to-a-media-element-6">メディア要素へのアタッチ</a>で
                    <a data-link-type="dfn|abstract-op" href="#mediasource-object-url" class="internalDFN"
                        id="ref-for-mediasource-object-url-13">MediaSourceオブジェクトURL</a> を使う場合、
                    <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-97"><code>MediaSource</code></a> が
                    <a data-link-type="interface" data-lt="Window"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                    コンテキストで構築されたときのみ成功します。
                    関連する <a data-link-type="dfn"
                        href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent">agent</a>
                    や
                    <a data-link-type="dfn"
                        href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters">agent
                        cluster</a> の
                    WebアプリAPIへの統合（<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#dedicated-worker-agent">dedicated
                        worker agents</a> など）については [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                            title="HTML Standard">HTML</a></cite>] も参照してください。
                </p>
            </div>
            <p>
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps">転送手順</a> では、
                <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                    id="ref-for-dom-mediasourcehandle-27"><code>MediaSourceHandle</code></a> オブジェクトに対して
                以下の手順を <em class="rfc2119">MUST</em> 含めなければなりません：
            </p>
            <ol>
                <li><a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-28"><code>MediaSourceHandle</code></a> の
                    <a data-link-type="attribute" data-lt="[[has ever been assigned as srcobject]]"
                        href="#dfn-has-ever-been-assigned-as-srcobject" class="internalDFN"
                        id="ref-for-dfn-has-ever-been-assigned-as-srcobject-1"><code>[[has ever been assigned as srcobject]]</code></a>
                    内部スロットが true の場合は、
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps">転送手順</a>は
                    <a data-link-type="exception" data-lt="DataCloneError"
                        href="https://webidl.spec.whatwg.org/#datacloneerror"><code>DataCloneError</code></a>
                    例外を投げて失敗しなければなりません。
                </li>
            </ol>
        </section>
    </section>
    <section id="sourcebuffer">
        <div class="header-wrapper">
            <h2 id="x5-sourcebuffer-interface"><bdi class="secno">5. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-sourcebuffer" data-idl="interface"
                    data-title="SourceBuffer" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>SourceBuffer</code></dfn> インターフェース
            </h2><a class="self-link" href="#sourcebuffer" aria-label="Permalink for Section 5."></a>
        </div>

        <pre class="idl def" id="webidl-955395090"><span class="idlHeader"><a class="self-link" href="#webidl-955395090">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-appendmode" data-title="AppendMode">enum <dfn data-export="" data-dfn-type="enum" id="dom-appendmode" data-idl="enum" data-title="AppendMode" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>AppendMode</code></dfn> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-appendmode-segments" id="ref-for-dom-appendmode-segments-2"><code>segments</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-appendmode-sequence" id="ref-for-dom-appendmode-sequence-2"><code>sequence</code></a>"</span>,
};</span></code></pre>
        <dl data-dfn-for="AppendMode">
            <dt>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-appendmode-segments" data-idl="enum-value"
                    data-title="segments" data-dfn-for="AppendMode" tabindex="0"
                    aria-haspopup="dialog"><code>segments</code></dfn>
            </dt>
            <dd>
                メディアセグメント内のタイムスタンプによって、<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                    id="ref-for-dfn-coded-frame-12">符号化フレーム</a>がプレゼンテーション内のどこに配置されるかが決定されます。メディアセグメントはどの順序でも追加できます。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="enum-value" id="dom-appendmode-sequence" data-idl="enum-value"
                    data-title="sequence" data-dfn-for="AppendMode" tabindex="0"
                    aria-haspopup="dialog"><code>sequence</code></dfn>
            </dt>
            <dd>
                メディアセグメントは、セグメント内のタイムスタンプに関係なく時間的に隣接して扱われます。新しいメディアセグメント内の符号化フレームは、直前のメディアセグメント内の符号化フレームの直後に配置されます。新しいオフセットが必要な場合、<a
                    data-link-type="idl" href="#dom-sourcebuffer-timestampoffset" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-timestampoffset-1"><code>timestampOffset</code></a>属性が更新され、メディアセグメント同士を隣接させます。"<a
                    data-link-type="idl" href="#dom-appendmode-sequence" class="internalDFN"
                    id="ref-for-dom-appendmode-sequence-3"><code>sequence</code></a>"モードで<a data-link-type="idl"
                    href="#dom-sourcebuffer-timestampoffset" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-timestampoffset-2"><code>timestampOffset</code></a>属性を設定すると、メディアセグメント内のタイムスタンプを知らなくてもタイムライン上の特定位置に配置できます。
            </dd>
        </dl>
        <pre class="idl def"
            id="webidl-544711679"><span class="idlHeader"><a class="self-link" href="#webidl-544711679">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-sourcebuffer" data-title="SourceBuffer">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-sourcebuffer" id="ref-for-dom-sourcebuffer-46"><code>SourceBuffer</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> { ... };</span></code></pre>
        <div class="issue" id="issue-container-number-280">
            <div role="heading" class="issue-title marker" id="h-issue-0" aria-level="3"><a
                    href="https://github.com/w3c/media-source/issues/280"><span class="issue-number">Issue
                        280</span></a><span class="issue-label">: MSE-in-Workers: {Audio,Video,Text}Track{,List} IDL in
                    HTML need additional DedicatedWorker in Exposed <a class="respec-gh-label"
                        href="https://github.com/w3c/media-source/issues/?q=is%3Aissue+is%3Aopen+label%3A%22mse-in-workers%22"
                        style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);"
                        aria-label="GitHub label: mse-in-workers">mse-in-workers</a></span></div>
            <div class="">
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>]
                <a data-link-type="interface" data-lt="AudioTrackList"
                    href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>,
                <a data-link-type="interface" data-lt="VideoTrackList"
                    href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
                および <a data-link-type="interface" data-lt="TextTrackList"
                    href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>
                に
                Window+DedicatedWorker での公開が必要です。
            </div>
        </div>
        <section id="attributes">
            <div class="header-wrapper">
                <h3 id="x5-1-attributes"><bdi class="secno">5.1 </bdi>
                    属性
                </h3><a class="self-link" href="#attributes" aria-label="Permalink for Section 5.1"></a>
            </div>

            <dl class="attributes" data-dfn-for="SourceBuffer">
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-mode" data-idl="attribute"
                        data-title="mode" data-dfn-for="SourceBuffer" data-type="AppendMode" data-lt="mode"
                        data-local-lt="SourceBuffer.mode" tabindex="0" aria-haspopup="dialog"><code>mode</code></dfn> 型
                    <a href="#dom-appendmode" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-appendmode-2"><code>AppendMode</code></a>
                </dt>
                <dd>
                    <p>
                        一連の<a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                            id="ref-for-dfn-media-segment-5">メディアセグメント</a>をどのように扱うか制御します。この属性は、オブジェクト生成後に<a
                            data-link-type="idl" data-lt="addSourceBuffer()" href="#dom-mediasource-addsourcebuffer"
                            class="internalDFN"
                            id="ref-for-dom-mediasource-addsourcebuffer-5"><code>addSourceBuffer</code></a><code>()</code>によって最初に設定され、<a
                            data-link-type="idl" data-lt="changeType()" href="#dom-sourcebuffer-changetype"
                            class="internalDFN"
                            id="ref-for-dom-sourcebuffer-changetype-4"><code>changeType</code></a><code>()</code>またはこの属性の設定で変更できます。
                    </p>
                    <p>
                        取得時は、初期値または最後に正常に設定された値を返します。
                    </p>
                    <p>
                        設定時は、以下の手順を実行します：
                    </p>
                    <ol>
                        <li>このオブジェクトが<a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-21"><code>sourceBuffers</code></a>属性から削除されている場合は、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて手順を中止します。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-6"><code>updating</code></a>属性がtrueの場合は、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて手順を中止します。
                        </li>
                        <li><var data-type="AppendMode">new mode</var> を、新しく設定される値とします。
                        </li>
                        <li><a data-link-type="attribute" data-lt="[[generate timestamps flag]]"
                                href="#dfn-generate-timestamps-flag" class="internalDFN"
                                id="ref-for-dfn-generate-timestamps-flag-3"><code>[[generate timestamps flag]]</code></a>
                            がtrueで、<var data-type="AppendMode">new mode</var>が"<a data-link-type="idl"
                                href="#dom-appendmode-segments" class="internalDFN"
                                id="ref-for-dom-appendmode-segments-3"><code>segments</code></a>"の場合、<a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて手順を中止します。
                        </li>
                        <li>
                            <p>
                                <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                    id="ref-for-dom-mediasource-readystate-23"><code>readyState</code></a>属性が
                                <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-2">parent media source</a> の
                                "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                    id="ref-for-dom-readystate-ended-8"><code>ended</code></a>"状態の場合、以下の手順を実行します：
                            </p>
                            <ol>
                                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                        id="ref-for-dom-mediasource-readystate-24"><code>readyState</code></a>属性を
                                    "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                        id="ref-for-dom-readystate-open-14"><code>open</code></a>"に設定する
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                    <a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                    名前が<a data-link-type="idl" data-lt="sourceopen" href="#dfn-sourceopen"
                                        class="internalDFN"
                                        id="ref-for-dfn-sourceopen-3"><code>sourceopen</code></a>のイベントを
                                    <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                        id="ref-for-parent-media-source-4">parent media source</a>で発火する
                                </li>
                            </ol>
                        </li>
                        <li><a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                class="internalDFN" id="ref-for-dfn-append-state-1"><code>[[append state]]</code></a>が<a
                                data-link-type="dfn|abstract-op" href="#sourcebuffer-parsing-media-segment"
                                class="internalDFN"
                                id="ref-for-sourcebuffer-parsing-media-segment-1">PARSING_MEDIA_SEGMENT</a>の場合、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>を投げて手順を中止する。
                        </li>
                        <li><var data-type="AppendMode">new mode</var>が"<a data-link-type="idl"
                                href="#dom-appendmode-sequence" class="internalDFN"
                                id="ref-for-dom-appendmode-sequence-4"><code>sequence</code></a>"なら、<a
                                data-link-type="attribute" data-lt="[[group start timestamp]]"
                                href="#dfn-group-start-timestamp" class="internalDFN"
                                id="ref-for-dfn-group-start-timestamp-1"><code>[[group start timestamp]]</code></a>を<a
                                data-link-type="attribute" data-lt="[[group end timestamp]]"
                                href="#dfn-group-end-timestamp" class="internalDFN"
                                id="ref-for-dfn-group-end-timestamp-1"><code>[[group end timestamp]]</code></a>で更新する。
                        </li>
                        <li>属性を<var data-type="AppendMode">new mode</var>へ更新する。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-updating" data-idl="attribute"
                        data-title="updating" data-dfn-for="SourceBuffer" data-type="boolean" data-lt="updating"
                        data-local-lt="SourceBuffer.updating" tabindex="0"
                        aria-haspopup="dialog"><code>updating</code></dfn> 型 <a data-link-type="interface"
                        data-lt="boolean"
                        href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>（readonly）
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="appendBuffer()" href="#dom-sourcebuffer-appendbuffer"
                            class="internalDFN"
                            id="ref-for-dom-sourcebuffer-appendbuffer-5"><code>appendBuffer</code></a><code>()</code>や<a
                            data-link-type="idl" data-lt="remove()" href="#dom-sourcebuffer-remove" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-remove-3"><code>remove</code></a><code>()</code>の非同期処理が継続中かどうかを示します。この属性は、オブジェクト生成時はfalseで初期化されます。
                    </p>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-buffered" data-idl="attribute"
                        data-title="buffered" data-dfn-for="SourceBuffer" data-type="TimeRanges" data-lt="buffered"
                        data-local-lt="SourceBuffer.buffered" tabindex="0"
                        aria-haspopup="dialog"><code>buffered</code></dfn> 型 <a data-link-type="interface"
                        data-lt="TimeRanges"
                        href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>（readonly）
                </dt>
                <dd>
                    <p>
                        この<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-47"><code>SourceBuffer</code></a>にバッファされている<a
                            data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>を示します。この属性は、オブジェクト生成時に空の<a
                            data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>オブジェクトで初期化されます。
                    </p>
                    <p>
                        属性の読み出し時は、以下の手順を<em class="rfc2119">MUST</em>実行します：
                    </p>
                    <ol>
                        <li>このオブジェクトが<a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-22"><code>sourceBuffers</code></a>属性から削除されている場合は、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li><var data-type="double">highest end time</var> を、この<a data-link-type="idl"
                                data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-48"><code>SourceBuffer</code></a>が管理するすべての<a
                                data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                id="ref-for-track-buffer-4">track buffers</a>にわたる<a data-link-type="dfn|abstract-op"
                                href="#track-buffer-ranges" class="internalDFN" id="ref-for-track-buffer-ranges-3">track
                                buffer ranges</a>の最大終了時刻とする。
                        </li>
                        <li><var data-type="normalized TimeRanges">intersection ranges</var> を、0から<var
                                data-type="double">highest end time</var>までの単一範囲を持つ<a data-link-type="interface"
                                data-lt="TimeRanges"
                                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>オブジェクトとする。
                        </li>
                        <li>この<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-49"><code>SourceBuffer</code></a>が管理する各オーディオ・ビデオ<a
                                data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                id="ref-for-track-buffer-5">track buffer</a>について、以下の手順を行う：
                            <div class="note" role="note" id="issue-container-generatedID-45">
                                <div role="heading" class="note-title marker" id="h-note-45" aria-level="4">
                                    <span>注</span>
                                </div>
                                <p class="">
                                    テキスト<a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                        id="ref-for-track-buffer-6">track buffer</a>は上記<var data-type="double">highest
                                        end
                                        time</var>の計算には含まれるが、ここでのバッファ範囲計算からは除外される。テキストトラックは必ずしも連続しておらず、他メディアトラックが同一時間範囲で連続している場合に、テキストトラック内の不連続性で再生が停止するべきではない。
                                </p>
                            </div>
                            <ol>
                                <li><var data-type="normalized TimeRanges">track ranges</var> を、現在の<a
                                        data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                        id="ref-for-track-buffer-7">track buffer</a>の<a data-link-type="dfn|abstract-op"
                                        href="#track-buffer-ranges" class="internalDFN"
                                        id="ref-for-track-buffer-ranges-4">track buffer ranges</a>とする。
                                </li>
                                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                        id="ref-for-dom-mediasource-readystate-25"><code>readyState</code></a>が"<a
                                        data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                        id="ref-for-dom-readystate-ended-9"><code>ended</code></a>"なら、<var
                                        data-type="normalized TimeRanges">track ranges</var>の最後の範囲の終了時刻を<var
                                        data-type="double">highest end time</var>に設定する。
                                </li>
                                <li><var data-type="normalized TimeRanges">new intersection ranges</var> を、<var
                                        data-type="normalized TimeRanges">intersection ranges</var>と<var
                                        data-type="normalized TimeRanges">track ranges</var>の積集合とする。
                                </li>
                                <li><var data-type="normalized TimeRanges">intersection ranges</var>の範囲を<var>new
                                        intersection ranges</var>で置き換える。
                                </li>
                            </ol>
                        </li>
                        <li><var data-type="normalized TimeRanges">intersection ranges</var>が現在の属性値と異なる場合、属性値を<var
                                data-type="normalized TimeRanges">intersection ranges</var>に更新する。
                        </li>
                        <li>現在の属性値を返す。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-timestampoffset"
                        data-idl="attribute" data-title="timestampOffset" data-dfn-for="SourceBuffer" data-type="double"
                        data-lt="timestampOffset" data-local-lt="SourceBuffer.timestampOffset" tabindex="0"
                        aria-haspopup="dialog"><code>timestampOffset</code></dfn> 型 <a data-link-type="interface"
                        data-lt="double" href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a>
                </dt>
                <dd>
                    <p>
                        この<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-50"><code>SourceBuffer</code></a>へ追加される以降の<a
                            data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                            id="ref-for-dfn-media-segment-6">メディアセグメント</a>内のタイムスタンプに適用されるオフセットを制御します。<a
                            data-link-type="idl" href="#dom-sourcebuffer-timestampoffset" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-timestampoffset-4"><code>timestampOffset</code></a>は初期値0（オフセットなし）で設定されます。
                    </p>
                    <p>
                        取得時は、初期値または最後に正常に設定された値を返します。
                    </p>
                    <p>
                        設定時は以下の手順を実行します：
                    </p>
                    <ol>
                        <li><var data-type="double">new timestamp offset</var> を新しく設定する値とする。
                        </li>
                        <li>このオブジェクトが<a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-23"><code>sourceBuffers</code></a>属性から削除されている場合は、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて手順を中止。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-7"><code>updating</code></a>属性がtrueの場合は、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて手順を中止。
                        </li>
                        <li>
                            <p>
                                <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                    id="ref-for-dom-mediasource-readystate-26"><code>readyState</code></a>属性が
                                <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-7">parent media source</a> の
                                "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                    id="ref-for-dom-readystate-ended-10"><code>ended</code></a>"状態の場合、以下の手順を実行：
                            </p>
                            <ol>
                                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                        id="ref-for-dom-mediasource-readystate-27"><code>readyState</code></a>属性を
                                    "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                        id="ref-for-dom-readystate-open-15"><code>open</code></a>"に設定する
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                    <a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                    名前が<a data-link-type="idl" data-lt="sourceopen" href="#dfn-sourceopen"
                                        class="internalDFN"
                                        id="ref-for-dfn-sourceopen-4"><code>sourceopen</code></a>のイベントを
                                    <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                        id="ref-for-parent-media-source-9">parent media source</a>で発火する
                                </li>
                            </ol>
                        </li>
                        <li><a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                class="internalDFN" id="ref-for-dfn-append-state-2"><code>[[append state]]</code></a>が<a
                                data-link-type="dfn|abstract-op" href="#sourcebuffer-parsing-media-segment"
                                class="internalDFN"
                                id="ref-for-sourcebuffer-parsing-media-segment-2">PARSING_MEDIA_SEGMENT</a>の場合、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>を投げて中止。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-mode-4"><code>mode</code></a>属性が"<a data-link-type="idl"
                                href="#dom-appendmode-sequence" class="internalDFN"
                                id="ref-for-dom-appendmode-sequence-5"><code>sequence</code></a>"の場合、<a
                                data-link-type="attribute" data-lt="[[group start timestamp]]"
                                href="#dfn-group-start-timestamp" class="internalDFN"
                                id="ref-for-dfn-group-start-timestamp-2"><code>[[group start timestamp]]</code></a>を<var
                                data-type="double">new timestamp offset</var>で設定する。
                        </li>
                        <li>属性値を<var data-type="double">new timestamp offset</var>へ更新する。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-plurals="audiotrack" data-export="" data-dfn-type="attribute"
                        id="dom-sourcebuffer-audiotracks" data-idl="attribute" data-title="audioTracks"
                        data-dfn-for="SourceBuffer" data-type="AudioTrackList" data-lt="audioTracks"
                        data-local-lt="SourceBuffer.audioTracks" tabindex="0"
                        aria-haspopup="dialog"><code>audioTracks</code></dfn> 型 <a data-link-type="interface"
                        data-lt="AudioTrackList"
                        href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>（readonly）
                </dt>
                <dd>
                    このオブジェクトによって生成された<a data-link-type="interface" data-lt="AudioTrack"
                        href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>オブジェクトのリスト。
                </dd>
                <dt>
                    <dfn data-plurals="videotrack" data-export="" data-dfn-type="attribute"
                        id="dom-sourcebuffer-videotracks" data-idl="attribute" data-title="videoTracks"
                        data-dfn-for="SourceBuffer" data-type="VideoTrackList" data-lt="videoTracks"
                        data-local-lt="SourceBuffer.videoTracks" tabindex="0"
                        aria-haspopup="dialog"><code>videoTracks</code></dfn> 型 <a data-link-type="interface"
                        data-lt="VideoTrackList"
                        href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>（readonly）
                </dt>
                <dd>
                    このオブジェクトによって生成された<a data-link-type="interface" data-lt="VideoTrack"
                        href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>オブジェクトのリスト。
                </dd>
                <dt>
                    <dfn data-plurals="texttrack" data-export="" data-dfn-type="attribute"
                        id="dom-sourcebuffer-texttracks" data-idl="attribute" data-title="textTracks"
                        data-dfn-for="SourceBuffer" data-type="TextTrackList" data-lt="textTracks"
                        data-local-lt="SourceBuffer.textTracks" tabindex="0"
                        aria-haspopup="dialog"><code>textTracks</code></dfn> 型 <a data-link-type="interface"
                        data-lt="TextTrackList"
                        href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>（readonly）
                </dt>
                <dd>
                    このオブジェクトによって生成された<a data-link-type="interface" data-lt="TextTrack"
                        href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>オブジェクトのリスト。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-appendwindowstart"
                        data-idl="attribute" data-title="appendWindowStart" data-dfn-for="SourceBuffer"
                        data-type="double" data-lt="appendWindowStart" data-local-lt="SourceBuffer.appendWindowStart"
                        tabindex="0" aria-haspopup="dialog"><code>appendWindowStart</code></dfn> 型 <a
                        data-link-type="interface" data-lt="double"
                        href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="dfn|abstract-op" href="#dfn-append-window" class="internalDFN"
                            id="ref-for-dfn-append-window-1">append window</a>の開始位置となる<a
                            data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-12">presentation timestamp</a>。初期値は<a
                            data-link-type="dfn|abstract-op" href="#presentation-start-time" class="internalDFN"
                            id="ref-for-presentation-start-time-4">presentation start time</a>。
                    </p>
                    <p>
                        取得時は、初期値または最後に正常に設定された値を返します。
                    </p>
                    <p>
                        設定時は以下の手順を実行します：
                    </p>
                    <ol>
                        <li>このオブジェクトが<a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-24"><code>sourceBuffers</code></a>属性から削除されている場合、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-8"><code>updating</code></a>属性がtrueの場合、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li>新しい値が0未満、または<a data-link-type="idl" href="#dom-sourcebuffer-appendwindowend"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-appendwindowend-3"><code>appendWindowEnd</code></a>以上の場合、<a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて中止。
                        </li>
                        <li>属性値を新しい値へ更新。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-appendwindowend"
                        data-idl="attribute" data-title="appendWindowEnd" data-dfn-for="SourceBuffer"
                        data-type="unrestricted double" data-lt="appendWindowEnd"
                        data-local-lt="SourceBuffer.appendWindowEnd" tabindex="0"
                        aria-haspopup="dialog"><code>appendWindowEnd</code></dfn> 型 <a data-link-type="interface"
                        data-lt="unrestricted double"
                        href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><code>unrestricted double</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="dfn|abstract-op" href="#dfn-append-window" class="internalDFN"
                            id="ref-for-dfn-append-window-2">append window</a>の終了位置となる<a
                            data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-13">presentation timestamp</a>。初期値は正のInfinity。
                    </p>
                    <p>
                        取得時は、初期値または最後に正常に設定された値を返します。
                    </p>
                    <p>
                        設定時は以下の手順を実行します：
                    </p>
                    <ol>
                        <li>このオブジェクトが<a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-25"><code>sourceBuffers</code></a>属性から削除されている場合
                            <a data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror">
                                <code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-9"><code>updating</code></a>属性がtrueの場合、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li>新しい値がNaNの場合、<a data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて中止。
                        </li>
                        <li>新しい値が<a data-link-type="idl" href="#dom-sourcebuffer-appendwindowstart" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-appendwindowstart-3"><code>appendWindowStart</code></a>以下の場合、<a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて中止。
                        </li>
                        <li>属性値を新しい値へ更新。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-onupdatestart"
                        data-idl="attribute" data-title="onupdatestart" data-dfn-for="SourceBuffer"
                        data-type="EventHandler" data-lt="onupdatestart" data-local-lt="SourceBuffer.onupdatestart"
                        tabindex="0" aria-haspopup="dialog"><code>onupdatestart</code></dfn> 型 <a
                        data-link-type="typedef" data-lt="EventHandler"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="updatestart" href="#dfn-updatestart" class="internalDFN"
                            id="ref-for-dfn-updatestart-1"><code>updatestart</code></a>イベントのイベントハンドラ。
                    </p>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-onupdate" data-idl="attribute"
                        data-title="onupdate" data-dfn-for="SourceBuffer" data-type="EventHandler" data-lt="onupdate"
                        data-local-lt="SourceBuffer.onupdate" tabindex="0"
                        aria-haspopup="dialog"><code>onupdate</code></dfn> 型 <a data-link-type="typedef"
                        data-lt="EventHandler"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="update" href="#dfn-update" class="internalDFN"
                            id="ref-for-dfn-update-1"><code>update</code></a>イベントのイベントハンドラ。
                    </p>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-onupdateend" data-idl="attribute"
                        data-title="onupdateend" data-dfn-for="SourceBuffer" data-type="EventHandler"
                        data-lt="onupdateend" data-local-lt="SourceBuffer.onupdateend" tabindex="0"
                        aria-haspopup="dialog"><code>onupdateend</code></dfn> 型 <a data-link-type="typedef"
                        data-lt="EventHandler"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="updateend" href="#dfn-updateend" class="internalDFN"
                            id="ref-for-dfn-updateend-2"><code>updateend</code></a>イベントのイベントハンドラ。
                    </p>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-onerror" data-idl="attribute"
                        data-title="onerror" data-dfn-for="SourceBuffer" data-type="EventHandler" data-lt="onerror"
                        data-local-lt="SourceBuffer.onerror" tabindex="0"
                        aria-haspopup="dialog"><code>onerror</code></dfn> 型 <a data-link-type="typedef"
                        data-lt="EventHandler"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="error" href="#dfn-error" class="internalDFN"
                            id="ref-for-dfn-error-1"><code>error</code></a>イベントのイベントハンドラ。
                    </p>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebuffer-onabort" data-idl="attribute"
                        data-title="onabort" data-dfn-for="SourceBuffer" data-type="EventHandler" data-lt="onabort"
                        data-local-lt="SourceBuffer.onabort" tabindex="0"
                        aria-haspopup="dialog"><code>onabort</code></dfn> 型 <a data-link-type="typedef"
                        data-lt="EventHandler"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="abort" href="#dfn-abort" class="internalDFN"
                            id="ref-for-dfn-abort-2"><code>abort</code></a>イベントのイベントハンドラ。
                    </p>
                </dd>
            </dl>
        </section>
        <section id="methods">
            <div class="header-wrapper">
                <h3 id="x5-2-methods"><bdi class="secno">5.2 </bdi>
                    メソッド
                </h3><a class="self-link" href="#methods" aria-label="Permalink for Section 5.2"></a>
            </div>

            <dl class="methods" data-dfn-for="SourceBuffer">
                <dt>
                    <dfn id="dom-sourcebuffer-appendbuffer" data-export="" data-dfn-type="method" data-idl="operation"
                        data-title="appendBuffer" data-dfn-for="SourceBuffer" data-type="undefined"
                        data-lt="appendBuffer()|appendBuffer(data)"
                        data-local-lt="SourceBuffer.appendBuffer|SourceBuffer.appendBuffer()|appendBuffer" tabindex="0"
                        aria-haspopup="dialog"><code>appendBuffer</code></dfn>
                </dt>
                <dd>
                    <p>
                        <code><a href="https://www.w3.org/TR/WebIDL-1/#common-BufferSource" class="idlType">BufferSource</a></code>[<cite><a
                                class="bibref" data-link-type="biblio" href="#bib-webidl"
                                title="Web IDL Standard">WEBIDL</a></cite>] のセグメントデータを
                        <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-51"><code>SourceBuffer</code></a>に追加します。
                    </p>

                    <p>このメソッドが呼び出されると、ユーザーエージェントは次の手順を実行します：</p>
                    <ol class="method-algorithm">
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-prepare-append" class="internalDFN"
                                id="ref-for-dfn-prepare-append-1">prepare append</a> アルゴリズムを実行する。
                        </li>
                        <li><var data-type="BufferSource">data</var> を <a data-link-type="attribute"
                                data-lt="[[input buffer]]" href="#dfn-input-buffer" class="internalDFN"
                                id="ref-for-dfn-input-buffer-1"><code>[[input buffer]]</code></a> の末尾に追加する。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-10"><code>updating</code></a> 属性を true に設定する。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                            名前が <a data-link-type="idl" data-lt="updatestart" href="#dfn-updatestart"
                                class="internalDFN" id="ref-for-dfn-updatestart-2"><code>updatestart</code></a> のイベントをこの
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-52"><code>SourceBuffer</code></a>オブジェクトで発火する。
                        </li>
                        <li>非同期で <a data-link-type="dfn|abstract-op" href="#dfn-buffer-append" class="internalDFN"
                                id="ref-for-dfn-buffer-append-2">buffer append</a> アルゴリズムを実行する。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="method" id="dom-sourcebuffer-abort" data-idl="operation"
                        data-title="abort" data-dfn-for="SourceBuffer" data-type="undefined" data-lt="abort()"
                        data-local-lt="SourceBuffer.abort|SourceBuffer.abort()|abort" tabindex="0"
                        aria-haspopup="dialog"><code>abort</code></dfn>
                </dt>
                <dd>
                    <p>
                        現在のセグメントを中止し、セグメントパーサーをリセットします。
                    </p>

                    <p>このメソッドが呼び出されると、ユーザーエージェントは次の手順を実行します：</p>
                    <ol class="method-algorithm">
                        <li>このオブジェクトが <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-26"><code>sourceBuffers</code></a>
                            属性から削除されている場合は、
                            <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                id="ref-for-parent-media-source-12">parent media source</a> に対して <a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                            例外を投げて、手順を中止する。
                        </li>
                        <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                id="ref-for-dom-mediasource-readystate-28"><code>readyState</code></a> 属性が
                            <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                id="ref-for-parent-media-source-13">parent media source</a> で
                            "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                id="ref-for-dom-readystate-open-16"><code>open</code></a>" でない場合は <a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                            例外を投げて、中止する。
                        </li>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-range-removal" class="internalDFN"
                                id="ref-for-dfn-range-removal-1">range removal</a> アルゴリズムが実行中の場合、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止する。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-11"><code>updating</code></a> 属性が true の場合、次を実行：
                            <ol>
                                <li><a data-link-type="dfn|abstract-op" href="#dfn-buffer-append" class="internalDFN"
                                        id="ref-for-dfn-buffer-append-3">buffer append</a>アルゴリズムが実行中なら中止する。
                                </li>
                                <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                        id="ref-for-dom-sourcebuffer-updating-12"><code>updating</code></a>属性をfalseに設定。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                    <a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                    名前が<a data-link-type="idl" data-lt="abort" href="#dfn-abort" class="internalDFN"
                                        id="ref-for-dfn-abort-3"><code>abort</code></a>のイベントをこの
                                    <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                        class="internalDFN"
                                        id="ref-for-dom-sourcebuffer-53"><code>SourceBuffer</code></a>で発火。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                                    <a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                    名前が<a data-link-type="idl" data-lt="updateend" href="#dfn-updateend"
                                        class="internalDFN"
                                        id="ref-for-dfn-updateend-3"><code>updateend</code></a>のイベントをこの
                                    <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                        class="internalDFN"
                                        id="ref-for-dom-sourcebuffer-54"><code>SourceBuffer</code></a>で発火。
                                </li>
                            </ol>
                        </li>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-reset-parser-state" class="internalDFN"
                                id="ref-for-dfn-reset-parser-state-1">reset parser state</a>アルゴリズムを実行。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-appendwindowstart" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-appendwindowstart-4"><code>appendWindowStart</code></a>を
                            <a data-link-type="dfn|abstract-op" href="#presentation-start-time" class="internalDFN"
                                id="ref-for-presentation-start-time-5">presentation start time</a>に設定。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-appendwindowend" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-appendwindowend-4"><code>appendWindowEnd</code></a>を正のInfinityに設定。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="method" id="dom-sourcebuffer-changetype" data-idl="operation"
                        data-title="changeType" data-dfn-for="SourceBuffer" data-type="undefined"
                        data-lt="changeType()|changeType(type)"
                        data-local-lt="SourceBuffer.changeType|SourceBuffer.changeType()|changeType" tabindex="0"
                        aria-haspopup="dialog"><code>changeType</code></dfn>
                </dt>
                <dd>
                    <p>
                        このオブジェクトに関連付けられたMIMEタイプを変更します。以降の
                        <a data-link-type="idl" data-lt="appendBuffer()" href="#dom-sourcebuffer-appendbuffer"
                            class="internalDFN"
                            id="ref-for-dom-sourcebuffer-appendbuffer-6"><code>appendBuffer</code></a><code>()</code>
                        呼び出しでは、新しい型に準拠したバイト列が期待されます。
                    </p>

                    <p>このメソッドが呼び出されると、ユーザーエージェントは次の手順を実行します：</p>
                    <ol class="method-algorithm">
                        <li><var data-type="DOMString">type</var> が空文字列なら <a data-link-type="exception"
                                data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて中止。
                        </li>
                        <li>このオブジェクトが <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-27"><code>sourceBuffers</code></a>
                            属性から削除されている場合は
                            <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                id="ref-for-parent-media-source-14">parent media source</a> に対して <a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-13"><code>updating</code></a>属性がtrueの場合は、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li><var data-type="DOMString">type</var> がサポートされないMIMEタイプ、または
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-55"><code>SourceBuffer</code></a>オブジェクトの
                            <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-28"><code>sourceBuffers</code></a>属性で（現在または過去に）指定された型と互換性がないMIMEタイプを含む場合、
                            <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                id="ref-for-parent-media-source-15">parent media source</a> に対して
                            <a data-link-type="exception" data-lt="NotSupportedError"
                                href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>例外を投げて中止。
                        </li>
                        <li>
                            <p>
                                <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                    id="ref-for-dom-mediasource-readystate-29"><code>readyState</code></a>属性が
                                <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-16">parent media source</a> の
                                "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                    id="ref-for-dom-readystate-ended-11"><code>ended</code></a>"状態の場合、以下の手順を実行：
                            </p>
                            <ol>
                                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                        id="ref-for-dom-mediasource-readystate-30"><code>readyState</code></a>属性を
                                    "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                        id="ref-for-dom-readystate-open-17"><code>open</code></a>"に設定。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                    <a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                    名前が<a data-link-type="idl" data-lt="sourceopen" href="#dfn-sourceopen"
                                        class="internalDFN"
                                        id="ref-for-dfn-sourceopen-5"><code>sourceopen</code></a>のイベントを
                                    <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                        id="ref-for-parent-media-source-18">parent media source</a>で発火。
                                </li>
                            </ol>
                        </li>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-reset-parser-state" class="internalDFN"
                                id="ref-for-dfn-reset-parser-state-2">reset parser state</a>アルゴリズムを実行。
                        </li>
                        <li>この<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                class="internalDFN" id="ref-for-dom-sourcebuffer-56"><code>SourceBuffer</code></a>の
                            <a data-link-type="attribute" data-lt="[[generate timestamps flag]]"
                                href="#dfn-generate-timestamps-flag" class="internalDFN"
                                id="ref-for-dfn-generate-timestamps-flag-4"><code>[[generate timestamps flag]]</code></a>を
                            byte stream format registry [<cite><a class="bibref" data-link-type="biblio"
                                    href="#bib-mse-registry"
                                    title="Media Source Extensions™ Byte Stream Format Registry">MSE-REGISTRY</a></cite>]の
                            <var data-type="DOMString">type</var>に対応する「Generate Timestamps Flag」カラムの値で更新する。
                        </li>
                        <li>
                            <dl class="switch">
                                <dt>
                                    <a data-link-type="attribute" data-lt="[[generate timestamps flag]]"
                                        href="#dfn-generate-timestamps-flag" class="internalDFN"
                                        id="ref-for-dfn-generate-timestamps-flag-5"><code>[[generate timestamps flag]]</code></a>がtrueの場合：
                                </dt>
                                <dd>
                                    この<a data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                                        id="ref-for-dom-sourcebuffer-mode-5"><code>mode</code></a>属性を
                                    "<a data-link-type="idl" href="#dom-appendmode-sequence" class="internalDFN"
                                        id="ref-for-dom-appendmode-sequence-6"><code>sequence</code></a>"にし、関連する属性設定手順も実行する。
                                </dd>
                                <dt>
                                    それ以外の場合：
                                </dt>
                                <dd>
                                    この<a data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                                        id="ref-for-dom-sourcebuffer-mode-6"><code>mode</code></a>属性の以前の値を保持し、
                                    属性設定時の手順は実行しない。
                                </dd>
                            </dl>
                        </li>
                        <li>この<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                class="internalDFN" id="ref-for-dom-sourcebuffer-59"><code>SourceBuffer</code></a>の
                            <a data-link-type="attribute"
                                data-lt="[[pending initialization segment for changeType flag]]"
                                href="#dfn-pending-initialization-segment-for-changetype-flag" class="internalDFN"
                                id="ref-for-dfn-pending-initialization-segment-for-changetype-flag-1"><code>[[pending initialization segment for changeType flag]]</code></a>をtrueに設定。
                        </li>
                    </ol>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="method" id="dom-sourcebuffer-remove" data-idl="operation"
                        data-title="remove" data-dfn-for="SourceBuffer" data-type="undefined"
                        data-lt="remove()|remove(start, end)"
                        data-local-lt="SourceBuffer.remove|SourceBuffer.remove()|remove" tabindex="0"
                        aria-haspopup="dialog"><code>remove</code></dfn>
                </dt>
                <dd>
                    <p>
                        指定した時間範囲のメディアを削除します。削除範囲の<var>start</var>（秒）は<a data-link-type="dfn|abstract-op"
                            href="#presentation-start-time" class="internalDFN"
                            id="ref-for-presentation-start-time-6">presentation start
                            time</a>からの秒数です。<var>end</var>（秒）も<a data-link-type="dfn|abstract-op"
                            href="#presentation-start-time" class="internalDFN"
                            id="ref-for-presentation-start-time-7">presentation start time</a>からの秒数です。
                    </p>

                    <p>このメソッドが呼び出されると、ユーザーエージェントは次の手順を実行します：</p>
                    <ol class="method-algorithm">
                        <li>このオブジェクトが <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-sourcebuffers-29"><code>sourceBuffers</code></a>
                            属性から削除されている場合は
                            <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                id="ref-for-parent-media-source-19">parent media source</a> に対して <a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-14"><code>updating</code></a>属性がtrueの場合は、<a
                                data-link-type="exception" data-lt="InvalidStateError"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>例外を投げて中止。
                        </li>
                        <li><a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                                id="ref-for-dom-mediasource-duration-7"><code>duration</code></a>がNaNなら、<a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて中止。
                        </li>
                        <li><var data-type="double">start</var>が負または<a data-link-type="idl"
                                href="#dom-mediasource-duration" class="internalDFN"
                                id="ref-for-dom-mediasource-duration-8"><code>duration</code></a>より大きい場合、
                            <a data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて中止。
                        </li>
                        <li><var data-type="unrestricted double">end</var>が<var
                                data-type="double">start</var>以下、またはNaNの場合、
                            <a data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>例外を投げて中止。
                        </li>
                        <li>
                            <p>
                                <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                    id="ref-for-dom-mediasource-readystate-31"><code>readyState</code></a>属性が
                                <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-20">parent media source</a> の
                                "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                    id="ref-for-dom-readystate-ended-12"><code>ended</code></a>"状態の場合、以下の手順を実行：
                            </p>
                            <ol>
                                <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                        id="ref-for-dom-mediasource-readystate-32"><code>readyState</code></a>属性を
                                    "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                        id="ref-for-dom-readystate-open-18"><code>open</code></a>"に設定。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                    <a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                    名前が<a data-link-type="idl" data-lt="sourceopen" href="#dfn-sourceopen"
                                        class="internalDFN"
                                        id="ref-for-dfn-sourceopen-6"><code>sourceopen</code></a>のイベントを
                                    <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                        id="ref-for-parent-media-source-22">parent media source</a>で発火。
                                </li>
                            </ol>
                        </li>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-range-removal" class="internalDFN"
                                id="ref-for-dfn-range-removal-2">range removal</a>アルゴリズムを、<var
                                data-type="double">start</var>と<var
                                data-type="unrestricted double">end</var>を削除範囲の開始・終了として実行。
                        </li>
                    </ol>
                </dd>
            </dl>
        </section>
        <section id="track-buffers">
            <div class="header-wrapper">
                <h3 id="x5-3-track-buffers"><bdi class="secno">5.3 </bdi>
                    トラックバッファ
                </h3><a class="self-link" href="#track-buffers" aria-label="Permalink for Section 5.3"></a>
            </div>

            <p>
                <dfn id="track-buffer" data-plurals="track buffers" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">track buffer</dfn> は、個々のトラックの <a data-link-type="dfn|abstract-op"
                    href="#dfn-track-description" class="internalDFN" id="ref-for-dfn-track-description-2">track
                    descriptions</a> と <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                    id="ref-for-dfn-coded-frame-13">coded frames</a> を保存します。track bufferは、<a
                    data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                    id="ref-for-dfn-initialization-segment-5">initialization segments</a>や<a
                    data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                    id="ref-for-dfn-media-segment-7">media segments</a>が<a data-link-type="idl" data-lt="SourceBuffer"
                    href="#dom-sourcebuffer" class="internalDFN"
                    id="ref-for-dom-sourcebuffer-60"><code>SourceBuffer</code></a>に追加されるたびに更新されます。
            </p>
            <p>
                各<a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                    id="ref-for-track-buffer-8">track buffer</a>は、<dfn id="last-decode-timestamp" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">last decode timestamp</dfn>
                という変数を持ち、現在の<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-group" class="internalDFN"
                    id="ref-for-dfn-coded-frame-group-1">coded frame group</a>で最後に追加された<a
                    data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                    id="ref-for-dfn-coded-frame-14">coded frame</a>のdecode
                timestampを保存します。初期状態は未設定で、まだフレームが追加されていないことを示します。
            </p>
            <p>
                各<a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                    id="ref-for-track-buffer-9">track buffer</a>は、<dfn id="last-frame-duration" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">last frame duration</dfn>
                という変数を持ち、現在の<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-group" class="internalDFN"
                    id="ref-for-dfn-coded-frame-group-2">coded frame group</a>で最後に追加された<a
                    data-link-type="dfn|abstract-op" href="#dfn-coded-frame-duration" class="internalDFN"
                    id="ref-for-dfn-coded-frame-duration-5">coded frame duration</a>を保存します。初期状態は未設定。
            </p>
            <p>
                各<a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                    id="ref-for-track-buffer-10">track buffer</a>は、<dfn id="highest-end-timestamp" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">highest end timestamp</dfn>
                という変数を持ち、現在の<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-group" class="internalDFN"
                    id="ref-for-dfn-coded-frame-group-3">coded frame group</a>でこのtrack bufferに追加された全<a
                    data-link-type="dfn|abstract-op" href="#dfn-coded-frame-end-timestamp" class="internalDFN"
                    id="ref-for-dfn-coded-frame-end-timestamp-1">coded frame end timestamp</a>のうち最大値を保存します。初期状態は未設定。
            </p>
            <p>
                各<a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                    id="ref-for-track-buffer-11">track buffer</a>は、<dfn id="need-RAP-flag" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">need random access point flag</dfn>
                という変数を持ち、track bufferが<a data-link-type="dfn|abstract-op" href="#random-access-point"
                    class="internalDFN" id="ref-for-random-access-point-2">random access point</a>の<a
                    data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                    id="ref-for-dfn-coded-frame-20">coded frame</a>を待っているかどうかを記録します。初期値はtrueで、何かを追加するにはまず<a
                    data-link-type="dfn|abstract-op" href="#random-access-point" class="internalDFN"
                    id="ref-for-random-access-point-3">random access point</a>の<a data-link-type="dfn|abstract-op"
                    href="#dfn-coded-frame" class="internalDFN" id="ref-for-dfn-coded-frame-21">coded
                    frame</a>が必要であることを示します。
            </p>
            <p>
                各<a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                    id="ref-for-track-buffer-13">track buffer</a>は、<dfn id="track-buffer-ranges" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">track buffer ranges</dfn>
                という変数を持ち、track bufferに現在保存されている<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                    class="internalDFN" id="ref-for-dfn-coded-frame-22">coded frames</a>が占めるプレゼンテーション時間範囲を表します。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-46">
                <div role="heading" class="note-title marker" id="h-note-46" aria-level="4"><span>注</span></div>
                <p class="">
                    track buffer rangesについては、これらのプレゼンテーション時間範囲は<a data-link-type="dfn|abstract-op"
                        href="#presentation-timestamp" class="internalDFN"
                        id="ref-for-presentation-timestamp-14">presentation timestamps</a>、フレーム持続時間、およびmuxed<a
                        data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-61"><code>SourceBuffer</code></a>内のtrack bufferをまたぐcoded frame
                    groupの開始時刻などに基づきます。
                </p>
            </div>
            <p>
                仕様上は、この情報は<a
                    href="https://html.spec.whatwg.org/multipage/media.html#normalised-timeranges-object">normalized
                    TimeRanges object</a>として保存されているものとみなします。交差した<a data-link-type="dfn|abstract-op"
                    href="#track-buffer-ranges" class="internalDFN" id="ref-for-track-buffer-ranges-5">track buffer
                    ranges</a>は
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>の
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>の
                レポートに使われ、<em class="rfc2119">MUST</em>その範囲内で途切れなく再生できる必要があります。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-47">
                <div role="heading" class="note-title marker" id="h-note-47" aria-level="4"><span>注</span></div>
                <p class="">
                    これらのcoded frame groupの開始時刻は、<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing"
                        class="internalDFN" id="ref-for-dfn-coded-frame-processing-3">coded frame
                        processing</a>アルゴリズムで言及されるものとは若干異なり、
                    すべてのtrack bufferをまたいだ不連続後の最も早い<a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                        class="internalDFN" id="ref-for-presentation-timestamp-15">presentation timestamp</a>となります。不連続は
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing" class="internalDFN"
                        id="ref-for-dfn-coded-frame-processing-4">coded frame processing</a>アルゴリズム内でも発生し得ますし、
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-removal" class="internalDFN"
                        id="ref-for-dfn-coded-frame-removal-2">coded frame removal</a>アルゴリズムの結果でも発生し得ます（<a
                        data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-mode-7"><code>mode</code></a>によらず）。<a
                        data-link-type="dfn|abstract-op" href="#track-buffer-ranges" class="internalDFN"
                        id="ref-for-track-buffer-ranges-6">track buffer ranges</a>の分離判定閾値は実装依存です。例えば、予期しない再生停止を減らすため、実装は
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing" class="internalDFN"
                        id="ref-for-dfn-coded-frame-processing-5">coded frame processing</a>アルゴリズムの不連続検出ロジックを近似し、
                    この<a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                        id="ref-for-track-buffer-14">track buffer</a>でこれまでバッファされた最大フレーム持続時間の2倍未満の隙間で隣接範囲を統合する<em
                        class="rfc2119">MAY</em>です。
                    実装はまた、muxed<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                        class="internalDFN" id="ref-for-dom-sourcebuffer-62"><code>SourceBuffer</code></a>内で
                    coded frame groupの開始時刻を範囲の開始に使い、予期しない再生停止をさらに減らす<em class="rfc2119">MAY</em>です。
                </p>
            </div>
        </section>
        <section id="sourcebuffer-events">
            <div class="header-wrapper">
                <h3 id="x5-4-event-summary"><bdi class="secno">5.4 </bdi>
                    イベント概要
                </h3><a class="self-link" href="#sourcebuffer-events" aria-label="Permalink for Section 5.4"></a>
            </div>

            <table class="data">
                <thead>
                    <tr>
                        <th>
                            イベント名
                        </th>
                        <th>
                            インターフェース
                        </th>
                        <th>
                            発生タイミング
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-updatestart" tabindex="0"
                                aria-haspopup="dialog" data-export="">updatestart</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-63"><code>SourceBuffer</code></a> の <a data-link-type="idl"
                                href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-15"><code>updating</code></a> が false から true
                            に遷移したとき。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-update" tabindex="0" aria-haspopup="dialog"
                                data-export="">update</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-64"><code>SourceBuffer</code></a> への追加または削除が正常終了したとき。<a
                                data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-65"><code>SourceBuffer</code></a> の <a data-link-type="idl"
                                href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-16"><code>updating</code></a> が true から false
                            に遷移したとき。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-updateend" tabindex="0"
                                aria-haspopup="dialog" data-export="">updateend</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-66"><code>SourceBuffer</code></a> への追加または削除が終了したとき。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-error" tabindex="0" aria-haspopup="dialog"
                                data-export="">error</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-67"><code>SourceBuffer</code></a> への追加中にエラーが発生したとき。<a
                                data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-17"><code>updating</code></a> が true から false
                            に遷移したとき。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-abort" tabindex="0" aria-haspopup="dialog"
                                data-export="">abort</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-68"><code>SourceBuffer</code></a> への追加が <a
                                data-link-type="idl" data-lt="abort()" href="#dom-sourcebuffer-abort"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-abort-3"><code>abort</code></a><code>()</code>
                            の呼び出しで中断されたとき。<a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-updating-18"><code>updating</code></a> が true から false
                            に遷移したとき。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="sourcebuffer-algorithms">
            <div class="header-wrapper">
                <h3 id="x5-5-algorithms"><bdi class="secno">5.5 </bdi>
                    アルゴリズム
                </h3><a class="self-link" href="#sourcebuffer-algorithms" aria-label="Permalink for Section 5.5"></a>
            </div>

            <section id="sourcebuffer-segment-parser-loop">
                <div class="header-wrapper">
                    <h4 id="x5-5-1-segment-parser-loop"><bdi class="secno">5.5.1 </bdi>
                        <dfn id="dfn-segment-parser-loop" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">セグメントパーサーループ</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-segment-parser-loop"
                        aria-label="Permalink for Section 5.5.1"></a>
                </div>

                <p>
                    各 <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-69"><code>SourceBuffer</code></a> オブジェクトは、セグメントパースの高レベル状態を追跡するための
                    <dfn data-dfn-for="SourceBuffer" data-idl="" data-noexport="" data-dfn-type="attribute"
                        id="dfn-append-state" tabindex="0" aria-haspopup="dialog">[[append
                        state]]</dfn> 内部スロットを持ちます。初期値は <a data-link-type="dfn|abstract-op"
                        href="#sourcebuffer-waiting-for-segment" class="internalDFN"
                        id="ref-for-sourcebuffer-waiting-for-segment-1">WAITING_FOR_SEGMENT</a> であり、データ追加時に以下の状態に遷移します。
                </p>
                <table class="data">
                    <thead>
                        <tr>
                            <th>
                                追加状態名
                            </th>
                            <th>
                                説明
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <dfn id="sourcebuffer-waiting-for-segment" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">WAITING_FOR_SEGMENT</dfn>
                            </td>
                            <td>
                                <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-6">initialization
                                    segment</a> または <a data-link-type="dfn|abstract-op" href="#dfn-media-segment"
                                    class="internalDFN" id="ref-for-dfn-media-segment-8">media segment</a> の開始を待っている状態。
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <dfn id="sourcebuffer-parsing-init-segment" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">PARSING_INIT_SEGMENT</dfn>
                            </td>
                            <td>
                                現在、<a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-7">initialization
                                    segment</a> をパースしている状態。
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <dfn id="sourcebuffer-parsing-media-segment" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">PARSING_MEDIA_SEGMENT</dfn>
                            </td>
                            <td>
                                現在、<a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                                    id="ref-for-dfn-media-segment-9">media segment</a> をパースしている状態。
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    各 <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-70"><code>SourceBuffer</code></a> オブジェクトは <dfn
                        data-dfn-for="SourceBuffer" data-idl="" data-noexport="" data-dfn-type="attribute"
                        id="dfn-input-buffer" tabindex="0" aria-haspopup="dialog">[[input
                        buffer]]</dfn> 内部スロットを持ち、これは <a data-link-type="idl" data-lt="appendBuffer()"
                        href="#dom-sourcebuffer-appendbuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-appendbuffer-7"><code>appendBuffer</code></a><code>()</code>
                    の呼び出し間で未パースのバイト列を保持するバイトバッファです。<a data-link-type="idl" data-lt="SourceBuffer"
                        href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-71"><code>SourceBuffer</code></a>オブジェクト生成時は空です。
                </p>
                <p>
                    各 <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-72"><code>SourceBuffer</code></a> オブジェクトは <dfn
                        data-dfn-for="SourceBuffer" data-idl="" data-noexport="" data-dfn-type="attribute"
                        id="dfn-buffer-full-flag" tabindex="0" aria-haspopup="dialog">[[buffer full
                        flag]]</dfn> 内部スロットを持ち、これは <a data-link-type="idl" data-lt="appendBuffer()"
                        href="#dom-sourcebuffer-appendbuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-appendbuffer-8"><code>appendBuffer</code></a><code>()</code>
                    で追加可能なバイト数の上限に達しているかどうかを追跡します。オブジェクト生成時は false で、データ追加や削除により更新されます。
                </p>
                <p>
                    各 <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-74"><code>SourceBuffer</code></a> オブジェクトは <dfn
                        data-dfn-for="SourceBuffer" data-idl="" data-noexport="" data-dfn-type="attribute"
                        id="dfn-group-start-timestamp" tabindex="0" aria-haspopup="dialog">[[group start
                        timestamp]]</dfn> 内部スロットを持ち、"<a data-link-type="idl" href="#dom-appendmode-sequence"
                        class="internalDFN" id="ref-for-dom-appendmode-sequence-7"><code>sequence</code></a>" モードで新しい <a
                        data-link-type="dfn|abstract-op" href="#dfn-coded-frame-group" class="internalDFN"
                        id="ref-for-dfn-coded-frame-group-4">coded frame group</a> の開始タイムスタンプを記録します。オブジェクト生成時は未設定であり、<a
                        data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-mode-8"><code>mode</code></a> 属性が "<a data-link-type="idl"
                        href="#dom-appendmode-sequence" class="internalDFN"
                        id="ref-for-dom-appendmode-sequence-8"><code>sequence</code></a>" かつ <a data-link-type="idl"
                        href="#dom-sourcebuffer-timestampoffset" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-timestampoffset-5"><code>timestampOffset</code></a> 属性が設定されたとき、または
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing" class="internalDFN"
                        id="ref-for-dfn-coded-frame-processing-6">coded frame processing</a> アルゴリズム実行時に更新されます。
                </p>
                <p>
                    各 <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-75"><code>SourceBuffer</code></a> オブジェクトは <dfn
                        data-dfn-for="SourceBuffer" data-idl="" data-noexport="" data-dfn-type="attribute"
                        id="dfn-group-end-timestamp" tabindex="0" aria-haspopup="dialog">[[group end
                        timestamp]]</dfn> 内部スロットを持ち、現在の <a data-link-type="dfn|abstract-op"
                        href="#dfn-coded-frame-group" class="internalDFN" id="ref-for-dfn-coded-frame-group-5">coded
                        frame group</a> 全体の <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-end-timestamp"
                        class="internalDFN" id="ref-for-dfn-coded-frame-end-timestamp-2">coded frame end timestamp</a>
                    の最大値を保存します。オブジェクト生成時は 0 で、<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing"
                        class="internalDFN" id="ref-for-dfn-coded-frame-processing-7">coded frame processing</a>
                    アルゴリズムで更新されます。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-48">
                    <div role="heading" class="note-title marker" id="h-note-48" aria-level="5"><span>注</span></div>
                    <p class="">
                        <a data-link-type="attribute" data-lt="[[group end timestamp]]" href="#dfn-group-end-timestamp"
                            class="internalDFN"
                            id="ref-for-dfn-group-end-timestamp-2"><code>[[group end timestamp]]</code></a> は、<a
                            data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-76"><code>SourceBuffer</code></a> 内の全 <a
                            data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                            id="ref-for-track-buffer-16">track buffers</a> の <a data-link-type="dfn|abstract-op"
                            href="#dfn-coded-frame-end-timestamp" class="internalDFN"
                            id="ref-for-dfn-coded-frame-end-timestamp-3">coded frame end timestamp</a>
                        の最大値を記録します。複数トラックでタイムスタンプが揃っていない多重化セグメント追加時は、<a data-link-type="idl"
                            href="#dom-sourcebuffer-mode" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-mode-9"><code>mode</code></a> 属性の設定に注意してください。
                    </p>
                </div>
                <p>
                    各 <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-77"><code>SourceBuffer</code></a> オブジェクトは <dfn
                        data-dfn-for="SourceBuffer" data-export="" data-idl="" data-dfn-type="attribute"
                        id="dfn-generate-timestamps-flag" tabindex="0" aria-haspopup="dialog">[[generate timestamps
                        flag]]</dfn> 内部スロット（boolean型）を持ち、<a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                        class="internalDFN" id="ref-for-dfn-coded-frame-24">coded frames</a>
                    に対してタイムスタンプ生成が必要かどうかを追跡します。このフラグは、<a data-link-type="idl" data-lt="addSourceBuffer()"
                        href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                        id="ref-for-dom-mediasource-addsourcebuffer-6"><code>addSourceBuffer</code></a><code>()</code>でオブジェクト生成時に設定され、<a
                        data-link-type="idl" data-lt="changeType()" href="#dom-sourcebuffer-changetype"
                        class="internalDFN"
                        id="ref-for-dom-sourcebuffer-changetype-5"><code>changeType</code></a><code>()</code>で更新されます。
                </p>
                <p>
                    セグメントパーサーループアルゴリズムが呼び出されたとき、次の手順を実行します：
                </p>
                <ol>
                    <li>
                        <i>ループトップ:</i> <a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                            class="internalDFN" id="ref-for-dfn-input-buffer-2"><code>[[input buffer]]</code></a>
                        が空なら、下記 <i>need more data</i> 手順にジャンプする。
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                            class="internalDFN" id="ref-for-dfn-input-buffer-3"><code>[[input buffer]]</code></a> のバイト列が
                        <a data-link-type="dfn|abstract-op" href="#dfn-sourcebuffer-byte-stream-format-specification"
                            class="internalDFN"
                            id="ref-for-dfn-sourcebuffer-byte-stream-format-specification-1">SourceBufferバイトストリームフォーマット仕様</a>に違反している場合、<a
                            data-link-type="dfn|abstract-op" href="#dfn-append-error" class="internalDFN"
                            id="ref-for-dfn-append-error-3">append error</a> アルゴリズムを実行し、このアルゴリズムを中止する。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#byte-stream-format-specs" class="internalDFN"
                            id="ref-for-byte-stream-format-specs-5">byte stream format specifications</a>
                        で無視すべきとされているバイトを <a data-link-type="attribute" data-lt="[[input buffer]]"
                            href="#dfn-input-buffer" class="internalDFN"
                            id="ref-for-dfn-input-buffer-4"><code>[[input buffer]]</code></a> の先頭から除去する。
                    </li>
                    <li>
                        <p>
                            <a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                class="internalDFN" id="ref-for-dfn-append-state-3"><code>[[append state]]</code></a> が
                            <a data-link-type="dfn|abstract-op" href="#sourcebuffer-waiting-for-segment"
                                class="internalDFN"
                                id="ref-for-sourcebuffer-waiting-for-segment-2">WAITING_FOR_SEGMENT</a> の場合、以下の手順を実行：
                        </p>
                        <ol>
                            <li><a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-input-buffer-5"><code>[[input buffer]]</code></a> の先頭が <a
                                    data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-8">initialization
                                    segment</a> の開始を示している場合、<a data-link-type="attribute" data-lt="[[append state]]"
                                    href="#dfn-append-state" class="internalDFN"
                                    id="ref-for-dfn-append-state-4"><code>[[append state]]</code></a> を <a
                                    data-link-type="dfn|abstract-op" href="#sourcebuffer-parsing-init-segment"
                                    class="internalDFN"
                                    id="ref-for-sourcebuffer-parsing-init-segment-1">PARSING_INIT_SEGMENT</a> に設定する。
                            </li>
                            <li><a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-input-buffer-6"><code>[[input buffer]]</code></a> の先頭が <a
                                    data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                                    id="ref-for-dfn-media-segment-10">media segment</a> の開始を示している場合、<a
                                    data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                    class="internalDFN"
                                    id="ref-for-dfn-append-state-5"><code>[[append state]]</code></a> を <a
                                    data-link-type="dfn|abstract-op" href="#sourcebuffer-parsing-media-segment"
                                    class="internalDFN"
                                    id="ref-for-sourcebuffer-parsing-media-segment-3">PARSING_MEDIA_SEGMENT</a> に設定する。
                            </li>
                            <li>上記 <i>ループトップ</i> 手順にジャンプする。
                            </li>
                        </ol>
                    </li>
                    <li>
                        <p>
                            <a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                class="internalDFN" id="ref-for-dfn-append-state-6"><code>[[append state]]</code></a> が
                            <a data-link-type="dfn|abstract-op" href="#sourcebuffer-parsing-init-segment"
                                class="internalDFN"
                                id="ref-for-sourcebuffer-parsing-init-segment-2">PARSING_INIT_SEGMENT</a> の場合、以下の手順を実行：
                        </p>
                        <ol>
                            <li><a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-input-buffer-7"><code>[[input buffer]]</code></a> が完全な <a
                                    data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-9">initialization
                                    segment</a> をまだ含んでいなければ、下記 <i>need more data</i> 手順にジャンプする。
                            </li>
                            <li><a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment-received"
                                    class="internalDFN"
                                    id="ref-for-dfn-initialization-segment-received-1">initialization segment
                                    received</a> アルゴリズムを実行する。
                            </li>
                            <li><a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-10">initialization
                                    segment</a> のバイトを <a data-link-type="attribute" data-lt="[[input buffer]]"
                                    href="#dfn-input-buffer" class="internalDFN"
                                    id="ref-for-dfn-input-buffer-8"><code>[[input buffer]]</code></a> の先頭から削除する。
                            </li>
                            <li><a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                    class="internalDFN"
                                    id="ref-for-dfn-append-state-7"><code>[[append state]]</code></a> を <a
                                    data-link-type="dfn|abstract-op" href="#sourcebuffer-waiting-for-segment"
                                    class="internalDFN"
                                    id="ref-for-sourcebuffer-waiting-for-segment-3">WAITING_FOR_SEGMENT</a> に設定する。
                            </li>
                            <li>上記 <i>ループトップ</i> 手順にジャンプする。
                            </li>
                        </ol>
                    </li>
                    <li>
                        <p>
                            <a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                class="internalDFN" id="ref-for-dfn-append-state-8"><code>[[append state]]</code></a> が
                            <a data-link-type="dfn|abstract-op" href="#sourcebuffer-parsing-media-segment"
                                class="internalDFN"
                                id="ref-for-sourcebuffer-parsing-media-segment-4">PARSING_MEDIA_SEGMENT</a>
                            の場合、以下の手順を実行：
                        </p>
                        <ol>
                            <li><a data-link-type="attribute" data-lt="[[first initialization segment received flag]]"
                                    href="#dfn-first-initialization-segment-received-flag" class="internalDFN"
                                    id="ref-for-dfn-first-initialization-segment-received-flag-1"><code>[[first initialization segment received flag]]</code></a>
                                が false または
                                <a data-link-type="attribute"
                                    data-lt="[[pending initialization segment for changeType flag]]"
                                    href="#dfn-pending-initialization-segment-for-changetype-flag" class="internalDFN"
                                    id="ref-for-dfn-pending-initialization-segment-for-changetype-flag-2"><code>[[pending initialization segment for changeType flag]]</code></a>
                                が true の場合、<a data-link-type="dfn|abstract-op" href="#dfn-append-error"
                                    class="internalDFN" id="ref-for-dfn-append-error-4">append
                                    error</a>アルゴリズムを実行し、このアルゴリズムを中止する。
                            </li>
                            <li><a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-input-buffer-9"><code>[[input buffer]]</code></a> が一つ以上の完全な <a
                                    data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                    id="ref-for-dfn-coded-frame-25">coded frames</a> を含む場合、<a
                                    data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing"
                                    class="internalDFN" id="ref-for-dfn-coded-frame-processing-9">coded frame
                                    processing</a> アルゴリズムを実行する。
                                <div class="note" role="note" id="issue-container-generatedID-49">
                                    <div role="heading" class="note-title marker" id="h-note-49" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        coded frame processing アルゴリズムの実行頻度は実装依存です。input bufferに完全なメディアセグメントがあるとき、または完全な
                                        coded frames が追加されるたびに複数回呼ぶ<em class="rfc2119">MAY</em>です。
                                    </p>
                                </div>
                            </li>
                            <li>この <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-79"><code>SourceBuffer</code></a>
                                が一杯でさらにメディアデータを受け付けられない場合、<a data-link-type="attribute" data-lt="[[buffer full flag]]"
                                    href="#dfn-buffer-full-flag" class="internalDFN"
                                    id="ref-for-dfn-buffer-full-flag-1"><code>[[buffer full flag]]</code></a> を true
                                に設定する。
                            </li>
                            <li><a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-input-buffer-10"><code>[[input buffer]]</code></a> が完全な <a
                                    data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                                    id="ref-for-dfn-media-segment-11">media segment</a> を含まない場合、下記 <i>need more data</i>
                                手順にジャンプする。
                            </li>
                            <li><a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                                    id="ref-for-dfn-media-segment-12">media segment</a> のバイトを <a
                                    data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                                    class="internalDFN"
                                    id="ref-for-dfn-input-buffer-11"><code>[[input buffer]]</code></a> の先頭から削除する。
                            </li>
                            <li><a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                                    class="internalDFN"
                                    id="ref-for-dfn-append-state-9"><code>[[append state]]</code></a> を <a
                                    data-link-type="dfn|abstract-op" href="#sourcebuffer-waiting-for-segment"
                                    class="internalDFN"
                                    id="ref-for-sourcebuffer-waiting-for-segment-4">WAITING_FOR_SEGMENT</a> に設定する。
                            </li>
                            <li>上記 <i>ループトップ</i> 手順にジャンプする。
                            </li>
                        </ol>
                    </li>
                    <li>
                        <i>need more data:</i> 呼び出し元アルゴリズムへ制御を返す。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-reset-parser-state">
                <div class="header-wrapper">
                    <h4 id="x5-5-2-reset-parser-state"><bdi class="secno">5.5.2 </bdi>
                        <dfn id="dfn-reset-parser-state" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">パーサ状態のリセット</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-reset-parser-state"
                        aria-label="Permalink for Section 5.5.2"></a>
                </div>

                <p>
                    パーサ状態をリセットする必要がある場合、以下の手順を実行します：
                </p>
                <ol>
                    <li><a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                            class="internalDFN" id="ref-for-dfn-append-state-10"><code>[[append state]]</code></a>
                        が <a data-link-type="dfn|abstract-op" href="#sourcebuffer-parsing-media-segment"
                            class="internalDFN"
                            id="ref-for-sourcebuffer-parsing-media-segment-5">PARSING_MEDIA_SEGMENT</a> で、
                        <a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                            class="internalDFN" id="ref-for-dfn-input-buffer-12"><code>[[input buffer]]</code></a>
                        にいくつかの完全な <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                            id="ref-for-dfn-coded-frame-26">coded frames</a> が含まれている場合は、
                        それらの完全な <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                            id="ref-for-dfn-coded-frame-27">coded frames</a> がすべて処理されるまで
                        <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing" class="internalDFN"
                            id="ref-for-dfn-coded-frame-processing-10">coded frame processing</a> アルゴリズムを実行する。
                    </li>
                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                            id="ref-for-track-buffer-17">track buffers</a> の <a data-link-type="dfn|abstract-op"
                            href="#last-decode-timestamp" class="internalDFN" id="ref-for-last-decode-timestamp-1">last
                            decode timestamp</a> を未設定にする。
                    </li>
                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                            id="ref-for-track-buffer-18">track buffers</a> の <a data-link-type="dfn|abstract-op"
                            href="#last-frame-duration" class="internalDFN" id="ref-for-last-frame-duration-1">last
                            frame duration</a> を未設定にする。
                    </li>
                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                            id="ref-for-track-buffer-19">track buffers</a> の <a data-link-type="dfn|abstract-op"
                            href="#highest-end-timestamp" class="internalDFN"
                            id="ref-for-highest-end-timestamp-1">highest end timestamp</a> を未設定にする。
                    </li>
                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                            id="ref-for-track-buffer-20">track buffers</a> の <a data-link-type="dfn|abstract-op"
                            href="#need-RAP-flag" class="internalDFN" id="ref-for-need-RAP-flag-1">need random access
                            point flag</a> を true に設定する。
                    </li>
                    <li><a data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-mode-10"><code>mode</code></a> 属性が "<a data-link-type="idl"
                            href="#dom-appendmode-sequence" class="internalDFN"
                            id="ref-for-dom-appendmode-sequence-9"><code>sequence</code></a>" の場合、
                        <a data-link-type="attribute" data-lt="[[group start timestamp]]"
                            href="#dfn-group-start-timestamp" class="internalDFN"
                            id="ref-for-dfn-group-start-timestamp-3"><code>[[group start timestamp]]</code></a> を
                        <a data-link-type="attribute" data-lt="[[group end timestamp]]" href="#dfn-group-end-timestamp"
                            class="internalDFN"
                            id="ref-for-dfn-group-end-timestamp-3"><code>[[group end timestamp]]</code></a> で設定する。
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[input buffer]]" href="#dfn-input-buffer"
                            class="internalDFN" id="ref-for-dfn-input-buffer-13"><code>[[input buffer]]</code></a>
                        の全てのバイトを削除する。
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[append state]]" href="#dfn-append-state"
                            class="internalDFN" id="ref-for-dfn-append-state-11"><code>[[append state]]</code></a> を <a
                            data-link-type="dfn|abstract-op" href="#sourcebuffer-waiting-for-segment"
                            class="internalDFN" id="ref-for-sourcebuffer-waiting-for-segment-5">WAITING_FOR_SEGMENT</a>
                        に設定する。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-append-error">
                <div class="header-wrapper">
                    <h4 id="x5-5-3-append-error"><bdi class="secno">5.5.3 </bdi>
                        <dfn data-export="" id="dfn-append-error" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">追加エラー</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-append-error"
                        aria-label="Permalink for Section 5.5.3"></a>
                </div>

                <p>
                    追加操作中にエラーが発生した時に呼ばれるアルゴリズムです。
                </p>
                <ol>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-reset-parser-state" class="internalDFN"
                            id="ref-for-dfn-reset-parser-state-3">reset parser state</a> アルゴリズムを実行する。
                    </li>
                    <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-updating-19"><code>updating</code></a> 属性を false に設定する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                        名前が <a data-link-type="idl" data-lt="error" href="#dfn-error" class="internalDFN"
                            id="ref-for-dfn-error-2"><code>error</code></a> のイベントをこの <a data-link-type="idl"
                            data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-80"><code>SourceBuffer</code></a> オブジェクトで発火する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                        名前が <a data-link-type="idl" data-lt="updateend" href="#dfn-updateend" class="internalDFN"
                            id="ref-for-dfn-updateend-4"><code>updateend</code></a> のイベントをこの <a data-link-type="idl"
                            data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-81"><code>SourceBuffer</code></a> オブジェクトで発火する。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-end-of-stream" class="internalDFN"
                            id="ref-for-dfn-end-of-stream-2">end of stream</a> アルゴリズムを <var
                            data-type="EndOfStreamError">error</var> パラメータを "<a data-link-type="idl"
                            href="#dom-endofstreamerror-decode" class="internalDFN"
                            id="ref-for-dom-endofstreamerror-decode-3"><code>decode</code></a>" にして実行する。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-prepare-append">
                <div class="header-wrapper">
                    <h4 id="x5-5-4-prepare-append"><bdi class="secno">5.5.4 </bdi>
                        <dfn id="dfn-prepare-append" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">追加準備</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-prepare-append"
                        aria-label="Permalink for Section 5.5.4"></a>
                </div>

                <p>
                    追加操作が開始されると、<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                        class="internalDFN" id="ref-for-dom-sourcebuffer-82"><code>SourceBuffer</code></a>
                    の検証および準備のために以下の手順を実行します。
                </p>
                <ol>
                    <li><a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-83"><code>SourceBuffer</code></a> が
                        <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-sourcebuffers-30"><code>sourceBuffers</code></a> 属性から削除されている場合は
                        <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                            id="ref-for-parent-media-source-23">parent media source</a> に対して
                        <a data-link-type="exception" data-lt="InvalidStateError"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                        例外を投げて中止。
                    </li>
                    <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-updating-20"><code>updating</code></a> 属性が true の場合は
                        <a data-link-type="exception" data-lt="InvalidStateError"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                        例外を投げて中止。
                    </li>
                    <li><var data-type="boolean">recent element error</var> を次のように判定する：
                        <dl class="switch">
                            <dt>
                                <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource"
                                    class="internalDFN" id="ref-for-dom-mediasource-98"><code>MediaSource</code></a> が
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                で構築されている場合
                            </dt>
                            <dd>
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dfn-error" class="internalDFN"
                                    id="ref-for-dfn-error-3"><code>error</code></a> 属性が null でなければ true。null なら false。
                            </dd>
                            <dt>
                                それ以外の場合
                            </dt>
                            <dd>
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                の
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dfn-error" class="internalDFN"
                                    id="ref-for-dfn-error-4"><code>error</code></a> 属性が変更された時、<a
                                    data-link-type="attribute" data-lt="[[port to worker]]" href="#dfn-port-to-worker"
                                    class="internalDFN"
                                    id="ref-for-dfn-port-to-worker-7"><code>[[port to worker]]</code></a>
                                の暗黙メッセージで通知された値とする。まだメッセージが受信されていなければ false。
                            </dd>
                        </dl>
                    </li>
                    <li><var data-type="boolean">recent element error</var> が true の場合、<a data-link-type="exception"
                            data-lt="InvalidStateError"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                        例外を投げて中止。
                    </li>
                    <li>
                        <p>
                            <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                id="ref-for-dom-mediasource-readystate-33"><code>readyState</code></a> 属性が
                            <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                id="ref-for-parent-media-source-24">parent media source</a> で
                            "<a data-link-type="idl" href="#dom-readystate-ended" class="internalDFN"
                                id="ref-for-dom-readystate-ended-13"><code>ended</code></a>" の場合、以下の手順を実行：
                        </p>
                        <ol>
                            <li><a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                    id="ref-for-dom-mediasource-readystate-34"><code>readyState</code></a> 属性を
                                <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-25">parent media source</a> で
                                "<a data-link-type="idl" href="#dom-readystate-open" class="internalDFN"
                                    id="ref-for-dom-readystate-open-19"><code>open</code></a>" に設定する
                            </li>
                            <li><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                                名前が <a data-link-type="idl" data-lt="sourceopen" href="#dfn-sourceopen"
                                    class="internalDFN" id="ref-for-dfn-sourceopen-7"><code>sourceopen</code></a> のイベントを
                                <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-26">parent media source</a> で発火する。
                            </li>
                        </ol>
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-eviction" class="internalDFN"
                            id="ref-for-dfn-coded-frame-eviction-1">coded frame eviction</a> アルゴリズムを実行する。
                    </li>
                    <li>
                        <p>
                            <a data-link-type="attribute" data-lt="[[buffer full flag]]" href="#dfn-buffer-full-flag"
                                class="internalDFN"
                                id="ref-for-dfn-buffer-full-flag-2"><code>[[buffer full flag]]</code></a> が true の場合は
                            <a data-link-type="interface" data-lt="QuotaExceededError"
                                href="https://webidl.spec.whatwg.org/#quotaexceedederror"><code>QuotaExceededError</code></a>
                            例外を投げて中止。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-50">
                            <div role="heading" class="note-title marker" id="h-note-50" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                これは、追加に必要な十分なデータの削除ができなかった、もしくは追加サイズが大きすぎることを示します。ウェブアプリケーションは
                                <a data-link-type="idl" data-lt="remove()" href="#dom-sourcebuffer-remove"
                                    class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-remove-4"><code>remove</code></a><code>()</code>
                                を使って明示的に空き領域を確保するか、追加サイズを減らすべきです。
                            </p>
                        </div>
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-buffer-append">
                <div class="header-wrapper">
                    <h4 id="x5-5-5-buffer-append"><bdi class="secno">5.5.5 </bdi>
                        <dfn id="dfn-buffer-append" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">バッファ追加</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-buffer-append"
                        aria-label="Permalink for Section 5.5.5"></a>
                </div>

                <p>
                    <a data-link-type="idl" data-lt="appendBuffer()" href="#dom-sourcebuffer-appendbuffer"
                        class="internalDFN"
                        id="ref-for-dom-sourcebuffer-appendbuffer-9"><code>appendBuffer</code></a><code>()</code>
                    が呼び出された際、追加されたデータの処理に以下の手順を実行します。
                </p>
                <ol>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-segment-parser-loop" class="internalDFN"
                            id="ref-for-dfn-segment-parser-loop-1">segment parser loop</a> アルゴリズムを実行する。
                    </li>
                    <li>前の手順で <a data-link-type="dfn|abstract-op" href="#dfn-segment-parser-loop" class="internalDFN"
                            id="ref-for-dfn-segment-parser-loop-2">segment parser loop</a>
                        アルゴリズムが中止された場合は、このアルゴリズムを中止する。
                    </li>
                    <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-updating-21"><code>updating</code></a> 属性を false に設定する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                        名前が <a data-link-type="idl" data-lt="update" href="#dfn-update" class="internalDFN"
                            id="ref-for-dfn-update-2"><code>update</code></a> のイベントをこの <a data-link-type="idl"
                            data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-84"><code>SourceBuffer</code></a> オブジェクトで発火する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                        名前が <a data-link-type="idl" data-lt="updateend" href="#dfn-updateend" class="internalDFN"
                            id="ref-for-dfn-updateend-5"><code>updateend</code></a> のイベントをこの <a data-link-type="idl"
                            data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-85"><code>SourceBuffer</code></a> オブジェクトで発火する。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-range-removal">
                <div class="header-wrapper">
                    <h4 id="x5-5-6-range-removal"><bdi class="secno">5.5.6 </bdi>
                        <dfn id="dfn-range-removal" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">範囲削除</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-range-removal"
                        aria-label="Permalink for Section 5.5.6"></a>
                </div>

                <p>
                    JavaScript から見える範囲削除操作を開始し、他の SourceBuffer の更新をブロックする必要がある場合は以下の手順に従います：
                </p>
                <ol>
                    <li><var data-type="double">start</var> を、削除範囲の開始 <a data-link-type="dfn|abstract-op"
                            href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-16">presentation timestamp</a>（秒、<a
                            data-link-type="dfn|abstract-op" href="#presentation-start-time" class="internalDFN"
                            id="ref-for-presentation-start-time-8">presentation start time</a>からの秒数）とする。
                    </li>
                    <li><var data-type="unrestricted double">end</var> を、削除範囲の終了 <a data-link-type="dfn|abstract-op"
                            href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-17">presentation timestamp</a>（秒、<a
                            data-link-type="dfn|abstract-op" href="#presentation-start-time" class="internalDFN"
                            id="ref-for-presentation-start-time-9">presentation start time</a>からの秒数）とする。
                    </li>
                    <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-updating-22"><code>updating</code></a> 属性を true に設定する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                        名前が <a data-link-type="idl" data-lt="updatestart" href="#dfn-updatestart" class="internalDFN"
                            id="ref-for-dfn-updatestart-3"><code>updatestart</code></a> のイベントをこの
                        <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-86"><code>SourceBuffer</code></a> オブジェクトで発火する。
                    </li>
                    <li>呼び出し元に制御を返し、残りの手順は非同期で実行する。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-removal" class="internalDFN"
                            id="ref-for-dfn-coded-frame-removal-3">coded frame removal</a> アルゴリズムを <var
                            data-type="double">start</var> および <var data-type="unrestricted double">end</var>
                        を削除範囲として実行する。
                    </li>
                    <li><a data-link-type="idl" href="#dom-sourcebuffer-updating" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-updating-23"><code>updating</code></a> 属性を false に設定する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                        名前が <a data-link-type="idl" data-lt="update" href="#dfn-update" class="internalDFN"
                            id="ref-for-dfn-update-3"><code>update</code></a> のイベントをこの <a data-link-type="idl"
                            data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-87"><code>SourceBuffer</code></a> オブジェクトで発火する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し
                        名前が <a data-link-type="idl" data-lt="updateend" href="#dfn-updateend" class="internalDFN"
                            id="ref-for-dfn-updateend-6"><code>updateend</code></a> のイベントをこの <a data-link-type="idl"
                            data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-88"><code>SourceBuffer</code></a> オブジェクトで発火する。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-init-segment-received">
                <div class="header-wrapper">
                    <h4 id="x5-5-7-initialization-segment-received"><bdi class="secno">5.5.7 </bdi>
                        <dfn id="dfn-initialization-segment-received" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">initialization セグメント受信</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-init-segment-received"
                        aria-label="Permalink for Section 5.5.7"></a>
                </div>

                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-segment-parser-loop" class="internalDFN"
                        id="ref-for-dfn-segment-parser-loop-3">segment parser loop</a> が完全な
                    <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                        id="ref-for-dfn-initialization-segment-11">initialization segment</a> を正常にパースしたとき、次の手順を実行します。
                </p>
                <p>
                    各 SourceBuffer オブジェクトは、最初の
                    <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                        id="ref-for-dfn-initialization-segment-12">initialization segment</a>
                    がこのアルゴリズムによって追加・受信されたかどうかを追跡する
                    <dfn data-dfn-for="SourceBuffer" data-idl="" data-noexport="" data-dfn-type="attribute"
                        id="dfn-first-initialization-segment-received-flag" tabindex="0" aria-haspopup="dialog">[[first
                        initialization
                        segment received flag]]</dfn> 内部スロットを持ちます。このフラグは SourceBuffer 作成時に false に設定され、以下のアルゴリズムで更新されます。
                </p>
                <p>
                    各 SourceBuffer オブジェクトは、直近の
                    <a data-link-type="idl" data-lt="changeType()" href="#dom-sourcebuffer-changetype"
                        class="internalDFN"
                        id="ref-for-dom-sourcebuffer-changetype-6"><code>changeType</code></a><code>()</code> 以降に
                    <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                        id="ref-for-dfn-initialization-segment-13">initialization segment</a> が必要かどうかを追跡する
                    <dfn data-dfn-for="SourceBuffer" data-idl="" data-noexport="" data-dfn-type="attribute"
                        id="dfn-pending-initialization-segment-for-changetype-flag" tabindex="0"
                        aria-haspopup="dialog">[[pending
                        initialization segment for changeType flag]]</dfn> 内部スロットを持ちます。このフラグは SourceBuffer 作成時に false
                    に設定され、
                    <a data-link-type="idl" data-lt="changeType()" href="#dom-sourcebuffer-changetype"
                        class="internalDFN"
                        id="ref-for-dom-sourcebuffer-changetype-7"><code>changeType</code></a><code>()</code> により true
                    に設定され、
                    以下のアルゴリズムにより false に戻されます。
                </p>
                <ol>
                    <li>現在の <a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                            id="ref-for-dom-mediasource-duration-9"><code>duration</code></a> 属性が NaN に等しい場合は更新する：
                        <dl class="switch">
                            <dt>
                                initialization segment に duration が含まれている場合：
                            </dt>
                            <dd>
                                <a data-link-type="dfn|abstract-op" href="#dfn-duration-change" class="internalDFN"
                                    id="ref-for-dfn-duration-change-4">duration 変更</a> アルゴリズムを、
                                <var data-type="unrestricted double">new duration</var> を initialization segment 内の
                                duration に設定して実行する。
                            </dd>
                            <dt>
                                それ以外の場合：
                            </dt>
                            <dd>
                                <a data-link-type="dfn|abstract-op" href="#dfn-duration-change" class="internalDFN"
                                    id="ref-for-dfn-duration-change-5">duration 変更</a> アルゴリズムを、
                                <var data-type="unrestricted double">new duration</var> を正の Infinity に設定して実行する。
                            </dd>
                        </dl>
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                            id="ref-for-dfn-initialization-segment-14">initialization segment</a>
                        に音声・動画・テキストのいずれのトラックも含まれていない場合、
                        <a data-link-type="dfn|abstract-op" href="#dfn-append-error" class="internalDFN"
                            id="ref-for-dfn-append-error-5">append error</a> アルゴリズムを実行して、これらの手順を中止する。
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[first initialization segment received flag]]"
                            href="#dfn-first-initialization-segment-received-flag" class="internalDFN"
                            id="ref-for-dfn-first-initialization-segment-received-flag-2"><code>[[first initialization segment received flag]]</code></a>
                        が true の場合、次の手順を実行する：
                        <ol>
                            <li>以下の性質を検証する。いずれかの検証に失敗した場合は
                                <a data-link-type="dfn|abstract-op" href="#dfn-append-error" class="internalDFN"
                                    id="ref-for-dfn-append-error-6">append error</a> アルゴリズムを実行して、これらの手順を中止する。
                                <ul>
                                    <li>音声・動画・テキストトラックの数が最初の
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-15">initialization segment</a>
                                        のものと一致している。
                                    </li>
                                    <li>ある種類に複数トラックが存在する場合（例：音声トラックが 2 本）、
                                        各トラックの <a data-link-type="dfn|abstract-op" href="#dfn-track-id"
                                            class="internalDFN" id="ref-for-dfn-track-id-5">Track ID</a> が最初の
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-16">initialization segment</a>
                                        のものと一致している。
                                    </li>
                                    <li>各トラックのコーデックがユーザーエージェントでサポートされている。
                                        <div class="note" role="note" id="issue-container-generatedID-51">
                                            <div role="heading" class="note-title marker" id="h-note-51" aria-level="5">
                                                <span>注</span>
                                            </div>
                                            <p class="">
                                                ユーザーエージェントは、通常はサポートされるコーデックであっても、ここでは
                                                <em class="rfc2119">MAY</em> 「サポートされない」と見なすことがあります。例えば、そのコーデックが
                                                <var data-type="DOMString">type</var> パラメータとして
                                                (a) この <a data-link-type="idl" data-lt="SourceBuffer"
                                                    href="#dom-sourcebuffer" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-89"><code>SourceBuffer</code></a>
                                                オブジェクトに対して直近で成功した
                                                <a data-link-type="idl" data-lt="changeType()"
                                                    href="#dom-sourcebuffer-changetype" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-changetype-8"><code>changeType</code></a><code>()</code>
                                                の呼び出し、または (b) まだ成功した
                                                <a data-link-type="idl" data-lt="changeType()"
                                                    href="#dom-sourcebuffer-changetype" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-changetype-9"><code>changeType</code></a><code>()</code>
                                                がない場合は、当該オブジェクトを作成した
                                                <a data-link-type="idl" data-lt="addSourceBuffer()"
                                                    href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                                                    id="ref-for-dom-mediasource-addsourcebuffer-7"><code>addSourceBuffer</code></a><code>()</code>
                                                において、正確に指定されていないときです。例えば、直近で成功した
                                                <a data-link-type="idl" data-lt="changeType()"
                                                    href="#dom-sourcebuffer-changetype" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-changetype-10"><code>changeType</code></a><code>()</code>
                                                が <code>'video/webm'</code> または
                                                <code>'video/webm; codecs="vp8"'</code> で呼び出されており、initialization segment
                                                に vp9 のビデオトラックが現れた場合、
                                                他の 2 つの性質の検証が通っていても、この手順を用いてデコードエラーをトリガーすることが
                                                <em class="rfc2119">MAY</em> です。実装は、コーデックが実際にサポートされていない場合や他の 2
                                                つの検証が失敗する場合にのみエラーをトリガーすることが推奨されます。
                                                Web 作者は、ユーザーエージェントのサポートをより積極的に検出するため、
                                                <a data-link-type="idl" data-lt="changeType()"
                                                    href="#dom-sourcebuffer-changetype" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-changetype-11"><code>changeType</code></a><code>()</code>、
                                                <a data-link-type="idl" data-lt="addSourceBuffer()"
                                                    href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                                                    id="ref-for-dom-mediasource-addsourcebuffer-8"><code>addSourceBuffer</code></a><code>()</code>、
                                                および <a data-link-type="idl" data-lt="isTypeSupported()"
                                                    href="#dom-mediasource-istypesupported" class="internalDFN"
                                                    id="ref-for-dom-mediasource-istypesupported-2"><code>isTypeSupported</code></a><code>()</code>
                                                を正確なコーデックパラメータで使用することが推奨されます。さらに、
                                                <a data-link-type="idl" data-lt="changeType()"
                                                    href="#dom-sourcebuffer-changetype" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-changetype-12"><code>changeType</code></a><code>()</code>
                                                は、<a data-link-type="idl" data-lt="SourceBuffer"
                                                    href="#dom-sourcebuffer" class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-91"><code>SourceBuffer</code></a>
                                                オブジェクトの bytestream 形式が変わる場合に必要です。
                                            </p>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>この <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-17">initialization
                                    segment</a> から適切な
                                <a data-link-type="dfn|abstract-op" href="#dfn-track-description" class="internalDFN"
                                    id="ref-for-dfn-track-description-3">track descriptions</a> を各
                                <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                    id="ref-for-track-buffer-21">track buffers</a> に追加する。
                            </li>
                            <li>すべての track buffer の <a data-link-type="dfn|abstract-op" href="#need-RAP-flag"
                                    class="internalDFN" id="ref-for-need-RAP-flag-2">need random access point flag</a> を
                                true に設定する。
                            </li>
                        </ol>
                    </li>
                    <li><var data-type="boolean">active track flag</var> を false とする。
                    </li>
                    <li>
                        <p>
                            <a data-link-type="attribute" data-lt="[[first initialization segment received flag]]"
                                href="#dfn-first-initialization-segment-received-flag" class="internalDFN"
                                id="ref-for-dfn-first-initialization-segment-received-flag-3"><code>[[first initialization segment received flag]]</code></a>
                            が false の場合、次の手順を実行する：
                        </p>
                        <ol>
                            <li><a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-18">initialization
                                    segment</a> に、ユーザーエージェントがサポートしないコーデックのトラックが含まれている場合、
                                <a data-link-type="dfn|abstract-op" href="#dfn-append-error" class="internalDFN"
                                    id="ref-for-dfn-append-error-7">append
                                    error</a> アルゴリズムを実行して中止する。
                                <div class="note" role="note" id="issue-container-generatedID-52">
                                    <div role="heading" class="note-title marker" id="h-note-52" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        ユーザーエージェントは、通常はサポートされるコーデックでも、ここでは「サポートされない」と
                                        <em class="rfc2119">MAY</em> 見なすことがあります。これは、そのコーデックが
                                        <var data-type="DOMString">type</var> パラメータとして
                                        (a) この <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-92"><code>SourceBuffer</code></a>
                                        オブジェクトに対して直近で成功した
                                        <a data-link-type="idl" data-lt="changeType()"
                                            href="#dom-sourcebuffer-changetype" class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-changetype-13"><code>changeType</code></a><code>()</code>
                                        の呼び出し、または (b) 当該オブジェクトでまだ成功した
                                        <a data-link-type="idl" data-lt="changeType()"
                                            href="#dom-sourcebuffer-changetype" class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-changetype-14"><code>changeType</code></a><code>()</code>
                                        が無い場合は、当該オブジェクトを作成した
                                        <a data-link-type="idl" data-lt="addSourceBuffer()"
                                            href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                                            id="ref-for-dom-mediasource-addsourcebuffer-9"><code>addSourceBuffer</code></a><code>()</code>
                                        において正確に指定されていないときです。例えば、
                                        <code>MediaSource.isTypeSupported('video/webm;codecs="vp8,vorbis"')</code>
                                        が true を返す場合でも、
                                        <a data-link-type="idl" data-lt="addSourceBuffer()"
                                            href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                                            id="ref-for-dom-mediasource-addsourcebuffer-10"><code>addSourceBuffer</code></a><code>()</code>
                                        が <code>'video/webm;codecs="vp8"'</code> で呼ばれ、initialization segment に Vorbis
                                        トラックが現れたなら、
                                        この手順を用いてデコードエラーをトリガーすることが
                                        <em class="rfc2119">MAY</em> です。実装は、コーデックが実際に非サポートの場合にのみエラーをトリガーすることが推奨されます。
                                        Web 作者は、より積極的にユーザーエージェントのサポートを検出するため、
                                        <a data-link-type="idl" data-lt="changeType()"
                                            href="#dom-sourcebuffer-changetype" class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-changetype-15"><code>changeType</code></a><code>()</code>、
                                        <a data-link-type="idl" data-lt="addSourceBuffer()"
                                            href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                                            id="ref-for-dom-mediasource-addsourcebuffer-11"><code>addSourceBuffer</code></a><code>()</code>、
                                        および
                                        <a data-link-type="idl" data-lt="isTypeSupported()"
                                            href="#dom-mediasource-istypesupported" class="internalDFN"
                                            id="ref-for-dom-mediasource-istypesupported-3"><code>isTypeSupported</code></a><code>()</code>
                                        を正確なコーデックパラメータで用いることが推奨されます。
                                        また、<a data-link-type="idl" data-lt="changeType()"
                                            href="#dom-sourcebuffer-changetype" class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-changetype-16"><code>changeType</code></a><code>()</code>
                                        は、<a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-94"><code>SourceBuffer</code></a> オブジェクトの
                                        bytestream 形式が変更される場合に必要です。
                                    </p>
                                </div>
                            </li>
                            <li>
                                <p>
                                    <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                        class="internalDFN" id="ref-for-dfn-initialization-segment-20">initialization
                                        segment</a> の各音声トラックについて、次の手順を実行する：
                                </p>
                                <ol>
                                    <li><var>audio byte stream track ID</var> を、処理中の現在のトラックの
                                        <a data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                                            id="ref-for-dfn-track-id-6">Track ID</a> とする。
                                    </li>
                                    <li><var data-type="DOMString">audio language</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-21">initialization segment</a>
                                        で指定された言語の BCP 47 言語タグ、
                                        または言語情報が無い場合は空文字列とする。
                                    </li>
                                    <li><var data-type="DOMString">audio language</var> が BCP 47 の 'und' に等しい場合、
                                        <var data-type="DOMString">audio language</var> に空文字列を代入する。
                                    </li>
                                    <li><var data-type="DOMString">audio label</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-22">initialization segment</a>
                                        で指定されたラベル、
                                        または情報が無い場合は空文字列とする。
                                    </li>
                                    <li><var data-type="DOMString sequence">audio kinds</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-23">initialization segment</a> で指定された
                                        kind 文字列のシーケンス、
                                        あるいは情報が無い場合は空文字列 1 要素のシーケンスとする。
                                    </li>
                                    <li><var data-type="DOMString sequence">audio kinds</var> の各値について、次の手順を実行する：
                                        <ol>
                                            <li><var data-type="DOMString">current audio kind</var> を、この反復における
                                                <var data-type="DOMString sequence">audio kinds</var> の値とする。
                                            </li>
                                            <li><var data-type="AudioTrack">new audio track</var> を新しい
                                                <a data-link-type="interface" data-lt="AudioTrack"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
                                                オブジェクトとする。
                                            </li>
                                            <li>ユニークな ID を生成し、<var data-type="AudioTrack">new audio track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-id"><code>id</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">audio language</var> を
                                                <var>new
                                                    audio track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-language"><code>language</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">audio label</var> を
                                                <var>new audio
                                                    track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-label"><code>label</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">current audio kind</var> を
                                                <var>new
                                                    audio track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-kind"><code>kind</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li>
                                                <p>
                                                    この <a data-link-type="idl" data-lt="SourceBuffer"
                                                        href="#dom-sourcebuffer" class="internalDFN"
                                                        id="ref-for-dom-sourcebuffer-95"><code>SourceBuffer</code></a>
                                                    オブジェクトの
                                                    <a data-link-type="idl" href="#dom-sourcebuffer-audiotracks"
                                                        class="internalDFN"
                                                        id="ref-for-dom-sourcebuffer-audiotracks-3"><code>audioTracks</code></a>
                                                    の
                                                    <a data-link-type="attribute"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotracklist-length"><code>length</code></a>
                                                    が 0 に等しい場合、次を実行する：
                                                </p>
                                                <ol>
                                                    <li><var data-type="AudioTrack">new audio track</var> の
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-audiotrack-enabled"><code>enabled</code></a>
                                                        プロパティを true に設定する。
                                                    </li>
                                                    <li><var data-type="boolean">active track flag</var> を true に設定する。
                                                    </li>
                                                </ol>
                                            </li>
                                            <li><var data-type="AudioTrack">new audio track</var> を、この
                                                <a data-link-type="idl" href="#dom-sourcebuffer-audiotracks"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-audiotracks-4"><code>audioTracks</code></a>
                                                属性に追加する（対象はこの
                                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-96"><code>SourceBuffer</code></a>
                                                オブジェクト）。
                                                <div class="note" role="note" id="issue-container-generatedID-53">
                                                    <div role="heading" class="note-title marker" id="h-note-53"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        これにより、
                                                        <a data-link-type="interface" data-lt="AudioTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-html" title="HTML Standard">HTML</a></cite>]
                                                        のロジックが作動し、
                                                        <a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                                        <a data-link-type="dfn"
                                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                                        <a data-link-type="event"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#event-media-addtrack">addtrack</a>
                                                        という名前のイベントを、<a data-link-type="interface" data-lt="TrackEvent"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                        を用い、
                                                        その
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                                        属性を <var data-type="AudioTrack">new audio track</var> に初期化して、
                                                        この <a data-link-type="idl" href="#dom-sourcebuffer-audiotracks"
                                                            class="internalDFN"
                                                            id="ref-for-dom-sourcebuffer-audiotracks-5"><code>audioTracks</code></a>
                                                        属性が参照する <a data-link-type="interface" data-lt="AudioTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
                                                        オブジェクトで発火させるはずです。
                                                    </p>
                                                </div>
                                            </li>
                                            <li>
                                                <dl class="switch">
                                                    <dt>
                                                        <a data-link-type="dfn|abstract-op" href="#parent-media-source"
                                                            class="internalDFN"
                                                            id="ref-for-parent-media-source-27">parent media source</a>
                                                        が
                                                        <a data-link-type="interface"
                                                            data-lt="DedicatedWorkerGlobalScope"
                                                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                                        で構築されている場合：
                                                    </dt>
                                                    <dd>
                                                        内部の <code>create track mirror</code> メッセージを
                                                        <a data-link-type="attribute" data-lt="[[port to main]]"
                                                            href="#dfn-port-to-main" class="internalDFN"
                                                            id="ref-for-dfn-port-to-main-7"><code>[[port to main]]</code></a>
                                                        にポストし、<a data-link-type="interface" data-lt="Window"
                                                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                                        の暗黙ハンドラが次の手順を実行する：
                                                        <ol>
                                                            <li><var data-type="AudioTrack">mirrored audio
                                                                    track</var> を新しい
                                                                <a data-link-type="interface" data-lt="AudioTrack"
                                                                    href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
                                                                オブジェクトとする。
                                                            </li>
                                                            <li><var data-type="AudioTrack">mirrored audio track</var>
                                                                に、
                                                                <var data-type="AudioTrack">new
                                                                    audio track</var> と同一のプロパティ値を設定する。
                                                            </li>
                                                            <li><var data-type="AudioTrack">mirrored audio
                                                                    track</var> を HTMLMediaElement の
                                                                <a data-link-type="attribute"
                                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-audiotracks"><code>audioTracks</code></a>
                                                                属性に追加する。
                                                            </li>
                                                        </ol>
                                                    </dd>
                                                    <dt>
                                                        それ以外の場合：
                                                    </dt>
                                                    <dd>
                                                        <var data-type="AudioTrack">new audio track</var> を
                                                        HTMLMediaElement の
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-audiotracks"><code>audioTracks</code></a>
                                                        属性に追加する。
                                                    </dd>
                                                </dl>
                                                <div class="note" role="note" id="issue-container-generatedID-54">
                                                    <div role="heading" class="note-title marker" id="h-note-54"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        これにより、
                                                        <a data-link-type="interface" data-lt="AudioTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-html" title="HTML Standard">HTML</a></cite>]
                                                        のロジックが作動し、
                                                        <a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                                        <a data-link-type="dfn"
                                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                                        <a data-link-type="event"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#event-media-addtrack">addtrack</a>
                                                        という名前のイベントを、<a data-link-type="interface" data-lt="TrackEvent"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                        を用い、
                                                        その
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                                        属性を <var data-type="AudioTrack">mirrored audio track</var> または
                                                        <var data-type="AudioTrack">new audio track</var> に初期化して、
                                                        HTMLMediaElement の <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-audiotracks"><code>audioTracks</code></a>
                                                        属性が参照する
                                                        <a data-link-type="interface" data-lt="AudioTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
                                                        オブジェクトで発火させるはずです。
                                                    </p>
                                                </div>
                                            </li>
                                        </ol>
                                    </li>
                                    <li>このトラックの <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-28">coded frames</a>
                                        を格納するための新しい
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                            id="ref-for-track-buffer-22">track buffer</a> を作成する。
                                    </li>
                                    <li>このトラックの <a data-link-type="dfn|abstract-op" href="#dfn-track-description"
                                            class="internalDFN" id="ref-for-dfn-track-description-4">track
                                            description</a> を
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                            id="ref-for-track-buffer-23">track
                                            buffer</a> に追加する。
                                    </li>
                                </ol>
                            </li>
                            <li>
                                <p>
                                    <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                        class="internalDFN" id="ref-for-dfn-initialization-segment-24">initialization
                                        segment</a> の各動画トラックについて、次の手順を実行する：
                                </p>
                                <ol>
                                    <li><var>video byte stream track ID</var> を、処理中の現在のトラックの
                                        <a data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                                            id="ref-for-dfn-track-id-7">Track ID</a> とする。
                                    </li>
                                    <li><var data-type="DOMString">video language</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-25">initialization segment</a>
                                        で指定された言語の BCP 47 言語タグ、
                                        または言語情報が無い場合は空文字列とする。
                                    </li>
                                    <li><var data-type="DOMString">video language</var> が BCP 47 の 'und' に等しい場合、
                                        <var data-type="DOMString">video language</var> に空文字列を代入する。
                                    </li>
                                    <li><var data-type="DOMString">video label</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-26">initialization segment</a>
                                        で指定されたラベル、
                                        または情報が無い場合は空文字列とする。
                                    </li>
                                    <li><var data-type="DOMString sequence">video kinds</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-27">initialization segment</a> で指定された
                                        kind 文字列のシーケンス、
                                        あるいは情報が無い場合は空文字列 1 要素のシーケンスとする。
                                    </li>
                                    <li><var data-type="DOMString sequence">video kinds</var> の各値について、次の手順を実行する：
                                        <ol>
                                            <li><var data-type="DOMString">current video kind</var> を、この反復における
                                                <var data-type="DOMString sequence">video kinds</var> の値とする。
                                            </li>
                                            <li><var data-type="VideoTrack">new video track</var> を新しい
                                                <a data-link-type="interface" data-lt="VideoTrack"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
                                                オブジェクトとする。
                                            </li>
                                            <li>ユニークな ID を生成し、<var data-type="VideoTrack">new video track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-id"><code>id</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">video language</var> を
                                                <var>new
                                                    video track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-language"><code>language</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">video label</var> を
                                                <var>new video
                                                    track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-label"><code>label</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">current video kind</var> を
                                                <var>new
                                                    video track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-kind"><code>kind</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li>
                                                <p>
                                                    この <a data-link-type="idl" data-lt="SourceBuffer"
                                                        href="#dom-sourcebuffer" class="internalDFN"
                                                        id="ref-for-dom-sourcebuffer-98"><code>SourceBuffer</code></a>
                                                    オブジェクトの
                                                    <a data-link-type="idl" href="#dom-sourcebuffer-videotracks"
                                                        class="internalDFN"
                                                        id="ref-for-dom-sourcebuffer-videotracks-3"><code>videoTracks</code></a>
                                                    の
                                                    <a data-link-type="attribute"
                                                        href="https://html.spec.whatwg.org/multipage/media.html#dom-videotracklist-length"><code>length</code></a>
                                                    が 0 に等しい場合、次を実行する：
                                                </p>
                                                <ol>
                                                    <li><var data-type="VideoTrack">new video track</var> の
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-videotrack-selected"><code>selected</code></a>
                                                        プロパティを true に設定する。
                                                    </li>
                                                    <li><var data-type="boolean">active track flag</var> を true に設定する。
                                                    </li>
                                                </ol>
                                            </li>
                                            <li><var data-type="VideoTrack">new video track</var> を、この
                                                <a data-link-type="idl" href="#dom-sourcebuffer-videotracks"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-videotracks-4"><code>videoTracks</code></a>
                                                属性に追加する（対象はこの
                                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-99"><code>SourceBuffer</code></a>
                                                オブジェクト）。
                                                <div class="note" role="note" id="issue-container-generatedID-55">
                                                    <div role="heading" class="note-title marker" id="h-note-55"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        これにより、
                                                        <a data-link-type="interface" data-lt="VideoTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-html" title="HTML Standard">HTML</a></cite>]
                                                        のロジックが作動し、
                                                        <a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                                        <a data-link-type="dfn"
                                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                                        <a data-link-type="event"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#event-media-addtrack">addtrack</a>
                                                        という名前のイベントを、<a data-link-type="interface" data-lt="TrackEvent"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                        を用い、
                                                        その
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                                        属性を <var data-type="VideoTrack">new video track</var> に初期化して、
                                                        この <a data-link-type="idl" href="#dom-sourcebuffer-videotracks"
                                                            class="internalDFN"
                                                            id="ref-for-dom-sourcebuffer-videotracks-5"><code>videoTracks</code></a>
                                                        属性が参照する
                                                        <a data-link-type="interface" data-lt="VideoTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
                                                        オブジェクトで発火させるはずです。
                                                    </p>
                                                </div>
                                            </li>
                                            <li>
                                                <dl class="switch">
                                                    <dt>
                                                        <a data-link-type="dfn|abstract-op" href="#parent-media-source"
                                                            class="internalDFN"
                                                            id="ref-for-parent-media-source-28">parent media source</a>
                                                        が
                                                        <a data-link-type="interface"
                                                            data-lt="DedicatedWorkerGlobalScope"
                                                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                                        で構築されている場合：
                                                    </dt>
                                                    <dd>
                                                        内部の <code>create track mirror</code> メッセージを
                                                        <a data-link-type="attribute" data-lt="[[port to main]]"
                                                            href="#dfn-port-to-main" class="internalDFN"
                                                            id="ref-for-dfn-port-to-main-8"><code>[[port to main]]</code></a>
                                                        にポストし、<a data-link-type="interface" data-lt="Window"
                                                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                                        の暗黙ハンドラが次の手順を実行する：
                                                        <ol>
                                                            <li><var data-type="VideoTrack">mirrored video
                                                                    track</var> を新しい
                                                                <a data-link-type="interface" data-lt="VideoTrack"
                                                                    href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
                                                                オブジェクトとする。
                                                            </li>
                                                            <li><var data-type="VideoTrack">mirrored video track</var>
                                                                に、
                                                                <var data-type="VideoTrack">new
                                                                    video track</var> と同一のプロパティ値を設定する。
                                                            </li>
                                                            <li><var data-type="VideoTrack">mirrored video
                                                                    track</var> を HTMLMediaElement の
                                                                <a data-link-type="attribute"
                                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-videotracks"><code>videoTracks</code></a>
                                                                属性に追加する。
                                                            </li>
                                                        </ol>
                                                    </dd>
                                                    <dt>
                                                        それ以外の場合：
                                                    </dt>
                                                    <dd>
                                                        <var data-type="VideoTrack">new video track</var> を
                                                        HTMLMediaElement の
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-videotracks"><code>videoTracks</code></a>
                                                        属性に追加する。
                                                    </dd>
                                                </dl>
                                                <div class="note" role="note" id="issue-container-generatedID-56">
                                                    <div role="heading" class="note-title marker" id="h-note-56"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        これにより、
                                                        <a data-link-type="interface" data-lt="VideoTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-html" title="HTML Standard">HTML</a></cite>]
                                                        のロジックが作動し、
                                                        <a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                                        <a data-link-type="dfn"
                                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                                        <a data-link-type="event"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#event-media-addtrack">addtrack</a>
                                                        という名前のイベントを、<a data-link-type="interface" data-lt="TrackEvent"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                        を用い、
                                                        その
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                                        属性を <var data-type="VideoTrack">mirrored video track</var> または
                                                        <var data-type="VideoTrack">new video track</var> に初期化して、
                                                        HTMLMediaElement の <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-videotracks"><code>videoTracks</code></a>
                                                        属性が参照する
                                                        <a data-link-type="interface" data-lt="VideoTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
                                                        オブジェクトで発火させるはずです。
                                                    </p>
                                                </div>
                                            </li>
                                        </ol>
                                    </li>
                                    <li>このトラックの <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-29">coded frames</a>
                                        を格納するための新しい
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                            id="ref-for-track-buffer-24">track buffer</a> を作成する。
                                    </li>
                                    <li>このトラックの <a data-link-type="dfn|abstract-op" href="#dfn-track-description"
                                            class="internalDFN" id="ref-for-dfn-track-description-5">track
                                            description</a> を
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                            id="ref-for-track-buffer-25">track
                                            buffer</a> に追加する。
                                    </li>
                                </ol>
                            </li>
                            <li>
                                <p>
                                    <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                        class="internalDFN" id="ref-for-dfn-initialization-segment-28">initialization
                                        segment</a> の各テキストトラックについて、次の手順を実行する：
                                </p>
                                <ol>
                                    <li><var>text byte stream track ID</var> を、処理中の現在のトラックの
                                        <a data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                                            id="ref-for-dfn-track-id-8">Track ID</a> とする。
                                    </li>
                                    <li><var data-type="DOMString">text language</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-29">initialization segment</a>
                                        で指定された言語の BCP 47 言語タグ、
                                        または言語情報が無い場合は空文字列とする。
                                    </li>
                                    <li><var data-type="DOMString">text language</var> が BCP 47 の 'und' に等しい場合、
                                        <var data-type="DOMString">text language</var> に空文字列を代入する。
                                    </li>
                                    <li><var data-type="DOMString">text label</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-30">initialization segment</a>
                                        で指定されたラベル、
                                        または情報が無い場合は空文字列とする。
                                    </li>
                                    <li><var data-type="DOMString sequence">text kinds</var> を、このトラックについて
                                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                            class="internalDFN"
                                            id="ref-for-dfn-initialization-segment-31">initialization segment</a> で指定された
                                        kind 文字列のシーケンス、
                                        あるいは情報が無い場合は空文字列 1 要素のシーケンスとする。
                                    </li>
                                    <li><var data-type="DOMString sequence">text kinds</var> の各値について、次の手順を実行する：
                                        <ol>
                                            <li><var data-type="DOMString">current text kind</var> を、この反復における
                                                <var data-type="DOMString sequence">text kinds</var> の値とする。
                                            </li>
                                            <li><var data-type="TextTrack">new text track</var> を新しい
                                                <a data-link-type="interface" data-lt="TextTrack"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>
                                                オブジェクトとする。
                                            </li>
                                            <li>ユニークな ID を生成し、<var data-type="TextTrack">new text track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-id"><code>id</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">text language</var> を
                                                <var>new
                                                    text track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-language"><code>language</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">text label</var> を
                                                <var>new text
                                                    track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-label"><code>label</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="DOMString">current text kind</var> を
                                                <var>new
                                                    text track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-kind"><code>kind</code></a>
                                                プロパティに代入する。
                                            </li>
                                            <li><var data-type="TextTrack">new text
                                                    track</var> の残りのプロパティを、<a data-link-type="dfn|abstract-op"
                                                    href="#dfn-initialization-segment" class="internalDFN"
                                                    id="ref-for-dfn-initialization-segment-32">initialization
                                                    segment</a> から取得した適切な情報で埋める。
                                            </li>
                                            <li><var data-type="TextTrack">new text track</var> の
                                                <a data-link-type="attribute"
                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-mode"><code>mode</code></a>
                                                プロパティが
                                                <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-showing">"showing"</a></code>
                                                または
                                                <code><a href="https://html.spec.whatwg.org/multipage/media.html#dom-texttrack-hidden">"hidden"</a></code>
                                                に等しい場合、<var data-type="boolean">active track flag</var> を true に設定する。
                                            </li>
                                            <li><var data-type="TextTrack">new text track</var> を、この
                                                <a data-link-type="idl" href="#dom-sourcebuffer-texttracks"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-texttracks-3"><code>textTracks</code></a>
                                                属性に追加する（対象はこの
                                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-101"><code>SourceBuffer</code></a>
                                                オブジェクト）。
                                                <div class="note" role="note" id="issue-container-generatedID-57">
                                                    <div role="heading" class="note-title marker" id="h-note-57"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        これにより、
                                                        <a data-link-type="interface" data-lt="TextTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-html" title="HTML Standard">HTML</a></cite>]
                                                        のロジックが作動し、
                                                        <a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                                        <a data-link-type="dfn"
                                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                                        <a data-link-type="event"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#event-media-addtrack">addtrack</a>
                                                        という名前のイベントを、<a data-link-type="interface" data-lt="TrackEvent"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                        を用い、
                                                        その
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                                        属性を <var data-type="TextTrack">new text track</var> に初期化して、
                                                        この <a data-link-type="idl" href="#dom-sourcebuffer-texttracks"
                                                            class="internalDFN"
                                                            id="ref-for-dom-sourcebuffer-texttracks-4"><code>textTracks</code></a>
                                                        属性が参照する
                                                        <a data-link-type="interface" data-lt="TextTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>
                                                        オブジェクトで発火させるはずです。
                                                    </p>
                                                </div>
                                            </li>
                                            <li>
                                                <dl class="switch">
                                                    <dt>
                                                        <a data-link-type="dfn|abstract-op" href="#parent-media-source"
                                                            class="internalDFN"
                                                            id="ref-for-parent-media-source-29">parent media source</a>
                                                        が
                                                        <a data-link-type="interface"
                                                            data-lt="DedicatedWorkerGlobalScope"
                                                            href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                                        で構築されている場合：
                                                    </dt>
                                                    <dd>
                                                        内部の <code>create track mirror</code> メッセージを
                                                        <a data-link-type="attribute" data-lt="[[port to main]]"
                                                            href="#dfn-port-to-main" class="internalDFN"
                                                            id="ref-for-dfn-port-to-main-9"><code>[[port to main]]</code></a>
                                                        にポストし、<a data-link-type="interface" data-lt="Window"
                                                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                                        の暗黙ハンドラが次の手順を実行する：
                                                        <ol>
                                                            <li><var data-type="TextTrack">mirrored text track</var>
                                                                を新しい
                                                                <a data-link-type="interface" data-lt="TextTrack"
                                                                    href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>
                                                                オブジェクトとする。
                                                            </li>
                                                            <li><var data-type="TextTrack">mirrored text track</var> に、
                                                                <var data-type="TextTrack">new text
                                                                    track</var> と同一のプロパティ値を設定する。
                                                            </li>
                                                            <li><var data-type="TextTrack">mirrored text track</var> を
                                                                HTMLMediaElement の
                                                                <a data-link-type="attribute"
                                                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-texttracks"><code>textTracks</code></a>
                                                                属性に追加する。
                                                            </li>
                                                        </ol>
                                                    </dd>
                                                    <dt>
                                                        それ以外の場合：
                                                    </dt>
                                                    <dd>
                                                        <var data-type="TextTrack">new text track</var> を
                                                        HTMLMediaElement の
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-texttracks"><code>textTracks</code></a>
                                                        属性に追加する。
                                                    </dd>
                                                </dl>
                                                <div class="note" role="note" id="issue-container-generatedID-58">
                                                    <div role="heading" class="note-title marker" id="h-note-58"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        これにより、
                                                        <a data-link-type="interface" data-lt="TextTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-html" title="HTML Standard">HTML</a></cite>]
                                                        のロジックが作動し、
                                                        <a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                                        <a data-link-type="dfn"
                                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                                        <a data-link-type="event"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#event-media-addtrack">addtrack</a>
                                                        という名前のイベントを、<a data-link-type="interface" data-lt="TrackEvent"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#trackevent"><code>TrackEvent</code></a>
                                                        を用い、
                                                        その
                                                        <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-trackevent-track"><code>track</code></a>
                                                        属性を <var data-type="TextTrack">mirrored text track</var> または
                                                        <var data-type="TextTrack">new text track</var> に初期化して、
                                                        HTMLMediaElement の <a data-link-type="attribute"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-texttracks"><code>textTracks</code></a>
                                                        属性が参照する
                                                        <a data-link-type="interface" data-lt="TextTrackList"
                                                            href="https://html.spec.whatwg.org/multipage/media.html#texttracklist"><code>TextTrackList</code></a>
                                                        オブジェクトで発火させるはずです。
                                                    </p>
                                                </div>
                                            </li>
                                        </ol>
                                    </li>
                                    <li>このトラックの <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-30">coded frames</a>
                                        を格納するための新しい
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                            id="ref-for-track-buffer-26">track buffer</a> を作成する。
                                    </li>
                                    <li>このトラックの <a data-link-type="dfn|abstract-op" href="#dfn-track-description"
                                            class="internalDFN" id="ref-for-dfn-track-description-6">track
                                            description</a> を
                                        <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                            id="ref-for-track-buffer-27">track
                                            buffer</a> に追加する。
                                    </li>
                                </ol>
                            </li>
                            <li><var data-type="boolean">active track flag</var> が true に等しい場合、次の手順を実行する：
                                <ol>
                                    <li>この <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-103"><code>SourceBuffer</code></a> を
                                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-activesourcebuffers-28"><code>activeSourceBuffers</code></a>
                                        に追加する。
                                    </li>
                                    <li><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                        <a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                        <a data-link-type="idl" data-lt="addsourcebuffer" href="#dfn-addsourcebuffer"
                                            class="internalDFN"
                                            id="ref-for-dfn-addsourcebuffer-5"><code>addsourcebuffer</code></a>
                                        という名前のイベントを
                                        <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                            class="internalDFN"
                                            id="ref-for-dom-mediasource-activesourcebuffers-29"><code>activeSourceBuffers</code></a>
                                        で発火する。
                                    </li>
                                </ol>
                            </li>
                            <li><a data-link-type="attribute" data-lt="[[first initialization segment received flag]]"
                                    href="#dfn-first-initialization-segment-received-flag" class="internalDFN"
                                    id="ref-for-dfn-first-initialization-segment-received-flag-4"><code>[[first initialization segment received flag]]</code></a>
                                を true に設定する。
                            </li>
                        </ol>
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[pending initialization segment for changeType flag]]"
                            href="#dfn-pending-initialization-segment-for-changetype-flag" class="internalDFN"
                            id="ref-for-dfn-pending-initialization-segment-for-changetype-flag-3"><code>[[pending initialization segment for changeType flag]]</code></a>
                        を false に設定する。
                    </li>
                    <li><var data-type="boolean">active track flag</var> が true に等しい場合、次の手順を実行する：
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                            id="ref-for-parent-media-source-30">parent media source</a> の
                        <a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary" class="internalDFN"
                            id="ref-for-dfn-mirror-if-necessary-7">mirror if necessary</a> アルゴリズムを用いて、
                        <a data-link-type="interface" data-lt="Window"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                        で以下の手順を実行する：
                        <ol>
                            <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-20"><code>readyState</code></a> 属性が
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_current_data"><code>HAVE_CURRENT_DATA</code></a>
                                より大きい場合、
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-21"><code>readyState</code></a> 属性を
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                に設定する。
                                <div class="note" role="note" id="issue-container-generatedID-59">
                                    <div role="heading" class="note-title marker" id="h-note-59" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement ready states</a></code>
                                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-22"><code>readyState</code></a> の変更は、
                                        HTMLMediaElement 上でイベントをトリガーする可能性があります。
                                    </p>
                                </div>
                            </li>
                        </ol>
                    </li>
                    <li><a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                            id="ref-for-dom-mediasource-sourcebuffers-31"><code>sourceBuffers</code></a> 内の各オブジェクトが、
                        <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                            id="ref-for-parent-media-source-31">parent media source</a> において
                        <a data-link-type="attribute" data-lt="[[first initialization segment received flag]]"
                            href="#dfn-first-initialization-segment-received-flag" class="internalDFN"
                            id="ref-for-dfn-first-initialization-segment-received-flag-5"><code>[[first initialization segment received flag]]</code></a>
                        が true に等しい場合、
                        <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                            id="ref-for-parent-media-source-32">parent media source</a> の
                        <a data-link-type="dfn|abstract-op" href="#dfn-mirror-if-necessary" class="internalDFN"
                            id="ref-for-dfn-mirror-if-necessary-8">mirror if necessary</a> アルゴリズムを用いて、
                        次の手順を
                        <a data-link-type="interface" data-lt="Window"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                        で実行する：
                        <ol>
                            <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-23"><code>readyState</code></a> 属性が
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_nothing"><code>HAVE_NOTHING</code></a>
                                の場合、
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-24"><code>readyState</code></a> 属性を
                                <a data-link-type="const"
                                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                に設定する。
                                <div class="note" role="note" id="issue-container-generatedID-60">
                                    <div role="heading" class="note-title marker" id="h-note-60" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement ready states</a></code>
                                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の
                                        <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-25"><code>readyState</code></a> の変更は、
                                        HTMLMediaElement 上でイベントをトリガーする可能性があります。
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_nothing"><code>HAVE_NOTHING</code></a>
                                        から
                                        <a data-link-type="const"
                                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                        への遷移が発生した場合、メディア要素上で
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して
                                        <a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                        <a data-link-type="event"
                                            href="https://html.spec.whatwg.org/multipage/media.html#event-media-loadedmetadata">loadedmetadata</a>
                                        という名前のイベントを発火させる HTMLMediaElement のロジックをトリガーすべきです。
                                    </p>
                                </div>
                            </li>
                        </ol>
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-coded-frame-processing">
                <div class="header-wrapper">
                    <h4 id="x5-5-8-coded-frame-processing"><bdi class="secno">5.5.8 </bdi>
                        <dfn data-export="" id="dfn-coded-frame-processing" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">コーデッドフレーム処理</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-coded-frame-processing"
                        aria-label="Permalink for Section 5.5.8"></a>
                </div>

                <p>
                    完全な <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-31">coded frames</a> が <a data-link-type="dfn|abstract-op"
                        href="#dfn-segment-parser-loop" class="internalDFN"
                        id="ref-for-dfn-segment-parser-loop-4">segment parser loop</a> によってパースされたとき、以下の手順を実行する：
                </p>
                <ol>
                    <li>
                        <p>
                            <a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                                id="ref-for-dfn-media-segment-13">media segment</a> 内の各 <a
                                data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                id="ref-for-dfn-coded-frame-32">coded frame</a> について、次の手順を実行する：
                        </p>
                        <ol>
                            <li>
                                <i>Loop Top:</i>
                                <dl class="switch">
                                    <dt>
                                        <a data-link-type="attribute" data-lt="[[generate timestamps flag]]"
                                            href="#dfn-generate-timestamps-flag" class="internalDFN"
                                            id="ref-for-dfn-generate-timestamps-flag-6"><code>[[generate timestamps flag]]</code></a>
                                        が true に等しい場合：
                                    </dt>
                                    <dd>
                                        <ol>
                                            <li><var data-type="double">presentation timestamp</var> を 0 とする。
                                            </li>
                                            <li><var data-type="double">decode timestamp</var> を 0 とする。
                                            </li>
                                        </ol>
                                    </dd>
                                    <dt>
                                        それ以外：
                                    </dt>
                                    <dd>
                                        <ol>
                                            <li><var data-type="double">presentation timestamp</var> を、coded frame の
                                                <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                                                    class="internalDFN"
                                                    id="ref-for-presentation-timestamp-18">presentation
                                                    timestamp</a>（秒）の
                                                倍精度浮動小数点表現とする。
                                                <div class="note" role="note" id="issue-container-generatedID-61">
                                                    <div role="heading" class="note-title marker" id="h-note-61"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        時刻付きテキストフレームでは、プレゼンテーションおよびデコードのタイムスタンプを決定するために特別な処理が必要になる場合がある。これは、基礎となるフォーマットに明示的に存在しないか、フレームの順序に依存する可能性があるためである。MPEG2-TS
                                                        の PSI
                                                        データのようなメタデータテキストトラックの中には、暗黙のタイムスタンプしか持たないものもある。これらの状況に対するフォーマット固有の規則は、<a
                                                            data-link-type="dfn|abstract-op"
                                                            href="#byte-stream-format-specs" class="internalDFN"
                                                            id="ref-for-byte-stream-format-specs-6">byte stream format
                                                            specifications</a> または別の拡張仕様に記載されるべきである（<em
                                                            class="rfc2119">SHOULD</em>）。
                                                    </p>
                                                </div>
                                            </li>
                                            <li><var data-type="double">decode timestamp</var> を、coded frame
                                                のデコードタイムスタンプ（秒）の
                                                倍精度浮動小数点表現とする。
                                                <div class="note" role="note" id="issue-container-generatedID-62">
                                                    <div role="heading" class="note-title marker" id="h-note-62"
                                                        aria-level="5"><span>注</span></div>
                                                    <p class="">
                                                        実装は内部的にタイムスタンプを倍精度浮動小数点で格納する必要はない。ここでこの表現を用いるのは、HTML
                                                        仕様でのタイムスタンプの表現に合わせるためである。意図は、<code>timestampOffset</code>
                                                        を加えることで、バイトストリームフォーマットが用いる基礎のタイムスタンプ表現でロールオーバーが生じうるという事実に対処するための不要な複雑さをアルゴリズムに加えることなく、挙動を明確にすることにある。実装は任意の内部表現を用いてよいが、<code>timestampOffset</code>
                                                        の加算は、倍精度浮動小数点表現を用いた場合と同様の挙動になるべきである（<em
                                                            class="rfc2119">SHOULD</em>）。
                                                    </p>
                                                </div>
                                            </li>
                                        </ol>
                                    </dd>
                                </dl>
                            </li>
                            <li><var data-type="double">frame duration</var> を、<a data-link-type="dfn|abstract-op"
                                    data-lt="coded frame duration" href="#dfn-coded-frame-duration" class="internalDFN"
                                    id="ref-for-dfn-coded-frame-duration-6">coded frame の duration</a>（秒）の
                                倍精度浮動小数点表現とする。
                            </li>
                            <li><a data-link-type="idl" href="#dom-sourcebuffer-mode" class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-mode-11"><code>mode</code></a> が "<a
                                    data-link-type="idl" href="#dom-appendmode-sequence" class="internalDFN"
                                    id="ref-for-dom-appendmode-sequence-10"><code>sequence</code></a>" に等しく、
                                <a data-link-type="attribute" data-lt="[[group start timestamp]]"
                                    href="#dfn-group-start-timestamp" class="internalDFN"
                                    id="ref-for-dfn-group-start-timestamp-4"><code>[[group start timestamp]]</code></a>
                                が設定されている場合、次の手順を実行する：
                                <ol>
                                    <li><a data-link-type="idl" href="#dom-sourcebuffer-timestampoffset"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-timestampoffset-6"><code>timestampOffset</code></a>
                                        を、<a data-link-type="attribute" data-lt="[[group start timestamp]]"
                                            href="#dfn-group-start-timestamp" class="internalDFN"
                                            id="ref-for-dfn-group-start-timestamp-5"><code>[[group start timestamp]]</code></a>
                                        から <var data-type="double">presentation timestamp</var> を引いた値に設定する。
                                    </li>
                                    <li><a data-link-type="attribute" data-lt="[[group end timestamp]]"
                                            href="#dfn-group-end-timestamp" class="internalDFN"
                                            id="ref-for-dfn-group-end-timestamp-4"><code>[[group end timestamp]]</code></a>
                                        を
                                        <a data-link-type="attribute" data-lt="[[group start timestamp]]"
                                            href="#dfn-group-start-timestamp" class="internalDFN"
                                            id="ref-for-dfn-group-start-timestamp-6"><code>[[group start timestamp]]</code></a>
                                        に等しく設定する。
                                    </li>
                                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                            class="internalDFN" id="ref-for-track-buffer-28">track buffers</a> の
                                        <a data-link-type="dfn|abstract-op" href="#need-RAP-flag" class="internalDFN"
                                            id="ref-for-need-RAP-flag-3">need random access point flag</a>
                                        を true に設定する。
                                    </li>
                                    <li><a data-link-type="attribute" data-lt="[[group start timestamp]]"
                                            href="#dfn-group-start-timestamp" class="internalDFN"
                                            id="ref-for-dfn-group-start-timestamp-7"><code>[[group start timestamp]]</code></a>
                                        を未設定にする。
                                    </li>
                                </ol>
                            </li>
                            <li>
                                <p>
                                    <a data-link-type="idl" href="#dom-sourcebuffer-timestampoffset" class="internalDFN"
                                        id="ref-for-dom-sourcebuffer-timestampoffset-7"><code>timestampOffset</code></a>
                                    が 0 でない場合、次の手順を実行する：
                                </p>
                                <ol>
                                    <li><a data-link-type="idl" href="#dom-sourcebuffer-timestampoffset"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-timestampoffset-8"><code>timestampOffset</code></a>
                                        を <var data-type="double">presentation timestamp</var> に加える。
                                    </li>
                                    <li><a data-link-type="idl" href="#dom-sourcebuffer-timestampoffset"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-timestampoffset-9"><code>timestampOffset</code></a>
                                        を <var data-type="double">decode timestamp</var> に加える。
                                    </li>
                                </ol>
                            </li>
                            <li><var>track buffer</var> を、coded frame が追加される <a data-link-type="dfn|abstract-op"
                                    href="#track-buffer" class="internalDFN" id="ref-for-track-buffer-29">track
                                    buffer</a> とする。
                            </li>
                            <li>
                                <dl class="switch">
                                    <dt>
                                        <var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                            href="#last-decode-timestamp" class="internalDFN"
                                            id="ref-for-last-decode-timestamp-2">last decode timestamp</a> が設定されており、
                                        <var data-type="double">decode timestamp</var> が
                                        <a data-link-type="dfn|abstract-op" href="#last-decode-timestamp"
                                            class="internalDFN" id="ref-for-last-decode-timestamp-3">last decode
                                            timestamp</a> より小さい場合：
                                    </dt>
                                    <dd>
                                        OR
                                    </dd>
                                    <dt>
                                        <var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                            href="#last-decode-timestamp" class="internalDFN"
                                            id="ref-for-last-decode-timestamp-4">last decode timestamp</a> が設定されており、
                                        <var data-type="double">decode timestamp</var> と
                                        <a data-link-type="dfn|abstract-op" href="#last-decode-timestamp"
                                            class="internalDFN" id="ref-for-last-decode-timestamp-5">last decode
                                            timestamp</a> の差が
                                        <a data-link-type="dfn|abstract-op" href="#last-frame-duration"
                                            class="internalDFN" id="ref-for-last-frame-duration-2">last frame
                                            duration</a> の 2 倍を超える場合：
                                    </dt>
                                    <dd>
                                        <ol>
                                            <li>
                                                <dl class="switch">
                                                    <dt>
                                                        <a data-link-type="idl" href="#dom-sourcebuffer-mode"
                                                            class="internalDFN"
                                                            id="ref-for-dom-sourcebuffer-mode-12"><code>mode</code></a>
                                                        が "<a data-link-type="idl" href="#dom-appendmode-segments"
                                                            class="internalDFN"
                                                            id="ref-for-dom-appendmode-segments-4"><code>segments</code></a>"
                                                        に等しい場合：
                                                    </dt>
                                                    <dd>
                                                        <a data-link-type="attribute" data-lt="[[group end timestamp]]"
                                                            href="#dfn-group-end-timestamp" class="internalDFN"
                                                            id="ref-for-dfn-group-end-timestamp-5"><code>[[group end timestamp]]</code></a>
                                                        を <var>presentation
                                                            timestamp</var> に設定する。
                                                    </dd>
                                                    <dt>
                                                        <a data-link-type="idl" href="#dom-sourcebuffer-mode"
                                                            class="internalDFN"
                                                            id="ref-for-dom-sourcebuffer-mode-13"><code>mode</code></a>
                                                        が "<a data-link-type="idl" href="#dom-appendmode-sequence"
                                                            class="internalDFN"
                                                            id="ref-for-dom-appendmode-sequence-11"><code>sequence</code></a>"
                                                        に等しい場合：
                                                    </dt>
                                                    <dd>
                                                        <a data-link-type="attribute"
                                                            data-lt="[[group start timestamp]]"
                                                            href="#dfn-group-start-timestamp" class="internalDFN"
                                                            id="ref-for-dfn-group-start-timestamp-8"><code>[[group start timestamp]]</code></a>
                                                        を
                                                        <a data-link-type="attribute" data-lt="[[group end timestamp]]"
                                                            href="#dfn-group-end-timestamp" class="internalDFN"
                                                            id="ref-for-dfn-group-end-timestamp-6"><code>[[group end timestamp]]</code></a>
                                                        に等しく設定する。
                                                    </dd>
                                                </dl>
                                            </li>
                                            <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                                    class="internalDFN" id="ref-for-track-buffer-30">track buffers</a> の
                                                <a data-link-type="dfn|abstract-op" href="#last-decode-timestamp"
                                                    class="internalDFN" id="ref-for-last-decode-timestamp-6">last decode
                                                    timestamp</a> を未設定にする。
                                            </li>
                                            <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                                    class="internalDFN" id="ref-for-track-buffer-31">track buffers</a> の
                                                <a data-link-type="dfn|abstract-op" href="#last-frame-duration"
                                                    class="internalDFN" id="ref-for-last-frame-duration-3">last frame
                                                    duration</a> を未設定にする。
                                            </li>
                                            <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                                    class="internalDFN" id="ref-for-track-buffer-32">track buffers</a> の
                                                <a data-link-type="dfn|abstract-op" href="#highest-end-timestamp"
                                                    class="internalDFN" id="ref-for-highest-end-timestamp-2">highest end
                                                    timestamp</a> を未設定にする。
                                            </li>
                                            <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                                    class="internalDFN" id="ref-for-track-buffer-33">track buffers</a> の
                                                <a data-link-type="dfn|abstract-op" href="#need-RAP-flag"
                                                    class="internalDFN" id="ref-for-need-RAP-flag-4">need random access
                                                    point flag</a> を
                                                true に設定する。
                                            </li>
                                            <li>現在の <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                                    class="internalDFN" id="ref-for-dfn-coded-frame-33">coded frame</a>
                                                の処理を再開するため、
                                                上の <i>Loop Top</i> 手順へジャンプする。
                                            </li>
                                        </ol>
                                    </dd>
                                    <dt>
                                        それ以外：
                                    </dt>
                                    <dd>
                                        続行する。
                                    </dd>
                                </dl>
                            </li>
                            <li><var data-type="double">frame end timestamp</var> を、
                                <var data-type="double">presentation timestamp</var> と
                                <var data-type="double">frame duration</var> の和とする。
                            </li>
                            <li><var data-type="double">presentation timestamp</var> が <a data-link-type="idl"
                                    href="#dom-sourcebuffer-appendwindowstart" class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-appendwindowstart-5"><code>appendWindowStart</code></a>
                                より小さい場合、
                                <a data-link-type="dfn|abstract-op" href="#need-RAP-flag" class="internalDFN"
                                    id="ref-for-need-RAP-flag-5">need random access point flag</a>
                                を true に設定し、coded frame を破棄して、
                                ループの先頭にジャンプして次の coded frame の処理を開始する。
                                <div class="note" role="note" id="issue-container-generatedID-63">
                                    <div role="heading" class="note-title marker" id="h-note-63" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        実装の中には、<var data-type="double">presentation timestamp</var> が
                                        <a data-link-type="idl" href="#dom-sourcebuffer-appendwindowstart"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-appendwindowstart-6"><code>appendWindowStart</code></a>
                                        より小さい coded frames を収集し、
                                        <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                                            class="internalDFN" id="ref-for-presentation-timestamp-19">presentation
                                            timestamp</a> が
                                        <a data-link-type="idl" href="#dom-sourcebuffer-appendwindowstart"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-appendwindowstart-7"><code>appendWindowStart</code></a>
                                        以上となる最初の coded frame でスプライスを生成することを選ぶものもある（たとえそのフレームが
                                        <a data-link-type="dfn|abstract-op" href="#random-access-point"
                                            class="internalDFN" id="ref-for-random-access-point-4">random access
                                            point</a>
                                        でなくても）。これをサポートするには複数のデコーダや実時間より速いデコードが必要となるため、現時点ではこの挙動は規範的要件とはしない。
                                    </p>
                                </div>
                            </li>
                            <li><var data-type="double">frame end timestamp</var> が <a data-link-type="idl"
                                    href="#dom-sourcebuffer-appendwindowend" class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-appendwindowend-5"><code>appendWindowEnd</code></a>
                                より大きい場合、
                                <a data-link-type="dfn|abstract-op" href="#need-RAP-flag" class="internalDFN"
                                    id="ref-for-need-RAP-flag-6">need random access point flag</a> を true に設定し、coded
                                frame を破棄して、
                                ループの先頭にジャンプして次の coded frame の処理を開始する。
                                <div class="note" role="note" id="issue-container-generatedID-64">
                                    <div role="heading" class="note-title marker" id="h-note-64" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        実装の中には、<var>presentation
                                            timestamp</var> が <a data-link-type="idl"
                                            href="#dom-sourcebuffer-appendwindowend" class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-appendwindowend-6"><code>appendWindowEnd</code></a>
                                        より小さく、かつ
                                        <var data-type="double">frame end timestamp</var> が
                                        <a data-link-type="idl" href="#dom-sourcebuffer-appendwindowend"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-appendwindowend-7"><code>appendWindowEnd</code></a>
                                        より大きい coded frames を収集し、収集時点で append window に含まれる区間と、
                                        後で処理されるフレームのうち収集済みフレームの末尾と部分的に重なる先頭区間をまたいでスプライスを生成することを選ぶものもある。これをサポートするには複数のデコーダや実時間より速いデコードが必要となるため、現時点ではこの挙動は規範的要件とはしない。
                                        <a data-link-type="idl" href="#dom-sourcebuffer-appendwindowstart"
                                            class="internalDFN"
                                            id="ref-for-dom-sourcebuffer-appendwindowstart-8"><code>appendWindowStart</code></a>
                                        をまたぐ coded frames の収集と組み合わせることで、実装はギャップレスな音声スプライシングをサポートしうる（<em
                                            class="rfc2119">MAY</em>）。
                                    </p>
                                </div>
                            </li>
                            <li><var>track buffer</var> の <a data-link-type="dfn|abstract-op" href="#need-RAP-flag"
                                    class="internalDFN" id="ref-for-need-RAP-flag-7">need random access point flag</a> が
                                true に等しい場合、
                                次の手順を実行する：
                                <ol>
                                    <li>coded frame が <a data-link-type="dfn|abstract-op" href="#random-access-point"
                                            class="internalDFN" id="ref-for-random-access-point-5">random access
                                            point</a> でない場合、coded
                                        frame を破棄し、ループの先頭にジャンプして次の coded frame の処理を開始する。
                                    </li>
                                    <li><var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                            href="#need-RAP-flag" class="internalDFN" id="ref-for-need-RAP-flag-8">need
                                            random access point flag</a> を false に設定する。
                                    </li>
                                </ol>
                            </li>
                            <li><var>spliced audio frame</var> を、音声スプライス情報を保持する未設定の変数とする。
                            </li>
                            <li><var>spliced timed text frame</var> を、タイムドテキストのスプライス情報を保持する未設定の変数とする。
                            </li>
                            <li><var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                    href="#last-decode-timestamp" class="internalDFN"
                                    id="ref-for-last-decode-timestamp-7">last decode timestamp</a> が未設定で、
                                <var>presentation
                                    timestamp</var> が <var>track buffer</var> 内のある
                                <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                    id="ref-for-dfn-coded-frame-34">coded frame</a> の
                                <a data-link-type="dfn|abstract-op" href="#presentation-interval" class="internalDFN"
                                    id="ref-for-presentation-interval-1">presentation interval</a> に入っている場合、次の手順を実行する：
                                <ol>
                                    <li><var>overlapped frame</var> を、上記条件に一致する <var>track buffer</var> 内の
                                        <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                            id="ref-for-dfn-coded-frame-35">coded frame</a> とする。
                                    </li>
                                    <li>
                                        <dl class="switch">
                                            <dt>
                                                <var>track buffer</var> が音声の <a data-link-type="dfn|abstract-op"
                                                    href="#dfn-coded-frame" class="internalDFN"
                                                    id="ref-for-dfn-coded-frame-36">coded
                                                    frames</a> を含む場合：
                                            </dt>
                                            <dd>
                                                <a data-link-type="dfn|abstract-op" href="#dfn-audio-splice-frame"
                                                    class="internalDFN" id="ref-for-dfn-audio-splice-frame-1">audio
                                                    splice frame</a> アルゴリズムを実行し、
                                                スプライスフレームが返された場合はそれを <var>spliced audio frame</var> に代入する。
                                            </dd>
                                            <dt>
                                                <var>track buffer</var> が動画の <a data-link-type="dfn|abstract-op"
                                                    href="#dfn-coded-frame" class="internalDFN"
                                                    id="ref-for-dfn-coded-frame-37">coded
                                                    frames</a> を含む場合：
                                            </dt>
                                            <dd>
                                                <ol>
                                                    <li><var data-type="double">remove window timestamp</var> を、
                                                        <var>overlapped frame</var> の
                                                        <a data-link-type="dfn|abstract-op"
                                                            href="#presentation-timestamp" class="internalDFN"
                                                            id="ref-for-presentation-timestamp-20">presentation
                                                            timestamp</a> に 1 マイクロ秒を加えた値とする。
                                                    </li>
                                                    <li><var data-type="double">presentation timestamp</var> が
                                                        <var>remove window
                                                            timestamp</var> より小さい場合、<var>track buffer</var> から
                                                        <var>overlapped frame</var> を削除する。
                                                        <div class="note" role="note"
                                                            id="issue-container-generatedID-65">
                                                            <div role="heading" class="note-title marker" id="h-note-65"
                                                                aria-level="5"><span>注</span></div>
                                                            <p class="">
                                                                これは、倍精度浮動小数点数と有理数の相互変換で生じうるフレームタイムスタンプ計算の微小誤差を補償するためである。この許容差により、既存フレームの開始時刻から
                                                                1
                                                                マイクロ秒以内であれば、フレームは既存フレームを置き換えることができる。既存フレームよりわずかに前に来るフレームは、以下の除去手順で対処される。
                                                            </p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </dd>
                                            <dt>
                                                <var>track buffer</var> がタイムドテキストの <a data-link-type="dfn|abstract-op"
                                                    href="#dfn-coded-frame" class="internalDFN"
                                                    id="ref-for-dfn-coded-frame-38">coded
                                                    frames</a> を含む場合：
                                            </dt>
                                            <dd>
                                                <a data-link-type="dfn|abstract-op" href="#dfn-text-splice-frame"
                                                    class="internalDFN" id="ref-for-dfn-text-splice-frame-1">text splice
                                                    frame</a> アルゴリズムを実行し、
                                                スプライスフレームが返された場合はそれを <var>spliced timed text frame</var> に代入する。
                                            </dd>
                                        </dl>
                                    </li>
                                </ol>
                            </li>
                            <li><var>track buffer</var> 内の既存の coded frames を削除する：
                                <dl class="switch">
                                    <dt>
                                        <var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                            href="#highest-end-timestamp" class="internalDFN"
                                            id="ref-for-highest-end-timestamp-3">highest end
                                            timestamp</a> が未設定の場合：
                                    </dt>
                                    <dd>
                                        <var>track buffer</var> から、<a data-link-type="dfn|abstract-op"
                                            href="#presentation-timestamp" class="internalDFN"
                                            id="ref-for-presentation-timestamp-21">presentation timestamp</a> が
                                        <var data-type="double">presentation timestamp</var> 以上かつ
                                        <var data-type="double">frame end timestamp</var> 未満である
                                        すべての <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-39">coded frames</a> を削除する。
                                    </dd>
                                    <dt>
                                        <var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                            href="#highest-end-timestamp" class="internalDFN"
                                            id="ref-for-highest-end-timestamp-4">highest end
                                            timestamp</a> が設定済みで、かつ
                                        <var data-type="double">presentation timestamp</var> 以上に等しい場合：
                                    </dt>
                                    <dd>
                                        <var>track buffer</var> から、<a data-link-type="dfn|abstract-op"
                                            href="#presentation-timestamp" class="internalDFN"
                                            id="ref-for-presentation-timestamp-22">presentation timestamp</a> が
                                        <a data-link-type="dfn|abstract-op" href="#highest-end-timestamp"
                                            class="internalDFN" id="ref-for-highest-end-timestamp-5">highest end
                                            timestamp</a> 以上かつ
                                        <var data-type="double">frame end timestamp</var> 未満である
                                        すべての <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-40">coded frames</a> を削除する。
                                    </dd>
                                </dl>
                            </li>
                            <li>前二つの手順で削除した <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                    class="internalDFN" id="ref-for-dfn-coded-frame-41">coded frames</a> に対する
                                可能なデコード依存性をすべて取り除くため、前二つの手順で削除したフレームと、その後に現れる次の
                                <a data-link-type="dfn|abstract-op" href="#random-access-point" class="internalDFN"
                                    id="ref-for-random-access-point-6">random access point</a> との間にある
                                <var>track buffer</var> 内のすべての <a data-link-type="dfn|abstract-op"
                                    href="#dfn-coded-frame" class="internalDFN" id="ref-for-dfn-coded-frame-42">coded
                                    frames</a> を削除する。
                                <div class="note" role="note" id="issue-container-generatedID-66">
                                    <div role="heading" class="note-title marker" id="h-note-66" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        次の <a data-link-type="dfn|abstract-op" href="#random-access-point"
                                            class="internalDFN" id="ref-for-random-access-point-7">random access
                                            point</a> まで
                                        すべての <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-43">coded frames</a>
                                        を削除することは、
                                        保守的なデコード依存性の見積もりである。これは、削除されたフレームと次の random access point の間の全フレームが、
                                        削除されたフレームに依存していると仮定しているためである。
                                    </p>
                                </div>
                            </li>
                            <li>
                                <dl class="switch">
                                    <dt>
                                        <var>spliced audio frame</var> が設定されている場合：
                                    </dt>
                                    <dd>
                                        <var>spliced audio frame</var> を <var>track buffer</var> に追加する。
                                    </dd>
                                    <dt>
                                        <var>spliced timed text frame</var> が設定されている場合：
                                    </dt>
                                    <dd>
                                        <var>spliced timed text frame</var> を <var>track buffer</var> に追加する。
                                    </dd>
                                    <dt>
                                        それ以外：
                                    </dt>
                                    <dd>
                                        <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                            id="ref-for-dfn-coded-frame-44">coded frame</a> を、
                                        <var data-type="double">presentation timestamp</var>、<var>decode
                                            timestamp</var>、<var data-type="double">frame duration</var> とともに
                                        <var>track buffer</var> に追加する。
                                    </dd>
                                </dl>
                            </li>
                            <li><var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                    href="#last-decode-timestamp" class="internalDFN"
                                    id="ref-for-last-decode-timestamp-8">last decode timestamp</a> を
                                <var data-type="double">decode timestamp</var> に設定する。
                            </li>
                            <li><var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                    href="#last-frame-duration" class="internalDFN"
                                    id="ref-for-last-frame-duration-4">last frame duration</a> を
                                <var data-type="double">frame duration</var> に設定する。
                            </li>
                            <li><var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                    href="#highest-end-timestamp" class="internalDFN"
                                    id="ref-for-highest-end-timestamp-6">highest end timestamp</a> が未設定であるか、
                                <var>frame end
                                    timestamp</var> が <a data-link-type="dfn|abstract-op" href="#highest-end-timestamp"
                                    class="internalDFN" id="ref-for-highest-end-timestamp-7">highest end timestamp</a>
                                より大きい場合、
                                <var>track buffer</var> の <a data-link-type="dfn|abstract-op"
                                    href="#highest-end-timestamp" class="internalDFN"
                                    id="ref-for-highest-end-timestamp-8">highest end timestamp</a> を
                                <var data-type="double">frame end timestamp</var> に設定する。
                                <div class="note" role="note" id="issue-container-generatedID-67">
                                    <div role="heading" class="note-title marker" id="h-note-67" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        双方向予測により、decode timestamps は単調増加でも、
                                        <var data-type="double">presentation timestamp</var> は単調増加とならない場合があるため、
                                        「より大きい」かどうかのチェックが必要となる。
                                    </p>
                                </div>
                            </li>
                            <li><var data-type="double">frame end timestamp</var> が
                                <a data-link-type="attribute" data-lt="[[group end timestamp]]"
                                    href="#dfn-group-end-timestamp" class="internalDFN"
                                    id="ref-for-dfn-group-end-timestamp-7"><code>[[group end timestamp]]</code></a>
                                より大きい場合、
                                <a data-link-type="attribute" data-lt="[[group end timestamp]]"
                                    href="#dfn-group-end-timestamp" class="internalDFN"
                                    id="ref-for-dfn-group-end-timestamp-8"><code>[[group end timestamp]]</code></a>
                                を <var>frame
                                    end timestamp</var> に等しく設定する。
                            </li>
                            <li><a data-link-type="attribute" data-lt="[[generate timestamps flag]]"
                                    href="#dfn-generate-timestamps-flag" class="internalDFN"
                                    id="ref-for-dfn-generate-timestamps-flag-7"><code>[[generate timestamps flag]]</code></a>
                                が true に等しい場合、
                                <a data-link-type="idl" href="#dom-sourcebuffer-timestampoffset" class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-timestampoffset-10"><code>timestampOffset</code></a>
                                を <var data-type="double">frame end timestamp</var> に等しく設定する。
                            </li>
                        </ol>
                    </li>
                    <li>
                        <p>
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                id="ref-for-dom-readystate-26"><code>readyState</code></a> 属性が
                            <a data-link-type="const"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                            であり、新しい <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                id="ref-for-dfn-coded-frame-45">coded frames</a> によって
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="attribute"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                            が
                            現在の再生位置に対応する <a data-link-type="interface" data-lt="TimeRanges"
                                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                            を持つようになった場合、
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                id="ref-for-dom-readystate-27"><code>readyState</code></a> 属性を
                            <a data-link-type="const"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_current_data"><code>HAVE_CURRENT_DATA</code></a>
                            に設定する。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-68">
                            <div role="heading" class="note-title marker" id="h-note-68" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement ready states</a></code>
                                [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                        title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-28"><code>readyState</code></a> の変更は、
                                HTMLMediaElement 上でイベントをトリガーする可能性がある。
                            </p>
                        </div>
                    </li>
                    <li>
                        <p>
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                id="ref-for-dom-readystate-29"><code>readyState</code></a> 属性が
                            <a data-link-type="const"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_current_data"><code>HAVE_CURRENT_DATA</code></a>
                            であり、新しい <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                id="ref-for-dfn-coded-frame-46">coded frames</a> によって
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="attribute"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                            が、
                            現在の再生位置を含み、かつ現在の再生位置より先の時間も含む
                            <a data-link-type="interface" data-lt="TimeRanges"
                                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                            を持つようになった場合、
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                id="ref-for-dom-readystate-30"><code>readyState</code></a> 属性を
                            <a data-link-type="const"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_future_data"><code>HAVE_FUTURE_DATA</code></a>
                            に設定する。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-69">
                            <div role="heading" class="note-title marker" id="h-note-69" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement ready states</a></code>
                                [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                        title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-31"><code>readyState</code></a> の変更は、
                                HTMLMediaElement 上でイベントをトリガーする可能性がある。
                            </p>
                        </div>
                    </li>
                    <li>
                        <p>
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                id="ref-for-dom-readystate-32"><code>readyState</code></a> 属性が
                            <a data-link-type="const"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_future_data"><code>HAVE_FUTURE_DATA</code></a>
                            であり、新しい <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                id="ref-for-dfn-coded-frame-47">coded frames</a> によって
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="attribute"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                            が、
                            現在の再生位置と、<a data-link-type="dfn|abstract-op" href="#enough-data" class="internalDFN"
                                id="ref-for-enough-data-3">途切れない再生を確保するのに十分なデータ</a> を含む
                            <a data-link-type="interface" data-lt="TimeRanges"
                                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                            を持つようになった場合、
                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            の
                            <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                id="ref-for-dom-readystate-33"><code>readyState</code></a> 属性を
                            <a data-link-type="const"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_enough_data"><code>HAVE_ENOUGH_DATA</code></a>
                            に設定する。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-70">
                            <div role="heading" class="note-title marker" id="h-note-70" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement ready states</a></code>
                                [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                        title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                <a data-link-type="interface" data-lt="HTMLMediaElement"
                                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                の
                                <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                    id="ref-for-dom-readystate-34"><code>readyState</code></a> の変更は、
                                HTMLMediaElement 上でイベントをトリガーする可能性がある。
                            </p>
                        </div>
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                            id="ref-for-dfn-media-segment-14">media segment</a> に、現在の <a data-link-type="idl"
                            href="#dom-mediasource-duration" class="internalDFN"
                            id="ref-for-dom-mediasource-duration-10"><code>duration</code></a> を超えるデータが含まれている場合、
                        <a data-link-type="dfn|abstract-op" href="#dfn-duration-change" class="internalDFN"
                            id="ref-for-dfn-duration-change-6">duration change</a> アルゴリズムを、
                        <var data-type="unrestricted double">new duration</var> を現在の duration と
                        <a data-link-type="attribute" data-lt="[[group end timestamp]]" href="#dfn-group-end-timestamp"
                            class="internalDFN"
                            id="ref-for-dfn-group-end-timestamp-9"><code>[[group end timestamp]]</code></a>
                        の最大値に設定して実行する。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-coded-frame-removal">
                <div class="header-wrapper">
                    <h4 id="x5-5-9-coded-frame-removal"><bdi class="secno">5.5.9 </bdi>
                        <dfn id="dfn-coded-frame-removal" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">コーデッドフレーム除去</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-coded-frame-removal"
                        aria-label="Permalink for Section 5.5.9"></a>
                </div>

                <p>
                    特定の時間範囲の <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-48">coded frames</a> を SourceBuffer から除去する必要がある場合、以下の手順を実行する：
                </p>
                <ol>
                    <li><var data-type="double">start</var> を、除去範囲の開始 <a data-link-type="dfn|abstract-op"
                            href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-23">presentation timestamp</a> とする。
                    </li>
                    <li><var data-type="unrestricted double">end</var> を、除去範囲の終了 <a data-link-type="dfn|abstract-op"
                            href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-24">presentation timestamp</a> とする。
                    </li>
                    <li>
                        <p>
                            この <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                class="internalDFN" id="ref-for-dom-sourcebuffer-104"><code>SourceBuffer</code></a> 内の各
                            <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                id="ref-for-track-buffer-34">track buffer</a> について、以下の手順を実行する：
                        </p>
                        <ol>
                            <li><var data-type="unrestricted double">remove end timestamp</var> を
                                <a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                                    id="ref-for-dom-mediasource-duration-11"><code>duration</code></a>
                                の現在値とする。
                            </li>
                            <li>
                                <p>
                                    この <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                        id="ref-for-track-buffer-35">track buffer</a> に <a
                                        data-link-type="dfn|abstract-op" href="#random-access-point" class="internalDFN"
                                        id="ref-for-random-access-point-8">random access point</a> タイムスタンプがあり、
                                    それが <var data-type="unrestricted double">end</var> 以上なら、
                                    <var data-type="unrestricted double">remove end timestamp</var> をその random access
                                    point タイムスタンプに更新する。
                                </p>
                                <div class="note" role="note" id="issue-container-generatedID-71">
                                    <div role="heading" class="note-title marker" id="h-note-71" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        random access point のタイムスタンプはトラックごとに異なる場合がある。これは通常、トラック内の <a
                                            data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                            id="ref-for-dfn-coded-frame-49">coded frames</a> の依存関係が他トラックの依存関係とは異なるためである。
                                    </p>
                                </div>
                            </li>
                            <li>この <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                    id="ref-for-track-buffer-36">track buffer</a> から、
                                開始タイムスタンプが <var data-type="double">start</var> 以上かつ <var>remove end
                                    timestamp</var> 未満のメディアデータをすべて除去する。
                                <ol>
                                    <li>
                                        <p>
                                            除去された各フレームについて、フレームの <a data-link-type="dfn|abstract-op"
                                                href="#dfn-decode-timestamp" class="internalDFN"
                                                id="ref-for-dfn-decode-timestamp-3">decode
                                                timestamp</a> がそのトラックの <a data-link-type="dfn|abstract-op"
                                                href="#last-decode-timestamp" class="internalDFN"
                                                id="ref-for-last-decode-timestamp-9">last decode
                                                timestamp</a> と等しい場合、次の手順を実行する：
                                        </p>
                                        <dl class="switch">
                                            <dt>
                                                <a data-link-type="idl" href="#dom-sourcebuffer-mode"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-mode-14"><code>mode</code></a> が
                                                "<a data-link-type="idl" href="#dom-appendmode-segments"
                                                    class="internalDFN"
                                                    id="ref-for-dom-appendmode-segments-5"><code>segments</code></a>"
                                                に等しい場合：
                                            </dt>
                                            <dd>
                                                <a data-link-type="attribute" data-lt="[[group end timestamp]]"
                                                    href="#dfn-group-end-timestamp" class="internalDFN"
                                                    id="ref-for-dfn-group-end-timestamp-10"><code>[[group end timestamp]]</code></a>
                                                を <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                                                    class="internalDFN"
                                                    id="ref-for-presentation-timestamp-25">presentation timestamp</a>
                                                に設定する。
                                            </dd>
                                            <dt>
                                                <a data-link-type="idl" href="#dom-sourcebuffer-mode"
                                                    class="internalDFN"
                                                    id="ref-for-dom-sourcebuffer-mode-15"><code>mode</code></a> が
                                                "<a data-link-type="idl" href="#dom-appendmode-sequence"
                                                    class="internalDFN"
                                                    id="ref-for-dom-appendmode-sequence-12"><code>sequence</code></a>"
                                                に等しい場合：
                                            </dt>
                                            <dd>
                                                <a data-link-type="attribute" data-lt="[[group start timestamp]]"
                                                    href="#dfn-group-start-timestamp" class="internalDFN"
                                                    id="ref-for-dfn-group-start-timestamp-9"><code>[[group start timestamp]]</code></a>
                                                を
                                                <a data-link-type="attribute" data-lt="[[group end timestamp]]"
                                                    href="#dfn-group-end-timestamp" class="internalDFN"
                                                    id="ref-for-dfn-group-end-timestamp-11"><code>[[group end timestamp]]</code></a>
                                                に等しく設定する。
                                            </dd>
                                        </dl>
                                    </li>
                                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                            class="internalDFN" id="ref-for-track-buffer-37">track buffers</a> の <a
                                            data-link-type="dfn|abstract-op" href="#last-decode-timestamp"
                                            class="internalDFN" id="ref-for-last-decode-timestamp-10">last decode
                                            timestamp</a> を未設定にする。
                                    </li>
                                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                            class="internalDFN" id="ref-for-track-buffer-38">track buffers</a> の <a
                                            data-link-type="dfn|abstract-op" href="#last-frame-duration"
                                            class="internalDFN" id="ref-for-last-frame-duration-5">last frame
                                            duration</a> を未設定にする。
                                    </li>
                                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                            class="internalDFN" id="ref-for-track-buffer-39">track buffers</a> の <a
                                            data-link-type="dfn|abstract-op" href="#highest-end-timestamp"
                                            class="internalDFN" id="ref-for-highest-end-timestamp-9">highest end
                                            timestamp</a> を未設定にする。
                                    </li>
                                    <li>すべての <a data-link-type="dfn|abstract-op" href="#track-buffer"
                                            class="internalDFN" id="ref-for-track-buffer-40">track buffers</a> の <a
                                            data-link-type="dfn|abstract-op" href="#need-RAP-flag" class="internalDFN"
                                            id="ref-for-need-RAP-flag-9">need random access point
                                            flag</a> を true に設定する。
                                    </li>
                                </ol>
                            </li>
                            <li>前の手順で除去された <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                    class="internalDFN" id="ref-for-dfn-coded-frame-50">coded
                                    frames</a> に対する可能なデコード依存性をすべて取り除くため、前の手順で除去されたフレームと、その後に現れる次の <a
                                    data-link-type="dfn|abstract-op" href="#random-access-point" class="internalDFN"
                                    id="ref-for-random-access-point-9">random access point</a> との間にある
                                この <a data-link-type="dfn|abstract-op" href="#track-buffer" class="internalDFN"
                                    id="ref-for-track-buffer-41">track buffer</a> 内のすべての <a
                                    data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                                    id="ref-for-dfn-coded-frame-51">coded
                                    frames</a> を削除する。
                                <div class="note" role="note" id="issue-container-generatedID-72">
                                    <div role="heading" class="note-title marker" id="h-note-72" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        次の <a data-link-type="dfn|abstract-op" href="#random-access-point"
                                            class="internalDFN" id="ref-for-random-access-point-10">random access
                                            point</a> まで
                                        すべての <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-52">coded frames</a>
                                        を削除することは、
                                        保守的なデコード依存性の見積もりである。これは、除去されたフレームと次の random access point の間の全フレームが、
                                        除去されたフレームに依存していると仮定しているためである。
                                    </p>
                                </div>
                            </li>
                            <li>
                                <p>
                                    このオブジェクトが <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                        class="internalDFN"
                                        id="ref-for-dom-mediasource-activesourcebuffers-30"><code>activeSourceBuffers</code></a>
                                    にあり、
                                    <a
                                        href="https://html.spec.whatwg.org/multipage/media.html#current-playback-position">現在の再生位置</a>
                                    が <var data-type="double">start</var> 以上かつ <var
                                        data-type="unrestricted double">remove end timestamp</var> 未満であり、
                                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                    の <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                        id="ref-for-dom-readystate-35"><code>readyState</code></a> が
                                    <a data-link-type="const"
                                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                    より大きい場合、
                                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                    の <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                        id="ref-for-dom-readystate-36"><code>readyState</code></a> 属性を
                                    <a data-link-type="const"
                                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-have_metadata"><code>HAVE_METADATA</code></a>
                                    に設定し、
                                    再生を停止する。
                                </p>
                                <div class="note" role="note" id="issue-container-generatedID-73">
                                    <div role="heading" class="note-title marker" id="h-note-73" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <code><a href="https://html.spec.whatwg.org/multipage/media.html#ready-states">HTMLMediaElement ready states</a></code>
                                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>] のロジックに従い、
                                        <a data-link-type="interface" data-lt="HTMLMediaElement"
                                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                        の <a data-link-type="idl" href="#dom-readystate" class="internalDFN"
                                            id="ref-for-dom-readystate-37"><code>readyState</code></a> の変更は
                                        HTMLMediaElement 上でイベントをトリガーする可能性がある。
                                    </p>
                                </div>
                                <div class="note" role="note" id="issue-container-generatedID-74">
                                    <div role="heading" class="note-title marker" id="h-note-74" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        この遷移は、現在位置のメディアデータが除去されたため発生する。<a
                                            href="https://html.spec.whatwg.org/multipage/media.html#current-playback-position">現在の再生位置</a>
                                        のメディアが再追加されるか、
                                        <a href="#active-source-buffer-changes"
                                            data-matched-text="[[[#active-source-buffer-changes]]]" class="sec-ref"><bdi
                                                class="secno">3.15.5 </bdi>
                                            <span>選択/有効トラック状態の変更</span></a>
                                        が行われるまで、再生は進行できない。
                                    </p>
                                </div>
                            </li>
                        </ol>
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[buffer full flag]]" href="#dfn-buffer-full-flag"
                            class="internalDFN"
                            id="ref-for-dfn-buffer-full-flag-3"><code>[[buffer full flag]]</code></a> が true で、
                        このオブジェクトが新たなバイトを受け入れ可能な場合、
                        <a data-link-type="attribute" data-lt="[[buffer full flag]]" href="#dfn-buffer-full-flag"
                            class="internalDFN"
                            id="ref-for-dfn-buffer-full-flag-4"><code>[[buffer full flag]]</code></a> を false に設定する。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-coded-frame-eviction">
                <div class="header-wrapper">
                    <h4 id="x5-5-10-coded-frame-eviction"><bdi class="secno">5.5.10 </bdi>
                        <dfn id="dfn-coded-frame-eviction" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">コーデッドフレーム追い出し</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-coded-frame-eviction"
                        aria-label="Permalink for Section 5.5.10"></a>
                </div>

                <p>
                    このアルゴリズムは新しいデータが <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                        class="internalDFN" id="ref-for-dom-sourcebuffer-105"><code>SourceBuffer</code></a>
                    に追加される際、空き領域を確保するために実行される。
                </p>
                <ol>
                    <li><var data-type="BufferSource">new data</var> を、これから追加されるデータとする。
                        <div class="issue" id="issue-container-number-289">
                            <div role="heading" class="issue-title marker" id="h-issue-1" aria-level="5"><a
                                    href="https://github.com/w3c/media-source/issues/289"><span
                                        class="issue-number">Issue 289</span></a><span class="issue-label">:
                                    編集？コーデッドフレーム追い出しアルゴリズムは「buffer full flag」が |new data| に応じて即座に更新されうる旨を記述する必要あり</span>
                            </div>
                            <div class="">
                                <p>
                                    ここで、実装は <em class="rfc2119">MAY</em> <a data-link-type="attribute"
                                        data-lt="[[buffer full flag]]" href="#dfn-buffer-full-flag" class="internalDFN"
                                        id="ref-for-dfn-buffer-full-flag-5"><code>[[buffer full flag]]</code></a> を
                                    ここで true に設定することを選んでもよい。これは、<a data-link-type="attribute" data-lt="[[input buffer]]"
                                        href="#dfn-input-buffer" class="internalDFN"
                                        id="ref-for-dfn-input-buffer-14"><code>[[input buffer]]</code></a> に既存のバイト列と
                                    <var data-type="BufferSource">new data</var> を加えた場合、
                                    <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                        class="internalDFN"
                                        id="ref-for-dom-sourcebuffer-106"><code>SourceBuffer</code></a>
                                    の容量を超えると予測されるときなどに、より積極的なプッシュバックを可能にするためである。実際、少なくとも1つの実装がこれを既に行っている。
                                </p>
                            </div>
                        </div>
                    </li>
                    <li><a data-link-type="attribute" data-lt="[[buffer full flag]]" href="#dfn-buffer-full-flag"
                            class="internalDFN"
                            id="ref-for-dfn-buffer-full-flag-6"><code>[[buffer full flag]]</code></a> が false
                        の場合、この手順を中止する。
                    </li>
                    <li><var data-type="normalized TimeRanges">removal ranges</var> を、
                        <var data-type="BufferSource">new data</var> を格納するためにプレゼンテーションから追い出せる
                        プレゼンテーション時間範囲リストとする。
                        <div class="note" role="note" id="issue-container-generatedID-75">
                            <div role="heading" class="note-title marker" id="h-note-75" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                実装は <em class="rfc2119">MAY</em> <var data-type="normalized TimeRanges">removal
                                    ranges</var> の選択方法を変えることができるため、
                                ウェブアプリケーションは特定の挙動に依存 <em class="rfc2119">SHOULD NOT</em> すべきでない。
                                ウェブアプリケーションは <a data-link-type="idl" href="#dom-sourcebuffer-buffered"
                                    class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-buffered-4"><code>buffered</code></a> 属性を使い、
                                バッファ済みデータの一部が追い出されたかどうか観察できる。
                            </p>
                        </div>
                    </li>
                    <li><var data-type="normalized TimeRanges">removal ranges</var> の各範囲について、
                        <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-removal" class="internalDFN"
                            id="ref-for-dfn-coded-frame-removal-4">coded frame removal</a> アルゴリズムを
                        <var data-type="double">start</var> と <var data-type="unrestricted double">end</var> を
                        それぞれ範囲の開始・終了タイムスタンプとして実行する。
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-audio-splice-frame-algorithm">
                <div class="header-wrapper">
                    <h4 id="x5-5-11-audio-splice-frame"><bdi class="secno">5.5.11 </bdi>
                        <dfn id="dfn-audio-splice-frame" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">音声スプライスフレーム</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-audio-splice-frame-algorithm"
                        aria-label="Permalink for Section 5.5.11"></a>
                </div>

                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing" class="internalDFN"
                        id="ref-for-dfn-coded-frame-processing-11">coded frame processing</a> アルゴリズムが
                    重複する2つの音声 <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-53">coded frames</a> のスプライスフレーム生成を必要とした時、以下の手順を実行する：
                </p>
                <ol>
                    <li><var>track buffer</var> を、スプライスを格納する <a data-link-type="dfn|abstract-op" href="#track-buffer"
                            class="internalDFN" id="ref-for-track-buffer-42">track buffer</a> とする。
                    </li>
                    <li><var>new coded frame</var> を、<var>track
                            buffer</var> に追加される新しい <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                            class="internalDFN" id="ref-for-dfn-coded-frame-54">coded frame</a>（スプライスが必要となった原因）とする。
                    </li>
                    <li><var data-type="double">presentation timestamp</var> を <var>new
                            coded frame</var> の <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                            class="internalDFN" id="ref-for-presentation-timestamp-26">presentation timestamp</a> とする。
                    </li>
                    <li><var data-type="double">decode timestamp</var> を <var>new coded
                            frame</var> の decode timestamp とする。
                    </li>
                    <li><var data-type="double">frame duration</var> を <var>new coded
                            frame</var> の <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-duration"
                            class="internalDFN" id="ref-for-dfn-coded-frame-duration-7">coded frame duration</a> とする。
                    </li>
                    <li><var>overlapped frame</var> を <var>track buffer</var> 内で <a data-link-type="dfn|abstract-op"
                            href="#presentation-interval" class="internalDFN"
                            id="ref-for-presentation-interval-2">presentation interval</a> が <var
                            data-type="double">presentation timestamp</var> を含む <a data-link-type="dfn|abstract-op"
                            href="#dfn-coded-frame" class="internalDFN" id="ref-for-dfn-coded-frame-55">coded frame</a>
                        とする。
                    </li>
                    <li><var data-type="double">presentation timestamp</var> と <var data-type="double">decode
                            timestamp</var> を <var>overlapped frame</var>
                        のサンプルレートに基づき、最も近いオーディオサンプルタイムスタンプに更新する。両方のサンプルタイムスタンプから等距離の場合は高い方のタイムスタンプを使う（例：<code>floor(x * sample_rate + 0.5) / sample_rate</code>）。
                        <div class="note" role="note" id="issue-container-generatedID-76">
                            <div role="heading" class="note-title marker" id="h-note-76" aria-level="5">
                                <span>注</span>
                            </div>
                            <div class="">
                                <p>
                                    例：
                                </p>
                                <ul>
                                    <li><var>overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                                            href="#presentation-timestamp" class="internalDFN"
                                            id="ref-for-presentation-timestamp-27">presentation
                                            timestamp</a> が 10。
                                    </li>
                                    <li><var>overlapped frame</var> のサンプルレートが 8000 Hz
                                    </li>
                                    <li><var data-type="double">presentation timestamp</var> が 10.01255
                                    </li>
                                    <li><var data-type="double">decode timestamp</var> が 10.01255
                                    </li>
                                </ul>
                                <p>
                                    <var data-type="double">presentation timestamp</var> および <var
                                        data-type="double">decode timestamp</var> は 10.0125 に更新される（10.01255 は 10 +
                                    100/8000 (10.0125) により近い）。
                                </p>
                            </div>
                        </div>
                    </li>
                    <li>ユーザーエージェントがクロスフェードをサポートしない場合、次の手順を実行する：
                        <ol>
                            <li><var>overlapped frame</var> を <var>track buffer</var> から削除する。
                            </li>
                            <li>以下のプロパティを持つ無音フレームを <var>track buffer</var> に追加する：
                                <ul>
                                    <li><var>overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                                            href="#presentation-timestamp" class="internalDFN"
                                            id="ref-for-presentation-timestamp-28">presentation
                                            timestamp</a> を <a data-link-type="dfn|abstract-op"
                                            href="#presentation-timestamp" class="internalDFN"
                                            id="ref-for-presentation-timestamp-29">presentation
                                            timestamp</a> とする。
                                    </li>
                                    <li><var>overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                                            href="#dfn-decode-timestamp" class="internalDFN"
                                            id="ref-for-dfn-decode-timestamp-4">decode timestamp</a> を <a
                                            data-link-type="dfn|abstract-op" href="#dfn-decode-timestamp"
                                            class="internalDFN" id="ref-for-dfn-decode-timestamp-5">decode timestamp</a>
                                        とする。
                                    </li>
                                    <li><var>overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                                            href="#dfn-coded-frame-duration" class="internalDFN"
                                            id="ref-for-dfn-coded-frame-duration-8">coded frame
                                            duration</a> を <var>presentation
                                            timestamp</var> と <var>overlapped frame</var> の <a
                                            data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                                            class="internalDFN" id="ref-for-presentation-timestamp-30">presentation
                                            timestamp</a> の差に設定する。
                                    </li>
                                </ul>
                                <div class="note" role="note" id="issue-container-generatedID-77">
                                    <div role="heading" class="note-title marker" id="h-note-77" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        実装によっては、無音フレーム前後の coded frames にフェードをかけて、遷移を滑らかにするものもある（<em
                                            class="rfc2119">MAY</em>）。
                                    </p>
                                </div>
                            </li>
                            <li>スプライスフレームを返さずに呼び出し元に戻る。
                                <div class="note" role="note" id="issue-container-generatedID-78">
                                    <div role="heading" class="note-title marker" id="h-note-78" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        これは <var>track buffer</var> から <var>overlapped frame</var> が最初から存在しなかったかのように
                                        <var>new coded frame</var> を追加できるようにするため。
                                    </p>
                                </div>
                            </li>
                        </ol>
                    </li>
                    <li><var data-type="double">frame end timestamp</var> を <var data-type="double">presentation
                            timestamp</var> と
                        <var data-type="double">frame duration</var> の和とする。
                    </li>
                    <li><var data-type="double">splice end timestamp</var> を <var data-type="double">presentation
                            timestamp</var> と
                        スプライス持続時間（5ミリ秒）の和とする。
                    </li>
                    <li><var>fade out coded frames</var> を <var>overlapped frame</var> と、
                        <var data-type="double">presentation timestamp</var> より大きく <var data-type="double">splice end
                            timestamp</var> 未満の <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                            class="internalDFN" id="ref-for-presentation-timestamp-31">presentation timestamp</a> を持つ
                        <var>track buffer</var> 内の追加フレームとする。
                    </li>
                    <li><var>fade out coded frames</var> に含まれるすべてのフレームを <var>track buffer</var> から削除する。
                    </li>
                    <li>以下のプロパティを持つスプライスフレームを返す：
                        <ul>
                            <li><var>overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                                    href="#presentation-timestamp" class="internalDFN"
                                    id="ref-for-presentation-timestamp-32">presentation
                                    timestamp</a> を <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                                    class="internalDFN" id="ref-for-presentation-timestamp-33">presentation
                                    timestamp</a> とする。
                            </li>
                            <li><var>overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                                    href="#dfn-decode-timestamp" class="internalDFN"
                                    id="ref-for-dfn-decode-timestamp-6">decode timestamp</a> を <a
                                    data-link-type="dfn|abstract-op" href="#dfn-decode-timestamp" class="internalDFN"
                                    id="ref-for-dfn-decode-timestamp-7">decode timestamp</a> とする。
                            </li>
                            <li><var>overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                                    href="#dfn-coded-frame-duration" class="internalDFN"
                                    id="ref-for-dfn-coded-frame-duration-9">coded frame duration</a> を、<var
                                    data-type="double">frame end timestamp</var> と
                                <a data-link-type="dfn|abstract-op" href="#presentation-timestamp" class="internalDFN"
                                    id="ref-for-presentation-timestamp-34">presentation timestamp</a> の差に設定する。
                            </li>
                            <li>fade out coded frames は <var>fade out coded frames</var> とする。
                            </li>
                            <li>fade in coded frame は <var>new coded frame</var> とする。
                                <div class="note" role="note" id="issue-container-generatedID-79">
                                    <div role="heading" class="note-title marker" id="h-note-79" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <p class="">
                                        <var>new coded frame</var> の持続時間が 5 ミリ秒未満の場合、スプライスの正しい描画には <var>new coded
                                            frame</var> の後に追加される coded frames も必要となる。
                                    </p>
                                </div>
                            </li>
                            <li>splice timestamp は <var data-type="double">presentation timestamp</var> とする。
                        </ul>
                        <div class="note" role="note" id="issue-container-generatedID-80">
                            <div role="heading" class="note-title marker" id="h-note-80" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                このスプライスフレームの描画詳細は <a data-link-type="dfn|abstract-op" href="#dfn-audio-splice-rendering"
                                    class="internalDFN" id="ref-for-dfn-audio-splice-rendering-1">audio splice
                                    rendering</a> アルゴリズムを参照。
                            </p>
                        </div>
                    </li>
                </ol>
            </section>
            <section id="sourcebuffer-audio-splice-rendering-algorithm">
                <div class="header-wrapper">
                    <h4 id="x5-5-12-audio-splice-rendering"><bdi class="secno">5.5.12 </bdi>
                        <dfn id="dfn-audio-splice-rendering" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">音声スプライスレンダリング</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-audio-splice-rendering-algorithm"
                        aria-label="Permalink for Section 5.5.12"></a>
                </div>

                <p>
                    メディア要素が <a data-link-type="dfn|abstract-op" href="#dfn-audio-splice-frame" class="internalDFN"
                        id="ref-for-dfn-audio-splice-frame-2">audio splice frame</a>
                    アルゴリズムで生成されたスプライスフレームをレンダリングする必要がある場合、以下の手順を実行する：
                </p>
                <ol>
                    <li><var>fade out coded frames</var> を、スプライス時にフェードアウトされる <a data-link-type="dfn|abstract-op"
                            href="#dfn-coded-frame" class="internalDFN" id="ref-for-dfn-coded-frame-56">coded frames</a>
                        とする。
                    </li>
                    <li><var>fade in coded frames</var> を、スプライス時にフェードインされる <a data-link-type="dfn|abstract-op"
                            href="#dfn-coded-frame" class="internalDFN" id="ref-for-dfn-coded-frame-57">coded frames</a>
                        とする。
                    </li>
                    <li><var data-type="double">presentation timestamp</var> を <var>fade out coded frames</var> の最初の
                        coded frame の <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                            class="internalDFN" id="ref-for-presentation-timestamp-35">presentation timestamp</a> とする。
                    </li>
                    <li><var data-type="double">end timestamp</var> を <a data-link-type="dfn|abstract-op"
                            href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-36">presentation timestamp</a> と <a
                            data-link-type="dfn|abstract-op" href="#dfn-coded-frame-duration" class="internalDFN"
                            id="ref-for-dfn-coded-frame-duration-10">coded frame duration</a>（<var>fade in coded
                            frames</var> の最後のフレーム）との和とする。
                    </li>
                    <li><var data-type="double">splice timestamp</var> を、スプライス開始点の <a data-link-type="dfn|abstract-op"
                            href="#presentation-timestamp" class="internalDFN"
                            id="ref-for-presentation-timestamp-37">presentation timestamp</a>（<var>fade in coded
                            frames</var> の最初のフレームの timestamp）とする。
                    </li>
                    <li><var data-type="double">splice end timestamp</var> を <var data-type="double">splice
                            timestamp</var> + 5ミリ秒とする。
                    </li>
                    <li><var>fade out samples</var> を <var>fade out coded frames</var> をデコードして生成したサンプルとする。
                    </li>
                    <li><var>fade out samples</var> を <var>presentation timestamp</var> ～ <var data-type="double">splice
                            end timestamp</var> のみ含むようにトリムする。
                    </li>
                    <li><var>fade in samples</var> を <var>fade in coded frames</var> をデコードして生成したサンプルとする。
                    </li>
                    <li><var>fade out samples</var> と <var>fade in samples</var>
                        のサンプルレートやチャンネルレイアウトが一致しない場合、両者を共通のサンプルレート・チャンネルレイアウトに変換する。
                    </li>
                    <li><var>output samples</var> を出力サンプルを格納するバッファとする。
                    </li>
                    <li><var data-type="double">splice timestamp</var> ～ <var data-type="double">splice end
                            timestamp</var> の <var>fade out samples</var> に対し、開始ゲイン1・終了ゲイン0の線形フェードアウトを適用する。
                    </li>
                    <li><var data-type="double">splice timestamp</var> ～ <var data-type="double">splice end
                            timestamp</var> の <var>fade in samples</var> に対し、開始ゲイン0・終了ゲイン1の線形フェードインを適用する。
                    </li>
                    <li><var data-type="double">presentation timestamp</var> ～ <var data-type="double">splice
                            timestamp</var> の <var>fade out
                            samples</var> を <var>output samples</var> にコピーする。
                    </li>
                    <li><var data-type="double">splice timestamp</var> ～ <var data-type="double">splice end
                            timestamp</var> の各サンプルについて、
                        <var>fade out samples</var> のサンプルと対応する <var>fade in samples</var> のサンプルの和を計算し、<var>output
                            samples</var> に格納する。
                    </li>
                    <li><var data-type="double">splice end timestamp</var> ～ <var data-type="double">end timestamp</var>
                        の <var>fade in
                            samples</var> を <var>output samples</var> にコピーする。
                    </li>
                    <li><var>output samples</var> をレンダリングする。
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-81">
                    <div role="heading" class="note-title marker" id="h-note-81" aria-level="5"><span>注</span></div>
                    <div class="">
                        <p>
                            このアルゴリズムの図解です。
                        </p><img src="https://www.w3.org/TR/media-source-2/audio_splice.png" alt="Audio splice diagram">
                    </div>
                </div>
            </section>
            <section id="sourcebuffer-text-splice-frame-algorithm">
                <div class="header-wrapper">
                    <h4 id="x5-5-13-text-splice-frame"><bdi class="secno">5.5.13 </bdi>
                        <dfn id="dfn-text-splice-frame" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">テキストスプライスフレーム</dfn>
                    </h4><a class="self-link" href="#sourcebuffer-text-splice-frame-algorithm"
                        aria-label="Permalink for Section 5.5.13"></a>
                </div>

                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing" class="internalDFN"
                        id="ref-for-dfn-coded-frame-processing-12">coded frame processing</a> アルゴリズムが
                    重複する2つのタイムドテキスト <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame" class="internalDFN"
                        id="ref-for-dfn-coded-frame-58">coded frames</a> のスプライスフレーム生成を必要とした時、以下の手順を実行する：
                </p>
                <ol>
                    <li><var>track buffer</var> を、スプライスを格納する <a data-link-type="dfn|abstract-op" href="#track-buffer"
                            class="internalDFN" id="ref-for-track-buffer-43">track buffer</a> とする。
                    </li>
                    <li><var>new coded frame</var> を、<var>track
                            buffer</var> に追加される新しい <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame"
                            class="internalDFN" id="ref-for-dfn-coded-frame-59">coded frame</a>（スプライスが必要となった原因）とする。
                    </li>
                    <li><var data-type="double">presentation timestamp</var> を <var>new
                            coded frame</var> の <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                            class="internalDFN" id="ref-for-presentation-timestamp-39">presentation timestamp</a> とする。
                    </li>
                    <li><var data-type="double">decode timestamp</var> を <var>new coded
                            frame</var> の decode timestamp とする。
                    </li>
                    <li><var data-type="double">frame duration</var> を <var>new coded
                            frame</var> の <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-duration"
                            class="internalDFN" id="ref-for-dfn-coded-frame-duration-11">coded frame duration</a> とする。
                    </li>
                    <li><var data-type="double">frame end timestamp</var> を <var data-type="double">presentation
                            timestamp</var> と
                        <var data-type="double">frame duration</var> の和とする。
                    </li>
                    <li><var>first overlapped frame</var> を <var>track buffer</var> 内で <a
                            data-link-type="dfn|abstract-op" href="#presentation-interval" class="internalDFN"
                            id="ref-for-presentation-interval-3">presentation interval</a> が <var
                            data-type="double">presentation timestamp</var> を含む <a data-link-type="dfn|abstract-op"
                            href="#dfn-coded-frame" class="internalDFN" id="ref-for-dfn-coded-frame-60">coded frame</a>
                        とする。
                    </li>
                    <li><var data-type="double">overlapped presentation timestamp</var> を <var>first overlapped
                            frame</var> の <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                            class="internalDFN" id="ref-for-presentation-timestamp-40">presentation timestamp</a> とする。
                    </li>
                    <li><var>overlapped frames</var> を <var>first overlapped frame</var> および、<var
                            data-type="double">presentation timestamp</var> より大きく <var data-type="double">frame
                            end timestamp</var> 未満の <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                            class="internalDFN" id="ref-for-presentation-timestamp-41">presentation timestamp</a> を持つ
                        <var>track buffer</var> 内の追加フレームとする。
                    </li>
                    <li><var>overlapped frames</var> に含まれるすべてのフレームを <var>track buffer</var> から削除する。
                    </li>
                    <li><var>first overlapped frame</var> の <a data-link-type="dfn|abstract-op"
                            href="#dfn-coded-frame-duration" class="internalDFN"
                            id="ref-for-dfn-coded-frame-duration-12">coded frame duration</a> を
                        <var data-type="double">presentation timestamp</var> － <var data-type="double">overlapped
                            presentation timestamp</var> に更新する。
                    </li>
                    <li><var>first overlapped frame</var> を <var>track buffer</var> に追加する。
                    </li>
                    <li>スプライスフレームを返さずに呼び出し元に戻る。
                        <div class="note" role="note" id="issue-container-generatedID-82">
                            <div role="heading" class="note-title marker" id="h-note-82" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                これは <var>track buffer</var> 内のフレームと <var>new coded frame</var> が最初から重複していなかったかのように
                                <var>new coded frame</var> を追加できるようにするため。
                            </p>
                        </div>
                    </li>
                </ol>
            </section>
        </section>
    </section>
    <section id="sourcebufferlist">
        <div class="header-wrapper">
            <h2 id="x6-sourcebufferlist-interface"><bdi class="secno">6. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-sourcebufferlist" data-idl="interface"
                    data-title="SourceBufferList" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>SourceBufferList</code></dfn> インターフェース
            </h2><a class="self-link" href="#sourcebufferlist" aria-label="Permalink for Section 6."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="SourceBufferList" href="#dom-sourcebufferlist" class="internalDFN"
                id="ref-for-dom-sourcebufferlist-5"><code>SourceBufferList</code></a> は
            <a href="#dom-sourcebuffer" class="internalDFN" data-link-type="idl"
                id="ref-for-dom-sourcebuffer-107"><code>SourceBuffer</code></a> オブジェクトの単純なコンテナオブジェクトです。
            配列として読み取り専用アクセスを提供し、リストが変更された際にイベントを発火します。
        </p>
        <pre class="idl def" id="webidl-2108728413"><span class="idlHeader"><a class="self-link" href="#webidl-2108728413">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-sourcebufferlist" data-title="SourceBufferList">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-sourcebufferlist" id="ref-for-dom-sourcebufferlist-6"><code>SourceBufferList</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-sourcebufferlist-length" data-title="length" data-dfn-for="SourceBufferList">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-sourcebufferlist-length" id="ref-for-dom-sourcebufferlist-length-1"><code>length</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-sourcebufferlist-onaddsourcebuffer" data-title="onaddsourcebuffer" data-dfn-for="SourceBufferList">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-sourcebufferlist-onaddsourcebuffer" id="ref-for-dom-sourcebufferlist-onaddsourcebuffer-1"><code>onaddsourcebuffer</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-sourcebufferlist-onremovesourcebuffer" data-title="onremovesourcebuffer" data-dfn-for="SourceBufferList">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-sourcebufferlist-onremovesourcebuffer" id="ref-for-dom-sourcebufferlist-onremovesourcebuffer-1"><code>onremovesourcebuffer</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-sourcebufferlist-anonymous-getter-index" data-title="getter" data-dfn-for="SourceBufferList">

  <dfn data-export="" data-dfn-type="method" id="dom-sourcebufferlist-getter" data-idl="operation" data-title="getter" data-dfn-for="SourceBufferList" data-type="SourceBuffer" data-lt="getter()|getter(index)" data-local-lt="SourceBufferList.getter|SourceBufferList.getter()|getter" tabindex="0" aria-haspopup="dialog"><code>getter</code></dfn><span class="idlType"> <a data-link-type="idl" href="#dom-sourcebuffer" class="internalDFN" id="ref-for-dom-sourcebuffer-108"><code>SourceBuffer</code></a></span> (<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">index</span>);</span>
};</span></code></pre>
        <section id="attributes-0">
            <div class="header-wrapper">
                <h3 id="x6-1-attributes"><bdi class="secno">6.1 </bdi>
                    属性
                </h3><a class="self-link" href="#attributes-0" aria-label="Permalink for Section 6.1"></a>
            </div>

            <dl class="attributes" data-dfn-for="SourceBufferList">
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebufferlist-length" data-idl="attribute"
                        data-title="length" data-dfn-for="SourceBufferList" data-type="unsigned long" data-lt="length"
                        data-local-lt="SourceBufferList.length" tabindex="0"
                        aria-haspopup="dialog"><code>length</code></dfn> 型 <a data-link-type="interface"
                        data-lt="unsigned long"
                        href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><code>unsigned long</code></a>
                    （読み取り専用）
                </dt>
                <dd>
                    <p>
                        リスト内の <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                            class="internalDFN" id="ref-for-dom-sourcebuffer-109"><code>SourceBuffer</code></a>
                        オブジェクト数を示します。
                    </p>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebufferlist-onaddsourcebuffer"
                        data-idl="attribute" data-title="onaddsourcebuffer" data-dfn-for="SourceBufferList"
                        data-type="EventHandler" data-lt="onaddsourcebuffer"
                        data-local-lt="SourceBufferList.onaddsourcebuffer" tabindex="0"
                        aria-haspopup="dialog"><code>onaddsourcebuffer</code></dfn> 型 <a data-link-type="typedef"
                        data-lt="EventHandler"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="addsourcebuffer" href="#dfn-addsourcebuffer"
                            class="internalDFN" id="ref-for-dfn-addsourcebuffer-6"><code>addsourcebuffer</code></a>
                        イベント用のイベントハンドラです。
                    </p>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-sourcebufferlist-onremovesourcebuffer"
                        data-idl="attribute" data-title="onremovesourcebuffer" data-dfn-for="SourceBufferList"
                        data-type="EventHandler" data-lt="onremovesourcebuffer"
                        data-local-lt="SourceBufferList.onremovesourcebuffer" tabindex="0"
                        aria-haspopup="dialog"><code>onremovesourcebuffer</code></dfn> 型 <a data-link-type="typedef"
                        data-lt="EventHandler"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="idl" data-lt="removesourcebuffer" href="#dfn-removesourcebuffer"
                            class="internalDFN"
                            id="ref-for-dfn-removesourcebuffer-8"><code>removesourcebuffer</code></a> イベント用のイベントハンドラです。
                    </p>
                </dd>
            </dl>
        </section>
        <section id="methods-0">
            <div class="header-wrapper">
                <h3 id="x6-2-methods"><bdi class="secno">6.2 </bdi>
                    メソッド
                </h3><a class="self-link" href="#methods-0" aria-label="Permalink for Section 6.2"></a>
            </div>

            <dl class="methods" data-dfn-for="SourceBufferList">
                <dt>
                    <dfn data-lt-nodefault="" data-lt="sourcebufferlist-getter" id="dfn-sourcebufferlist-getter"
                        tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn" class="respec-offending-element"
                        title="Found definition for &quot;getter&quot;, but nothing links to it. This is usually a spec bug!">getter</dfn>
                </dt>
                <dd>
                    <p>
                        リスト内の SourceBuffer オブジェクトを配列演算子（[]）でアクセスできます。
                    </p>

                    <p>このメソッドが呼び出された時、ユーザーエージェントは次の手順を実行します：</p>
                    <ol class="method-algorithm">
                        <li><var data-type="unsigned long">index</var> が
                            <a data-link-type="idl" href="#dom-sourcebufferlist-length" class="internalDFN"
                                id="ref-for-dom-sourcebufferlist-length-2"><code>length</code></a> 属性以上であれば、undefined
                            を返し手順を中止します。
                        </li>
                        <li><var data-type="unsigned long">index</var> 番目の <a data-link-type="idl"
                                data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-110"><code>SourceBuffer</code></a> オブジェクトをリストから返します。
                        </li>
                    </ol>
                </dd>
            </dl>
        </section>
        <section id="sourcebufferlist-events">
            <div class="header-wrapper">
                <h3 id="x6-3-event-summary"><bdi class="secno">6.3 </bdi>
                    イベント概要
                </h3><a class="self-link" href="#sourcebufferlist-events" aria-label="Permalink for Section 6.3"></a>
            </div>

            <table class="data">
                <thead>
                    <tr>
                        <th>
                            イベント名
                        </th>
                        <th>
                            インターフェース
                        </th>
                        <th>
                            発火タイミング
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-addsourcebuffer" tabindex="0"
                                aria-haspopup="dialog" data-export="">addsourcebuffer</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-111"><code>SourceBuffer</code></a> が
                            リストに追加された時。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-removesourcebuffer" tabindex="0"
                                aria-haspopup="dialog" data-export="">removesourcebuffer</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-112"><code>SourceBuffer</code></a> が
                            リストから削除された時。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
    <section data-cite="WEBIDL mimesniff" data-dfn-for="ManagedMediaSource" id="managedmediasource-interface">
        <div class="header-wrapper">
            <h2 id="x7-managedmediasource-interface"><bdi class="secno">7. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-managedmediasource" data-idl="interface"
                    data-title="ManagedMediaSource" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>ManagedMediaSource</code></dfn> インターフェース
            </h2><a class="self-link" href="#managedmediasource-interface" aria-label="Permalink for Section 7."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="ManagedMediaSource" href="#dom-managedmediasource" class="internalDFN"
                id="ref-for-dom-managedmediasource-4"><code>ManagedMediaSource</code></a> は <a data-link-type="idl"
                data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-99"><code>MediaSource</code></a> を拡張し、メモリ内容を積極的に管理するものです。
            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-100"><code>MediaSource</code></a> と異なり、<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#user-agent">ユーザーエージェント</a>は
            <a data-link-type="dfn|abstract-op" href="#dfn-memory-cleanup" class="internalDFN"
                id="ref-for-dfn-memory-cleanup-1">memory cleanup</a> アルゴリズムを使って、
            <a data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                id="ref-for-dom-mediasource-sourcebuffers-32"><code>sourceBuffers</code></a>
            （<a data-link-type="idl" data-lt="ManagedSourceBuffer" href="#dom-managedsourcebuffer" class="internalDFN"
                id="ref-for-dom-managedsourcebuffer-3"><code>ManagedSourceBuffer</code></a> で構成）から
            任意の理由でコンテンツを追い出すことができます。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-83">
            <div role="heading" class="note-title marker" id="h-note-83" aria-level="3"><span>注</span><span
                    class="issue-label">: 追い出し理由</span></div>
            <aside class="">
                <p>
                    ユーザーエージェントがコンテンツを追い出す理由は実装依存であり、メモリやハードウェア制限、環境変化など様々な理由が考えられますが限定されません。
                    開発者はユーザーエージェントがなぜ・どのように・いつコンテンツを追い出すかを推測すべきではありません。
                    代わりに、コンテンツは常にランダムに追い出される前提でスクリプトを記述し、動画再生の停止を避けるため（防御的なコードを書き、<a data-link-type="idl"
                        data-lt="bufferedchange" href="#dfn-bufferedchange" class="internalDFN"
                        id="ref-for-dfn-bufferedchange-1"><code>bufferedchange</code></a> イベントを監視すること）を推奨します。
                </p>
            </aside>
        </div>
        <pre class="idl def" id="webidl-1619111096"><span class="idlHeader"><a class="self-link" href="#webidl-1619111096">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-managedmediasource" data-title="ManagedMediaSource">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-managedmediasource" id="ref-for-dom-managedmediasource-5"><code>ManagedMediaSource</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-mediasource" class="internalDFN" id="ref-for-dom-mediasource-101"><code>MediaSource</code></a></span> {<span data-idl="" class="idlConstructor" id="idl-def-managedmediasource-constructor" data-title="constructor" data-dfn-for="ManagedMediaSource">
  <dfn data-export="" data-dfn-type="constructor" id="dom-managedmediasource-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="ManagedMediaSource" data-lt="constructor()" data-local-lt="ManagedMediaSource.constructor|ManagedMediaSource.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>();</span><span data-idl="" class="idlAttribute" id="idl-def-managedmediasource-streaming" data-title="streaming" data-dfn-for="ManagedMediaSource">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-managedmediasource-streaming" id="ref-for-dom-managedmediasource-streaming-2"><code>streaming</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-managedmediasource-onstartstreaming" data-title="onstartstreaming" data-dfn-for="ManagedMediaSource">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-managedmediasource-onstartstreaming" data-idl="attribute" data-title="onstartstreaming" data-dfn-for="ManagedMediaSource" data-type="EventHandler" data-lt="onstartstreaming" data-local-lt="ManagedMediaSource.onstartstreaming" class="idlName" tabindex="0" aria-haspopup="dialog"><code>onstartstreaming</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-managedmediasource-onendstreaming" data-title="onendstreaming" data-dfn-for="ManagedMediaSource">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-managedmediasource-onendstreaming" data-idl="attribute" data-title="onendstreaming" data-dfn-for="ManagedMediaSource" data-type="EventHandler" data-lt="onendstreaming" data-local-lt="ManagedMediaSource.onendstreaming" class="idlName" tabindex="0" aria-haspopup="dialog"><code>onendstreaming</code></dfn>;</span>
};</span></code></pre>
        <section id="attributes-1">
            <div class="header-wrapper">
                <h3 id="x7-1-attributes"><bdi class="secno">7.1 </bdi>
                    属性
                </h3><a class="self-link" href="#attributes-1" aria-label="Permalink for Section 7.1"></a>
            </div>
            <dl class="attributes" data-dfn-for="ManagedMediaSource">
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-managedmediasource-streaming"
                        data-idl="attribute" data-title="streaming" data-dfn-for="ManagedMediaSource"
                        data-type="boolean" data-lt="streaming" data-local-lt="ManagedMediaSource.streaming"
                        tabindex="0" aria-haspopup="dialog"><code>streaming</code></dfn>
                </dt>
                <dd>
                    <p>
                        取得時：
                    </p>
                    <ol>
                        <li>属性の現在値を返す。
                        </li>
                    </ol>
                </dd>
            </dl>
        </section>
        <section id="event-summary">
            <div class="header-wrapper">
                <h3 id="x7-2-event-summary"><bdi class="secno">7.2 </bdi>
                    イベント概要
                </h3><a class="self-link" href="#event-summary" aria-label="Permalink for Section 7.2"></a>
            </div>
            <table class="old-table">
                <thead>
                    <tr>
                        <th>
                            イベント名
                        </th>
                        <th>
                            インターフェース
                        </th>
                        <th>
                            発火タイミング
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-startstreaming" tabindex="0"
                                aria-haspopup="dialog" data-export="">startstreaming</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="ManagedMediaSource" href="#dom-managedmediasource"
                                class="internalDFN"
                                id="ref-for-dom-managedmediasource-6"><code>ManagedMediaSource</code></a> の <a
                                data-link-type="idl" href="#dom-managedmediasource-streaming" class="internalDFN"
                                id="ref-for-dom-managedmediasource-streaming-3"><code>streaming</code></a> 属性が
                            <code>false</code> から <code>true</code> に変化した時。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-endstreaming" tabindex="0"
                                aria-haspopup="dialog" data-export="">endstreaming</dfn>
                        </td>
                        <td>
                            <a data-link-type="interface" data-lt="Event"
                                href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="ManagedMediaSource" href="#dom-managedmediasource"
                                class="internalDFN"
                                id="ref-for-dom-managedmediasource-7"><code>ManagedMediaSource</code></a> の <a
                                data-link-type="idl" href="#dom-managedmediasource-streaming" class="internalDFN"
                                id="ref-for-dom-managedmediasource-streaming-4"><code>streaming</code></a> 属性が
                            <code>true</code> から <code>false</code> に変化した時。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="algorithms">
            <div class="header-wrapper">
                <h3 id="x7-3-algorithms"><bdi class="secno">7.3 </bdi>
                    アルゴリズム
                </h3><a class="self-link" href="#algorithms" aria-label="Permalink for Section 7.3"></a>
            </div>
            <section id="managedsourcebuffer-monitoring">
                <div class="header-wrapper">
                    <h4 id="x7-3-1-managedsourcebuffer-monitoring"><bdi class="secno">7.3.1 </bdi>
                        <code>ManagedSourceBuffer</code> 監視
                    </h4><a class="self-link" href="#managedsourcebuffer-monitoring"
                        aria-label="Permalink for Section 7.3.1"></a>
                </div>
                <p>
                    以下の手順は、<a data-link-type="dfn|abstract-op" href="#dfn-sourcebuffer-monitoring" class="internalDFN"
                        id="ref-for-dfn-sourcebuffer-monitoring-1">SourceBuffer Monitoring</a> アルゴリズムが定期的に実行される際に実行されます。
                </p>
                <p>
                    <dfn id="dfn-enough-managed-data-to-ensure-uninterrupted-playback" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">途切れない再生のために十分な管理データがある</dfn> とは、
                    ユーザーエージェントが意味ある時間停止することなくプレゼンテーションを再生できる十分なデータが現在あると判断する実装依存の条件です。
                    この条件は常に評価され、<a data-link-type="idl" href="#dom-managedmediasource-streaming" class="internalDFN"
                        id="ref-for-dom-managedmediasource-streaming-5"><code>streaming</code></a> の値の遷移タイミングを決定します。
                    これらの遷移は、ユーザーエージェントが十分なデータがバッファ済みか、より多くのデータが必要かを示します。
                </p>
                <p>
                    <dfn id="dfn-able-to-retrieve-and-buffer-data-in-an-efficient-way" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">効率的にデータ取得・バッファできる</dfn> とは、
                    ユーザーエージェントが省エネ的に新規データを取得し、望ましいメモリ使用を達成できると判断する実装依存の条件です。
                </p>
                <ol class="algorithm">
                    <li><a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                            id="ref-for-dom-mediasource-102"><code>MediaSource</code></a> の
                        <a data-link-type="dfn|abstract-op" href="#dfn-sourcebuffer-monitoring" class="internalDFN"
                            id="ref-for-dfn-sourcebuffer-monitoring-2">SourceBuffer Monitoring</a> アルゴリズムを実行する。
                    </li>
                    <li><var>can play uninterrupted and efficiently</var> フラグを次の条件で true とする：
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                        属性が
                        現在の再生位置を含む <a data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                        を持ち、
                        <a data-link-type="dfn|abstract-op"
                            href="#dfn-enough-managed-data-to-ensure-uninterrupted-playback" class="internalDFN"
                            id="ref-for-dfn-enough-managed-data-to-ensure-uninterrupted-playback-1">途切れない再生のために十分な管理データがある</a>
                        かつ
                        <a data-link-type="dfn|abstract-op"
                            href="#dfn-able-to-retrieve-and-buffer-data-in-an-efficient-way" class="internalDFN"
                            id="ref-for-dfn-able-to-retrieve-and-buffer-data-in-an-efficient-way-1">効率的にデータ取得・バッファできる</a>
                        <dl class="switch">
                            <dt>
                                <var>can play uninterrupted and efficiently</var> が
                                <a data-link-type="idl" href="#dom-managedmediasource-streaming" class="internalDFN"
                                    id="ref-for-dom-managedmediasource-streaming-6"><code>streaming</code></a> と等しくない場合、
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task">要素タスクをキュー</a>し、
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/media.html#media-element">メディア要素</a>上で
                                以下の手順を実行する：
                            </dt>
                            <dd>
                                <ol>
                                    <li><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>
                                        の <a data-link-type="idl" href="#dom-managedmediasource-streaming"
                                            class="internalDFN"
                                            id="ref-for-dom-managedmediasource-streaming-7"><code>streaming</code></a>
                                        属性を <var>can play
                                            uninterrupted and efficiently</var> に設定する。
                                    </li>
                                    <li><var>can play uninterrupted and efficiently</var> が false なら
                                        <a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                        <a data-link-type="idl" data-lt="startstreaming" href="#dfn-startstreaming"
                                            class="internalDFN"
                                            id="ref-for-dfn-startstreaming-1"><code>startstreaming</code></a> イベントを
                                        <a data-link-type="idl" data-lt="ManagedMediaSource"
                                            href="#dom-managedmediasource" class="internalDFN"
                                            id="ref-for-dom-managedmediasource-8"><code>ManagedMediaSource</code></a>
                                        で発火する。
                                    </li>
                                    <li>それ以外の場合は <a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                                        <a data-link-type="idl" data-lt="endstreaming" href="#dfn-endstreaming"
                                            class="internalDFN"
                                            id="ref-for-dfn-endstreaming-1"><code>endstreaming</code></a> イベントを
                                        <a data-link-type="idl" data-lt="ManagedMediaSource"
                                            href="#dom-managedmediasource" class="internalDFN"
                                            id="ref-for-dom-managedmediasource-9"><code>ManagedMediaSource</code></a>
                                        で発火する。
                                    </li>
                                </ol>
                            </dd>
                        </dl>
                    </li>
                </ol>
            </section>
            <section id="memory-cleanup">
                <div class="header-wrapper">
                    <h4 id="x7-3-2-memory-cleanup"><bdi class="secno">7.3.2 </bdi>
                        <dfn data-dfn-for="ManagedMediaSource" id="dfn-memory-cleanup" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">メモリクリーンアップ</dfn>
                    </h4><a class="self-link" href="#memory-cleanup" aria-label="Permalink for Section 7.3.2"></a>
                </div>
                <ol>
                    <li>
                        <dl class="switch">
                            <dt>
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> の <a
                                    data-link-type="idl" href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-sourcebuffers-33"><code>sourceBuffers</code></a> 内の
                                各 <var data-type="ManagedSourceBuffer">buffer</var> について：
                            </dt>
                            <dd>
                                <ol>
                                    <li><var data-type="ManagedSourceBuffer">buffer</var> の <a
                                            data-link-type="dfn|abstract-op" href="#dfn-memory-cleanup-0"
                                            class="internalDFN" id="ref-for-dfn-memory-cleanup-0-1">memory cleanup</a>
                                        アルゴリズムを実行する。
                                    </li>
                                </ol>
                            </dd>
                        </dl>
                    </li>
                </ol>
            </section>
        </section>
    </section>
    <section data-dfn-for="BufferedChangeEvent" id="bufferedchangeevent-interface">
        <div class="header-wrapper">
            <h2 id="x8-bufferedchangeevent-interface"><bdi class="secno">8. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-bufferedchangeevent" data-idl="interface"
                    data-title="BufferedChangeEvent" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>BufferedChangeEvent</code></dfn> インターフェース
            </h2><a class="self-link" href="#bufferedchangeevent-interface" aria-label="Permalink for Section 8."></a>
        </div>

        <pre class="idl def" id="webidl-2057880103"><span class="idlHeader"><a class="self-link" href="#webidl-2057880103">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-bufferedchangeevent" data-title="BufferedChangeEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-bufferedchangeevent" id="ref-for-dom-bufferedchangeevent-2"><code>BufferedChangeEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-bufferedchangeevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="BufferedChangeEvent">
  <dfn data-export="" data-dfn-type="constructor" id="dom-bufferedchangeevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="BufferedChangeEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="BufferedChangeEvent.constructor|BufferedChangeEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-bufferedchangeeventinit" class="internalDFN" id="ref-for-dom-bufferedchangeeventinit-1"><code>BufferedChangeEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-bufferedchangeevent-addedranges" data-title="addedRanges" data-dfn-for="BufferedChangeEvent">

  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#timeranges">TimeRanges</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-bufferedchangeevent-addedranges" id="ref-for-dom-bufferedchangeevent-addedranges-1"><code>addedRanges</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-bufferedchangeevent-removedranges" data-title="removedRanges" data-dfn-for="BufferedChangeEvent">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#timeranges">TimeRanges</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-bufferedchangeevent-removedranges" id="ref-for-dom-bufferedchangeevent-removedranges-1"><code>removedRanges</code></a>;</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-bufferedchangeeventinit" data-title="BufferedChangeEventInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-bufferedchangeeventinit" data-idl="dictionary" data-title="BufferedChangeEventInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>BufferedChangeEventInit</code></dfn> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-bufferedchangeeventinit-addedranges" data-title="addedRanges" data-dfn-for="BufferedChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#timeranges">TimeRanges</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-bufferedchangeeventinit-addedranges" data-idl="field" data-title="addedRanges" data-dfn-for="BufferedChangeEventInit" data-type="TimeRanges" class="idlName" tabindex="0" aria-haspopup="dialog"><code>addedRanges</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-bufferedchangeeventinit-removedranges" data-title="removedRanges" data-dfn-for="BufferedChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#timeranges">TimeRanges</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-bufferedchangeeventinit-removedranges" data-idl="field" data-title="removedRanges" data-dfn-for="BufferedChangeEventInit" data-type="TimeRanges" class="idlName" tabindex="0" aria-haspopup="dialog"><code>removedRanges</code></dfn>;</span>
};</span></code></pre>
        <section id="attributes-2">
            <div class="header-wrapper">
                <h3 id="x8-1-attributes"><bdi class="secno">8.1 </bdi>
                    属性
                </h3><a class="self-link" href="#attributes-2" aria-label="Permalink for Section 8.1"></a>
            </div>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-bufferedchangeevent-addedranges"
                        data-idl="attribute" data-title="addedRanges" data-dfn-for="BufferedChangeEvent"
                        data-type="TimeRanges" data-lt="addedRanges" data-local-lt="BufferedChangeEvent.addedRanges"
                        tabindex="0" aria-haspopup="dialog"><code>addedRanges</code></dfn>
                </dt>
                <dd>
                    直近の <a data-link-type="idl" data-lt="updatestart" href="#dfn-updatestart" class="internalDFN"
                        id="ref-for-dfn-updatestart-4"><code>updatestart</code></a> と <a data-link-type="idl"
                        data-lt="updateend" href="#dfn-updateend" class="internalDFN"
                        id="ref-for-dfn-updateend-7"><code>updateend</code></a> の各イベントの間に追加された時間範囲（これは直近に実行された
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-processing" class="internalDFN"
                        id="ref-for-dfn-coded-frame-processing-13">coded frame processing</a> アルゴリズムの実行中に発生しているはずです）。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-bufferedchangeevent-removedranges"
                        data-idl="attribute" data-title="removedRanges" data-dfn-for="BufferedChangeEvent"
                        data-type="TimeRanges" data-lt="removedRanges" data-local-lt="BufferedChangeEvent.removedRanges"
                        tabindex="0" aria-haspopup="dialog"><code>removedRanges</code></dfn>
                </dt>
                <dd>
                    直近の <code>updatestart</code> と <code>updateend</code> の各イベントの間に削除された時間範囲（これは直近に実行された
                    <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-removal" class="internalDFN"
                        id="ref-for-dfn-coded-frame-removal-5">coded
                        frame removal</a> または <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-eviction"
                        class="internalDFN" id="ref-for-dfn-coded-frame-eviction-2">coded frame eviction</a>
                    アルゴリズムの実行中、あるいは
                    ユーザーエージェントが <a data-link-type="dfn|abstract-op" href="#dfn-memory-cleanup-0" class="internalDFN"
                        id="ref-for-dfn-memory-cleanup-0-2">memory cleanup</a> に応じてコンテンツを追い出した結果として発生しているはずです）。
                </dd>
            </dl>
        </section>
    </section>
    <section id="managedsourcebuffer-interface">
        <div class="header-wrapper">
            <h2 id="x9-managedsourcebuffer-interface"><bdi class="secno">9. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-managedsourcebuffer" data-idl="interface"
                    data-title="ManagedSourceBuffer" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>ManagedSourceBuffer</code></dfn> インターフェース
            </h2><a class="self-link" href="#managedsourcebuffer-interface" aria-label="Permalink for Section 9."></a>
        </div>

        <pre class="idl def" id="webidl-1682162223"><span class="idlHeader"><a class="self-link" href="#webidl-1682162223">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-managedsourcebuffer" data-title="ManagedSourceBuffer">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-managedsourcebuffer" id="ref-for-dom-managedsourcebuffer-4"><code>ManagedSourceBuffer</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-sourcebuffer" class="internalDFN" id="ref-for-dom-sourcebuffer-113"><code>SourceBuffer</code></a></span> {<span data-idl="" class="idlAttribute" id="idl-def-managedsourcebuffer-onbufferedchange" data-title="onbufferedchange" data-dfn-for="ManagedSourceBuffer">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-managedsourcebuffer-onbufferedchange" id="ref-for-dom-managedsourcebuffer-onbufferedchange-1"><code>onbufferedchange</code></a>;</span>
};</span></code></pre>
        <section id="attributes-3">
            <div class="header-wrapper">
                <h3 id="x9-1-attributes"><bdi class="secno">9.1 </bdi>
                    属性
                </h3><a class="self-link" href="#attributes-3" aria-label="Permalink for Section 9.1"></a>
            </div>
            <dl class="attributes" data-dfn-for="ManagedSourceBuffer">
                <dt>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-managedsourcebuffer-onbufferedchange"
                        data-idl="attribute" data-title="onbufferedchange" data-dfn-for="ManagedSourceBuffer"
                        data-type="EventHandler" data-lt="onbufferedchange"
                        data-local-lt="ManagedSourceBuffer.onbufferedchange" tabindex="0"
                        aria-haspopup="dialog"><code>onbufferedchange</code></dfn>
                </dt>
                <dd>
                    <p>
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">イベントハンドラー
                            IDL 属性</a>であり、
                        その <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">イベントハンドラーのイベントタイプ</a>
                        は
                        <a data-link-type="idl" data-lt="bufferedchange" href="#dfn-bufferedchange" class="internalDFN"
                            id="ref-for-dfn-bufferedchange-2"><code>bufferedchange</code></a> です。
                    </p>
                </dd>
            </dl>
        </section>
        <section id="event-summary-0">
            <div class="header-wrapper">
                <h3 id="x9-2-event-summary"><bdi class="secno">9.2 </bdi>
                    イベント概要
                </h3><a class="self-link" href="#event-summary-0" aria-label="Permalink for Section 9.2"></a>
            </div>
            <table class="old-table">
                <thead>
                    <tr>
                        <th>
                            イベント名
                        </th>
                        <th>
                            インターフェース
                        </th>
                        <th>
                            発火タイミング
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn class="event" data-dfn-type="event" id="dfn-bufferedchange" tabindex="0"
                                aria-haspopup="dialog" data-export="">bufferedchange</dfn>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="BufferedChangeEvent" href="#dom-bufferedchangeevent"
                                class="internalDFN"
                                id="ref-for-dom-bufferedchangeevent-3"><code>BufferedChangeEvent</code></a>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="ManagedSourceBuffer" href="#dom-managedsourcebuffer"
                                class="internalDFN"
                                id="ref-for-dom-managedsourcebuffer-5"><code>ManagedSourceBuffer</code></a> の buffered
                            範囲が、
                            <a data-link-type="idl" data-lt="appendBuffer()" href="#dom-sourcebuffer-appendbuffer"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-appendbuffer-10"><code>appendBuffer</code></a><code>()</code>、
                            <a data-link-type="idl" data-lt="remove()" href="#dom-sourcebuffer-remove"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-remove-5"><code>remove</code></a><code>()</code>、
                            <a data-link-type="idl" data-lt="endOfStream()" href="#dom-mediasource-endofstream"
                                class="internalDFN"
                                id="ref-for-dom-mediasource-endofstream-5"><code>endOfStream</code></a><code>()</code>
                            の呼び出し後、
                            またはユーザーエージェントが <a data-link-type="dfn|abstract-op" href="#dfn-memory-cleanup-0"
                                class="internalDFN" id="ref-for-dfn-memory-cleanup-0-3">memory cleanup</a>
                            アルゴリズムを実行した結果として変更されたときに発火します。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="algorithms-0">
            <div class="header-wrapper">
                <h3 id="x9-3-algorithms"><bdi class="secno">9.3 </bdi>
                    アルゴリズム
                </h3><a class="self-link" href="#algorithms-0" aria-label="Permalink for Section 9.3"></a>
            </div>
            <section id="buffered-change">
                <div class="header-wrapper">
                    <h4 id="x9-3-1-buffered-change"><bdi class="secno">9.3.1 </bdi>
                        Buffered Change
                    </h4><a class="self-link" href="#buffered-change" aria-label="Permalink for Section 9.3.1"></a>
                </div>
                <p>
                    <a data-link-type="idl" data-lt="ManagedSourceBuffer" href="#dom-managedsourcebuffer"
                        class="internalDFN" id="ref-for-dom-managedsourcebuffer-6"><code>ManagedSourceBuffer</code></a>
                    <var data-type="ManagedSourceBuffer">buffer</var> に対して実行された、<var
                        data-type="ManagedSourceBuffer">buffer</var> の
                    <a data-link-type="idl" href="#dom-sourcebuffer-buffered" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-buffered-5"><code>buffered</code></a>
                    を変更する原因となるすべての操作が完了した時、以下の手順を実行します。
                    つまり、<a data-link-type="idl" data-lt="appendBuffer()" href="#dom-sourcebuffer-appendbuffer"
                        class="internalDFN"
                        id="ref-for-dom-sourcebuffer-appendbuffer-11"><code>appendBuffer</code></a><code>()</code>、
                    <a data-link-type="idl" data-lt="remove()" href="#dom-sourcebuffer-remove" class="internalDFN"
                        id="ref-for-dom-sourcebuffer-remove-6"><code>remove</code></a><code>()</code>、または
                    <a data-link-type="dfn|abstract-op" href="#dfn-memory-cleanup-0" class="internalDFN"
                        id="ref-for-dfn-memory-cleanup-0-4">memory cleanup</a> アルゴリズムが完了したタイミングです。
                </p>
                <ol>
                    <li><var data-type="normalized TimeRanges">previous buffered ranges</var> を、変更が発生する前の
                        <a data-link-type="idl" href="#dom-sourcebuffer-buffered" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-buffered-6"><code>buffered</code></a> 属性の値とする。
                    </li>
                    <li><var data-type="normalized TimeRanges">new buffered ranges</var> を、新しい <a data-link-type="idl"
                            href="#dom-sourcebuffer-buffered" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-buffered-7"><code>buffered</code></a>
                        <a data-link-type="interface" data-lt="TimeRanges"
                            href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                        とする。
                    </li>
                    <li><var data-type="normalized TimeRanges">added</var> を、
                        <var data-type="normalized TimeRanges">new buffered ranges</var> から
                        <var data-type="normalized TimeRanges">previous buffered ranges</var> を差し引いた結果とする。
                    </li>
                    <li><var data-type="normalized TimeRanges">removed</var> を、
                        <var data-type="normalized TimeRanges">previous buffered ranges</var> から
                        <var data-type="normalized TimeRanges">new buffered ranges</var> を差し引いた結果とする。
                    </li>
                    <li><var>eventInitDict</var> を新しい <a data-link-type="idl" data-lt="BufferedChangeEventInit"
                            href="#dom-bufferedchangeeventinit" class="internalDFN"
                            id="ref-for-dom-bufferedchangeeventinit-2"><code>BufferedChangeEventInit</code></a>
                        辞書として作成し、
                        その <a data-link-type="idl" href="#dom-bufferedchangeeventinit-addedranges" class="internalDFN"
                            id="ref-for-dom-bufferedchangeeventinit-addedranges-1"><code>addedRanges</code></a> に
                        <var data-type="normalized TimeRanges">added</var> を、
                        <a data-link-type="idl" href="#dom-bufferedchangeeventinit-removedranges" class="internalDFN"
                            id="ref-for-dom-bufferedchangeeventinit-removedranges-1"><code>removedRanges</code></a> に
                        <var data-type="normalized TimeRanges">removed</var> をそれぞれ設定する。
                    </li>
                    <li><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">タスクをキュー</a>して、
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">イベントを発火</a>し、
                        <a data-link-type="idl" data-lt="BufferedChangeEvent" href="#dom-bufferedchangeevent"
                            class="internalDFN"
                            id="ref-for-dom-bufferedchangeevent-4"><code>BufferedChangeEvent</code></a> インターフェースを用いて
                        <var data-type="ManagedSourceBuffer">buffer</var> に対して
                        <a data-link-type="idl" data-lt="bufferedchange" href="#dfn-bufferedchange" class="internalDFN"
                            id="ref-for-dfn-bufferedchange-3"><code>bufferedchange</code></a> という名前のイベントを、
                        <var>eventInitDict</var> で初期化して発火する。
                    </li>
                </ol>
            </section>
            <section id="memory-cleanup-0">
                <div class="header-wrapper">
                    <h4 id="x9-3-2-memory-cleanup"><bdi class="secno">9.3.2 </bdi>
                        <dfn data-dfn-for="ManagedSourceBuffer" id="dfn-memory-cleanup-0" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">メモリクリーンアップ</dfn>
                    </h4><a class="self-link" href="#memory-cleanup-0" aria-label="Permalink for Section 9.3.2"></a>
                </div>
                <ol>
                    <li>
                        <dl class="switch">
                            <dt>
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> が
                                親の <a data-link-type="idl" data-lt="ManagedMediaSource" href="#dom-managedmediasource"
                                    class="internalDFN"
                                    id="ref-for-dom-managedmediasource-10"><code>ManagedMediaSource</code></a> の
                                <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-activesourcebuffers-31"><code>activeSourceBuffers</code></a>
                                に
                                含まれていない場合：
                            </dt>
                            <dd>
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-removal"
                                            class="internalDFN" id="ref-for-dfn-coded-frame-removal-6">coded frame
                                            removal</a> アルゴリズムを、start を 0、end を正の無限大に設定して実行し、これらの手順を中止する。
                                    </li>
                                </ol>
                            </dd>
                        </dl>
                    </li>
                    <li><var data-type="normalized TimeRanges">removal ranges</var> を、プレゼンテーションから追い出すことで
                        <a data-link-type="attribute"
                            href="https://html.spec.whatwg.org/multipage/media.html#dom-media-currenttime"><code>currentTime</code></a>
                        から再取得可能となるまでの間、途切れない再生を確保できるプレゼンテーション時間範囲のリストとする。
                        <div class="note" role="note" id="issue-container-generatedID-84">
                            <div role="heading" class="note-title marker" id="h-note-84" aria-level="3">
                                <span>注</span>
                            </div>
                            <p class="">
                                実装は <var data-type="normalized TimeRanges">removal ranges</var> の選択に異なる戦略を用いることができるため、
                                ウェブアプリケーションは特定の挙動に依存すべきではありません。ウェブアプリケーションは
                                <a data-link-type="idl" data-lt="bufferedchange" href="#dfn-bufferedchange"
                                    class="internalDFN"
                                    id="ref-for-dfn-bufferedchange-4"><code>bufferedchange</code></a> イベントを監視して、
                                バッファ済みデータの一部が追い出されたかどうかを観測します。
                            </p>
                        </div>
                    </li>
                    <li><var data-type="normalized TimeRanges">removal ranges</var> の各範囲について、
                        <a data-link-type="dfn|abstract-op" href="#dfn-coded-frame-removal" class="internalDFN"
                            id="ref-for-dfn-coded-frame-removal-7">coded frame removal</a> アルゴリズムを、
                        <var data-type="double">start</var> および <var data-type="unrestricted double">end</var> を
                        それぞれ範囲の開始・終了タイムスタンプに設定して実行する。
                    </li>
                </ol>
            </section>
        </section>
    </section>
    <section id="htmlmediaelement-extensions">
        <div class="header-wrapper">
            <h2 id="x10-htmlmediaelement-extensions"><bdi class="secno">10. </bdi>
                HTMLMediaElement 拡張
            </h2><a class="self-link" href="#htmlmediaelement-extensions" aria-label="Permalink for Section 10."></a>
        </div>

        <p>
            本節では、要素に <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                id="ref-for-dom-mediasource-103"><code>MediaSource</code></a> がアタッチされている場合に、既存の
            <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
            の
            <a data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seekable"><code>seekable</code></a>
            および
            <a data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
            属性が <em class="rfc2119">MUST</em> 返すべき内容と、
            既存の <a data-link-type="interface" data-lt="HTMLMediaElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
            の
            <a data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
            属性が <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                id="ref-for-dom-mediasourcehandle-29"><code>MediaSourceHandle</code></a> オブジェクトに設定された際に
            行わなければならないこと（<em class="rfc2119">MUST</em>）を規定します。
        </p>
        <section id="htmlmediaelement-extensions-seekable">
            <div class="header-wrapper">
                <h3 id="x10-1-htmlmediaelement-s-seekable"><bdi class="secno">10.1 </bdi>
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    の
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seekable"><code>seekable</code></a>
                </h3><a class="self-link" href="#htmlmediaelement-extensions-seekable"
                    aria-label="Permalink for Section 10.1"></a>
            </div>

            <p>
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                の
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seekable"><code>seekable</code></a>
                属性は、以下の手順に基づいて作成された新しい静的な
                <a href="https://html.spec.whatwg.org/multipage/media.html#normalised-timeranges-object">正規化済み
                    TimeRanges オブジェクト</a> を返します。
            </p>
            <ol>
                <li><a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-104"><code>MediaSource</code></a> が
                    終了済みまたはクローズ中の <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    内で構築されている場合、空の <a data-link-type="interface" data-lt="TimeRanges"
                        href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                    オブジェクトを返して、これらの手順を中止する。
                    <div class="note" role="note" id="issue-container-generatedID-85">
                        <div role="heading" class="note-title marker" id="h-note-85" aria-level="4"><span>注</span>
                        </div>
                        <p class="">
                            このケースは、<a data-link-type="method" data-lt="terminate()"
                                href="https://html.spec.whatwg.org/multipage/workers.html#dom-worker-terminate"><code>terminate</code></a><code>()</code>
                            によって終了、またはユーザーエージェントが
                            <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/workers.html#terminate-a-worker">terminate
                                a worker</a> を実行した結果として
                            当該 MediaSource の DedicatedWorkerGlobalScope が破棄された場合など、DedicatedWorkerGlobalScope で構築された
                            MediaSource において、バッファ済みまたはシーク可能なメディアに関する過去の情報を保持しない実装を扱うことを意図しています。
                            これは例えば、最終的に <a data-link-type="method" data-lt="close()"
                                href="https://html.spec.whatwg.org/multipage/workers.html#dom-dedicatedworkerglobalscope-close"><code>close</code></a><code>()</code>
                            実行の結果として起こり得ます。
                        </p>
                    </div>
                    <div class="issue" id="issue-container-number-277">
                        <div role="heading" class="issue-title marker" id="h-issue-2" aria-level="4"><a
                                href="https://github.com/w3c/media-source/issues/277"><span class="issue-number">Issue
                                    277</span></a><span class="issue-label">: MSE-in-Workers: MediaSource
                                のワーカー終了時に、アタッチされた要素をエラーへ（最終的に）遷移させるべきか／メディア要素は何をすべきか？ <a class="respec-gh-label"
                                    href="https://github.com/w3c/media-source/issues/?q=is%3Aissue+is%3Aopen+label%3A%22mse-in-workers%22"
                                    style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);"
                                    aria-label="GitHub label: mse-in-workers">mse-in-workers</a></span></div>
                        <div class="">
                            <p>
                                ワーカー MediaSource に紐づくコンテキストが破棄された場合、（最終的に）メディア要素のエラー遷移があるべきでしょうか？
                                ワーカー MSE の実験的な Chromium 実装では、そのコンテキスト破壊の前後で要素の readyState、networkState、error は同一のままですが、
                                seekable と buffered の各属性は空の TimeRange を返します。
                            </p>
                        </div>
                    </div>
                </li>
                <li><var data-type="unrestricted double">recent duration</var> および
                    <var data-type="normalized TimeRanges">recent live seekable range</var> を、それぞれ
                    <a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                        id="ref-for-dom-mediasource-duration-12"><code>duration</code></a> と
                    <a data-link-type="attribute" data-lt="[[live seekable range]]" href="#dfn-live-seekable-range"
                        class="internalDFN"
                        id="ref-for-dfn-live-seekable-range-6"><code>[[live seekable range]]</code></a> の直近の値として、
                    次のように決定する：
                    <dl class="switch">
                        <dt>
                            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-105"><code>MediaSource</code></a> が
                            <a data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                            で構築されている場合
                        </dt>
                        <dd>
                            <var data-type="unrestricted double">recent duration</var> を
                            <a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                                id="ref-for-dom-mediasource-duration-13"><code>duration</code></a> とし、
                            <var>recent live seekable range</var> を
                            <a data-link-type="attribute" data-lt="[[live seekable range]]"
                                href="#dfn-live-seekable-range" class="internalDFN"
                                id="ref-for-dfn-live-seekable-range-7"><code>[[live seekable range]]</code></a> とする。
                        </dd>
                        <dt>
                            それ以外の場合：
                        </dt>
                        <dd>
                            <var data-type="unrestricted double">recent duration</var> と
                            <var data-type="normalized TimeRanges">recent live seekable range</var> を、それぞれ直近の
                            <a data-link-type="idl" href="#dom-mediasource-duration" class="internalDFN"
                                id="ref-for-dom-mediasource-duration-14"><code>duration</code></a> と
                            <a data-link-type="attribute" data-lt="[[live seekable range]]"
                                href="#dfn-live-seekable-range" class="internalDFN"
                                id="ref-for-dfn-live-seekable-range-8"><code>[[live seekable range]]</code></a> の値とし、
                            それらは <a data-link-type="idl" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-106"><code>MediaSource</code></a> が
                            <a data-link-type="attribute" data-lt="[[port to main]]" href="#dfn-port-to-main"
                                class="internalDFN" id="ref-for-dfn-port-to-main-10"><code>[[port to main]]</code></a> に
                            送信する暗黙メッセージを各変更時に処理することで更新される。
                        </dd>
                    </dl>
                </li>
                <li>
                    <dl class="switch">
                        <dt>
                            <var data-type="unrestricted double">recent duration</var> が NaN に等しい場合：
                        </dt>
                        <dd>
                            空の <a data-link-type="interface" data-lt="TimeRanges"
                                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                            オブジェクトを返す。
                        </dd>
                        <dt>
                            <var data-type="unrestricted double">recent duration</var> が正の無限大に等しい場合：
                        </dt>
                        <dd>
                            <ol>
                                <li><var data-type="normalized
          TimeRanges">recent live seekable range</var> が空でない場合：
                                    <ol>
                                        <li><var data-type="normalized TimeRanges">union ranges</var> を、
                                            <var>recent live seekable range</var> と
                                            <a data-link-type="interface" data-lt="HTMLMediaElement"
                                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                            の
                                            <a data-link-type="attribute"
                                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                                            属性の合併とする。
                                        </li>
                                        <li><var data-type="normalized TimeRanges">union ranges</var> 内の最も早い開始時刻を開始時刻、
                                            <var>union ranges</var> 内の最大の終了時刻を終了時刻とする単一の範囲を返し、これらの手順を中止する。
                                        </li>
                                    </ol>
                                </li>
                                <li><a data-link-type="interface" data-lt="HTMLMediaElement"
                                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                    の
                                    <a data-link-type="attribute"
                                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                                    属性が空の <a data-link-type="interface" data-lt="TimeRanges"
                                        href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                                    オブジェクトを返すなら、空の <a data-link-type="interface" data-lt="TimeRanges"
                                        href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                                    オブジェクトを返してこれらの手順を中止する。
                                </li>
                                <li>開始時刻 0、終了時刻を
                                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                                    の
                                    <a data-link-type="attribute"
                                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                                    属性が報告する最大の終了時刻とする単一の範囲を返す。
                                </li>
                            </ol>
                        </dd>
                        <dt>
                            それ以外の場合：
                        </dt>
                        <dd>
                            開始時刻 0、終了時刻を <var>recent duration</var> とする単一の範囲を返す。
                        </dd>
                    </dl>
                </li>
            </ol>
        </section>
        <section id="htmlmediaelement-extensions-buffered">
            <div class="header-wrapper">
                <h3 id="x10-2-htmlmediaelement-s-buffered"><bdi class="secno">10.2 </bdi>
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    の
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                </h3><a class="self-link" href="#htmlmediaelement-extensions-buffered"
                    aria-label="Permalink for Section 10.2"></a>
            </div>

            <p id="dom-htmlmediaelement.buffered">
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                の
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
                属性は、以下の手順に基づく静的な
                <a href="https://html.spec.whatwg.org/multipage/media.html#normalised-timeranges-object">正規化済み
                    TimeRanges オブジェクト</a> を返します。
            </p>
            <ol>
                <li><a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                        id="ref-for-dom-mediasource-107"><code>MediaSource</code></a> が
                    終了済みまたはクローズ中の <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                        href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                    内で構築されている場合、空の <a data-link-type="interface" data-lt="TimeRanges"
                        href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                    オブジェクトを返して、これらの手順を中止する。
                    <div class="note" role="note" id="issue-container-generatedID-86">
                        <div role="heading" class="note-title marker" id="h-note-86" aria-level="4"><span>注</span>
                        </div>
                        <p class="">
                            このケースは、<a data-link-type="method" data-lt="terminate()"
                                href="https://html.spec.whatwg.org/multipage/workers.html#dom-worker-terminate"><code>terminate</code></a><code>()</code>
                            によって終了、またはユーザーエージェントが
                            <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/workers.html#terminate-a-worker">terminate
                                a worker</a> を実行した結果として
                            当該 MediaSource の DedicatedWorkerGlobalScope が破棄された場合など、DedicatedWorkerGlobalScope で構築された
                            MediaSource において、バッファ済みまたはシーク可能なメディアに関する過去の情報を保持しない実装を扱うことを意図しています。
                            これは例えば、最終的に <a data-link-type="method" data-lt="close()"
                                href="https://html.spec.whatwg.org/multipage/workers.html#dom-dedicatedworkerglobalscope-close"><code>close</code></a><code>()</code>
                            実行の結果として起こり得ます。
                        </p>
                    </div>
                    <div class="issue" id="issue-container-number-277-0">
                        <div role="heading" class="issue-title marker" id="h-issue-3" aria-level="4"><a
                                href="https://github.com/w3c/media-source/issues/277"><span class="issue-number">Issue
                                    277</span></a><span class="issue-label">: MSE-in-Workers: MediaSource
                                のワーカー終了時に、アタッチされた要素をエラーへ（最終的に）遷移させるべきか／メディア要素は何をすべきか？ <a class="respec-gh-label"
                                    href="https://github.com/w3c/media-source/issues/?q=is%3Aissue+is%3Aopen+label%3A%22mse-in-workers%22"
                                    style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);"
                                    aria-label="GitHub label: mse-in-workers">mse-in-workers</a></span></div>
                        <div class="">
                            <p>
                                ワーカー MediaSource に紐づくコンテキストが破棄された場合、（最終的に）メディア要素のエラー遷移があるべきでしょうか？
                                ワーカー MSE の実験的な Chromium 実装では、そのコンテキスト破壊の前後で要素の readyState、networkState、error は同一のままですが、
                                seekable と buffered の各属性は空の TimeRange を返します。
                            </p>
                        </div>
                    </div>
                </li>
                <li><var data-type="normalized TimeRanges">recent intersection ranges</var> を次のように決定する：
                    <dl class="switch">
                        <dt>
                            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-108"><code>MediaSource</code></a> が
                            <a data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                            で構築されている場合
                        </dt>
                        <dd>
                            <ol>
                                <li><var data-type="normalized TimeRanges">recent intersection ranges</var> を
                                    空の <a data-link-type="interface" data-lt="TimeRanges"
                                        href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                                    オブジェクトとする。
                                </li>
                                <li><a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                        class="internalDFN"
                                        id="ref-for-dom-mediasource-activesourcebuffers-32"><code>activeSourceBuffers</code></a>.length
                                    が 0 に等しくない場合、次を実行する：
                                    <ol>
                                        <li><var data-type="sequence of normalized TimeRanges">active ranges</var> を、
                                            <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                                class="internalDFN"
                                                id="ref-for-dom-mediasource-activesourcebuffers-33"><code>activeSourceBuffers</code></a>
                                            内の
                                            各 <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                                class="internalDFN"
                                                id="ref-for-dom-sourcebuffer-114"><code>SourceBuffer</code></a> オブジェクトの
                                            <a data-link-type="idl" href="#dom-sourcebuffer-buffered"
                                                class="internalDFN"
                                                id="ref-for-dom-sourcebuffer-buffered-8"><code>buffered</code></a>
                                            が返す範囲とする。
                                        </li>
                                        <li><var data-type="unrestricted double">highest end time</var> を、
                                            <var data-type="sequence of normalized TimeRanges">active ranges</var> 内の
                                            最大の終了時刻とする。
                                        </li>
                                        <li><var data-type="normalized TimeRanges">recent intersection ranges</var> を、
                                            0 から <var data-type="unrestricted double">highest end time</var> までの
                                            単一範囲を含む
                                            <a data-link-type="interface" data-lt="TimeRanges"
                                                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                                            オブジェクトとする。
                                        </li>
                                        <li><a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                                class="internalDFN"
                                                id="ref-for-dom-sourcebuffer-115"><code>SourceBuffer</code></a>
                                            の各オブジェクトについて、
                                            <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers"
                                                class="internalDFN"
                                                id="ref-for-dom-mediasource-activesourcebuffers-34"><code>activeSourceBuffers</code></a>
                                            内を
                                            反復し、次を実行する：
                                            <ol>
                                                <li><var data-type="normalized TimeRanges">source ranges</var> を、
                                                    現在の <a data-link-type="idl" href="#dom-sourcebuffer-buffered"
                                                        class="internalDFN"
                                                        id="ref-for-dom-sourcebuffer-buffered-9"><code>buffered</code></a>
                                                    属性が返す範囲とする。
                                                </li>
                                                <li><a data-link-type="idl" href="#dom-mediasource-readystate"
                                                        class="internalDFN"
                                                        id="ref-for-dom-mediasource-readystate-35"><code>readyState</code></a>
                                                    が "<a data-link-type="idl" href="#dom-readystate-ended"
                                                        class="internalDFN"
                                                        id="ref-for-dom-readystate-ended-14"><code>ended</code></a>"
                                                    の場合、
                                                    <var data-type="normalized TimeRanges">source ranges</var>
                                                    の最後の範囲の終了時刻を
                                                    <var data-type="unrestricted double">highest end time</var> に設定する。
                                                </li>
                                                <li><var data-type="normalized TimeRanges">new intersection ranges</var>
                                                    を、
                                                    <var data-type="normalized TimeRanges">recent intersection
                                                        ranges</var> と
                                                    <var>source ranges</var> の交差として求める。
                                                </li>
                                                <li><var data-type="normalized TimeRanges">recent intersection
                                                        ranges</var> の
                                                    範囲を <var>new intersection ranges</var> に置き換える。
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </dd>
                        <dt>
                            それ以外の場合：
                        </dt>
                        <dd>
                            <var data-type="normalized TimeRanges">recent intersection ranges</var> を、
                            <a data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                            のケースでの手順の結果として得られる
                            <a data-link-type="interface" data-lt="TimeRanges"
                                href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
                            とするが、
                            <a data-link-type="idl" data-lt="MediaSource" href="#dom-mediasource" class="internalDFN"
                                id="ref-for-dom-mediasource-109"><code>MediaSource</code></a> とその
                            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-117"><code>SourceBuffer</code></a> オブジェクトを
                            それぞれの <a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                            内で実行し、
                            <a data-link-type="attribute" data-lt="[[port to main]]" href="#dfn-port-to-main"
                                class="internalDFN" id="ref-for-dfn-port-to-main-11"><code>[[port to main]]</code></a>
                            を用いた暗黙メッセージにより、
                            <a data-link-type="idl" href="#dom-mediasource-activesourcebuffers" class="internalDFN"
                                id="ref-for-dom-mediasource-activesourcebuffers-35"><code>activeSourceBuffers</code></a>、
                            <a data-link-type="idl" href="#dom-mediasource-readystate" class="internalDFN"
                                id="ref-for-dom-mediasource-readystate-36"><code>readyState</code></a>、
                            および各 <a data-link-type="idl" href="#dom-sourcebuffer-buffered" class="internalDFN"
                                id="ref-for-dom-sourcebuffer-buffered-10"><code>buffered</code></a> 属性の値を変えうる
                            あらゆるバッファリング状態の更新ごとに通信する。
                            <div class="note" role="note" id="issue-container-generatedID-87">
                                <div role="heading" class="note-title marker" id="h-note-87" aria-level="4">
                                    <span>注</span>
                                </div>
                                <p class="">
                                    <var data-type="normalized TimeRanges">recent intersection ranges</var>
                                    の再計算と通信を頻繁に行うオーバーヘッドは、
                                    <a data-link-type="dfn|abstract-op" href="#dfn-cross-context-communication-model"
                                        class="internalDFN"
                                        id="ref-for-dfn-cross-context-communication-model-2">クロスコンテキスト通信モデル</a>
                                    で言及されている共有メモリとロックなど、
                                    他のメカニズムを用いてオンデマンドでこの情報を問い合わせられる実装の柔軟性を許容する理由の一つです。
                                </p>
                            </div>
                        </dd>
                    </dl>
                </li>
                <li>この属性の現在値が本アルゴリズムによって設定されていない、または
                    <var>recent intersection ranges</var> が現在値と全く同じ範囲情報を含まない場合、
                    この属性の現在値を <var>recent intersection ranges</var> に更新する。
                </li>
                <li>この属性の現在値を返す。
                </li>
            </ol>
        </section>
        <section id="htmlmediaelement-extensions-srcobject">
            <div class="header-wrapper">
                <h3 id="x10-3-htmlmediaelement-s-srcobject"><bdi class="secno">10.3 </bdi>
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    の
                    <a data-link-type="attribute"
                        href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
                </h3><a class="self-link" href="#htmlmediaelement-extensions-srcobject"
                    aria-label="Permalink for Section 10.3"></a>
            </div>

            <p>
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                の
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
                属性に
                <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                    id="ref-for-dom-mediasourcehandle-30"><code>MediaSourceHandle</code></a> が代入された場合、
                要素の load アルゴリズムを呼び出す前に行われる拡張された
                <a data-link-type="interface" data-lt="HTMLMediaElement"
                    href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                の
                <a data-link-type="attribute"
                    href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
                セッターの同期ステップの一部として、
                当該 <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle" class="internalDFN"
                    id="ref-for-dom-mediasourcehandle-31"><code>MediaSourceHandle</code></a> の
                <a data-link-type="attribute" data-lt="[[has ever been assigned as srcobject]]"
                    href="#dfn-has-ever-been-assigned-as-srcobject" class="internalDFN"
                    id="ref-for-dfn-has-ever-been-assigned-as-srcobject-2"><code>[[has ever been assigned as srcobject]]</code></a>
                を
                true に設定する。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-88">
                <div role="heading" class="note-title marker" id="h-note-88" aria-level="4"><span>注</span></div>
                <p class="">
                    これにより、その <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-32"><code>MediaSourceHandle</code></a>
                    オブジェクトを再度転送することが
                    将来にわたって防止され、試行された場合に明確な同期例外を可能にします。
                </p>
            </div>
            <div class="issue" id="issue-container-generatedID-89">
                <div role="heading" class="issue-title marker" id="h-issue-4" aria-level="4"><span>Issue</span></div>
                <p class="">
                    <a data-link-type="idl" data-lt="MediaSourceHandle" href="#dom-mediasourcehandle"
                        class="internalDFN" id="ref-for-dom-mediasourcehandle-33"><code>MediaSourceHandle</code></a> は、
                    <a data-link-type="interface" data-lt="HTMLMediaElement"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    の
                    MediaProvider IDL typedef およびメディアプロバイダーオブジェクトに関する関連テキストに追加される必要があります。
                </p>
            </div>
        </section>
    </section>
    <section id="audio-track-extensions">
        <div class="header-wrapper">
            <h2 id="x11-audiotrack-extensions"><bdi class="secno">11. </bdi>
                <code>AudioTrack</code> 拡張
            </h2><a class="self-link" href="#audio-track-extensions" aria-label="Permalink for Section 11."></a>
        </div>

        <p>
            本節では、[<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                    title="HTML Standard">HTML</a></cite>] の <a data-link-type="interface" data-lt="AudioTrack"
                href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
            定義に対する拡張を規定する。
        </p>
        <div>
            <pre class="idl def" id="webidl-935490083"><span class="idlHeader"><a class="self-link" href="#webidl-935490083">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-audiotrack-partial-1" data-title="AudioTrack">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="AudioTrack" class="idlID" data-dfn-for="AudioTrack" href="https://html.spec.whatwg.org/multipage/media.html#audiotrack">AudioTrack</a> {<span data-idl="" class="idlAttribute" id="idl-def-audiotrack-sourcebuffer" data-title="sourceBuffer" data-dfn-for="AudioTrack">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-sourcebuffer" class="internalDFN" id="ref-for-dom-sourcebuffer-118"><code>SourceBuffer</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-audiotrack-sourcebuffer" id="ref-for-dom-audiotrack-sourcebuffer-2"><code>sourceBuffer</code></a>;</span>
};</span></code></pre>
            <div class="issue" id="issue-container-number-280-0">
                <div role="heading" class="issue-title marker" id="h-issue-5" aria-level="3"><a
                        href="https://github.com/w3c/media-source/issues/280"><span class="issue-number">Issue
                            280</span></a><span class="issue-label">: MSE-in-Workers: {Audio,Video,Text}Track{,List} IDL
                        in HTML において Exposed に DedicatedWorker を追加で必要とする <a class="respec-gh-label"
                            href="https://github.com/w3c/media-source/issues/?q=is%3Aissue+is%3Aopen+label%3A%22mse-in-workers%22"
                            style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);"
                            aria-label="GitHub label: mse-in-workers">mse-in-workers</a></span></div>
                <div class="">
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                            title="HTML Standard">HTML</a></cite>] の <a data-link-type="interface" data-lt="AudioTrack"
                        href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
                    は
                    Window + DedicatedWorker への公開が必要である。
                </div>
            </div>
            <section>
                <div class="header-wrapper">
                    <h3 id="attributes-4">
                        属性
                    </h3><a class="self-link" href="#attributes-4" aria-label="Permalink for this Section"></a>
                </div>
                <dl class="attributes" data-dfn-for="AudioTrack">
                    <dt>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-audiotrack-sourcebuffer"
                            data-idl="attribute" data-title="sourceBuffer" data-dfn-for="AudioTrack"
                            data-type="SourceBuffer" data-lt="sourceBuffer" data-local-lt="AudioTrack.sourceBuffer"
                            tabindex="0" aria-haspopup="dialog"><code>sourceBuffer</code></dfn> 型 <span
                            class="idlAttrType"><a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-119"><code>SourceBuffer</code></a></span>、
                        読み取り専用 , nullable
                    </dt>
                    <dd>
                        <p>
                            取得時、次の手順を実行する：
                        </p>
                        <dl class="switch">
                            <dt>
                                当該トラックが、このトラックと同じ
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm">realm</a>
                                で作成された <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-120"><code>SourceBuffer</code></a>
                                によって生成され、かつその <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-121"><code>SourceBuffer</code></a>
                                が、その <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-33">親メディアソース</a> の <a data-link-type="idl"
                                    href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-sourcebuffers-34"><code>sourceBuffers</code></a>
                                属性から削除されていない場合：
                            </dt>
                            <dd>
                                当該トラックを作成した <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-122"><code>SourceBuffer</code></a>
                                を返す。
                            </dd>
                            <dt>
                                それ以外の場合：
                            </dt>
                            <dd>
                                null を返す。
                            </dd>
                        </dl>
                        <div class="note" role="note" id="issue-container-generatedID-90">
                            <div role="heading" class="note-title marker" id="h-note-89" aria-level="4">
                                <span>注</span>
                            </div>
                            <div class="">
                                例えば、<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                の
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-123"><code>SourceBuffer</code></a>
                                が、
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                にある内部の
                                <code>create track mirror</code> ハンドラにこのトラックの作成を通知した場合、
                                その <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                側のコピーは
                                この属性に対して null を返す。
                            </div>
                        </div>
                    </dd>
                </dl>
            </section>
        </div>
    </section>
    <section id="video-track-extensions">
        <div class="header-wrapper">
            <h2 id="x12-videotrack-extensions"><bdi class="secno">12. </bdi>
                <code>VideoTrack</code> 拡張
            </h2><a class="self-link" href="#video-track-extensions" aria-label="Permalink for Section 12."></a>
        </div>

        <p>
            本節では、[<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                    title="HTML Standard">HTML</a></cite>] の <a data-link-type="interface" data-lt="VideoTrack"
                href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
            定義に対する拡張を規定する。
        </p>
        <div>
            <pre class="idl def" id="webidl-251527976"><span class="idlHeader"><a class="self-link" href="#webidl-251527976">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-videotrack-partial-1" data-title="VideoTrack">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="VideoTrack" class="idlID" data-dfn-for="VideoTrack" href="https://html.spec.whatwg.org/multipage/media.html#videotrack">VideoTrack</a> {<span data-idl="" class="idlAttribute" id="idl-def-videotrack-sourcebuffer" data-title="sourceBuffer" data-dfn-for="VideoTrack">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-sourcebuffer" class="internalDFN" id="ref-for-dom-sourcebuffer-124"><code>SourceBuffer</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-videotrack-sourcebuffer" id="ref-for-dom-videotrack-sourcebuffer-2"><code>sourceBuffer</code></a>;</span>
};</span></code></pre>
            <div class="issue" id="issue-container-number-280-1">
                <div role="heading" class="issue-title marker" id="h-issue-6" aria-level="3"><a
                        href="https://github.com/w3c/media-source/issues/280"><span class="issue-number">Issue
                            280</span></a><span class="issue-label">: MSE-in-Workers: {Audio,Video,Text}Track{,List} IDL
                        in HTML において Exposed に DedicatedWorker を追加で必要とする <a class="respec-gh-label"
                            href="https://github.com/w3c/media-source/issues/?q=is%3Aissue+is%3Aopen+label%3A%22mse-in-workers%22"
                            style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);"
                            aria-label="GitHub label: mse-in-workers">mse-in-workers</a></span></div>
                <div class="">
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                            title="HTML Standard">HTML</a></cite>] の <a data-link-type="interface" data-lt="VideoTrack"
                        href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
                    は
                    Window + DedicatedWorker への公開が必要である。
                </div>
            </div>
            <section>
                <div class="header-wrapper">
                    <h3 id="attributes-5">
                        属性
                    </h3><a class="self-link" href="#attributes-5" aria-label="Permalink for this Section"></a>
                </div>
                <dl class="attributes" data-dfn-for="VideoTrack">
                    <dt>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-videotrack-sourcebuffer"
                            data-idl="attribute" data-title="sourceBuffer" data-dfn-for="VideoTrack"
                            data-type="SourceBuffer" data-lt="sourceBuffer" data-local-lt="VideoTrack.sourceBuffer"
                            tabindex="0" aria-haspopup="dialog"><code>sourceBuffer</code></dfn> 型 <span
                            class="idlAttrType"><a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-125"><code>SourceBuffer</code></a></span>、
                        読み取り専用 , nullable
                    </dt>
                    <dd>
                        <p>
                            取得時、次の手順を実行する：
                        </p>
                        <dl class="switch">
                            <dt>
                                当該トラックが、このトラックと同じ
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm">realm</a>
                                で作成された <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-126"><code>SourceBuffer</code></a>
                                によって生成され、かつその <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-127"><code>SourceBuffer</code></a>
                                が、その <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-34">親メディアソース</a> の <a data-link-type="idl"
                                    href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-sourcebuffers-35"><code>sourceBuffers</code></a>
                                属性から削除されていない場合：
                            </dt>
                            <dd>
                                当該トラックを作成した <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-128"><code>SourceBuffer</code></a>
                                を返す。
                            </dd>
                            <dt>
                                それ以外の場合：
                            </dt>
                            <dd>
                                null を返す。
                            </dd>
                        </dl>
                        <div class="note" role="note" id="issue-container-generatedID-91">
                            <div role="heading" class="note-title marker" id="h-note-90" aria-level="4">
                                <span>注</span>
                            </div>
                            <div class="">
                                例えば、<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                の
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-129"><code>SourceBuffer</code></a>
                                が、
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                にある内部の
                                <code>create track mirror</code> ハンドラにこのトラックの作成を通知した場合、
                                その <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                側のコピーは
                                この属性に対して null を返す。
                            </div>
                        </div>
                    </dd>
                </dl>
            </section>
        </div>
    </section>
    <section id="text-track-extensions">
        <div class="header-wrapper">
            <h2 id="x13-texttrack-extensions"><bdi class="secno">13. </bdi>
                <code>TextTrack</code> 拡張
            </h2><a class="self-link" href="#text-track-extensions" aria-label="Permalink for Section 13."></a>
        </div>

        <p>
            本節では、[<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                    title="HTML Standard">HTML</a></cite>] の <a data-link-type="interface" data-lt="TextTrack"
                href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a>
            定義に対する拡張を規定する。
        </p>
        <div>
            <pre class="idl def" id="webidl-959897060"><span class="idlHeader"><a class="self-link" href="#webidl-959897060">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-texttrack-partial-1" data-title="TextTrack">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,DedicatedWorker)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="TextTrack" class="idlID" data-dfn-for="TextTrack" href="https://html.spec.whatwg.org/multipage/media.html#texttrack">TextTrack</a> {<span data-idl="" class="idlAttribute" id="idl-def-texttrack-sourcebuffer" data-title="sourceBuffer" data-dfn-for="TextTrack">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-sourcebuffer" class="internalDFN" id="ref-for-dom-sourcebuffer-130"><code>SourceBuffer</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-texttrack-sourcebuffer" id="ref-for-dom-texttrack-sourcebuffer-2"><code>sourceBuffer</code></a>;</span>
};</span></code></pre>
            <div class="issue" id="issue-container-number-280-2">
                <div role="heading" class="issue-title marker" id="h-issue-7" aria-level="3"><a
                        href="https://github.com/w3c/media-source/issues/280"><span class="issue-number">Issue
                            280</span></a><span class="issue-label">: MSE-in-Workers: {Audio,Video,Text}Track{,List} IDL
                        in HTML において Exposed に DedicatedWorker を追加で必要とする <a class="respec-gh-label"
                            href="https://github.com/w3c/media-source/issues/?q=is%3Aissue+is%3Aopen+label%3A%22mse-in-workers%22"
                            style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);"
                            aria-label="GitHub label: mse-in-workers">mse-in-workers</a></span></div>
                <div class="">
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                            title="HTML Standard">HTML</a></cite>] の <a data-link-type="interface" data-lt="TextTrack"
                        href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a> は
                    Window + DedicatedWorker への公開が必要である。
                </div>
            </div>
            <section>
                <div class="header-wrapper">
                    <h3 id="attributes-6">
                        属性
                    </h3><a class="self-link" href="#attributes-6" aria-label="Permalink for this Section"></a>
                </div>
                <dl class="attributes" data-dfn-for="TextTrack">
                    <dt>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-texttrack-sourcebuffer"
                            data-idl="attribute" data-title="sourceBuffer" data-dfn-for="TextTrack"
                            data-type="SourceBuffer" data-lt="sourceBuffer" data-local-lt="TextTrack.sourceBuffer"
                            tabindex="0" aria-haspopup="dialog"><code>sourceBuffer</code></dfn> 型 <span
                            class="idlAttrType"><a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                class="internalDFN"
                                id="ref-for-dom-sourcebuffer-131"><code>SourceBuffer</code></a></span>、
                        読み取り専用 , nullable
                    </dt>
                    <dd>
                        <p>
                            取得時、次の手順を実行する：
                        </p>
                        <dl class="switch">
                            <dt>
                                当該トラックが、このトラックと同じ
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm">realm</a>
                                で作成された <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-132"><code>SourceBuffer</code></a>
                                によって生成され、かつその <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-133"><code>SourceBuffer</code></a>
                                が、その <a data-link-type="dfn|abstract-op" href="#parent-media-source" class="internalDFN"
                                    id="ref-for-parent-media-source-35">親メディアソース</a> の <a data-link-type="idl"
                                    href="#dom-mediasource-sourcebuffers" class="internalDFN"
                                    id="ref-for-dom-mediasource-sourcebuffers-36"><code>sourceBuffers</code></a>
                                属性から削除されていない場合：
                            </dt>
                            <dd>
                                当該トラックを作成した <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-134"><code>SourceBuffer</code></a>
                                を返す。
                            </dd>
                            <dt>
                                それ以外の場合：
                            </dt>
                            <dd>
                                null を返す。
                            </dd>
                        </dl>
                        <div class="note" role="note" id="issue-container-generatedID-92">
                            <div role="heading" class="note-title marker" id="h-note-91" aria-level="4">
                                <span>注</span>
                            </div>
                            <div class="">
                                例えば、<a data-link-type="interface" data-lt="DedicatedWorkerGlobalScope"
                                    href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><code>DedicatedWorkerGlobalScope</code></a>
                                の
                                <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                                    class="internalDFN" id="ref-for-dom-sourcebuffer-135"><code>SourceBuffer</code></a>
                                が、
                                <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                にある内部の
                                <code>create track mirror</code> ハンドラにこのトラックの作成を通知した場合、
                                その <a data-link-type="interface" data-lt="Window"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                                側のコピーは
                                この属性に対して null を返す。
                            </div>
                        </div>
                    </dd>
                </dl>
            </section>
        </div>
    </section>
    <section id="byte-stream-formats">
        <div class="header-wrapper">
            <h2 id="x14-byte-stream-formats"><bdi class="secno">14. </bdi>
                <dfn data-export="" id="dfn-byte-stream-formats" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">Byte Stream Formats</dfn>
            </h2><a class="self-link" href="#byte-stream-formats" aria-label="Permalink for Section 14."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                id="ref-for-dom-sourcebuffer-136"><code>SourceBuffer</code></a> に対して <a data-link-type="idl"
                data-lt="appendBuffer()" href="#dom-sourcebuffer-appendbuffer" class="internalDFN"
                id="ref-for-dom-sourcebuffer-appendbuffer-12"><code>appendBuffer</code></a><code>()</code>
            を通じて提供されるバイト列は、
            論理的なバイトストリームを形成する。これらのバイトストリームの形式と意味は、<dfn id="byte-stream-format-specs"
                data-plurals="byte stream format specification" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">byte stream format specifications</dfn> で定義される。バイトストリーム形式
            レジストリ [<cite><a class="bibref" data-link-type="biblio" href="#bib-mse-registry"
                    title="Media Source Extensions™ Byte Stream Format Registry">MSE-REGISTRY</a></cite>] は、
            <a data-link-type="idl" data-lt="addSourceBuffer()" href="#dom-mediasource-addsourcebuffer"
                class="internalDFN"
                id="ref-for-dom-mediasource-addsourcebuffer-12"><code>addSourceBuffer</code></a><code>()</code>、
            <a data-link-type="idl" data-lt="isTypeSupported()" href="#dom-mediasource-istypesupported"
                class="internalDFN"
                id="ref-for-dom-mediasource-istypesupported-4"><code>isTypeSupported</code></a><code>()</code>、
            または <a data-link-type="idl" data-lt="changeType()" href="#dom-sourcebuffer-changetype" class="internalDFN"
                id="ref-for-dom-sourcebuffer-changetype-17"><code>changeType</code></a><code>()</code> に渡されうる MIME タイプと、
            その MIME タイプを用いて新たに追加されたデータを解析する <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer"
                class="internalDFN" id="ref-for-dom-sourcebuffer-137"><code>SourceBuffer</code></a> が期待するバイトストリーム形式との
            対応付けを提供する。相互運用性を促進するため、実装はサポートするバイトストリーム形式に対するマッピングを登録することが推奨される。
            バイトストリーム形式レジストリ [<cite><a class="bibref" data-link-type="biblio" href="#bib-mse-registry"
                    title="Media Source Extensions™ Byte Stream Format Registry">MSE-REGISTRY</a></cite>] は、
            これらのマッピングの正規の情報源である。実装がレジストリに掲載された MIME タイプのサポートを表明する場合、
            その <a data-link-type="idl" data-lt="SourceBuffer" href="#dom-sourcebuffer" class="internalDFN"
                id="ref-for-dom-sourcebuffer-138"><code>SourceBuffer</code></a> 実装は、
            レジストリエントリに記載された <a data-link-type="dfn|abstract-op" href="#byte-stream-format-specs" class="internalDFN"
                id="ref-for-byte-stream-format-specs-7">byte stream
                format specification</a> に <em class="rfc2119">MUST</em> 準拠しなければならない。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-93">
            <div role="heading" class="note-title marker" id="h-note-92" aria-level="3"><span>Note</span></div>
            <p class="">
                レジストリにおけるバイトストリーム形式仕様は、新しいストレージ形式を定義することを意図していない。これは単に、
                本仕様の実装が受理する既存ストレージ形式構造のサブセットを概説するものである。
            </p>
        </div>
        <div class="note" role="note" id="issue-container-generatedID-94">
            <div role="heading" class="note-title marker" id="h-note-93" aria-level="3"><span>Note</span></div>
            <p class="">
                バイトストリームの解析と検証は、<a data-link-type="dfn|abstract-op" href="#dfn-segment-parser-loop" class="internalDFN"
                    id="ref-for-dfn-segment-parser-loop-5">segment
                    parser loop</a>
                アルゴリズムで実装される。
            </p>
        </div>
        <p>
            本節は、すべてのバイトストリーム形式仕様に対する一般要件を示す：
        </p>
        <ul>
            <li>バイトストリーム形式仕様は、<a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                    id="ref-for-dfn-initialization-segment-33">initialization segments</a> と <a
                    data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                    id="ref-for-dfn-media-segment-15">media segments</a> を定義しなければならない（<em class="rfc2119">MUST</em>）。
            </li>
            <li>バイトストリーム形式は、<a data-link-type="interface" data-lt="AudioTrack"
                    href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>、
                <a data-link-type="interface" data-lt="VideoTrack"
                    href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>、および
                <a data-link-type="interface" data-lt="TextTrack"
                    href="https://html.spec.whatwg.org/multipage/media.html#texttrack"><code>TextTrack</code></a> の属性値を
                <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                    id="ref-for-dfn-initialization-segment-34">initialization segments</a> 内のデータから取得するための参照を提供することが
                望ましい（<em class="rfc2119">SHOULD</em>）。
                <div class="note" role="note" id="issue-container-generatedID-95">
                    <div role="heading" class="note-title marker" id="h-note-94" aria-level="3"><span>Note</span></div>
                    <p class="">
                        バイトストリーム形式が帯域内トラック仕様
                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-inbandtracks"
                                title="Sourcing In-band Media Resource Tracks from Media Containers into HTML">INBANDTRACKS</a></cite>]
                        で扱われる形式に類似している場合、Media Source Extensions を用いた再生と
                        用いない再生とで同じトラック情報を提供できるよう、同じ属性マッピングを使用することが
                        望ましい（<em class="rfc2119">SHOULD</em>）。
                    </p>
                </div>
            </li>
            <li>セグメント境界とセグメント種別（initialization か media か）は、バイトストリームのみを調べて識別可能でなければならない（<em class="rfc2119">MUST</em>）。
            </li>
            <li>次のいずれかの条件が満たされた場合、ユーザーエージェントは <a data-link-type="dfn|abstract-op" href="#dfn-append-error"
                    class="internalDFN" id="ref-for-dfn-append-error-8">append error</a>
                アルゴリズムを実行しなければならない（<em class="rfc2119">MUST</em>）:
                <ol>
                    <li>
                        <p>
                            トラックの数と種別が一貫していない。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-96">
                            <div role="heading" class="note-title marker" id="h-note-95" aria-level="3">
                                <span>Note</span>
                            </div>
                            <p class="">
                                例えば、最初の <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-35">initialization
                                    segment</a> が
                                2 つの音声トラックと 1 つの動画トラックを持つ場合、それに続くすべての
                                <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                    class="internalDFN" id="ref-for-dfn-initialization-segment-36">initialization
                                    segments</a> は 2 つの音声トラックと 1 つの動画トラックを記述しなければならない（<em class="rfc2119">MUST</em>）。
                            </p>
                        </div>
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                            id="ref-for-dfn-track-id-9">Track IDs</a> が、単一種別の複数トラック（例：2 音声トラック）を記述する
                        <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                            id="ref-for-dfn-initialization-segment-37">initialization segments</a> 間で一致しない。
                    </li>
                    <li>
                        <p>
                            サポートされないコーデック変更が <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment"
                                class="internalDFN" id="ref-for-dfn-initialization-segment-38">initialization
                                segments</a> をまたいで発生した。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-97">
                            <div role="heading" class="note-title marker" id="h-note-96" aria-level="3">
                                <span>Note</span>
                            </div>
                            <p class="">
                                コーデック変更の詳細と例は、
                                <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment-received"
                                    class="internalDFN"
                                    id="ref-for-dfn-initialization-segment-received-2">initialization segment
                                    received</a> アルゴリズム、
                                <a data-link-type="idl" data-lt="addSourceBuffer()"
                                    href="#dom-mediasource-addsourcebuffer" class="internalDFN"
                                    id="ref-for-dom-mediasource-addsourcebuffer-13"><code>addSourceBuffer</code></a><code>()</code>、
                                および <a data-link-type="idl" data-lt="changeType()" href="#dom-sourcebuffer-changetype"
                                    class="internalDFN"
                                    id="ref-for-dom-sourcebuffer-changetype-18"><code>changeType</code></a><code>()</code>
                                を参照のこと。
                            </p>
                        </div>
                    </li>
                </ol>
            </li>
            <li>ユーザーエージェントは以下をサポートしなければならない（<em class="rfc2119">MUST</em>）:
                <ol>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                            id="ref-for-dfn-initialization-segment-39">initialization segments</a> をまたいだ
                        <a data-link-type="dfn|abstract-op" href="#dfn-track-id" class="internalDFN"
                            id="ref-for-dfn-track-id-10">Track IDs</a> の変更（ただし各種別につき 1 トラックのみを記述する場合）。
                    </li>
                    <li>
                        <p>
                            動画フレームサイズの変更。ユーザーエージェントはシームレス再生をサポートしなければならない（<em class="rfc2119">MUST</em>）。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-98">
                            <div role="heading" class="note-title marker" id="h-note-97" aria-level="3">
                                <span>Note</span>
                            </div>
                            <p class="">
                                Web アプリケーションが CSS または HTML 属性（width/height）で要素サイズを制約しない場合、
                                &lt;video&gt; の表示領域サイズが変化する。
                            </p>
                        </div>
                    </li>
                    <li>
                        <p>
                            音声チャンネル数の変更。ユーザーエージェントは、これをシームレスにサポートしてもよく（<em class="rfc2119">MAY</em>）、
                            ダウンミックスをトリガーしてもよい。
                        </p>
                        <div class="note" role="note" id="issue-container-generatedID-99">
                            <div role="heading" class="note-title marker" id="h-note-98" aria-level="3">
                                <span>Note</span>
                            </div>
                            <p class="">
                                チャンネル数の変更は、オーディオデバイス、リサンプラ、チャンネルミキサーの再初期化を必要とする場合があり、
                                可聴となりがちであるため、実装品質の問題である。
                            </p>
                        </div>
                    </li>
                </ol>
            </li>
            <li>以下の規則は、バイトストリーム内のすべての <a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                    id="ref-for-dfn-media-segment-16">media segments</a> に適用される。ユーザーエージェントは
                次を満たさなければならない（<em class="rfc2119">MUST</em>）:
                <ol>
                    <li>すべてのタイムスタンプを同一の
                        <a href="https://html.spec.whatwg.org/multipage/media.html#media-timeline">media timeline</a>
                        にマップする。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                            id="ref-for-dfn-media-segment-17">media segments</a> 間のギャップが
                        音声フレームサイズ未満である場合に、シームレス再生をサポートする。ユーザーエージェントは、
                        これらのギャップを <a data-link-type="idl" href="#dom-sourcebuffer-buffered" class="internalDFN"
                            id="ref-for-dom-sourcebuffer-buffered-11"><code>buffered</code></a> 属性に反映してはならない（<em
                            class="rfc2119">MUST NOT</em>）。
                        <div class="note" role="note" id="issue-container-generatedID-100">
                            <div role="heading" class="note-title marker" id="h-note-99" aria-level="3">
                                <span>Note</span>
                            </div>
                            <p class="">
                                これは、フレーム境界がエンコーディング間で常に一致しない（例：Vorbis）音声ストリームの
                                切替を簡素化することを意図している。
                            </p>
                        </div>
                    </li>
                </ol>
            </li>
            <li>以下の条件のいずれかの組み合わせを満たす
                <a data-link-type="dfn|abstract-op" href="#dfn-initialization-segment" class="internalDFN"
                    id="ref-for-dfn-initialization-segment-40">initialization segment</a> と任意の連続する
                <a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                    id="ref-for-dfn-media-segment-18">media segments</a> のシーケンスがある場合、
                ユーザーエージェントは <a data-link-type="dfn|abstract-op" href="#dfn-append-error" class="internalDFN"
                    id="ref-for-dfn-append-error-9">append error</a>
                アルゴリズムを実行しなければならない（<em class="rfc2119">MUST</em>）:
                <ol>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-media-segment" class="internalDFN"
                            id="ref-for-dfn-media-segment-19">media segments</a> 内のすべてのトラックの数と種別（音声、動画、テキスト等）が特定できない。
                    </li>
                    <li>各トラックのデコードに必要な能力（すなわちコーデックとそのパラメータ）が提供されていない。
                    </li>
                    <li>暗号化されたすべてのトラックに対して、コンテンツの復号に必要なパラメータ（暗号鍵そのものは除く）が提供されていない。
                    </li>
                    <li>シーケンス内の最も早い <a data-link-type="dfn|abstract-op" href="#random-access-point" class="internalDFN"
                            id="ref-for-random-access-point-11">random
                            access point</a> と、
                        その後のシーケンス（提示時刻順）のすべてのサンプルをデコード・レンダリングするために必要な情報が提供されていない。特に以下を含む：
                        <ul>
                            <li>動画の
                                <a
                                    href="https://html.spec.whatwg.org/multipage/media.html#concept-video-intrinsic-width">intrinsic
                                    width and height</a> を決定する情報（具体的には、エンコード解像度に加えて、
                                画素または画面アスペクト比のいずれかが必要）。
                            </li>
                            <li>動画デコーダ出力を表示に適した形式へ変換するために必要な情報
                            </li>
                        </ul>
                    </li>
                    <li>シーケンス内のすべてのサンプルのグローバルな <a data-link-type="dfn|abstract-op" href="#presentation-timestamp"
                            class="internalDFN" id="ref-for-presentation-timestamp-42">presentation timestamp</a>
                        を算出するのに必要な情報が提供されていない。
                    </li>
                </ol>
                <p>
                    例えば、I1 が M1, M2, M3 と関連付けられている場合、上記の要件は I1+M1、I1+M2、I1+M1+M2、I1+M2+M3 など
                    すべての組み合わせについて成立しなければならない（<em class="rfc2119">MUST</em>）。
                </p>
            </li>
        </ul>
        <p>
            バイトストリーム仕様は、少なくとも上記要件が満たされることを保証する制約を定義しなければならない（<em class="rfc2119">MUST</em>）。
            実装を簡素化するためなど、追加の制約を定義してもよい（<em class="rfc2119">MAY</em>）。
        </p>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x15-conformance"><bdi class="secno">15. </bdi>適合性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 15."></a>
        </div>
        <p>非規範的とマークされた節に加え、本仕様のすべてのオーサリングガイドライン、図、例、注記は非規範的である。
            それ以外の本仕様の内容はすべて規範的である。</p>
        <p>
            本文書における <em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">MUST
                NOT</em>、<em class="rfc2119">SHOULD</em>、<em class="rfc2119">SHOULD NOT</em> というキーワードは、
            <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            に従って解釈される。これは、それらがここに示すようにすべて大文字で現れる場合に限る。
        </p>
    </section>
    <section id="examples">
        <div class="header-wrapper">
            <h2 id="x16-examples"><bdi class="secno">16. </bdi>
                例
            </h2><a class="self-link" href="#examples" aria-label="Permalink for Section 16."></a>
        </div>

        <section id="using-media-source-extensions">
            <div class="header-wrapper">
                <h3 id="x16-1-using-media-source-extensions"><bdi class="secno">16.1 </bdi>
                    Media Source Extensions の使用
                </h3><a class="self-link" href="#using-media-source-extensions"
                    aria-label="Permalink for Section 16.1"></a>
            </div>
            <div class="example" id="example-1">
                <div class="marker">
                    <a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"v"</span> <span class="hljs-attr">autoplay</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
<span class="hljs-keyword">const</span> video = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"v"</span>);
<span class="hljs-keyword">const</span> mediaSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MediaSource</span>();
mediaSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"sourceopen"</span>, onSourceOpen);
video.<span class="hljs-property">src</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">URL</span>.<span class="hljs-title function_">createObjectURL</span>(mediaSource);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">onSourceOpen</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">const</span> mediaSource = e.<span class="hljs-property">target</span>;

  <span class="hljs-keyword">if</span> (mediaSource.<span class="hljs-property">sourceBuffers</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-keyword">const</span> sourceBuffer = mediaSource.<span class="hljs-title function_">addSourceBuffer</span>(
    <span class="hljs-string">'video/webm; codecs="vorbis,vp8"'</span>,
  );

  video.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"seeking"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-title function_">onSeeking</span>(mediaSource, e.<span class="hljs-property">target</span>));
  video.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"progress"</span>, <span class="hljs-function">() =&gt;</span>
    <span class="hljs-title function_">appendNextMediaSegment</span>(mediaSource),
  );

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> initSegment = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getInitializationSegment</span>();

    <span class="hljs-keyword">if</span> (initSegment == <span class="hljs-literal">null</span>) {
      <span class="hljs-comment">// Error fetching the initialization segment. Signal end of stream with an error.</span>
      mediaSource.<span class="hljs-title function_">endOfStream</span>(<span class="hljs-string">"network"</span>);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// Append the initialization segment.</span>
    sourceBuffer.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"updateend"</span>, <span class="hljs-keyword">function</span> <span class="hljs-title function_">firstAppendHandler</span>(<span class="hljs-params"></span>) {
      sourceBuffer.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"updateend"</span>, firstAppendHandler);

      <span class="hljs-comment">// Append some initial media data.</span>
      <span class="hljs-title function_">appendNextMediaSegment</span>(mediaSource);
    });

    sourceBuffer.<span class="hljs-title function_">appendBuffer</span>(initSegment);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// Handle errors that might occur during initialization segment fetching.</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error fetching initialization segment:"</span>, error);
    mediaSource.<span class="hljs-title function_">endOfStream</span>(<span class="hljs-string">"network"</span>);
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">appendNextMediaSegment</span>(<span class="hljs-params">mediaSource</span>) {
  <span class="hljs-keyword">if</span> (
    mediaSource.<span class="hljs-property">readyState</span> === <span class="hljs-string">"closed"</span> ||
    mediaSource.<span class="hljs-property">sourceBuffers</span>[<span class="hljs-number">0</span>].<span class="hljs-property">updating</span>
  )
    <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// If we have run out of stream data, then signal end of stream.</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">haveMoreMediaSegments</span>()) {
    mediaSource.<span class="hljs-title function_">endOfStream</span>();
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> mediaSegment = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getNextMediaSegment</span>();

    <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> If mediaSource.readyState == "ended", this appendBuffer() call will</span>
    <span class="hljs-comment">// cause mediaSource.readyState to transition to "open". The web application</span>
    <span class="hljs-comment">// should be prepared to handle multiple "sourceopen" events.</span>
    mediaSource.<span class="hljs-property">sourceBuffers</span>[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendBuffer</span>(mediaSegment);
  }
  <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// Handle errors that might occur during media segment fetching.</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error fetching media segment:"</span>, error);
    mediaSource.<span class="hljs-title function_">endOfStream</span>(<span class="hljs-string">"network"</span>);
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onSeeking</span>(<span class="hljs-params">mediaSource, video</span>) {
  <span class="hljs-keyword">if</span> (mediaSource.<span class="hljs-property">readyState</span> === <span class="hljs-string">"open"</span>) {
    <span class="hljs-comment">// Abort current segment append.</span>
    mediaSource.<span class="hljs-property">sourceBuffers</span>[<span class="hljs-number">0</span>].<span class="hljs-title function_">abort</span>();
  }

  <span class="hljs-comment">// Notify the media segment loading code to start fetching data at the</span>
  <span class="hljs-comment">// new playback position.</span>
  <span class="hljs-title function_">seekToMediaSegmentAt</span>(video.<span class="hljs-property">currentTime</span>);

  <span class="hljs-comment">// Append a media segment from the new playback position.</span>
  <span class="hljs-title function_">appendNextMediaSegment</span>(mediaSource);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onProgress</span>(<span class="hljs-params">mediaSource, e</span>) {
  <span class="hljs-title function_">appendNextMediaSegment</span>(mediaSource);
}

<span class="hljs-comment">// Example of async function for getting initialization segment</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getInitializationSegment</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Implement fetching of the initialization segment</span>
  <span class="hljs-comment">// This is just a placeholder function</span>
}

<span class="hljs-comment">// Example function for checking if there are more media segments</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">haveMoreMediaSegments</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Implement logic to determine if there are more media segments</span>
  <span class="hljs-comment">// This is just a placeholder function</span>
}

<span class="hljs-comment">// Example function for getting the next media segment</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getNextMediaSegment</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Implement fetching of the next media segment</span>
  <span class="hljs-comment">// This is just a placeholder function</span>
}

<span class="hljs-comment">// Example function for seeking to a specific media segment</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">seekToMediaSegmentAt</span>(<span class="hljs-params">currentTime</span>) {
  <span class="hljs-comment">// Implement seeking logic</span>
  <span class="hljs-comment">// This is just a placeholder function</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
            </div>
        </section>
        <section id="using-a-managed-media-source">
            <div class="header-wrapper">
                <h3 id="x16-2-using-a-managed-media-source"><bdi class="secno">16.2 </bdi>
                    Managed Media Source の使用
                </h3><a class="self-link" href="#using-a-managed-media-source"
                    aria-label="Permalink for Section 16.2"></a>
            </div>
            <div class="example" id="example-2">
                <div class="marker">
                    <a class="self-link" href="#example-2">Example<bdi> 2</bdi></a>
                </div>
                <pre
                    aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setUpVideoStream</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Specific video format and codec</span>
  <span class="hljs-keyword">const</span> mediaType = <span class="hljs-string">'video/mp4; codecs="mp4a.40.2,avc1.4d4015"'</span>;

  <span class="hljs-comment">// Check if the type of video format / codec is supported.</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">window</span>.<span class="hljs-property">ManagedMediaSource</span>?.<span class="hljs-title function_">isTypeSupported</span>(mediaType)) {
    <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Not supported, do something else.</span>
  }

  <span class="hljs-comment">// Set up video and its managed source.</span>
  <span class="hljs-keyword">const</span> video = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"video"</span>);
  <span class="hljs-keyword">const</span> source = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ManagedMediaSource</span>();

  video.<span class="hljs-property">controls</span> = <span class="hljs-literal">true</span>;

  <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    video.<span class="hljs-property">src</span> = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(source);
    source.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"sourceopen"</span>, resolve, { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> });
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(video);
  });

  <span class="hljs-keyword">const</span> sourceBuffer = source.<span class="hljs-title function_">addSourceBuffer</span>(mediaType);

  <span class="hljs-comment">// Set up the event handlers</span>
  sourceBuffer.<span class="hljs-property">onbufferedchange</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"onbufferedchange event fired."</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Added Ranges: <span class="hljs-subst">${timeRangesToString(e.addedRanges)}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Removed Ranges: <span class="hljs-subst">${timeRangesToString(e.removedRanges)}</span>`</span>);
  };

  source.<span class="hljs-property">onstartstreaming</span> = <span class="hljs-title function_">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"./videos/bipbop.mp4"</span>);
    <span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">arrayBuffer</span>();
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      sourceBuffer.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"updateend"</span>, resolve, { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> });
      sourceBuffer.<span class="hljs-title function_">appendBuffer</span>(buffer);
    });
  };

  source.<span class="hljs-property">onendstreaming</span> = <span class="hljs-title function_">async</span> () =&gt; {
    <span class="hljs-comment">// Stop fetching new segments here</span>
  };
}

<span class="hljs-comment">// Helper function...</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">timeRangesToString</span>(<span class="hljs-params">timeRanges</span>) {
  <span class="hljs-keyword">const</span> ranges = [];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; timeRanges.<span class="hljs-property">length</span>; i++) {
    ranges.<span class="hljs-title function_">push</span>([timeRanges.<span class="hljs-title function_">start</span>(i), timeRanges.<span class="hljs-title function_">end</span>(i)]);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">"["</span> + ranges.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[start, end]</span>) =&gt;</span> <span class="hljs-string">`[<span class="hljs-subst">${start}</span>, <span class="hljs-subst">${end}</span>)`</span> ) + <span class="hljs-string">"]"</span>;     
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">"setUpVideoStream()"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></code></pre>
            </div>
        </section>
    </section>
    <section id="acknowledgements">
        <div class="header-wrapper">
            <h2 id="x17-acknowledgments"><bdi class="secno">17. </bdi>
                謝辞
            </h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Section 17."></a>
        </div>

        <p>
            編集者は、Alex Giladi、Bob Lund、Chris Needham、Chris Poole、Chris
            Wilson、Cyril Concolato、Dale Curtis、David Dorwin、David Singer、Duncan Rowden、François
            Daoust、Frank Galligan、Glenn Adams、Jer Noble、Joe Steele、John Simmons、Kagami Sascha
            Rosylight、Kevin Streeter、Marcos Cáceres、Mark Vickers、Matt Ward、Matthew Gregan、
            Michael(tm) Smith、Michael Thornburgh、Mounir Lamouri、Paul Adenot、Philip Jägenstedt、
            Philippe Le Hegaret、Pierre Lemieux、Ralph Giles、Steven Robertson、Tatsuya Igarashi
            の本仕様への貢献に感謝する。
        </p>
    </section>
    <section id="VideoPlaybackQuality" class="appendix informative">
        <div class="header-wrapper">
            <h2 id="a-videoplaybackquality"><bdi class="secno">A. </bdi>
                VideoPlaybackQuality
            </h2><a class="self-link" href="#VideoPlaybackQuality" aria-label="Permalink for Appendix A."></a>
        </div>
        <p><em>この節は非規範的である。</em></p>

        <p>
            本仕様の以前の版で記述されていた動画再生品質メトリクス
            （例：<a href="https://www.w3.org/TR/2016/CR-media-source-20160705/">Candidate
                Recommendation</a> の第 5 章および第 10 章）は、
            現在 [<cite><a class="bibref" data-link-type="biblio" href="#bib-media-playback-quality"
                    title="Media Playback Quality">MEDIA-PLAYBACK-QUALITY</a></cite>] の一部として開発されている。
            一部の実装は、以前の草案で記述された <code>VideoPlaybackQuality</code> オブジェクトと
            <a data-link-type="interface" data-lt="HTMLVideoElement"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlvideoelement"><code>HTMLVideoElement</code></a>
            の拡張メソッド <a data-link-type="method" data-lt="getVideoPlaybackQuality()"
                href="https://w3c.github.io/media-playback-quality/#dom-htmlvideoelement-getvideoplaybackquality"><code>getVideoPlaybackQuality</code></a><code>()</code>
            を
            実装しているかもしれない。
        </p>
    </section>
    <section class="appendix" id="issue-summary">
        <div class="header-wrapper">
            <h2 id="b-issue-summary"><bdi class="secno">B. </bdi>課題の要約</h2><a class="self-link" href="#issue-summary"
                aria-label="Permalink for Appendix B."></a>
        </div>

        <ul>
            <li><a href="#issue-container-number-276">Issue 276</a><span style="text-transform: none">: MSE-in-Workers:
                    閉鎖中に新たな `InvalidStateError` 例外を説明するための "closing" readyState の追加を検討</span></li>
            <li><a href="#issue-container-number-280">Issue 280</a><span style="text-transform: none">: MSE-in-Workers:
                    HTML の {Audio,Video,Text}Track{,List} IDL の Exposed に DedicatedWorker を追加で必要とする</span></li>
            <li><a href="#issue-container-number-289">Issue 289</a><span style="text-transform: none">: 編集上の事項？
                    Coded Frame 追い出しアルゴリズムに「buffer full flag」が |new data| に基づいて即時に更新されうる旨を記載する必要</span></li>
            <li><a href="#issue-container-number-277">Issue 277</a><span style="text-transform: none">: MSE-in-Workers:
                    MediaSource のワーカー終了時に、アタッチされた要素を（最終的に）エラーへ遷移させることの検討／メディア要素はどうすべきか？</span></li>
            <li><a href="#issue-container-number-277-0">Issue 277</a><span style="text-transform: none">:
                    MSE-in-Workers: MediaSource のワーカー終了時に、アタッチされた要素を（最終的に）エラーへ遷移させることの検討／メディア要素はどうすべきか？</span></li>
            <li><a href="#issue-container-generatedID-89">Issue</a></li>
            <li><a href="#issue-container-number-280-0">Issue 280</a><span style="text-transform: none">:
                    MSE-in-Workers: HTML の {Audio,Video,Text}Track{,List} IDL の Exposed に DedicatedWorker
                    を追加で必要とする</span></li>
            <li><a href="#issue-container-number-280-1">Issue 280</a><span style="text-transform: none">:
                    MSE-in-Workers: HTML の {Audio,Video,Text}Track{,List} IDL の Exposed に DedicatedWorker
                    を追加で必要とする</span></li>
            <li><a href="#issue-container-number-280-2">Issue 280</a><span style="text-transform: none">:
                    MSE-in-Workers: HTML の {Audio,Video,Text}Track{,List} IDL の Exposed に DedicatedWorker
                    を追加で必要とする</span></li>
        </ul>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="c-references"><bdi class="secno">C. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix C."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>規範参照</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix C.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecmascript">[ECMASCRIPT]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-fileapi">[FILEAPI]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/FileAPI/"><cite>File API</cite></a>. Marijn Kruisselbrink. W3C. 4
                    December 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living
                    Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. Living Standard. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-mse-registry">[MSE-REGISTRY]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mse-byte-stream-format-registry/"><cite>Media Source Extensions™ Byte
                            Stream Format Registry</cite></a>. Matthew Wolenetz; Jerry Smith; Aaron Colwell. W3C. URL:
                    <a
                        href="https://www.w3.org/TR/mse-byte-stream-format-registry/">https://www.w3.org/TR/mse-byte-stream-format-registry/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                            2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="c-2-informative-references"><bdi class="secno">C.2 </bdi>参考（情報）</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix C.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-inbandtracks">[INBANDTRACKS]</dt>
                <dd>
                    <a href="https://dev.w3.org/html5/html-sourcing-inband-tracks/"><cite>Sourcing In-band Media
                            Resource Tracks from Media Containers into HTML</cite></a>. Silvia Pfeiffer; Bob Lund. W3C.
                    26 April 2015. Unofficial Draft. URL: <a
                        href="https://dev.w3.org/html5/html-sourcing-inband-tracks/">https://dev.w3.org/html5/html-sourcing-inband-tracks/</a>
                </dd>
                <dt id="bib-media-playback-quality">[MEDIA-PLAYBACK-QUALITY]</dt>
                <dd>
                    <a href="https://w3c.github.io/media-playback-quality/"><cite>Media Playback Quality</cite></a>.
                    Mounir Lamouri; Chris Cunningham. W3C. W3C Editor's Draft. URL: <a
                        href="https://w3c.github.io/media-playback-quality/">https://w3c.github.io/media-playback-quality/</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-active-track-buffers"
        aria-label="Links in this document to definition: Active Track Buffers">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-active-track-buffers"
                aria-label="Permalink for definition: Active Track Buffers. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-active-track-buffers-1" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-append-window"
        aria-label="Links in this document to definition: Append Window">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-append-window"
                aria-label="Permalink for definition: Append Window. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-append-window-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dfn-append-window-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coded-frame"
        aria-label="Links in this document to definition: Coded Frame">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coded-frame"
                aria-label="Permalink for definition: Coded Frame. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coded-frame-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dfn-coded-frame-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-coded-frame-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-coded-frame-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-coded-frame-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-coded-frame-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-coded-frame-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-coded-frame-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-coded-frame-9"
                    title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-10" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-11" title="§ 3.15.6 Duration change">§ 3.15.6 Duration change</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-12" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-13" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-dfn-coded-frame-14" title="Reference 2">(2)</a> <a href="#ref-for-dfn-coded-frame-15"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-coded-frame-16" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-coded-frame-17" title="Reference 5">(5)</a> <a href="#ref-for-dfn-coded-frame-18"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-coded-frame-19" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-coded-frame-20" title="Reference 8">(8)</a> <a href="#ref-for-dfn-coded-frame-21"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-coded-frame-22" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-23" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dfn-coded-frame-24" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-25" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-26" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser State</a>
                <a href="#ref-for-dfn-coded-frame-27" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-28" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dfn-coded-frame-29"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-coded-frame-30" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-31" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-dfn-coded-frame-32" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-33" title="Reference 3">(3)</a> <a href="#ref-for-dfn-coded-frame-34"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-coded-frame-35" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-coded-frame-36" title="Reference 6">(6)</a> <a href="#ref-for-dfn-coded-frame-37"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-coded-frame-38" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-coded-frame-39" title="Reference 9">(9)</a> <a href="#ref-for-dfn-coded-frame-40"
                    title="Reference 10">(10)</a> <a href="#ref-for-dfn-coded-frame-41" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-coded-frame-42" title="Reference 12">(12)</a> <a
                    href="#ref-for-dfn-coded-frame-43" title="Reference 13">(13)</a> <a
                    href="#ref-for-dfn-coded-frame-44" title="Reference 14">(14)</a> <a
                    href="#ref-for-dfn-coded-frame-45" title="Reference 15">(15)</a> <a
                    href="#ref-for-dfn-coded-frame-46" title="Reference 16">(16)</a> <a
                    href="#ref-for-dfn-coded-frame-47" title="Reference 17">(17)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-48" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a> <a href="#ref-for-dfn-coded-frame-49" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-50" title="Reference 3">(3)</a> <a href="#ref-for-dfn-coded-frame-51"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-coded-frame-52" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-53" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio Splice
                    Frame</a> <a href="#ref-for-dfn-coded-frame-54" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-55" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-56" title="§ 5.5.12 Audio Splice Rendering">§ 5.5.12 Audio Splice
                    Rendering</a> <a href="#ref-for-dfn-coded-frame-57" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-58" title="§ 5.5.13 Text Splice Frame">§ 5.5.13 Text Splice Frame</a>
                <a href="#ref-for-dfn-coded-frame-59" title="Reference 2">(2)</a> <a href="#ref-for-dfn-coded-frame-60"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coded-frame-duration"
        aria-label="Links in this document to definition: Coded Frame Duration">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coded-frame-duration"
                aria-label="Permalink for definition: Coded Frame Duration. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coded-frame-duration-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dfn-coded-frame-duration-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-duration-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-coded-frame-duration-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-duration-5" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-duration-6" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-duration-7" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio Splice
                    Frame</a> <a href="#ref-for-dfn-coded-frame-duration-8" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-duration-9" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-duration-10" title="§ 5.5.12 Audio Splice Rendering">§ 5.5.12 Audio
                    Splice Rendering</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-duration-11" title="§ 5.5.13 Text Splice Frame">§ 5.5.13 Text Splice
                    Frame</a> <a href="#ref-for-dfn-coded-frame-duration-12" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coded-frame-end-timestamp"
        aria-label="Links in this document to definition: Coded Frame End Timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coded-frame-end-timestamp"
                aria-label="Permalink for definition: Coded Frame End Timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coded-frame-end-timestamp-1" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-end-timestamp-2" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment
                    Parser Loop</a> <a href="#ref-for-dfn-coded-frame-end-timestamp-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coded-frame-group"
        aria-label="Links in this document to definition: Coded Frame Group">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coded-frame-group"
                aria-label="Permalink for definition: Coded Frame Group. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coded-frame-group-1" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-dfn-coded-frame-group-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-group-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-group-4" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dfn-coded-frame-group-5" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-decode-timestamp"
        aria-label="Links in this document to definition: Decode Timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-decode-timestamp"
                aria-label="Permalink for definition: Decode Timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-decode-timestamp-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dfn-decode-timestamp-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-decode-timestamp-3" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
            <li>
                <a href="#ref-for-dfn-decode-timestamp-4" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio Splice
                    Frame</a> <a href="#ref-for-dfn-decode-timestamp-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-decode-timestamp-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-decode-timestamp-7" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-initialization-segment"
        aria-label="Links in this document to definition: Initialization Segment">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-initialization-segment"
                aria-label="Permalink for definition: Initialization Segment. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-initialization-segment-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dfn-initialization-segment-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-initialization-segment-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initialization-segment-4" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initialization-segment-5" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initialization-segment-6" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment
                    Parser Loop</a> <a href="#ref-for-dfn-initialization-segment-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-initialization-segment-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-initialization-segment-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-initialization-segment-10" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initialization-segment-11" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dfn-initialization-segment-12"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-initialization-segment-13"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-initialization-segment-14"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-initialization-segment-15"
                    title="Reference 5">(5)</a> <a href="#ref-for-dfn-initialization-segment-16"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-initialization-segment-17"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-initialization-segment-18"
                    title="Reference 8">(8)</a> <a href="#ref-for-dfn-initialization-segment-19"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-initialization-segment-20"
                    title="Reference 10">(10)</a> <a href="#ref-for-dfn-initialization-segment-21"
                    title="Reference 11">(11)</a> <a href="#ref-for-dfn-initialization-segment-22"
                    title="Reference 12">(12)</a> <a href="#ref-for-dfn-initialization-segment-23"
                    title="Reference 13">(13)</a> <a href="#ref-for-dfn-initialization-segment-24"
                    title="Reference 14">(14)</a> <a href="#ref-for-dfn-initialization-segment-25"
                    title="Reference 15">(15)</a> <a href="#ref-for-dfn-initialization-segment-26"
                    title="Reference 16">(16)</a> <a href="#ref-for-dfn-initialization-segment-27"
                    title="Reference 17">(17)</a> <a href="#ref-for-dfn-initialization-segment-28"
                    title="Reference 18">(18)</a> <a href="#ref-for-dfn-initialization-segment-29"
                    title="Reference 19">(19)</a> <a href="#ref-for-dfn-initialization-segment-30"
                    title="Reference 20">(20)</a> <a href="#ref-for-dfn-initialization-segment-31"
                    title="Reference 21">(21)</a> <a href="#ref-for-dfn-initialization-segment-32"
                    title="Reference 22">(22)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initialization-segment-33" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a> <a href="#ref-for-dfn-initialization-segment-34" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-initialization-segment-35" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-initialization-segment-36" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-initialization-segment-37" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-initialization-segment-38" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-initialization-segment-39" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-initialization-segment-40" title="Reference 8">(8)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-media-segment"
        aria-label="Links in this document to definition: Media Segment">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-media-segment"
                aria-label="Permalink for definition: Media Segment. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-media-segment-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dfn-media-segment-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-media-segment-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-segment-4" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-segment-5" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dfn-media-segment-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-segment-7" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-segment-8" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dfn-media-segment-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-media-segment-10" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-media-segment-11" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-media-segment-12" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-segment-13" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-dfn-media-segment-14" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-segment-15" title="§ 14. Byte Stream Formats">§ 14. Byte Stream Formats</a>
                <a href="#ref-for-dfn-media-segment-16" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-media-segment-17" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-media-segment-18" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-media-segment-19" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-media-segment-20" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-media-segment-21" title="Reference 7">(7)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-mediasource-object-url"
        aria-label="Links in this document to definition: MediaSource object URL">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#mediasource-object-url"
                aria-label="Permalink for definition: MediaSource object URL. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-mediasource-object-url-1" title="§ 3.14 Cross-context communication model">§ 3.14
                    Cross-context communication model</a>
            </li>
            <li>
                <a href="#ref-for-mediasource-object-url-2" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a> <a href="#ref-for-mediasource-object-url-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-mediasource-object-url-4" title="Reference 3">(3)</a>
                <a href="#ref-for-mediasource-object-url-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-mediasource-object-url-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-mediasource-object-url-7" title="Reference 6">(6)</a> <a
                    href="#ref-for-mediasource-object-url-8" title="Reference 7">(7)</a> <a
                    href="#ref-for-mediasource-object-url-9" title="Reference 8">(8)</a> <a
                    href="#ref-for-mediasource-object-url-10" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-mediasource-object-url-11" title="§ 4.1 Transfer">§ 4.1 Transfer</a> <a
                    href="#ref-for-mediasource-object-url-12" title="Reference 2">(2)</a> <a
                    href="#ref-for-mediasource-object-url-13" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-parent-media-source"
        aria-label="Links in this document to definition: Parent Media Source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#parent-media-source"
                aria-label="Permalink for definition: Parent Media Source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-parent-media-source-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-parent-media-source-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-parent-media-source-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-parent-media-source-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-parent-media-source-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-parent-media-source-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-parent-media-source-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-parent-media-source-8" title="Reference 8">(8)</a> <a
                    href="#ref-for-parent-media-source-9" title="Reference 9">(9)</a> <a
                    href="#ref-for-parent-media-source-10" title="Reference 10">(10)</a> <a
                    href="#ref-for-parent-media-source-11" title="Reference 11">(11)</a>
            </li>
            <li>
                <a href="#ref-for-parent-media-source-12" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-parent-media-source-13" title="Reference 2">(2)</a> <a
                    href="#ref-for-parent-media-source-14" title="Reference 3">(3)</a> <a
                    href="#ref-for-parent-media-source-15" title="Reference 4">(4)</a> <a
                    href="#ref-for-parent-media-source-16" title="Reference 5">(5)</a> <a
                    href="#ref-for-parent-media-source-17" title="Reference 6">(6)</a> <a
                    href="#ref-for-parent-media-source-18" title="Reference 7">(7)</a> <a
                    href="#ref-for-parent-media-source-19" title="Reference 8">(8)</a> <a
                    href="#ref-for-parent-media-source-20" title="Reference 9">(9)</a> <a
                    href="#ref-for-parent-media-source-21" title="Reference 10">(10)</a> <a
                    href="#ref-for-parent-media-source-22" title="Reference 11">(11)</a>
            </li>
            <li>
                <a href="#ref-for-parent-media-source-23" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a> <a
                    href="#ref-for-parent-media-source-24" title="Reference 2">(2)</a> <a
                    href="#ref-for-parent-media-source-25" title="Reference 3">(3)</a> <a
                    href="#ref-for-parent-media-source-26" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-parent-media-source-27" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-parent-media-source-28"
                    title="Reference 2">(2)</a> <a href="#ref-for-parent-media-source-29" title="Reference 3">(3)</a> <a
                    href="#ref-for-parent-media-source-30" title="Reference 4">(4)</a> <a
                    href="#ref-for-parent-media-source-31" title="Reference 5">(5)</a> <a
                    href="#ref-for-parent-media-source-32" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-parent-media-source-33" title="§ Attributes">§ Attributes</a> <a
                    href="#ref-for-parent-media-source-34" title="Reference 2">(2)</a> <a
                    href="#ref-for-parent-media-source-35" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-presentation-start-time"
        aria-label="Links in this document to definition: Presentation Start Time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#presentation-start-time"
                aria-label="Permalink for definition: Presentation Start Time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-presentation-start-time-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-presentation-start-time-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-start-time-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-start-time-4" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-presentation-start-time-5" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-presentation-start-time-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-start-time-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-start-time-8" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a> <a
                    href="#ref-for-presentation-start-time-9" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-presentation-interval"
        aria-label="Links in this document to definition: Presentation Interval">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#presentation-interval"
                aria-label="Permalink for definition: Presentation Interval. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-presentation-interval-1" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
            <li>
                <a href="#ref-for-presentation-interval-2" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio Splice
                    Frame</a>
            </li>
            <li>
                <a href="#ref-for-presentation-interval-3" title="§ 5.5.13 Text Splice Frame">§ 5.5.13 Text Splice
                    Frame</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-presentation-order"
        aria-label="Links in this document to definition: Presentation Order">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#presentation-order"
                aria-label="Permalink for definition: Presentation Order. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-presentation-order-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-presentation-order-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-order-3" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-presentation-timestamp"
        aria-label="Links in this document to definition: Presentation Timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#presentation-timestamp"
                aria-label="Permalink for definition: Presentation Timestamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-presentation-timestamp-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-presentation-timestamp-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-timestamp-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-presentation-timestamp-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-presentation-timestamp-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-presentation-timestamp-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-presentation-timestamp-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-presentation-timestamp-8" title="Reference 8">(8)</a> <a
                    href="#ref-for-presentation-timestamp-9" title="Reference 9">(9)</a> <a
                    href="#ref-for-presentation-timestamp-10" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-11" title="§ 3.15.6 Duration change">§ 3.15.6 Duration
                    change</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-12" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-presentation-timestamp-13" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-14" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-presentation-timestamp-15" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-16" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a> <a
                    href="#ref-for-presentation-timestamp-17" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-18" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-presentation-timestamp-19" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-timestamp-20" title="Reference 3">(3)</a> <a
                    href="#ref-for-presentation-timestamp-21" title="Reference 4">(4)</a> <a
                    href="#ref-for-presentation-timestamp-22" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-23" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a> <a href="#ref-for-presentation-timestamp-24" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-timestamp-25" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-26" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio Splice
                    Frame</a> <a href="#ref-for-presentation-timestamp-27" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-timestamp-28" title="Reference 3">(3)</a> <a
                    href="#ref-for-presentation-timestamp-29" title="Reference 4">(4)</a> <a
                    href="#ref-for-presentation-timestamp-30" title="Reference 5">(5)</a> <a
                    href="#ref-for-presentation-timestamp-31" title="Reference 6">(6)</a> <a
                    href="#ref-for-presentation-timestamp-32" title="Reference 7">(7)</a> <a
                    href="#ref-for-presentation-timestamp-33" title="Reference 8">(8)</a> <a
                    href="#ref-for-presentation-timestamp-34" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-35" title="§ 5.5.12 Audio Splice Rendering">§ 5.5.12 Audio
                    Splice Rendering</a> <a href="#ref-for-presentation-timestamp-36" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-timestamp-37" title="Reference 3">(3)</a> <a
                    href="#ref-for-presentation-timestamp-38" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-39" title="§ 5.5.13 Text Splice Frame">§ 5.5.13 Text Splice
                    Frame</a> <a href="#ref-for-presentation-timestamp-40" title="Reference 2">(2)</a> <a
                    href="#ref-for-presentation-timestamp-41" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-presentation-timestamp-42" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-random-access-point"
        aria-label="Links in this document to definition: Random Access Point">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#random-access-point"
                aria-label="Permalink for definition: Random Access Point. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-random-access-point-1" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-random-access-point-2" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-random-access-point-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-random-access-point-4" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-random-access-point-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-random-access-point-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-random-access-point-7" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-random-access-point-8" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a> <a href="#ref-for-random-access-point-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-random-access-point-10" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-random-access-point-11" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-sourcebuffer-byte-stream-format-specification"
        aria-label="Links in this document to definition: SourceBuffer byte stream format specification">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sourcebuffer-byte-stream-format-specification"
                aria-label="Permalink for definition: SourceBuffer byte stream format specification. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sourcebuffer-byte-stream-format-specification-1"
                    title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser Loop</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sourcebuffer-configuration"
        aria-label="Links in this document to definition: SourceBuffer configuration">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sourcebuffer-configuration"
                aria-label="Permalink for definition: SourceBuffer configuration. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sourcebuffer-configuration-1" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-track-description"
        aria-label="Links in this document to definition: Track Description">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-track-description"
                aria-label="Permalink for definition: Track Description. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-track-description-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-track-description-2" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a>
            </li>
            <li>
                <a href="#ref-for-dfn-track-description-3" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dfn-track-description-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-track-description-5" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-track-description-6" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-track-id"
        aria-label="Links in this document to definition: Track ID">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-track-id"
                aria-label="Permalink for definition: Track ID. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-track-id-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dfn-track-id-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-track-id-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-track-id-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-track-id-5" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7 Initialization
                    Segment Received</a> <a href="#ref-for-dfn-track-id-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-track-id-7" title="Reference 3">(3)</a> <a href="#ref-for-dfn-track-id-8"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-track-id-9" title="§ 14. Byte Stream Formats">§ 14. Byte Stream Formats</a> <a
                    href="#ref-for-dfn-track-id-10" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource"
        aria-label="Links in this document to definition: MediaSource">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource"
                aria-label="Permalink for definition: MediaSource. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-1" title="§ Status of This Document">§ Status of This Document</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-2" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dom-mediasource-3" title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasource-6" title="Reference 5">(5)</a> <a href="#ref-for-dom-mediasource-7"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-8" title="§ 3. MediaSource interface">§ 3. MediaSource interface</a>
                <a href="#ref-for-dom-mediasource-9" title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-10"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-11" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasource-12" title="Reference 5">(5)</a> <a href="#ref-for-dom-mediasource-13"
                    title="Reference 6">(6)</a> <a href="#ref-for-dom-mediasource-14" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-mediasource-15" title="Reference 8">(8)</a> <a href="#ref-for-dom-mediasource-16"
                    title="Reference 9">(9)</a> <a href="#ref-for-dom-mediasource-17" title="Reference 10">(10)</a> <a
                    href="#ref-for-dom-mediasource-18" title="Reference 11">(11)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-19" title="§ 3.1 handle attribute">§ 3.1 handle attribute</a> <a
                    href="#ref-for-dom-mediasource-20" title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-21"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-22" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasource-23" title="Reference 5">(5)</a> <a href="#ref-for-dom-mediasource-24"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-25" title="§ 3.2 sourceBuffers attribute">§ 3.2 sourceBuffers
                    attribute</a> <a href="#ref-for-dom-mediasource-26" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-27" title="§ 3.4 readyState attribute">§ 3.4 readyState attribute</a>
                <a href="#ref-for-dom-mediasource-28" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-29" title="§ 3.5 duration attribute">§ 3.5 duration attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-30" title="§ 3.6 canConstructInDedicatedWorker attribute">§ 3.6
                    canConstructInDedicatedWorker attribute</a> <a href="#ref-for-dom-mediasource-31"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-32" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a> <a href="#ref-for-dom-mediasource-33" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-34" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-35" title="§ 3.12 isTypeSupported() method">§ 3.12 isTypeSupported()
                    method</a> <a href="#ref-for-dom-mediasource-36" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-37" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-38" title="§ 3.13 Event Summary">§ 3.13 Event Summary</a> <a
                    href="#ref-for-dom-mediasource-39" title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-40"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-41" title="§ 3.14 Cross-context communication model">§ 3.14
                    Cross-context communication model</a> <a href="#ref-for-dom-mediasource-42"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-43" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasource-44" title="Reference 4">(4)</a> <a href="#ref-for-dom-mediasource-45"
                    title="Reference 5">(5)</a> <a href="#ref-for-dom-mediasource-46" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-mediasource-47" title="Reference 7">(7)</a> <a href="#ref-for-dom-mediasource-48"
                    title="Reference 8">(8)</a> <a href="#ref-for-dom-mediasource-49" title="Reference 9">(9)</a> <a
                    href="#ref-for-dom-mediasource-50" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-51" title="§ 3.15.1 Attaching to a media element">§ 3.15.1 Attaching
                    to a media element</a> <a href="#ref-for-dom-mediasource-52" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-53" title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-54"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-mediasource-55" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-mediasource-56" title="Reference 6">(6)</a> <a href="#ref-for-dom-mediasource-57"
                    title="Reference 7">(7)</a> <a href="#ref-for-dom-mediasource-58" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-mediasource-59" title="Reference 9">(9)</a> <a href="#ref-for-dom-mediasource-60"
                    title="Reference 10">(10)</a> <a href="#ref-for-dom-mediasource-61" title="Reference 11">(11)</a> <a
                    href="#ref-for-dom-mediasource-62" title="Reference 12">(12)</a> <a
                    href="#ref-for-dom-mediasource-63" title="Reference 13">(13)</a> <a
                    href="#ref-for-dom-mediasource-64" title="Reference 14">(14)</a> <a
                    href="#ref-for-dom-mediasource-65" title="Reference 15">(15)</a> <a
                    href="#ref-for-dom-mediasource-66" title="Reference 16">(16)</a> <a
                    href="#ref-for-dom-mediasource-67" title="Reference 17">(17)</a> <a
                    href="#ref-for-dom-mediasource-68" title="Reference 18">(18)</a> <a
                    href="#ref-for-dom-mediasource-69" title="Reference 19">(19)</a> <a
                    href="#ref-for-dom-mediasource-70" title="Reference 20">(20)</a> <a
                    href="#ref-for-dom-mediasource-71" title="Reference 21">(21)</a> <a
                    href="#ref-for-dom-mediasource-72" title="Reference 22">(22)</a> <a
                    href="#ref-for-dom-mediasource-73" title="Reference 23">(23)</a> <a
                    href="#ref-for-dom-mediasource-74" title="Reference 24">(24)</a> <a
                    href="#ref-for-dom-mediasource-75" title="Reference 25">(25)</a> <a
                    href="#ref-for-dom-mediasource-76" title="Reference 26">(26)</a> <a
                    href="#ref-for-dom-mediasource-77" title="Reference 27">(27)</a> <a
                    href="#ref-for-dom-mediasource-78" title="Reference 28">(28)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-79" title="§ 3.15.2 Detaching from a media element">§ 3.15.2 Detaching
                    from a media element</a> <a href="#ref-for-dom-mediasource-80" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-81" title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-82"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-mediasource-83" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-mediasource-84" title="Reference 6">(6)</a> <a href="#ref-for-dom-mediasource-85"
                    title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-86" title="§ 3.15.5 Changes to selected/enabled track state">§ 3.15.5
                    Changes to selected/enabled track state</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-87" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-88" title="§ 3.15.8 Mirror if necessary">§ 3.15.8 Mirror if
                    necessary</a> <a href="#ref-for-dom-mediasource-89" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-90" title="§ 4. MediaSourceHandle interface">§ 4. MediaSourceHandle
                    interface</a> <a href="#ref-for-dom-mediasource-91" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-92" title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-93"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-94" title="§ 4.1 Transfer">§ 4.1 Transfer</a> <a
                    href="#ref-for-dom-mediasource-95" title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-96"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-97" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-98" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-99" title="§ 7. ManagedMediaSource interface">§ 7. ManagedMediaSource
                    interface</a> <a href="#ref-for-dom-mediasource-100" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-101" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-102" title="§ 7.3.1 ManagedSourceBuffer Monitoring">§ 7.3.1
                    ManagedSourceBuffer Monitoring</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-103" title="§ 10. HTMLMediaElement Extensions">§ 10. HTMLMediaElement
                    Extensions</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-104" title="§ 10.1 HTMLMediaElement's seekable">§ 10.1
                    HTMLMediaElement's seekable</a> <a href="#ref-for-dom-mediasource-105" title="Reference 2">(2)</a>
                <a href="#ref-for-dom-mediasource-106" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-107" title="§ 10.2 HTMLMediaElement's buffered">§ 10.2
                    HTMLMediaElement's buffered</a> <a href="#ref-for-dom-mediasource-108" title="Reference 2">(2)</a>
                <a href="#ref-for-dom-mediasource-109" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-live-seekable-range"
        aria-label="Links in this document to definition: [[live seekable range]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-live-seekable-range"
                aria-label="Permalink for definition: [[live seekable range]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-live-seekable-range-1" title="§ 3.10 setLiveSeekableRange() method">§ 3.10
                    setLiveSeekableRange() method</a> <a href="#ref-for-dfn-live-seekable-range-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-live-seekable-range-3" title="§ 3.11 clearLiveSeekableRange() method">§ 3.11
                    clearLiveSeekableRange() method</a> <a href="#ref-for-dfn-live-seekable-range-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-live-seekable-range-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-live-seekable-range-6" title="§ 10.1 HTMLMediaElement's seekable">§ 10.1
                    HTMLMediaElement's seekable</a> <a href="#ref-for-dfn-live-seekable-range-7"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-live-seekable-range-8" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-live-seekable-range-9" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-has-ever-been-attached"
        aria-label="Links in this document to definition: [[has ever been attached]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-has-ever-been-attached"
                aria-label="Permalink for definition: [[has ever been attached]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-has-ever-been-attached-1" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a> <a href="#ref-for-dfn-has-ever-been-attached-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-readystate"
        aria-label="Links in this document to definition: ReadyState">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-readystate"
                aria-label="Permalink for definition: ReadyState. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-readystate-1" title="§ 3. MediaSource interface">§ 3. MediaSource interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-2" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a> <a
                    href="#ref-for-dom-readystate-3" title="Reference 2">(2)</a> <a href="#ref-for-dom-readystate-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-readystate-5" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-6" title="§ 3.15.4 SourceBuffer Monitoring">§ 3.15.4 SourceBuffer
                    Monitoring</a> <a href="#ref-for-dom-readystate-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-readystate-8" title="Reference 3">(3)</a> <a href="#ref-for-dom-readystate-9"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-readystate-10" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-readystate-11" title="Reference 6">(6)</a> <a href="#ref-for-dom-readystate-12"
                    title="Reference 7">(7)</a> <a href="#ref-for-dom-readystate-13" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-readystate-14" title="Reference 9">(9)</a> <a href="#ref-for-dom-readystate-15"
                    title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-16" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a> <a
                    href="#ref-for-dom-readystate-17" title="Reference 2">(2)</a> <a href="#ref-for-dom-readystate-18"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-readystate-19" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-20" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dom-readystate-21" title="Reference 2">(2)</a>
                <a href="#ref-for-dom-readystate-22" title="Reference 3">(3)</a> <a href="#ref-for-dom-readystate-23"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-readystate-24" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-readystate-25" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-26" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-dom-readystate-27" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-readystate-28" title="Reference 3">(3)</a> <a href="#ref-for-dom-readystate-29"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-readystate-30" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-readystate-31" title="Reference 6">(6)</a> <a href="#ref-for-dom-readystate-32"
                    title="Reference 7">(7)</a> <a href="#ref-for-dom-readystate-33" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-readystate-34" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-35" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame Removal</a>
                <a href="#ref-for-dom-readystate-36" title="Reference 2">(2)</a> <a href="#ref-for-dom-readystate-37"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-readystate-closed"
        aria-label="Links in this document to definition: closed">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-readystate-closed"
                aria-label="Permalink for definition: closed. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-26865842">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-readystate-closed-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-closed-2" title="§ 3.2 sourceBuffers attribute">§ 3.2 sourceBuffers
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-closed-3" title="§ 3.4 readyState attribute">§ 3.4 readyState
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-closed-4" title="§ 3.5 duration attribute">§ 3.5 duration attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-closed-5" title="§ 3.13 Event Summary">§ 3.13 Event Summary</a> <a
                    href="#ref-for-dom-readystate-closed-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-readystate-closed-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-closed-8" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-closed-9" title="§ 3.15.2 Detaching from a media element">§ 3.15.2
                    Detaching from a media element</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-readystate-open"
        aria-label="Links in this document to definition: open">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-readystate-open"
                aria-label="Permalink for definition: open. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-26865842">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-readystate-open-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-2" title="§ 3.2 sourceBuffers attribute">§ 3.2 sourceBuffers
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-3" title="§ 3.5 duration attribute">§ 3.5 duration attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-4" title="§ 3.7 addSourceBuffer() method">§ 3.7 addSourceBuffer()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-5" title="§ 3.9 endOfStream() method">§ 3.9 endOfStream()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-6" title="§ 3.10 setLiveSeekableRange() method">§ 3.10
                    setLiveSeekableRange() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-7" title="§ 3.11 clearLiveSeekableRange() method">§ 3.11
                    clearLiveSeekableRange() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-8" title="§ 3.13 Event Summary">§ 3.13 Event Summary</a> <a
                    href="#ref-for-dom-readystate-open-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-readystate-open-10" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-readystate-open-11" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-12" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a> <a href="#ref-for-dom-readystate-open-13"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-14" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dom-readystate-open-15" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-16" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-readystate-open-17" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-readystate-open-18" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-open-19" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-readystate-ended"
        aria-label="Links in this document to definition: ended">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-readystate-ended"
                aria-label="Permalink for definition: ended. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-26865842">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-readystate-ended-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-ended-2" title="§ 3.13 Event Summary">§ 3.13 Event Summary</a> <a
                    href="#ref-for-dom-readystate-ended-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-readystate-ended-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-ended-5" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a> <a
                    href="#ref-for-dom-readystate-ended-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-ended-7" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-ended-8" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dom-readystate-ended-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-readystate-ended-10" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-ended-11" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-readystate-ended-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-ended-13" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
            <li>
                <a href="#ref-for-dom-readystate-ended-14" title="§ 10.2 HTMLMediaElement's buffered">§ 10.2
                    HTMLMediaElement's buffered</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-endofstreamerror"
        aria-label="Links in this document to definition: EndOfStreamError">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-endofstreamerror"
                aria-label="Permalink for definition: EndOfStreamError. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-endofstreamerror-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-endofstreamerror-network"
        aria-label="Links in this document to definition: network">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-endofstreamerror-network"
                aria-label="Permalink for definition: network. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1031259774">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-endofstreamerror-network-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-endofstreamerror-network-2" title="§ 3.15.7 End of stream">§ 3.15.7 End of
                    stream</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-endofstreamerror-decode"
        aria-label="Links in this document to definition: decode">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-endofstreamerror-decode"
                aria-label="Permalink for definition: decode. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1031259774">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-endofstreamerror-decode-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-endofstreamerror-decode-2" title="§ 3.15.7 End of stream">§ 3.15.7 End of
                    stream</a>
            </li>
            <li>
                <a href="#ref-for-dom-endofstreamerror-decode-3" title="§ 5.5.3 Append Error">§ 5.5.3 Append Error</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-onsourceopen"
        aria-label="Links in this document to definition: onsourceopen">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-onsourceopen"
                aria-label="Permalink for definition: onsourceopen. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-onsourceended"
        aria-label="Links in this document to definition: onsourceended">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-onsourceended"
                aria-label="Permalink for definition: onsourceended. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-onsourceclose"
        aria-label="Links in this document to definition: onsourceclose">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-onsourceclose"
                aria-label="Permalink for definition: onsourceclose. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-handle"
        aria-label="Links in this document to definition: handle">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-handle"
                aria-label="Permalink for definition: handle. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-handle-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-handle-2" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a> <a href="#ref-for-dom-mediasource-handle-3"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-sourcebuffers"
        aria-label="Links in this document to definition: sourceBuffers">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-sourcebuffers"
                aria-label="Permalink for definition: sourceBuffers. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a> <a href="#ref-for-dom-mediasource-sourcebuffers-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-4" title="§ 3.3 activeSourceBuffers attribute">§ 3.3
                    activeSourceBuffers attribute</a> <a href="#ref-for-dom-mediasource-sourcebuffers-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-6" title="§ 3.5 duration attribute">§ 3.5 duration
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-7" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a> <a href="#ref-for-dom-mediasource-sourcebuffers-8"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-sourcebuffers-9"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-sourcebuffers-10"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-11" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a> <a href="#ref-for-dom-mediasource-sourcebuffers-12"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-sourcebuffers-13"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-sourcebuffers-14"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-15" title="§ 3.9 endOfStream() method">§ 3.9
                    endOfStream() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-16" title="§ 3.15.2 Detaching from a media element">§
                    3.15.2 Detaching from a media element</a> <a href="#ref-for-dom-mediasource-sourcebuffers-17"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-18" title="§ 3.15.6 Duration change">§ 3.15.6 Duration
                    change</a> <a href="#ref-for-dom-mediasource-sourcebuffers-19" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-20" title="§ 3.15.7 End of stream">§ 3.15.7 End of
                    stream</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-21" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-22" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-23" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-24" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-25" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-26" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-27" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-28" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-29" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-30" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare
                    Append</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-31" title="§ 5.5.7 Initialization Segment Received">§
                    5.5.7 Initialization Segment Received</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-32" title="§ 7. ManagedMediaSource interface">§ 7.
                    ManagedMediaSource interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-33" title="§ 7.3.2 Memory Cleanup">§ 7.3.2 Memory
                    Cleanup</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-sourcebuffers-34" title="§ Attributes">§ Attributes</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-35" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-sourcebuffers-36" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediasource-activesourcebuffers"
        aria-label="Links in this document to definition: activeSourceBuffers">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-activesourcebuffers"
                aria-label="Permalink for definition: activeSourceBuffers. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-2" title="§ 3. MediaSource interface">§ 3.
                    MediaSource interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-3" title="§ 3.3 activeSourceBuffers attribute">§
                    3.3 activeSourceBuffers attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-4" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-5"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-6"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-7"
                    title="§ 3.15.2 Detaching from a media element">§ 3.15.2 Detaching from a media element</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-9" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-10" title="§ 3.15.4 SourceBuffer Monitoring">§
                    3.15.4 SourceBuffer Monitoring</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-11"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-12"
                    title="§ 3.15.5 Changes to selected/enabled track state">§ 3.15.5 Changes to selected/enabled track
                    state</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-13" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-14" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-15" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-16" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-17" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-18" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-19" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-20" title="Reference 9">(9)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-21" title="Reference 10">(10)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-22" title="Reference 11">(11)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-23" title="Reference 12">(12)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-24" title="Reference 13">(13)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-25" title="Reference 14">(14)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-26" title="Reference 15">(15)</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-27" title="Reference 16">(16)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-28"
                    title="§ 5.5.7 Initialization Segment Received">§ 5.5.7 Initialization Segment Received</a> <a
                    href="#ref-for-dom-mediasource-activesourcebuffers-29" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-30" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9
                    Coded Frame Removal</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-31" title="§ 9.3.2 Memory cleanup">§ 9.3.2 Memory
                    cleanup</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-activesourcebuffers-32" title="§ 10.2 HTMLMediaElement's buffered">§
                    10.2 HTMLMediaElement's buffered</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-33"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-34"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-35"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-mediasource-activesourcebuffers-36"
                    title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-readystate"
        aria-label="Links in this document to definition: readyState">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-readystate"
                aria-label="Permalink for definition: readyState. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a> <a href="#ref-for-dom-mediasource-readystate-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-readystate-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-4" title="§ 3.2 sourceBuffers attribute">§ 3.2
                    sourceBuffers attribute</a> <a href="#ref-for-dom-mediasource-readystate-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-6" title="§ 3.4 readyState attribute">§ 3.4 readyState
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-7" title="§ 3.5 duration attribute">§ 3.5 duration
                    attribute</a> <a href="#ref-for-dom-mediasource-readystate-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-9" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-10" title="§ 3.9 endOfStream() method">§ 3.9 endOfStream()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-11" title="§ 3.10 setLiveSeekableRange() method">§ 3.10
                    setLiveSeekableRange() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-12" title="§ 3.11 clearLiveSeekableRange() method">§ 3.11
                    clearLiveSeekableRange() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-13" title="§ 3.13 Event Summary">§ 3.13 Event Summary</a>
                <a href="#ref-for-dom-mediasource-readystate-14" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-readystate-15" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-16" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a> <a href="#ref-for-dom-mediasource-readystate-17"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-readystate-18"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-19" title="§ 3.15.2 Detaching from a media element">§
                    3.15.2 Detaching from a media element</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-20" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a> <a
                    href="#ref-for-dom-mediasource-readystate-21" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-22" title="§ 3.15.7 End of stream">§ 3.15.7 End of
                    stream</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-23" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dom-mediasource-readystate-24" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-readystate-25" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasource-readystate-26" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasource-readystate-27" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-28" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-mediasource-readystate-29" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-readystate-30" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasource-readystate-31" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasource-readystate-32" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-33" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare
                    Append</a> <a href="#ref-for-dom-mediasource-readystate-34" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-readystate-35" title="§ 10.2 HTMLMediaElement's buffered">§ 10.2
                    HTMLMediaElement's buffered</a> <a href="#ref-for-dom-mediasource-readystate-36"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-duration"
        aria-label="Links in this document to definition: duration">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-duration"
                aria-label="Permalink for definition: duration. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-duration-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-duration-2" title="§ 3.15.2 Detaching from a media element">§ 3.15.2
                    Detaching from a media element</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-duration-3" title="§ 3.15.6 Duration change">§ 3.15.6 Duration
                    change</a> <a href="#ref-for-dom-mediasource-duration-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasource-duration-5" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasource-duration-6" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-duration-7" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-mediasource-duration-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-duration-9" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-duration-10" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded
                    Frame Processing</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-duration-11" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-duration-12" title="§ 10.1 HTMLMediaElement's seekable">§ 10.1
                    HTMLMediaElement's seekable</a> <a href="#ref-for-dom-mediasource-duration-13"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-duration-14"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-duration-15"
                    title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediasource-canconstructindedicatedworker"
        aria-label="Links in this document to definition: canConstructInDedicatedWorker">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-canconstructindedicatedworker"
                aria-label="Permalink for definition: canConstructInDedicatedWorker. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-canconstructindedicatedworker-1" title="§ 3. MediaSource interface">§
                    3. MediaSource interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-addsourcebuffer"
        aria-label="Links in this document to definition: addSourceBuffer()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-addsourcebuffer"
                aria-label="Permalink for definition: addSourceBuffer(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-2" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-3" title="§ 3.2 sourceBuffers attribute">§ 3.2
                    sourceBuffers attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-4" title="§ 3.12 isTypeSupported() method">§ 3.12
                    isTypeSupported() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-5" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-6" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment
                    Parser Loop</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-7" title="§ 5.5.7 Initialization Segment Received">§
                    5.5.7 Initialization Segment Received</a> <a href="#ref-for-dom-mediasource-addsourcebuffer-8"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasource-addsourcebuffer-9"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediasource-addsourcebuffer-10"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-mediasource-addsourcebuffer-11"
                    title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-addsourcebuffer-12" title="§ 14. Byte Stream Formats">§ 14. Byte
                    Stream Formats</a> <a href="#ref-for-dom-mediasource-addsourcebuffer-13" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediasource-removesourcebuffer"
        aria-label="Links in this document to definition: removeSourceBuffer()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-removesourcebuffer"
                aria-label="Permalink for definition: removeSourceBuffer(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-removesourcebuffer-1" title="§ 3. MediaSource interface">§ 3.
                    MediaSource interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-endofstream"
        aria-label="Links in this document to definition: endOfStream()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-endofstream"
                aria-label="Permalink for definition: endOfStream(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-endofstream-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a> <a href="#ref-for-dom-mediasource-endofstream-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-endofstream-3" title="§ 3.5 duration attribute">§ 3.5 duration
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-endofstream-4" title="§ 3.15.7 End of stream">§ 3.15.7 End of
                    stream</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-endofstream-5" title="§ 9.2 Event Summary">§ 9.2 Event Summary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediasource-setliveseekablerange"
        aria-label="Links in this document to definition: setLiveSeekableRange()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-setliveseekablerange"
                aria-label="Permalink for definition: setLiveSeekableRange(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-setliveseekablerange-1" title="§ 3. MediaSource interface">§ 3.
                    MediaSource interface</a> <a href="#ref-for-dom-mediasource-setliveseekablerange-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediasource-clearliveseekablerange"
        aria-label="Links in this document to definition: clearLiveSeekableRange()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-clearliveseekablerange"
                aria-label="Permalink for definition: clearLiveSeekableRange(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-clearliveseekablerange-1" title="§ 3. MediaSource interface">§ 3.
                    MediaSource interface</a> <a href="#ref-for-dom-mediasource-clearliveseekablerange-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasource-istypesupported"
        aria-label="Links in this document to definition: isTypeSupported()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasource-istypesupported"
                aria-label="Permalink for definition: isTypeSupported(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1502719514">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasource-istypesupported-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-istypesupported-2" title="§ 5.5.7 Initialization Segment Received">§
                    5.5.7 Initialization Segment Received</a> <a href="#ref-for-dom-mediasource-istypesupported-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasource-istypesupported-4" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sourceopen"
        aria-label="Links in this document to definition: sourceopen">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sourceopen"
                aria-label="Permalink for definition: sourceopen. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sourceopen-1" title="§ 3.15.1 Attaching to a media element">§ 3.15.1 Attaching to
                    a media element</a> <a href="#ref-for-dfn-sourceopen-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sourceopen-3" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dfn-sourceopen-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sourceopen-5" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dfn-sourceopen-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sourceopen-7" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sourceended"
        aria-label="Links in this document to definition: sourceended">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sourceended"
                aria-label="Permalink for definition: sourceended. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sourceended-1" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sourceclose"
        aria-label="Links in this document to definition: sourceclose">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sourceclose"
                aria-label="Permalink for definition: sourceclose. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sourceclose-1" title="§ 3.15.2 Detaching from a media element">§ 3.15.2 Detaching
                    from a media element</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-cross-context-communication-model"
        aria-label="Links in this document to definition: Cross-context communication model">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-cross-context-communication-model"
                aria-label="Permalink for definition: Cross-context communication model. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-cross-context-communication-model-1" title="§ 4.1 Transfer">§ 4.1 Transfer</a>
            </li>
            <li>
                <a href="#ref-for-dfn-cross-context-communication-model-2" title="§ 10.2 HTMLMediaElement's buffered">§
                    10.2 HTMLMediaElement's buffered</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-port-to-main"
        aria-label="Links in this document to definition: [[port to main]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-port-to-main"
                aria-label="Permalink for definition: [[port to main]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-port-to-main-1" title="§ 3.14 Cross-context communication model">§ 3.14
                    Cross-context communication model</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-main-2" title="§ 3.15.1 Attaching to a media element">§ 3.15.1 Attaching
                    to a media element</a> <a href="#ref-for-dfn-port-to-main-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-main-4" title="§ 3.15.2 Detaching from a media element">§ 3.15.2 Detaching
                    from a media element</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-main-5" title="§ 3.15.5 Changes to selected/enabled track state">§ 3.15.5
                    Changes to selected/enabled track state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-main-6" title="§ 3.15.8 Mirror if necessary">§ 3.15.8 Mirror if
                    necessary</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-main-7" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dfn-port-to-main-8"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-port-to-main-9" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-main-10" title="§ 10.1 HTMLMediaElement's seekable">§ 10.1
                    HTMLMediaElement's seekable</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-main-11" title="§ 10.2 HTMLMediaElement's buffered">§ 10.2
                    HTMLMediaElement's buffered</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-port-to-worker"
        aria-label="Links in this document to definition: [[port to worker]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-port-to-worker"
                aria-label="Permalink for definition: [[port to worker]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-port-to-worker-1" title="§ 3.14 Cross-context communication model">§ 3.14
                    Cross-context communication model</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-worker-2" title="§ 3.15.1 Attaching to a media element">§ 3.15.1 Attaching
                    to a media element</a> <a href="#ref-for-dfn-port-to-worker-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-worker-4" title="§ 3.15.2 Detaching from a media element">§ 3.15.2
                    Detaching from a media element</a> <a href="#ref-for-dfn-port-to-worker-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-worker-6" title="§ 3.15.5 Changes to selected/enabled track state">§
                    3.15.5 Changes to selected/enabled track state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-port-to-worker-7" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-channel-with-worker"
        aria-label="Links in this document to definition: [[channel with worker]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-channel-with-worker"
                aria-label="Permalink for definition: [[channel with worker]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-channel-with-worker-1" title="§ 3.14 Cross-context communication model">§ 3.14
                    Cross-context communication model</a>
            </li>
            <li>
                <a href="#ref-for-dfn-channel-with-worker-2" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a> <a href="#ref-for-dfn-channel-with-worker-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-channel-with-worker-4" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-channel-with-worker-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-channel-with-worker-6" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-channel-with-worker-7" title="§ 3.15.2 Detaching from a media element">§ 3.15.2
                    Detaching from a media element</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-attaching-to-a-media-element"
        aria-label="Links in this document to definition: Attaching to a media element">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-attaching-to-a-media-element"
                aria-label="Permalink for definition: Attaching to a media element. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-attaching-to-a-media-element-1" title="§ 3. MediaSource interface">§ 3.
                    MediaSource interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-attaching-to-a-media-element-2" title="§ 3.14 Cross-context communication model">§
                    3.14 Cross-context communication model</a>
            </li>
            <li>
                <a href="#ref-for-dfn-attaching-to-a-media-element-3" title="§ 4. MediaSourceHandle interface">§ 4.
                    MediaSourceHandle interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-attaching-to-a-media-element-4" title="§ 4.1 Transfer">§ 4.1 Transfer</a> <a
                    href="#ref-for-dfn-attaching-to-a-media-element-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-attaching-to-a-media-element-6" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-detaching-from-a-media-element"
        aria-label="Links in this document to definition: Detaching from a media element">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-detaching-from-a-media-element"
                aria-label="Permalink for definition: Detaching from a media element. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-seeking"
        aria-label="Links in this document to definition: Seeking">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-seeking"
                aria-label="Permalink for definition: Seeking. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sourcebuffer-monitoring"
        aria-label="Links in this document to definition: SourceBuffer Monitoring">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sourcebuffer-monitoring"
                aria-label="Permalink for definition: SourceBuffer Monitoring. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sourcebuffer-monitoring-1" title="§ 7.3.1 ManagedSourceBuffer Monitoring">§ 7.3.1
                    ManagedSourceBuffer Monitoring</a> <a href="#ref-for-dfn-sourcebuffer-monitoring-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-enough-data"
        aria-label="Links in this document to definition: enough data to ensure uninterrupted playback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#enough-data"
                aria-label="Permalink for definition: enough data to ensure uninterrupted playback. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-enough-data-1" title="§ 3.15.4 SourceBuffer Monitoring">§ 3.15.4 SourceBuffer
                    Monitoring</a> <a href="#ref-for-enough-data-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-enough-data-3" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-changes-to-selected-enabled-track-state"
        aria-label="Links in this document to definition: Changes to selected/enabled track state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-changes-to-selected-enabled-track-state"
                aria-label="Permalink for definition: Changes to selected/enabled track state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-duration-change"
        aria-label="Links in this document to definition: Duration change">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-duration-change"
                aria-label="Permalink for definition: Duration change. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-duration-change-1" title="§ 3.5 duration attribute">§ 3.5 duration attribute</a>
                <a href="#ref-for-dfn-duration-change-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-change-3" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-change-4" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dfn-duration-change-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-change-6" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-end-of-stream"
        aria-label="Links in this document to definition: End of stream">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-end-of-stream"
                aria-label="Permalink for definition: End of stream. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-end-of-stream-1" title="§ 3.9 endOfStream() method">§ 3.9 endOfStream() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-end-of-stream-2" title="§ 5.5.3 Append Error">§ 5.5.3 Append Error</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-mirror-if-necessary"
        aria-label="Links in this document to definition: Mirror if necessary">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-mirror-if-necessary"
                aria-label="Permalink for definition: Mirror if necessary. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-mirror-if-necessary-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a> <a href="#ref-for-dfn-mirror-if-necessary-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-mirror-if-necessary-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-mirror-if-necessary-4" title="§ 3.15.6 Duration change">§ 3.15.6 Duration
                    change</a>
            </li>
            <li>
                <a href="#ref-for-dfn-mirror-if-necessary-5" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
                <a href="#ref-for-dfn-mirror-if-necessary-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-mirror-if-necessary-7" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dfn-mirror-if-necessary-8"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediasourcehandle"
        aria-label="Links in this document to definition: MediaSourceHandle">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediasourcehandle"
                aria-label="Permalink for definition: MediaSourceHandle. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1737388085">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a> <a href="#ref-for-dom-mediasourcehandle-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-3" title="§ 3.1 handle attribute">§ 3.1 handle attribute</a> <a
                    href="#ref-for-dom-mediasourcehandle-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-5" title="§ 3.14 Cross-context communication model">§ 3.14
                    Cross-context communication model</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-6" title="§ 3.15.1 Attaching to a media element">§ 3.15.1
                    Attaching to a media element</a> <a href="#ref-for-dom-mediasourcehandle-7"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasourcehandle-8" title="Reference 3">(3)</a>
                <a href="#ref-for-dom-mediasourcehandle-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasourcehandle-10" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-mediasourcehandle-11" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-mediasourcehandle-12" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-13" title="§ 4. MediaSourceHandle interface">§ 4.
                    MediaSourceHandle interface</a> <a href="#ref-for-dom-mediasourcehandle-14"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasourcehandle-15" title="Reference 3">(3)</a>
                <a href="#ref-for-dom-mediasourcehandle-16" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasourcehandle-17" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-mediasourcehandle-18" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-19" title="§ 4.1 Transfer">§ 4.1 Transfer</a> <a
                    href="#ref-for-dom-mediasourcehandle-20" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-mediasourcehandle-21" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-mediasourcehandle-22" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-mediasourcehandle-23" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-mediasourcehandle-24" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-mediasourcehandle-25" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-mediasourcehandle-26" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-mediasourcehandle-27" title="Reference 9">(9)</a> <a
                    href="#ref-for-dom-mediasourcehandle-28" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-29" title="§ 10. HTMLMediaElement Extensions">§ 10.
                    HTMLMediaElement Extensions</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediasourcehandle-30" title="§ 10.3 HTMLMediaElement's srcObject">§ 10.3
                    HTMLMediaElement's srcObject</a> <a href="#ref-for-dom-mediasourcehandle-31"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediasourcehandle-32" title="Reference 3">(3)</a>
                <a href="#ref-for-dom-mediasourcehandle-33" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-has-ever-been-assigned-as-srcobject"
        aria-label="Links in this document to definition: [[has ever been assigned as srcobject]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-has-ever-been-assigned-as-srcobject"
                aria-label="Permalink for definition: [[has ever been assigned as srcobject]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-has-ever-been-assigned-as-srcobject-1" title="§ 4.1 Transfer">§ 4.1 Transfer</a>
            </li>
            <li>
                <a href="#ref-for-dfn-has-ever-been-assigned-as-srcobject-2"
                    title="§ 10.3 HTMLMediaElement's srcObject">§ 10.3 HTMLMediaElement's srcObject</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-detached"
        aria-label="Links in this document to definition: [[Detached]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-detached"
                aria-label="Permalink for definition: [[Detached]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-detached-1" title="§ 3.15.1 Attaching to a media element">§ 3.15.1 Attaching to a
                    media element</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer"
        aria-label="Links in this document to definition: SourceBuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer"
                aria-label="Permalink for definition: SourceBuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                    href="#ref-for-dom-sourcebuffer-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-4" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dom-sourcebuffer-5" title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-6"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-sourcebuffer-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-8" title="Reference 5">(5)</a> <a href="#ref-for-dom-sourcebuffer-9"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-10" title="§ 3. MediaSource interface">§ 3. MediaSource interface</a>
                <a href="#ref-for-dom-sourcebuffer-11" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-12" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-13" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-14" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-sourcebuffer-15" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-16" title="§ 3.2 sourceBuffers attribute">§ 3.2 sourceBuffers
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-17" title="§ 3.3 activeSourceBuffers attribute">§ 3.3
                    activeSourceBuffers attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-18" title="§ 3.5 duration attribute">§ 3.5 duration attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-19" title="§ 3.7 addSourceBuffer() method">§ 3.7 addSourceBuffer()
                    method</a> <a href="#ref-for-dom-sourcebuffer-20" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-21" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-22" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-23" title="§ 3.9 endOfStream() method">§ 3.9 endOfStream() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-24" title="§ 3.12 isTypeSupported() method">§ 3.12 isTypeSupported()
                    method</a> <a href="#ref-for-dom-sourcebuffer-25" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-26" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-27" title="§ 3.15.2 Detaching from a media element">§ 3.15.2
                    Detaching from a media element</a> <a href="#ref-for-dom-sourcebuffer-28"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-29" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-30" title="§ 3.15.4 SourceBuffer Monitoring">§ 3.15.4 SourceBuffer
                    Monitoring</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-31" title="§ 3.15.5 Changes to selected/enabled track state">§ 3.15.5
                    Changes to selected/enabled track state</a> <a href="#ref-for-dom-sourcebuffer-32"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-33" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-34" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-35" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-sourcebuffer-36" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-sourcebuffer-37" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-sourcebuffer-38" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-sourcebuffer-39" title="Reference 9">(9)</a> <a
                    href="#ref-for-dom-sourcebuffer-40" title="Reference 10">(10)</a> <a
                    href="#ref-for-dom-sourcebuffer-41" title="Reference 11">(11)</a> <a
                    href="#ref-for-dom-sourcebuffer-42" title="Reference 12">(12)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-43" title="§ 3.15.6 Duration change">§ 3.15.6 Duration change</a> <a
                    href="#ref-for-dom-sourcebuffer-44" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-45" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-46" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-47" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dom-sourcebuffer-48" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-49" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-50" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-51" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-sourcebuffer-52" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-53" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-54" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-55" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-sourcebuffer-56" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-sourcebuffer-57" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-sourcebuffer-58" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-sourcebuffer-59" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-60" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-dom-sourcebuffer-61" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-62" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-63" title="§ 5.4 Event Summary">§ 5.4 Event Summary</a> <a
                    href="#ref-for-dom-sourcebuffer-64" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-65" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-66" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-67" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-sourcebuffer-68" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-69" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dom-sourcebuffer-70" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-71" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-72" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-73" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-sourcebuffer-74" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-sourcebuffer-75" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-sourcebuffer-76" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-sourcebuffer-77" title="Reference 9">(9)</a> <a
                    href="#ref-for-dom-sourcebuffer-78" title="Reference 10">(10)</a> <a
                    href="#ref-for-dom-sourcebuffer-79" title="Reference 11">(11)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-80" title="§ 5.5.3 Append Error">§ 5.5.3 Append Error</a> <a
                    href="#ref-for-dom-sourcebuffer-81" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-82" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a> <a
                    href="#ref-for-dom-sourcebuffer-83" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-84" title="§ 5.5.5 Buffer Append">§ 5.5.5 Buffer Append</a> <a
                    href="#ref-for-dom-sourcebuffer-85" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-86" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a> <a
                    href="#ref-for-dom-sourcebuffer-87" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-88" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-89" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dom-sourcebuffer-90"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-91" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-92" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-93" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-sourcebuffer-94" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-sourcebuffer-95" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-sourcebuffer-96" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-sourcebuffer-97" title="Reference 9">(9)</a> <a
                    href="#ref-for-dom-sourcebuffer-98" title="Reference 10">(10)</a> <a
                    href="#ref-for-dom-sourcebuffer-99" title="Reference 11">(11)</a> <a
                    href="#ref-for-dom-sourcebuffer-100" title="Reference 12">(12)</a> <a
                    href="#ref-for-dom-sourcebuffer-101" title="Reference 13">(13)</a> <a
                    href="#ref-for-dom-sourcebuffer-102" title="Reference 14">(14)</a> <a
                    href="#ref-for-dom-sourcebuffer-103" title="Reference 15">(15)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-104" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-105" title="§ 5.5.10 Coded Frame Eviction">§ 5.5.10 Coded Frame
                    Eviction</a> <a href="#ref-for-dom-sourcebuffer-106" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-107" title="§ 6. SourceBufferList interface">§ 6. SourceBufferList
                    interface</a> <a href="#ref-for-dom-sourcebuffer-108" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-109" title="§ 6.1 Attributes">§ 6.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-110" title="§ 6.2 Methods">§ 6.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-111" title="§ 6.3 Event Summary">§ 6.3 Event Summary</a> <a
                    href="#ref-for-dom-sourcebuffer-112" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-113" title="§ 9. ManagedSourceBuffer interface">§ 9.
                    ManagedSourceBuffer interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-114" title="§ 10.2 HTMLMediaElement's buffered">§ 10.2
                    HTMLMediaElement's buffered</a> <a href="#ref-for-dom-sourcebuffer-115" title="Reference 2">(2)</a>
                <a href="#ref-for-dom-sourcebuffer-116" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-117" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-118" title="§ 11. AudioTrack extensions">§ 11. AudioTrack
                    extensions</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-119" title="§ Attributes">§ Attributes</a> <a
                    href="#ref-for-dom-sourcebuffer-120" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-121" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-122" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-123" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-sourcebuffer-125" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-sourcebuffer-126" title="Reference 7">(7)</a> <a
                    href="#ref-for-dom-sourcebuffer-127" title="Reference 8">(8)</a> <a
                    href="#ref-for-dom-sourcebuffer-128" title="Reference 9">(9)</a> <a
                    href="#ref-for-dom-sourcebuffer-129" title="Reference 10">(10)</a> <a
                    href="#ref-for-dom-sourcebuffer-131" title="Reference 11">(11)</a> <a
                    href="#ref-for-dom-sourcebuffer-132" title="Reference 12">(12)</a> <a
                    href="#ref-for-dom-sourcebuffer-133" title="Reference 13">(13)</a> <a
                    href="#ref-for-dom-sourcebuffer-134" title="Reference 14">(14)</a> <a
                    href="#ref-for-dom-sourcebuffer-135" title="Reference 15">(15)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-124" title="§ 12. VideoTrack extensions">§ 12. VideoTrack
                    extensions</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-130" title="§ 13. TextTrack extensions">§ 13. TextTrack
                    extensions</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-136" title="§ 14. Byte Stream Formats">§ 14. Byte Stream Formats</a>
                <a href="#ref-for-dom-sourcebuffer-137" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-138" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-appendmode"
        aria-label="Links in this document to definition: AppendMode">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-appendmode"
                aria-label="Permalink for definition: AppendMode. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-appendmode-1" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-2" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-appendmode-segments"
        aria-label="Links in this document to definition: segments">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-appendmode-segments"
                aria-label="Permalink for definition: segments. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-955395090">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-appendmode-segments-1" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-segments-2" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-segments-3" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-segments-4" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-segments-5" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-appendmode-sequence"
        aria-label="Links in this document to definition: sequence">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-appendmode-sequence"
                aria-label="Permalink for definition: sequence. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-955395090">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-1" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-2" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a> <a href="#ref-for-dom-appendmode-sequence-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-4" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dom-appendmode-sequence-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-6" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-7" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dom-appendmode-sequence-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-9" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-10" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-dom-appendmode-sequence-11" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-appendmode-sequence-12" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-mode"
        aria-label="Links in this document to definition: mode">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-mode"
                aria-label="Permalink for definition: mode. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-1" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a> <a href="#ref-for-dom-sourcebuffer-mode-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-3" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-4" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-5" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-sourcebuffer-mode-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-7" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-8" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dom-sourcebuffer-mode-9" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-10" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-11" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-dom-sourcebuffer-mode-12" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-mode-13" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-mode-14" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a> <a href="#ref-for-dom-sourcebuffer-mode-15" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-updating"
        aria-label="Links in this document to definition: updating">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-updating"
                aria-label="Permalink for definition: updating. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-1" title="§ 3.5 duration attribute">§ 3.5 duration
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-2" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a> <a href="#ref-for-dom-sourcebuffer-updating-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-4" title="§ 3.9 endOfStream() method">§ 3.9 endOfStream()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-5" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-6" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-9" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-10" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-11" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-12" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-13" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-14" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-15" title="§ 5.4 Event Summary">§ 5.4 Event Summary</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-16" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-17" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-sourcebuffer-updating-18" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-19" title="§ 5.5.3 Append Error">§ 5.5.3 Append Error</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-20" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare
                    Append</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-21" title="§ 5.5.5 Buffer Append">§ 5.5.5 Buffer Append</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-updating-22" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a>
                <a href="#ref-for-dom-sourcebuffer-updating-23" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-buffered"
        aria-label="Links in this document to definition: buffered">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-buffered"
                aria-label="Permalink for definition: buffered. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-buffered-1" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a> <a
                    href="#ref-for-dom-sourcebuffer-buffered-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-buffered-3" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-buffered-4" title="§ 5.5.10 Coded Frame Eviction">§ 5.5.10 Coded
                    Frame Eviction</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-buffered-5" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered
                    Change</a> <a href="#ref-for-dom-sourcebuffer-buffered-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-sourcebuffer-buffered-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-buffered-8" title="§ 10.2 HTMLMediaElement's buffered">§ 10.2
                    HTMLMediaElement's buffered</a> <a href="#ref-for-dom-sourcebuffer-buffered-9"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-buffered-10"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-buffered-11" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-timestampoffset"
        aria-label="Links in this document to definition: timestampOffset">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-timestampoffset"
                aria-label="Permalink for definition: timestampOffset. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-timestampoffset-1" title="§ 5. SourceBuffer interface">§ 5.
                    SourceBuffer interface</a> <a href="#ref-for-dom-sourcebuffer-timestampoffset-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-timestampoffset-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-timestampoffset-4" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-timestampoffset-5" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1
                    Segment Parser Loop</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-timestampoffset-6" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8
                    Coded Frame Processing</a> <a href="#ref-for-dom-sourcebuffer-timestampoffset-7"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-timestampoffset-8"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-sourcebuffer-timestampoffset-9"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-sourcebuffer-timestampoffset-10"
                    title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-audiotracks"
        aria-label="Links in this document to definition: audioTracks">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-audiotracks"
                aria-label="Permalink for definition: audioTracks. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-audiotracks-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-audiotracks-2" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-audiotracks-3" title="§ 5.5.7 Initialization Segment Received">§
                    5.5.7 Initialization Segment Received</a> <a href="#ref-for-dom-sourcebuffer-audiotracks-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-audiotracks-5"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-videotracks"
        aria-label="Links in this document to definition: videoTracks">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-videotracks"
                aria-label="Permalink for definition: videoTracks. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-videotracks-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-videotracks-2" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-videotracks-3" title="§ 5.5.7 Initialization Segment Received">§
                    5.5.7 Initialization Segment Received</a> <a href="#ref-for-dom-sourcebuffer-videotracks-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-videotracks-5"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-texttracks"
        aria-label="Links in this document to definition: textTracks">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-texttracks"
                aria-label="Permalink for definition: textTracks. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-texttracks-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-texttracks-2" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-texttracks-3" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dom-sourcebuffer-texttracks-4"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-sourcebuffer-appendwindowstart"
        aria-label="Links in this document to definition: appendWindowStart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-appendwindowstart"
                aria-label="Permalink for definition: appendWindowStart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowstart-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowstart-2" title="§ 5. SourceBuffer interface">§ 5.
                    SourceBuffer interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowstart-3" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowstart-4" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowstart-5" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8
                    Coded Frame Processing</a> <a href="#ref-for-dom-sourcebuffer-appendwindowstart-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-appendwindowstart-7"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-sourcebuffer-appendwindowstart-8"
                    title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-appendwindowend"
        aria-label="Links in this document to definition: appendWindowEnd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-appendwindowend"
                aria-label="Permalink for definition: appendWindowEnd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowend-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowend-2" title="§ 5. SourceBuffer interface">§ 5.
                    SourceBuffer interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowend-3" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowend-4" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendwindowend-5" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8
                    Coded Frame Processing</a> <a href="#ref-for-dom-sourcebuffer-appendwindowend-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-appendwindowend-7"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-onupdatestart"
        aria-label="Links in this document to definition: onupdatestart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-onupdatestart"
                aria-label="Permalink for definition: onupdatestart. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-onupdatestart-1" title="§ 5. SourceBuffer interface">§ 5.
                    SourceBuffer interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-onupdate"
        aria-label="Links in this document to definition: onupdate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-onupdate"
                aria-label="Permalink for definition: onupdate. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-onupdate-1" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-onupdateend"
        aria-label="Links in this document to definition: onupdateend">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-onupdateend"
                aria-label="Permalink for definition: onupdateend. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-onupdateend-1" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-onerror"
        aria-label="Links in this document to definition: onerror">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-onerror"
                aria-label="Permalink for definition: onerror. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-onerror-1" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-onabort"
        aria-label="Links in this document to definition: onabort">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-onabort"
                aria-label="Permalink for definition: onabort. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-onabort-1" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-appendbuffer"
        aria-label="Links in this document to definition: appendBuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-appendbuffer"
                aria-label="Permalink for definition: appendBuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-1" title="§ 3.5 duration attribute">§ 3.5 duration
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-2" title="§ 3.15.1 Attaching to a media element">§
                    3.15.1 Attaching to a media element</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-3" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-4" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-5" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-6" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-7" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment
                    Parser Loop</a> <a href="#ref-for-dom-sourcebuffer-appendbuffer-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-9" title="§ 5.5.5 Buffer Append">§ 5.5.5 Buffer
                    Append</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-10" title="§ 9.2 Event Summary">§ 9.2 Event Summary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-11" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered
                    Change</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-appendbuffer-12" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-abort"
        aria-label="Links in this document to definition: abort">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-abort"
                aria-label="Permalink for definition: abort. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-abort-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-abort-2" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-abort-3" title="§ 5.4 Event Summary">§ 5.4 Event Summary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-changetype"
        aria-label="Links in this document to definition: changeType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-changetype"
                aria-label="Permalink for definition: changeType. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-changetype-1" title="§ Status of This Document">§ Status of This
                    Document</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-changetype-2" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-changetype-3" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-changetype-4" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-changetype-5" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment
                    Parser Loop</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-changetype-6" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dom-sourcebuffer-changetype-7"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-sourcebuffer-changetype-8"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-sourcebuffer-changetype-9"
                    title="Reference 4">(4)</a> <a href="#ref-for-dom-sourcebuffer-changetype-10"
                    title="Reference 5">(5)</a> <a href="#ref-for-dom-sourcebuffer-changetype-11"
                    title="Reference 6">(6)</a> <a href="#ref-for-dom-sourcebuffer-changetype-12"
                    title="Reference 7">(7)</a> <a href="#ref-for-dom-sourcebuffer-changetype-13"
                    title="Reference 8">(8)</a> <a href="#ref-for-dom-sourcebuffer-changetype-14"
                    title="Reference 9">(9)</a> <a href="#ref-for-dom-sourcebuffer-changetype-15"
                    title="Reference 10">(10)</a> <a href="#ref-for-dom-sourcebuffer-changetype-16"
                    title="Reference 11">(11)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-changetype-17" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a> <a href="#ref-for-dom-sourcebuffer-changetype-18" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebuffer-remove"
        aria-label="Links in this document to definition: remove">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebuffer-remove"
                aria-label="Permalink for definition: remove. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-544711679">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebuffer-remove-1" title="§ 3.15.6 Duration change">§ 3.15.6 Duration
                    change</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-remove-2" title="§ 5. SourceBuffer interface">§ 5. SourceBuffer
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-remove-3" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-remove-4" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-remove-5" title="§ 9.2 Event Summary">§ 9.2 Event Summary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebuffer-remove-6" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered Change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-track-buffer"
        aria-label="Links in this document to definition: track buffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#track-buffer"
                aria-label="Permalink for definition: track buffer. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-track-buffer-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-2" title="§ 3.15.6 Duration change">§ 3.15.6 Duration change</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-3" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-4" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-track-buffer-5" title="Reference 2">(2)</a> <a href="#ref-for-track-buffer-6"
                    title="Reference 3">(3)</a> <a href="#ref-for-track-buffer-7" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-8" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-track-buffer-9" title="Reference 2">(2)</a> <a href="#ref-for-track-buffer-10"
                    title="Reference 3">(3)</a> <a href="#ref-for-track-buffer-11" title="Reference 4">(4)</a> <a
                    href="#ref-for-track-buffer-12" title="Reference 5">(5)</a> <a href="#ref-for-track-buffer-13"
                    title="Reference 6">(6)</a> <a href="#ref-for-track-buffer-14" title="Reference 7">(7)</a> <a
                    href="#ref-for-track-buffer-15" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-16" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser Loop</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-17" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser State</a> <a
                    href="#ref-for-track-buffer-18" title="Reference 2">(2)</a> <a href="#ref-for-track-buffer-19"
                    title="Reference 3">(3)</a> <a href="#ref-for-track-buffer-20" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-21" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-track-buffer-22" title="Reference 2">(2)</a>
                <a href="#ref-for-track-buffer-23" title="Reference 3">(3)</a> <a href="#ref-for-track-buffer-24"
                    title="Reference 4">(4)</a> <a href="#ref-for-track-buffer-25" title="Reference 5">(5)</a> <a
                    href="#ref-for-track-buffer-26" title="Reference 6">(6)</a> <a href="#ref-for-track-buffer-27"
                    title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-28" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-track-buffer-29" title="Reference 2">(2)</a> <a
                    href="#ref-for-track-buffer-30" title="Reference 3">(3)</a> <a href="#ref-for-track-buffer-31"
                    title="Reference 4">(4)</a> <a href="#ref-for-track-buffer-32" title="Reference 5">(5)</a> <a
                    href="#ref-for-track-buffer-33" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-34" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame Removal</a>
                <a href="#ref-for-track-buffer-35" title="Reference 2">(2)</a> <a href="#ref-for-track-buffer-36"
                    title="Reference 3">(3)</a> <a href="#ref-for-track-buffer-37" title="Reference 4">(4)</a> <a
                    href="#ref-for-track-buffer-38" title="Reference 5">(5)</a> <a href="#ref-for-track-buffer-39"
                    title="Reference 6">(6)</a> <a href="#ref-for-track-buffer-40" title="Reference 7">(7)</a> <a
                    href="#ref-for-track-buffer-41" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-42" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio Splice Frame</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-43" title="§ 5.5.13 Text Splice Frame">§ 5.5.13 Text Splice Frame</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-last-decode-timestamp"
        aria-label="Links in this document to definition: last decode timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#last-decode-timestamp"
                aria-label="Permalink for definition: last decode timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-last-decode-timestamp-1" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-last-decode-timestamp-2" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-last-decode-timestamp-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-last-decode-timestamp-4" title="Reference 3">(3)</a> <a
                    href="#ref-for-last-decode-timestamp-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-last-decode-timestamp-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-last-decode-timestamp-7" title="Reference 6">(6)</a> <a
                    href="#ref-for-last-decode-timestamp-8" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-last-decode-timestamp-9" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a> <a href="#ref-for-last-decode-timestamp-10" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-last-frame-duration"
        aria-label="Links in this document to definition: last frame duration">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#last-frame-duration"
                aria-label="Permalink for definition: last frame duration. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-last-frame-duration-1" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-last-frame-duration-2" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-last-frame-duration-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-last-frame-duration-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-last-frame-duration-5" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-highest-end-timestamp"
        aria-label="Links in this document to definition: highest end timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#highest-end-timestamp"
                aria-label="Permalink for definition: highest end timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-highest-end-timestamp-1" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-highest-end-timestamp-2" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-highest-end-timestamp-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-highest-end-timestamp-4" title="Reference 3">(3)</a> <a
                    href="#ref-for-highest-end-timestamp-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-highest-end-timestamp-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-highest-end-timestamp-7" title="Reference 6">(6)</a> <a
                    href="#ref-for-highest-end-timestamp-8" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-highest-end-timestamp-9" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-need-RAP-flag"
        aria-label="Links in this document to definition: need random access point flag">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#need-RAP-flag"
                aria-label="Permalink for definition: need random access point flag. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-need-RAP-flag-1" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser State</a>
            </li>
            <li>
                <a href="#ref-for-need-RAP-flag-2" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a>
            </li>
            <li>
                <a href="#ref-for-need-RAP-flag-3" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-need-RAP-flag-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-need-RAP-flag-5" title="Reference 3">(3)</a> <a href="#ref-for-need-RAP-flag-6"
                    title="Reference 4">(4)</a> <a href="#ref-for-need-RAP-flag-7" title="Reference 5">(5)</a> <a
                    href="#ref-for-need-RAP-flag-8" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-need-RAP-flag-9" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame Removal</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-track-buffer-ranges"
        aria-label="Links in this document to definition: track buffer ranges">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#track-buffer-ranges"
                aria-label="Permalink for definition: track buffer ranges. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-track-buffer-ranges-1" title="§ 3.15.6 Duration change">§ 3.15.6 Duration change</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-ranges-2" title="§ 3.15.7 End of stream">§ 3.15.7 End of stream</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-ranges-3" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-track-buffer-ranges-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-track-buffer-ranges-5" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-track-buffer-ranges-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-updatestart"
        aria-label="Links in this document to definition: updatestart">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-updatestart"
                aria-label="Permalink for definition: updatestart. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-updatestart-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updatestart-2" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updatestart-3" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updatestart-4" title="§ 8.1 Attributes">§ 8.1 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-update"
        aria-label="Links in this document to definition: update">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-update"
                aria-label="Permalink for definition: update. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-update-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-update-2" title="§ 5.5.5 Buffer Append">§ 5.5.5 Buffer Append</a>
            </li>
            <li>
                <a href="#ref-for-dfn-update-3" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-updateend"
        aria-label="Links in this document to definition: updateend">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-updateend"
                aria-label="Permalink for definition: updateend. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-updateend-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8 removeSourceBuffer()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updateend-2" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updateend-3" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updateend-4" title="§ 5.5.3 Append Error">§ 5.5.3 Append Error</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updateend-5" title="§ 5.5.5 Buffer Append">§ 5.5.5 Buffer Append</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updateend-6" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a>
            </li>
            <li>
                <a href="#ref-for-dfn-updateend-7" title="§ 8.1 Attributes">§ 8.1 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-error"
        aria-label="Links in this document to definition: error">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-error"
                aria-label="Permalink for definition: error. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-error-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-error-2" title="§ 5.5.3 Append Error">§ 5.5.3 Append Error</a>
            </li>
            <li>
                <a href="#ref-for-dfn-error-3" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a> <a
                    href="#ref-for-dfn-error-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-abort"
        aria-label="Links in this document to definition: abort">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-abort"
                aria-label="Permalink for definition: abort. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-abort-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8 removeSourceBuffer()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-abort-2" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-abort-3" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-segment-parser-loop"
        aria-label="Links in this document to definition: Segment Parser Loop">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-segment-parser-loop"
                aria-label="Permalink for definition: Segment Parser Loop. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-segment-parser-loop-1" title="§ 5.5.5 Buffer Append">§ 5.5.5 Buffer Append</a> <a
                    href="#ref-for-dfn-segment-parser-loop-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-segment-parser-loop-3" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a>
            </li>
            <li>
                <a href="#ref-for-dfn-segment-parser-loop-4" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
            <li>
                <a href="#ref-for-dfn-segment-parser-loop-5" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-append-state"
        aria-label="Links in this document to definition: [[append state]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-append-state"
                aria-label="Permalink for definition: [[append state]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-append-state-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dfn-append-state-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-append-state-3" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dfn-append-state-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-append-state-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-append-state-6"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-append-state-7" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-append-state-8" title="Reference 6">(6)</a> <a href="#ref-for-dfn-append-state-9"
                    title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-append-state-10" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser State</a>
                <a href="#ref-for-dfn-append-state-11" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-sourcebuffer-waiting-for-segment"
        aria-label="Links in this document to definition: WAITING_FOR_SEGMENT">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#sourcebuffer-waiting-for-segment"
                aria-label="Permalink for definition: WAITING_FOR_SEGMENT. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-sourcebuffer-waiting-for-segment-1" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1
                    Segment Parser Loop</a> <a href="#ref-for-sourcebuffer-waiting-for-segment-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-sourcebuffer-waiting-for-segment-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-sourcebuffer-waiting-for-segment-4"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-sourcebuffer-waiting-for-segment-5" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset
                    Parser State</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-sourcebuffer-parsing-init-segment"
        aria-label="Links in this document to definition: PARSING_INIT_SEGMENT">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#sourcebuffer-parsing-init-segment"
                aria-label="Permalink for definition: PARSING_INIT_SEGMENT. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-sourcebuffer-parsing-init-segment-1" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1
                    Segment Parser Loop</a> <a href="#ref-for-sourcebuffer-parsing-init-segment-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-sourcebuffer-parsing-media-segment"
        aria-label="Links in this document to definition: PARSING_MEDIA_SEGMENT">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#sourcebuffer-parsing-media-segment"
                aria-label="Permalink for definition: PARSING_MEDIA_SEGMENT. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-sourcebuffer-parsing-media-segment-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-sourcebuffer-parsing-media-segment-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-sourcebuffer-parsing-media-segment-3" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1
                    Segment Parser Loop</a> <a href="#ref-for-sourcebuffer-parsing-media-segment-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-sourcebuffer-parsing-media-segment-5" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset
                    Parser State</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-input-buffer"
        aria-label="Links in this document to definition: [[input buffer]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-input-buffer"
                aria-label="Permalink for definition: [[input buffer]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-input-buffer-1" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
            <li>
                <a href="#ref-for-dfn-input-buffer-2" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dfn-input-buffer-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-input-buffer-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-input-buffer-5"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-input-buffer-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-input-buffer-7" title="Reference 6">(6)</a> <a href="#ref-for-dfn-input-buffer-8"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-input-buffer-9" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-input-buffer-10" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-input-buffer-11" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-input-buffer-12" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser State</a>
                <a href="#ref-for-dfn-input-buffer-13" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-input-buffer-14" title="§ 5.5.10 Coded Frame Eviction">§ 5.5.10 Coded Frame
                    Eviction</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-buffer-full-flag"
        aria-label="Links in this document to definition: [[buffer full flag]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-buffer-full-flag"
                aria-label="Permalink for definition: [[buffer full flag]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-buffer-full-flag-1" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a>
            </li>
            <li>
                <a href="#ref-for-dfn-buffer-full-flag-2" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
            <li>
                <a href="#ref-for-dfn-buffer-full-flag-3" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a> <a href="#ref-for-dfn-buffer-full-flag-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-buffer-full-flag-5" title="§ 5.5.10 Coded Frame Eviction">§ 5.5.10 Coded Frame
                    Eviction</a> <a href="#ref-for-dfn-buffer-full-flag-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-group-start-timestamp"
        aria-label="Links in this document to definition: [[group start timestamp]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-group-start-timestamp"
                aria-label="Permalink for definition: [[group start timestamp]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-group-start-timestamp-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a> <a
                    href="#ref-for-dfn-group-start-timestamp-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-group-start-timestamp-3" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-dfn-group-start-timestamp-4" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded
                    Frame Processing</a> <a href="#ref-for-dfn-group-start-timestamp-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-group-start-timestamp-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-group-start-timestamp-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-group-start-timestamp-8" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-group-start-timestamp-9" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-group-end-timestamp"
        aria-label="Links in this document to definition: [[group end timestamp]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-group-end-timestamp"
                aria-label="Permalink for definition: [[group end timestamp]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-group-end-timestamp-1" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-group-end-timestamp-2" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a>
            </li>
            <li>
                <a href="#ref-for-dfn-group-end-timestamp-3" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-dfn-group-end-timestamp-4" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a> <a href="#ref-for-dfn-group-end-timestamp-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-group-end-timestamp-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-group-end-timestamp-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-group-end-timestamp-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-group-end-timestamp-9" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-group-end-timestamp-10" title="§ 5.5.9 Coded Frame Removal">§ 5.5.9 Coded Frame
                    Removal</a> <a href="#ref-for-dfn-group-end-timestamp-11" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-generate-timestamps-flag"
        aria-label="Links in this document to definition: [[generate timestamps flag]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-generate-timestamps-flag"
                aria-label="Permalink for definition: [[generate timestamps flag]]. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-generate-timestamps-flag-1" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a> <a href="#ref-for-dfn-generate-timestamps-flag-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-generate-timestamps-flag-3" title="§ 5.1 Attributes">§ 5.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-generate-timestamps-flag-4" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dfn-generate-timestamps-flag-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-generate-timestamps-flag-6" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded
                    Frame Processing</a> <a href="#ref-for-dfn-generate-timestamps-flag-7" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-reset-parser-state"
        aria-label="Links in this document to definition: Reset Parser State">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-reset-parser-state"
                aria-label="Permalink for definition: Reset Parser State. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-reset-parser-state-1" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dfn-reset-parser-state-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-reset-parser-state-3" title="§ 5.5.3 Append Error">§ 5.5.3 Append Error</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-append-error"
        aria-label="Links in this document to definition: Append Error">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-append-error"
                aria-label="Permalink for definition: Append Error. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-append-error-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-dfn-append-error-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-append-error-3" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a> <a href="#ref-for-dfn-append-error-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-append-error-5" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a> <a href="#ref-for-dfn-append-error-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-append-error-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-append-error-8" title="§ 14. Byte Stream Formats">§ 14. Byte Stream Formats</a> <a
                    href="#ref-for-dfn-append-error-9" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-prepare-append"
        aria-label="Links in this document to definition: Prepare Append">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-prepare-append"
                aria-label="Permalink for definition: Prepare Append. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-prepare-append-1" title="§ 5.2 Methods">§ 5.2 Methods</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-buffer-append"
        aria-label="Links in this document to definition: Buffer Append">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-buffer-append"
                aria-label="Permalink for definition: Buffer Append. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-buffer-append-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-buffer-append-2" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dfn-buffer-append-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-range-removal"
        aria-label="Links in this document to definition: Range Removal">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-range-removal"
                aria-label="Permalink for definition: Range Removal. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-range-removal-1" title="§ 5.2 Methods">§ 5.2 Methods</a> <a
                    href="#ref-for-dfn-range-removal-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-initialization-segment-received"
        aria-label="Links in this document to definition: Initialization Segment Received">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-initialization-segment-received"
                aria-label="Permalink for definition: Initialization Segment Received. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-initialization-segment-received-1" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1
                    Segment Parser Loop</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initialization-segment-received-2" title="§ 14. Byte Stream Formats">§ 14. Byte
                    Stream Formats</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-first-initialization-segment-received-flag"
        aria-label="Links in this document to definition: [[first initialization segment received flag]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-first-initialization-segment-received-flag"
                aria-label="Permalink for definition: [[first initialization segment received flag]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-first-initialization-segment-received-flag-1"
                    title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser Loop</a>
            </li>
            <li>
                <a href="#ref-for-dfn-first-initialization-segment-received-flag-2"
                    title="§ 5.5.7 Initialization Segment Received">§ 5.5.7 Initialization Segment Received</a> <a
                    href="#ref-for-dfn-first-initialization-segment-received-flag-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-first-initialization-segment-received-flag-4" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-first-initialization-segment-received-flag-5" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-pending-initialization-segment-for-changetype-flag"
        aria-label="Links in this document to definition: [[pending initialization segment for changeType flag]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-pending-initialization-segment-for-changetype-flag"
                aria-label="Permalink for definition: [[pending initialization segment for changeType flag]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-pending-initialization-segment-for-changetype-flag-1" title="§ 5.2 Methods">§ 5.2
                    Methods</a>
            </li>
            <li>
                <a href="#ref-for-dfn-pending-initialization-segment-for-changetype-flag-2"
                    title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser Loop</a>
            </li>
            <li>
                <a href="#ref-for-dfn-pending-initialization-segment-for-changetype-flag-3"
                    title="§ 5.5.7 Initialization Segment Received">§ 5.5.7 Initialization Segment Received</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coded-frame-processing"
        aria-label="Links in this document to definition: Coded Frame Processing">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coded-frame-processing"
                aria-label="Permalink for definition: Coded Frame Processing. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-2" title="§ 3.15.3 Seeking">§ 3.15.3 Seeking</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-3" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a> <a
                    href="#ref-for-dfn-coded-frame-processing-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-processing-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-6" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment
                    Parser Loop</a> <a href="#ref-for-dfn-coded-frame-processing-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coded-frame-processing-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-coded-frame-processing-9" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-10" title="§ 5.5.2 Reset Parser State">§ 5.5.2 Reset Parser
                    State</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-11" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio
                    Splice Frame</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-12" title="§ 5.5.13 Text Splice Frame">§ 5.5.13 Text Splice
                    Frame</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-processing-13" title="§ 8.1 Attributes">§ 8.1 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coded-frame-removal"
        aria-label="Links in this document to definition: Coded Frame Removal">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coded-frame-removal"
                aria-label="Permalink for definition: Coded Frame Removal. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coded-frame-removal-1" title="§ 3.15.6 Duration change">§ 3.15.6 Duration
                    change</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-removal-2" title="§ 5.3 Track Buffers">§ 5.3 Track Buffers</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-removal-3" title="§ 5.5.6 Range Removal">§ 5.5.6 Range Removal</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-removal-4" title="§ 5.5.10 Coded Frame Eviction">§ 5.5.10 Coded Frame
                    Eviction</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-removal-5" title="§ 8.1 Attributes">§ 8.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-removal-6" title="§ 9.3.2 Memory cleanup">§ 9.3.2 Memory cleanup</a>
                <a href="#ref-for-dfn-coded-frame-removal-7" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coded-frame-eviction"
        aria-label="Links in this document to definition: Coded Frame Eviction">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coded-frame-eviction"
                aria-label="Permalink for definition: Coded Frame Eviction. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coded-frame-eviction-1" title="§ 5.5.4 Prepare Append">§ 5.5.4 Prepare Append</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coded-frame-eviction-2" title="§ 8.1 Attributes">§ 8.1 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-audio-splice-frame"
        aria-label="Links in this document to definition: Audio Splice Frame">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-audio-splice-frame"
                aria-label="Permalink for definition: Audio Splice Frame. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-audio-splice-frame-1" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
            <li>
                <a href="#ref-for-dfn-audio-splice-frame-2" title="§ 5.5.12 Audio Splice Rendering">§ 5.5.12 Audio
                    Splice Rendering</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-audio-splice-rendering"
        aria-label="Links in this document to definition: Audio Splice Rendering">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-audio-splice-rendering"
                aria-label="Permalink for definition: Audio Splice Rendering. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-audio-splice-rendering-1" title="§ 5.5.11 Audio Splice Frame">§ 5.5.11 Audio
                    Splice Frame</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-text-splice-frame"
        aria-label="Links in this document to definition: Text Splice Frame">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-text-splice-frame"
                aria-label="Permalink for definition: Text Splice Frame. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-text-splice-frame-1" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebufferlist"
        aria-label="Links in this document to definition: SourceBufferList">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebufferlist"
                aria-label="Permalink for definition: SourceBufferList. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2108728413">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebufferlist-1" title="§ 3. MediaSource interface">§ 3. MediaSource
                    interface</a> <a href="#ref-for-dom-sourcebufferlist-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebufferlist-3" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a> <a href="#ref-for-dom-sourcebufferlist-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebufferlist-5" title="§ 6. SourceBufferList interface">§ 6. SourceBufferList
                    interface</a> <a href="#ref-for-dom-sourcebufferlist-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebufferlist-getter"
        aria-label="Links in this document to definition: getter">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebufferlist-getter"
                aria-label="Permalink for definition: getter. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sourcebufferlist-length"
        aria-label="Links in this document to definition: length">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebufferlist-length"
                aria-label="Permalink for definition: length. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2108728413">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebufferlist-length-1" title="§ 6. SourceBufferList interface">§ 6.
                    SourceBufferList interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-sourcebufferlist-length-2" title="§ 6.2 Methods">§ 6.2 Methods</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-sourcebufferlist-onaddsourcebuffer"
        aria-label="Links in this document to definition: onaddsourcebuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebufferlist-onaddsourcebuffer"
                aria-label="Permalink for definition: onaddsourcebuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2108728413">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebufferlist-onaddsourcebuffer-1" title="§ 6. SourceBufferList interface">§ 6.
                    SourceBufferList interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-sourcebufferlist-onremovesourcebuffer"
        aria-label="Links in this document to definition: onremovesourcebuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sourcebufferlist-onremovesourcebuffer"
                aria-label="Permalink for definition: onremovesourcebuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2108728413">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sourcebufferlist-onremovesourcebuffer-1" title="§ 6. SourceBufferList interface">§
                    6. SourceBufferList interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sourcebufferlist-getter"
        aria-label="Links in this document to definition: getter">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sourcebufferlist-getter"
                aria-label="Permalink for definition: getter. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-addsourcebuffer"
        aria-label="Links in this document to definition: addsourcebuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-addsourcebuffer"
                aria-label="Permalink for definition: addsourcebuffer. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-addsourcebuffer-1" title="§ 3.7 addSourceBuffer() method">§ 3.7 addSourceBuffer()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-addsourcebuffer-2" title="§ 3.15.5 Changes to selected/enabled track state">§
                    3.15.5 Changes to selected/enabled track state</a> <a href="#ref-for-dfn-addsourcebuffer-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-addsourcebuffer-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-addsourcebuffer-5" title="§ 5.5.7 Initialization Segment Received">§ 5.5.7
                    Initialization Segment Received</a>
            </li>
            <li>
                <a href="#ref-for-dfn-addsourcebuffer-6" title="§ 6.1 Attributes">§ 6.1 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-removesourcebuffer"
        aria-label="Links in this document to definition: removesourcebuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-removesourcebuffer"
                aria-label="Permalink for definition: removesourcebuffer. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-removesourcebuffer-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a> <a href="#ref-for-dfn-removesourcebuffer-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-removesourcebuffer-3" title="§ 3.15.2 Detaching from a media element">§ 3.15.2
                    Detaching from a media element</a> <a href="#ref-for-dfn-removesourcebuffer-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-removesourcebuffer-5" title="§ 3.15.5 Changes to selected/enabled track state">§
                    3.15.5 Changes to selected/enabled track state</a> <a href="#ref-for-dfn-removesourcebuffer-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-removesourcebuffer-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-removesourcebuffer-8" title="§ 6.1 Attributes">§ 6.1 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-managedmediasource"
        aria-label="Links in this document to definition: ManagedMediaSource">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-managedmediasource"
                aria-label="Permalink for definition: ManagedMediaSource. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1619111096">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-managedmediasource-1" title="§ Status of This Document">§ Status of This
                    Document</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-2" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-3" title="§ 3.15.2 Detaching from a media element">§ 3.15.2
                    Detaching from a media element</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-4" title="§ 7. ManagedMediaSource interface">§ 7.
                    ManagedMediaSource interface</a> <a href="#ref-for-dom-managedmediasource-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-6" title="§ 7.2 Event Summary">§ 7.2 Event Summary</a> <a
                    href="#ref-for-dom-managedmediasource-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-8" title="§ 7.3.1 ManagedSourceBuffer Monitoring">§ 7.3.1
                    ManagedSourceBuffer Monitoring</a> <a href="#ref-for-dom-managedmediasource-9"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-10" title="§ 9.3.2 Memory cleanup">§ 9.3.2 Memory cleanup</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-managedmediasource-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-managedmediasource-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-managedmediasource-onstartstreaming"
        aria-label="Links in this document to definition: onstartstreaming">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-managedmediasource-onstartstreaming"
                aria-label="Permalink for definition: onstartstreaming. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-managedmediasource-onendstreaming"
        aria-label="Links in this document to definition: onendstreaming">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-managedmediasource-onendstreaming"
                aria-label="Permalink for definition: onendstreaming. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-managedmediasource-streaming"
        aria-label="Links in this document to definition: streaming">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-managedmediasource-streaming"
                aria-label="Permalink for definition: streaming. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1619111096">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-managedmediasource-streaming-1" title="§ 3.15.2 Detaching from a media element">§
                    3.15.2 Detaching from a media element</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-streaming-2" title="§ 7. ManagedMediaSource interface">§ 7.
                    ManagedMediaSource interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-streaming-3" title="§ 7.2 Event Summary">§ 7.2 Event
                    Summary</a> <a href="#ref-for-dom-managedmediasource-streaming-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedmediasource-streaming-5" title="§ 7.3.1 ManagedSourceBuffer Monitoring">§
                    7.3.1 ManagedSourceBuffer Monitoring</a> <a href="#ref-for-dom-managedmediasource-streaming-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-managedmediasource-streaming-7"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-startstreaming"
        aria-label="Links in this document to definition: startstreaming">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-startstreaming"
                aria-label="Permalink for definition: startstreaming. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-startstreaming-1" title="§ 7.3.1 ManagedSourceBuffer Monitoring">§ 7.3.1
                    ManagedSourceBuffer Monitoring</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-endstreaming"
        aria-label="Links in this document to definition: endstreaming">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-endstreaming"
                aria-label="Permalink for definition: endstreaming. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-endstreaming-1" title="§ 7.3.1 ManagedSourceBuffer Monitoring">§ 7.3.1
                    ManagedSourceBuffer Monitoring</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-enough-managed-data-to-ensure-uninterrupted-playback"
        aria-label="Links in this document to definition: enough managed data to ensure uninterrupted playback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-enough-managed-data-to-ensure-uninterrupted-playback"
                aria-label="Permalink for definition: enough managed data to ensure uninterrupted playback. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-enough-managed-data-to-ensure-uninterrupted-playback-1"
                    title="§ 7.3.1 ManagedSourceBuffer Monitoring">§ 7.3.1 ManagedSourceBuffer Monitoring</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-able-to-retrieve-and-buffer-data-in-an-efficient-way"
        aria-label="Links in this document to definition: able to retrieve and buffer data in an efficient way">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-able-to-retrieve-and-buffer-data-in-an-efficient-way"
                aria-label="Permalink for definition: able to retrieve and buffer data in an efficient way. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-able-to-retrieve-and-buffer-data-in-an-efficient-way-1"
                    title="§ 7.3.1 ManagedSourceBuffer Monitoring">§ 7.3.1 ManagedSourceBuffer Monitoring</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-memory-cleanup"
        aria-label="Links in this document to definition: Memory Cleanup">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-memory-cleanup"
                aria-label="Permalink for definition: Memory Cleanup. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-memory-cleanup-1" title="§ 7. ManagedMediaSource interface">§ 7.
                    ManagedMediaSource interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-bufferedchangeevent"
        aria-label="Links in this document to definition: BufferedChangeEvent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-bufferedchangeevent"
                aria-label="Permalink for definition: BufferedChangeEvent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2057880103">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-bufferedchangeevent-1" title="§ Status of This Document">§ Status of This
                    Document</a>
            </li>
            <li>
                <a href="#ref-for-dom-bufferedchangeevent-2" title="§ 8. BufferedChangeEvent interface">§ 8.
                    BufferedChangeEvent interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-bufferedchangeevent-3" title="§ 9.2 Event Summary">§ 9.2 Event Summary</a>
            </li>
            <li>
                <a href="#ref-for-dom-bufferedchangeevent-4" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered Change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-bufferedchangeevent-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-bufferedchangeevent-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-bufferedchangeeventinit"
        aria-label="Links in this document to definition: BufferedChangeEventInit">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-bufferedchangeeventinit"
                aria-label="Permalink for definition: BufferedChangeEventInit. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-bufferedchangeeventinit-1" title="§ 8. BufferedChangeEvent interface">§ 8.
                    BufferedChangeEvent interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-bufferedchangeeventinit-2" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered
                    Change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-bufferedchangeeventinit-addedranges"
        aria-label="Links in this document to definition: addedRanges">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-bufferedchangeeventinit-addedranges"
                aria-label="Permalink for definition: addedRanges. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-bufferedchangeeventinit-addedranges-1" title="§ 9.3.1 Buffered Change">§ 9.3.1
                    Buffered Change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-bufferedchangeeventinit-removedranges"
        aria-label="Links in this document to definition: removedRanges">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-bufferedchangeeventinit-removedranges"
                aria-label="Permalink for definition: removedRanges. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-bufferedchangeeventinit-removedranges-1" title="§ 9.3.1 Buffered Change">§ 9.3.1
                    Buffered Change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-bufferedchangeevent-addedranges"
        aria-label="Links in this document to definition: addedRanges">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-bufferedchangeevent-addedranges"
                aria-label="Permalink for definition: addedRanges. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2057880103">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-bufferedchangeevent-addedranges-1" title="§ 8. BufferedChangeEvent interface">§ 8.
                    BufferedChangeEvent interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-bufferedchangeevent-removedranges"
        aria-label="Links in this document to definition: removedRanges">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-bufferedchangeevent-removedranges"
                aria-label="Permalink for definition: removedRanges. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2057880103">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-bufferedchangeevent-removedranges-1" title="§ 8. BufferedChangeEvent interface">§
                    8. BufferedChangeEvent interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-managedsourcebuffer"
        aria-label="Links in this document to definition: ManagedSourceBuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-managedsourcebuffer"
                aria-label="Permalink for definition: ManagedSourceBuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1682162223">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-managedsourcebuffer-1" title="§ Status of This Document">§ Status of This
                    Document</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedsourcebuffer-2" title="§ 3.7 addSourceBuffer() method">§ 3.7
                    addSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedsourcebuffer-3" title="§ 7. ManagedMediaSource interface">§ 7.
                    ManagedMediaSource interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedsourcebuffer-4" title="§ 9. ManagedSourceBuffer interface">§ 9.
                    ManagedSourceBuffer interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedsourcebuffer-5" title="§ 9.2 Event Summary">§ 9.2 Event Summary</a>
            </li>
            <li>
                <a href="#ref-for-dom-managedsourcebuffer-6" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered Change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-managedsourcebuffer-onbufferedchange"
        aria-label="Links in this document to definition: onbufferedchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-managedsourcebuffer-onbufferedchange"
                aria-label="Permalink for definition: onbufferedchange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1682162223">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-managedsourcebuffer-onbufferedchange-1"
                    title="§ 9. ManagedSourceBuffer interface">§ 9. ManagedSourceBuffer interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-bufferedchange"
        aria-label="Links in this document to definition: bufferedchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-bufferedchange"
                aria-label="Permalink for definition: bufferedchange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-bufferedchange-1" title="§ 7. ManagedMediaSource interface">§ 7.
                    ManagedMediaSource interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-bufferedchange-2" title="§ 9.1 Attributes">§ 9.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-bufferedchange-3" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered Change</a>
            </li>
            <li>
                <a href="#ref-for-dfn-bufferedchange-4" title="§ 9.3.2 Memory cleanup">§ 9.3.2 Memory cleanup</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-memory-cleanup-0"
        aria-label="Links in this document to definition: Memory cleanup">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-memory-cleanup-0"
                aria-label="Permalink for definition: Memory cleanup. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-memory-cleanup-0-1" title="§ 7.3.2 Memory Cleanup">§ 7.3.2 Memory Cleanup</a>
            </li>
            <li>
                <a href="#ref-for-dfn-memory-cleanup-0-2" title="§ 8.1 Attributes">§ 8.1 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-memory-cleanup-0-3" title="§ 9.2 Event Summary">§ 9.2 Event Summary</a>
            </li>
            <li>
                <a href="#ref-for-dfn-memory-cleanup-0-4" title="§ 9.3.1 Buffered Change">§ 9.3.1 Buffered Change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-audiotrack-sourcebuffer"
        aria-label="Links in this document to definition: sourceBuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-audiotrack-sourcebuffer"
                aria-label="Permalink for definition: sourceBuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-935490083">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-audiotrack-sourcebuffer-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-audiotrack-sourcebuffer-2" title="§ 11. AudioTrack extensions">§ 11. AudioTrack
                    extensions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-videotrack-sourcebuffer"
        aria-label="Links in this document to definition: sourceBuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-videotrack-sourcebuffer"
                aria-label="Permalink for definition: sourceBuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-251527976">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-videotrack-sourcebuffer-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-videotrack-sourcebuffer-2" title="§ 12. VideoTrack extensions">§ 12. VideoTrack
                    extensions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-texttrack-sourcebuffer"
        aria-label="Links in this document to definition: sourceBuffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-texttrack-sourcebuffer"
                aria-label="Permalink for definition: sourceBuffer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-959897060">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-texttrack-sourcebuffer-1" title="§ 3.8 removeSourceBuffer() method">§ 3.8
                    removeSourceBuffer() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-texttrack-sourcebuffer-2" title="§ 13. TextTrack extensions">§ 13. TextTrack
                    extensions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-byte-stream-formats"
        aria-label="Links in this document to definition: Byte Stream Formats">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-byte-stream-formats"
                aria-label="Permalink for definition: Byte Stream Formats. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-byte-stream-format-specs"
        aria-label="Links in this document to definition: byte stream format specifications">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#byte-stream-format-specs"
                aria-label="Permalink for definition: byte stream format specifications. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-byte-stream-format-specs-1" title="§ 2. Definitions">§ 2. Definitions</a> <a
                    href="#ref-for-byte-stream-format-specs-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-byte-stream-format-specs-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-byte-stream-format-specs-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-byte-stream-format-specs-5" title="§ 5.5.1 Segment Parser Loop">§ 5.5.1 Segment Parser
                    Loop</a>
            </li>
            <li>
                <a href="#ref-for-byte-stream-format-specs-6" title="§ 5.5.8 Coded Frame Processing">§ 5.5.8 Coded Frame
                    Processing</a>
            </li>
            <li>
                <a href="#ref-for-byte-stream-format-specs-7" title="§ 14. Byte Stream Formats">§ 14. Byte Stream
                    Formats</a>
            </li>
        </ul>
    </div>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>