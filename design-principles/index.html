<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>ウェブプラットフォーム設計原則</title>
    <meta content="NOTE" name="w3c-status">
    <!-- <meta content="Bikeshed version 3f621ba99, updated Mon Jul 28 15:38:36 2025 -0700" name="generator"> -->
    <link href="https://www.w3.org/TR/design-principles/" rel="canonical">
    <!-- <meta content="993e58e8e371479f5af9bcaa4bcff53d1760e838" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <style>
        table.data {
            text-align: left;
            font-size: small;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example " counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-NOTE" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
                <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a>
        </p>
        <h1 class="p-name no-ref" id="title">ウェブプラットフォーム設計原則</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#NOTE">W3Cグループノート</a>,
            <time class="dt-updated" datetime="2025-12-09">2025年12月9日</time>
        </p>
        <details open>
            <summary>この文書についての詳細</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>このバージョン:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2025/NOTE-design-principles-20251209/">https://www.w3.org/TR/2025/NOTE-design-principles-20251209/</a>
                    <dt>最新公開バージョン:
                    <dd><a href="https://www.w3.org/TR/design-principles/">https://www.w3.org/TR/design-principles/</a>
                    <dt>編集者ドラフト:
                    <dd><a
                            href="https://w3ctag.github.io/design-principles/">https://w3ctag.github.io/design-principles/</a>
                    <dt>以前のバージョン:
                    <dd><a href="https://www.w3.org/TR/2025/NOTE-design-principles-20251202/"
                            rel="prev">https://www.w3.org/TR/2025/NOTE-design-principles-20251202/</a>
                    <dt>履歴:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/design-principles/">https://www.w3.org/standards/history/design-principles/</a>
                    <dt>フィードバック:
                    <dd><a href="https://github.com/w3ctag/design-principles/issues/">GitHub</a>
                    <dt class="editor">編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="68503"><a class="p-name fn u-url url"
                            href="https://lowentropy.net/">Martin Thomson</a> (<a class="p-org org"
                            href="https://www.mozilla.org/">Mozilla</a>)
                    <dd class="editor p-author h-card vcard" data-editor-id="72192"><span class="p-name fn">Jeffrey
                            Yasskin</span> (<a class="p-org org" href="https://www.google.com/">Google</a>)
                    <dt class="editor">以前の編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="52258"><a class="p-name fn u-url url"
                            href="https://lea.verou.me">Lea Verou</a> (<span class="p-org org">招待された専門家</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="42399"><a class="p-name fn u-url url"
                            href="https://sangwhan.com">Sangwhan Moon</a> (<a class="p-org org"
                            href="https://www.google.com/">Google</a>)
                    <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url"
                            href="https://domenic.me/">Domenic Denicola</a> (<a class="p-org org"
                            href="https://www.google.com/">Google</a>) <a class="u-email email"
                            href="mailto:d@domenic.me">d@domenic.me</a>
                    <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                            href="mailto:travil@microsoft.com">Travis Leithead</a> (<span
                            class="p-org org">Microsoft</span>)
                    <dt>作成者:
                    <dd><a href="https://www.w3.org/2001/tag/">TAGのメンバー</a>（過去および現在）
                    <dt>参加:
                    <dd><a href="https://github.com/w3ctag/design-principles">GitHub w3ctag/design-principles</a> (<a
                            href="https://github.com/w3ctag/design-principles/issues/new">課題を提出</a>; <a
                            href="https://github.com/w3ctag/design-principles/issues?state=open">未解決の課題</a>)
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">要約</span></h2>
        <p>この文書は、ウェブプラットフォーム技術を設計する際に使用される一連の設計原則を含みます。これらの原則は、Technical Architecture Group の開発中の仕様を<a
                href="https://github.com/w3ctag/design-reviews/">レビュー</a>する議論の中で収集されたものであり、Ethical Web Principles <a
                data-link-type="biblio" href="#biblio-ethical-web-principles"
                title="Ethical Web Principles">[ethical-web-principles]</a>に基づいています。仕様設計者がこの文書を読み、設計判断を行う際の参考資料として活用することを推奨します。
        </p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">この文書のステータス</span></h2>
    <div data-fill-with="status">
        <p>
            <em>このセクションは、本書が公開された時点での文書のステータスを説明します。現在の<abbr
                    title="World Wide Web Consortium">W3C</abbr>出版物や、この技術レポートの最新版は、<a
                    href="https://www.w3.org/TR/"><abbr title="World Wide Web
    Consortium">W3C</abbr>標準・ドラフト一覧</a>で確認できます。</em>
        </p>
        <p>
            この文書は、<a href="https://www.w3.org/groups/other/tag/">テクニカルアーキテクチャグループ</a>
            によりNoteトラックを用いてグループノートとして公開されました。
            グループノートは<abbr title="World Wide Web
    Consortium">W3C</abbr>およびその会員の承認を受けていません。
        </p>
        <p>
            本書へのご意見・ご感想を歓迎します。<a href="https://github.com/w3ctag/design-principles/issues">issueの提出</a>
            や、<a href="https://github.com/w3ctag/design-principles/">GitHubリポジトリ</a>でご連絡ください。
        </p>
        <p data-deliverer="34270">
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World
    Wide Web Consortium">W3C</abbr>特許ポリシー</a>は、本書にはいかなるライセンス要件や義務も課しません。
        </p>
        <p>
            この文書は、<a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">2025年8月18日版
                W3Cプロセス文書</a>に従って管理されています。
        </p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc">
            <li>
                <a href="#basic-principles"><span class="secno">1</span> <span class="content">Web API設計の基本原則</span></a>
                <ol class="toc">
                    <li><a href="#priority-of-constituencies"><span class="secno">1.1</span> <span
                                class="content">ユーザーのニーズを最優先にする（関係者優先順位）</span></a>
                    <li><a href="#safe-to-browse"><span class="secno">1.2</span> <span
                                class="content">Webページの閲覧を安全にする</span></a>
                    <li><a href="#trusted-ui"><span class="secno">1.3</span> <span
                                class="content">信頼できるユーザーインターフェースを保証する</span></a>
                    <li>
                        <a href="#user-intent"><span class="secno">1.4</span> <span
                                class="content">ユーザーの意図に合わせたデザイン</span></a>
                        <ol class="toc">
                            <li><a href="#user-decisions"><span class="secno">1.4.1</span> <span
                                        class="content">ユーザーが適切な判断を下せるよう支援する</span></a>
                        </ol>
                    <li><a href="#identity"><span class="secno">1.5</span> <span
                                class="content">文脈に応じたアイデンティティの利用</span></a>
                    <li><a href="#devices-platforms"><span class="secno">1.6</span> <span
                                class="content">すべてのデバイス・プラットフォームをサポートする（メディア独立性）</span></a>
                    <li><a href="#new-features"><span class="secno">1.7</span> <span
                                class="content">新機能の追加は慎重に</span></a>
                    <li><a href="#removing-features"><span class="secno">1.8</span> <span
                                class="content">機能の変更や削除の際は、互換性を最優先すること</span></a>
                    <li><a href="#leave-the-web-better"><span class="secno">1.9</span> <span
                                class="content">Webをより良いものにする</span></a>
                    <li><a href="#data-minimization"><span class="secno">1.10</span> <span
                                class="content">ユーザーデータの最小化</span></a>
                </ol>
            <li>
                <a href="#api-across-languages"><span class="secno">2</span> <span
                        class="content">言語横断的なAPI設計</span></a>
                <ol class="toc">
                    <li><a href="#simplicity"><span class="secno">2.1</span> <span
                                class="content">シンプルな解決策を優先する</span></a>
                    <li><a href="#high-level-low-level"><span class="secno">2.2</span> <span
                                class="content">高水準APIと低水準APIのトレードオフを考慮する</span></a>
                    <li><a href="#name-thoughtfully"><span class="secno">2.3</span> <span
                                class="content">名前付けは慎重に</span></a>
                    <li><a href="#consistency"><span class="secno">2.4</span> <span class="content">一貫性を保つ</span></a>
                    <li><a href="#specs-include-guidance"><span class="secno">2.5</span> <span
                                class="content">機能仕様のガイダンスに従う</span></a>
                    <li><a href="#feature-detect"><span class="secno">2.6</span> <span
                                class="content">新機能は検出可能にする</span></a>
                    <li><a href="#text-formats"><span class="secno">2.7</span> <span
                                class="content">テキスト形式は人間のために設計する</span></a>
                    <li><a href="#secure-context"><span class="secno">2.8</span> <span
                                class="content">新機能をセキュアなコンテキストに限定することを検討する</span></a>
                    <li><a href="#do-not-expose-use-of-private-browsing-mode"><span class="secno">2.9</span> <span
                                class="content">プライベートブラウジングモードの利用を明かさない</span></a>
                    <li><a href="#private-browsing-mode"><span class="secno">2.10</span> <span
                                class="content">APIのプライベートブラウジングモード時の挙動を検討する</span></a>
                    <li><a href="#do-not-expose-use-of-assistive-tech"><span class="secno">2.11</span> <span
                                class="content">支援技術の利用状況を明かさない</span></a>
                    <li><a href="#require-user-activation"><span class="secno">2.12</span> <span
                                class="content">強力なAPIにはユーザーアクティベーションを必須とする</span></a>
                    <li><a href="#support-non-fully-active"><span class="secno">2.13</span> <span
                                class="content">非完全アクティブなBFCached文書もサポートする</span></a>
                    <li><a href="#third-party-tools"><span class="secno">2.14</span> <span
                                class="content">サードパーティツールとの互換性より使いやすさを優先する</span></a>
                    <li><a href="#prefer-composition"><span class="secno">2.15</span> <span
                                class="content">複雑な型は単純な型の組み合わせで構築する</span></a>
                </ol>
            <li>
                <a href="#html"><span class="secno">3</span> <span class="content">HTML</span></a>
                <ol class="toc">
                    <li><a href="#attribute-reuse"><span class="secno">3.1</span> <span
                                class="content">類似機能にはHTML属性名を（のみ）再利用する</span></a>
                    <li><a href="#html-lists"><span class="secno">3.2</span> <span
                                class="content">短い値リストにはスペース区切り属性、長いリストには個別要素を使用する</span></a>
                    <li><a href="#avoid-html-parser-blocking"><span class="secno">3.3</span> <span
                                class="content">HTMLパーサーを停止しない</span></a>
                    <li><a href="#avoid-render-blocking"><span class="secno">3.4</span> <span
                                class="content">レンダリングをブロックする機能は避ける</span></a>
                    <li><a href="#html-idl-must-by-synced"><span class="secno">3.5</span> <span
                                class="content">属性の同期を保つ</span></a>
                    <li><a href="#naming-of-url-attributes"><span class="secno">3.6</span> <span
                                class="content">URLを含む属性は主目的に基づいて命名する</span></a>
                    <li><a href="#html-overloading"><span class="secno">3.7</span> <span
                                class="content">各HTML要素は単一の目的を持たせる</span></a>
                </ol>
            <li>
                <a href="#css"><span class="secno">4</span> <span class="content">カスケーディングスタイルシート（CSS）</span></a>
                <ol class="toc">
                    <li><a href="#css-property-separation"><span class="secno">4.1</span> <span
                                class="content">CSSプロパティは独立してカスケードすべきものごとに分ける</span></a>
                    <li><a href="#css-inherited-or-not"><span class="secno">4.2</span> <span
                                class="content">CSSプロパティの継承有無を適切に選択する</span></a>
                    <li><a href="#css-computed-value"><span class="secno">4.3</span> <span
                                class="content">継承方法に応じて算出値型を選ぶ</span></a>
                    <li><a href="#css-naming"><span class="secno">4.4</span> <span
                                class="content">CSSプロパティや値の命名を適切に行う</span></a>
                    <li><a href="#css-content-should-be-visible"><span class="secno">4.5</span> <span
                                class="content">コンテンツはデフォルトで見えてアクセス可能であるべき</span></a>
                </ol>
            <li>
                <a href="#js"><span class="secno">5</span> <span class="content">JavaScript言語</span></a>
                <ol class="toc">
                    <li><a href="#js-only"><span class="secno">5.1</span> <span class="content">Web
                                APIにはJavaScriptを使用する</span></a>
                    <li><a href="#js-rtc"><span class="secno">5.2</span> <span
                                class="content">実行完了セマンティクスを維持する</span></a>
                    <li><a href="#js-gc"><span class="secno">5.3</span> <span
                                class="content">ガベージコレクションを公開しない</span></a>
                </ol>
            <li>
                <a href="#api-surface"><span class="secno">6</span> <span class="content">JavaScript API設計</span></a>
                <ol class="toc">
                    <li><a href="#webidl-dictionaries-interfaces-namespaces"><span class="secno">6.1</span> <span
                                class="content">WebIDLの辞書・インターフェース・名前空間を適切に使用する</span></a>
                    <li><a href="#attributes-like-data"><span class="secno">6.2</span> <span
                                class="content">属性はデータプロパティのように振る舞うべき</span></a>
                    <li><a href="#live-vs-static"><span class="secno">6.3</span> <span
                                class="content">オブジェクトをライブにするか静的にするか検討する</span></a>
                    <li><a href="#attributes-vs-methods"><span class="secno">6.4</span> <span
                                class="content">アクセサはプロパティのように、メソッドのように振る舞わせない</span></a>
                    <li><a href="#prefer-dictionaries"><span class="secno">6.5</span> <span
                                class="content">オプションやプリミティブ引数は辞書で受け付ける</span></a>
                    <li><a href="#optional-parameters"><span class="secno">6.6</span> <span
                                class="content">メソッド引数は可能ならオプションにする</span></a>
                    <li><a href="#naming-optional-parameters"><span class="secno">6.7</span> <span
                                class="content">オプション引数の命名は適切に</span></a>
                    <li><a href="#overloading"><span class="secno">6.8</span> <span
                                class="content">オーバーロードは賢く使う</span></a>
                    <li><a href="#constructors"><span class="secno">6.9</span> <span
                                class="content">クラスには可能ならコンストラクタを持たせる</span></a>
                    <li><a href="#synchronous"><span class="secno">6.10</span> <span
                                class="content">適切な場合は同期的にする</span></a>
                    <li><a href="#promises"><span class="secno">6.11</span> <span
                                class="content">非同期APIはPromiseで設計する</span></a>
                    <li><a href="#aborting"><span class="secno">6.12</span> <span
                                class="content">非同期APIや操作のキャンセルはAbortSignalで行う</span></a>
                    <li><a href="#string-constants"><span class="secno">6.13</span> <span
                                class="content">定数やenum値には文字列を使う</span></a>
                    <li><a href="#async-by-default"><span class="secno">6.14</span> <span
                                class="content">同期・非同期両方が必要なら同期は例外とする</span></a>
                    <li><a href="#uint8array"><span class="secno">6.15</span> <span
                                class="content">バイト配列の出力にはUint8Arrayを使う</span></a>
                    <li><a href="#void-functions"><span class="secno">6.16</span> <span
                                class="content">副作用を持つ関数は<code>undefined</code>を返す</span></a>
                    <li><a href="#prefer-existing-task-sources"><span class="secno">6.17</span> <span
                                class="content">既存のタスクソースを優先する</span></a>
                </ol>
            <li>
                <a href="#event-design"><span class="secno">7</span> <span class="content">イベント設計</span></a>
                <ol class="toc">
                    <li><a href="#one-time-events"><span class="secno">7.1</span> <span
                                class="content">一度限りのイベントにはPromiseを使う</span></a>
                    <li><a href="#promises-and-reaction"><span class="secno">7.2</span> <span
                                class="content">キャンセル可能なイベントにはPromiseを使わない</span></a>
                    <li><a href="#promises-and-events"><span class="secno">7.3</span> <span
                                class="content">関連するPromiseが解決される前にイベントを発火させる</span></a>
                    <li><a href="#dont-invent-event-like"><span class="secno">7.4</span> <span
                                class="content">独自のイベントリスナー様インフラを発明しない</span></a>
                    <li><a href="#always-add-event-handlers"><span class="secno">7.5</span> <span
                                class="content">常にイベントハンドラ属性を追加する</span></a>
                    <li><a href="#events-are-for-notification"><span class="secno">7.6</span> <span
                                class="content">通知にはイベントを使う</span></a>
                    <li><a href="#guard-against-recursion"><span class="secno">7.7</span> <span
                                class="content">再帰の可能性に注意する</span></a>
                    <li><a href="#state-and-subclassing"><span class="secno">7.8</span> <span class="content"><code
                                    class="idl"><span>Event</span></code> ではなく、<code
                                    class="idl"><span>target</span></code> オブジェクトに状態を持たせる</span></a>
                    <li><a href="#events-vs-observers"><span class="secno">7.9</span> <span
                                class="content">イベントとオブザーバーを適切に使い分ける</span></a>
                </ol>
            <li>
                <a href="#types-and-units"><span class="secno">8</span> <span class="content">WebIDL、型、単位</span></a>
                <ol class="toc">
                    <li><a href="#numeric-types"><span class="secno">8.1</span> <span
                                class="content">数値型を適切に使う</span></a>
                    <li><a href="#idl-string-types"><span class="secno">8.2</span> <span
                                class="content">文字列は適切な型で表現する</span></a>
                    <li><a href="#milliseconds"><span class="secno">8.3</span> <span
                                class="content">時間計測にはミリ秒を使う</span></a>
                    <li><a href="#times-and-dates"><span class="secno">8.4</span> <span
                                class="content">時刻・日付は適切な型で表現する</span></a>
                    <li><a href="#error-types"><span class="secno">8.5</span> <span
                                class="content">エラーはErrorかDOMExceptionで表現する</span></a>
                </ol>
            <li>
                <a href="#device-apis"><span class="secno">9</span> <span
                        class="content">デバイスやブラウザー機能へのアクセスをラップするAPI</span></a>
                <ol class="toc">
                    <li><a href="#device-ids"><span class="secno">9.1</span> <span
                                class="content">機能に関する不要な情報は公開しない</span></a>
                    <li><a href="#device-enumeration"><span class="secno">9.2</span> <span
                                class="content">デバイス選択や列挙API公開時は慎重に</span></a>
                    <li><a href="#usecase-oriented-apis"><span class="secno">9.3</span> <span
                                class="content">基盤機能ではなくユーザーニーズに基づいて設計する</span></a>
                    <li><a href="#hardware-is-scary"><span class="secno">9.4</span> <span
                                class="content">安全性を積極的に考慮する</span></a>
                    <li><a href="#wrapper-apis"><span class="secno">9.5</span> <span
                                class="content">ネイティブAPIの適応にはWebプラットフォーム原則を適用する</span></a>
                </ol>
            <li>
                <a href="#other-considerations"><span class="secno">10</span> <span
                        class="content">その他のAPI設計上の考慮事項</span></a>
                <ol class="toc">
                    <li><a href="#polyfills"><span class="secno">10.1</span> <span
                                class="content">新機能にはポリフィルを可能にする</span></a>
                    <li>
                        <a href="#consider-dedicatedworker-support"><span class="secno">10.2</span> <span
                                class="content">可能な限りDedicated WorkerにもAPIを公開する</span></a>
                        <ol class="toc">
                            <li><a href="#worker-only"><span class="secno">10.2.1</span> <span
                                        class="content">一部APIはDedicated Workerのみに公開するべき</span></a>
                        </ol>
                    <li><a href="#expose-everywhere"><span class="secno">10.3</span> <span
                                class="content">純粋な計算機能だけを全ての環境で公開する</span></a>
                    <li><a href="#new-data-formats"><span class="secno">10.4</span> <span
                                class="content">新しいデータフォーマットは正しく追加する</span></a>
                    <li><a href="#extend-manifests"><span class="secno">10.5</span> <span
                                class="content">新しいマニフェストを作るより既存マニフェスト拡張を優先する</span></a>
                    <li><a href="#serialization"><span class="secno">10.6</span> <span
                                class="content">シリアライズ時は利用者を考慮する</span></a>
                    <li><a href="#debuggability"><span class="secno">10.7</span> <span
                                class="content">機能は開発者フレンドリーであること</span></a>
                    <li><a href="#crypto"><span class="secno">10.8</span> <span
                                class="content">最良の暗号技術を使い、進化を想定する</span></a>
                    <li><a href="#client-hints"><span class="secno">10.9</span> <span class="content">Client
                                Hintsで新情報を公開しない</span></a>
                </ol>
            <li>
                <a href="#spec-writing"><span class="secno">11</span> <span class="content">よい仕様を書くために</span></a>
                <ol class="toc">
                    <li><a href="#requirements-on-authors-and-implementers"><span class="secno">11.1</span> <span
                                class="content">仕様の各要件の対象読者を明確にする</span></a>
                    <li>
                        <a href="#avoid-ambiguity"><span class="secno">11.2</span> <span
                                class="content">仕様は完全に記述し曖昧さを避ける</span></a>
                        <ol class="toc">
                            <li><a href="#algorithms"><span class="secno">11.2.1</span> <span
                                        class="content">アルゴリズムは明確に定義する</span></a>
                            <li><a href="#use-flags-for-states"><span class="secno">11.2.2</span> <span
                                        class="content">状態は明示的なフラグで管理する</span></a>
                        </ol>
                    <li><a href="#implementability"><span class="secno">11.3</span> <span
                                class="content">相互運用性と実装容易性の対立解消</span></a>
                    <li>
                        <a href="#monkey-patching"><span class="secno">11.4</span> <span
                                class="content">モンキーパッチは避ける</span></a>
                        <ol class="toc">
                            <li><a href="#cant-avoid-monkey-patching"><span class="secno">11.4.1</span> <span
                                        class="content">どうしてもモンキーパッチが必要な場合</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#naming-is-hard"><span class="secno">12</span> <span class="content">命名原則</span></a>
                <ol class="toc">
                    <li><a href="#naming-common-words"><span class="secno">12.1</span> <span
                                class="content">一般的な単語を使う</span></a>
                    <li><a href="#naming-charset"><span class="secno">12.2</span> <span
                                class="content">ASCII名を使う</span></a>
                    <li><a href="#naming-consultation"><span class="secno">12.3</span> <span
                                class="content">命名は他者と広く相談する</span></a>
                    <li><a href="#naming-future-proofing"><span class="secno">12.4</span> <span
                                class="content">目的を説明する名前を使う</span></a>
                    <li><a href="#naming-consistency"><span class="secno">12.5</span> <span
                                class="content">命名は一貫性を持たせる</span></a>
                    <li><a href="#naming-unsafe"><span class="secno">12.6</span> <span
                                class="content">危険な機能は命名で警告する</span></a>
                </ol>
            <li><a href="#writing-resources"><span class="secno">13</span> <span class="content">その他リソース</span></a>
            <li><a href="#acks"><span class="secno"></span> <span class="content">謝辞</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義される用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照によって定義される用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範的な参考文献</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考情報</span></a>
                </ol>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">プロパティ索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="basic-principles"><span class="secno">1. </span><span
                class="content">Web API設計の基本原則</span><a class="self-link" href="#basic-principles"></a></h2>
        <p>設計原則は、Ethical Web Principles <a data-link-type="biblio" href="#biblio-ethical-web-principles"
                title="Ethical Web Principles">[ethical-web-principles]</a>で定められた倫理的な枠組みに直接基づいています。これらの原則は、ウェブプラットフォームの開発に伴う高次の倫理的責任に応えるための、具体的で実践的な助言を提供します。
        </p>
        <h3 class="heading settled" data-level="1.1" id="priority-of-constituencies"><span class="secno">1.1.
            </span><span class="content">ユーザーのニーズを最優先にする（関係者優先順位）</span><a class="self-link"
                href="#priority-of-constituencies"></a></h3>
        <p>トレードオフが必要な場合は、常にユーザーのニーズを最優先してください。</p>
        <p>同様に、APIの設計を始める際には、そのAPIが解決しようとしているユーザーのニーズを理解し、文書化することを必ず行ってください。</p>
        <p><a href="https://tools.ietf.org/html/rfc8890">インターネットはエンドユーザーのためのものです</a>。
            ウェブプラットフォームに加えられるあらゆる変更は、
            <a href="https://www.w3.org/TR/ethical-web-principles/#allpeople">非常に多くの人々に影響を及ぼす可能性があり</a>、
            それぞれの人の人生に深い影響を与える場合があります。<a data-link-type="biblio" href="#biblio-rfc8890"
                title="The Internet is for End Users">[RFC8890]</a>
        </p>
        <p>ユーザーのニーズはウェブページの作成者のニーズよりも優先され、
            作成者のニーズはユーザーエージェントの実装者のニーズよりも優先され、
            実装者のニーズは仕様策定者のニーズよりも優先され、
            仕様策定者のニーズは理論的純粋性よりも優先されます。</p>
        <p>すべての原則と同様に、これは絶対的なものではありません。
            オーサリングの容易さは、コンテンツがユーザーに届く方法に影響します。
            ユーザーエージェントは限られたエンジニアリング資源を優先する必要があり、
            それは機能が作成者に届く方法に影響します。
            仕様策定者も限られた資源しか持たず、理論的な懸念はこれらすべてのグループの基礎的なニーズを反映しています。</p>
        <p>関連資料：</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/TR/ethical-web-principles/#noharm">ウェブは社会に害を及ぼすべきではありません</a></p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/ethical-web-principles/#control">ウェブは個人のコントロールと力を強化すべきです</a></p>
            <li data-md>
                <p><a data-link-type="biblio" href="#biblio-rfc8890" title="The Internet is for End Users">[RFC8890]</a>
                </p>
        </ul>
        <h3 class="heading settled" data-level="1.2" id="safe-to-browse"><span class="secno">1.2. </span><span
                class="content">Webページの閲覧を安全にする</span><a class="self-link" href="#safe-to-browse"></a></h3>
        <p>新しい機能を追加する際は、
            Webページの閲覧が基本的に安全であるというユーザーの期待を維持するよう設計してください。</p>
        <p>Webはハイパーリンク構造に由来する名前です。
            Webが活気を保つためには、
            ユーザーがどのリンクをクリックしても、
            コンピューターのセキュリティや<a
                href="https://www.w3.org/TR/ethical-web-principles/#privacy">プライバシー</a>の重要な側面に影響を及ぼさないと期待できる必要があります。
        </p>
        <p>例えば、任意のWebサイトが
            <a href="#do-not-expose-use-of-assistive-tech">支援技術の利用を検出</a>できるAPIがあれば、
            これらの技術の利用者は未知のWebページの閲覧に不安を感じるかもしれません。なぜなら、あらゆるWebページがこの個人情報を検出できるからです。
        </p>
        <p>ユーザーが安全性について現実的な期待を持てるならば、
            Webベース技術と他技術の選択を情報に基づき決定できます。
            例えば、ユーザーはWeb上の食品注文ページを利用し、
            アプリをインストールしない選択をすることができます。ネイティブアプリのインストールはWebページの閲覧よりもリスクが高いからです。</p>
        <p>Web上の安全性がユーザーの期待と一致するようにするために、
            新機能の追加にあたり補完的なアプローチを取ることができます:</p>
        <ul>
            <li data-md>
                <p>Webのユーザーインターフェースを改善し、ユーザーが何を期待すべきか（何を期待してはいけないか）を明確にする；</p>
            <li data-md>
                <p>Webの技術的基盤を変更し、プライバシーに関するユーザーの期待に一致させる；</p>
            <li data-md>
                <p>ユーザーの期待が高いほど有益となるケースも考慮し、
                    その場合は技術的基盤と期待の両方を変えるよう努める。</p>
        </ul>
        <p>新しい機能が安全性リスクをもたらす場合でも、
            それによってユーザーがWebページ上でより安全にタスクを実行できるならば、
            ネイティブアプリをインストールするよりも安全性が向上することがあります。
            しかし、この利点はWebページ上でユーザーが合理的に安全性を期待できるという共通目標と天秤にかけて検討する必要があります。</p>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/">セキュリティ・プライバシー自己レビュー</a>
                </p>
        </ul>
        <h3 class="heading settled" data-level="1.3" id="trusted-ui"><span class="secno">1.3. </span><span
                class="content">信頼できるユーザーインターフェースを保証する</span><a class="self-link" href="#trusted-ui"></a></h3>
        <p>新機能が信頼できるユーザーインターフェースに影響を及ぼすかどうか検討してください。</p>
        <p>ユーザーは、アドレスバーやセキュリティインジケータ、権限要求プロンプトなどの信頼できるユーザーインターフェースに依存して、
            自分が誰と、どのようにやり取りしているかを理解しています。
            これらの信頼できるユーザーインターフェースは、
            ユーザーが<a href="https://www.w3.org/TR/ethical-web-principles/#verify">信頼・確認</a>できる方法で設計される必要があります。
            提供される情報が本物であり、Webサイトによる詐称や乗っ取りがないことを保証しなければなりません。</p>
        <p>もし新機能が非信頼インターフェースに
            信頼できるインターフェースと似た外観を持たせてしまう場合、
            ユーザーがどの情報を信頼すべきか理解しづらくなります。</p>
        <p class="example" id="example-59575e9e"><a class="self-link" href="#example-59575e9e"></a>
            例えば、JavaScriptの<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs" id="ref-for-dom-alert-noargs">alert()</a></code>は、
            ブラウザーの一部のように見えるモーダルダイアログを表示できます。
            これはユーザーを詐欺サイトへ誘導するために悪用されることがあります。
            この機能が今提案されたとしたら、おそらく採用されないでしょう。
        </p>
        <h3 class="heading settled" data-level="1.4" id="user-intent"><span class="secno">1.4. </span><span
                class="bs-old-id" id="consent"></span><span class="content">ユーザーの意図に合わせたデザイン</span><a class="self-link"
                href="#user-intent"></a></h3>
        <p>潜在的に安全でない機能にアクセスするとき、ウェブサイトがユーザーの期待に沿うように促すために、APIの設計を用いてください。</p>
        <p>ユーザーのニーズを満たす文脈では、ウェブページが害をもたらす可能性のある機能を利用したいと考えることがあります。そのような機能の利用は、ユーザーの期待がその機能のもたらす影響（例:
            明らかになる個人情報や変化する状態）と一致している場合にのみ可能にすべきです。</p>
        <p>APIの挙動が人々の意図や期待と一致するように設計してください。そうすれば最良の場合、ユーザーはAPIアクセスを許可するために介入する必要がなくなり、後で後悔する決定を下すこともありません。確認を求めるのは例外的な状況だけにしてください。ある機能が簡単に元に戻せるか、永久的な害の可能性がなく軽度の不快感にとどまる場合は、代わりにその機能へのアクセスを停止するオプションをユーザーに提供してください。
        </p>
        <p class="example" id="example-d2d03cc5"><a class="self-link" href="#example-d2d03cc5"></a>
            例えば、ウェブページが音声を再生するために許可を求める必要はありません。サイトが乱用していると判明した場合、音声出力を停止するのは簡単であり、ブラウザにはそのためのさまざまな仕組みがあります。
        </p>
        <h4 class="heading settled" data-level="1.4.1" id="user-decisions"><span class="secno">1.4.1. </span><span
                class="content">ユーザーが適切な判断を下せるよう支援する</span><a class="self-link" href="#user-decisions"></a>
        </h4>
        <p>APIレベルでリスクを制限し、明確さ、文脈、ユーザーによる制御を提供することで、適切な意思決定を支援してください。</p>
        <p>残るリスクを扱う一般的な方法としてユーザーの承認を求めることが行われてきました。しかし、人々は問われた質問に対して十分な文脈や情報を持っていないため、良い判断を下せないことがよくあります。難しいまたは煩わしい質問に直面すると、意思決定の疲労、習慣的な応答、頻繁な中断による苛立ち、そして後悔する決定につながります。
        </p>
        <p>ユーザーの関与が避けられない場合は、ユーザーが良い判断を下せるように支援してください。以下の原則を用いてください：</p>
        <ul>
            <li> <strong>まずAPIレベルでリスクに対処して、誤った判断の結果を限定する。</strong>
                デバイスの侵害や重大な個人データの漏洩のような深刻な結果を招く可能性がある「誤った」判断をユーザーに問うべきではありません。
            <li> <strong>持続する決定については常にフィードバックを提供する。</strong>
                ユーザーの決定が現在のセッションよりも長く続く場合、ユーザーエージェントは過去の決定が依然として有効であることをユーザーに再度知らせるべきです。進行中の権限を取り消す方法を提供してください。APIはサイトが状態の変更を知る方法を含むべきです。
            <li id="ask-understandable-questions"><a class="self-link" href="#ask-understandable-questions"></a>
                <strong>人々が理解できる質問をする。</strong>
                一般的なユーザーがその機能についての質問を読んだとき、関連するリスクを即座に思い浮かべられるべきです。リスクは機能やAPIの有用性と直接結び付いている必要があります。例えば、フィンガープリンティングのリスクは微妙で技術的であり、通常その機能自体とは関係が薄いため、それを受け入れる許可を求めることは通常適切ではありません。
            <li> <strong>十分な文脈を提供する。</strong>
                ユーザーは相手が誰で、どんな決定についてで、サイトが共有された情報をどのように使用するかを容易に理解できる必要があります。
        </ul>
        <p>上記すべての原則に従えない場合、それはユーザーに尋ねること自体が適切でないことを示す可能性が高いです。代わりに、残るリスクに対処するよう機能やAPIを変更してください。</p>
        <div class="note" role="note">
            <p>ブラウザは許可要求の管理に責任を負います。ブラウザはサイトとのユーザーのやり取りがどのようにして許可要求の合理的な期待につながるかを正確に理解することはできません。ウェブプラットフォームは、目的や意図を伝える方法をサイトに多数提供する一方で、欺瞞や策略を用いる手段も提供しています。
            </p>
            <p>したがって、意図を明確に伝える責任は、API設計、ブラウザのユーザーインターフェース設計、そしてサイトの構築方法の間で共有されています。APIの簡単で明白な、あるいはデフォルトの使用パターンに従うことで、ユーザーの意図を尊重することが自然に実現されるのが望ましいです。この原則は、API設計がユーザーの意図を尊重するサイトを構築するよう促すことだけを求めています。
            </p>
        </div>
        <p>あなたの仕様では、<a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use"
                id="ref-for-dfn-request-permission-to-use">使用許可を要求する</a>と<a data-link-type="dfn"
                href="https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose"
                id="ref-for-dfn-prompt-the-user-to-choose">ユーザーに選択を促す</a>アルゴリズムは、同意を求める良い方法です（<a data-link-type="biblio"
                href="#biblio-permissions" title="Permissions">[permissions]</a>より）。</p>
        <p>ユーザーに決定を求めてユーザーが拒否した場合、サイトはユーザーが拒否したと信じているアクセスに基づいて何もできてはなりません。例えば、ユーザーエージェントがあるAPIを通じて情報を明らかにする許可を求めた場合、同じ情報が別のAPIを通じて無許可で利用可能であってはなりません。
        </p>
        <p>拒否は、サイトが拒否を他の一般的な状況と区別できない場合に最も効果的です。これにより、サイトがユーザーに同意を強要することを困難にできます。</p>
        <p>参照：</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/TR/ethical-web-principles/#privacy">ウェブは安全であり、人々のプライバシーを尊重する</a></p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/privacy-principles/#consent-principles">同意の原則</a></p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/permissions/">Permissions</a></p>
        </ul>
        <h3 class="heading settled" data-level="1.5" id="identity"><span class="secno">1.5. </span><span
                class="content">文脈に応じたアイデンティティの利用</span><a class="self-link" href="#identity"></a>
        </h3>
        <p>Web上の異なる文脈で自分に関する識別情報をどのように提示するか、
            人々が<a href="https://www.w3.org/TR/ethical-web-principles/#control">コントロール</a>できるようにし、
            透明性を持たせてください。</p>
        <p>「アイデンティティ」は多様な理解が可能な複雑な概念です。
            自分自身の提示・認識方法、他者・集団・組織との関係、
            行動や他者からの扱い方など、
            さまざまな側面が含まれます。
            Webアーキテクチャでは、「アイデンティティ」はしばしば識別子やそれに付随する情報の略称として使われます。</p>
        <p>識別子や個人データの紐付けを用いる・依存する機能は、
            しばしば1つのAPIやシステムを越えてプライバシーリスクをもたらします。
            これは、Web上の行動など受動的に生成されたデータや、
            フォームで入力されたような能動的に収集されたデータの双方が含まれます。</p>
        <p>そのような機能については、<a
                href="https://www.w3.org/TR/privacy-principles/#identity">利用される文脈</a>（他のウェブ機能とどのように併用されるかを含む）を理解する必要があります。<a
                href="#user-intent">ユーザーの意図に合わせて設計する</a>ことと、<a
                href="#user-decisions">ユーザーが適切な判断を下せるよう支援する</a>ことを確認してください。APIは必要な最小限のデータを収集するよう設計してください。<a
                href="https://www.w3.org/TR/privacy-principles/#data-minimization">必要な最小限のデータ</a>を収集するように設計し、永続的な識別子が絶対に必要な場合を除き、短期間の一時的な識別子を使用してください。
        </p>
        <h3 class="heading settled" data-level="1.6" id="devices-platforms"><span class="secno">1.6. </span><span
                class="content">すべてのデバイス・プラットフォームをサポートする（メディア独立性）</span><a class="self-link"
                href="#devices-platforms"></a></h3>
        <p>可能な限り、
            Webの機能が異なる入力・出力<a
                href="https://www.w3.org/TR/ethical-web-principles/#multi">デバイス、画面サイズ、操作モード、プラットフォーム、メディア</a>で利用できるようにしてください。
        </p>
        <p>Webの主な価値のひとつは、非常に柔軟であることです：
            Webページはほぼすべての消費者向けコンピュータデバイスで閲覧でき、
            多様な画面サイズに対応でき、
            印刷メディアの生成にも使えます。
            多様な操作方法にも対応できます。
            新しい機能はWebプラットフォームの<a href="https://www.w3.org/TR/ethical-web-principles/#render">既存の柔軟性</a>に合わせて設計しましょう。</p>
        <div class="note" role="note">

            これはすべての文脈で機能するものだけを許容するという意味ではありません。
            例えば、ハイパーリンクは紙に印刷した際にはアクセスできませんし、
            <span class="css">click</span>イベントはタッチ入力デバイスでは完全には一致しません。
            タッチではポインタの位置指定とクリックが同じ動作（タップ）で行われるからです。


            <p>これらの機能は多様な文脈で機能し続け、
                本来の意図に対応しないデバイスにも適応できます ―
                例えば、モバイルデバイスのタップは<span class="css">click</span>イベントをフォールバックとして発火します。
            </p>
        </div>
        <p>機能は最も簡単な使い方でも柔軟性を維持できるよう設計しましょう。</p>
        <div class="example" id="example-f162158a"><a class="self-link" href="#example-f162158a"></a>
            CSSの 'display: block', 'display: flex', 'display: grid' レイアウトモデルはすべて、
            デフォルトで利用可能なスペース内にコンテンツを重ならず配置するため、
            画面サイズを問わず動作し、
            ユーザーがフォントやフォントサイズを自由に選んでもテキストがはみ出しません。
        </div>
        <p>機能がある実装やプラットフォームでは利用可能でも、
            他の実装やプラットフォームでは未対応の場合があります。
            その場合でも、コードが優雅に失敗したりポリフィルできるよう設計しましょう。
            <a href="#feature-detect">§ 2.6 新機能は検出可能にする</a>もご参照ください。
        </p>
        <h3 class="heading settled" data-level="1.7" id="new-features"><span class="secno">1.7. </span><span
                class="content">新機能の追加は慎重に</span><a class="self-link" href="#new-features"></a></h3>
        <p>既存の機能やコンテンツを考慮した上でWebに新しい能力を追加しましょう。</p>
        <p>Webには追加のための多くの拡張ポイントがあります；
            例えば<a href="https://html.spec.whatwg.org/multipage/introduction.html#extensibility"><cite>HTML</cite>
                § 1.7.2
                拡張性</a>をご参照ください。</p>
        <p>項目を追加する前に、既存の類似機能との統合を検討してください。
            これにより、項目を追加するだけでは実現できない望ましい設計方針が導き出される場合でも、
            実現可能なことがあります。詳しくは<a href="#removing-features">§ 1.8 機能の変更や削除の際は、互換性を最優先すること</a>を参照してください。</p>
        <p>変更や削除が不可能だと決めつける前に、必ず確認してください。</p>
        <h3 class="heading settled" data-level="1.8" id="removing-features"><span class="secno">1.8. </span><span
                class="content">機能の変更や削除の際は、互換性を最優先すること</span><a class="self-link" href="#removing-features"></a></h3>
        <p>機能の挙動を変更する前に、
            現在ウェブサイトがどのようにその機能を利用しているかを理解してください。</p>
        <p>十分に理解するには調査が必要な場合もあります。
            例えば、広く使われているユーザーエージェントにメトリクスを追加したり、
            <a href="https://har.fyi/guides/getting-started/">HTTP Archiveで検索</a>するなどの方法です。
            コンテンツの破壊はユーザーに害を及ぼすため、
            変更による利益がその害を大きく上回る場合にのみ、
            実施する価値があります
            <a data-link-type="biblio" href="#biblio-the-web-is-unversioned"
                title="The web is unversioned">[the-web-is-unversioned]</a>。
        </p>
        <p>既存の利用状況を把握する義務は、
            標準化されていない、または仕様化されていない機能にも
            コンテンツが依存している場合には当てはまります。
            これにはベンダー独自の機能や
            実装上のバグも含まれます。</p>
        <p>それでも、多くのウェブ利用者の体験を向上させるために
            一部の既存コンテンツを破壊することが
            許容される場合もあります。
            以下の場合、破壊はより許容されやすくなります：</p>
        <ul>
            <li data-md>
                <p>既存のコンテンツのごく一部のみがその機能や挙動に依存している場合。</p>
            <li data-md>
                <p>そのコンテンツを見る人がごくわずかしかいない場合。</p>
            <li data-md>
                <p>そのコンテンツがテストケースや例示のみに存在する場合。</p>
            <li data-md>
                <p>そのコンテンツがすでに広く使われているユーザーエージェントで壊れており、
                    かつ十分なバグ報告が寄せられていない、または変更によって相互運用性の向上が期待される場合。</p>
            <li data-md>
                <p>コンテンツを破壊する利益が非常に大きい場合。
                    例えば、古いSSLやTLSバージョンを削除すると一部のサイトが利用できなくなりますが、
                    より多くのセキュリティ侵害を防ぐことができます。</p>
        </ul>
        <h3 class="heading settled" data-level="1.9" id="leave-the-web-better"><span class="secno">1.9. </span><span
                class="content">Webをより良いものにする</span><a class="self-link" href="#leave-the-web-better"></a></h3>
        <p>Webプラットフォームに新機能を追加する際は、
            プラットフォーム全体の品質向上を目指しましょう。</p>
        <p>プラットフォームのある部分に欠陥があることを理由に、
            その欠陥をさらに拡張・追加することは正当化されません。
            それはプラットフォーム全体の品質をさらに低下させることになります。</p>
        <p>既存の問題ある設計パターンとの一貫性を理由に、
            それらのパターンを新しいWeb APIやプラットフォーム機能に拡張するのは良い理由ではありません。
            可能な場合は、既存の欠陥を軽減することで
            プラットフォーム全体の品質を高める新しいWeb機能を構築しましょう。</p>
        <p>既知の欠陥を持つプラットフォーム機能を拡張する場合は、
            欠陥への対処方法を検討してください。
            既存の問題を完全に解決する必要はありませんが、
            欠陥のある機能を拡張する際は何らかの工夫が期待されます。
            そうすることで新規・増加した利用によって
            欠陥がもたらす害が増大しないようにできます。</p>
        <p>Webプラットフォームの各部分は独立して進化します。
            特定のWeb技術に現時点で問題があっても、
            次回の改訂で修正される可能性があります。
            問題の複製は修正を困難にします。
            この原則を守ることで、プラットフォーム全体の品質向上を確実にしていけます。</p>
        <h3 class="heading settled" data-level="1.10" id="data-minimization"><span class="secno">1.10. </span><span
                class="content">ユーザーデータの最小化</span><a class="self-link" href="#data-minimization"></a></h3>
        <p>機能は、ユーザーの目的を達成するために必要最小限のデータで動作するよう設計してください。</p>
        <p><a href="https://www.w3.org/TR/privacy-principles/#data-minimization">データ最小化</a>は、
            データの不適切な開示や悪用リスクを制限します。</p>
        <p>Web API を設計する際は、サイトがより一般的または大量のデータを扱うよりも、少量のデータやより細かく特定されたデータを要求、収集、送信しやすくなるようにしてください。API は、サイトに伝達される <a
                href="https://www.w3.org/TR/privacy-principles/#dfn-data">個人データ</a>
            を特に含め、粒度やユーザーによる制御を提供するべきです。追加の機能が追加のデータを必要とする場合、API は必要に応じて <a href="#user-intent">ユーザーの意図に合わせて設計</a> し、<a
                href="#user-decisions">ユーザーが適切な判断を下せるよう支援</a> することでそれを可能にできます。</p>
        <div class="example" id="example-fa9c901d"><a class="self-link" href="#example-fa9c901d"></a>
            <a href="#font-enumeration">Font Enumeration API</a>が提案されたことがありますが、
            露出するユーザーデータ量と利用ケースとのバランスが取れないため採用されませんでした。
            代わりに、ユーザーが実際に選択したフォントのみを公開する解決策が提案されました。
        </div>
        <h2 class="heading settled" data-level="2" id="api-across-languages"><span class="secno">2. </span><span
                class="content">言語横断的なAPI設計</span><a class="self-link" href="#api-across-languages"></a>
        </h2>
        <h3 class="heading settled" data-level="2.1" id="simplicity"><span class="secno">2.1. </span><span
                class="content">シンプルな解決策を優先する</span><a class="self-link" href="#simplicity"></a></h3>
        <p>
            解決しようとする<a href="#priority-of-constituencies">ユーザーニーズ</a>に対して、シンプルな解決策を粘り強く探してください。
        </p>
        <p>
            シンプルな解決策は複雑なものよりも一般的に優れていますが、見つけるのが難しい場合もあります。
            シンプルな機能はユーザーエージェントの実装やテストが容易で、
            相互運用性も高くなり、
            作者の理解もしやすくなります。
            特に、最も一般的な利用ケースが簡単に達成できるよう設計することが重要です。
        </p>
        <p>
            <a href="#priority-of-constituencies">ユーザーニーズ</a>が明確に定義されていることを確認してください。
            これによりスコープの膨張を防ぎ、
            APIが本当にすべてのユーザーのニーズを満たすことができます。
            もちろん、
            複雑または稀な利用ケースも解決する価値がありますが、
            その解決策は利用が多少複雑になるでしょう。
            アラン・ケイの言葉通り、
            「シンプルなことはシンプルに、複雑なことは可能に」しましょう。
        </p>
        <p>
            ただし、一般的なケースはしばしばシンプルですが、
            共通性と複雑性が必ずしも一致するとは限らないことに注意してください。
        </p>
        <div class="example" id="example-b89cef20"><a class="self-link" href="#example-b89cef20"></a>
            HTMLのサニタイズによるXSS攻撃防止は高度なセキュリティ知識を要する複雑な処理ですが、
            <a href="https://wicg.github.io/sanitizer-api/">Sanitizer API</a>はこの一般的な利用ケースのための近道を提供します。
            また、よりシンプルなフィルタリングも可能で、設定も柔軟です。
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a data-link-type="biblio" href="#biblio-least-power"
                        title="The Rule of Least Power">[LEAST-POWER]</a></p>
        </ul>
        <h3 class="heading settled" data-level="2.2" id="high-level-low-level"><span class="secno">2.2. </span><span
                class="content">高水準APIと低水準APIのトレードオフを考慮する</span><a class="self-link" href="#high-level-low-level"></a>
        </h3>
        <p>
            高水準APIはユーザーエージェントが<a href="#priority-of-constituencies">ユーザーのために</a>アクセシビリティ・プライバシー・使いやすさ等さまざまな介入を行いやすくなります。
        </p>
        <div class="example" id="font-enumeration">
            <a class="self-link" href="#font-enumeration"></a>
            <p>
                フォントピッカー（高水準API）は
                <a href="https://github.com/w3ctag/design-reviews/issues/399">TAGにより推奨</a>され、
                Font Enumeration API（低水準API）よりも
                ほとんどの利用ケースをカバーしつつ、
                指紋取得リスクもないためユーザープライバシーも保護できます。
                ネイティブのフォントピッカーはアクセシビリティも内蔵されており、ユーザーに一貫性を提供します。
            </p>
        </div>
        <p>
            低水準APIは作者に実験の余地を与え、
            高水準APIが利用パターンから自然発生的に生まれることを可能にします。
            また、高水準APIでは対応できない利用ケースへの脱出口にもなります。
        </p>
        <p>
            低水準のビルディングブロックは常にWeb APIとして公開できるわけではありません。
            その理由には、ユーザーのセキュリティやプライバシー保護、
            Web APIを特定のハードウェア実装に縛り付けないためなどがあります。
            それでも可能な限り、
            高水準APIは低水準APIのビルディングブロックを使って設計するべきです。
            これによりAPIの抽象度の判断材料にもなります。
        </p>
        <p>
            層構造がよく設計された解決策は、
            使いやすさとパワーのトレードオフ曲線に連続性を持たせ、
            利用ケースの複雑さが少し増すだけでコードの複雑さが急増する「断崖」を避けることができます。
        </p>
        <h3 class="heading settled" data-level="2.3" id="name-thoughtfully"><span class="secno">2.3. </span><span
                class="content">名前付けは慎重に</span><a class="self-link" href="#name-thoughtfully"></a></h3>
        <p>
            APIの命名は慎重に行いましょう。
            適切な命名は作者が正しくAPIを使う助けになります。
        </p>
        <p>
            詳細なガイダンスは<a href="#naming-is-hard">命名原則</a>セクションをご覧ください。
        </p>
        <h3 class="heading settled" data-level="2.4" id="consistency"><span class="secno">2.4. </span><span
                class="content">一貫性を保つ</span><a class="self-link" href="#consistency"></a></h3>
        <p>
            API設計では先例を考慮し、一貫性を持たせることが良い慣習です。
        </p>
        <p>
            APIの使いやすさと一貫性の間には緊張関係があり、
            既存の先例が使いづらい場合は一貫性を破って改善する価値もありますが、
            その改善が非常に大きなものでない限りは慎重に判断しましょう。
        </p>
        <p>
            Webプラットフォームは時間とともに徐々に進化してきたため、
            互いに排他的な複数の先例が存在することもあります。
            どの先例に従うかは、
            普及度（同じならより普及している方）、
            APIの使いやすさ（同じならより使いやすい方）、
            APIの新しさ（同じならより新しい方）などを考慮して判断しましょう。
        </p>
        <p>
            内部一貫性と外部一貫性の間にも緊張関係があります。
            <em>内部一貫性</em>はそのシステム内での一貫性、
            <em>外部一貫性</em>は外部世界との一貫性です。
            Webプラットフォームの場合、APIが属する技術（例：CSS）内での一貫性、
            Webプラットフォーム全体での一貫性、
            または特定分野との外部一貫性の三層が現れることがあります。
            その場合、多数のユーザーがどちらかに馴染みがあるかを重視しましょう。
            多くのAPIのターゲットユーザーは定義された技術に慣れているので、
            その技術内の一貫性を優先しましょう。
        </p>
        <div class="example" id="example-616da141"><a class="self-link" href="#example-616da141"></a>
            一例として
            <a href="https://www.w3.org/TR/css-color-4/#funcdef-lab">CIE L*a*b* カラー</a>があります。
            CSS全体の一貫性を考えるとLはパーセンテージ（0%-100%）が適切ですが、
            カラーサイエンス全体では単位なしの数値（0-100）が一貫性があります。
            議論の末、CSS内の一貫性を優先しパーセンテージが採用されました。
        </div>
        <p>
            <a href="#naming-consistency">命名一貫性</a>については別途セクションがあります。
        </p>
        <h3 class="heading settled" data-level="2.5" id="specs-include-guidance"><span class="secno">2.5. </span><span
                class="content">機能仕様のガイダンスに従う</span><a class="self-link" href="#specs-include-guidance"></a></h3>
        <p>
            機能を使用する際は、その機能の仕様書のガイダンスに従いましょう。
        </p>
        <p>
            他仕様で利用される機能の仕様書には、
            それらの機能の利用ガイダンスを含めるべきです。
            これによりプラットフォーム全体で機能が正しく一貫して使われます。
        </p>
        <p>
            以下はそのようなガイダンスの一部です：
        </p>
        <ul>
            <li data-md>
                <p><a href="https://encoding.spec.whatwg.org/#specification-hooks">Encoding</a></p>
            <li data-md>
                <p><a href="https://fetch.spec.whatwg.org/#fetch-elsewhere">Fetch</a></p>
            <li data-md>
                <p><span id="using-http"><a data-biblio-display="inline" data-link-type="biblio"
                            href="https://httpwg.org/specs/rfc9205.html"><cite>Building Protocols with
                                HTTP</cite></a></span>、
                    特に<a href="https://httpwg.org/specs/rfc9205.html#section-4.7">ヘッダーフィールドの定義</a>、
                    <a
                        href="https://datatracker.ietf.org/doc/search?name=HTTP&amp;sort=&amp;rfcs=on&amp;by=group&amp;group=httpbis">その他のHTTP
                        RFC</a>、
                    <a href="https://httpwg.org/admin/editors/style-guide">HTTP WGスタイルガイド</a>
                </p>
            <li data-md>
                <p><a href="https://w3c.github.io/hr-time/#sec-tools">Time</a></p>
            <li data-md>
                <p><a href="https://url.spec.whatwg.org/#url-apis-elsewhere">URLs</a></p>
        </ul>
        <p>
            該当するコミュニティに相談しながら仕様を利用することで、
            新しい利用をコミュニティに知らせ、
            仕様の双方に改善の機会を生み出せます。
        </p>
        <h3 class="heading settled" data-level="2.6" id="feature-detect"><span class="secno">2.6. </span><span
                class="content">新機能は検出可能にする</span><a class="self-link" href="#feature-detect"></a>
        </h3>
        <p>
            作者がプログラムから自分の機能の可用性を検出できるようにしましょう。
            そうすればWebコンテンツは機能が存在しない場合も優雅に対応できます。
        </p>
        <p>
            既存の機能でもページで利用できない理由は様々です。
            よくある理由は、未実装である場合や<a href="#secure-context">セキュアなコンテキスト</a>でのみ利用可能な場合です。
        </p>
        <p>
            作者が各ケースごとに異なるコードを書く必要がないようにしましょう。
            作者が特定のケースしか知らなくても、コードがすべてのケースに対応できるようになります。
        </p>
        <p class="note" role="note">
            機能が利用可能でも、必要なデバイスが存在しないため利用できない場合は、
            機能自体の可用性とデバイスの可用性を別々に検出できるようにしましょう。
            これは、作者がデバイス未接続時には接続や有効化を提案できるなど、異なる対応ができるようにします。
        </p>
        <p>
            <a href="#device-enumeration">§ 9.2 デバイス選択・列挙APIの公開は慎重に</a>も参照ください。
        </p>
        <p>
            作者は常にJavaScriptから機能を検出できるようにし、
            場合によっては利用する言語でも検出できるようにしましょう（例：CSSの<a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports"
                id="ref-for-at-ruledef-supports">@supports</a>）。
        </p>
        <p>
            場合によっては機能検出を許可しないことが適切な場合もあります。
            機能検出の可否は<a href="#priority-of-constituencies">ユーザーニーズ</a>に基づいて判断してください。
            機能検出が可能だと設計原則が満たされなくなる場合は、検出をサポートしないでください。
        </p>
        <p>機能の利用可能性を検出することは、<a
                href="#user-decisions">ユーザーがその機能の使用を求められたかどうか</a>を検出することを意味しません。一般に、機能が実装されているかどうかの検出は、機能の使用が許可されているかどうかの判定とは別に行うことができます。場合によっては、機能の使用要求を拒否できるようにするために、機能検出を無効にする必要があることもあります。
        </p>
        <p>
            また、一般に開発者に公開されていない機能については、
            機能検出をサポートすべきではありません。
            例えば、プライベートブラウジングモードは仕様上認識されていますが、
            作者には公開されていません。
            プライベートブラウジングモードがユーザーニーズを支援するためには、機能検出できてはいけません。
        </p>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="#do-not-expose-use-of-private-browsing-mode">§ 2.9 プライベートブラウジングモードが有効であることを明らかにしない</a></p>
            <li data-md>
                <p><a href="#do-not-expose-use-of-assistive-tech">§ 2.11 支援技術が使用されていることを明らかにしない</a></p>
            <li data-md>
                <p><a href="#secure-context">§ 2.8 新機能をセキュアなコンテキストに限定することを検討する</a></p>
            <li data-md>
                <p><a href="#user-decisions">§ 1.4.1 ユーザーが適切な判断を下せるよう支援する</a></p>
        </ul>
        <h3 class="heading settled" data-level="2.7" id="text-formats"><span class="secno">2.7. </span><span
                class="content">テキスト形式は人間のために設計する</span><a class="self-link" href="#text-formats"></a>
        </h3>
        <p>
            テキスト形式は人間が容易に作成・利用できるよう設計しましょう。
            テキスト形式は<a href="https://www.w3.org/TR/ethical-web-principles/#transparent">透明性</a>も高めます。
        </p>
        <p>
            可読性をコンパクトさより優先しましょう。
            ファイルサイズの最適化はツールで行えますし、
            時間が経つほど重要度は下がります。
            ファイルサイズが特に重要な場合は、テキスト形式が不適切かもしれません。
        </p>
        <div class="example" id="example-db958612"><a class="self-link" href="#example-db958612"></a>
            SVGパス構文はファイルサイズ優先で単文字コマンドや座標列で設計されましたが、
            サイズ重視の重要性が下がっても可読性の低下は変わりません。
        </div>
        <p>
            テキスト形式を扱う人はテキストエディタで容易に作成・修正できるべきです。
            編集時に多様なエラーが生じますが、発見と修正に苦労することもあります。
        </p>
        <p>
            編集の処理方法にある程度柔軟性があることが期待されています。
            <a href="#avoid-ambiguity">構文上の柔軟性</a>（空白・引用符・区切り記号など）を明確に定義することで、
            編集しやすく一貫した結果が得られるようにしましょう。
        </p>
        <div class="example" id="example-92a0fa51"><a class="self-link" href="#example-92a0fa51"></a>
            JSON形式は柔軟そうに見えますが、
            コメント不可・末尾カンマ不可・キーの引用必須など
            基本的な使いやすさに欠け、
            手動編集時に構文エラーが生じやすいです。
        </div>
        <p>
            構文エラーの影響範囲を限定することで、
            ロバスト性や人間の使いやすさを改善できます。
            そのためには、仕様で処理方法やエラー処理を完全に定義し、
            すべての入力で一貫した結果を得られるようにしましょう。
        </p>
        <div class="example" id="example-56153df0"><a class="self-link" href="#example-56153df0"></a>
            CSSプロパティのタイプミスはそのプロパティのみ無視されるだけです。
            プロパティのエラーがルール全体の消失を招くことはほとんどありません。
        </div>
        <p>
            機械のみが利用する形式であれば、バイナリ形式の方が効率的ですし、
            人が直接編集することも防げます。
        </p>
        <h3 class="heading settled" data-level="2.8" id="secure-context"><span class="secno">2.8. </span><span
                class="content">新機能をセキュアなコンテキストに限定することを検討する</span><a class="self-link" href="#secure-context"></a></h3>
        <p>
            認証・完全性・機密性などセキュアなコンテキストでしか得られない安全がなければリスクとなる機能は、
            常にセキュアなコンテキストに限定してください。
        </p>
        <div class="example" id="example-ba6f372c"><a class="self-link" href="#example-ba6f372c"></a>
            位置情報（<a href="https://www.w3.org/TR/geolocation-API/">Geolocation</a>）は、
            セキュアでない方法で位置を送信することはユーザープライバシーのリスクなので
            セキュアなコンテキストでのみ利用可能にすべき機能の一例です。
        </div>
        <p>
            その他の機能については、TAGのメンバー間でも一般的な方針で合意がありません。
            すべての新機能（既存機能の拡張以外）はセキュアなコンテキストに限定すべきという意見もあります。
            これはHTTPS利用の促進につながり、ユーザー全体の安全性向上に役立ちます。
        </p>
        <p>
            一方で、明確なセキュリティ・プライバシー影響がある場合のみ限定すべきという意見もあります。
            これにより、ユーザーの安全性やプライバシーに影響しない新機能を使ったWebページ作成の障壁が下がります。
        </p>
        <div class="note" role="note">
            Web IDL <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a>で定義されるほとんどの機能は
            [<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext">SecureContext</a></code>]
            拡張属性をインターフェース・名前空間・各メンバー（メソッドや属性）に付与することでセキュアなコンテキストに限定できます。
            <p>
                ただし、一部のAPI（例：イベントの発火）などは、仕様の規定文で限定を定義すべきです。
                この場合、将来のAPI開発者が簡単に限定できるよう[<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①">SecureContext</a></code>]のメカニズム拡張も検討しましょう。
            </p>
        </div>
        <div class="note" role="note">
            <a href="#feature-detect">§ 2.6 新機能は検出可能にする</a>で述べた通り、
            機能が利用可能かどうかプログラムから検出できるようにしましょう（セキュアなコンテキストで未利用の場合も含む）。
            <p>
                ただし、コードが機能未対応時に優雅に対応できない場合、
                セキュアなコンテキスト限定がライブラリなどに問題をもたらすこともありますので注意してください。
            </p>
        </div>
        <h3 class="heading settled" data-level="2.9" id="do-not-expose-use-of-private-browsing-mode"><span
                class="secno">2.9. </span><span class="content">プライベートブラウジングモードの利用を明かさない</span><a class="self-link"
                href="#do-not-expose-use-of-private-browsing-mode"></a></h3>
        <p>
            機能が作者にプライベートブラウジングモードの利用を検出させないようにしてください。
        </p>
        <p>
            一部の人は<a href="https://www.w3.org/2001/tag/doc/private-browsing-modes/">プライベートブラウジングモード</a>を自身の安全のために利用しています。
            そのため、プライベートモード利用の事実自体が<a
                href="https://www.w3.org/TR/security-privacy-questionnaire/#sensitive-data">センシティブな情報</a>となり得ます。
            この情報が権力を持つ第三者（雇用主・親・パートナー・<a
                href="https://www.w3.org/TR/ethical-web-principles/#expression">国家権力</a>など）に知られると
            <a href="https://www.w3.org/TR/ethical-web-principles/#noharm">害</a>となる場合もあります。
        </p>
        <p>
            このような危険性から、
            サイトはプライベートブラウジングモードの利用状況を検出できてはいけません。
        </p>
        <div class="example" id="example-52cad010"><a class="self-link" href="#example-52cad010"></a>
            <a href="https://www.w3.org/TR/IndexedDB/">IndexedDB</a>をサポートするユーザーエージェントは
            プライベートブラウジングモードでも無効化してはいけません。
            そうするとプライベートモード利用が検出できてしまいます。
        </div>
        <div class="example" id="example-26556da1">
            <a class="self-link" href="#example-26556da1"></a>
            <a href="https://www.w3.org/TR/payment-request/">Payment Request API</a>の
            <a href="https://www.w3.org/TR/payment-request/#show-method">show() メソッド</a>は
            ユーザーエージェントが
            <q cite="https://www.w3.org/TR/payment-request/#show-method">ユーザーが即座に<a
                    href="https://www.w3.org/TR/payment-request/#dfn-user-aborts-the-payment-request">支払いを中止</a>したかのように見せる</q>
            ことを可能にします。
            <p>
                これによりユーザーエージェントは
                プライベートモード中に支払い要求を自動で中止でき、
                （ユーザーの配送先や支払い情報など）<a
                    href="https://www.w3.org/TR/security-privacy-questionnaire/#sensitive-data">センシティブな情報</a>を保護しつつ
                プライベートモード利用をサイトに明かしません。
            </p>
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/TR/ethical-web-principles/#privacy">セキュリティとプライバシーは不可欠</a></p>
            <li data-md>
                <p><a
                        href="https://www.w3.org/TR/security-privacy-questionnaire/#underlying-platform-data">この仕様はオリジンにどんなデータを公開するか？</a>
                </p>
            <li data-md>
                <p><a href="#private-browsing-mode">§ 2.10 APIのプライベートブラウジングモード時の挙動を検討する</a></p>
        </ul>
        <h3 class="heading settled" data-level="2.10" id="private-browsing-mode"><span class="secno">2.10. </span><span
                class="content">APIのプライベートブラウジングモード時の挙動を検討する</span><a class="self-link"
                href="#private-browsing-mode"></a></h3>
        <p>
            必要に応じて、APIがプライベートブラウジングモード時にどのように振る舞うか仕様で定めてください。
        </p>
        <p>例えば、あなたのAPIが、ある利用者のプライベートブラウジングモード内外の活動を相関づけることを可能にする情報を明らかにする場合は、ノイズを導入するなどの可能な <a
                href="https://www.w3.org/TR/security-privacy-questionnaire/#mitigations">緩和策</a> を検討するか、必要に応じてこの追跡について
            <a href="#user-decisions">ユーザーが適切な判断を下せるよう支援する</a> ことを検討してください。
        </p>
        <p>
            プライベートモードは利用者の端末に痕跡を残さずWebを閲覧できるものです。
            そのため、クライアントサイドストレージを提供するAPIは
            プライベートモード中に保存されたデータを
            モード解除後に永続化しないようにすべきです。
            この処理はサイトから機能の違いが検出できないように行ってください。
        </p>
        <div class="example" id="example-fb11a26c">
            <a class="self-link" href="#example-fb11a26c"></a>
            <a href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage"
                id="79d831630">localStorage</a>をサポートするユーザーエージェントは
            プライベートモード中のストレージ変更を永続化してはいけません。
            <p>
                同一サイトで通常モードとプライベートモードのセッションが同時にある場合、
                プライベートモード側のストレージ変更は他のセッションに明かされてはいけません（逆も同様）。
                （<a href="https://html.spec.whatwg.org/multipage/indices.html#event-storage">storage event</a>は
                他のセッションの<a href="https://html.spec.whatwg.org/multipage/window-object.html#window">window
                    object</a>には発火してはいけません。）
            </p>
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="#do-not-expose-use-of-private-browsing-mode">§ 2.9 プライベートブラウジングモードの利用を明かさない</a></p>
            <li data-md>
                <p><a
                        href="https://www.w3.org/TR/security-privacy-questionnaire/#persistent-origin-specific-state">この仕様はオリジン間で持続する新しい状態を導入するか？</a>
                </p>
            <li data-md>
                <p><a
                        href="https://www.w3.org/TR/security-privacy-questionnaire/#private-browsing">セキュリティとプライバシー自己レビュー：プライベートブラウジング</a>
                </p>
        </ul>
        <h3 class="heading settled" data-level="2.11" id="do-not-expose-use-of-assistive-tech"><span class="secno">2.11.
            </span><span class="content">支援技術の利用状況を明かさない</span><a class="self-link"
                href="#do-not-expose-use-of-assistive-tech"></a></h3>
        <p>
            APIが作者にユーザーの支援技術利用を検出させないようにしてください。
        </p>
        <p>
            <a href="https://www.w3.org/TR/ethical-web-principles/#allpeople">Webプラットフォームは障害のある人にもアクセシブルでなければなりません。</a>
            サイトが支援技術利用者を検出できる場合、そのユーザーへのサービス提供を拒否・制限できてしまいます。
        </p>
        <p>
            支援技術利用者はしばしば<a href="https://www.w3.org/TR/ethical-web-principles/#noharm">社会的に脆弱な立場</a>であり、
            利用状況は<a href="https://www.w3.org/TR/security-privacy-questionnaire/#sensitive-data">センシティブな情報</a>です。
            APIがこの情報を公開すると、他者（<a
                href="https://www.w3.org/TR/ethical-web-principles/#expression">国家権力</a>含む）に知られるリスクがあります。
        </p>
        <p>
            時には支援技術利用者の体験向上を目的とした提案がなされますが、
            副作用として利用状況を公開してしまうことがあります。
            こうした提案は善意ですが、
            <a href="#safe-to-browse">§ 1.2 Webページの閲覧を安全にする</a>に違反するため、代替策を検討してください。
        </p>
        <div class="example" id="example-f5a7b3e0">
            <a class="self-link" href="#example-f5a7b3e0"></a>
            <p>
                <a href="https://wicg.github.io/aom/">Accessibility Object Model</a> (AOM) は以前
                特定イベントの発火で<a href="https://github.com/WICG/aom/issues/81">支援技術利用が明かされる</a>設計でした。
            </p>
            <p>
                現在AOMはこれらのイベントを除去し、
                <a
                    href="https://github.com/WICG/aom/blob/gh-pages/explainer.md#user-action-events-from-assistive-technology">支援技術利用を明かさない疑似DOMイベント</a>に置き換えています。
            </p>
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="https://w3c.github.io/apa/fast/">Web技術アクセシビリティガイドライン</a></p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/ethical-web-principles/#privacy">セキュリティとプライバシーは不可欠</a></p>
            <li data-md>
                <p><a
                        href="https://www.w3.org/TR/security-privacy-questionnaire/#underlying-platform-data">この仕様はオリジンにどんなデータを公開するか？</a>
                </p>
        </ul>
        <h3 class="heading settled" data-level="2.12" id="require-user-activation"><span class="secno">2.12.
            </span><span class="content">強力なAPIにはユーザーアクティベーションを必須とする</span><a class="self-link"
                href="#require-user-activation"></a></h3>
        <p>
            一部の強力なAPIは、迷惑なUI（自動再生音声など）、
            ユーザーデータの公開（クリップボード操作など）、
            ユーザーに分かりづらいバックグラウンド動作（ローカルストレージへのアクセスなど）、
            または<a href="#trusted-ui">信頼できるUI</a>との対話（許可プロンプト・ハードウェア機能など）を引き起こす場合があります。
            これらのAPIは、ユーザーの意図（<strong>ユーザーアクティベーション</strong>など）を何らかの形で示してから動作するよう設計しましょう。
            これはユーザーがそのWebページと意図的にやり取りしていることを示します。
        </p>
        <p>
            ユーザーアクティベーションの定義は
            <a href="https://html.spec.whatwg.org/#tracking-user-activation">HTML標準</a>で詳しく説明されています。
            APIのユーザー体験への影響やリスクを考慮し、
            アクティベーションが一度だけ（<a href="https://html.spec.whatwg.org/#sticky-activation-gated-api">sticky</a>）か、
            定期的に（<a href="https://html.spec.whatwg.org/#transient-activation-gated-api">transient</a>）か、
            API呼び出しごとに（<a href="https://html.spec.whatwg.org/#activation-consuming-api">transient
                consuming</a>）必要かを検討してください。
        </p>
        <p>ユーザーアクティベーションは多くの場合必要であることに留意してくださいが、侵襲的な行為からユーザーを保護するには常に<em>十分</em>であるとは限りません。<a
                href="#user-intent">ユーザーの意図に合わせたデザイン</a>や<a href="#user-decisions">ユーザーが適切な判断を下せるよう支援すること</a>も重要です。</p>
        <h3 class="heading settled" data-level="2.13" id="support-non-fully-active"><span class="secno">2.13.
            </span><span class="content">非完全アクティブなBFCached文書もサポートする</span><a class="self-link"
                href="#support-non-fully-active"></a></h3>
        <p>
            可能なら、非<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                id="ref-for-fully-active">完全アクティブ</a>なBFCached（Back/forward cached）文書での挙動も仕様で定めてください。
        </p>
        <p>
            機能が<strong>以下のいずれか</strong>に該当する場合：
        </p>
        <ul>
            <li data-md>
                <p>文書の「外部」とやり取りする（情報を文書に送るなど）</p>
            <li data-md>
                <p>クロスドキュメントの相互作用・リソース共有が可能（ロック保持など）</p>
            <li data-md>
                <p>ユーザーが離脱・復帰時に
                    非<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                        id="ref-for-fully-active①">完全アクティブ</a>状態が維持されると不具合が生じる（保存状態が複数ナビゲーションにまたがらないことを期待するなど）</p>
        </ul>
        <p>
            <a href="https://w3ctag.github.io/bfcache-guide/">BFCached文書サポートガイド</a>に従い、
            非<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                id="ref-for-fully-active②">完全アクティブ</a>なBFCached文書での動作を仕様で明記しましょう。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>
            文書がBFCache以外の理由（iframeの切り離しなど）で非<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                id="ref-for-fully-active③">完全アクティブ</a>になる場合もありますが、
            ここではBFCacheが関与するケースのみを対象とし、
            その他の非<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                id="ref-for-fully-active④">完全アクティブ</a>化は対象外です。
        </p>
        <h3 class="heading settled" data-level="2.14" id="third-party-tools"><span class="secno">2.14. </span><span
                class="content">サードパーティツールとの互換性より使いやすさを優先する</span><a class="self-link" href="#third-party-tools"></a>
        </h3>
        <p>
            新機能設計では使いやすさを第一に、サードパーティツールとの互換性は第二に考えましょう。
        </p>
        <p>
            Webプラットフォームは多様なツールエコシステムの恩恵を受けています。
            新機能の構文がサードパーティツールと衝突して問題が生じることもよくあります。
            サードパーティツールは新機能の試作にもよく使われるため、特にありがちです。
        </p>
        <p>
            一般にWebプラットフォームの機能はサードパーティツールよりも長く使われるため、
            最適な構文や機能性を優先すべきです。
        </p>
        <p>
            場合によっては衝突が多くのWebサイトに問題をもたらし、
            機能の構文を再設計して回避する必要が生じることもあります。
        </p>
        <div class="example" id="example-1e284310"><a class="self-link" href="#example-1e284310"></a>
            <code>Array.prototype.contains()</code>は
            PrototypeJS（数百万サイトで利用されていたライブラリ）との衝突を避けるため
            <code>Array.prototype.includes()</code>に改名されました。
        </div>
        <p>
            ただし、こうしたケースは例外とすべきです。
        </p>
        <p>
            サードパーティツールとの衝突回避の可否は、
            破壊の重大さ・ツールの普及度など複数の要素を考慮しましょう。
        </p>
        <p>
            最も重要なのは、構文を変更してサードパーティツールとの衝突を避けた場合、
            Webプラットフォーム機能の使いやすさがどれほど損なわれるかです。
            同程度の使いやすさの選択肢が複数ある場合は、
            なるべくツールへの影響が少ないものを選びましょう。
        </p>
        <div class="example" id="example-4a031163"><a class="self-link" href="#example-4a031163"></a>
            CSS WGが<a data-link-type="biblio" href="#biblio-css-grid-1" title="CSS Grid Layout Module Level 1">CSS Grid
                Layout</a>を設計した際、
            Sass（有名なプリプロセッサ）との衝突を避けるため
            グリッドトラック命名に括弧ではなく角括弧を選びました。
        </div>
        <p>
            ただし、ツールの衝突回避で機能の使いやすさが<em>大きく</em>損なわれる場合、
            重大な実運用サイトの破壊でもない限り、妥協は許容できません。
        </p>
        <p>
            将来的なジレンマを減らすためにも、
            言語には作者が将来のネイティブ機能を壊さずに拡張できる仕組みを用意しましょう。
        </p>
        <h3 class="heading settled" data-level="2.15" id="prefer-composition"><span class="secno">2.15. </span><span
                class="content">複雑な型は単純な型の組み合わせで構築する</span><a class="self-link" href="#prefer-composition"></a></h3>
        <p>
            サブタイプは常にスーパータイプの代わりとして使えるよう定義しましょう。
            親インスタンスに当てはまることが子にも常に当てはまらないなら、継承を使ったインターフェースは避けましょう。
        </p>
        <p>
            継承ではサブタイプがスーパータイプの代替となります。
            サブタイプは親と同じ属性・メソッドを提供し、動作も一貫させる必要があります。
            サブタイプが挙動を変えると、スーパータイプ扱いの処理が正しく動かなくなります。
        </p>
        <p>
            型理論ではこれは
            <a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle">リスコフ置換原則</a>
            と呼ばれます。
        </p>
        <div class="example" id="example-2c1a1d5d"><a class="self-link" href="#example-2c1a1d5d"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code>
            型は、<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#keyboardevent" id="ref-for-keyboardevent">KeyboardEvent</a></code>
            や <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/pointerevents/#dom-pointerevent" id="ref-for-dom-pointerevent">PointerEvent</a></code>
            のスーパータイプです。
            イベントは常に、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-bubbles" id="ref-for-dom-event-bubbles">bubbles</a></code>
            のように、
            適用可能な同じ基本的なプロパティや動作セットを持ちます。
            サブタイプは新しいプロパティや動作を追加しますが、
            それらのサブタイプのインスタンスも依然としてすべて <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>
            として振る舞います。
        </div>
        <p>より単純なアプローチは、しばしば継承を避けて
            既存の機能を合成によって再利用することです。
            新しい項目は、必要な既存コンポーネントを保持するプロパティを定義できます。</p>
        <div class="example" id="example-7094db49"><a class="self-link" href="#example-7094db49"></a>
            フォーム関連カスタム要素は、カスタム要素がフォーム送信と連携できるようにします。
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement">HTMLInputElement</a></code>
            を特殊化するのは困難です。
            なぜなら
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element">input</a></code>
            要素は非常に複雑であり、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement①">HTMLInputElement</a></code>
            の特殊化はその複雑さを維持する必要があるからです。
            カスタム要素は、フォームと連携するために必要な項目をアタッチ（つまり合成）することで、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement②">HTMLInputElement</a></code>
            の複雑さを扱うことなく実現できます。
        </div>
        .



        <h2 class="heading settled" data-level="3" id="html"><span class="secno">3. </span><span
                class="content">HTML</span><a class="self-link" href="#html"></a></h2>
        <p>このセクションでは、HTMLを通じて公開される機能の設計原則について説明します。</p>
        <h3 class="heading settled" data-level="3.1" id="attribute-reuse"><span class="secno">3.1. </span><span
                class="content">類似機能にはHTML属性名を（のみ）再利用する</span><a class="self-link" href="#attribute-reuse"></a></h3>
        <p>HTML属性で指定する機能を追加する場合は、他の要素に同様の機能を指定する既存の属性名があるか確認してください。
            既存のHTML属性名を再利用することで、著者は既存の知識を活用でき、
            言語全体の<a href="#consistency">一貫性</a>を維持し、
            用語集も小さく保てます。</p>
        <div class="example" id="example-c1977603"><a class="self-link" href="#example-c1977603"></a>
            同じ属性名
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple" id="ref-for-attr-select-multiple">multiple</a></code>
            は
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" id="ref-for-the-select-element">select</a></code>
            要素で複数値の選択を可能にし、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element①">input</a></code>
            要素でも複数値の入力を可能にします。
        </div>
        <div class="example" id="example-628fe6cf"><a class="self-link" href="#example-628fe6cf"></a>
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open" id="ref-for-attr-details-open">open</a></code>
            属性は
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element" id="ref-for-the-details-element">details</a></code>
            要素で導入され、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" id="ref-for-the-dialog-element">dialog</a></code>
            要素にも再利用されています。
        </div>
        <p>既存のHTML属性を再利用する場合は、可能な限り既存属性の構文に近づけるようにしてください。</p>
        <div class="example" id="example-0e853da5"><a class="self-link" href="#example-0e853da5"></a>
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/forms.html#attr-label-for" id="ref-for-attr-label-for">for</a></code>
            属性は
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-label-element" id="ref-for-the-label-element">label</a></code>
            要素で関連付けるフォーム要素を指定するために導入されました。
            後に
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element" id="ref-for-the-output-element">output</a></code>
            要素でも、どの要素が値計算に影響するかを指定するために再利用されました。
            後者はスペース区切りのidリストを受け入れ、前者は1つのidのみです。
            しかし、どちらも同じ構文に従っています。もし一方がidリスト、もう一方がセレクターだった場合はアンチパターンです。
        </div>
        <p>逆もまた然りです。
            既存のHTML属性名と機能が類似していない場合は、<strong>再利用しないでください</strong>。</p>
        <div class="example" id="example-9866c588"><a class="self-link" href="#example-9866c588"></a>
            <code>type</code>属性は
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element②">input</a></code>
            や
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" id="ref-for-the-button-element">button</a></code>
            要素では要素タイプの専門化に使われますが、
            他の要素（
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" id="ref-for-the-link-element">link</a></code>、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script">script</a></code>、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-style-element" id="ref-for-the-style-element">style</a></code>
            など）ではMIMEタイプ指定に使われます。
            これはアンチパターンであり、どちらか一方は別名にすべきでした。
        </div>
        <h3 class="heading settled" data-level="3.2" id="html-lists"><span class="secno">3.2. </span><span
                class="content">短い値リストにはスペース区切り属性、長いリストには個別要素を使用する</span><a class="self-link" href="#html-lists"></a>
        </h3>
        <p>要素のメタデータとして値のリストを指定する場合、一般的にはスペース区切りリストを使い、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist">DOMTokenList</a></code>
            として公開します。
        </p>
        <div class="example" id="example-0db34933">
            <a class="self-link" href="#example-0db34933"></a>
            <p>
                <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/dom.html#classes" id="ref-for-classes">class</a></code>
                属性はスペース区切りのクラス名リストを取ります。
                <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-element-classlist" id="ref-for-dom-element-classlist">classList</a></code>
                は<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist①">DOMTokenList</a></code>
                で、著者がクラス名を追加・削除できます。
            </p>
        </div>
        <div class="example" id="example-866341e9">
            <a class="self-link" href="#example-866341e9"></a>
            <p>
                <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox" id="ref-for-attr-iframe-sandbox">sandbox</a></code>
                属性はスペース区切りのサンドボックスフラグリストを取ります。
                <code>iframe.sandbox</code>は<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist②">DOMTokenList</a></code>
                で、著者がフラグを追加・削除できます。
            </p>
        </div>
        <p>Webプラットフォームの他部分との一貫性も重要です。値の区切り文字が異なっても同様です。</p>
        <div class="example" id="example-03f014a3">
            <a class="self-link" href="#example-03f014a3"></a>
            <p>
                <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-accept" id="ref-for-attr-input-accept">accept</a></code>
                属性はカンマ区切りリストですが、
                これは
                `<code><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110.html#name-accept" id="ref-for-name-accept">Accept</a></code>`
                HTTPヘッダーの構文と一致させるためです。
            </p>
        </div>
        <p>構文に関わらず、属性は短い値リストのみに使うべきです。
            長いリストを属性に埋め込むのは推奨されません。
            現在の慣習では、リスト項目やそのメタデータを個別の要素で表現します。
            これらの要素は対象要素の子要素にも、属性でリンクしても構いません。</p>
        <div class="example" id="example-37a42680">
            <a class="self-link" href="#example-37a42680"></a>
            <p>
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" id="ref-for-the-select-element①">select</a></code>
                要素の値リストは
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element" id="ref-for-the-option-element">option</a></code>
                要素の子として提供されます。
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element③">input</a></code>
                要素の推奨値リストは、
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element" id="ref-for-the-datalist-element">datalist</a></code>
                要素として分離され、
                <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-list" id="ref-for-attr-input-list">list</a></code>
                属性でリンクされます。
            </p>
        </div>
        <div class="example" id="example-8e66c282">
            <a class="self-link" href="#example-8e66c282"></a>
            <p>
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video" id="ref-for-video">video</a></code>
                や
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#audio" id="ref-for-audio">audio</a></code>
                要素のメディアソースリストは
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" id="ref-for-the-source-element">source</a></code>
                要素の子として提供されます。
            </p>
        </div>
        <p>まれに他のトレードオフが必要な場合もあります。</p>
        <div class="example" id="example-2fb31462">
            <a class="self-link" href="#example-2fb31462"></a>
            <p>
                <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset" id="ref-for-attr-img-srcset">srcset</a></code>
                属性はカンマ区切りの画像候補文字列リストを許容します。
                この構文は子要素リストより冗長性を避けるため、
                そして
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element">img</a></code>
                要素が空要素で子要素を持てないため選ばれました。
                各リスト項目に複数値を含むため、スペース区切り構文は不可能です。
            </p>
        </div>
        <h3 class="heading settled" data-level="3.3" id="avoid-html-parser-blocking"><span class="secno">3.3.
            </span><span class="content">HTMLパーサーを停止しない</span><a class="self-link"
                href="#avoid-html-parser-blocking"></a></h3>
        <p>設計が外部リソースの処理のためにHTMLパーサーを停止する必要がないようにしてください。</p>
        <p>ページをパースする際、ブラウザーは必要なアセットを発見し、
            優先順位を決めて並列にロードします。
            そのパースが、後続リソースの発見をブロックするリソースによって妨害されることがあります。
            最悪の場合、ブラウザーはアイテムを並列ではなく逐次でダウンロードします。
            良くても推測的なパースに基づいてダウンロードをキューし、間違っている場合があります。</p>
        <p>パーサーをブロックする機能は、一般に後続コンテンツの前に追加コンテンツをパーサーに供給したいためです。
            これはレガシーの<code>&lt;script src="…"></code>要素などで
            <code>document.write(…)</code>を使ってパーサーに注入する場合です。
            上記のパフォーマンス問題のため、新機能ではこの方法を使ってはなりません。
        </p>
        <h3 class="heading settled" data-level="3.4" id="avoid-render-blocking"><span class="secno">3.4. </span><span
                class="content">レンダリングをブロックする機能は避ける</span><a class="self-link" href="#avoid-render-blocking"></a></h3>
        <p>リソースのロードやレンダリング前の操作が必要な機能は、
            しばしば空白ページ（または前のページ）をもたらし、ユーザー体験が悪化します。</p>
        <p>このような機能は、全体のユーザー体験が向上する場合のみ追加を検討してください。
            典型的な例は、スタイルシートのダウンロード・処理のためにレンダリングをブロックすることです。
            代替案である非スタイルの一瞬の表示は望ましくありません。</p>
        <p>詳細は<a href="#worker-only">§ 10.2.1 一部APIはDedicated Workerのみに公開するべき</a>も参照。</p>
        <h3 class="heading settled" data-level="3.5" id="html-idl-must-by-synced"><span class="secno">3.5. </span><span
                class="content">属性の同期を保つ</span><a class="self-link" href="#html-idl-must-by-synced"></a>
        </h3>
        <p>新しい内容属性には同名のIDL属性を対応させ、両者の状態を同期させてください。
            同期したIDL属性で命名が不一致だと混乱の元となるため、避けてください。</p>
        <div class="note" role="note">
            逆は必ずしも成立しません。
            新しいIDL属性に必ず内容属性を対応させる必要はありません。
        </div>
        <div class="example" id="example-86fd7cdf"><a class="self-link" href="#example-86fd7cdf"></a>
            この原則に反する例として
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element④">input</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-value" id="ref-for-attr-input-value">value</a></code>、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element" id="ref-for-the-option-element①">option</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected" id="ref-for-attr-option-selected">selected</a></code>、
            さらに
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element⑤">input</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-checked" id="ref-for-attr-input-checked">checked</a></code>
            などがあります。これらの内容属性は同名のIDL属性に反映されません。
            各IDL属性は
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue" id="ref-for-dom-input-defaultvalue">defaultValue</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected" id="ref-for-dom-option-defaultselected">defaultSelected</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked" id="ref-for-dom-input-defaultchecked">defaultChecked</a></code>
            です。
        </div>
        <h3 class="heading settled" data-level="3.6" id="naming-of-url-attributes"><span class="secno">3.6. </span><span
                class="content">URLを含む属性は主目的に基づいて命名する</span><a class="self-link" href="#naming-of-url-attributes"></a>
        </h3>
        <p>要素が属性内のURLへのナビゲーションを可能にする場合、その属性名は<code>href</code>としてください。
            例：
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code>
            要素の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href" id="ref-for-attr-hyperlink-href">href</a></code>
            属性。
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> 振り返ると
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element" id="ref-for-the-form-element">form</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action" id="ref-for-attr-fs-action">action</a></code>
            属性は<code>href</code>とすべきでした。
        </p>
        <p>要素が指定されたURLのリソースをロードする場合、その属性名は<code>src</code>としてください。
            例：
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element①">img</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src" id="ref-for-attr-img-src">src</a></code>属性、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script①">script</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src" id="ref-for-attr-script-src">src</a></code>属性。
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> HTMLにはレガシーの不一致が複数存在し、真似るべきではありません。
            例として
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" id="ref-for-the-link-element①">link</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href" id="ref-for-attr-link-href">href</a></code>
            属性は、要素の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel" id="ref-for-attr-link-rel">rel</a></code>
            属性値によってナビゲーションやリソースロードどちらにも使われ得ます。
        </p>
        <p>属性が要素の主目的に補助的なURLを指定する場合は、
            その意味に沿った名前にしてください。
            例：
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video" id="ref-for-video①">video</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/media.html#attr-video-poster" id="ref-for-attr-video-poster">poster</a></code>、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element" id="ref-for-the-q-element">q</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite" id="ref-for-attr-q-cite">cite</a></code>、
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element①">a</a></code>の
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#ping" id="ref-for-ping">ping</a></code>
            など。
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> URLを含む属性はIDLでは<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString">USVString</a></code>
            型で表現すべきです。
            詳細は<a href="#idl-string-types">§ 8.2 文字列は適切な型で表現する</a>参照。</p>
        <h3 class="heading settled" data-level="3.7" id="html-overloading"><span class="secno">3.7. </span><span
                class="content">各HTML要素は単一の目的を持たせる</span><a class="self-link" href="#html-overloading"></a></h3>
        <p>各HTML要素には明確な目的を持たせてください。
            HTML属性で要素のセマンティクスを修正できますが、属性で本来の目的を根本的に変えてはいけません。</p>
        <p>複数のモードで動作可能な要素を定義するよりも、それぞれのモードごとに個別要素を持つ方が望ましいです。
            その方が著者にとって使いやすくなります。</p>
        <div class="example" id="example-416870a2"><a class="self-link" href="#example-416870a2"></a>
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element⑥">input</a></code>
            要素は
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-type" id="ref-for-attr-input-type">type</a></code>
            属性で非常に多様なモードを切り替えます。
            これらのモードはすべてユーザー入力という共通目的を持っていますが、目的が広すぎます。
            それぞれの意味は個別要素名によってより明確に表現できたはずです。
        </div>
        <p>属性によるセマンティクスのオーバーロードで、異なる振る舞いを選択する場合もあります。
            ただし、どの属性値でも目的が変わらない場合のみ意味があります。</p>
        <div class="example" id="example-3eddc3fd"><a class="self-link" href="#example-3eddc3fd"></a>
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element" id="ref-for-the-textarea-element">textarea</a></code>
            要素と
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element⑦">input</a></code>
            要素（<code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-type" id="ref-for-attr-input-type①">type</a></code>
            が<code>"text"</code>）は、違いが本質的でないため同じ要素でもよかったかもしれません。
        </div>
        <p>反例としては、過度な専門化や文脈依存のセマンティクスも挙げられます。</p>
        <div class="example" id="example-36d97918"><a class="self-link" href="#example-36d97918"></a>
            現在非推奨の
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/obsolete.html#acronym" id="ref-for-acronym">acronym</a></code>
            要素は
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element" id="ref-for-the-abbr-element">abbr</a></code>
            要素と重複しており、過度な専門化の例です。
        </div>
        <div class="example" id="example-2e98e252"><a class="self-link" href="#example-2e98e252"></a>
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" id="ref-for-the-source-element①">source</a></code>
            要素は、文脈によって異なる目的を持つことがあります。
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" id="ref-for-the-source-element②">source</a></code>
            要素は独立して存在せず、親要素によって意味が決まります。
        </div>
        <h2 class="heading settled" data-level="4" id="css"><span class="secno">4. </span><span
                class="content">カスケーディングスタイルシート（CSS）</span><a class="self-link" href="#css"></a></h2>
        <p>このセクションでは、CSSを通じて公開される機能の設計原則について説明します。</p>
        <h3 class="heading settled" data-level="4.1" id="css-property-separation"><span class="secno">4.1. </span><span
                class="content">CSSプロパティは独立してカスケードすべきものごとに分ける</span><a class="self-link"
                href="#css-property-separation"></a></h3>
        <p>CSSプロパティとしてまとめるべき値、分離すべき値を、独立して設定する意味があるかどうかで判断してください。</p>
        <p><a
                href="https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#cascade">CSSのカスケード</a>は、異なるルールやスタイルシートからの<a
                href="https://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#declaration">宣言</a>が互いに上書きできるようにします。
            一緒に上書きすべき値は1つのプロパティでまとめてカスケードさせます。
            一方、独立して上書きすべき値は別プロパティにしてください。</p>
        <div class="example" id="example-e15a5479">
            <a class="self-link" href="#example-e15a5479"></a>例えば、<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-inline-3/#propdef-initial-letter"
                id="ref-for-propdef-initial-letter">initial-letter</a>プロパティの「size」と「sink」は、
            ドロップキャップや沈み文字、浮き文字などの単一の初期文字効果の一部なので、1つのプロパティでまとめます。
            <p>一方、<a class="property css" data-link-type="property"
                    href="https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align"
                    id="ref-for-propdef-initial-letter-align">initial-letter-align</a>プロパティは、文書全体に対する配置方針を設定するため、
                別プロパティにすべきです。これは全体のスタイル選択や使用スクリプト（ラテン、キリル、アラビアなど）によるものです。</p>
        </div>
        <h3 class="heading settled" data-level="4.2" id="css-inherited-or-not"><span class="secno">4.2. </span><span
                class="content">CSSプロパティの継承有無を適切に選択する</span><a class="self-link" href="#css-inherited-or-not"></a></h3>
        <p>プロパティを<a
                href="https://drafts.csswg.org/css-cascade-3/#inherited-property">継承</a>すべきかどうかは、祖先と子孫両方で設定した場合に効果が上書きされるべきか、加算されるべきかで判断してください。
        </p>
        <p>子孫要素でプロパティを設定したとき、祖先で設定した効果を上書きする必要があるなら、継承すべきです。</p>
        <p>子孫要素で設定したプロパティが祖先の設定に加算される独立した効果なら、<strong>継承しない</strong>方がよいです。</p>
        <p>継承しないプロパティについて、要素の処理時に祖先の値も参照する仕様は「コードの臭い」であり、継承すべきだった可能性があります。
            逆に、継承プロパティについて、親と同じ値の場合は無視する仕様になっている場合も「コードの臭い」であり、継承すべきでなかった可能性があります。</p>
        <div class="note" role="note">
            プロパティがテキストに影響する場合、子孫要素で祖先の効果を上書きする必要がほぼ常にあり、継承すべきです。
            また、未スタイルのインライン要素をテキストの周りに挿入しても、見た目が変化しない原則を守るためにも必要です。
        </div>
        <div class="example" id="example-58897411">
            <a class="self-link" href="#example-58897411"></a>
            例えば、<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image"
                id="ref-for-propdef-background-image">background-image</a>プロパティは<strong>継承されません</strong>。
            <p>もし<a class="property css" data-link-type="property"
                    href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image"
                    id="ref-for-propdef-background-image①">background-image</a>プロパティが継承されていた場合、
                半透明画像が各子孫要素で繰り返し表示されるのを避けるために、仕様が複雑になったはずです。
                この複雑さは、親と同じ値の場合だけ振る舞いを変えるなど、上記の「コードの臭い」に該当します。
                これは継承すべきでなかったことを示します。</p>
        </div>
        <div class="example" id="example-51dea7ed">
            <a class="self-link" href="#example-51dea7ed"></a>
            別の例は<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size">font-size</a>プロパティで、これは<strong>継承されます</strong>。
            要素内テキストのフォントサイズを決め、宣言がなければ子孫にも引き継がれます。
            <p>もし<a class="property css" data-link-type="property"
                    href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size②">font-size</a>プロパティが継承されない場合、
                初期値として祖先チェーンをたどって値を探す必要があり、これも「コードの臭い」です。
                つまり継承すべきだったことを示します。</p>
        </div>
        <h3 class="heading settled" data-level="4.3" id="css-computed-value"><span class="secno">4.3. </span><span
                class="content">継承方法に応じて算出値型を選ぶ</span><a class="self-link" href="#css-computed-value"></a></h3>
        <p>CSSプロパティの<a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value"
                id="ref-for-computed-value">算出値</a>は、
            どのように<a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#css-inheritance"
                id="ref-for-css-inheritance">継承</a>されるか、それが他のプロパティに依存する場合も含めて決定してください。</p>
        <p>継承とは、要素が親のプロパティの算出値をそのまま受け取ることです。
            算出値到達前の処理ステップが継承値に影響し、算出値後（例えば<a data-link-type="dfn"
                href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value">使用値</a>）は影響しません。</p>
        <div class="note" role="note">
            Note: <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value"
                id="ref-for-computed-value①">算出値</a>と、<a data-link-type="dfn"
                href="https://drafts.csswg.org/cssom-1/#resolved-value" id="ref-for-resolved-value">解決値</a>（<code
                class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle">getComputedStyle()</a></code>で返される値）は混同しないでください。
        </div>
        <div class="example" id="example-324ea8f7">
            <a class="self-link" href="#example-324ea8f7"></a>
            例えば、<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css2/#propdef-line-height"
                id="ref-for-propdef-line-height">line-height</a>プロパティは<a class="production css" data-link-type="type"
                href="https://drafts.csswg.org/css-values-4/#number-value"
                id="ref-for-number-value">&lt;number></a>値を受け入れます。例えば<a class="css" data-link-type="propdesc"
                href="https://drafts.csswg.org/css2/#propdef-line-height" id="ref-for-propdef-line-height①">line-height:
                1.4</a>。
            この値は<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size③">font-size</a>の倍率を表します。
            例えば<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size④">font-size</a>が<span class="css">20px</span>なら、<a data-link-type="dfn"
                href="https://drafts.csswg.org/css-cascade-5/#actual-value" id="ref-for-actual-value">実際値</a>は<span
                class="css">28px</span>です。
            <p>しかし、この場合の<a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value"
                    id="ref-for-computed-value②">算出値</a>は<a class="production css" data-link-type="type"
                    href="https://drafts.csswg.org/css-values-4/#number-value"
                    id="ref-for-number-value①">&lt;number></a><span class="css">1.4</span>であり、
                <a class="production css" data-link-type="type"
                    href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value">&lt;length></a>
                <span class="css">28px</span>ではありません。
                （<a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value"
                    id="ref-for-used-value①">使用値</a>は<span class="css">28px</span>です。）
            </p>
            <p><a class="css property" data-link-type="property"
                    href="https://drafts.csswg.org/css2/#propdef-line-height"
                    id="ref-for-propdef-line-height②">line-height</a> プロパティは、異なる <a class="css property"
                    data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size⑤">font-size</a> を持つ要素にも継承されることがあります。
                そして、そうした要素上で <a class="css property" data-link-type="property"
                    href="https://drafts.csswg.org/css2/#propdef-line-height"
                    id="ref-for-propdef-line-height③">line-height</a> に依存するプロパティは、
                元の要素の <a class="css property" data-link-type="property"
                    href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size⑦">font-size</a> ではなく、
                該当要素自身の <a class="css property" data-link-type="property"
                    href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size⑥">font-size</a> を考慮する必要があります。
                すなわち、<a class="css property" data-link-type="property"
                    href="https://drafts.csswg.org/css2/#propdef-line-height"
                    id="ref-for-propdef-line-height④">line-height</a> の値がどの要素から継承されたかに関係なく動作します。</p>
            <pre class="highlight"><c- p>&lt;</c-><c- f>body</c-> <c- e>style</c-><c- o>=</c-><c- s>"font-size: 20px; line-height: 1.4"</c-><c- p>></c->

  <c- p>&lt;</c-><c- f>p</c-><c- p>></c->この body のテキストの行の高さは 28px です。<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->

  <c- p>&lt;</c-><c- f>h2</c-> <c- e>style</c-><c- o>=</c-><c- s>"font-size: 200%"</c-><c- p>></c->
    この見出しの行の高さは 56px であり、
    たとえ line-height が body で宣言されていても 28px にはなりません。
    つまり、40px のフォントは行の高さをオーバーフローしません。
  <c- p>&lt;/</c-><c- f>h2</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>body</c-><c- p>></c->
</pre>
            <p>このようなnumber値はlength値より継承性が良いため、<a class="property css" data-link-type="property"
                    href="https://drafts.csswg.org/css2/#propdef-line-height"
                    id="ref-for-propdef-line-height⑤">line-height</a>には一般的に推奨されます。</p>
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="https://wiki.csswg.org/spec/computed-values">算出値パターン</a></p>
        </ul>
        <h3 class="heading settled" data-level="4.4" id="css-naming"><span class="secno">4.4. </span><span
                class="content">CSSプロパティや値の命名を適切に行う</span><a class="self-link" href="#css-naming"></a></h3>
        <p>CSSプロパティ名は通常名詞、値は形容詞（時に名詞）です。</p>
        <p>プロパティや値の単語はハイフンで区切ります。
            略語は基本的に避けます。</p>
        <p>できるだけ語根（例："size"）を使い、接頭・接尾辞付きの形（例："sizing"）は避けます。</p>
        <p>プロパティ値リストは新しい値を追加できるように選びます。
            <span class="css">yes</span>, <span class="css">no</span>, <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true"
                id="ref-for-valdef-custom-media-true">true</a>, <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false"
                id="ref-for-valdef-custom-media-false">false</a>のような値や、実質同じ複雑な名前は避けます。
        </p>
        <p>プロパティ名に "mode" や "state" のような語は避けます。
            プロパティ自体がモードや状態を設定するものだからです。</p>
        <p>命名全般については<a href="#naming-is-hard">§ 12 命名原則</a>も参照してください。</p>
        <h3 class="heading settled" data-level="4.5" id="css-content-should-be-visible"><span class="secno">4.5.
            </span><span class="content">コンテンツはデフォルトで見えてアクセス可能であるべき</span><a class="self-link"
                href="#css-content-should-be-visible"></a></h3>
        <p>CSSプロパティやCSSレイアウトシステム（たいてい<code>display</code>プロパティ値）は、デフォルトでコンテンツが可視・アクセス可能・利用可能になるよう設計してください。</p>
        <div class="example" id="example-c09bf2e2"><a class="self-link" href="#example-c09bf2e2"></a>
            例えば、CSSのすべてのレイアウトシステムのデフォルト動作は、コンテンツが切り取られたり、他のコンテンツと重なったり、スクロールで到達できなくなったりしません。
            これらは<code>overflow: hidden</code>や<code>left: -40em</code>のように、明示的にその挙動を選んだ場合のみ起こるべきです。
            <code>display: flex</code>や<code>position: relative</code>のようなデフォルト値で起きてはいけません。
        </div>
        <h2 class="heading settled" data-level="5" id="js"><span class="secno">5. </span><span
                class="content">JavaScript言語</span><a class="self-link" href="#js"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="js-only"><span class="secno">5.1. </span><span
                class="content">Web APIにはJavaScriptを使用する</span><a class="self-link" href="#js-only"></a></h3>
        <p>Web用の命令型APIを設計する際はJavaScriptを使いましょう。
            特に、言語固有のセマンティクスや慣習に自由に依存して構いません。一般化する必要はありません。</p>
        <div class="example" id="example-1f61e97b">
            <a class="self-link" href="#example-1f61e97b"></a>
            例えば、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define" id="ref-for-dom-customelementregistry-define">CustomElementRegistry.define()</a></code>
            メソッドは
            <a href="https://tc39.es/ecma262/#sec-static-semantics-constructormethod">Constructor Method</a>への参照を取ります。
            <p>これはJavaScriptにクラスが導入されたことと、メソッド参照が容易であることを活用しています。</p>
        </div>
        <div class="note" role="note">
            JavaScriptは<a data-link-type="biblio" href="#biblio-ecmascript"
                title="ECMAScript Language Specification">[ECMASCRIPT]</a>という名前で標準化されています。
        </div>
        <div class="note" role="note">
            <a data-link-type="biblio" href="#biblio-webidl"
                title="Web IDL Standard">[WEBIDL]</a>には「ECMAScriptバインディング」節がありますが、他言語でバインディングを意図しているわけではありません。
        </div>
        <h3 class="heading settled" data-level="5.2" id="js-rtc"><span class="secno">5.2. </span><span
                class="content">実行完了セマンティクスを維持する</span><a class="self-link" href="#js-rtc"></a></h3>
        <p>JavaScript実行コンテキスト外から状態変更が発生した場合は、タスク間で変更を伝播してください（例：<a
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queuing-tasks">タスクをキューする</a>、または<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering"
                id="ref-for-update-the-rendering">レンダリングの更新</a>の一部として）。</p>
        <p>C++やRustのような低レベル言語と異なり、JavaScriptは歴史的に常に1つのコードのみが同時実行される前提です。
            そのため、JavaScriptの著者は、関数実行中にデータが予期せず変化することはないと考えています。</p>
        <p>開発者の操作以外で発生する変更や非同期で届く変更は、他のJavaScript実行中（<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#microtask"
                id="ref-for-microtask">マイクロタスク</a>間も含む）に発生してはいけません。</p>
        <div class="example" id="example-6f007b39">
            <a class="self-link" href="#example-6f007b39"></a>
            同期実行中（例：<code>while</code>ループ）や、解決済み<code>Promise</code>に<code>await</code>した直後は、開発者は次のようなことは<em>起こらない</em>と考えます。
            <ul>
                <li data-md>
                    <p>HTMLパーサーがネットワークから新しいコンテンツを読み込んでDOMが更新される</p>
                <li data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width" id="ref-for-dom-img-width">img.width</a></code>
                        が画像データのロードで変化する</p>
                <li data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/gamepad/#dom-gamepad" id="ref-for-dom-gamepad">Gamepad</a></code>
                        のボタン状態が変化する</p>
                <li data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop" id="ref-for-dom-element-scrolltop">scrollTop</a></code>
                        が変化する（スクロール自体は発生しても）</p>
                <li data-md>
                    <p>同期メソッドの挙動が非同期状態変化で変化する。例えば<code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/web-locks/#lockmanager" id="ref-for-lockmanager">LockManager</a></code>
                        が同期メソッドを持つ場合、他ウィンドウでの同時呼び出しに左右される。</p>
            </ul>
            <p>これらは現在実行中のスクリプトによって更新されるものではないので、現在のタスク中には変化すべきではありません。</p>
        </div>
        <p>データは開発者操作の結果として同期的に更新できます。</p>
        <div class="example" id="example-c444e540"><a class="self-link" href="#example-c444e540"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-childnode-remove" id="ref-for-dom-childnode-remove">node.remove()</a></code>
            はDOMを同期的に変更し、即座に観測できます。
        </div>
        <p>このルールに違反が許される状況もいくつかあります：</p>
        <ul>
            <li data-md>
                <p>現在時刻の観測（<code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now" id="ref-for-sec-date.now">Date.now()</a></code>や<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance-now" id="ref-for-dom-performance-now">performance.now()</a></code>など）。ただし、<code
                        class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime" id="ref-for-dom-animationtimeline-currenttime">document.timeline.currentTime</a></code>のようにタスク全体で一貫した時刻を示すのも有用です。
                </p>
            <li data-md>
                <p>同期的作業を中断するための関数（例：<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining" id="ref-for-dom-idledeadline-timeremaining">IdleDeadline.timeRemaining()</a></code>）。
                </p>
            <li data-md>
                <p>驚くべきUI変更からユーザーを守る状態（例：<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                        id="ref-for-transient-activation">一時的アクティベーション</a>）。
                    <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive" id="ref-for-dom-useractivation-isactive">navigator.userActivation.isActive</a></code>
                    は<a href="#attributes-like-data">この場合はメソッド推奨</a>に違反します。
                </p>
        </ul>
        <h3 class="heading settled" data-level="5.3" id="js-gc"><span class="secno">5.3. </span><span
                class="content">ガベージコレクションを公開しない</span><a class="self-link" href="#js-gc"></a></h3>
        <p>JavaScript Web APIで、ガベージコレクションのタイミングを著者が知る手段を提供しないようにしてください。</p>
        <p>ガベージコレクションのタイミングはユーザーエージェントごとに異なり、パフォーマンス改善で今後も変化します。
            タイミングが公開されると、プログラムが文脈ごとに異なる挙動となり、著者はそれに対応する追加コードが必要となります。
            また、十分なコードがタイミングに依存する場合、ユーザーエージェントが異なるGC戦略を実装しにくくなります。</p>
        <p>したがって、ガベージコレクション後にプロパティが<code class="highlight"><c- kc>null</c-></code>になるような弱参照APIは公開してはいけません。
            JavaScriptコード内のオブジェクトやデータの寿命は予測可能であるべきです。</p>
        <div class="example" id="example-fecc1403">
            <a class="self-link" href="#example-fecc1403"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname">getElementsByTagName</a></code>
            は<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection" id="ref-for-htmlcollection">HTMLCollection</a></code>
            オブジェクトを返します。
            同じDocumentオブジェクトで同じタグ名を指定して2回呼ぶと、同じオブジェクトが返されることがあります。
            実際には、ガベージコレクションされていなければ同じオブジェクトが返ります。
            これはGCタイミングによって挙動が変わることを意味します。
            <p>もし<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname①">getElementsByTagName</a></code>
                が今設計されるなら、
                デザイナーへの助言は「常に同じ出力を再利用する」か「毎回新しい<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection" id="ref-for-htmlcollection①">HTMLCollection</a></code>を生成する」のいずれかにすべきです。
            </p>
        </div>
        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname②">getElementsByTagName</a></code>
            はGCタイミングに依存することを示しません。
            対照的に、GCに明示的に依存するよう設計されたAPI（<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects" id="ref-for-sec-weak-ref-objects">WeakRef</a></code>や<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects" id="ref-for-sec-finalization-registry-objects">FinalizationRegistry</a></code>など）は、GCとの連携について著者に正しい期待を持たせます。
        </p>
        <h2 class="heading settled" data-level="6" id="api-surface"><span class="secno">6. </span><span
                class="content">JavaScript API設計</span><a class="self-link" href="#api-surface"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="webidl-dictionaries-interfaces-namespaces"><span
                class="secno">6.1. </span><span class="content">WebIDLの辞書・インターフェース・名前空間を適切に使用する</span><a
                class="self-link" href="#webidl-dictionaries-interfaces-namespaces"></a></h3>
        <p>新しいAPIには適切なWebIDLメカニズムを使用してください。</p>
        <p>WebIDLはWeb API定義のために複数の構造（辞書・インターフェース・名前空間）を定義しています。
            それぞれ目的に応じた異なる特徴を持ちます。</p>
        <p>目的は、Web開発者にとって使いやすく一貫性のあるAPIを保証しつつ、「ダミークラス」や機能のないクラスなどの落とし穴を避けることです。</p>
        <h4 class="no-num no-toc heading settled" id="dictionaries-for-configuration"><span
                class="content">「設定」や「入力専用」データには辞書を使う</span><a class="self-link"
                href="#dictionaries-for-configuration"></a></h4>
        <p>APIの一部が一時的なデータ（特にパラメータ・設定・オプション）を受け付ける場合は辞書を選択してください。</p>
        <p>辞書はデータを保存・変更せず、呼び出し時だけ使う場合に最適です。</p>
        <p>例えば、Web Shareの<a href="https://www.w3.org/TR/web-share/#dom-sharedata"><code>ShareData</code></a>メンバー（<a
                data-link-type="biblio" href="#biblio-web-share" title="Web Share API">[WEB-SHARE]</a>）:</p>
        <pre class="language-WebIDL highlight"><c- k>dictionary</c-> <c- nc>ShareData</c-> <c- p>{</c->
  <c- b>USVString</c-> <c- g>title</c-><c- p>;</c->
  <c- b>USVString</c-> <c- g>text</c-><c- p>;</c->
  <c- b>USVString</c-> <c- g>url</c-><c- p>;</c->
<c- p>};</c->
</pre>
        <p>一般的な利用例：</p>
        <pre class="highlight">await navigator.share({text: "Text being shared" });
</pre>
        <p>辞書は拡張性が高く、必要に応じてオプションフィールドを追加しやすいです。
            辞書のメンバーはデフォルトでオプション（任意）ですが、必要なら<code>required</code>で必須にもできます。</p>
        <p>辞書はJavaScriptで非常に自然（慣用的）に使えます。
            <code>{ ... }</code>をインラインで渡すのがJavaScriptで設定値を渡す最も自然な方法です。
        </p>
        <p>辞書はユーザーエージェントの扱いにより将来性も高いです。
            実装が理解しない辞書メンバーは無視されるため、古いコードを壊さず新しいメンバーが追加できます。</p>
        <p>辞書はオブジェクトの型判定（<code>instanceof</code>）が本質的に意味を持たない場合（常に<code>Object</code>）に最適です。</p>
        <p>辞書は「値渡し」でメソッドに渡されます（コピーされる）。
            ブラウザーエンジンはJavaScriptオブジェクトからWebIDL表現へ変換する際に未知のメンバーを削除します。
            つまりAPIに渡した後で値を変更しても効果はありません。</p>
        <p>再び<a href="https://www.w3.org/TR/web-share/#dom-sharedata"><code>ShareData</code></a>辞書を例に：</p>
        <pre class="language-JS highlight"><c- a>const</c-> data <c- o>=</c-> <c- p>{</c->
    <c- u>"text"</c-><c- o>:</c-> <c- u>"Text being shared"</c-><c- p>,</c->
    <c- c1>// "whatever"パラメータを含まないブラウザでは無視されます。</c->
    <c- u>"whatever"</c-><c- o>:</c-> <c- mf>123</c-><c- p>,</c->
<c- p>};</c->
<c- a>let</c-> p <c- o>=</c-> navigator<c- p>.</c->share<c- p>(</c->data<c- p>);</c->

<c- c1>// .share()呼び出し後に変更しても反映されません</c->
data<c- p>.</c->text <c- o>=</c-> <c- u>"New text"</c-><c- p>;</c->
</pre>
        <h4 class="no-num no-toc heading settled" id="interface-for-functionality-state-identity"><span
                class="content">機能・状態・識別にはインターフェースを使う</span><a class="self-link"
                href="#interface-for-functionality-state-identity"></a></h4>
        <p>インターフェースはJavaScriptのクラスにほぼ相当します。
            状態（可視プロパティや内部スロット）とその状態に対する操作（メソッド）をまとめる必要がある場合に使います。</p>
        <p>辞書と違い、インターフェースは：</p>
        <ul>
            <li data-md>
                <p>状態を持つインスタンスができる</p>
            <li data-md>
                <p>読み取り専用プロパティも持てる</p>
            <li data-md>
                <p>代入で副作用を起こせる</p>
            <li data-md>
                <p>グローバルスコープで特定クラスの<code>instanceof</code>判定ができる</p>
        </ul>
        <p>インターフェース定義はグローバルスコープにも公開され、静的メソッドの指定も可能です。
            例：URLインターフェースの<code>canParse()</code>静的メソッド</p>
        <pre class="language-JS highlight"><c- k>if</c-> <c- p>(</c->URL<c- p>.</c->canParse<c- p>(</c->someURL<c- p>))</c-> <c- p>{</c->
    <c- c1>// 何か処理...</c->
<c- p>}</c->
</pre>
        <p>状態を持つインターフェースには可能ならコンストラクタを与えてください。
            状態を持たないクラスにはコンストラクタを追加しないでください。
            これは「ダミークラス」（インスタンスが静的メソッドと同じことしかできない）の悪い慣習です。
            <a href="https://html.spec.whatwg.org/#domparser"><code>DOMParser</code></a>や<a
                href="https://dom.spec.whatwg.org/#domimplementation"><code>DOMImplementation</code></a>はダミークラスの例です。
        </p>
        <h4 class="no-num no-toc heading settled" id="interface-serializer"><span
                class="content">インターフェースデータを使いやすくするためのシリアライザーを提供する</span><a class="self-link"
                href="#interface-serializer"></a></h4>
        <p>インターフェースのインスタンスを多くのアプリケーションで使いやすい形に変換するシリアライザーを追加してください。</p>
        <p><code>.toJSON()</code>メソッドはインスタンスの有用なJSONシリアライズを生成します。
            <code>.toBlob()</code>メソッドはバイナリ表現を抽出できます。
        </p>
        <p>これによりオブジェクトがAPIで自然に使えるようになります。
            例：<a
                href="https://www.w3.org/TR/geolocation/#dom-geolocationposition"><code>GeolocationPosition</code></a>は<code>toJSON()</code>メソッドを提供します：
        </p>
        <pre class="language-JS highlight"><c- a>const</c-> position <c- o>=</c-> <c- k>await</c-> <c- ow>new</c-> Promise<c- p>((</c->resolve<c- p>,</c-> reject<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
    navigator<c- p>.</c->geolocation<c- p>.</c->getCurrentPosition<c- p>(</c->resolve<c- p>,</c-> reject<c- p>);</c->
<c- p>});</c->

<c- a>const</c-> message <c- o>=</c-> JSON<c- p>.</c->stringify<c- p>({</c->
    user<c- o>:</c-> userId<c- p>,</c->
    time<c- o>:</c-> Date<c- p>.</c->now<c- p>(),</c->
    position<c- p>,</c-> <c- c1>// .stringify()は.toJSON()を自動で呼び出す</c->
<c- p>});</c->
</pre>
        <h4 class="no-num no-toc heading settled" id="namespace-to-avoid-fake-classes"><span
                class="content">振る舞いのみのユーティリティには「ダミークラス」を避け名前空間を選択する</span><a class="self-link"
                href="#namespace-to-avoid-fake-classes"></a></h4>
        <p>名前空間は一連の静的プロパティやメソッドをまとめるために存在します。
            名前空間にはプロトタイプはありません。
            例：JSの<code>Math</code>、<code>Intl</code>、<code>Atomics</code>、<code>Console</code>など。</p>
        <p>静的関数が1～2個しかない場合は新しい名前空間を作るのは大げさです。
            既存オブジェクトに追加した方が適切な場合もあります。</p>
        <p>逆に、名前空間が大きくなりすぎたり広すぎる場合は、よりよい整理や分割が必要です。</p>
        <h4 class="no-num no-toc heading settled" id="pseudo-namespaces"><span class="content">「疑似名前空間」</span><a
                class="self-link" href="#pseudo-namespaces"></a></h4>
        <p>WebIDLインターフェースは属性を持てるため、非構築可能インターフェースを属性として定義することで「疑似名前空間」を作ることができます。</p>
        <p>よくある例は<code>navigator</code>オブジェクトに付与された各属性です。
            <code>navigator</code>オブジェクトはインターフェース定義（<a
                href="https://html.spec.whatwg.org/#navigator"><code>Navigator</code></a>）を持ち、
            それ自体もさらに機能をインターフェースインスタンス経由でアクセスする属性を含みます。
        </p>
        <p>例：</p>
        <ul>
            <li data-md>
                <p><code>navigator.credentials</code> - Credentials Management
                    APIの<code>CredentialsContainer</code>インターフェース</p>
            <li data-md>
                <p><code>navigator.geolocation</code> - Geolocation仕様の<code>Geolocation</code>インターフェース</p>
            <li data-md>
                <p><code>navigator.permissions</code> - Permissions仕様の<code>Permissions</code>インターフェース</p>
        </ul>
        <p>疑似名前空間は、仕様著者が特定インスタンス（例えば特定ブラウジングコンテキストに適用される権限など）を参照したい場合に有用です。
            そのインスタンスがページに可視状態を持たない場合でも使えます。</p>
        <h3 class="heading settled" data-level="6.2" id="attributes-like-data"><span class="secno">6.2. </span><span
                class="content">属性はデータプロパティのように振る舞うべき</span><a class="self-link" href="#attributes-like-data"></a></h3>
        <p><a data-link-type="biblio" href="#biblio-webidl"
                title="Web IDL Standard">[WEBIDL]</a>属性は単純なJavaScriptオブジェクトプロパティのように振る舞うべきです。</p>
        <p>実際にはIDL属性はgetter/setterメソッドで実装されますが、JSプロパティのように振る舞わせるには：</p>
        <ul>
            <li data-md>
                <p>getterは副作用を持ってはいけません。</p>
            <li data-md>
                <p>getterは複雑な操作をすべきではありません。</p>
            <li data-md>
                <p><code>obj.attribute === obj.attribute</code>が常に真になることを保証してください。
                    getter呼び出しごとに新しい値を生成しないでください。</p>
            <li data-md>
                <p>可能なら<code>obj.attribute = x</code>の後に<code>obj.attribute === x</code>が成立するようにしてください。
                    （型変換などが必要なら成立しない場合もありますが、できる限り通常コードでは成立させる。）</p>
        </ul>
        <p>属性にしようと考えた機能でこの動作にならない場合は、メソッドの方が適切です。</p>
        <div class="example" id="example-92914693"><a class="self-link" href="#example-92914693"></a>
            例えば<code
                class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop" id="ref-for-dom-htmlelement-offsettop">offsetTop</a></code>はレイアウト計算を行い、複雑かつ時間がかかる場合があります。
            これは<code
                class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect" id="ref-for-dom-element-getboundingclientrect">getBoundingClientRect()</a></code>のようなメソッドにすべきでした。
        </div>
        <h3 class="heading settled" data-level="6.3" id="live-vs-static"><span class="secno">6.3. </span><span
                class="content">オブジェクトをライブにするか静的にするか検討する</span><a class="self-link" href="#live-vs-static"></a></h3>
        <p>APIが内部状態を表すオブジェクトへのアクセスを提供する場合、そのオブジェクトが状態変化に合わせて更新され続けるべきか決定してください。</p>
        <p>常に最新状態を表すオブジェクトは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="live-object">ライブオブジェクト</dfn>、
            作成時点の状態のみを表すオブジェクトは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="static-object">静的オブジェクト</dfn>です。</p>
        <h4 class="no-num no-toc heading settled" id="live-objects"><span class="content">ライブオブジェクト</span><a
                class="self-link" href="#live-objects"></a></h4>
        <p>オブジェクトが内部状態を著者が変更できる場合、そのオブジェクトはライブにしてください。
            例：DOMの<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node" id="ref-for-node">Node</a></code>はライブオブジェクトで、
            ドキュメントの現在状態を意識して変更できます。</p>
        <p>ライブオブジェクトのプロパティはアクセス時に毎回計算しても良いので、データ計算が複雑な場合にも有利です（返却前に全データ計算不要）。
            また静的版へのデータコピーが不要なため、メモリ消費も抑えられることがあります。</p>
        <h4 class="no-num no-toc heading settled" id="static-objects"><span class="content">静的オブジェクト</span><a
                class="self-link" href="#static-objects"></a></h4>
        <p>オブジェクトが変化する可能性のあるリストを表す場合、通常は静的にすべきです。
            これはリストを反復処理するコードが途中でリストが変わる可能性を考慮しなくて済むようにするためです。</p>
        <div class="example" id="example-05004f68">
            <a class="self-link" href="#example-05004f68"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname③">getElementsByTagName</a></code>
            はリストを表すライブオブジェクトを返します。
            このため反復処理時に注意が必要です：
            <pre class="language-js highlight"><c- a>let</c-> list <c- o>=</c-> document<c- p>.</c->getElementsByTagName<c- p>(</c-><c- u>"td"</c-><c- p>);</c->
<c- k>for</c-> <c- p>(</c-><c- a>let</c-> i <c- o>=</c-> <c- mf>0</c-><c- p>;</c-> i <c- o>&lt;</c-> list<c- p>.</c->length<c- p>;</c-> i<c- o>++</c-><c- p>)</c-> <c- p>{</c->
    <c- a>let</c-> td <c- o>=</c-> list<c- p>[</c->i<c- p>];</c->
    <c- a>let</c-> tr <c- o>=</c-> document<c- p>.</c->createElement<c- p>(</c-><c- u>"tr"</c-><c- p>);</c->
    tr<c- p>.</c->innerHTML <c- o>=</c-> td<c- p>.</c->outerHTML<c- p>;</c->
    <c- c1>// これによりtdがリストから削除され、反復処理が予測不能になります。</c->
    td<c- p>.</c->parentNode<c- p>.</c->replaceChild<c- p>(</c->tr<c- p>,</c-> td<c- p>);</c->
<c- p>}</c->
</pre>
            <p><code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall" id="ref-for-dom-parentnode-queryselectorall">querySelectorAll()</a></code>
                が静的オブジェクトを返すようになったのは、<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname④">getElementsByTagName</a></code>の問題を仕様著者が認識したためです。
            </p>
            <p><code
                    class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#urlsearchparams" id="ref-for-urlsearchparams">URLSearchParams</a></code>
                はリストを表しますが静的ではありません。これは著者がURLのクエリ文字列を変更するためです。</p>
        </div>
        <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-maplike" id="ref-for-dfn-maplike">maplike</a>や<a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-setlike"
                id="ref-for-dfn-setlike">setlike</a>型の場合はこの助言が当てはまらないこともあります。これらは反復中に変化しても安全に動作するよう設計されています。</p>
        <p>アクセス時にプロパティ計算が不可能な場合は、静的オブジェクトにして、GCされるまで状態を更新する必要を避けてください。</p>
        <p>頻繁に変化する状態を表す静的オブジェクトは、属性ではなくメソッドから返すようにしてください。</p>
        <p>関連情報：</p>
        <ul>
            <li data-md>
                <p><a href="#attributes-like-data">§ 6.2 属性はデータプロパティのように振る舞うべき</a></p>
        </ul>
        <h3 class="heading settled" data-level="6.4" id="attributes-vs-methods"><span class="secno">6.4. </span><span
                class="content">アクセサはプロパティのように、メソッドのように振る舞わせない</span><a class="self-link"
                href="#attributes-vs-methods"></a></h3>
        <p>IDL属性でオブジェクトのプロパティやgetterがオブジェクト状態に関する情報を提供します。</p>
        <ul>
            <li data-md>
                <p>getterは（観測可能な）副作用を持ってはいけません。副作用が必要ならメソッドにしてください。</p>
            <li data-md>
                <p>getterは例外を投げるべきではありません。getterは<a
                        href="#attributes-like-data">通常のデータプロパティと同様に</a>振る舞い、通常のデータプロパティは読み取り時に例外を投げません。無効状態は<em>書き込み</em>時に拒否し、<em>読み取り</em>時は避けるべきです。既存getterを例外投げに変更するのは避けてください。API利用者が列挙やラップを想定していて、例外で後方互換性が壊れるためです。
                </p>
            <li data-md>
                <p>getterはブロッキング操作を行うべきではありません。必要ならメソッドにしてください。</p>
            <li data-md>
                <p>基礎となるオブジェクトが変化しない場合、getterは毎回同じオブジェクトを返すべきです。つまり<code>obj.property === obj.property</code>が常に成立します。getterが毎回新しい値を返すのは許されません。成立しない場合はメソッドにしてください。
                </p>
        </ul>
        <p class="note" role="note"><span class="marker">Note:</span>
            ブロッキング操作のアンチパターン例は、レイアウトを計算するgetter（例：<code>offsetTop</code>）です。</p>
        <p>IDL属性定義時は、可能ならsetterに与えた値をgetterで返すようにしてください。
            <code>obj.property = x</code>後に必ず<code>obj.property === x</code>となるべきです。
            （型変換などで成立しない場合もありますが、通常パスでは成立させるべきです。）
        </p>
        <p>返すべきオブジェクトは<a href="#live-vs-static">ライブまたは静的</a>のいずれかです。つまり：</p>
        <ul>
            <li data-md>
                <p>ライブの場合、状態変化が必要な時以外は毎回同じオブジェクトを返す。プロパティ・getter・メソッドいずれでも返してよい。</p>
            <li data-md>
                <p>静的の場合は毎回新しいオブジェクトを返す。その場合はメソッドにしてください。</p>
        </ul>
        <h3 class="heading settled" data-level="6.5" id="prefer-dictionaries"><span class="secno">6.5. </span><span
                class="bs-old-id" id="prefer-dict-to-bool"></span><span class="content">オプションやプリミティブ引数は辞書で受け付ける</span><a
                class="self-link" href="#prefer-dictionaries"></a></h3>
        <p>APIメソッドは通常、オプション引数の列よりも辞書引数を使うべきです。</p>
        <p>この方が呼び出しコードの可読性が高く、メソッドシグネチャも覚えやすいです。
            また将来の拡張性も高く、同型引数が複数必要な場合にも有効です。</p>
        <div class="example" id="example-84a7d4ad">
            <a class="self-link" href="#example-84a7d4ad"></a>
            例えば、
            <pre class="highlight"><c- ow>new</c-> Event<c- p>(</c-><c- u>"example"</c-><c- p>,</c-> <c- p>{</c-> bubbles<c- o>:</c-> <c- kc>true</c-><c- p>,</c-> cancelable<c- o>:</c-> <c- kc>false</c-><c- p>})</c->
</pre>
            <p>の方が</p>
            <pre class="highlight"><c- ow>new</c-> Event<c- p>(</c-><c- u>"example"</c-><c- p>,</c-> <c- kc>true</c-><c- p>,</c-> <c- kc>false</c-><c- p>)</c->
</pre>
            より可読性が高いです。
        </div>
        <p>必須パラメータも、APIの可読性が上がるなら辞書で受け付けることも検討してください。特にプリミティブ型の場合。</p>
        <div class="example" id="example-015b2c6a">
            <a class="self-link" href="#example-015b2c6a"></a>
            <pre class="highlight">window<c- p>.</c->scrollBy<c- p>({</c-> left<c- o>:</c-> <c- mf>50</c-><c- p>,</c-> top<c- o>:</c-> <c- mf>0</c-> <c- p>})</c->
</pre>
            <p>の方が</p>
            <pre class="highlight">window<c- p>.</c->scrollBy<c- p>(</c-><c- mf>50</c-><c- p>,</c-> <c- mf>0</c-><c- p>)</c->
</pre>
            より可読性が高いです。
        </div>
        <p>辞書自体はオプション引数にし、デフォルト値で満足なら追加引数を渡さず済むようにしてください。</p>
        <div class="example" id="example-c7e8a584">
            <a class="self-link" href="#example-c7e8a584"></a>
            例えば、

            <pre class="highlight">element<c- p>.</c->scrollIntoView<c- p>(</c-><c- kc>false</c-><c- p>,</c-> <c- p>{});</c->
</pre>

            は次と同じです

            <pre class="highlight">element<c- p>.</c->scrollIntoView<c- p>(</c-><c- kc>false</c-><c- p>);</c->
</pre>
        </div>
        <p>関連情報：</p>
        <ul>
            <li data-md>
                <p><a href="https://ariya.io/2011/08/hall-of-api-shame-boolean-trap">Hall of API Shame: Boolean Trap</a>
                </p>
            <li data-md>
                <p><a href="#optional-parameters">§ 6.6 メソッド引数は可能ならオプションにする</a></p>
            <li data-md>
                <p><a href="#naming-optional-parameters">§ 6.7 オプション引数の命名は適切に</a></p>
        </ul>
        <h3 class="heading settled" data-level="6.6" id="optional-parameters"><span class="secno">6.6. </span><span
                class="content">メソッド引数は可能ならオプションにする</span><a class="self-link" href="#optional-parameters"></a></h3>
        <p>APIメソッドの引数に合理的なデフォルト値がある場合は、引数をオプションにしてデフォルト値を指定してください。</p>
        <div class="example" id="example-6724ca08"><a class="self-link" href="#example-6724ca08"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener">addEventListener()</a></code>
            はオプションのboolean引数<code>useCapture</code>を持ちます。
            デフォルトは<code>false</code>で、イベントはデフォルトでバブリングフェーズでリスナーに配送されます。
        </div>
        <p>boolean引数のデフォルトは<code>false</code>が強く推奨されます。</p>
        <div class="example" id="example-6a0c0a03"><a class="self-link" href="#example-6a0c0a03"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest">XMLHttpRequest</a></code>の3番目のオプション引数は例外的にデフォルトが<code>true</code>です。
            これはレガシー互換性のためで、良い設計例ではありません。
        </div>
        <p>デフォルト値は著者が最も選ぶ値にすべきです。
            boolean属性の場合、属性名を<code>false</code>が一般的になるように選ぶ必要もあります。</p>
        <p>APIのリスト型引数を決める際は、特別な理由がなければ次の型を使ってください：</p>
        <ul>
            <li data-md>
                <p>メソッドのリスト引数は<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#sequence-type"
                        id="ref-for-sequence-type">sequence&lt;T></a></p>
            <li data-md>
                <p>メソッドの戻り値は<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#sequence-type"
                        id="ref-for-sequence-type①">sequence&lt;T></a></p>
            <li data-md>
                <p>属性は<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-observable-array-type"
                        id="ref-for-dfn-observable-array-type">ObservableArray&lt;T></a></p>
        </ul>
        <p>関連情報：</p>
        <ul>
            <li data-md>
                <p><a href="#prefer-dictionaries">§ 6.5 オプションやプリミティブ引数は辞書で受け付ける</a></p>
            <li data-md>
                <p><a href="#naming-optional-parameters">§ 6.7 オプション引数の命名は適切に</a></p>
            <li data-md>
                <p><a href="https://lists.w3.org/Archives/Public/public-script-coord/2013OctDec/0302.html">APIs that
                        have boolean arguments defaulting to true</a></p>
        </ul>
        <h3 class="heading settled" data-level="6.7" id="naming-optional-parameters"><span class="secno">6.7.
            </span><span class="content">オプション引数の命名は適切に</span><a class="self-link"
                href="#naming-optional-parameters"></a></h3>
        <p>オプション引数の命名は、デフォルトの動作が明確で、否定形の名前にならないようにしてください。</p>
        <p>これは<a href="#prefer-dictionaries">辞書</a>で提供する場合も、<a href="#optional-parameters">単独引数</a>の場合も当てはまります。</p>
        <div class="example" id="example-cc7dcba0">
            <a class="self-link" href="#example-cc7dcba0"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener①">addEventListener()</a></code>
            は<code>options</code>オブジェクトを受け取り、その中には<code>once</code>オプションがあります。
            これはリスナーが繰り返し呼ばれ<em>ない</em>ことを示します。
            <p>このオプションは<code>repeat</code>とも命名できましたが、その場合はデフォルトが<code>true</code>になります。
                <code>noRepeat</code>ではなく、API著者は<code>once</code>と命名し、デフォルト動作を否定形ではなく表現しました。
            </p>
            <p>その他の例：</p>
            <ul>
                <li data-md>
                    <p><code>passive</code>（<code>active</code>ではなく）</p>
                <li data-md>
                    <p><code>isolate</code>（<code>connect</code>ではなく）</p>
                <li data-md>
                    <p><code>private</code>（<code>public</code>ではなく）</p>
            </ul>
        </div>
        <p>関連情報：</p>
        <ul>
            <li data-md>
                <p><a href="#naming-is-hard">§ 12 命名原則</a></p>
        </ul>
        <h3 class="heading settled" data-level="6.8" id="overloading"><span class="secno">6.8. </span><span
                class="content">オーバーロードは賢く使う</span><a class="self-link" href="#overloading"></a></h3>
        <p>メソッドの振る舞いが渡す引数により大きく異なる場合、通常はオーバーロードせず別メソッドで定義してください。</p>
        <p>引数の一つが単一値または配列で受け付けられるようなオーバーロードは有用です。
            またオプション辞書を渡すパターンも柔軟性の面で良いパターンです。</p>
        <p>しかし、最初の引数によって後続引数が変わる場合や、入力型によってメソッド振る舞いが大きく変わる場合は、可読性を損ないAPI機能発見を難しくするため避けるべきです。</p>
        <h3 class="heading settled" data-level="6.9" id="constructors"><span class="secno">6.9. </span><span
                class="content">クラスには可能ならコンストラクタを持たせる</span><a class="self-link" href="#constructors"></a></h3>
        <p>APIのクラスには、適切ならコンストラクタを持たせてください。</p>
        <p>デフォルトでは<a data-link-type="biblio" href="#biblio-webidl"
                title="Web IDL Standard">[WEBIDL]</a>インターフェースは「非構築可能」クラスを生成します。
            <code>new X()</code>でインスタンス化しようとすると<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>が投げられます。
            構築可能にするには、適切な<a
                href="https://webidl.spec.whatwg.org/#idl-constructors">コンストラクタ操作</a>をインターフェースに追加し、インスタンス生成アルゴリズムを定義してください。
        </p>
        <p>これによりJavaScript開発者は、テスト・モック・サードパーティライブラリとの連携などでクラスインスタンスを作成できます。
            また、サブクラス化も可能になります（通常JavaScriptのサブクラス化の仕組みで妨げられる）。</p>
        <p>すべての場合で適切とは限りません。例：</p>
        <ul>
            <li data-md>
                <p>特権リソースへのアクセスを表すオブジェクトは、ファクトリメソッドでのみ構築可能にし、直接newできないようにします。</p>
            <li data-md>
                <p>ライフサイクル管理が厳密なオブジェクトは、特定メソッドを通じてのみ作成・アクセスできるようにします。</p>
            <li data-md>
                <p>抽象基底クラスを表すオブジェクトは、構築不可にし、著者がサブクラス定義できないようにします。</p>
        </ul>
        <p class="example" id="example-b036c85f"><a class="self-link" href="#example-b036c85f"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②">Event</a></code>
            クラスとその派生インターフェースは構築可能です。
            これはイベント処理コードのテスト時に有用で、著者は<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event③">Event</a></code>を構築してイベント処理メソッドに渡せます。
        </p>
        <p class="example" id="example-efe51367"><a class="self-link" href="#example-efe51367"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>
            クラスは構築不可です。新しいウィンドウ作成は特権操作で副作用が大きいためです。
            代わりに<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open">window.open()</a></code>メソッドで作成します。
        </p>
        <p class="example" id="example-c23596fe"><a class="self-link" href="#example-c23596fe"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap" id="ref-for-imagebitmap">ImageBitmap</a></code>
            クラスは構築不可です。これは不変で描画可能なビットマップ画像を表し、描画準備工程が非同期だからです。
            代わりに<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap" id="ref-for-dom-createimagebitmap">createImageBitmap()</a></code>ファクトリメソッドで作成します。
        </p>
        <p class="example" id="example-97798904"><a class="self-link" href="#example-97798904"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist③">DOMTokenList</a></code>
            クラスは<a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=27114">残念ながら構築不可</a>です。
            これにより<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element" id="ref-for-custom-element">カスタム要素</a></code>がtoken
            list属性を<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist④">DOMTokenList</a></code>として公開できません。
        </p>
        <div class="example" id="example-ebdfca9b">
            <a class="self-link" href="#example-ebdfca9b"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator">Navigator</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3" id="ref-for-history-3">History</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcrypto/#dfn-Crypto" id="ref-for-dfn-Crypto">Crypto</a></code>などの非構築可能クラスは、ウィンドウごとの情報アクセスを表すシングルトンです。
            この場合はWebIDLの<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-namespace"
                id="ref-for-dfn-namespace">namespace</a>機能の方が適していたかもしれませんが、これらは名前空間設計前に作られ、現在の名前空間機能を超えています。
            <p>この種のシングルトンが必要なら<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-namespace"
                    id="ref-for-dfn-namespace①">namespace</a>利用を検討し、問題があればWebIDLにissueを提出してください。</p>
        </div>
        <p>ファクトリメソッドはコンストラクタを補完できますが、基本的に代替として使うべきではありません。
            追加のメリットがある場合は、コンストラクタに加えてファクトリメソッドを含めても良いです。
            よくある例は、APIに基底クラスと複数の専門サブクラスがあり、ファクトリメソッドでパラメータに応じて適切なサブクラスを生成するパターンです。
            ファクトリメソッドは多くの場合、返却結果の最も近い共通基底サブクラスの静的メソッドになります。</p>
        <div class="example" id="example-071fec19"><a class="self-link" href="#example-071fec19"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-createelement" id="ref-for-dom-document-createelement">createElement</a></code>
            メソッドは、コンストラクタでは実装できなかったファクトリメソッドの例です。結果は<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code>のサブクラスいずれかとなり得ます。
        </div>
        <div class="example" id="example-42416b6a"><a class="self-link" href="#example-42416b6a"></a>
            非推奨の<code>MouseEvent.initMouseEvent()</code>ファクトリメソッドは<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#mouseevent" id="ref-for-mouseevent">MouseEvent</a></code>
            オブジェクトのみ生成しますが、もともと構築不可でした（技術的理由はなかった）。最終的には非推奨となり、<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#mouseevent" id="ref-for-mouseevent①">MouseEvent</a></code>
            オブジェクトは単純に構築可能になりました。
        </div>
        <h3 class="heading settled" data-level="6.10" id="synchronous"><span class="secno">6.10. </span><span
                class="content">適切な場合は同期的にする</span><a class="self-link" href="#synchronous"></a></h3>
        <p>可能な限り、新しいAPIを設計する際は同期APIを優先してください。
            同期APIは利用が簡単で、関数を<code>async</code>化するなどの追加インフラも少なくて済みます。</p>
        <p>以下の経験則に当てはまる場合、APIは一般的に同期的であるべきです：</p>
        <ul>
            <li data-md>
                <p>APIが権限プロンプトやデバイス選択などのダイアログによってブロックされることがない。</p>
            <li data-md>
                <p>APIの実装がロック、ファイルシステム、ネットワークアクセス（例えばプロセス間通信）などによってブロックされない。</p>
            <li data-md>
                <p>実行時間が短く、決定的である。</p>
        </ul>
        <h3 class="heading settled" data-level="6.11" id="promises"><span class="secno">6.11. </span><span
                class="content">非同期APIはPromiseで設計する</span><a class="self-link" href="#promises"></a>
        </h3>
        <p>APIメソッドが非同期である必要がある場合は、コールバック関数ではなくPromiseを使ってください。</p>
        <p>PromiseをWebプラットフォーム全体で一貫して使うことで、API同士の連携（Promiseのチェーンなど）が容易になります。
            Promiseを使うコードは、コールバック関数を使うコードより理解しやすい傾向があります。</p>
        <p>APIが非同期である必要がある場合の例：</p>
        <ul>
            <li data-md>
                <p>ユーザーエージェントが<a href="#user-decisions">権限</a>をユーザーに求める必要がある場合</p>
            <li data-md>
                <p>ディスクから情報を読み込む、またはネットワークから取得する必要がある場合</p>
            <li data-md>
                <p>ユーザーエージェントが他スレッドや他プロセスで多くの作業を行う必要がある場合</p>
        </ul>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/2001/tag/doc/promises-guide">Promise利用仕様の書き方</a></p>
        </ul>
        <h4 class="no-num no-toc heading settled" id="sync-callbacks"><span class="content">コールバック関数を使うべき場合</span><a
                class="self-link" href="#sync-callbacks"></a></h4>
        <p>即時応答が必要な場合のみ同期コールバックを使ってください。</p>
        <p>APIによっては、遅延に敏感なアクションが関わる場合、同期的な動作が必要です。
            例えば、イベントのバブリング完了直後に即座に処理が必要な場合や、メディア処理で次のタスク境界を待てない場合などです。
            同期アクションはPromiseでモデル化できません。
            この場合は明示的なコールバックやイベントを使ってください。</p>
        <p><a
                href="https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promisereaction-records">Promiseリアクションコールバック</a>では、
            一定数のマイクロタスク内でのアクションを要求してはいけません。</p>
        <p>これはPromise合成（<code>await</code>、ヘルパー関数ラップ、ロギング、<code>Promise.race()</code>や複数<code>.then()</code>ブランチなど）のパターンを守るためです。
            これらは追加マイクロタスクをキューし、ラップ対象コードの挙動を大きく変えてはいけません。
        </p>
        <div class="example" id="example-2bf45bf7">
            <a class="self-link" href="#example-2bf45bf7"></a>
            <p>イベントハンドラは同期的に呼ばれ、キャンセルされます。
                開発者が<code>event.<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault">preventDefault()</a></code></code>
                や<code>fetchEvent.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith">respondWith()</a></code></code>を呼び出せる必要がある場合は、
                コールバックでなければなりません（Promiseのthenリアクションでは不可）。</p>
        </div>
        <div class="example" id="example-dd425e98">
            <a class="self-link" href="#example-dd425e98"></a>
            <p>非イベント例として
                <code>captureController.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior" id="ref-for-dom-capturecontroller-setfocusbehavior">setFocusBehavior()</a></code></code>
                メソッドは、ユーザーが選択した画面共有ウィンドウを前面に出します。アプリケーションは選択ウィンドウに基づいて決定できます。
                遅延を許すとサイトによるクリックジャッキング攻撃の機会が生まれるため、Promiseのリアクションマイクロタスク上ではなく、同じPromiseリアクションタスク上で1秒以内に呼び出すことが要求されています。
            </p>
        </div>
        <h3 class="heading settled" data-level="6.12" id="aborting"><span class="secno">6.12. </span><span
                class="content">非同期APIや操作のキャンセルはAbortSignalで行う</span><a class="self-link" href="#aborting"></a></h3>
        <p>非同期メソッドがキャンセル可能な場合は、オプション辞書の一部として<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal">AbortSignal</a></code>を渡せるようにしてください。
        </p>
        <div class="example" id="example-52de31d9">
            <a class="self-link" href="#example-52de31d9"></a>
            <pre class="language-js highlight"><c- a>const</c-> controller <c- o>=</c-> <c- ow>new</c-> AbortController<c- p>();</c->
<c- a>const</c-> signal <c- o>=</c-> controller<c- p>.</c->signal<c- p>;</c->
geolocation<c- p>.</c->read<c- p>({</c-> signal <c- p>});</c->
</pre>
        </div>
        <p><code>AbortSignal</code>で非同期操作のキャンセルを一貫して行うことで、著者は複雑なコードを書かずに済みます。</p>
        <p>例えば、複数の操作に1つの<code>AbortSignal</code>を使い、「キャンセル」ボタンやSPAナビゲーション時に<code>AbortController</code>で一括キャンセルするパターンがあります。
        </p>
        <p>キャンセルが保証できない場合でも、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>は使えます。
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-abortcontroller-abort" id="ref-for-dom-abortcontroller-abort">abort()</a></code>はリクエストであり、保証ではありません。
        </p>
        <h3 class="heading settled" data-level="6.13" id="string-constants"><span class="secno">6.13. </span><span
                class="content">定数やenum値には文字列を使う</span><a class="self-link" href="#string-constants"></a></h3>
        <p>定数や列挙値の集合の値としては文字列を使用してください。
            文字列を選ぶ際は <a href="#naming-is-hard">§ 12 名前付けの原則</a> を参照してください。</p>
        <p>文字列は値の確認やコードの読みやすさが向上します。
            JavaScriptでは整数を使っても性能向上はありません。
            <a href="https://webidl.spec.whatwg.org/#idl-enums">WebIDLのenum型</a>値もこの原則に従って文字列です。
        </p>
        <p>複数プロパティの組み合わせ（他言語のビットマスクで表現されるような状態）が必要な場合は、辞書オブジェクトで表現してください。
            辞書はビットマスク値同様に簡単に受け渡せます。</p>
        <div class="example" id="example-b12961d6"><a class="self-link" href="#example-b12961d6"></a>
            Dedicated Workerの型は<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workertype" id="ref-for-workertype">WorkerType</a></code>
            enum引数で指定します。
            値は"classic"と"module"の2つで、本来Boolean型でもよかったかもしれませんが、文字列を使うことでコードが明確になります。
        </div>
        <div class="example" id="example-2c5eb13f"><a class="self-link" href="#example-2c5eb13f"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest①">XMLHttpRequest</a></code>の<code
                class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate" id="ref-for-dom-xmlhttprequest-readystate">readyState</a></code>getterは列挙型整数値を返します。
            このAPIを使うコードは、API仕様に精通していないと値の意味が分かりません。
        </div>
        <h3 class="heading settled" data-level="6.14" id="async-by-default"><span class="secno">6.14. </span><span
                class="content">同期・非同期両方が必要なら同期は例外とする</span><a class="self-link" href="#async-by-default"></a></h3>
        <p>稀なケースとして、同じ目的の同期・非同期メソッド両方を必要とする場合は、非同期をデフォルトとし、同期は例外扱いにしてください。</p>
        <p>現時点ではWebプラットフォームの一部領域に非同期対応がないため、非同期に加えて同期メソッドを持つことで利便性が向上します。
            こうしたケースは例外とし、Webプラットフォームの進化に伴い同期メソッド廃止への道筋を明確にしてください。</p>
        <p>ほとんどの場合、同期バージョンは<code>Sync()</code>サフィックス付きで区別してください。</p>
        <div class="example" id="example-06813f1c"><a class="self-link" href="#example-06813f1c"></a>
            例えば、<a href="https://github.com/w3ctag/design-reviews/issues/771">Web Neural Network API</a>は
            プラットフォーム制限回避のため<a href="https://github.com/webmachinelearning/webnn/issues/272">両方のケース</a>をサポートし、
            非同期を標準、同期は例外扱いとしました。
        </div>
        <div class="note" role="note">
            現時点でよくあるケースは、JavaScriptとWASMの境界をまたぐ設計です。
            <a
                href="https://github.com/WebAssembly/js-promise-integration/blob/main/proposals/js-promise-integration/Overview.md">Promise統合</a>
            は現在も開発中です。
        </div>
        <h3 class="heading settled" data-level="6.15" id="uint8array"><span class="secno">6.15. </span><span
                class="content">バイト配列の出力にはUint8Arrayを使う</span><a class="self-link" href="#uint8array"></a></h3>
        <p>APIがバイト配列を返す場合は、<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code>を使い、
            <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code>は使わないでください。
        </p>
        <p><code>ArrayBuffer</code>は直接読み取りできず、Uint8Arrayなどのビューを作成する必要があります。
            <code>Uint8Array</code>を提供することで余計な手間を省けます。
        </p>
        <p>バッファ内のバイトが他のTypedArray型として自然に解釈できる場合は、その型を使ってください。
            例：バイトがFloat32値なら<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Float32Array" id="ref-for-idl-Float32Array">Float32Array</a></code>を使う。
        </p>
        <h3 class="heading settled" data-level="6.16" id="void-functions"><span class="secno">6.16. </span><span
                class="content">副作用のみの関数は<code>undefined</code>を返す</span><a class="self-link"
                href="#void-functions"></a></h3>
        <p>関数の目的が副作用のみで値計算ではない場合、
            その関数は<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined">undefined</a></code>を返すように指定してください。
        </p>
        <p>このような戻り値に依存するサイトはほぼなく、将来的に意味ある値への拡張も容易です。</p>
        <div class="example" id="example-5e29a724">
            <a class="self-link" href="#example-5e29a724"></a>
            <p><code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement" id="ref-for-htmlmediaelement">HTMLMediaElement</a></code>の
                <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-play" id="ref-for-dom-media-play">play()</a></code>
                メソッドは
                当初<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①">undefined</a></code>を返すよう定義されていました。
                目的はメディア要素の状態を変更することだからです。
            </p>
            <p>メディア再生リクエストは失敗することもあるため、<code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-play" id="ref-for-dom-media-play①">play()</a></code>
                は<a href="https://github.com/whatwg/html/issues/505">Promise返却に変更</a>されました。
                もし当初から<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②">undefined</a></code>以外
                （例えばメディア要素自体、APIチェーンでよくあるパターン）を返す設計だった場合、
                この改良は後方互換性が保てなかったでしょう。</p>
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="https://en.wikipedia.org/wiki/Command–query_separation">Wikipedia: コマンドとクエリの分離</a></p>
        </ul>
        <h3 class="heading settled" data-level="6.17" id="prefer-existing-task-sources"><span class="secno">6.17.
            </span><span class="content">既存のタスクソースを優先する</span><a class="self-link"
                href="#prefer-existing-task-sources"></a></h3>
        <p>可能な限り既存の<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source">タスクソース</a>を使って作業を分配してください。</p>
        <p>明確な理由がある場合のみ、新しい<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source①">タスクソース</a>を作成します。
            仕様書では、関連する作業（または「<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                id="ref-for-concept-task">タスク</a>」）をグループ化するために<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source②">タスクソース</a>を使用し、UAが合理的にスケジューリングできるようにしています。
            タスクはタスクソースにキューされ、各タスクソースは<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                id="ref-for-event-loop">イベントループ</a>用のタスクキューに関連付けられます。
            ソース内の順序は保証されますが、UAは次にどのキューを処理するかを選択します。</p>
        <p>可能な限り汎用または既存のタスクソースを利用してください。
            HTMLでは、仕様全体で広く使えることを意図した<a
                href="https://html.spec.whatwg.org/multipage/webappapis.html#generic-task-sources">汎用タスクソース</a>が定義されています。
            これには、以下が含まれます（これらに限りません）：
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                id="ref-for-dom-manipulation-task-source">DOM操作タスクソース</a>、
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"
                id="ref-for-user-interaction-task-source">ユーザー操作タスクソース</a>、
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source"
                id="ref-for-networking-task-source">ネットワークタスクソース</a>などです。
            もし機能がこれらのカテゴリのいずれかに該当する場合は、新しいソースを作成するのではなく、そのソースにキューしてください。
            そうすることで、プラットフォーム全体の相互運用性、予測可能性、パフォーマンススケジューリングが向上します。
        </p>
        <p>タスクソースを追加すると、すべてのブラウザ実装がパフォーマンス面と複雑性のコストを負担することになります。
            汎用タスクソースから隔離されたタイミング／実行モデルが必要など、具体的でテスト可能なニーズがある場合のみ新しいタスクソースを作成してください。
            例えば、メディア要素はデコーダーやタイムラインのセマンティクスに合わせるため、独自のメディア要素イベントタスクソースを持ちます。</p>
        <p>仕様を書く際は、HTMLのラッパーアルゴリズム
            （<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                id="ref-for-queue-a-global-task">グローバルタスクをキューする</a>、<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task"
                id="ref-for-queue-an-element-task">要素タスクをキューする</a>）
            を優先し、特定の<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                id="ref-for-event-loop①">イベントループ</a>に依存しないようにしてください。
            また、必要な場合のみイベントループについて明示してください（<a href="#event-design">§ 7 イベント設計</a>も参照）。</p>
        <h2 class="heading settled" data-level="7" id="event-design"><span class="secno">7. </span><span
                class="content">イベント設計</span><a class="self-link" href="#event-design"></a></h2>
        <h3 class="heading settled" data-level="7.1" id="one-time-events"><span class="secno">7.1. </span><span
                class="content">一度限りのイベントにはPromiseを使う</span><a class="self-link" href="#one-time-events"></a>
        </h3>
        <p><a href="https://www.w3.org/2001/tag/doc/promises-guide#one-time-events">Promise利用仕様の書き方ガイド</a>の<a
                href="https://www.w3.org/2001/tag/doc/promises-guide"><strong>助言</strong></a>に従ってください。</p>
        <h3 class="heading settled" data-level="7.2" id="promises-and-reaction"><span class="secno">7.2. </span><span
                class="content">キャンセル可能なイベントにはPromiseを使わない</span><a class="self-link" href="#promises-and-reaction"></a>
        </h3>
        <p><a href="#sync-callbacks">コールバック関数を使うべき場合</a>も参照。</p>
        <h3 class="heading settled" data-level="7.3" id="promises-and-events"><span class="secno">7.3. </span><span
                class="content">関連するPromiseが解決される前にイベントを発火させる</span><a class="self-link"
                href="#promises-and-events"></a></h3>
        <p>Promiseベースの非同期アルゴリズムがイベントを発火する場合は、Promise解決前にイベントを発火させるべきです。</p>
        <p>Promiseが解決されると、リアクションコールバック実行のための<a href="https://html.spec.whatwg.org/multipage/webappapis.html#microtask"
                id="e2b55c350">マイクロタスク</a>がキューされます。
            マイクロタスクはJavaScriptスタックが空になった時に処理されます。
            <a href="https://dom.spec.whatwg.org/#dispatching-events">イベントの発火</a>は同期的で、各リスナー間でJavaScriptスタックが空になります。
            そのため、Promiseを解決してから関連イベントを発火すると、Promiseリアクションによるマイクロタスクがイベントのリスナー間で実行されてしまいます。
        </p>
        <p>先にイベントを発火すればこの混入を防げます。すべてのイベントリスナーがPromiseリアクションコールバックより先に実行されます。</p>
        <h3 class="heading settled" data-level="7.4" id="dont-invent-event-like"><span class="secno">7.4. </span><span
                class="content">独自のイベントリスナー様インフラを発明しない</span><a class="self-link" href="#dont-invent-event-like"></a>
        </h3>
        <p>通知を発生させる処理の開始・停止を著者が制御できるAPIを作る場合は、既存のイベントインフラを使って通知をリッスンできるようにしてください。
            処理開始・停止のAPIは別途用意してください。</p>
        <div class="example" id="example-7b5eb345">
            <a class="self-link" href="#example-7b5eb345"></a>
            例えばWeb Bluetooth
            APIは<code>BluetoothRemoteGATTCharacteristic</code>グローバルオブジェクトに<code>startNotifications()</code>メソッドを提供し、
            オブジェクトを「アクティブ通知コンテキストセット」に追加します。
            <p>ユーザーエージェントがBluetoothデバイスから通知を受け取ると、アクティブ通知コンテキストセット内の<code>BluetoothRemoteGATTCharacteristic</code>オブジェクトにイベントを発火します。
            </p>
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="#events-are-for-notification">§ 7.6 通知にはイベントを使う</a></p>
            <li data-md>
                <p><a href="#events-vs-observers">§ 7.9 イベントとオブザーバーを適切に使い分ける</a></p>
            <li data-md>
                <p><a href="#state-and-subclassing">§ 7.8 状態は Event ではなく target オブジェクトに持たせる</a></p>
        </ul>
        <h3 class="heading settled" data-level="7.5" id="always-add-event-handlers"><span class="secno">7.5.
            </span><span class="content">常にイベントハンドラ属性を追加する</span><a class="self-link"
                href="#always-add-event-handlers"></a></h3>
        <p>APIで新しいイベントタイプを追加する場合は、
            そのイベントを処理できるあらゆる<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler">EventHandler</a></code>インターフェースに対応する<code>on<em>yourevent</em></code>
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
                id="ref-for-event-handler-idl-attributes">イベントハンドラIDL属性</a>を追加してください。
        </p>
        <p>イベントハンドラIDL属性を定義し続けることは重要です：</p>
        <ul>
            <li data-md>
                <p>プラットフォームの一貫性を維持できる</p>
            <li data-md>
                <p>対応イベントの機能検出（<a href="#feature-detect">§ 2.6 新機能は検出可能にする</a>）が可能になる</p>
        </ul>
        <p class="note" role="note">
            一貫性のため、HTML・SVG要素両方でイベント処理が必要な場合は、<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers" id="ref-for-globaleventhandlers">GlobalEventHandlers</a></code>インターフェースミックスインにイベントハンドラIDL属性を追加してください（要素インターフェースに直接追加せず）。
            同様に<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers" id="ref-for-windoweventhandlers">WindowEventHandlers</a></code>に追加し、<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>には直接追加しないでください。
        </p>
        <h3 class="heading settled" data-level="7.6" id="events-are-for-notification"><span class="secno">7.6.
            </span><span class="content">通知にはイベントを使う</span><a class="self-link" href="#events-are-for-notification"></a>
        </h3>
        <p>イベントは状態変更をトリガーするためではなく、変更が完了したことを通知するためだけに使ってください。</p>
        <div class="example" id="example-a13474fb">
            <a class="self-link" href="#example-a13474fb"></a>
            ウィンドウサイズ変更時には<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#event-media-resize" id="ref-for-event-media-resize">resize</a></code>
            イベントが<code>Window</code>オブジェクトに発火します。
            <p>イベントをインターセプトしてresize自体を止めることはできません。
                また、resizeイベントを発火してウィンドウサイズを変更することもできません。
                イベントは変更がすでに発生したことだけを通知します。</p>
        </div>
        <h3 class="heading settled" data-level="7.7" id="guard-against-recursion"><span class="secno">7.7. </span><span
                class="content">再帰の可能性に注意する</span><a class="self-link" href="#guard-against-recursion"></a></h3>
        <p>APIに長時間実行や複雑なアルゴリズムが含まれる場合、アルゴリズムが実行中に再度呼び出しされないように防止してください。</p>
        <p>APIメソッドが長時間アルゴリズムの実行を開始する場合は、<a href="#events-are-for-notification">イベント</a>で進捗通知をしてください。
            しかし、イベントを処理するユーザーコードが同じAPIメソッドを呼び出し、アルゴリズムが再帰的に実行される可能性があります。
            同じイベントが再度発火し、同じハンドラが繰り返し呼ばれることもあります。</p>
        <p>これを防ぐには、APIメソッドへの「再帰呼び出し」が即座にreturnするようにしてください（ガード技法）。</p>
        <div class="example" id="example-ce590887">
            <a class="self-link" href="#example-ce590887"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①">AbortSignal</a></code>の
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add"
                id="ref-for-abortsignal-add">add</a>,
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-remove"
                id="ref-for-abortsignal-remove">remove</a>、
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                id="ref-for-abortcontroller-signal-abort">signal abort</a>
            は、まずsignalが<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted"
                id="ref-for-abortsignal-aborted">aborted</a>かどうかチェックします。
            abortedなら以降のアルゴリズムは実行しません。
            <p>この場合、重要な複雑さは<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                    id="ref-for-abortcontroller-signal-abort①">signal abort</a>ステップで実行されるアルゴリズム群にあります。
                これらのステップは<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add"
                    id="ref-for-abortsignal-add①">add</a>や<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#abortsignal-remove"
                    id="ref-for-abortsignal-remove①">remove</a>メソッドが管理するアルゴリズムコレクションを反復します。</p>
            <p>例えば
                <a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">ReadableStreamPipeTo</a>
                定義は<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add"
                    id="ref-for-abortsignal-add②">add</a>で
                <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal②">AbortSignal</a></code>
                のアルゴリズムセットに追加し、
                <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                    id="ref-for-abortcontroller-signal-abort②">signal abort</a>ステップで呼び出されます（<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-abortcontroller-abort" id="ref-for-dom-abortcontroller-abort①">abort()</a></code>）。
            </p>
            <p>このアルゴリズムはPromiseを解決し、コードが実行され、
                <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal③">AbortSignal</a></code>のメソッドが呼ばれることもあります。
                <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                    id="ref-for-abortcontroller-signal-abort③">signal abort</a>はアルゴリズムコレクション反復なので、実行中コレクション変更は不可です。
            </p>
            <p>また、<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                    id="ref-for-abortcontroller-signal-abort④">signal
                    abort</a>が再帰呼び出しを発生させた場合、すでに<code>signal abort</code>ステップ実行中なら再度実行しないようにガードしてください。</p>
        </div>
        <p class="note" role="note"><span class="marker">Note:</span> 早期終了の注意点:
            終了するアルゴリズムが重要な状態一貫性を保証する場合は、早期終了前に必ず状態調整も行ってください。そうしないと、実装時に不整合やエンドユーザー向けバグが生じます。</p>
        <p class="note" role="note"><span class="marker">Note:</span>
            早期終了で例外を投げる場合も注意。開発者が本当にその例外を扱う想定か、アルゴリズム内で唯一の例外かなどを考慮してください。</p>
        <p>常にガードできるとは限りません。エントリポイントが多すぎて全てチェックできない場合もあります。
            その場合は、著者コード呼び出しを後続タスクやマイクロタスクに延期する方法もあります。
            これで再帰スタックは回避できますが、追従タスクの無限ループは防げません。</p>
        <p>イベントの延期はよく「<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task">タスクをキューして</a>、<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-event-fire"
                id="ref-for-concept-event-fire">イベントを発火する</a>...」と指定されます。</p>
        <p>アルゴリズムが別スレッド・プロセスで実行される場合は、必ずイベントを延期してください。
            この場合、延期でイベントが正しい<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue"
                id="ref-for-dfn-service-worker-registration-task-queue">タスクキュー</a>上で処理されます。</p>
        <p>「ガード」と「延期」にはそれぞれ利点・欠点があります。</p>
        <p>「ガード」アルゴリズムの利点：</p>
        <ul>
            <li data-md>
                <p>イベント発火時点で、ガードアルゴリズム終了とイベント発火の間に状態変化が起きない。</p>
            <li data-md>
                <p>アルゴリズム内で状態変更通知イベントを即座に発火でき、次タスク待ち不要。</p>
            <li data-md>
                <p>イベントハンドラでインスタンスの直接状態を観測でき、イベントに状態コピー不要。</p>
        </ul>
        <p>延期の場合：</p>
        <ul>
            <li data-md>
                <p>アルゴリズム完了後、<a data-link-type="dfn"
                        href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue"
                        id="ref-for-dfn-service-worker-registration-task-queue①">タスクキュー</a>の最初に発火される保証はない。</p>
            <li data-md>
                <p>他タスクでオブジェクト状態が変わる可能性があるため、イベントに関連状態も含めるべき。</p>
                <ul>
                    <li data-md>
                        <p><span class="informative">新しいEventサブクラスを使い、属性で状態を保持することが多い。</span></p>
                        <p>例：<code
                                class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#progressevent" id="ref-for-progressevent">ProgressEvent</a></code>
                            は<code
                                class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-loaded" id="ref-for-dom-progressevent-loaded">loaded</a></code>・<code
                                class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-total" id="ref-for-dom-progressevent-total">total</a></code>属性などで状態を保持。
                        </p>
                </ul>
            <li data-md>
                <p>アルゴリズムの複数部分が協調する必要があるなら、明示的な状態マシン（明確な状態遷移）の定義も必要です。延期イベント発火時に状態観察・変更の挙動を明確化します。</p>
                <p><span class="informative">例：<a data-link-type="biblio" href="#biblio-payment-request"
                            title="Payment Request API">[payment-request]</a>
                        では<code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dom-paymentrequest" id="ref-for-dom-paymentrequest">PaymentRequest</a></code>の
                        <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dfn-state" id="ref-for-dfn-state">[[state]]</a></code>
                        内部スロットが明確な遷移で状態管理します。</span></p>
                <ul>
                    <li data-md>
                        <p>こうした状態遷移は通常ガード技法も用い、状態遷移が適切に行われるようにします。</p>
                        <p>例：<a data-link-type="biblio" href="#biblio-payment-request"
                                title="Payment Request API">[payment-request]</a>の<code
                                class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dfn-state" id="ref-for-dfn-state①">[[state]]</a></code>内部スロット周り（<code
                                class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dom-paymentrequest-show" id="ref-for-dom-paymentrequest-show">show()</a></code>アルゴリズムなど）でガードを使っています。
                        </p>
                </ul>
            <li data-md>
                <p>延期イベントに追加状態や状態マシンが不要なら、イベントはアルゴリズム完了通知のみです。
                    この場合、APIはイベント発火よりPromise返却の方が適切です。
                    <a href="#one-time-events">§ 7.1 一度限りのイベントにはPromiseを使う</a>参照。
                </p>
        </ul>
        <p class="note" role="note"><span class="marker">Note:</span>
            この節で説明した再帰可能性のあるイベントは「同期イベント」と呼ばれることがありますが、この用語は推奨されません。
            非同期イベントのようにイベント発火自体が非同期可能であるかのような誤解を招くためです。
            全てのイベントは同期発火です。ここで言う「非同期イベント」は発火の延期を意味します。</p>
        <h3 class="heading settled" data-level="7.8" id="state-and-subclassing"><span class="secno">7.8. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-target" id="ref-for-dom-event-target">target</a></code>
                オブジェクトに状態を持たせ、<code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑤">Event</a></code>には持たせない</span><a
                class="self-link" href="#state-and-subclassing"></a></h3>
        <p>状態は <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-target" id="ref-for-dom-event-target①">target</a></code>
            に持たせ、イベントはその状態の変更を通知するために使い、
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑥">Event</a></code>
            オブジェクトに状態を持たせないようにしてください。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-target" id="ref-for-dom-event-target②">target</a></code>
            オブジェクトに状態を持たせることで、次のイベントを待たずに現在の状態を判定できます。
            特に、最終的な状態があり、以降イベントが発生しない場合に有用です。</p>
        <p>通常は <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑦">Event</a></code>
            の新しいサブクラスを作成する必要はありませんが、
            状態変化の経緯を伝えるために使用することはできます。</p>
        <div class="example" id="example-4fb1a71f"><a class="self-link" href="#example-4fb1a71f"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement③">HTMLInputElement</a></code>
            の
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#dom-input-value" id="ref-for-dom-input-value">value</a></code>
            などのプロパティは入力の状態を示します。
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#inputevent" id="ref-for-inputevent">InputEvent</a></code>
            の
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#dom-inputevent-inputtype" id="ref-for-dom-inputevent-inputtype">inputType</a></code>
            などのプロパティは、状態の変更内容を説明します。
        </div>
        <p>例外的なケースとして、オブジェクトに状態を持たせるコストが高い場合は、
            関数呼び出しが関心のシグナルとなるような、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget">EventTarget</a></code>
            を関数呼び出しの戻り値として返すパターンなどを検討できます。</p>
        <div class="example" id="example-bad2d2dd">
            <a class="self-link" href="#example-bad2d2dd"></a>
            仮想的な <code>dataUsage</code> API が環境で使用されたデータ量を報告する場合、推奨されるパターンは次の通りです：

            <pre class="highlight">self<c- p>.</c->dataUsage<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c->self<c- p>.</c->dataUsage<c- p>.</c->bytesReceived<c- p>);</c->
<c- p>});</c->
</pre>
            <p><code>bytesReceived</code> は <code>dataUsage</code> の <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①">EventTarget</a></code>
                に存在し、
                <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑧">Event</a></code>
                には存在しません。
            </p>
            <p>このオブジェクトに状態を持たせるコストが高い場合は、次のパターンを検討できます：</p>
            <pre class="highlight"><c- a>const</c-> dataUsage <c- o>=</c-> <c- k>await</c-> self<c- p>.</c->monitorDataUsage<c- p>();</c->

dataUsage<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c->dataUsage<c- p>.</c->bytesReceived<c- p>);</c->
<c- p>});</c->
</pre>
            <p>このパターンでは、<code>monitorDataUsage</code> の呼び出しがデータへの関心を示し、
                <code>monitorDataUsage</code> が呼ばれるまで状態の更新は不要となります。
            </p>
        </div>
        <h3 class="heading settled" data-level="7.9" id="events-vs-observers"><span class="secno">7.9. </span><span
                class="content">イベントとオブザーバーを適切に使い分ける</span><a class="self-link" href="#events-vs-observers"></a></h3>
        <p>一般的に、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget②">EventTarget</a></code>
            と通知用<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑨">Event</a></code>を使い、Observerパターンは使用しないでください。
            ただし、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget③">EventTarget</a></code>があなたの機能にうまく適用できない場合は例外です。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget④">EventTarget</a></code>を使うことで、
            例えば<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once" id="ref-for-dom-addeventlisteneroptions-once">once</a></code>の追加など、
            共有基底クラスの改善による恩恵を機能にも受けられます。
        </p>
        <p>イベント利用が問題（例：避けられない<a href="#guard-against-recursion">再帰</a>）を引き起こす場合は、Observerパターンの利用も検討してください。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver" id="ref-for-mutationobserver">MutationObserver</a></code>、
            <a href="https://w3c.github.io/IntersectionObserver">Intersection Observer</a>、
            <a href="https://drafts.csswg.org/resize-observer/#resize-observer-interface">Resize Observer</a>、
            <a href="https://github.com/WICG/indexed-db-observers">IndexedDB Observer</a>
            はObserverパターンの例です。
        </p>
        <div class="example" id="example-5d14c000">
            <a class="self-link" href="#example-5d14c000"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver" id="ref-for-mutationobserver①">MutationObserver</a></code>
            は非推奨の
            <a href="https://www.w3.org/TR/DOM-Level-3-Events/#legacy-mutationevent-events">DOM Mutation Events</a>
            の代替です。開発者が
            <a href="https://lists.w3.org/Archives/Public/public-webapps/2011JulSep/0779.html">DOM Mutation Eventsが</a>
            <ul>
                <li data-md>
                    <p>頻繁に発火しすぎる</p>
                <li data-md>
                    <p>イベント伝播の恩恵を受けられず、遅すぎて役に立たない</p>
                <li data-md>
                    <p><a href="#guard-against-recursion">再帰</a>が発生しやすくガード困難</p>
            </ul>
            と気づいたため置き換えられました。
            <p>MutationObserverは次の利点があります：</p>
            <ul>
                <li data-md>
                    <p>変更が完了した後でバッチ処理して通知できる</p>
                <li data-md>
                    <p>イベントキャプチャやバブリングフェーズ不要</p>
                <li data-md>
                    <p>発生した変更内容を豊富なAPIで表現できる</p>
            </ul>
            <p class="note" role="note"><span class="marker">Note:</span> イベントも通知のバッチ処理は可能ですが、DOM Mutation
                Eventsは設計上対応していません。
                イベントは必ずしも伝播に参加する必要はありませんが、DOMノード上のイベントは通常伝播します。</p>
        </div>
        <p>Observerパターンは次のように動作します：</p>
        <ul>
            <li data-md>
                <p>Observerクラスの各インスタンスはコールバックと、必要なら監視内容をカスタマイズするオプションを指定して構築されます。</p>
            <li data-md>
                <p>インスタンスは<code>observe()</code>メソッドで監視対象を指定して監視を開始します。
                    オプションはここで渡しても、コンストラクタで渡しても構いません。
                    コンストラクタで指定したコールバックは監視対象に変化があったときに呼び出されます。</p>
            <li data-md>
                <p>コールバックは<em>変更記録</em>（change records）を引数で受け取ります。これは発生した内容の詳細で、複数同時配信も可能です。</p>
            <li data-md>
                <p>著者はObserverインスタンスの<code>unobserve()</code>や<code>disconnect()</code>メソッドで監視停止できます。</p>
            <li data-md>
                <p>必要なら、未配信の全変更記録を即座に返す<code>takeRecords()</code>メソッドも提供できます。</p>
        </ul>
        <div class="example" id="example-f8835767">
            <a class="self-link" href="#example-f8835767"></a>
            <a href="https://w3c.github.io/IntersectionObserver"><code>IntersectionObserver</code></a>
            の利用例：
            <pre class="highlight"><c- a>function</c-> checkElementStillVisible<c- p>(</c->element<c- p>,</c-> observer<c- p>)</c-> <c- p>{</c->
    <c- ow>delete</c-> element<c- p>.</c->visibleTimeout<c- p>;</c->

    <c- c1>// タスクキューに残っている観測を処理</c->
    processChanges<c- p>(</c->observer<c- p>.</c->takeRecords<c- p>());</c->

    <c- k>if</c-> <c- p>(</c-><c- t>'isVisible'</c-> <c- ow>in</c-> element<c- p>)</c-> <c- p>{</c->
        <c- ow>delete</c-> element<c- p>.</c->isVisible<c- p>;</c->
        logAdImpressionToServer<c- p>();</c->

        <c- c1>// この要素の監視を停止</c->
        observer<c- p>.</c->unobserve<c- p>(</c->element<c- p>);</c->
    <c- p>}</c->
<c- p>}</c->

<c- a>function</c-> processChanges<c- p>(</c->changes<c- p>)</c-> <c- p>{</c->
    changes<c- p>.</c->forEach<c- p>(</c-><c- a>function</c-><c- p>(</c->changeRecord<c- p>)</c-> <c- p>{</c->
        <c- a>var</c-> element <c- o>=</c-> changeRecord<c- p>.</c->target<c- p>;</c->
        element<c- p>.</c->isVisible <c- o>=</c-> isVisible<c- p>(</c->changeRecord<c- p>.</c->boundingClientRect<c- p>,</c->
                                      changeRecord<c- p>.</c->intersectionRect<c- p>);</c->
        <c- k>if</c-> <c- p>(</c-><c- t>'isVisible'</c-> <c- ow>in</c-> element<c- p>)</c-> <c- p>{</c->
            <c- c1>// 要素が可視になった</c->
            element<c- p>.</c->visibleTimeout <c- o>=</c-> setTimeout<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
                checkElementStillVisible<c- p>(</c->element<c- p>,</c-> observer<c- p>);</c->
            <c- p>},</c-> <c- mf>1000</c-><c- p>);</c->
        <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
            <c- c1>// 要素が非表示になった</c->
            <c- k>if</c-> <c- p>(</c-><c- t>'visibleTimeout'</c-> <c- ow>in</c-> element<c- p>)</c-> <c- p>{</c->
                clearTimeout<c- p>(</c->element<c- p>.</c->visibleTimeout<c- p>);</c->
                <c- ow>delete</c-> element<c- p>.</c->visibleTimeout<c- p>;</c->
            <c- p>}</c->
        <c- p>}</c->
    <c- p>});</c->
<c- p>}</c->

<c- c1>// コールバックとオプションでIntersectionObserverを作成</c->
<c- a>var</c-> observer <c- o>=</c-> <c- ow>new</c-> IntersectionObserver<c- p>(</c->processChanges<c- p>,</c->
                                        <c- p>{</c-> threshold<c- o>:</c-> <c- p>[</c-><c- mf>0.5</c-><c- p>]</c-> <c- p>});</c->

<c- c1>// "ad"要素の監視を開始</c->
<c- a>var</c-> ad <c- o>=</c-> document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#ad'</c-><c- p>);</c->
observer<c- p>.</c->observe<c- p>(</c->ad<c- p>);</c->
</pre>
            <p>（<a href="https://github.com/w3c/IntersectionObserver/blob/master/explainer.md">IntersectionObserver
                    explainer</a>より一部改変）</p>
        </div>
        <p>Observerパターンを使う際は以下を定義してください：</p>
        <ol>
            <li data-md>
                <p>新しいObserverオブジェクト型</p>
            <li data-md>
                <p>監視オプション用オブジェクト型</p>
            <li data-md>
                <p>観測記録用オブジェクト型</p>
        </ol>
        <p>追加作業のトレードオフとして次の利点があります：</p>
        <ul>
            <li data-md>
                <p>インスタンスは監視開始時や作成時にカスタマイズ可能。Observerのコンストラクタやobserve()メソッドでコールバックごと監視内容を指定できます。これは<code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener②">addEventListener()</a></code>
                    ではできません。</p>
            <li data-md>
                <p>disconnect()やunobserve()メソッドで複数コールバックの監視停止が容易。</p>
            <li data-md>
                <p>takeRecords()のようなメソッドでイベント発火を待たずに即座にデータ取得可能。</p>
            <li data-md>
                <p>Observerは単一目的なのでイベントタイプ指定不要。</p>
        </ul>
        <p><code>Observer</code> と <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑤">EventTarget</a></code>
            には以下の共通点があります：</p>
        <ul>
            <li data-md>
                <p>どちらも生成時にカスタマイズできます。</p>
            <li data-md>
                <p>どちらも発生をまとめて、任意のタイミングで配信できます。
                    <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑥">EventTarget</a></code>
                    は同期である必要はなく、
                    マイクロタスクタイミング、アイドルタイミング、アニメーションフレームタイミングなどを使えます。
                    特別なタイミングやバッチ化のために <code>Observer</code> は不要です。
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑦">EventTarget</a></code>
                    も <code>Observer</code> も DOM ツリー（バブリング/キャプチャやキャンセル）に関与する必要はありません。
                    代表的な <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑧">EventTarget</a></code>
                    は DOM ツリー内の <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node" id="ref-for-node①">Node</a></code>
                    ですが、
                    他にも独立したイベントが多くあります。
                    例えば、<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/IndexedDB/#idbdatabase" id="ref-for-idbdatabase">IDBDatabase</a></code>
                    や <code
                        class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget" id="ref-for-xmlhttprequesteventtarget">XMLHttpRequestEventTarget</a></code>
                    などです。
                    <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node" id="ref-for-node②">Node</a></code>
                    を使う場合でも、
                    イベントをバブリングせず、キャンセル不可に設計することもできます。
                </p>
        </ul>
        <div class="example" id="example-211011c7">
            <a class="self-link" href="#example-211011c7"></a>
            仮想的な <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#intersectionobserver" id="ref-for-intersectionobserver">IntersectionObserver</a></code>
            を <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑨">EventTarget</a></code>
            のサブクラスとして使う例：

            <pre class="highlight"><c- a>const</c-> io <c- o>=</c-> <c- ow>new</c-> ETIntersectionObserver<c- p>(</c->element<c- p>,</c-> <c- p>{</c-> root<c- p>,</c-> rootMargin<c- p>,</c-> threshold <c- p>});</c->

<c- a>function</c-> listener<c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    <c- k>for</c-> <c- p>(</c-><c- a>const</c-> change <c- k>of</c-> e<c- p>.</c->changes<c- p>)</c-> <c- p>{</c->
        <c- c1>// ...</c->
    <c- p>}</c->
<c- p>}</c->

io<c- p>.</c->addEventListener<c- p>(</c-><c- u>"intersect"</c-><c- p>,</c-> listener<c- p>);</c->
io<c- p>.</c->removeEventListener<c- p>(</c-><c- u>"intersect"</c-><c- p>,</c-> listener<c- p>);</c->
</pre>
            <p><code>Observer</code> バージョンと比較すると：</p>
            <ul>
                <li data-md>
                    <p>同じオプションで複数要素を監視するのが難しい；</p>
                <li data-md>
                    <p>即座にデータを要求する方法がない；</p>
                <li data-md>
                    <p>同じイベントの複数リスナーを削除するのが面倒；</p>
                <li data-md>
                    <p>冗長な <code>"intersect"</code> イベントタイプを著者が指定する必要がある。</p>
            </ul>
            <p><code>Observer</code> バージョンと共通する点：</p>
            <ul>
                <li data-md>
                    <p>バッチ処理は可能；</p>
                <li data-md>
                    <p>タイミングは同じ（JavaScript のイベントキュー基準）；</p>
                <li data-md>
                    <p>著者は何を監視するかカスタマイズ可能；</p>
                <li data-md>
                    <p>イベントはキャプチャやバブリングされない。</p>
            </ul>
            <p>これらの特徴はどちらの設計でも実現可能です。</p>
        </div>
        <p>関連項目：</p>
        <ul>
            <li data-md>
                <p><a href="#events-are-for-notification">§ 7.6 通知にはイベントを使う</a></p>
            <li data-md>
                <p><a href="#state-and-subclassing">§ 7.8 状態は Event ではなく target オブジェクトに持たせる</a></p>
        </ul>
        <h2 class="heading settled" data-level="8" id="types-and-units"><span class="secno">8. </span><span
                class="content">WebIDL、型、単位</span><a class="self-link" href="#types-and-units"></a></h2>
        <h3 class="heading settled" data-level="8.1" id="numeric-types"><span class="secno">8.1. </span><span
                class="content">数値型を適切に使う</span><a class="self-link" href="#numeric-types"></a>
        </h3>
        <p>設計するAPIで数値を使う場合、特別な理由がない限り<a data-link-type="biblio" href="#biblio-webidl"
                title="Web IDL Standard">[WEBIDL]</a>の以下の数値型を使ってください：</p>
        <dl>
            <dt data-md><code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double">unrestricted double</a></code>
            <dd data-md>
                <p>すべてのJavaScript数値（±Infinity, NaN含む）</p>
            <dt data-md><code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double">double</a></code>
            <dd data-md>
                <p>すべてのJavaScript数値（±Infinity, NaN除く）</p>
            <dt data-md>[<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange">EnforceRange</a></code>]
                <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-long-long" id="ref-for-idl-long-long">long long</a></code>
            <dd data-md>
                <p>-2<sup>63</sup>～2<sup>63</sup>のJavaScript数値（整数丸め）。
                    範囲外の場合、生成バインディングは<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>を投げます。
                </p>
            <dt data-md>[<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange①">EnforceRange</a></code>]
                <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long">unsigned long long</a></code>
            <dd data-md>
                <p>0～2<sup>64</sup>のJavaScript数値（整数丸め）。
                    範囲外の場合、生成バインディングは<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>を投げます。
                </p>
        </dl>
        <p>JavaScriptの数値型は<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>のみです。
            IEEE 754倍精度浮動小数点（±0, ±Infinity, NaN含む）。
            <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a>の数値型は、
            JavaScript数値を特定性質の部分集合に変換する規則です。
            この規則は、メソッドやプロパティsetterでIDL定義インターフェースに数値が渡されたときに実行されます。
        </p>
        <p>追加の規則が必要ならアルゴリズムで指定してください。</p>
        <div class="note" role="note">
            <a
                href="https://webidl.spec.whatwg.org/#es-integer-types">WEBIDLの変換規則</a>では、JavaScript数値をビット数の少ない数値型（例：<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet">octet</a></code>（8bit、[0,255]範囲））に変換する際、JS値のmoduloを取ります。
            例：JS値300を<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet①">octet</a></code>に変換すると、まず300
            mod 255を計算し、結果は45になります。これは驚くかもしれません。
            <p>代わりに[<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange②">EnforceRange</a></code>]<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet②">octet</a></code>で範囲外ならTypeError、[<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Clamp" id="ref-for-Clamp">Clamp</a></code>]<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet④">octet</a></code>で範囲外値を255に丸めることもできます。
            </p>
            <p>これは他の短い型（<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-short" id="ref-for-idl-short">short</a></code>や<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long">long</a></code>）でも有効です。
            </p>
        </div>
        <p><code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-bigint" id="ref-for-idl-bigint">bigint</a></code>
            は値が2<sup>53</sup>より大きい、または-2<sup>53</sup>より小さい場合のみ使ってください。</p>
        <p>APIで<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects" id="ref-for-sec-bigint-objects">BigInt</a></code>
            と<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects①">Number</a></code>
            両方を同時にサポート（多態/別API）してはいけません。暗黙変換で精度損失しBigIntの意味が失われます。</p>
        <h3 class="heading settled" data-level="8.2" id="idl-string-types"><span class="secno">8.2. </span><span
                class="content">文字列は適切な型で表現する</span><a class="self-link" href="#idl-string-types"></a>
        </h3>
        <div class="note" role="note">
            このセクションは
            <a href="https://w3c.github.io/bp-i18n-specdev/#char_string">Defining string</a>セクション（<a
                data-link-type="biblio" href="#biblio-international-specs"
                title="Internationalization Best Practices for Spec Developers">[international-specs]</a>）と内容を一致させることを意図しています。文書進化による差異は随時報告してください。
        </div>
        <p>Webプラットフォーム機能で<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string"
                id="ref-for-string">文字列</a>を扱う場合、特別な理由がなければ<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString">DOMString</a></code>を使ってください。
        </p>
        <p>ほとんどの文字列操作は文字列内の<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-unit"
                id="ref-for-code-unit">コード単位</a>を解釈する必要がないため、<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①">DOMString</a></code>が最適です。
            下記で説明する特定ケースでは<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①">USVString</a></code>や<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString">ByteString</a></code>が適切な場合もあります。<a
                data-link-type="biblio" href="#biblio-infra" title="Infra Standard">[INFRA]</a> <a
                data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a>
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②">USVString</a></code>
            はWebIDL型で<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#scalar-value-string"
                id="ref-for-scalar-value-string">スカラ値文字列</a>を表します。
            主要なアルゴリズムが<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#scalar-value"
                id="ref-for-scalar-value">スカラ値</a>単位で動作（例：<a data-link-type="dfn"
                href="https://w3c.github.io/i18n-glossary/#dfn-percent-encoding"
                id="ref-for-dfn-percent-encoding">パーセントエンコーディング</a>）したり、入力で<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#surrogate"
                id="ref-for-surrogate">サロゲート</a>を扱えない（例：ネイティブAPIへ文字列を渡す）場合は<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③">USVString</a></code>を使ってください。
        </p>
        <p class="example" id="example-fe96b598"><a class="self-link" href="#example-fe96b598"></a>
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect"
                id="ref-for-reflect">IDL属性の反映</a>で、内容属性が<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a>を含む場合
            （例：<code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href" id="ref-for-attr-hyperlink-href①">href</a></code>）
            は<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④">USVString</a></code>を使ってください。
            <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString①">ByteString</a></code>
            はHTTPなど、バイトと文字列を区別しないプロトコルデータを表す場合のみ使ってください。一般の文字列型ではありません。
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#sequence-type"
                id="ref-for-sequence-type②">byte列</a>を表す必要があるなら<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array①">Uint8Array</a></code>を使ってください。
        </p>
        <h3 class="heading settled" data-level="8.3" id="milliseconds"><span class="secno">8.3. </span><span
                class="content">時間計測にはミリ秒を使う</span><a class="self-link" href="#milliseconds"></a></h3>
        <p>APIで時間計測値を受け付ける場合は、ミリ秒単位で表現してください。</p>
        <p>APIのドメインで秒（または他の単位）が自然であっても、ミリ秒に統一することでAPI間の相互運用性が保たれます。
            これにより、著者があるAPIの値を他のAPIで使う際に変換が不要になり、どこでどの単位が必要かを管理する必要がなくなります。</p>
        <p>この慣習は<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout" id="ref-for-dom-settimeout">setTimeout()</a></code>
            や
            <code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects">Date</a></code>
            APIで始まり、以降継続して使われています。
        </p>
        <p class="note" role="note"><span class="marker">注:</span> 高分解能時間は通常、浮動小数点値で分数ミリ秒として表現され、ナノ秒などの整数値ではありません。</p>
        <h3 class="heading settled" data-level="8.4" id="times-and-dates"><span class="secno">8.4. </span><span
                class="content">時間・日付は適切な型で表現する</span><a class="self-link" href="#times-and-dates"></a></h3>
        <p>プラットフォーム上で日付・時刻を表す場合は<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp">DOMHighResTimeStamp</a></code>
            型を使ってください。
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①">DOMHighResTimeStamp</a></code>
            でタイムスタンプ同士の比較が可能で、ユーザーの時刻設定に関わらず扱えます。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp②">DOMHighResTimeStamp</a></code>
            の値はミリ秒単位の時刻値です。
            詳細は<a data-link-type="biblio" href="#biblio-highres-time" title="High Resolution Time">[HIGHRES-TIME]</a>
            を参照してください。</p>
        <p>特定の日時値を表現する目的でJavaScriptの<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects①">Date</a></code>
            クラスは使わないでください。
            <code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects②">Date</a></code>
            オブジェクトは値が変更可能（mutable）で、イミュータブルにする方法がありません。
        </p>
        <div class="note" role="note">
            <code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects③">Date</a></code>
            を使ってはいけない理由の詳細は以下を参照：
            <ul>
                <li data-md>
                    <p><a href="https://esdiscuss.org/topic/frozen-date-objects">Frozen date objects?</a>（es-discuss）
                    </p>
                <li data-md>
                    <p><a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=22824">Remove Date from Web IDL</a>
                        （Web IDL Bugzilla）</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="8.5" id="error-types"><span class="secno">8.5. </span><span
                class="content">エラーはErrorかDOMExceptionで表現する</span><a class="self-link" href="#error-types"></a>
        </h3>
        <p>Web APIのエラーはECMAScriptのエラーオブジェクト（例：<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects" id="ref-for-sec-error-objects">Error</a></code>）
            または<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
            で表現してください。例外・Promiseの拒否値・プロパティいずれの場合も同様です。</p>
        <h2 class="heading settled" data-level="9" id="device-apis"><span class="secno">9. </span><span
                class="content">デバイスやブラウザー機能へのアクセスをラップするAPI</span><a class="self-link" href="#device-apis"></a></h2>
        <p>現在Webプラットフォームではデバイス操作用APIの開発が進められています。
            例えば、著者はWebで
            <a href="https://www.w3.org/TR/mediacapture-streams/">マイクやカメラ</a>、
            <a href="https://www.w3.org/TR/generic-sensor/">各種センサー</a>（ジャイロ・加速度など）、
            <a href="https://www.w3.org/community/web-bluetooth/">Bluetooth</a>や
            <a href="https://wicg.github.io/webusb/">USB</a>周辺機器、
            <a href="https://www.w3.org/community/autowebplatform/">自動車</a>などを利用したいと考えています。
        </p>
        <p>同様に、ホストシステムや外部サービスがオプションで提供する機能も含まれます。
            これには、ユーザーが利用権を購入した場合のみ有効な機能も含みます。</p>
        <p>これらの機能はOSが提供する場合もあれば、ネイティブサードパーティライブラリが提供する場合もあります。
            APIは、ネイティブ機能を「ラップ」しつつ、ブラウザー側のAPI面をセキュアに保ちながら、大きな複雑さを持ち込まずに抽象化できます。
            このため、ラッパーAPI（wrapper API）と呼ばれます。</p>
        <p>このセクションでは、こうした機能向けAPI設計時に考慮すべき原則を示します。</p>
        <h3 class="heading settled" data-level="9.1" id="device-ids"><span class="secno">9.1. </span><span
                class="content">機能に関する不要な情報は公開しない</span><a class="self-link" href="#device-ids"></a></h3>
        <p><a href="#data-minimization">データ最小化</a>原則に従い、Webサイトに機能情報を提供する必要がある場合は、必要最小限のデータのみ公開してください。</p>
        <p>まず、本当に情報公開が必要か慎重に検討してください。
            より弱いAPIでも<a href="#priority-of-constituencies">ユーザーニーズ</a>を満たせるか検討しましょう。</p>
        <p>デバイスの存在や追加情報、デバイス識別子の公開はどれもユーザーのプライバシーリスクを高めます。</p>
        <p>ユーザーがデバイスや機能へのアクセスを拒否した場合、「その機能が存在するか」自体を公開しないようにしてください。
            この場面での情報漏洩防止は、機能が許可された場合よりも重要です。</p>
        <p>より詳細な情報が共有されるほど、
            サイトに提供される<a href="https://www.w3.org/TR/fingerprinting-guidance/">フィンガープリント用データ</a>
            が多くなり、ユーザー固有の<a
                href="https://w3ctag.github.io/privacy-principles/#sensitive-information">機微情報</a>が漏れる可能性も高まります。
        </p>
        <p>より弱いAPI設計が不可能な場合は、以下の指針に従ってデバイス情報を公開してください：</p>
        <dl>
            <dt data-md>識別子に含まれる情報を制限する
            <dd data-md>
                <p>ウェブプラットフォームに公開されるデバイス識別子には、可能な限り識別可能な情報を最小限にしてください。識別可能な情報にはブランド名や製造元、機種番号などが含まれます。通常はランダムに生成した識別子を代わりに使用できます。識別子が推測されやすくないこと、再利用されないことを確認してください。
                </p>
            <dt data-md>ユーザーによる制御を維持する
            <dd data-md>
                <p>ユーザーが閲覧データの消去を選択した場合、保存されているデバイス識別子も確実に消去されるようにしてください。</p>
            <dt data-md>機密情報をユーザーの許可の背後に隠す
            <dd data-md>
                <p>デバイス識別子を匿名の方法で作成できない場合は、そのアクセスを制限してください。Webページがこの情報にアクセスすることについて、<a
                        href="#user-decisions">ユーザーが適切な判断を下せるよう支援する</a>ことを確認してください。</p>
            <dt data-md>識別子を同一オリジンモデルに紐付ける
            <dd data-md>
                <p>同じ物理デバイスについては、それにアクセスできる各オリジンごとに異なる識別子を作成してください。</p>
            <dd data-md>
                <p>同じオリジンから同じデバイスが複数回要求された場合、（ユーザーが閲覧データを消去していない限り）同じ識別子を返してください。これにより、作成者が同じデバイスの複数のコピーを持つことを避けられます。
                </p>
            <dt data-md>必要に応じて永続化可能にする
            <dd data-md>
                <p>デバイス識別子の取得に時間がかかる場合、作成者があるセッションで生成した識別子を後のセッションで使用するために保存できるようにしてください。識別子を生成する手順が、各オリジンにおいて同じデバイスに対して常に同じ値を生成するようにすることでこれを実現できます。
                </p>
        </dl>
        <p>参照：</p>
        <ul>
            <li data-md>
                <p><a href="#user-decisions">§ 1.4.1 ユーザーが適切な判断を下せるよう支援する</a></p>
            <li data-md>
                <p><a data-link-type="biblio" href="#biblio-least-power"
                        title="The Rule of Least Power">[LEAST-POWER]</a></p>
            <li data-md>
                <p><a data-link-type="biblio" href="#biblio-fingerprinting-guidance"
                        title="Mitigating Browser Fingerprinting in Web Specifications">[FINGERPRINTING-GUIDANCE]</a>
                </p>
            <li data-md>
                <p><a data-link-type="biblio" href="#biblio-unsanctioned-tracking"
                        title="Unsanctioned Web Tracking">[UNSANCTIONED-TRACKING]</a></p>
        </ul>
        <h3 class="heading settled" data-level="9.2" id="device-enumeration"><span class="secno">9.2. </span><span
                class="content">デバイス選択や列挙API公開時は慎重に</span><a class="self-link" href="#device-enumeration"></a></h3>
        <p>デバイス列挙を避ける方法を探してください。避けられない場合は公開情報を最小限にしてください。</p>
        <p>APIが複数デバイスの存在・機能・識別子を公開する場合、<a href="#device-ids">§ 9.1 機能に関する不要な情報は公開しない</a>のリスクがデバイス数分増加します。
            より弱いAPIで<a href="#priority-of-constituencies">ユーザーニーズ</a>を満たせるか再検討してください。<a data-link-type="biblio"
                href="#biblio-least-power" title="The Rule of Least Power">[LEAST-POWER]</a></p>
        <p>APIの目的が「特定種別デバイスの中からユーザーが選択する」なら、スクリプトにリストを公開する必要はありません。
            ユーザーエージェント提供のデバイスピッカーを呼び出すAPIで十分です。
            このようなAPIは：</p>
        <ul>
            <li data-md>
                <p>ユーザーによる制御を維持する、</p>
            <li data-md>
                <p><a href="#user-decisions">ユーザーがその決定を理解できるよう支援する</a>、</p>
            <li data-md>
                <p>デフォルトではユーザーの環境に関するフィンガープリンティングデータを一切公開しない、</p>
            <li data-md>
                <p>一度に一つのデバイスについての情報だけを公開する。</p>
        </ul>
        <p>ユーザーがデバイスを選択できる API を設計する場合、選択可能なデバイスが存在するという事実を公開する必要があることがあります。これはウェブサイトに対してユーザーの環境に関する 1
            ビットのフィンガープリンティングデータを公開することになるため、そのような機能を持たない API よりも安全とは言えません。そのような API では、ユーザーが <a
                href="#user-decisions">適切な判断を下せる</a> ように、ユーザーインターフェース上で十分な情報を提示できることを保証してください。</p>
        <div class="example" id="example-e2381236">
            <a class="self-link" href="#example-e2381236"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/remote-playback/#dom-remoteplayback" id="ref-for-dom-remoteplayback">RemotePlayback</a></code>
            インターフェースは利用可能な<a data-link-type="dfn"
                href="https://w3c.github.io/remote-playback/#dfn-remote-playback-devices"
                id="ref-for-dfn-remote-playback-devices">リモート再生デバイス</a>のリストを公開しません。
            代わりに、ユーザーがUA提供のデバイスピッカーから1つ選択できます。
            <p>ただし、Webサイトは
                <a data-link-type="dfn" href="https://w3c.github.io/remote-playback/#dfn-remote-playback-devices"
                    id="ref-for-dfn-remote-playback-devices①">リモート再生デバイス</a>
                が利用可能か検出できるため、利用可能時のみピッカー表示UIを出し分けできます。
                このトレードオフにより、UI混乱を避けられます。
            </p>
        </div>
        <p>デバイスリスト公開が必要な場合は、<strong>ユーザーニーズを満たす最小限のサブセット</strong>のみ公開するようにしてください。</p>
        <p>例えば、Webサイトが<strong>フィルタ済みや制約付きのリスト</strong>を要求できるAPIは、デバイス数を減らす有効な選択肢です。
            ただし、著者が異なる制約で複数回リクエストできる場合は、結局全リストにアクセス可能になる場合もあります。</p>
        <p>最終的に特定種別デバイスの全リスト公開が必要な場合は、デバイスの<strong>並び順を厳密に定義</strong>してください。
            これにより相互運用性問題やフィンガープリントリスクが軽減します。
            （並び順が追加情報を漏らす場合も：<a href="https://w3c.github.io/fingerprinting-guidance/#standardization">Mitigating Browser
                Fingerprinting in Web Specifications § 6.2 Standardization</a>参照）</p>
        <p class="note" role="note"><span class="marker">注:</span> APIは<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-defined">実装依存</a>順で全リスト公開すべきではありませんが、Web互換性上必要な場合もあり得ます。</p>
        <h3 class="heading settled" data-level="9.3" id="usecase-oriented-apis"><span class="secno">9.3. </span><span
                class="content">基盤機能ではなくユーザーニーズに基づいて設計する</span><a class="self-link" href="#usecase-oriented-apis"></a>
        </h3>
        <p>新たなネイティブ機能をWebに公開する際は、ユーザーニーズに基づいて設計してください。</p>
        <p>既存のネイティブAPIをそのままWebに翻訳するのは避けてください。</p>
        <p>代わりに、ネイティブAPIが提供する機能とその対応するユーザーニーズを分析し、実装が既存ネイティブAPIに依存していても、ユーザーニーズを満たすAPIを設計してください。</p>
        <p>基盤ネイティブAPIのライフサイクルやデータ構造をそのまま公開する際は特に注意してください。
            可能な場合は新しいハードウェアへの柔軟性も考慮しましょう。</p>
        <p>つまり新提案APIは、「現状のハードウェア・デバイス・ネイティブAPIでどう動くか」ではなく、「どのような利用方法を想定するか」を基準に設計してください。</p>
        <h3 class="heading settled" data-level="9.4" id="hardware-is-scary"><span class="secno">9.4. </span><span
                class="content">安全性を積極的に考慮する</span><a class="self-link" href="#hardware-is-scary"></a></h3>
        <p>ネイティブ機能をWebプラットフォームに導入する際は、防御的に設計してください。</p>
        <p>ネイティブ機能のWeb導入には多くの影響があります。
            ユーザーは自分のPCに特定機能があることをWebサイトに知られたくない場合があります。
            そのため、論理的なオリジン境界外へのアクセスは必ず権限管理してください。</p>
        <p>例えば、デバイスが状態保存可能で、複数originから同時に読める場合、その状態を読み書きできるAPIはWebのオリジンモデルを破る副チャネルとなります。</p>
        <p>このため、デバイスが排他アクセス不要でも、originごとに排他アクセスを強制したり、現在アクティブなタブだけに制限したりすることも検討してください。</p>
        <p>加えて、APIはデバイスの物理的な切断などにもアプリケーションが優雅に対応できるよう設計してください。</p>
        <h3 class="heading settled" data-level="9.5" id="wrapper-apis"><span class="secno">9.5. </span><span
                class="content">ネイティブAPIの適応にはWebプラットフォーム原則を適用する</span><a class="self-link" href="#wrapper-apis"></a>
        </h3>
        <p>OSネイティブAPIをWebに適応する場合は、Webプラットフォームの原則に沿って新APIを設計してください。</p>
        <dl>
            <dt data-md>Web APIは複数プラットフォームで実装可能に
            <dd data-md>
                <p>ラッパーAPI設計時は、各プラットフォームで機能がどう提供されるか考慮してください。</p>
                <p>理想的には全実装が完全に同じ動作ですが、場合によっては一部プラットフォームだけで使えるオプションを公開する理由があるかもしれません。
                    その場合は、全プラットフォームで動作するコードの書き方を必ず説明してください。
                    <a href="#feature-detect">§ 2.6 新機能は検出可能にする</a>も参照。
                </p>
            <dt data-md>基盤プロトコルはオープンであること
            <dd data-md>
                <p>外部ハードウェアやサービスとの交換を必要とするAPIは、閉じた・独自プロトコルに依存すべきではありません。
                    非オープンプロトコルへの依存はWebのオープン性を損ないます。</p>
            <dt data-md>オフライン時の挙動も設計すること
            <dd data-md>
                <p>APIがリモートサーバ提供のサービスに依存する場合は、ユーザーが何らかの理由でサーバにアクセスできない場合でもAPIが適切に動作するよう設計してください。</p>
            <dt data-md>フィンガープリント面の追加を避ける
            <dd data-md>
                <p>ラッパーAPIはユーザーに広範なフィンガープリントリスクを与える可能性もあります。
                    <a href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/">unsanctioned tracking</a>も参照ください。
                </p>
        </dl>
        <h2 class="heading settled" data-level="10" id="other-considerations"><span class="secno">10. </span><span
                class="content">その他のAPI設計上の考慮事項</span><a class="self-link" href="#other-considerations"></a></h2>
        <h3 class="heading settled" data-level="10.1" id="polyfills"><span class="secno">10.1. </span><span
                class="content">新機能にはポリフィルを可能にする</span><a class="self-link" href="#polyfills"></a></h3>
        <p>ポリフィルは新機能のWebプラットフォーム展開を大きく助けます。
            Technical Architecture Groupの<a href="https://www.w3.org/2001/tag/doc/polyfills/">Polyfills and the
                Evolution of the Web</a>
            の提言を新機能開発時に考慮してください。主なポイント：</p>
        <ul>
            <li data-md>
                <p>「ポリフィル可能」であることは必須ではないが<strong>有益</strong>である</p>
            <li data-md>
                <p><a href="#feature-detect">§ 2.6 新機能は検出可能にする</a></p>
            <li data-md>
                <p>ポリフィル開発を奨励する</p>
        </ul>
        <h3 class="heading settled" data-level="10.2" id="consider-dedicatedworker-support"><span class="secno">10.2.
            </span><span class="content">可能な限りDedicated WorkerにもAPIを公開する</span><a class="self-link"
                href="#consider-dedicatedworker-support"></a></h3>
        <p>機能を公開する際は、Dedicated Worker（<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope">DedicatedWorkerGlobalScope</a></code>
            インターフェース）でも公開する意味があるか検討してください。</p>
        <p>多くの機能はDedicated Workerでもそのまま動作可能で、未対応だと非ブロッキングでコードを実行する能力が制限されます。</p>
        <p>Dedicated Worker対応には課題もあり、特に権限要求やピッカー・セレクター表示などユーザー入力が必要な場合は困難です。
            こうした理由でDedicated Worker対応を避ける仕様著者もいますが、
            将来的なDedicated Worker対応を容易にするため、設計段階でDedicated Worker対応も考慮することを推奨します。</p>
        <h4 class="heading settled" data-level="10.2.1" id="worker-only"><span class="secno">10.2.1. </span><span
                class="content">一部APIはDedicated Workerのみに公開するべき</span><a class="self-link" href="#worker-only"></a></h4>
        <p>開発者は複雑なコードよりもシンプルなコードを好みます。
            APIも、最も簡単な利用法がそのAPIの推奨利用法となりやすいです。</p>
        <p>レンダリングをブロックする機能追加は避けてください。<a href="#avoid-render-blocking">§ 3.4 レンダリングをブロックする機能は避ける</a></p>
        <p>APIの最も簡単な利用法がレンダーブロックや「<a
                href="https://developer.mozilla.org/en-US/docs/Glossary/Jank">ジャンク</a>」になりやすい場合、ユーザー体験が悪化します。
            （この問題は低スペック端末ほど顕著で、社会的弱者ユーザーほど影響を受けやすいです。
            <a href="https://www.w3.org/TR/ethical-web-principles/#allpeople">Webはすべての人のためのもの</a>であることを忘れないでください。）
        </p>
        <p>そのため、意図通り使うとメインスレッドをブロックするAPIは<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code>
            インターフェースで公開すべきではありません。
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope①">DedicatedWorkerGlobalScope</a></code>
            インターフェース限定にすることで、開発者が「簡単な道」で最良のユーザー体験を提供できます。
        </p>
        <p class="example" id="example-c5e10604"><a class="self-link" href="#example-c5e10604"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#ScriptProcessorNode" id="ref-for-ScriptProcessorNode">ScriptProcessorNode</a></code>
            はWeb Audio APIで<code
                class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#AudioWorklet" id="ref-for-AudioWorklet">AudioWorklet</a></code>
            に置き換えられました。メインスレッドで<code
                class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#ScriptProcessorNode" id="ref-for-ScriptProcessorNode①">ScriptProcessorNode</a></code>
            を使うとユーザー体験が悪化しやすかったためです。<a data-link-type="biblio" href="#biblio-webaudio"
                title="Web Audio API">[WebAudio]</a>
        </p>
        <h3 class="heading settled" data-level="10.3" id="expose-everywhere"><span class="secno">10.3. </span><span
                class="content">純粋な計算機能だけを全ての環境で公開する</span><a class="self-link" href="#expose-everywhere"></a></h3>
        <p>機能公開時は、全ての環境（<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed">[Exposed=*]</a></code>
            アノテーションや全グローバルスコープインターフェースへの追加）で公開する意味があるか検討してください。</p>
        <p>純粋な計算機能だけを全環境で公開してください。
            つまりI/Oを行わず、ユーザーエージェントや端末の状態を変化させないものです。</p>
        <p class="example" id="example-e199054f"><a class="self-link" href="#example-e199054f"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textencoder" id="ref-for-textencoder">TextEncoder</a></code>
            インターフェースは文字列をUTF-8バイト列に変換します。
            純粋な計算インターフェースで、JS言語機能として広く有用なので全環境で公開すべきです。
        </p>
        <p class="example" id="example-553789a6"><a class="self-link" href="#example-553789a6"></a>
            <a class="idl-code" data-link-type="attribute"
                href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage"
                id="ref-for-dom-localstorage">localStorage</a>
            はユーザーエージェントの状態を変更するため、全環境で公開すべきではありません。
        </p>
        <p class="example" id="example-6dca4ec6"><a class="self-link" href="#example-6dca4ec6"></a>
            技術的には<code
                class="idl"><a data-link-type="idl" href="https://console.spec.whatwg.org/#namespacedef-console" id="ref-for-namespacedef-console">console</a></code>
            はユーザーエージェント（開発者ツールへのログ表示）やユーザー端末（ログファイルへの書き込み）に影響し得ますが、
            実行中コードからは観測できず、全環境で<code
                class="idl"><a data-link-type="idl" href="https://console.spec.whatwg.org/#namespacedef-console" id="ref-for-namespacedef-console①">console</a></code>
            を持てる利点が欠点を上回ります。
        </p>
        <p>イベントループ依存機能も全環境で公開すべきではありません。
            全てのグローバルスコープがイベントループを持つわけではありません。</p>
        <p class="example" id="example-889d8e68"><a class="self-link" href="#example-889d8e68"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-abortsignal-timeout" id="ref-for-dom-abortsignal-timeout">timeout</a></code>
            メソッド（<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal④">AbortSignal</a></code>
            ）はイベントループ依存なので全環境で公開すべきではありません。
            他の<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑤">AbortSignal</a></code>
            機能は純粋計算処理なので全環境で公開すべきです。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①">[Exposed=*]</a></code>
            アノテーションも慎重に適用してください。
            他の非公開機能と組み合わせて初めて有用な場合は、デフォルトで公開しない方が良いです。</p>
        <p class="example" id="example-8be633f8"><a class="self-link" href="#example-8be633f8"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob">Blob</a></code>
            インターフェースは純粋計算機能ですが、主用途がI/Oで得られる/使われるため、原則に従い全環境公開すべきではありません。
        </p>
        <h3 class="heading settled" data-level="10.4" id="new-data-formats"><span class="secno">10.4. </span><span
                class="content">新しいデータフォーマットは正しく追加する</span><a class="self-link" href="#new-data-formats"></a>
        </h3>
        <p>新しいデータフォーマット追加時は必ず対応するMIMEタイプを定義し、既存APIにもこのタイプ対応を追加してください。</p>
        <p>Web新機能で新しいデータフォーマット追加が必要な場合があります。
            画像・動画・音声・テキスト・その他ブラウザーが扱うあらゆるフォーマットです。
            新フォーマットには厳格に検証された標準MIMEタイプを使い、テキスト系はUTF-8限定としてください。</p>
        <p>レガシーメディアフォーマットはMIMEタイプ厳密運用がされない場合や、ヘッダー覗き（sniffing）に頼ることもありますが、これは主に互換性理由であり、新フォーマットでは期待・実装すべきではありません。</p>
        <p>仕様著者は新フォーマットを既存APIにも統合し、Ingress（ReadableStreamからデコード）・Egress（WriteableStreamへエンコード）両方でブラウザー視点で安全リスト化することが期待されます。
        </p>
        <p>例えば新しい画像フォーマット追加なら、まずMIMEタイプ追加し、HTMLImageElementでデコード対応、さらに<code>HTMLCanvasElement.toBlob()</code>や<code>HTMLCanvasElement.toDataURL()</code>などEgressにも対応追加してください。
        </p>
        <p>レガシー理由でブラウザーはMIMEタイプスニッフィング対応もしますが、<a
                href="https://mimesniff.spec.whatwg.org/#image-type-pattern-matching-algorithm">pattern matching
                algorithm</a>の拡張はセキュリティ上推奨せず、新フォーマットでは厳格なMIMEタイプを推奨します。</p>
        <p>新しいMIMEタイプには仕様が必要で、Internet Assigned Numbers Authority (IANA)に登録してください。</p>
        <h3 class="heading settled" data-level="10.5" id="extend-manifests"><span class="secno">10.5. </span><span
                class="content">新しいマニフェストを作るより既存マニフェスト拡張を優先する</span><a class="self-link" href="#extend-manifests"></a>
        </h3>
        <p>機能でマニフェストが必要な場合は、既存マニフェストスキーマの拡張可否を調査してください。</p>
        <p>新しいWeb機能は自己完結・自己記述型が理想で、追加マニフェストファイルを必要とすべきではありません。
            既存マニフェスト例：</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/TR/appmanifest/">Web App Manifest</a>（Webアプリ関連機能）</p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/payment-method-manifest/">Payment Method Manifest</a>（Web決済API用）</p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/pub-manifest/">Publication Manifest</a>（Web出版WG標準で利用）</p>
            <li data-md>
                <p><a href="https://wicg.github.io/origin-policy/">Origin Policy</a>（セキュリティポリシー設定用）</p>
        </ul>
        <p>既存マニフェストの拡張を推奨します。
            変更は必ず元仕様に反映するよう働きかけるか、少なくとも仕様編者と議論してください。
            この議論により設計が洗練され、プラットフォーム統合も良くなる可能性が高いです。</p>
        <p>新しいキーや値設計時は、必要性（十分に考慮されたユースケースがあるか）を確認し、類似キーの有無も調べてください。
            既存キーでほぼ目的が満たせる場合は、既存仕様と連携して拡張してください。</p>
        <div class="note" role="note">
            元仕様著者がマニフェスト拡張の即時統合を望まない場合もあります。
            これはプロセス上（例：CR移行）、または追加内容が異なるスコープ（例：Web App Manifestの拡張がストア・決済用途限定）である場合があります。
            その場合は、元仕様編者同意の上<a data-link-type="dfn" href="#monkey-patch" id="ref-for-monkey-patch">モンキーパッチ</a>も許容されます。
        </div>
        <p>ただし、機能が特定機能領域向けの複雑なメタデータ集合を必要とする場合は、新しいマニフェスト作成も正当化されます。</p>
        <p>新マニフェストが既存マニフェストと異なる領域用途の場合（例：取得タイミングが違う、複雑さが正当化されるなど）は作成もあり得ます。
            アプリ用メタデータはWeb App Manifestへ追加、またはその拡張が基本です。
            特定用途や非ブラウザーとの相互運用要件がある場合は別アプローチもあり得ます。
            Payment Method Manifest・Publication Manifest・Origin Policyがその例です。</p>
        <p>例えば、メタデータが1つだけの場合は取得タイミングが違っても既存マニフェスト利用（理想はマニフェスト不要設計）が最善です。
            ただし、複雑なメタデータ集合が必要なら新しいマニフェスト作成も正当化されます。</p>
        <p>いずれの場合も命名規則は統一してください（<a href="#naming-is-hard">§ 12 命名原則</a>参照）。</p>
        <p class="note" role="note"><span class="marker">注:</span> 原則として既存マニフェストは小文字・アンダースコア区切りです。
            辞書形式をDOM APIで再利用したい場合はキャメルケースに変換することもあります。
            <a href="https://w3c.github.io/image-resource/">image resource</a>がその例です。
            このため、明確に単語1個で表現できるキーを推奨します。
        </p>
        <h3 class="heading settled" data-level="10.6" id="serialization"><span class="secno">10.6. </span><span
                class="content">シリアライズ時は利用者を考慮する</span><a class="self-link" href="#serialization"></a></h3>

        パーサやシリアライザを含む機能追加・拡張時は、シリアライズへの影響も考慮してください。シリアライズ結果は以下の関係者に影響します：

        <ul>
            <li data-md>
                <p>ユーザー - シリアライズ結果が最終利用者に表示されることがあるため</p>
            <li data-md>
                <p>ツール - シリアライズ出力に依存する場合がある（例：パーサが入力エラー修正の必要有無を検出）</p>
            <li data-md>
                <p>Web API - シリアライズされたデータが他のWebプラットフォームAPIに渡されることがあるため</p>
        </ul>
        <p>言語固有の期待も考慮してください。例えば、言語によって空白の有無が重要だったり、浮動小数点数の精度許容範囲が異なります。
            シリアライズ結果は次の点に注意：</p>
        <ul>
            <li data-md>
                <p>開発者の期待に合うべき（例：CSSプロパティのシリアライズがCSS著者の記述と著しく異なる出力にならないこと）</p>
            <li data-md>
                <p><a href="https://en.wikipedia.org/wiki/Idempotence">べき等性</a> -
                    パーサ出力をシリアライズした結果を再度パース・シリアライズしても同じになるべき</p>
            <li data-md>
                <p>エラーの累積を招かないこと - APIのシリアライズ出力を同じAPIに繰り返し渡しても内部状態が変わらないこと</p>
        </ul>
        <h3 class="heading settled" data-level="10.7" id="debuggability"><span class="secno">10.7. </span><span
                class="content">機能は開発者フレンドリーであること</span><a class="self-link" href="#debuggability"></a></h3>
        <p>新しい機能は開発者フレンドリーであるべきです。
            フレンドリーさの定量化は難しいですが、最低限次の点は考慮してください。</p>
        <p>例外のエラーテキストは一般的であるべきですが、開発者向けエラーメッセージ（開発者コンソールなど）は意味のある内容にしてください。
            開発者がエラーに遭遇した際、メッセージはそのエラーケースに固有で、過度に一般化されていないこと。</p>
        <p>理想的には、開発者向けエラーメッセージは問題箇所を特定するための十分な情報を持つべきです。</p>
        <p>CSSなど宣言型機能では、実装でデバッグ性向上のため追加作業が必要になる場合があります。
            仕様でこれを定義することで、機能がより開発者フレンドリーとなり、ユーザーにも一貫した開発体験を提供できます。</p>
        <p>デバッグ性が仕様の一部として定義された良い例は<a href="https://www.w3.org/TR/web-animations-1/#use-cases">Web Animations</a>です。</p>
        <h3 class="heading settled" data-level="10.8" id="crypto"><span class="secno">10.8. </span><span
                class="content">最良の暗号技術を使い、進化を想定する</span><a class="self-link" href="#crypto"></a></h3>
        <p>セキュリティ専門家による公平なレビューを受けた暗号アルゴリズムのみ利用し、選択したアルゴリズムが実証済みかつ最新であることを確認してください。
            暗号プロトコル・アルゴリズムは陳腐化・危殆化だけでなく、急速に進化します。</p>
        <h3 class="heading settled" data-level="10.9" id="client-hints"><span class="secno">10.9. </span><span
                class="content">Client Hintsで新情報を公開しない</span><a class="self-link" href="#client-hints"></a></h3>
        <p>Client Hints利用時は、Webページが既に他手段で取得可能な情報以外を公開しないでください。</p>
        <p>Client Hintsは重要な最適化ですが、サイトへの情報公開手段がこれだけにならないようにしてください。<cite><a
                    href="https://datatracker.ietf.org/doc/html/rfc8942#section-4.1-5">RFC 8942 §4.1</a></cite>（Client
            Hints定義）より：</p>
        <blockquote cite="https://datatracker.ietf.org/doc/html/rfc8942#section-4.1-5">
            <p>したがって、この文書に依存するClient Hintヘッダーを用いる機能は、
                <strong>必ず</strong>ユーザーエージェントがすでにアプリケーションに公開している既存のリクエストヘッダー、HTML、CSS、JavaScriptなど以外の新情報を提供してはならない。
            </p>
        </blockquote>
        <p>新しいClient HintでWebページが他手段で取得できない情報を公開しようとする場合は、まずAPIで公開することを検討してください。</p>
        <h2 class="heading settled" data-level="11" id="spec-writing"><span class="secno">11. </span><span
                class="content">よい仕様を書くために</span><a class="self-link" href="#spec-writing"></a></h2>
        <p>本ドキュメントは主にWeb API設計を扱っていますが、API設計者は同時に設計したAPIの仕様執筆も行うはずです。</p>
        <h3 class="heading settled" data-level="11.1" id="requirements-on-authors-and-implementers"><span
                class="secno">11.1. </span><span class="content">仕様の各要件の対象読者を明確にする</span><a class="self-link"
                href="#requirements-on-authors-and-implementers"></a></h3>
        <p>APIの良いコードの書き方（著者向け）と、API実装者が不適切なコードをどう扱うべきか（実装者向け）両方を文書化してください。</p>
        <p>Webは他プラットフォームと比べても、不適切なマークアップ受容に対し堅牢に設計されています。
            つまり、古いWeb標準利用ページも新しいUAで表示でき、著者の学習コストも低くなります。</p>
        <p>これを支えるため、Web仕様執筆者は不適切なマークアップと適切なマークアップ両方の解釈方法も記述する必要があります。</p>
        <p>実装者は「対応言語」（supported language）を理解する必要がありますが、これは著者が目指すべき「適合言語」（conforming language）より複雑です。</p>
        <div class="example" id="example-52a8e009"><a class="self-link" href="#example-52a8e009"></a>
            例：
            <a href="https://html.spec.whatwg.org/multipage/tables.html#table-processing-model">table要素の処理モデル</a>
            は、<code>&lt;table></code>要素内容が<a
                href="https://html.spec.whatwg.org/multipage/tables.html#the-table-element:concept-element-content-model">内容モデル</a>に適合しない場合も含めて処理方法を説明しています。
        </div>
        <h3 class="heading settled" data-level="11.2" id="avoid-ambiguity"><span class="secno">11.2. </span><span
                class="content">仕様は完全に記述し曖昧さを避ける</span><a class="self-link" href="#avoid-ambiguity"></a></h3>
        <p>機能の動作仕様を書く際は、著者が実装ごとに異なるコードを書かなくて済む十分な情報を必ず与えてください。</p>
        <p>仕様が十分に具体的でないと、実装者が異なる選択をしてしまい、その違いに対応するため著者が余分なコードを書かざるを得なくなります。</p>
        <p>実装者が他実装の詳細を調べて回避しなくて済むよう、仕様自体を完全かつ明確にしてください。</p>
        <p class="note" role="note"><span class="marker">注:</span> これは実装が異なる描画や権限プロンプトなどのUIを持てないことを意味しません。</p>
        <p class="note" role="note"><span class="marker">注:</span> 実装者は実装方針が明確でない仕様にバグ報告すべきです。</p>
        <h4 class="heading settled" data-level="11.2.1" id="algorithms"><span class="secno">11.2.1. </span><span
                class="content">アルゴリズムは明確に定義する</span><a class="self-link" href="#algorithms"></a></h4>
        <p>アルゴリズムは明確かつ簡潔に記述してください。</p>
        <p>アルゴリズムを書く最も一般的な方法は、明示的なステップ列で記述することです。これは擬似コードになることが多いです。</p>
        <div class="example" id="example-5e6a38a5"><a class="self-link" href="#example-5e6a38a5"></a>
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal" id="ref-for-dom-dialog-showmodal">showModal()</a></code>
            メソッドは、例外発生タイミングや他HTML仕様のアルゴリズム呼び出しタイミングも明確に説明した番号付きステップ列で記述されています。
        </div>
        <p>ステップ列を書く際は、機能的コード片であることを想定してください。</p>
        <ul>
            <li data-md>
                <p>入力・出力を明確に指定し、アルゴリズムと変数命名も適切に行い、結果やエラーを返すポイントも明示してください。</p>
            <li data-md>
                <p>可能な限り副作用のあるアルゴリズムは避けてください。</p>
        </ul>
        <p>アルゴリズムの目的は詳細化前にまとめて説明し、読者がステップを読むか飛ばすか判断できるようにしてください。
            例：トップレベルブラウジングコンテキストごとに保留中Xコールバックが最大1個になることを保証するステップ。</p>
        <p>単純なステップ列が常に最適なアルゴリズム記述法とは限りません。
            繰り返しを避けるために正式な構文や文法を定義・再利用したり、状態機械の状態を定義する場合もあります。
            こうした追加構造利用時も上述の助言は適用されます。</p>
        <p>できる限り、アルゴリズムは実装方法に近い形で記述してください。
            これは仕様執筆の難易度が上がりますが、実装者が仕様記述を実装方法に翻訳する必要が減り、実装ごとの判断違いによる後続機能の実装可否差も減ります。
            例えば、実装ごとに異なる判断が将来的に新機能の追加可否に違いを生むこともあります。</p>
        <div class="example" id="example-e379a9a7"><a class="self-link" href="#example-e379a9a7"></a>
            CSSセレクタは左から右に読まれますが、実装では右から左にマッチ判定します。
            これにより最も具体的な部分でマッチ可否を素早く判定し、余計な作業を避けられます。
            CSSセレクタマッチングアルゴリズムもこのように記述されており、著者が読む方向に合わせた仮想的アルゴリズムではありません。
        </div>
        <p>関連情報:</p>
        <ul>
            <li data-md>
                <p><a href="https://infra.spec.whatwg.org/#algorithms">有用な定義・用語</a>（<a data-link-type="biblio"
                        href="#biblio-infra" title="Infra Standard">[INFRA]</a>）</p>
        </ul>
        <h4 class="heading settled" data-level="11.2.2" id="use-flags-for-states"><span class="secno">11.2.2.
            </span><span class="content">状態は明示的なフラグで管理する</span><a class="self-link" href="#use-flags-for-states"></a>
        </h4>
        <p>状態の記述には単語ではなく明示的なフラグを使ってください（アルゴリズム記述時）。</p>
        <p>明示的なフラグを使うことで、エラー条件ごとに状態が変化するか、フラグの状態がリセットされるタイミングが明確になります。</p>
        <h3 class="heading settled" data-level="11.3" id="implementability"><span class="secno">11.3. </span><span
                class="content">相互運用性と実装容易性の対立解消</span><a class="self-link" href="#implementability"></a></h3>
        <p>機能仕様化はすべての工学作業同様、トレードオフの評価と妥協が必要です。</p>
        <p>関係者全員が最善を尽くしても、すべての実装者が実装可能と認める形で相互運用的仕様化ができない場合もあります。</p>
        <p>道筋選択は<a href="#priority-of-constituencies">エンドユーザー最優先</a>で判断してください。</p>
        <p>まず実装容易性の懸念の本質を見極めてください。
            実装者がエンドユーザー被害の可能性を認識し、機能未実装を選ぶ場合は、その機能は仕様化しない方がよく、既に実装済みの実装者もアンシップすべきです。
            ただし、アンシップはユーザー・著者の混乱を招くことも忘れないでください。</p>
        <div class="example" id="sharedarraybuffer">
            <a class="self-link" href="#sharedarraybuffer"></a>
            <p>Spectre攻撃発見時、<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer" id="ref-for-idl-SharedArrayBuffer">SharedArrayBuffer</a></code>
                は高精度タイマーとしてSpectre攻撃に使えるため、すべての実装でアンシップされました。
            </p>
        </div>
        <p>全エンジンでAPI実装可能でも、動作が完全に相互運用化できない場合もあります。
            実装間で動作が異なる場合は、エンドユーザーへの影響を考慮してください。
            この方法の欠点は、動作の違いが<a href="#feature-detect">機能検出</a>不能であることです。
            逆に、将来的にすべての実装が同じ動作に収束した場合、サイト側で更新不要で収束恩恵を受けられます。</p>
        <p class="note" role="note"><span class="marker">注:</span>
            著者は支配的実装の動作を正しいと見なし、他の動作をバグと判断しやすく、それが支配的実装のさらなる定着につながることもあります。</p>
        <div class="example" id="backdrop-filter">
            <a class="self-link" href="#backdrop-filter"></a>
            <p><a class="property css" data-link-type="property"
                    href="https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter"
                    id="ref-for-propdef-backdrop-filter">backdrop-filter</a>プロパティは、実装間で目に見える動作差が多数存在します。
                現時点では、関係者はAPI共有のメリットが差異による相互運用性コストを上回ると考えています。</p>
        </div>
        <p>動作差が重大かつ収束不能なら、異なるAPIを仕様化し、各実装者が実装可能な代替案を選ぶ方が良い場合もあります。</p>
        <p>この手法のリスクは、将来的に実装が同じ動作に収束した場合、複数APIの恒久サポートが必要となり、開発者負担や実装メンテコスト増につながることです。</p>
        <p>同じユースケース向けに2つのAPIを公開すると、著者は<a href="#feature-detect">機能検出</a>でブラウザーごとに異なるコードを書く必要があります。</p>
        <p class="note" role="note"><span class="marker">注:</span>
            著者は支配的実装のAPIバリアントを「正しい」とみなしがちで、他APIバリアントの存在を知らない場合もあり、これが支配的実装の定着をさらに強めることもあります。</p>
        <p>この方法を取る場合は、API間の差異を最小化して著者負担を減らしてください。
            非標準部分をより大きな標準フレームワークの小さな独立コンポーネントに切り出す設計も可能です。</p>
        <div class="example" id="eme-and-payment-request">
            <a class="self-link" href="#eme-and-payment-request"></a>
            <p><a data-link-type="biblio" href="#biblio-encrypted-media"
                    title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>や<a data-link-type="biblio"
                    href="#biblio-payment-request" title="Payment Request API">[payment-request]</a>は、非標準コンポーネント（<a
                    href="https://w3c.github.io/encrypted-media/#dfn-cdm">Content Decryption Modules</a>や<a
                    href="https://www.w3.org/TR/payment-method-manifest/">payment
                    methods</a>）をAPI表面から切り離すことでAPI差異を最小化した例です。</p>
        </div>
        <p>一部実装者が実装意思のないAPIでも仕様化を選ぶ場合もあります。
            著者は機能検出でAPI利用可否を判断し、ユーザーは対応UAでメリットを得られます。
            これは常に問題含みですが、実装者が1社のみの場合は特に問題です。
            一部標準化団体では単一実装者しか関心を持たない機能の標準化禁止ルールがあります。
            そうでなくても、単一実装者機能の標準化は強く非推奨です。</p>
        <p>どの選択肢も受け入れがたい場合もあるでしょう。
            その場合は仕様化を見送るのが最善ですが、一部実装者が非標準APIとして機能を出荷してしまうリスクもあります。</p>
        <h3 class="heading settled" data-level="11.4" id="monkey-patching"><span class="secno">11.4. </span><span
                class="content">モンキーパッチは避ける</span><a class="self-link" href="#monkey-patching"></a></h3>

        <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
            id="monkey-patch">モンキーパッチ</dfn>は、既存仕様に新機能をレイヤーし、既存仕様の動作を拡張・上書き・他の方法で変更するものです。
        <a
            href="https://en.wikipedia.org/wiki/Monkey_patch">モンキーパッチ</a>は<strong>一般的には悪い慣習とされ、以下の理由で避けるべき</strong>ですが、時に回避困難な場合もあります（<a
            href="#cant-avoid-monkey-patching">どうしても必要な場合の指針</a>参照）。

        <p>モンキーパッチの例：仕様Aが機能の内部アルゴリズムを定義し、仕様Bがそのアルゴリズムを拡張点を使わず直接上書き・変更する。</p>
        <p>このようなモンキーパッチは、基盤機能が変わらない・変わることはないと誤って前提するもので、次の問題を生じます：</p>
        <ul>
            <li data-md>
                <p>既存仕様が変更された場合、モンキーパッチ部分が不適合となり、壊れたり混乱を招く。</p>
            <li data-md>
                <p>複数仕様が同じ部分をモンキーパッチした場合、パッチ適用順で動作が不整合になる。</p>
            <li data-md>
                <p>既存仕様著者があなたのモンキーパッチに気づかない場合、修正合意の機会を失う。最悪、当該動作が他の仕様や動作と密接に関連しており、全体状況が悪化する。</p>
            <li data-md>
                <p>実装者がコードメンテ時に基盤仕様だけ読み、モンキーパッチ動作をバグとみなして戻してしまう場合がある。</p>
        </ul>
        <p>Wikipediaでも<a href="https://en.wikipedia.org/wiki/Monkey_patch#Pitfalls">モンキーパッチの落とし穴</a>が説明されています。</p>
        <h4 class="heading settled" data-level="11.4.1" id="cant-avoid-monkey-patching"><span class="secno">11.4.1.
            </span><span class="content">どうしてもモンキーパッチが必要な場合</span><a class="self-link"
                href="#cant-avoid-monkey-patching"></a></h4>

        モンキーパッチが不可避な場合（例：新仕様の設計初期）は、必ず次のことを守ってください：

        <ol>
            <li data-md>
                <p>仕様内で、モンキーパッチは他仕様への一時的変更提案であることを明確に記載してください。例：</p>
                <div class="example" id="example-mark-monkeypatch">
                    <a class="self-link" href="#example-mark-monkeypatch"></a>
                    <pre class="language-markdown highlight"># HTTP fetchの修正

&lt;p class="issue">十分な合意が得られ次第[[Fetch]]に統合すること。&lt;/p>
</pre>
                </div>
            <li data-md>
                <p>変更箇所は引用や定義済み用語へのリンクで特定し、番号付きステップの場合は現在の番号も記載（ただし番号だけでは不十分）。複数箇所変更なら定義全文を<code>&lt;blockquote></code>で貼り、<code>&lt;ins></code>や<code>&lt;del></code>で変更点を明示してもよい。
                </p>
                <div class="example" id="example-monkeypatch-quote-text-before-step">
                    <a class="self-link" href="#example-monkeypatch-quote-text-before-step"></a>
                    <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch"
                            id="ref-for-concept-http-fetch">HTTP fetch</a>のステップ4.2「requestのredirect
                        modeが"follow"なら、requestのservice-workers modeを"none"に設定する」の前に次のステップを挿入：</p>
                    <ol>
                        <li data-md>
                            <p>新しいステップ。</p>
                    </ol>
                </div>
                <div class="example" id="example-monkeypatch-quote-text-replace-def">
                    <a class="self-link" href="#example-monkeypatch-quote-text-replace-def"></a>
                    <p>CSS2.1のブロックレベル整形<a data-link-type="biblio" href="#biblio-css2"
                            title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>に関して、<a
                            href="https://drafts.csswg.org/css2/#blockwidth"><cite>CSS 2</cite> § 10.3.3 Block-level,
                            non-replaced elements in normal
                            flow</a>の「over-constrained」計算ルールはここで指定するアライメントに従い無視され、marginプロパティの使用値も調整されません。</p>
                </div>
                <div class="example" id="example-monkeypatch-quote-text-change-idl">
                    <a class="self-link" href="#example-monkeypatch-quote-text-change-idl"></a>
                    <p>
                        <code><code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#urlsearchparams" id="ref-for-urlsearchparams①">URLSearchParams</a></code>.<code
                            class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#dom-urlsearchparams-delete" id="ref-for-dom-urlsearchparams-delete">delete()</a></code></code>
                        と
                        <code><code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#urlsearchparams" id="ref-for-urlsearchparams②">URLSearchParams</a></code>.<code
                            class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#dom-urlsearchparams-has" id="ref-for-dom-urlsearchparams-has">has()</a></code></code>
                        の定義に<code>optional USVString value</code>パラメータを追加：
                    </p>
                    <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <c- g>URLSearchParams</c-> {
  <c- b>undefined</c-> <c- g>delete</c->(<c- b>USVString</c-> <c- g>name</c-><ins>, <c- b>optional</c-> <c- b>USVString</c-> <c- g>value</c-></ins>);
  <c- b>boolean</c-> <c- g>has</c->(<c- b>USVString</c-> <c- g>name</c-><ins>, <c- b>optional</c-> <c- b>USVString</c-> <c- g>value</c-></ins>);
};
</pre>
                </div>
                <div class="example" id="example-monkeypatch-quote-text-change-css">
                    <a class="self-link" href="#example-monkeypatch-quote-text-change-css"></a>
                    <p>
                        <a class="css" data-link-type="property"
                            href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust"
                            id="ref-for-propdef-font-size-adjust">font-size-adjust</a>定義を次のように変更：
                    </p>
                    <table class="def propdef" data-link-for-hint="font-size-adjust">
                        <tbody>
                            <tr>
                                <th>Name:
                                <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                                        id="propdef-font-size-adjust">font-size-adjust</dfn>
                            <tr class="value">
                                <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
                                <td class="prod">
                                    none <a data-link-type="grammar"
                                        href="https://drafts.csswg.org/css-values-4/#comb-one"
                                        id="ref-for-comb-one">|</a>
                                    <ins>[ ex-height <a data-link-type="grammar"
                                            href="https://drafts.csswg.org/css-values-4/#comb-one"
                                            id="ref-for-comb-one①">|</a> cap-height <a data-link-type="grammar"
                                            href="https://drafts.csswg.org/css-values-4/#comb-one"
                                            id="ref-for-comb-one②">|</a> ch-width <a data-link-type="grammar"
                                            href="https://drafts.csswg.org/css-values-4/#comb-one"
                                            id="ref-for-comb-one③">|</a> ic-width <a data-link-type="grammar"
                                            href="https://drafts.csswg.org/css-values-4/#comb-one"
                                            id="ref-for-comb-one④">|</a> ic-height ]<a data-link-type="grammar"
                                            href="https://drafts.csswg.org/css-values-4/#mult-opt"
                                            id="ref-for-mult-opt">?</a> [ from-font <a data-link-type="grammar"
                                            href="https://drafts.csswg.org/css-values-4/#comb-one"
                                            id="ref-for-comb-one⑤">|</a></ins>
                                    <a class="production css" data-link-type="type"
                                        href="https://drafts.csswg.org/css-values-4/#number-value"
                                        id="ref-for-number-value②">&lt;number></a>
                                    <ins>]</ins>
                            <tr>
                                <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
                                <td>none
                            <tr>
                                <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
                                <td>all elements and text
                            <tr>
                                <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
                                <td>yes
                            <tr>
                                <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
                                <td>N/A
                            <tr>
                                <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
                                <td>
                                    <del>a number or the keyword none</del>
                                    <ins>the keyword <a class="css" data-link-type="maybe"
                                            href="https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none"
                                            id="ref-for-valdef-font-size-adjust-none">none</a>, or a pair of a metric
                                        keyword and a <a class="production css" data-link-type="type"
                                            href="https://drafts.csswg.org/css-values-4/#number-value"
                                            id="ref-for-number-value③">&lt;number></a></ins>
                            <tr>
                                <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
                                <td>per grammar
                            <tr>
                                <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
                                <td>
                                    <ins>discrete if the keywords differ, otherwise </ins>
                                    by computed value type
                    </table>
                </div>
            <li data-md>
                <p>モンキーパッチは短く保つ。ステップ追加が多い場合は、仕様内に独立した新アルゴリズムを定義し、パッチから新アルゴリズムを呼ぶ。</p>
            <li data-md>
                <p>アルゴリズムのステップ追加・置換時は、エディタが上流アルゴリズムにそのまま貼れるよう新ステップを書く。制御フロー（return, abortなど）はパッチ部分だけでなく上流全体から返ることを前提に。
                </p>
            <li data-md>
                <p>自コミュニティで機能レビューが済み十分な合意が得られたら、既存仕様にissueを提出し、上流コミュニティにもパッチレビューを依頼する。より良い方法の提案があれば真剣に検討する。既存拡張点の利用や早期パッチ除去も可能になる場合がある。
                </p>
            <li data-md>
                <p>上記の<code>&lt;p class="issue"></code>ブロックは、既存仕様へのissueリンクに更新する。</p>
            <li data-md>
                <p>上流仕様にパッチ統合の合意が得られたら、仕様管理者と連携して統合作業を行う。</p>
            <li data-md>
                <p>既存仕様にパッチが統合されたら、自仕様からパッチを削除する。</p>
        </ol>
        <p><a data-link-type="dfn" href="#monkey-patch"
                id="ref-for-monkey-patch①">モンキーパッチ</a>は「モジュール化」とは異なり、モジュール化は既存技術を独立的に拡張し他仕様に副作用を与えず良い慣習です（例：CSS
            Modules）。</p>
        <p>WebIDLの<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-partial-interface"
                id="ref-for-dfn-partial-interface">partial interface</a>や<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-partial-dictionary"
                id="ref-for-dfn-partial-dictionary">partial dictionary</a>による仕様拡張も通常許容されますが、その場合も既存仕様著者との調整を強く推奨します。</p>
        <h2 class="heading settled" data-level="12" id="naming-is-hard"><span class="secno">12. </span><span
                class="content">命名原則</span><a class="self-link" href="#naming-is-hard"></a></h2>
        <p>名前は次の要素から意味が生まれます：</p>
        <ul>
            <li data-md>
                <p>看板性（名前そのもの）</p>
            <li data-md>
                <p>利用（人々が時間をかけて名前の意味を理解する方法）</p>
            <li data-md>
                <p>文脈（例：左辺のオブジェクトなど）</p>
        </ul>
        <h3 class="heading settled" data-level="12.1" id="naming-common-words"><span class="secno">12.1. </span><span
                class="content">一般的な単語を使う</span><a class="self-link" href="#naming-common-words"></a></h3>
        <p>APIの命名は<em>必ず</em>読みやすい米国英語で行うこと。
            多くのWeb開発者が英語ネイティブでないことを念頭に置いてください。
            可能な限り、初見でも大多数の英語話者に分かるような一般的な語彙を選んでください。</p>
        <div class="example" id="example-d0367763">
            <a class="self-link" href="#example-d0367763"></a>
            <p>例：<code>setSize</code>は
                <code>cardinality</code>よりも英語として分かりやすい名前です。
            </p>
        </div>
        <p>簡潔さよりも可読性を重視してください。
            略語は極めて一般的で分かりやすい場合を除き、避けてください。
            例えば、<code>UIEvent</code> の "<code>UI</code>" はユーザーインターフェースを意味します。
            ただし、短い名前の方が分かりやすい場合も多いことを念頭に置いてください。
            例えば、APIが定義される仕様では、技術用語やよく知られた専門用語を使うのが適切な場合があります。</p>
        <div class="example" id="example-3cd78f17">
            <a class="self-link" href="#example-3cd78f17"></a>
            <p>例：
                Fetch APIの<code
                    class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#body" id="ref-for-body">Body</a></code>
                ミックスインの<code
                    class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-body-json" id="ref-for-dom-body-json">json()</a></code>
                メソッドは戻り値の種類を表す名前です。
                JSONはWeb開発者に広く知られた技術用語なので、これを戻り値型に直結した名前にすることで理解が容易になります。<a data-link-type="biblio" href="#biblio-fetch"
                    title="Fetch Standard">[FETCH]</a></p>
        </div>
        <h3 class="heading settled" data-level="12.2" id="naming-charset"><span class="secno">12.2. </span><span
                class="content">ASCII名を使う</span><a class="self-link" href="#naming-charset"></a></h3>
        <p>名前はローカル言語の制約（例：CSS ident規則など）を遵守し、
            <em>できる限り</em><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-code-point"
                id="ref-for-ascii-code-point">ASCII範囲</a>で記述してください。
        </p>
        <h3 class="heading settled" data-level="12.3" id="naming-consultation"><span class="secno">12.3. </span><span
                class="content">命名は他者と広く相談する</span><a class="self-link" href="#naming-consultation"></a>
        </h3>
        <p>APIの名前は広く相談してください。</p>
        <p>意外なところで良い名前やヒントが得られることもあります。</p>
        <ul>
            <li data-md>
                <p>他プラットフォームや有名ライブラリでは似たAPIがどんな名前か？</p>
            <li data-md>
                <p>エンドユーザーや開発者がAPIが扱う物事・操作対象を何と呼ぶか？</p>
            <li data-md>
                <p>他のWebプラットフォーム仕様を調べたり、関連分野の他者に意見を求める</p>
            <li data-md>
                <p>名前がインクルーシブかどうかも相談する</p>
        </ul>
        <p>基本原則に基づいた明確な根拠のある助言には特に注意を払ってください。</p>
        <div class="example" id="example-1f37c106">
            <a class="self-link" href="#example-1f37c106"></a>
            <p>Tantek Çelik は<a
                    href="https://tantek.com/2011/238/b1/many-ways-slice-url-name-pieces">URLの各部分の命名方法を詳細に調査</a>しました。
                <a href="https://url.spec.whatwg.org">URL仕様</a>の編集者はこの調査結果を参考にしています。<a data-link-type="biblio"
                    href="#biblio-url" title="URL Standard">[URL]</a>
            </p>
        </div>
        <h4 class="no-num no-toc heading settled" id="naming-web-consistency"><span
                class="content">Web一貫性のある名前を使う</span><a class="self-link" href="#naming-web-consistency"></a></h4>
        他技術スタックにも露出する機能・API名を選ぶ際は、他コミュニティよりもWebエコシステムの命名規則を優先してください。
        <div class="example" id="example-2ef86e6f">
            <a class="self-link" href="#example-2ef86e6f"></a>
            <p>NFC標準ではWebでの<a
                    href="https://mimesniff.spec.whatwg.org/#mime-type-representation">MIMEタイプ</a>にあたるものを<code>media</code>と呼びますが、Web
                NFCの機能・API命名は<code>MIME type</code>一貫性を優先すべきです。</p>
        </div>
        <h4 class="no-num no-toc heading settled" id="naming-inclusive"><span class="content">インクルーシブな言語を使う</span><a
                class="self-link" href="#naming-inclusive"></a></h4>
        <p>可能な限りインクルーシブな言葉遣いをしてください。</p>
        <p>例えば、
            blacklistやwhitelistの代わりにblocklistやallowlist、
            masterやslaveの代わりにsourceやreplicaを使うべきです。</p>
        <p>汎用的な人物（著者・ユーザーなど）を指す場合は、"they"や"their"などの汎用代名詞を使ってください。
            例："A user may wish to adjust their preferences"（ユーザーは自分の設定を調整したいかもしれない）。</p>
        <h3 class="heading settled" data-level="12.4" id="naming-future-proofing"><span class="secno">12.4. </span><span
                class="content">目的を説明する名前を使う</span><a class="self-link" href="#naming-future-proofing"></a></h3>
        <p>物事を「どうやるか」ではなく「何をするか」で名付けてください。</p>
        <p>目的に基づいた名前は将来性が高くなります。
            <a href="#removing-features">WebからAPIを削除するのは困難</a>なので、名前は実装の詳細よりも長く残る必要があります。
        </p>
        <p>特に、
            コードネームやブランド、実装技術の詳細を名前に使うのは避けてください。
            これらは陳腐化し、将来的に置き換えが必要になることがあります。</p>
        <div class="example" id="example-fd8a196a">
            <a class="self-link" href="#example-fd8a196a"></a>
            <p>Remote Playback APIはインスピレーション元の既存プロプライエタリシステム（ChromecastやAirPlayなど）の名前を使わず、
                APIの機能を表す一般的な用語を選びました。<a data-link-type="biblio" href="#biblio-remote-playback"
                    title="Remote Playback API">[REMOTE-PLAYBACK]</a></p>
        </div>
        <div class="example" id="example-4a43ecba">
            <a class="self-link" href="#example-4a43ecba"></a>
            <p>WebTransport APIはQUICプロトコルによるネットワーク機能を提供しますが、名前はより一般的な「データ輸送」の目的を表しています。
                <a data-link-type="biblio" href="#biblio-webtransport" title="WebTransport">[WebTransport]</a><a
                    data-link-type="biblio" href="#biblio-rfc9000"
                    title="QUIC: A UDP-Based Multiplexed and Secure Transport">[RFC9000]</a>
            </p>
        </div>
        <h3 class="heading settled" data-level="12.5" id="naming-consistency"><span class="secno">12.5. </span><span
                class="content">命名は一貫性を持たせる</span><a class="self-link" href="#naming-consistency"></a></h3>
        命名規則は一貫性を目指し、混乱を避けてください。
        <p>関連する名前群は次の点で一致させるべきです：</p>
        <ul>
            <li data-md>
                <p>品詞（名詞、動詞など）</p>
            <li data-md>
                <p>否定表現（セット内で全て許可を表すか、全て拒否を表すか揃える）</p>
        </ul>
        <h4 class="no-num no-toc heading settled" id="naming-booleans"><span
                class="content">Booleanプロパティとboolean戻り値メソッド</span><a class="self-link" href="#naming-booleans"></a></h4>
        <p>Booleanプロパティ・オプション・API引数で質問形式の場合は<code>is</code>で始め<em>ない</em>こと。ただし副作用のない質問メソッドなら<em>is</em>で始めるべきです（プラットフォーム全体の一貫性のため）。
        </p>
        <h4 class="no-num no-toc heading settled" id="casing-rules"><span
                class="content">既存APIと一貫した大文字・小文字規則を使う</span><a class="self-link" href="#casing-rules"></a></h4>
        <p>完全な一貫性は守られてきませんでしたが、WebプラットフォームAPI設計史で次の規則が定着しています：</p>
        <table class="data complex informative">
            <thead>
                <tr>
                    <th>
                    <th>大文字・小文字規則
                    <th>例
            <tbody>
                <tr>
                    <th>メソッド・プロパティ<br>(WebIDL属性、操作、辞書キー)
                    <td>キャメルケース
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-createattribute" id="ref-for-dom-document-createattribute">createAttribute()</a></code><br>
                        <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-compatmode" id="ref-for-dom-document-compatmode">compatMode</a></code>
                <tr>
                    <th>クラス・ミックスイン<br>(WebIDLインターフェース)
                    <td>パスカルケース
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#namednodemap" id="ref-for-namednodemap">NamedNodeMap</a></code><br>
                        <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#nonelementparentnode" id="ref-for-nonelementparentnode">NonElementParentNode</a></code>
                <tr>
                    <th>APIの頭字語
                    <td>すべて大文字。ただしメソッド・プロパティの先頭語の場合は除く
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection" id="ref-for-htmlcollection②">HTMLCollection</a></code><br>
                        <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml" id="ref-for-dom-element-innerhtml">innerHTML</a></code><br>
                        <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor" id="ref-for-dom-document-bgcolor">bgColor</a></code>
                <tr>
                    <th>APIでの頭字語繰り返し
                    <td>同じ規則に従う
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement" id="ref-for-htmlhrelement">HTMLHRElement</a></code><br>
                        <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender" id="ref-for-dom-rtcdtmfsender">RTCDTMFSender</a></code><br>
                <tr>
                    <th>"identity"/"identifier"の略語
                    <td><code>Id</code>。ただしメソッド・プロパティの先頭語の場合は除く
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid" id="ref-for-dom-nonelementparentnode-getelementbyid">getElementById()</a></code><br>
                        <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid" id="ref-for-dom-pointerevent-pointerid">pointerId</a></code><br>
                        <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id">id</a></code>
                <tr>
                    <th>列挙値
                    <td>小文字・ダッシュ区切り
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade" id="ref-for-dom-referrerpolicy-no-referrer-when-downgrade">"no-referrer-when-downgrade"</a></code>
                <tr>
                    <th>イベント
                    <td>小文字・連結
                    <td><code><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough" id="ref-for-event-media-canplaythrough">canplaythrough</a></code></code><br>
                        <code><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-languagechange" id="ref-for-event-languagechange">languagechange</a></code></code>
                <tr>
                    <th>HTML要素・属性
                    <td>小文字・連結
                    <td><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element" id="ref-for-the-figcaption-element">figcaption</a></code><br>
                        <a
                            href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fe-maxlength">maxlength</a>
                <tr>
                    <th>JSONキー
                    <td>小文字・アンダースコア区切り
                    <td><a data-link-type="dfn" href="https://w3c.github.io/manifest/#dfn-short_name"
                            id="ref-for-dfn-short_name">short_name</a>
        </table>
        <div class="non-normative">
            特に、HTML属性が<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap" id="ref-for-dom-img-ismap">isMap</a></code>プロパティとして
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement" id="ref-for-htmlimageelement">HTMLImageElement</a></code>
            で<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect"
                id="ref-for-reflect②">反映</a>されるように、属性とプロパティの大文字・小文字は必ずしも一致しません。
            <p>JSONキー規則は、HTTP送信やディスク保存用の特定JSONファイル形式に適用され、一般的なJSオブジェクトキーには適用されません。</p>
            <p>頭字語繰り返しは特に一貫性が低く、有名な例外は<code
                    class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest②">XMLHttpRequest</a></code>や<code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement" id="ref-for-htmlhtmlelement">HTMLHtmlElement</a></code>です。
                これらを真似せず、頭字語は繰り返しでも必ず大文字にしてください。
            </p>
        </div>
        <h4 class="no-num no-toc heading settled" id="factory-naming"><span
                class="content">ファクトリメソッド名は<code>create</code>または<code>from</code>で始める</span><a class="self-link"
                href="#factory-naming"></a>
        </h4>
        <p>ファクトリメソッド名は<code>create</code>または<code>from</code>で始め、必要なら後ろに具体的な名詞を続けてください。</p>
        <p>新しい空オブジェクトを構築する場合は<code>create</code>で始め、
            既存データからオブジェクトを作る場合は<code>from</code>で始めてください。</p>
        <p>ファクトリメソッドは例外的に使うべきで、<a href="#constructors">妥当な理由</a>がある場合のみ利用してください。
            妥当なファクトリ利用例は、オブジェクト作成時に親オブジェクトへの関連付けが必要な場合（例：<code>document.createXXX()</code>）です。</p>
        <p>ソースオブジェクトから変換する場合は<code>from</code>を接頭辞に使ってください。
            例：<code>Foo.fromBar()</code>は<code>Bar</code>オブジェクトから<code>Foo</code>を生成することを示します。</p>
        <p>汎用的なファクトリメソッド名は<code>create()</code>や<code>from()</code>がよく使われます。</p>
        <p>他の接頭辞を作ったり、レガシー接頭辞を使うのは避けてください。
            例外を設ける理由は、同一オブジェクト配下で既存ファクトリメソッドとの一貫性維持（例：<code>document.initXXX()</code>）などですが、新しいファクトリメソッドではこの慣習を継承しないでください。
        </p>
        <h3 class="heading settled" data-level="12.6" id="naming-unsafe"><span class="secno">12.6. </span><span
                class="content">危険な機能は命名で警告する</span><a class="self-link" href="#naming-unsafe"></a></h3>
        <p>可能な限り、開発者への保証を弱める機能は名前を"unsafe"で始めて目立たせるようにしてください。</p>
        <p>例：
            <a href="https://w3c.github.io/webappsec-csp/">Content Security Policy (CSP)</a>
            は特定のコンテンツインジェクション脆弱性を防ぎますが、
            <code>unsafe-inline</code>などCSP自身の保護を弱める機能もあり、インラインスクリプト許可で保護が減少します。
        </p>
        <h2 class="heading settled" data-level="13" id="writing-resources"><span class="secno">13. </span><span
                class="content">参考リソース</span><a class="self-link" href="#writing-resources"></a></h2>
        <p>仕様執筆に関する有用な助言は他にもあります：</p>
        <ul>
            <li data-md>
                <p><a href="https://ln.hixie.ch/?start=1140242962&amp;count=1">Writing
                        specifications: Kinds of statements</a> (Ian Hickson, 2006)</p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/qaframe-spec/">QA Framework:
                        Specification Guidelines</a> (W3C QA Working Group, 2005)</p>
            <li data-md>
                <p><a data-biblio-display="inline" data-link-type="biblio"
                        href="https://w3ctag.github.io/privacy-principles/"><cite>Privacy Principles</cite></a></p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/">Self-Review Questionnaire: Security
                        and Privacy</a></p>
            <li data-md>
                <p><a href="https://w3c.github.io/apa/fast/">Web Technology Accessibility Guidelines</a></p>
            <li data-md>
                <p><a href="https://w3c.github.io/bp-i18n-specdev/">Internationalization Best Practices for Spec
                        Developers</a> </p>
        </ul>
        <h2 class="no-num heading settled" id="acks"><span class="content">謝辞</span><a class="self-link"
                href="#acks"></a></h2>
        <p>本ドキュメントはTAG現・元メンバーが
            TAGの<a href="https://github.com/w3ctag/design-reviews/">デザインレビュー</a>で集めた原則で構成されています。
            デザインレビュー依頼してくださった皆様に感謝します。</p>
        <p>TAGは下記の方々に感謝します：
            Adrian Hope-Bailie、
            Alan Stearns、
            Aleksandar Totic、
            Alex Russell、
            Alice Boxhall、
            Andreas Stöckel、
            Andrew Betts、
            Anne van Kesteren、
            Benjamin C. Wiley Sittler、
            Boris Zbarsky、
            Brian Kardell、
            Charles McCathieNevile、
            Chris Wilson、
            Dan Connolly、
            Daniel Ehrenberg、
            Daniel Murphy、
            David Baron、
            Domenic Denicola、
            Eiji Kitamura、
            Eric Shepherd、
            Ethan Resnick、
            fantasai、
            François Daoust、
            Henri Sivonen、
            HE Shi-Jun、
            Ian Hickson、
            Irene Knapp、
            Jake Archibald、
            Jeffrey Yasskin、
            Jeremy Roman、
            Jirka Kosek、
            Kenneth Rohde Christiansen、
            Kevin Marks、
            Lachlan Hunt、
            Léonie Watson、
            L. Le Meur、
            Lukasz Olejnik、
            Maciej Stachowiak、
            Marcos Cáceres、
            Mark Nottingham、
            Martin Thomson、
            Matt Giuca、
            Matt Wolenetz、
            Michael[tm] Smith、
            Mike West、
            Nick Doty、
            Nigel Megitt、
            Nik Thierry、
            Ojan Vafai、
            Olli Pettay、
            Pete Snyder、
            Philip Jägenstedt、
            Philip Taylor、
            Reilly Grant、
            Richard Ishida、
            Rick Byers、
            Rossen Atanassov、
            Ryan Sleevi、
            Sangwhan Moon、
            Sergey Konstantinov、
            Stefan Zager、
            Stephen Stewart、
            Steven Faulkner、
            Surma、
            Tab Atkins-Bittner、
            Tantek Çelik、
            Tobie Langel、
            Travis Leithead、
            そして
            Yoav Weiss
            前身の<a href="https://www.w3.org/TR/html-design-principles/">HTML Design Principles</a>ドキュメントへの貢献も含め、感謝します。
        </p>
        <p>特に
            Anne van Kesteren
            および
            Maciej Stachowiak
            両氏に感謝します。両氏は<a href="https://www.w3.org/TR/html-design-principles/">HTML Design
                Principles</a>ドキュメントの編集を担当しました。
        </p>
        <p>もし本ドキュメントへの貢献者で上記にお名前がない方は、編集者までご連絡ください。記載漏れを訂正します。</p>
    </main>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義される用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#propdef-font-size-adjust">font-size-adjust</a><span>、§ 11.4.1で</span>
        <li><a href="#live-object">live object</a><span>、§ 6.3で</span>
        <li><a href="#monkey-patch">monkey patch</a><span>、§ 11.4で</span>
        <li><a href="#static-object">static object</a><span>、§ 6.3で</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照によって定義される用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[APPMANIFEST]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="bfa87d79">short_name</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CONSOLE]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="7b1760b0">console</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CREDENTIAL-MANAGEMENT-1]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="cbdd0aff">id</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="f831c141">background-image</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="5d83727e">actual value</span>
                <li><span class="dfn-paneled" id="9cd25054">computed value</span>
                <li><span class="dfn-paneled" id="21ec9802">inherit</span>
                <li><span class="dfn-paneled" id="a4eb3c57">used value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CONDITIONAL-3]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="c1ebc639">@supports</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-FONTS-4]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="fdf6efd5">font-size</span>
                <li><span class="dfn-paneled" id="99a3763c">font-size-adjust</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-FONTS-5]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="3b64181e">none</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-INLINE-3]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="12cf38c9">initial-letter</span>
                <li><span class="dfn-paneled" id="3245cc5d">initial-letter-align</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="fb030e6c">&lt;length></span>
                <li><span class="dfn-paneled" id="16310992">&lt;number></span>
                <li><span class="dfn-paneled" id="537cf076">?</span>
                <li><span class="dfn-paneled" id="6ec67710">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS2]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="ac54fbff">line-height</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-1]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="b203675a">getComputedStyle(elt)</span>
                <li><span class="dfn-paneled" id="4fe61159">resolved value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-VIEW-1]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="d38f9598">getBoundingClientRect()</span>
                <li><span class="dfn-paneled" id="d977a5dd">offsetTop</span>
                <li><span class="dfn-paneled" id="dc0eaa56">scrollTop</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
                <li><span class="dfn-paneled" id="cca3cdb2">AbortSignal</span>
                <li><span class="dfn-paneled" id="141bbada">DOMTokenList</span>
                <li><span class="dfn-paneled" id="296f3551">Element</span>
                <li><span class="dfn-paneled" id="129bdae8">Event</span>
                <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                <li><span class="dfn-paneled" id="9714d594">HTMLCollection</span>
                <li><span class="dfn-paneled" id="83c7a70f">MutationObserver</span>
                <li><span class="dfn-paneled" id="7f21931f">NamedNodeMap</span>
                <li><span class="dfn-paneled" id="96c16e60">Node</span>
                <li><span class="dfn-paneled" id="680651c3">NonElementParentNode</span>
                <li><span class="dfn-paneled" id="19065ec8">abort()</span>
                <li><span class="dfn-paneled" id="535dd335">aborted</span>
                <li><span class="dfn-paneled" id="87bc23a5">add</span>
                <li><span class="dfn-paneled" id="6cf6f82f">addEventListener(type, callback)</span>
                <li><span class="dfn-paneled" id="0c0ceb78">bubbles</span>
                <li><span class="dfn-paneled" id="c2f2a81a">classList</span>
                <li><span class="dfn-paneled" id="aaa103c9">compatMode</span>
                <li><span class="dfn-paneled" id="bc9fe445">createAttribute(localName)</span>
                <li><span class="dfn-paneled" id="5fcd7fc5">createElement(localName)</span>
                <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
                <li><span class="dfn-paneled" id="c7af4825">getElementById(elementId)</span>
                <li><span class="dfn-paneled" id="68c033c8">getElementsByTagName(qualifiedName)</span>
                <li><span class="dfn-paneled" id="50e555d8">once</span>
                <li><span class="dfn-paneled" id="fefe0433">preventDefault()</span>
                <li><span class="dfn-paneled" id="5def70a6">querySelectorAll(selectors)</span>
                <li><span class="dfn-paneled" id="ff87eaf9">remove</span>
                <li><span class="dfn-paneled" id="08baaf46">remove()</span>
                <li><span class="dfn-paneled" id="2296404c">signal abort</span>
                <li><span class="dfn-paneled" id="e8478f36">target</span>
                <li><span class="dfn-paneled" id="072b36ca">timeout(milliseconds)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="f6c2cd25">BigInt</span>
                <li><span class="dfn-paneled" id="8c8cc336">Date</span>
                <li><span class="dfn-paneled" id="6e923df0">Error</span>
                <li><span class="dfn-paneled" id="5f45e759">FinalizationRegistry</span>
                <li><span class="dfn-paneled" id="5f9c7266">Number</span>
                <li><span class="dfn-paneled" id="bf77e69a">WeakRef</span>
                <li><span class="dfn-paneled" id="434af3a5">now()</span>
                <li><span class="dfn-paneled" id="8bdd3ef8">then(onFulfilled, onRejected)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="056fb0bd">TextEncoder</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="7c397e50">Body</span>
                <li><span class="dfn-paneled" id="2aaa2f42">HTTP fetch</span>
                <li><span class="dfn-paneled" id="dc4acd27">json()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FileAPI]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="b7d73f5b">Blob</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FILTER-EFFECTS-2]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="54fa0afb">backdrop-filter</span>
            </ul>
        <li>
            <a data-link-type="biblio">[GAMEPAD]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="112278c6">Gamepad</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HIGHRES-TIME]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
                <li><span class="dfn-paneled" id="d62af025">now()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="b8308563">DedicatedWorkerGlobalScope</span>
                <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
                <li><span class="dfn-paneled" id="762ce945">GlobalEventHandlers</span>
                <li><span class="dfn-paneled" id="e4ee9a64">HTMLHRElement</span>
                <li><span class="dfn-paneled" id="37ef25b8">HTMLHtmlElement</span>
                <li><span class="dfn-paneled" id="c5891539">HTMLImageElement</span>
                <li><span class="dfn-paneled" id="83b269de">HTMLInputElement</span>
                <li><span class="dfn-paneled" id="1076ec40">HTMLMediaElement</span>
                <li><span class="dfn-paneled" id="a2411b6a">History</span>
                <li><span class="dfn-paneled" id="478bb3aa">ImageBitmap</span>
                <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
                <li><span class="dfn-paneled" id="5d7209e9">Window</span>
                <li><span class="dfn-paneled" id="8baa72cd">WindowEventHandlers</span>
                <li><span class="dfn-paneled" id="c262266a">WorkerType</span>
                <li><span class="dfn-paneled" id="68bf3d31">a</span>
                <li><span class="dfn-paneled" id="3fbd5055">abbr</span>
                <li><span class="dfn-paneled" id="24366e21">accept</span>
                <li><span class="dfn-paneled" id="7e4cbc4d">acronym</span>
                <li><span class="dfn-paneled" id="5f753d3e">action</span>
                <li><span class="dfn-paneled" id="b2f8a695">alert()</span>
                <li><span class="dfn-paneled" id="2c82d279">audio</span>
                <li><span class="dfn-paneled" id="e81f86c3">bgColor</span>
                <li><span class="dfn-paneled" id="bfff6250">button</span>
                <li><span class="dfn-paneled" id="e6b9f496">canplaythrough</span>
                <li><span class="dfn-paneled" id="8662cdd3">checked</span>
                <li><span class="dfn-paneled" id="d4b3b8bc">cite</span>
                <li><span class="dfn-paneled" id="e356ee85">class</span>
                <li><span class="dfn-paneled" id="3f597ac1">createImageBitmap(image, options)</span>
                <li><span class="dfn-paneled" id="b6fb7a51">custom element</span>
                <li><span class="dfn-paneled" id="3f03fff1">datalist</span>
                <li><span class="dfn-paneled" id="0226500f">defaultChecked</span>
                <li><span class="dfn-paneled" id="032e4578">defaultSelected</span>
                <li><span class="dfn-paneled" id="5fa63f4e">defaultValue</span>
                <li><span class="dfn-paneled" id="31559e1b">define(name, constructor, options)</span>
                <li><span class="dfn-paneled" id="1748bbeb">details</span>
                <li><span class="dfn-paneled" id="1812300f">dialog</span>
                <li><span class="dfn-paneled" id="e10e7eb7">DOM manipulation task source</span>
                <li><span class="dfn-paneled" id="03675365">event handler IDL attribute</span>
                <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
                <li><span class="dfn-paneled" id="11289557">figcaption</span>
                <li><span class="dfn-paneled" id="88885797">for</span>
                <li><span class="dfn-paneled" id="946a9318">form</span>
                <li><span class="dfn-paneled" id="0e3ba9f8">fully active</span>
                <li><span class="dfn-paneled" id="ca0c892d">href <small>(for a)</small></span>
                <li><span class="dfn-paneled" id="a6078b11">href <small>(for link)</small></span>
                <li><span class="dfn-paneled" id="f0811ff8">img</span>
                <li><span class="dfn-paneled" id="d4127354">innerHTML</span>
                <li><span class="dfn-paneled" id="d7d642a2">input</span>
                <li><span class="dfn-paneled" id="7bd34c20">isActive</span>
                <li><span class="dfn-paneled" id="da34f333">isMap</span>
                <li><span class="dfn-paneled" id="93c4bcc0">ismap</span>
                <li><span class="dfn-paneled" id="84f243ef">label</span>
                <li><span class="dfn-paneled" id="2c73cb69">languagechange</span>
                <li><span class="dfn-paneled" id="6cfa013d">link</span>
                <li><span class="dfn-paneled" id="dc6ebe88">list</span>
                <li><span class="dfn-paneled" id="3a2db83f">localStorage</span>
                <li><span class="dfn-paneled" id="6a288f2a">microtask</span>
                <li><span class="dfn-paneled" id="b07164ad">multiple</span>
                <li><span class="dfn-paneled" id="b6ae4501">networking task source</span>
                <li><span class="dfn-paneled" id="31133468">open</span>
                <li><span class="dfn-paneled" id="f449d4f8">open(url, target, features)</span>
                <li><span class="dfn-paneled" id="aee00462">option</span>
                <li><span class="dfn-paneled" id="b093bcd2">output</span>
                <li><span class="dfn-paneled" id="3da24a47">ping</span>
                <li><span class="dfn-paneled" id="613edb27">play()</span>
                <li><span class="dfn-paneled" id="55b2f02c">poster</span>
                <li><span class="dfn-paneled" id="9dc3e09f">q</span>
                <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
                <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
                <li><span class="dfn-paneled" id="72aaa5d6">queue an element task</span>
                <li><span class="dfn-paneled" id="5ab7b520">reflect</span>
                <li><span class="dfn-paneled" id="eb9a1873">rel</span>
                <li><span class="dfn-paneled" id="4872935b">resize</span>
                <li><span class="dfn-paneled" id="5c35dd47">sandbox</span>
                <li><span class="dfn-paneled" id="0cf3964f">script</span>
                <li><span class="dfn-paneled" id="85188fb3">select</span>
                <li><span class="dfn-paneled" id="96ffbcca">selected</span>
                <li><span class="dfn-paneled" id="3332e595">setTimeout(handler, timeout, ...arguments)</span>
                <li><span class="dfn-paneled" id="9d861566">showModal()</span>
                <li><span class="dfn-paneled" id="e5882acf">source</span>
                <li><span class="dfn-paneled" id="b996b941">src <small>(for img)</small></span>
                <li><span class="dfn-paneled" id="03431bcb">src <small>(for script)</small></span>
                <li><span class="dfn-paneled" id="c219fdf4">srcset</span>
                <li><span class="dfn-paneled" id="ba920583">style</span>
                <li><span class="dfn-paneled" id="e270bd2a">task</span>
                <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
                <li><span class="dfn-paneled" id="fc736137">textarea</span>
                <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
                <li><span class="dfn-paneled" id="66aee777">type</span>
                <li><span class="dfn-paneled" id="b815f411">update the rendering</span>
                <li><span class="dfn-paneled" id="825cbc48">user interaction task source</span>
                <li><span class="dfn-paneled" id="14e45097">value <small>(for HTMLInputElement)</small></span>
                <li><span class="dfn-paneled" id="fd7a9317">value <small>(for input)</small></span>
                <li><span class="dfn-paneled" id="aa7bbf63">video</span>
                <li><span class="dfn-paneled" id="7a26cf99">width</span>
            </ul>
        <li>
            <a data-link-type="biblio">[I18N-GLOSSARY]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="30011333">percent-encoding</span>
            </ul>
        <li>
            <a data-link-type="biblio">[IndexedDB-3]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="a46ec9f9">IDBDatabase</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="ddc587b1">ASCII code point</span>
                <li><span class="dfn-paneled" id="59912c93">code unit</span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
                <li><span class="dfn-paneled" id="ecf251b4">scalar value</span>
                <li><span class="dfn-paneled" id="762869d3">scalar value string</span>
                <li><span class="dfn-paneled" id="0698d556">string</span>
                <li><span class="dfn-paneled" id="a3fb968a">surrogate</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INTERSECTION-OBSERVER]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="9be179f5">IntersectionObserver</span>
            </ul>
        <li>
            <a data-link-type="biblio">[MEDIAQUERIES-5]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="f8b3bc81">false</span>
                <li><span class="dfn-paneled" id="c4484b93">true</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PAYMENT-REQUEST]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="f679a0bc">PaymentRequest</span>
                <li><span class="dfn-paneled" id="2e3a180b">[[state]]</span>
                <li><span class="dfn-paneled" id="ab86e0f1">show()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="c2430fbb">prompt the user to choose</span>
                <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
            </ul>
        <li>
            <a data-link-type="biblio">[POINTEREVENTS3]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="d94094fa">PointerEvent</span>
                <li><span class="dfn-paneled" id="d6aab74b">pointerId</span>
            </ul>
        <li>
            <a data-link-type="biblio">[REFERRER-POLICY]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="8dba5fba">"no-referrer-when-downgrade"</span>
            </ul>
        <li>
            <a data-link-type="biblio">[REMOTE-PLAYBACK]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="9e3cc993">RemotePlayback</span>
                <li><span class="dfn-paneled" id="7f769aa9">remote playback device</span>
                <li><span class="dfn-paneled" id="06b254b0">remote playback devices</span>
            </ul>
        <li>
            <a data-link-type="biblio">[REQUESTIDLECALLBACK]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="ea2e2ea4">timeRemaining()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[RFC9110]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="3c05c488">Accept</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SCREEN-CAPTURE]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="5bcbeb1e">getDisplayMedia()</span>
                <li><span class="dfn-paneled" id="ab4b142f">setFocusBehavior()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SERVICE-WORKERS]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="611cb8cd">respondWith(r)</span>
                <li><span class="dfn-paneled" id="3a3c984c">task queues</span>
            </ul>
        <li>
            <a data-link-type="biblio">[UIEVENTS]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="518be2ae">InputEvent</span>
                <li><span class="dfn-paneled" id="1fc098b2">KeyboardEvent</span>
                <li><span class="dfn-paneled" id="c3469cd0">MouseEvent</span>
                <li><span class="dfn-paneled" id="d387f951">inputType</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="adfe3014">URLSearchParams</span>
                <li><span class="dfn-paneled" id="46335198">delete(name)</span>
                <li><span class="dfn-paneled" id="0992b8f5">has(name)</span>
                <li><span class="dfn-paneled" id="dcffbccd">URL</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEB-ANIMATIONS-2]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="8bd77373">currentTime</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEB-LOCKS]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="b88b42f7">LockManager</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WebAudio]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="1bb59bab">AudioWorklet</span>
                <li><span class="dfn-paneled" id="0065f652">ScriptProcessorNode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBCRYPTO-2]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="529179ea">Crypto</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
                <li><span class="dfn-paneled" id="22cb9a16">ByteString</span>
                <li><span class="dfn-paneled" id="f89c7d0d">Clamp</span>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="c01cbda0">EnforceRange</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="0a296dfe">Float32Array</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="7d783f61">SharedArrayBuffer</span>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
                <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
                <li><span class="dfn-paneled" id="95d7775a">Uint8Array</span>
                <li><span class="dfn-paneled" id="bdcd112d">bigint</span>
                <li><span class="dfn-paneled" id="f4813f78">byte</span>
                <li><span class="dfn-paneled" id="8c800cdf">double</span>
                <li><span class="dfn-paneled" id="f8de33a3">long</span>
                <li><span class="dfn-paneled" id="9aeb0a82">long long</span>
                <li><span class="dfn-paneled" id="77996ab1">maplike</span>
                <li><span class="dfn-paneled" id="2039631f">namespace</span>
                <li><span class="dfn-paneled" id="d7d5b038">observable array type</span>
                <li><span class="dfn-paneled" id="bc5645aa">octet</span>
                <li><span class="dfn-paneled" id="a9789869">partial dictionary</span>
                <li><span class="dfn-paneled" id="d0eba3fd">partial interface</span>
                <li><span class="dfn-paneled" id="5eafebb0">sequence type</span>
                <li><span class="dfn-paneled" id="cc212fd8">setlike</span>
                <li><span class="dfn-paneled" id="47574099">short</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
                <li><span class="dfn-paneled" id="11e0b87f">unrestricted double</span>
                <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBRTC]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="ba3d5b0d">RTCDTMFSender</span>
            </ul>
        <li>
            <a data-link-type="biblio">[XHR]</a> で定義されている用語：
            <ul>
                <li><span class="dfn-paneled" id="7b0dc914">ProgressEvent</span>
                <li><span class="dfn-paneled" id="d06b2b8c">XMLHttpRequest</span>
                <li><span class="dfn-paneled" id="59f1958b">XMLHttpRequestEventTarget</span>
                <li><span class="dfn-paneled" id="5528aefc">loaded</span>
                <li><span class="dfn-paneled" id="0e833ee0">readyState</span>
                <li><span class="dfn-paneled" id="67fa4a40">total</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範的な参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-cascade-5/"><cite>CSS
                    カスケードと継承 Level 5</cite></a>. URL: <a
                href="https://drafts.csswg.org/css-cascade-5/">https://drafts.csswg.org/css-cascade-5/</a>
        <dt id="biblio-css-conditional-3">[CSS-CONDITIONAL-3]
        <dd>Chris Lilley; David Baron; Elika Etemad. <a href="https://drafts.csswg.org/css-conditional-3/"><cite>CSS
                    条件付きルールモジュール Level 3</cite></a>. URL: <a
                href="https://drafts.csswg.org/css-conditional-3/">https://drafts.csswg.org/css-conditional-3/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 標準</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 言語仕様</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding 標準</cite></a>. Living
            Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch 標準</cite></a>. Living
            Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-fingerprinting-guidance">[FINGERPRINTING-GUIDANCE]
        <dd>Nick Doty; Tom Ritter. <a href="https://w3c.github.io/fingerprinting-guidance/"><cite>Web
                    仕様におけるブラウザフィンガープリントの低減</cite></a>. URL: <a
                href="https://w3c.github.io/fingerprinting-guidance/">https://w3c.github.io/fingerprinting-guidance/</a>
        <dt id="biblio-highres-time">[HIGHRES-TIME]
        <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a
                href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 標準</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-i18n-glossary">[I18N-GLOSSARY]
        <dd>Richard Ishida; Addison Phillips. <a href="https://w3c.github.io/i18n-glossary/"><cite>国際化用語集</cite></a>.
            URL: <a href="https://w3c.github.io/i18n-glossary/">https://w3c.github.io/i18n-glossary/</a>
        <dt id="biblio-indexeddb-3">[IndexedDB-3]
        <dd>Steven Becker. <a href="https://w3c.github.io/IndexedDB/"><cite>Indexed Database API 3.0</cite></a>. URL: <a
                href="https://w3c.github.io/IndexedDB/">https://w3c.github.io/IndexedDB/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    標準</cite></a>. Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-mediaqueries-5">[MEDIAQUERIES-5]
        <dd>Dean Jackson; et al. <a href="https://drafts.csswg.org/mediaqueries-5/"><cite>Media Queries Level
                    5</cite></a>. URL: <a
                href="https://drafts.csswg.org/mediaqueries-5/">https://drafts.csswg.org/mediaqueries-5/</a>
        <dt id="biblio-payment-request">[PAYMENT-REQUEST]
        <dd>Marcos Caceres; Ian Jacobs; Stephen McGruer. <a href="https://w3c.github.io/payment-request/"><cite>Payment
                    Request API</cite></a>. URL: <a
                href="https://w3c.github.io/payment-request/">https://w3c.github.io/payment-request/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL:
            <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
        <dt id="biblio-privacy-principles">[PRIVACY-PRINCIPLES]
        <dd>Robin Berjon; Jeffrey Yasskin. <a href="https://w3ctag.github.io/privacy-principles/"><cite>Privacy
                    Principles</cite></a>. URL: <a
                href="https://w3ctag.github.io/privacy-principles/">https://w3ctag.github.io/privacy-principles/</a>
        <dt id="biblio-requestidlecallback">[REQUESTIDLECALLBACK]
        <dd>Scott Haseley. <a href="https://w3c.github.io/requestidlecallback/"><cite>requestIdleCallback()</cite></a>.
            URL: <a href="https://w3c.github.io/requestidlecallback/">https://w3c.github.io/requestidlecallback/</a>
        <dt id="biblio-rfc9205">[RFC9205]
        <dd>M. Nottingham. <a href="https://httpwg.org/specs/rfc9205.html"><cite>HTTP を用いたプロトコル構築</cite></a>. 2022年6月.
            Best Current Practice. URL: <a
                href="https://httpwg.org/specs/rfc9205.html">https://httpwg.org/specs/rfc9205.html</a>
        <dt id="biblio-service-workers">[SERVICE-WORKERS]
        <dd>Monica CHINTALA; Yoshisato Yanagisawa. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service Workers
                    Nightly</cite></a>. URL: <a
                href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL 標準</cite></a>. Living Standard.
            URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-web-animations-2">[WEB-ANIMATIONS-2]
        <dd>Brian Birtles; Robert Flack. <a href="https://drafts.csswg.org/web-animations-2/"><cite>Web Animations
                    モジュール Level 2</cite></a>. URL: <a
                href="https://drafts.csswg.org/web-animations-2/">https://drafts.csswg.org/web-animations-2/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 標準</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
        <dt id="biblio-xhr">[XHR]
        <dd>Anne van Kesteren. <a href="https://xhr.spec.whatwg.org/"><cite>XMLHttpRequest 標準</cite></a>. Living
            Standard. URL: <a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考情報</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-appmanifest">[APPMANIFEST]
        <dd>Marcos Caceres; 他. <a href="https://w3c.github.io/manifest/"><cite>Web Application Manifest</cite></a>.
            URL: <a href="https://w3c.github.io/manifest/">https://w3c.github.io/manifest/</a>
        <dt id="biblio-console">[CONSOLE]
        <dd>Dominic Farolino; Robert Kowalski; Terin Stock. <a href="https://console.spec.whatwg.org/"><cite>Console
                    Standard</cite></a>. Living Standard. URL: <a
                href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
        <dt id="biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]
        <dd>Nina Satragno; Marcos Caceres. <a
                href="https://w3c.github.io/webappsec-credential-management/"><cite>Credential Management Level
                    1</cite></a>. URL: <a
                href="https://w3c.github.io/webappsec-credential-management/">https://w3c.github.io/webappsec-credential-management/</a>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Elika Etemad; Brad Kemper. <a href="https://drafts.csswg.org/css-backgrounds/"><cite>CSS Backgrounds and
                    Borders Module Level 3</cite></a>. URL: <a
                href="https://drafts.csswg.org/css-backgrounds/">https://drafts.csswg.org/css-backgrounds/</a>
        <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
        <dd>Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-4/"><cite>CSS Fonts Module Level 4</cite></a>.
            URL: <a href="https://drafts.csswg.org/css-fonts-4/">https://drafts.csswg.org/css-fonts-4/</a>
        <dt id="biblio-css-fonts-5">[CSS-FONTS-5]
        <dd>Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-5/"><cite>CSS Fonts Module Level 5</cite></a>.
            URL: <a href="https://drafts.csswg.org/css-fonts-5/">https://drafts.csswg.org/css-fonts-5/</a>
        <dt id="biblio-css-grid-1">[CSS-GRID-1]
        <dd>Tab Atkins Jr.; 他. <a href="https://drafts.csswg.org/css-grid-1/"><cite>CSS Grid Layout Module Level
                    1</cite></a>. URL: <a
                href="https://drafts.csswg.org/css-grid-1/">https://drafts.csswg.org/css-grid-1/</a>
        <dt id="biblio-css-inline-3">[CSS-INLINE-3]
        <dd>Elika Etemad. <a href="https://drafts.csswg.org/css-inline-3/"><cite>CSS Inline Layout Module Level
                    3</cite></a>. URL: <a
                href="https://drafts.csswg.org/css-inline-3/">https://drafts.csswg.org/css-inline-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>. URL: <a
                href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; 他. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1
                    (CSS 2.1) Specification</cite></a>. URL: <a
                href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom/"><cite>CSS Object Model
                    (CSSOM)</cite></a>. URL: <a
                href="https://drafts.csswg.org/cssom/">https://drafts.csswg.org/cssom/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Fraser; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom-view/"><cite>CSSOM View
                    Module</cite></a>. URL: <a
                href="https://drafts.csswg.org/cssom-view/">https://drafts.csswg.org/cssom-view/</a>
        <dt id="biblio-encrypted-media">[ENCRYPTED-MEDIA]
        <dd>Joey Parrish; Greg Freedman. <a href="https://w3c.github.io/encrypted-media/"><cite>Encrypted Media
                    Extensions</cite></a>. URL: <a
                href="https://w3c.github.io/encrypted-media/">https://w3c.github.io/encrypted-media/</a>
        <dt id="biblio-ethical-web-principles">[ETHICAL-WEB-PRINCIPLES]
        <dd>Daniel Appelquist; Hadley Beeman; Amy Guy. <a
                href="https://w3ctag.github.io/ethical-web-principles/"><cite>Ethical Web Principles</cite></a>. URL: <a
                href="https://w3ctag.github.io/ethical-web-principles/">https://w3ctag.github.io/ethical-web-principles/</a>
        <dt id="biblio-fileapi">[FileAPI]
        <dd>Marijn Kruisselbrink. <a href="https://w3c.github.io/FileAPI/"><cite>File API</cite></a>. URL: <a
                href="https://w3c.github.io/FileAPI/">https://w3c.github.io/FileAPI/</a>
        <dt id="biblio-filter-effects-2">[FILTER-EFFECTS-2]
        <dd><a href="https://drafts.fxtf.org/filter-effects-2/"><cite>Filter Effects Module Level 2</cite></a>. 編集者ドラフト.
            URL: <a href="https://drafts.fxtf.org/filter-effects-2/">https://drafts.fxtf.org/filter-effects-2/</a>
        <dt id="biblio-gamepad">[GAMEPAD]
        <dd>Steve Agoston; Matthew Reynolds. <a href="https://w3c.github.io/gamepad/"><cite>Gamepad</cite></a>. URL: <a
                href="https://w3c.github.io/gamepad/">https://w3c.github.io/gamepad/</a>
        <dt id="biblio-international-specs">[INTERNATIONAL-SPECS]
        <dd>Richard Ishida; Addison Phillips. <a
                href="https://w3c.github.io/bp-i18n-specdev/"><cite>Internationalization Best Practices for Spec
                    Developers</cite></a>. URL: <a
                href="https://w3c.github.io/bp-i18n-specdev/">https://w3c.github.io/bp-i18n-specdev/</a>
        <dt id="biblio-intersection-observer">[INTERSECTION-OBSERVER]
        <dd>Stefan Zager; Emilio Cobos Álvarez; Traian Captan. <a
                href="https://w3c.github.io/IntersectionObserver/"><cite>Intersection Observer</cite></a>. URL: <a
                href="https://w3c.github.io/IntersectionObserver/">https://w3c.github.io/IntersectionObserver/</a>
        <dt id="biblio-least-power">[LEAST-POWER]
        <dd>Tim Berners-Lee; Noah Mendelsohn. <a href="https://www.w3.org/2001/tag/doc/leastPower"><cite>The Rule of
                    Least Power</cite></a>. 2006年2月23日. TAG Finding. URL: <a
                href="https://www.w3.org/2001/tag/doc/leastPower">https://www.w3.org/2001/tag/doc/leastPower</a>
        <dt id="biblio-pointerevents3">[POINTEREVENTS3]
        <dd>Patrick Lauke; Robert Flack. <a href="https://w3c.github.io/pointerevents/"><cite>Pointer Events</cite></a>.
            URL: <a href="https://w3c.github.io/pointerevents/">https://w3c.github.io/pointerevents/</a>
        <dt id="biblio-referrer-policy">[REFERRER-POLICY]
        <dd>Jochen Eisinger; Emily Stark. <a href="https://w3c.github.io/webappsec-referrer-policy/"><cite>Referrer
                    Policy</cite></a>. URL: <a
                href="https://w3c.github.io/webappsec-referrer-policy/">https://w3c.github.io/webappsec-referrer-policy/</a>
        <dt id="biblio-remote-playback">[REMOTE-PLAYBACK]
        <dd>Mark Foltz. <a href="https://w3c.github.io/remote-playback/"><cite>Remote Playback API</cite></a>. URL: <a
                href="https://w3c.github.io/remote-playback/">https://w3c.github.io/remote-playback/</a>
        <dt id="biblio-rfc8890">[RFC8890]
        <dd>M. Nottingham. <a href="https://www.rfc-editor.org/rfc/rfc8890"><cite>The Internet is for End
                    Users</cite></a>. 2020年8月. Informational. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc8890">https://www.rfc-editor.org/rfc/rfc8890</a>
        <dt id="biblio-rfc9000">[RFC9000]
        <dd>J. Iyengar, Ed.; M. Thomson, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc9000"><cite>QUIC: A UDP-Based
                    Multiplexed and Secure Transport</cite></a>. 2021年5月. Proposed Standard. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>
        <dt id="biblio-rfc9110">[RFC9110]
        <dd>R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. <a
                href="https://httpwg.org/specs/rfc9110.html"><cite>HTTP Semantics</cite></a>. 2022年6月. Internet
            Standard. URL: <a href="https://httpwg.org/specs/rfc9110.html">https://httpwg.org/specs/rfc9110.html</a>
        <dt id="biblio-screen-capture">[SCREEN-CAPTURE]
        <dd>Jan-Ivar Bruaroey; Elad Alon. <a href="https://w3c.github.io/mediacapture-screen-share/"><cite>Screen
                    Capture</cite></a>. URL: <a
                href="https://w3c.github.io/mediacapture-screen-share/">https://w3c.github.io/mediacapture-screen-share/</a>
        <dt id="biblio-the-web-is-unversioned">[THE-WEB-IS-UNVERSIONED]
        <dd>Sangwhan Moon; Amy Guy. <a href="https://www.w3.org/2001/tag/doc/the-web-is-unversioned/"><cite>The web is
                    unversioned（ウェブはバージョン管理されない）</cite></a>。2025年3月27日。TAGファインディング。URL: <a
                href="https://www.w3.org/2001/tag/doc/the-web-is-unversioned/">https://www.w3.org/2001/tag/doc/the-web-is-unversioned/</a>
        <dt id="biblio-uievents">[UIEVENTS]
        <dd>Gary Kacmarcik; Travis Leithead. <a href="https://w3c.github.io/uievents/"><cite>UI Events</cite></a>. URL:
            <a href="https://w3c.github.io/uievents/">https://w3c.github.io/uievents/</a>
        <dt id="biblio-unsanctioned-tracking">[UNSANCTIONED-TRACKING]
        <dd>Mark Nottingham. <a href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/"><cite>Unsanctioned Web
                    Tracking</cite></a>. 2015年7月17日. TAG Finding. URL: <a
                href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/">https://www.w3.org/2001/tag/doc/unsanctioned-tracking/</a>
        <dt id="biblio-web-locks">[WEB-LOCKS]
        <dd>Kagami Rosylight. <a href="https://w3c.github.io/web-locks/"><cite>Web Locks API</cite></a>. URL: <a
                href="https://w3c.github.io/web-locks/">https://w3c.github.io/web-locks/</a>
        <dt id="biblio-web-share">[WEB-SHARE]
        <dd>Marcos Caceres; Eric Willigers; Matt Giuca. <a href="https://w3c.github.io/web-share/"><cite>Web Share
                    API</cite></a>. URL: <a href="https://w3c.github.io/web-share/">https://w3c.github.io/web-share/</a>
        <dt id="biblio-webaudio">[WebAudio]
        <dd>Paul Adenot; Hongchan Choi. <a href="https://webaudio.github.io/web-audio-api/"><cite>Web Audio
                    API</cite></a>. URL: <a
                href="https://webaudio.github.io/web-audio-api/">https://webaudio.github.io/web-audio-api/</a>
        <dt id="biblio-webcrypto-2">[WEBCRYPTO-2]
        <dd>Daniel Huigens. <a href="https://w3c.github.io/webcrypto/"><cite>Web Cryptography Level 2</cite></a>. URL:
            <a href="https://w3c.github.io/webcrypto/">https://w3c.github.io/webcrypto/</a>
        <dt id="biblio-webrtc">[WEBRTC]
        <dd>Cullen Jennings; 他. <a href="https://w3c.github.io/webrtc-pc/"><cite>WebRTC: Real-Time Communication in
                    Browsers</cite></a>. URL: <a
                href="https://w3c.github.io/webrtc-pc/">https://w3c.github.io/webrtc-pc/</a>
        <dt id="biblio-webtransport">[WebTransport]
        <dd>Nidhi Jaju; Victor Vasiliev; Jan-Ivar Bruaroey. <a
                href="https://w3c.github.io/webtransport/"><cite>WebTransport</cite></a>. URL: <a
                href="https://w3c.github.io/webtransport/">https://w3c.github.io/webtransport/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">プロパティ索引</span><a
            class="self-link" href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名前
                    <th scope="col">値
                    <th scope="col">初期値
                    <th scope="col">適用対象
                    <th scope="col">継承
                    <th scope="col">%ages
                    <th scope="col">アニメーションタイプ
                    <th scope="col">正規順序
                    <th scope="col">計算値
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-font-size-adjust"
                            id="ref-for-propdef-font-size-adjust①">font-size-adjust</a>
                    <td>none | [ ex-height | cap-height | ch-width | ic-width | ic-height ]? [ from-font | &lt;number> ]
                    <td>none
                    <td>全ての要素とテキスト
                    <td>はい
                    <td>N/A
                    <td>キーワードが異なる場合は離散型、それ以外は計算値型
                    <td>文法通り
                    <td>数値またはキーワード none、またはメトリックキーワードと&lt;number>のペア
        </table>
    </div>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0065f652": { "dfnID": "0065f652", "dfnText": "ScriptProcessorNode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ScriptProcessorNode" }, { "id": "ref-for-ScriptProcessorNode\u2460" }], "title": "10.2.1. Some APIs should only be exposed to dedicated workers" }], "url": "https://webaudio.github.io/web-audio-api/#ScriptProcessorNode" },
                "0226500f": { "dfnID": "0226500f", "dfnText": "defaultChecked", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-input-defaultchecked" }], "title": "3.5. Keep attributes in sync" }], "url": "https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked" },
                "032e4578": { "dfnID": "032e4578", "dfnText": "defaultSelected", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-option-defaultselected" }], "title": "3.5. Keep attributes in sync" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected" },
                "03431bcb": { "dfnID": "03431bcb", "dfnText": "src (for script)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-script-src" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src" },
                "03675365": { "dfnID": "03675365", "dfnText": "event handler IDL attribute", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-idl-attributes" }, { "id": "ref-for-event-handler-idl-attributes\u2460" }, { "id": "ref-for-event-handler-idl-attributes\u2461" }], "title": "7.5. Always add event handler attributes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" },
                "056fb0bd": { "dfnID": "056fb0bd", "dfnText": "TextEncoder", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-textencoder" }], "title": "10.3. Only purely computational features should be exposed everywhere" }], "url": "https://encoding.spec.whatwg.org/#textencoder" },
                "0698d556": { "dfnID": "0698d556", "dfnText": "string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string" }], "title": "8.2. Represent strings appropriately" }], "url": "https://infra.spec.whatwg.org/#string" },
                "06b254b0": { "dfnID": "06b254b0", "dfnText": "remote playback devices", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-remote-playback-devices" }, { "id": "ref-for-dfn-remote-playback-devices\u2460" }], "title": "9.2. Use care when exposing APIs for selecting or enumerating devices" }], "url": "https://w3c.github.io/remote-playback/#dfn-remote-playback-devices" },
                "072b36ca": { "dfnID": "072b36ca", "dfnText": "timeout(milliseconds)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-abortsignal-timeout" }], "title": "10.3. Only purely computational features should be exposed everywhere" }], "url": "https://dom.spec.whatwg.org/#dom-abortsignal-timeout" },
                "08baaf46": { "dfnID": "08baaf46", "dfnText": "remove()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-childnode-remove" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://dom.spec.whatwg.org/#dom-childnode-remove" },
                "0992b8f5": { "dfnID": "0992b8f5", "dfnText": "has(name)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-urlsearchparams-has" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://url.spec.whatwg.org/#dom-urlsearchparams-has" },
                "0a296dfe": { "dfnID": "0a296dfe", "dfnText": "Float32Array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-Float32Array" }], "title": "6.15. Output an array of bytes with Uint8Array" }], "url": "https://webidl.spec.whatwg.org/#idl-Float32Array" },
                "0c0ceb78": { "dfnID": "0c0ceb78", "dfnText": "bubbles", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-bubbles" }], "title": "2.15. Build complex types by composing simpler types" }], "url": "https://dom.spec.whatwg.org/#dom-event-bubbles" },
                "0cf3964f": { "dfnID": "0cf3964f", "dfnText": "script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-script" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }, { "refs": [{ "id": "ref-for-script\u2460" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/scripting.html#script" },
                "0e3ba9f8": { "dfnID": "0e3ba9f8", "dfnText": "fully active", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fully-active" }, { "id": "ref-for-fully-active\u2460" }, { "id": "ref-for-fully-active\u2461" }, { "id": "ref-for-fully-active\u2462" }, { "id": "ref-for-fully-active\u2463" }], "title": "2.13. Support non-fully active BFCached documents" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" },
                "0e833ee0": { "dfnID": "0e833ee0", "dfnText": "readyState", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-xmlhttprequest-readystate" }], "title": "6.13. Use strings for constants and enums" }], "url": "https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate" },
                "0e9f636b": { "dfnID": "0e9f636b", "dfnText": "DOMHighResTimeStamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-domhighrestimestamp" }, { "id": "ref-for-dom-domhighrestimestamp\u2460" }, { "id": "ref-for-dom-domhighrestimestamp\u2461" }], "title": "8.4. Use the appropriate type to represent times and dates" }], "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "1076ec40": { "dfnID": "1076ec40", "dfnText": "HTMLMediaElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmlmediaelement" }], "title": "6.16. Return undefined from side-effect-causing functions" }], "url": "https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement" },
                "112278c6": { "dfnID": "112278c6", "dfnText": "Gamepad", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-gamepad" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://w3c.github.io/gamepad/#dom-gamepad" },
                "11289557": { "dfnID": "11289557", "dfnText": "figcaption", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-figcaption-element" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element" },
                "11e0b87f": { "dfnID": "11e0b87f", "dfnText": "unrestricted double", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unrestricted-double" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-unrestricted-double" },
                "129bdae8": { "dfnID": "129bdae8", "dfnText": "Event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event" }, { "id": "ref-for-event\u2460" }], "title": "2.15. Build complex types by composing simpler types" }, { "refs": [{ "id": "ref-for-event\u2461" }, { "id": "ref-for-event\u2462" }], "title": "6.9. Classes should have constructors when possible" }, { "refs": [{ "id": "ref-for-event\u2463" }], "title": "7.7. Guard against potential recursion" }, { "refs": [{ "id": "ref-for-event\u2464" }, { "id": "ref-for-event\u2465" }, { "id": "ref-for-event\u2466" }, { "id": "ref-for-event\u2467" }], "title": "7.8. Put state on target objects rather than Events" }, { "refs": [{ "id": "ref-for-event\u2468" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://dom.spec.whatwg.org/#event" },
                "12cf38c9": { "dfnID": "12cf38c9", "dfnText": "initial-letter", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-initial-letter" }], "title": "4.1. Separate CSS properties based on what should cascade separately" }], "url": "https://drafts.csswg.org/css-inline-3/#propdef-initial-letter" },
                "141bbada": { "dfnID": "141bbada", "dfnText": "DOMTokenList", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-domtokenlist" }, { "id": "ref-for-domtokenlist\u2460" }, { "id": "ref-for-domtokenlist\u2461" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }, { "refs": [{ "id": "ref-for-domtokenlist\u2462" }, { "id": "ref-for-domtokenlist\u2463" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://dom.spec.whatwg.org/#domtokenlist" },
                "14e45097": { "dfnID": "14e45097", "dfnText": "value (for HTMLInputElement)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-input-value" }], "title": "7.8. Put state on target objects rather than Events" }], "url": "https://html.spec.whatwg.org/multipage/input.html#dom-input-value" },
                "16310992": { "dfnID": "16310992", "dfnText": "<number>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-number-value" }, { "id": "ref-for-number-value\u2460" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }, { "refs": [{ "id": "ref-for-number-value\u2461" }, { "id": "ref-for-number-value\u2462" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://drafts.csswg.org/css-values-4/#number-value" },
                "1748bbeb": { "dfnID": "1748bbeb", "dfnText": "details", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-details-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element" },
                "1812300f": { "dfnID": "1812300f", "dfnText": "dialog", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-dialog-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" },
                "19065ec8": { "dfnID": "19065ec8", "dfnText": "abort()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-abortcontroller-abort" }], "title": "6.12. Cancel asynchronous APIs/operations using AbortSignal" }, { "refs": [{ "id": "ref-for-dom-abortcontroller-abort\u2460" }], "title": "7.7. Guard against potential recursion" }], "url": "https://dom.spec.whatwg.org/#dom-abortcontroller-abort" },
                "1bb59bab": { "dfnID": "1bb59bab", "dfnText": "AudioWorklet", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-AudioWorklet" }], "title": "10.2.1. Some APIs should only be exposed to dedicated workers" }], "url": "https://webaudio.github.io/web-audio-api/#AudioWorklet" },
                "1fc098b2": { "dfnID": "1fc098b2", "dfnText": "KeyboardEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-keyboardevent" }], "title": "2.15. Build complex types by composing simpler types" }], "url": "https://w3c.github.io/uievents/#keyboardevent" },
                "2039631f": { "dfnID": "2039631f", "dfnText": "namespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-namespace" }, { "id": "ref-for-dfn-namespace\u2460" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://webidl.spec.whatwg.org/#dfn-namespace" },
                "21ec9802": { "dfnID": "21ec9802", "dfnText": "inherit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-inheritance" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/css-cascade-5/#css-inheritance" },
                "2296404c": { "dfnID": "2296404c", "dfnText": "signal abort", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller-signal-abort" }, { "id": "ref-for-abortcontroller-signal-abort\u2460" }, { "id": "ref-for-abortcontroller-signal-abort\u2461" }, { "id": "ref-for-abortcontroller-signal-abort\u2462" }, { "id": "ref-for-abortcontroller-signal-abort\u2463" }, { "id": "ref-for-abortcontroller-signal-abort\u2464" }, { "id": "ref-for-abortcontroller-signal-abort\u2465" }], "title": "7.7. Guard against potential recursion" }], "url": "https://dom.spec.whatwg.org/#abortcontroller-signal-abort" },
                "22cb9a16": { "dfnID": "22cb9a16", "dfnText": "ByteString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-ByteString" }, { "id": "ref-for-idl-ByteString\u2460" }], "title": "8.2. Represent strings appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-ByteString" },
                "24366e21": { "dfnID": "24366e21", "dfnText": "accept", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-input-accept" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-accept" },
                "296f3551": { "dfnID": "296f3551", "dfnText": "Element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-element" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://dom.spec.whatwg.org/#element" },
                "2aaa2f42": { "dfnID": "2aaa2f42", "dfnText": "HTTP fetch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-http-fetch" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://fetch.spec.whatwg.org/#concept-http-fetch" },
                "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }, { "id": "ref-for-eventtarget\u2460" }], "title": "7.8. Put state on target objects rather than Events" }, { "refs": [{ "id": "ref-for-eventtarget\u2461" }, { "id": "ref-for-eventtarget\u2462" }, { "id": "ref-for-eventtarget\u2463" }, { "id": "ref-for-eventtarget\u2464" }, { "id": "ref-for-eventtarget\u2465" }, { "id": "ref-for-eventtarget\u2466" }, { "id": "ref-for-eventtarget\u2467" }, { "id": "ref-for-eventtarget\u2468" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "2c73cb69": { "dfnID": "2c73cb69", "dfnText": "languagechange", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-languagechange" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-languagechange" },
                "2c82d279": { "dfnID": "2c82d279", "dfnText": "audio", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-audio" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/media.html#audio" },
                "2e3a180b": { "dfnID": "2e3a180b", "dfnText": "[[state]]", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-state" }, { "id": "ref-for-dfn-state\u2460" }], "title": "7.7. Guard against potential recursion" }], "url": "https://w3c.github.io/payment-request/#dfn-state" },
                "2e66eaf1": { "dfnID": "2e66eaf1", "dfnText": "AbortController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller" }], "title": "6.12. Cancel asynchronous APIs/operations using AbortSignal" }, { "refs": [{ "id": "ref-for-abortcontroller\u2460" }], "title": "7.7. Guard against potential recursion" }], "url": "https://dom.spec.whatwg.org/#abortcontroller" },
                "2f8afbfe": { "dfnID": "2f8afbfe", "dfnText": "ArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-ArrayBuffer" }], "title": "6.15. Output an array of bytes with Uint8Array" }], "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer" },
                "30011333": { "dfnID": "30011333", "dfnText": "percent-encoding", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-percent-encoding" }], "title": "8.2. Represent strings appropriately" }], "url": "https://w3c.github.io/i18n-glossary/#dfn-percent-encoding" },
                "31133468": { "dfnID": "31133468", "dfnText": "open", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-details-open" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open" },
                "31559e1b": { "dfnID": "31559e1b", "dfnText": "define(name, constructor, options)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-customelementregistry-define" }], "title": "5.1. Use JavaScript for Web APIs" }], "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define" },
                "3245cc5d": { "dfnID": "3245cc5d", "dfnText": "initial-letter-align", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-initial-letter-align" }], "title": "4.1. Separate CSS properties based on what should cascade separately" }], "url": "https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align" },
                "3332e595": { "dfnID": "3332e595", "dfnText": "setTimeout(handler, timeout, ...arguments)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-settimeout" }], "title": "8.3. Use milliseconds for time measurement" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout" },
                "37ef25b8": { "dfnID": "37ef25b8", "dfnText": "HTMLHtmlElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmlhtmlelement" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement" },
                "3a2db83f": { "dfnID": "3a2db83f", "dfnText": "localStorage", "external": true, "refSections": [{ "refs": [{ "id": "79d831630" }], "title": "2.10. Consider how your API should behave in private browsing mode" }, { "refs": [{ "id": "ref-for-dom-localstorage" }], "title": "10.3. Only purely computational features should be exposed everywhere" }], "url": "https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage" },
                "3a3c984c": { "dfnID": "3a3c984c", "dfnText": "task queues", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-registration-task-queue" }, { "id": "ref-for-dfn-service-worker-registration-task-queue\u2460" }], "title": "7.7. Guard against potential recursion" }], "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue" },
                "3b64181e": { "dfnID": "3b64181e", "dfnText": "none", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-font-size-adjust-none" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none" },
                "3c05c488": { "dfnID": "3c05c488", "dfnText": "Accept", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-name-accept" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://www.rfc-editor.org/rfc/rfc9110.html#name-accept" },
                "3da24a47": { "dfnID": "3da24a47", "dfnText": "ping", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ping" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/links.html#ping" },
                "3f03fff1": { "dfnID": "3f03fff1", "dfnText": "datalist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-datalist-element" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element" },
                "3f597ac1": { "dfnID": "3f597ac1", "dfnText": "createImageBitmap(image, options)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-createimagebitmap" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap" },
                "3fbd5055": { "dfnID": "3fbd5055", "dfnText": "abbr", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-abbr-element" }], "title": "3.7. Give each HTML element a single purpose" }], "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element" },
                "434af3a5": { "dfnID": "434af3a5", "dfnText": "now()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-date.now" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now" },
                "46335198": { "dfnID": "46335198", "dfnText": "delete(name)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-urlsearchparams-delete" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://url.spec.whatwg.org/#dom-urlsearchparams-delete" },
                "47574099": { "dfnID": "47574099", "dfnText": "short", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-short" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-short" },
                "478bb3aa": { "dfnID": "478bb3aa", "dfnText": "ImageBitmap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-imagebitmap" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap" },
                "47fe679e": { "dfnID": "47fe679e", "dfnText": "transient activation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transient-activation" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
                "48438eb3": { "dfnID": "48438eb3", "dfnText": "queue a global task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-global-task" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "4872935b": { "dfnID": "4872935b", "dfnText": "resize", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-media-resize" }], "title": "7.6. Use events for notification" }], "url": "https://html.spec.whatwg.org/multipage/media.html#event-media-resize" },
                "4fe61159": { "dfnID": "4fe61159", "dfnText": "resolved value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolved-value" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/cssom-1/#resolved-value" },
                "50e555d8": { "dfnID": "50e555d8", "dfnText": "once", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-addeventlisteneroptions-once" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once" },
                "518be2ae": { "dfnID": "518be2ae", "dfnText": "InputEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inputevent" }], "title": "7.8. Put state on target objects rather than Events" }], "url": "https://w3c.github.io/uievents/#inputevent" },
                "529179ea": { "dfnID": "529179ea", "dfnText": "Crypto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Crypto" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://w3c.github.io/webcrypto/#dfn-Crypto" },
                "535dd335": { "dfnID": "535dd335", "dfnText": "aborted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal-aborted" }, { "id": "ref-for-abortsignal-aborted\u2460" }], "title": "7.7. Guard against potential recursion" }], "url": "https://dom.spec.whatwg.org/#abortsignal-aborted" },
                "537cf076": { "dfnID": "537cf076", "dfnText": "?", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-opt" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://drafts.csswg.org/css-values-4/#mult-opt" },
                "54fa0afb": { "dfnID": "54fa0afb", "dfnText": "backdrop-filter", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-backdrop-filter" }], "title": "11.3. Resolving tension between interoperability and implementability" }], "url": "https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter" },
                "5528aefc": { "dfnID": "5528aefc", "dfnText": "loaded", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-progressevent-loaded" }], "title": "7.7. Guard against potential recursion" }], "url": "https://xhr.spec.whatwg.org/#dom-progressevent-loaded" },
                "55b2f02c": { "dfnID": "55b2f02c", "dfnText": "poster", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-video-poster" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/media.html#attr-video-poster" },
                "59912c93": { "dfnID": "59912c93", "dfnText": "code unit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-code-unit" }], "title": "8.2. Represent strings appropriately" }], "url": "https://infra.spec.whatwg.org/#code-unit" },
                "59f1958b": { "dfnID": "59f1958b", "dfnText": "XMLHttpRequestEventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-xmlhttprequesteventtarget" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget" },
                "5ab7b520": { "dfnID": "5ab7b520", "dfnText": "reflect", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reflect" }], "title": "8.2. Represent strings appropriately" }, { "refs": [{ "id": "ref-for-reflect\u2460" }, { "id": "ref-for-reflect\u2461" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" },
                "5bcbeb1e": { "dfnID": "5bcbeb1e", "dfnText": "getDisplayMedia()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-mediadevices-getdisplaymedia" }], "title": "When to use callback functions" }], "url": "https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia" },
                "5c35dd47": { "dfnID": "5c35dd47", "dfnText": "sandbox", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-iframe-sandbox" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox" },
                "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }], "title": "6.9. Classes should have constructors when possible" }, { "refs": [{ "id": "ref-for-window\u2460" }], "title": "7.5. Always add event handler attributes" }, { "refs": [{ "id": "ref-for-window\u2461" }], "title": "10.2.1. Some APIs should only be exposed to dedicated workers" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "5d83727e": { "dfnID": "5d83727e", "dfnText": "actual value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-actual-value" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/css-cascade-5/#actual-value" },
                "5def70a6": { "dfnID": "5def70a6", "dfnText": "querySelectorAll(selectors)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-parentnode-queryselectorall" }], "title": "Static objects" }], "url": "https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall" },
                "5eafebb0": { "dfnID": "5eafebb0", "dfnText": "sequence type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sequence-type" }, { "id": "ref-for-sequence-type\u2460" }], "title": "6.6. Make method arguments optional if possible" }, { "refs": [{ "id": "ref-for-sequence-type\u2461" }], "title": "8.2. Represent strings appropriately" }], "url": "https://webidl.spec.whatwg.org/#sequence-type" },
                "5f45e759": { "dfnID": "5f45e759", "dfnText": "FinalizationRegistry", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-finalization-registry-objects" }], "title": "5.3. Don\u2019t expose garbage collection" }], "url": "https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects" },
                "5f753d3e": { "dfnID": "5f753d3e", "dfnText": "action", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-fs-action" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }, { "id": "ref-for-idl-undefined\u2461" }], "title": "6.16. Return undefined from side-effect-causing functions" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "5f9c7266": { "dfnID": "5f9c7266", "dfnText": "Number", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-number-objects" }, { "id": "ref-for-sec-number-objects\u2460" }, { "id": "ref-for-sec-number-objects\u2461" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" },
                "5fa63f4e": { "dfnID": "5fa63f4e", "dfnText": "defaultValue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-input-defaultvalue" }], "title": "3.5. Keep attributes in sync" }], "url": "https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue" },
                "5fcd7fc5": { "dfnID": "5fcd7fc5", "dfnText": "createElement(localName)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-createelement" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://dom.spec.whatwg.org/#dom-document-createelement" },
                "5fd23811": { "dfnID": "5fd23811", "dfnText": "fire an event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-fire" }], "title": "7.7. Guard against potential recursion" }], "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
                "611cb8cd": { "dfnID": "611cb8cd", "dfnText": "respondWith(r)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-respondwith" }], "title": "When to use callback functions" }], "url": "https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith" },
                "613edb27": { "dfnID": "613edb27", "dfnText": "play()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-media-play" }, { "id": "ref-for-dom-media-play\u2460" }], "title": "6.16. Return undefined from side-effect-causing functions" }], "url": "https://html.spec.whatwg.org/multipage/media.html#dom-media-play" },
                "66aee777": { "dfnID": "66aee777", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-input-type" }, { "id": "ref-for-attr-input-type\u2460" }], "title": "3.7. Give each HTML element a single purpose" }], "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-type" },
                "67fa4a40": { "dfnID": "67fa4a40", "dfnText": "total", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-progressevent-total" }], "title": "7.7. Guard against potential recursion" }], "url": "https://xhr.spec.whatwg.org/#dom-progressevent-total" },
                "680651c3": { "dfnID": "680651c3", "dfnText": "NonElementParentNode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nonelementparentnode" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://dom.spec.whatwg.org/#nonelementparentnode" },
                "68bf3d31": { "dfnID": "68bf3d31", "dfnText": "a", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-a-element" }, { "id": "ref-for-the-a-element\u2460" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" },
                "68c033c8": { "dfnID": "68c033c8", "dfnText": "getElementsByTagName(qualifiedName)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-getelementsbytagname" }, { "id": "ref-for-dom-document-getelementsbytagname\u2460" }, { "id": "ref-for-dom-document-getelementsbytagname\u2461" }], "title": "5.3. Don\u2019t expose garbage collection" }, { "refs": [{ "id": "ref-for-dom-document-getelementsbytagname\u2462" }, { "id": "ref-for-dom-document-getelementsbytagname\u2463" }], "title": "Static objects" }], "url": "https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" },
                "6a288f2a": { "dfnID": "6a288f2a", "dfnText": "microtask", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-microtask" }], "title": "5.2. Preserve run-to-completion semantics" }, { "refs": [{ "id": "e2b55c350" }], "title": "7.3. Events should fire before related Promises resolve" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#microtask" },
                "6cf6f82f": { "dfnID": "6cf6f82f", "dfnText": "addEventListener(type, callback)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-eventtarget-addeventlistener" }], "title": "6.6. Make method arguments optional if possible" }, { "refs": [{ "id": "ref-for-dom-eventtarget-addeventlistener\u2460" }], "title": "6.7. Name optional arguments appropriately" }, { "refs": [{ "id": "ref-for-dom-eventtarget-addeventlistener\u2461" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" },
                "6cfa013d": { "dfnID": "6cfa013d", "dfnText": "link", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-link-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }, { "refs": [{ "id": "ref-for-the-link-element\u2460" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" },
                "6e923df0": { "dfnID": "6e923df0", "dfnText": "Error", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-error-objects" }], "title": "8.5. Use Error or DOMException for errors" }], "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects" },
                "6ec67710": { "dfnID": "6ec67710", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }, { "id": "ref-for-comb-one\u2464" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://drafts.csswg.org/css-values-4/#comb-one" },
                "72aaa5d6": { "dfnID": "72aaa5d6", "dfnText": "queue an element task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-an-element-task" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task" },
                "762869d3": { "dfnID": "762869d3", "dfnText": "scalar value string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value-string" }], "title": "8.2. Represent strings appropriately" }], "url": "https://infra.spec.whatwg.org/#scalar-value-string" },
                "762ce945": { "dfnID": "762ce945", "dfnText": "GlobalEventHandlers", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-globaleventhandlers" }], "title": "7.5. Always add event handler attributes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers" },
                "77996ab1": { "dfnID": "77996ab1", "dfnText": "maplike", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-maplike" }], "title": "Static objects" }], "url": "https://webidl.spec.whatwg.org/#dfn-maplike" },
                "7a26cf99": { "dfnID": "7a26cf99", "dfnText": "width", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-img-width" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width" },
                "7b0dc914": { "dfnID": "7b0dc914", "dfnText": "ProgressEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-progressevent" }], "title": "7.7. Guard against potential recursion" }], "url": "https://xhr.spec.whatwg.org/#progressevent" },
                "7b1760b0": { "dfnID": "7b1760b0", "dfnText": "console", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-namespacedef-console" }, { "id": "ref-for-namespacedef-console\u2460" }], "title": "10.3. Only purely computational features should be exposed everywhere" }], "url": "https://console.spec.whatwg.org/#namespacedef-console" },
                "7bd34c20": { "dfnID": "7bd34c20", "dfnText": "isActive", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-useractivation-isactive" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive" },
                "7c397e50": { "dfnID": "7c397e50", "dfnText": "Body", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-body" }], "title": "12.1. Use common words" }], "url": "https://fetch.spec.whatwg.org/#body" },
                "7d783f61": { "dfnID": "7d783f61", "dfnText": "SharedArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-SharedArrayBuffer" }], "title": "11.3. Resolving tension between interoperability and implementability" }], "url": "https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer" },
                "7e4cbc4d": { "dfnID": "7e4cbc4d", "dfnText": "acronym", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-acronym" }], "title": "3.7. Give each HTML element a single purpose" }], "url": "https://html.spec.whatwg.org/multipage/obsolete.html#acronym" },
                "7f21931f": { "dfnID": "7f21931f", "dfnText": "NamedNodeMap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-namednodemap" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://dom.spec.whatwg.org/#namednodemap" },
                "7f769aa9": { "dfnID": "7f769aa9", "dfnText": "remote playback device", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-remote-playback-devices" }, { "id": "ref-for-dfn-remote-playback-devices\u2460" }], "title": "9.2. Use care when exposing APIs for selecting or enumerating devices" }], "url": "https://w3c.github.io/remote-playback/#dfn-remote-playback-devices" },
                "825cbc48": { "dfnID": "825cbc48", "dfnText": "user interaction task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-user-interaction-task-source" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }], "title": "6.9. Classes should have constructors when possible" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2461" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "83b269de": { "dfnID": "83b269de", "dfnText": "HTMLInputElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmlinputelement" }, { "id": "ref-for-htmlinputelement\u2460" }, { "id": "ref-for-htmlinputelement\u2461" }], "title": "2.15. Build complex types by composing simpler types" }, { "refs": [{ "id": "ref-for-htmlinputelement\u2462" }], "title": "7.8. Put state on target objects rather than Events" }], "url": "https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" },
                "83c7a70f": { "dfnID": "83c7a70f", "dfnText": "MutationObserver", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mutationobserver" }, { "id": "ref-for-mutationobserver\u2460" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://dom.spec.whatwg.org/#mutationobserver" },
                "84f243ef": { "dfnID": "84f243ef", "dfnText": "label", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-label-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/forms.html#the-label-element" },
                "85188fb3": { "dfnID": "85188fb3", "dfnText": "select", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-select-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }, { "refs": [{ "id": "ref-for-the-select-element\u2460" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" },
                "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }], "title": "9.2. Use care when exposing APIs for selecting or enumerating devices" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "8662cdd3": { "dfnID": "8662cdd3", "dfnText": "checked", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-input-checked" }], "title": "3.5. Keep attributes in sync" }], "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-checked" },
                "87bc23a5": { "dfnID": "87bc23a5", "dfnText": "add", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal-add" }, { "id": "ref-for-abortsignal-add\u2460" }, { "id": "ref-for-abortsignal-add\u2461" }], "title": "7.7. Guard against potential recursion" }], "url": "https://dom.spec.whatwg.org/#abortsignal-add" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }, { "id": "ref-for-idl-DOMString\u2460" }], "title": "8.2. Represent strings appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "88885797": { "dfnID": "88885797", "dfnText": "for", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-label-for" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/forms.html#attr-label-for" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }, { "id": "ref-for-Exposed\u2460" }], "title": "10.3. Only purely computational features should be exposed everywhere" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8baa72cd": { "dfnID": "8baa72cd", "dfnText": "WindowEventHandlers", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-windoweventhandlers" }], "title": "7.5. Always add event handler attributes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers" },
                "8bd77373": { "dfnID": "8bd77373", "dfnText": "currentTime", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-animationtimeline-currenttime" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime" },
                "8bdd3ef8": { "dfnID": "8bdd3ef8", "dfnText": "then(onFulfilled, onRejected)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-promise.prototype.then" }], "title": "When to use callback functions" }], "url": "https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise.prototype.then" },
                "8c800cdf": { "dfnID": "8c800cdf", "dfnText": "double", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-double" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-double" },
                "8c8cc336": { "dfnID": "8c8cc336", "dfnText": "Date", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-date-objects" }], "title": "8.3. Use milliseconds for time measurement" }, { "refs": [{ "id": "ref-for-sec-date-objects\u2460" }, { "id": "ref-for-sec-date-objects\u2461" }, { "id": "ref-for-sec-date-objects\u2462" }], "title": "8.4. Use the appropriate type to represent times and dates" }], "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" },
                "8dba5fba": { "dfnID": "8dba5fba", "dfnText": "\"no-referrer-when-downgrade\"", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-referrerpolicy-no-referrer-when-downgrade" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade" },
                "93c4bcc0": { "dfnID": "93c4bcc0", "dfnText": "ismap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-img-ismap" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-ismap" },
                "946a9318": { "dfnID": "946a9318", "dfnText": "form", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-form-element" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/forms.html#the-form-element" },
                "95d7775a": { "dfnID": "95d7775a", "dfnText": "Uint8Array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-Uint8Array" }], "title": "6.15. Output an array of bytes with Uint8Array" }, { "refs": [{ "id": "ref-for-idl-Uint8Array\u2460" }], "title": "8.2. Represent strings appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array" },
                "96c16e60": { "dfnID": "96c16e60", "dfnText": "Node", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-node" }], "title": "Live objects" }, { "refs": [{ "id": "ref-for-node\u2460" }, { "id": "ref-for-node\u2461" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://dom.spec.whatwg.org/#node" },
                "96ffbcca": { "dfnID": "96ffbcca", "dfnText": "selected", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-option-selected" }], "title": "3.5. Keep attributes in sync" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected" },
                "9714d594": { "dfnID": "9714d594", "dfnText": "HTMLCollection", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmlcollection" }, { "id": "ref-for-htmlcollection\u2460" }], "title": "5.3. Don\u2019t expose garbage collection" }, { "refs": [{ "id": "ref-for-htmlcollection\u2461" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://dom.spec.whatwg.org/#htmlcollection" },
                "99a3763c": { "dfnID": "99a3763c", "dfnText": "font-size-adjust", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-size-adjust" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust" },
                "9a517a7d": { "dfnID": "9a517a7d", "dfnText": "queue a task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-task" }], "title": "7.7. Guard against potential recursion" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" },
                "9aeb0a82": { "dfnID": "9aeb0a82", "dfnText": "long long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-long-long" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-long-long" },
                "9be179f5": { "dfnID": "9be179f5", "dfnText": "IntersectionObserver", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://w3c.github.io/IntersectionObserver/#intersectionobserver" },
                "9cd25054": { "dfnID": "9cd25054", "dfnText": "computed value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-computed-value" }, { "id": "ref-for-computed-value\u2460" }, { "id": "ref-for-computed-value\u2461" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/css-cascade-5/#computed-value" },
                "9d861566": { "dfnID": "9d861566", "dfnText": "showModal()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-dialog-showmodal" }], "title": "11.2.1. Define algorithms clearly" }], "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal" },
                "9dc3e09f": { "dfnID": "9dc3e09f", "dfnText": "q", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-q-element" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element" },
                "9e3cc993": { "dfnID": "9e3cc993", "dfnText": "RemotePlayback", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-remoteplayback" }], "title": "9.2. Use care when exposing APIs for selecting or enumerating devices" }], "url": "https://w3c.github.io/remote-playback/#dom-remoteplayback" },
                "a2411b6a": { "dfnID": "a2411b6a", "dfnText": "History", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-history-3" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3" },
                "a3fb968a": { "dfnID": "a3fb968a", "dfnText": "surrogate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-surrogate" }], "title": "8.2. Represent strings appropriately" }], "url": "https://infra.spec.whatwg.org/#surrogate" },
                "a46ec9f9": { "dfnID": "a46ec9f9", "dfnText": "IDBDatabase", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idbdatabase" }], "title": "7.9. Use Events and Observers appropriately" }], "url": "https://w3c.github.io/IndexedDB/#idbdatabase" },
                "a4eb3c57": { "dfnID": "a4eb3c57", "dfnText": "used value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-used-value" }, { "id": "ref-for-used-value\u2460" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/css-cascade-5/#used-value" },
                "a6078b11": { "dfnID": "a6078b11", "dfnText": "href (for link)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-link-href" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href" },
                "a9789869": { "dfnID": "a9789869", "dfnText": "partial dictionary", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-partial-dictionary" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://webidl.spec.whatwg.org/#dfn-partial-dictionary" },
                "aa7bbf63": { "dfnID": "aa7bbf63", "dfnText": "video", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-video" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }, { "refs": [{ "id": "ref-for-video\u2460" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/media.html#video" },
                "aaa103c9": { "dfnID": "aaa103c9", "dfnText": "compatMode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-compatmode" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://dom.spec.whatwg.org/#dom-document-compatmode" },
                "ab4b142f": { "dfnID": "ab4b142f", "dfnText": "setFocusBehavior()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-capturecontroller-setfocusbehavior" }], "title": "When to use callback functions" }], "url": "https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior" },
                "ab86e0f1": { "dfnID": "ab86e0f1", "dfnText": "show()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-paymentrequest-show" }], "title": "7.7. Guard against potential recursion" }], "url": "https://w3c.github.io/payment-request/#dom-paymentrequest-show" },
                "ac54fbff": { "dfnID": "ac54fbff", "dfnText": "line-height", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-line-height" }, { "id": "ref-for-propdef-line-height\u2460" }, { "id": "ref-for-propdef-line-height\u2461" }, { "id": "ref-for-propdef-line-height\u2462" }, { "id": "ref-for-propdef-line-height\u2463" }, { "id": "ref-for-propdef-line-height\u2464" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/css2/#propdef-line-height" },
                "adfe3014": { "dfnID": "adfe3014", "dfnText": "URLSearchParams", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-urlsearchparams" }], "title": "Static objects" }, { "refs": [{ "id": "ref-for-urlsearchparams\u2460" }, { "id": "ref-for-urlsearchparams\u2461" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://url.spec.whatwg.org/#urlsearchparams" },
                "aee00462": { "dfnID": "aee00462", "dfnText": "option", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-option-element" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }, { "refs": [{ "id": "ref-for-the-option-element\u2460" }], "title": "3.5. Keep attributes in sync" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element" },
                "b07164ad": { "dfnID": "b07164ad", "dfnText": "multiple", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-select-multiple" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple" },
                "b093bcd2": { "dfnID": "b093bcd2", "dfnText": "output", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-output-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element" },
                "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }, { "refs": [{ "id": "ref-for-idl-USVString\u2460" }, { "id": "ref-for-idl-USVString\u2461" }, { "id": "ref-for-idl-USVString\u2462" }, { "id": "ref-for-idl-USVString\u2463" }], "title": "8.2. Represent strings appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "b203675a": { "dfnID": "b203675a", "dfnText": "getComputedStyle(elt)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-getcomputedstyle" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle" },
                "b2f8a695": { "dfnID": "b2f8a695", "dfnText": "alert()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-alert-noargs" }], "title": "1.3. Trusted user interface should be trustworthy" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs" },
                "b6ae4501": { "dfnID": "b6ae4501", "dfnText": "networking task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-networking-task-source" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" },
                "b6fb7a51": { "dfnID": "b6fb7a51", "dfnText": "custom element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-custom-element" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }, { "id": "ref-for-SecureContext\u2460" }], "title": "2.8. Consider limiting new features to secure contexts" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "b7d73f5b": { "dfnID": "b7d73f5b", "dfnText": "Blob", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Blob" }, { "id": "ref-for-dfn-Blob\u2460" }], "title": "10.3. Only purely computational features should be exposed everywhere" }], "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "b815f411": { "dfnID": "b815f411", "dfnText": "update the rendering", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-update-the-rendering" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering" },
                "b8308563": { "dfnID": "b8308563", "dfnText": "DedicatedWorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dedicatedworkerglobalscope" }], "title": "10.2. Where possible APIs should be made available to dedicated workers" }, { "refs": [{ "id": "ref-for-dedicatedworkerglobalscope\u2460" }], "title": "10.2.1. Some APIs should only be exposed to dedicated workers" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" },
                "b88b42f7": { "dfnID": "b88b42f7", "dfnText": "LockManager", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-lockmanager" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://w3c.github.io/web-locks/#lockmanager" },
                "b996b941": { "dfnID": "b996b941", "dfnText": "src (for img)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-img-src" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src" },
                "ba3d5b0d": { "dfnID": "ba3d5b0d", "dfnText": "RTCDTMFSender", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-rtcdtmfsender" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender" },
                "ba920583": { "dfnID": "ba920583", "dfnText": "style", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-style-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/semantics.html#the-style-element" },
                "bc5645aa": { "dfnID": "bc5645aa", "dfnText": "octet", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-octet" }, { "id": "ref-for-idl-octet\u2460" }, { "id": "ref-for-idl-octet\u2461" }, { "id": "ref-for-idl-octet\u2462" }, { "id": "ref-for-idl-octet\u2463" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-octet" },
                "bc9fe445": { "dfnID": "bc9fe445", "dfnText": "createAttribute(localName)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-createattribute" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://dom.spec.whatwg.org/#dom-document-createattribute" },
                "bcc085e3": { "dfnID": "bcc085e3", "dfnText": "request permission to use", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-request-permission-to-use" }], "title": "1.4.1. Help users make good decisions" }], "url": "https://w3c.github.io/permissions/#dfn-request-permission-to-use" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }], "title": "6.16. Return undefined from side-effect-causing functions" }, { "refs": [{ "id": "ref-for-idl-promise\u2460" }], "title": "7.7. Guard against potential recursion" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "bdcd112d": { "dfnID": "bdcd112d", "dfnText": "bigint", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-bigint" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-bigint" },
                "be0c27b2": { "dfnID": "be0c27b2", "dfnText": "Navigator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigator" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator" },
                "bf77e69a": { "dfnID": "bf77e69a", "dfnText": "WeakRef", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-weak-ref-objects" }], "title": "5.3. Don\u2019t expose garbage collection" }], "url": "https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects" },
                "bfa87d79": { "dfnID": "bfa87d79", "dfnText": "short_name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-short_name" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://w3c.github.io/manifest/#dfn-short_name" },
                "bfff6250": { "dfnID": "bfff6250", "dfnText": "button", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-button-element" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" },
                "c01cbda0": { "dfnID": "c01cbda0", "dfnText": "EnforceRange", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-EnforceRange" }, { "id": "ref-for-EnforceRange\u2460" }, { "id": "ref-for-EnforceRange\u2461" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "c1ebc639": { "dfnID": "c1ebc639", "dfnText": "@supports", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-supports" }], "title": "2.6. New features should be detectable" }], "url": "https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports" },
                "c219fdf4": { "dfnID": "c219fdf4", "dfnText": "srcset", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-img-srcset" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset" },
                "c2430fbb": { "dfnID": "c2430fbb", "dfnText": "prompt the user to choose", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-prompt-the-user-to-choose" }], "title": "1.4.1. Help users make good decisions" }], "url": "https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose" },
                "c262266a": { "dfnID": "c262266a", "dfnText": "WorkerType", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-workertype" }], "title": "6.13. Use strings for constants and enums" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#workertype" },
                "c2f2a81a": { "dfnID": "c2f2a81a", "dfnText": "classList", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-element-classlist" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://dom.spec.whatwg.org/#dom-element-classlist" },
                "c3469cd0": { "dfnID": "c3469cd0", "dfnText": "MouseEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mouseevent" }, { "id": "ref-for-mouseevent\u2460" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://w3c.github.io/uievents/#mouseevent" },
                "c3b2d08c": { "dfnID": "c3b2d08c", "dfnText": "task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-task-source" }, { "id": "ref-for-task-source\u2460" }, { "id": "ref-for-task-source\u2461" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source" },
                "c4484b93": { "dfnID": "c4484b93", "dfnText": "true", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-custom-media-true" }], "title": "4.4. Name CSS properties and values appropriately" }], "url": "https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true" },
                "c5891539": { "dfnID": "c5891539", "dfnText": "HTMLImageElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmlimageelement" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement" },
                "c6d19e56": { "dfnID": "c6d19e56", "dfnText": "event loop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-loop" }, { "id": "ref-for-event-loop\u2460" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" },
                "c7af4825": { "dfnID": "c7af4825", "dfnText": "getElementById(elementId)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-nonelementparentnode-getelementbyid" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid" },
                "ca0c892d": { "dfnID": "ca0c892d", "dfnText": "href (for a)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-hyperlink-href" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }, { "refs": [{ "id": "ref-for-attr-hyperlink-href\u2460" }], "title": "8.2. Represent strings appropriately" }], "url": "https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href" },
                "cbdd0aff": { "dfnID": "cbdd0aff", "dfnText": "id", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-credential-id" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://w3c.github.io/webappsec-credential-management/#dom-credential-id" },
                "cc212fd8": { "dfnID": "cc212fd8", "dfnText": "setlike", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-setlike" }], "title": "Static objects" }], "url": "https://webidl.spec.whatwg.org/#dfn-setlike" },
                "cca3cdb2": { "dfnID": "cca3cdb2", "dfnText": "AbortSignal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal" }], "title": "6.12. Cancel asynchronous APIs/operations using AbortSignal" }, { "refs": [{ "id": "ref-for-abortsignal\u2460" }, { "id": "ref-for-abortsignal\u2461" }, { "id": "ref-for-abortsignal\u2462" }], "title": "7.7. Guard against potential recursion" }, { "refs": [{ "id": "ref-for-abortsignal\u2463" }, { "id": "ref-for-abortsignal\u2464" }], "title": "10.3. Only purely computational features should be exposed everywhere" }], "url": "https://dom.spec.whatwg.org/#abortsignal" },
                "d06b2b8c": { "dfnID": "d06b2b8c", "dfnText": "XMLHttpRequest", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-xmlhttprequest" }], "title": "6.6. Make method arguments optional if possible" }, { "refs": [{ "id": "ref-for-xmlhttprequest\u2460" }], "title": "6.13. Use strings for constants and enums" }, { "refs": [{ "id": "ref-for-xmlhttprequest\u2461" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://xhr.spec.whatwg.org/#xmlhttprequest" },
                "d0eba3fd": { "dfnID": "d0eba3fd", "dfnText": "partial interface", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-partial-interface" }], "title": "11.4.1. If you need to monkey patch" }], "url": "https://webidl.spec.whatwg.org/#dfn-partial-interface" },
                "d387f951": { "dfnID": "d387f951", "dfnText": "inputType", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-inputevent-inputtype" }], "title": "7.8. Put state on target objects rather than Events" }], "url": "https://w3c.github.io/uievents/#dom-inputevent-inputtype" },
                "d38f9598": { "dfnID": "d38f9598", "dfnText": "getBoundingClientRect()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-element-getboundingclientrect" }], "title": "6.2. Attributes should behave like data properties" }], "url": "https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect" },
                "d4127354": { "dfnID": "d4127354", "dfnText": "innerHTML", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-element-innerhtml" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml" },
                "d4b3b8bc": { "dfnID": "d4b3b8bc", "dfnText": "cite", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-q-cite" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite" },
                "d62af025": { "dfnID": "d62af025", "dfnText": "now()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-performance-now" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://w3c.github.io/hr-time/#dom-performance-now" },
                "d6aab74b": { "dfnID": "d6aab74b", "dfnText": "pointerId", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-pointerevent-pointerid" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid" },
                "d7d5b038": { "dfnID": "d7d5b038", "dfnText": "observable array type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-observable-array-type" }], "title": "6.6. Make method arguments optional if possible" }], "url": "https://webidl.spec.whatwg.org/#dfn-observable-array-type" },
                "d7d642a2": { "dfnID": "d7d642a2", "dfnText": "input", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-input-element" }], "title": "2.15. Build complex types by composing simpler types" }, { "refs": [{ "id": "ref-for-the-input-element\u2460" }, { "id": "ref-for-the-input-element\u2461" }], "title": "3.1. Re-use HTML attribute names (only) for similar functionality" }, { "refs": [{ "id": "ref-for-the-input-element\u2462" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }, { "refs": [{ "id": "ref-for-the-input-element\u2463" }, { "id": "ref-for-the-input-element\u2464" }], "title": "3.5. Keep attributes in sync" }, { "refs": [{ "id": "ref-for-the-input-element\u2465" }, { "id": "ref-for-the-input-element\u2466" }], "title": "3.7. Give each HTML element a single purpose" }], "url": "https://html.spec.whatwg.org/multipage/input.html#the-input-element" },
                "d94094fa": { "dfnID": "d94094fa", "dfnText": "PointerEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-pointerevent" }], "title": "2.15. Build complex types by composing simpler types" }], "url": "https://w3c.github.io/pointerevents/#dom-pointerevent" },
                "d977a5dd": { "dfnID": "d977a5dd", "dfnText": "offsetTop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-htmlelement-offsettop" }], "title": "6.2. Attributes should behave like data properties" }], "url": "https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop" },
                "da34f333": { "dfnID": "da34f333", "dfnText": "isMap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-img-ismap" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap" },
                "dc0eaa56": { "dfnID": "dc0eaa56", "dfnText": "scrollTop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-element-scrolltop" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop" },
                "dc4acd27": { "dfnID": "dc4acd27", "dfnText": "json()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-body-json" }], "title": "12.1. Use common words" }], "url": "https://fetch.spec.whatwg.org/#dom-body-json" },
                "dc6ebe88": { "dfnID": "dc6ebe88", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-input-list" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-list" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }], "title": "8.5. Use Error or DOMException for errors" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "dcffbccd": { "dfnID": "dcffbccd", "dfnText": "URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url" }], "title": "8.2. Represent strings appropriately" }], "url": "https://url.spec.whatwg.org/#concept-url" },
                "ddc587b1": { "dfnID": "ddc587b1", "dfnText": "ASCII code point", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-code-point" }], "title": "12.2. Use ASCII names" }], "url": "https://infra.spec.whatwg.org/#ascii-code-point" },
                "e10e7eb7": { "dfnID": "e10e7eb7", "dfnText": "DOM manipulation task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-manipulation-task-source" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
                "e270bd2a": { "dfnID": "e270bd2a", "dfnText": "task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-task" }], "title": "6.17. Prefer existing task sources" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" },
                "e356ee85": { "dfnID": "e356ee85", "dfnText": "class", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-classes" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }], "url": "https://html.spec.whatwg.org/multipage/dom.html#classes" },
                "e4ee9a64": { "dfnID": "e4ee9a64", "dfnText": "HTMLHRElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmlhrelement" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement" },
                "e5882acf": { "dfnID": "e5882acf", "dfnText": "source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-source-element" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }, { "refs": [{ "id": "ref-for-the-source-element\u2460" }, { "id": "ref-for-the-source-element\u2461" }], "title": "3.7. Give each HTML element a single purpose" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" },
                "e6b9f496": { "dfnID": "e6b9f496", "dfnText": "canplaythrough", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-media-canplaythrough" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough" },
                "e81f86c3": { "dfnID": "e81f86c3", "dfnText": "bgColor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-bgcolor" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor" },
                "e8478f36": { "dfnID": "e8478f36", "dfnText": "target", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-target" }, { "id": "ref-for-dom-event-target\u2460" }, { "id": "ref-for-dom-event-target\u2461" }], "title": "7.8. Put state on target objects rather than Events" }], "url": "https://dom.spec.whatwg.org/#dom-event-target" },
                "ea2e2ea4": { "dfnID": "ea2e2ea4", "dfnText": "timeRemaining()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-idledeadline-timeremaining" }], "title": "5.2. Preserve run-to-completion semantics" }], "url": "https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining" },
                "eb9a1873": { "dfnID": "eb9a1873", "dfnText": "rel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-link-rel" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }], "url": "https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel" },
                "ecf251b4": { "dfnID": "ecf251b4", "dfnText": "scalar value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value" }], "title": "8.2. Represent strings appropriately" }], "url": "https://infra.spec.whatwg.org/#scalar-value" },
                "f0811ff8": { "dfnID": "f0811ff8", "dfnText": "img", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-img-element" }], "title": "3.2. Use space-separated attributes for short lists of values, separate elements for longer lists" }, { "refs": [{ "id": "ref-for-the-img-element\u2460" }], "title": "3.6. Name URL-containing attributes based on their primary purpose" }, { "refs": [{ "id": "ref-for-the-img-element\u2461" }], "title": "Use casing rules consistent with existing APIs" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" },
                "f0951476": { "dfnID": "f0951476", "dfnText": "EventHandler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventhandler" }], "title": "7.5. Always add event handler attributes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "f14b47b8": { "dfnID": "f14b47b8", "dfnText": "unsigned long long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unsigned-long-long" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "f449d4f8": { "dfnID": "f449d4f8", "dfnText": "open(url, target, features)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-open" }], "title": "6.9. Classes should have constructors when possible" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" },
                "f4813f78": { "dfnID": "f4813f78", "dfnText": "byte", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-byte" }], "title": "8.2. Represent strings appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-byte" },
                "f679a0bc": { "dfnID": "f679a0bc", "dfnText": "PaymentRequest", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-paymentrequest" }], "title": "7.7. Guard against potential recursion" }], "url": "https://w3c.github.io/payment-request/#dom-paymentrequest" },
                "f6c2cd25": { "dfnID": "f6c2cd25", "dfnText": "BigInt", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-bigint-objects" }, { "id": "ref-for-sec-bigint-objects\u2460" }, { "id": "ref-for-sec-bigint-objects\u2461" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects" },
                "f831c141": { "dfnID": "f831c141", "dfnText": "background-image", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-background-image" }, { "id": "ref-for-propdef-background-image\u2460" }], "title": "4.2. Make appropriate choices for whether CSS properties are inherited" }], "url": "https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image" },
                "f89c7d0d": { "dfnID": "f89c7d0d", "dfnText": "Clamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Clamp" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#Clamp" },
                "f8b3bc81": { "dfnID": "f8b3bc81", "dfnText": "false", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-custom-media-false" }], "title": "4.4. Name CSS properties and values appropriately" }], "url": "https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false" },
                "f8de33a3": { "dfnID": "f8de33a3", "dfnText": "long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-long" }], "title": "8.1. Use numeric types appropriately" }], "url": "https://webidl.spec.whatwg.org/#idl-long" },
                "fb030e6c": { "dfnID": "fb030e6c", "dfnText": "<length>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-length-value" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/css-values-4/#length-value" },
                "fc736137": { "dfnID": "fc736137", "dfnText": "textarea", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-textarea-element" }], "title": "3.7. Give each HTML element a single purpose" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element" },
                "fd7a9317": { "dfnID": "fd7a9317", "dfnText": "value (for input)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-input-value" }], "title": "3.5. Keep attributes in sync" }], "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-value" },
                "fdf6efd5": { "dfnID": "fdf6efd5", "dfnText": "font-size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-size" }, { "id": "ref-for-propdef-font-size\u2460" }, { "id": "ref-for-propdef-font-size\u2461" }], "title": "4.2. Make appropriate choices for whether CSS properties are inherited" }, { "refs": [{ "id": "ref-for-propdef-font-size\u2462" }, { "id": "ref-for-propdef-font-size\u2463" }, { "id": "ref-for-propdef-font-size\u2464" }, { "id": "ref-for-propdef-font-size\u2465" }, { "id": "ref-for-propdef-font-size\u2466" }], "title": "4.3. Choose the computed value type based on how the property should inherit" }], "url": "https://drafts.csswg.org/css-fonts-4/#propdef-font-size" },
                "fefe0433": { "dfnID": "fefe0433", "dfnText": "preventDefault()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-preventdefault" }], "title": "When to use callback functions" }], "url": "https://dom.spec.whatwg.org/#dom-event-preventdefault" },
                "ff87eaf9": { "dfnID": "ff87eaf9", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal-remove" }, { "id": "ref-for-abortsignal-remove\u2460" }], "title": "7.7. Guard against potential recursion" }], "url": "https://dom.spec.whatwg.org/#abortsignal-remove" },
                "live-object": { "dfnID": "live-object", "dfnText": "live object", "external": false, "refSections": [], "url": "#live-object" },
                "monkey-patch": { "dfnID": "monkey-patch", "dfnText": "monkey patch", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-monkey-patch" }], "title": "10.5. Extend existing manifest files rather than creating new ones" }, { "refs": [{ "id": "ref-for-monkey-patch\u2460" }], "title": "11.4.1. If you need to monkey patch" }], "url": "#monkey-patch" },
                "propdef-font-size-adjust": { "dfnID": "propdef-font-size-adjust", "dfnText": "font-size-adjust", "external": false, "refSections": [], "url": "#propdef-font-size-adjust" },
                "static-object": { "dfnID": "static-object", "dfnText": "static object", "external": false, "refSections": [], "url": "#static-object" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-link-titles */
        "use strict";
        {
            let linkTitleData = {
                "https://drafts.csswg.org/css-values-4/#length-value": "Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw",
            };

            function setTypeTitles() {
                for (let el of document.querySelectorAll("a[href]")) {
                    if (el.href in linkTitleData && !el.hasAttribute("title")) {
                        el.setAttribute("title", linkTitleData[el.href]);
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", setTypeTitles);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#monkey-patch": { "displayText": "monkey patch", "export": true, "for_": [], "level": "", "normative": true, "shortname": "design-principles", "spec": "design-principles", "status": "local", "text": "monkey patch", "type": "dfn", "url": "#monkey-patch" },
                "#propdef-font-size-adjust": { "displayText": "font-size-adjust", "export": true, "for_": [], "level": "", "normative": true, "shortname": "design-principles", "spec": "design-principles", "status": "local", "text": "font-size-adjust", "type": "property", "url": "#propdef-font-size-adjust" },
                "https://console.spec.whatwg.org/#namespacedef-console": { "displayText": "console", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "console", "spec": "console", "status": "current", "text": "console", "type": "namespace", "url": "https://console.spec.whatwg.org/#namespacedef-console" },
                "https://dom.spec.whatwg.org/#abortcontroller": { "displayText": "AbortController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "AbortController", "type": "interface", "url": "https://dom.spec.whatwg.org/#abortcontroller" },
                "https://dom.spec.whatwg.org/#abortcontroller-signal-abort": { "displayText": "signal abort", "export": true, "for_": ["AbortController"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "signal abort", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortcontroller-signal-abort" },
                "https://dom.spec.whatwg.org/#abortsignal": { "displayText": "AbortSignal", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "AbortSignal", "type": "interface", "url": "https://dom.spec.whatwg.org/#abortsignal" },
                "https://dom.spec.whatwg.org/#abortsignal-aborted": { "displayText": "aborted", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "aborted", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortsignal-aborted" },
                "https://dom.spec.whatwg.org/#abortsignal-add": { "displayText": "add", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "add", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortsignal-add" },
                "https://dom.spec.whatwg.org/#abortsignal-remove": { "displayText": "remove", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "remove", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortsignal-remove" },
                "https://dom.spec.whatwg.org/#concept-event-fire": { "displayText": "fire an event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "fire an event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
                "https://dom.spec.whatwg.org/#dom-abortcontroller-abort": { "displayText": "abort()", "export": true, "for_": ["AbortController"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "abort()", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-abortcontroller-abort" },
                "https://dom.spec.whatwg.org/#dom-abortsignal-timeout": { "displayText": "timeout(milliseconds)", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "timeout(milliseconds)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-abortsignal-timeout" },
                "https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once": { "displayText": "once", "export": true, "for_": ["AddEventListenerOptions"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "once", "type": "dict-member", "url": "https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once" },
                "https://dom.spec.whatwg.org/#dom-childnode-remove": { "displayText": "remove()", "export": true, "for_": ["ChildNode"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "remove()", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-childnode-remove" },
                "https://dom.spec.whatwg.org/#dom-document-compatmode": { "displayText": "compatMode", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "compatMode", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-document-compatmode" },
                "https://dom.spec.whatwg.org/#dom-document-createattribute": { "displayText": "createAttribute(localName)", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "createAttribute(localName)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-document-createattribute" },
                "https://dom.spec.whatwg.org/#dom-document-createelement": { "displayText": "createElement(localName)", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "createElement(localName)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-document-createelement" },
                "https://dom.spec.whatwg.org/#dom-document-getelementsbytagname": { "displayText": "getElementsByTagName(qualifiedName)", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "getElementsByTagName(qualifiedName)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" },
                "https://dom.spec.whatwg.org/#dom-element-classlist": { "displayText": "classList", "export": true, "for_": ["Element"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "classList", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-element-classlist" },
                "https://dom.spec.whatwg.org/#dom-event-bubbles": { "displayText": "bubbles", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "bubbles", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-bubbles" },
                "https://dom.spec.whatwg.org/#dom-event-preventdefault": { "displayText": "preventDefault()", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "preventDefault()", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-event-preventdefault" },
                "https://dom.spec.whatwg.org/#dom-event-target": { "displayText": "target", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "target", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-target" },
                "https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener": { "displayText": "addEventListener(type, callback)", "export": true, "for_": ["EventTarget"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "addEventListener(type, callback)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" },
                "https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid": { "displayText": "getElementById(elementId)", "export": true, "for_": ["NonElementParentNode"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "getElementById(elementId)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid" },
                "https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall": { "displayText": "querySelectorAll(selectors)", "export": true, "for_": ["ParentNode"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "querySelectorAll(selectors)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall" },
                "https://dom.spec.whatwg.org/#domtokenlist": { "displayText": "DOMTokenList", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "DOMTokenList", "type": "interface", "url": "https://dom.spec.whatwg.org/#domtokenlist" },
                "https://dom.spec.whatwg.org/#element": { "displayText": "Element", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Element", "type": "interface", "url": "https://dom.spec.whatwg.org/#element" },
                "https://dom.spec.whatwg.org/#event": { "displayText": "Event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Event", "type": "interface", "url": "https://dom.spec.whatwg.org/#event" },
                "https://dom.spec.whatwg.org/#eventtarget": { "displayText": "EventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "https://dom.spec.whatwg.org/#htmlcollection": { "displayText": "HTMLCollection", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "HTMLCollection", "type": "interface", "url": "https://dom.spec.whatwg.org/#htmlcollection" },
                "https://dom.spec.whatwg.org/#mutationobserver": { "displayText": "MutationObserver", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "MutationObserver", "type": "interface", "url": "https://dom.spec.whatwg.org/#mutationobserver" },
                "https://dom.spec.whatwg.org/#namednodemap": { "displayText": "NamedNodeMap", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "NamedNodeMap", "type": "interface", "url": "https://dom.spec.whatwg.org/#namednodemap" },
                "https://dom.spec.whatwg.org/#node": { "displayText": "Node", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Node", "type": "interface", "url": "https://dom.spec.whatwg.org/#node" },
                "https://dom.spec.whatwg.org/#nonelementparentnode": { "displayText": "NonElementParentNode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "NonElementParentNode", "type": "interface", "url": "https://dom.spec.whatwg.org/#nonelementparentnode" },
                "https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image": { "displayText": "background-image", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-backgrounds", "spec": "css-backgrounds-3", "status": "current", "text": "background-image", "type": "property", "url": "https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image" },
                "https://drafts.csswg.org/css-cascade-5/#actual-value": { "displayText": "actual value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "current", "text": "actual value", "type": "dfn", "url": "https://drafts.csswg.org/css-cascade-5/#actual-value" },
                "https://drafts.csswg.org/css-cascade-5/#computed-value": { "displayText": "computed value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "current", "text": "computed value", "type": "dfn", "url": "https://drafts.csswg.org/css-cascade-5/#computed-value" },
                "https://drafts.csswg.org/css-cascade-5/#css-inheritance": { "displayText": "inherit", "export": true, "for_": ["CSS"], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "current", "text": "inherit", "type": "dfn", "url": "https://drafts.csswg.org/css-cascade-5/#css-inheritance" },
                "https://drafts.csswg.org/css-cascade-5/#used-value": { "displayText": "used value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "current", "text": "used value", "type": "dfn", "url": "https://drafts.csswg.org/css-cascade-5/#used-value" },
                "https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports": { "displayText": "@supports", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "current", "text": "@supports", "type": "at-rule", "url": "https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports" },
                "https://drafts.csswg.org/css-fonts-4/#propdef-font-size": { "displayText": "font-size", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "current", "text": "font-size", "type": "property", "url": "https://drafts.csswg.org/css-fonts-4/#propdef-font-size" },
                "https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust": { "displayText": "font-size-adjust", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "current", "text": "font-size-adjust", "type": "property", "url": "https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust" },
                "https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none": { "displayText": "none", "export": true, "for_": ["font-size-adjust"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "current", "text": "none", "type": "value", "url": "https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none" },
                "https://drafts.csswg.org/css-inline-3/#propdef-initial-letter": { "displayText": "initial-letter", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-inline", "spec": "css-inline-3", "status": "current", "text": "initial-letter", "type": "property", "url": "https://drafts.csswg.org/css-inline-3/#propdef-initial-letter" },
                "https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align": { "displayText": "initial-letter-align", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-inline", "spec": "css-inline-3", "status": "current", "text": "initial-letter-align", "type": "property", "url": "https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align" },
                "https://drafts.csswg.org/css-values-4/#comb-one": { "displayText": "|", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "current", "text": "|", "type": "grammar", "url": "https://drafts.csswg.org/css-values-4/#comb-one" },
                "https://drafts.csswg.org/css-values-4/#length-value": { "displayText": "<length>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "current", "text": "<length>", "type": "type", "url": "https://drafts.csswg.org/css-values-4/#length-value" },
                "https://drafts.csswg.org/css-values-4/#mult-opt": { "displayText": "?", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "current", "text": "?", "type": "grammar", "url": "https://drafts.csswg.org/css-values-4/#mult-opt" },
                "https://drafts.csswg.org/css-values-4/#number-value": { "displayText": "<number>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "current", "text": "<number>", "type": "type", "url": "https://drafts.csswg.org/css-values-4/#number-value" },
                "https://drafts.csswg.org/css2/#propdef-line-height": { "displayText": "line-height", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css", "spec": "css2", "status": "current", "text": "line-height", "type": "property", "url": "https://drafts.csswg.org/css2/#propdef-line-height" },
                "https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle": { "displayText": "getComputedStyle(elt)", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "current", "text": "getComputedStyle(elt)", "type": "method", "url": "https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle" },
                "https://drafts.csswg.org/cssom-1/#resolved-value": { "displayText": "resolved value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "current", "text": "resolved value", "type": "dfn", "url": "https://drafts.csswg.org/cssom-1/#resolved-value" },
                "https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect": { "displayText": "getBoundingClientRect()", "export": true, "for_": ["Element"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "getBoundingClientRect()", "type": "method", "url": "https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect" },
                "https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop": { "displayText": "scrollTop", "export": true, "for_": ["Element"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "scrollTop", "type": "attribute", "url": "https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop" },
                "https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop": { "displayText": "offsetTop", "export": true, "for_": ["HTMLElement"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "offsetTop", "type": "attribute", "url": "https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop" },
                "https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false": { "displayText": "false", "export": true, "for_": ["@custom-media"], "level": "5", "normative": true, "shortname": "mediaqueries", "spec": "mediaqueries-5", "status": "current", "text": "false", "type": "value", "url": "https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false" },
                "https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true": { "displayText": "true", "export": true, "for_": ["@custom-media"], "level": "5", "normative": true, "shortname": "mediaqueries", "spec": "mediaqueries-5", "status": "current", "text": "true", "type": "value", "url": "https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true" },
                "https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime": { "displayText": "currentTime", "export": true, "for_": ["AnimationTimeline"], "level": "2", "normative": true, "shortname": "web-animations", "spec": "web-animations-2", "status": "current", "text": "currentTime", "type": "attribute", "url": "https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime" },
                "https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter": { "displayText": "backdrop-filter", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "filter-effects", "spec": "filter-effects-2", "status": "current", "text": "backdrop-filter", "type": "property", "url": "https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter" },
                "https://encoding.spec.whatwg.org/#textencoder": { "displayText": "TextEncoder", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "TextEncoder", "type": "interface", "url": "https://encoding.spec.whatwg.org/#textencoder" },
                "https://fetch.spec.whatwg.org/#body": { "displayText": "Body", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Body", "type": "interface", "url": "https://fetch.spec.whatwg.org/#body" },
                "https://fetch.spec.whatwg.org/#concept-http-fetch": { "displayText": "HTTP fetch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "http fetch", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-http-fetch" },
                "https://fetch.spec.whatwg.org/#dom-body-json": { "displayText": "json()", "export": true, "for_": ["Body"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "json()", "type": "method", "url": "https://fetch.spec.whatwg.org/#dom-body-json" },
                "https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect": { "displayText": "reflect", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "reflect", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" },
                "https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element": { "displayText": "custom element", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "custom element", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element" },
                "https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define": { "displayText": "define(name, constructor, options)", "export": true, "for_": ["CustomElementRegistry"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "define(name, constructor, options)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active": { "displayText": "fully active", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "fully active", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" },
                "https://html.spec.whatwg.org/multipage/dom.html#classes": { "displayText": "class", "export": true, "for_": ["global"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "class", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/dom.html#classes" },
                "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml": { "displayText": "innerHTML", "export": true, "for_": ["Element"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "innerHTML", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-ismap": { "displayText": "ismap", "export": true, "for_": ["img"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "ismap", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-ismap" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src": { "displayText": "src", "export": true, "for_": ["img"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "src", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset": { "displayText": "srcset", "export": true, "for_": ["img"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "srcset", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap": { "displayText": "isMap", "export": true, "for_": ["HTMLImageElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "isMap", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width": { "displayText": "width", "export": true, "for_": ["HTMLImageElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "width", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement": { "displayText": "HTMLImageElement", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "HTMLImageElement", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element": { "displayText": "img", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "img", "type": "element", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element": { "displayText": "source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "source", "type": "element", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" },
                "https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action": { "displayText": "action", "export": true, "for_": ["form", "button"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "action", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected": { "displayText": "selected", "export": true, "for_": ["option"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "selected", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple": { "displayText": "multiple", "export": true, "for_": ["select"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "multiple", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected": { "displayText": "defaultSelected", "export": true, "for_": ["HTMLOptionElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "defaultSelected", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element": { "displayText": "button", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "button", "type": "element", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element": { "displayText": "datalist", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "datalist", "type": "element", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element": { "displayText": "option", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "option", "type": "element", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element": { "displayText": "output", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "output", "type": "element", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element": { "displayText": "select", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "select", "type": "element", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element": { "displayText": "textarea", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "textarea", "type": "element", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element" },
                "https://html.spec.whatwg.org/multipage/forms.html#attr-label-for": { "displayText": "for", "export": true, "for_": ["label"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "for", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/forms.html#attr-label-for" },
                "https://html.spec.whatwg.org/multipage/forms.html#the-form-element": { "displayText": "form", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "form", "type": "element", "url": "https://html.spec.whatwg.org/multipage/forms.html#the-form-element" },
                "https://html.spec.whatwg.org/multipage/forms.html#the-label-element": { "displayText": "label", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "label", "type": "element", "url": "https://html.spec.whatwg.org/multipage/forms.html#the-label-element" },
                "https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement": { "displayText": "HTMLHRElement", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "HTMLHRElement", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement" },
                "https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element": { "displayText": "figcaption", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "figcaption", "type": "element", "url": "https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element" },
                "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox": { "displayText": "sandbox", "export": true, "for_": ["iframe"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "sandbox", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox" },
                "https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap": { "displayText": "createImageBitmap(image, options)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "createImageBitmap(image, options)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap" },
                "https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap": { "displayText": "ImageBitmap", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "ImageBitmap", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap" },
                "https://html.spec.whatwg.org/multipage/indices.html#event-languagechange": { "displayText": "languagechange", "export": true, "for_": ["Window", "WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "languagechange", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-languagechange" },
                "https://html.spec.whatwg.org/multipage/input.html#attr-input-accept": { "displayText": "accept", "export": true, "for_": ["input"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "accept", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-accept" },
                "https://html.spec.whatwg.org/multipage/input.html#attr-input-checked": { "displayText": "checked", "export": true, "for_": ["input"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "checked", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-checked" },
                "https://html.spec.whatwg.org/multipage/input.html#attr-input-list": { "displayText": "list", "export": true, "for_": ["input"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "list", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-list" },
                "https://html.spec.whatwg.org/multipage/input.html#attr-input-type": { "displayText": "type", "export": true, "for_": ["input"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "type", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-type" },
                "https://html.spec.whatwg.org/multipage/input.html#attr-input-value": { "displayText": "value", "export": true, "for_": ["input"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "value", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/input.html#attr-input-value" },
                "https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked": { "displayText": "defaultChecked", "export": true, "for_": ["HTMLInputElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "defaultChecked", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked" },
                "https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue": { "displayText": "defaultValue", "export": true, "for_": ["HTMLInputElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "defaultValue", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue" },
                "https://html.spec.whatwg.org/multipage/input.html#dom-input-value": { "displayText": "value", "export": true, "for_": ["HTMLInputElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "value", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/input.html#dom-input-value" },
                "https://html.spec.whatwg.org/multipage/input.html#htmlinputelement": { "displayText": "HTMLInputElement", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "HTMLInputElement", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" },
                "https://html.spec.whatwg.org/multipage/input.html#the-input-element": { "displayText": "input", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "input", "type": "element", "url": "https://html.spec.whatwg.org/multipage/input.html#the-input-element" },
                "https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive": { "displayText": "isActive", "export": true, "for_": ["UserActivation"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "isActive", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive" },
                "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation": { "displayText": "transient activation", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transient activation", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
                "https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open": { "displayText": "open", "export": true, "for_": ["details"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "open", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open" },
                "https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal": { "displayText": "showModal()", "export": true, "for_": ["HTMLDialogElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "showModal()", "type": "method", "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal" },
                "https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element": { "displayText": "details", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "details", "type": "element", "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element" },
                "https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element": { "displayText": "dialog", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "dialog", "type": "element", "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" },
                "https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href": { "displayText": "href", "export": true, "for_": ["a", "area"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "href", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href" },
                "https://html.spec.whatwg.org/multipage/links.html#ping": { "displayText": "ping", "export": true, "for_": ["a", "area"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "ping", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/links.html#ping" },
                "https://html.spec.whatwg.org/multipage/media.html#attr-video-poster": { "displayText": "poster", "export": true, "for_": ["video"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "poster", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/media.html#attr-video-poster" },
                "https://html.spec.whatwg.org/multipage/media.html#audio": { "displayText": "audio", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "audio", "type": "element", "url": "https://html.spec.whatwg.org/multipage/media.html#audio" },
                "https://html.spec.whatwg.org/multipage/media.html#dom-media-play": { "displayText": "play()", "export": true, "for_": ["HTMLMediaElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "play()", "type": "method", "url": "https://html.spec.whatwg.org/multipage/media.html#dom-media-play" },
                "https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough": { "displayText": "canplaythrough", "export": true, "for_": ["HTMLMediaElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "canplaythrough", "type": "event", "url": "https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough" },
                "https://html.spec.whatwg.org/multipage/media.html#event-media-resize": { "displayText": "resize", "export": true, "for_": ["HTMLMediaElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "resize", "type": "event", "url": "https://html.spec.whatwg.org/multipage/media.html#event-media-resize" },
                "https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement": { "displayText": "HTMLMediaElement", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "HTMLMediaElement", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement" },
                "https://html.spec.whatwg.org/multipage/media.html#video": { "displayText": "video", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "video", "type": "element", "url": "https://html.spec.whatwg.org/multipage/media.html#video" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open": { "displayText": "open(url, target, features)", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "open(url, target, features)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3": { "displayText": "History", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "History", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "displayText": "Window", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "https://html.spec.whatwg.org/multipage/obsolete.html#acronym": { "displayText": "acronym", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "acronym", "type": "element", "url": "https://html.spec.whatwg.org/multipage/obsolete.html#acronym" },
                "https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor": { "displayText": "bgColor", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "bgColor", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor" },
                "https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src": { "displayText": "src", "export": true, "for_": ["script"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "src", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src" },
                "https://html.spec.whatwg.org/multipage/scripting.html#script": { "displayText": "script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "script", "type": "element", "url": "https://html.spec.whatwg.org/multipage/scripting.html#script" },
                "https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href": { "displayText": "href", "export": true, "for_": ["link"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "href", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href" },
                "https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel": { "displayText": "rel", "export": true, "for_": ["link"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "rel", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel" },
                "https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement": { "displayText": "HTMLHtmlElement", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "HTMLHtmlElement", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement" },
                "https://html.spec.whatwg.org/multipage/semantics.html#the-link-element": { "displayText": "link", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "link", "type": "element", "url": "https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" },
                "https://html.spec.whatwg.org/multipage/semantics.html#the-style-element": { "displayText": "style", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "style", "type": "element", "url": "https://html.spec.whatwg.org/multipage/semantics.html#the-style-element" },
                "https://html.spec.whatwg.org/multipage/system-state.html#navigator": { "displayText": "Navigator", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Navigator", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator" },
                "https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite": { "displayText": "cite", "export": true, "for_": ["q"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "cite", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite" },
                "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element": { "displayText": "a", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "a", "type": "element", "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" },
                "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element": { "displayText": "abbr", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "abbr", "type": "element", "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element" },
                "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element": { "displayText": "q", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "q", "type": "element", "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element" },
                "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs": { "displayText": "alert()", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "alert()", "type": "method", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs" },
                "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout": { "displayText": "setTimeout(handler, timeout, ...arguments)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "setTimeout(handler, timeout, ...arguments)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": { "displayText": "task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source": { "displayText": "DOM manipulation task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "dom manipulation task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes": { "displayText": "event handler IDL attribute", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler idl attribute", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop": { "displayText": "event loop", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event loop", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": { "displayText": "EventHandler", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "EventHandler", "type": "typedef", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers": { "displayText": "GlobalEventHandlers", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "GlobalEventHandlers", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#microtask": { "displayText": "microtask", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "microtask", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#microtask" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source": { "displayText": "networking task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "networking task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": { "displayText": "queue a global task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a global task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task": { "displayText": "queue a task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task": { "displayText": "queue an element task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue an element task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#task-source": { "displayText": "task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering": { "displayText": "update the rendering", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "update the rendering", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source": { "displayText": "user interaction task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "user interaction task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers": { "displayText": "WindowEventHandlers", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WindowEventHandlers", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers" },
                "https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage": { "displayText": "localStorage", "export": true, "for_": ["WindowLocalStorage"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "localStorage", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage" },
                "https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope": { "displayText": "DedicatedWorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "DedicatedWorkerGlobalScope", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" },
                "https://html.spec.whatwg.org/multipage/workers.html#workertype": { "displayText": "WorkerType", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WorkerType", "type": "enum", "url": "https://html.spec.whatwg.org/multipage/workers.html#workertype" },
                "https://infra.spec.whatwg.org/#ascii-code-point": { "displayText": "ASCII code point", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii code point", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-code-point" },
                "https://infra.spec.whatwg.org/#code-unit": { "displayText": "code unit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "code unit", "type": "dfn", "url": "https://infra.spec.whatwg.org/#code-unit" },
                "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "https://infra.spec.whatwg.org/#scalar-value": { "displayText": "scalar value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "scalar value", "type": "dfn", "url": "https://infra.spec.whatwg.org/#scalar-value" },
                "https://infra.spec.whatwg.org/#scalar-value-string": { "displayText": "scalar value string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "scalar value string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#scalar-value-string" },
                "https://infra.spec.whatwg.org/#string": { "displayText": "string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string" },
                "https://infra.spec.whatwg.org/#surrogate": { "displayText": "surrogate", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "surrogate", "type": "dfn", "url": "https://infra.spec.whatwg.org/#surrogate" },
                "https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise.prototype.then": { "displayText": "then(onFulfilled, onRejected)", "export": true, "for_": ["Promise"], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "then(onFulfilled, onRejected)", "type": "method", "url": "https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise.prototype.then" },
                "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects": { "displayText": "Error", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Error", "type": "exception", "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects" },
                "https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects": { "displayText": "FinalizationRegistry", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "FinalizationRegistry", "type": "interface", "url": "https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects" },
                "https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects": { "displayText": "WeakRef", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "WeakRef", "type": "interface", "url": "https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects" },
                "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects": { "displayText": "BigInt", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "BigInt", "type": "interface", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects" },
                "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects": { "displayText": "Date", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Date", "type": "interface", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" },
                "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now": { "displayText": "now()", "export": true, "for_": ["Date"], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "now()", "type": "method", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now" },
                "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects": { "displayText": "Number", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Number", "type": "interface", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" },
                "https://url.spec.whatwg.org/#concept-url": { "displayText": "URL", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "url", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url" },
                "https://url.spec.whatwg.org/#dom-urlsearchparams-delete": { "displayText": "delete(name)", "export": true, "for_": ["URLSearchParams"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "delete(name)", "type": "method", "url": "https://url.spec.whatwg.org/#dom-urlsearchparams-delete" },
                "https://url.spec.whatwg.org/#dom-urlsearchparams-has": { "displayText": "has(name)", "export": true, "for_": ["URLSearchParams"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "has(name)", "type": "method", "url": "https://url.spec.whatwg.org/#dom-urlsearchparams-has" },
                "https://url.spec.whatwg.org/#urlsearchparams": { "displayText": "URLSearchParams", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "URLSearchParams", "type": "interface", "url": "https://url.spec.whatwg.org/#urlsearchparams" },
                "https://w3c.github.io/FileAPI/#dfn-Blob": { "displayText": "Blob", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "Blob", "type": "interface", "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "https://w3c.github.io/IndexedDB/#idbdatabase": { "displayText": "IDBDatabase", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "indexeddb", "spec": "indexeddb-3", "status": "current", "text": "IDBDatabase", "type": "interface", "url": "https://w3c.github.io/IndexedDB/#idbdatabase" },
                "https://w3c.github.io/IntersectionObserver/#intersectionobserver": { "displayText": "IntersectionObserver", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "intersection-observer", "spec": "intersection-observer", "status": "current", "text": "IntersectionObserver", "type": "interface", "url": "https://w3c.github.io/IntersectionObserver/#intersectionobserver" },
                "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue": { "displayText": "task queues", "export": true, "for_": ["service worker registration"], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "task queues", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue" },
                "https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith": { "displayText": "respondWith(r)", "export": true, "for_": ["FetchEvent"], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "respondWith(r)", "type": "method", "url": "https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith" },
                "https://w3c.github.io/gamepad/#dom-gamepad": { "displayText": "Gamepad", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "gamepad", "spec": "gamepad", "status": "current", "text": "Gamepad", "type": "interface", "url": "https://w3c.github.io/gamepad/#dom-gamepad" },
                "https://w3c.github.io/hr-time/#dom-domhighrestimestamp": { "displayText": "DOMHighResTimeStamp", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "DOMHighResTimeStamp", "type": "typedef", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "https://w3c.github.io/hr-time/#dom-performance-now": { "displayText": "now()", "export": true, "for_": ["Performance"], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "now()", "type": "method", "url": "https://w3c.github.io/hr-time/#dom-performance-now" },
                "https://w3c.github.io/i18n-glossary/#dfn-percent-encoding": { "displayText": "percent-encoding", "export": true, "for_": [], "level": "1", "normative": false, "shortname": "i18n-glossary", "spec": "i18n-glossary", "status": "current", "text": "percent-encoding", "type": "dfn", "url": "https://w3c.github.io/i18n-glossary/#dfn-percent-encoding" },
                "https://w3c.github.io/manifest/#dfn-short_name": { "displayText": "short_name", "export": true, "for_": ["manifest"], "level": "1", "normative": true, "shortname": "appmanifest", "spec": "appmanifest", "status": "current", "text": "short_name", "type": "dfn", "url": "https://w3c.github.io/manifest/#dfn-short_name" },
                "https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior": { "displayText": "setFocusBehavior()", "export": true, "for_": ["CaptureController"], "level": "1", "normative": true, "shortname": "screen-capture", "spec": "screen-capture", "status": "current", "text": "setFocusBehavior()", "type": "method", "url": "https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior" },
                "https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia": { "displayText": "getDisplayMedia()", "export": true, "for_": ["MediaDevices"], "level": "1", "normative": true, "shortname": "screen-capture", "spec": "screen-capture", "status": "current", "text": "getDisplayMedia()", "type": "method", "url": "https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia" },
                "https://w3c.github.io/payment-request/#dfn-state": { "displayText": "[[state]]", "export": false, "for_": ["PaymentRequest"], "level": "1", "normative": true, "shortname": "payment-request", "spec": "payment-request", "status": "current", "text": "[[state]]", "type": "attribute", "url": "https://w3c.github.io/payment-request/#dfn-state" },
                "https://w3c.github.io/payment-request/#dom-paymentrequest": { "displayText": "PaymentRequest", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "payment-request", "spec": "payment-request", "status": "current", "text": "PaymentRequest", "type": "interface", "url": "https://w3c.github.io/payment-request/#dom-paymentrequest" },
                "https://w3c.github.io/payment-request/#dom-paymentrequest-show": { "displayText": "show()", "export": true, "for_": ["PaymentRequest"], "level": "1", "normative": true, "shortname": "payment-request", "spec": "payment-request", "status": "current", "text": "show()", "type": "method", "url": "https://w3c.github.io/payment-request/#dom-paymentrequest-show" },
                "https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose": { "displayText": "prompt the user to choose", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "prompt the user to choose", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose" },
                "https://w3c.github.io/permissions/#dfn-request-permission-to-use": { "displayText": "request permission to use", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "request permission to use", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-request-permission-to-use" },
                "https://w3c.github.io/pointerevents/#dom-pointerevent": { "displayText": "PointerEvent", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "pointerevents", "spec": "pointerevents3", "status": "current", "text": "PointerEvent", "type": "interface", "url": "https://w3c.github.io/pointerevents/#dom-pointerevent" },
                "https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid": { "displayText": "pointerId", "export": true, "for_": ["PointerEvent"], "level": "3", "normative": true, "shortname": "pointerevents", "spec": "pointerevents3", "status": "current", "text": "pointerId", "type": "attribute", "url": "https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid" },
                "https://w3c.github.io/remote-playback/#dfn-remote-playback-devices": { "displayText": "remote playback devices", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "remote-playback", "spec": "remote-playback", "status": "current", "text": "remote playback devices", "type": "dfn", "url": "https://w3c.github.io/remote-playback/#dfn-remote-playback-devices" },
                "https://w3c.github.io/remote-playback/#dom-remoteplayback": { "displayText": "RemotePlayback", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "remote-playback", "spec": "remote-playback", "status": "current", "text": "RemotePlayback", "type": "interface", "url": "https://w3c.github.io/remote-playback/#dom-remoteplayback" },
                "https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining": { "displayText": "timeRemaining()", "export": true, "for_": ["IdleDeadline"], "level": "1", "normative": true, "shortname": "requestidlecallback", "spec": "requestidlecallback", "status": "current", "text": "timeRemaining()", "type": "method", "url": "https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining" },
                "https://w3c.github.io/uievents/#dom-inputevent-inputtype": { "displayText": "inputType", "export": true, "for_": ["InputEvent"], "level": "1", "normative": true, "shortname": "uievents", "spec": "uievents", "status": "current", "text": "inputType", "type": "attribute", "url": "https://w3c.github.io/uievents/#dom-inputevent-inputtype" },
                "https://w3c.github.io/uievents/#inputevent": { "displayText": "InputEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "uievents", "spec": "uievents", "status": "current", "text": "InputEvent", "type": "interface", "url": "https://w3c.github.io/uievents/#inputevent" },
                "https://w3c.github.io/uievents/#keyboardevent": { "displayText": "KeyboardEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "uievents", "spec": "uievents", "status": "current", "text": "KeyboardEvent", "type": "interface", "url": "https://w3c.github.io/uievents/#keyboardevent" },
                "https://w3c.github.io/uievents/#mouseevent": { "displayText": "MouseEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "uievents", "spec": "uievents", "status": "current", "text": "MouseEvent", "type": "interface", "url": "https://w3c.github.io/uievents/#mouseevent" },
                "https://w3c.github.io/web-locks/#lockmanager": { "displayText": "LockManager", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "web-locks", "spec": "web-locks", "status": "current", "text": "LockManager", "type": "interface", "url": "https://w3c.github.io/web-locks/#lockmanager" },
                "https://w3c.github.io/webappsec-credential-management/#dom-credential-id": { "displayText": "id", "export": true, "for_": ["Credential"], "level": "1", "normative": true, "shortname": "credential-management", "spec": "credential-management-1", "status": "current", "text": "id", "type": "attribute", "url": "https://w3c.github.io/webappsec-credential-management/#dom-credential-id" },
                "https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade": { "displayText": "\"no-referrer-when-downgrade\"", "export": true, "for_": ["ReferrerPolicy"], "level": "1", "normative": true, "shortname": "referrer-policy", "spec": "referrer-policy", "status": "current", "text": "\"no-referrer-when-downgrade\"", "type": "enum-value", "url": "https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade" },
                "https://w3c.github.io/webcrypto/#dfn-Crypto": { "displayText": "Crypto", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webcrypto", "spec": "webcrypto-2", "status": "current", "text": "Crypto", "type": "interface", "url": "https://w3c.github.io/webcrypto/#dfn-Crypto" },
                "https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender": { "displayText": "RTCDTMFSender", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webrtc", "spec": "webrtc", "status": "current", "text": "RTCDTMFSender", "type": "interface", "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender" },
                "https://webaudio.github.io/web-audio-api/#AudioWorklet": { "displayText": "AudioWorklet", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webaudio", "spec": "webaudio-1.0", "status": "current", "text": "AudioWorklet", "type": "interface", "url": "https://webaudio.github.io/web-audio-api/#AudioWorklet" },
                "https://webaudio.github.io/web-audio-api/#ScriptProcessorNode": { "displayText": "ScriptProcessorNode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webaudio", "spec": "webaudio-1.0", "status": "current", "text": "ScriptProcessorNode", "type": "interface", "url": "https://webaudio.github.io/web-audio-api/#ScriptProcessorNode" },
                "https://webidl.spec.whatwg.org/#Clamp": { "displayText": "Clamp", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Clamp", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Clamp" },
                "https://webidl.spec.whatwg.org/#EnforceRange": { "displayText": "EnforceRange", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "EnforceRange", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#dfn-maplike": { "displayText": "maplike", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "maplike", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-maplike" },
                "https://webidl.spec.whatwg.org/#dfn-namespace": { "displayText": "namespace", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "namespace", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-namespace" },
                "https://webidl.spec.whatwg.org/#dfn-observable-array-type": { "displayText": "observable array type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "observable array type", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-observable-array-type" },
                "https://webidl.spec.whatwg.org/#dfn-partial-dictionary": { "displayText": "partial dictionary", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "partial dictionary", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-partial-dictionary" },
                "https://webidl.spec.whatwg.org/#dfn-partial-interface": { "displayText": "partial interface", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "partial interface", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-partial-interface" },
                "https://webidl.spec.whatwg.org/#dfn-setlike": { "displayText": "setlike", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "setlike", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-setlike" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "https://webidl.spec.whatwg.org/#idl-ArrayBuffer": { "displayText": "ArrayBuffer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "ArrayBuffer", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer" },
                "https://webidl.spec.whatwg.org/#idl-ByteString": { "displayText": "ByteString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "ByteString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-ByteString" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-Float32Array": { "displayText": "Float32Array", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Float32Array", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-Float32Array" },
                "https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer": { "displayText": "SharedArrayBuffer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SharedArrayBuffer", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer" },
                "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "https://webidl.spec.whatwg.org/#idl-Uint8Array": { "displayText": "Uint8Array", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Uint8Array", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array" },
                "https://webidl.spec.whatwg.org/#idl-bigint": { "displayText": "bigint", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "bigint", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-bigint" },
                "https://webidl.spec.whatwg.org/#idl-byte": { "displayText": "byte", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "byte", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-byte" },
                "https://webidl.spec.whatwg.org/#idl-double": { "displayText": "double", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "double", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-double" },
                "https://webidl.spec.whatwg.org/#idl-long": { "displayText": "long", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-long" },
                "https://webidl.spec.whatwg.org/#idl-long-long": { "displayText": "long long", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "long long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-long-long" },
                "https://webidl.spec.whatwg.org/#idl-octet": { "displayText": "octet", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "octet", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-octet" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#idl-short": { "displayText": "short", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "short", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-short" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#idl-unrestricted-double": { "displayText": "unrestricted double", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unrestricted double", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unrestricted-double" },
                "https://webidl.spec.whatwg.org/#idl-unsigned-long-long": { "displayText": "unsigned long long", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unsigned long long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "https://webidl.spec.whatwg.org/#sequence-type": { "displayText": "sequence type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence type", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#sequence-type" },
                "https://www.rfc-editor.org/rfc/rfc9110.html#name-accept": { "displayText": "Accept", "export": true, "for_": [], "level": "", "normative": true, "shortname": "rfc9110", "spec": "rfc9110", "status": "anchor-block", "text": "accept", "type": "http-header", "url": "https://www.rfc-editor.org/rfc/rfc9110.html#name-accept" },
                "https://xhr.spec.whatwg.org/#dom-progressevent-loaded": { "displayText": "loaded", "export": true, "for_": ["ProgressEvent"], "level": "1", "normative": true, "shortname": "xhr", "spec": "xhr", "status": "current", "text": "loaded", "type": "attribute", "url": "https://xhr.spec.whatwg.org/#dom-progressevent-loaded" },
                "https://xhr.spec.whatwg.org/#dom-progressevent-total": { "displayText": "total", "export": true, "for_": ["ProgressEvent"], "level": "1", "normative": true, "shortname": "xhr", "spec": "xhr", "status": "current", "text": "total", "type": "attribute", "url": "https://xhr.spec.whatwg.org/#dom-progressevent-total" },
                "https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate": { "displayText": "readyState", "export": true, "for_": ["XMLHttpRequest"], "level": "1", "normative": true, "shortname": "xhr", "spec": "xhr", "status": "current", "text": "readyState", "type": "attribute", "url": "https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate" },
                "https://xhr.spec.whatwg.org/#progressevent": { "displayText": "ProgressEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "xhr", "spec": "xhr", "status": "current", "text": "ProgressEvent", "type": "interface", "url": "https://xhr.spec.whatwg.org/#progressevent" },
                "https://xhr.spec.whatwg.org/#xmlhttprequest": { "displayText": "XMLHttpRequest", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "xhr", "spec": "xhr", "status": "current", "text": "XMLHttpRequest", "type": "interface", "url": "https://xhr.spec.whatwg.org/#xmlhttprequest" },
                "https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget": { "displayText": "XMLHttpRequestEventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "xhr", "spec": "xhr", "status": "current", "text": "XMLHttpRequestEventTarget", "type": "interface", "url": "https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>