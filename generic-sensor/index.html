<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>汎用センサーAPI</title>
    <meta content="CRD" name="w3c-status">
    <!-- <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator"> -->
    <link href="https://www.w3.org/TR/generic-sensor/" rel="canonical">
    <!-- <meta content="d8b0f67c3acc27330f97554185a32577a7d9d063" name="document-revision"> -->
    <meta content="dark light" name="color-scheme">
    <style>
        svg g.edge text {
            font-size: 8px;
        }

        svg g.node text {
            font-size: 10px;
        }
    </style>
    <style>
        @media (prefers-color-scheme: dark) {

            path,
            polygon {
                filter: invert(1);
            }

            text {
                fill: #fff;
            }
        }
    </style>
    <style>
        #toc .current,
        #toc .current-parent {
            border-right-width: 3px;
            border-right-style: solid;
            border-right-color: #3980B5;
        }

        #toc .current {
            background: rgba(75%, 75%, 75%, .25);
            border-right-color: #054572;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example " counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
            --mdn-pass: green;
            --mdn-fail: red;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
                --mdn-pass: #690;
                --mdn-fail: #d22;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: var(--mdn-fail);
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: var(--mdn-pass);
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: var(--mdn-fail);
        }

        .mdn-anno>.feature>.all-engines-text {
            color: var(--mdn-pass);
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">汎用センサーAPI</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CRD">W3C 候補勧告草案</a>、<time class="dt-updated"
                datetime="2025-12-11">2025年12月11日</time></p>
        <details open>
            <summary>この文書の詳細情報</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>このバージョン:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2025/CRD-generic-sensor-20251211/">https://www.w3.org/TR/2025/CRD-generic-sensor-20251211/</a>
                    <dt>最新公開バージョン:
                    <dd><a href="https://www.w3.org/TR/generic-sensor/">https://www.w3.org/TR/generic-sensor/</a>
                    <dt>編集者草案:
                    <dd><a href="https://w3c.github.io/sensors/">https://w3c.github.io/sensors/</a>
                    <dt>以前のバージョン:
                    <dd><a href="https://www.w3.org/TR/2024/CRD-generic-sensor-20240222/"
                            rel="prev">https://www.w3.org/TR/2024/CRD-generic-sensor-20240222/</a>
                    <dt>履歴:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/generic-sensor/">https://www.w3.org/standards/history/generic-sensor/</a>
                    <dt>フィードバック:
                    <dd><span><a
                                href="mailto:public-device-apis@w3.org?subject=%5Bgeneric-sensor%5D%20YOUR%20TOPIC%20HERE">public-device-apis@w3.org</a>
                            件名 “<kbd>[generic-sensor] <i data-lt>… メッセージの件名 …</i></kbd>” (<a
                                href="https://lists.w3.org/Archives/Public/public-device-apis/"
                                rel="discussion">アーカイブ</a>)</span>
                    <dd><a href="https://github.com/w3c/sensors/issues/">GitHub</a>
                    <dt>実装報告:
                    <dd><a
                            href="https://www.w3.org/wiki/DAS/Implementations">https://www.w3.org/wiki/DAS/Implementations</a>
                    <dt class="editor">編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="50572"><span class="p-name fn">Rick
                            Waldron</span> (<span class="p-org org">招聘エキスパート（元BocoupおよびJS Foundation代表）</span>)
                    <dt class="editor">過去の編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="78325"><a class="p-name fn u-url url"
                            href="https://intel.com/">Mikhail Pozdnyakov</a> (<span class="p-org org">インテル株式会社</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="78335"><a class="p-name fn u-url url"
                            href="https://intel.com/">Alexander Shalamov</a> (<span class="p-org org">インテル株式会社</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="60809"><a class="p-name fn u-url url"
                            href="https://www.codespeaks.com/">Tobie Langel</a> (<span
                            class="p-org org">Codespeaks、元インテル株式会社代表</span>) <a class="u-email email"
                            href="mailto:tobie@codespeaks.com">tobie@codespeaks.com</a>
                    <dt>その他:
                    <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/generic-sensor">テストスイート</a>、
                        <a href="https://github.com/w3c/sensors/commits/main/index.bs">最新版履歴</a>、<a
                            href="https://github.com/w3c/sensors/commits/gh-pages/index.bs">過去の履歴</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p>この仕様書は、センサーデータをオープンウェブプラットフォームに一貫した方法で公開するためのフレームワークを定義します。
            具体的なセンサーの仕様を書くための設計図と、多様なセンサータイプに対応できる抽象的なSensorインターフェースを定義することで、それを実現しています。</p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">この文書の位置付け</span></h2>
    <div data-fill-with="status">
        <p>
            <em>このセクションは、発行時点でのこの文書のステータスについて説明しています。
                現在のW3C出版物およびこの技術報告の最新の改訂版の一覧は
                <a href="https://www.w3.org/TR/">W3C 技術報告インデックス</a>
                にあります。</em>
        </p>
        <p>
            この文書は
            <a href="https://www.w3.org/groups/wg/das">Devices and Sensors Working Group（デバイスとセンサー作業部会）</a>
            により、<a
                href="https://www.w3.org/policies/process/20250818/#recs-and-notes">勧告トラック</a>を使った候補勧告ドラフトとして発行されました。この文書はW3C勧告となることを目的としています。
        </p>
        <p>
            この文書へのコメントを希望される場合は、
            <a
                href="mailto:public-device-apis@w3.org?Subject=%5Bgeneric-sensor%5D%20PUT%20SUBJECT%20HERE">public-device-apis@w3.org</a>
            （<a href="mailto:public-device-apis-request@w3.org?subject=subscribe">購読</a>、
            <a href="https://lists.w3.org/Archives/Public/public-device-apis/">アーカイブ</a>）へお送りください。
            メール送信の際は、件名に「generic-sensor」という文字を入れてください。
            可能であれば、このようにしてください:
            “[generic-sensor] <em>…コメントの概要…</em>”。
            すべてのコメントを歓迎します。
        </p>
        <p>
            候補勧告として発行されたことは <abbr title="World Wide Web Consortium">W3C</abbr>
            およびそのメンバーによる承認を意味するものではありません。候補勧告ドラフトには、ワーキンググループが次回の候補勧告スナップショットに含めようと意図した前回の候補勧告からの変更が統合されています。これはドラフト文書であり、今後随時更新、置換、または廃止される可能性があります。本文書を進行中の作業以外として引用することは不適切です。
        </p>
        <p>
            この文書が提案勧告段階に進むための基準は、本仕様のすべての機能を実装した最低二つの独立かつ相互運用可能なユーザーエージェントが存在し、ワーキンググループにより策定されたテストスイートのユーザーエージェントテストに合格することで判断されます。ワーキンググループは進捗を追跡するために実装報告を作成します。
        </p>
        <p>
            この文書は
            <a href="https://www.w3.org/policies/patent-policy/">W3C特許ポリシー</a>
            の下で活動するグループによって作成されました。W3Cは、
            <a href="https://www.w3.org/groups/wg/das/ipr" rel="disclosure">特許開示の公開リスト</a>
            をグループの成果物に関連して維持しています；
            そのページには特許の開示手続きも記載されています。
            個人が、<a href="https://www.w3.org/policies/patent-policy/#def-essential">必須クレーム</a>
            を含む特許があると認識した場合は、
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C特許ポリシー第6条</a>
            に従って情報の開示を行う必要があります。
        </p>
        <p>
            この文書は
            <a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">2025年8月18日付W3Cプロセス文書</a>
            によって管理されています。
        </p>
        <p></p>
        <p>実装に関するさらなる知見は
            <a data-link-type="dfn" href="https://wicg.github.io/permissions-request/#permission-request-algorithm"
                id="ref-for-permission-request-algorithm">permission request algorithm（許可リクエストアルゴリズム）</a>について収集されており、
            その経験を踏まえた仕様の明確化については
            <a href="https://github.com/w3c/sensors/issues/397">GitHub issue #397</a>
            で議論されています。
            グループは、<a data-link-type="biblio" href="#biblio-permissions-request"
                title="Requesting Permissions">[PERMISSIONS-REQUEST]</a>がインキュベーション段階を超えるまでは、本仕様をCRより先に進める予定はありません。
            この文書は随時保守および更新されます。一部は進行中の作業です。
        </p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">はじめに</span></a>
            <li><a href="#scope"><span class="secno">2</span> <span class="content">対象範囲</span></a>
            <li><a href="#feature-detection"><span class="secno">3</span> <span
                        class="content">ハードウェア機能のフィーチャ検出について</span></a>
            <li>
                <a href="#security-and-privacy"><span class="secno">4</span> <span
                        class="content">セキュリティとプライバシーに関する考慮事項</span></a>
                <ol class="toc">
                    <li>
                        <a href="#main-privacy-security-threats"><span class="secno">4.1</span> <span
                                class="content">プライバシー・セキュリティ脅威の種類</span></a>
                        <ol class="toc">
                            <li><a href="#location-tracking"><span class="secno">4.1.1</span> <span
                                        class="content">位置情報の追跡</span></a>
                            <li><a href="#eavesdropping"><span class="secno">4.1.2</span> <span
                                        class="content">盗聴</span></a>
                            <li><a href="#keystroke-monitoring"><span class="secno">4.1.3</span> <span
                                        class="content">キーストロークモニタリング</span></a>
                            <li><a href="#device-fingerprinting"><span class="secno">4.1.4</span> <span
                                        class="content">デバイスフィンガープリント</span></a>
                            <li><a href="#user-identifying"><span class="secno">4.1.5</span> <span
                                        class="content">ユーザー識別</span></a>
                        </ol>
                    <li>
                        <a href="#mitigation-strategies"><span class="secno">4.2</span> <span
                                class="content">リスク軽減策</span></a>
                        <ol class="toc">
                            <li><a href="#secure-context"><span class="secno">4.2.1</span> <span
                                        class="content">セキュアコンテキスト</span></a>
                            <li><a href="#permissions-policy"><span class="secno">4.2.2</span> <span
                                        class="content">パーミッションポリシー</span></a>
                            <li><a href="#focused-area"><span class="secno">4.2.3</span> <span
                                        class="content">フォーカスされた範囲</span></a>
                            <li><a href="#visibility-state"><span class="secno">4.2.4</span> <span
                                        class="content">可視状態</span></a>
                            <li><a href="#permissions"><span class="secno">4.2.5</span> <span
                                        class="content">Permissions API</span></a>
                        </ol>
                    <li>
                        <a href="#mitigation-strategies-case-by-case"><span class="secno">4.3</span> <span
                                class="content">個別対策</span></a>
                        <ol class="toc">
                            <li><a href="#limit-max-frequency"><span class="secno">4.3.1</span> <span
                                        class="content">最大サンプリング周波数の制限</span></a>
                            <li><a href="#stop-sensor"><span class="secno">4.3.2</span> <span
                                        class="content">センサーを完全停止する</span></a>
                            <li><a href="#limit-number-of-delivered-readings"><span class="secno">4.3.3</span> <span
                                        class="content">取得データ数の制限</span></a>
                            <li><a href="#reduce-accuracy"><span class="secno">4.3.4</span> <span
                                        class="content">精度の低減</span></a>
                            <li><a href="#inform-user"><span class="secno">4.3.5</span> <span
                                        class="content">API利用をユーザーに通知</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#concepts"><span class="secno">5</span> <span class="content">概念</span></a>
                <ol class="toc">
                    <li><a href="#concepts-sensors"><span class="secno">5.1</span> <span class="content">センサー</span></a>
                    <li><a href="#concepts-sensor-types"><span class="secno">5.2</span> <span
                                class="content">センサー種別</span></a>
                    <li><a href="#concepts-default-sensor"><span class="secno">5.3</span> <span
                                class="content">デフォルトセンサー</span></a>
                    <li><a href="#concepts-sampling-and-reporting-frequencies"><span class="secno">5.4</span> <span
                                class="content">サンプリング周波数とレポート周波数</span></a>
                    <li><a href="#concepts-can-expose-sensor-readings"><span class="secno">5.5</span> <span
                                class="content">センサー読み取り値を公開する条件</span></a>
                </ol>
            <li>
                <a href="#model"><span class="secno">6</span> <span class="content">モデル</span></a>
                <ol class="toc">
                    <li><a href="#model-sensor-type"><span class="secno">6.1</span> <span
                                class="content">センサータイプ</span></a>
                    <li><a href="#model-sensor"><span class="secno">6.2</span> <span class="content">センサー</span></a>
                </ol>
            <li>
                <a href="#api"><span class="secno">7</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li>
                        <a href="#the-sensor-interface"><span class="secno">7.1</span> <span
                                class="content">センサーインターフェース</span></a>
                        <ol class="toc">
                            <li><a href="#sensor-lifecycle"><span class="secno">7.1.1</span> <span
                                        class="content">センサーのライフサイクル</span></a>
                            <li><a href="#sensor-garbage-collection"><span class="secno">7.1.2</span> <span
                                        class="content">Sensorのガベージコレクション</span></a>
                            <li><a href="#sensor-internal-slots"><span class="secno">7.1.3</span> <span
                                        class="content">Sensorの内部スロット</span></a>
                            <li><a href="#sensor-activated"><span class="secno">7.1.4</span> <span
                                        class="content">Sensor.activated</span></a>
                            <li><a href="#sensor-has-reading"><span class="secno">7.1.5</span> <span
                                        class="content">Sensor.hasReading</span></a>
                            <li><a href="#sensor-timestamp"><span class="secno">7.1.6</span> <span
                                        class="content">Sensor.timestamp</span></a>
                            <li><a href="#sensor-start"><span class="secno">7.1.7</span> <span
                                        class="content">Sensor.start()</span></a>
                            <li><a href="#sensor-stop"><span class="secno">7.1.8</span> <span
                                        class="content">Sensor.stop()</span></a>
                            <li><a href="#sensor-onreading"><span class="secno">7.1.9</span> <span
                                        class="content">Sensor.onreading</span></a>
                            <li><a href="#sensor-onactivate"><span class="secno">7.1.10</span> <span
                                        class="content">Sensor.onactivate</span></a>
                            <li><a href="#sensor-onerror"><span class="secno">7.1.11</span> <span
                                        class="content">Sensor.onerror</span></a>
                            <li><a href="#event-handlers"><span class="secno">7.1.12</span> <span
                                        class="content">イベントハンドラー</span></a>
                        </ol>
                    <li><a href="#the-sensor-error-event-interface"><span class="secno">7.2</span> <span
                                class="content">SensorErrorEventインターフェース</span></a>
                </ol>
            <li>
                <a href="#abstract-operations"><span class="secno">8</span> <span class="content">抽象オペレーション</span></a>
                <ol class="toc">
                    <li><a href="#initialize-a-sensor-object"><span class="secno">8.1</span> <span
                                class="content">センサーオブジェクトの初期化</span></a>
                    <li><a href="#check-sensor-policy-controlled-features"><span class="secno">8.2</span> <span
                                class="content">センサーのポリシー制御機能の確認</span></a>
                    <li><a href="#connect-to-sensor"><span class="secno">8.3</span> <span
                                class="content">センサーへの接続</span></a>
                    <li><a href="#activate-a-sensor-object"><span class="secno">8.4</span> <span
                                class="content">センサーオブジェクトのアクティブ化</span></a>
                    <li><a href="#deactivate-a-sensor-object"><span class="secno">8.5</span> <span
                                class="content">センサーオブジェクトの非アクティブ化</span></a>
                    <li><a href="#generic-sensor-permission-revocation-algorithm"><span class="secno">8.6</span> <span
                                class="content">汎用センサー許可取り消しアルゴリズム</span></a>
                    <li><a href="#set-sensor-settings"><span class="secno">8.7</span> <span
                                class="content">センサー設定をセット</span></a>
                    <li><a href="#update-latest-reading"><span class="secno">8.8</span> <span
                                class="content">最新読み取りの更新</span></a>
                    <li><a href="#report-latest-reading-updated"><span class="secno">8.9</span> <span
                                class="content">最新読み取り更新通知</span></a>
                    <li><a href="#notify-new-reading"><span class="secno">8.10</span> <span
                                class="content">新しい読み取りの通知</span></a>
                    <li><a href="#notify-activated-state"><span class="secno">8.11</span> <span
                                class="content">アクティブ状態の通知</span></a>
                    <li><a href="#notify-error"><span class="secno">8.12</span> <span class="content">エラー通知</span></a>
                    <li><a href="#get-value-from-latest-reading"><span class="secno">8.13</span> <span
                                class="content">最新読み取りから値を取得</span></a>
                    <li><a href="#request-sensor-access"><span class="secno">8.14</span> <span
                                class="content">センサーアクセスの要求</span></a>
                    <li><a href="#focus-and-origin-check"><span class="secno">8.15</span> <span
                                class="content">フォーカスおよびオリジンの確認</span></a>
                </ol>
            <li>
                <a href="#automation"><span class="secno">9</span> <span class="content">自動化</span></a>
                <ol class="toc">
                    <li><a href="#virtual-sensors"><span class="secno">9.1</span> <span
                                class="content">仮想センサー</span></a>
                    <li>
                        <a href="#section-extension-commands"><span class="secno">9.2</span> <span
                                class="content">拡張コマンド</span></a>
                        <ol class="toc">
                            <li><a href="#create-virtual-sensor-command"><span class="secno">9.2.1</span> <span
                                        class="content">仮想センサーの作成</span></a>
                            <li><a href="#get-virtual-sensor-information-command"><span class="secno">9.2.2</span> <span
                                        class="content">仮想センサー情報の取得</span></a>
                            <li>
                                <a href="#update-virtual-sensor-reading-command"><span class="secno">9.2.3</span> <span
                                        class="content">仮想センサー読み取り値の更新</span></a>
                                <ol class="toc">
                                    <li>
                                        <a href="#algorithms-for-parsing-readings"><span class="secno">9.2.3.1</span>
                                            <span class="content">読み取り値の解析アルゴリズム</span></a>
                                        <ol class="toc">
                                            <li><a href="#parse-single-value-number-reading"><span
                                                        class="secno">9.2.3.1.1</span> <span
                                                        class="content">単一値読み取り（数値）の解析</span></a>
                                            <li><a href="#parse-xyz-reading"><span class="secno">9.2.3.1.2</span> <span
                                                        class="content">XYZ読み取り値の解析</span></a>
                                        </ol>
                                </ol>
                            <li><a href="#delete-virtual-sensor-command"><span class="secno">9.2.4</span> <span
                                        class="content">仮想センサーの削除</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#extensibility"><span class="secno">10</span> <span class="content">拡張性</span></a>
                <ol class="toc">
                    <li><a href="#extension-security-and-privacy"><span class="secno">10.1</span> <span
                                class="content">セキュリティとプライバシー</span></a>
                    <li><a href="#naming"><span class="secno">10.2</span> <span class="content">命名</span></a>
                    <li><a href="#unit"><span class="secno">10.3</span> <span class="content">単位</span></a>
                    <li><a href="#high-vs-low-level"><span class="secno">10.4</span> <span class="content">ハイレベル vs.
                                ローレベルセンサーの公開</span></a>
                    <li><a href="#multiple-sensors"><span class="secno">10.5</span> <span
                                class="content">同一タイプの複数センサーを有効化すべきでない場合はいつか？</span></a>
                    <li><a href="#definition-reqs"><span class="secno">10.6</span> <span
                                class="content">定義の要件</span></a>
                    <li><a href="#extend-automation"><span class="secno">10.7</span> <span
                                class="content">自動化</span></a>
                    <li><a href="#permission-api"><span class="secno">10.8</span> <span class="content">Permission
                                APIの拡張</span></a>
                    <li><a href="#permissions-policy-api"><span class="secno">10.9</span> <span
                                class="content">Permissions Policy APIの拡張</span></a>
                    <li><a href="#example-webidl"><span class="secno">10.10</span> <span
                                class="content">WebIDL例</span></a>
                </ol>
            <li><a href="#acknowledgements"><span class="secno">11</span> <span class="content">謝辞</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">適合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">ドキュメント規約</span></a>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">適合するアルゴリズム</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義される用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照により定義される用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範参照</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考文献（参考）</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDLインデックス</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">はじめに</span><a class="self-link" href="#intro"></a></h2>
        <p>アプリケーション開発では、新しいユースケース（例えばジオロケーション、歩数計測、ヘッドトラッキングなど）を実現するために、センサーデータの活用がますます進んでいます。
            モバイルデバイスでは、特に新しいセンサーが定期的に追加されており、この傾向が顕著です。</p>
        <p>センサーデータをWebに公開する取り組みは、これまで進みが遅く、また場当たり的でした。
            実際にWebで公開されているセンサーはごくわずかしかありません。
            公開されていたとしても、抽象度が高すぎる<a data-link-type="dfn" href="#high-level"
                id="ref-for-high-level">高レベル</a>なラッパーのみなど、利用可能なユースケースが制限された形であることが多いです。
            センサーごとにAPIも大きく異なるため、Webアプリケーション開発者の認知的負担が増し、実装も遅れる要因となっています。</p>
        <p>Generic Sensor APIの目的は、センサー系API間の一貫性を促進し、
            高性能な<a data-link-type="dfn" href="#low-level" id="ref-for-low-level">低レベル</a>APIによって高度なユースケースにも対応できるようにし、
            仕様策定と実装を簡略化することで、新しいセンサーがWeb上に公開される速度を上げることです。</p>
        <p>Generic Sensor APIをベースにした具体的なセンサー、適用ユースケース、コード例の一覧は、<a data-link-type="biblio"
                href="#biblio-generic-sensor-usecases" title="Sensor Use Cases">[GENERIC-SENSOR-USECASES]</a> および <a
                data-link-type="biblio" href="#biblio-motion-sensors"
                title="Motion Sensors Explainer">[MOTION-SENSORS]</a> 解説文書に掲載されています。
        </p>
        <h2 class="heading settled" data-level="2" id="scope"><span class="secno">2. </span><span
                class="content">対象範囲</span><a class="self-link" href="#scope"></a></h2>
        <p><em>本節は規範的ではありません</em>。</p>
        <p>現時点で本仕様の対象範囲は、<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor">デバイスセンサー</a>から取得したデータを公開可能とするためのプリミティブの定義に限定されています。</p>
        <p>リモートセンサーや、パーソナルエリアネットワーク（例：Bluetooth）上のセンサーを公開することは対象外です。
            これらの分野で作業が進展すれば、共通のより低レベルのプリミティブが見つかる可能性があり、その場合には本仕様もそれに合わせて更新されます。
            ただし、この場合でも実装への影響はほとんど、または全くありません。</p>
        <p>また、本仕様には現時点でセンサー探索APIも含まれていません。
            これは、現在ユーザーエージェントが利用可能なセンサーの数が限られており、そのようなAPIが必要とされていないためです。
            <a href="#feature-detection">§ 3 ハードウェア機能のフィーチャ検出について</a> で述べるようなフィーチャ検出を用いることで、現状は十分です。
            将来のバージョンでセンサー探索APIが仕様化される可能性があり、現在のAPIもその点を考慮して設計されています。
        </p>
        <h2 class="heading settled" data-level="3" id="feature-detection"><span class="secno">3. </span><span
                class="content">ハードウェア機能のフィーチャ検出について</span><a class="self-link" href="#feature-detection"></a></h2>
        <p><em>本節は規範的ではありません。</em></p>
        <p>フィーチャ検出はWeb開発におけるベストプラクティスです。
            本テーマに関する情報はオンライン・オフラインともに豊富に存在し、本節の目的はフィーチャ検出の詳細を論じることではなく、ハードウェア依存機能の検出という文脈に置くことです。</p>
        <p>以下のフィーチャ検出例を考えてみましょう：</p>
        <div class="example" id="example-250d1979">
            <a class="self-link" href="#example-250d1979"></a>
            このシンプルな例は、ユーザーエージェントが特定のセンサータイプのインターフェースを提供しているかどうかの確認方法を示しています。エラー処理に関しては、<a
                href="#robust-example">こちらの例</a>を参照してください。
            <pre class="highlight"><c- k>if</c-> <c- p>(</c-><c- ow>typeof</c-> Gyroscope <c- o>===</c-> <c- u>"function"</c-><c- p>)</c-> <c- p>{</c->
    <c- c1>// run in circles...</c->
<c- p>}</c->

<c- k>if</c-> <c- p>(</c-><c- u>"ProximitySensor"</c-> <c- ow>in</c-> window<c- p>)</c-> <c- p>{</c->
    <c- c1>// watch out!</c->
<c- p>}</c->

<c- k>if</c-> <c- p>(</c->window<c- p>.</c->AmbientLightSensor<c- p>)</c-> <c- p>{</c->
    <c- c1>// go dark...</c->
<c- p>}</c->

<c- c1>// etc.</c->
</pre>
        </div>
        <p>これらはいずれも、APIの存在や特性について何らかの情報を得る方法ですが、
            実際にそのAPIが本物のハードウェアセンサーに接続されているか、
            そのセンサーが動作するか、
            まだ接続されているか、
            あるいはユーザーがアクセスを許可するかどうかについては何も教えてくれません。
            なお後者については、Permissions API <a data-link-type="biblio" href="#biblio-permissions"
                title="Permissions">[PERMISSIONS]</a> を使って確認できます。</p>
        <p>理想的には、基盤となるハードウェアの状態に関する情報が事前に得られるのが望ましいです。
            しかし、これは二つの理由から困難です。
            まず、ハードウェアからこの情報を取得するには性能やバッテリーの消耗が大きく、クリティカルパス上の遅延要因となります。
            また、ハードウェアの状態は時間とともに変化し、
            ユーザーが許可を取り消したり、センサーとの接続が切断されたり、
            OS側でバッテリー残量に基づきセンサー利用を制限したりする場合もあります。</p>
        <p>したがって、効果的な戦略はフィーチャ検出とともに、
            求めているセンサーのAPIが存在することを確認し、
            さらに防御的なプログラミングとして、</p>
        <ol>
            <li data-md>
                <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor">Sensor</a></code>
                    オブジェクトのインスタンス化時にスローされるエラーの検出、</p>
            <li data-md>
                <p>そのオブジェクトから発せられるエラーイベントのリスニング、</p>
            <li data-md>
                <p>上記すべてをユーザー体験を損なうことなく優雅に処理することで、センサーの有無によってユーザー体験が悪化しないよう配慮すること、が重要です。</p>
        </ol>
        <div class="example" id="robust-example">
            <a class="self-link" href="#robust-example"></a>
            以下のスニペットは、加速度センサー（Accelerometer）を堅牢に生成する方法を示しています。Webアプリはエラーハンドリング方法（通知表示、他センサー選択、他APIフォールバック等）を用途に応じて変えて構いません。
            <pre class="highlight"><c- a>let</c-> accelerometer <c- o>=</c-> <c- kc>null</c-><c- p>;</c->
<c- k>try</c-> <c- p>{</c->
    accelerometer <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c-> frequency<c- o>:</c-> <c- mf>10</c-> <c- p>});</c->
    accelerometer<c- p>.</c->addEventListener<c- p>(</c-><c- t>'error'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
        <c- c1>// Handle runtime errors.</c->
        <c- k>if</c-> <c- p>(</c->event<c- p>.</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'NotAllowedError'</c-><c- p>)</c-> <c- p>{</c->
            console<c- p>.</c->log<c- p>(</c-><c- t>'Permission to access sensor was denied.'</c-><c- p>);</c->
        <c- p>}</c-> <c- k>else</c-> <c- k>if</c-> <c- p>(</c->event<c- p>.</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'NotReadableError'</c-> <c- p>)</c-> <c- p>{</c->
            console<c- p>.</c->log<c- p>(</c-><c- t>'Cannot connect to the sensor.'</c-><c- p>);</c->
        <c- p>}</c->
    <c- p>});</c->
    accelerometer<c- p>.</c->addEventListener<c- p>(</c-><c- t>'reading'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> reloadOnShake<c- p>(</c->accelerometer<c- p>));</c->
    accelerometer<c- p>.</c->start<c- p>();</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->error<c- p>)</c-> <c- p>{</c->
    <c- c1>// Handle construction errors.</c->
    <c- k>if</c-> <c- p>(</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'SecurityError'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Sensor construction was blocked by the Permissions Policy.'</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- k>if</c-> <c- p>(</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'ReferenceError'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Sensor is not supported by the User Agent.'</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
        <c- k>throw</c-> error<c- p>;</c->
    <c- p>}</c->
<c- p>}</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="4" id="security-and-privacy"><span class="secno">4. </span><span
                class="content">セキュリティとプライバシーに関する考慮事項</span><a class="self-link" href="#security-and-privacy"></a></h2>
        <div class="note" role="note"> 既知の<a href="#main-privacy-security-threats">脅威</a>をユーザーにどう通知するかは実装者に委ねますが、<a
                href="#mitigation-strategies">リスク低減策</a>の実装は必須です。 </div>
        <p><a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading">センサーの測定値</a>は機微なデータであり、悪意あるWebページからの様々な攻撃対象となりえます。リスク低減策について説明する前に、<a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①">センサー</a>が抱える主要なプライバシーおよびセキュリティリスクを挙げます。
            <a data-link-type="biblio" href="#biblio-mobilesensors"
                title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a> では主な脅威を<a
                href="#location-tracking">位置情報の追跡</a>、<a href="#eavesdropping">盗聴</a>、<a
                href="#keystroke-monitoring">キーストロークモニタリング</a>、<a href="#device-fingerprinting">デバイスフィンガープリント</a>、<a
                href="#user-identifying">ユーザー識別</a>に分類しており、
            この区分は本仕様にも適しています。
        </p>
        <p><a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②">センサー</a>同士を組合わせて使った場合や、他機能との連携、あるいは継続的な利用がなされることで、
            攻撃の成功リスクは高まります。特にデータの相関やフィンガープリントによる個人識別リスクが増加します。
            JavaScript APIを利用するWebアプリ開発者は、この情報がどのような他データと相関されプライバシーリスクとなるか、長期間データを収集した場合のリスクなどにも留意してください。</p>
        <p><a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading①">センサー値</a>やイベント発火頻度の違いによってフィンガープリントで特定される可能性があります。
            ユーザーエージェント側でイベント頻度を制限する等により、このリスクの低減が図られる場合があります。</p>
        <p>センサーの読み取り精度を下げることは一般的にフィンガープリントのリスクを減少させます。
            ユーザーエージェントは、必要以上に詳細な測定データを提供すべきではありません。各<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type">センサー種別</a>ごとに個別に評価してください。</p>
        <p>このAPIを使う同じJavaScriptコードが、同一デバイス上の異なるウィンドウコンテキスト内で同時に動作する場合、相互にユーザーを特定でき、予期しないトラッキング手段になる可能性もあります。</p>
        <p>ユーザーエージェントは、<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor③">センサー</a>利用時のインジケーターを表示したり、利用の停止をユーザーが選択できるように配慮すべきです。
            また、現在または過去のセンサー利用状況を確認できる機能を提供するのも検討に値します。</p>
        <p><a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor④">センサー</a>APIを利用するWebアプリ開発者は、アプリ全体の観点からプライバシー影響評価（PIA）を実施してください。</p>
        <p>デバイス上で検出できる全センサーの組み合わせ自体が識別子となり、フィンガープリントに利用される恐れがあります。</p>
        <p>特定のセンサー組み合わせにより、端末間での非公開通信チャネルが形成されるリスクも存在します。</p>
        <p>センサーはユーザーの端末横断的なリンク付け・追跡にも使われ得ます。</p>
        <h3 class="heading settled" data-level="4.1" id="main-privacy-security-threats"><span class="secno">4.1.
            </span><span class="content">プライバシー・セキュリティ脅威の種類</span><a class="self-link"
                href="#main-privacy-security-threats"></a></h3>
        <p><em>本節は規範的ではありません。</em></p>
        <h4 class="heading settled" data-level="4.1.1" id="location-tracking"><span class="secno">4.1.1. </span><span
                class="content">位置情報の追跡</span><a class="self-link" href="#location-tracking"></a></h4>
        <p>この種の脅威では、<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading②">センサー値</a>を使ってGPSなどの位置センサーを介さずに端末の位置を推定する攻撃が行われます。例えば加速度センサーのデータから統計モデルを用いて推定経路を出し、
            マップマッチングアルゴリズムで（半径200メートル程度の）推定座標を取得するなど<a data-link-type="biblio" href="#biblio-mobilesensors"
                title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a>。</p>
        <h4 class="heading settled" data-level="4.1.2" id="eavesdropping"><span class="secno">4.1.2. </span><span
                class="content">盗聴</span><a class="self-link" href="#eavesdropping"></a></h4>
        <p>ジャイロセンサー<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading③">値</a>から音声を復元するケースは盗聴攻撃の例です。
            <a data-link-type="biblio" href="#biblio-gyrospeechrecognition"
                title="Gyrophone: Recognizing Speech from Gyroscope Signals">[GYROSPEECHRECOGNITION]</a> を参照。
        </p>
        <h4 class="heading settled" data-level="4.1.3" id="keystroke-monitoring"><span class="secno">4.1.3. </span><span
                class="content">キーストロークモニタリング</span><a class="self-link" href="#keystroke-monitoring"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading④">センサー値</a>から様々なユーザー入力が推測可能であり、モーションセンサーによるユーザーのPIN・パスワード・ロックパターン（クリック・スクロール・ズーム等のタッチ動作も含む）への攻撃例も多岐に渡ります。機械学習アルゴリズムでユーザー情報を導出する場合が通常です。<a
                data-link-type="biblio" href="#biblio-stealingpinsviasensors"
                title="Stealing PINs via mobile sensors: actual risk versus user perception">[STEALINGPINSVIASENSORS]</a>。
        </p>
        <h4 class="heading settled" data-level="4.1.4" id="device-fingerprinting"><span class="secno">4.1.4.
            </span><span class="content">デバイスフィンガープリント</span><a class="self-link" href="#device-fingerprinting"></a>
        </h4>
        <p>センサーから得られる情報により、そのセンサーを用いた端末固有の識別が可能となる場合があります。
            全てのセンサーモデルには製造誤差や個体差があり、同じモデルであっても微妙な違いが生じます。こうした製造バラツキや誤差はフィンガープリントに悪用され得ます。<a data-link-type="biblio"
                href="#biblio-accelprint"
                title="AccelPrint: Imperfections of Accelerometers Make Smartphones Trackable">[ACCELPRINT]</a> <a
                data-link-type="biblio" href="#biblio-mobilesensors"
                title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a>。</p>
        <h4 class="heading settled" data-level="4.1.5" id="user-identifying"><span class="secno">4.1.5. </span><span
                class="content">ユーザー識別</span><a class="self-link" href="#user-identifying"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑤">センサー値</a>から個人を特定できる場合があり、たとえばスマートフォンやウェアラブルのモーションセンサーから各人特有の歩行パターンが推定できるケースなどがあります。
        </p>
        <h3 class="heading settled" data-level="4.2" id="mitigation-strategies"><span class="secno">4.2. </span><span
                class="content">リスク軽減策</span><a class="self-link" href="#mitigation-strategies"></a></h3>
        <p><em>本節は規範的ではありません。</em></p>
        <p>本節では、仕様の規範的セクションで定めているリスク軽減策の一部を、高レベルで紹介します。</p>
        <h4 class="heading settled" data-level="4.2.1" id="secure-context"><span class="secno">4.2.1. </span><span
                class="content">セキュアコンテキスト</span><a class="self-link" href="#secure-context"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥">センサー値</a>は
            Secure Contexts仕様書 <a data-link-type="biblio" href="#biblio-powerful-features"
                title="Secure Contexts">[POWERFUL-FEATURES]</a> にてネットワーク攻撃者にとって重要なターゲットと明示されています。
            そのため、本仕様または<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification">拡張仕様</a>で定義される全てのインターフェースは、<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                id="ref-for-secure-context">セキュアコンテキスト</a>内でのみ利用できます。</p>
        <h4 class="heading settled" data-level="4.2.2" id="permissions-policy"><span class="secno">4.2.2. </span><span
                class="bs-old-id" id="feature-policy"></span><span class="bs-old-id" id="browsing-context"></span><span
                class="content">パーミッションポリシー</span><a class="self-link" href="#permissions-policy"></a></h4>
        <p>ユーザーが馴染みのないコンテキストに<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑦">センサーの値</a>を共有することによるプライバシーリスクを避けるため、<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading⑧">センサーの値</a>は、
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#clone-a-node-document"
                id="ref-for-clone-a-node-document">document</a>が指定された<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                id="ref-for-allowed-to-use">利用可能</a>であり、<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature">ポリシーで制御された機能</a>がその<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①">センサータイプ</a>について許可されている場合のみ利用できます。詳細は<a data-link-type="biblio"
                href="#biblio-permissions-policy" title="Permissions Policy">[PERMISSIONS-POLICY]</a>を参照してください。
        </p>
        <h4 class="heading settled" data-level="4.2.3" id="focused-area"><span class="secno">4.2.3. </span><span
                class="bs-old-id" id="losing-focus"></span><span class="content">フォーカスされた範囲</span><a class="self-link"
                href="#focused-area"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑨">センサーの値</a>は、<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                id="ref-for-nav-document">アクティブなdocument</a>に対してのみ、
            その<a data-link-type="dfn" href="#focus-and-origin-check"
                id="ref-for-focus-and-origin-check">フォーカスとオリジンチェック</a>がtrueを返す場合に利用可能です。</p>
        <p>これは、<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable">navigable</a>内の要素が<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#gains-focus"
                id="ref-for-gains-focus">フォーカスを得た</a>場合に、スキミング攻撃のリスクを軽減することを目的としています。
            例えば、ユーザーがiframe内でサードパーティ支払いサービスを使ってゲーム内購入を行うときなどです。
        </p>
        <h4 class="heading settled" data-level="4.2.4" id="visibility-state"><span class="secno">4.2.4. </span><span
                class="content">可視状態</span><a class="self-link" href="#visibility-state"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⓪">センサーの値</a>は、<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                id="ref-for-nav-document①">アクティブなdocument</a>で、その
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                id="ref-for-visibility-state">可視状態</a>が「visible」の場合のみ利用できます。
        </p>
        <h4 class="heading settled" data-level="4.2.5" id="permissions"><span class="secno">4.2.5. </span><span
                class="bs-old-id" id="permissioning"></span><span class="content">Permissions API</span><a
                class="self-link" href="#permissions"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①①">センサーの値</a>へのアクセスは、Permissions
            APIによって制御されます。<a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[PERMISSIONS]</a>。
        </p>
        <h3 class="heading settled" data-level="4.3" id="mitigation-strategies-case-by-case"><span class="secno">4.3.
            </span><span class="content">個別対策</span><a class="self-link" href="#mitigation-strategies-case-by-case"></a>
        </h3>
        <p>各<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type②">センサー種別</a>について、想定ユースケースや脅威プロファイルなどを個別に評価する必要があります。
            下記のリスク軽減策のいくつかは特定センサーに有効ですが、同時に一部ユースケースを阻害したり妨げたりする場合もあります。</p>
        <p class="note" role="note"><span class="marker">注:</span>
            これらのリスク軽減策は、常時または一時的（例：特定操作中・脅威を増大させる他API利用時等）に適用できます。</p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.1"
            data-lt="Limit maximum sampling frequency" data-noexport id="limit-max-frequency"><span class="secno">4.3.1.
            </span><span class="content">最大サンプリング周波数の制限</span><a class="self-link" href="#limit-max-frequency"
                id="ref-for-limit-max-frequency"></a></h4>
        <p>ユーザーエージェントや<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①">拡張仕様</a>は、特定の<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type③">センサー種別</a>に対して<a data-link-type="dfn"
                href="#sensor-type-maximum-sampling-frequency"
                id="ref-for-sensor-type-maximum-sampling-frequency">最大サンプリング周波数</a>を設定することで、脅威の一部を緩和できます。</p>
        <p>上限値は、<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type④">センサー種別</a>や、対処対象の脅威・攻撃者の想定リソースなどに応じて選定する必要があります。</p>
        <p><a data-link-type="dfn" href="#sensor-type-maximum-sampling-frequency"
                id="ref-for-sensor-type-maximum-sampling-frequency①">最大サンプリング周波数</a>の制限は、低遅延や高密度データ取得に依存するユースケースには利用できなくなります。
        </p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.2"
            data-lt="Stop the sensor altogether" data-noexport id="stop-sensor"><span class="secno">4.3.2. </span><span
                class="content">センサーを完全停止する</span><a class="self-link" href="#stop-sensor" id="ref-for-stop-sensor"></a>
        </h4>
        <p>これは明らかに最終手段ですが、特定の時期だけ一時的に実施することで非常に有効な場合もあります。例として、ユーザーが別オリジン（<a data-link-type="biblio"
                href="#biblio-rfc6454"
                title="The Web Origin Concept">[rfc6454]</a>）や別アプリで認証情報を入力するときにパスワードスキミングの防止を目的にする場合などが挙げられます。</p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.3"
            data-lt="Limit number of delivered readings" data-noexport id="limit-number-of-delivered-readings"><span
                class="secno">4.3.3. </span><span class="content">取得データ数の制限</span><a class="self-link"
                href="#limit-number-of-delivered-readings" id="ref-for-limit-number-of-delivered-readings"></a></h4>
        <p><a data-link-type="dfn" href="#limit-max-frequency"
                id="ref-for-limit-max-frequency①">最大サンプリング周波数の制限</a>の代わりに、<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading①②">センサー値</a>の取得回数そのものを制限する方法もあります。
            この場合、<a data-link-type="dfn" href="#sampling-frequency"
                id="ref-for-sampling-frequency">サンプリング頻度</a>が高くても、Webアプリへ提供されるデータ量は抑えられます。</p>
        <p>中間値を間引くことで、特定フィルター処理等に依存する一部ユースケースが成り立たなくなります。</p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.4" data-lt="Reduce accuracy"
            data-noexport id="reduce-accuracy"><span class="secno">4.3.4. </span><span class="content">精度の低減</span><a
                class="self-link" href="#reduce-accuracy" id="ref-for-reduce-accuracy"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①③">センサー値</a>や<a
                data-link-type="dfn" href="#reading-timestamp"
                id="ref-for-reading-timestamp">読み取り時刻</a>の精度を落とすことも、リスク低減に有効です。そのためユーザーエージェントは、不必要に詳細なセンサーデータを公開すべきではありません。
        </p>
        <p>具体的なセンサー実装で<a data-link-type="dfn" href="#threshold-check-algorithm"
                id="ref-for-threshold-check-algorithm">しきい値チェックアルゴリズム</a>を設け、最新値との差が小さい新測定値は破棄する方式も考えられます。</p>
        <p>具体的なセンサー実装では<a data-link-type="dfn" href="#reading-quantization-algorithm"
                id="ref-for-reading-quantization-algorithm">量子化アルゴリズム</a>により、<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤">デバイスセンサー</a>からの<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading①④">センサー値</a>の精度をさらに削減可能です。</p>
        <p class="note" role="note"><span class="marker">注:</span> この両対策は補完的です。<a data-link-type="dfn"
                href="#threshold-check-algorithm"
                id="ref-for-threshold-check-algorithm①">しきい値チェック</a>だけでは値が高精度で露出しすぎる場合があり、逆に丸めのみだと元値が別値に丸まった際に攻撃者はより正確な値を推定できるリスクがあります。
        </p>
        <p class="note" role="note"><span class="marker">注:</span> <a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading①⑤">センサー読み取り</a>値や、その時刻差を用いた追加演算にも不正確さが生じる場合があり、この軽減策が一部ユースケースに影響します。</p>
        <p class="note" role="note"><span class="marker">注:</span> <a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading①⑥">センサー値</a>にランダムなバイアスを加える方法も似た効果がありますが、ノイズ除去が容易なため実際の運用には向きません。</p>
        <h4 class="heading settled" data-level="4.3.5" id="inform-user"><span class="secno">4.3.5. </span><span
                class="content">API利用をユーザーに通知</span><a class="self-link" href="#inform-user"></a>
        </h4>
        <p>ユーザーエージェントは、現在または過去のAPI利用状況をユーザーに通知することを選べます。</p>
        <p class="note" role="note"><span class="marker">注:</span> これは実際の<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading①⑦">センサー値</a>のログ記録を意味しません（別の問題を引き起こす恐れがあります）。</p>
        <h2 class="heading settled" data-level="5" id="concepts"><span class="secno">5. </span><span
                class="content">概念</span><a class="self-link" href="#concepts"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="concepts-sensors"><span class="secno">5.1. </span><span
                class="content">センサー</span><a class="self-link" href="#concepts-sensors"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="concept-device-sensor">デバイスセンサー</dfn>という用語は、デバイスの基礎となる物理センサーインスタンスを指します。</p>
        <p><a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑥">デバイスセンサー</a>は物理量を測定し、環境に関する情報源となる<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="sensor-reading">センサー読み取り値</dfn>を提供します。</p>
        <p>それぞれの<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑧">センサー読み取り値</a>は、<a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑦">デバイスセンサー</a>によって時刻<var>t<sub>n</sub></var>に測定された物理量の値により構成され、その時刻は<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reading-timestamp">読み取りタイムスタンプ</dfn>と呼ばれます。
        </p>
        <p><a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑧">デバイスセンサー</a>が空間的な測定（例えば加速度や角速度など）を行う場合、それは<a class="dfn-paneled"
                data-dfn-type="dfn" data-export id="local-coordinate-system">ローカル座標系</a>上で解決されなければなりません。これは<a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑨">デバイスセンサー</a>の<a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑨">センサー読み取り値</a>の参照座標系を表します。
            このような<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⓪">センサー読み取り値</a>を提供する<a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①⓪">デバイスセンサー</a>は、<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-export id="spatial-sensor">空間センサー</dfn>と呼ばれます。</p>
        <p><a data-link-type="dfn" href="#spatial-sensor"
                id="ref-for-spatial-sensor">空間センサー</a>は、同時に測定可能な直交軸の数に応じて、一次元、二次元、三次元のいずれかとなります。</p>
        <p>スカラー物理量（例：温度）の場合、<a data-link-type="dfn" href="#local-coordinate-system"
                id="ref-for-local-coordinate-system">ローカル座標系</a>での解決は必要ありません。</p>
        <p>モバイルデバイスで通常使われる<a data-link-type="dfn" href="#local-coordinate-system"
                id="ref-for-local-coordinate-system①">ローカル座標系</a>は、デバイスの画面に対してX軸・Y軸が平行、Z軸が画面表面に垂直な直交座標系（デカルト座標系）です。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="concept-platform-sensor">プラットフォームセンサー</dfn>という用語は、ユーザーエージェントが一つまたは複数の<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor①①">デバイスセンサー</a>から
            一つの<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤">センサー種別</a>に由来する<a
                data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading②①">センサー読み取り値</a>を取得するために利用するプラットフォームインターフェースを指します。</p>
        <p><a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor">プラットフォームセンサー</a>は、基盤となるプラットフォーム（例：ネイティブのセンサーフレームワーク）、
            あるいはユーザーエージェントが<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①②">デバイスセンサー</a>に直接アクセスできる場合はユーザーエージェント自身により定義されます。</p>
        <p>実装の観点では、<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①">プラットフォームセンサー</a>を対応する<a data-link-type="dfn"
                href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①③">デバイスセンサー</a>へのソフトウェアプロキシとして扱うことができます。基盤となるプラットフォームがサポートしていれば、同じ<a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①④">デバイスセンサー</a>と同時にやりとりする複数の<a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②">プラットフォームセンサー</a>が存在する場合もあります。</p>
        <p>単純なケースでは、<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor③">プラットフォームセンサー</a>が一つの<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑤">デバイスセンサー</a>に対応しますが、
            <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②②">センサー読み取り値</a>がソフトウェア上で行われる<a
                data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion">センサーフュージョン</a>の結果である場合、<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④">プラットフォームセンサー</a>は<a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion①">センサーフュージョン</a>に関与する複数の<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①⑥">デバイスセンサー</a>の集合となります。
        </p>
        <p><a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading②③">センサー読み取り値</a>と実際に測定されている物理量との間の差異は、製造時に行われる<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport
                id="calibration">キャリブレーション</dfn>によって補正されます。センサーによっては、未知の誤差を補うために動的キャリブレーションが必要な場合もあります。</p>
        <p class="note" role="note"><span class="marker">注記:</span> <a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤">プラットフォームセンサー</a>は
            <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion②">センサーフュージョン</a>によって生成される場合、
            仮想センサーや合成センサー（synthetic sensor）と呼ばれることがあります。しかし、本仕様ではこれらの間に実質的な違いは設けていません。
        </p>
        <h3 class="heading settled" data-level="5.2" id="concepts-sensor-types"><span class="secno">5.2. </span><span
                class="content">センサー種別</span><a class="self-link" href="#concepts-sensor-types"></a></h3>
        <p>異なる<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type⑥">センサータイプ</a>は、温度、気圧、心拍数、明るさなど、異なる物理量を測定します。</p>
        <p>本仕様書では、<a data-link-type="dfn" href="#high-level" id="ref-for-high-level①">高レベル</a>と<a data-link-type="dfn"
                href="#low-level" id="ref-for-low-level①">低レベル</a>の<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type⑦">センサータイプ</a>を区別します。
        </p>
        <p><a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑧">センサータイプ</a>のうち、実装方法によって特徴付けられるものは<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="low-level">低レベル</dfn>センサーと呼ばれます。
            例えば、ジャイロスコープは<a data-link-type="dfn" href="#low-level" id="ref-for-low-level②">低レベル</a><a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑨">センサータイプ</a>です。
        </p>
        <p>実装にかかわらず、その<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading②④">読み値</a>にちなんで名付けられたセンサーは
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="high-level">高レベル</dfn>センサーと呼ばれます。
            例えば、ジオロケーションセンサーはユーザーの位置情報を提供しますが、このデータがどのように取得されたかは意図的に非公開です
            （GPSチップ、ネットワークセルの三角測量、Wi-Fiネットワークなど、またはそれらを組み合わせて取得する場合があります）。
            取得方法は実装固有のさまざまなヒューリスティックに依存します。
            <a data-link-type="dfn" href="#high-level" id="ref-for-high-level②">高レベル</a>センサーは一般的には
            <a data-link-type="dfn" href="#low-level" id="ref-for-low-level③">低レベル</a>センサーにアルゴリズムを適用することで得られるものです。
            例えば、歩数計はジャイロスコープだけの出力で構築できます。また、<a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion③">センサーフュージョン</a>によるものもあります。
        </p>
        <p>
            ただし、<a data-link-type="dfn" href="#high-level" id="ref-for-high-level③">高レベル</a>と<a data-link-type="dfn"
                href="#low-level" id="ref-for-low-level④">低レベル</a><a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①⓪">センサータイプ</a>の区分はやや恣意的であり、しばしば曖昧です。
            例えば、気圧を測定するバロメーターは、ほとんどの場合<a data-link-type="dfn" href="#low-level"
                id="ref-for-low-level⑤">低レベル</a>と考えられますが、抵抗式圧電センサーと温度センサーの<a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion④">センサーフュージョン</a>の成果物でもあります。
            構成要素のセンサーを公開しても実用的な意味はありません。誰が圧電センサーの温度を気にするでしょうか？
            気圧高度計も同じカテゴリになるでしょう。一方で、バロメーターやGPS信号どちらからでもデータ取得可能な漠然とした高度計は、明らかに<a data-link-type="dfn" href="#high-level"
                id="ref-for-high-level④">高レベル</a><a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①①">センサータイプ</a>と分類されます。
        </p>
        <p>
            この区別が曖昧なため、仕様の拡張（<a href="#extensibility">§ 10 拡張性</a>参照）では、対象とする<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①②">センサータイプ</a>に対して
            <a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑤">高レベル</a>および<a data-link-type="dfn"
                href="#low-level" id="ref-for-low-level⑥">低レベル</a>センサーの分野固有の定義を行うことが推奨されています。
        </p>
        <p>
            異なる<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①③">センサータイプ</a>からの<a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑤">センサーの値</a>は
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="sensor-fusion">センサーフュージョン</dfn>というプロセスで組み合わせることができます。
            このプロセスにより、<a data-link-type="dfn" href="#high-level"
                id="ref-for-high-level⑥">より高レベル</a>、あるいはより高精度なデータ（多くの場合、レイテンシは増加します）が提供されます。
            例えば、三軸磁力計の<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑥">値</a>を、加速度計の<a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑦">値</a>と組み合わせることで正しい方位が得られます。
        </p>
        <p>スマートセンサーやセンサーハブは内蔵計算資源を持ち、<a data-link-type="dfn" href="#calibration"
                id="ref-for-calibration">キャリブレーション</a>や<a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion⑤">センサーフュージョン</a>をハードウェアレベルで実行し、
            CPUリソースを解放しつつ、バッテリー消費の削減も可能です。</p>
        <p>
            <a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion⑥">センサーフュージョン</a>は、ハードウェアレベルで実行できない場合や、アプリケーション固有の
            <a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion⑦">フュージョン</a>アルゴリズムが必要な場合はソフトウェアで実施することもできます。
        </p>
        <h3 class="heading settled" data-level="5.3" id="concepts-default-sensor"><span class="secno">5.3. </span><span
                class="content">デフォルトセンサー</span><a class="self-link" href="#concepts-default-sensor"></a></h3>
        <p>Generic Sensor APIは、最も一般的なユースケースを簡単に扱えることを目指しつつ、高度なユースケースにも対応できるよう設計されています。</p>
        <p>現在一般的な端末には、同じ<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①④">種別</a>の<a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①⑦">デバイスセンサー</a>を複数搭載していることは稀です。複数の同種<a data-link-type="dfn"
                href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①⑧">デバイスセンサー</a>が必要なユースケースは特殊用途に限られ、例えば一部2-in-1ノートPCのような<a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑤">センサー種別</a>の場合に限られます。</p>
        <p>APIはそのため、対応する<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①">Sensor</a></code>サブクラスをインスタンス化するだけで、
            各<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑥">種別</a>ごとのデバイスのデフォルト（しばしば唯一）の<a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑨">センサー</a>と
            シンプルにやりとりできるようになっています。</p>
        <p>特定の<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑦">種別</a>をもつ<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor②⓪">センサー</a>を特定する追加情報が与えられていない場合、
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="default-sensor">デフォルトセンサー</dfn>はユーザーエージェントによって選択されます。
        </p>
        <p>基盤となるプラットフォームが<a data-link-type="dfn" href="#default-sensor"
                id="ref-for-default-sensor">デフォルトセンサー</a>の取得インターフェースを持つ場合は、ユーザーエージェントはそのプラットフォームのセンサーを選択します。
            そうでない場合はユーザーエージェント自身がデバイス上に存在する<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②①">センサー</a>の
            うちどれを<a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor①">デフォルトセンサー</a>とするかを定義します。
        </p>
        <div class="example" id="example-6532f9b9">
            <a class="self-link" href="#example-6532f9b9"></a> デフォルト加速度センサーの値をリッスンする例：
            <pre class="highlight"><c- a>let</c-> sensor <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c-> frequency<c- o>:</c-> <c- mf>30</c-> <c- p>});</c->

sensor<c- p>.</c->onreading <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
sensor<c- p>.</c->start<c- p>();</c->
</pre>
        </div>
        <p class="note" role="note"><span class="marker">注:</span> 特定のセンサー種別については、拡張仕様が<a data-link-type="dfn"
                href="#default-sensor" id="ref-for-default-sensor②">デフォルトセンサー</a>を定義しない場合があります。例えばジオロケーションの<a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②②">センサー</a>では実装が複数のバックエンドを用いることがあり、デフォルトを明示する意味がありません。</p>
        <p>同じ<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑨">種別</a>に対応する<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor②③">デバイスセンサー</a>が複数存在しうるケースでは、
            拡張仕様側が識別方法を定義する必要があります。</p>
        <div class="example" id="example-a71cf25b">
            <a class="self-link" href="#example-a71cf25b"></a> 例：左後輪タイヤの圧力を確認する場合
            <pre class="highlight"><c- a>var</c-> sensor <c- o>=</c-> <c- ow>new</c-> DirectTirePressureSensor<c- p>({</c-> position<c- o>:</c-> <c- u>"rear"</c-><c- p>,</c-> side<c- o>:</c-> <c- u>"left"</c-> <c- p>});</c->
sensor<c- p>.</c->onreading <c- o>=</c-> _ <c- p>=></c-> console<c- p>.</c->log<c- p>(</c->sensor<c- p>.</c->pressure<c- p>);</c->
sensor<c- p>.</c->start<c- p>();</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.4" id="concepts-sampling-and-reporting-frequencies"><span
                class="secno">5.4. </span><span class="content">サンプリング周波数とレポート周波数</span><a class="self-link"
                href="#concepts-sampling-and-reporting-frequencies"></a></h3>
        <p>本仕様の目的で、<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑥">プラットフォームセンサー</a>の<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="sampling-frequency">サンプリング周波数</dfn>は、基礎となる<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor②④">デバイスセンサー</a>から<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading②⑨">センサー読み取り値</a>を取得する頻度として定義されます。その取得方法は<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-defined">実装依存</a>です。</p>
        <p><a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑧">プラットフォームセンサー</a>の<a data-link-type="dfn"
                href="#sampling-frequency" id="ref-for-sampling-frequency②">サンプリング周波数</a>は、<a data-link-type="dfn"
                href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②⑤">デバイスセンサー</a>の実際のサンプリングレートとは一致しない場合があり、その実際の間隔は本仕様では不透明です。</p>
        <p class="note" role="note"><span class="marker">注:</span>
            システムレベルAPIやセンサーのハードウェアインターフェースは、ポーリング型やイベント型のどちらの場合もあります。ポーリングベースの<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑥">デバイスセンサー</a>では、<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑨">プラットフォームセンサー</a>の<a data-link-type="dfn"
                href="#sampling-frequency"
                id="ref-for-sampling-frequency③">サンプリング周波数</a>は新しい読み取り値取得の頻度です。イベントベースの場合は、システムやハードウェアにリクエストした頻度またはそれ以下でイベントが発生します（値が変わらない場合は発生しないこともあります）。
        </p>
        <p><a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑧">デバイスセンサー</a>は<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①①">プラットフォームセンサー</a>から受け入れ可能なサンプリング周波数の範囲として、<dfn class="dfn-paneled"
                data-dfn-for="device sensor" data-dfn-type="dfn" data-noexport
                id="device-sensor-minimum-sampling-frequency">最小サンプリング周波数</dfn>および<dfn class="dfn-paneled"
                data-dfn-for="device sensor" data-dfn-type="dfn" data-noexport
                id="device-sensor-maximum-sampling-frequency">最大サンプリング周波数</dfn>を提供することがあります。<a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①②">プラットフォームセンサー</a>の
            <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency④">サンプリング周波数</a>は、<a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑨">デバイスセンサー</a>の<a
                data-link-type="dfn" href="#device-sensor-minimum-sampling-frequency"
                id="ref-for-device-sensor-minimum-sampling-frequency">最小サンプリング周波数</a>未満または<a data-link-type="dfn"
                href="#device-sensor-maximum-sampling-frequency"
                id="ref-for-device-sensor-maximum-sampling-frequency">最大サンプリング周波数</a>超過としてはなりません。
        </p>
        <p><a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①③">プラットフォームセンサー</a>の<a data-link-type="dfn"
                href="#sampling-frequency" id="ref-for-sampling-frequency⑤">サンプリング周波数</a>は、
            関連付けられた<a data-link-type="dfn" href="#activated-sensor-objects"
                id="ref-for-activated-sensor-objects">アクティブ化済みセンサーオブジェクト</a>集合のアイテムの<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot">[[frequency]]</a></code>から
            算出されます。計算方法は<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-defined①">実装依存</a>ですが、<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①④">プラットフォームセンサー</a>の<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type②⓪">センサー種別</a>で定義された<a data-link-type="dfn"
                href="#sensor-type-minimum-sampling-frequency"
                id="ref-for-sensor-type-minimum-sampling-frequency">最小</a>/<a data-link-type="dfn"
                href="#sensor-type-maximum-sampling-frequency"
                id="ref-for-sensor-type-maximum-sampling-frequency②">最大</a>サンプリング周波数、
            および<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor③⓪">デバイスセンサー</a>の<a data-link-type="dfn"
                href="#device-sensor-minimum-sampling-frequency"
                id="ref-for-device-sensor-minimum-sampling-frequency①">最小</a>・<a data-link-type="dfn"
                href="#device-sensor-maximum-sampling-frequency"
                id="ref-for-device-sensor-maximum-sampling-frequency①">最大</a>サンプリング周波数の範囲内でなければなりません。</p>
        <p class="note" role="note"><span class="marker">注:</span> 例えば、ユーザーエージェントは与えられた<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①">[[frequency]]</a></code>集合の最小公倍数（LCD）としてサンプリング周波数を推定し、それを基盤プラットフォームが定める上限で打ち切るなどできます。
        </p>
        <p>特定の<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②">Sensor</a></code>オブジェクトにおける<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reporting-frequency">レポート周波数</dfn>とは、
            このオブジェクト上で"reading"イベントが<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                id="ref-for-concept-event-fire">発火</a>する頻度として定義されます。</p>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③">Sensor</a></code>オブジェクトは、
            ユーザーエージェントが基盤プラットフォームから取得する頻度以上で新しい<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading③②">測定値</a>にアクセスできないため、
            <a data-link-type="dfn" href="#reporting-frequency" id="ref-for-reporting-frequency">レポート周波数</a>は
            <a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①⑤">プラットフォームセンサー</a>の<a data-link-type="dfn"
                href="#sampling-frequency" id="ref-for-sampling-frequency⑧">サンプリング周波数</a>を超えることはなく、
            それもまた（指定されていれば）<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor③①">デバイスセンサー</a>の<a data-link-type="dfn"
                href="#device-sensor-maximum-sampling-frequency"
                id="ref-for-device-sensor-maximum-sampling-frequency②">最大サンプリング周波数</a>を超えることはありません。
        </p>
        <p><a data-link-type="dfn" href="#reporting-frequency"
                id="ref-for-reporting-frequency①">レポート周波数</a>は、以下のような場合に<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④">Sensor</a></code>の<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot②">[[frequency]]</a></code>と異なることがあります：
        </p>
        <ul>
            <li data-md>
                <p>リクエストされた<code
                        class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot③">[[frequency]]</a></code>が、<code
                        class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤">Sensor</a></code>に紐付く<a
                        data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor①⑥">プラットフォームセンサー</a>について<a data-link-type="dfn"
                        href="#get-a-platform-sensors-sampling-bounds"
                        id="ref-for-get-a-platform-sensors-sampling-bounds">サンプリング範囲取得</a>で返された境界値外である場合。</p>
            <li data-md>
                <p>OSや<a data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor③②">デバイスセンサー</a>が、前回報告値と十分に異ならない測定値をハードウェア・OSフィルターによって自動的に破棄した場合。
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑥">Sensor</a></code>インスタンスに紐付く<a
                        data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②①">センサー種別</a>の<a
                        data-link-type="dfn" href="#threshold-check-algorithm"
                        id="ref-for-threshold-check-algorithm②">しきい値チェックアルゴリズム</a>が失敗し、<a data-link-type="dfn"
                        href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑦">プラットフォームセンサー</a>の<a
                        data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①">最新値</a>が更新されなかった場合。</p>
        </ul>
        <h3 class="heading settled" data-level="5.5" id="concepts-can-expose-sensor-readings"><span class="secno">5.5.
            </span><span class="content">センサー読み取り値を公開する条件</span><a class="self-link"
                href="#concepts-can-expose-sensor-readings"></a></h3>
        <p>ユーザーエージェントは、すべての次の条件が満たされた場合にのみ、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="can-expose-sensor-readings">センサーの値を公開できる</dfn> <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>
            <var>document</var> に対してセンサーの値を公開できます。
        </p>
        <ul>
            <li data-md>
                <p><var>document</var> の <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-relevant-settings-object">関連設定オブジェクト</a> が <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                        id="ref-for-secure-context①"> セキュアコンテキスト </a>である。</p>
            <li data-md>
                <p><var>document</var> の <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                        id="ref-for-visibility-state①">表示状態</a> が「visible」である。</p>
            <li data-md>
                <p><var>document</var> に対する <a data-link-type="dfn" href="#focus-and-origin-check"
                        id="ref-for-focus-and-origin-check①">フォーカスとオリジンのチェック</a> が true を返す。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="specific-conditions">特定の条件</dfn>：<a
                        data-link-type="dfn" href="#extension-specification"
                        id="ref-for-extension-specification②">拡張仕様</a>は、このリストに新しい条件を追加して、対象センサータイプに対する要件を厳しくすることができます。
                </p>
        </ul>
        <p class="note" role="note"><span class="marker">注:</span> 上記の条件に加えて、<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑦">Sensor</a></code>
            のサブクラスはそのコンストラクターで <a data-link-type="dfn" href="#check-sensor-policy-controlled-features"
                id="ref-for-check-sensor-policy-controlled-features">センサーのポリシー制御機能のチェック</a>
            操作を呼び出し、<a href="#sensor-start">§ 7.1.7 Sensor.start()</a> は <a data-link-type="dfn"
                href="#request-sensor-access" id="ref-for-request-sensor-access">センサーアクセスのリクエスト</a>
            を呼び出します。これらのチェックはまとめて <a href="#mitigation-strategies">§ 4.2 緩和策</a> で説明されている対策に対応しています。</p>
        <p class="note" role="note"><span class="marker">注:</span> ハードウェアリソースを解放するために、ユーザーエージェントは、基盤となる<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①⑧">プラットフォームセンサー</a>に対して、新しい値が利用可能になった通知を中断するよう要求することができます。その通知は、<a
                data-link-type="dfn" href="#can-expose-sensor-readings"
                id="ref-for-can-expose-sensor-readings">センサーの値を公開できる</a>場合に再開されます。
        </p>
        <h2 class="heading settled" data-level="6" id="model"><span class="secno">6. </span><span
                class="content">モデル</span><a class="self-link" href="#model"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="model-sensor-type"><span class="secno">6.1. </span><span
                class="content">センサータイプ</span><a class="self-link" href="#model-sensor-type"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="sensor-type">センサータイプ</dfn>は以下の関連データを持たなければなりません:</p>
        <ul>
            <li data-md>
                <p>1つ以上の<a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface">拡張センサーインターフェース</a>。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                        id="ref-for-list-is-empty">空でない</a>、関連する<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">順序付き集合</a>の
                    <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name"
                        id="ref-for-dfn-name">強力な機能名</a>を持つ。
                    これは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="sensor-permission-names">センサー許可名</dfn>と呼ばれます。
                </p>
                <p class="note" role="note"><span class="marker">注意:</span> 複数の<a data-link-type="dfn"
                        href="#sensor-type" id="ref-for-sensor-type②②">センサータイプ</a>が同じ<a data-link-type="dfn"
                        href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name①">名前</a>を共有することがあります。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                        id="ref-for-list-is-empty①">空でない</a>、関連する<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">順序付き集合</a>の
                    <a data-link-type="dfn"
                        href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                        id="ref-for-policy-controlled-feature①">ポリシー制御機能</a>トークンを持つ。
                    これは<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="sensor-feature-names">センサー機能名</dfn>と呼ばれます。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm"
                        id="ref-for-dfn-permission-revocation-algorithm">許可取り消しアルゴリズム</a>。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="sensor type" data-dfn-type="dfn" data-export
                        id="sensor-type-minimum-sampling-frequency">最小サンプリング周波数</dfn>。正の数値。これは<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-implementation-defined②">実装依存</a>か<a data-link-type="dfn"
                        href="#extension-specification"
                        id="ref-for-extension-specification③">拡張仕様</a>で定義される。両方が設定されている場合は、より大きい値が使用されます。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="sensor type" data-dfn-type="dfn" data-export
                        id="sensor-type-maximum-sampling-frequency">最大サンプリング周波数</dfn>。正の数値。これは<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-implementation-defined③">実装依存</a>か<a data-link-type="dfn"
                        href="#extension-specification"
                        id="ref-for-extension-specification④">拡張仕様</a>で定義される。両方が設定されている場合は、より小さい値が使用されます。</p>
        </ul>
        <p><a data-link-type="dfn" href="#sensor-type-minimum-sampling-frequency"
                id="ref-for-sensor-type-minimum-sampling-frequency①">最小サンプリング周波数</a>は<a data-link-type="dfn"
                href="#sensor-type-maximum-sampling-frequency"
                id="ref-for-sensor-type-maximum-sampling-frequency③">最大サンプリング周波数</a>より大きくなってはいけません。</p>
        <p><a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②③">センサータイプ</a>は次の関連データを持つ場合があります:</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor③">デフォルトセンサー</a>。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="threshold-check-algorithm">しきい値チェックアルゴリズム</dfn>。これは2つの異なる<a data-link-type="dfn"
                        href="#sensor-reading" id="ref-for-sensor-reading③③">センサーデータ</a>を引数にとり、それらが十分異なれば<a
                        data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor①⑨">プラットフォームセンサー</a>の<a data-link-type="dfn"
                        href="#latest-reading" id="ref-for-latest-reading②">最新データ</a>のmapを更新するかどうかを判断する。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="reading-quantization-algorithm">データ量子化アルゴリズム</dfn>。これは<a data-link-type="dfn"
                        href="#sensor-reading" id="ref-for-sensor-reading③④">センサーデータ</a>を受け取り、より精度の低い<a
                        data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑤">センサーデータ</a>を返す。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type">仮想センサータイプ</a>。
                </p>
        </ul>
        <h3 class="heading settled" data-level="6.2" id="model-sensor"><span class="secno">6.2. </span><span
                class="content">センサー</span><a class="self-link" href="#model-sensor"></a></h3>
        <p>現在の<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                id="ref-for-browsing-context">ブラウジングコンテキスト</a>の<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②⓪">プラットフォームセンサー</a>は以下を持つ必要があります:
        </p>
        <ul>
            <li data-md>
                <p>関連付けられた<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                        id="ref-for-ordered-set③">集合</a>である<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="activated-sensor-objects">有効化されたセンサーオブジェクト</dfn>（初期値は<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">空</a>です）;</p>
            <li data-md>
                <p>関連付けられた<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="latest-reading">最新データ</dfn>の<a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                        id="ref-for-ordered-map">マップ</a>。これは利用可能な最新の<a data-link-type="dfn" href="#sensor-reading"
                        id="ref-for-sensor-reading③⑥">センサーデータ</a>を保持します。</p>
            <li data-md>
                <p>関連付けられた<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②④">センサータイプ</a>。</p>
        </ul>
        <p>新しい<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑦">センサーデータ</a>が<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②①">プラットフォームセンサー</a>で取得され、かつユーザーエージェントが現在の<a data-link-type="dfn"
                href="#can-expose-sensor-readings"
                id="ref-for-can-expose-sensor-readings①">センサーデータを公開できる</a>場合、ユーザーエージェントは<a data-link-type="dfn"
                href="#update-latest-reading" id="ref-for-update-latest-reading">最新データの更新</a>を<a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②②">プラットフォームセンサー</a>およびその<a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑧">センサーデータ</a>を引数として行います。</p>
        <p><a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading③">最新データ</a>の<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">マップ</a>は、キーが"timestamp"で、<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value">値</a>は<a
                data-link-type="dfn" href="#reading-timestamp"
                id="ref-for-reading-timestamp②">データのタイムスタンプ</a>をミリ秒単位・高分解能で推定した値（<a data-link-type="dfn"
                href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"
                id="ref-for-monotonic-clock-unsafe-current-time">unsafe current time</a>）です。</p>
        <p><a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading④">latest
                reading</a>["timestamp"]は初期状態ではnullですが、
            <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑤">最新データ</a> <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                id="ref-for-ordered-map②">マップ</a>が以前の<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading③⑨">データ</a>をキャッシュしている場合はその値になります。
        </p>
        <p>その他の<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry"
                id="ref-for-map-entry①">エントリ</a>は、<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②③">プラットフォームセンサー</a>によって測定された異なる量の値を格納します。
            これらの<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry"
                id="ref-for-map-entry②">エントリ</a>の<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">キー</a>は、<a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑤">センサータイプ</a>に関連付けられた<a
                data-link-type="dfn" href="#extension-sensor-interface"
                id="ref-for-extension-sensor-interface①">拡張センサーインターフェース</a>で定義される<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute">属性</a>の<a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier"
                id="ref-for-dfn-identifier">識別子</a>と一致していなければなりません。
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute"
                id="ref-for-dfn-attribute①">属性</a>ゲッターの戻り値は、実装している<a data-link-type="dfn"
                href="#extension-sensor-interface" id="ref-for-extension-sensor-interface②">拡張センサーインターフェース</a>オブジェクトと<a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute"
                id="ref-for-dfn-attribute②">属性</a>の<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-identifier" id="ref-for-dfn-identifier①">識別子</a>を引数として<a
                data-link-type="dfn" href="#get-value-from-latest-reading"
                id="ref-for-get-value-from-latest-reading">最新データから値を取得</a>することで得られます。
        </p>
        <p>すべての<a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑦">最新データ</a>の<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry③">エントリ</a>の<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value"
                id="ref-for-map-value①">値</a>は初期状態でnullです。</p>
        <div class="algorithm" data-algorithm="get a platform sensor’s sampling bounds">
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="get-a-platform-sensors-sampling-bounds">プラットフォームセンサーのサンプリング範囲を得る</dfn>には、<a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②④">platform sensor</a>
            <var>platformSensor</var>が与えられたとき:
            <ol>
                <li data-md>
                    <p><var>minimumFrequency</var>を<var>platformSensor</var>の<a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type②⑥">センサータイプ</a>の<a data-link-type="dfn"
                            href="#sensor-type-minimum-sampling-frequency"
                            id="ref-for-sensor-type-minimum-sampling-frequency②">最小サンプリング周波数</a>とする。</p>
                <li data-md>
                    <p>もし<var>platformSensor</var>に接続された<a data-link-type="dfn" href="#concept-device-sensor"
                            id="ref-for-concept-device-sensor③③">デバイスセンサー</a>に<a data-link-type="dfn"
                            href="#device-sensor-minimum-sampling-frequency"
                            id="ref-for-device-sensor-minimum-sampling-frequency②">最小サンプリング周波数</a>があれば、<var>minimumFrequency</var>とその値のうち最大のものを<var>minimumFrequency</var>とする。
                    </p>
                <li data-md>
                    <p><var>maximumFrequency</var>を<var>platformSensor</var>の<a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type②⑦">センサータイプ</a>の<a data-link-type="dfn"
                            href="#sensor-type-maximum-sampling-frequency"
                            id="ref-for-sensor-type-maximum-sampling-frequency④">最大サンプリング周波数</a>とする。</p>
                <li data-md>
                    <p>もし<var>platformSensor</var>に接続された<a data-link-type="dfn" href="#concept-device-sensor"
                            id="ref-for-concept-device-sensor③④">デバイスセンサー</a>に<a data-link-type="dfn"
                            href="#device-sensor-maximum-sampling-frequency"
                            id="ref-for-device-sensor-maximum-sampling-frequency③">最大サンプリング周波数</a>があれば、<var>maximumFrequency</var>とその値のうち最小のものを<var>maximumFrequency</var>とする。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">タプル</a>
                        (<var>minimumFrequency</var>, <var>maximumFrequency</var>) を返す。</p>
            </ol>
        </div>
        <div class="example" id="example-ab60b725">
            <a class="self-link" href="#example-ab60b725"></a>
            <p>この例は、上記で説明された<a href="#model">モデル</a>の実装例の一つを示します。</p>
            <p>下図では、2つの異なる<a data-link-type="dfn" href="#activated-sensor-objects"
                    id="ref-for-activated-sensor-objects①">有効化された</a><code
                    class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑧">Sensor</a></code>オブジェクトが、それぞれの<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                    id="ref-for-browsing-context①">ブラウジングコンテキスト</a>から1つの<a data-link-type="dfn"
                    href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑤">デバイスセンサー</a>とやり取りしています。</p>
            <p><img alt="Generic Sensor Model" src="images/generic_sensor_model.png"
                    srcset="https://www.w3.org/TR/generic-sensor/images/generic_sensor_model.svg"></p>
            <p>"idle"<a href="#sensor-lifecycle">状態</a>の<code
                    class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑨">Sensor</a></code>オブジェクトは、<a
                    data-link-type="dfn" href="#concept-platform-sensor"
                    id="ref-for-concept-platform-sensor②⑤">プラットフォームセンサー</a>の<a data-link-type="dfn"
                    href="#activated-sensor-objects"
                    id="ref-for-activated-sensor-objects②">有効化されたセンサーオブジェクト</a>には含まれないため、<a data-link-type="dfn"
                    href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑥">デバイスセンサー</a>とやり取りしません。</p>
            <p>この例では、<a data-link-type="dfn" href="#concept-platform-sensor"
                    id="ref-for-concept-platform-sensor②⑥">プラットフォームセンサー</a>のインスタンスは<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                    id="ref-for-browsing-context②">ブラウジングコンテキスト</a>ごとに1つ存在します。</p>
            <p><a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑧">最新データ</a>の<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                    id="ref-for-ordered-map④">マップ</a>は、同じ<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                    id="ref-for-browsing-context③">コンテキスト</a>上の<code
                    class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⓪">Sensor</a></code>オブジェクト間で共有され、
                対応する<a data-link-type="dfn" href="#concept-platform-sensor"
                    id="ref-for-concept-platform-sensor②⑦">プラットフォームセンサー</a>の要求された<a data-link-type="dfn"
                    href="#sampling-frequency" id="ref-for-sampling-frequency⑨">サンプリング周波数</a>と同じ頻度で更新されます。</p>
        </div>
        <h2 class="heading settled" data-level="7" id="api"><span class="secno">7. </span><span
                class="content">API</span><a class="self-link" href="#api"></a></h2>
        <h3 class="heading settled" data-level="7.1" id="the-sensor-interface"><span class="secno">7.1. </span><span
                class="content">センサーインターフェース</span><a class="self-link" href="#the-sensor-interface"></a></h3>
        <pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sensor"><code><c- g>Sensor</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-sensor-activated"><code><c- g>activated</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-sensor-hasreading"><code><c- g>hasReading</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="DOMHighResTimeStamp?" id="dom-sensor-timestamp"><code><c- g>timestamp</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="method" data-export data-lt="start()" id="dom-sensor-start"><code><c- g>start</c-></code></dfn>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="method" data-export data-lt="stop()" id="dom-sensor-stop"><code><c- g>stop</c-></code></dfn>();
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onreading"><code><c- g>onreading</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onactivate"><code><c- g>onactivate</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onerror"><code><c- g>onerror</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sensoroptions"><code><c- g>SensorOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorOptions" data-dfn-type="dict-member" data-export data-type="double" id="dom-sensoroptions-frequency"><code><c- g>frequency</c-></code></dfn>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①①">Sensor</a></code>オブジェクトは関連付けられた<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②⑧">プラットフォームセンサー</a>を持ちます。</p>
        <p>具象的な<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①②">Sensor</a></code>オブジェクトもまた、関連付けられた<a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑧">センサータイプ</a>を持ちます。これは、その<a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑨">センサータイプ</a>に<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-interface" id="ref-for-dfn-interface">インターフェース</a>があり、
            <a data-link-type="dfn" href="#extension-sensor-interface"
                id="ref-for-extension-sensor-interface③">拡張センサーインターフェース</a>のいずれかと一致します。
        </p>
        <p>本仕様で述べられる<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source">タスクソース</a>は、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="sensor-task-source">センサータスクソース</dfn>です。</p>
        <div class="example" id="example-ee3a76c6">
            <a class="self-link" href="#example-ee3a76c6"></a> 次の例では、まずユーザーエージェントが<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading④⓪">センサーデータ</a>へアクセスする権限を持つかを確認し、その後加速度センサーを作成し、<a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener"
                id="ref-for-concept-event-listener">イベントリスナー</a>を追加して<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-event"
                id="ref-for-concept-event">イベント</a>（プラットフォームセンサーの有効化・エラー・新しいセンサーデータの通知）を取得します。
            この例では<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor③⓪">プラットフォームセンサー</a>をホストしているデバイスの加速度の最大合成値を測定して記録します。
            <p>対応する<a href="#the-sensor-interface">センサーインターフェース</a>の<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-event-handlers">イベントハンドラー</a>属性に対する<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-event-handler-event-type">イベントハンドラーイベントタイプ</a>は、<a href="#event-handlers">Event
                    handlers</a>のセクションで定義されています。</p>
            <pre class="highlight">navigator<c- p>.</c->permissions<c- p>.</c->query<c- p>({</c-> name<c- o>:</c-> <c- t>'accelerometer'</c-> <c- p>}).</c->then<c- p>(</c->result <c- p>=></c-> <c- p>{</c->
    <c- k>if</c-> <c- p>(</c->result<c- p>.</c->state <c- o>===</c-> <c- t>'denied'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Permission to use accelerometer sensor is denied.'</c-><c- p>);</c->
        <c- k>return</c-><c- p>;</c->
    <c- p>}</c->

    <c- a>let</c-> acl <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c->frequency<c- o>:</c-> <c- mf>30</c-><c- p>});</c->
    <c- a>let</c-> max_magnitude <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'activate'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- t>'Ready to measure.'</c-><c- p>));</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'error'</c-><c- p>,</c-> error <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- sb>`Error: </c-><c- si>${</c->error<c- p>.</c->name<c- si>}</c-><c- sb>`</c-><c- p>));</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'reading'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
        <c- a>let</c-> magnitude <c- o>=</c-> Math<c- p>.</c->hypot<c- p>(</c->acl<c- p>.</c->x<c- p>,</c-> acl<c- p>.</c->y<c- p>,</c-> acl<c- p>.</c->z<c- p>);</c->
        <c- k>if</c-> <c- p>(</c->magnitude <c- o>></c-> max_magnitude<c- p>)</c-> <c- p>{</c->
            max_magnitude <c- o>=</c-> magnitude<c- p>;</c->
            console<c- p>.</c->log<c- p>(</c-><c- sb>`Max magnitude: </c-><c- si>${</c->max_magnitude<c- si>}</c-><c- sb> m/s2`</c-><c- p>);</c->
        <c- p>}</c->
    <c- p>});</c->
    acl<c- p>.</c->start<c- p>();</c->
<c- p>});</c->
</pre>
        </div>
        <h4 class="heading settled" data-level="7.1.1" id="sensor-lifecycle"><span class="secno">7.1.1. </span><span
                class="content">センサーのライフサイクル</span><a class="self-link" href="#sensor-lifecycle"></a></h4>
        <svg height="79pt" viewBox="0.00 0.00 351.00 78.51" width="351pt" xmlns="http://www.w3.org/2000/svg">
            <g class="graph" transform="scale(1 1) rotate(0) translate(4 74.5122)">
                <title>Sensor lifecycle</title>
                <g class="node">
                    <title>idle</title>
                    <path
                        d="M96.997,-64C96.997,-64 66.997,-64 66.997,-64 60.997,-64 54.997,-58 54.997,-52 54.997,-52 54.997,-36 54.997,-36 54.997,-30 60.997,-24 66.997,-24 66.997,-24 96.997,-24 96.997,-24 102.997,-24 108.997,-30 108.997,-36 108.997,-36 108.997,-52 108.997,-52 108.997,-58 102.997,-64 96.997,-64"
                        fill="white" stroke="black"></path>
                    <text text-anchor="middle" transform="translate(0,-2)" x="81.997" y="-41.2">idle</text>
                </g>
                <g class="node">
                    <title>activating</title>
                    <path
                        d="M214.997,-64C214.997,-64 156.997,-64 156.997,-64 150.997,-64 144.997,-58 144.997,-52 144.997,-52 144.997,-36 144.997,-36 144.997,-30 150.997,-24 156.997,-24 156.997,-24 214.997,-24 214.997,-24 220.997,-24 226.997,-30 226.997,-36 226.997,-36 226.997,-52 226.997,-52 226.997,-58 220.997,-64 214.997,-64"
                        fill="white" stroke="black"></path>
                    <text text-anchor="middle" transform="translate(0,-2)" x="185.997" y="-41.2">activating</text>
                </g>
                <g class="edge">
                    <title>idle->activating</title>
                    <path d="M109,-38.0296C116.891,-37.4946 125.842,-37.2349 134.762,-37.2507" fill="none"
                        stroke="black"></path>
                    <polygon fill="black"
                        points="144.762,-37.3855 134.702,-41.7502 139.762,-37.318 134.763,-37.2506 134.763,-37.2506 134.763,-37.2506 139.762,-37.318 134.823,-32.751 144.762,-37.3855 144.762,-37.3855"
                        stroke="black"></polygon>
                    <text text-anchor="middle" transform="translate(0,-4)" x="133.576" y="-20.9121">start()</text>
                    <text text-anchor="middle" transform="translate(0,-4)" x="133.576" y="-20.9121">start()</text>
                </g>
                <g class="edge">
                    <title>activating->idle</title>
                    <path d="M144.762,-50.6145C136.302,-50.8304 127.428,-50.7883 119.129,-50.4883" fill="none"
                        stroke="black"></path>
                    <polygon fill="black"
                        points="109,-49.9704 119.217,-45.987 113.993,-50.2258 118.987,-50.4811 118.987,-50.4811 118.987,-50.4811 113.993,-50.2258 118.757,-54.9753 109,-49.9704 109,-49.9704"
                        stroke="black"></polygon>
                    <text text-anchor="middle" transform="translate(0,-4)" x="119.656" y="-59.3122">
                        onerror
                    </text>
                </g>
                <g class="node">
                    <title>activated</title>
                    <path
                        d="M330.997,-40C330.997,-40 274.997,-40 274.997,-40 268.997,-40 262.997,-34 262.997,-28 262.997,-28 262.997,-12 262.997,-12 262.997,-6 268.997,-0 274.997,-0 274.997,-0 330.997,-0 330.997,-0 336.997,-0 342.997,-6 342.997,-12 342.997,-12 342.997,-28 342.997,-28 342.997,-34 336.997,-40 330.997,-40"
                        fill="white" stroke="black"></path>
                    <text text-anchor="middle" transform="translate(0,-2)" x="302.997" y="-17.2">activated</text>
                </g>
                <g class="edge">
                    <title>activating->activated</title>
                    <path d="M227.218,-35.606C235.505,-33.8766 244.319,-32.037 252.881,-30.2504" fill="none"
                        stroke="black"></path>
                    <polygon fill="black"
                        points="262.767,-28.1871 253.898,-34.6352 257.873,-29.2086 252.978,-30.2301 252.978,-30.2301 252.978,-30.2301 257.873,-29.2086 252.059,-25.825 262.767,-28.1871 262.767,-28.1871"
                        stroke="black"></polygon>
                </g>
                <g class="edge">
                    <title>activated->idle</title>
                    <path
                        d="M262.74,-17.3829C244.593,-16.1731 226.997,-15 226.997,-15 226.997,-15 144.997,-15 144.997,-15 144.997,-15 132.341,-20.9199 118.465,-27.4103"
                        fill="none" stroke="black"></path>
                    <polygon fill="black"
                        points="109.291,-31.7014 116.442,-23.3883 113.82,-29.5829 118.349,-27.4645 118.349,-27.4645 118.349,-27.4645 113.82,-29.5829 120.255,-31.5406 109.291,-31.7014 109.291,-31.7014"
                        stroke="black"></polygon>
                    <text text-anchor="middle" transform="translate(0,-4)" x="200" y="5"><a
                            href="#sensor-stop">stop()</a> / <a href="#sensor-onerror">onerror</a></text>
                </g>
                <g class="node">
                    <title>start</title>
                    <ellipse cx="11.997" cy="-44" fill="black" rx="7" ry="7" stroke="black"></ellipse>
                </g>
                <g class="edge">
                    <title>start->idle</title>
                    <path d="M19.2724,-44C25.2754,-44 34.8461,-44 44.6767,-44" fill="none" stroke="black"></path>
                    <polygon fill="black"
                        points="54.8766,-44 44.8767,-48.5001 49.8766,-44 44.8766,-44.0001 44.8766,-44.0001 44.8766,-44.0001 49.8766,-44 44.8766,-39.5001 54.8766,-44 54.8766,-44"
                        stroke="black"></polygon>
                    <text text-anchor="middle" transform="translate(0,-4)" x="29.5" y="-52.1333">construct</text>
                </g>
            </g>
        </svg>
        <p class="note" role="note"><span class="marker">注意:</span> 上記の図のノードは<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①③">Sensor</a></code>オブジェクトの状態を表しており、基礎となる<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor③①">プラットフォームセンサー</a>や<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑦">デバイスセンサー</a>の可能な状態と混同すべきではありません。</p>
        <h4 class="heading settled" data-level="7.1.2" id="sensor-garbage-collection"><span class="secno">7.1.2.
            </span><span class="content">Sensorのガベージコレクション</span><a class="self-link"
                href="#sensor-garbage-collection"></a></h4>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①④">Sensor</a></code>オブジェクトの<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot">[[state]]</a></code>が"activating"の場合、"activated"イベント、"reading"イベント、または"error"イベントのリスナーが1つでも登録されていれば、ガベージコレクションされてはなりません。
        </p>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑤">Sensor</a></code>オブジェクトの<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①">[[state]]</a></code>が"activated"の場合、"reading"イベントまたは"error"イベントのリスナーが1つでも登録されていれば、ガベージコレクションされてはなりません。
        </p>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑥">Sensor</a></code>オブジェクトの<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot②">[[state]]</a></code>が"activated"または"activating"の時にガベージコレクションされる場合、ユーザーエージェントはこのオブジェクトを引数として<a
                data-link-type="dfn" href="#deactivate-a-sensor-object"
                id="ref-for-deactivate-a-sensor-object">deactivate a sensor object</a>を呼び出さなければなりません。</p>
        <h4 class="heading settled" data-level="7.1.3" id="sensor-internal-slots"><span class="secno">7.1.3.
            </span><span class="content">Sensorの内部スロット</span><a class="self-link" href="#sensor-internal-slots"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑦">Sensor</a></code>のインスタンスは、以下の表で説明される内部スロットとともに生成されます:
        </p>
        <table class="def" id="sensor-slots">
            <thead>
                <tr>
                    <th>内部スロット
                    <th>説明（非規範的）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-state-slot"><code>[[state]]</code></dfn>
                    <td><code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑧">Sensor</a></code>オブジェクトの現在の状態。"idle"、"activating"、"activated"のいずれか。初期状態は"idle"です。
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-frequency-slot"><code>[[frequency]]</code></dfn>
                    <td>Hz単位の倍精度数値。関連する<a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③②">プラットフォームセンサー</a>の<a data-link-type="dfn"
                            href="#sampling-frequency" id="ref-for-sampling-frequency①⓪">サンプリング周波数</a>の計算や、この<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑨">Sensor</a></code>オブジェクトの<a
                            data-link-type="dfn" href="#reporting-frequency"
                            id="ref-for-reporting-frequency②">報告周波数</a>の上限に用いられる。初期値はnull。
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-lasteventfiredat-slot"><code>[[lastEventFiredAt]]</code></dfn>
                    <td>この<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⓪">Sensor</a></code>オブザーバーに送信された直近<a
                            data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading④②">センサーデータ</a>の高解像度タイムスタンプ（起点からのミリ秒単位の経過時間）。初期値はnull。
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-pendingreadingnotification-slot"><code>[[pendingReadingNotification]]</code></dfn>
                    <td>新しい<a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading④③">センサーデータ</a>が報告された後にオブザーバーへの通知が必要かを示すブール値。初期値はfalse。
        </table>
        <h4 class="heading settled" data-level="7.1.4" id="sensor-activated"><span class="secno">7.1.4. </span><span
                class="content">Sensor.activated</span><a class="self-link" href="#sensor-activated"></a></h4>
        <div class="algorithm" data-algorithm="is sensor activated">
            <p><code
                    class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensor-activated" id="ref-for-dom-sensor-activated">activated</a></code>ゲッターの手順は次の通りです:
            </p>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot③">[[state]]</a></code>が"activated"ならtrueを返す。
                    </p>
                <li data-md>
                    <p>それ以外の場合、falseを返す。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.5" id="sensor-has-reading"><span class="secno">7.1.5. </span><span
                class="content">Sensor.hasReading</span><a class="self-link" href="#sensor-has-reading"></a></h4>
        <div class="algorithm" data-algorithm="sensor has reading">
            <p><code
                    class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensor-hasreading" id="ref-for-dom-sensor-hasreading">hasReading</a></code>ゲッターの手順は次の通りです:
            </p>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="#get-value-from-latest-reading"
                            id="ref-for-get-value-from-latest-reading①">get value from latest reading</a> を this および
                        "timestamp" を引数に呼び出し、その結果を<var>timestamp</var>とする。</p>
                <li data-md>
                    <p><var>timestamp</var>がnullでなければtrueを返す。</p>
                <li data-md>
                    <p>そうでなければfalseを返す。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.6" id="sensor-timestamp"><span class="secno">7.1.6. </span><span
                class="content">Sensor.timestamp</span><a class="self-link" href="#sensor-timestamp"></a></h4>
        <div class="algorithm" data-algorithm="sensor timestamp">
            <p><code
                    class="idl"><a data-link-type="idl" href="#dom-sensor-timestamp" id="ref-for-dom-sensor-timestamp">timestamp</a></code>ゲッターの手順は次の通りです:
            </p>
            <ol>
                <li data-md>
                    <p><var>global</var>をthisの<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">関連グローバルオブジェクト</a>とする。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#get-value-from-latest-reading"
                            id="ref-for-get-value-from-latest-reading②">get value from latest
                            reading</a>をthisと"timestamp"を引数に呼び出し、その結果を<var>unsafeTimestamp</var>とする。</p>
                <li data-md>
                    <p><var>unsafeTimestamp</var>がnullならnullを返す。</p>
                <li data-md>
                    <p>それ以外の場合、<a data-link-type="dfn"
                            href="https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time"
                            id="ref-for-dfn-relative-high-resolution-time">relative high resolution
                            time</a>に<var>unsafeTimestamp</var>および<var>global</var>を渡して返す。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.7" id="sensor-start"><span class="secno">7.1.7. </span><span
                class="content">Sensor.start()</span><a class="self-link" href="#sensor-start"></a></h4>
        <div class="algorithm" data-algorithm="to start a sensor">
            <p><code
                    class="idl"><a data-link-type="idl" href="#dom-sensor-start" id="ref-for-dom-sensor-start">start()</a></code>メソッドの手順は次の通りです:
            </p>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot④">[[state]]</a></code>が"activating"または"activated"の場合、何もせず戻る。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑤">[[state]]</a></code>に"activating"をセットする。
                    </p>
                <li data-md>
                    <p>以下のサブステップを<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel">並列処理</a>で実行:</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#request-sensor-access"
                                    id="ref-for-request-sensor-access①">request sensor
                                    access</a>をthisを引数に呼び出し、その結果を<var>permissionState</var>とする。</p>
                        <li data-md>
                            <p><var>permissionState</var>が"denied"の場合:</p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                                            id="ref-for-dfn-create-exception">creating</a>を使って"<code
                                            class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>"<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>の<var>e</var>を作る。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error">notify
                                            error</a>をthisと<var>e</var>を引数にタスクキューへ積む。</p>
                                <li data-md>
                                    <p>戻る。</p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#connect-to-sensor" id="ref-for-connect-to-sensor">connect
                                    to sensor</a>をthisとthisの<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global①">関連グローバルオブジェクト</a>を引数に呼び出し、その結果を<var>connected</var>とする。
                            </p>
                        <li data-md>
                            <p><var>connected</var>が偽の場合:</p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                                            id="ref-for-dfn-create-exception①">creating</a>を使って"<code
                                            class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notreadableerror" id="ref-for-notreadableerror">NotReadableError</a></code>"<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>の<var>e</var>を作る。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error①">notify
                                            error</a>をthisと<var>e</var>を引数にタスクキューへ積む。</p>
                                <li data-md>
                                    <p>戻る。</p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#activate-a-sensor-object"
                                    id="ref-for-activate-a-sensor-object">activate a sensor object</a>をthisを引数に呼び出す。</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.8" id="sensor-stop"><span class="secno">7.1.8. </span><span
                class="content">Sensor.stop()</span><a class="self-link" href="#sensor-stop"></a></h4>
        <div class="algorithm" data-algorithm="to stop a sensor">
            <p><code
                    class="idl"><a data-link-type="idl" href="#dom-sensor-stop" id="ref-for-dom-sensor-stop">stop()</a></code>メソッドの手順は次の通りです:
            </p>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①②">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑥">[[state]]</a></code>が"idle"なら戻る。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①③">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑦">[[state]]</a></code>に"idle"をセットする。
                    </p>
                <li data-md>
                    <p>以下のサブステップを<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel①">並列処理</a>で実行:</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#deactivate-a-sensor-object"
                                    id="ref-for-deactivate-a-sensor-object①">deactivate a sensor
                                    object</a>をthisを引数に呼び出す。</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.9" id="sensor-onreading"><span class="secno">7.1.9. </span><span
                class="content">Sensor.onreading</span><a class="self-link" href="#sensor-onreading"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onreading" id="ref-for-dom-sensor-onreading">onreading</a></code>は<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③">EventHandler</a></code>であり、新しい<a
                data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading④④">センサーデータ</a>が利用可能なことを通知するために呼び出されます。</p>
        <h4 class="heading settled" data-level="7.1.10" id="sensor-onactivate"><span class="secno">7.1.10. </span><span
                class="content">Sensor.onactivate</span><a class="self-link" href="#sensor-onactivate"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onactivate" id="ref-for-dom-sensor-onactivate">onactivate</a></code>は<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④">EventHandler</a></code>であり、this.<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑧">[[state]]</a></code>が"activating"から"activated"に変わったときに呼び出されます。
        </p>
        <h4 class="heading settled" data-level="7.1.11" id="sensor-onerror"><span class="secno">7.1.11. </span><span
                class="content">Sensor.onerror</span><a class="self-link" href="#sensor-onerror"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onerror" id="ref-for-dom-sensor-onerror">onerror</a></code>は<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑤">EventHandler</a></code>であり、抽象またはIDL操作でエラーが同期的に処理できなかったときに呼び出されます。
        </p>
        <h4 class="heading settled" data-level="7.1.12" id="event-handlers"><span class="secno">7.1.12. </span><span
                class="content">イベントハンドラー</span><a class="self-link" href="#event-handlers"></a></h4>
        <p>以下は、<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②①">Sensor</a></code>インターフェースを実装するオブジェクトが属性としてサポートしなければならない<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                id="ref-for-event-handlers①">イベントハンドラー</a>（および対応する<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                id="ref-for-event-handler-event-type①">イベントハンドラーイベントタイプ</a>）です:</p>
        <table class="def">
            <thead>
                <tr>
                    <th>event handler
                    <th>event handler event type
            <tbody>
                <tr>
                    <td><strong><code>onreading</code></strong>
                    <td><code>reading</code>
                <tr>
                    <td><strong><code>onactivate</code></strong>
                    <td><code>activate</code>
                <tr>
                    <td><strong><code>onerror</code></strong>
                    <td><code>error</code>
        </table>
        <h3 class="heading settled" data-level="7.2" id="the-sensor-error-event-interface"><span class="secno">7.2.
            </span><span class="content">SensorErrorEvent インターフェイス</span><a class="self-link"
                href="#the-sensor-error-event-interface"></a></h3>
        <pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sensorerrorevent"><code><c- g>SensorErrorEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent" data-dfn-type="constructor" data-export data-lt="SensorErrorEvent(type, errorEventInitDict)|constructor(type, errorEventInitDict)" id="dom-sensorerrorevent-sensorerrorevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent/SensorErrorEvent(type, errorEventInitDict), SensorErrorEvent/constructor(type, errorEventInitDict)" data-dfn-type="argument" data-export id="dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"><code><c- g>type</c-></code></dfn>, <a data-link-type="idl-name" href="#dictdef-sensorerroreventinit" id="ref-for-dictdef-sensorerroreventinit"><c- n>SensorErrorEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent/SensorErrorEvent(type, errorEventInitDict), SensorErrorEvent/constructor(type, errorEventInitDict)" data-dfn-type="argument" data-export id="dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"><code><c- g>errorEventInitDict</c-></code></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②"><c- n>DOMException</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMException" href="#dom-sensorerrorevent-error" id="ref-for-dom-sensorerrorevent-error"><c- g>error</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sensorerroreventinit"><code><c- g>SensorErrorEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③"><c- n>DOMException</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEventInit" data-dfn-type="dict-member" data-export data-type="DOMException" id="dom-sensorerroreventinit-error"><code><c- g>error</c-></code></dfn>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#sensorerrorevent" id="ref-for-sensorerrorevent">SensorErrorEvent</a></code>
            のインスタンスは、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>
            の
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-constructor"
                id="ref-for-concept-event-constructor">constructor</a> に記載された手順に従って構築されます。
        </p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent" data-dfn-type="attribute" data-export
                id="dom-sensorerrorevent-error"><code>error</code></dfn> 属性は
            初期化時に設定された値を返さなければなりません。これは、<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>
            オブジェクトであり、
            <code
                class="idl"><a data-link-type="idl" href="#dictdef-sensorerroreventinit" id="ref-for-dictdef-sensorerroreventinit①">SensorErrorEventInit</a></code>
            に渡されたものです。
        </p>
        <h2 class="heading settled" data-level="8" id="abstract-operations"><span class="secno">8. </span><span
                class="content">抽象オペレーション</span><a class="self-link" href="#abstract-operations"></a></h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.1"
            data-lt="Initialize a sensor object" id="initialize-a-sensor-object"><span class="secno">8.1. </span><span
                class="content">センサーオブジェクトの初期化</span><a class="self-link" href="#initialize-a-sensor-object"
                id="ref-for-initialize-a-sensor-object"></a></h3>
        <div class="algorithm" data-algorithm="initialize a sensor object">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>: <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②②">Sensor</a></code>
                        オブジェクト。</p>
                <dd data-md>
                    <p><var>options</var>: <code
                            class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions">SensorOptions</a></code>
                        辞書インスタンス。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                            id="ref-for-map-iterate">それぞれの</a> <var>key</var> → <var>value</var> （<var>options</var>
                        の要素） について</p>
                    <ol>
                        <li data-md>
                            <p>対応する <a data-link-type="dfn" href="#supported-sensor-options"
                                    id="ref-for-supported-sensor-options">対応センサーオプション</a> が <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-contain"
                                    id="ref-for-list-contain">含まれていない場合</a> <var>key</var></p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                            id="ref-for-dfn-throw">スローする</a> "<code
                                            class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>もし <var>options</var>["<code
                            class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency">frequency</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists">が存在する場合</a>、
                    </p>
                    <ol>
                        <li data-md>
                            <p><var>sensor_instance</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot④">[[frequency]]</a></code>
                                を <var>options</var>["<code
                                    class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency①">frequency</a></code>"]
                                に設定する。
                            </p>
                    </ol>
                    <p class="note" role="note"><span class="marker">注記:</span> 要求された
                        <var>options</var>["<code
                            class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency②">frequency</a></code>"]
                        が必ずしも尊重されるわけではありません。制約については、<a href="#concepts-sampling-and-reporting-frequencies">§ 5.4
                            サンプリング周波数と報告周波数</a> を参照してください。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.2"
            data-lt="Check sensor policy-controlled features" id="check-sensor-policy-controlled-features"><span
                class="secno">8.2. </span><span class="content">センサーポリシー制御機能の確認</span><a class="self-link"
                href="#check-sensor-policy-controlled-features"
                id="ref-for-check-sensor-policy-controlled-features①"></a></h3>
        <div class="algorithm" data-algorithm="check sensor policy-controlled features">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_type</var>: <a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type③⓪">センサータイプ</a>。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>関連するすべての <a data-link-type="dfn" href="#sensor-feature-names"
                            id="ref-for-sensor-feature-names">センサー機能名</a> が <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                            id="ref-for-allowed-to-use①">利用許可されていれば true</a>。
                        それ以外は false。</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>feature_names</var> を <var>sensor_type</var> に紐付く <a data-link-type="dfn"
                            href="#sensor-feature-names" id="ref-for-sensor-feature-names①">センサー機能名</a> とする。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate">それぞれの</a> <var>feature_name</var> （<var>feature_names</var> の要素）
                        について、
                    </p>
                    <ol>
                        <li data-md>
                            <p>もし <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                                    id="ref-for-nav-document③">アクティブなドキュメント</a> が <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                                    id="ref-for-allowed-to-use②">policy-controlled feature</a>（<a data-link-type="dfn"
                                    href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                                    id="ref-for-policy-controlled-feature②">ポリシー制御機能</a>） <var>feature_name</var>
                                を利用許可されていない場合:</p>
                            <ol>
                                <li data-md>
                                    <p>false を返す。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>true を返す。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.3"
            data-lt="Connect to sensor" id="connect-to-sensor"><span class="secno">8.3. </span><span
                class="content">センサーへの接続</span><a class="self-link" href="#connect-to-sensor"
                id="ref-for-connect-to-sensor②"></a></h3>
        <div class="algorithm" data-algorithm="connect to sensor">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor</var>: <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②③">Sensor</a></code>
                        オブジェクト。</p>
                <dd data-md>
                    <p><var>global</var>: <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                            id="ref-for-global-object">グローバルオブジェクト</a>。</p>
                <dt data-md>出力
                <dd data-md>
                    <p><var>sensor</var> が <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③③">プラットフォームセンサー</a>
                        に紐付いた場合 true、そうでなければ false。</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>platformSensor</var> を null にする。</p>
                <li data-md>
                    <p><var>type</var> を <var>sensor</var> に紐付いた <a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type③①">センサータイプ</a> とする。</p>
                <li data-md>
                    <p><var>virtualSensorType</var> を <var>sensor</var> に紐付いた <a data-link-type="dfn"
                            href="#virtual-sensor-type" id="ref-for-virtual-sensor-type①">仮想センサータイプ</a>
                        または未設定なら null とする。</p>
                <li data-md>
                    <p><var>topLevelTraversable</var> を <var>global</var> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable"
                            id="ref-for-window-navigable">navigable</a> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"
                            id="ref-for-nav-top">top-level traversable</a> とする。</p>
                <li data-md>
                    <p>もし <var>virtualSensorType</var> が null でなく、かつ <var>topLevelTraversable</var> の <a
                            data-link-type="dfn" href="#virtual-sensor-mapping"
                            id="ref-for-virtual-sensor-mapping">virtual sensor mapping</a> が <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">virtualSensorType
                            を含んでいる</a>場合:
                    </p>
                    <ol>
                        <li data-md>
                            <p><var>virtualSensor</var> を <var>topLevelTraversable</var> の <a data-link-type="dfn"
                                    href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping①">virtual sensor
                                    mapping</a>[<var>virtualSensorType</var>] にする。</p>
                        <li data-md>
                            <p><var>virtualSensor</var> の<a data-link-type="dfn"
                                    href="#virtual-sensor-can-provide-readings-flag"
                                    id="ref-for-virtual-sensor-can-provide-readings-flag">can provide readings flag</a>
                                が true の場合、
                                <var>platformSensor</var> を <var>virtualSensor</var> に対応する <a data-link-type="dfn"
                                    href="#concept-platform-sensor"
                                    id="ref-for-concept-platform-sensor③④">プラットフォームセンサー</a> とする。
                            </p>
                            <p class="note" role="note"><span class="marker">注記:</span>
                                <a data-link-type="dfn" href="#virtual-sensor-can-provide-readings-flag"
                                    id="ref-for-virtual-sensor-can-provide-readings-flag①">can provide readings flag</a>
                                が false なら <var>platformSensor</var> は null のままとなり、このアルゴリズムは false を返す。
                            </p>
                    </ol>
                <li data-md>
                    <p>それ以外の場合:</p>
                    <ol>
                        <li data-md>
                            <p>デバイスに、<a data-link-type="dfn" href="#concept-device-sensor"
                                    id="ref-for-concept-device-sensor③⑧">device sensor</a> が一つだけ存在し、<a
                                    data-link-type="dfn" href="#sensor-reading"
                                    id="ref-for-sensor-reading④⑤">読み取り</a>を提供できる場合</p>
                            <ol>
                                <li data-md>
                                    <p>この <a data-link-type="dfn" href="#concept-device-sensor"
                                            id="ref-for-concept-device-sensor③⑨">device sensor</a> に対応する <a
                                            data-link-type="dfn" href="#concept-platform-sensor"
                                            id="ref-for-concept-platform-sensor③⑤">プラットフォームセンサー</a> を
                                        <var>platformSensor</var> に設定する。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>デバイスに複数の <a data-link-type="dfn" href="#concept-device-sensor"
                                    id="ref-for-concept-device-sensor④⓪">device sensor</a> が存在し、 <a data-link-type="dfn"
                                    href="#sensor-reading" id="ref-for-sensor-reading④⑥">読み取り</a>を提供できる場合</p>
                            <ol>
                                <li data-md>
                                    <p><var>type</var> に関連付けられた <a data-link-type="dfn" href="#default-sensor"
                                            id="ref-for-default-sensor④">default sensor</a> がある場合
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>この <a data-link-type="dfn" href="#default-sensor"
                                                    id="ref-for-default-sensor⑤">default device sensor</a> に対応する <a
                                                    data-link-type="dfn" href="#concept-platform-sensor"
                                                    id="ref-for-concept-platform-sensor③⑥">プラットフォームセンサー</a> を
                                                <var>platformSensor</var> に設定する。
                                            </p>
                                    </ol>
                            </ol>
                    </ol>
                <li data-md>
                    <p>もし <var>platformSensor</var> が null なら、false を返す。</p>
                <li data-md>
                    <p><var>bounds</var> を <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds"
                            id="ref-for-get-a-platform-sensors-sampling-bounds①">プラットフォームセンサーのサンプリング範囲取得</a> を
                        <var>platformSensor</var> で呼び出した結果とする。
                    </p>
                <li data-md>
                    <p>もし <var>sensor</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑤">[[frequency]]</a></code>
                        が null なら、<var>type</var> に依存した <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-defined④">実装依存</a> の値に設定する。
                    </p>
                <li data-md>
                    <p>もし <var>sensor</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑥">[[frequency]]</a></code>
                        が <var>bounds</var>[0] より小さい場合、<var>bounds</var>[0] に設定する。</p>
                <li data-md>
                    <p>もし <var>sensor</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑦">[[frequency]]</a></code>
                        が <var>bounds</var>[1] より大きい場合、<var>bounds</var>[1] に設定する。</p>
                <li data-md>
                    <p>true を返す。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.4"
            data-lt="Activate a sensor object" id="activate-a-sensor-object"><span class="secno">8.4. </span><span
                class="content">センサーオブジェクトのアクティブ化</span><a class="self-link" href="#activate-a-sensor-object"
                id="ref-for-activate-a-sensor-object①"></a></h3>
        <div class="algorithm" data-algorithm="activate a sensor object">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>: <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②④">Sensor</a></code>
                        オブジェクト。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>sensor</var> を <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③⑦">プラットフォームセンサー</a>（<var>sensor_instance</var>
                        に紐付くもの）とする。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                            id="ref-for-set-append">追加</a> <var>sensor_instance</var> を <var>sensor</var> の
                        <a data-link-type="dfn" href="#activated-sensor-objects"
                            id="ref-for-activated-sensor-objects③">アクティブなセンサーオブジェクト集合</a> に追加する。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#set-sensor-settings"
                            id="ref-for-set-sensor-settings">センサー設定をセット</a> を <var>sensor</var> で呼び出す。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#notify-activated-state"
                            id="ref-for-notify-activated-state">アクティブ状態通知</a> を <var>sensor_instance</var>
                        を引数にしてタスクキューへ追加する。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.5"
            data-lt="Deactivate a sensor object" id="deactivate-a-sensor-object"><span class="secno">8.5. </span><span
                class="content">センサーオブジェクトの非アクティブ化</span><a class="self-link" href="#deactivate-a-sensor-object"
                id="ref-for-deactivate-a-sensor-object④"></a></h3>
        <div class="algorithm" data-algorithm="deactivate a sensor object">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>: <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑤">Sensor</a></code>
                        オブジェクト。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                            id="ref-for-concept-task①">タスク</a>（ <var>sensor_instance</var> にひもづくもの）すべてを <a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"
                            id="ref-for-task-queue">タスクキュー</a>（<a data-link-type="dfn" href="#sensor-task-source"
                            id="ref-for-sensor-task-source">sensor task source</a>）から除去する。</p>
                <li data-md>
                    <p><var>sensor</var> を <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③⑧">プラットフォームセンサー</a>（<var>sensor_instance</var>
                        に紐付くもの）とする。
                    </p>
                <li data-md>
                    <p>もし <var>sensor</var> の <a data-link-type="dfn" href="#activated-sensor-objects"
                            id="ref-for-activated-sensor-objects④">アクティブなセンサーオブジェクト集合</a> が <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-contain"
                            id="ref-for-list-contain①"><var>sensor_instance</var> を含む</a> 場合、
                    </p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                    id="ref-for-list-remove"><var>sensor_instance</var> を除去</a>（<var>sensor</var> の <a
                                    data-link-type="dfn" href="#activated-sensor-objects"
                                    id="ref-for-activated-sensor-objects⑤">アクティブなセンサーオブジェクト集合</a> から）。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#set-sensor-settings"
                                    id="ref-for-set-sensor-settings①">センサー設定をセット</a> を <var>sensor</var> で呼び出す。</p>
                        <li data-md>
                            <p><var>sensor_instance</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot">[[pendingReadingNotification]]</a></code>
                                を false に設定する。</p>
                        <li data-md>
                            <p><var>sensor_instance</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot">[[lastEventFiredAt]]</a></code>
                                を null に設定する。</p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.6"
            data-lt="Generic Sensor permission revocation algorithm"
            id="generic-sensor-permission-revocation-algorithm"><span class="secno">8.6. </span><span
                class="content">汎用センサー許可取り消しアルゴリズム</span><a class="self-link"
                href="#generic-sensor-permission-revocation-algorithm"
                id="ref-for-generic-sensor-permission-revocation-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="generic sensor permission revocation algorithm">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>permissionName</var>: <a data-link-type="dfn"
                            href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name②">強力な機能名</a></p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑥">Sensor</a></code>
                        インスタンス <var>sensor</var> を <a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#current-realm" id="ref-for-current-realm">現在のレルム</a>
                        からそれぞれ処理する:</p>
                    <ol>
                        <li data-md>
                            <p>もし <var>sensor</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑨">[[state]]</a></code>
                                が "idle" なら、<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue">次へ進む</a>。</p>
                        <li data-md>
                            <p>もし <var>sensor</var> の <a data-link-type="dfn" href="#sensor-type"
                                    id="ref-for-sensor-type③②">センサータイプ</a> の <a data-link-type="dfn"
                                    href="#sensor-permission-names" id="ref-for-sensor-permission-names">センサー許可名</a> が
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                                    id="ref-for-list-contain②"><var>permissionName</var>を含む</a> なら:
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#deactivate-a-sensor-object"
                                            id="ref-for-deactivate-a-sensor-object②">センサーオブジェクトの非アクティブ化</a> を
                                        <var>sensor</var> で呼び出す。
                                    </p>
                                <li data-md>
                                    <p><var>exception</var> を、"<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                                            id="ref-for-dfn-create-exception②">生成</a>した結果とする。<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error②">エラー通知</a>
                                        を <var>sensor</var> と <var>exception</var> でタスクキューに入れる。
                                    </p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.7"
            data-lt="Set sensor settings" id="set-sensor-settings"><span class="secno">8.7. </span><span
                class="content">センサー設定をセット</span><a class="self-link" href="#set-sensor-settings"
                id="ref-for-set-sensor-settings②"></a></h3>
        <div class="algorithm" data-algorithm="set sensor settings">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>platformSensor</var>: <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③⑨">プラットフォームセンサー</a>。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p>もし <var>platformSensor</var> の <a data-link-type="dfn" href="#activated-sensor-objects"
                            id="ref-for-activated-sensor-objects⑥">アクティブなセンサーオブジェクト集合</a> が <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">空なら</a>、</p>
                    <ol>
                        <li data-md>
                            <p><var>platformSensor</var> の <a data-link-type="dfn" href="#sampling-frequency"
                                    id="ref-for-sampling-frequency①①">サンプリング周波数</a> を null に設定する。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                                    id="ref-for-map-iterate①">それぞれ</a> <var>key</var> →
                                <var>value</var>（<var>platformSensor</var> の <a data-link-type="dfn"
                                    href="#latest-reading" id="ref-for-latest-reading⑨">最新読み取り</a>）につき、
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                                            id="ref-for-map-set">最新読み取り</a>[<var>key</var>] を null に設定する。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                                    id="ref-for-implementation-defined⑤">実装依存</a>の方法で <a data-link-type="dfn"
                                    href="#sensor-reading" id="ref-for-sensor-reading④⑦">センサー読み取り</a> を
                                <var>platformSensor</var> から提供しないように変更する。
                            </p>
                        <li data-md>
                            <p>リターン。</p>
                    </ol>
                <li data-md>
                    <p><var>platformSensor</var> の <a data-link-type="dfn" href="#sampling-frequency"
                            id="ref-for-sampling-frequency①②">サンプリング周波数</a> を <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-defined⑥">実装依存</a>の値（自身の <a data-link-type="dfn"
                            href="#activated-sensor-objects" id="ref-for-activated-sensor-objects⑦">アクティブなセンサーオブジェクト</a>
                        の <code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑧">[[frequency]]</a></code>
                        値に基づく）に設定する。</p>
                <li data-md>
                    <p><var>bounds</var> を <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds"
                            id="ref-for-get-a-platform-sensors-sampling-bounds②">プラットフォームセンサーのサンプリング範囲取得</a> を
                        <var>platformSensor</var> で呼び出した結果とする。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">保証</a>:
                        <var>platformSensor</var> の <a data-link-type="dfn" href="#sampling-frequency"
                            id="ref-for-sampling-frequency①③">サンプリング周波数</a> は
                        <var>bounds</var>[0] 以上 <var>bounds</var>[1] 以下である。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.8"
            data-lt="Update latest reading" id="update-latest-reading"><span class="secno">8.8. </span><span
                class="content">最新読み取りの更新</span><a class="self-link" href="#update-latest-reading"
                id="ref-for-update-latest-reading①"></a></h3>
        <div class="algorithm" data-algorithm="update latest reading">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor</var>: <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor④⓪">プラットフォームセンサー</a>。</p>
                <dd data-md>
                    <p><var>reading</var>: <a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading④⑨">センサー読み取り</a>。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>type</var> を <var>sensor</var> に紐付いた <a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type③③">センサータイプ</a> とする。</p>
                <li data-md>
                    <p>もし <var>type</var> の <a data-link-type="dfn" href="#threshold-check-algorithm"
                            id="ref-for-threshold-check-algorithm③">閾値チェックアルゴリズム</a> が定義されていれば、</p>
                    <ol>
                        <li data-md>
                            <p><var>result</var> を <var>type</var> の <a data-link-type="dfn"
                                    href="#threshold-check-algorithm"
                                    id="ref-for-threshold-check-algorithm④">閾値チェックアルゴリズム</a>（<var>reading</var> と
                                <var>sensor</var> の <a data-link-type="dfn" href="#latest-reading"
                                    id="ref-for-latest-reading①①">最新読み取り</a> を引数）として呼び出した結果。
                            </p>
                        <li data-md>
                            <p>もし <var>result</var> が false なら、これ以降の手順を中止。</p>
                    </ol>
                <li data-md>
                    <p>もし <var>reading</var>["timestamp"] <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">が存在する</a>なら:</p>
                    <ol>
                        <li data-md>
                            <p><var>reading</var>["timestamp"] を現在値から <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#implementation-defined"
                                    id="ref-for-implementation-defined⑦">実装依存</a>の方法で <a data-link-type="dfn"
                                    href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"
                                    id="ref-for-monotonic-clock-unsafe-current-time①">unsafe current time</a>
                                に変換する。<a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-monotonic-clock"
                                    id="ref-for-dfn-monotonic-clock">単調クロック</a>（<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                                    id="ref-for-concept-settings-object-time-origin①">time origins</a> と共通）を利用する。
                            </p>
                            <p class="note" role="note"><span class="marker">注記:</span> この手順の目的は、別の time origin
                                を基準としたタイムスタンプを
                                同じ <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-monotonic-clock"
                                    id="ref-for-dfn-monotonic-clock①">単調クロック</a> で計算利用可能とすることです。
                                <a data-link-type="biblio" href="#biblio-hr-time"
                                    title="High Resolution Time">[HR-TIME]</a> で記載されたオペレーションにも利用されます。
                            </p>
                    </ol>
                <li data-md>
                    <p>それ以外の場合、<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set①">設定</a> <var>reading</var>["timestamp"] を <a data-link-type="dfn"
                            href="https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time"
                            id="ref-for-dfn-unsafe-shared-current-time">unsafe shared current time</a> にする。</p>
                    <p class="note" role="note"><span class="marker">注記:</span> どちらの場合も、<a data-link-type="dfn"
                            href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"
                            id="ref-for-monotonic-clock-unsafe-current-time②">unsafe current time</a>
                        がスクリプトへ公開されることはありません。<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-timestamp" id="ref-for-dom-sensor-timestamp①">Sensor.timestamp</a></code>
                        は常に <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment"
                            id="ref-for-dfn-moment">coarsened moment</a>（<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                            id="ref-for-concept-settings-object-time-origin②">time origin</a> に対する相対値）を返します。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                            id="ref-for-map-iterate②">それぞれ</a> <var>key</var> → <var>value</var>（<a data-link-type="dfn"
                            href="#latest-reading" id="ref-for-latest-reading①②">最新読み取り</a>）について</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                                    id="ref-for-map-set②">最新読み取り</a>[<var>key</var>] を
                                <var>reading</var> の対応する値に設定
                            </p>
                    </ol>
                <li data-md>
                    <p><var>activated_sensors</var> を <var>sensor</var> に紐付く <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">集合</a>内の <a
                            data-link-type="dfn" href="#activated-sensor-objects"
                            id="ref-for-activated-sensor-objects⑧">アクティブなセンサーオブジェクト</a> とする。</p>
                <li data-md>
                    <p>これらのサブステップを <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel②">並列</a>で実行:</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate①">それぞれ</a> <var>s</var>（<var>activated_sensors</var>
                                の要素）につき
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#report-latest-reading-updated"
                                            id="ref-for-report-latest-reading-updated">最新読み取り更新通知</a>
                                        を <var>s</var> を引数に指定して呼び出し。</p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.9"
            data-lt="Report latest reading updated" id="report-latest-reading-updated"><span class="secno">8.9.
            </span><span class="content">最新読み取り更新通知</span><a class="self-link" href="#report-latest-reading-updated"
                id="ref-for-report-latest-reading-updated①"></a></h3>
        <div class="algorithm" data-algorithm="report latest reading updated">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>: <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑦">Sensor</a></code>
                        オブジェクト。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p>もし <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot①">[[pendingReadingNotification]]</a></code>
                        が true なら、</p>
                    <ol>
                        <li data-md>
                            <p>リターン。</p>
                    </ol>
                <li data-md>
                    <p><var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot②">[[pendingReadingNotification]]</a></code>
                        を true に設定する。</p>
                <li data-md>
                    <p><var>lastReportedTimestamp</var> を <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot①">[[lastEventFiredAt]]</a></code>
                        の値とする。
                    </p>
                <li data-md>
                    <p>もし <var>lastReportedTimestamp</var> が未設定なら</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading">新規読み取り通知</a> を
                                <var>sensor_instance</var> を引数としてタスクキューへ追加する。
                            </p>
                        <li data-md>
                            <p>リターン。</p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">保証</a>:
                        <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑨">[[frequency]]</a></code>
                        は null でない。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">保証</a>:
                        <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①⓪">[[frequency]]</a></code>
                        は 0 より大きい。
                    </p>
                <li data-md>
                    <p><var>reportingInterval</var> を 1 / <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①①">[[frequency]]</a></code>
                        の結果とする。
                    </p>
                <li data-md>
                    <p><var>timestampDelta</var> を <a data-link-type="dfn" href="#latest-reading"
                            id="ref-for-latest-reading①④">最新読み取り</a>["timestamp"] -
                        <var>lastReportedTimestamp</var> の結果とする。
                    </p>
                <li data-md>
                    <p>もし <var>timestampDelta</var> が <var>reportingInterval</var> 以上なら</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading①">新規読み取り通知</a> を
                                <var>sensor_instance</var> を引数としてタスクキューへ追加する。
                            </p>
                        <li data-md>
                            <p>リターン。</p>
                    </ol>
                <li data-md>
                    <p><var>deferUpdateTime</var> を <var>reportingInterval</var> - <var>timestampDelta</var> の結果とする。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop"
                            id="ref-for-spin-the-event-loop">イベントループを</a>
                        <var>deferUpdateTime</var> だけ回す。
                    </p>
                <li data-md>
                    <p>もし <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot③">[[pendingReadingNotification]]</a></code>
                        が true なら、</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading②">新規読み取り通知</a> を
                                <var>sensor_instance</var> を引数にしてタスクキューへ追加する。
                            </p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.10"
            data-lt="Notify new reading" id="notify-new-reading"><span class="secno">8.10. </span><span
                class="content">新しい読み取りの通知</span><a class="self-link" href="#notify-new-reading"
                id="ref-for-notify-new-reading④"></a></h3>
        <div class="algorithm" data-algorithm="notify new reading">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>：<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑧">Sensor</a></code>
                        オブジェクト。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot④">[[pendingReadingNotification]]</a></code>
                        を false に設定する。</p>
                <li data-md>
                    <p><var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot②">[[lastEventFiredAt]]</a></code>
                        を <a data-link-type="dfn" href="#latest-reading"
                            id="ref-for-latest-reading①⑤">最新読み取り</a>["timestamp"] に設定する。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                            id="ref-for-concept-event-fire①">"reading" という名前のイベントを</a>
                        <var>sensor_instance</var> 上で発行する。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.11"
            data-lt="Notify activated state" id="notify-activated-state"><span class="secno">8.11. </span><span
                class="content">アクティブ状態の通知</span><a class="self-link" href="#notify-activated-state"
                id="ref-for-notify-activated-state①"></a></h3>
        <div class="algorithm" data-algorithm="notify activated state">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>：<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑨">Sensor</a></code>
                        オブジェクト。</p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①⓪">[[state]]</a></code>
                        を "activated" に設定する。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                            id="ref-for-concept-event-fire②">"activate" という名前のイベントを</a>
                        <var>sensor_instance</var> 上で発行する。
                    </p>
                <li data-md>
                    <p><var>sensor</var> を <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor④①">platform sensor</a>（<var>sensor_instance</var>
                        に紐付くもの）とする。
                    </p>
                <li data-md>
                    <p>もし <var>sensor</var> の <a data-link-type="dfn" href="#latest-reading"
                            id="ref-for-latest-reading①⑥">最新読み取り</a>["timestamp"] が null でなければ、</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading③">新しい読み取りの通知</a> を
                                <var>sensor_instance</var> を引数にしてタスクキューへ追加する。
                            </p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.12" data-lt="Notify error"
            id="notify-error"><span class="secno">8.12. </span><span class="content">エラー通知</span><a class="self-link"
                href="#notify-error" id="ref-for-notify-error④"></a></h3>
        <div class="algorithm" data-algorithm="notify error">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>：<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⓪">Sensor</a></code>
                        オブジェクト。</p>
                <dd data-md>
                    <p><var>error</var>：<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>。
                    </p>
                <dt data-md>出力
                <dd data-md>
                    <p>なし</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①①">[[state]]</a></code>
                        を "idle" に設定する。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                            id="ref-for-concept-event-fire③">"error" という名前のイベントを</a>
                        <var>sensor_instance</var> 上で発行し、<code
                            class="idl"><a data-link-type="idl" href="#sensorerrorevent" id="ref-for-sensorerrorevent①">SensorErrorEvent</a></code>
                        を利用し、その <code
                            class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensorerrorevent-error" id="ref-for-dom-sensorerrorevent-error①">error</a></code>
                        属性を <var>error</var> で初期化する。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.13"
            data-lt="Get value from latest reading" id="get-value-from-latest-reading"><span class="secno">8.13.
            </span><span class="content">最新読み取りから値を取得</span><a class="self-link" href="#get-value-from-latest-reading"
                id="ref-for-get-value-from-latest-reading④"></a></h3>
        <div class="algorithm" data-algorithm="get value from latest reading">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>：<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③①">Sensor</a></code>
                        オブジェクト。</p>
                <dd data-md>
                    <p><var>key</var>：その値名を表す文字列。</p>
                <dt data-md>出力
                <dd data-md>
                    <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⓪">センサー読み取り</a>
                        の値または null。</p>
            </dl>
            <ol>
                <li data-md>
                    <p>もし <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①②">[[state]]</a></code>
                        が "activated" なら、</p>
                    <ol>
                        <li data-md>
                            <p><var>readings</var> を <var>sensor_instance</var> に関連する <a data-link-type="dfn"
                                    href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④②">platform
                                    sensor</a> の <a data-link-type="dfn" href="#latest-reading"
                                    id="ref-for-latest-reading①⑦">最新読み取り</a>とする。</p>
                        <li data-md>
                            <p><var>type</var> を <var>sensor_instance</var> に紐付いた <a data-link-type="dfn"
                                    href="#sensor-type" id="ref-for-sensor-type③④">センサータイプ</a>とする。</p>
                        <li data-md>
                            <p>もし <var>type</var> の <a data-link-type="dfn" href="#reading-quantization-algorithm"
                                    id="ref-for-reading-quantization-algorithm①">読み取り量子化アルゴリズム</a> が定義されていれば、</p>
                            <ol>
                                <li data-md>
                                    <p><var>readings</var> を <var>type</var> の <a data-link-type="dfn"
                                            href="#reading-quantization-algorithm"
                                            id="ref-for-reading-quantization-algorithm②">読み取り量子化アルゴリズム</a> を
                                        <var>readings</var> で呼び出した結果に設定する。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>もし <a data-link-type="dfn" href="#extension-specification"
                                    id="ref-for-extension-specification⑤">拡張仕様</a> が <var>sensor_instance</var> のための<a
                                    data-link-type="dfn" href="#local-coordinate-system"
                                    id="ref-for-local-coordinate-system②">ローカル座標系</a> を定義していれば、</p>
                            <ol>
                                <li data-md>
                                    <p>(<a data-link-type="biblio" href="#biblio-coordinates-transformation"
                                            title="The Foundations of Celestial Mechanics">[COORDINATES-TRANSFORMATION]</a>
                                        を参照)
                                        <var>readings</var> の値を <a data-link-type="dfn" href="#local-coordinate-system"
                                            id="ref-for-local-coordinate-system③">ローカル座標系</a> にリマップする。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><var>readings</var>[<var>key</var>] を返す。</p>
                    </ol>
                <li data-md>
                    <p>それ以外の場合、null を返す。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.14"
            data-lt="Request sensor access" id="request-sensor-access"><span class="secno">8.14. </span><span
                class="content">センサーアクセスの要求</span><a class="self-link" href="#request-sensor-access"
                id="ref-for-request-sensor-access②"></a></h3>
        <div class="algorithm" data-algorithm="request sensor access">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>sensor_instance</var>：<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③②">Sensor</a></code>
                        オブジェクト。</p>
                <dt data-md>出力
                <dd data-md>
                    <p><a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state"
                            id="ref-for-dfn-permission-state">permission state（許可状態）</a>。</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>sensor_type</var> を <var>sensor_instance</var> に紐付いた <a data-link-type="dfn"
                            href="#sensor-type" id="ref-for-sensor-type③⑤">センサータイプ</a>とする。</p>
                <li data-md>
                    <p><var>sensor_permissions</var> を <var>sensor_type</var> に関連する <a data-link-type="dfn"
                            href="#sensor-permission-names" id="ref-for-sensor-permission-names①">センサー許可名</a>とする。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate②">各</a>
                        <var>permission_name</var>（<var>sensor_permissions</var>内）について、
                    </p>
                    <ol>
                        <li data-md>
                            <p><var>state</var> を <a data-link-type="dfn"
                                    href="https://w3c.github.io/permissions/#dfn-request-permission-to-use"
                                    id="ref-for-dfn-request-permission-to-use">permission_name の使用許可リクエスト</a>の結果とする。
                            </p>
                        <li data-md>
                            <p>もし <var>state</var> が "denied" であれば、</p>
                            <ol>
                                <li data-md>
                                    <p>"denied" を返す。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>"granted" を返す。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.15"
            data-lt="Focus and origin check" id="focus-and-origin-check"><span class="secno">8.15. </span><span
                class="content">フォーカスおよびオリジンの確認</span><a class="self-link" href="#focus-and-origin-check"
                id="ref-for-focus-and-origin-check②"></a></h3>
        <div class="algorithm" data-algorithm="focus and origin check">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>document</var>：<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>。
                    </p>
                <dt data-md>出力
                <dd data-md>
                    <p>ブール値。</p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>origin</var> を <var>document</var> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object①">該当設定オブジェクト</a> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin">オリジン</a> とする。</p>
                <li data-md>
                    <p><var>focusedDocument</var> を <var>document</var> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"
                            id="ref-for-node-navigable">node navigable</a> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"
                            id="ref-for-nav-top①">top-level traversable</a> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable"
                            id="ref-for-currently-focused-area-of-a-top-level-traversable">現在フォーカスされているエリア</a> の
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor"
                            id="ref-for-dom-anchor">DOM anchor</a> の <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-node-document"
                            id="ref-for-concept-node-document">node document</a> とする。
                    </p>
                <li data-md>
                    <p><var>focusedOrigin</var> を <var>focusedDocument</var> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object②">該当設定オブジェクト</a> の <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin①">オリジン</a> とする。</p>
                <li data-md>
                    <p>もし <var>origin</var> と <var>focusedOrigin</var> が <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain"
                            id="ref-for-same-origin-domain">同一オリジンドメイン</a> であれば true、そうでなければ false を返す。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="9" id="automation"><span class="secno">9. </span><span
                class="content">自動化</span><a class="self-link" href="#automation"></a></h2>
        <p>Generic Sensor API およびその <a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification⑥">拡張仕様</a>
            は、適切な応答を返す物理ハードウェアが必要となるため、テスト作成者にとって課題となります。この課題に対応するため、本ドキュメントでは <a data-link-type="biblio"
                href="#biblio-webdriver2" title="WebDriver">[WEBDRIVER2]</a> の
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands">拡張コマンド</a> をいくつか定義しており、<a data-link-type="dfn"
                href="#virtual-sensor" id="ref-for-virtual-sensor">仮想センサー</a>を
            定義・制御できます。この仮想センサーは <a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor④①">デバイスセンサー</a> と同様の挙動を持ちます。これらの <a data-link-type="dfn"
                href="#virtual-sensor" id="ref-for-virtual-sensor①">仮想センサー</a>
            は特定の特性を持つデバイスを表し、その読み取り値はユーザーによって完全に定義できます。
        </p>
        <h3 class="heading settled" data-level="9.1" id="virtual-sensors"><span class="secno">9.1. </span><span
                class="content">仮想センサー</span><a class="self-link" href="#virtual-sensors"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="virtual-sensor">仮想センサー</dfn>
            は、<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor④②">デバイスセンサー</a>の挙動を制御された方法で模擬します。
            それ自身に接続されている0個以上の<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④③">プラットフォームセンサー</a>へ<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑤①">センサー読み取り値</a>を報告します。</p>
        <p><a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor②">仮想センサー</a>には以下のデータがひも付いています：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-can-provide-readings-flag">can provide readings flag</dfn>（<a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean"
                        id="ref-for-boolean">boolean</a>）。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-requested-sampling-frequency">リクエストされたサンプリング周波数</dfn>（数値）。
                    通常の<a data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor④③">デバイスセンサー</a>の実際のサンプリング周波数が公開されていないのと同様に、
                    <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor③">仮想センサー</a>の
                    <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                        id="ref-for-virtual-sensor-requested-sampling-frequency">リクエストされたサンプリング周波数</a>も
                    <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-implementation-defined⑧">実装依存</a>な値であり、<a data-link-type="dfn"
                        href="#virtual-sensor-minimum-sampling-frequency"
                        id="ref-for-virtual-sensor-minimum-sampling-frequency">最小サンプリング周波数</a>と<a data-link-type="dfn"
                        href="#virtual-sensor-maximum-sampling-frequency"
                        id="ref-for-virtual-sensor-maximum-sampling-frequency">最大サンプリング周波数</a>の間に収まります。
                    <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor④">仮想センサー</a>がどの<a
                        data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor④④">プラットフォームセンサー</a>にも読み取り値を提供していない場合は、この
                    <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                        id="ref-for-virtual-sensor-requested-sampling-frequency①">リクエストされたサンプリング周波数</a>は0となります。
                </p>
                <p class="note" role="note"><span class="marker">注記:</span>
                    <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                        id="ref-for-virtual-sensor-requested-sampling-frequency②">リクエストされたサンプリング周波数</a>の値は、
                    他にも、接続されている<a data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor④⑤">プラットフォームセンサー</a>が特定のサンプリング周波数をリクエストしているかどうか
                    （これはプラットフォームセンサーごとに異なる可能性あり）や、読み取り値が<a data-link-type="dfn" href="#virtual-sensor"
                        id="ref-for-virtual-sensor⑤">仮想センサー</a>に対しポーリングされているか
                    （この場合はサンプリング周波数が何もリクエストされていない可能性もある）などによって決まります。
                </p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-minimum-sampling-frequency">最小サンプリング周波数</dfn>（数値）。
                    <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑥">仮想センサー</a>は<a
                        data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor④④">デバイスセンサー</a>でもあるため、
                    これは<a data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor④⑤">デバイスセンサー</a>の
                    <a data-link-type="dfn" href="#device-sensor-minimum-sampling-frequency"
                        id="ref-for-device-sensor-minimum-sampling-frequency③">最小サンプリング周波数</a>に対応します。
                </p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-maximum-sampling-frequency">最大サンプリング周波数</dfn>（数値）。
                    <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑦">仮想センサー</a>は<a
                        data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor④⑥">デバイスセンサー</a>でもあるため、
                    これは<a data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor④⑦">デバイスセンサー</a>の
                    <a data-link-type="dfn" href="#device-sensor-maximum-sampling-frequency"
                        id="ref-for-device-sensor-maximum-sampling-frequency④">最大サンプリング周波数</a>に相当します。
                </p>
        </ul>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="virtual-sensor-type">仮想センサータイプ</dfn>
            は、ある種のセンサーを表す文字列です。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="per-type-virtual-sensor-metadata">型別仮想センサー
                メタデータ</dfn> は、<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                id="ref-for-ordered-map⑤">順序付きマップ</a> であり、<a data-link-type="dfn" href="#virtual-sensor-type"
                id="ref-for-virtual-sensor-type②">仮想センサータイプ</a> から
            <a data-link-type="dfn" href="#virtual-sensor-metadata" id="ref-for-virtual-sensor-metadata">仮想センサーメタデータ</a>
            を対応付けます。初期値は空で、<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification⑦">拡張仕様</a> により
            型ごとに定義されるべきです。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="virtual-sensor-metadata">仮想センサーメタデータ</dfn>
            は <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">構造体</a> で、その <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">アイテム</a>
            は次の通り：</p>
        <ul>
            <li data-md>
                <dl>
                    <dt data-md><dfn class="dfn-paneled" data-dfn-for="virtual sensor metadata" data-dfn-type="dfn"
                            data-export id="virtual-sensor-metadata-reading-parsing-algorithm">reading parsing
                            algorithm</dfn>
                    <dd data-md>
                        <p>JSON <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects">Object</a></code>
                            を受け取り
                            <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤②">センサー読み取り</a> か
                            <strong>undefined</strong> を返すアルゴリズム。
                        </p>
                </dl>
        </ul>
        <p>各 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"
                id="ref-for-top-level-traversable">top-level traversable</a> には <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="virtual-sensor-mapping">仮想センサーマッピング</dfn> があり、
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                id="ref-for-ordered-map⑦">順序付きマップ</a>
            で <a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type③">仮想センサータイプ</a> から
            <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑧">仮想センサー</a> を対応付けます。
        </p>
        <p class="note" role="note"><span class="marker">注記:</span> <a data-link-type="dfn"
                href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping②">仮想センサーマッピング</a> の <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">構造体</a> は
            同種すべての仮想センサーに共通のデータを保持します。<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor⑨">仮想センサー</a> 自体は
            作成や利用時ごとに異なるデータを持てます。</p>
        <p class="note" role="note"><span class="marker">注記:</span> <a data-link-type="dfn"
                href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping③">仮想センサーマッピング</a> は
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable②">navigable</a> ではなく
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"
                id="ref-for-top-level-traversable①">top-level traversable</a> に紐付くのは、
            同一 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"
                id="ref-for-nav-top②">top-level traversable</a> 内の
            すべての <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑥">センサータイプ</a>の
            <a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④⑦">プラットフォームセンサー</a> は同じ
            <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⓪">仮想センサー</a> に接続されることが 前提だからです。
            これは実際のハードウェアが複数画面など共通で読取値を提供する現実的な動作をエミュレートします。
        </p>
        <p class="note" role="note"><span class="marker">注記:</span> この仕様の <a
                href="https://web-platform-tests.org">web-platform-tests</a> による
            テスト検証にも役立ちます。すべての WebDriver コミュニケーションは testdriver.js を通じてテストハーネスを含むフレームへ行われます
            （<a
                href="https://web-platform-tests.org/writing-tests/testdriver.html#using-test-driver-in-other-browsing-contexts">詳細</a>）。
        </p>
        <h3 class="heading settled" data-level="9.2" id="section-extension-commands"><span class="secno">9.2.
            </span><span class="content">拡張コマンド</span><a class="self-link" href="#section-extension-commands"></a></h3>
        <h4 class="heading settled" data-level="9.2.1" id="create-virtual-sensor-command"><span class="secno">9.2.1.
            </span><span class="content">仮想センサーの作成</span><a class="self-link" href="#create-virtual-sensor-command"></a>
        </h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTPメソッド
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template">URIテンプレート</a>
                <tr>
                    <td>POST
                    <td>/session/{session id}/sensor
        </table>
        <p>この<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands①">拡張コマンド</a>は、指定した<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type③⑦">センサータイプ</a>の新しい<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor①①">仮想センサー</a>を作成します。同じ<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③③">Sensor</a></code>.<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-start" id="ref-for-dom-sensor-start①">start()</a></code>
            を呼び出した同じ<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑧">センサータイプ</a>の<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③④">Sensor</a></code>インスタンスは、この<a
                data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①②">仮想センサー</a>を
            バックエンド<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor④⑧">デバイスセンサー</a>
            として利用するようになります。これは<a href="#delete-virtual-sensor-command">§ 9.2.4 仮想センサーの削除</a>が実行されるまで継続します。</p>
        <p class="note" role="note"><span class="marker">注記:</span> この<a data-link-type="dfn"
                href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands②">拡張コマンド</a>の仕組みにより、
            同じ型の<code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑤">Sensor</a></code>インスタンスが
            共存し、異なる<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor④⑨">デバイスセンサー</a>を持つことができます。<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑥">Sensor</a></code>
            <code>sensor</code>がこのコマンド実行前に物理センサーへ接続されている場合、そのセンサーから引き続き読み取り値を受け取ります。
            <a data-link-type="dfn" href="#connect-to-sensor" id="ref-for-connect-to-sensor①">connect to
                sensor</a>が再び呼ばれた場合のみ、仮想センサーから読み取りを受けるようになります。
        </p>
        <table class="data">
            <caption>このアルゴリズムで使用される<code>parameters</code>引数のプロパティ</caption>
            <thead>
                <tr>
                    <th>パラメーター名
                    <th>値の型
                    <th>必須
            <tbody>
                <tr>
                    <td>"<code>type</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" id="ref-for-sec-string-objects">String</a></code>
                    <td>Yes
                <tr>
                    <td>"<code>connected</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects" id="ref-for-sec-boolean-objects">Boolean</a></code>
                    <td>No
                <tr>
                    <td>"<code>maxSamplingFrequency</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>
                    <td>No
                <tr>
                    <td>"<code>minSamplingFrequency</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects①">Number</a></code>
                    <td>No
        </table>
        <div class="algorithm" data-algorithm="create virtual sensor">
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps">remote end手順</a>は以下の通りです:
            <ol>
                <li data-md>
                    <p><var>virtualSensorType</var>に<var>parameters</var>から<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties">プロパティ" <code>type</code> "</a>を取得した値を格納する。
                    </p>
                <li data-md>
                    <p>もし<var>virtualSensorType</var>が<code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" id="ref-for-sec-string-objects①">String</a></code>でない場合、
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error">error</a>と<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code">WebDriver
                            error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p>もし<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata">型別仮想センサーメタデータ</a>が<var>virtualSensorType</var>を<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists③">含まない</a>場合、<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①">error</a>と<a
                            data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code①">WebDriver error code</a><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>topLevelVirtualSensorMapping</var>に<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context">現在のブラウジングコンテキスト</a>の<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable">top-level traversable</a>の<a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping④">仮想センサーマッピング</a>を格納する。
                    </p>
                <li data-md>
                    <p>もし<var>topLevelVirtualSensorMapping</var>が<var>virtualSensorType</var>を<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">含んでいる</a>場合、<a
                            data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error②">error</a>と<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code②">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument②">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>connected</var>に<var>parameters</var>から<code>"connected"</code>プロパティをtrueでデフォルト取得した結果を格納する。
                    </p>
                <li data-md>
                    <p><var>maxSamplingFrequency</var>に<var>parameters</var>から<code>"maxSamplingFrequency"</code>プロパティを実装依存の値でデフォルト取得した結果を格納する。
                    </p>
                <li data-md>
                    <p>もし<var>maxSamplingFrequency</var>が<code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects②">Number</a></code>でない、
                        または<strong>NaN</strong>、+∞、−∞のいずれかなら<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error③">error</a>と<a
                            data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code③">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument③">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>minSamplingFrequency</var>に<var>parameters</var>から<code>"minSamplingFrequency"</code>プロパティを実装依存の値でデフォルト取得した結果を格納する。
                    </p>
                <li data-md>
                    <p>もし<var>minSamplingFrequency</var>が<code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects③">Number</a></code>でない、
                        または<strong>NaN</strong>、+∞、−∞のいずれかなら<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error④">error</a>と<a
                            data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code④">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument④">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p>もし<var>minSamplingFrequency</var>が<var>maxSamplingFrequency</var>より大きい場合、<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑤">error</a>と<a
                            data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code⑤">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑤">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>virtualSensor</var>に新しい<a data-link-type="dfn" href="#virtual-sensor"
                            id="ref-for-virtual-sensor①④">仮想センサー</a>を作成して格納する。</p>
                <li data-md>
                    <p><var>virtualSensor</var>の<a data-link-type="dfn" href="#virtual-sensor-can-provide-readings-flag"
                            id="ref-for-virtual-sensor-can-provide-readings-flag②">can provide readings
                            flag</a>に<var>connected</var>の値を設定する。
                    </p>
                <li data-md>
                    <p><var>virtualSensor</var>の<a data-link-type="dfn"
                            href="#virtual-sensor-minimum-sampling-frequency"
                            id="ref-for-virtual-sensor-minimum-sampling-frequency①">minimum sampling
                            frequency</a>に<var>minSamplingFrequency</var>を設定する。
                    </p>
                <li data-md>
                    <p><var>virtualSensor</var>の<a data-link-type="dfn"
                            href="#virtual-sensor-maximum-sampling-frequency"
                            id="ref-for-virtual-sensor-maximum-sampling-frequency①">maximum sampling
                            frequency</a>に<var>maxSamplingFrequency</var>を設定する。
                    </p>
                <li data-md>
                    <p><var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>]に<var>virtualSensor</var>を設定する。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success"
                            id="ref-for-success">success</a>でデータ<code>null</code>として返す。</p>
            </ol>
        </div>
        <div class="example" id="example-ee2fd565">
            <a class="self-link" href="#example-ee2fd565"></a>
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                id="ref-for-dfn-current-browsing-context①">現在の閲覧コンテキスト</a>内で、ID 23 の<a data-link-type="dfn"
                href="https://w3c.github.io/webdriver/#dfn-sessions"
                id="ref-for-dfn-sessions">セッション</a>に「ambient-light」仮想センサーを作成するには、<a data-link-type="dfn"
                href="https://w3c.github.io/webdriver/#dfn-local-ends" id="ref-for-dfn-local-ends">ローカルエンド</a>が
            <code>/session/23/sensor</code> に、次のボディを付けて POST します：

            <pre class="highlight lang-json"><c- p>{</c->
  <c- f>"type"</c-><c- p>:</c-> <c- u>"ambient-light"</c-><c- p>,</c->
  <c- f>"maxSamplingFrequency"</c-><c- p>:</c-> <c- mi>60</c-><c- p>,</c->
  <c- f>"minSamplingFrequency"</c-><c- p>:</c-> <c- mi>5</c->
<c- p>}</c->
</pre>

            同じ<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑨">センサータイプ</a>の<a data-link-type="dfn"
                href="#virtual-sensor" id="ref-for-virtual-sensor①⑤">仮想センサー</a>は、<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"
                id="ref-for-top-level-traversable②">トップレベル traversable</a> につき 1 つしか作成できません。これに違反すると、<a
                data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                id="ref-for-dfn-invalid-argument⑥">invalid argument</a> の<a data-link-type="dfn"
                href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code⑥">WebDriver
                エラーコード</a>が返されます。

        </div>
        <h4 class="heading settled" data-level="9.2.2" id="get-virtual-sensor-information-command"><span
                class="secno">9.2.2. </span><span class="content">仮想センサー情報の取得</span><a class="self-link"
                href="#get-virtual-sensor-information-command"></a></h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTPメソッド
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template①">URIテンプレート</a>
                <tr>
                    <td>GET
                    <td>/session/{session id}/sensor/{type}
        </table>
        <p>この<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands④">拡張コマンド</a>は、<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor①⑥">仮想センサー</a>のうち
            <a href="#create-virtual-sensor-command">§ 9.2.1 仮想センサーの作成</a>によって作成されたものの情報を取得します。
        </p>
        <p>返り値が<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success" id="ref-for-success①">成功</a>の場合、<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#success"
                id="ref-for-success②">success</a>に関連付けられるデータは、次のプロパティを持つ<code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects①">Object</a></code>です:
        </p>
        <table class="data">
            <thead>
                <tr>
                    <th>プロパティ名
                    <th>値の型
                    <th>説明（参考）
            <tbody>
                <tr>
                    <td>"<code>requestedSamplingFrequency</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects④">Number</a></code>
                    <td><a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑦">仮想センサー</a>の
                        <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                            id="ref-for-virtual-sensor-requested-sampling-frequency③">要求サンプリング周波数</a>
        </table>
        <p class="note" role="note"><span class="marker">注:</span> <a
                href="#concepts-sampling-and-reporting-frequencies">§ 5.4 サンプリング周波数とレポート周波数</a>を見ることで、
            <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①④">サンプリング周波数</a>に関する制約や、
            なぜ<a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                id="ref-for-virtual-sensor-requested-sampling-frequency④">要求サンプリング周波数</a>が、<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-defined①①">実装依存</a>値となるのかの説明があります（<a href="#virtual-sensors">§ 9.1
                仮想センサー</a>）。通常、この値が
            <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑧">仮想センサー</a>の<a
                data-link-type="dfn" href="#virtual-sensor-minimum-sampling-frequency"
                id="ref-for-virtual-sensor-minimum-sampling-frequency②">最小サンプリング周波数</a> と
            <a data-link-type="dfn" href="#virtual-sensor-maximum-sampling-frequency"
                id="ref-for-virtual-sensor-maximum-sampling-frequency②">最大サンプリング周波数</a>で設定される範囲内にあると考えれば安全です。
        </p>
        <div class="algorithm" data-algorithm="get virtual sensor information">

            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps①">リモートエンド手順</a>は次の通りです:

            <ol>
                <li data-md>
                    <p><var>virtualSensorType</var> を、<code>type</code> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-url-variables"
                            id="ref-for-dfn-url-variables">URL変数</a>の値とする。</p>
                <li data-md>
                    <p><var>topLevelVirtualSensorMapping</var> を、<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context②">現在の閲覧コンテキスト</a>の
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable①">トップレベルtraversable</a> の <a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑤">仮想センサーマッピング</a>とする。
                    </p>
                <li data-md>
                    <p>もし<var>topLevelVirtualSensorMapping</var>が<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">含まない</a>
                        <var>virtualSensorType</var>ならば、
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error⑥">エラー</a>を
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code⑦">WebDriverエラーコード</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑦">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>virtualSensor</var> を
                        <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>] とする。
                    </p>
                <li data-md>
                    <p><var>info</var> を新しい <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects②">Object</a></code>
                        とする。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-set-a-property"
                            id="ref-for-dfn-set-a-property">プロパティの設定</a>を
                        <var>info</var>に対し実行し、"<code>requestedSamplingFrequency</code>"と
                        <var>virtualSensor</var>の
                        <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                            id="ref-for-virtual-sensor-requested-sampling-frequency⑤">要求サンプリング周波数</a>を設定する。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success"
                            id="ref-for-success③">success</a>でデータ<var>info</var>を返す。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="9.2.3" id="update-virtual-sensor-reading-command"><span
                class="secno">9.2.3. </span><span class="content">仮想センサー読み取り値の更新</span><a class="self-link"
                href="#update-virtual-sensor-reading-command"></a></h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTPメソッド
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template②">URIテンプレート</a>
                <tr>
                    <td>POST
                    <td>/session/{session id}/sensor/{type}
        </table>
        <p>この<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands⑤">拡張コマンド</a>は、新しい<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑤③">センサー読み取り</a>を<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④⑧">プラットフォームセンサー</a>
            で利用可能にします。</p>
        <p class="note" role="note"><span class="marker">注記:</span>
            <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑨">仮想センサー</a>は<a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑤⓪">デバイスセンサー</a>と同じように振る舞うため、ここで生成された
            <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤④">センサー読み取り</a>も
            <a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④⑨">プラットフォームセンサー</a>で処理されます（たとえば
            <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⓪">センサータイプ</a>の
            <a data-link-type="dfn" href="#threshold-check-algorithm"
                id="ref-for-threshold-check-algorithm⑤">閾値チェックアルゴリズム</a>
            や
            <a data-link-type="dfn" href="#can-expose-sensor-readings" id="ref-for-can-expose-sensor-readings②">can
                expose sensor readings</a>
            の結果などで読み取りが破棄されることがあります）。
        </p>
        <table class="data">
            <caption>このアルゴリズムで使用される<code>parameters</code>引数のプロパティ</caption>
            <thead>
                <tr>
                    <th>パラメーター名
                    <th>値の型
                    <th>必須
            <tbody>
                <tr>
                    <td>"<code>reading</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects③">Object</a></code>
                    <td>Yes
        </table>
        <div class="algorithm" data-algorithm="update virtual sensor reading">
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps②">remote end手順</a>は以下の通りです:
            <ol>
                <li data-md>
                    <p><var>reading</var>に<var>parameters</var>から
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties①">プロパティ"<code>reading</code>"</a>を取得した値を格納する。
                    </p>
                <li data-md>
                    <p>もし<var>reading</var>が<code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects④">Object</a></code>でなければ、
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error⑦">error</a>と<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code⑧">WebDriver error code</a> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑧">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>virtualSensorType</var>に<code>type</code> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-url-variables"
                            id="ref-for-dfn-url-variables①">url変数</a>の値を格納する。</p>
                <li data-md>
                    <p>もし<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata①">型別仮想センサーメタデータ</a>が
                        <var>virtualSensorType</var>を<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">含まない</a>場合、
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error⑧">error</a>と<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code⑨">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑨">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>metadata</var>に<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata②">型別仮想センサーメタデータ</a>[<var>virtualSensorType</var>]を格納。
                    </p>
                <li data-md>
                    <p><var>topLevelVirtualSensorMapping</var>に<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context③">現在のブラウジングコンテキスト</a>の
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable②">top-level traversable</a> の
                        <a data-link-type="dfn" href="#virtual-sensor-mapping"
                            id="ref-for-virtual-sensor-mapping⑥">仮想センサーマッピング</a>を格納。
                    </p>
                <li data-md>
                    <p>もし<var>topLevelVirtualSensorMapping</var>が<var>virtualSensorType</var>を
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑦">含まない</a>
                        場合、<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error⑨">error</a>と
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code①⓪">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①⓪">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>virtualSensor</var>に<var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>]を格納。
                    </p>
                <li data-md>
                    <p><var>parsedReading</var>に<var>metadata</var>の<a data-link-type="dfn"
                            href="#virtual-sensor-metadata-reading-parsing-algorithm"
                            id="ref-for-virtual-sensor-metadata-reading-parsing-algorithm">reading parsing
                            algorithm</a>を
                        <var>reading</var>で呼び出した結果を格納する。
                    </p>
                <li data-md>
                    <p>もし<var>parsedReading</var>が<strong>undefined</strong>であれば、
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error①⓪">error</a>と
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code①①">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①①">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-defined①②">実装依存</a>な方法で
                        <var>parsedReading</var>を
                        <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor⑤⓪">プラットフォームセンサー</a>が取得できるようにする。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success"
                            id="ref-for-success④">success</a>でデータ<code>null</code>として返す。</p>
            </ol>
        </div>
        <h5 class="heading settled" data-level="9.2.3.1" id="algorithms-for-parsing-readings"><span
                class="secno">9.2.3.1. </span><span class="content">読み取り値の解析アルゴリズム</span><a class="self-link"
                href="#algorithms-for-parsing-readings"></a></h5>
        <p>この仕様では、<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification⑧">拡張仕様</a>が<a data-link-type="dfn"
                href="#per-type-virtual-sensor-metadata"
                id="ref-for-per-type-virtual-sensor-metadata③">型別仮想センサーメタデータ</a>で利用する<a data-link-type="dfn"
                href="#virtual-sensor-metadata"
                id="ref-for-virtual-sensor-metadata①">仮想センサーメタデータ</a>定義時に使えるいくつかのアルゴリズムを定義しています。</p>
        <h6 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="9.2.3.1.1"
            data-lt="Parse single-value number reading" id="parse-single-value-number-reading"><span
                class="secno">9.2.3.1.1. </span><span class="content">単一値読み取り（数値）の解析</span><a class="self-link"
                href="#parse-single-value-number-reading" id="ref-for-parse-single-value-number-reading"></a></h6>
        <div class="algorithm" data-algorithm="parse single-value number reading">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>parameters</var>：JSON <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑤">Object</a></code>
                    </p>
                <dd data-md>
                    <p><var>valueName</var>：<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string"
                            id="ref-for-string">文字列</a></p>
                <dt data-md>出力
                <dd data-md>
                    <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑤">センサー読み取り値</a> もしくは
                        <strong>undefined</strong>
                    </p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>value</var> に <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties②">get a property</a> を
                        <var>parameters</var>・<var>valueName</var> で呼び出した結果を格納する。
                    </p>
                <li data-md>
                    <p>もし <var>value</var> が <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑤">Number</a></code>
                        でない、または値が <strong>NaN</strong>、+∞、−∞ なら <strong>undefined</strong> を返す。</p>
                <li data-md>
                    <p><var>reading</var> に新しい <a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading⑤⑥">センサー読み取り値</a> を割り当てる。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set③">Set</a> <var>reading</var>[<var>valueName</var>] を <var>value</var>
                        に設定する。
                    </p>
                <li data-md>
                    <p><var>reading</var> を返す。</p>
            </ol>
        </div>
        <h6 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="9.2.3.1.2"
            data-lt="Parse XYZ reading" id="parse-xyz-reading"><span class="secno">9.2.3.1.2. </span><span
                class="content">XYZ読み取り値の解析</span><a class="self-link" href="#parse-xyz-reading"
                id="ref-for-parse-xyz-reading"></a></h6>
        <div class="algorithm" data-algorithm="parse xyz reading">
            <dl>
                <dt data-md>入力
                <dd data-md>
                    <p><var>parameters</var>：JSON <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑥">Object</a></code>
                    </p>
                <dt data-md>出力
                <dd data-md>
                    <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑦">センサー読み取り値</a> もしくは
                        <strong>undefined</strong>
                    </p>
            </dl>
            <ol>
                <li data-md>
                    <p><var>x</var> に <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties③">get a property</a> を
                        <var>parameters</var>・"<code>x</code>" で呼んだ値を格納する。
                    </p>
                <li data-md>
                    <p>もし <var>x</var> が <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑥">Number</a></code>
                        でない、または <strong>NaN</strong>、+∞、−∞ の場合 <strong>undefined</strong> を返す。</p>
                <li data-md>
                    <p><var>y</var> に <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties④">get a property</a> を
                        <var>parameters</var>・"<code>y</code>" で呼んだ値を格納する。
                    </p>
                <li data-md>
                    <p>もし <var>y</var> が <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑦">Number</a></code>
                        でない、または <strong>NaN</strong>、+∞、−∞ の場合 <strong>undefined</strong> を返す。</p>
                <li data-md>
                    <p><var>z</var> に <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties⑤">get a property</a> を
                        <var>parameters</var>・"<code>z</code>" で呼んだ値を格納する。
                    </p>
                <li data-md>
                    <p>もし <var>z</var> が <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑧">Number</a></code>
                        でない、または <strong>NaN</strong>、+∞、−∞ の場合 <strong>undefined</strong> を返す。</p>
                <li data-md>
                    <p><var>reading</var> に新しい <a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading⑤⑧">センサー読み取り値</a> を割り当てる。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set④">Set</a> <var>reading</var>["<code>x</code>"] を <var>x</var> に設定する。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set⑤">Set</a> <var>reading</var>["<code>y</code>"] を <var>y</var> に設定する。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set⑥">Set</a> <var>reading</var>["<code>z</code>"] を <var>z</var> に設定する。</p>
                <li data-md>
                    <p><var>reading</var> を返す。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="9.2.4" id="delete-virtual-sensor-command"><span class="secno">9.2.4.
            </span><span class="content">仮想センサーの削除</span><a class="self-link" href="#delete-virtual-sensor-command"></a>
        </h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTPメソッド
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template③">URIテンプレート</a>
                <tr>
                    <td>DELETE
                    <td>/session/{session id}/sensor/{type}
        </table>
        <p>この<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands⑥">拡張コマンド</a>は、指定した型の<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor②⓪">仮想センサー</a>を削除します。</p>
        <div class="algorithm" data-algorithm="delete virtual sensor">
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps③">remote end手順</a>は以下の通りです:
            <ol>
                <li data-md>
                    <p><var>virtualSensorType</var> に <code>type</code> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-url-variables"
                            id="ref-for-dfn-url-variables②">url変数</a> の値を格納する。</p>
                <li data-md>
                    <p>もし<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata④">型別仮想センサーメタデータ</a>が<var>virtualSensorType</var>を<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑧">含まない</a>場合、<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①①">error</a>と<a
                            data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code"
                            id="ref-for-dfn-error-code①②">WebDriver error code</a>
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①②">invalid argument</a>で返す。
                    </p>
                <li data-md>
                    <p><var>topLevelVirtualSensorMapping</var> に <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context④">現在のブラウジングコンテキスト</a>の<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable③">top-level traversable</a>の<a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑦">仮想センサーマッピング</a>を格納する。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove"
                            id="ref-for-map-remove">Remove</a>
                        <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>]。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success"
                            id="ref-for-success⑤">success</a>でデータ<code>null</code>として返す。</p>
            </ol>
        </div>
        <p class="note" role="note"><span class="marker">注記:</span> 利用中の<a data-link-type="dfn"
                href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑤①">デバイスセンサー</a>が利用できなくなった場合（例えば物理的切断やUser Agentとは無関係な理由で停止など）に、<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤①">プラットフォームセンサー</a>や<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑦">Sensor</a></code>インスタンスがどう振る舞うかは規定されていません。実装では既存の<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑧">Sensor</a></code>インスタンスを不変としたり（新しい値を報告しない）、<a
                data-link-type="dfn" href="#deactivate-a-sensor-object"
                id="ref-for-deactivate-a-sensor-object③">センサーオブジェクトを非アクティブ化</a>したり、最終的に<a data-link-type="dfn"
                href="#notify-error" id="ref-for-notify-error③">エラー通知</a>を呼び出すようにエラー報告したりできます。</p>
        <h2 class="heading settled" data-level="10" id="extensibility"><span class="secno">10. </span><span
                class="content">拡張性</span><a class="self-link" href="#extensibility"></a></h2>
        <p><em>このセクションは規範的ではありません。</em></p>
        <p class="note" role="note"><span class="marker">注記:</span> このセクションおよびそのサブセクションは、<a data-link-type="dfn"
                href="#extension-specification"
                id="ref-for-extension-specification⑨">拡張仕様</a>の<em>著者</em>向けの規範用語でガイダンスを示しています。<em>実装者</em>の立場では、このセクションおよびそのサブセクションは規範的でないものと見なされます。
        </p>
        <p>このセクションでは、本仕様を拡張してさまざまな<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type④①">センサータイプ</a>のAPIを定義する方法について説明します。</p>
        <p>このような<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="extension specification" data-noexport
                id="extension-specification">拡張仕様</dfn>は、1つの<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type④②">センサータイプ</a>に焦点を当て、高水準(<a data-link-type="dfn" href="#high-level"
                id="ref-for-high-level⑦">ハイレベル</a>)および低水準(<a data-link-type="dfn" href="#low-level"
                id="ref-for-low-level⑦">ローレベル</a>)
            の両方を適宜公開することを推奨します。
        </p>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⓪">拡張仕様</a>は
            <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑨">センサー読み取り値</a>に
            <a data-link-type="dfn" href="#calibration"
                id="ref-for-calibration①">キャリブレーション</a>プロセスが適用されるかどうか明示するのが望ましいです。
        </p>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①①">拡張仕様</a>
            では、関連する<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④③">センサータイプ</a>の<a
                data-link-type="dfn" href="#local-coordinate-system"
                id="ref-for-local-coordinate-system④">ローカル座標系</a>を明示的に定義するか、<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑨">Sensor</a></code>ごとに設定可能にしても構いません。
        </p>
        <p>最新の<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①②">拡張仕様</a>の一覧は、<a data-link-type="biblio"
                href="#biblio-generic-sensor-usecases" title="Sensor Use Cases">[GENERIC-SENSOR-USECASES]</a> および
            <a data-link-type="biblio" href="#biblio-motion-sensors"
                title="Motion Sensors Explainer">[MOTION-SENSORS]</a> を参照してください。
        </p>
        <h3 class="heading settled" data-level="10.1" id="extension-security-and-privacy"><span class="secno">10.1.
            </span><span class="content">セキュリティとプライバシー</span><a class="self-link"
                href="#extension-security-and-privacy"></a></h3>
        <p><a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①③">拡張仕様</a>は以下を行うことが期待されます：</p>
        <ul>
            <li data-md>
                <p>一般的な<a href="#mitigation-strategies">緩和戦略</a>に準拠すること</p>
            <li data-md>
                <p><a href="#mitigation-strategies-case-by-case">ケースごとに適用される緩和戦略</a>を考慮すること</p>
            <li data-md>
                <p>セキュリティ・プライバシー自己レビューアンケート<a data-link-type="biblio" href="#biblio-security-privacy-questionnaire"
                        title="Self-Review Questionnaire: Security and Privacy">[SECURITY-PRIVACY-QUESTIONNAIRE]</a>
                    の評価を受けること</p>
            <li data-md>
                <p>特に、センサーにより新たな通信チャネルが同一オリジン・ポリシー外で開放されうる場合に生じる
                    <a class="non-normative" data-link-type="dfn"
                        href="https://w3ctag.github.io/security-questionnaire/#sop-violations"
                        id="ref-for-sop-violations">同一オリジン・ポリシー違反</a>の評価を受けること
                </p>
        </ul>
        <h3 class="heading settled" data-level="10.2" id="naming"><span class="secno">10.2. </span><span
                class="content">命名</span><a class="self-link" href="#naming"></a></h3>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⓪">Sensor</a></code>インターフェース（<a
                data-link-type="dfn" href="#low-level" id="ref-for-low-level⑧">ローレベル</a>センサー用）は、その<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤③">プラットフォームセンサー</a>にちなんだ名前を付けるべきです。
            例えば、ジャイロスコープに対応するインターフェースは単に<code>Gyroscope</code>とするのが好ましいです。
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④①">Sensor</a></code>インターフェース（<a
                data-link-type="dfn" href="#high-level" id="ref-for-high-level⑧">ハイレベル</a>）は、
            物理量の名称+"Sensor"のように命名すべきです。
            例えば、距離を測る<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤④">プラットフォームセンサー</a>は、そのインターフェース名を<code>ProximitySensor</code>などとします。
        </p>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④②">Sensor</a></code>サブクラスの属性で
            <a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑥⓪">読み取り値</a>を保持するものは、その値の完全な名称を用いて命名するべきです。
            たとえば<code>Thermometer</code>インターフェースでは値属性名を<code>temperature</code>（<code>value</code>,
            <code>temp</code>ではない）として持つのが適切です。
            命名の参考として、Quantities, Units, Dimensions and Data Types Ontologies
            <a data-link-type="biblio" href="#biblio-qudt"
                title="Quantities, Units, Dimensions and Types (QUDT)">[QUDT]</a>
            を挙げます。
        </p>
        <h3 class="heading settled" data-level="10.3" id="unit"><span class="secno">10.3. </span><span
                class="content">単位</span><a class="self-link" href="#unit"></a></h3>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①④">拡張仕様</a>は
            <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥②">センサー読み取り値</a>の単位を明示しなければなりません。
        </p>
        <p>TAGのAPI設計原則
            <a data-link-type="biblio" href="#biblio-api-design-principles"
                title="Web Platform Design Principles">[API-DESIGN-PRINCIPLES]</a>
            に従い、すべての時間計測はミリ秒単位とし、それ以外の単位については例外（温度はケルビンよりも摂氏優先）を除き、国際単位系（SI）→SI誘導単位→SIで許容される非SI単位の順で規定すべきです。
            詳細についてはSIパンフレット<a data-link-type="biblio" href="#biblio-si"
                title="SI Brochure: The International System of Units (SI), 8th edition">[SI]</a>を参照ください。
        </p>
        <h3 class="heading settled" data-level="10.4" id="high-vs-low-level"><span class="secno">10.4. </span><span
                class="content">ハイレベル vs. ローレベルセンサーの公開</span><a class="self-link" href="#high-vs-low-level"></a></h3>
        <p>これまで、Webプラットフォームでセンサーを公開する仕様は、
            <a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑨">高レベル</a>センサーAPIに焦点を当ててきました。
            <a data-link-type="biblio" href="#biblio-geolocation-api" title="Geolocation">[GEOLOCATION-API]</a>
            <a data-link-type="biblio" href="#biblio-orientation-event"
                title="Device Orientation and Motion">[ORIENTATION-EVENT]</a>
        </p>
        <p>これは多くの理由で妥当なアプローチでした。実際、<a data-link-type="dfn" href="#high-level"
                id="ref-for-high-level①⓪">ハイレベル</a>センサーには次のような利点があります：</p>
        <ul>
            <li data-md>
                <p>開発者の意図が明確に伝わる</p>
            <li data-md>
                <p>基盤ハードウェアセンサーの詳細な知識が不要</p>
            <li data-md>
                <p>使いやすい</p>
            <li data-md>
                <p>ユーザーエージェントが著しい性能・電池寿命改善を実施しやすい</p>
            <li data-md>
                <p>公開される情報量・種類が減り、特定のプライバシー/セキュリティ課題を回避できる</p>
        </ul>
        <p>しかし、バーチャル/ARなど、ますます多くのユースケースで主にパフォーマンス目的から、<a data-link-type="dfn" href="#low-level"
                id="ref-for-low-level⑨">ローレベル</a>なセンサーアクセスが要求されています。</p>
        <p><a data-link-type="dfn" href="#low-level"
                id="ref-for-low-level①⓪">ローレベル</a>アクセスを提供することで、Webアプリ開発者はドメイン固有の制約を生かし、より高性能なシステム設計が可能となります。</p>
        <p>Extensible Web Manifesto
            <a data-link-type="biblio" href="#biblio-extennnnsible"
                title="The Extensible Web Manifesto">[EXTENNNNSIBLE]</a>
            の理念に沿い、<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①⑤">拡張仕様</a>は主に
            <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①①">ローレベル</a>センサーAPIの公開に注力し、明確な利点がある場合は
            <a data-link-type="dfn" href="#high-level" id="ref-for-high-level①①">ハイレベル</a>APIも公開すべきです。
        </p>
        <h3 class="heading settled" data-level="10.5" id="multiple-sensors"><span class="secno">10.5. </span><span
                class="content">同一タイプの複数センサーを有効化すべきでない場合はいつか？</span><a class="self-link" href="#multiple-sensors"></a>
        </h3>
        <p>同じ<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④④">センサータイプ</a>、同一構築パラメータの<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④③">Sensor</a></code>インスタンスを複数作成することは、
            不要なハードウェアリソース消費につながるため望ましくありません。</p>
        <p>新たな<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑥③">センサー読み取り値</a>が利用可能になった際に複数の監視者が通知を求める場合は、
            同一<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑤">センサータイプ</a>の複数インスタンスを作るよりも、
            ひとつの<code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④④">Sensor</a></code>インスタンスに
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener"
                id="ref-for-concept-event-listener①">イベントリスナー</a>を追加したり、
            シンプルな<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onreading" id="ref-for-dom-sensor-onreading①">onreading</a></code>
            イベントハンドラを使うべきです。
        </p>
        <p>逆に、同じ<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑥">センサータイプ</a>であっても、
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑤">Sensors</a></code>を異なる設定
            （ <code
                class="idl"><a data-link-type="idl" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency③">frequency</a></code>、
            精度やその他<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①⑥">拡張仕様</a>で
            定義される設定）で使いたい場合は複数作成しても構いません。
        </p>
        <h3 class="heading settled" data-level="10.6" id="definition-reqs"><span class="secno">10.6. </span><span
                class="content">定義の要件</span><a class="self-link" href="#definition-reqs"></a></h3>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑦">拡張仕様</a>は
            <a href="#model-sensor-type">§ 6.1 センサータイプ</a>に挙げられたすべての関連データを
            定義しなければなりません。
        </p>
        <p>このセクションでは、<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①⑧">拡張仕様</a>が
            明示すべき関連データの詳細を解説します。</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="extension-sensor-interface">拡張センサーインターフェース</dfn>：
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-interface"
                        id="ref-for-dfn-interface①">インターフェース</a>
                    であり、その<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-inherited-interfaces"
                        id="ref-for-dfn-inherited-interfaces">継承元インターフェース</a>に
                    <code
                        class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑥">Sensor</a></code>を含むもの。
                    <a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface④">拡張センサーインターフェース</a>は構築可能である必要があり、
                    その[<code
                        class="idl"><a class="idl-code" data-link-type="extended-attribute">Constructor</a></code>]は
                    オプションで<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                        id="ref-for-dfn-dictionary">辞書</a>（<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries"
                        id="ref-for-dfn-inherited-dictionaries">継承元辞書</a>が
                    <code
                        class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions①">SensorOptions</a></code>を含む）を引数に取る必要があります。
                </p>
                <p><a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface⑤">拡張センサーインターフェース</a>は
                    <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                        id="ref-for-ordered-set⑥">サポートオプション集合</a>（<dfn class="dfn-paneled" data-dfn-type="dfn"
                        data-export id="supported-sensor-options">対応センサーオプション</dfn>という）を持ちます。
                    <a data-link-type="dfn" href="#extension-specification"
                        id="ref-for-extension-specification①⑨">拡張仕様</a> による追加定義が無い限り、
                    <a data-link-type="dfn" href="#supported-sensor-options"
                        id="ref-for-supported-sensor-options①">対応センサーオプション</a>には "frequency" だけが含まれます。
                </p>
                <p>User Agentは、センサーインターフェース用に対応できないオプションを
                    <a data-link-type="dfn" href="#supported-sensor-options"
                        id="ref-for-supported-sensor-options②">対応センサーオプション</a>から除去しなければなりません。
                </p>
                <p><a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface⑦">拡張センサーインターフェース</a>上で<a data-link-type="dfn"
                        href="#sensor-reading" id="ref-for-sensor-reading⑥④">センサー読み取り値</a>を公開する属性は
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-read-only"
                        id="ref-for-dfn-read-only">読み取り専用</a>であり、getterは <a data-link-type="dfn"
                        href="#get-value-from-latest-reading" id="ref-for-get-value-from-latest-reading③">get value from
                        latest reading</a> を
                    this と属性名（<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier"
                        id="ref-for-dfn-identifier②">identifier</a>）で呼び、その値を返さなければなりません。
                </p>
            <li data-md>
                <p>もし<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑦">センサータイプ</a>が<a
                        data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑧">センサーフュージョン</a>である場合は、
                    その<a data-link-type="dfn" href="#sensor-permission-names"
                        id="ref-for-sensor-permission-names②">センサー許可名</a>は統合元の<a data-link-type="dfn"
                        href="#sensor-type" id="ref-for-sensor-type④⑧">センサータイプ</a>と同じでなければなりません。</p>
        </ul>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②⓪">拡張仕様</a>は
            各<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑨">センサータイプ</a>について次を定義しても構いません：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                        id="ref-for-dfn-dictionary①">辞書</a>（<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries"
                        id="ref-for-dfn-inherited-dictionaries①">継承元辞書</a>に
                    <code
                        class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions②">SensorOptions</a></code>を含むもの）
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor⑥">デフォルトセンサー</a>。
                    通常、デバイスごとに各型の<a data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor⑤⑥">プラットフォームセンサー</a>は1つのみとなるため、
                    デフォルトセンサーの定義は単純です。
                    ただし<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤①">センサータイプ</a>に複数
                    <a data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor⑤②">センサー</a>が一般的なケースでは
                    <a data-link-type="dfn" href="#extension-specification"
                        id="ref-for-extension-specification②①">拡張仕様</a>はデフォルトセンサーを定義しない選択もできます（無意味な場合等）。
                </p>
        </ul>
        <h3 class="heading settled" data-level="10.7" id="extend-automation"><span class="secno">10.7. </span><span
                class="content">自動化</span><a class="self-link" href="#extend-automation"></a></h3>
        <p>ユーザーエージェントの自動化やアプリケーションテストを可能にするため、<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification②②">拡張仕様</a>について以下を推奨します：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry"
                        id="ref-for-map-entry④">エントリ</a>を一つ以上<a data-link-type="dfn"
                        href="#per-type-virtual-sensor-metadata"
                        id="ref-for-per-type-virtual-sensor-metadata⑤">型別仮想センサーメタデータ</a>に追加すること。</p>
            <li data-md>
                <p>結果として、一つ以上の<a data-link-type="dfn" href="#virtual-sensor-metadata"
                        id="ref-for-virtual-sensor-metadata②">仮想センサーメタデータ</a>インスタンスを定義すること。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤②">センサータイプ</a>に対応する<a
                        data-link-type="dfn" href="#virtual-sensor-type"
                        id="ref-for-virtual-sensor-type④">仮想センサータイプ</a>を指定し、
                    それが対応する<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                        id="ref-for-per-type-virtual-sensor-metadata⑥">型別仮想センサーメタデータ</a>エントリのキーと一致するようにすること。</p>
        </ul>
        <div class="example" id="example-91eda903">
            <a class="self-link" href="#example-91eda903"></a> <a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification②③">拡張仕様</a>のうち、
            <a href="#example-webidl">§ 10.10 WebIDL例</a>で説明された近接センサー用には、次のような記述が含まれる場合があります：
            <blockquote>
                <strong>Proximity Sensor</strong> は一つの<a data-link-type="dfn" href="#sensor-type"
                    id="ref-for-sensor-type⑤③">センサータイプ</a>であり、<a data-link-type="dfn" href="#extension-sensor-interface"
                    id="ref-for-extension-sensor-interface⑧">拡張センサーインターフェース</a>
                <code>ProximitySensor</code>と対応しています。その<a data-link-type="dfn" href="#virtual-sensor-type"
                    id="ref-for-virtual-sensor-type⑤">仮想センサータイプ</a>は"<code>proximity</code>"です。
                <p><em>[...]</em></p>
                <p><strong>proximity読み取り解析アルゴリズム</strong>は、JSON <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑦">Object</a></code>
                    <em>parameters</em> を受け取り、<a data-link-type="dfn" href="#parse-single-value-number-reading"
                        id="ref-for-parse-single-value-number-reading①">単一値読み取り（数値）の解析</a> を
                    <em>parameters</em> と "<code>distance</code>" で呼び出さなければならない。
                </p>
                <p><a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                        id="ref-for-per-type-virtual-sensor-metadata⑦">型別仮想センサーメタデータ</a> <a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">マップ</a> には、キーが
                    "<code>proximity</code>" であり、その値が
                    <a data-link-type="dfn" href="#virtual-sensor-metadata"
                        id="ref-for-virtual-sensor-metadata③">仮想センサーメタデータ</a>（その <a data-link-type="dfn"
                        href="#virtual-sensor-metadata-reading-parsing-algorithm"
                        id="ref-for-virtual-sensor-metadata-reading-parsing-algorithm①">reading parsing algorithm</a>
                    が <em>proximity読み取り解析アルゴリズム</em>である）というエントリが必要です。
                </p>
            </blockquote>
        </div>
        <h3 class="heading settled" data-level="10.8" id="permission-api"><span class="secno">10.8. </span><span
                class="content">Permission API の拡張</span><a class="self-link" href="#permission-api"></a></h3>
        <p>各<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤④">センサータイプ</a>の<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑦">Sensor</a></code>インターフェース実装は、
            <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⑤">読み取り値</a>を対応する<a
                data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name③">名前</a>
            または<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor">PermissionDescriptor</a></code>
            で保護しなければなりません。
            <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①②">ローレベル</a>の<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑧">sensor</a></code>は自身のインターフェース名（例:
            "gyroscope"や"accelerometer"）を
            <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name"
                id="ref-for-dfn-name④">名前</a>として利用してもよいです。
            <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑨">センサーフュージョン</a>は統合元のすべてのセンサーに対し
            <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use"
                id="ref-for-dfn-request-permission-to-use①">利用許可リクエスト</a> が必要です。
        </p>
        <p>たとえフューズデータから<a data-link-type="dfn" href="#low-level" id="ref-for-low-level①③">ローレベル</a> <a
                data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑥⑥">読み取り値</a>を再構築するのが難しい場合でも、元データの一部は推測される可能性があります。例えば、絶対あるいは地磁気オリエンテーションセンサーが使われるとユーザの空間方向を推定しやすいため、これらのセンサーはデバイスの地磁気との関係を提供する磁力計(magnetometer)の利用許可が必須です。対して、相対オリエンテーションセンサーはそのような情報を公開しないため、磁力計の利用許可は不要です。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor①">Permission descriptors</a></code>
            を使うことで、許容される精度や<a data-link-type="dfn" href="#sampling-frequency"
                id="ref-for-sampling-frequency①⑤">サンプリング周波数</a>に最大制限を設定することもできます。以下は、加速度センサー向けのPermission APIの拡張例です。</p>
        <pre class="example highlight" id="example-88a9149d"><a class="self-link" href="#example-88a9149d"></a><c- b>dictionary</c-> <c- g>AccelerometerPermissionDescriptor</c-> : <c- n>PermissionDescriptor</c-> {
    <c- b>boolean</c-> <c- g>highAccuracy</c-> = <c- b>false</c->;
    <c- b>boolean</c-> <c- g>highFrequency</c-> = <c- b>false</c->;
};
</pre>
        <h3 class="heading settled" data-level="10.9" id="permissions-policy-api"><span class="secno">10.9. </span><span
                class="bs-old-id" id="feature-policy-api"></span><span class="content">Permissions Policy API
                の拡張</span><a class="self-link" href="#permissions-policy-api"></a></h3>
        <p>各<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⑤">センサータイプ</a>の<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑨">Sensor</a></code>インターフェース実装は、
            （<a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①⓪">センサーフュージョン</a>されていない場合は）1つ、
            されている場合は複数の、
            <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature③">ポリシー制御機能</a> を持ち、その実装がドキュメント内で利用可能かどうかを制御します。
        </p>
        <p><a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature④">機能</a>の<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"
                id="ref-for-policy-controlled-feature-default-allowlist">デフォルト許可リスト</a>は<code>'self'</code>です。
        </p>
        <p class="note" role="note"><span class="marker">注記:</span> <a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"
                id="ref-for-policy-controlled-feature-default-allowlist①">デフォルト許可リスト</a>
            <code>'self'</code>は、同一オリジンの入れ子フレームで
            <code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤⓪">Sensor</a></code>インターフェースの実装利用を許可し、サードパーティコンテンツからの
            <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⑦">センター読み取り</a>アクセスを防ぎます。
        </p>
        <p><a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names②">センサー機能名</a>の<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                id="ref-for-ordered-set⑦">集合</a>は、関連付けられた<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature⑤">ポリシー制御機能</a>のトークンすべてを含まなければなりません。</p>
        <p><a data-link-type="dfn" href="#low-level" id="ref-for-low-level①④">ローレベル</a>の<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤①">sensor</a></code>は
            インターフェース名を<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature⑦">ポリシー制御機能</a>トークン（例: "gyroscope"や"accelerometer"）として
            使ってもよいです。<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification②④">拡張仕様</a>に
            明記がなければ、<a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names③">センサー機能名</a>は
            <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⑥">タイプ</a>に結び付いた<a data-link-type="dfn"
                href="#sensor-permission-names" id="ref-for-sensor-permission-names③">センサー許可名</a>と一致します。
        </p>
        <div class="example html" id="example-e92c9492">
            <a class="self-link" href="#example-e92c9492"></a> サードパーティオリジン向けに加速度センサー機能を有効にするには、
            フレームコンテナ要素に<code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="ref-for-attr-iframe-allow">allow</a></code>
            属性を追加します：
            <pre class="highlight"><c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://third-party.com"</c-> <c- e>allow</c-><c- o>=</c-><c- s>"accelerometer"</c-><c- p>/>&lt;/</c-><c- f>iframe</c-><c- p>></c->
</pre>
        </div>
        <div class="example html" id="example-86ff0a65">
            <a class="self-link" href="#example-86ff0a65"></a> センサーの利用自体を完全に禁止するには、HTTPレスポンスヘッダーで
            permissions policyを指定します：
            <pre class="highlight">Permissions<c- o>-</c->Policy<c- o>:</c-> accelerometer<c- o>=</c-><c- p>()</c->
</pre>
        </div>
        <p><a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①①">センサーフュージョン</a>は、統合元センサーの<a
                data-link-type="dfn" href="#sensor-feature-names"
                id="ref-for-sensor-feature-names④">センサー機能名</a>を利用しなければなりません。</p>
        <div class="example html" id="example-dcbd0b33">
            <a class="self-link" href="#example-dcbd0b33"></a> サードパーティオリジンにabsolute orientation sensorで必要となる
            accelerometer、magnetometer、gyroscope機能を許可する例：
            <pre class="highlight"><c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://third-party.com"</c-> <c- e>allow</c-><c- o>=</c-><c- s>"accelerometer; magnetometer; gyroscope"</c-><c- p>/></c->
</pre>
        </div>
        <h3 class="heading settled" data-level="10.10" id="example-webidl"><span class="secno">10.10. </span><span
                class="content">WebIDL例</span><a class="self-link" href="#example-webidl"></a></h3>
        <p>以下は近接<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑤③">センサー</a>用に本仕様を拡張した場合のWebIDL例です。</p>
        <pre class="example highlight" id="example-ce90960e"><a class="self-link" href="#example-ce90960e"></a>[<c- g>SecureContext</c->, <c- g>Exposed</c->=<c- n>Window</c->]
<c- b>interface</c-> <c- g>ProximitySensor</c-> : <c- n>Sensor</c-> {
    <c- g>constructor</c->(<c- b>optional</c-> <c- n>ProximitySensorOptions</c-> <c- g>proximitySensorOptions</c-> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>double</c->? <c- g>distance</c->;
};

<c- b>dictionary</c-> <c- g>ProximitySensorOptions</c-> : <c- n>SensorOptions</c-> {
    <c- b>double</c-> <c- g>min</c->;
    <c- b>double</c-> <c- g>max</c->;
    <c- n>ProximitySensorPosition</c-> <c- g>position</c->;
    <c- n>ProximitySensorDirection</c-> <c- g>direction</c->;
};

<c- b>enum</c-> <c- g>ProximitySensorPosition</c-> {
    <c- s>"top-left"</c->,
    <c- s>"top"</c->,
    <c- s>"top-right"</c->,
    <c- s>"middle-left"</c->,
    <c- s>"middle"</c->,
    <c- s>"middle-right"</c->,
    <c- s>"bottom-left"</c->,
    <c- s>"bottom"</c->,
    <c- s>"bottom-right"</c->
};

<c- b>enum</c-> <c- g>ProximitySensorDirection</c-> {
    <c- s>"front"</c->,
    <c- s>"rear"</c->,
    <c- s>"left"</c->,
    <c- s>"right"</c->,
    <c- s>"top"</c->,
    <c- s>"bottom"</c->
};
</pre>
        <h2 class="heading settled" data-level="11" id="acknowledgements"><span class="secno">11. </span><span
                class="content">謝辞</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>まず何よりも、Anssi Kostiainen に本仕様の開発全体を通じて継続的に献身的なご支援・ご助言頂いたことに感謝します。また、Mikhail Pozdnyakov,
            Alexander Shalamov, Rijubrata Bhaumik, Kenneth Rohde Christiansen には、その実装フィードバック・ご提案・リサーチにより
            仕様策定に多大な示唆を頂きました。</p>
        <p>Rick Waldron には、Web向けのgeneric sensor API設計への議論喚起、元となるAPIのスケッチ、
            Johnny-Five開発での実装フィードバック、仕様策定での継続的なご助言など、多大な貢献に特別な感謝を申し上げます。</p>
        <p>Boris Smus, Tim Volodine, Rich Tibbett には、
            一貫性あるWebセンサーAPI公開初期作業への特別な謝意を表します。</p>
        <p>Anne van Kesteren には、会合・IRC双方で粘り強いサポートを頂いたことに感謝します。</p>
        <p>Domenic Denicola、Jake Archibald 両氏にもご支援に感謝します。</p>
        <p>Frederick Hirsch、Dominique Hazaël-Massieux（HTML5Appsプロジェクト経由）には、管理・技術の両面での協力に感謝します。</p>
        <p>Tab Atkins には Bikeshed作成とその細部まで時間を割いてご指導頂き感謝します。</p>
        <p>Lukasz Olejnik、Maryam Mehrnezhad 両氏には、プライバシー・セキュリティ面での貢献に感謝します。</p>
        <p>以下の方々もGitHub上の議論を通じ、仕様策定に大いに貢献されました:
            Anssi Kostiainen,
            Boris Smus,
            chaals,
            Claes Nilsson,
            Dave Raggett,
            David Mark Clements,
            Domenic Denicola,
            Dominique Hazaël-Massieux (via the HTML5Apps project),
            Francesco Iovine,
            Frederick Hirsch,
            gmandyam,
            Jafar Husain,
            Johannes Hund,
            Kris Kowal,
            Lukasz Olejnik,
            Marcos Caceres,
            Marijn Kruisselbrink,
            Mark Foltz,
            Mats Wichmann,
            Matthew Podwysocki,
            Olli Pettay,
            pablochacin,
            Remy Sharp,
            Rich Tibbett,
            Rick Waldron,
            Rijubrata Bhaumik,
            robman,
            Sean T. McBeth,
            Tab Atkins Jr.,
            Virginie Galindo,
            zenparsing,
            および Zoltan Kis.</p>
        <p>編集面で
            Anssi Kostiainen,
            Dominique Hazaël-Massieux,
            Erik Wilde,
            Michael[tm] Smith
            各氏にも感謝します。</p>
        <script>
            // Scrollspy
            var createScrollSpy = (function () {

                function targetId(element) {
                    return (element.href || "").split("#")[1] || null;
                }

                function getScrollTop() {
                    return (window.pageYOffset !== undefined)
                        ? window.pageYOffset
                        : (document.documentElement || document.body.parentNode || document.body).scrollTop;
                }

                function addClassToParents(element, className, parentClassName) {
                    do {
                        element = element.parentNode;
                    } while (element && element.tagName != "LI")
                    if (element) {
                        var a = element.querySelector("a");
                        if (a) a.className = className;
                        addClassToParents(element, parentClassName ? parentClassName : className);
                    }
                }

                function getPosition(element, container) {
                    var eR = element.getBoundingClientRect();
                    var cR = container.getBoundingClientRect();
                    if (eR.bottom < cR.top) return "above";
                    if (eR.top > cR.bottom) return "below";
                    return "visible";
                }

                function createScrollSpy(options) {
                    options = options || {};

                    var OFFSET = 80,
                        needsUpdate = false,
                        previous = null,
                        current = null,
                        currentNav = null,
                        tocContainer,
                        toc,
                        sections;

                    tocContainer = document.querySelector(options.id);
                    toc = [].slice.call(tocContainer.querySelectorAll("a"), 0);
                    sections = toc.reduce(function (sections, a) {
                        var id = targetId(a);
                        var section = id ? document.getElementById(id) : null;
                        if (section) { sections.push(section); }
                        return sections;
                    }, []);

                    function onscroll() {
                        if (!needsUpdate) {
                            needsUpdate = true;
                            requestAnimationFrame(updatePosition);
                        }
                    }

                    function updatePosition() {
                        needsUpdate = false;
                        var scrollTop = (options.offset || 0) + getScrollTop();
                        current = sections.filter(function (section) {
                            return section.offsetTop < scrollTop;
                        }).pop();
                        current = current ? current.id : null;

                        if (previous !== current) {
                            previous = current;
                            toc.forEach(function (a) {
                                if (targetId(a) == current) {
                                    currentNav = a;
                                } else {
                                    a.className = "";
                                }
                            });
                            if (options.markParents) {
                                addClassToParents(currentNav, options.className, options.parentClassName)
                            } else {
                                currentNav.className = options.className;
                            }
                            if (options.scrollIntoView && typeof currentNav.scrollIntoView == "function") {
                                var p = getPosition(currentNav, tocContainer);
                                if (p == "above") {
                                    currentNav.scrollIntoView(true);
                                } else if (p == "below") {
                                    currentNav.scrollIntoView(false);
                                }
                            }
                        }
                    }

                    return {
                        start: function () {
                            window.addEventListener("scroll", onscroll, false);
                        },

                        stop: function () {
                            window.removeEventListener("scroll", onscroll, false);
                            toc.forEach(function (a) {
                                a.className = "";
                            });
                        }
                    }
                }

                return createScrollSpy;
            })();

            (function () {
                var spy = createScrollSpy({
                    offset: 80,
                    id: "#toc",
                    className: "current",
                    parentClassName: "current-parent",
                    markParents: true,
                    scrollIntoView: true
                });

                var mm = window.matchMedia('screen and (min-width: 78em)');
                if (mm.matches) {
                    spy.start();
                }
                mm.addListener(function (m) {
                    if (m.matches) spy.start();
                    else spy.stop();
                });
            })();
        </script>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">適合性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">ドキュメント規約</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>適合性要件は、記述的な断言とRFC 2119用語の組み合わせで表現されています。
            この文書の規範的部分におけるキーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD
            NOT」、「RECOMMENDED」、「MAY」、「OPTIONAL」はRFC 2119で説明された通りに解釈されるものとします。
            ただし、可読性のため、この仕様ではこれらの語がすべて大文字で記載されているわけではありません。</p>
        <p>この仕様のテキストは、例示や注記、明示的に非規範と記されたセクションを除き、すべて規範です。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>
        </p>
        <p>この仕様の例は「for example」で始まるか、<code>class="example"</code>を用いて規範テキストから区別されます。例：</p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>これは情報提供を目的とした例です。</p>
        </div>
        <p>情報提供用注記は「Note」で始まり、<code>class="note"</code>で規範テキストと区別されます。例：</p>
        <p class="note" role="note">Note: これは情報提供用の注記です。</p>
        <section>
            <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                    class="content">適合するアルゴリズム</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
            <p>アルゴリズムの一部として命令形で記述された要件（例："strip any leading space characters" や "return false and abort these steps"
                など）は、そのアルゴリズムを導入する際に使われているキーワード（"must"、"should"、"may"など）として解釈されます。</p>
            <p>アルゴリズムや特定のステップとして表現された適合性要件は、最終的な結果が同等である限り、どのような方法で実装しても構いません。
                特に、この仕様で定義されるアルゴリズムは理解しやすくすることを意図しており、パフォーマンスを目的とするものではありません。
                実装者は最適化することが推奨されます。</p>
        </section>
    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義される用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#activate-a-sensor-object">センサーオブジェクトのアクティブ化</a><span>, § 8.3</span>
        <li><a href="#dom-sensor-activated">activated</a><span>, § 7.1</span>
        <li><a href="#activated-sensor-objects">アクティブなセンサーオブジェクト</a><span>, § 6.2</span>
        <li><a href="#calibration">キャリブレーション</a><span>, § 5.1</span>
        <li><a href="#can-expose-sensor-readings">センサー読み取り値の公開可否</a><span>, § 5.5</span>
        <li><a href="#virtual-sensor-can-provide-readings-flag">can provide readings flag</a><span>, § 9.1</span>
        <li><a href="#check-sensor-policy-controlled-features">センサーのポリシー制御機能の確認</a><span>, § 8.1</span>
        <li><a href="#connect-to-sensor">センサーへの接続</a><span>, § 8.2</span>
        <li><a href="#dom-sensorerrorevent-sensorerrorevent">constructor(type, errorEventInitDict)</a><span>,
                § 7.2</span>
        <li><a href="#deactivate-a-sensor-object">センサーオブジェクトの非アクティブ化</a><span>, § 8.4</span>
        <li><a href="#default-sensor">デフォルトセンサー</a><span>, § 5.3</span>
        <li><a href="#concept-device-sensor">デバイスセンサー</a><span>, § 5.1</span>
        <li>
            error
            <ul>
                <li><a href="#dom-sensorerrorevent-error">SensorErrorEventの属性</a><span>, § 7.2</span>
                <li><a href="#dom-sensorerroreventinit-error">SensorErrorEventInitのdict-member</a><span>, § 7.2</span>
            </ul>
        <li><a href="#extension-sensor-interface">拡張センサーインターフェース</a><span>, § 10.6</span>
        <li><a href="#extension-specification">拡張仕様</a><span>, § 10</span>
        <li><a href="#focus-and-origin-check">フォーカスおよびオリジンの確認</a><span>, § 8.14</span>
        <li><a href="#dom-sensor-frequency-slot">[[frequency]]</a><span>, § 7.1.3</span>
        <li><a href="#dom-sensoroptions-frequency">frequency</a><span>, § 7.1</span>
        <li><a href="#generic-sensor-permission-revocation-algorithm">Generic Sensor permission revocation
                algorithm</a><span>, § 8.5</span>
        <li><a href="#get-a-platform-sensors-sampling-bounds">プラットフォームセンサーのサンプリング範囲取得</a><span>, § 6.2</span>
        <li><a href="#get-value-from-latest-reading">最新読み取りから値を取得</a><span>, § 8.12</span>
        <li><a href="#dom-sensor-hasreading">hasReading</a><span>, § 7.1</span>
        <li><a href="#high-level">ハイレベル</a><span>, § 5.2</span>
        <li><a href="#initialize-a-sensor-object">センサーオブジェクトの初期化</a><span>, § 8</span>
        <li><a href="#dom-sensor-lasteventfiredat-slot">[[lastEventFiredAt]]</a><span>, § 7.1.3</span>
        <li><a href="#latest-reading">最新読み取り</a><span>, § 6.2</span>
        <li><a href="#limit-max-frequency">最大サンプリング周波数の制限</a><span>, § 4.3</span>
        <li><a href="#limit-number-of-delivered-readings">配信される読み取り値数の制限</a><span>, § 4.3.2</span>
        <li><a href="#local-coordinate-system">ローカル座標系</a><span>, § 5.1</span>
        <li><a href="#low-level">ローレベル</a><span>, § 5.2</span>
        <li>
            maximum sampling frequency
            <ul>
                <li><a href="#device-sensor-maximum-sampling-frequency">device sensor用 dfn</a><span>, § 5.4</span>
                <li><a href="#sensor-type-maximum-sampling-frequency">sensor type用 dfn</a><span>, § 6.1</span>
                <li><a href="#virtual-sensor-maximum-sampling-frequency">virtual sensor用 dfn</a><span>, § 9.1</span>
            </ul>
        <li>
            minimum sampling frequency
            <ul>
                <li><a href="#device-sensor-minimum-sampling-frequency">device sensor用 dfn</a><span>, § 5.4</span>
                <li><a href="#sensor-type-minimum-sampling-frequency">sensor type用 dfn</a><span>, § 6.1</span>
                <li><a href="#virtual-sensor-minimum-sampling-frequency">virtual sensor用 dfn</a><span>, § 9.1</span>
            </ul>
        <li><a href="#notify-activated-state">アクティブ状態の通知</a><span>, § 8.10</span>
        <li><a href="#notify-error">エラー通知</a><span>, § 8.11</span>
        <li><a href="#notify-new-reading">新しい読み取りの通知</a><span>, § 8.9</span>
        <li><a href="#dom-sensor-onactivate">onactivate</a><span>, § 7.1</span>
        <li><a href="#dom-sensor-onerror">onerror</a><span>, § 7.1</span>
        <li><a href="#dom-sensor-onreading">onreading</a><span>, § 7.1</span>
        <li><a href="#parse-single-value-number-reading">単一値読み取り（数値）の解析</a><span>, § 9.2.3.1</span>
        <li><a href="#parse-xyz-reading">XYZ読み取り値の解析</a><span>, § 9.2.3.1.1</span>
        <li><a href="#dom-sensor-pendingreadingnotification-slot">[[pendingReadingNotification]]</a><span>,
                § 7.1.3</span>
        <li><a href="#per-type-virtual-sensor-metadata">型別仮想センサーメタデータ</a><span>, § 9.1</span>
        <li><a href="#concept-platform-sensor">プラットフォームセンサー</a><span>, § 5.1</span>
        <li><a href="#virtual-sensor-metadata-reading-parsing-algorithm">reading parsing algorithm</a><span>,
                § 9.1</span>
        <li><a href="#reading-quantization-algorithm">reading quantization algorithm</a><span>, § 6.1</span>
        <li><a href="#reading-timestamp">reading timestamp</a><span>, § 5.1</span>
        <li><a href="#reduce-accuracy">精度低減</a><span>, § 4.3.3</span>
        <li><a href="#reporting-frequency">報告周波数</a><span>, § 5.4</span>
        <li><a href="#report-latest-reading-updated">最新読み取り更新通知</a><span>, § 8.8</span>
        <li><a href="#virtual-sensor-requested-sampling-frequency">requested sampling frequency</a><span>, § 9.1</span>
        <li><a href="#request-sensor-access">センサーアクセスの要求</a><span>, § 8.13</span>
        <li><a href="#sampling-frequency">サンプリング周波数</a><span>, § 5.4</span>
        <li><a href="#sensor">Sensor</a><span>, § 7.1</span>
        <li><a href="#sensorerrorevent">SensorErrorEvent</a><span>, § 7.2</span>
        <li><a href="#dictdef-sensorerroreventinit">SensorErrorEventInit</a><span>, § 7.2</span>
        <li><a href="#dom-sensorerrorevent-sensorerrorevent">SensorErrorEvent(type, errorEventInitDict)</a><span>,
                § 7.2</span>
        <li><a href="#sensor-feature-names">センサー機能名</a><span>, § 6.1</span>
        <li><a href="#sensor-fusion">センサーフュージョン</a><span>, § 5.2</span>
        <li><a href="#dictdef-sensoroptions">SensorOptions</a><span>, § 7.1</span>
        <li><a href="#sensor-permission-names">センサー許可名</a><span>, § 6.1</span>
        <li><a href="#sensor-reading">センサー読み取り値</a><span>, § 5.1</span>
        <li><a href="#sensor-task-source">sensor task source</a><span>, § 7.1</span>
        <li><a href="#sensor-type">センサータイプ</a><span>, § 6.1</span>
        <li><a href="#set-sensor-settings">センサー設定をセット</a><span>, § 8.6</span>
        <li><a href="#spatial-sensor">spatial sensor</a><span>, § 5.1</span>
        <li><a href="#specific-conditions">特定条件</a><span>, § 5.5</span>
        <li><a href="#dom-sensor-start">start()</a><span>, § 7.1</span>
        <li><a href="#dom-sensor-state-slot">[[state]]</a><span>, § 7.1.3</span>
        <li><a href="#dom-sensor-stop">stop()</a><span>, § 7.1</span>
        <li><a href="#stop-sensor">センサーの完全停止</a><span>, § 4.3.1</span>
        <li><a href="#supported-sensor-options">対応センサーオプション</a><span>, § 10.6</span>
        <li><a href="#threshold-check-algorithm">閾値チェックアルゴリズム</a><span>, § 6.1</span>
        <li><a href="#dom-sensor-timestamp">timestamp</a><span>, § 7.1</span>
        <li><a href="#update-latest-reading">最新読み取りの更新</a><span>, § 8.7</span>
        <li><a href="#virtual-sensor">仮想センサー</a><span>, § 9.1</span>
        <li><a href="#virtual-sensor-mapping">仮想センサーマッピング</a><span>, § 9.1</span>
        <li><a href="#virtual-sensor-metadata">仮想センサーメタデータ</a><span>, § 9.1</span>
        <li><a href="#virtual-sensor-type">仮想センサータイプ</a><span>, § 9.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照により定義される用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[DOM]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="85394472">Document</span>
                <li><span class="dfn-paneled" id="129bdae8">Event</span>
                <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
                <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                <li><span class="dfn-paneled" id="6d74ac8d">constructor</span>
                <li><span class="dfn-paneled" id="a84c14c9">document</span>
                <li><span class="dfn-paneled" id="26b82890">event</span>
                <li><span class="dfn-paneled" id="06950d36">event listener</span>
                <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
                <li><span class="dfn-paneled" id="5216e1a0">node document</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="54ca6d3b">Boolean</span>
                <li><span class="dfn-paneled" id="5f9c7266">Number</span>
                <li><span class="dfn-paneled" id="a6e67972">Object</span>
                <li><span class="dfn-paneled" id="9032aa9e">String</span>
                <li><span class="dfn-paneled" id="b107f911">current realm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
                <li><span class="dfn-paneled" id="1d8f7431">coarsened moments</span>
                <li><span class="dfn-paneled" id="28716de1">monotonic clock</span>
                <li><span class="dfn-paneled" id="69ea869d">relative high resolution time</span>
                <li><span class="dfn-paneled" id="479aeb1d">unsafe current time</span>
                <li><span class="dfn-paneled" id="9a31d086">unsafe shared current time</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
                <li><span class="dfn-paneled" id="35972864">active document</span>
                <li><span class="dfn-paneled" id="57435598">allow</span>
                <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
                <li><span class="dfn-paneled" id="0d0390b4">browsing context</span>
                <li><span class="dfn-paneled" id="e61f04d5">currently focused area</span>
                <li><span class="dfn-paneled" id="06834943">DOM anchor</span>
                <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
                <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
                <li><span class="dfn-paneled" id="faf75970">gains focus</span>
                <li><span class="dfn-paneled" id="4b6086d7">global object</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
                <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
                <li><span class="dfn-paneled" id="228be966">navigable <small>(for Window)</small></span>
                <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
                <li><span class="dfn-paneled" id="43ac8374">origin</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
                <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
                <li><span class="dfn-paneled" id="521818b9">same origin-domain</span>
                <li><span class="dfn-paneled" id="65181da8">secure context</span>
                <li><span class="dfn-paneled" id="0371e87a">spin the event loop</span>
                <li><span class="dfn-paneled" id="e270bd2a">task</span>
                <li><span class="dfn-paneled" id="2df777b6">task queue</span>
                <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
                <li><span class="dfn-paneled" id="e9c58cef">time origin</span>
                <li><span class="dfn-paneled" id="bd736ec6">top-level traversable</span>
                <li><span class="dfn-paneled" id="0ff9b6b9">top-level traversable <small>(for browsing
                            context)</small></span>
                <li><span class="dfn-paneled" id="30717154">top-level traversable <small>(for navigable)</small></span>
                <li><span class="dfn-paneled" id="b4c365f8">visibility state</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="a3b18719">append</span>
                <li><span class="dfn-paneled" id="77b4c09a">assert</span>
                <li><span class="dfn-paneled" id="36858240">boolean</span>
                <li><span class="dfn-paneled" id="ae8def21">contain <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="a326add7">contain <small>(for map)</small></span>
                <li><span class="dfn-paneled" id="f937b7b6">continue</span>
                <li><span class="dfn-paneled" id="8958b003">entry</span>
                <li><span class="dfn-paneled" id="1243a891">exist</span>
                <li><span class="dfn-paneled" id="16d07e10">for each <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="45209803">for each <small>(for map)</small></span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
                <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
                <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
                <li><span class="dfn-paneled" id="d14a6f26">key</span>
                <li><span class="dfn-paneled" id="31db57e6">keys</span>
                <li><span class="dfn-paneled" id="3fca5a9e">map</span>
                <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
                <li><span class="dfn-paneled" id="692595fe">ordered set</span>
                <li><span class="dfn-paneled" id="99c988d6">remove <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="7d4424b2">remove <small>(for map)</small></span>
                <li><span class="dfn-paneled" id="0e6b2056">set</span>
                <li><span class="dfn-paneled" id="0698d556">string</span>
                <li><span class="dfn-paneled" id="984221ca">struct</span>
                <li><span class="dfn-paneled" id="98b32dd9">success</span>
                <li><span class="dfn-paneled" id="0e8de730">tuple</span>
                <li><span class="dfn-paneled" id="802b0fdd">value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="ebb01253">PermissionDescriptor</span>
                <li><span class="dfn-paneled" id="e740d7e5">name</span>
                <li><span class="dfn-paneled" id="409a61ca">permission revocation algorithm</span>
                <li><span class="dfn-paneled" id="d124397f">permission state</span>
                <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS-POLICY]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="1570624a">default allowlist</span>
                <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS-REQUEST]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="35725f70">permission request algorithm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SECURITY-PRIVACY-QUESTIONNAIRE]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="eeb0e150">same-origin policy violations</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBDRIVER2]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="024a1df2">current browsing context</span>
                <li><span class="dfn-paneled" id="bb4c269e">error</span>
                <li><span class="dfn-paneled" id="040c67fa">extension command URI Template</span>
                <li><span class="dfn-paneled" id="09daa25c">extension commands</span>
                <li><span class="dfn-paneled" id="fa818daf">get a property</span>
                <li><span class="dfn-paneled" id="28855907">get a property with default</span>
                <li><span class="dfn-paneled" id="8da4d1e3">invalid argument</span>
                <li><span class="dfn-paneled" id="9a707b42">local end</span>
                <li><span class="dfn-paneled" id="82c23298">remote end steps</span>
                <li><span class="dfn-paneled" id="79d221ec">session</span>
                <li><span class="dfn-paneled" id="cb9acc83">set a property</span>
                <li><span class="dfn-paneled" id="87236d2b">url variable</span>
                <li><span class="dfn-paneled" id="7482107b">WebDriver error code</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> は下記用語を定義します:
            <ul>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
                <li><span class="dfn-paneled" id="0be3911e">NotReadableError</span>
                <li><span class="dfn-paneled" id="3182eb71">NotSupportedError</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="5bf9ea61">attribute</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="6a73c310">create</span>
                <li><span class="dfn-paneled" id="bec98d30">dictionary</span>
                <li><span class="dfn-paneled" id="8c800cdf">double</span>
                <li><span class="dfn-paneled" id="980252f2">identifier</span>
                <li><span class="dfn-paneled" id="e451c8f4">inherited dictionaries</span>
                <li><span class="dfn-paneled" id="fc14fa8a">inherited interfaces</span>
                <li><span class="dfn-paneled" id="1422ec4e">interface</span>
                <li><span class="dfn-paneled" id="bfc48225">read only</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範参照</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-hr-time">[HR-TIME]
        <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a
                href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>. Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL:
            <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
        <dt id="biblio-permissions-policy">[PERMISSIONS-POLICY]
        <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions
                    Policy</cite></a>. URL: <a
                href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
        <dt id="biblio-permissions-request">[PERMISSIONS-REQUEST]
        <dd><a href="https://wicg.github.io/permissions-request/"><cite>Requesting Permissions</cite></a>. Draft
            Community Group Report. URL: <a
                href="https://wicg.github.io/permissions-request/">https://wicg.github.io/permissions-request/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webdriver2">[WEBDRIVER2]
        <dd>Simon Stewart; David Burns. <a href="https://w3c.github.io/webdriver/"><cite>WebDriver</cite></a>. URL: <a
                href="https://w3c.github.io/webdriver/">https://w3c.github.io/webdriver/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考文献（参考）</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-accelprint">[ACCELPRINT]
        <dd>Dey, Sanorita ほか. <a href="http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf"><cite>AccelPrint:
                    加速度センサーの不完全性によるスマートフォンの追跡可能性</cite></a>。2014年。参考資料。URL: <a
                href="http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf">http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf</a>
        <dt id="biblio-api-design-principles">[API-DESIGN-PRINCIPLES]
        <dd>Martin Thomson; Jeffrey Yasskin. <a
                href="https://w3ctag.github.io/design-principles/"><cite>Webプラットフォーム設計原則</cite></a>。URL: <a
                href="https://w3ctag.github.io/design-principles/">https://w3ctag.github.io/design-principles/</a>
        <dt id="biblio-coordinates-transformation">[COORDINATES-TRANSFORMATION]
        <dd>George W. Collins, II. <a
                href="http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf"><cite>天体力学の基礎</cite></a>。2004年。参考資料。URL:
            <a
                href="http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf">http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf</a>
        <dt id="biblio-extennnnsible">[EXTENNNNSIBLE]
        <dd><a href="https://extensiblewebmanifesto.org/"><cite>Extensible Web マニフェスト</cite></a>。2013年6月10日。URL: <a
                href="https://extensiblewebmanifesto.org/">https://extensiblewebmanifesto.org/</a>
        <dt id="biblio-generic-sensor-usecases">[GENERIC-SENSOR-USECASES]
        <dd>Rick Waldron, Mikhail Pozdnyakov, Alexander Shalamov. <a
                href="https://w3c.github.io/sensors/usecases"><cite>センサー利用事例集</cite></a>。2017年。ノート。URL: <a
                href="https://w3c.github.io/sensors/usecases">https://w3c.github.io/sensors/usecases</a>
        <dt id="biblio-geolocation-api">[GEOLOCATION-API]
        <dd>Marcos Caceres; Reilly Grant. <a href="https://w3c.github.io/geolocation/"><cite>ジオロケーション</cite></a>。URL: <a
                href="https://w3c.github.io/geolocation/">https://w3c.github.io/geolocation/</a>
        <dt id="biblio-gyrospeechrecognition">[GYROSPEECHRECOGNITION]
        <dd>Michalevsky, Y., Boneh, D., Nakibly, G.. <a
                href="https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf"><cite>Gyrophone:
                    ジャイロスコープ信号による音声認識</cite></a>。2014年。参考資料。URL: <a
                href="https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf">https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf</a>
        <dt id="biblio-mobilesensors">[MOBILESENSORS]
        <dd>Manish J. Gajjar. <cite>モバイルセンサーと状況認識コンピューティング</cite>。2017年。参考資料。
        <dt id="biblio-motion-sensors">[MOTION-SENSORS]
        <dd>Kenneth Christiansen; Alexander Shalamov. <a
                href="https://w3c.github.io/motion-sensors/"><cite>モーションセンサー解説</cite></a>。URL: <a
                href="https://w3c.github.io/motion-sensors/">https://w3c.github.io/motion-sensors/</a>
        <dt id="biblio-orientation-event">[ORIENTATION-EVENT]
        <dd>Reilly Grant; Marcos Caceres. <a
                href="https://w3c.github.io/deviceorientation/"><cite>デバイスの向きと動き</cite></a>。URL: <a
                href="https://w3c.github.io/deviceorientation/">https://w3c.github.io/deviceorientation/</a>
        <dt id="biblio-powerful-features">[POWERFUL-FEATURES]
        <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/"><cite>セキュアコンテキスト</cite></a>。URL: <a
                href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
        <dt id="biblio-qudt">[QUDT]
        <dd><a href="https://doi.org/10.25504/FAIRsharing.d3pqw7"><cite>量・単位・次元・型 (QUDT)</cite></a>。2011年。URL: <a
                href="https://doi.org/10.25504/FAIRsharing.d3pqw7">https://doi.org/10.25504/FAIRsharing.d3pqw7</a>
        <dt id="biblio-rfc6454">[RFC6454]
        <dd>A. Barth. <a href="https://www.rfc-editor.org/rfc/rfc6454"><cite>Webオリジンの概念</cite></a>。2011年12月。標準案。URL: <a
                href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>
        <dt id="biblio-security-privacy-questionnaire">[SECURITY-PRIVACY-QUESTIONNAIRE]
        <dd>Theresa O'Connor; Peter Snyder; Simone Onofri. <a
                href="https://w3c.github.io/security-questionnaire/"><cite>自己評価質問票：セキュリティとプライバシー</cite></a>。URL: <a
                href="https://w3c.github.io/security-questionnaire/">https://w3c.github.io/security-questionnaire/</a>
        <dt id="biblio-si">[SI]
        <dd><a href="http://www.bipm.org/en/publications/si-brochure/"><cite>SI ブロシュア：国際単位系 (SI)
                    第8版</cite></a>。2014年。第8版。URL: <a
                href="http://www.bipm.org/en/publications/si-brochure/">http://www.bipm.org/en/publications/si-brochure/</a>
        <dt id="biblio-stealingpinsviasensors">[STEALINGPINSVIASENSORS]
        <dd>Maryam Mehrnezhad, Ehsan Toreini, Siamak F. Shahandashti, Feng Hao. <a
                href="https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst"><cite>モバイルセンサーによるPIN盗難：実際のリスクとユーザー認知</cite></a>。2017年。参考資料。URL:
            <a
                href="https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst">https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDLインデックス</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <a href="#sensor"><code><c- g>Sensor</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-sensor-activated"><code><c- g>activated</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-sensor-hasreading"><code><c- g>hasReading</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <a data-readonly data-type="DOMHighResTimeStamp?" href="#dom-sensor-timestamp"><code><c- g>timestamp</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a href="#dom-sensor-start"><code><c- g>start</c-></code></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a href="#dom-sensor-stop"><code><c- g>stop</c-></code></a>();
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onreading"><code><c- g>onreading</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onactivate"><code><c- g>onactivate</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onerror"><code><c- g>onerror</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sensoroptions"><code><c- g>SensorOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double" href="#dom-sensoroptions-frequency"><code><c- g>frequency</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <a href="#sensorerrorevent"><code><c- g>SensorErrorEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-sensorerrorevent-sensorerrorevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-sensorerroreventinit"><c- n>SensorErrorEventInit</c-></a> <a href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"><code><c- g>errorEventInitDict</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException"><c- n>DOMException</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMException" href="#dom-sensorerrorevent-error"><c- g>error</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sensorerroreventinit"><code><c- g>SensorErrorEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException"><c- n>DOMException</c-></a> <a data-type="DOMException" href="#dom-sensorerroreventinit-error"><code><c- g>error</c-></code></a>;
};

</pre>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-onactivate">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/activate_event"
                    title="The activate event is fired when a sensor becomes activated. It means that it will start obtaining readings.">Sensor/activate_event</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-activated">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/activated"
                    title="The activated read-only property of the Sensor interface returns a boolean value indicating whether the sensor is active.">Sensor/activated</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-onerror">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/error_event"
                    title="The error event is fired when an exception occurs on a sensor.">Sensor/error_event</a></p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-has-reading">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/hasReading"
                    title="The hasReading read-only property of the Sensor interface returns a boolean value indicating whether the sensor has a reading.">Sensor/hasReading</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-onreading">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/reading_event"
                    title="The reading event is fired when a new reading is available on a sensor.">Sensor/reading_event</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-start">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/start"
                    title="The start method activates one of the sensors based on Sensor.">Sensor/start</a></p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-stop">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/stop"
                    title="The stop method of the Sensor interface deactivates the current sensor.">Sensor/stop</a></p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-timestamp">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/timestamp"
                    title="The timestamp read-only property of the Sensor interface returns the timestamp of the latest sensor reading.">Sensor/timestamp</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="the-sensor-interface">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor"
                    title="The Sensor interface of the Sensor APIs is the base class for all the other sensor interfaces. This interface cannot be used directly. Instead it provides properties, event handlers, and methods accessed by interfaces that inherit from it.">Sensor</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-sensorerrorevent-sensorerrorevent">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent/SensorErrorEvent"
                    title="The SensorErrorEvent constructor creates a new SensorErrorEvent object which provides information about errors thrown by any of the interfaces based on Sensor.">SensorErrorEvent/SensorErrorEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-sensorerrorevent-error">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent/error"
                    title="The error read-only property of the SensorErrorEvent interface returns the DOMException object passed in the event&apos;s constructor.">SensorErrorEvent/error</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="the-sensor-error-event-interface">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent"
                    title="The SensorErrorEvent interface of the Sensor APIs provides information about errors thrown by a Sensor or derived interface.">SensorErrorEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="permissions-policy">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/accelerometer"
                    title="The HTTP Permissions-Policy header accelerometer directive controls whether the current document is allowed to gather information about the acceleration of the device through the Accelerometer interface.">Headers/Permissions-Policy/accelerometer</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/ambient-light-sensor"
                    title="The HTTP Permissions-Policy header ambient-light-sensor directive controls whether the current document is allowed to gather information about the amount of light in the environment around the device through the AmbientLightSensor interface.">Headers/Permissions-Policy/ambient-light-sensor</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/gyroscope"
                    title="The HTTP Permissions-Policy header gyroscope directive controls whether the current document is allowed to gather information about the orientation of the device through the Gyroscope interface.">Headers/Permissions-Policy/gyroscope</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/magnetometer"
                    title="The HTTP Permissions-Policy header magnetometer directive controls whether the current document is allowed to gather information about the orientation of the device through the Magnetometer interface.">Headers/Permissions-Policy/magnetometer</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>None</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>

    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "024a1df2": { "dfnID": "024a1df2", "dfnText": "current browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-current-browsing-context" }, { "id": "ref-for-dfn-current-browsing-context\u2460" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-current-browsing-context\u2461" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-current-browsing-context\u2462" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-current-browsing-context\u2463" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-current-browsing-context" },
                "0371e87a": { "dfnID": "0371e87a", "dfnText": "spin the event loop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-spin-the-event-loop" }], "title": "8.9. Report latest reading updated" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop" },
                "040c67fa": { "dfnID": "040c67fa", "dfnText": "extension command URI Template", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-extension-command-uri-template" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-extension-command-uri-template\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-extension-command-uri-template\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-extension-command-uri-template\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" },
                "06834943": { "dfnID": "06834943", "dfnText": "DOM anchor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-anchor" }], "title": "8.15. Focus and origin check" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor" },
                "06950d36": { "dfnID": "06950d36", "dfnText": "event listener", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-listener" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-concept-event-listener\u2460" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }], "url": "https://dom.spec.whatwg.org/#concept-event-listener" },
                "0698d556": { "dfnID": "0698d556", "dfnText": "string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string" }], "title": "9.2.3.1.1. Parse single-value number reading" }], "url": "https://infra.spec.whatwg.org/#string" },
                "09daa25c": { "dfnID": "09daa25c", "dfnText": "extension commands", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-extension-commands" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2460" }, { "id": "ref-for-dfn-extension-commands\u2461" }, { "id": "ref-for-dfn-extension-commands\u2462" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2463" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2464" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2465" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-extension-commands" },
                "0be3911e": { "dfnID": "0be3911e", "dfnText": "NotReadableError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notreadableerror" }], "title": "7.1.7. Sensor.start()" }], "url": "https://webidl.spec.whatwg.org/#notreadableerror" },
                "0d0390b4": { "dfnID": "0d0390b4", "dfnText": "browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-browsing-context" }, { "id": "ref-for-browsing-context\u2460" }, { "id": "ref-for-browsing-context\u2461" }, { "id": "ref-for-browsing-context\u2462" }], "title": "6.2. Sensor" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" },
                "0e6b2056": { "dfnID": "0e6b2056", "dfnText": "set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-set" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-map-set\u2460" }, { "id": "ref-for-map-set\u2461" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-map-set\u2462" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-map-set\u2463" }, { "id": "ref-for-map-set\u2464" }, { "id": "ref-for-map-set\u2465" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "url": "https://infra.spec.whatwg.org/#map-set" },
                "0e8de730": { "dfnID": "0e8de730", "dfnText": "tuple", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-tuple" }], "title": "6.2. Sensor" }], "url": "https://infra.spec.whatwg.org/#tuple" },
                "0e9f636b": { "dfnID": "0e9f636b", "dfnText": "DOMHighResTimeStamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-domhighrestimestamp" }], "title": "7.1. The Sensor Interface" }], "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "0ff9b6b9": { "dfnID": "0ff9b6b9", "dfnText": "top-level traversable (for browsing context)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-bc-traversable" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-bc-traversable\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-bc-traversable\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-bc-traversable\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable" },
                "1243a891": { "dfnID": "1243a891", "dfnText": "exist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-map-exists\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2461" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-map-exists\u2462" }, { "id": "ref-for-map-exists\u2463" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2464" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-map-exists\u2465" }, { "id": "ref-for-map-exists\u2466" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-map-exists\u2467" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://infra.spec.whatwg.org/#map-exists" },
                "129bdae8": { "dfnID": "129bdae8", "dfnText": "Event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event" }, { "id": "ref-for-event\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "url": "https://dom.spec.whatwg.org/#event" },
                "13dd6cae": { "dfnID": "13dd6cae", "dfnText": "node navigable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-node-navigable" }], "title": "8.15. Focus and origin check" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" },
                "1422ec4e": { "dfnID": "1422ec4e", "dfnText": "interface", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-interface" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-dfn-interface\u2460" }], "title": "10.6. Definition Requirements" }], "url": "https://webidl.spec.whatwg.org/#dfn-interface" },
                "1570624a": { "dfnID": "1570624a", "dfnText": "default allowlist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-policy-controlled-feature-default-allowlist" }, { "id": "ref-for-policy-controlled-feature-default-allowlist\u2460" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" },
                "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-list-iterate\u2460" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-list-iterate\u2461" }], "title": "8.14. Request sensor access" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "1d8f7431": { "dfnID": "1d8f7431", "dfnText": "coarsened moments", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-moment" }], "title": "8.8. Update latest reading" }], "url": "https://w3c.github.io/hr-time/#dfn-moment" },
                "228be966": { "dfnID": "228be966", "dfnText": "navigable (for Window)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window-navigable" }], "title": "8.3. Connect to sensor" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" },
                "26b82890": { "dfnID": "26b82890", "dfnText": "event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event" }], "title": "7.1. The Sensor Interface" }], "url": "https://dom.spec.whatwg.org/#concept-event" },
                "28716de1": { "dfnID": "28716de1", "dfnText": "monotonic clock", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-monotonic-clock" }, { "id": "ref-for-dfn-monotonic-clock\u2460" }], "title": "8.8. Update latest reading" }], "url": "https://w3c.github.io/hr-time/#dfn-monotonic-clock" },
                "28855907": { "dfnID": "28855907", "dfnText": "get a property with default", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-getting-the-property-with-default" }, { "id": "ref-for-dfn-getting-the-property-with-default\u2460" }, { "id": "ref-for-dfn-getting-the-property-with-default\u2461" }], "title": "9.2.1. Create virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default" },
                "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "7.1. The Sensor Interface" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "2df777b6": { "dfnID": "2df777b6", "dfnText": "task queue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-task-queue" }], "title": "8.5. Deactivate a sensor object" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" },
                "30717154": { "dfnID": "30717154", "dfnText": "top-level traversable (for navigable)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nav-top" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-nav-top\u2460" }], "title": "8.15. Focus and origin check" }, { "refs": [{ "id": "ref-for-nav-top\u2461" }], "title": "9.1. Virtual Sensors" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top" },
                "3182eb71": { "dfnID": "3182eb71", "dfnText": "NotSupportedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notsupportederror" }], "title": "8.1. Initialize a sensor object" }], "url": "https://webidl.spec.whatwg.org/#notsupportederror" },
                "31db57e6": { "dfnID": "31db57e6", "dfnText": "keys", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-keys" }], "title": "6.2. Sensor" }], "url": "https://infra.spec.whatwg.org/#map-getting-the-keys" },
                "35725f70": { "dfnID": "35725f70", "dfnText": "permission request algorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-permission-request-algorithm" }], "title": "Unnumbered Section" }], "url": "https://wicg.github.io/permissions-request/#permission-request-algorithm" },
                "35972864": { "dfnID": "35972864", "dfnText": "active document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nav-document" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-nav-document\u2460" }], "title": "4.2.4. Visibility State" }, { "refs": [{ "id": "ref-for-nav-document\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-nav-document\u2462" }], "title": "8.2. Check sensor policy-controlled features" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" },
                "3610bd67": { "dfnID": "3610bd67", "dfnText": "allowed to use", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-use" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-allowed-to-use\u2460" }, { "id": "ref-for-allowed-to-use\u2461" }], "title": "8.2. Check sensor policy-controlled features" }], "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" },
                "36858240": { "dfnID": "36858240", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-boolean" }], "title": "9.1. Virtual Sensors" }], "url": "https://infra.spec.whatwg.org/#boolean" },
                "3fca5a9e": { "dfnID": "3fca5a9e", "dfnText": "map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }, { "id": "ref-for-ordered-map\u2460" }, { "id": "ref-for-ordered-map\u2461" }, { "id": "ref-for-ordered-map\u2462" }, { "id": "ref-for-ordered-map\u2463" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }, { "id": "ref-for-ordered-map\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-ordered-map\u2467" }], "title": "10.7. Automation" }], "url": "https://infra.spec.whatwg.org/#ordered-map" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }], "title": "7.1.4. Sensor.activated" }, { "refs": [{ "id": "ref-for-this\u2460" }], "title": "7.1.5. Sensor.hasReading" }, { "refs": [{ "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }, { "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-this\u2460\u2461" }, { "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-this\u2460\u2464" }], "title": "7.1.10. Sensor.onactivate" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "409a61ca": { "dfnID": "409a61ca", "dfnText": "permission revocation algorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-revocation-algorithm" }], "title": "6.1. Sensor Type" }], "url": "https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm" },
                "43ac8374": { "dfnID": "43ac8374", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-origin" }, { "id": "ref-for-concept-settings-object-origin\u2460" }], "title": "8.15. Focus and origin check" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "44a7708c": { "dfnID": "44a7708c", "dfnText": "EventInit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-eventinit" }], "title": "7.2. The SensorErrorEvent Interface" }], "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "45209803": { "dfnID": "45209803", "dfnText": "for each (for map)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-iterate" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-map-iterate\u2460" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-map-iterate\u2461" }], "title": "8.8. Update latest reading" }], "url": "https://infra.spec.whatwg.org/#map-iterate" },
                "479aeb1d": { "dfnID": "479aeb1d", "dfnText": "unsafe current time", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-monotonic-clock-unsafe-current-time" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-monotonic-clock-unsafe-current-time\u2460" }, { "id": "ref-for-monotonic-clock-unsafe-current-time\u2461" }], "title": "8.8. Update latest reading" }], "url": "https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" },
                "4b6086d7": { "dfnID": "4b6086d7", "dfnText": "global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-global-object" }], "title": "8.3. Connect to sensor" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object" },
                "5216e1a0": { "dfnID": "5216e1a0", "dfnText": "node document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-node-document" }], "title": "8.15. Focus and origin check" }], "url": "https://dom.spec.whatwg.org/#concept-node-document" },
                "521818b9": { "dfnID": "521818b9", "dfnText": "same origin-domain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-same-origin-domain" }], "title": "8.15. Focus and origin check" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }], "title": "7.1. The Sensor Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "54ca6d3b": { "dfnID": "54ca6d3b", "dfnText": "Boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-boolean-objects" }], "title": "9.2.1. Create virtual sensor" }], "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects" },
                "57435598": { "dfnID": "57435598", "dfnText": "allow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-iframe-allow" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" },
                "5afbefcd": { "dfnID": "5afbefcd", "dfnText": "item (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }], "url": "https://infra.spec.whatwg.org/#list-item" },
                "5bf9ea61": { "dfnID": "5bf9ea61", "dfnText": "attribute", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-attribute" }, { "id": "ref-for-dfn-attribute\u2460" }, { "id": "ref-for-dfn-attribute\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-dfn-attribute\u2462" }, { "id": "ref-for-dfn-attribute\u2463" }], "title": "10.6. Definition Requirements" }], "url": "https://webidl.spec.whatwg.org/#dfn-attribute" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }], "title": "7.1. The Sensor Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "5f9c7266": { "dfnID": "5f9c7266", "dfnText": "Number", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-number-objects" }, { "id": "ref-for-sec-number-objects\u2460" }, { "id": "ref-for-sec-number-objects\u2461" }, { "id": "ref-for-sec-number-objects\u2462" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-sec-number-objects\u2463" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-sec-number-objects\u2464" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-sec-number-objects\u2465" }, { "id": "ref-for-sec-number-objects\u2466" }, { "id": "ref-for-sec-number-objects\u2467" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" },
                "5fd23811": { "dfnID": "5fd23811", "dfnText": "fire an event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-fire" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2460" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2461" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2462" }], "title": "8.12. Notify error" }], "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
                "65181da8": { "dfnID": "65181da8", "dfnText": "secure context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-secure-context" }], "title": "4.2.1. Secure Context" }, { "refs": [{ "id": "ref-for-secure-context\u2460" }], "title": "5.5. Conditions to expose sensor readings" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
                "692595fe": { "dfnID": "692595fe", "dfnText": "ordered set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-ordered-set\u2460" }, { "id": "ref-for-ordered-set\u2461" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-ordered-set\u2462" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-ordered-set\u2463" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-ordered-set\u2464" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-ordered-set\u2465" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-ordered-set\u2466" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "69ea869d": { "dfnID": "69ea869d", "dfnText": "relative high resolution time", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-relative-high-resolution-time" }], "title": "7.1.6. Sensor.timestamp" }], "url": "https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time" },
                "6a5a59a0": { "dfnID": "6a5a59a0", "dfnText": "event handler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handlers" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-event-handlers\u2460" }], "title": "7.1.12. Event handlers" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" },
                "6a73c310": { "dfnID": "6a73c310", "dfnText": "create", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-create-exception" }, { "id": "ref-for-dfn-create-exception\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-dfn-create-exception\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "url": "https://webidl.spec.whatwg.org/#dfn-create-exception" },
                "6b815fdd": { "dfnID": "6b815fdd", "dfnText": "is empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }, { "id": "ref-for-list-is-empty\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-list-is-empty\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-list-is-empty\u2462" }], "title": "8.7. Set sensor settings" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "6d74ac8d": { "dfnID": "6d74ac8d", "dfnText": "constructor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-constructor" }], "title": "7.2. The SensorErrorEvent Interface" }], "url": "https://dom.spec.whatwg.org/#concept-event-constructor" },
                "7482107b": { "dfnID": "7482107b", "dfnText": "WebDriver error code", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-error-code" }, { "id": "ref-for-dfn-error-code\u2460" }, { "id": "ref-for-dfn-error-code\u2461" }, { "id": "ref-for-dfn-error-code\u2462" }, { "id": "ref-for-dfn-error-code\u2463" }, { "id": "ref-for-dfn-error-code\u2464" }, { "id": "ref-for-dfn-error-code\u2465" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-error-code\u2466" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-error-code\u2467" }, { "id": "ref-for-dfn-error-code\u2468" }, { "id": "ref-for-dfn-error-code\u2460\u24ea" }, { "id": "ref-for-dfn-error-code\u2460\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-error-code\u2460\u2461" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-error-code" },
                "77b4c09a": { "dfnID": "77b4c09a", "dfnText": "assert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-assert\u2460" }, { "id": "ref-for-assert\u2461" }], "title": "8.9. Report latest reading updated" }], "url": "https://infra.spec.whatwg.org/#assert" },
                "79d221ec": { "dfnID": "79d221ec", "dfnText": "session", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-sessions" }], "title": "9.2.1. Create virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-sessions" },
                "7d4424b2": { "dfnID": "7d4424b2", "dfnText": "remove (for map)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-remove" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://infra.spec.whatwg.org/#map-remove" },
                "802b0fdd": { "dfnID": "802b0fdd", "dfnText": "value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-value" }, { "id": "ref-for-map-value\u2460" }], "title": "6.2. Sensor" }], "url": "https://infra.spec.whatwg.org/#map-value" },
                "82c23298": { "dfnID": "82c23298", "dfnText": "remote end steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-remote-end-steps" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-remote-end-steps\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-remote-end-steps\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-remote-end-steps\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-remote-end-steps" },
                "84b454ff": { "dfnID": "84b454ff", "dfnText": "ordered map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }, { "id": "ref-for-ordered-map\u2460" }, { "id": "ref-for-ordered-map\u2461" }, { "id": "ref-for-ordered-map\u2462" }, { "id": "ref-for-ordered-map\u2463" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }, { "id": "ref-for-ordered-map\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-ordered-map\u2467" }], "title": "10.7. Automation" }], "url": "https://infra.spec.whatwg.org/#ordered-map" },
                "85394472": { "dfnID": "85394472", "dfnText": "Document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-document" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-document\u2460" }], "title": "8.15. Focus and origin check" }], "url": "https://dom.spec.whatwg.org/#document" },
                "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }, { "id": "ref-for-implementation-defined\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-implementation-defined\u2461" }, { "id": "ref-for-implementation-defined\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-implementation-defined\u2463" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-implementation-defined\u2464" }, { "id": "ref-for-implementation-defined\u2465" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-implementation-defined\u2466" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-implementation-defined\u2467" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-implementation-defined\u2468" }, { "id": "ref-for-implementation-defined\u2460\u24ea" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-implementation-defined\u2460\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-implementation-defined\u2460\u2461" }], "title": "9.2.3. Update virtual sensor reading" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "87236d2b": { "dfnID": "87236d2b", "dfnText": "url variable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-url-variables" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-url-variables\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-url-variables\u2461" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-url-variables" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "7.2. The SensorErrorEvent Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8958b003": { "dfnID": "8958b003", "dfnText": "entry", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-entry" }, { "id": "ref-for-map-entry\u2460" }, { "id": "ref-for-map-entry\u2461" }, { "id": "ref-for-map-entry\u2462" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-map-entry\u2463" }], "title": "10.7. Automation" }], "url": "https://infra.spec.whatwg.org/#map-entry" },
                "8c800cdf": { "dfnID": "8c800cdf", "dfnText": "double", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-double" }], "title": "7.1. The Sensor Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-double" },
                "8da4d1e3": { "dfnID": "8da4d1e3", "dfnText": "invalid argument", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-invalid-argument" }, { "id": "ref-for-dfn-invalid-argument\u2460" }, { "id": "ref-for-dfn-invalid-argument\u2461" }, { "id": "ref-for-dfn-invalid-argument\u2462" }, { "id": "ref-for-dfn-invalid-argument\u2463" }, { "id": "ref-for-dfn-invalid-argument\u2464" }, { "id": "ref-for-dfn-invalid-argument\u2465" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-invalid-argument\u2466" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-invalid-argument\u2467" }, { "id": "ref-for-dfn-invalid-argument\u2468" }, { "id": "ref-for-dfn-invalid-argument\u2460\u24ea" }, { "id": "ref-for-dfn-invalid-argument\u2460\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-invalid-argument\u2460\u2461" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-invalid-argument" },
                "9032aa9e": { "dfnID": "9032aa9e", "dfnText": "String", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-string-objects" }, { "id": "ref-for-sec-string-objects\u2460" }], "title": "9.2.1. Create virtual sensor" }], "url": "https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" },
                "980252f2": { "dfnID": "980252f2", "dfnText": "identifier", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-identifier" }, { "id": "ref-for-dfn-identifier\u2460" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-dfn-identifier\u2461" }], "title": "10.6. Definition Requirements" }], "url": "https://webidl.spec.whatwg.org/#dfn-identifier" },
                "984221ca": { "dfnID": "984221ca", "dfnText": "struct", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct" }, { "id": "ref-for-struct\u2460" }], "title": "9.1. Virtual Sensors" }], "url": "https://infra.spec.whatwg.org/#struct" },
                "98b32dd9": { "dfnID": "98b32dd9", "dfnText": "success", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-success" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-success\u2460" }, { "id": "ref-for-success\u2461" }, { "id": "ref-for-success\u2462" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-success\u2463" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-success\u2464" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://infra.spec.whatwg.org/#success" },
                "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }], "title": "8.5. Deactivate a sensor object" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
                "9a31d086": { "dfnID": "9a31d086", "dfnText": "unsafe shared current time", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-unsafe-shared-current-time" }], "title": "8.8. Update latest reading" }], "url": "https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time" },
                "9a707b42": { "dfnID": "9a707b42", "dfnText": "local end", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-local-ends" }], "title": "9.2.1. Create virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-local-ends" },
                "9c19b7fc": { "dfnID": "9c19b7fc", "dfnText": "navigable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigable" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-navigable\u2460" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-navigable\u2461" }, { "id": "ref-for-navigable\u2462" }, { "id": "ref-for-navigable\u2463" }], "title": "9.1. Virtual Sensors" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" },
                "9c4c1e66": { "dfnID": "9c4c1e66", "dfnText": "relevant settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460" }, { "id": "ref-for-relevant-settings-object\u2461" }], "title": "8.15. Focus and origin check" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "9d386f55": { "dfnID": "9d386f55", "dfnText": "event handler event type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-event-type" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-event-handler-event-type\u2460" }], "title": "7.1.12. Event handlers" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" },
                "a326add7": { "dfnID": "a326add7", "dfnText": "contain (for map)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-map-exists\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2461" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-map-exists\u2462" }, { "id": "ref-for-map-exists\u2463" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2464" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-map-exists\u2465" }, { "id": "ref-for-map-exists\u2466" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-map-exists\u2467" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://infra.spec.whatwg.org/#map-exists" },
                "a3b18719": { "dfnID": "a3b18719", "dfnText": "append", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "8.4. Activate a sensor object" }], "url": "https://infra.spec.whatwg.org/#set-append" },
                "a6e67972": { "dfnID": "a6e67972", "dfnText": "Object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-object-objects" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2460" }, { "id": "ref-for-sec-object-objects\u2461" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2462" }, { "id": "ref-for-sec-object-objects\u2463" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2464" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2465" }], "title": "9.2.3.1.2. Parse XYZ reading" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2466" }], "title": "10.7. Automation" }], "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-in-parallel\u2460" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }], "title": "8.8. Update latest reading" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "a84c14c9": { "dfnID": "a84c14c9", "dfnText": "document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-clone-a-node-document" }], "title": "4.2.2. Permissions Policy" }], "url": "https://dom.spec.whatwg.org/#clone-a-node-document" },
                "activate-a-sensor-object": { "dfnID": "activate-a-sensor-object", "dfnText": "8.4. Activate a sensor object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-activate-a-sensor-object" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-activate-a-sensor-object" }], "title": "8.4. Activate a sensor object" }], "url": "#activate-a-sensor-object" },
                "activated-sensor-objects": { "dfnID": "activated-sensor-objects", "dfnText": "activated sensor objects", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-activated-sensor-objects" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2460" }, { "id": "ref-for-activated-sensor-objects\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2462" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2463" }, { "id": "ref-for-activated-sensor-objects\u2464" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2465" }, { "id": "ref-for-activated-sensor-objects\u2466" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2467" }], "title": "8.8. Update latest reading" }], "url": "#activated-sensor-objects" },
                "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-list-contain\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-list-contain\u2462" }], "title": "10.6. Definition Requirements" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "b107f911": { "dfnID": "b107f911", "dfnText": "current realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-current-realm" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "url": "https://tc39.github.io/ecma262/#current-realm" },
                "b4c365f8": { "dfnID": "b4c365f8", "dfnText": "visibility state", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-visibility-state" }], "title": "4.2.4. Visibility State" }, { "refs": [{ "id": "ref-for-visibility-state\u2460" }], "title": "5.5. Conditions to expose sensor readings" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#visibility-state" },
                "b4cfa5ce": { "dfnID": "b4cfa5ce", "dfnText": "throw", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-throw" }], "title": "8.1. Initialize a sensor object" }], "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "ba556545": { "dfnID": "ba556545", "dfnText": "NotAllowedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notallowederror" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-notallowederror\u2460" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "bb4c269e": { "dfnID": "bb4c269e", "dfnText": "error", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-error" }, { "id": "ref-for-dfn-error\u2460" }, { "id": "ref-for-dfn-error\u2461" }, { "id": "ref-for-dfn-error\u2462" }, { "id": "ref-for-dfn-error\u2463" }, { "id": "ref-for-dfn-error\u2464" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-error\u2465" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-error\u2466" }, { "id": "ref-for-dfn-error\u2467" }, { "id": "ref-for-dfn-error\u2468" }, { "id": "ref-for-dfn-error\u2460\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-error\u2460\u2460" }], "title": "9.2.4. Delete virtual sensor" }], "url": "https://w3c.github.io/webdriver/#dfn-error" },
                "bcc085e3": { "dfnID": "bcc085e3", "dfnText": "request permission to use", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-request-permission-to-use" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-dfn-request-permission-to-use\u2460" }, { "id": "ref-for-dfn-request-permission-to-use\u2461" }, { "id": "ref-for-dfn-request-permission-to-use\u2462" }], "title": "10.8. Extending the Permission API" }], "url": "https://w3c.github.io/permissions/#dfn-request-permission-to-use" },
                "bd736ec6": { "dfnID": "bd736ec6", "dfnText": "top-level traversable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-top-level-traversable" }, { "id": "ref-for-top-level-traversable\u2460" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-top-level-traversable\u2461" }], "title": "9.2.1. Create virtual sensor" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" },
                "bec98d30": { "dfnID": "bec98d30", "dfnText": "dictionary", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-dictionary" }, { "id": "ref-for-dfn-dictionary\u2460" }], "title": "10.6. Definition Requirements" }], "url": "https://webidl.spec.whatwg.org/#dfn-dictionary" },
                "bfc48225": { "dfnID": "bfc48225", "dfnText": "read only", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-read-only" }], "title": "10.6. Definition Requirements" }], "url": "https://webidl.spec.whatwg.org/#dfn-read-only" },
                "c3b2d08c": { "dfnID": "c3b2d08c", "dfnText": "task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-task-source" }], "title": "7.1. The Sensor Interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source" },
                "c88f3887": { "dfnID": "c88f3887", "dfnText": "item (for struct)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }], "title": "9.1. Virtual Sensors" }], "url": "https://infra.spec.whatwg.org/#struct-item" },
                "calibration": { "dfnID": "calibration", "dfnText": "calibration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-calibration" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-calibration\u2460" }], "title": "10. Extensibility" }], "url": "#calibration" },
                "can-expose-sensor-readings": { "dfnID": "can-expose-sensor-readings", "dfnText": "can expose sensor readings", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-can-expose-sensor-readings" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-can-expose-sensor-readings\u2460" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-can-expose-sensor-readings\u2461" }], "title": "9.2.3. Update virtual sensor reading" }], "url": "#can-expose-sensor-readings" },
                "cb9acc83": { "dfnID": "cb9acc83", "dfnText": "set a property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-set-a-property" }], "title": "9.2.2. Get virtual sensor information" }], "url": "https://w3c.github.io/webdriver/#dfn-set-a-property" },
                "cc890cc1": { "dfnID": "cc890cc1", "dfnText": "policy-controlled feature", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-policy-controlled-feature" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2461" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2462" }, { "id": "ref-for-policy-controlled-feature\u2463" }, { "id": "ref-for-policy-controlled-feature\u2464" }, { "id": "ref-for-policy-controlled-feature\u2465" }, { "id": "ref-for-policy-controlled-feature\u2466" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" },
                "check-sensor-policy-controlled-features": { "dfnID": "check-sensor-policy-controlled-features", "dfnText": "8.2. Check sensor policy-controlled features", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-check-sensor-policy-controlled-features" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-check-sensor-policy-controlled-features" }], "title": "8.2. Check sensor policy-controlled features" }], "url": "#check-sensor-policy-controlled-features" },
                "concept-device-sensor": { "dfnID": "concept-device-sensor", "dfnText": "device sensor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-device-sensor" }], "title": "2. Scope" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2460" }, { "id": "ref-for-concept-device-sensor\u2461" }, { "id": "ref-for-concept-device-sensor\u2462" }, { "id": "ref-for-concept-device-sensor\u2463" }], "title": "4. Security and privacy considerations" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2465" }, { "id": "ref-for-concept-device-sensor\u2466" }, { "id": "ref-for-concept-device-sensor\u2467" }, { "id": "ref-for-concept-device-sensor\u2468" }, { "id": "ref-for-concept-device-sensor\u2460\u24ea" }, { "id": "ref-for-concept-device-sensor\u2460\u2460" }, { "id": "ref-for-concept-device-sensor\u2460\u2461" }, { "id": "ref-for-concept-device-sensor\u2460\u2462" }, { "id": "ref-for-concept-device-sensor\u2460\u2463" }, { "id": "ref-for-concept-device-sensor\u2460\u2464" }, { "id": "ref-for-concept-device-sensor\u2460\u2465" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2460\u2466" }, { "id": "ref-for-concept-device-sensor\u2460\u2467" }, { "id": "ref-for-concept-device-sensor\u2460\u2468" }, { "id": "ref-for-concept-device-sensor\u2461\u24ea" }, { "id": "ref-for-concept-device-sensor\u2461\u2460" }, { "id": "ref-for-concept-device-sensor\u2461\u2461" }, { "id": "ref-for-concept-device-sensor\u2461\u2462" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2461\u2463" }, { "id": "ref-for-concept-device-sensor\u2461\u2464" }, { "id": "ref-for-concept-device-sensor\u2461\u2465" }, { "id": "ref-for-concept-device-sensor\u2461\u2466" }, { "id": "ref-for-concept-device-sensor\u2461\u2467" }, { "id": "ref-for-concept-device-sensor\u2461\u2468" }, { "id": "ref-for-concept-device-sensor\u2462\u24ea" }, { "id": "ref-for-concept-device-sensor\u2462\u2460" }, { "id": "ref-for-concept-device-sensor\u2462\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2462\u2462" }, { "id": "ref-for-concept-device-sensor\u2462\u2463" }, { "id": "ref-for-concept-device-sensor\u2462\u2464" }, { "id": "ref-for-concept-device-sensor\u2462\u2465" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2462\u2466" }], "title": "7.1.1. Sensor lifecycle" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2462\u2467" }, { "id": "ref-for-concept-device-sensor\u2462\u2468" }, { "id": "ref-for-concept-device-sensor\u2463\u24ea" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2463\u2460" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2463\u2461" }, { "id": "ref-for-concept-device-sensor\u2463\u2462" }, { "id": "ref-for-concept-device-sensor\u2463\u2463" }, { "id": "ref-for-concept-device-sensor\u2463\u2464" }, { "id": "ref-for-concept-device-sensor\u2463\u2465" }, { "id": "ref-for-concept-device-sensor\u2463\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2463\u2467" }, { "id": "ref-for-concept-device-sensor\u2463\u2468" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u2460" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u2461" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u2462" }], "title": "10.10. Example WebIDL" }], "url": "#concept-device-sensor" },
                "concept-platform-sensor": { "dfnID": "concept-platform-sensor", "dfnText": "platform sensor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-platform-sensor" }, { "id": "ref-for-concept-platform-sensor\u2460" }, { "id": "ref-for-concept-platform-sensor\u2461" }, { "id": "ref-for-concept-platform-sensor\u2462" }, { "id": "ref-for-concept-platform-sensor\u2463" }, { "id": "ref-for-concept-platform-sensor\u2464" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2465" }, { "id": "ref-for-concept-platform-sensor\u2466" }, { "id": "ref-for-concept-platform-sensor\u2467" }, { "id": "ref-for-concept-platform-sensor\u2468" }, { "id": "ref-for-concept-platform-sensor\u2460\u24ea" }, { "id": "ref-for-concept-platform-sensor\u2460\u2460" }, { "id": "ref-for-concept-platform-sensor\u2460\u2461" }, { "id": "ref-for-concept-platform-sensor\u2460\u2462" }, { "id": "ref-for-concept-platform-sensor\u2460\u2463" }, { "id": "ref-for-concept-platform-sensor\u2460\u2464" }, { "id": "ref-for-concept-platform-sensor\u2460\u2465" }, { "id": "ref-for-concept-platform-sensor\u2460\u2466" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2460\u2467" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2460\u2468" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2461\u24ea" }, { "id": "ref-for-concept-platform-sensor\u2461\u2460" }, { "id": "ref-for-concept-platform-sensor\u2461\u2461" }, { "id": "ref-for-concept-platform-sensor\u2461\u2462" }, { "id": "ref-for-concept-platform-sensor\u2461\u2463" }, { "id": "ref-for-concept-platform-sensor\u2461\u2464" }, { "id": "ref-for-concept-platform-sensor\u2461\u2465" }, { "id": "ref-for-concept-platform-sensor\u2461\u2466" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2461\u2467" }, { "id": "ref-for-concept-platform-sensor\u2461\u2468" }, { "id": "ref-for-concept-platform-sensor\u2462\u24ea" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2460" }], "title": "7.1.1. Sensor lifecycle" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2461" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2462" }, { "id": "ref-for-concept-platform-sensor\u2462\u2463" }, { "id": "ref-for-concept-platform-sensor\u2462\u2464" }, { "id": "ref-for-concept-platform-sensor\u2462\u2465" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2466" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2467" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2468" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u24ea" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2460" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2461" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2462" }, { "id": "ref-for-concept-platform-sensor\u2463\u2463" }, { "id": "ref-for-concept-platform-sensor\u2463\u2464" }, { "id": "ref-for-concept-platform-sensor\u2463\u2465" }, { "id": "ref-for-concept-platform-sensor\u2463\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2467" }, { "id": "ref-for-concept-platform-sensor\u2463\u2468" }, { "id": "ref-for-concept-platform-sensor\u2464\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2464\u2460" }, { "id": "ref-for-concept-platform-sensor\u2464\u2461" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2464\u2462" }, { "id": "ref-for-concept-platform-sensor\u2464\u2463" }, { "id": "ref-for-concept-platform-sensor\u2464\u2464" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2464\u2465" }], "title": "10.6. Definition Requirements" }], "url": "#concept-platform-sensor" },
                "connect-to-sensor": { "dfnID": "connect-to-sensor", "dfnText": "8.3. Connect to sensor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-connect-to-sensor" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-connect-to-sensor" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-connect-to-sensor\u2460" }], "title": "9.2.1. Create virtual sensor" }], "url": "#connect-to-sensor" },
                "d124397f": { "dfnID": "d124397f", "dfnText": "permission state", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-state" }], "title": "8.14. Request sensor access" }], "url": "https://w3c.github.io/permissions/#dfn-permission-state" },
                "d14a6f26": { "dfnID": "d14a6f26", "dfnText": "key", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-key" }], "title": "6.2. Sensor" }], "url": "https://infra.spec.whatwg.org/#map-key" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }, { "id": "ref-for-idl-DOMException\u2462" }, { "id": "ref-for-idl-DOMException\u2463" }], "title": "7.2. The SensorErrorEvent Interface" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2464" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2466" }], "title": "8.12. Notify error" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "deactivate-a-sensor-object": { "dfnID": "deactivate-a-sensor-object", "dfnText": "8.5. Deactivate a sensor object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-deactivate-a-sensor-object" }], "title": "7.1.2. Sensor garbage collection" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object\u2460" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "url": "#deactivate-a-sensor-object" },
                "default-sensor": { "dfnID": "default-sensor", "dfnText": "default sensor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-sensor" }, { "id": "ref-for-default-sensor\u2460" }, { "id": "ref-for-default-sensor\u2461" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-default-sensor\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-default-sensor\u2463" }, { "id": "ref-for-default-sensor\u2464" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-default-sensor\u2465" }, { "id": "ref-for-default-sensor\u2466" }, { "id": "ref-for-default-sensor\u2467" }], "title": "10.6. Definition Requirements" }], "url": "#default-sensor" },
                "device-sensor-maximum-sampling-frequency": { "dfnID": "device-sensor-maximum-sampling-frequency", "dfnText": "maximum sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-device-sensor-maximum-sampling-frequency" }, { "id": "ref-for-device-sensor-maximum-sampling-frequency\u2460" }, { "id": "ref-for-device-sensor-maximum-sampling-frequency\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-device-sensor-maximum-sampling-frequency\u2462" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-device-sensor-maximum-sampling-frequency\u2463" }], "title": "9.1. Virtual Sensors" }], "url": "#device-sensor-maximum-sampling-frequency" },
                "device-sensor-minimum-sampling-frequency": { "dfnID": "device-sensor-minimum-sampling-frequency", "dfnText": "minimum sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-device-sensor-minimum-sampling-frequency" }, { "id": "ref-for-device-sensor-minimum-sampling-frequency\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-device-sensor-minimum-sampling-frequency\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-device-sensor-minimum-sampling-frequency\u2462" }], "title": "9.1. Virtual Sensors" }], "url": "#device-sensor-minimum-sampling-frequency" },
                "dictdef-sensorerroreventinit": { "dfnID": "dictdef-sensorerroreventinit", "dfnText": "SensorErrorEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-sensorerroreventinit" }, { "id": "ref-for-dictdef-sensorerroreventinit\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "url": "#dictdef-sensorerroreventinit" },
                "dictdef-sensoroptions": { "dfnID": "dictdef-sensoroptions", "dfnText": "SensorOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-sensoroptions" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-dictdef-sensoroptions\u2460" }, { "id": "ref-for-dictdef-sensoroptions\u2461" }], "title": "10.6. Definition Requirements" }], "url": "#dictdef-sensoroptions" },
                "dom-sensor-activated": { "dfnID": "dom-sensor-activated", "dfnText": "activated", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-activated" }], "title": "7.1.4. Sensor.activated" }], "url": "#dom-sensor-activated" },
                "dom-sensor-frequency-slot": { "dfnID": "dom-sensor-frequency-slot", "dfnText": "[[frequency]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-frequency-slot" }, { "id": "ref-for-dom-sensor-frequency-slot\u2460" }, { "id": "ref-for-dom-sensor-frequency-slot\u2461" }, { "id": "ref-for-dom-sensor-frequency-slot\u2462" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2463" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2464" }, { "id": "ref-for-dom-sensor-frequency-slot\u2465" }, { "id": "ref-for-dom-sensor-frequency-slot\u2466" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2467" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2468" }, { "id": "ref-for-dom-sensor-frequency-slot\u2460\u24ea" }, { "id": "ref-for-dom-sensor-frequency-slot\u2460\u2460" }], "title": "8.9. Report latest reading updated" }], "url": "#dom-sensor-frequency-slot" },
                "dom-sensor-hasreading": { "dfnID": "dom-sensor-hasreading", "dfnText": "hasReading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-hasreading" }], "title": "7.1.5. Sensor.hasReading" }], "url": "#dom-sensor-hasreading" },
                "dom-sensor-lasteventfiredat-slot": { "dfnID": "dom-sensor-lasteventfiredat-slot", "dfnText": "[[lastEventFiredAt]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-lasteventfiredat-slot" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensor-lasteventfiredat-slot\u2460" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-dom-sensor-lasteventfiredat-slot\u2461" }], "title": "8.10. Notify new reading" }], "url": "#dom-sensor-lasteventfiredat-slot" },
                "dom-sensor-onactivate": { "dfnID": "dom-sensor-onactivate", "dfnText": "onactivate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-onactivate" }], "title": "7.1.10. Sensor.onactivate" }], "url": "#dom-sensor-onactivate" },
                "dom-sensor-onerror": { "dfnID": "dom-sensor-onerror", "dfnText": "onerror", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-onerror" }], "title": "7.1.11. Sensor.onerror" }], "url": "#dom-sensor-onerror" },
                "dom-sensor-onreading": { "dfnID": "dom-sensor-onreading", "dfnText": "onreading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-onreading" }], "title": "7.1.9. Sensor.onreading" }, { "refs": [{ "id": "ref-for-dom-sensor-onreading\u2460" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }], "url": "#dom-sensor-onreading" },
                "dom-sensor-pendingreadingnotification-slot": { "dfnID": "dom-sensor-pendingreadingnotification-slot", "dfnText": "[[pendingReadingNotification]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-pendingreadingnotification-slot" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2460" }, { "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2461" }, { "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2462" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2463" }], "title": "8.10. Notify new reading" }], "url": "#dom-sensor-pendingreadingnotification-slot" },
                "dom-sensor-start": { "dfnID": "dom-sensor-start", "dfnText": "start", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-start" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-dom-sensor-start\u2460" }], "title": "9.2.1. Create virtual sensor" }], "url": "#dom-sensor-start" },
                "dom-sensor-state-slot": { "dfnID": "dom-sensor-state-slot", "dfnText": "[[state]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-state-slot" }, { "id": "ref-for-dom-sensor-state-slot\u2460" }, { "id": "ref-for-dom-sensor-state-slot\u2461" }], "title": "7.1.2. Sensor garbage collection" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2462" }], "title": "7.1.4. Sensor.activated" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2463" }, { "id": "ref-for-dom-sensor-state-slot\u2464" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2465" }, { "id": "ref-for-dom-sensor-state-slot\u2466" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2467" }], "title": "7.1.10. Sensor.onactivate" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2468" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2460\u24ea" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2460\u2460" }], "title": "8.12. Notify error" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2460\u2461" }], "title": "8.13. Get value from latest reading" }], "url": "#dom-sensor-state-slot" },
                "dom-sensor-stop": { "dfnID": "dom-sensor-stop", "dfnText": "stop", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-stop" }], "title": "7.1.8. Sensor.stop()" }], "url": "#dom-sensor-stop" },
                "dom-sensor-timestamp": { "dfnID": "dom-sensor-timestamp", "dfnText": "timestamp", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-timestamp" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-dom-sensor-timestamp\u2460" }], "title": "8.8. Update latest reading" }], "url": "#dom-sensor-timestamp" },
                "dom-sensorerrorevent-error": { "dfnID": "dom-sensorerrorevent-error", "dfnText": "error", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensorerrorevent-error" }], "title": "7.2. The SensorErrorEvent Interface" }, { "refs": [{ "id": "ref-for-dom-sensorerrorevent-error\u2460" }], "title": "8.12. Notify error" }], "url": "#dom-sensorerrorevent-error" },
                "dom-sensorerrorevent-sensorerrorevent": { "dfnID": "dom-sensorerrorevent-sensorerrorevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-sensorerrorevent-sensorerrorevent" },
                "dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict": { "dfnID": "dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict", "dfnText": "errorEventInitDict", "external": false, "refSections": [], "url": "#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict" },
                "dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type": { "dfnID": "dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type" },
                "dom-sensorerroreventinit-error": { "dfnID": "dom-sensorerroreventinit-error", "dfnText": "error", "external": false, "refSections": [], "url": "#dom-sensorerroreventinit-error" },
                "dom-sensoroptions-frequency": { "dfnID": "dom-sensoroptions-frequency", "dfnText": "frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-sensoroptions-frequency" }, { "id": "ref-for-dom-sensoroptions-frequency\u2460" }, { "id": "ref-for-dom-sensoroptions-frequency\u2461" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensoroptions-frequency\u2462" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }], "url": "#dom-sensoroptions-frequency" },
                "e270bd2a": { "dfnID": "e270bd2a", "dfnText": "task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-task" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-concept-task\u2460" }], "title": "8.5. Deactivate a sensor object" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" },
                "e451c8f4": { "dfnID": "e451c8f4", "dfnText": "inherited dictionaries", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-inherited-dictionaries" }, { "id": "ref-for-dfn-inherited-dictionaries\u2460" }], "title": "10.6. Definition Requirements" }], "url": "https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries" },
                "e61f04d5": { "dfnID": "e61f04d5", "dfnText": "currently focused area", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-currently-focused-area-of-a-top-level-traversable" }], "title": "8.15. Focus and origin check" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable" },
                "e740d7e5": { "dfnID": "e740d7e5", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-name" }, { "id": "ref-for-dfn-name\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-dfn-name\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-dfn-name\u2462" }, { "id": "ref-for-dfn-name\u2463" }], "title": "10.8. Extending the Permission API" }], "url": "https://w3c.github.io/permissions/#dfn-name" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "7.1.7. Sensor.start()" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "e9c58cef": { "dfnID": "e9c58cef", "dfnText": "time origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-time-origin" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-concept-settings-object-time-origin\u2460" }, { "id": "ref-for-concept-settings-object-time-origin\u2461" }], "title": "8.8. Update latest reading" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" },
                "ebb01253": { "dfnID": "ebb01253", "dfnText": "PermissionDescriptor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissiondescriptor" }, { "id": "ref-for-dom-permissiondescriptor\u2460" }], "title": "10.8. Extending the Permission API" }], "url": "https://w3c.github.io/permissions/#dom-permissiondescriptor" },
                "eeb0e150": { "dfnID": "eeb0e150", "dfnText": "same-origin policy violations", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sop-violations" }], "title": "10.1. Security and Privacy" }], "url": "https://w3ctag.github.io/security-questionnaire/#sop-violations" },
                "extension-sensor-interface": { "dfnID": "extension-sensor-interface", "dfnText": "extension sensor interface", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extension-sensor-interface" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2460" }, { "id": "ref-for-extension-sensor-interface\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2462" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2463" }, { "id": "ref-for-extension-sensor-interface\u2464" }, { "id": "ref-for-extension-sensor-interface\u2465" }, { "id": "ref-for-extension-sensor-interface\u2466" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2467" }], "title": "10.7. Automation" }], "url": "#extension-sensor-interface" },
                "extension-specification": { "dfnID": "extension-specification", "dfnText": "extension specifications", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extension-specification" }], "title": "4.2.1. Secure Context" }, { "refs": [{ "id": "ref-for-extension-specification\u2460" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-extension-specification\u2461" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-extension-specification\u2462" }, { "id": "ref-for-extension-specification\u2463" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-extension-specification\u2464" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-extension-specification\u2465" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-extension-specification\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-extension-specification\u2467" }], "title": "9.2.3.1. Algorithms for parsing readings" }, { "refs": [{ "id": "ref-for-extension-specification\u2468" }, { "id": "ref-for-extension-specification\u2460\u24ea" }, { "id": "ref-for-extension-specification\u2460\u2460" }, { "id": "ref-for-extension-specification\u2460\u2461" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2462" }], "title": "10.1. Security and Privacy" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2463" }], "title": "10.3. Unit" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2464" }], "title": "10.4. Exposing High-Level vs. Low-Level Sensors" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2465" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2466" }, { "id": "ref-for-extension-specification\u2460\u2467" }, { "id": "ref-for-extension-specification\u2460\u2468" }, { "id": "ref-for-extension-specification\u2461\u24ea" }, { "id": "ref-for-extension-specification\u2461\u2460" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-extension-specification\u2461\u2461" }, { "id": "ref-for-extension-specification\u2461\u2462" }], "title": "10.7. Automation" }, { "refs": [{ "id": "ref-for-extension-specification\u2461\u2463" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#extension-specification" },
                "f0951476": { "dfnID": "f0951476", "dfnText": "EventHandler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventhandler" }, { "id": "ref-for-eventhandler\u2460" }, { "id": "ref-for-eventhandler\u2461" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-eventhandler\u2462" }], "title": "7.1.9. Sensor.onreading" }, { "refs": [{ "id": "ref-for-eventhandler\u2463" }], "title": "7.1.10. Sensor.onactivate" }, { "refs": [{ "id": "ref-for-eventhandler\u2464" }], "title": "7.1.11. Sensor.onerror" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "f937b7b6": { "dfnID": "f937b7b6", "dfnText": "continue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "fa818daf": { "dfnID": "fa818daf", "dfnText": "get a property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-getting-properties" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-getting-properties\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-getting-properties\u2461" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-dfn-getting-properties\u2462" }, { "id": "ref-for-dfn-getting-properties\u2463" }, { "id": "ref-for-dfn-getting-properties\u2464" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "url": "https://w3c.github.io/webdriver/#dfn-getting-properties" },
                "faf75970": { "dfnID": "faf75970", "dfnText": "gains focus", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-gains-focus" }], "title": "4.2.3. Focused Area" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#gains-focus" },
                "fc14fa8a": { "dfnID": "fc14fa8a", "dfnText": "inherited interfaces", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-inherited-interfaces" }], "title": "10.6. Definition Requirements" }], "url": "https://webidl.spec.whatwg.org/#dfn-inherited-interfaces" },
                "focus-and-origin-check": { "dfnID": "focus-and-origin-check", "dfnText": "8.15. Focus and origin check", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-focus-and-origin-check" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-focus-and-origin-check\u2460" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-focus-and-origin-check" }], "title": "8.15. Focus and origin check" }], "url": "#focus-and-origin-check" },
                "generic-sensor-permission-revocation-algorithm": { "dfnID": "generic-sensor-permission-revocation-algorithm", "dfnText": "8.6. Generic Sensor permission revocation algorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-generic-sensor-permission-revocation-algorithm" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "url": "#generic-sensor-permission-revocation-algorithm" },
                "get-a-platform-sensors-sampling-bounds": { "dfnID": "get-a-platform-sensors-sampling-bounds", "dfnText": "get a platform sensor\u2019s sampling bounds", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-a-platform-sensors-sampling-bounds" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-get-a-platform-sensors-sampling-bounds\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-get-a-platform-sensors-sampling-bounds\u2461" }], "title": "8.7. Set sensor settings" }], "url": "#get-a-platform-sensors-sampling-bounds" },
                "get-value-from-latest-reading": { "dfnID": "get-value-from-latest-reading", "dfnText": "8.13. Get value from latest reading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-value-from-latest-reading" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading\u2460" }], "title": "7.1.5. Sensor.hasReading" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading\u2461" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading\u2462" }], "title": "10.6. Definition Requirements" }], "url": "#get-value-from-latest-reading" },
                "high-level": { "dfnID": "high-level", "dfnText": "high-level", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-high-level" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-high-level\u2460" }, { "id": "ref-for-high-level\u2461" }, { "id": "ref-for-high-level\u2462" }, { "id": "ref-for-high-level\u2463" }, { "id": "ref-for-high-level\u2464" }, { "id": "ref-for-high-level\u2465" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-high-level\u2466" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-high-level\u2467" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-high-level\u2468" }, { "id": "ref-for-high-level\u2460\u24ea" }, { "id": "ref-for-high-level\u2460\u2460" }], "title": "10.4. Exposing High-Level vs. Low-Level Sensors" }], "url": "#high-level" },
                "initialize-a-sensor-object": { "dfnID": "initialize-a-sensor-object", "dfnText": "8.1. Initialize a sensor object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-initialize-a-sensor-object" }], "title": "8.1. Initialize a sensor object" }], "url": "#initialize-a-sensor-object" },
                "latest-reading": { "dfnID": "latest-reading", "dfnText": "latest reading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-latest-reading" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-latest-reading\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-latest-reading\u2461" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-latest-reading\u2462" }, { "id": "ref-for-latest-reading\u2463" }, { "id": "ref-for-latest-reading\u2464" }, { "id": "ref-for-latest-reading\u2465" }, { "id": "ref-for-latest-reading\u2466" }, { "id": "ref-for-latest-reading\u2467" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-latest-reading\u2468" }, { "id": "ref-for-latest-reading\u2460\u24ea" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2460" }, { "id": "ref-for-latest-reading\u2460\u2461" }, { "id": "ref-for-latest-reading\u2460\u2462" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2463" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2464" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2465" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2466" }], "title": "8.13. Get value from latest reading" }], "url": "#latest-reading" },
                "limit-max-frequency": { "dfnID": "limit-max-frequency", "dfnText": "4.3.1. Limit maximum sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-limit-max-frequency" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-limit-max-frequency" }], "title": "4.3.3. Limit number of delivered readings" }], "url": "#limit-max-frequency" },
                "limit-number-of-delivered-readings": { "dfnID": "limit-number-of-delivered-readings", "dfnText": "4.3.3. Limit number of delivered readings", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-limit-number-of-delivered-readings" }], "title": "4.3.3. Limit number of delivered readings" }], "url": "#limit-number-of-delivered-readings" },
                "local-coordinate-system": { "dfnID": "local-coordinate-system", "dfnText": "local coordinate system", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-local-coordinate-system" }, { "id": "ref-for-local-coordinate-system\u2460" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-local-coordinate-system\u2461" }, { "id": "ref-for-local-coordinate-system\u2462" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-local-coordinate-system\u2463" }], "title": "10. Extensibility" }], "url": "#local-coordinate-system" },
                "low-level": { "dfnID": "low-level", "dfnText": "low-level", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-low-level" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-low-level\u2460" }, { "id": "ref-for-low-level\u2461" }, { "id": "ref-for-low-level\u2462" }, { "id": "ref-for-low-level\u2463" }, { "id": "ref-for-low-level\u2464" }, { "id": "ref-for-low-level\u2465" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-low-level\u2466" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-low-level\u2467" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-low-level\u2468" }, { "id": "ref-for-low-level\u2460\u24ea" }, { "id": "ref-for-low-level\u2460\u2460" }], "title": "10.4. Exposing High-Level vs. Low-Level Sensors" }, { "refs": [{ "id": "ref-for-low-level\u2460\u2461" }, { "id": "ref-for-low-level\u2460\u2462" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-low-level\u2460\u2463" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#low-level" },
                "notify-activated-state": { "dfnID": "notify-activated-state", "dfnText": "8.11. Notify activated state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-notify-activated-state" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-notify-activated-state" }], "title": "8.11. Notify activated state" }], "url": "#notify-activated-state" },
                "notify-error": { "dfnID": "notify-error", "dfnText": "8.12. Notify error", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-notify-error" }, { "id": "ref-for-notify-error\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-notify-error\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-notify-error" }], "title": "8.12. Notify error" }, { "refs": [{ "id": "ref-for-notify-error\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "url": "#notify-error" },
                "notify-new-reading": { "dfnID": "notify-new-reading", "dfnText": "8.10. Notify new reading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-notify-new-reading" }, { "id": "ref-for-notify-new-reading\u2460" }, { "id": "ref-for-notify-new-reading\u2461" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-notify-new-reading" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-notify-new-reading\u2462" }], "title": "8.11. Notify activated state" }], "url": "#notify-new-reading" },
                "parse-single-value-number-reading": { "dfnID": "parse-single-value-number-reading", "dfnText": "9.2.3.1.1. Parse single-value number reading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-parse-single-value-number-reading" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-parse-single-value-number-reading" }], "title": "10.7. Automation" }], "url": "#parse-single-value-number-reading" },
                "parse-xyz-reading": { "dfnID": "parse-xyz-reading", "dfnText": "9.2.3.1.2. Parse XYZ reading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-parse-xyz-reading" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "url": "#parse-xyz-reading" },
                "per-type-virtual-sensor-metadata": { "dfnID": "per-type-virtual-sensor-metadata", "dfnText": "per-type virtual sensor metadata", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2460" }, { "id": "ref-for-per-type-virtual-sensor-metadata\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2462" }], "title": "9.2.3.1. Algorithms for parsing readings" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2463" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2464" }, { "id": "ref-for-per-type-virtual-sensor-metadata\u2465" }, { "id": "ref-for-per-type-virtual-sensor-metadata\u2466" }], "title": "10.7. Automation" }], "url": "#per-type-virtual-sensor-metadata" },
                "reading-quantization-algorithm": { "dfnID": "reading-quantization-algorithm", "dfnText": "reading quantization algorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-reading-quantization-algorithm" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-reading-quantization-algorithm\u2460" }, { "id": "ref-for-reading-quantization-algorithm\u2461" }], "title": "8.13. Get value from latest reading" }], "url": "#reading-quantization-algorithm" },
                "reading-timestamp": { "dfnID": "reading-timestamp", "dfnText": "reading timestamp", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-reading-timestamp" }, { "id": "ref-for-reading-timestamp\u2460" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-reading-timestamp\u2461" }], "title": "6.2. Sensor" }], "url": "#reading-timestamp" },
                "reduce-accuracy": { "dfnID": "reduce-accuracy", "dfnText": "4.3.4. Reduce accuracy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-reduce-accuracy" }], "title": "4.3.4. Reduce accuracy" }], "url": "#reduce-accuracy" },
                "report-latest-reading-updated": { "dfnID": "report-latest-reading-updated", "dfnText": "8.9. Report latest reading updated", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-report-latest-reading-updated" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-report-latest-reading-updated" }], "title": "8.9. Report latest reading updated" }], "url": "#report-latest-reading-updated" },
                "reporting-frequency": { "dfnID": "reporting-frequency", "dfnText": "reporting frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-reporting-frequency" }, { "id": "ref-for-reporting-frequency\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-reporting-frequency\u2461" }], "title": "7.1.3. Sensor internal slots" }], "url": "#reporting-frequency" },
                "request-sensor-access": { "dfnID": "request-sensor-access", "dfnText": "8.14. Request sensor access", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-request-sensor-access" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-request-sensor-access\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-request-sensor-access" }], "title": "8.14. Request sensor access" }], "url": "#request-sensor-access" },
                "sampling-frequency": { "dfnID": "sampling-frequency", "dfnText": "sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sampling-frequency" }, { "id": "ref-for-sampling-frequency\u2460" }], "title": "4.3.3. Limit number of delivered readings" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2461" }, { "id": "ref-for-sampling-frequency\u2462" }, { "id": "ref-for-sampling-frequency\u2463" }, { "id": "ref-for-sampling-frequency\u2464" }, { "id": "ref-for-sampling-frequency\u2465" }, { "id": "ref-for-sampling-frequency\u2466" }, { "id": "ref-for-sampling-frequency\u2467" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2468" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u24ea" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u2460" }, { "id": "ref-for-sampling-frequency\u2460\u2461" }, { "id": "ref-for-sampling-frequency\u2460\u2462" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u2463" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u2464" }], "title": "10.8. Extending the Permission API" }], "url": "#sampling-frequency" },
                "sensor": { "dfnID": "sensor", "dfnText": "Sensor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor" }], "title": "3. A note on Feature Detection of Hardware Features" }, { "refs": [{ "id": "ref-for-sensor\u2460" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-sensor\u2461" }, { "id": "ref-for-sensor\u2462" }, { "id": "ref-for-sensor\u2463" }, { "id": "ref-for-sensor\u2464" }, { "id": "ref-for-sensor\u2465" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor\u2466" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-sensor\u2467" }, { "id": "ref-for-sensor\u2468" }, { "id": "ref-for-sensor\u2460\u24ea" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2460" }, { "id": "ref-for-sensor\u2460\u2461" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2462" }], "title": "7.1.1. Sensor lifecycle" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2463" }, { "id": "ref-for-sensor\u2460\u2464" }, { "id": "ref-for-sensor\u2460\u2465" }], "title": "7.1.2. Sensor garbage collection" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2466" }, { "id": "ref-for-sensor\u2460\u2467" }, { "id": "ref-for-sensor\u2460\u2468" }, { "id": "ref-for-sensor\u2461\u24ea" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2460" }], "title": "7.1.12. Event handlers" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2461" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2462" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2463" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2464" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2465" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2466" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2467" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2468" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-sensor\u2462\u24ea" }], "title": "8.12. Notify error" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2460" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2461" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2462" }, { "id": "ref-for-sensor\u2462\u2463" }, { "id": "ref-for-sensor\u2462\u2464" }, { "id": "ref-for-sensor\u2462\u2465" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2466" }, { "id": "ref-for-sensor\u2462\u2467" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2468" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-sensor\u2463\u24ea" }, { "id": "ref-for-sensor\u2463\u2460" }, { "id": "ref-for-sensor\u2463\u2461" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2462" }, { "id": "ref-for-sensor\u2463\u2463" }, { "id": "ref-for-sensor\u2463\u2464" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2465" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2466" }, { "id": "ref-for-sensor\u2463\u2467" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2468" }, { "id": "ref-for-sensor\u2464\u24ea" }, { "id": "ref-for-sensor\u2464\u2460" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#sensor" },
                "sensor-feature-names": { "dfnID": "sensor-feature-names", "dfnText": "sensor feature names", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-feature-names" }, { "id": "ref-for-sensor-feature-names\u2460" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-sensor-feature-names\u2461" }, { "id": "ref-for-sensor-feature-names\u2462" }, { "id": "ref-for-sensor-feature-names\u2463" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#sensor-feature-names" },
                "sensor-fusion": { "dfnID": "sensor-fusion", "dfnText": "sensor fusion", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-fusion" }, { "id": "ref-for-sensor-fusion\u2460" }, { "id": "ref-for-sensor-fusion\u2461" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2462" }, { "id": "ref-for-sensor-fusion\u2463" }, { "id": "ref-for-sensor-fusion\u2464" }, { "id": "ref-for-sensor-fusion\u2465" }, { "id": "ref-for-sensor-fusion\u2466" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2467" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2468" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2460\u24ea" }, { "id": "ref-for-sensor-fusion\u2460\u2460" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#sensor-fusion" },
                "sensor-permission-names": { "dfnID": "sensor-permission-names", "dfnText": "sensor permission names", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-permission-names" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-sensor-permission-names\u2460" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-sensor-permission-names\u2461" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-permission-names\u2462" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#sensor-permission-names" },
                "sensor-reading": { "dfnID": "sensor-reading", "dfnText": "sensor reading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-reading" }, { "id": "ref-for-sensor-reading\u2460" }], "title": "4. Security and privacy considerations" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461" }], "title": "4.1.1. Location Tracking" }, { "refs": [{ "id": "ref-for-sensor-reading\u2462" }], "title": "4.1.2. Eavesdropping" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463" }], "title": "4.1.3. Keystroke Monitoring" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464" }], "title": "4.1.5. User Identifying" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465" }], "title": "4.2.1. Secure Context" }, { "refs": [{ "id": "ref-for-sensor-reading\u2466" }, { "id": "ref-for-sensor-reading\u2467" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-sensor-reading\u2468" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u24ea" }], "title": "4.2.4. Visibility State" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2460" }], "title": "4.2.5. Permissions API" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2461" }], "title": "4.3.3. Limit number of delivered readings" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2462" }, { "id": "ref-for-sensor-reading\u2460\u2463" }, { "id": "ref-for-sensor-reading\u2460\u2464" }, { "id": "ref-for-sensor-reading\u2460\u2465" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2466" }], "title": "4.3.5. Keep the user informed about API use" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2467" }, { "id": "ref-for-sensor-reading\u2460\u2468" }, { "id": "ref-for-sensor-reading\u2461\u24ea" }, { "id": "ref-for-sensor-reading\u2461\u2460" }, { "id": "ref-for-sensor-reading\u2461\u2461" }, { "id": "ref-for-sensor-reading\u2461\u2462" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461\u2463" }, { "id": "ref-for-sensor-reading\u2461\u2464" }, { "id": "ref-for-sensor-reading\u2461\u2465" }, { "id": "ref-for-sensor-reading\u2461\u2466" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461\u2467" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461\u2468" }, { "id": "ref-for-sensor-reading\u2462\u24ea" }, { "id": "ref-for-sensor-reading\u2462\u2460" }, { "id": "ref-for-sensor-reading\u2462\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-reading\u2462\u2462" }, { "id": "ref-for-sensor-reading\u2462\u2463" }, { "id": "ref-for-sensor-reading\u2462\u2464" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-reading\u2462\u2465" }, { "id": "ref-for-sensor-reading\u2462\u2466" }, { "id": "ref-for-sensor-reading\u2462\u2467" }, { "id": "ref-for-sensor-reading\u2462\u2468" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u24ea" }, { "id": "ref-for-sensor-reading\u2463\u2460" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2461" }, { "id": "ref-for-sensor-reading\u2463\u2462" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2463" }], "title": "7.1.9. Sensor.onreading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2464" }, { "id": "ref-for-sensor-reading\u2463\u2465" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2466" }, { "id": "ref-for-sensor-reading\u2463\u2467" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2468" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u24ea" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2460" }, { "id": "ref-for-sensor-reading\u2464\u2461" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2462" }, { "id": "ref-for-sensor-reading\u2464\u2463" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2464" }, { "id": "ref-for-sensor-reading\u2464\u2465" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2466" }, { "id": "ref-for-sensor-reading\u2464\u2467" }], "title": "9.2.3.1.2. Parse XYZ reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2468" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u24ea" }, { "id": "ref-for-sensor-reading\u2465\u2460" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2461" }], "title": "10.3. Unit" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2462" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2463" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2464" }, { "id": "ref-for-sensor-reading\u2465\u2465" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2466" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#sensor-reading" },
                "sensor-task-source": { "dfnID": "sensor-task-source", "dfnText": "sensor task source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-task-source" }], "title": "8.5. Deactivate a sensor object" }], "url": "#sensor-task-source" },
                "sensor-type": { "dfnID": "sensor-type", "dfnText": "sensor type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-type" }], "title": "4. Security and privacy considerations" }, { "refs": [{ "id": "ref-for-sensor-type\u2460" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-sensor-type\u2461" }], "title": "4.3. Mitigation strategies applied on a case by case basis" }, { "refs": [{ "id": "ref-for-sensor-type\u2462" }, { "id": "ref-for-sensor-type\u2463" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-sensor-type\u2464" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-sensor-type\u2465" }, { "id": "ref-for-sensor-type\u2466" }, { "id": "ref-for-sensor-type\u2467" }, { "id": "ref-for-sensor-type\u2468" }, { "id": "ref-for-sensor-type\u2460\u24ea" }, { "id": "ref-for-sensor-type\u2460\u2460" }, { "id": "ref-for-sensor-type\u2460\u2461" }, { "id": "ref-for-sensor-type\u2460\u2462" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-sensor-type\u2460\u2463" }, { "id": "ref-for-sensor-type\u2460\u2464" }, { "id": "ref-for-sensor-type\u2460\u2465" }, { "id": "ref-for-sensor-type\u2460\u2466" }, { "id": "ref-for-sensor-type\u2460\u2467" }, { "id": "ref-for-sensor-type\u2460\u2468" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u24ea" }, { "id": "ref-for-sensor-type\u2461\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u2461" }, { "id": "ref-for-sensor-type\u2461\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u2463" }, { "id": "ref-for-sensor-type\u2461\u2464" }, { "id": "ref-for-sensor-type\u2461\u2465" }, { "id": "ref-for-sensor-type\u2461\u2466" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u2467" }, { "id": "ref-for-sensor-type\u2461\u2468" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u24ea" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2462" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2463" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2464" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2465" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2466" }, { "id": "ref-for-sensor-type\u2462\u2467" }, { "id": "ref-for-sensor-type\u2462\u2468" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u2460" }, { "id": "ref-for-sensor-type\u2463\u2461" }, { "id": "ref-for-sensor-type\u2463\u2462" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u2463" }, { "id": "ref-for-sensor-type\u2463\u2464" }, { "id": "ref-for-sensor-type\u2463\u2465" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u2466" }, { "id": "ref-for-sensor-type\u2463\u2467" }, { "id": "ref-for-sensor-type\u2463\u2468" }, { "id": "ref-for-sensor-type\u2464\u24ea" }, { "id": "ref-for-sensor-type\u2464\u2460" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-type\u2464\u2461" }, { "id": "ref-for-sensor-type\u2464\u2462" }], "title": "10.7. Automation" }, { "refs": [{ "id": "ref-for-sensor-type\u2464\u2463" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor-type\u2464\u2464" }, { "id": "ref-for-sensor-type\u2464\u2465" }], "title": "10.9. Extending the Permissions Policy API" }], "url": "#sensor-type" },
                "sensor-type-maximum-sampling-frequency": { "dfnID": "sensor-type-maximum-sampling-frequency", "dfnText": "maximum sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency" }, { "id": "ref-for-sensor-type-maximum-sampling-frequency\u2460" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency\u2463" }], "title": "6.2. Sensor" }], "url": "#sensor-type-maximum-sampling-frequency" },
                "sensor-type-minimum-sampling-frequency": { "dfnID": "sensor-type-minimum-sampling-frequency", "dfnText": "minimum sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensor-type-minimum-sampling-frequency" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-type-minimum-sampling-frequency\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-type-minimum-sampling-frequency\u2461" }], "title": "6.2. Sensor" }], "url": "#sensor-type-minimum-sampling-frequency" },
                "sensorerrorevent": { "dfnID": "sensorerrorevent", "dfnText": "SensorErrorEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-sensorerrorevent" }], "title": "7.2. The SensorErrorEvent Interface" }, { "refs": [{ "id": "ref-for-sensorerrorevent\u2460" }], "title": "8.12. Notify error" }], "url": "#sensorerrorevent" },
                "set-sensor-settings": { "dfnID": "set-sensor-settings", "dfnText": "8.7. Set sensor settings", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-sensor-settings" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-set-sensor-settings\u2460" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-set-sensor-settings" }], "title": "8.7. Set sensor settings" }], "url": "#set-sensor-settings" },
                "spatial-sensor": { "dfnID": "spatial-sensor", "dfnText": "spatial sensor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-spatial-sensor" }], "title": "5.1. Sensors" }], "url": "#spatial-sensor" },
                "specific-conditions": { "dfnID": "specific-conditions", "dfnText": "Specific conditions", "external": false, "refSections": [], "url": "#specific-conditions" },
                "stop-sensor": { "dfnID": "stop-sensor", "dfnText": "4.3.2. Stop the sensor altogether", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-stop-sensor" }], "title": "4.3.2. Stop the sensor altogether" }], "url": "#stop-sensor" },
                "supported-sensor-options": { "dfnID": "supported-sensor-options", "dfnText": "supported sensor options", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-supported-sensor-options" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-supported-sensor-options\u2460" }, { "id": "ref-for-supported-sensor-options\u2461" }], "title": "10.6. Definition Requirements" }], "url": "#supported-sensor-options" },
                "threshold-check-algorithm": { "dfnID": "threshold-check-algorithm", "dfnText": "threshold check algorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-threshold-check-algorithm" }, { "id": "ref-for-threshold-check-algorithm\u2460" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-threshold-check-algorithm\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-threshold-check-algorithm\u2462" }, { "id": "ref-for-threshold-check-algorithm\u2463" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-threshold-check-algorithm\u2464" }], "title": "9.2.3. Update virtual sensor reading" }], "url": "#threshold-check-algorithm" },
                "update-latest-reading": { "dfnID": "update-latest-reading", "dfnText": "8.8. Update latest reading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-update-latest-reading" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-update-latest-reading" }], "title": "8.8. Update latest reading" }], "url": "#update-latest-reading" },
                "virtual-sensor": { "dfnID": "virtual-sensor", "dfnText": "virtual sensor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor" }, { "id": "ref-for-virtual-sensor\u2460" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2461" }, { "id": "ref-for-virtual-sensor\u2462" }, { "id": "ref-for-virtual-sensor\u2463" }, { "id": "ref-for-virtual-sensor\u2464" }, { "id": "ref-for-virtual-sensor\u2465" }, { "id": "ref-for-virtual-sensor\u2466" }, { "id": "ref-for-virtual-sensor\u2467" }, { "id": "ref-for-virtual-sensor\u2468" }, { "id": "ref-for-virtual-sensor\u2460\u24ea" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2460\u2460" }, { "id": "ref-for-virtual-sensor\u2460\u2461" }, { "id": "ref-for-virtual-sensor\u2460\u2462" }, { "id": "ref-for-virtual-sensor\u2460\u2463" }, { "id": "ref-for-virtual-sensor\u2460\u2464" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2460\u2465" }, { "id": "ref-for-virtual-sensor\u2460\u2466" }, { "id": "ref-for-virtual-sensor\u2460\u2467" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2460\u2468" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2461\u24ea" }], "title": "9.2.4. Delete virtual sensor" }], "url": "#virtual-sensor" },
                "virtual-sensor-can-provide-readings-flag": { "dfnID": "virtual-sensor-can-provide-readings-flag", "dfnText": "can provide readings flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-can-provide-readings-flag" }, { "id": "ref-for-virtual-sensor-can-provide-readings-flag\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-can-provide-readings-flag\u2461" }], "title": "9.2.1. Create virtual sensor" }], "url": "#virtual-sensor-can-provide-readings-flag" },
                "virtual-sensor-mapping": { "dfnID": "virtual-sensor-mapping", "dfnText": "virtual sensor mapping", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-mapping" }, { "id": "ref-for-virtual-sensor-mapping\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2461" }, { "id": "ref-for-virtual-sensor-mapping\u2462" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2463" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2464" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2465" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2466" }], "title": "9.2.4. Delete virtual sensor" }], "url": "#virtual-sensor-mapping" },
                "virtual-sensor-maximum-sampling-frequency": { "dfnID": "virtual-sensor-maximum-sampling-frequency", "dfnText": "maximum sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-maximum-sampling-frequency" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-maximum-sampling-frequency\u2460" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-maximum-sampling-frequency\u2461" }], "title": "9.2.2. Get virtual sensor information" }], "url": "#virtual-sensor-maximum-sampling-frequency" },
                "virtual-sensor-metadata": { "dfnID": "virtual-sensor-metadata", "dfnText": "virtual sensor metadata", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-metadata" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-metadata\u2460" }], "title": "9.2.3.1. Algorithms for parsing readings" }, { "refs": [{ "id": "ref-for-virtual-sensor-metadata\u2461" }, { "id": "ref-for-virtual-sensor-metadata\u2462" }], "title": "10.7. Automation" }], "url": "#virtual-sensor-metadata" },
                "virtual-sensor-metadata-reading-parsing-algorithm": { "dfnID": "virtual-sensor-metadata-reading-parsing-algorithm", "dfnText": "reading parsing algorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-metadata-reading-parsing-algorithm" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-virtual-sensor-metadata-reading-parsing-algorithm\u2460" }], "title": "10.7. Automation" }], "url": "#virtual-sensor-metadata-reading-parsing-algorithm" },
                "virtual-sensor-minimum-sampling-frequency": { "dfnID": "virtual-sensor-minimum-sampling-frequency", "dfnText": "minimum sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-minimum-sampling-frequency" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-minimum-sampling-frequency\u2460" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-minimum-sampling-frequency\u2461" }], "title": "9.2.2. Get virtual sensor information" }], "url": "#virtual-sensor-minimum-sampling-frequency" },
                "virtual-sensor-requested-sampling-frequency": { "dfnID": "virtual-sensor-requested-sampling-frequency", "dfnText": "requested sampling frequency", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-requested-sampling-frequency" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2460" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2461" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2462" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2463" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2464" }], "title": "9.2.2. Get virtual sensor information" }], "url": "#virtual-sensor-requested-sampling-frequency" },
                "virtual-sensor-type": { "dfnID": "virtual-sensor-type", "dfnText": "virtual sensor type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-type" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-virtual-sensor-type\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-type\u2461" }, { "id": "ref-for-virtual-sensor-type\u2462" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-type\u2463" }, { "id": "ref-for-virtual-sensor-type\u2464" }], "title": "10.7. Automation" }], "url": "#virtual-sensor-type" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {
            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                hydratePanels(panels);
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }
            function hydratePanels(panels) {
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                // First display them all, if they're not already visible.
                for (const panel of panels) {
                    panel.classList.remove("unpositioned");
                }
                // Measure them all
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    panel.dfn = dfn;
                    panel.top = window.scrollY + dfn.getBoundingClientRect().top;
                    let panelRect = panel.getBoundingClientRect();
                    panel.height = panelRect.height;
                    if (main) {
                        panel.overlappingMain = panelRect.left < mainRect.right;
                    } else {
                        panel.overlappingMain = false;
                    }
                }
                // And finally position them
                for (const panel of panels) {
                    const dfn = panel.dfn;
                    if (!dfn) continue;
                    panel.style.top = panel.top + "px";
                    panel.classList.toggle("overlapping-main", panel.overlappingMain);
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#activate-a-sensor-object": { "displayText": "activate a sensor object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "activate a sensor object", "type": "dfn", "url": "#activate-a-sensor-object" },
                "#activated-sensor-objects": { "displayText": "activated sensor objects", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "activated sensor objects", "type": "dfn", "url": "#activated-sensor-objects" },
                "#calibration": { "displayText": "calibration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "calibration", "type": "dfn", "url": "#calibration" },
                "#can-expose-sensor-readings": { "displayText": "can expose sensor readings", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "can expose sensor readings", "type": "dfn", "url": "#can-expose-sensor-readings" },
                "#check-sensor-policy-controlled-features": { "displayText": "check sensor policy-controlled features", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "check sensor policy-controlled features", "type": "dfn", "url": "#check-sensor-policy-controlled-features" },
                "#concept-device-sensor": { "displayText": "device sensor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "device sensor", "type": "dfn", "url": "#concept-device-sensor" },
                "#concept-platform-sensor": { "displayText": "platform sensor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "platform sensor", "type": "dfn", "url": "#concept-platform-sensor" },
                "#connect-to-sensor": { "displayText": "connect to sensor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "connect to sensor", "type": "dfn", "url": "#connect-to-sensor" },
                "#deactivate-a-sensor-object": { "displayText": "deactivate a sensor object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "deactivate a sensor object", "type": "dfn", "url": "#deactivate-a-sensor-object" },
                "#default-sensor": { "displayText": "default sensor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "default sensor", "type": "dfn", "url": "#default-sensor" },
                "#device-sensor-maximum-sampling-frequency": { "displayText": "maximum sampling frequency", "export": true, "for_": ["device sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "maximum sampling frequency", "type": "dfn", "url": "#device-sensor-maximum-sampling-frequency" },
                "#device-sensor-minimum-sampling-frequency": { "displayText": "minimum sampling frequency", "export": true, "for_": ["device sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "minimum sampling frequency", "type": "dfn", "url": "#device-sensor-minimum-sampling-frequency" },
                "#dictdef-sensorerroreventinit": { "displayText": "SensorErrorEventInit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "SensorErrorEventInit", "type": "dictionary", "url": "#dictdef-sensorerroreventinit" },
                "#dictdef-sensoroptions": { "displayText": "SensorOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "SensorOptions", "type": "dictionary", "url": "#dictdef-sensoroptions" },
                "#dom-sensor-activated": { "displayText": "activated", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "activated", "type": "attribute", "url": "#dom-sensor-activated" },
                "#dom-sensor-frequency-slot": { "displayText": "[[frequency]]", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "[[frequency]]", "type": "attribute", "url": "#dom-sensor-frequency-slot" },
                "#dom-sensor-hasreading": { "displayText": "hasReading", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "hasReading", "type": "attribute", "url": "#dom-sensor-hasreading" },
                "#dom-sensor-lasteventfiredat-slot": { "displayText": "[[lastEventFiredAt]]", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "[[lastEventFiredAt]]", "type": "attribute", "url": "#dom-sensor-lasteventfiredat-slot" },
                "#dom-sensor-onactivate": { "displayText": "onactivate", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "onactivate", "type": "attribute", "url": "#dom-sensor-onactivate" },
                "#dom-sensor-onerror": { "displayText": "onerror", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "onerror", "type": "attribute", "url": "#dom-sensor-onerror" },
                "#dom-sensor-onreading": { "displayText": "onreading", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "onreading", "type": "attribute", "url": "#dom-sensor-onreading" },
                "#dom-sensor-pendingreadingnotification-slot": { "displayText": "[[pendingReadingNotification]]", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "[[pendingReadingNotification]]", "type": "attribute", "url": "#dom-sensor-pendingreadingnotification-slot" },
                "#dom-sensor-start": { "displayText": "start()", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "start()", "type": "method", "url": "#dom-sensor-start" },
                "#dom-sensor-state-slot": { "displayText": "[[state]]", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "[[state]]", "type": "attribute", "url": "#dom-sensor-state-slot" },
                "#dom-sensor-stop": { "displayText": "stop()", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "stop()", "type": "method", "url": "#dom-sensor-stop" },
                "#dom-sensor-timestamp": { "displayText": "timestamp", "export": true, "for_": ["Sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "timestamp", "type": "attribute", "url": "#dom-sensor-timestamp" },
                "#dom-sensorerrorevent-error": { "displayText": "error", "export": true, "for_": ["SensorErrorEvent"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "error", "type": "attribute", "url": "#dom-sensorerrorevent-error" },
                "#dom-sensoroptions-frequency": { "displayText": "frequency", "export": true, "for_": ["SensorOptions"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "frequency", "type": "dict-member", "url": "#dom-sensoroptions-frequency" },
                "#extension-sensor-interface": { "displayText": "extension sensor interface", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "extension sensor interface", "type": "dfn", "url": "#extension-sensor-interface" },
                "#extension-specification": { "displayText": "extension specification", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "extension specification", "type": "dfn", "url": "#extension-specification" },
                "#focus-and-origin-check": { "displayText": "focus and origin check", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "focus and origin check", "type": "dfn", "url": "#focus-and-origin-check" },
                "#get-a-platform-sensors-sampling-bounds": { "displayText": "get a platform sensor's sampling bounds", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "get a platform sensor's sampling bounds", "type": "dfn", "url": "#get-a-platform-sensors-sampling-bounds" },
                "#get-value-from-latest-reading": { "displayText": "get value from latest reading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "get value from latest reading", "type": "dfn", "url": "#get-value-from-latest-reading" },
                "#high-level": { "displayText": "high-level", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "high-level", "type": "dfn", "url": "#high-level" },
                "#latest-reading": { "displayText": "latest reading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "latest reading", "type": "dfn", "url": "#latest-reading" },
                "#limit-max-frequency": { "displayText": "limit maximum sampling frequency", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "limit maximum sampling frequency", "type": "dfn", "url": "#limit-max-frequency" },
                "#local-coordinate-system": { "displayText": "local coordinate system", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "local coordinate system", "type": "dfn", "url": "#local-coordinate-system" },
                "#low-level": { "displayText": "low-level", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "low-level", "type": "dfn", "url": "#low-level" },
                "#notify-activated-state": { "displayText": "notify activated state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "notify activated state", "type": "dfn", "url": "#notify-activated-state" },
                "#notify-error": { "displayText": "notify error", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "notify error", "type": "dfn", "url": "#notify-error" },
                "#notify-new-reading": { "displayText": "notify new reading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "notify new reading", "type": "dfn", "url": "#notify-new-reading" },
                "#parse-single-value-number-reading": { "displayText": "parse single-value number reading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "parse single-value number reading", "type": "dfn", "url": "#parse-single-value-number-reading" },
                "#per-type-virtual-sensor-metadata": { "displayText": "per-type virtual sensor metadata", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "per-type virtual sensor metadata", "type": "dfn", "url": "#per-type-virtual-sensor-metadata" },
                "#reading-quantization-algorithm": { "displayText": "reading quantization algorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "reading quantization algorithm", "type": "dfn", "url": "#reading-quantization-algorithm" },
                "#reading-timestamp": { "displayText": "reading timestamp", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "reading timestamp", "type": "dfn", "url": "#reading-timestamp" },
                "#report-latest-reading-updated": { "displayText": "report latest reading updated", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "report latest reading updated", "type": "dfn", "url": "#report-latest-reading-updated" },
                "#reporting-frequency": { "displayText": "reporting frequency", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "reporting frequency", "type": "dfn", "url": "#reporting-frequency" },
                "#request-sensor-access": { "displayText": "request sensor access", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "request sensor access", "type": "dfn", "url": "#request-sensor-access" },
                "#sampling-frequency": { "displayText": "sampling frequency", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "sampling frequency", "type": "dfn", "url": "#sampling-frequency" },
                "#sensor": { "displayText": "Sensor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "Sensor", "type": "interface", "url": "#sensor" },
                "#sensor-feature-names": { "displayText": "sensor feature names", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "sensor feature names", "type": "dfn", "url": "#sensor-feature-names" },
                "#sensor-fusion": { "displayText": "sensor fusion", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "sensor fusion", "type": "dfn", "url": "#sensor-fusion" },
                "#sensor-permission-names": { "displayText": "sensor permission names", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "sensor permission names", "type": "dfn", "url": "#sensor-permission-names" },
                "#sensor-reading": { "displayText": "sensor reading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "sensor reading", "type": "dfn", "url": "#sensor-reading" },
                "#sensor-task-source": { "displayText": "sensor task source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "sensor task source", "type": "dfn", "url": "#sensor-task-source" },
                "#sensor-type": { "displayText": "sensor type", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "sensor type", "type": "dfn", "url": "#sensor-type" },
                "#sensor-type-maximum-sampling-frequency": { "displayText": "maximum sampling frequency", "export": true, "for_": ["sensor type"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "maximum sampling frequency", "type": "dfn", "url": "#sensor-type-maximum-sampling-frequency" },
                "#sensor-type-minimum-sampling-frequency": { "displayText": "minimum sampling frequency", "export": true, "for_": ["sensor type"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "minimum sampling frequency", "type": "dfn", "url": "#sensor-type-minimum-sampling-frequency" },
                "#sensorerrorevent": { "displayText": "SensorErrorEvent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "SensorErrorEvent", "type": "interface", "url": "#sensorerrorevent" },
                "#set-sensor-settings": { "displayText": "set sensor settings", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "set sensor settings", "type": "dfn", "url": "#set-sensor-settings" },
                "#spatial-sensor": { "displayText": "spatial sensor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "spatial sensor", "type": "dfn", "url": "#spatial-sensor" },
                "#supported-sensor-options": { "displayText": "supported sensor options", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "supported sensor options", "type": "dfn", "url": "#supported-sensor-options" },
                "#threshold-check-algorithm": { "displayText": "threshold check algorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "threshold check algorithm", "type": "dfn", "url": "#threshold-check-algorithm" },
                "#update-latest-reading": { "displayText": "update latest reading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "update latest reading", "type": "dfn", "url": "#update-latest-reading" },
                "#virtual-sensor": { "displayText": "virtual sensor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "virtual sensor", "type": "dfn", "url": "#virtual-sensor" },
                "#virtual-sensor-can-provide-readings-flag": { "displayText": "can provide readings flag", "export": true, "for_": ["virtual sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "can provide readings flag", "type": "dfn", "url": "#virtual-sensor-can-provide-readings-flag" },
                "#virtual-sensor-mapping": { "displayText": "virtual sensor mapping", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "virtual sensor mapping", "type": "dfn", "url": "#virtual-sensor-mapping" },
                "#virtual-sensor-maximum-sampling-frequency": { "displayText": "maximum sampling frequency", "export": true, "for_": ["virtual sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "maximum sampling frequency", "type": "dfn", "url": "#virtual-sensor-maximum-sampling-frequency" },
                "#virtual-sensor-metadata": { "displayText": "virtual sensor metadata", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "virtual sensor metadata", "type": "dfn", "url": "#virtual-sensor-metadata" },
                "#virtual-sensor-metadata-reading-parsing-algorithm": { "displayText": "reading parsing algorithm", "export": true, "for_": ["virtual sensor metadata"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "reading parsing algorithm", "type": "dfn", "url": "#virtual-sensor-metadata-reading-parsing-algorithm" },
                "#virtual-sensor-minimum-sampling-frequency": { "displayText": "minimum sampling frequency", "export": true, "for_": ["virtual sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "minimum sampling frequency", "type": "dfn", "url": "#virtual-sensor-minimum-sampling-frequency" },
                "#virtual-sensor-requested-sampling-frequency": { "displayText": "requested sampling frequency", "export": true, "for_": ["virtual sensor"], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "requested sampling frequency", "type": "dfn", "url": "#virtual-sensor-requested-sampling-frequency" },
                "#virtual-sensor-type": { "displayText": "virtual sensor type", "export": true, "for_": [], "level": "", "normative": true, "shortname": "generic-sensor", "spec": "generic-sensor", "status": "local", "text": "virtual sensor type", "type": "dfn", "url": "#virtual-sensor-type" },
                "https://dom.spec.whatwg.org/#clone-a-node-document": { "displayText": "document", "export": true, "for_": ["clone a node"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "document", "type": "dfn", "url": "https://dom.spec.whatwg.org/#clone-a-node-document" },
                "https://dom.spec.whatwg.org/#concept-event": { "displayText": "event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event" },
                "https://dom.spec.whatwg.org/#concept-event-constructor": { "displayText": "constructor", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "constructor", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-constructor" },
                "https://dom.spec.whatwg.org/#concept-event-fire": { "displayText": "fire an event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "fire an event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
                "https://dom.spec.whatwg.org/#concept-event-listener": { "displayText": "event listener", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "event listener", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-listener" },
                "https://dom.spec.whatwg.org/#concept-node-document": { "displayText": "node document", "export": true, "for_": ["Node"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "node document", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-node-document" },
                "https://dom.spec.whatwg.org/#dictdef-eventinit": { "displayText": "EventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventInit", "type": "dictionary", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "https://dom.spec.whatwg.org/#document": { "displayText": "Document", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Document", "type": "interface", "url": "https://dom.spec.whatwg.org/#document" },
                "https://dom.spec.whatwg.org/#event": { "displayText": "Event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Event", "type": "interface", "url": "https://dom.spec.whatwg.org/#event" },
                "https://dom.spec.whatwg.org/#eventtarget": { "displayText": "EventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain": { "displayText": "same origin-domain", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "same origin-domain", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable": { "displayText": "top-level traversable", "export": true, "for_": ["browsing context"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "top-level traversable", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context": { "displayText": "browsing context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "browsing context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document": { "displayText": "active document", "export": true, "for_": ["navigable"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "active document", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top": { "displayText": "top-level traversable", "export": true, "for_": ["navigable"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "top-level traversable", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable": { "displayText": "navigable", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "navigable", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable": { "displayText": "node navigable", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "node navigable", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable": { "displayText": "top-level traversable", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "top-level traversable", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" },
                "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use": { "displayText": "allowed to use", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "allowed to use", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" },
                "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow": { "displayText": "allow", "export": true, "for_": ["iframe"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "allow", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable": { "displayText": "currently focused area", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "currently focused area", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable" },
                "https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor": { "displayText": "DOM anchor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "dom anchor", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor" },
                "https://html.spec.whatwg.org/multipage/interaction.html#gains-focus": { "displayText": "gains focus", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "gains focus", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#gains-focus" },
                "https://html.spec.whatwg.org/multipage/interaction.html#visibility-state": { "displayText": "visibility state", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "visibility state", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#visibility-state" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable": { "displayText": "navigable", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "navigable", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": { "displayText": "origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin": { "displayText": "time origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "time origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": { "displayText": "task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": { "displayText": "event handler event type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler event type", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers": { "displayText": "event handler", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": { "displayText": "EventHandler", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "EventHandler", "type": "typedef", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#global-object": { "displayText": "global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": { "displayText": "relevant settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context": { "displayText": "secure context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "secure context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop": { "displayText": "spin the event loop", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "spin the event loop", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#task-queue": { "displayText": "task queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "task queue", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#task-source": { "displayText": "task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source" },
                "https://infra.spec.whatwg.org/#assert": { "displayText": "assert", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "assert", "type": "dfn", "url": "https://infra.spec.whatwg.org/#assert" },
                "https://infra.spec.whatwg.org/#boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "boolean", "type": "dfn", "url": "https://infra.spec.whatwg.org/#boolean" },
                "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "https://infra.spec.whatwg.org/#iteration-continue": { "displayText": "continue", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "continue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "https://infra.spec.whatwg.org/#list-item": { "displayText": "item", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-item" },
                "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
                "https://infra.spec.whatwg.org/#map-entry": { "displayText": "entry", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "entry", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-entry" },
                "https://infra.spec.whatwg.org/#map-exists": { "displayText": "exist", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "exist", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-exists" },
                "https://infra.spec.whatwg.org/#map-getting-the-keys": { "displayText": "keys", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "keys", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-getting-the-keys" },
                "https://infra.spec.whatwg.org/#map-iterate": { "displayText": "for each", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-iterate" },
                "https://infra.spec.whatwg.org/#map-key": { "displayText": "key", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "key", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-key" },
                "https://infra.spec.whatwg.org/#map-remove": { "displayText": "remove", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-remove" },
                "https://infra.spec.whatwg.org/#map-set": { "displayText": "set", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-set" },
                "https://infra.spec.whatwg.org/#map-value": { "displayText": "value", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "value", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-value" },
                "https://infra.spec.whatwg.org/#ordered-map": { "displayText": "ordered map", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ordered map", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-map" },
                "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "ordered set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ordered set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
                "https://infra.spec.whatwg.org/#string": { "displayText": "string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string" },
                "https://infra.spec.whatwg.org/#struct": { "displayText": "struct", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "struct", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct" },
                "https://infra.spec.whatwg.org/#struct-item": { "displayText": "item", "export": true, "for_": ["struct", "tuple"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct-item" },
                "https://infra.spec.whatwg.org/#success": { "displayText": "success", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "success", "type": "dfn", "url": "https://infra.spec.whatwg.org/#success" },
                "https://infra.spec.whatwg.org/#tuple": { "displayText": "tuple", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "tuple", "type": "dfn", "url": "https://infra.spec.whatwg.org/#tuple" },
                "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects": { "displayText": "Boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Boolean", "type": "interface", "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects" },
                "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects": { "displayText": "Object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Object", "type": "interface", "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" },
                "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects": { "displayText": "Number", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Number", "type": "interface", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" },
                "https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects": { "displayText": "String", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "String", "type": "interface", "url": "https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" },
                "https://tc39.github.io/ecma262/#current-realm": { "displayText": "current realm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "current realm", "type": "dfn", "url": "https://tc39.github.io/ecma262/#current-realm" },
                "https://w3c.github.io/hr-time/#dfn-moment": { "displayText": "coarsened moments", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "coarsened moments", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-moment" },
                "https://w3c.github.io/hr-time/#dfn-monotonic-clock": { "displayText": "monotonic clock", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "monotonic clock", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-monotonic-clock" },
                "https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time": { "displayText": "relative high resolution time", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "relative high resolution time", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time" },
                "https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time": { "displayText": "unsafe shared current time", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "unsafe shared current time", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time" },
                "https://w3c.github.io/hr-time/#dom-domhighrestimestamp": { "displayText": "DOMHighResTimeStamp", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "DOMHighResTimeStamp", "type": "typedef", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time": { "displayText": "unsafe current time", "export": true, "for_": ["monotonic clock"], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "unsafe current time", "type": "dfn", "url": "https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" },
                "https://w3c.github.io/permissions/#dfn-name": { "displayText": "name", "export": true, "for_": ["powerful feature"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "name", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-name" },
                "https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm": { "displayText": "permission revocation algorithm", "export": true, "for_": ["powerful feature"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "permission revocation algorithm", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm" },
                "https://w3c.github.io/permissions/#dfn-permission-state": { "displayText": "permission state", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "permission state", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-permission-state" },
                "https://w3c.github.io/permissions/#dfn-request-permission-to-use": { "displayText": "request permission to use", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "request permission to use", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-request-permission-to-use" },
                "https://w3c.github.io/permissions/#dom-permissiondescriptor": { "displayText": "PermissionDescriptor", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "PermissionDescriptor", "type": "dictionary", "url": "https://w3c.github.io/permissions/#dom-permissiondescriptor" },
                "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature": { "displayText": "policy-controlled feature", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions-policy", "spec": "permissions-policy-1", "status": "current", "text": "policy-controlled feature", "type": "dfn", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" },
                "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist": { "displayText": "default allowlist", "export": true, "for_": ["policy-controlled feature"], "level": "1", "normative": true, "shortname": "permissions-policy", "spec": "permissions-policy-1", "status": "current", "text": "default allowlist", "type": "dfn", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" },
                "https://w3c.github.io/webdriver/#dfn-current-browsing-context": { "displayText": "current browsing context", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webdriver2", "spec": "webdriver2", "status": "anchor-block", "text": "current browsing context", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-current-browsing-context" },
                "https://w3c.github.io/webdriver/#dfn-error": { "displayText": "error", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webdriver", "spec": "webdriver2", "status": "current", "text": "error", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-error" },
                "https://w3c.github.io/webdriver/#dfn-error-code": { "displayText": "WebDriver error code", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webdriver2", "spec": "webdriver2", "status": "anchor-block", "text": "webdriver error code", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-error-code" },
                "https://w3c.github.io/webdriver/#dfn-extension-command-uri-template": { "displayText": "extension command URI Template", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webdriver", "spec": "webdriver2", "status": "current", "text": "extension command uri template", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" },
                "https://w3c.github.io/webdriver/#dfn-extension-commands": { "displayText": "extension commands", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webdriver", "spec": "webdriver2", "status": "current", "text": "extension commands", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-extension-commands" },
                "https://w3c.github.io/webdriver/#dfn-getting-properties": { "displayText": "get a property", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webdriver2", "spec": "webdriver2", "status": "anchor-block", "text": "get a property", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-getting-properties" },
                "https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default": { "displayText": "get a property with default", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webdriver2", "spec": "webdriver2", "status": "anchor-block", "text": "get a property with default", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default" },
                "https://w3c.github.io/webdriver/#dfn-invalid-argument": { "displayText": "invalid argument", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webdriver", "spec": "webdriver2", "status": "current", "text": "invalid argument", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-invalid-argument" },
                "https://w3c.github.io/webdriver/#dfn-local-ends": { "displayText": "local end", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webdriver2", "spec": "webdriver2", "status": "anchor-block", "text": "local end", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-local-ends" },
                "https://w3c.github.io/webdriver/#dfn-remote-end-steps": { "displayText": "remote end steps", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webdriver", "spec": "webdriver2", "status": "current", "text": "remote end steps", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-remote-end-steps" },
                "https://w3c.github.io/webdriver/#dfn-sessions": { "displayText": "session", "export": false, "for_": [], "level": "2", "normative": true, "shortname": "webdriver", "spec": "webdriver2", "status": "current", "text": "session", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-sessions" },
                "https://w3c.github.io/webdriver/#dfn-set-a-property": { "displayText": "set a property", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webdriver2", "spec": "webdriver2", "status": "anchor-block", "text": "set a property", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-set-a-property" },
                "https://w3c.github.io/webdriver/#dfn-url-variables": { "displayText": "url variable", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webdriver2", "spec": "webdriver2", "status": "anchor-block", "text": "url variable", "type": "dfn", "url": "https://w3c.github.io/webdriver/#dfn-url-variables" },
                "https://w3ctag.github.io/security-questionnaire/#sop-violations": { "displayText": "same-origin policy violations", "export": true, "for_": [], "level": "", "normative": true, "shortname": "security-privacy-questionnaire", "spec": "security-privacy-questionnaire", "status": "anchor-block", "text": "same-origin policy violations", "type": "dfn", "url": "https://w3ctag.github.io/security-questionnaire/#sop-violations" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#dfn-attribute": { "displayText": "attribute", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "attribute", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-attribute" },
                "https://webidl.spec.whatwg.org/#dfn-create-exception": { "displayText": "create", "export": true, "for_": ["exception"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "create", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-create-exception" },
                "https://webidl.spec.whatwg.org/#dfn-dictionary": { "displayText": "dictionary", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "dictionary", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-dictionary" },
                "https://webidl.spec.whatwg.org/#dfn-identifier": { "displayText": "identifier", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "identifier", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-identifier" },
                "https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries": { "displayText": "inherited dictionaries", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "inherited dictionaries", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries" },
                "https://webidl.spec.whatwg.org/#dfn-inherited-interfaces": { "displayText": "inherited interfaces", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "inherited interfaces", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-inherited-interfaces" },
                "https://webidl.spec.whatwg.org/#dfn-interface": { "displayText": "interface", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "interface", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-interface" },
                "https://webidl.spec.whatwg.org/#dfn-read-only": { "displayText": "read only", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "read only", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-read-only" },
                "https://webidl.spec.whatwg.org/#dfn-throw": { "displayText": "throw", "export": true, "for_": ["exception"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "throw", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-double": { "displayText": "double", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "double", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-double" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#notallowederror": { "displayText": "NotAllowedError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotAllowedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "https://webidl.spec.whatwg.org/#notreadableerror": { "displayText": "NotReadableError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotReadableError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notreadableerror" },
                "https://webidl.spec.whatwg.org/#notsupportederror": { "displayText": "NotSupportedError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotSupportedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notsupportederror" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
                "https://wicg.github.io/permissions-request/#permission-request-algorithm": { "displayText": "permission request algorithm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions-request", "spec": "permissions-request", "status": "current", "text": "permission request algorithm", "type": "dfn", "url": "https://wicg.github.io/permissions-request/#permission-request-algorithm" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>