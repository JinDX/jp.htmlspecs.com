<!DOCTYPE html>

<!--
  Scalable Vector Graphics (SVG) 2
  Chapter 3: Rendering Model

  Note: This document is generated from ../master/render.html.
  Run "make" from the root of the repository to regenerate it.
  -->

<html lang="ja-JP" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8" />
    <title>レンダリングモデル — SVG 2</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Style sheets for local dev. Will be standardized in processing.
  Add attribute data-keep="" to any extra stylesheet link you do not want removed
  (or use <style>), and include it before here. -->


    <link rel="stylesheet" title="Default" href="https://www.w3.org/TR/SVG2/style/svg.css" type="text/css"
        media="screen" />
    <link rel="alternate stylesheet" title="Only annotations for publication"
        href="https://www.w3.org/TR/SVG2/style/default_no_maturity.css" type="text/css" media="screen" />
    <link rel="alternate stylesheet" title="No issues/annotations"
        href="https://www.w3.org/TR/SVG2/style/default_no_issues.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED" type="text/css" media="screen" />
    <script src="https://www.w3.org/TR/SVG2/style/link-fixup.js"></script>
</head>

<body class="chapter-render">

    <h1>第3章：レンダリングモデル</h1>
    <nav id="toc">
        <div class="header top"><a href="index.html">概要</a> . <a href="conform.html">前へ</a> . <a
                href="types.html">次へ</a> . <a href="eltindex.html">要素一覧</a> . <a href="attindex.html">属性一覧</a> . <a
                href="propidx.html">プロパティ一覧</a></div>
        <h2 id="Contents" class="contents">目次</h2>
        <ol class="toc">
            <li>
                <ol class="toc">
                    <li><a href="render.html#Introduction"><span class="secno">3.1.</span> はじめに</a></li>
                    <li><a href="render.html#RenderingTree"><span class="secno">3.2.</span> レンダリングツリー</a>
                        <ol class="toc">
                            <li><a href="render.html#Definitions"><span class="secno">3.2.1.</span> 定義</a></li>
                            <li><a href="render.html#Rendered-vs-NonRendered"><span class="secno">3.2.2.</span>
                                    描画される要素と描画されない要素</a></li>
                            <li><a href="render.html#VisibilityControl"><span class="secno">3.2.3.</span> 可視性の制御：‘<span
                                        class="property">display</span>’と‘<span
                                        class="property">visibility</span>’プロパティの効果</a></li>
                            <li><a href="render.html#ReusedGraphics"><span class="secno">3.2.4.</span> グラフィックの再利用</a>
                            </li>
                        </ol>
                    </li>
                    <li><a href="render.html#PaintersModel"><span class="secno">3.3.</span> ペインターモデル</a></li>
                    <li><a href="render.html#RenderingOrder"><span class="secno">3.4.</span> レンダリング順序</a>
                        <ol class="toc">
                            <li><a href="render.html#EstablishingStackingContex"><span class="secno">3.4.1.</span>
                                    SVGにおけるスタッキングコンテキストの確立</a></li>
                        </ol>
                    </li>
                    <li><a href="render.html#Elements"><span class="secno">3.5.</span> 要素の描画方法</a>
                    </li>
                    <li><a href="render.html#Grouping"><span class="secno">3.6.</span> グループの描画方法</a>
                        <ol class="toc">
                            <li><a href="render.html#ObjectAndGroupOpacityProperties"><span class="secno">3.6.1.</span>
                                    オブジェクトとグループの不透明度：‘<span class="property">opacity</span>’プロパティの効果</a></li>
                        </ol>
                    </li>
                    <li><a href="render.html#TypesOfGraphicsElements"><span class="secno">3.7.</span> グラフィック要素の種類</a>
                        <ol class="toc">
                            <li><a href="render.html#PaintingShapesAndText"><span class="secno">3.7.1.</span>
                                    図形とテキストの描画</a></li>
                            <li><a href="render.html#PaintingRasterImages"><span class="secno">3.7.2.</span>
                                    ラスター画像の描画</a></li>
                        </ol>
                    </li>
                    <li><a href="render.html#FilteringPaintRegions"><span class="secno">3.8.</span> 描画領域のフィルタリング</a>
                    </li>
                    <li><a href="render.html#ClippingAndMasking"><span class="secno">3.9.</span> クリッピングとマスキング</a></li>
                    <li><a href="render.html#ParentCompositing"><span class="secno">3.10.</span> 親コンポジット処理</a>
                    </li>
                    <li><a href="render.html#OverflowAndClipProperties"><span class="secno">3.11.</span> ‘<span
                                class="property">overflow</span>’プロパティの効果</a></li>
                </ol>
            </li>
        </ol>
    </nav>

    <div class="annotation">
        <p>
            SVG 2のレンダリングモデルは、<a href="https://www.w3.org/TR/compositing/">Compositing and Blending仕様</a>で定義されたルールに従います。
        </p>
        <p>
            決定: <a href="https://www.w3.org/2012/07/24-svg-minutes.html#item09">シアトル／パリ 2012 F2F 3日目</a>。
        </p>
        <p>
            担当者: Nikos (Action 3332)。
        </p>
        <p>
            状態: 完了。
        </p>
    </div>

    <h2 id="Introduction" class="heading">3.1. はじめに<a class="self-link" href="#Introduction"></a></h2>
    <p>
        SVGの実装は、本章で記述されたレンダリングモデルを、<a href="conform.html">適合性要件</a>の付録で修正された形で実装しなければなりません。
        その付録では、実装が逸脱できる状況について説明しています。
        実際には、出力デバイスの制限（例：サポートされる色範囲が限られている場合）や、
        厳密な数理モデルの実装上の制約（例：現実的なパフォーマンスのため曲線を直線で近似する場合、近似は適合性要件に合う精度で十分）により、
        ある程度のばらつきが許容されます。
    </p>

    <p> <a href="conform.html">適合性要件</a>の付録では、実際の
        実装がこの説明からどの程度逸脱できるかを記述しています。実際には、
        実装は出力デバイスの制限（例：サポートされる色範囲が限られている場合）や、
        厳密な数理モデルの実装上の制約（例：現実的なパフォーマンスのため曲線を直線で近似する場合、近似は適合性要件に合う精度で十分）により、
        若干逸脱する<span class="ready-for-wider-review">場合があります</span>。
    </p>


    <div class="ready-for-wider-review">
        <h2 id="RenderingTree" class="heading">3.2. レンダリングツリー<a class="self-link" href="#RenderingTree"></a>
        </h2>

        <p> SVG文書の最終的な描画表現の構成要素は、
            文書モデル内の要素と1対1で対応しているわけではありません。
            グラフィックの見た目は、代わりに並行した構造であるレンダリングツリーを反映し、
            一部の要素が除外され、他の要素が繰り返されることがあります。
        </p>

        <p> SVG名前空間の多くの要素は、
            グラフィカル文書の構成要素を直接表すものではありません。
            代わりに、グラフィカル効果やメタデータ、
            他の要素を表現するための内容、
            または特定条件下で表示される代替内容を定義します。
            動的文書では、グラフィックの一部が
            インタラクションやアニメーションに応じて描画されたりされなかったりします。
            これら描画されない要素は、<a href="render.html#RenderingTree">レンダリングツリー</a>には直接含まれません。
        </p>
        <p>
            SVGはグラフィックの部分再利用をサポートするため、
            一部の要素は複数回描画されます。
            個々の描画は文脈依存のスタイリングを持ち、
            異なるスケールや変形でラスタライズされる場合があります。
        </p>

        <h3 id="Definitions" class="heading">3.2.1. 定義<a class="self-link" href="#Definitions"></a></h3>

        <dl class="definitions">
            <dt><dfn id="TermRenderingTree" data-dfn-type="dfn" data-export="">レンダリングツリー</dfn></dt>
            <dd>
                <p>
                    レンダリングツリーは、<a href="struct.html#TermSVGDocumentFragment">SVG文書フラグメント</a>内で描画される要素の集合です。
                    文書ツリーから、<a href="render.html#TermNonRenderedElement">描画されない要素</a>を除外し、
                    <a href="render.html#TermReusedGraphics">再利用グラフィック</a>のために追加フラグメントを挿入することで生成されます。
                    グラフィックはレンダリングツリーの順序でペイント・合成されますが、
                    <a class="property" href="painting.html#PaintOrderProperty">paint-order</a>プロパティによって並び替えられる場合があります。
                    視覚的なペイントを持たない要素もレンダリングツリーに含まれる場合があります。
                </p>
            </dd>
            <dt><dfn id="TermRenderedElement" data-dfn-type="dfn" data-export="">描画要素</dfn></dt>
            <dd>
                <p>
                    現在の文書の<a href="render.html#RenderingTree">レンダリングツリー</a>に直接表現を持つ要素。
                    <a href="struct.html#TermUseElementShadowTree">use要素シャドウツリー</a>内の
                    <a href="struct.html#TermElementInstance">インスタンス</a>として描画された要素を含みます。
                    再利用グラフィックの定義元として描画に影響するが、
                    自身は直接描画されない要素は含みません。
                    <a href="#Rendered-vs-NonRendered">描画される要素と描画されない要素</a>を参照してください。
                </p>
            </dd>
            <dt><dfn id="TermNonRenderedElement" data-dfn-type="dfn" data-export="">描画されない要素</dfn></dt>
            <dd>
                <p>
                    現在の文書の<a href="render.html#RenderingTree">レンダリングツリー</a>に直接表現を持たない要素。
                    ただし、再利用グラフィックやグラフィカル効果としてレンダリングツリーに影響を与える場合があります。
                    <a href="#Rendered-vs-NonRendered">描画される要素と描画されない要素</a>を参照してください。
                </p>
            </dd>
            <dt><dfn id="TermReusedGraphics" data-dfn-type="dfn" data-export="">再利用グラフィック</dfn></dt>
            <dd>
                <p>
                    レンダリングツリーに含まれるが、文書モデル内に直接1つだけ対応する要素が存在しないグラフィックコンポーネント。
                    これらはシャドウDOM要素（<span class="element-name">‘<a
                            href="struct.html#UseElement"><span>use</span></a>’</span>要素による再利用グラフィックなど）や、
                    グラフィカル効果の一部として生成される画像フラグメント（パターンやマスクなど）として表現される場合があります。
                </p>
            </dd>

            <dt><dfn id="TermNeverRenderedElement" data-dfn-type="dfn" data-export="">絶対に描画されない要素</dfn></dt>
            <dd>
                <p>
                    文脈や<a class="property" href="render.html#VisibilityControl">display</a>スタイル値に関係なく、
                    <em>決して直接描画されない</em>要素型。
                    以下の要素が含まれます：
                    <span class="element-name">‘<a
                            href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#DefsElement"><span>defs</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#DescElement"><span>desc</span></a>’</span>、
                    <span class="element-name">‘<a
                            href="pservers.html#LinearGradientElement"><span>linearGradient</span></a>’</span>、
                    <span class="element-name">‘<a href="painting.html#MarkerElement"><span>marker</span></a>’</span>、
                    <span class="element-name">‘<a
                            href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#MetadataElement"><span>metadata</span></a>’</span>、
                    <span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span>、
                    <span class="element-name">‘<a
                            href="pservers.html#RadialGradientElement"><span>radialGradient</span></a>’</span>、
                    <span class="element-name">‘<a href="interact.html#ScriptElement"><span>script</span></a>’</span>、
                    <span class="element-name">‘<a href="styling.html#StyleElement"><span>style</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#TitleElement"><span>title</span></a>’</span>。
                    また、<span class="element-name">‘<a
                            href="struct.html#SymbolElement"><span>symbol</span></a>’</span>要素で
                    <a href="struct.html#TermUseElementShadowTree">use要素シャドウツリー</a>の
                    <a href="struct.html#TermInstanceRoot">インスタンスルート</a>でないものも含みます。
                </p>
            </dd>
            <dt><dfn id="TermRenderableElement" data-dfn-type="dfn" data-export="">描画可能要素</dfn></dt>
            <dd>
                <p>
                    <em>描画ツリー</em>内に、グラフィック・コンテナ・テキスト・音声・アニメーションとして
                    直接表現を持つことが<em>できる</em>要素型。
                    以下の要素が含まれます：
                    <span class="element-name">‘<a href="linking.html#AElement"><span>a</span></a>’</span>、
                    <span class="element-name">‘<a href="embedded.html#HTMLElements"><span>audio</span></a>’</span>、
                    <span class="element-name">‘<a href="embedded.html#HTMLElements"><span>canvas</span></a>’</span>、
                    <span class="element-name">‘<a href="shapes.html#CircleElement"><span>circle</span></a>’</span>、
                    <span class="element-name">‘<a href="shapes.html#EllipseElement"><span>ellipse</span></a>’</span>、
                    <span class="element-name">‘<a
                            href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#GElement"><span>g</span></a>’</span>、
                    <span class="element-name">‘<a href="embedded.html#HTMLElements"><span>iframe</span></a>’</span>、
                    <span class="element-name">‘<a href="embedded.html#ImageElement"><span>image</span></a>’</span>、
                    <span class="element-name">‘<a href="shapes.html#LineElement"><span>line</span></a>’</span>、
                    <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span>、
                    <span class="element-name">‘<a href="shapes.html#PolygonElement"><span>polygon</span></a>’</span>、
                    <span class="element-name">‘<a href="shapes.html#PolylineElement"><span>polyline</span></a>’</span>、
                    <span class="element-name">‘<a href="shapes.html#RectElement"><span>rect</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#SwitchElement"><span>switch</span></a>’</span>、
                    <span class="element-name">‘<a href="text.html#TextElement"><span>text</span></a>’</span>、
                    <span class="element-name">‘<a href="text.html#TextPathElement"><span>textPath</span></a>’</span>、
                    <span class="element-name">‘<a href="text.html#TextElement"><span>tspan</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#UnknownElement"><span>unknown</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>、
                    <span class="element-name">‘<a href="embedded.html#HTMLElements"><span>video</span></a>’</span>。
                    また、<span class="element-name">‘<a
                            href="struct.html#SymbolElement"><span>symbol</span></a>’</span>要素で
                    <a href="struct.html#TermUseElementShadowTree">use要素シャドウツリー</a>の
                    <a href="struct.html#TermInstanceRoot">インスタンスルート</a>であるものも含みます。
                </p>
                <p> 描画可能要素は、ある文書や時点で描画される場合もあれば、されない場合もあります。
                </p>
            </dd>

        </dl>

        <h3 id="Rendered-vs-NonRendered" class="heading">3.2.2. 描画される要素と描画されない要素<a class="self-link"
                href="#Rendered-vs-NonRendered"></a></h3>

        <p> 任意の時点で、すべてのSVG要素
            （または<a href="struct.html#TermUseElementShadowTree">use要素シャドウツリー</a>内の<a
                href="struct.html#TermElementInstance">要素インスタンス</a>）
            は、描画されるか描画されないかのいずれかです。
            要素が現在描画されているかどうかは、単に見た目だけでなく、インタラクティビティや幾何計算にも影響します。
        </p>

        <p>
            要素が<em>描画されない</em>のは、次の4つの状況のいずれかです：
        </p>
        <ul>
            <li><a href="render.html#TermNeverRenderedElement">絶対に描画されない要素</a>型</li>
            <li><a href="struct.html#TermConditionalProcessingAttribute">条件付き処理属性</a>や
                <span class="element-name">‘<a href="struct.html#SwitchElement"><span>switch</span></a>’</span>
                構造により除外された要素
            </li>
            <li><a class="property" href="render.html#VisibilityControl">display</a>プロパティの計算スタイル値が<code>none</code>である要素
            </li>
            <li>他の描画されない要素の子孫要素
            </li>
        </ul>

        <p> 描画されない要素は：
        </p>
        <ul>
            <li>グラフィックに視覚的な効果を与えませんが、
                他の要素がそれを参照して描画する場合は例外です。</li>

            <li>
                <span class="element-name">‘<a
                        href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a>’</span>や
                <span class="element-name">‘<a
                        href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span>
                の子孫の場合、
                <a href="https://drafts.fxtf.org/css-masking-1/#clipping-path">クリッピングパス</a>や
                <a href="https://drafts.fxtf.org/css-masking-1/#masking">マスク</a>の幾何計算に寄与しません
            </li>

            <li><a href="interact.html#UIEvents">ポインターイベント</a>に反応しません</li>

            <li><a href="interact.html#Focus">フォーカス</a>を受け取れません</li>

            <li><a href="coords.html#ObjectBoundingBox">バウンディングボックスの計算</a>に寄与しません</li>

            <li><a href="text.html#TextLayout">テキストレイアウト</a>の際考慮されません</li>
        </ul>

        <p> 描画されない要素は文書のアクセシビリティツリーに表現されません。
            それでも文書モデルの一部であり、
            <a href="styling.html">スタイル継承とカスケード</a>に関与します。
        </p>


        <h3 id="VisibilityControl" class="heading">3.2.3. 可視性の制御：‘<span class="property">display</span>’と‘<span
                class="property">visibility</span>’
            プロパティの効果<a class="self-link" href="#VisibilityControl"></a></h3>

        <p>
            SVGは、通常描画される要素の可視表示を切り替えるために、2つのプロパティ
            <a class="property" href="render.html#VisibilityControl">display</a>と
            <a class="property" href="render.html#VisibilityControl">visibility</a> を使用します。
            これらは静的文書では見た目上似た効果を持ちますが、概念的には区別されます。
        </p>

        <p class="note"> <a class="property" href="render.html#VisibilityControl">display</a> と <a class="property"
                href="render.html#VisibilityControl">visibility</a> の定義についてはCSS 2.1仕様を参照してください。
            [<a href="refs.html#ref-css2">CSS2</a>]</p>

        <p>
            <a class="property" href="render.html#VisibilityControl">display</a>を<span
                class="prop-value">none</span>に設定すると、
            要素は描画されなくなります。
            <a href="struct.html#TermGraphicsElement">グラフィック要素</a>、
            <a href="text.html#TermTextContentElement">テキスト内容要素</a>、
            <a href="struct.html#TermContainerElement">コンテナ要素</a>に対して
            <a class="property" href="render.html#VisibilityControl">display</a>を<span
                class="prop-value">none</span>に設定すると、
            その要素（およびその子孫）は
            <a href="render.html#RenderingTree">レンダリングツリー</a>の一部になりません。
            <a class="property" href="render.html#VisibilityControl">display</a>は継承プロパティではないことに注意してください。
        </p>
        <p>
            <a class="property" href="render.html#VisibilityControl">display</a>が<span
                class="prop-value">none</span>以外の値である要素は通常通り描画されます。
        </p>
        <p>
            <a class="property" href="render.html#VisibilityControl">display</a>プロパティは
            <a href="render.html#TermRenderableElement">描画可能要素</a>のみに適用されます。
            <a href="render.html#TermNeverRenderedElement">絶対に描画されない要素</a>や
            条件付き処理で描画されない要素に<code>display: none</code>を設定しても効果はありません。
        </p>

        <p>
            <a class="property" href="render.html#VisibilityControl">display</a>プロパティは
            当該要素の直接処理にのみ影響し、他の要素から参照されることは妨げません。
            例えば、<span class="prop-value">display: none</span>を<span class="element-name">‘<a
                    href="paths.html#PathElement"><span>path</span></a>’</span>要素に設定すると
            その要素は直接キャンバスに描画されなくなりますが、
            <span class="element-name">‘<a href="text.html#TextPathElement"><span>textPath</span></a>’</span>要素から参照されれば
            そのジオメトリはテキストパス処理に使用されます。
        </p>

        <p>
            <a href="struct.html#TermGraphicsElement">グラフィック要素</a>や
            <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>要素に対して、
            <a class="property" href="render.html#VisibilityControl">visibility</a>を<span
                class="prop-value">hidden</span>または
            <span class="prop-value">collapse</span>に設定すると、
            その要素は描画されません。
            ただし、<a href="render.html#RenderingTree">レンダリングツリー</a>には残ります。
            ポインターイベントに反応する場合もあり（<a class="property" href="interact.html#PointerEventsProperty">pointer-events</a>の値による）、
            フォーカスを受け取る場合もあり（<span class="attr-name">‘<a
                    href="struct.html#SVGElementTabindexAttribute"><span>tabindex</span></a>’</span>の値による）、
            バウンディングボックス計算やクリッピングパスに寄与し、
            テキストレイアウトにも影響します。
        </p>

        <p>
            <a class="property" href="render.html#VisibilityControl">visibility</a>プロパティは
            <a href="struct.html#TermGraphicsElement">グラフィック要素</a>、
            <a href="text.html#TermTextContentElement">テキスト内容要素</a>、
            および
            <span class="element-name">‘<a
                    href="linking.html#AElement"><span>a</span></a>’</span>要素（テキスト内容要素の子の場合）にのみ直接影響します。
            <a class="property" href="render.html#VisibilityControl">visibility</a>は継承プロパティなので、
            <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>要素や
            <a href="struct.html#TermContainerElement">コンテナ要素</a>自体には効果がありませんが、
            継承値は子孫要素に影響する場合があります。
        </p>

        <h3 id="ReusedGraphics" class="heading">3.2.4. グラフィックの再利用<a class="self-link" href="#ReusedGraphics"></a>
        </h3>

        <p> 文書のある部分（または他の文書）で定義されたグラフィック内容が、
            他の要素の描画に利用される場合があります。
            レンダリングの観点からはグラフィックの再利用には2種類あります：
        </p>
        <ul>
            <li>
                シャドウDOM要素
                （<span class="element-name">‘<a
                        href="struct.html#UseElement"><span>use</span></a>’</span>要素やペイントサーバー同士の参照で生成されるもの）
            </li>
            <li>
                他の要素のグラフィカル効果の一部として再利用される内容
                （<a href="painting.html#Markers">マーカー</a>、
                <a href="painting.html#TermPaintServerElement">ペイントサーバー要素</a>、
                <span class="element-name">‘<a
                        href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a>’</span>、
                <span class="element-name">‘<a
                        href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span>の子内容など）
            </li>
        </ul>

        <p>
            シャドウDOM要素は通常の要素と同様に描画されます。
            ホスト要素（例：<span class="element-name">‘<a
                    href="struct.html#UseElement"><span>use</span></a>’</span>要素）がコンテナであり、
            シャドウ内容がその子孫であるかのように振る舞います。
            シャドウDOM要素のスタイルや幾何プロパティは、
            ソース文書の<a href="struct.html#TermCorrespondingElement">対応要素</a>とは独立して解決されます。
            <a class="property" href="render.html#VisibilityControl">display</a>プロパティは
            シャドウ要素にも通常通り効果がありますが、
            <span class="element-name">‘<a
                    href="struct.html#SymbolElement"><span>symbol</span></a>’</span>要素には特別なルールがあります。
        </p>
        <p>
            ブレンディングの観点では、
            <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>要素は
            <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#isolatedgroups">非分離グループ</a>を形成します。
        </p>

        <p>
            これに対して、
            グラフィカル効果要素は自己完結したSVGフラグメントを生成し、
            <a href="render.html#TermStackingContext">スタッキングコンテキスト</a>かつ
            <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#isolatedgroups">分離グループ</a>として独立して描画されます。
            このフラグメントのキャンバスはスケールされます。

            グラフィカル効果要素の子内容はこのキャンバス上に描画・合成されます。
            キャンバス全体は他のペイントレイヤーとの合成・ブレンド時にベクター画像として扱われます。
        </p>
        <p>
            グラフィカル効果要素の子内容に対する<a class="property" href="render.html#VisibilityControl">display</a>プロパティは
            <code>none</code>で設定した場合通常通り効果があり、そのサブツリーは描画に使われません。
            ただし、グラフィカル効果要素やその祖先に<code>display: none</code>が設定されても
            効果自体は変わりません。
        </p>
    </div>

    <div class="ready-for-wider-review">

        <h2 id="PaintersModel" class="heading">3.3. ペインターモデル<a class="self-link" href="#PaintersModel"></a>
        </h2>

        <p>SVGは「ペインターモデル」に基づいてレンダリングします。<a href="painting.html#TermPaint">ペイント</a>
            は出力デバイス上で連続的な操作で適用され、
            各操作は出力デバイス上のある領域にペイントされ、
            以前に描かれたペイントを覆い隠すこともあります。

            各オブジェクトやグループがペイントされると、それは次のペイント操作の背景となります。

            SVG 2は、各ペイント操作が背景とどのように相互作用するかを制御する
            高度なブレンドモードおよび合成操作をサポートします。
            これらのペイント操作のルールは
            <a href="https://www.w3.org/TR/compositing/">Compositing and Blending Specification</a>で概説されています。
        </p>

        <h2 id="RenderingOrder" class="heading">3.4. レンダリング順序<a class="self-link" href="#RenderingOrder"></a>
        </h2>
        <p>SVGの要素は三次元で配置されます。<a href="coords.html#TermSVGViewport">SVGビューポート</a>の
            x軸・y軸上の位置に加えて、SVG要素はz軸上にも配置されます。z軸上の位置が、ペイントされる順序を決定します。</p>

        <p>z軸上では、要素は<dfn id="TermStackingContext" data-dfn-type="dfn" data-export="">スタッキングコンテキスト</dfn>にグループ化されます。</p>
    </div>

    <h3 id="EstablishingStackingContex" class="heading">3.4.1. SVGにおけるスタッキングコンテキストの確立<a class="self-link"
            href="#EstablishingStackingContex"></a></h3>
    <p>SVG要素の子孫に対して新しいスタッキングコンテキストを確立しなければならないのは、次の場合です：</p>

    <ul>
        <li>ルート要素である場合</li>

        <li>要素が<a href="struct.html#TermOutermostSVGElement">最外svg要素</a>、
            <span class="element-name">‘<a
                    href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span>、
            <span class="element-name">‘<a href="embedded.html#ImageElement"><span>image</span></a>’</span>、
            <span class="element-name">‘<a href="painting.html#MarkerElement"><span>marker</span></a>’</span>、
            <span class="element-name">‘<a
                    href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span>、
            <span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span>、
            <span class="element-name">‘<a href="struct.html#SymbolElement"><span>symbol</span></a>’</span>、
            <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>要素である場合
        </li>

        <li>要素が内部の<span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>要素であり、
            <a class="property" href="render.html#OverflowAndClipProperties">overflow</a>プロパティの計算値が
            <span class="prop-value">visible</span>以外である場合
        </li>

        <li>要素が明示的なクリッピングの対象である場合：
            <ul>
                <li><a class="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-clip">clip</a>プロパティが適用され、
                    計算値が<span class="prop-value">auto</span>以外である場合</li>

                <li><a class="property"
                        href="https://drafts.fxtf.org/css-masking-1/#the-clip-path">clip-path</a>プロパティが適用され、
                    計算値が<span class="prop-value">none</span>以外である場合</li>
            </ul>
        </li>

        <li><a class="property" href="render.html#ObjectAndGroupOpacityProperties">opacity</a>プロパティが適用され、
            計算値が<span class="prop-value">1</span>以外である場合</li>

        <li><a class="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-mask">mask</a>プロパティが適用され、
            計算値が<span class="prop-value">none</span>以外である場合</li>

        <li><a class="property" href="https://drafts.fxtf.org/filter-effects/#FilterProperty">filter</a>プロパティが適用され、
            計算値が<span class="prop-value">none</span>以外である場合</li>

        <li class="ready-for-wider-review">他仕様で定義されたプロパティが適用され、そのプロパティがSVGでスタッキングコンテキストを確立すると定義されている場合</li>
    </ul>

    <p>スタッキングコンテキストは、文書がレンダリングされる際に要素をどの順番で重ねて描画するか、
        およびポインターイベントのターゲット決定時にどの要素が最上位かを定めるための概念的な道具です。
        スタッキングコンテキストはDOMツリー内の要素の位置には影響せず、
        存在の有無は要素の位置、サイズ、キャンバス上のX-Y平面での向きには影響しません。
        影響するのはペイント順序のみです。
    </p>

    <p>スタッキングコンテキストはさらにスタッキングコンテキストを含むことができます。
        スタッキングコンテキストは親の視点から原子的であり、祖先スタッキングコンテキストの要素がその内部要素の間に割り込むことはできません。</p>

    <p>各要素は1つのスタッキングコンテキストに属します。スタッキングコンテキスト内の要素は文書順で積み重ねられます。</p>

    <p><span class="element-name">‘<a
                href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span>要素を除き、
        SVG要素が作るスタッキングコンテキストの前後順は以下です：</p>

    <ol>
        <li>スタッキングコンテキストを形成する要素の背景と境界線（存在する場合）</li>

        <li>子孫要素（ツリー順）</li>
    </ol>

    <p><span class="element-name">‘<a
                href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span>要素はCSS用語で「固定位置の包含ブロック」を作るため、
        <span class="element-name">‘<a
                href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span>要素が作るスタッキングコンテキストの積み重ね順の正式なルールは
        CSS 2.1付録Eのルールです。
    </p>

    <h2 id="Elements" class="heading">3.5. 要素の描画方法<a class="self-link" href="#Elements"></a></h2>
    <div class="ready-for-wider-review">
        <p>
            個々の<a href="struct.html#TermGraphicsElement">グラフィック要素</a>は、
            <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#isolatedgroups">非分離グループ</a>として扱われます。
            （塗り、線などの）グラフィック要素を構成する各要素（<a href="#PaintingShapesAndText">図形とテキストの描画</a>参照）は
            そのグループのメンバーとなります。<a href="#Grouping">グループの描画方法</a>も参照してください。
        </p>
    </div>

    <h2 id="Grouping" class="heading">3.6. グループの描画方法<a class="self-link" href="#Grouping"></a></h2>
    <div class="ready-for-wider-review">
    </div>
    <div class="ready-for-wider-review">
        <p>
            <span class="element-name">‘<a href="struct.html#GElement"><span>g</span></a>’</span> 要素（<a
                href="struct.html#TermContainerElement">コンテナ要素</a>参照）などのグループ化要素は、<a
                href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#groups">合成グループ</a>を作成します。
            同様に、<span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>
            要素はシャドウ内容のための合成グループを作成します。
            <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113">Compositing and Blending</a>
            仕様は、<a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#groups">合成グループ</a>の描画方法を規定しています。
            SVGでは、グループにエフェクト（例：不透明度、フィルター、マスキング）を適用できます。
            これらの効果は、グループの変形が適用される直前に、グループの描画結果に適用され、その後グループが <a
                href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#groupbackdrop">グループ背景</a> と合成・ブレンドされます。
            グループにこれらの効果を適用すると、そのグループは分離（isolated）されます。
            <br /><br />
            よって、<a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#groups">合成グループ</a>の描画は次のステップに従います：<br />
            グループが分離されている場合：
        </p>
        <ol>
            <li><a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#initialbackdrop">初期背景</a>を
                rgba(0,0,0,0)で初期化された新しいバッファに設定する</li>
            <li>グループ内の <a href="struct.html#TermGraphicsElement">グラフィック要素</a> や
                <span class="element-name">‘<a href="struct.html#GElement"><span>g</span></a>’</span> 要素の内容を
                <a href="#RenderingOrder">順序通り</a>に
                <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#initialbackdrop">初期背景</a>に描画する
            </li>
            <li>グループキャンバスを修正するフィルターや他の効果を適用する
                <div class="note">
                    <p class="ready-for-wider-review">高品質なレンダリングのため、フィルタプリミティブやその他のビットマップ効果は
                        <a
                            href="https://drafts.fxtf.org/filter-effects/#operating-coordinate-space">操作座標空間</a>で適用される必要があります。
                    </p>
                </div>
            </li>
            <li>グループの変形を適用する</li>
            <li>グループキャンバスを <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#groupbackdrop">グループ背景</a>
                とブレンド・合成する</li>
        </ol>
        そうでない場合（グループが分離されていない場合）：
        <ol>
            <li><a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#initialbackdrop">初期背景</a>を <a
                    href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#groupbackdrop">グループ背景</a> に設定する</li>
            <li>グループ内の <a href="struct.html#TermGraphicsElement">グラフィック要素</a> や
                <span class="element-name">‘<a href="struct.html#GElement"><span>g</span></a>’</span> 要素の内容を
                <a href="#RenderingOrder">順序通り</a>に
                <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#initialbackdrop">初期背景</a>に描画する。
                このとき、グループ変形は各要素が描画される際に適用される。
            </li>
        </ol>
    </div>

    <h3 id="ObjectAndGroupOpacityProperties" class="heading">3.6.1. オブジェクトとグループの不透明度：‘<span
            class="property">opacity</span>’プロパティの効果<a class="self-link" href="#ObjectAndGroupOpacityProperties"></a>
    </h3>

    <p class="note">‘<a class="property" href="render.html#ObjectAndGroupOpacityProperties">opacity</a>’の定義についてはCSS
        Color Module Level 3を参照。[<a href="refs.html#ref-css-color-3">css-color-3</a>]</p>

    <p><a class="property" href="render.html#ObjectAndGroupOpacityProperties">opacity</a> プロパティは、特定の
        グラフィック要素またはコンテナ要素がキャンバスに描画される際の不透明度を指定します。コンテナ要素に適用される場合は<em>グループの不透明度</em>と呼ばれ、個々の描画要素に適用される場合は<em>オブジェクトの不透明度</em>と呼ばれます。両者の原理は同じです。
    </p>

    <p>SVGには他にも不透明度関連のプロパティがいくつかあります：</p>

    <ul>
        <li><a class="property" href="painting.html#FillOpacityProperty">fill-opacity</a>（塗り操作の不透明度指定）</li>
        <li><a class="property" href="painting.html#StrokeOpacityProperty">stroke-opacity</a>（線描操作の不透明度指定）</li>
        <li><a class="property" href="pservers.html#StopOpacityProperty">stop-opacity</a>（グラデーションストップの不透明度指定）</li>
    </ul>

    <p>これら4つの不透明度プロパティは中間レンダリング操作に関与します。
        ただし、オブジェクトおよびグループの不透明度はポストプロセス的な操作と考えられます。
        概念的には、<a class="property" href="render.html#ObjectAndGroupOpacityProperties">opacity</a>が適用されたオブジェクトやグループは
        RGBAオフスクリーン画像としてレンダリングされます。オフスクリーン画像全体が指定された<a class="property"
            href="render.html#ObjectAndGroupOpacityProperties">opacity</a>値で均一にキャンバスにブレンドされます。
        <span class="ready-for-wider-review">
            そのため、<a class="property" href="render.html#ObjectAndGroupOpacityProperties">opacity</a>の存在はグループを
            <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#isolatedgroups">分離</a>させます。
        </span>
    </p>

    <p><a class="property" href="render.html#ObjectAndGroupOpacityProperties">opacity</a> プロパティは以下のSVG要素に適用されます：
        <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>, <span
            class="element-name">‘<a href="struct.html#GElement"><span>g</span></a>’</span>, <span
            class="element-name">‘<a href="struct.html#SymbolElement"><span>symbol</span></a>’</span>, <span
            class="element-name">‘<a href="painting.html#MarkerElement"><span>marker</span></a>’</span>,
        <span class="element-name">‘<a href="linking.html#AElement"><span>a</span></a>’</span>, <span
            class="element-name">‘<a href="struct.html#SwitchElement"><span>switch</span></a>’</span>, <span
            class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>, <span
            class="element-name">‘<a href="struct.html#UnknownElement"><span>unknown</span></a>’</span> および <a
            href="struct.html#TermGraphicsElement">グラフィック要素</a>。
    </p>

    <div class="example">
        <p>次の例は、オブジェクトとグループに対する<a class="property"
                href="render.html#ObjectAndGroupOpacityProperties">opacity</a>プロパティのさまざまな使い方を示します。</p>

        <pre>&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="600" height="175" viewBox="0 0 1200 350">

  &lt;!-- 背景の青い矩形 -->
  &lt;rect x="100" y="100" width="1000" height="150" fill="blue"/>

  &lt;!-- 赤い円（不透明度1からほぼ透明まで） -->
  &lt;circle cx="200" cy="100" r="50" fill="red" opacity="1"/>
  &lt;circle cx="400" cy="100" r="50" fill="red" opacity=".8"/>
  &lt;circle cx="600" cy="100" r="50" fill="red" opacity=".6"/>
  &lt;circle cx="800" cy="100" r="50" fill="red" opacity=".4"/>
  &lt;circle cx="1000" cy="100" r="50" fill="red" opacity=".2"/>

  &lt;!-- 不透明グループ、不透明円 -->
  &lt;g opacity="1">
    &lt;circle cx="182.5" cy="250" r="50" fill="red" opacity="1"/>
    &lt;circle cx="217.5" cy="250" r="50" fill="green" opacity="1"/>
  &lt;/g>
  &lt;!-- グループ不透明度: .5、不透明円 -->
  &lt;g opacity=".5">
    &lt;circle cx="382.5" cy="250" r="50" fill="red" opacity="1"/>
    &lt;circle cx="417.5" cy="250" r="50" fill="green" opacity="1"/>
  &lt;/g>
  &lt;!-- 不透明グループ、半透明緑と赤 -->
  &lt;g opacity="1">
    &lt;circle cx="582.5" cy="250" r="50" fill="red" opacity=".5"/>
    &lt;circle cx="617.5" cy="250" r="50" fill="green" opacity=".5"/>
  &lt;/g>
  &lt;!-- 不透明グループ、半透明赤と緑 -->
  &lt;g opacity="1">
    &lt;circle cx="817.5" cy="250" r="50" fill="green" opacity=".5"/>
    &lt;circle cx="782.5" cy="250" r="50" fill="red" opacity=".5"/>
  &lt;/g>
  &lt;!-- グループ不透明度.5、半透明緑と赤 -->
  &lt;g opacity=".5">
    &lt;circle cx="982.5" cy="250" r="50" fill="red" opacity=".5"/>
    &lt;circle cx="1017.5" cy="250" r="50" fill="green" opacity=".5"/>
  &lt;/g>
&lt;/svg></pre>

        <div class="figure">
            <img class="bordered" src="https://www.w3.org/TR/SVG2/images/masking/opacity01.svg"
                alt="異なるグループの円が背景にブレンドされる様子を示す画像。" />
            <p class="caption">各赤と緑の円グループは、まずオフスクリーン画像としてレンダリングされ、その後全体として背景の青い矩形に、指定された<a class="property"
                    href="render.html#ObjectAndGroupOpacityProperties">opacity</a>値でブレンドされます。</p>
        </div>

        <p>この例では、上段の円は不透明度が1.0から0.2まで変化しています。下段は5つの<span class="element-name">‘<a
                    href="struct.html#GElement"><span>g</span></a>’</span>要素で、それぞれ重なり合う赤と緑の円を含みます：</p>

        <ul>
            <li>最初のグループは参照用の完全不透明ケースです。グループも円も不透明度1です。</li>
            <li>2番目のグループは、グループ不透明度が設定されている場合（グループ0.5、要素は不透明）です。</li>
            <li>3番目と4番目のグループは不透明度が可換でないことを示します。3番目（不透明度1）は半透明緑が半透明赤の上に描かれ、4番目は半透明赤が半透明緑の上に描かれます。重なり部分の色が異なり、3番目は緑が、4番目は赤が強く出ます。
            </li>
            <li>5番目のグループは不透明度設定の乗算効果です。円もグループも不透明度.5で、赤円の緑と重ならない部分（右上）は青矩形と0.25（.5*.5）の累積不透明度でブレンドされ、結果として赤25%、青75%の色になります。
            </li>
        </ul>
    </div>

    <h2 id="TypesOfGraphicsElements" class="heading">3.7. グラフィック要素の種類<a class="self-link"
            href="#TypesOfGraphicsElements"></a></h2>

    <p>SVGは、キャンバスに描画できる<a href="struct.html#TermGraphicsElement">グラフィック要素</a>として、3つの基本タイプをサポートしています：</p>

    <ul>
        <li><a href="shapes.html#TermShapeElement">図形</a>（直線と曲線の組み合わせ）</li>
        <li>テキスト（文字グリフの組み合わせ）</li>
        <li>ラスター画像（長方形グリッド上の各点でペイント色と不透明度（アルファ）を指定する値の配列。SVGでは
            <a href="conform.html">適合性要件</a>で規定されたラスター画像フォーマットのサポートが必要です）
        </li>
    </ul>

    <h3 id="PaintingShapesAndText" class="heading">3.7.1. 図形とテキストの描画<a class="self-link"
            href="#PaintingShapesAndText"></a></h3>

    <p>図形とテキストは、<a href="painting.html#TermFill">塗り</a>（図形の内部にペイントを適用）と<a
            href="painting.html#TermStroke">線</a>（図形の輪郭にペイントを適用）で描画できます。</p>

    <p>一部の図形タイプでは、<a
            href="painting.html#Markers">マーカー記号</a>（図形・テキスト・画像の任意組み合わせで構成可能）を図形境界上の指定位置に描画できます。各マーカー記号は、そのグラフィック内容がマーカーを使う図形オブジェクト直後にSVG文書ツリーへ展開されたかのようにペイントされます。マーカー記号のグラフィック内容はグラフィック要素と同じ方法でレンダリングされます。マーカー記号はテキストには適用されません。
    </p>

    <p>塗り・線・マーカーの描画順序は<a class="property"
            href="painting.html#PaintOrderProperty">paint-order</a>プロパティで決まります。デフォルトでは塗り→線→マーカーの順で、マーカーは形状輪郭上を図形の始点から終点まで順に描画されます。
    </p>

    <p>塗りと線の操作は完全に独立しており、各操作は独自の不透明度設定などを持ちます。</p>

    <p>SVGは塗りや線で使える多様な組込ペイントタイプをサポートしています。詳細は<a href="pservers.html">ペイントサーバー</a>で説明されています。
    </p>

    <h3 id="PaintingRasterImages" class="heading">3.7.2. ラスター画像の描画<a class="self-link" href="#PaintingRasterImages"></a>
    </h3>

    <p>ラスター画像が描画される際、元のサンプルは標準的なアルゴリズムで「再サンプリング」され、出力デバイス上で必要な位置にサンプルが作られます。再サンプリングの要件については <a
            href="conform.html">適合性要件</a>で説明されています。</p>
    <p class="ready-for-wider-review">
        HTMLの場合と同様[<a href="refs.html#ref-html">HTML</a>,
        10.4.2]、絶対URLと画像データが同じすべてのアニメーション画像は、グループとして同じタイムラインで同期描画されることが期待されます。タイムラインはグループ内で最も古い追加タイミングから始まります。
    </p>
    <p class="ready-for-wider-review">
        ユーザーエージェントがアニメ画像を表示するimg要素のアニメーションを再開する場合、そのimg要素のノード文書内で絶対URLと画像データが同じすべてのアニメ画像は、アニメーションを最初から再開することが期待されます。
    </p>

    <h2 id="FilteringPaintRegions" class="heading">3.8. 描画領域のフィルタリング<a class="self-link"
            href="#FilteringPaintRegions"></a></h2>
    <p>SVGは任意の描画操作にフィルタを適用できます。（<a href="https://www.w3.org/TR/filter-effects/">Filter Effects</a>参照）
    </p>

    <p>この場合、結果はペイント操作が透明な黒で初期化された中間キャンバス（サイズは<a href="https://www.w3.org/TR/filter-effects/">Filter
            Effects</a>で定められたルールに従う）に適用され、その後<a href="https://www.w3.org/TR/filter-effects/">Filter
            Effects</a>で定義された処理によりフィルタされるのと同じでなければなりません。
    </p>

    <div class="ready-for-wider-review">
        <h2 id="ClippingAndMasking" class="heading">3.9. クリッピングとマスキング<a class="self-link"
                href="#ClippingAndMasking"></a></h2>

        <p>SVGは以下のクリッピング／マスキング機能をサポートします：</p>

        <ul>
            <li>クリッピングパス：<span class="element-name">‘<a
                        href="paths.html#PathElement"><span>path</span></a>’</span>、<span class="element-name">‘<a
                        href="text.html#TextElement"><span>text</span></a>’</span>、<a
                    href="shapes.html#TermBasicShapeElement">基本図形</a>の任意の組み合わせや、基本図形によって輪郭が作られます（アンチエイリアスなしの場合、1ビットマスクとなり、輪郭の「内側」は表示され、外側はマスクされます）
            </li>

            <li>マスク：<a href="struct.html#TermContainerElement">コンテナ要素</a>であり、<a
                    href="struct.html#TermGraphicsElement">グラフィック要素</a>や他のコンテナ要素を含むことができ、前景オブジェクトを現在の背景に合成するための半透明マスクとして使うグラフィックの集合を定義します。
            </li>
        </ul>

        <p>クリッピングとマスキングの両方は、CSS Maskingモジュール[<a href="refs.html#ref-css-masking-1">css-masking-1</a>]で規定されています。</p>
    </div>

    <h2 id="ParentCompositing" class="heading">3.10. 親コンポジット処理<a class="self-link" href="#ParentCompositing"></a></h2>
    <p>SVG文書フラグメントは半透明にすることができます。</p>
    <p class="ready-for-wider-review">
        <a href="https://www.w3.org/TR/2015/CR-compositing-1-20150113">Compositing and Blending</a>仕様に従い、
        <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>要素は常に<a
            href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#isolatedgroups">分離グループ</a>を作成します。
        SVG文書がトップレベル文書（他の文書に埋め込まれていない場合）の場合、ルートの<span class="element-name">‘<a
                href="struct.html#SVGElement"><span>svg</span></a>’</span>要素は<a
            href="https://www.w3.org/TR/2015/CR-compositing-1-20150113/#pagebackdrop">ページグループ</a>とみなされ、白（100%不透明）の背景と合成されます。
        それ以外の場合、SVG文書や文書フラグメントは、親文書に不透明度を保ったまま合成されます。
    </p>

    <h2 id="OverflowAndClipProperties" class="heading">3.11. ‘<span class="property">overflow</span>’プロパティの効果<a
            class="self-link" href="#OverflowAndClipProperties"></a></h2>

    <p class="note">‘<a class="property" href="render.html#OverflowAndClipProperties">overflow</a>’の定義についてはCascading
        Style Sheets Level 2 Revision 1 (CSS 2.1)仕様[<a href="refs.html#ref-css2">CSS2</a>]を参照してください。
    </p>
    <div class="ready-for-wider-review">
        <table class="data compact">
            <caption><a class="property" href="render.html#OverflowAndClipProperties">overflow</a>プロパティのSVGにおける挙動まとめ
            </caption>
            <thead>
                <tr>
                    <th>要素</th>
                    <th>初期値</th>
                    <th>UAスタイルシート</th>
                    <th>auto</th>
                    <th>visible</th>
                    <th>hidden</th>
                    <th>scroll</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>文書ルートsvg</th>
                    <td>visible</td>
                    <td>n/a</td>
                    <td>visible | scroll</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>scroll</td>
                </tr>
                <tr>
                    <th>その他のsvg</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible | scroll</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>scroll</td>
                </tr>
                <tr>
                    <th>text</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>hidden</td>
                </tr>
                <tr>
                    <th>pattern</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>hidden</td>
                </tr>
                <tr>
                    <th>marker</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>hidden</td>
                </tr>
                <tr>
                    <th>symbol</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>hidden</td>
                </tr>
                <tr>
                    <th>image</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>hidden</td>
                </tr>
                <tr>
                    <th>iframe</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible | scroll</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>scroll</td>
                </tr>
                <tr>
                    <th>foreignObject</th>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>visible | scroll</td>
                    <td>visible</td>
                    <td>hidden</td>
                    <td>scroll</td>
                </tr>
            </tbody>
        </table>

        <p><a class="property" href="render.html#OverflowAndClipProperties">overflow</a>プロパティは、CSS 2.1で定義されている<a
                href="https://www.w3.org/TR/2011/REC-CSS2-20110607/visufx.html#propdef-overflow">同じパラメータ値と意味</a>を持ちます（[<a
                href="refs.html#ref-css2">CSS2</a>]、11.1.1節）。ただし、以下の追加事項が適用されます：</p>

        <ul>
            <li>
                <a class="property" href="render.html#OverflowAndClipProperties">overflow</a>プロパティの値が 'visible'
                の場合、プロパティは効果を持ちません（すなわち、クリッピング矩形は作成されません）。
            </li>

            <li> <a class="property" href="render.html#OverflowAndClipProperties">overflow</a>プロパティが適用可能な要素について。
                <a class="property" href="render.html#OverflowAndClipProperties">overflow</a>プロパティの値が<span
                    class="prop-value">
                    hidden</span>または<span class="prop-value">scroll</span>の場合、SVGビューポートの正確なサイズでクリップされます。
            </li>

            <li>
                <span class="prop-value">scroll</span>が<span class="element-name">‘<a
                        href="struct.html#SVGElement"><span>svg</span></a>’</span>要素に指定され、ユーザーエージェントが画面上でスクロール機構（スクロールバーやパンナーなど）を使う場合は、SVGビューポートにその機構が必ず表示されるべきです。内容がクリップされているかどうかに関係なく表示されます。
            </li>

            <li>
                SVG内容内では、<span class="prop-value">auto</span>はすべての子要素の描画コンテンツが<span
                    class="prop-value">visible</span>であることを意味します（スクロール機構によるか、クリップなしで描画されるか）。
                <span class="prop-value">scroll</span>値でユーザーエージェントがスクロール機構を使う場合、<span
                    class="prop-value">auto</span>は<span
                    class="prop-value">scroll</span>として扱われる場合があります。ユーザーエージェントにスクロール機構がない場合、内容はクリップされず、'scroll'値は<span
                    class="prop-value">hidden</span>として扱われるか、<span class="prop-value">auto</span>は<span
                    class="prop-value">visible</span>として扱われます。
            </li>
        </ul>

        <div class="note">
            <a class="property"
                href="render.html#OverflowAndClipProperties">overflow</a>の初期値はautoですが、ユーザーエージェントスタイルシートでは、
            スタンドアロン文書のルート要素でない<span class="element-name">‘<a
                    href="struct.html#SVGElement"><span>svg</span></a>’</span>要素、
            <span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span>要素、
            <span class="element-name">‘<a href="painting.html#MarkerElement"><span>marker</span></a>’</span>要素は、
            デフォルトでhiddenに上書きされます。
        </div>
    </div> <!-- ready-for-wider-review -->
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>