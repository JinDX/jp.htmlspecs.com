<!DOCTYPE html>

<!--
  Scalable Vector Graphics (SVG) 2
  Chapter 9: Paths

  Note: This document is generated from ../master/paths.html.
  Run "make" from the root of the repository to regenerate it.
  -->

<html lang="ja-JP" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8" />
    <title>パス — SVG 2</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Style sheets for local dev. Will be standardized in processing.
  Add attribute data-keep="" to any extra stylesheet link you do not want removed
  (or use <style>), and include it before here. -->


    <link rel="stylesheet" title="Default" href="https://www.w3.org/TR/SVG2/style/svg.css" type="text/css"
        media="screen" />
    <link rel="alternate stylesheet" title="Only annotations for publication"
        href="https://www.w3.org/TR/SVG2/style/default_no_maturity.css" type="text/css" media="screen" />
    <link rel="alternate stylesheet" title="No issues/annotations"
        href="https://www.w3.org/TR/SVG2/style/default_no_issues.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED" type="text/css" media="screen" />
    <script src="https://www.w3.org/TR/SVG2/style/link-fixup.js"></script>
</head>

<body class="chapter-paths">

    <h1>第9章: パス</h1>
    <nav id="toc">
        <div class="header top"><a href="index.html">概要</a> . <a href="coords.html">前へ</a> . <a
                href="shapes.html">次へ</a> . <a href="eltindex.html">要素一覧</a> . <a href="attindex.html">属性一覧</a> . <a
                href="propidx.html">プロパティ一覧</a></div>
        <h2 id="Contents" class="contents">目次</h2>
        <ol class="toc">
            <li>
                <ol class="toc">
                    <li><a href="paths.html#Introduction"><span class="secno">9.1.</span> はじめに</a></li>
                    <li><a href="paths.html#PathElement"><span class="secno">9.2.</span> <span
                                class="element-name">‘path’</span> 要素</a></li>
                    <li><a href="paths.html#PathData"><span class="secno">9.3.</span> パスデータ</a>
                        <ol class="toc">
                            <li><a href="paths.html#PathDataGeneralInformation"><span class="secno">9.3.1.</span>
                                    パスデータの一般情報</a></li>
                            <li><a href="paths.html#TheDProperty"><span class="secno">9.3.2.</span> パスデータの指定：‘<span
                                        class="property">d</span>’ プロパティ</a></li>
                            <li><a href="paths.html#PathDataMovetoCommands"><span class="secno">9.3.3.</span>
                                    <strong>「moveto」</strong> コマンド</a></li>
                            <li><a href="paths.html#PathDataClosePathCommand"><span class="secno">9.3.4.</span>
                                    <strong>「closepath」</strong> コマンド</a>
                                <ol class="toc">
                                    <li><a href="paths.html#Segment-CompletingClosePath"><span
                                                class="secno">9.3.4.1.</span> セグメント完了型クローズパス操作</a></li>
                                </ol>
                            </li>
                            <li><a href="paths.html#PathDataLinetoCommands"><span class="secno">9.3.5.</span>
                                    <strong>「lineto」</strong> コマンド</a></li>
                            <li><a href="paths.html#PathDataCubicBezierCommands"><span class="secno">9.3.6.</span>
                                    三次ベジエ曲線コマンド</a></li>
                            <li><a href="paths.html#PathDataQuadraticBezierCommands"><span class="secno">9.3.7.</span>
                                    二次ベジエ曲線コマンド</a></li>
                            <li><a href="paths.html#PathDataEllipticalArcCommands"><span class="secno">9.3.8.</span>
                                    楕円弧曲線コマンド</a></li>
                            <li><a href="paths.html#PathDataBNF"><span class="secno">9.3.9.</span> パスデータの文法</a></li>
                        </ol>
                    </li>
                    <li><a href="paths.html#PathDirectionality"><span class="secno">9.4.</span> パスの方向性</a>
                    </li>
                    <li><a href="paths.html#PathElementImplementationNotes"><span class="secno">9.5.</span>
                            実装ノート</a>
                        <ol class="toc">
                            <li><a href="paths.html#ArcOutOfRangeParameters"><span class="secno">9.5.1.</span>
                                    範囲外楕円弧パラメータ</a></li>
                            <li><a href="paths.html#ReflectedControlPoints"><span class="secno">9.5.2.</span> 反射制御点</a>
                            </li>
                            <li><a href="paths.html#ZeroLengthSegments"><span class="secno">9.5.3.</span> ゼロ長パスセグメント</a>
                            </li>
                            <li><a href="paths.html#PathDataErrorHandling"><span class="secno">9.5.4.</span>
                                    パスデータのエラー処理</a></li>
                        </ol>
                    </li>
                    <li><a href="paths.html#DistanceAlongAPath"><span class="secno">9.6.</span> パス上の距離</a>
                        <ol class="toc">
                            <li><a href="paths.html#PathLengthAttribute"><span class="secno">9.6.1.</span> <span
                                        class="attr-name">‘pathLength’</span> 属性</a></li>
                        </ol>
                    </li>
                    <li><a href="paths.html#DOMInterfaces"><span class="secno">9.7.</span> DOMインターフェース</a>
                        <ol class="toc">
                            <li><a href="paths.html#InterfaceSVGPathElement"><span class="secno">9.7.1.</span> インターフェース
                                    SVGPathElement</a></li>
                        </ol>
                    </li>
                </ol>
            </li>
        </ol>
    </nav>



    <h2 id="Introduction" class="heading">9.1. はじめに<a class="self-link" href="#Introduction"></a></h2>

    <p>
        パスは、塗りつぶしやストロークが可能な図形の輪郭を表します。パスはクリッピングパスとして使ったり、アニメーションの記述やテキストの配置にも使えます。パスはこれらの機能を同時に複数兼ねることも可能です。（<a
            href="painting.html">塗りつぶし、ストローク、ペイントサーバー</a>、
        <a href="render.html#ClippingAndMasking">クリッピングとマスキング</a>、
        アニメーション（<a href="https://svgwg.org/specs/animations/#AnimateMotionElement">'animateMotion'</a>）、
        <a href="text.html#TextLayoutPath">パス上のテキスト</a>参照。）
    </p>

    <p>パスは「現在の点」という概念で記述されます。紙に描くことを例えると、現在の点はペンの位置と考えられます。ペンの位置を動かして、ペンを直線や曲線で引いて図形（開いた形・閉じた形）の輪郭をなぞることができます。</p>

    <p>パスはオブジェクトの輪郭の幾何形状を表し、<em>moveto</em>（新しい現在の点の設定）、<em>lineto</em>（直線描画）、<em>curveto</em>（三次ベジエで曲線描画）、<em>arc</em>（楕円または円弧）、<em>closepath</em>（最後の
        <em>moveto</em> まで接続して現在の形状を閉じる）コマンドで定義されます。複合パス（複数サブパスを持つパス）も可能で、「ドーナツ型の穴」などの効果に使えます。
    </p>

    <p>この章ではSVGパスの構文、挙動、DOMインターフェースについて説明します。SVGパスの実装ノートは<a href="paths.html#PathElementImplementationNotes"><span
                class="element-name">‘path’</span> 要素実装ノート</a>で参照できます。</p>

    <p>パスはSVGでは <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span> 要素で定義されます。
    </p>

    <p><a href="shapes.html#TermBasicShapeElement">基本図形</a>は全て、その
        <dfn id="TermEquivalentPath">等価なパス</dfn>がどうなるか、つまりその図形がパスとしてどのような形かで記述されています。（<span class="element-name">‘<a
                href="paths.html#PathElement"><span>path</span></a>’</span> 要素の等価なパスは単にそのパス自体です。）
        基本図形を等価なパスとして定義するために、
        <a href="paths.html#TermSegment-CompletingClosePath">セグメント完了型クローズパス</a>操作が定義されていますが、これは現行のパス構文では表現できません。
    </p>

    <h2 id="PathElement" class="heading">9.2. <span class="element-name">‘path’</span> 要素<a class="self-link"
            href="#PathElement"></a></h2>

    <div class="element-summary">
        <div class="element-summary-name"><span class="element-name">‘<dfn data-dfn-type="element" data-export=""
                    id="elementdef-path">path</dfn>’</span></div>
        <dl>
            <dt>カテゴリ:</dt>
            <dd><a href="struct.html#TermGraphicsElement">グラフィック要素</a>, <a
                    href="render.html#TermRenderableElement">描画可能要素</a>, <a href="shapes.html#TermShapeElement">図形要素</a>
            </dd>
            <dt>内容モデル:</dt>
            <dd>以下の要素を任意の順・任意の数で含めることができます:<ul class="no-bullets">
                    <li><a href="https://svgwg.org/specs/animations/#TermAnimationElement">アニメーション要素</a><span
                            class="expanding"> — <span class="element-name">‘<a
                                    href="https://svgwg.org/specs/animations/#AnimateElement"><span>animate</span></a>’</span>,
                            <span class="element-name">‘<a
                                    href="https://svgwg.org/specs/animations/#AnimateMotionElement"><span>animateMotion</span></a>’</span>,
                            <span class="element-name">‘<a
                                    href="https://svgwg.org/specs/animations/#AnimateTransformElement"><span>animateTransform</span></a>’</span>,
                            <span class="element-name">‘<a
                                    href="https://svgwg.org/specs/animations/#DiscardElement"><span>discard</span></a>’</span>,
                            <span class="element-name">‘<a
                                    href="https://svgwg.org/specs/animations/#SetElement"><span>set</span></a>’</span></span>
                    </li>
                    <li><a href="struct.html#TermDescriptiveElement">記述要素</a><span class="expanding"> —
                            <span class="element-name">‘<a href="struct.html#DescElement"><span>desc</span></a>’</span>,
                            <span class="element-name">‘<a
                                    href="struct.html#TitleElement"><span>title</span></a>’</span>, <span
                                class="element-name">‘<a
                                    href="struct.html#MetadataElement"><span>metadata</span></a>’</span></span></li>
                    <li><a href="painting.html#TermPaintServerElement">ペイントサーバー要素</a><span class="expanding">
                            — <span class="element-name">‘<a
                                    href="pservers.html#LinearGradientElement"><span>linearGradient</span></a>’</span>,
                            <span class="element-name">‘<a
                                    href="pservers.html#RadialGradientElement"><span>radialGradient</span></a>’</span>,
                            <span class="element-name">‘<a
                                    href="pservers.html#PatternElement"><span>pattern</span></a>’</span></span></li>
                </ul><span class="element-name"><a
                        href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a></span>,
                <span class="element-name"><a href="painting.html#MarkerElement"><span>marker</span></a></span>, <span
                    class="element-name"><a
                        href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a></span>, <span
                    class="element-name"><a href="interact.html#ScriptElement"><span>script</span></a></span>, <span
                    class="element-name"><a href="styling.html#StyleElement"><span>style</span></a></span>
            </dd>
            <dt>属性:</dt>
            <dd>
                <ul class="no-bullets">
                    <li><a href="struct.html#TermARIAAttribute">aria属性</a><span class="expanding"> — <span
                                class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"><span>aria-activedescendant</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"><span>aria-atomic</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"><span>aria-autocomplete</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-busy"><span>aria-busy</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-checked"><span>aria-checked</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"><span>aria-colcount</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"><span>aria-colindex</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"><span>aria-colspan</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-controls"><span>aria-controls</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-current"><span>aria-current</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"><span>aria-describedby</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-details"><span>aria-details</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"><span>aria-disabled</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"><span>aria-dropeffect</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"><span>aria-errormessage</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"><span>aria-expanded</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"><span>aria-flowto</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"><span>aria-grabbed</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"><span>aria-haspopup</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"><span>aria-hidden</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"><span>aria-invalid</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-keyshortcuts"><span>aria-keyshortcuts</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-label"><span>aria-label</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"><span>aria-labelledby</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-level"><span>aria-level</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-live"><span>aria-live</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-modal"><span>aria-modal</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"><span>aria-multiline</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"><span>aria-multiselectable</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"><span>aria-orientation</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-owns"><span>aria-owns</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"><span>aria-placeholder</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"><span>aria-posinset</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"><span>aria-pressed</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"><span>aria-readonly</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"><span>aria-relevant</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-required"><span>aria-required</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"><span>aria-roledescription</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"><span>aria-rowcount</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"><span>aria-rowindex</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"><span>aria-rowspan</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-selected"><span>aria-selected</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"><span>aria-setsize</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-sort"><span>aria-sort</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"><span>aria-valuemax</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"><span>aria-valuemin</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"><span>aria-valuenow</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"><span>aria-valuetext</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="struct.html#RoleAttribute"><span>role</span></a>’</span></span></li>
                    <li><a href="struct.html#TermConditionalProcessingAttribute">条件付き処理属性</a><span class="expanding"> —
                            <span class="attr-name">‘<a
                                    href="struct.html#RequiredExtensionsAttribute"><span>requiredExtensions</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="struct.html#SystemLanguageAttribute"><span>systemLanguage</span></a>’</span></span>
                    </li>
                    <li><a href="struct.html#TermCoreAttribute">コア属性</a><span class="expanding"> — <span
                                class="attr-name">‘<a href="struct.html#IDAttribute"><span>id</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="struct.html#SVGElementTabindexAttribute"><span>tabindex</span></a>’</span>,
                            <span class="attr-name">‘<a href="struct.html#LangAttribute"><span>lang</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="struct.html#XMLSpaceAttribute"><span>xml:space</span></a>’</span>, <span
                                class="attr-name">‘<a href="styling.html#ClassAttribute"><span>class</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="styling.html#StyleAttribute"><span>style</span></a>’</span></span></li>
                    <li><a
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers">グローバルイベント属性</a><span
                            class="expanding"> — <span class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oncancel</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oncanplay</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oncanplaythrough</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onchange</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onclick</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onclose</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oncuechange</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondblclick</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondrag</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondragend</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondragenter</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondragexit</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondragleave</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondragover</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondragstart</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondrop</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ondurationchange</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onemptied</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onended</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onerror</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onfocus</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oninput</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oninvalid</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onkeydown</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onkeypress</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onkeyup</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onload</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onloadeddata</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onloadedmetadata</span></a>’</span>,
                            <span class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onloadstart</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmousedown</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmouseenter</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmouseleave</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmousemove</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmouseout</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmouseover</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmouseup</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onmousewheel</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onpause</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onplay</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onplaying</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onprogress</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onratechange</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onreset</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onresize</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onscroll</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onseeked</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onseeking</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onselect</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onshow</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onstalled</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onsubmit</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onsuspend</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ontimeupdate</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>ontoggle</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onvolumechange</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onwaiting</span></a>’</span></span></li>
                    <li><a
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#documentandelementeventhandlers">ドキュメント要素イベント属性</a><span
                            class="expanding"> — <span class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oncopy</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>oncut</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onpaste</span></a>’</span></span></li>
                    <li><a href="interact.html#EventAttributes">グラフィックイベント属性</a><span class="expanding"> —
                            <span class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onfocusin</span></a>’</span>, <span
                                class="attr-name">‘<a
                                    href="interact.html#EventAttributes"><span>onfocusout</span></a>’</span></span></li>
                    <li><a href="styling.html#TermPresentationAttribute">表示属性</a><span class="expanding"> — </span></li>
                    <li><span class="attr-name">‘<a
                                href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span></li>
                </ul>
            </dd>
            <dt>幾何プロパティ:</dt>
            <dd>
                <ul class="no-bullets">
                    <li><a class="property" href="paths.html#DProperty">d</a></li>
                </ul>
            </dd>
            <dt>DOMインターフェース:</dt>
            <dd>
                <ul class="no-bullets">
                    <li><a class="idlinterface" href="paths.html#InterfaceSVGPathElement">SVGPathElement</a></li>
                </ul>
            </dd>
        </dl>
    </div>

    <p><span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span> 要素の図形輪郭は <a
            class="property" href="paths.html#DProperty">d</a>
        プロパティで指定します。下記<a href="#PathData">パスデータ</a>参照。</p>

    <h2 id="PathData" class="heading">9.3. パスデータ<a class="self-link" href="#PathData"></a></h2>

    <h3 id="PathDataGeneralInformation" class="heading">9.3.1. パスデータの一般情報<a class="self-link"
            href="#PathDataGeneralInformation"></a></h3>

    <p>パスは <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span>
        要素を使い、その <a class="property" href="paths.html#DProperty">d</a> プロパティでパスデータを指定することで定義されます。パスデータには
        <em>moveto</em>、<em>lineto</em>、<em>curveto</em>（三次・二次ベジエ両方）、<em>arc</em>、<em>closepath</em>
        命令が含まれます。
    </p>

    <p><span class="example-ref">Example triangle01</span>
        は三角形の形のパスを指定しています。（
        <strong>M</strong> は <em>moveto</em>、
        <strong>L</strong> は <em>lineto</em>、
        <strong>z</strong> は <em>closepath</em> を示します）。
    </p>

    <div class="example">
        <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="4cm" height="4cm" viewBox="0 0 400 400"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>Example triangle01- simple example of a 'path'&lt;/title>
  &lt;desc>A path that draws a triangle&lt;/desc>
  &lt;rect x="1" y="1" width="398" height="398"
        fill="none" stroke="blue" />
  &lt;path d="M 100 100 L 300 100 L 200 300 z"
        fill="red" stroke="blue" stroke-width="3" />
&lt;/svg></pre>
        <div class="figure"><img alt="Example triangle01 — simple example of a 'path'"
                src="https://www.w3.org/TR/SVG2/images/paths/triangle01.png" />
            <p class="caption">Example triangle01</p>
        </div>
        <p class="view-as-svg"><a href="https://www.w3.org/TR/SVG2/images/paths/triangle01.svg">この例をSVGで表示
                (SVG対応ブラウザのみ)</a></p>
    </div>

    <p>パスデータには改行文字を含めることができ、可読性向上のため複数行に分割可能です。
        マークアップ内の属性中の改行は、パース時に空白文字として正規化されます。</p>

    <p>パスデータの構文は、ファイルサイズを最小限に抑え効率的なダウンロードを可能にするため簡潔に設計されています。多くのSVGファイルではパスデータが主要部分を占めるためです。SVGではパスデータを小さくするため、以下のような工夫があります：
    </p>

    <ul>
        <li>すべての命令は1文字で表現されます（例：<em>moveto</em> は <strong>M</strong>）。</li>

        <li>
            <div>不要な空白や区切り記号（カンマなど）は省略可能です。例えば以下は不要なスペースを含みます：</div>
            <div style="margin-left: 2em"><code>M 100 100 L 200 200</code></div>
            <div>よりコンパクトには：</div>
            <div style="margin-left: 2em"><code>M100 100L200 200</code></div>
        </li>

        <li>
            <div>同じ命令文字が連続する場合、後続のコマンド文字は省略できます。例えば以下は不要な2つ目の "L" コマンドを含みます：</div>
            <div style="margin-left: 2em"><code>M 100 200 L 200 100 L -100 -200</code></div>
            <div>よりコンパクトには：</div>
            <div style="margin-left: 2em"><code>M 100 200 L 200 100 -100 -200</code></div>
        </li>

        <li>ほとんどのコマンドには絶対・相対バージョンがあります（大文字は絶対座標、小文字は相対座標）。</li>

        <li><em>lineto</em> には横方向・縦方向（絶対・相対）の特殊ケースを最適化する別形式があります。</li>

        <li><em>curve</em> には、現在セグメントの一部制御点を前セグメントの制御点から自動計算できる場合の最適化形式があります。</li>
    </ul>

    <p>パスデータの構文は前置記法（コマンド＋パラメータ）です。許可される小数点は Unicode
        U+0046 FULL STOP（"."）のみ（UnicodeではPERIOD、ドット、小数点とも呼ばれる）で、他の区切り文字は許可されません[<a
            href="refs.html#ref-unicode">UNICODE</a>]。
        （例："13,000.56" は無効な数値、正しくは "13000.56" と記述してください。）</p>

    <p>コマンドの相対バージョンでは、すべての座標値はコマンド開始時点の現在の点からの相対値です。</p>

    <p>下記の表では、各パスコマンドの構文記述に以下の記号を使っています：</p>

    <ul>
        <li>(): パラメータのグループ化</li>
        <li>+: 指定パラメータが1回以上必要</li>
    </ul>

    <div class="ready-for-wider-review">

        <p>パスコマンドの説明で、<var>cpx</var>・<var>cpy</var>は現在の点の座標を表します。</p>

    </div>

    <div class="ready-for-wider-review">

        <h3 id="TheDProperty" class="heading">9.3.2. パスデータの指定：‘<span class="property">d</span>’
            プロパティ<a class="self-link" href="#TheDProperty"></a></h3>

        <table class="propdef def">
            <tr>
                <th>名前：</th>
                <td><dfn id="DProperty">d</dfn></td>
            </tr>
            <tr>
                <th>値：</th>
                <td>none | <a href="https://www.w3.org/TR/css3-values/#strings">&lt;string></a></td>
            </tr>
            <tr>
                <th>初期値：</th>
                <td>none</td>
            </tr>
            <tr>
                <th>適用対象：</th>
                <td><span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span></td>
            </tr>
            <tr>
                <th>継承：</th>
                <td>いいえ</td>
            </tr>
            <tr>
                <th>パーセンテージ：</th>
                <td>N/A</td>
            </tr>
            <tr>
                <th>メディア：</th>
                <td>visual</td>
            </tr>
            <tr>
                <th>算出値：</th>
                <td>指定通り</td>
            </tr>
            <tr>
                <th><a href="https://svgwg.org/specs/animations/#Animatable">アニメーション可能</a>：</th>
                <td>はい</td>
            </tr>
        </table>

        <p><a class="property" href="paths.html#DProperty">d</a> プロパティは <span class="element-name">‘<a
                    href="paths.html#PathElement"><span>path</span></a>’</span> 要素の形状指定に使います。</p>

        <p><span class="prop-value">none</span> の値は、その要素にパスデータがないことを示します。<span class="element-name">‘<a
                    href="paths.html#PathElement"><span>path</span></a>’</span> 要素の場合、レンダリングや祖先
            <a href="struct.html#TermContainerElement">コンテナ要素</a>の<a
                href="coords.html#TermBoundingBox">バウンディングボックス</a>に寄与しません。
        </p>

        <p>パスは複数のセグメントで構成され、movetoやclosepath以外の全てのコマンド（明示・暗黙）は1つの <dfn id="TermPathSegment">パスセグメント</dfn> を定義します。</p>

        <p>パスデータ内の全ての座標や長さは、現行ユーザー座標系の<a href="coords.html#TermUserUnits">ユーザー単位</a>として扱われます。</p>

        <p><span class="prop-value"><a href="https://www.w3.org/TR/css3-values/#strings">&lt;string></a></span>
            の値は、パスデータ文字列で形状を指定します。<a href="https://www.w3.org/TR/css3-values/#strings">&lt;string></a> の内容は下記<a
                href="#PathDataBNF">svg-path</a>
            <a href="types.html#syntax">EBNF文法</a>に一致する必要があり、文字列内のエラーは<a
                href="paths.html#PathDataErrorHandling">パスデータのエラー処理</a>のルールで処理されます。
            パスデータ文字列に有効なコマンドがなければ、挙動は <span class="prop-value">none</span> と同じです。
        </p>

        <p>
            アニメーションの場合、2つの <a class="property" href="paths.html#DProperty">d</a>
            プロパティ値は、パスデータ文字列が同じ構造（コマンド数・種類・順序が完全一致）の場合のみ滑らかに補間できます。一致しない場合は、
            <a href="https://drafts.csswg.org/css-values-4/#interpolation">補間</a>
            は
            <a href="https://drafts.csswg.org/web-animations/#discrete">離散</a>
            アニメーション型で行います。
        </p>
        <p>
            パスデータコマンドリストが同じ構造の場合、各コマンドの各パラメータは
            <a href="https://drafts.csswg.org/css-values-4/#interpolation">補間</a>
            により
            <a
                href="https://drafts.csswg.org/web-animations/#animation-type">実数</a>として個別に補間されます。フラグやブール値は0～1の間で補間され、0以外は1/trueとみなします。
        </p>

        <p class="annotation">
            「dはパスデータ文字列を値とするプレゼンテーション属性（名称変更なし）になる」と
            <a href="https://www.w3.org/2016/04/21-svg-minutes.html">ロンドン編集者会議</a>で決定。
        </p>

    </div>

    <p>以下のセクションでは、パスデータ文字列で利用できるコマンドを一覧します。直線セグメントを描画するのは <a href="paths.html#PathDataLinetoCommands">linetoコマンド</a>
        (<strong>L</strong>, <strong>l</strong>,
        <strong>H</strong>, <strong>h</strong>, <strong>V</strong>, <strong>v</strong>)
        と <a href="paths.html#PathDataClosePathCommand">closepathコマンド</a>
        (<strong>Z</strong>, <strong>z</strong>) です。下記3グループのコマンドが曲線を描画します：
    </p>

    <ul>
        <li><a href="paths.html#PathDataCubicBezierCommands">三次ベジエコマンド</a> (<strong>C</strong>,
            <strong>c</strong>, <strong>S</strong>, <strong>s</strong>)。
            三次ベジエセグメントは始点・終点・2つの制御点で定義されます。
        </li>

        <li><a href="paths.html#PathDataQuadraticBezierCommands">二次ベジエコマンド</a> (<strong>Q</strong>,
            <strong>q</strong>, <strong>T</strong>, <strong>t</strong>)。
            二次ベジエセグメントは始点・終点・1つの制御点で定義されます。
        </li>

        <li><a href="paths.html#PathDataEllipticalArcCommands">楕円弧コマンド</a> (<strong>A</strong>, <strong>a</strong>)。
            楕円弧セグメントは楕円の一部を描画します。</li>
    </ul>

    <h3 id="PathDataMovetoCommands" class="heading">9.3.3. <strong>「moveto」</strong> コマンド<a class="self-link"
            href="#PathDataMovetoCommands"></a></h3>

    <p>「moveto」コマンド（<strong>M</strong> または
        <strong>m</strong>）は新しい <dfn
            id="TermInitialPoint">初期点</dfn>と新しい現在の点を確立します。効果は「ペンを持ち上げて新しい位置に移動する」ようなものです。パスデータセグメント（ある場合）は必ず「moveto」コマンドで始まります。以降の「moveto」コマンド（最初でない場合）は新しい
        <em>サブパス</em>の開始を表します：
    </p>

    <table class="PathDataTable">
        <tr>
            <th>コマンド</th>
            <th>名称</th>
            <th>パラメータ</th>
            <th>説明</th>
        </tr>
        <tr>
            <td><strong>M</strong>（絶対）<br />
                <strong>m</strong>（相対）
            </td>
            <td>moveto</td>
            <td>(x y)+</td>
            <td>
                指定した (x,y) 座標で新しいサブパスを開始します。
                <strong>M</strong>（大文字）は絶対座標が続くことを示し、<strong>m</strong>（小文字）は相対座標が続くことを示します。movetoの後に複数の座標ペアが続く場合、後続のペアは暗黙のlineto命令とみなされます。したがって、暗黙のlineto命令はmovetoが相対なら相対、絶対なら絶対となります。パスの最初の要素として相対moveto（<strong>m</strong>）が現れた場合は絶対座標ペアとして扱われます。この場合、以降の座標ペアは相対扱いになりますが、最初のmoveto自体は絶対扱いです。
            </td>
        </tr>
    </table>

    <div class="ready-for-wider-review">

        <p>相対 <strong>m</strong> コマンドの場合、移動先は (<var>cpx</var> + <var>x</var>,
            <var>cpy</var> + <var>y</var>) です。
        </p>

    </div>

    <h3 id="PathDataClosePathCommand" class="heading">9.3.4. <strong>「closepath」</strong> コマンド<a class="self-link"
            href="#PathDataClosePathCommand"></a></h3>

    <p>「closepath」（<strong>Z</strong> または <strong>z</strong>）は、現在のサブパスを<a
            href="paths.html#TermInitialPoint">初期点</a>に戻して接続し終了します。
        自動的に直線が現在の点からサブパスの<a href="paths.html#TermInitialPoint">初期点</a>まで描かれます。この<a
            href="paths.html#TermPathSegment">パスセグメント</a>はゼロ長の場合もあります。
    </p>

    <p>「closepath」の直後に「moveto」が続く場合、その「moveto」が次のサブパスの開始点となります。
        「closepath」の直後に他のコマンドが続く場合、次のサブパスは現在のサブパスと同じ初期点から開始します。</p>

    <p>サブパスが「closepath」で終わる場合、<a href="painting.html#StrokeLinejoinProperty"><span
                class="prop-name">‘stroke-linejoin’</span></a>や<a href="painting.html#StrokeLinecapProperty"><span
                class="prop-name">‘stroke-linecap’</span></a>の実装方法により、手動で「lineto」で閉じた場合と挙動が異なります。「closepath」ではサブパスの最後のセグメントと最初のセグメントの開始点が、現行の<a
            href="painting.html#StrokeLinejoinProperty"><span
                class="prop-name">‘stroke-linejoin’</span></a>値で「結合」されます。手動で「lineto」で閉じた場合、最初と最後のセグメントは結合されず、それぞれ現行の<a
            href="painting.html#StrokeLinecapProperty"><span class="prop-name">‘stroke-linecap’</span></a>値でキャップ処理されます。
        コマンド終了時、新しい現在の点は現在サブパスの初期点となります。</p>

    <table class="PathDataTable">
        <tr>
            <th>コマンド</th>
            <th>名称</th>
            <th>パラメータ</th>
            <th>説明</th>
        </tr>
        <tr>
            <td><strong>Z</strong> または<br />
                <strong>z</strong>
            </td>
            <td>closepath</td>
            <td>(なし)</td>
            <td>現在のサブパスを現在のサブパスの<a href="paths.html#TermInitialPoint">初期点</a>に戻して接続し閉じる（上記本文参照）。
                <strong>Z</strong>と<strong>z</strong>はパラメータを取らないため、効果は同一です。
            </td>
        </tr>
    </table>

    <p><dfn id="TermClosedSubpath">閉じたサブパス</dfn>は「closepath」コマンドで閉じる必要があり、これにより最初と最後の<a
            href="paths.html#TermPathSegment">パスセグメント</a>が結合されます。
        その他のパスは<dfn id="TermOpenSubpath">開いたサブパス</dfn>です。</p>

    <p class="note ready-for-wider-review"> <a href="paths.html#TermOpenSubpath">閉じたサブパス</a>は、終点座標が<a
            href="paths.html#TermInitialPoint">初期点</a>である<a href="paths.html#TermClosedSubpath">開いたサブパス</a>とは動作が異なります。
        <a href="paths.html#TermClosedSubpath">開いたサブパス</a>の最初と最後の<a
            href="paths.html#TermPathSegment">パスセグメント</a>は結合されません。最後の<a
            href="paths.html#TermPathSegment">パスセグメント</a>の座標がサブパスの<a
            href="paths.html#TermInitialPoint">初期点</a>であっても、最初と最後の<a href="paths.html#TermPathSegment">パスセグメント</a>は現行の<a
            class="property" href="painting.html#StrokeLinecapProperty">stroke-linecap</a>値でキャップ処理され、<a class="property"
            href="painting.html#StrokeLinejoinProperty">stroke-linejoin</a>で結合されません。
    </p>

    <p>「closepath」の直後に「moveto」が続く場合、その「moveto」が次のサブパスの開始点となります。「closepath」の直後に他のコマンドが続く場合、次のサブパスは現在サブパスと同じ<a
            href="paths.html#TermInitialPoint">初期点</a>から開始します。</p>

    <h4 id="Segment-CompletingClosePath" class="heading">9.3.4.1. セグメント完了型クローズパス操作<a class="self-link"
            href="#Segment-CompletingClosePath"></a></h4>

    <p>
        基本図形を等価なパスとして表現するためには、ゼロ長の直線セグメントを追加せず（仮にそのセグメントがゼロ長でも）、曲線形状を閉じる方法が必要です。
        そのため、ここではセグメント完了型クローズパス操作を定義します。
    </p>
    <p>
        <dfn id="TermSegment-CompletingClosePath">セグメント完了型クローズパス</dfn>操作は前のパスコマンドと<em>合成</em>され、2つの効果があります：
    </p>
    <ul>
        <li>前コマンドの最終座標点がサブパスの<a href="paths.html#TermInitialPoint">初期点</a>と正確に一致することを保証します。</li>
        <li>サブパスの最終点と初期点を結合し、閉じたサブパスにします。</li>
    </ul>

    <p class="note">
        セグメント完了型クローズパス操作は現時点ではパスデータ構文のコマンドとしてはサポートされていません。
        ワーキンググループは将来の仕様でその構文を提案しています。
    </p>

    <h3 id="PathDataLinetoCommands" class="heading">9.3.5. <strong>「lineto」</strong> コマンド<a class="self-link"
            href="#PathDataLinetoCommands"></a></h3>

    <p>各種「lineto」コマンドは現在の点から新しい点まで直線を描画します：</p>

    <table class="PathDataTable">
        <tr>
            <th>コマンド</th>
            <th>名称</th>
            <th>パラメータ</th>
            <th>説明</th>
        </tr>
        <tr>
            <td><strong>L</strong>（絶対）<br />
                <strong>l</strong>（相対）
            </td>
            <td>lineto</td>
            <td>(x y)+</td>
            <td>現在の点から指定した (x,y) 座標まで線を描き、新しい現在の点となります。
                <strong>L</strong>（大文字）は絶対座標、<strong>l</strong>（小文字）は相対座標が続きます。座標ペアを複数指定すればポリラインを描画できます。コマンドの終了時、新しい現在の点は最後に指定した座標値となります。
            </td>
        </tr>
        <tr>
            <td><strong>H</strong>（絶対）<br />
                <strong>h</strong>（相対）
            </td>
            <td>horizontal lineto</td>
            <td>x+</td>
            <td>現在の点から水平線を描画します。
                <strong>H</strong>（大文字）は絶対座標、<strong>h</strong>（小文字）は相対座標が続きます。x値を複数指定可能（通常は意味がないことが多い）。<strong>H</strong>または<strong>h</strong>は、y座標を0指定した<strong>L</strong>または<strong>l</strong>と同等です。コマンド終了時、新しい現在の点は最後の座標値となります。
            </td>
        </tr>
        <tr>
            <td><strong>V</strong>（絶対）<br />
                <strong>v</strong>（相対）
            </td>
            <td>vertical lineto</td>
            <td>y+</td>
            <td>現在の点から垂直線を描画します。
                <strong>V</strong>（大文字）は絶対座標、<strong>v</strong>（小文字）は相対座標が続きます。y値を複数指定可能（通常は意味がないことが多い）。<strong>V</strong>または<strong>v</strong>は、x座標を0指定した<strong>L</strong>または<strong>l</strong>と同等です。コマンド終了時、新しい現在の点は最後の座標値となります。
            </td>
        </tr>
    </table>

    <div class="ready-for-wider-review">

        <p>相対 <strong>l</strong> コマンドの場合、線の終点は (<var>cpx</var> + <var>x</var>,
            <var>cpy</var> + <var>y</var>) です。
        </p>

        <p>相対 <strong>h</strong> コマンドの場合、線の終点は (<var>cpx</var> + <var>x</var>,
            <var>cpy</var>) です。つまり <strong>h</strong> コマンドで x が正なら正のx軸方向に水平線が描かれます。
        </p>

        <p>相対 <strong>v</strong> コマンドの場合、線の終点は (<var>cpx</var>,
            <var>cpy</var> + <var>y</var>) です。
        </p>

    </div>

    <h3 id="PathDataCubicBezierCommands" class="heading">9.3.6. 三次ベジエ曲線コマンド<a class="self-link"
            href="#PathDataCubicBezierCommands"></a></h3>

    <p>三次ベジエコマンドは以下の通りです：</p>

    <table class="PathDataTable">
        <tr>
            <th>コマンド</th>
            <th>名称</th>
            <th>パラメータ</th>
            <th>説明</th>
        </tr>
        <tr>
            <td><strong>C</strong>（絶対）<br />
                <strong>c</strong>（相対）
            </td>
            <td>curveto</td>
            <td>(x1 y1 x2 y2 x y)+</td>
            <td>現在の点から (x,y) まで三次ベジエ曲線を描きます。(x1,y1) を曲線始点側の制御点、(x2,y2) を曲線終点側の制御点とします。
                <strong>C</strong>（大文字）は絶対座標、<strong>c</strong>（小文字）は相対座標が続きます。複数座標セット指定でポリベジエが描画できます。コマンド終了時、新しい現在の点は最後に指定した
                (x,y) 座標ペアとなります。
            </td>
        </tr>
        <tr>
            <td><strong>S</strong>（絶対）<br />
                <strong>s</strong>（相対）
            </td>
            <td>shorthand/smooth curveto</td>
            <td>(x2 y2 x y)+</td>
            <td>現在の点から (x,y) まで三次ベジエ曲線を描きます。最初の制御点は、前コマンドの2番目の制御点を現在の点を基準に反転した位置とみなします。（前コマンドがない場合、または C, c, S, s
                以外の場合は、最初の制御点は現在の点と一致するものとします。）(x2,y2) が2番目の制御点（曲線終点側の制御点）です。
                <strong>S</strong>（大文字）は絶対座標、<strong>s</strong>（小文字）は相対座標が続きます。複数座標セット指定でポリベジエが描画できます。コマンド終了時、新しい現在の点は最後の
                (x,y) 座標ペアとなります。
            </td>
        </tr>
    </table>

    <div class="ready-for-wider-review">

        <p>相対 <strong>c</strong> または <strong>s</strong> コマンドの場合、各座標ペアは <strong>m</strong> コマンド同様に計算します。
            例えば両コマンドの曲線の終端制御点は (<var>cpx</var> + <var>x</var>, <var>cpy</var> + <var>y</var>) です。
        </p>

    </div>

    <p><span class="example-ref">Example cubic01</span> はパス内で三次ベジエコマンドを使った簡単な例を示します。
        この例では内部CSSスタイルシートでスタイリングプロパティを指定しています。
        "S" コマンドの制御点は、前の "C" コマンドの制御点を "S" コマンド開始点を基準に反転した位置として自動計算されることに注意してください。</p>

    <div class="example">
        <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="5cm" height="4cm" viewBox="0 0 500 400"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>Example cubic01- cubic Bézier commands in path data&lt;/title>
  &lt;desc>Picture showing a simple example of path data
        using both a "C" and an "S" command,
        along with annotations showing the control points
        and end points&lt;/desc>
  &lt;style type="text/css">&lt;![CDATA[
    .Border { fill:none; stroke:blue; stroke-width:1 }
    .Connect { fill:none; stroke:#888888; stroke-width:2 }
    .SamplePath { fill:none; stroke:red; stroke-width:5 }
    .EndPoint { fill:none; stroke:#888888; stroke-width:2 }
    .CtlPoint { fill:#888888; stroke:none }
    .AutoCtlPoint { fill:none; stroke:blue; stroke-width:4 }
    .Label { font-size:22; font-family:Verdana }
  ]]>&lt;/style>

  &lt;rect class="Border" x="1" y="1" width="498" height="398" />

  &lt;polyline class="Connect" points="100,200 100,100" />
  &lt;polyline class="Connect" points="250,100 250,200" />
  &lt;polyline class="Connect" points="250,200 250,300" />
  &lt;polyline class="Connect" points="400,300 400,200" />
  &lt;path class="SamplePath" d="M100,200 C100,100 250,100 250,200
                                       S400,300 400,200" />
  &lt;circle class="EndPoint" cx="100" cy="200" r="10" />
  &lt;circle class="EndPoint" cx="250" cy="200" r="10" />
  &lt;circle class="EndPoint" cx="400" cy="200" r="10" />
  &lt;circle class="CtlPoint" cx="100" cy="100" r="10" />
  &lt;circle class="CtlPoint" cx="250" cy="100" r="10" />
  &lt;circle class="CtlPoint" cx="400" cy="300" r="10" />
  &lt;circle class="AutoCtlPoint" cx="250" cy="300" r="9" />
  &lt;text class="Label" x="25" y="70">M100,200 C100,100 250,100 250,200&lt;/text>
  &lt;text class="Label" x="325" y="350"
        style="text-anchor:middle">S400,300 400,200&lt;/text>
&lt;/svg></pre>
        <div class="figure"><img alt="Example cubic01 — cubic Bézier comamnds in path data"
                src="https://www.w3.org/TR/SVG2/images/paths/cubic01.png" />
            <p class="caption">Example cubic01</p>
        </div>
        <p class="view-as-svg"><a href="https://www.w3.org/TR/SVG2/images/paths/cubic01.svg">この例をSVGで表示
                (SVG対応ブラウザのみ)</a></p>
    </div>

    <p>下記の図は、三次ベジエ曲線が制御点の位置によってどのように形状が変化するかを示します。最初の5つの例は単一の三次ベジエ<a
            href="paths.html#TermPathSegment">パスセグメント</a>を示し、右下の例は "C" コマンドの後に "S" コマンドが続くものです。</p>
    <p><img alt="Example cubic02 - cubic Bézier commands in path data"
            src="https://www.w3.org/TR/SVG2/images/paths/cubic02.png" width="355" height="355" /></p>
    <p class="view-as-svg"><a href="https://www.w3.org/TR/SVG2/images/paths/cubic02.svg">この例をSVGで表示
            (SVG対応ブラウザのみ)</a><br />
    </p>

    <h3 id="PathDataQuadraticBezierCommands" class="heading">9.3.7. 二次ベジエ曲線コマンド<a class="self-link"
            href="#PathDataQuadraticBezierCommands"></a></h3>

    <p>二次ベジエコマンドは以下の通りです：</p>

    <table class="PathDataTable">
        <tr>
            <th>コマンド</th>
            <th>名称</th>
            <th>パラメータ</th>
            <th>説明</th>
        </tr>
        <tr>
            <td><strong>Q</strong>（絶対）<br />
                <strong>q</strong>（相対）
            </td>
            <td>二次ベジエ曲線描画</td>
            <td>(x1 y1 x y)+</td>
            <td>現在の点から (x,y) まで、(x1,y1) を制御点として二次ベジエ曲線を描きます。
                <strong>Q</strong>（大文字）は絶対座標、<strong>q</strong>（小文字）は相対座標が続きます。複数座標セット指定でポリベジエが描画できます。コマンド終了時、新しい現在の点は最後の
                (x,y) 座標ペアとなります。
            </td>
        </tr>
        <tr>
            <td><strong>T</strong>（絶対）<br />
                <strong>t</strong>（相対）
            </td>
            <td>短縮/スムース二次ベジエ曲線描画</td>
            <td>(x y)+</td>
            <td>現在の点から (x,y) まで二次ベジエ曲線を描きます。制御点は前コマンドの制御点を現在の点基準で反転した位置とみなします。（前コマンドがない場合、または Q, q, T, t
                以外の場合は、制御点は現在の点と一致するとみなします。）<strong>T</strong>（大文字）は絶対座標、<strong>t</strong>（小文字）は相対座標が続きます。コマンド終了時、新しい現在の点は最後の
                (x,y) 座標ペアとなります。</td>
        </tr>
    </table>

    <div class="ready-for-wider-review">

        <p>相対 <strong>q</strong> または <strong>t</strong> コマンドの場合、各座標ペアは <strong>m</strong> コマンド同様に計算します。
            例えば両コマンドの曲線終端制御点は (<var>cpx</var> + <var>x</var>, <var>cpy</var> + <var>y</var>) です。
        </p>

    </div>

    <p><span class="example-ref">Example quad01</span> はパス内で二次ベジエコマンドを使った簡単な例を示します。
        "T" コマンドの制御点は、前の "Q" コマンドの制御点を "T" コマンド開始点基準で反転した位置として自動計算されることに注意してください。</p>

    <div class="example">
        <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="12cm" height="6cm" viewBox="0 0 1200 600"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>Example quad01 - quadratic Bézier commands in path data&lt;/title>
  &lt;desc>Picture showing a "Q" a "T" command,
        along with annotations showing the control points
        and end points&lt;/desc>
  &lt;rect x="1" y="1" width="1198" height="598"
        fill="none" stroke="blue" stroke-width="1" />

  &lt;path d="M200,300 Q400,50 600,300 T1000,300"
        fill="none" stroke="red" stroke-width="5"  />
  &lt;!-- End points -->
  &lt;g fill="black" >
    &lt;circle cx="200" cy="300" r="10"/>
    &lt;circle cx="600" cy="300" r="10"/>
    &lt;circle cx="1000" cy="300" r="10"/>
  &lt;/g>
  &lt;!-- Control points and lines from end points to control points -->
  &lt;g fill="#888888" >
    &lt;circle cx="400" cy="50" r="10"/>
    &lt;circle cx="800" cy="550" r="10"/>
  &lt;/g>
  &lt;path d="M200,300 L400,50 L600,300
           L800,550 L1000,300"
        fill="none" stroke="#888888" stroke-width="2" />
&lt;/svg></pre>
        <div class="figure"><img alt="Example quad01 — quadratic Bézier commands in path data"
                src="https://www.w3.org/TR/SVG2/images/paths/quad01.png" />
            <p class="caption">Example quad01</p>
        </div>
        <p class="view-as-svg"><a href="https://www.w3.org/TR/SVG2/images/paths/quad01.svg">この例をSVGで表示
                (SVG対応ブラウザのみ)</a></p>
    </div>

    <h3 id="PathDataEllipticalArcCommands" class="heading">9.3.8. 楕円弧曲線コマンド<a class="self-link"
            href="#PathDataEllipticalArcCommands"></a></h3>

    <div class="annotation svg2-requirement">
        <table>
            <tr>
                <th>SVG 2 要件：</th>
                <td>SVGパス構文で円弧描画をより簡単にする。</td>
            </tr>
            <tr>
                <th>決定：</th>
                <td><a href="https://www.w3.org/2011/11/04-svg-minutes.html#item08">パスで円弧描画を容易にする。</a></td>
            </tr>
            <tr>
                <th>目的：</th>
                <td>著者が手作業で円弧を含むパスデータを書きやすくするため。</td>
            </tr>
            <tr>
                <th>担当：</th>
                <td>Cameron (<a href="https://www.w3.org/Graphics/SVG/WG/track/actions/3151">ACTION-3151</a>)</td>
            </tr>
        </table>
    </div>

    <p>楕円弧コマンドは以下の通りです：</p>

    <table class="PathDataTable">
        <tr>
            <th>コマンド</th>
            <th>名称</th>
            <th>パラメータ</th>
            <th>説明</th>
        </tr>
        <tr>
            <td><strong>A</strong>（絶対）<br />
                <strong>a</strong>（相対）
            </td>
            <td>楕円弧</td>
            <td>(rx ry x-axis-rotation large-arc-flag sweep-flag x
                y)+</td>
            <td>現在の点から (<strong>x</strong>, <strong>y</strong>) まで楕円弧を描画します。楕円全体のサイズと向きは2つの半径（<strong>rx</strong>,
                <strong>ry</strong>）と
                <strong>x-axis-rotation</strong>（楕円全体の回転角度、現行座標系基準）で定義されます。楕円の中心 (<strong>cx</strong>,
                <strong>cy</strong>) は他のパラメータの制約条件を満たすよう自動計算されます。<strong>large-arc-flag</strong> と
                <strong>sweep-flag</strong> は自動計算に影響し、円弧の描画方法を決定します。
            </td>
        </tr>
    </table>

    <div class="ready-for-wider-review">

        <p>相対 <strong>a</strong> コマンドの場合、円弧の終点は (<var>cpx</var> + <var>x</var>,
            <var>cpy</var> + <var>y</var>) です。
        </p>

    </div>

    <p><span class="example-ref">Example arcs01</span> はパス内で円弧コマンドを使った簡単な例を示します。</p>

    <div class="example">
        <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="12cm" height="5.25cm" viewBox="0 0 1200 400"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>Example arcs01 - arc commands in path data&lt;/title>
  &lt;desc>Picture of a pie chart with two pie wedges and
        a picture of a line with arc blips&lt;/desc>
  &lt;rect x="1" y="1" width="1198" height="398"
        fill="none" stroke="blue" stroke-width="1" />

  &lt;path d="M300,200 h-150 a150,150 0 1,0 150,-150 z"
        fill="red" stroke="blue" stroke-width="5" />
  &lt;path d="M275,175 v-150 a150,150 0 0,0 -150,150 z"
        fill="yellow" stroke="blue" stroke-width="5" />

  &lt;path d="M600,350 l 50,-25
           a25,25 -30 0,1 50,-25 l 50,-25
           a25,50 -30 0,1 50,-25 l 50,-25
           a25,75 -30 0,1 50,-25 l 50,-25
           a25,100 -30 0,1 50,-25 l 50,-25"
        fill="none" stroke="red" stroke-width="5"  />
&lt;/svg></pre>
        <div class="figure"><img alt="Example arcs01 — arc commands in path data"
                src="https://www.w3.org/TR/SVG2/images/paths/arcs01.png" />
            <p class="caption">Example arcs01</p>
        </div>
        <p class="view-as-svg"><a href="https://www.w3.org/TR/SVG2/images/paths/arcs01.svg">この例をSVGで表示
                (SVG対応ブラウザのみ)</a></p>
    </div>

    <p>楕円弧コマンドは下記の制約条件を満たす楕円の一部を描画します：</p>

    <ul>
        <li>円弧は現在の点から開始</li>
        <li>円弧は (<strong>x</strong>, <strong>y</strong>) で終了</li>
        <li>楕円の半径は (<strong>rx</strong>, <strong>ry</strong>)</li>
        <li>楕円のx軸は現行座標系のx軸基準で <strong>x-axis-rotation</strong> 度回転</li>
    </ul>

    <p>多くのケースでは、これらの制約を満たす円弧は実際には4種類（2つの楕円×2種類の弧）存在します。<strong>large-arc-flag</strong> と <strong>sweep-flag</strong>
        は描画する円弧を次のように選択します：</p>

    <ul>
        <li>4つの候補円弧のうち、2つは180度以上の弧（"large-arc"）、2つは180度以下の弧（"small-arc"）となります。<strong>large-arc-flag</strong> が '1'
            なら大きい弧のうち1つ、'0' なら小さい弧のうち1つを選択します。</li>

        <li><strong>sweep-flag</strong> が '1' の場合、弧は「正角度」方向（楕円式
            x=<strong>cx</strong>+<strong>rx</strong>*cos(theta)、y=<strong>cy</strong>+<strong>ry</strong>*sin(theta)
            において、thetaが現在の点の角度から正方向に増加し (x, y) に到達するまで進む）で描かれます。'0' の場合は「負角度」方向（thetaが現在の点の角度から減少し (x, y)
            に到達するまで進む）で描かれます。</li>
    </ul>

    <p>下記は <strong>large-arc-flag</strong> と <strong>sweep-flag</strong>
        の4つの組み合わせごとに描画される円弧を示します。各ケースは次のパスデータコマンドで描画します：</p>

    <pre>
&lt;path d="M 125,75 a100,50 0 ?,? 100,50"
      style="fill:none; stroke:red; stroke-width:6"/>
</pre>

    <p>ここで "?,?" は "0,0"、"0,1"、"1,0"、"1,1" に置き換えて4つのケースを生成します。</p>

    <p><img alt="Illustration of flags in arc commands" src="https://www.w3.org/TR/SVG2/images/paths/arcs02.png"
            width="426" height="187" /></p>
    <p class="view-as-svg"><a href="https://www.w3.org/TR/SVG2/images/paths/arcs02.svg">この例をSVGで表示 (SVG対応ブラウザのみ)</a></p>

    <p>パスデータ楕円弧コマンドの詳細な実装ノートは <a href="#ArcOutOfRangeParameters">範囲外楕円弧パラメータ</a> のセクションを参照してください。</p>

    <p class="note">
        <a href="implnote.html#ArcImplementationNotes">実装ノート付録</a>には、SVGアーク表記を中心点・弧角度方式に変換する必要があるソフトウェア向けの関連式が記載されています。
    </p>


    <h3 id="PathDataBNF" class="heading">9.3.9. パスデータの文法<a class="self-link" href="#PathDataBNF"></a>
    </h3>

    <p>SVGパスデータは以下のEBNF文法に一致します。</p>
    <pre class="grammar ready-for-wider-review">
svg_path::= wsp* moveto? (moveto drawto_command*)?

drawto_command::=
    moveto
    | closepath
    | lineto
    | horizontal_lineto
    | vertical_lineto
    | curveto
    | smooth_curveto
    | quadratic_bezier_curveto
    | smooth_quadratic_bezier_curveto
    | elliptical_arc

moveto::=
    ( "M" | "m" ) wsp* coordinate_pair_sequence

closepath::=
    ("Z" | "z")

lineto::=
    ("L"|"l") wsp* coordinate_pair_sequence

horizontal_lineto::=
    ("H"|"h") wsp* coordinate_sequence

vertical_lineto::=
    ("V"|"v") wsp* coordinate_sequence

curveto::=
    ("C"|"c") wsp* curveto_coordinate_sequence

curveto_coordinate_sequence::=
    coordinate_pair_triplet
    | (coordinate_pair_triplet comma_wsp? curveto_coordinate_sequence)

smooth_curveto::=
    ("S"|"s") wsp* smooth_curveto_coordinate_sequence

smooth_curveto_coordinate_sequence::=
    coordinate_pair_double
    | (coordinate_pair_double comma_wsp? smooth_curveto_coordinate_sequence)

quadratic_bezier_curveto::=
    ("Q"|"q") wsp* quadratic_bezier_curveto_coordinate_sequence

quadratic_bezier_curveto_coordinate_sequence::=
    coordinate_pair_double
    | (coordinate_pair_double comma_wsp? quadratic_bezier_curveto_coordinate_sequence)

smooth_quadratic_bezier_curveto::=
    ("T"|"t") wsp* coordinate_pair_sequence

elliptical_arc::=
    ( "A" | "a" ) wsp* elliptical_arc_argument_sequence

elliptical_arc_argument_sequence::=
    elliptical_arc_argument
    | (elliptical_arc_argument comma_wsp? elliptical_arc_argument_sequence)

elliptical_arc_argument::=
    number comma_wsp? number comma_wsp? number comma_wsp
    flag comma_wsp? flag comma_wsp? coordinate_pair

coordinate_pair_double::=
    coordinate_pair comma_wsp? coordinate_pair

coordinate_pair_triplet::=
    coordinate_pair comma_wsp? coordinate_pair comma_wsp? coordinate_pair

coordinate_pair_sequence::=
    coordinate_pair | (coordinate_pair comma_wsp? coordinate_pair_sequence)

coordinate_sequence::=
    coordinate | (coordinate comma_wsp? coordinate_sequence)

coordinate_pair::= coordinate comma_wsp? coordinate

coordinate::= sign? number

sign::= "+"|"-"
number ::= ([0-9])+
flag::=("0"|"1")
comma_wsp::=(wsp+ ","? wsp*) | ("," wsp*)
wsp ::= (#x9 | #x20 | #xA | #xC | #xD)
</pre>

    <p>EBNFの処理では、与えられたEBNF生成式を可能な限り消費し、満たさない文字に遭遇した時点で停止します。例えば "M 100-200" の場合、"moveto" の最初の座標は "100"
        を消費し、生成式上で数字の後にマイナス記号は許されないため、そこで停止します。結果として最初の座標は "100"、2番目は "-200" となります。</p>

    <p>同様に、"M 0.6.5" の場合は、"moveto" の最初の座標が "0.6" を消費し、2つ目の小数点に遭遇した時点で停止します。生成式上、座標は小数点1つしか許されないためです。結果として最初の座標は
        "0.6"、2番目は ".5" となります。</p>

    <p>EBNFでは、<a class="property" href="paths.html#DProperty">d</a> プロパティのパスデータ文字列が空でも許容されます。これはエラーではなく、そのパスの描画を無効化します。
        <a class="property" href="paths.html#DProperty">d</a> プロパティの値が <span class="prop-value">none</span>
        の場合も描画は無効化されます。
    </p>

    <p class="ready-for-wider-review">
        文法に一致しないパスデータが見つかった場合、そのパスデータはエラーです（<a href="paths.html#PathDataErrorHandling">エラー処理</a>参照）。
    </p>

    <div class="ready-for-wider-review">
        <h2 id="PathDirectionality" class="heading">9.4. パスの方向性<a class="self-link" href="#PathDirectionality"></a></h2>

        <p>一部の機能、例えば <a href="painting.html#OrientAttribute">マーカーの向き</a>や<a
                href="painting.html#TermCapShape">線端形状</a>は、パス上のある距離、または各セグメントの開始・終了時のパスの方向によって定義されます。</p>

        <p>指定距離におけるパスの<dfn id="TermPathDirection">方向</dfn>は、次のように定義されます：</p>

        <ul>
            <li>距離が0の場合、パスの方向は<a href="#TermPathSegmentStartDirection">パスの最初のセグメントの開始方向</a>です。</li>

            <li>距離がパス全体の長さの場合、パスの方向は<a href="#TermPathSegmentEndDirection">パスの最後のセグメントの終了方向</a>です。</li>

            <li>距離がパスセグメントの境界の場合、パスの方向は<a
                    href="#TermPathSegmentStartDirection">指定距離のセグメントの開始方向</a>となり、各セグメントは終端排他的とみなします。

                <div class="note">これによりゼロ長セグメントを「飛ばして」、距離が2つの非ゼロ長セグメントの間の境界の場合は後者のセグメントを選びます。</div>
                <div class="note">セグメント境界のデフォルト方向は、<a href="painting.html#TermCapShape">線端形状</a>の計算や<a
                        href="painting.html#RenderingMarkers">マーカー描画</a>時に上書きされます。</div>
            </li>

            <li>それ以外の場合、距離が非ゼロ長<a
                    href="paths.html#TermPathSegment">パスセグメント</a>の途中の場合、その点での曲線の方向となります。もしその点がベジエセグメントのカスプ等不連続点なら方向は未定義です。その場合は不連続点の前後の方向の間の方向を使用します。
            </li>
        </ul>

        <p><dfn id="TermPathSegmentStartDirection">パスセグメントの開始方向</dfn>は次の通り定義されます：</p>

        <ul>
            <li>セグメントが属するパス全体の長さが0なら、セグメント開始方向は正のx軸方向です。</li>

            <li><a href="paths.html#TermPathSegment">パスセグメント</a>がゼロ長で、前に非ゼロ長セグメントがない場合、セグメント開始方向は<a
                    href="#TermPathSegmentEndDirection">セグメント終了方向</a>と同じです。</li>

            <li><a href="paths.html#TermPathSegment">パスセグメント</a>がゼロ長で、前に非ゼロ長セグメントがある場合、セグメント開始方向は直前の非ゼロ長セグメントの<a
                    href="#TermPathSegmentEndDirection">終了方向</a>と同じです。</li>

            <li>それ以外の場合、<a href="paths.html#TermPathSegment">パスセグメント</a>は非ゼロ長で、セグメント開始方向はセグメント始点から出る方向です。</li>
        </ul>

        <p><dfn id="TermPathSegmentEndDirection">パスセグメントの終了方向</dfn>は次の通り定義されます：</p>

        <ul>
            <li>セグメントが属するパス全体の長さが0なら、セグメント終了方向は正のx軸方向です。</li>

            <li><a href="paths.html#TermPathSegment">パスセグメント</a>がゼロ長で、後に非ゼロ長セグメントがない場合、セグメント終了方向は<a
                    href="#TermPathSegmentStartDirection">セグメント開始方向</a>と同じです。</li>

            <li><a href="paths.html#TermPathSegment">パスセグメント</a>がゼロ長で、後に非ゼロ長セグメントがある場合、セグメント終了方向は直後の非ゼロ長セグメントの<a
                    href="#TermPathSegmentStartDirection">開始方向</a>と同じです。</li>

            <li>それ以外の場合、<a href="paths.html#TermPathSegment">パスセグメント</a>は非ゼロ長で、セグメント終了方向はセグメント終点に入る方向です。</li>
        </ul>
    </div>


    <h2 id="PathElementImplementationNotes" class="heading">9.5. 実装ノート<a class="self-link"
            href="#PathElementImplementationNotes"></a></h2>

    <p>現行標準SVGユーザーエージェントは、パスデータを利用する機能を以下の詳細に従って実装しなければなりません：</p>

    <h3 id="ArcOutOfRangeParameters" class="heading">9.5.1. 範囲外楕円弧パラメータ<a class="self-link"
            href="#ArcOutOfRangeParameters"></a></h3>

    <p>すべての楕円弧パラメータ（ブール値フラグ以外）は任意の数値を許容しますが、ユーザーエージェントは曲線描画や幾何計算時に無効値に対し次の修正を行う必要があります：</p>

    <ul>
        <li>
            <p>セグメントの終点 (<strong>x</strong>, <strong>y</strong>) が現在の点（例えば前セグメントの終点）と一致する場合、楕円弧セグメントは完全に省略されたものとみなします。
            </p>
        </li>
        <li>
            <p><strong>rx</strong> または <strong>ry</strong> のいずれかが0の場合、この弧は両端を結ぶ直線セグメント（"lineto"）として扱います。</p>
        </li>
        <li>
            <p><strong>rx</strong> または <strong>ry</strong> が負の場合、符号を外し絶対値を使用します。</p>
        </li>
        <li>
            <p><strong>rx</strong>、<strong>ry</strong>、<strong>x-axis-rotation</strong>
                の値で解が存在しない場合（楕円が現在の点から新しい終点まで届かない場合）、楕円を一様に拡大し、解が1つだけ得られるまで（楕円がちょうど届くまで）拡大します。</p>
            <p class="note">この拡大操作の数式は付録<a href="implnote.html#ArcCorrectionOutOfRangeRadii">範囲外半径の補正</a>参照。</p>
        </li>
    </ul>

    <div class="note">
        <p>この寛容かつ一貫した範囲外値の扱いにより、以下が保証されます：</p>

        <ul>
            <li>コンピュータ演算による近似の違いが、1つのSVG実装で有効だった値を別のSVG実装で無効扱いにすることを防ぎます。特に半円弧などの境界ケースで問題となり得ます。</li>

            <li>パラメータが無効値を通過する連続アニメーションも問題ありません。動きは途切れません。</li>
        </ul>
    </div>

    <h3 id="ReflectedControlPoints" class="heading">9.5.2. 反射制御点<a class="self-link" href="#ReflectedControlPoints"></a>
    </h3>

    <p>
        S/s および T/t コマンドは、与えられた三次ベジエセグメントの最初の制御点を、前のパスセグメントの終端制御点を現在の点基準で反転して算出することを示します。正確な計算式は以下の通りです。
    </p>
    <p>
        現在の点が (<var>curx</var>, <var>cury</var>) で、前の<a href="paths.html#TermPathSegment">パスセグメント</a>の終端制御点が
        (<var>oldx2</var>, <var>oldy2</var>) の場合、反転点（すなわち (<var>newx1</var>, <var>newy1</var>)、現在の<a
            href="paths.html#TermPathSegment">パスセグメント</a>の最初の制御点）は：
    </p>
    <pre>
(newx1, newy1) = (curx - (oldx2 - curx), cury - (oldy2 - cury))
               = (2*curx - oldx2, 2*cury - oldy2)
</pre>

    <h3 id="ZeroLengthSegments" class="heading">9.5.3. ゼロ長パスセグメント<a class="self-link" href="#ZeroLengthSegments"></a>
    </h3>

    <p>ゼロ長のパスセグメントは無効ではありませんが、次の場合に描画へ影響します：</p>

    <ul>
        <li>マーカーが指定されている場合、該当頂点がゼロ長<a
                href="paths.html#TermPathSegment">パスセグメント</a>の終点であっても、また「moveto」が連続しても、全ての頂点にマーカーが描画されます。</li>

        <li><a href="painting.html#StrokeProperties">ストロークプロパティ</a>の説明の通り、
            <a class="property" href="painting.html#StrokeLinecapProperty">stroke-linecap</a>が<span
                class="prop-value">round</span>または<span class="prop-value">square</span>の場合、ゼロ長サブパスでも線端が描画されます。
        </li>
    </ul>

    <h3 id="PathDataErrorHandling" class="heading">9.5.4. パスデータのエラー処理<a class="self-link"
            href="#PathDataErrorHandling"></a></h3>

    パスデータストリーム内で文法に含まれない内容（未認識内容）はエラーとなります。
    この場合、以下のエラー処理規則を適用します：

    <ul>
        <li>パスデータのエラー処理の一般規則は、SVGユーザーエージェントは<span class="element-name">‘<a
                    href="paths.html#PathElement"><span>path</span></a>’</span>要素を、パスデータ仕様中最初にエラーが含まれるパスコマンドの直前まで描画することです。これにより、ユーザーや開発者がパスデータ仕様のどこにエラーがあるか視覚的手がかりを得られます。この規則は無効なSVGパスデータ生成を強く抑制します。
        </li>

        <li>パスデータコマンドのパラメータが正しくない場合、そのパスデータコマンドは、最後に正しく定義された<a
                href="paths.html#TermPathSegment">パスセグメント</a>まで描画されます。そのセグメントが複合パスデータコマンド（座標ペア多数の"lineto"など）のサブコンポーネントであっても同様です。例えばパスデータ文字列<span
                class="attr-value">'M 10,10 L
                20,20,30'</span>は、"L"コマンドに偶数個必要なパラメータが奇数個なので、SVGユーザーエージェントは(10,10)→(20,20)の線を描画し、エラー報告を行います。<span
                class="attr-value">'L 20 20'</span>が最後に正しく定義されたセグメントです。</li>

        <li>可能な限り、すべてのSVGユーザーエージェントはエラーをユーザーに報告するべきです。</li>
    </ul>

    <h2 id="DistanceAlongAPath" class="heading">9.6. パス上の距離<a class="self-link" href="#DistanceAlongAPath"></a></h2>

    <p><a href="text.html#TextLayoutPath">パス上のテキスト</a>や<a
            href="https://svgwg.org/specs/animations/#AnimateMotionElement">モーションアニメーション</a>、
        各種<a href="painting.html#StrokeProperties">ストローク操作</a>などの処理では、ユーザーエージェントが
        <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span>
        などのグラフィック要素の幾何に沿った距離を計算する必要があります。
    </p>

    <p>パス上の距離を計算する正確な数学式は存在しますが、式は非常に複雑で多大な計算が必要です。オーサリングツールやユーザーエージェントはできるだけ精度の高いアルゴリズムを使うことが推奨されますが、実装差への対応や距離計算の結果が著者意図に近づくようにするために、<span
            class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span>
        属性でパス全体の長さを著者が指定でき、ユーザーエージェントは
        <span class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span>
        の値と自身が計算したパス長の比率でパス上の距離計算をスケーリングできます。
    </p>

    <p><span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span>
        要素内の「moveto」操作は0長と定義されます。実際のパス長計算には「lineto」「curveto」「arcto」命令のみが寄与します。</p>

    <h3 id="PathLengthAttribute" class="heading">9.6.1. <span class="attr-name">‘pathLength’</span> 属性<a
            class="self-link" href="#PathLengthAttribute"></a></h3>

    <dl class="attrdef-list">
        <dt>
            <table class="attrdef def">
                <tr>
                    <th>名前</th>
                    <th>値</th>
                    <th>初期値</th>
                    <th>アニメーション可能</th>
                </tr>
                <tr>
                    <td><dfn data-dfn-type="element-attr">pathLength</dfn></td>
                    <td><a href="https://www.w3.org/TR/css3-values/#numbers">&lt;number></a></td>
                    <td>(なし)</td>
                    <td>はい</td>
                </tr>
            </table>
        </dt>
        <dd>
            <p>パス全体の長さをユーザー単位で著者が計算した値です。この値はユーザーエージェントの
                <a href="paths.html#DistanceAlongAPath">パス上の距離</a>計算を著者の値で較正するために使用されます。ユーザーエージェントは
                <span class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span>
                の値と自身が計算したパス長の比率で
                全てのパス上の距離計算をスケーリングします。<span class="attr-name">‘<a
                        href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span> は
                <a href="text.html#TextLayoutPath">パス上のテキスト</a>、
                <a href="https://svgwg.org/specs/animations/#AnimateMotionElement">モーションアニメーション</a>、
                各種<a href="painting.html#StrokeProperties">ストローク操作</a>の計算に影響します。
            </p>
            <p class="ready-for-wider-review">
                0の値も有効で、無限大のスケーリング係数として扱われます。0を無限大でスケーリングしても0のままですが、0より大きい非パーセンテージ値は +Infinity になります。
            </p>
            <p>負の値はエラーです（<a href="paths.html#PathDataErrorHandling">エラー処理</a>参照）。</p>
            <p><span class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span> は
                パーセンテージによる
                <a href="paths.html#DistanceAlongAPath">パス上の距離</a>計算には効果がありません。
            </p>
        </dd>
    </dl>

    <div class="ready-for-wider-review">
        <h2 id="DOMInterfaces" class="heading">9.7. DOMインターフェース<a class="self-link" href="#DOMInterfaces"></a></h2>

        <h3 id="InterfaceSVGPathElement" class="heading">9.7.1. インターフェース SVGPathElement<a class="self-link"
                href="#InterfaceSVGPathElement"></a></h3>

        <p><a class="idlinterface" href="paths.html#InterfaceSVGPathElement">SVGPathElement</a> オブジェクトは、DOM内の
            <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span> を表します。
        </p>

        <pre class="idl">[Exposed=Window]
interface <b>SVGPathElement</b> : <a class="idlinterface" href="types.html#InterfaceSVGGeometryElement">SVGGeometryElement</a> {
};</pre>


    </div>

    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <script src="https://www.w3.org/TR/SVG2/images/style/expanders.js" type="text/javascript"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>