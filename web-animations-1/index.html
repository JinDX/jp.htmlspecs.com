<!doctype html>
<html lang="ja-JP">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>ウェブアニメーション</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version 63e66730b, updated Tue Oct 25 12:35:05 2022 -0700" name="generator">
    <link href="https://www.w3.org/TR/web-animations-1/" rel="canonical">
    <meta content="f94c72bb13e60955556d99fef15fa8aef22c1b34" name="document-revision">
    <style>
        .informative-bg {
            margin: 1.5em 0 1em;
            padding: 1em;
            margin-top: 1em;
            background: #efe;
            border: green 1px dotted;
        }

        @media (prefers-color-scheme: dark) {
            .informative-bg {
                background: rgba(255, 255, 255, .05);
            }
        }

        div.informative-bg *:last-child {
            margin-bottom: 0;
        }

        div.informative-bg p:first-child {
            margin-top: 0;
        }

        div.informative-bg h2,
        div.informative-bg h3,
        div.informative-bg h4 {
            background: none;
        }

        div.switch>dl {
            padding-left: 2em;
        }

        div.switch>dl>dt>p {
            display: inline;
        }

        div.switch>dl>dt:before {
            content: '\21AA';
            padding: 0 0.5em 0 0;
            display: inline-block;
            width: 1em;
            text-align: right;
            line-height: 0.5em;
            margin-left: -1.3em;
        }

        .attributes::before,
        .methods::before,
        .parameters::before,
        .exceptions::before,
        .constructors::before,
        .members::before {
            font: bold 100% sans-serif;
            text-align: left;
            margin: 1.33em 0px;
            color: var(--heading-text, #005A9C);
        }

        .attributes::before {
            content: 'Attributes'
        }

        .methods::before {
            content: 'Methods'
        }

        .parameters::before {
            content: 'Parameters'
        }

        .exceptions::before {
            content: 'Exceptions'
        }

        .constructors::before {
            content: 'Constructors'
        }

        .members::before {
            content: 'Dictionary members'
        }

        .param,
        .exceptionname,
        .estype,
        .esvalue {
            font-weight: bold;
        }

        .formula {
            display: block;
            margin: .5em 2em;
        }
    </style>
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-issues */

        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */

        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">ウェブアニメーション</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C作業草案</a>, <time class="dt-updated"
                datetime="2023-06-05">2023年6月5日</time></p>
        <details open>
            <summary>この文書の詳細</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>このバージョン:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2023/WD-web-animations-1-20230605/">https://www.w3.org/TR/2023/WD-web-animations-1-20230605/</a>
                    <dt>最新公開バージョン:
                    <dd><a href="https://www.w3.org/TR/web-animations-1/">https://www.w3.org/TR/web-animations-1/</a>
                    <dt>編集者草案:
                    <dd><a
                            href="https://drafts.csswg.org/web-animations-1/">https://drafts.csswg.org/web-animations-1/</a>
                    <dt>過去のバージョン:
                    <dd><a href="https://www.w3.org/TR/2021/WD-web-animations-1-20220908/"
                            rel="prev">https://www.w3.org/TR/2021/WD-web-animations-1-20220908/</a>
                    <dd><a href="https://www.w3.org/TR/2021/WD-web-animations-1-20210518/"
                            rel="prev">https://www.w3.org/TR/2021/WD-web-animations-1-20210518/</a>
                    <dd><a href="https://www.w3.org/TR/2018/WD-web-animations-1-20181011/"
                            rel="prev">https://www.w3.org/TR/2018/WD-web-animations-1-20181011/</a>
                    <dd><a href="https://www.w3.org/TR/2016/WD-web-animations-1-20160913/"
                            rel="prev">https://www.w3.org/TR/2016/WD-web-animations-1-20160913/</a>
                    <dd><a href="https://www.w3.org/TR/2015/WD-web-animations-1-20150707/"
                            rel="prev">https://www.w3.org/TR/2015/WD-web-animations-1-20150707/</a>
                    <dd><a href="https://www.w3.org/TR/2014/WD-web-animations-20140605/"
                            rel="prev">https://www.w3.org/TR/2014/WD-web-animations-20140605/</a>
                    <dd><a href="https://www.w3.org/TR/2013/WD-web-animations-20130625/"
                            rel="prev">https://www.w3.org/TR/2013/WD-web-animations-20130625/</a>
                    <dt>履歴:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/web-animations-1">https://www.w3.org/standards/history/web-animations-1</a>
                    <dt>テストスイート:
                    <dd><a
                            href="https://github.com/web-platform-tests/wpt/tree/master/web-animations">https://github.com/web-platform-tests/wpt/tree/master/web-animations</a>
                    <dt>フィードバック:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/web-animations-1">CSSWG課題リポジトリ</a>
                    <dd><a href="#issues-index">仕様内で直接表示</a>
                    <dt class="editor">編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="43194"><a class="p-name fn u-email email"
                            href="mailto:brian@birchill.co.jp">Brian Birtles</a> (<span
                            class="p-org org">招待エキスパート</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="98451"><a class="p-name fn u-email email"
                            href="mailto:flackr@google.com">Robert Flack</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="96463"><a class="p-name fn u-email email"
                            href="mailto:smcgruer@google.com">Stephen McGruer</a> (<span
                            class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="51377"><a class="p-name fn u-email email"
                            href="mailto:graouts@apple.com">Antoine Quint</a> (<span class="p-org org">Apple Inc</span>)
                    <dt class="editor">前任編集者:
                    <dd class="editor p-author h-card vcard" data-editor-id="47691"><a class="p-name fn u-email email"
                            href="mailto:shans@google.com">Shane Stephens</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                            href="mailto:dstockwell@google.com">Douglas Stockwell</a> (<span
                            class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="31960"><a class="p-name fn u-email email"
                            href="mailto:adanilo@google.com">Alex Danilo</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-email email"
                            href="mailto:jackalmage@gmail.com">Tab Atkins</a> (<span class="p-org org">Google</span>)
                    <dt>この仕様への編集提案:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/web-animations-1/Overview.bs">GitHub
                            編集者</a>
                    <dt>参加方法:
                    <dd><a href="https://github.com/w3c/csswg-drafts/tree/main/web-animations-1">GitHubで本文を修正</a>
                    <dd>「waapi」チャンネルに参加：<a href="https://damp-lake-50659.herokuapp.com/">Animation at
                            Work</a> slack
                    <dd>IRC: <a href="ircs://irc.w3.org:6667/webanimations">#webanimations</a> （W3CのIRC）
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 <a
                href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive
                document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">概要</span></h2>
        <p>この仕様は、Webページの表示に対する変更の同期とタイミングのためのモデルを定義します。
            また、この仕様はこのモデルとやり取りするためのアプリケーションプログラミングインターフェースも定義しており、さらに他の仕様がこれらの機能を公開する宣言的な手段を定義することが期待されています。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a>は、構造化文書（HTMLやXMLなど）のレンダリングを画面や紙などで記述するための言語です。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">この文書のステータス</span></h2>
    <div data-fill-with="status">
        <p><em>このセクションは、本書が公開された時点でのステータスを説明します。
                現在のW3C出版物の一覧や、この技術報告書の最新改訂版は
                <a href="https://www.w3.org/TR/">https://www.w3.org/TR/</a> のW3C技術報告書インデックスで確認できます。</em> </p>
        <p>この文書は、<a href="https://www.w3.org/groups/wg/css">CSS作業グループ</a>によって
            <strong>作業草案</strong>として
            <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">勧告トラック</a>を用いて公開されました。
            作業草案としての公開は、<abbr title="World Wide Web Consortium">W3C</abbr>およびそのメンバーによる支持を意味するものではありません。
        </p>
        <p>これは草案文書であり、随時更新、置換、または他の文書により廃止される可能性があります。
            作業中の文書以外として引用することは不適切です。</p>
        <p>フィードバックは
            <a href="https://github.com/w3c/csswg-drafts/issues">GitHubでIssueを提出</a>（推奨）、
            件名に仕様コード「web-animations」を含めてください（例：「[web-animations] <i>…コメント概要…</i>」）。
            すべてのIssueおよびコメントは
            <a href="https://lists.w3.org/Archives/Public/public-css-archive/">アーカイブ</a>されます。
            または、（<a href="https://lists.w3.org/Archives/Public/www-style/">アーカイブ済み</a>）公開メーリングリスト
            <a href="mailto:www-style@w3.org?Subject=%5Bweb-animations%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>
            に送信いただくこともできます。
        </p>
        <p>この文書は、<a href="https://www.w3.org/2021/Process-20211102/"
                id="w3c_process_revision">2021年11月2日W3Cプロセス文書</a>に従って管理されています。</p>
        <p>この文書は、<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C特許ポリシー</a>のもとで活動しているグループによって作成されました。
            W3Cは、グループの成果物に関連する特許開示の<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">公開リスト</a>を管理しています。
            そのページには特許開示の方法も記載されています。
            特許の実際の知識を持つ者は、その特許が<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必須クレーム</a>を含むと信じる場合、<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C特許ポリシー第6節</a>に従い情報を開示する必要があります。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目次</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#introduction"><span class="secno">1</span> <span class="content">はじめに</span></a>
                <ol class="toc">
                    <li><a href="#use-cases"><span class="secno">1.1</span> <span class="content">ユースケース</span></a>
                    <li><a href="#relationship-to-other-specifications"><span class="secno">1.2</span> <span
                                class="content">他の仕様との関係</span></a>
                    <li><a href="#overview-of-this-specification"><span class="secno">1.3</span> <span
                                class="content">本仕様の概要</span></a>
                </ol>
            <li><a href="#spec-conventions"><span class="secno">2</span> <span class="content">仕様の規約</span></a>
            <li><a href="#web-animations-model-overview"><span class="secno">3</span> <span
                        class="content">ウェブアニメーションモデル概要</span></a>
            <li>
                <a href="#timing-model"><span class="secno">4</span> <span class="content">タイミングモデル</span></a>
                <ol class="toc">
                    <li>
                        <a href="#timing-model-overview"><span class="secno">4.1</span> <span
                                class="content">タイミングモデル概要</span></a>
                        <ol class="toc">
                            <li><a href="#stateless"><span class="secno">4.1.1</span> <span
                                        class="content">ステートレス</span></a>
                            <li><a href="#hierarchical"><span class="secno">4.1.2</span> <span
                                        class="content">階層構造</span></a>
                        </ol>
                    <li><a href="#time-value-section"><span class="secno">4.2</span> <span
                                class="content">時間値</span></a>
                    <li>
                        <a href="#timelines"><span class="secno">4.3</span> <span class="content">タイムライン</span></a>
                        <ol class="toc">
                            <li><a href="#document-timelines"><span class="secno">4.3.1</span> <span
                                        class="content">ドキュメントタイムライン</span></a>
                            <li><a href="#the-documents-default-timeline"><span class="secno">4.3.2</span> <span
                                        class="content">デフォルトドキュメントタイムライン</span></a>
                        </ol>
                    <li>
                        <a href="#animations"><span class="secno">4.4</span> <span class="content">アニメーション</span></a>
                        <ol class="toc">
                            <li><a href="#setting-the-timeline"><span class="secno">4.4.1</span> <span
                                        class="content">アニメーションのタイムライン設定</span></a>
                            <li><a href="#setting-the-associated-effect"><span class="secno">4.4.2</span> <span
                                        class="content">アニメーションの関連効果設定</span></a>
                            <li><a href="#the-current-time-of-an-animation"><span class="secno">4.4.3</span> <span
                                        class="content">アニメーションの現在時刻</span></a>
                            <li><a href="#setting-the-current-time-of-an-animation"><span class="secno">4.4.4</span>
                                    <span class="content">アニメーションの現在時刻の設定</span></a>
                            <li><a href="#setting-the-start-time-of-an-animation"><span class="secno">4.4.5</span> <span
                                        class="content">アニメーションの開始時刻の設定</span></a>
                            <li><a href="#waiting-for-the-associated-effect"><span class="secno">4.4.6</span> <span
                                        class="content">関連効果の待機</span></a>
                            <li><a href="#the-current-ready-promise"><span class="secno">4.4.7</span> <span
                                        class="content">現在のreadyプロミス</span></a>
                            <li><a href="#playing-an-animation-section"><span class="secno">4.4.8</span> <span
                                        class="content">アニメーションの再生</span></a>
                            <li><a href="#pausing-an-animation-section"><span class="secno">4.4.9</span> <span
                                        class="content">アニメーションの一時停止</span></a>
                            <li><a href="#reaching-the-end"><span class="secno">4.4.10</span> <span
                                        class="content">終了に到達</span></a>
                            <li><a href="#the-current-finished-promise"><span class="secno">4.4.11</span> <span
                                        class="content">現在のfinishedプロミス</span></a>
                            <li><a href="#updating-the-finished-state"><span class="secno">4.4.12</span> <span
                                        class="content">終了状態の更新</span></a>
                            <li><a href="#finishing-an-animation-section"><span class="secno">4.4.13</span> <span
                                        class="content">アニメーションの完了</span></a>
                            <li><a href="#canceling-an-animation-section"><span class="secno">4.4.14</span> <span
                                        class="content">アニメーションのキャンセル</span></a>
                            <li>
                                <a href="#speed-control"><span class="secno">4.4.15</span> <span
                                        class="content">速度制御</span></a>
                                <ol class="toc">
                                    <li><a href="#setting-the-playback-rate-of-an-animation"><span
                                                class="secno">4.4.15.1</span> <span
                                                class="content">アニメーションの再生速度の設定</span></a>
                                    <li><a href="#seamlessly-updating-the-playback-rate-of-an-animation"><span
                                                class="secno">4.4.15.2</span> <span
                                                class="content">アニメーションの再生速度をシームレスに更新する</span></a>
                                </ol>
                            <li><a href="#reversing-an-animation-section"><span class="secno">4.4.16</span> <span
                                        class="content">アニメーションの逆再生</span></a>
                            <li><a href="#play-states"><span class="secno">4.4.17</span> <span
                                        class="content">再生状態</span></a>
                            <li>
                                <a href="#animation-events-section"><span class="secno">4.4.18</span> <span
                                        class="content">アニメーションイベント</span></a>
                                <ol class="toc">
                                    <li><a href="#sorting-animation-events"><span class="secno">4.4.18.1</span> <span
                                                class="content">アニメーションイベントのソート</span></a>
                                    <li><a href="#animation-playback-events-section"><span class="secno">4.4.18.2</span>
                                            <span class="content">アニメーション再生イベント</span></a>
                                    <li><a href="#animation-playback-event-types"><span class="secno">4.4.18.3</span>
                                            <span class="content">アニメーション再生イベントの種類</span></a>
                                </ol>
                        </ol>
                    <li>
                        <a href="#animation-effects"><span class="secno">4.5</span> <span
                                class="content">アニメーション効果</span></a>
                        <ol class="toc">
                            <li><a href="#animation-effects-and-animations"><span class="secno">4.5.1</span> <span
                                        class="content">アニメーション効果とアニメーションの関係</span></a>
                            <li><a href="#types-of-animation-effects"><span class="secno">4.5.2</span> <span
                                        class="content">アニメーション効果の種類</span></a>
                            <li><a href="#the-active-interval"><span class="secno">4.5.3</span> <span
                                        class="content">アクティブ区間</span></a>
                            <li><a href="#local-time-section"><span class="secno">4.5.4</span> <span
                                        class="content">ローカル時刻</span></a>
                            <li><a href="#animation-effect-phases-and-states"><span class="secno">4.5.5</span> <span
                                        class="content">アニメーション効果のフェーズと状態</span></a>
                            <li><a href="#relevant-animations-section"><span class="secno">4.5.6</span> <span
                                        class="content">関連アニメーション</span></a>
                        </ol>
                    <li>
                        <a href="#fill-behavior"><span class="secno">4.6</span> <span class="content">塗りつぶし挙動</span></a>
                        <ol class="toc">
                            <li><a href="#fill-modes"><span class="secno">4.6.1</span> <span
                                        class="content">塗りつぶしモード</span></a>
                        </ol>
                    <li>
                        <a href="#repeating"><span class="secno">4.7</span> <span class="content">反復</span></a>
                        <ol class="toc">
                            <li><a href="#iteration-intervals"><span class="secno">4.7.1</span> <span
                                        class="content">反復区間</span></a>
                            <li><a href="#controlling-iteration"><span class="secno">4.7.2</span> <span
                                        class="content">反復の制御</span></a>
                            <li><a href="#iteration-time-space"><span class="secno">4.7.3</span> <span
                                        class="content">反復時空間</span></a>
                            <li><a href="#interval-timing"><span class="secno">4.7.4</span> <span
                                        class="content">区間タイミング</span></a>
                        </ol>
                    <li>
                        <a href="#core-animation-effect-calculations"><span class="secno">4.8</span> <span
                                class="content">コアアニメーション効果の計算</span></a>
                        <ol class="toc">
                            <li><a href="#animation-effect-calculations-overview"><span class="secno">4.8.1</span> <span
                                        class="content">概要</span></a>
                            <li><a href="#calculating-the-active-duration"><span class="secno">4.8.2</span> <span
                                        class="content">アクティブ持続時間の計算</span></a>
                            <li>
                                <a href="#transforming-the-local-time"><span class="secno">4.8.3</span> <span
                                        class="content">ローカル時刻の変換</span></a>
                                <ol class="toc">
                                    <li><a href="#calculating-the-active-time"><span class="secno">4.8.3.1</span> <span
                                                class="content">アクティブ時刻の計算</span></a>
                                    <li><a href="#calculating-the-overall-progress"><span class="secno">4.8.3.2</span>
                                            <span class="content">全体進行度の計算</span></a>
                                    <li><a href="#calculating-the-simple-iteration-progress"><span
                                                class="secno">4.8.3.3</span> <span class="content">単純反復進行度の計算</span></a>
                                </ol>
                            <li><a href="#calculating-the-current-iteration"><span class="secno">4.8.4</span> <span
                                        class="content">現在の反復の計算</span></a>
                        </ol>
                    <li>
                        <a href="#direction-control"><span class="secno">4.9</span> <span
                                class="content">方向制御</span></a>
                        <ol class="toc">
                            <li><a href="#calculating-the-directed-progress"><span class="secno">4.9.1</span> <span
                                        class="content">指向性進行度の計算</span></a>
                        </ol>
                    <li>
                        <a href="#time-transformations"><span class="secno">4.10</span> <span
                                class="content">時間変換</span></a>
                        <ol class="toc">
                            <li><a href="#calculating-the-transformed-progress"><span class="secno">4.10.1</span> <span
                                        class="content">変換済み進行度の計算</span></a>
                        </ol>
                    <li><a href="#the-iteration-progress"><span class="secno">4.11</span> <span
                                class="content">反復進行度</span></a>
                </ol>
            <li>
                <a href="#animation-model"><span class="secno">5</span> <span class="content">アニメーションモデル</span></a>
                <ol class="toc">
                    <li><a href="#introduction-to-the-animation-model"><span class="secno">5.1</span> <span
                                class="content">概要</span></a>
                    <li>
                        <a href="#animating-properties"><span class="secno">5.2</span> <span
                                class="content">プロパティのアニメーション</span></a>
                        <ol class="toc">
                            <li><a href="#custom-properties"><span class="secno">5.2.1</span> <span
                                        class="content">カスタムプロパティ</span></a>
                        </ol>
                    <li>
                        <a href="#keyframe-effects"><span class="secno">5.3</span> <span
                                class="content">キーフレーム効果</span></a>
                        <ol class="toc">
                            <li><a href="#keyframes-section"><span class="secno">5.3.1</span> <span
                                        class="content">キーフレーム</span></a>
                            <li><a href="#computing-property-values"><span class="secno">5.3.2</span> <span
                                        class="content">プロパティ値の算出</span></a>
                            <li><a href="#calculating-computed-keyframes"><span class="secno">5.3.3</span> <span
                                        class="content">算出キーフレームの計算</span></a>
                            <li><a href="#the-effect-value-of-a-keyframe-animation-effect"><span
                                        class="secno">5.3.4</span> <span class="content">キーフレーム効果の効果値</span></a>
                        </ol>
                    <li>
                        <a href="#combining-effects"><span class="secno">5.4</span> <span
                                class="content">効果の合成</span></a>
                        <ol class="toc">
                            <li><a href="#animation-classes"><span class="secno">5.4.1</span> <span
                                        class="content">アニメーションクラス</span></a>
                            <li><a href="#the-effect-stack"><span class="secno">5.4.2</span> <span
                                        class="content">効果スタック</span></a>
                            <li><a href="#calculating-the-result-of-an-effect-stack"><span class="secno">5.4.3</span>
                                    <span class="content">効果スタックの結果の計算</span></a>
                            <li><a href="#effect-composition"><span class="secno">5.4.4</span> <span
                                        class="content">効果の合成</span></a>
                            <li><a href="#applying-the-composited-result"><span class="secno">5.4.5</span> <span
                                        class="content">合成結果の適用</span></a>
                        </ol>
                    <li>
                        <a href="#replacing-animations"><span class="secno">5.5</span> <span
                                class="content">アニメーションの置換</span></a>
                        <ol class="toc">
                            <li><a href="#animation-replace-state"><span class="secno">5.5.1</span> <span
                                        class="content">置換状態</span></a>
                            <li><a href="#removing-replaced-animations"><span class="secno">5.5.2</span> <span
                                        class="content">置換されたアニメーションの削除</span></a>
                        </ol>
                    <li><a href="#side-effects-section"><span class="secno">5.6</span> <span
                                class="content">アニメーションの副作用</span></a>
                </ol>
            <li>
                <a href="#programming-interface"><span class="secno">6</span> <span
                        class="content">プログラミングインターフェース</span></a>
                <ol class="toc">
                    <li><a href="#time-values-in-the-programming-interface"><span class="secno">6.1</span> <span
                                class="content">プログラミングインターフェースにおける時間値</span></a>
                    <li><a href="#the-animationtimeline-interface"><span class="secno">6.2</span> <span
                                class="content"><code>AnimationTimeline</code>インターフェース</span></a>
                    <li><a href="#the-documenttimeline-interface"><span class="secno">6.3</span> <span
                                class="content"><code>DocumentTimeline</code>インターフェース</span></a>
                    <li>
                        <a href="#the-animation-interface"><span class="secno">6.4</span> <span
                                class="content"><code>Animation</code>インターフェース</span></a>
                        <ol class="toc">
                            <li><a href="#the-animationplaystate-enumeration"><span class="secno">6.4.1</span> <span
                                        class="content"><code>AnimationPlayState</code>列挙型</span></a>
                            <li><a href="#the-animationreplacestate-enumeration"><span class="secno">6.4.2</span> <span
                                        class="content"><code>AnimationReplaceState</code>列挙型</span></a>
                        </ol>
                    <li>
                        <a href="#the-animationeffect-interface"><span class="secno">6.5</span> <span
                                class="content"><code>AnimationEffect</code>インターフェース</span></a>
                        <ol class="toc">
                            <li><a href="#the-effecttiming-dictionaries"><span class="secno">6.5.1</span> <span
                                        class="content"><code>EffectTiming</code>および
                                        <code>OptionalEffectTiming</code>辞書</span></a>
                            <li><a href="#the-fillmode-enumeration"><span class="secno">6.5.2</span> <span
                                        class="content"><code>FillMode</code>列挙型</span></a>
                            <li><a href="#the-playbackdirection-enumeration"><span class="secno">6.5.3</span> <span
                                        class="content"><code>PlaybackDirection</code>列挙型</span></a>
                            <li><a href="#updating-animationeffect-timing"><span class="secno">6.5.4</span> <span
                                        class="content"><code>AnimationEffect</code>のタイミングの更新</span></a>
                            <li><a href="#the-computedeffecttiming-dictionary"><span class="secno">6.5.5</span> <span
                                        class="content"><code>ComputedEffectTiming</code>辞書</span></a>
                        </ol>
                    <li>
                        <a href="#the-keyframeeffect-interface"><span class="secno">6.6</span> <span
                                class="content"><code>KeyframeEffect</code>インターフェース</span></a>
                        <ol class="toc">
                            <li><a href="#creating-a-new-keyframeeffect-object"><span class="secno">6.6.1</span> <span
                                        class="content">新しい<code>KeyframeEffect</code>オブジェクトの作成</span></a>
                            <li><a href="#property-name-conversion"><span class="secno">6.6.2</span> <span
                                        class="content">プロパティ名とIDL名</span></a>
                            <li><a href="#processing-a-keyframes-argument"><span class="secno">6.6.3</span> <span
                                        class="content"><code>keyframes</code>引数の処理</span></a>
                            <li><a href="#the-keyframeeffectoptions-dictionary"><span class="secno">6.6.4</span> <span
                                        class="content"><code>KeyframeEffectOptions</code>辞書</span></a>
                        </ol>
                    <li><a href="#the-compositeoperation-enumeration"><span class="secno">6.7</span> <span
                                class="content"><code>CompositeOperation</code>および
                                <code>CompositeOperationOrAuto</code>列挙型</span></a>
                    <li><a href="#the-animatable-interface-mixin"><span class="secno">6.8</span> <span
                                class="content"><code>Animatable</code>インターフェースミックスイン</span></a>
                    <li><a href="#extensions-to-the-document-interface"><span class="secno">6.9</span> <span
                                class="content"><code>Document</code>インターフェースへの拡張</span></a>
                    <li><a href="#extensions-to-the-documentorshadowroot-interface-mixin"><span
                                class="secno">6.10</span> <span
                                class="content"><code>DocumentOrShadowRoot</code>インターフェースミックスインへの拡張</span></a>
                    <li><a href="#extensions-to-the-element-interface"><span class="secno">6.11</span> <span
                                class="content"><code>Element</code>インターフェースへの拡張</span></a>
                    <li><a href="#the-animationplaybackevent-interface"><span class="secno">6.12</span> <span
                                class="content"><code>AnimationPlaybackEvent</code>インターフェース</span></a>
                    <li><a href="#model-liveness"><span class="secno">6.13</span> <span
                                class="content">モデルのライブネス</span></a>
                </ol>
            <li><a href="#integration-with-media-fragments"><span class="secno">7</span> <span
                        class="content">メディアフラグメントとの統合</span></a>
            <li><a href="#interaction-with-page-display"><span class="secno">8</span> <span
                        class="content">ページ表示との連携</span></a>
            <li>
                <a href="#implementation-requirements"><span class="secno">9</span> <span
                        class="content">実装要件</span></a>
                <ol class="toc">
                    <li><a href="#precision-of-time-values"><span class="secno">9.1</span> <span
                                class="content">時間値の精度</span></a>
                    <li><a href="#conformance-criteria"><span class="secno">9.2</span> <span
                                class="content">適合性基準</span></a>
                </ol>
            <li><a href="#acknowledgements"><span class="secno">10</span> <span class="content">謝辞</span></a>
            <li><a href="#changes-since-last-publication"><span class="secno">11</span> <span
                        class="content">前回公開以降の変更点</span></a>
            <li>
                <a href="#animation-types"><span class="secno"></span> <span class="content">付録A:
                        既存プロパティのアニメーション型</span></a>
                <ol class="toc">
                    <li><a href="#animating-font-weight"><span class="secno"></span> <span class="content"><span
                                    class="property">font-weight</span>のアニメーション</span></a>
                    <li><a href="#animating-visibility"><span class="secno"></span> <span class="content"><span
                                    class="property">visibility</span>のアニメーション</span></a>
                    <li><a href="#animating-shadow-lists"><span class="secno"></span> <span class="content"><span
                                    class="property">box-shadow</span>および<span
                                    class="property">text-shadow</span>のアニメーション</span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">適合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文書の規約</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span
                                class="content">適合性クラス</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content">部分的な実装</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content">不安定および独自機能の実装</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">非実験的な実装</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本仕様で定義された用語</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参照によって定義される用語</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">規範的参考文献</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考情報文献</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL索引</span></a>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">課題索引</span></a>
        </ol>
    </nav>
    <main>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({showMathMenu: false});
</script>
        <script src="https://www.w3.org/scripts/MathJax/2/MathJax.js?config=MML_SVG"></script>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content">はじめに</span><a class="self-link" href="#introduction"></a></h2>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p>Web Animationsは、Webプラットフォーム上でアニメーションと同期をサポートするためのモデルを定義します。
                他の仕様がこのモデルを基盤として、宣言的な手段でその機能を公開することを想定しています。
                さらに、この仕様はスクリプト対応のユーザーエージェントによって実装可能な、モデルへのプログラミングインターフェースも定義します。</p>
            <h3 class="heading settled" data-level="1.1" id="use-cases"><span class="secno">1.1. </span><span
                    class="content">ユースケース</span><a class="self-link" href="#use-cases"></a></h3>
            <p>Web Animationsモデルは、CSS Transitions <a data-link-type="biblio"
                    href="#biblio-css-transitions-1">[CSS-TRANSITIONS-1]</a>、
                CSS Animations <a data-link-type="biblio" href="#biblio-css-animations-1">[CSS-ANIMATIONS-1]</a>、
                SVG <a data-link-type="biblio" href="#biblio-svg11">[SVG11]</a>を表現するために必要な機能を提供することを目的としています。
                そのため、Web Animationsモデルのユースケースはこれら3つの仕様のユースケースの集合となります。</p>
            <p>プログラミングインターフェースのユースケースには次のようなものがあります:</p>
            <dl>
                <dt data-md>実行中のアニメーションの調査
                <dd data-md>
                    <p>Webアプリケーションでは、特定のアニメーション効果が完了するまで状態更新を待機する必要がある場合がよくあります。
                        この仕様のプログラミングインターフェースを使えば、現在実行中のすべてのアニメーションの完了を待機できます。
                        それらがCSS Transitions、CSS Animations、SVGアニメーション、またはプログラミングインターフェースで直接作成されたものであっても関係ありません。</p>
                    <div class="example" id="example-e8eccc9e">
                        <a class="self-link" href="#example-e8eccc9e"></a>
                        <pre class="lang-javascript highlight"><c- c1>// すべてのアニメーションが終了したら要素を削除する</c->
Promise<c- p>.</c->all<c- p>(</c->
  elem<c- p>.</c->getAnimations<c- p>().</c->map<c- p>(</c->animation <c- p>=></c-> animation<c- p>.</c->finished<c- p>)</c->
<c- p>).</c->then<c- p>(()</c-> <c- p>=></c-> elem<c- p>.</c->remove<c- p>());</c->
</pre>
                    </div>
                    <p>また、アプリケーションによっては、待機せずにアニメーションの再生状態を問い合わせたい場合もあります。</p>
                    <div class="example" id="example-9a95d87d">
                        <a class="self-link" href="#example-9a95d87d"></a>
                        <pre class="lang-javascript highlight"><c- a>const</c-> isAnimating <c- o>=</c-> elem<c- p>.</c->getAnimations<c- p>().</c->some<c- p>(</c->
  animation <c- p>=></c-> animation<c- p>.</c->playState <c- o>===</c-> <c- t>'running'</c->
<c- p>);</c->
</pre>
                    </div>
                <dt data-md>実行中のアニメーションの制御
                <dd data-md>
                    <p>アニメーションを外部入力に応じて制御できると便利な場合があります。
                        例えば、モーダルダイアログ表示前に既存のアニメーションすべてを一時停止し、ユーザーの注意をそらさないようにする必要があるかもしれません。</p>
                    <div class="example" id="example-e7bbf635">
                        <a class="self-link" href="#example-e7bbf635"></a>
                        <pre class="lang-javascript highlight"><c- c1>// ドキュメント内の既存アニメーションをすべて一時停止する</c->
<c- k>for</c-> <c- p>(</c-><c- a>const</c-> animation <c- k>of</c-> document<c- p>.</c->getAnimations<c- p>())</c-> <c- p>{</c->
  animation<c- p>.</c->pause<c- p>()</c->
<c- p>}</c->
</pre>
                    </div>
                <dt data-md>スクリプトによるアニメーションの作成
                <dd data-md>
                    <p>ECMAScriptで<code>requestAnimationFrame</code> <a data-link-type="biblio"
                            href="#biblio-html">[HTML]</a>を使ってアニメーションすることも可能ですが、
                        そのようなアニメーションは宣言的アニメーションとは、CSSカスケードでの表現や別スレッドで実行可能などのパフォーマンス最適化の点で挙動が異なります。
                        Web Animationsプログラミングインターフェースを使えば、宣言的アニメーションと同じ挙動・パフォーマンス特性を持ったスクリプトによるアニメーションを作成できます。
                    </p>
                    <div class="example" id="example-824e8c83">
                        <a class="self-link" href="#example-824e8c83"></a>
                        <pre class="lang-javascript highlight"><c- c1>// 素早くフェードアウト</c->
elem<c- p>.</c->animate<c- p>({</c-> transform<c- o>:</c-> <c- t>'scale(0)'</c-><c- p>,</c-> opacity<c- o>:</c-> <c- mf>0</c-> <c- p>},</c-> <c- mf>300</c-><c- p>);</c->
</pre>
                    </div>
                <dt data-md>アニメーションのデバッグ
                <dd data-md>
                    <p>複雑なアプリケーションでは、要素が現在の状態に至った理由を把握するのが困難な場合があります。
                        Web Animationsプログラミングインターフェースを使えば、
                        実行中のアニメーションを調査して「なぜこの要素のopacityが変化しているのか？」などの疑問に答えることができます。</p>
                    <div class="example" id="example-6c6854a7">
                        <a class="self-link" href="#example-6c6854a7"></a>
                        <pre class="lang-javascript highlight"><c- c1>// elem上のopacityアニメーションのidを出力する</c->
<c- k>for</c-> <c- p>(</c-><c- a>const</c-> animation <c- k>of</c-> elem<c- p>.</c->getAnimations<c- p>())</c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c->
    animation<c- p>.</c->effect <c- ow>instanceof</c-> KeyframeEffect <c- o>&amp;&amp;</c->
    animation<c- p>.</c->effect
      <c- p>.</c->getKeyframes<c- p>()</c->
      <c- p>.</c->some<c- p>(</c->frame <c- p>=></c-> frame<c- p>.</c->hasOwnProperty<c- p>(</c-><c- t>'opacity'</c-><c- p>))</c->
  <c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c->animation<c- p>.</c->id<c- p>);</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
                    </div>
                    <p>同様に、アニメーションを細かく調整するには再生速度を落として再再生することがよくあります。</p>
                    <div class="example" id="example-06eda695">
                        <a class="self-link" href="#example-06eda695"></a>
                        <pre class="lang-javascript highlight"><c- c1>// transformアニメーションを遅くして再生する</c->
<c- a>const</c-> transformAnimations <c- o>=</c-> elem<c- p>.</c->getAnimations<c- p>().</c->filter<c- p>(</c->
  animation <c- p>=></c->
    animation<c- p>.</c->effect <c- ow>instanceof</c-> KeyframeEffect <c- o>&amp;&amp;</c->
    animation<c- p>.</c->effect<c- p>.</c->getKeyframes<c- p>().</c->some<c- p>(</c->
      frame <c- p>=></c-> frame<c- p>.</c->hasOwnProperty<c- p>(</c-><c- t>'transform'</c-><c- p>)</c->
    <c- p>)</c->
<c- p>);</c->

<c- k>for</c-> <c- p>(</c-><c- a>const</c-> animation <c- k>of</c-> transformAnimations<c- p>)</c-> <c- p>{</c->
  animation<c- p>.</c->currentTime <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
  animation<c- p>.</c->updatePlaybackRate<c- p>(</c-><c- mf>0.5</c-><c- p>);</c->
<c- p>}</c->
</pre>
                    </div>
                <dt data-md>アニメーションのテスト
                <dd data-md>
                    <p>アニメーションを利用するアプリケーションをテストする際、アニメーションが完了するまで待つのは現実的でない場合が多いです。
                        そのため、アニメーションを特定の時刻にシークすることが望ましいです。</p>
            </dl>
            <div class="example" id="example-d0c0c637">
                <a class="self-link" href="#example-d0c0c637"></a>
                <pre class="lang-javascript highlight"><c- c1>// アニメーションの半分までシークしてopacityが50%か確認</c->
<c- k>for</c-> <c- p>(</c-><c- a>const</c-> animation <c- k>of</c-> elem<c- p>.</c->getAnimations<c- p>())</c-> <c- p>{</c->
  <c- a>const</c-> <c- p>{</c-> delay<c- p>,</c-> activeDuration <c- p>}</c-> <c- o>=</c-> animation<c- p>.</c->effect<c- p>.</c->getComputedTiming<c- p>();</c->
  animation<c- p>.</c->currentTime <c- o>=</c-> delay <c- o>+</c-> activeDuration <c- o>/</c-> <c- mf>2</c-><c- p>;</c->
<c- p>}</c->
assert<c- p>.</c->strictEqual<c- p>(</c->getComputedStyle<c- p>(</c->elem<c- p>).</c->opacity<c- p>,</c-> <c- t>'0.5'</c-><c- p>);</c->

<c- c1>// アニメーション終了後にロード画面が非表示になることを確認</c->
<c- k>for</c-> <c- p>(</c-><c- a>const</c-> animation <c- k>of</c-> elem<c- p>.</c->getAnimations<c- p>())</c-> <c- p>{</c->
  animation<c- p>.</c->finish<c- p>();</c->
<c- p>}</c->
<c- c1>// イベントハンドラが動作するよう1フレーム待つ</c->
requestAnimationFrame<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
  assert<c- p>.</c->strictEqual<c- p>(</c->
    getComputedStyle<c- p>(</c->document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#loading'</c-><c- p>)).</c->display<c- p>,</c-> <c- t>'none'</c-><c- p>);</c->
<c- p>});</c->
</pre>
            </div>
            <h3 class="heading settled" data-level="1.2" id="relationship-to-other-specifications"><span
                    class="secno">1.2. </span><span class="content">他の仕様との関係</span><a class="self-link"
                    href="#relationship-to-other-specifications"></a></h3>
            <p>CSS Transitions <a data-link-type="biblio" href="#biblio-css-transitions-1">[CSS-TRANSITIONS-1]</a>、CSS
                Animations <a data-link-type="biblio" href="#biblio-css-animations-1">[CSS-ANIMATIONS-1]</a>、
                SVG <a data-link-type="biblio" href="#biblio-svg11">[SVG11]</a>はすべてWebページ上でアニメーションコンテンツを生成する仕組みを提供します。
                これら3つの仕様は多くの類似機能を提供しますが、記述方法は異なっています。
                本仕様では3つの仕様の共通機能を包含する抽象的なアニメーションモデルを提案します。
                このモデルはこれらの仕様の現行挙動と後方互換性があり、観測可能な変化なしにこのモデルで定義可能です。</p>
            <p>SVG 1.1のアニメーション機能はSMIL Animation <a data-link-type="biblio"
                    href="#biblio-smil-animation">[SMIL-ANIMATION]</a>で定義されています。
                SVGのアニメーション機能をWeb Animationsモデルで定義することで、SVGとSMIL Animationの依存を排除できることを目指しています。</p>
            <p><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html.html#animation-frames"
                    id="ref-for-animation-frames">アニメーションフレームコールバック</a>（通称"requestAnimationFrame"）<a
                    data-link-type="biblio" href="#biblio-html">[HTML]</a>のように、
                本仕様のプログラミングインターフェース部分ではスクリプトからアニメーションを生成できます。
                ただし本仕様で定義されたインターフェースで生成されたアニメーションは、生成後はユーザーエージェントによって完全に実行されるため、
                マークアップで定義されたアニメーションと同じパフォーマンス特性を持ちます。
                このインターフェースを用いることで、より簡単かつ高性能にスクリプトからアニメーションを作成できます。</p>
            <p>プログラミングインターフェースで使用される時間値は
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html.html#animation-frames"
                    id="ref-for-animation-frames①">アニメーションフレームコールバック</a> <a data-link-type="biblio"
                    href="#biblio-html">[HTML]</a>で使われるものと対応しており、両インターフェースが同時利用できるよう実行順序も定義されています。
            </p>
            <p>本仕様のプログラミングインターフェース部分はHTML <a data-link-type="biblio"
                    href="#biblio-html">[HTML]</a>で定義されているインターフェースにもいくつか追加を行います。
            </p>
            <h3 class="heading settled" data-level="1.3" id="overview-of-this-specification"><span class="secno">1.3.
                </span><span class="content">本仕様の概要</span><a class="self-link"
                    href="#overview-of-this-specification"></a></h3>
            <p>本仕様はまずアニメーションの抽象モデルを定義します。
                その後、この抽象モデルに基づいて定義されたプログラミングインターフェースについて説明します。
                プログラミングインターフェースは抽象モデルに基づいて定義され、スクリプト対応のユーザーエージェントにのみ関係します。</p>
        </div>
        <h2 class="heading settled" data-level="2" id="spec-conventions"><span class="secno">2. </span><span
                class="content">仕様の規約</span><a class="self-link" href="#spec-conventions"></a></h2>
        <p>この仕様は、<a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation">アニメーション</a>や<a
                data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect">アニメーション効果</a>などの抽象概念、およびそれらに属する<a data-link-type="dfn"
                href="#playback-rate" id="ref-for-playback-rate">再生速度</a>や<a data-link-type="dfn"
                href="#iteration-duration" id="ref-for-iteration-duration">反復期間</a>などのプロパティについて説明することから始まります。
            これらのプロパティに加えて、<a data-link-type="dfn" href="#set-the-playback-rate"
                id="ref-for-set-the-playback-rate">再生速度を設定</a>する手順や<a data-link-type="dfn" href="#set-the-start-time"
                id="ref-for-set-the-start-time">開始時刻を設定</a>する手順など、プロパティを更新するための特定の手続きが存在することがよくあります。</p>
        <p>この仕様で特定の手順へのリンクがない場合、ユーザーエージェントがプロパティを更新するよう求められるテキスト（例：「<var>animation</var>の<a data-link-type="dfn"
                href="#animation-start-time" id="ref-for-animation-start-time">開始時刻</a>を<a data-link-type="dfn"
                href="#unresolved"
                id="ref-for-unresolved">未解決</a>にする」）は、関連する手順を呼び出すこと<em>なく</em>直接プロパティを更新することを指すものと理解してください。</p>
        <p>この仕様に特有でないさらなる文書規約については、<a href="#w3c-conventions">文書の規約</a>で説明されています。</p>
        <h2 class="heading settled" data-level="3" id="web-animations-model-overview"><span class="secno">3.
            </span><span class="content">ウェブアニメーションモデル概要</span><a class="self-link"
                href="#web-animations-model-overview"></a></h2>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p>概観として、Webアニメーションモデルは主に2つの独立した構成要素、<em>タイミングモデル</em>と<em>アニメーションモデル</em>から構成されています。それぞれの役割は下記の通りです：</p>
            <dl>
                <dt data-md>タイミングモデル
                <dd data-md>
                    <p>ある時刻を受け取り、<em>反復進捗</em>と呼ばれるアニメーションの1回の反復内での割合に変換します。
                        また、いくつかのアニメーションが反復するたびに挙動が異なるため、<em>反復インデックス</em>も記録されます。</p>
                <dt data-md>アニメーションモデル
                <dd data-md>
                    <p>タイミングモデルによって生成された<em>反復進捗</em>値や<em>反復インデックス</em>を受け取り、それらをターゲットプロパティに適用する値の系列へと変換します。</p>
            </dl>
            <p>この流れは、図示すると以下のように表せます：</p>
            <figure>
                <img alt="Web Animationsモデルの動作概要。"
                    src="https://www.w3.org/TR/web-animations-1/images/timing-and-animation-models.svg" width="600">
                <figcaption>Web
                    Animationsモデルの動作概要。<br>現在時刻がタイミングモデルに入力され、反復進捗値と反復インデックスが生成されます。<br>これらのパラメータがアニメーションモデルの入力として使われ、適用する値が出力されます。
                </figcaption>
            </figure>
            <p>例として、以下のようなアニメーションを考えます：</p>
            <ul>
                <li data-md>
                    <p>3秒後に開始する</p>
                <li data-md>
                    <p>2回実行される</p>
                <li data-md>
                    <p>毎回2秒かかる</p>
                <li data-md>
                    <p>四角形の幅を50ピクセルから100ピクセルに変化させる</p>
            </ul>
            <p>最初の3つのポイントはタイミングモデルに関係します。
                6秒の時点ではアニメーションが2回目の反復の半分まで進んでいると計算され、0.5という結果を出します。
                アニメーションモデルはその情報を用いて幅を計算します。</p>
            <p>この仕様はタイミングモデルから始まり、続いてアニメーションモデルに進みます。</p>
        </div>
        <h2 class="heading settled" data-level="4" id="timing-model"><span class="secno">4. </span><span
                class="content">タイミングモデル</span><a class="self-link" href="#timing-model"></a></h2>
        <p>このセクションでは、Web Animationsタイミングモデルの挙動を説明・定義します。</p>
        <h3 class="heading settled" data-level="4.1" id="timing-model-overview"><span class="secno">4.1. </span><span
                class="content">タイミングモデル概要</span><a class="self-link" href="#timing-model-overview"></a></h3>
        <div class="informative-bg">
            <p><em>このセクションは規範的ではありません</em></p>
            <p>Web Animationsタイミングモデルには2つの特徴があります。<em>ステートレス</em>であり、<em>階層構造</em>を持ちます。</p>
            <h4 class="heading settled" data-level="4.1.1" id="stateless"><span class="secno">4.1.1. </span><span
                    class="content">ステートレス</span><a class="self-link" href="#stateless"></a></h4>
            <p>Web Animationsタイミングモデルは、入力時刻を受け取り、出力として反復進捗を生成します。
                出力は入力時刻のみに基づき、過去の入力に依存しないため、このモデルはステートレスと記述できます。
                この性質により、モデルには以下の特性があります：</p>
            <dl>
                <dt data-md>フレームレート非依存
                <dd data-md>
                    <p>出力は過去の入力に依存しないため、モデルの更新頻度が進捗に影響することはありません。
                        入力時刻が実時間の進捗に比例していれば、デバイスの性能に関係なくアニメーションは同じ速度で進行します。</p>
                <dt data-md>方向非依存
                <dd data-md>
                    <p>入力の順序が重要でないため、モデルは方向性を持ちません。
                        そのため、モデルを任意の時刻に更新する際に特別な処理は不要です。</p>
                <dt data-md>定数時間でのシーク
                <dd data-md>
                    <p>各入力が過去の入力と独立しているため、将来の任意の時刻へのシーク操作に必要な処理は、少なくとも理論上は定数時間です。</p>
            </dl>
            <p>タイミングモデルのステートレスな挙動にはいくつか例外があります。</p>
            <p>まず、モデルの<a href="#programming-interface">プログラミングインターフェース</a>で定義されたメソッドのいくつかは、
                アニメーションの一時停止などの再生制御を提供します。
                これらのメソッドは呼び出された時刻に基づいて定義されるため、状態的（stative）です。
                これらのメソッドは主に利便性のために提供されており、コアのタイミングモデルには含まれず、上位レイヤーで実装されています。</p>
            <p>同様に、アニメーションの<a href="#reaching-the-end">終了時の挙動</a>では、
                メディア（<a data-link-type="dfn" href="#animation-associated-effect"
                    id="ref-for-animation-associated-effect">関連効果</a>）の終了時刻に動的な変更が加えられると、変更のタイミングによって異なる結果になることがあります。
                この挙動は直感的かつHTMLと整合的であると判断されており、惜しいながらも採用されています。
                そのため、モデルは<em>タイミングプロパティに動的変更がない限り</em>ステートレスとみなせます。</p>
            <p>最後に、モデルが更新されるたび、一時的な状態が確立されると考えられます。
                この一時状態は<a
                    href="#programming-interface">プログラミングインターフェース</a>から返される値に影響しますが、次回の更新には影響せず、上述のステートレスな性質と矛盾しません。</p>
            <h4 class="heading settled" data-level="4.1.2" id="hierarchical"><span class="secno">4.1.2. </span><span
                    class="content">階層構造</span><a class="self-link" href="#hierarchical"></a></h4>
            <p>タイミングモデルのもう一つの特徴は、時間が継承されることです。
                時間はタイムラインから始まり、複数のステップを経て各アニメーション効果へとカスケードします。
                各ステップで、時間は前後にシフトしたり、スケールしたり、反転したり、一時停止したり、繰り返されたりします。</p>
            <figure>
                <img alt="タイミングノードの階層構造" src="https://www.w3.org/TR/web-animations-1/images/time-hierarchy.svg"
                    width="350">
                <figcaption>タイミングノードの階層構造。<br>ツリー内の各ノードは親ノードから時間を取得します。</figcaption>
            </figure>
            <p>この仕様レベルでは階層は浅いですが、今後の仕様レベルでグループ効果の概念が導入され、より深いタイミング階層が可能になります。</p>
        </div>
        <h3 class="heading settled" data-level="4.2" id="time-value-section"><span class="secno">4.2. </span><span
                class="content">時間値</span><a class="self-link" href="#time-value-section"></a></h3>
        <p>タイミングはタイミングノード間の階層的な時間関係に基づいています。
            親ノードは<a data-link-type="dfn" href="#time-value" id="ref-for-time-value">時間値</a>という形で子ノードにタイミング情報を提供します。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="time-value">時間値</dfn>は、ある瞬間からのミリ秒数を表す実数です。
            <a data-link-type="dfn" href="#time-value" id="ref-for-time-value①">時間値</a>と実際の壁時計のミリ秒との関連は、
            時間階層を通過する際に適用される様々な変換によって不明瞭になることがあります。
        </p>
        <p class="note" role="note">将来的には、スクロール位置やUIジェスチャーに基づくタイムラインもあり得ます。その場合、時間値とミリ秒との関係はさらに弱まります。</p>
        <p><a data-link-type="dfn" href="#time-value" id="ref-for-time-value②">時間値</a>は、例えばタイミングノードが<span
                id="ref-for-time-value③">時間値</span>を生成できない状態の場合など、<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="unresolved">未解決</dfn>にもなり得ます。</p>
        <h3 class="heading settled" data-level="4.3" id="timelines"><span class="secno">4.3. </span><span
                class="content">タイムライン</span><a class="self-link" href="#timelines"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="timeline">タイムライン</dfn>は、同期のための<a
                data-link-type="dfn" href="#time-value" id="ref-for-time-value④">時間値</a>の発生源を提供します。
        </p>
        <p>任意の時点で、<a data-link-type="dfn" href="#timeline" id="ref-for-timeline">タイムライン</a>は、単一の現在の<a
                data-link-type="dfn" href="#time-value" id="ref-for-time-value⑤">時間値</a>を持ち、単純にタイムラインの<dfn
                class="dfn-paneled" data-dfn-for="timeline" data-dfn-type="dfn" data-export
                id="timeline-current-time">現在時刻</dfn>と呼ばれます。</p>
        <p><a data-link-type="dfn" href="#timeline" id="ref-for-timeline①">タイムライン</a>は、常に意味のある<a data-link-type="dfn"
                href="#time-value" id="ref-for-time-value⑥">時間値</a>を返すとは限らず、<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved①">未解決</a>な時間値しか返せない場合があります。
            例えば、ドキュメントのloadイベント発火など、まだ発生していない瞬間を基準として定義されている場合です。
            <span id="ref-for-timeline②">タイムライン</span>は、その<span id="ref-for-time-value⑦">時間値</span>が<span
                id="ref-for-unresolved②">未解決</span>である時、<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="inactive timeline" id="inactive-timeline">非アクティブタイムライン</dfn>とみなされます。
        </p>
        <p><a data-link-type="dfn" href="#timeline" id="ref-for-timeline③">タイムライン</a>は、報告された<a data-link-type="dfn"
                href="#timeline-current-time" id="ref-for-timeline-current-time">現在時刻</a>が前回の報告時点より常に大きいか等しい場合、<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="monotonically increasing"
                data-lt="monotonically increasing timeline" id="monotonically-increasing-timeline">単調増加タイムライン</dfn>です。
        </p>
        <p>特定の種類の<a data-link-type="dfn" href="#timeline" id="ref-for-timeline④">タイムライン</a>は、<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-lt="timeline time to origin-relative time"
                id="timeline-time-to-origin-relative-time">タイムライン時刻をオリジン基準時刻に変換する</dfn>手順を定義でき、<a data-link-type="dfn"
                href="#time-value" id="ref-for-time-value⑧">時間値</a><var>time</var>に対して、壁時計ベースのタイムラインで生成された<span
                id="ref-for-time-value⑨">時間値</span>同士を比較できるようにします。</p>
        <p><a data-link-type="dfn" href="#timeline" id="ref-for-timeline⑤">タイムライン</a>は<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-lt="timeline associated with a document" data-noexport
                id="timeline-associated-with-a-document">ドキュメントに関連付けられたタイムライン</dfn>となる場合があります。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="update-animations-and-send-events">アニメーションの更新とイベント送信</dfn>を<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document">Document</a></code><var>doc</var>でタイムスタンプ<var>now</var>に対して実行する場合、以下の手順を踏みます：
        </p>
        <ol>
            <li data-md>
                <p><var>doc</var>に関連付けられた全ての<a data-link-type="dfn" href="#timeline-current-time"
                        id="ref-for-timeline-current-time②">現在時刻</a>を持つタイムラインの現在時刻を、タイムスタンプとして<var>now</var>を渡して更新します。
                </p>
                <div class="note" role="note">
                    <p>タイミングモデルの階層性により、<a data-link-type="dfn" href="#timeline-current-time"
                            id="ref-for-timeline-current-time③">タイムラインの現在時刻</a>を更新する際には、以下も含みます：</p>
                    <ul>
                        <li data-md>
                            <p>該当タイムラインに<a data-link-type="dfn" href="#associated-with-a-timeline"
                                    id="ref-for-associated-with-a-timeline">関連付けられた</a><a data-link-type="dfn"
                                    href="#concept-animation" id="ref-for-concept-animation①">アニメーション</a>の<a
                                    data-link-type="dfn" href="#animation-current-time"
                                    id="ref-for-animation-current-time">現在時刻</a>の更新。</p>
                        <li data-md>
                            <p>現在時刻が更新されたアニメーションに対して<a data-link-type="dfn" href="#update-an-animations-finished-state"
                                    id="ref-for-update-an-animations-finished-state">アニメーションの完了状態の更新</a>手順を実行。</p>
                        <li data-md>
                            <p>そのようなアニメーションの<a data-link-type="dfn" href="#animation-events"
                                    id="ref-for-animation-events">アニメーションイベント</a>のキューイング。</p>
                    </ul>
                </div>
            <li data-md>
                <p><a data-link-type="dfn" href="#remove-replaced-animations"
                        id="ref-for-remove-replaced-animations">置換されたアニメーションの削除</a>を<var>doc</var>に対して行います。</p>
            <li data-md>
                <p><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint"
                        id="ref-for-perform-a-microtask-checkpoint">マイクロタスクチェックポイントの実行</a>。</p>
                <p class="note" role="note"><span>注:</span>
                    これは、前のステップでタイムラインの更新の一環としてPromiseオブジェクトの解決や拒否によってキューされたマイクロタスクが、アニメーションイベントのディスパッチより先にコールバックされることを保証するためです。
                </p>
            <li data-md>
                <p><var>events to dispatch</var>を<var>doc</var>の<a data-link-type="dfn"
                        href="#pending-animation-event-queue"
                        id="ref-for-pending-animation-event-queue">保留中アニメーションイベントキュー</a>のコピーとする。</p>
            <li data-md>
                <p><var>doc</var>の<a data-link-type="dfn" href="#pending-animation-event-queue"
                        id="ref-for-pending-animation-event-queue①">保留中アニメーションイベントキュー</a>をクリアする。</p>
            <li data-md>
                <p><var>events to dispatch</var>内の<a data-link-type="dfn" href="#animation-events"
                        id="ref-for-animation-events①">アニメーションイベント</a>を以下の方法で安定ソートする：</p>
                <ol>
                    <li data-md>
                        <p>イベントを<a data-link-type="dfn" href="#scheduled-event-time"
                                id="ref-for-scheduled-event-time">予定イベント時刻</a>でソートし、予定時刻が早いものほど前に、未解決の予定イベント時刻のイベントは解決済みより前に並べる。
                        </p>
                    <li data-md>
                        <p>同じ<a data-link-type="dfn" href="#scheduled-event-time"
                                id="ref-for-scheduled-event-time①">予定イベント時刻</a>のイベント同士は、<a data-link-type="dfn"
                                href="#animation-composite-order" id="ref-for-animation-composite-order">合成順序</a>でソートする。
                        </p>
                </ol>
                <p class="note" role="note"><span>注:</span>
                    イベントの順序を安定してソートする目的は、異なるデバイスの性能やフレームレートにかかわらず、できる限りイベントを一貫した順序でディスパッチするためです。</p>
                <p class="note" role="note"><span>注:</span>
                    安定ソートが必要なのは、同時刻でキューされるイベントが時々あるためです。たとえばCSSアニメーションでdurationが0の場合、<code>animationstart</code>と<code>animationend</code>両方のイベントが同時にディスパッチされ、その順序を保持する必要があります。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                        id="ref-for-concept-event-dispatch">ディスパッチ</a>手順に従い、<var>events to
                        dispatch</var>内の各イベントを対応するターゲットに、前ステップで定めた順序で送信する。</p>
        </ol>
        <p>この手順を実行するたび、新たな<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="animation-frame">アニメーションフレーム</dfn>が確立されると表現すると便利な場合があります。
            <a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation②">アニメーション</a>や<a
                data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect①">アニメーション効果</a>のタイミングプロパティの変更やオブジェクトの追加・削除は、タイミングモデルやアニメーションモデルの出力を変化させることがありますが、これら操作自体は新しい<a
                data-link-type="dfn" href="#animation-frame"
                id="ref-for-animation-frame">アニメーションフレーム</a>を作成するのではなく、単に現在の<span
                id="ref-for-animation-frame①">アニメーションフレーム</span>を更新するだけです。
        </p>
        <h4 class="heading settled" data-level="4.3.1" id="document-timelines"><span class="secno">4.3.1. </span><span
                class="content">ドキュメントタイムライン</span><a class="self-link" href="#document-timelines"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="document-timeline">ドキュメントタイムライン</dfn>は、<a
                data-link-type="dfn" href="#timeline" id="ref-for-timeline⑦">タイムライン</a>の一種であり、<a data-link-type="dfn"
                href="#timeline-associated-with-a-document"
                id="ref-for-timeline-associated-with-a-document①">ドキュメントに関連付けられ</a>、<a data-link-type="dfn"
                href="#timeline-current-time" id="ref-for-timeline-current-time④">現在時刻</a>が、<a data-link-type="dfn"
                href="#update-animations-and-send-events"
                id="ref-for-update-animations-and-send-events">アニメーションの更新とイベント送信</a>手順が毎回実行される際に与えられる<var>now</var>タイムスタンプからの固定オフセットとして計算されます。
            この固定オフセットはドキュメントタイムラインの<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="origin-time">起点時刻</dfn>と呼ばれます。
        </p>
        <p class="issue" id="issue-9fa706cb"><a class="self-link" href="#issue-9fa706cb"></a> "origin
            time"より良い用語が必要です—"time origin"と似すぎています。<a href="https://github.com/w3c/csswg-drafts/issues/2079">[Issue
                #2079]</a></p>
        <p>関連付けられたドキュメントの<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-concept-settings-object-time-origin">タイムオリジン</a>が確立される前は、<a data-link-type="dfn"
                href="#document-timeline" id="ref-for-document-timeline">ドキュメントタイムライン</a>は<a data-link-type="dfn"
                href="#inactive-timeline" id="ref-for-inactive-timeline">非アクティブ</a>です。</p>
        <p><a data-link-type="dfn" href="#document-timeline" id="ref-for-document-timeline①">ドキュメントタイムライン</a>が<a
                data-link-type="dfn" href="#inactive-timeline" id="ref-for-inactive-timeline①">アクティブ</a>になると、<a
                data-link-type="dfn" href="#monotonically-increasing-timeline"
                id="ref-for-monotonically-increasing-timeline">単調増加</a>となります。</p>
        <p><a data-link-type="dfn" href="#document-timeline" id="ref-for-document-timeline②">ドキュメントタイムライン</a>が、<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>で、<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#active-document"
                id="ref-for-active-document">アクティブなドキュメント</a>でない場合も、<a data-link-type="dfn" href="#inactive-timeline"
                id="ref-for-inactive-timeline②">非アクティブ</a>とみなされます。</p>
        <p><a data-link-type="dfn" href="#timeline-time-to-origin-relative-time"
                id="ref-for-timeline-time-to-origin-relative-time">タイムライン時刻<var>timeline
                    time</var>をオリジン基準時刻に変換する</a>には、ドキュメントタイムライン<var>timeline</var>に対して、<var>timeline
                time</var>と<var>timeline</var>の<a data-link-type="dfn" href="#origin-time"
                id="ref-for-origin-time">起点時刻</a>の合計を返す。<var>timeline</var>が非アクティブの場合は、<a data-link-type="dfn"
                href="#unresolved" id="ref-for-unresolved⑤">未解決</a>の<a data-link-type="dfn" href="#time-value"
                id="ref-for-time-value①⓪">時間値</a>を返す。</p>
        <h4 class="heading settled" data-level="4.3.2" id="the-documents-default-timeline"><span class="secno">4.3.2.
            </span><span class="content">デフォルトドキュメントタイムライン</span><a class="self-link"
                href="#the-documents-default-timeline"></a></h4>
        <p>各<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code>は、<a
                data-link-type="dfn" href="#document-timeline"
                id="ref-for-document-timeline③">ドキュメントタイムライン</a>を持ち、これを<dfn class="dfn-paneled" data-dfn-for="document"
                data-dfn-type="dfn" data-export id="document-default-document-timeline">デフォルトドキュメントタイムライン</dfn>と呼びます。
            <a data-link-type="dfn" href="#document-default-document-timeline"
                id="ref-for-document-default-document-timeline">デフォルトドキュメントタイムライン</a>は各ドキュメントごとに固有であり、<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-document-open"
                id="ref-for-dom-document-open">document.open()</a> <a data-link-type="biblio"
                href="#biblio-html">[HTML]</a>の呼び出しを含め、ドキュメントの存続期間中持続します。
        </p>
        <p><a data-link-type="dfn" href="#document-default-document-timeline"
                id="ref-for-document-default-document-timeline①">デフォルトドキュメントタイムライン</a>の<a data-link-type="dfn"
                href="#origin-time" id="ref-for-origin-time①">起点時刻</a>はゼロです。</p>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p><a data-link-type="dfn" href="#document-timeline"
                    id="ref-for-document-timeline④">ドキュメントタイムライン</a>に渡される<var>now</var>タイムスタンプ値にはスケーリングが適用されないため、生成される<a
                    data-link-type="dfn" href="#time-value" id="ref-for-time-value①①">時間値</a>は壁時計のミリ秒に比例します。</p>
            <p>さらに、<a data-link-type="dfn" href="#document-default-document-timeline"
                    id="ref-for-document-default-document-timeline②">デフォルトドキュメントタイムライン</a>の<a data-link-type="dfn"
                    href="#time-value" id="ref-for-time-value①②">時間値</a>は<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-concept-settings-object-time-origin①">タイムオリジン</a>からのオフセットがゼロなので、
                <code>document.timeline.currentTime</code>は<a
                    href="https://www.w3.org/TR/hr-time/#dom-performance-now"><code>Performance.now()</code></a> <a
                    data-link-type="biblio"
                    href="#biblio-hr-time">[HR-TIME]</a>にほぼ対応します。ただし<code>document.timeline.currentTime</code>は、<a
                    data-link-type="dfn" href="#update-animations-and-send-events"
                    id="ref-for-update-animations-and-send-events①">アニメーションの更新とイベント送信</a>手順の呼び出し間は変化しません。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.4" id="animations"><span class="secno">4.4. </span><span
                class="content">アニメーション</span><a class="self-link" href="#animations"></a></h3>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p><a data-link-type="dfn" href="#timeline" id="ref-for-timeline⑧">タイムライン</a>の子は<em>アニメーション</em>と呼ばれます。
                アニメーションは、ある<a data-link-type="dfn" href="#animation-effect"
                    id="ref-for-animation-effect②">アニメーション効果</a>（一定時間の挙動の静的な記述）を取り、それを<span
                    id="ref-for-timeline⑨">タイムライン</span>に結びつけて実行します。
                アニメーションは、<span id="ref-for-animation-effect③">アニメーション効果</span>と<span
                    id="ref-for-timeline①⓪">タイムライン</span>との接続を、再生・一時停止・シーク・速度制御などで実行時に制御できます。
                アニメーションと<span id="ref-for-animation-effect④">アニメーション効果</span>の関係は、DVDプレイヤーとDVDの関係に類似しています。
            </p>
        </div>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="concept-animation">アニメーション</dfn>は、単一の<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤">アニメーション効果</a>（<dfn
                class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-associated-effect">関連効果</dfn>と呼ばれる）を<a data-link-type="dfn" href="#timeline"
                id="ref-for-timeline①①">タイムライン</a>に結びつけ、再生制御を提供します。
            これらの関連付けは両方とも任意かつ設定可能であり、
            <a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation③">アニメーション</a>は、ある時点で<a
                data-link-type="dfn" href="#animation-associated-effect"
                id="ref-for-animation-associated-effect①">関連効果</a>も<span
                id="ref-for-timeline①②">タイムライン</span>も持たない場合があります。
        </p>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation④">アニメーション</a>の<dfn
                class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-document-for-timing">タイミング用ドキュメント</dfn>は、その<a data-link-type="dfn" href="#timeline"
                id="ref-for-timeline①③">タイムライン</a>が<a data-link-type="dfn" href="#timeline-associated-with-a-document"
                id="ref-for-timeline-associated-with-a-document②">関連付けられている</a><code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document③">Document</a></code>です。
            アニメーションがタイムラインに関連付けられていない場合や、そのタイムラインがドキュメントに関連付けられていない場合、<a data-link-type="dfn"
                href="#animation-document-for-timing" id="ref-for-animation-document-for-timing">タイミング用ドキュメント</a>はありません。
        </p>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤">アニメーション</a>の<dfn
                class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-start-time">開始時刻</dfn>は、<a data-link-type="dfn" href="#animation-associated-effect"
                id="ref-for-animation-associated-effect②">関連効果</a>の再生開始が予定される時点の<a data-link-type="dfn" href="#timeline"
                id="ref-for-timeline①④">タイムライン</a>の<a data-link-type="dfn" href="#time-value"
                id="ref-for-time-value①③">時間値</a>です。
            開始時刻は初期状態では<a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑥">未解決</a>です。</p>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑥">アニメーション</a>は、<dfn
                class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-hold-time">ホールド時刻</dfn>（<a data-link-type="dfn" href="#time-value"
                id="ref-for-time-value①④">時間値</a>）も保持しており、一時停止などの状況でアニメーションの出力<span
                id="ref-for-time-value①⑤">時間値</span>（<a data-link-type="dfn" href="#animation-current-time"
                id="ref-for-animation-current-time②">現在時刻</a>）を固定するために用いられます。
            <a data-link-type="dfn" href="#animation-hold-time" id="ref-for-animation-hold-time">ホールド時刻</a>も初期状態では<a
                data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑦">未解決</a>です。
        </p>
        <p>競合する<a data-link-type="dfn" href="#concept-animation"
                id="ref-for-concept-animation⑦">アニメーション</a>の相対順序を確立するため、アニメーションは作成された順に<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="global-animation-list">グローバルアニメーションリスト</dfn>へ追加されます。ただし、特定の<a
                data-link-type="dfn" href="#animation-class"
                id="ref-for-animation-class">アニメーションクラス</a>は、アニメーションの順序付けに別の方法を提供することがあります（<a
                href="#animation-classes">§ 5.4.1 アニメーションクラス</a>参照）。</p>
        <h4 class="heading settled" data-level="4.4.1" id="setting-the-timeline"><span class="secno">4.4.1. </span><span
                class="content">アニメーションのタイムライン設定</span><a class="self-link" href="#setting-the-timeline"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-set-the-timeline-of-an-animation">アニメーションのタイムラインを設定する</dfn>手順（<var>animation</var>を<var>new
                timeline</var>に設定、nullも可）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>old timeline</var>を<var>animation</var>の現在の<a data-link-type="dfn" href="#timeline"
                        id="ref-for-timeline①⑤">タイムライン</a>（あれば）とする。</p>
            <li data-md>
                <p><var>new timeline</var>が<var>old timeline</var>と同じオブジェクトなら、この手順を中止する。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#timeline"
                        id="ref-for-timeline①⑥">タイムライン</a>を<var>new timeline</var>に設定する。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time①">開始時刻</a>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑧">解決済み</a>なら、<var>animation</var>の<a data-link-type="dfn"
                        href="#animation-hold-time" id="ref-for-animation-hold-time①">ホールド時刻</a>を<span
                        id="ref-for-unresolved⑨">未解決</span>にする。</p>
                <p class="note" role="note"><span>注:</span> このステップは、<var>animation</var>の<a data-link-type="dfn"
                        href="#play-state-finished" id="ref-for-play-state-finished">完了再生状態</a>が「固着」せず、更新された<a
                        data-link-type="dfn" href="#animation-current-time"
                        id="ref-for-animation-current-time③">現在時刻</a>に基づいて再評価されることを保証します。</p>
            <li data-md>
                <p><var>animation</var>に対して、<var>did seek</var>フラグをfalse、<var>synchronously notify</var>フラグをfalseに設定し、<a
                        data-link-type="dfn" href="#update-an-animations-finished-state"
                        id="ref-for-update-an-animations-finished-state①">アニメーションの完了状態の更新</a>手順を実行する。</p>
        </ol>
        <h4 class="heading settled" data-level="4.4.2" id="setting-the-associated-effect"><span class="secno">4.4.2.
            </span><span class="content">アニメーションの関連効果設定</span><span id="setting-the-target-effect"></span><a
                class="self-link" href="#setting-the-associated-effect"></a>
        </h4>
        <p><dfn class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-set-the-associated-effect-of-an-animation">アニメーションの関連効果を設定する</dfn>手順（<var>animation</var>を<var>new
                effect</var>に設定、nullも可）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>old effect</var>を<var>animation</var>の現在の<a data-link-type="dfn"
                        href="#animation-associated-effect" id="ref-for-animation-associated-effect③">関連効果</a>（あれば）とする。
                </p>
            <li data-md>
                <p><var>new effect</var>が<var>old effect</var>と同じオブジェクトなら、この手順を中止する。</p>
            <li data-md>
                <p><var>animation</var>に<a data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task">保留中一時停止タスク</a>があれば、<var>animation</var>が<a data-link-type="dfn"
                        href="#ready" id="ref-for-ready">ready</a>になるとすぐにそのタスクを再スケジュールする。</p>
            <li data-md>
                <p><var>animation</var>に<a data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task">保留中再生タスク</a>があれば、<var>animation</var>が<a data-link-type="dfn"
                        href="#ready" id="ref-for-ready①">ready</a>になり<var>new effect</var>を再生できるときにそのタスクを再スケジュールする。</p>
            <li data-md>
                <p><var>new effect</var>が<code>null</code>でなく、かつ<var>new effect</var>が他の<a data-link-type="dfn"
                        href="#concept-animation" id="ref-for-concept-animation⑧">アニメーション</a>（<var>previous
                        animation</var>）の<a data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect④">関連効果</a>である場合、<var>previous
                        animation</var>に対しこの手順をnullを<var>new effect</var>として再実行する。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect⑤">関連効果</a>を<var>new effect</var>にする。</p>
            <li data-md>
                <p><var>animation</var>に対して、<var>did seek</var>フラグをfalse、<var>synchronously notify</var>フラグをfalseに設定し、<a
                        data-link-type="dfn" href="#update-an-animations-finished-state"
                        id="ref-for-update-an-animations-finished-state②">アニメーションの完了状態の更新</a>手順を実行する。</p>
        </ol>
        <h4 class="heading settled" data-level="4.4.3" id="the-current-time-of-an-animation"><span class="secno">4.4.3.
            </span><span class="content">アニメーションの現在時刻</span><a class="self-link"
                href="#the-current-time-of-an-animation"></a></h4>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑨">アニメーション</a>は、<a
                data-link-type="dfn" href="#animation-associated-effect"
                id="ref-for-animation-associated-effect⑥">関連効果</a>に対して<a data-link-type="dfn" href="#time-value"
                id="ref-for-time-value①⑥">時間値</a>を提供し、それをアニメーションの<dfn class="dfn-paneled" data-dfn-for="animation"
                data-dfn-type="dfn" data-export id="animation-current-time">現在時刻</dfn>と呼びます。</p>
        <p><a data-link-type="dfn" href="#animation-current-time"
                id="ref-for-animation-current-time④">現在時刻</a>は以下から最初に一致する条件で計算されます：</p>
        <div class="switch">
            <dl>
                <dt data-md>アニメーションの<a data-link-type="dfn" href="#animation-hold-time"
                        id="ref-for-animation-hold-time②">ホールド時刻</a>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved①⓪">解決済み</a>の場合
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time⑤">現在時刻</a>はアニメーションの<a data-link-type="dfn"
                            href="#animation-hold-time" id="ref-for-animation-hold-time③">ホールド時刻</a>です。</p>
                <dt data-md>
                    <p>以下のいずれかが真の場合：</p>
                    <ol>
                        <li data-md>
                            <p>アニメーションに関連付けられた<a data-link-type="dfn" href="#timeline"
                                    id="ref-for-timeline①⑦">タイムライン</a>がない、または</p>
                        <li data-md>
                            <p>関連付けられた<a data-link-type="dfn" href="#timeline" id="ref-for-timeline①⑧">タイムライン</a>が<a
                                    data-link-type="dfn" href="#inactive-timeline"
                                    id="ref-for-inactive-timeline③">非アクティブ</a>、または</p>
                        <li data-md>
                            <p>アニメーションの<a data-link-type="dfn" href="#animation-start-time"
                                    id="ref-for-animation-start-time②">開始時刻</a>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved①①">未解決</a></p>
                    </ol>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time⑥">現在時刻</a>は<a data-link-type="dfn" href="#unresolved"
                            id="ref-for-unresolved①②">未解決</a>な時間値です。</p>
                <dt data-md>それ以外の場合
                <dd data-md>
                    <blockquote> <code><a data-link-type="dfn" href="#animation-current-time" id="ref-for-animation-current-time⑦">現在時刻</a> =
    (<var>timeline time</var> - <a data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time③">開始時刻</a>)
    × <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate①">再生速度</a></code> </blockquote>
                    <p><var>timeline time</var>は、関連する<a data-link-type="dfn" href="#timeline"
                            id="ref-for-timeline①⑨">タイムライン</a>の現在の<a data-link-type="dfn" href="#time-value"
                            id="ref-for-time-value①⑦">時間値</a>です。
                        <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate②">再生速度</a>の値は<a
                            href="#speed-control">§ 4.4.15 速度制御</a>で定義されています。
                    </p>
            </dl>
        </div>
        <h4 class="heading settled" data-level="4.4.4" id="setting-the-current-time-of-an-animation"><span
                class="secno">4.4.4. </span><span class="content">アニメーションの現在時刻の設定</span><a class="self-link"
                href="#setting-the-current-time-of-an-animation"></a></h4>
        <p>アニメーションの<a data-link-type="dfn" href="#animation-current-time"
                id="ref-for-animation-current-time⑧">現在時刻</a>は新しい値に設定することができ、アニメーションを<em>シーク</em>できます。
            現在時刻の設定手順は2つの部分に分かれています。</p>
        <p><dfn class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-silently-set-the-current-time">現在時刻を静かに設定する</dfn>手順（<var>animation</var>の現在時刻を<var>seek
                time</var>に設定）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>seek time</var>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved①③">未解決</a>な時間値の場合、以下の手順を実行する。</p>
                <ol>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#animation-current-time"
                                id="ref-for-animation-current-time⑨">現在時刻</a>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved①④">解決済み</a>なら、<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw"
                                id="ref-for-dfn-throw">TypeError</a>をスローする。</p>
                    <li data-md>
                        <p>これらの手順を中止する。</p>
                </ol>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                        id="ref-for-animation-hold-time④">ホールド時刻</a>または<a data-link-type="dfn"
                        href="#animation-start-time" id="ref-for-animation-start-time④">開始時刻</a>を以下の通り更新する：</p>
                <div class="switch">
                    <dl>
                        <dt data-md>
                            <p>以下のいずれかが真の場合：</p>
                            <ul>
                                <li data-md>
                                    <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                            id="ref-for-animation-hold-time⑤">ホールド時刻</a>が<a data-link-type="dfn"
                                            href="#unresolved" id="ref-for-unresolved①⑤">解決済み</a>、または</p>
                                <li data-md>
                                    <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                            id="ref-for-animation-start-time⑤">開始時刻</a>が<a data-link-type="dfn"
                                            href="#unresolved" id="ref-for-unresolved①⑥">未解決</a>、または</p>
                                <li data-md>
                                    <p><var>animation</var>に関連付けられた<a data-link-type="dfn" href="#timeline"
                                            id="ref-for-timeline②⓪">タイムライン</a>がない、または関連<span
                                            id="ref-for-timeline②①">タイムライン</span>が<a data-link-type="dfn"
                                            href="#inactive-timeline" id="ref-for-inactive-timeline④">非アクティブ</a>、または</p>
                                <li data-md>
                                    <p><var>animation</var>の<a data-link-type="dfn" href="#playback-rate"
                                            id="ref-for-playback-rate③">再生速度</a>が0</p>
                            </ul>
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time⑥">ホールド時刻</a>を<var>seek time</var>に設定する。</p>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                    id="ref-for-animation-start-time⑥">開始時刻</a>を次で評価した結果に設定する：
                                <code><var>timeline time</var> - (<var>seek time</var> / <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate④">再生速度</a>)</code>
                                ここで<var>timeline time</var>は、<var>animation</var>に関連付けられた<a data-link-type="dfn"
                                    href="#timeline" id="ref-for-timeline②②">タイムライン</a>の現在の<a data-link-type="dfn"
                                    href="#time-value" id="ref-for-time-value①⑧">時間値</a>です。
                            </p>
                    </dl>
                </div>
            <li data-md>
                <p><var>animation</var>に関連付けられた<a data-link-type="dfn" href="#timeline"
                        id="ref-for-timeline②③">タイムライン</a>がない、または関連<span id="ref-for-timeline②④">タイムライン</span>が<a
                        data-link-type="dfn" href="#inactive-timeline"
                        id="ref-for-inactive-timeline⑤">非アクティブ</a>なら、<var>animation</var>の<a data-link-type="dfn"
                        href="#animation-start-time" id="ref-for-animation-start-time⑦">開始時刻</a>を<a data-link-type="dfn"
                        href="#unresolved" id="ref-for-unresolved①⑦">未解決</a>にする。</p>
                <p class="note" role="note">これは、アクティブなタイムラインがない場合、<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time⑧">開始時刻</a>または<a data-link-type="dfn"
                        href="#animation-current-time"
                        id="ref-for-animation-current-time①⓪">現在時刻</a>のどちらかだけを設定できるという不変条件を保持します。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#previous-current-time"
                        id="ref-for-previous-current-time">直前の現在時刻</a>を<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved①⑧">未解決</a>にする。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-set-the-current-time">現在時刻を設定する</dfn>手順（<var>animation</var>の現在時刻を<var>seek
                time</var>に設定）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>animation</var>の現在時刻を<var>seek time</var>に<a data-link-type="dfn"
                        href="#animation-silently-set-the-current-time"
                        id="ref-for-animation-silently-set-the-current-time">静かに設定する</a>手順を実行する。</p>
            <li data-md>
                <p><var>animation</var>に<a data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task①">保留中一時停止タスク</a>があれば、次の手順で一時停止操作を同期的に完了する：</p>
                <ol>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                id="ref-for-animation-hold-time⑦">ホールド時刻</a>を<var>seek time</var>に設定する。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                                id="ref-for-apply-any-pending-playback-rate">保留中再生速度</a>を<var>animation</var>に適用する。</p>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                id="ref-for-animation-start-time⑨">開始時刻</a>を<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved①⑨">未解決</a>にする。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#pending-pause-task"
                                id="ref-for-pending-pause-task②">保留中一時停止タスク</a>をキャンセルする。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                id="ref-for-resolve">resolve</a>手順で<var>animation</var>の<a data-link-type="dfn"
                                href="#current-ready-promise"
                                id="ref-for-current-ready-promise">現在のreadyプロミス</a>を<var>animation</var>で解決する。</p>
                </ol>
            <li data-md>
                <p><var>animation</var>に対して、<var>did seek</var>フラグをtrue、<var>synchronously notify</var>フラグをfalseに設定し、<a
                        data-link-type="dfn" href="#update-an-animations-finished-state"
                        id="ref-for-update-an-animations-finished-state③">アニメーションの完了状態の更新</a>手順を実行する。</p>
        </ol>
        <h4 class="heading settled" data-level="4.4.5" id="setting-the-start-time-of-an-animation"><span
                class="secno">4.4.5. </span><span class="content">アニメーションの開始時刻の設定</span><a class="self-link"
                href="#setting-the-start-time-of-an-animation"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-the-start-time">開始時刻を設定する</dfn>手順（<a
                data-link-type="dfn" href="#concept-animation"
                id="ref-for-concept-animation①⓪">animation</a>、<var>animation</var>の開始時刻を<var>new start
                time</var>に設定）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>timeline time</var>を、<var>animation</var>に関連付けられた<a data-link-type="dfn" href="#timeline"
                        id="ref-for-timeline②⑤">タイムライン</a>の現在の<a data-link-type="dfn" href="#time-value"
                        id="ref-for-time-value①⑨">時間値</a>とする。
                    <var>animation</var>に関連付けられた<span id="ref-for-timeline②⑥">タイムライン</span>がない、または関連タイムラインが<a
                        data-link-type="dfn" href="#inactive-timeline"
                        id="ref-for-inactive-timeline⑥">非アクティブ</a>の場合は、<var>timeline time</var>を<a data-link-type="dfn"
                        href="#unresolved" id="ref-for-unresolved②⓪">未解決</a>とする。
                </p>
            <li data-md>
                <p><var>timeline time</var>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved②①">未解決</a>かつ<var>new start
                        time</var>が<span id="ref-for-unresolved②②">解決済み</span>の場合、<var>animation</var>の<a
                        data-link-type="dfn" href="#animation-hold-time"
                        id="ref-for-animation-hold-time⑧">ホールド時刻</a>を<span id="ref-for-unresolved②③">未解決</span>にする。
                </p>
                <p class="note" role="note">これは、アクティブなタイムラインがない場合、<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time①⓪">開始時刻</a>か<a data-link-type="dfn"
                        href="#animation-current-time"
                        id="ref-for-animation-current-time①①">現在時刻</a>のどちらか一方のみ設定可能という不変条件を保持します。</p>
            <li data-md>
                <p><var>previous current time</var>を<var>animation</var>の<a data-link-type="dfn"
                        href="#animation-current-time" id="ref-for-animation-current-time①②">現在時刻</a>とする。</p>
                <p class="note" role="note"><span>注:</span> これは前のステップの変更後の<a data-link-type="dfn"
                        href="#animation-current-time" id="ref-for-animation-current-time①③">現在時刻</a>であり、現在時刻が<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved②④">未解決</a>になる場合があります。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                        id="ref-for-apply-any-pending-playback-rate①">保留中再生速度の適用</a>を<var>animation</var>に行う。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time①①">開始時刻</a>を<var>new start time</var>に設定する。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                        id="ref-for-animation-hold-time⑨">ホールド時刻</a>を下記から最初に一致する条件で更新する：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><var>new start time</var>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved②⑤">解決済み</a>の場合
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#playback-rate"
                                    id="ref-for-playback-rate⑤">再生速度</a>がゼロでない場合、<var>animation</var>の<a
                                    data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time①⓪">ホールド時刻</a>を<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved②⑥">未解決</a>にする。</p>
                        <dt data-md>それ以外（<var>new start time</var>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved②⑦">未解決</a>の場合）
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time①①">ホールド時刻</a>を<var>previous current
                                    time</var>に設定する（<var>previous current time</var>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved②⑧">未解決</a>でも）。</p>
                    </dl>
                </div>
            <li data-md>
                <p><var>animation</var>に<a data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task①">保留中再生タスク</a>または
                    <a data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task③">保留中一時停止タスク</a>があれば、そのタスクをキャンセルし、<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a>手順で
                    <var>animation</var>の<a data-link-type="dfn" href="#current-ready-promise"
                        id="ref-for-current-ready-promise①">現在のreadyプロミス</a>を<var>animation</var>で解決する。
                </p>
            <li data-md>
                <p><var>animation</var>に対して、<var>did seek</var>フラグをtrue、<var>synchronously notify</var>フラグをfalseに設定し、<a
                        data-link-type="dfn" href="#update-an-animations-finished-state"
                        id="ref-for-update-an-animations-finished-state④">アニメーションの完了状態の更新</a>手順を実行する。</p>
        </ol>
        <h4 class="heading settled" data-level="4.4.6" id="waiting-for-the-associated-effect"><span class="secno">4.4.6.
            </span><span class="content">関連効果の待機</span><span id="waiting-for-the-target-effect"></span><a
                class="self-link" href="#waiting-for-the-associated-effect"></a></h4>
        <div class="informative-bg">
            <p><em>このセクションは規範的ではありません</em></p>
            <p><a data-link-type="dfn" href="#concept-animation"
                    id="ref-for-concept-animation①①">アニメーション</a>によって行われる一部の操作は即座に発生しない場合があります。
                例えば、ユーザーエージェントによってはアニメーションの再生を別プロセスや専用グラフィックスハードウェアに委譲し、セットアップのオーバーヘッドが発生することがあります。</p>
            <p>そのようなアニメーションがトリガー時点から時刻計算される場合、セットアップ時間に対応してアニメーションの最初と2番目のフレーム間で大きなジャンプが生じることがあります。</p>
            <p>この問題を避けるため、Web Animationsは通常、アニメーションの最初のフレームが完了した瞬間からタイミングを開始します。
                これは、<a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation①②">アニメーション</a>上の<a
                    data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time①②">開始時刻</a>が<a
                    data-link-type="dfn" href="#unresolved" id="ref-for-unresolved②⑨">未解決</a>として表現され、アニメーションが<a
                    data-link-type="dfn" href="#ready" id="ref-for-ready②">準備完了</a>になると解決されます。
                この挙動を回避したい場合は、<span id="ref-for-animation-start-time①③">開始時刻</span>を<span
                    id="ref-for-unresolved③⓪">解決済み</span>の<a data-link-type="dfn" href="#time-value"
                    id="ref-for-time-value②⓪">時間値</a>に設定できます。</p>
        </div>
        <p>アニメーションは、以下の<em>両方</em>の条件が初めて真になる瞬間に<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="ready">準備完了</dfn>となります：</p>
        <ul>
            <li data-md>
                <p>ユーザーエージェントが、アニメーションの<a data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect⑦">関連効果</a>の再生開始に必要なセットアップ（<a data-link-type="dfn"
                        href="#keyframe-effect" id="ref-for-keyframe-effect">キーフレーム効果</a>の初回レンダリングを含む）を完了している。</p>
            <li data-md>
                <p>アニメーションが、<a data-link-type="dfn" href="#inactive-timeline"
                        id="ref-for-inactive-timeline⑦">非アクティブ</a>でない<a data-link-type="dfn" href="#timeline"
                        id="ref-for-timeline②⑦">タイムライン</a>に関連付けられている。</p>
        </ul>
        <h4 class="heading settled" data-level="4.4.7" id="the-current-ready-promise"><span class="secno">4.4.7.
            </span><span class="content">現在のreadyプロミス</span><a class="self-link" href="#the-current-ready-promise"></a>
        </h4>
        <p>各<a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation①③">アニメーション</a>は<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="current-ready-promise">現在のreadyプロミス</dfn>を持ちます。
            <a data-link-type="dfn" href="#current-ready-promise"
                id="ref-for-current-ready-promise②">現在のreadyプロミス</a>は、初期状態では解決済みの<a data-link-type="dfn"
                href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects"
                id="ref-for-sec-promise-objects">Promise</a>であり、アニメーション自身を値として<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                id="ref-for-a-promise-resolved-with">新たな解決済みPromiseを作成する手順</a>で生成され、アニメーションの<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                id="ref-for-concept-relevant-realm">関連Realm</a>で作成されます。
        </p>
        <p>このオブジェクトは、アニメーションが新たに<a data-link-type="dfn" href="#pending-play-task"
                id="ref-for-pending-play-task②">保留中再生タスク</a>や<a data-link-type="dfn" href="#pending-pause-task"
                id="ref-for-pending-pause-task④">保留中一時停止タスク</a>をキューした場合（以前は保留中タスクがなかった場合）、またはアニメーションがキャンセルされた場合（<a
                href="#canceling-an-animation-section">§ 4.4.14 アニメーションのキャンセル</a>参照）には、新しい<a data-link-type="dfn"
                href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects"
                id="ref-for-sec-promise-objects①">Promiseオブジェクト</a>に置き換えられます。</p>
        <div class="note" role="note">
            <p>同じオブジェクトが保留中再生・一時停止の両方のリクエストで使われるため、著者は<a data-link-type="dfn"
                    href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects"
                    id="ref-for-sec-promise-objects②">Promiseオブジェクト</a>が解決された際にアニメーションの状態を確認することを推奨します。</p>
            <p>例えば、次のコード片では、<a data-link-type="dfn" href="#current-ready-promise"
                    id="ref-for-current-ready-promise③">現在のreadyプロミス</a>が解決された時点でアニメーションの状態は<a data-link-type="dfn"
                    href="#play-state-running" id="ref-for-play-state-running">running</a>になります。
                これは、<code>play</code>操作が<a data-link-type="dfn" href="#pending-play-task"
                    id="ref-for-pending-play-task③">保留中再生タスク</a>がまだキュー済みの間に実行され、<span
                    id="ref-for-current-ready-promise④">現在のreadyプロミス</span>が再利用されるためです。</p>
            <div class="example" id="example-eb69e98f">
                <a class="self-link" href="#example-eb69e98f"></a>
                <pre class="lang-javascript highlight">animation<c- p>.</c->pause<c- p>();</c->
animation<c- p>.</c->ready<c- p>.</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
  <c- c1>// 'running'と表示</c->
  alert<c- p>(</c->animation<c- p>.</c->playState<c- p>);</c->
<c- p>});</c->
animation<c- p>.</c->play<c- p>();</c-></pre>
            </div>
        </div>
        <h4 class="heading settled" data-level="4.4.8" id="playing-an-animation-section"><span class="secno">4.4.8.
            </span><span class="content">アニメーションの再生</span><a class="self-link" href="#playing-an-animation-section"></a>
        </h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="play-an-animation">アニメーションを再生する</dfn>手順（<var>animation</var>、<var>auto-rewind</var>フラグ付き）は次の通りです：
        </p>
        <ol>
            <li data-md>
                <p><var>aborted pause</var>を、<var>animation</var>に<a data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task⑤">保留中一時停止タスク</a>があればtrue、なければfalseとする。</p>
            <li data-md>
                <p><var>has pending ready promise</var>を初期値falseのブール値とする。</p>
            <li data-md>
                <p><var>seek time</var>を初期状態では<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved③①">未解決</a>な<a data-link-type="dfn" href="#time-value"
                        id="ref-for-time-value②①">時間値</a>とする。</p>
            <li data-md>
                <p><var>auto-rewind</var>フラグがtrueの場合、以下から<em>最初に一致する条件</em>の手順を実行：</p>
                <div class="switch">
                    <dl>
                        <dt data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#effective-playback-rate"
                                    id="ref-for-effective-playback-rate">実効再生速度</a>が0以上、かつ<a data-link-type="dfn"
                                    href="#animation-current-time" id="ref-for-animation-current-time①④">現在時刻</a>が：</p>
                            <ul>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved③②">未解決</a>、または
                                    </p>
                                <li data-md>
                                    <p>0未満、または</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#associated-effect-end"
                                            id="ref-for-associated-effect-end">関連効果終了</a>以上、</p>
                            </ul>
                        <dd data-md>
                            <p><var>seek time</var>を0に設定する。</p>
                        <dt data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#effective-playback-rate"
                                    id="ref-for-effective-playback-rate①">実効再生速度</a>が0未満、かつ<a data-link-type="dfn"
                                    href="#animation-current-time" id="ref-for-animation-current-time①⑤">現在時刻</a>が：</p>
                            <ul>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved③③">未解決</a>、または
                                    </p>
                                <li data-md>
                                    <p>0以下、または</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#associated-effect-end"
                                            id="ref-for-associated-effect-end①">関連効果終了</a>より大きい、</p>
                            </ul>
                        <dd data-md>
                            <div class="switch">
                                <dl>
                                    <dt data-md>もし <a data-link-type="dfn" href="#associated-effect-end"
                                            id="ref-for-associated-effect-end②">associated effect end</a> が正の無限大の場合
                                    <dd data-md>
                                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                                id="ref-for-dfn-throw①">throw</a> "<code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>"
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
                                            を投げて、
                                            これらの手順を中止する。
                                        </p>
                                    <dt data-md>それ以外の場合
                                    <dd data-md>
                                        <p><var>seek time</var> を <var>animation</var> の <a data-link-type="dfn"
                                                href="#associated-effect-end"
                                                id="ref-for-associated-effect-end③">associated effect end</a> に設定する。</p>
                                </dl>
                            </div>
                    </dl>
                </div>
            <li data-md>
                <p>以下3条件が<em>すべて</em>満たされた場合：</p>
                <ul>
                    <li data-md>
                        <p><var>seek time</var>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved③④">未解決</a>で、
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                id="ref-for-animation-start-time①④">開始時刻</a>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved③⑤">未解決</a>で、
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-current-time"
                                id="ref-for-animation-current-time①⑥">現在時刻</a>が<a data-link-type="dfn"
                                href="#unresolved" id="ref-for-unresolved③⑥">未解決</a>のとき、</p>
                </ul>
                <p><var>seek time</var>を0に設定する。</p>
                <p class="note" role="note"><span>注:</span>
                    このステップにより、<var>auto-rewind</var>フラグの設定に関係なく、アイドル状態のアニメーションは再生されます。</p>
            <li data-md>
                <p><var>has finite timeline</var>を、<var>animation</var>が関連付けられている<a data-link-type="dfn"
                        href="#timeline" id="ref-for-timeline②⑧">タイムライン</a>が<a data-link-type="dfn"
                        href="#monotonically-increasing-timeline"
                        id="ref-for-monotonically-increasing-timeline①">単調増加</a>でない場合trueとする。</p>
            <li data-md>
                <p><var>seek time</var>が<a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved③⑦">解決済み</a>なら：
                </p>
                <div class="switch">
                    <dl>
                        <dt data-md><var>has finite timeline</var>がtrueの場合
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                            id="ref-for-animation-start-time①⑤">開始時刻</a>を<var>seek time</var>に設定する。</p>
                                <li data-md>
                                    <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                            id="ref-for-animation-hold-time①②">ホールド時刻</a>を<a data-link-type="dfn"
                                            href="#unresolved" id="ref-for-unresolved③⑧">未解決</a>とする。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                                            id="ref-for-apply-any-pending-playback-rate②">保留中再生速度の適用</a>を<var>animation</var>に行う。
                                    </p>
                            </ol>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time①③">ホールド時刻</a>を<var>seek time</var>に設定する。</p>
                    </dl>
                </div>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                        id="ref-for-animation-hold-time①④">ホールド時刻</a>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved③⑨">解決済み</a>なら、<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time①⑥">開始時刻</a>を<span id="ref-for-unresolved④⓪">未解決</span>とする。</p>
            <li data-md>
                <p><var>animation</var>に<a data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task④">保留中再生タスク</a>または<a data-link-type="dfn"
                        href="#pending-pause-task" id="ref-for-pending-pause-task⑥">保留中一時停止タスク</a>があれば、</p>
                <ol>
                    <li data-md>
                        <p>そのタスクをキャンセルする。</p>
                    <li data-md>
                        <p><var>has pending ready promise</var>をtrueに設定する。</p>
                </ol>
            <li data-md>
                <p>以下4条件が<em>すべて</em>満たされた場合：</p>
                <ul>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                id="ref-for-animation-hold-time①⑤">ホールド時刻</a>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved④①">未解決</a>で、
                    <li data-md>
                        <p><var>seek time</var>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved④②">未解決</a>で、
                    <li data-md>
                        <p><var>aborted pause</var>がfalseで、
                    <li data-md>
                        <p><var>animation</var>に<a data-link-type="dfn" href="#pending-playback-rate"
                                id="ref-for-pending-playback-rate">保留中再生速度</a>が<em>ない</em>場合、</p>
                </ul>
                <p>この手順を中止する。</p>
            <li data-md>
                <p><var>has pending ready promise</var>がfalseの場合、<var>animation</var>の<a data-link-type="dfn"
                        href="#current-ready-promise"
                        id="ref-for-current-ready-promise⑤">現在のreadyプロミス</a>を<var>animation</var>の<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm①">関連Realm</a>で<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise"
                        id="ref-for-a-new-promise">新しいPromise</a>にする。</p>
            <li data-md>
                <p><var>animation</var>が<a data-link-type="dfn" href="#ready"
                        id="ref-for-ready③">準備完了</a>になるとすぐに実行されるタスクをスケジュールする。そのタスクは次を実行：</p>
                <ol>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                id="ref-for-animation-start-time①⑦">開始時刻</a>または<a data-link-type="dfn"
                                href="#animation-hold-time" id="ref-for-animation-hold-time①⑥">ホールド時刻</a>のいずれかが<a
                                data-link-type="dfn" href="#unresolved" id="ref-for-unresolved④③">解決済み</a>であることをアサートする。
                        </p>
                    <li data-md>
                        <p><var>ready time</var>を<var>animation</var>が<a data-link-type="dfn" href="#ready"
                                id="ref-for-ready④">準備完了</a>になった瞬間の関連<a data-link-type="dfn" href="#timeline"
                                id="ref-for-timeline②⑨">タイムライン</a>の<a data-link-type="dfn" href="#time-value"
                                id="ref-for-time-value②②">時間値</a>とする。</p>
                    <li data-md>
                        <p>以下から最初に一致する条件に従う：</p>
                        <div class="switch">
                            <dl>
                                <dt data-md><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                        id="ref-for-animation-hold-time①⑦">ホールド時刻</a>が<a data-link-type="dfn"
                                        href="#unresolved" id="ref-for-unresolved④④">解決済み</a>の場合
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                                                    id="ref-for-apply-any-pending-playback-rate③">保留中再生速度の適用</a>を<var>animation</var>に行う。
                                            </p>
                                        <li data-md>
                                            <p><var>new start
                                                    time</var>を<code><var>ready time</var> - <a data-link-type="dfn" href="#animation-hold-time" id="ref-for-animation-hold-time①⑧">ホールド時刻</a> / <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate⑥">再生速度</a></code>で評価した結果とする。<a
                                                    data-link-type="dfn" href="#playback-rate"
                                                    id="ref-for-playback-rate⑦">再生速度</a>が0なら<var>new start
                                                    time</var>は<var>ready time</var>とする。</p>
                                        <li data-md>
                                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                                    id="ref-for-animation-start-time①⑧">開始時刻</a>を<var>new start
                                                    time</var>に設定する。</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#playback-rate"
                                                    id="ref-for-playback-rate⑧">再生速度</a>が0でなければ、<var>animation</var>の<a
                                                    data-link-type="dfn" href="#animation-hold-time"
                                                    id="ref-for-animation-hold-time①⑨">ホールド時刻</a>を<a
                                                    data-link-type="dfn" href="#unresolved"
                                                    id="ref-for-unresolved④⑤">未解決</a>とする。</p>
                                    </ol>
                                <dt data-md><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                        id="ref-for-animation-start-time①⑨">開始時刻</a>が解決済みで、<a data-link-type="dfn"
                                        href="#pending-playback-rate"
                                        id="ref-for-pending-playback-rate①">保留中再生速度</a>がある場合
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p><var>current time to
                                                    match</var>を<code>(<var>ready time</var> - <a data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time②⓪">開始時刻</a>) × <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate⑨">再生速度</a></code>で評価した結果とする。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                                                    id="ref-for-apply-any-pending-playback-rate④">保留中再生速度の適用</a>を<var>animation</var>に行う。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#playback-rate"
                                                    id="ref-for-playback-rate①⓪">再生速度</a>が0なら、<var>animation</var>の<a
                                                    data-link-type="dfn" href="#animation-hold-time"
                                                    id="ref-for-animation-hold-time②⓪">ホールド時刻</a>を<var>current time to
                                                    match</var>にする。</p>
                                        <li data-md>
                                            <p><var>new start
                                                    time</var>を<code><var>ready time</var> - <var>current time to match</var> / <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate①①">再生速度</a></code>で評価した結果とする。<a
                                                    data-link-type="dfn" href="#playback-rate"
                                                    id="ref-for-playback-rate①②">再生速度</a>が0なら<var>new start
                                                    time</var>は<var>ready time</var>とする。</p>
                                        <li data-md>
                                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                                    id="ref-for-animation-start-time②①">開始時刻</a>を<var>new start
                                                    time</var>に設定する。</p>
                                    </ol>
                            </dl>
                        </div>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                id="ref-for-resolve②">resolve</a>手順で<var>animation</var>の<a data-link-type="dfn"
                                href="#current-ready-promise"
                                id="ref-for-current-ready-promise⑥">現在のreadyプロミス</a>を<var>animation</var>で解決する。</p>
                    <li data-md>
                        <p><var>animation</var>に対して、<var>did seek</var>フラグをfalse、<var>synchronously
                                notify</var>フラグをfalseに設定し、<a data-link-type="dfn"
                                href="#update-an-animations-finished-state"
                                id="ref-for-update-an-animations-finished-state⑤">アニメーションの完了状態の更新</a>手順を実行する。</p>
                        <div class="note" role="note">上記2ステップの順序は重要です。ゼロ長の<a data-link-type="dfn"
                                href="#animation-associated-effect"
                                id="ref-for-animation-associated-effect⑧">関連効果</a>を持つアニメーションでは、<a data-link-type="dfn"
                                href="#current-ready-promise" id="ref-for-current-ready-promise⑦">現在のreadyプロミス</a>が<a
                                data-link-type="dfn" href="#current-finished-promise"
                                id="ref-for-current-finished-promise">現在のfinishedプロミス</a>より先に解決されます。</div>
                </ol>
                <p>このタスクがスケジュールされて未実行の間、<var>animation</var>は<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="pending-play-task">保留中再生タスク</dfn>を持つとされます。タスク実行中は<var>animation</var>は<a
                        data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task⑤">保留中再生タスク</a>を<em>持たない</em>とされます。</p>
                <p>ユーザーエージェントが<var>animation</var>が即座に<a data-link-type="dfn" href="#ready"
                        id="ref-for-ready⑤">準備完了</a>であると判断した場合、上記のタスクを次の<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint"
                        id="ref-for-perform-a-microtask-checkpoint①">マイクロタスクチェックポイント</a>で実行されるマイクロタスクとしてスケジュールしてもよいが、同期的に実行しては<em>ならない</em>。
                </p>
                <div class="note" role="note">
                    <p>上記の<a data-link-type="dfn" href="#pending-play-task"
                            id="ref-for-pending-play-task⑥">保留中再生タスク</a>を非同期に実行する要件は、次のようなコードが各実装で一貫した挙動となることを保証します：</p>
                    <div class="example" id="example-b6f05729">
                        <a class="self-link" href="#example-b6f05729"></a>
                        <pre class="lang-javascript highlight">animation<c- p>.</c->play<c- p>();</c->
animation<c- p>.</c->ready<c- p>.</c->then<c- p>(</c->
  <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> console<c- p>.</c->log<c- p>(</c-><c- t>'Playback commenced'</c-><c- p>);</c-> <c- p>},</c->
  <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> console<c- p>.</c->log<c- p>(</c-><c- t>'Playback was canceled'</c-><c- p>);</c-> <c- p>}</c->
<c- p>);</c->
<c- c1>// 何らかの条件で再生をキャンセルする必要があると仮定...</c->
animation<c- p>.</c->cancel<c- p>();</c->
<c- c1>// "Playback was canceled" がコンソールに出力される。</c->
</pre>
                    </div>
                    <p>上記コードで<a data-link-type="dfn" href="#pending-play-task"
                            id="ref-for-pending-play-task⑦">保留中再生タスク</a>を同期的に実行した場合、<a data-link-type="dfn"
                            href="#current-ready-promise"
                            id="ref-for-current-ready-promise⑧">現在のreadyプロミス</a>はrejectされません。</p>
                </div>
            <li data-md>
                <p><var>animation</var>に対して、<var>did seek</var>フラグをfalse、<var>synchronously notify</var>フラグをfalseに設定し、<a
                        data-link-type="dfn" href="#update-an-animations-finished-state"
                        id="ref-for-update-an-animations-finished-state⑥">アニメーションの完了状態の更新</a>手順を実行する。</p>
        </ol>
        <h4 class="heading settled" data-level="4.4.9" id="pausing-an-animation-section"><span class="secno">4.4.9.
            </span><span class="content">アニメーションの一時停止</span><a class="self-link"
                href="#pausing-an-animation-section"></a></h4>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation①④">アニメーション</a>の<a
                data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time②②">開始時刻</a>が<a
                data-link-type="dfn" href="#unresolved" id="ref-for-unresolved④⑥">未解決</a>のとき、その<a data-link-type="dfn"
                href="#animation-current-time" id="ref-for-animation-current-time①⑦">現在時刻</a>は一時停止されます。</p>
        <p><a data-link-type="dfn" href="#play-an-animation"
                id="ref-for-play-an-animation">アニメーションの再生</a>と同様、一時停止は即座に発生しない場合があります（<a
                href="#waiting-for-the-associated-effect">§ 4.4.6 関連効果の待機</a>参照）。
            例えば、アニメーションが別プロセスで実行されている場合、アニメーションプロセスによって描画された状態を反映するために<a data-link-type="dfn"
                href="#animation-current-time" id="ref-for-animation-current-time①⑧">現在時刻</a>を同期する必要があるかもしれません。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="pause-an-animation">アニメーションを一時停止する</dfn>手順（<var>animation</var>）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>animation</var>に<a data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task⑦">保留中一時停止タスク</a>があれば、これらの手順を中止する。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-play-state"
                        id="ref-for-animation-play-state">再生状態</a>が<a data-link-type="dfn" href="#play-state-paused"
                        id="ref-for-play-state-paused">paused</a>の場合、これらの手順を中止する。</p>
            <li data-md>
                <p><var>seek time</var>を初期状態では<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved④⑦">未解決</a>な<a data-link-type="dfn" href="#time-value"
                        id="ref-for-time-value②③">時間値</a>とする。</p>
            <li data-md>
                <p><var>has finite timeline</var>を、<var>animation</var>が関連付けられている<a data-link-type="dfn"
                        href="#timeline" id="ref-for-timeline③⓪">タイムライン</a>が<a data-link-type="dfn"
                        href="#monotonically-increasing-timeline"
                        id="ref-for-monotonically-increasing-timeline②">単調増加</a>でない場合trueとする。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-current-time"
                        id="ref-for-animation-current-time①⑨">現在時刻</a>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved④⑧">未解決</a>の場合、以下から最初に一致する条件に従う：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><var>animation</var>の<a data-link-type="dfn" href="#playback-rate"
                                id="ref-for-playback-rate①③">再生速度</a>が0以上の場合
                        <dd data-md>
                            <p><var>seek time</var>を0に設定する。</p>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <div class="switch">
                                <dl>
                                    <dt data-md>もし <a data-link-type="dfn" href="#associated-effect-end"
                                            id="ref-for-associated-effect-end④">associated effect end</a> が
                                        <var>animation</var> に対して正の無限大の場合
                                    <dd data-md>
                                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                                id="ref-for-dfn-throw②">throw</a> "<code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>"
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>
                                            を投げて、これらの手順を中止する。
                                        </p>
                                    <dt data-md>それ以外の場合
                                    <dd data-md>
                                        <p><var>seek time</var> を <var>animation</var> の <a data-link-type="dfn"
                                                href="#associated-effect-end"
                                                id="ref-for-associated-effect-end⑤">associated effect end</a> に設定する。</p>
                                </dl>
                            </div>
                    </dl>
                </div>
            <li data-md>
                <p><var>seek time</var>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved④⑨">解決済み</a>の場合：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><var>has finite timeline</var>がtrueの場合
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                    id="ref-for-animation-start-time②③">開始時刻</a>を<var>seek time</var>に設定する。</p>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time②①">ホールド時刻</a>を<var>seek time</var>に設定する。</p>
                    </dl>
                </div>
            <li data-md>
                <p><var>has pending ready promise</var>を初期値falseのブール値とする。</p>
            <li data-md>
                <p><var>animation</var>に<a data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task⑧">保留中再生タスク</a>があれば、そのタスクをキャンセルし、<var>has pending ready
                        promise</var>をtrueにする。</p>
            <li data-md>
                <p><var>has pending ready promise</var>がfalseの場合、<var>animation</var>の<a data-link-type="dfn"
                        href="#current-ready-promise"
                        id="ref-for-current-ready-promise⑨">現在のreadyプロミス</a>を<var>animation</var>の<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm②">関連Realm</a>で<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise"
                        id="ref-for-a-new-promise①">新しいPromise</a>に設定する。</p>
            <li data-md>
                <p>以下の<em>両方</em>の条件が初めて満たされた瞬間に実行されるタスクをスケジュールする：</p>
                <ul>
                    <li data-md>
                        <p>ユーザーエージェントが<var>animation</var>の<a data-link-type="dfn" href="#animation-associated-effect"
                                id="ref-for-animation-associated-effect⑨">関連効果</a>（あれば）の再生を一時停止するための処理を完了している。</p>
                    <li data-md>
                        <p>アニメーションが<a data-link-type="dfn" href="#inactive-timeline"
                                id="ref-for-inactive-timeline⑧">非アクティブ</a>でない<a data-link-type="dfn" href="#timeline"
                                id="ref-for-timeline③①">タイムライン</a>に関連付けられている。</p>
                </ul>
                <p>タスクは次の手順を実行します：</p>
                <ol>
                    <li data-md>
                        <p><var>ready time</var>を、ユーザーエージェントが<var>animation</var>の<a data-link-type="dfn"
                                href="#animation-associated-effect"
                                id="ref-for-animation-associated-effect①⓪">関連効果</a>の一時停止処理を完了した瞬間のタイムラインの時間値とする。</p>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                id="ref-for-animation-start-time②④">開始時刻</a>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved⑤⓪">解決済み</a>で<a data-link-type="dfn" href="#animation-hold-time"
                                id="ref-for-animation-hold-time②②">ホールド時刻</a>が解決済みでない場合、
                            <span id="ref-for-animation-hold-time②③">ホールド時刻</span>を
                            <code>(<var>ready time</var> - <a data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time②⑤">開始時刻</a>) × <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate①④">再生速度</a></code>で評価した結果とする。
                        </p>
                        <p class="note" role="note"><span>注:</span> <a data-link-type="dfn" href="#animation-hold-time"
                                id="ref-for-animation-hold-time②④">ホールド時刻</a>は、アニメーションが<a data-link-type="dfn"
                                href="#play-state-finished" id="ref-for-play-state-finished①">完了</a>状態の場合や、<a
                                data-link-type="dfn" href="#pending-play-task"
                                id="ref-for-pending-play-task⑨">保留中再生タスク</a>がある場合はすでに設定されていることがあります。
                            いずれの場合も<a data-link-type="dfn" href="#play-state-paused"
                                id="ref-for-play-state-paused①">paused</a>状態に入る際にホールド時刻を維持したいです。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                                id="ref-for-apply-any-pending-playback-rate⑤">保留中再生速度の適用</a>を<var>animation</var>に行う。
                        </p>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                id="ref-for-animation-start-time②⑥">開始時刻</a>を未解決にする。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                id="ref-for-resolve③">resolve</a>手順で<var>animation</var>の<a data-link-type="dfn"
                                href="#current-ready-promise"
                                id="ref-for-current-ready-promise①⓪">現在のreadyプロミス</a>を<var>animation</var>で解決する。</p>
                    <li data-md>
                        <p><var>animation</var>に対して、<var>did seek</var>フラグをfalse、<var>synchronously
                                notify</var>フラグをfalseに設定し、<a data-link-type="dfn"
                                href="#update-an-animations-finished-state"
                                id="ref-for-update-an-animations-finished-state⑦">アニメーションの完了状態の更新</a>手順を実行する。</p>
                </ol>
                <p>上記のタスクがスケジュールされて未実行の間、<var>animation</var>は<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="pending-pause-task">保留中一時停止タスク</dfn>を持つとされます。タスク実行中は<var>animation</var>は<a
                        data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task⑧">保留中一時停止タスク</a>を<em>持たない</em>とされます。</p>
                <p><a data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task①⓪">保留中再生タスク</a>と同様、ユーザーエージェントは<a data-link-type="dfn"
                        href="#pending-pause-task"
                        id="ref-for-pending-pause-task⑨">保留中一時停止タスク</a>を非同期で実行する必要がありますが、それは次の<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint"
                        id="ref-for-perform-a-microtask-checkpoint②">マイクロタスクチェックポイント</a>でも構いません。</p>
            <li data-md>
                <p><var>animation</var>に対して、<var>did seek</var>フラグをfalse、<var>synchronously notify</var>フラグをfalseに設定し、<a
                        data-link-type="dfn" href="#update-an-animations-finished-state"
                        id="ref-for-update-an-animations-finished-state⑧">アニメーションの完了状態の更新</a>手順を実行する。</p>
        </ol>
        <h4 class="heading settled" data-level="4.4.10" id="reaching-the-end"><span class="secno">4.4.10. </span><span
                class="content">終了に到達</span><a class="self-link" href="#reaching-the-end"></a></h4>
        <div class="informative-bg">
            <p><em>このセクションは規範的ではありません</em></p>
            <p>DVDプレイヤーやカセットプレイヤーは、通常メディアの終端まで再生し、到達すると停止します。
                これらのプレイヤーが逆再生できる場合、メディアの始端に到達すると停止するのが一般的です。
                この挙動を模倣し、HTMLの<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element"
                    id="ref-for-media-element">メディア要素</a> <a data-link-type="biblio"
                    href="#biblio-html">[HTML]</a>との一貫性を持たせるため、
                Web Animationsのアニメーションの<a data-link-type="dfn" href="#animation-current-time"
                    id="ref-for-animation-current-time②⓪">現在時刻</a>は、
                その<a data-link-type="dfn" href="#animation-associated-effect"
                    id="ref-for-animation-associated-effect①①">関連効果</a>の<a data-link-type="dfn" href="#end-time"
                    id="ref-for-end-time">終了時刻</a>を超えて再生されず、逆再生の場合は0未満に進行しません。</p>
            <p>アニメーションが再生範囲の自然な境界に達した場合、<em>完了</em>したと言います。</p>
            <p>現在時刻の制限効果は下図のとおりです。</p>
            <figure>
                <img alt="アニメーションの現在時刻を制限した効果。" src="https://www.w3.org/TR/web-animations-1/images/limiting.svg"
                    width="500">
                <figcaption>開始時刻1秒、<a data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect①②">関連効果</a>の長さ3秒、正の<a data-link-type="dfn"
                        href="#playback-rate" id="ref-for-playback-rate①⑤">再生速度</a>の<a data-link-type="dfn"
                        href="#concept-animation" id="ref-for-concept-animation①⑤">アニメーション</a>の<a data-link-type="dfn"
                        href="#animation-current-time" id="ref-for-animation-current-time②①">現在時刻</a>を制限した効果。
                    アニメーションの現在時刻が関連効果の終端に到達すると、3秒で固定されます。</figcaption>
            </figure>
            <p>ただし、<a data-link-type="dfn" href="#animation-current-time"
                    id="ref-for-animation-current-time②②">現在時刻</a>を<a data-link-type="dfn"
                    href="#animation-associated-effect"
                    id="ref-for-animation-associated-effect①③">関連効果</a>の終了後にシークすることは可能です。
                その場合、現在時刻は進行せず、アニメーションはシークされた時刻で一時停止したかのように振る舞います。</p>
            <p>例えば、<a data-link-type="dfn" href="#animation-associated-effect"
                    id="ref-for-animation-associated-effect①④">関連効果</a>が<em>ない</em>アニメーションの<a data-link-type="dfn"
                    href="#animation-current-time" id="ref-for-animation-current-time②③">現在時刻</a>を5秒にシークすることもできます。
                後から5秒より遅い<a data-link-type="dfn" href="#end-time"
                    id="ref-for-end-time①">終了時刻</a>を持つ関連効果がそのアニメーションに関連付けられた場合、再生は5秒から始まります。</p>
            <p>上記と同様の挙動は、アニメーションの<a data-link-type="dfn" href="#animation-associated-effect"
                    id="ref-for-animation-associated-effect①⑥">関連効果</a>の長さが変化した場合にも発生します。</p>
            <p>また、<a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate①⑥">再生速度</a>が負の場合、<a
                    data-link-type="dfn" href="#animation-current-time"
                    id="ref-for-animation-current-time②④">現在時刻</a>は0未満には進行しません。</p>
        </div>
        <h4 class="heading settled" data-level="4.4.11" id="the-current-finished-promise"><span class="secno">4.4.11.
            </span><span class="content">現在のfinishedプロミス</span><a class="self-link"
                href="#the-current-finished-promise"></a></h4>
        <p>各アニメーションは<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="current-finished-promise">現在のfinishedプロミス</dfn>を持ちます。
            <a data-link-type="dfn" href="#current-finished-promise"
                id="ref-for-current-finished-promise①">現在のfinishedプロミス</a>は初期状態ではpendingな<a data-link-type="dfn"
                href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects"
                id="ref-for-sec-promise-objects③">Promise</a>オブジェクトです。
        </p>
        <p>アニメーションが<a data-link-type="dfn" href="#play-state-finished"
                id="ref-for-play-state-finished②">完了再生状態</a>を離れるたび、新しい<a data-link-type="dfn"
                href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects"
                id="ref-for-sec-promise-objects④">promise</a>に置き換えられます。</p>
        <h4 class="heading settled" data-level="4.4.12" id="updating-the-finished-state"><span class="secno">4.4.12.
            </span><span class="content">完了状態の更新</span><a class="self-link" href="#updating-the-finished-state"></a>
        </h4>
        <p><a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate①⑦">再生速度</a>が正の場合、
            <a data-link-type="dfn" href="#animation-current-time" id="ref-for-animation-current-time②⑤">現在時刻</a>は
            <a data-link-type="dfn" href="#associated-effect-end"
                id="ref-for-associated-effect-end⑥">関連効果終了</a>まで増加し続けます。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="associated-effect-end">関連効果終了</dfn>は、アニメーションの<a data-link-type="dfn"
                href="#animation-associated-effect" id="ref-for-animation-associated-effect①⑦">関連効果</a>の<a
                data-link-type="dfn" href="#end-time" id="ref-for-end-time②">終了時刻</a>と等しいです。
            アニメーションに<span id="ref-for-animation-associated-effect①⑧">関連効果</span>がない場合、<a data-link-type="dfn"
                href="#associated-effect-end" id="ref-for-associated-effect-end⑦">関連効果終了</a>は0になります。</p>
        <p><a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate①⑧">再生速度</a>が負の場合、
            <a data-link-type="dfn" href="#animation-current-time"
                id="ref-for-animation-current-time②⑥">現在時刻</a>は0まで減少し続けます。
        </p>
        <p>この境界に到達（または通過）し、<a data-link-type="dfn" href="#animation-start-time"
                id="ref-for-animation-start-time②⑦">開始時刻</a>が<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved⑤①">解決済み</a>の実行中アニメーションは<a data-link-type="dfn" href="#play-state-finished"
                id="ref-for-play-state-finished③">完了</a>状態になります。</p>
        <p>この境界の判定は、アニメーションオブジェクトを変更するたびに、下記の<a data-link-type="dfn" href="#update-an-animations-finished-state"
                id="ref-for-update-an-animations-finished-state⑨">アニメーションの完了状態の更新</a>手順でチェックされます。この手順は<a
                data-link-type="dfn" href="#update-animations-and-send-events"
                id="ref-for-update-animations-and-send-events②">アニメーションの更新とイベント送信</a>手順の一部としても実行されます。いずれの場合も、下記定義の<var>did
                seek</var>フラグはfalseです。</p>
        <p>各アニメーションについて、ユーザーエージェントは<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="previous current time"
                data-noexport id="previous-current-time">直前の現在時刻</dfn>（<a data-link-type="dfn" href="#time-value"
                id="ref-for-time-value②④">時間値</a>）を管理します。初期値は<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved⑤②">未解決</a>です。</p>
        <p>通常再生中は<a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation①⑦">アニメーション</a>の<a
                data-link-type="dfn" href="#animation-current-time"
                id="ref-for-animation-current-time②⑦">現在時刻</a>は上記の境界に制限されますが、
            <a data-link-type="dfn" href="#animation-set-the-current-time"
                id="ref-for-animation-set-the-current-time">現在時刻を設定する</a>手順を使えば境界外の時刻にシークすることも可能です。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="update-an-animations-finished-state">アニメーションの完了状態の更新</dfn>手順（<var>animation</var>、<var>did
                seek</var>フラグ（<a data-link-type="dfn" href="#animation-set-the-current-time"
                id="ref-for-animation-set-the-current-time①">現在時刻設定</a>後か示す）、<var>synchronously
                notify</var>フラグ（完了イベントのキューイングやfinished promiseの即時解決を期待する文脈か示す））は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>unconstrained current time</var>を、<var>did seek</var>がfalseなら<a data-link-type="dfn"
                        href="#animation-hold-time" id="ref-for-animation-hold-time②⑥">ホールド時刻</a>に<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑤③">未解決</a>時間値を代入して<a
                        data-link-type="dfn" href="#animation-current-time"
                        id="ref-for-animation-current-time②⑧">現在時刻</a>を計算した結果、trueなら<span
                        id="ref-for-animation-current-time②⑨">現在時刻</span>自身とする。</p>
                <p class="note" role="note"><span>注:</span>
                    タイムラインの方向が変わる場合にも対応するために必要です。これがないと、一度完了したアニメーションがタイムラインが逆方向に進んでも完了のままになります。</p>
            <li data-md>
                <p>以下3条件が<em>すべて</em>真なら、</p>
                <ul>
                    <li data-md>
                        <p><var>unconstrained current time</var>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved⑤④">解決済み</a>である</p>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                id="ref-for-animation-start-time②⑧">開始時刻</a>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved⑤⑤">解決済み</a>である</p>
                    <li data-md>
                        <p><var>animation</var>が<a data-link-type="dfn" href="#pending-play-task"
                                id="ref-for-pending-play-task①①">保留中再生タスク</a>や<a data-link-type="dfn"
                                href="#pending-pause-task" id="ref-for-pending-pause-task①⓪">保留中一時停止タスク</a>を持たない</p>
                </ul>
                <p>この場合、下記条件で<var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                        id="ref-for-animation-hold-time②⑦">ホールド時刻</a>を更新：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><a data-link-type="dfn" href="#playback-rate"
                                id="ref-for-playback-rate①⑨">再生速度</a>が0より大きく、<var>unconstrained current time</var>が<a
                                data-link-type="dfn" href="#associated-effect-end"
                                id="ref-for-associated-effect-end⑧">関連効果終了</a>以上の場合
                        <dd data-md>
                            <p><var>did seek</var>がtrueなら<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time②⑧">ホールド時刻</a>を<var>unconstrained current
                                    time</var>にする。</p>
                            <p>falseなら<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time②⑨">ホールド時刻</a>を、<a data-link-type="dfn"
                                    href="#previous-current-time" id="ref-for-previous-current-time①">直前の現在時刻</a>と<a
                                    data-link-type="dfn" href="#associated-effect-end"
                                    id="ref-for-associated-effect-end⑨">関連効果終了</a>の最大値にする。
                                <span id="ref-for-previous-current-time②">直前の現在時刻</span>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved⑤⑥">未解決</a>の場合は<span
                                    id="ref-for-animation-hold-time③⓪">ホールド時刻</span>を<span
                                    id="ref-for-associated-effect-end①⓪">関連効果終了</span>にする。
                            </p>
                        <dt data-md><a data-link-type="dfn" href="#playback-rate"
                                id="ref-for-playback-rate②⓪">再生速度</a>が0未満、<var>unconstrained current time</var>が0以下の場合
                        <dd data-md>
                            <p><var>did seek</var>がtrueなら<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time③①">ホールド時刻</a>を<var>unconstrained current
                                    time</var>にする。</p>
                            <p>falseなら<a data-link-type="dfn" href="#animation-hold-time"
                                    id="ref-for-animation-hold-time③②">ホールド時刻</a>を<a data-link-type="dfn"
                                    href="#previous-current-time"
                                    id="ref-for-previous-current-time③">直前の現在時刻</a>と0の最小値にする。
                                <span id="ref-for-previous-current-time④">直前の現在時刻</span>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved⑤⑦">未解決</a>の場合は<span
                                    id="ref-for-animation-hold-time③③">ホールド時刻</span>を0にする。
                            </p>
                        <dt data-md><a data-link-type="dfn" href="#playback-rate"
                                id="ref-for-playback-rate②①">再生速度</a>が0でなく、<var>animation</var>が<a data-link-type="dfn"
                                href="#inactive-timeline" id="ref-for-inactive-timeline⑨">アクティブタイムライン</a>に関連付けられている場合
                        <dd data-md>
                            <p>以下を実行：</p>
                            <ol>
                                <li data-md>
                                    <p><var>did seek</var>がtrueかつ<a data-link-type="dfn" href="#animation-hold-time"
                                            id="ref-for-animation-hold-time③④">ホールド時刻</a>が<a data-link-type="dfn"
                                            href="#unresolved"
                                            id="ref-for-unresolved⑤⑧">解決済み</a>なら、<var>animation</var>の<a
                                            data-link-type="dfn" href="#animation-start-time"
                                            id="ref-for-animation-start-time②⑨">開始時刻</a>を
                                        <code><var>timeline time</var> - (<a data-link-type="dfn" href="#animation-hold-time" id="ref-for-animation-hold-time③⑤">ホールド時刻</a> / <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate②②">再生速度</a>)</code>
                                        で評価した値にする。<var>timeline time</var>は関連する<a data-link-type="dfn" href="#timeline"
                                            id="ref-for-timeline③②">タイムライン</a>の現在の<a data-link-type="dfn"
                                            href="#time-value" id="ref-for-time-value②⑤">時間値</a>。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#animation-hold-time"
                                            id="ref-for-animation-hold-time③⑥">ホールド時刻</a>を<a data-link-type="dfn"
                                            href="#unresolved" id="ref-for-unresolved⑤⑨">未解決</a>にする。</p>
                            </ol>
                    </dl>
                </div>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#previous-current-time"
                        id="ref-for-previous-current-time⑤">直前の現在時刻</a>を<a data-link-type="dfn"
                        href="#animation-current-time" id="ref-for-animation-current-time③⓪">現在時刻</a>で計算した値にする。</p>
            <li data-md>
                <p><var>current finished state</var>を、<var>animation</var>の<a data-link-type="dfn"
                        href="#animation-play-state" id="ref-for-animation-play-state①">再生状態</a>が<a data-link-type="dfn"
                        href="#play-state-finished" id="ref-for-play-state-finished④">完了</a>ならtrue、それ以外はfalseとする。</p>
            <li data-md>
                <p><var>current finished state</var>がtrueで<a data-link-type="dfn" href="#current-finished-promise"
                        id="ref-for-current-finished-promise②">現在のfinishedプロミス</a>が未解決なら、下記を実行：</p>
                <ol>
                    <li data-md>
                        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                                id="finish-notification-steps">完了通知手順</dfn>は下記手順：</p>
                        <ol>
                            <li data-md>
                                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-play-state"
                                        id="ref-for-animation-play-state②">再生状態</a>が<a data-link-type="dfn"
                                        href="#play-state-finished"
                                        id="ref-for-play-state-finished⑤">完了</a>でない場合、これらの手順を中止する。</p>
                            <li data-md>
                                <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                        id="ref-for-resolve④">resolve</a>手順で<var>animation</var>の<a data-link-type="dfn"
                                        href="#current-finished-promise"
                                        id="ref-for-current-finished-promise③">現在のfinishedプロミス</a>を<var>animation</var>で解決する。
                                </p>
                            <li data-md>
                                <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create"
                                        id="ref-for-concept-event-create">AnimationPlaybackEvent</a>（<var>finishEvent</var>）を作成。
                                </p>
                            <li data-md>
                                <p><var>finishEvent</var>の<code
                                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type">type</a></code>
                                    属性を<a data-link-type="dfn" href="#finish-event"
                                        id="ref-for-finish-event">finish</a>に設定する。</p>
                            <li data-md>
                                <p><var>finishEvent</var>の<code
                                        class="idl"><a data-link-type="idl" href="#dom-animationplaybackevent-currenttime" id="ref-for-dom-animationplaybackevent-currenttime">currentTime</a></code>
                                    属性を<var>animation</var>の<a data-link-type="dfn" href="#animation-current-time"
                                        id="ref-for-animation-current-time③①">現在時刻</a>に設定する。</p>
                            <li data-md>
                                <p><var>finishEvent</var>の<code
                                        class="idl"><a data-link-type="idl" href="#dom-animationplaybackevent-timelinetime" id="ref-for-dom-animationplaybackevent-timelinetime">timelineTime</a></code>
                                    属性を<var>animation</var>の関連<a data-link-type="dfn" href="#timeline-current-time"
                                        id="ref-for-timeline-current-time⑤">タイムライン現在時刻</a>に設定する。タイムラインがないか、<a
                                        data-link-type="dfn" href="#inactive-timeline"
                                        id="ref-for-inactive-timeline①⓪">非アクティブ</a>の場合は、<code
                                        class="idl"><a data-link-type="idl" href="#dom-animationplaybackevent-timelinetime" id="ref-for-dom-animationplaybackevent-timelinetime①">timelineTime</a></code>は<code
                                        class="esvalue">null</code>。</p>
                            <li data-md>
                                <p><var>animation</var>に<a data-link-type="dfn" href="#animation-document-for-timing"
                                        id="ref-for-animation-document-for-timing①">タイミング用ドキュメント</a>があれば、その<span
                                        id="ref-for-animation-document-for-timing②">タイミング用ドキュメント</span>の<a
                                        data-link-type="dfn" href="#pending-animation-event-queue"
                                        id="ref-for-pending-animation-event-queue②">保留中アニメーションイベントキュー</a>にターゲット<var>animation</var>と共に追加する。<a
                                        data-link-type="dfn" href="#scheduled-event-time"
                                        id="ref-for-scheduled-event-time②">予定イベント時刻</a>には、<a data-link-type="dfn"
                                        href="#animation-time-to-origin-relative-time"
                                        id="ref-for-animation-time-to-origin-relative-time">変換した</a><var>animation</var>の<a
                                        data-link-type="dfn" href="#associated-effect-end"
                                        id="ref-for-associated-effect-end①①">関連効果終了</a>のオリジン基準時刻を使う。</p>
                                <p>それ以外の場合は、<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                                        id="ref-for-queue-a-task">タスクをキュー</a>し、<a data-link-type="dfn"
                                        href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                                        id="ref-for-concept-event-dispatch①">finishEventをanimationにディスパッチ</a>する。そのタスクソースは<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                                        id="ref-for-dom-manipulation-task-source">DOM操作タスクソース</a>。</p>
                        </ol>
                    <li data-md>
                        <p><var>synchronously notify</var>がtrueなら、キュー済みの完了通知マイクロタスクをキャンセルし、直ちに<span
                                id="ref-for-finish-notification-steps①">完了通知手順</span>を実行する。</p>
                        <p>falseなら、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask"
                                id="ref-for-queue-a-microtask">マイクロタスクをキュー</a>して、すでにキューされていなければ<var>animation</var>の<span
                                id="ref-for-finish-notification-steps②">完了通知手順</span>を実行する。</p>
                </ol>
            <li data-md>
                <p><var>current finished state</var>がfalseで、<var>animation</var>の<a data-link-type="dfn"
                        href="#current-finished-promise"
                        id="ref-for-current-finished-promise④">現在のfinishedプロミス</a>が既に解決済みなら、<var>animation</var>の<span
                        id="ref-for-current-finished-promise⑤">現在のfinishedプロミス</span>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise"
                        id="ref-for-a-new-promise②">新しいPromise</a>（<var>animation</var>の<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm③">関連Realm</a>）にする。</p>
        </ol>
        <div class="informative-bg">
            <p>通常は、アニメーションの完了状態の通知は非同期で行われます。これにより、アニメーションが一時的に<a data-link-type="dfn" href="#play-state-finished"
                    id="ref-for-play-state-finished⑥">完了再生状態</a>に入っても、イベント発火やpromise解決が発生しないようにできます。</p>
            <p>例えば、次のコード片では<code>animation</code>が一時的に完了状態になります。もし完了状態の通知が同期的に行われていれば、このコードは<a data-link-type="dfn"
                    href="#finish-event" id="ref-for-finish-event①">finishイベント</a>のキューや<a data-link-type="dfn"
                    href="#current-finished-promise"
                    id="ref-for-current-finished-promise⑥">現在のfinishedプロミス</a>の解決を引き起こします。しかし、2文の順序を逆にして<code>iterations</code>を先に更新すれば、このようなことは起きません。
                このような予期せぬ挙動を避けるため、アニメーションの完了状態通知は通常非同期で行われます。</p>
            <div class="example" id="example-63369f6e">
                <a class="self-link" href="#example-63369f6e"></a>
                <pre class="lang-javascript highlight"><c- a>var</c-> animation <c- o>=</c-> elem<c- p>.</c->animate<c- p>({</c-> left<c- o>:</c-> <c- t>'100px'</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->
animation<c- p>.</c->playbackRate <c- o>=</c-> <c- mf>2</c-><c- p>;</c->
animation<c- p>.</c->currentTime <c- o>=</c-> <c- mf>1000</c-><c- p>;</c-> <c- c1>// animationは今完了</c->
animation<c- p>.</c->effect<c- p>.</c->updateTiming<c- p>({</c-> iterations<c- o>:</c-> <c- mf>2</c-> <c- p>});</c-> <c- c1>// animationはもう完了ではない</c->
</pre>
            </div>
            <p>唯一の例外は、<a data-link-type="dfn" href="#finish-an-animation"
                    id="ref-for-finish-an-animation">アニメーションの完了</a>手順（通常は<code
                    class="idl"><a data-link-type="idl" href="#dom-animation-finish" id="ref-for-dom-animation-finish">finish()</a></code>
                メソッド呼び出し）を実行した場合です。この場合は著者が明示的に完了を意図しているので、完了状態の通知は下記の通り同期的に行われます。</p>
            <div class="example" id="example-3a2cd29f">
                <a class="self-link" href="#example-3a2cd29f"></a>
                <pre class="lang-javascript highlight"><c- a>var</c-> animation <c- o>=</c-> elem<c- p>.</c->animate<c- p>({</c-> left<c- o>:</c-> <c- t>'100px'</c-> <c- p>},</c-> <c- mf>1000</c-><c- p>);</c->
animation<c- p>.</c->finish<c- p>();</c-> <c- c1>// finishイベントは即座にキューされ、finished promiseも</c->
                    <c- c1>// 解決される。次の文で</c->
                    <c- c1>// animationが完了状態でなくなっても。</c->
animation<c- p>.</c->currentTime <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
</pre>
            </div>
            <p><a data-link-type="dfn" href="#finish-an-animation"
                    id="ref-for-finish-an-animation①">アニメーションの完了</a>手順同様、<a data-link-type="dfn"
                    href="#cancel-an-animation" id="ref-for-cancel-an-animation">アニメーションのキャンセル</a>手順も、<a
                    data-link-type="dfn" href="#cancel-event" id="ref-for-cancel-event">cancelイベント</a>を同期的にキューし、
                <a data-link-type="dfn" href="#current-finished-promise"
                    id="ref-for-current-finished-promise⑦">現在のfinishedプロミス</a>と<a data-link-type="dfn"
                    href="#current-ready-promise" id="ref-for-current-ready-promise①①">現在のreadyプロミス</a>も同期的にrejectします。
            </p>
        </div>
        <h4 class="heading settled" data-level="4.4.13" id="finishing-an-animation-section"><span class="secno">4.4.13.
            </span><span class="content">アニメーションの完了</span><a class="self-link"
                href="#finishing-an-animation-section"></a></h4>
        <p>アニメーションは、下記の<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="finish-an-animation">アニメーションの完了</dfn>手順を使うことで、現在の再生方向の自然な終端まで進めることができます：</p>
        <ol>
            <li data-md>
                <p>もし <var>animation</var> の <a data-link-type="dfn" href="#effective-playback-rate"
                        id="ref-for-effective-playback-rate②">effective playback rate</a> が 0 である場合、
                    または <var>animation</var> の <span id="ref-for-effective-playback-rate③">effective playback
                        rate</span> が 0 より大きく、
                    <a data-link-type="dfn" href="#associated-effect-end"
                        id="ref-for-associated-effect-end①②">associated effect end</a> が無限大の場合は、
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw③">throw</a> "<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>"
                    <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>
                    を投げて、これらの手順を中止する。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                        id="ref-for-apply-any-pending-playback-rate⑥">Apply any pending playback rate</a> を
                    <var>animation</var> に適用する。
                </p>
            <li data-md>
                <p><var>limit</var> を次のように設定する：</p>
                <div class="switch">
                    <dl>
                        <dt data-md>もし <a data-link-type="dfn" href="#playback-rate"
                                id="ref-for-playback-rate②③">playback rate</a> が 0 より大きい場合
                        <dd data-md>
                            <p><var>limit</var> を <a data-link-type="dfn" href="#associated-effect-end"
                                    id="ref-for-associated-effect-end①③">associated effect end</a> にする。</p>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <p><var>limit</var> を 0 にする。</p>
                    </dl>
                </div>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-silently-set-the-current-time"
                        id="ref-for-animation-silently-set-the-current-time①">Silently set the current time</a> を
                    <var>limit</var> に設定する。
                </p>
            <li data-md>
                <p>もし <var>animation</var> の <a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time③⓪">start time</a> が <a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑥⓪">unresolved</a> であり、かつ <var>animation</var> が関連付けられた <a
                        data-link-type="dfn" href="#inactive-timeline" id="ref-for-inactive-timeline①①">active</a> <a
                        data-link-type="dfn" href="#timeline" id="ref-for-timeline③④">timeline</a> を持つ場合、
                    <span id="ref-for-animation-start-time③①">start time</span> を
                    <code><var>timeline time</var> - (<var>limit</var> / <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate②④">playback rate</a>)</code>
                    （<var>timeline time</var> は関連付けられた <span id="ref-for-timeline③⑤">timeline</span> の現在の <a
                        data-link-type="dfn" href="#time-value" id="ref-for-time-value②⑥">time value</a>）で評価した値にする。
                </p>
            <li data-md>
                <p>もし <a data-link-type="dfn" href="#pending-pause-task" id="ref-for-pending-pause-task①①">pending pause
                        task</a> が存在し、<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time③②">start time</a> が <a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑥①">resolved</a> の場合、</p>
                <ol>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#animation-hold-time" id="ref-for-animation-hold-time③⑦">hold
                                time</a> を <a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved⑥②">unresolved</a> にする。</p>
                        <div class="note" role="note">通常、<a data-link-type="dfn" href="#animation-hold-time"
                                id="ref-for-animation-hold-time③⑧">hold time</a> はすでに未解決ですが、animation が以前 <a
                                data-link-type="dfn" href="#play-state-idle" id="ref-for-play-state-idle">idle</a>
                            状態だった場合は例外です。</div>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#pending-pause-task" id="ref-for-pending-pause-task①②">pending
                                pause task</a> をキャンセルする。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                id="ref-for-resolve⑤">Resolve</a> で <var>animation</var> の <a data-link-type="dfn"
                                href="#current-ready-promise" id="ref-for-current-ready-promise①②">current ready
                                promise</a> を <var>animation</var> で解決する。</p>
                </ol>
            <li data-md>
                <p>もし <a data-link-type="dfn" href="#pending-play-task" id="ref-for-pending-play-task①②">pending play
                        task</a> が存在し、
                    <a data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time③③">start
                        time</a> が <a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑥③">resolved</a>
                    の場合、そのタスクをキャンセルし、
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                        id="ref-for-resolve⑥">resolve</a> で <var>animation</var> の <a data-link-type="dfn"
                        href="#current-ready-promise" id="ref-for-current-ready-promise①③">current ready promise</a> を
                    <var>animation</var> で解決する。
                </p>
            <li data-md>
                <p><var>animation</var> に対して、<var>did seek</var> フラグを true、<var>synchronously notify</var> フラグを true
                    に設定し、
                    <a data-link-type="dfn" href="#update-an-animations-finished-state"
                        id="ref-for-update-an-animations-finished-state①⓪">update an animation’s finished state</a>
                    手順を実行する。
                </p>
        </ol>
        <h4 class="heading settled" data-level="4.4.14" id="canceling-an-animation-section"><span class="secno">4.4.14.
            </span><span class="content">アニメーションのキャンセル</span><a class="self-link"
                href="#canceling-an-animation-section"></a></h4>
        <p>アニメーションはキャンセルすることができ、これにより<a data-link-type="dfn" href="#animation-current-time"
                id="ref-for-animation-current-time③②">現在時刻</a>が<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved⑥④">未解決</a>となり、<a data-link-type="dfn" href="#animation-associated-effect"
                id="ref-for-animation-associated-effect①⑨">関連効果</a>による効果がすべて削除されます。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="cancel-an-animation">アニメーションをキャンセルする</dfn>手順（<var>animation</var>）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-play-state"
                        id="ref-for-animation-play-state③">再生状態</a>が<em>idle</em>でない場合、以下を実行：</p>
                <ol>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#animation-reset-an-animations-pending-tasks"
                                id="ref-for-animation-reset-an-animations-pending-tasks">保留中タスクのリセット</a>手順を<var>animation</var>に実行する。
                        </p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                id="ref-for-reject">reject</a>手順で<var>animation</var>の<a data-link-type="dfn"
                                href="#current-finished-promise"
                                id="ref-for-current-finished-promise⑧">現在のfinishedプロミス</a>を"AbortError"のDOMExceptionでrejectする。
                        </p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#current-finished-promise"
                                id="ref-for-current-finished-promise⑨">現在のfinishedプロミス</a>の[[PromiseIsHandled]]内部スロットをtrueにする。
                        </p>
                    <li data-md>
                        <p><var>animation</var>の<a data-link-type="dfn" href="#current-finished-promise"
                                id="ref-for-current-finished-promise①⓪">現在のfinishedプロミス</a>を、<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise"
                                id="ref-for-a-new-promise③">新しいPromise</a>（<var>animation</var>の<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm④">関連Realm</a>）にする。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create"
                                id="ref-for-concept-event-create①">AnimationPlaybackEvent</a>（<var>cancelEvent</var>）を作成する。
                        </p>
                    <li data-md>
                        <p><var>cancelEvent</var>の<code
                                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type①">type</a></code>属性を<a
                                data-link-type="dfn" href="#cancel-event" id="ref-for-cancel-event①">cancel</a>に設定する。
                        </p>
                    <li data-md>
                        <p><var>cancelEvent</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-animationplaybackevent-currenttime" id="ref-for-dom-animationplaybackevent-currenttime①">currentTime</a></code>を<code
                                class="esvalue">null</code>に設定する。</p>
                    <li data-md>
                        <p><var>timeline time</var>を、<var>animation</var>が関連付けられている<a data-link-type="dfn"
                                href="#timeline-current-time"
                                id="ref-for-timeline-current-time⑥">タイムライン現在時刻</a>とする。タイムラインがアクティブでない場合は、<var>timeline
                                time</var>を<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved⑥⑤">未解決</a>な<a data-link-type="dfn" href="#time-value"
                                id="ref-for-time-value②⑦">時間値</a>とする。</p>
                    <li data-md>
                        <p><var>cancelEvent</var>の<code
                                class="idl"><a data-link-type="idl" href="#dom-animationplaybackevent-timelinetime" id="ref-for-dom-animationplaybackevent-timelinetime②">timelineTime</a></code>を<var>timeline
                                time</var>に設定する。<var>timeline time</var>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved⑥⑥">未解決</a>なら、<code class="esvalue">null</code>に設定する。</p>
                    <li data-md>
                        <p><var>animation</var>に<a data-link-type="dfn" href="#animation-document-for-timing"
                                id="ref-for-animation-document-for-timing③">タイミング用ドキュメント</a>があれば、<span
                                id="ref-for-animation-document-for-timing④">タイミング用ドキュメント</span>の<a data-link-type="dfn"
                                href="#pending-animation-event-queue"
                                id="ref-for-pending-animation-event-queue③">保留中アニメーションイベントキュー</a>に<var>cancelEvent</var>とターゲット<var>animation</var>を追加する。<var>animation</var>がアクティブなタイムラインに関連付けられており、タイムライン時刻をオリジン基準時刻に変換する手順を定義している場合は、<a
                                data-link-type="dfn" href="#scheduled-event-time"
                                id="ref-for-scheduled-event-time③">予定イベント時刻</a>をその手順で<var>timeline time</var>を変換した結果とする。
                            それ以外の場合は、<span id="ref-for-scheduled-event-time④">予定イベント時刻</span>を<a data-link-type="dfn"
                                href="#unresolved" id="ref-for-unresolved⑥⑦">未解決</a>な<a data-link-type="dfn"
                                href="#time-value" id="ref-for-time-value②⑧">時間値</a>とする。</p>
                        <p>それ以外の場合は、<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                                id="ref-for-queue-a-task①">タスクをキュー</a>し、<a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                                id="ref-for-concept-event-dispatch②">cancelEventをanimationにディスパッチ</a>する。タスクソースは<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                                id="ref-for-dom-manipulation-task-source①">DOM操作タスクソース</a>。</p>
                </ol>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-hold-time"
                        id="ref-for-animation-hold-time③⑨">ホールド時刻</a>を<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑥⑧">未解決</a>にする。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time③④">開始時刻</a>を<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑥⑨">未解決</a>にする。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-reset-an-animations-pending-tasks">保留中タスクのリセット</dfn>手順（<var>animation</var>）は次の通りです：</p>
        <ol>
            <li data-md>
                <p><var>animation</var>が<a data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task①③">保留中再生タスク</a>も<a data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task①③">保留中一時停止タスク</a>も持たない場合、この手順を中止する。</p>
            <li data-md>
                <p><var>animation</var>が<a data-link-type="dfn" href="#pending-play-task"
                        id="ref-for-pending-play-task①④">保留中再生タスク</a>を持つ場合、そのタスクをキャンセルする。</p>
            <li data-md>
                <p><var>animation</var>が<a data-link-type="dfn" href="#pending-pause-task"
                        id="ref-for-pending-pause-task①④">保留中一時停止タスク</a>を持つ場合、そのタスクをキャンセルする。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                        id="ref-for-apply-any-pending-playback-rate⑦">保留中再生速度の適用</a>を<var>animation</var>に行う。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                        id="ref-for-reject①">reject</a>手順で<var>animation</var>の<a data-link-type="dfn"
                        href="#current-ready-promise"
                        id="ref-for-current-ready-promise①④">現在のreadyプロミス</a>を"AbortError"のDOMExceptionでrejectする。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#current-ready-promise"
                        id="ref-for-current-ready-promise①⑤">現在のreadyプロミス</a>の[[PromiseIsHandled]]内部スロットをtrueにする。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#current-ready-promise"
                        id="ref-for-current-ready-promise①⑥">現在のreadyプロミス</a>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                        id="ref-for-a-promise-resolved-with①">新たな解決済みPromiseオブジェクト</a>（値は<var>animation</var>、<var>animation</var>の<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm⑤">関連Realm</a>）にする。</p>
        </ol>
        <h4 class="heading settled" data-level="4.4.15" id="speed-control"><span class="secno">4.4.15. </span><span
                class="content">速度制御</span><a class="self-link" href="#speed-control"></a></h4>
        <div class="informative-bg">
            <p>アニメーションの再生速度は <em>再生速度</em> を設定することで制御できます。
                例えば、再生速度を2に設定すると、アニメーションの<a data-link-type="dfn" href="#animation-current-time"
                    id="ref-for-animation-current-time③③">現在時刻</a>は
                <a data-link-type="dfn" href="#timeline" id="ref-for-timeline③⑦">タイムライン</a>の2倍の速さで増加します。
                同様に、再生速度を-1に設定すると
                アニメーションの<span id="ref-for-animation-current-time③④">現在時刻</span>は
                <span id="ref-for-timeline③⑧">タイムライン</span>の<a data-link-type="dfn" href="#time-value"
                    id="ref-for-time-value②⑨">時間値</a>が増加するのと同じ速度で減少します。
            </p>
        </div>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation①⑧">アニメーション</a>は <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="playback-rate">再生速度</dfn> を持ち、
            関連付けられた<a data-link-type="dfn" href="#timeline" id="ref-for-timeline③⑨">タイムライン</a>の<a data-link-type="dfn"
                href="#time-value" id="ref-for-time-value③⓪">時間値</a>の変化速度からアニメーションの<a data-link-type="dfn"
                href="#animation-current-time" id="ref-for-animation-current-time③⑤">現在時刻</a>へのスケーリング係数を提供します。
            <a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate②⑤">再生速度</a>の初期値は1です。
        </p>
        <p>アニメーションの<a data-link-type="dfn" href="#playback-rate"
                id="ref-for-playback-rate②⑥">再生速度</a>を0に設定すると、事実上一時停止状態になります（ただし<a data-link-type="dfn"
                href="#animation-play-state" id="ref-for-animation-play-state④">再生状態</a>が必ずしも<a data-link-type="dfn"
                href="#play-state-paused" id="ref-for-play-state-paused②">一時停止</a>になるとは限りません）。</p>
        <h5 class="heading settled" data-level="4.4.15.1" id="setting-the-playback-rate-of-an-animation"><span
                class="secno">4.4.15.1. </span><span class="content">アニメーションの再生速度の設定</span><a class="self-link"
                href="#setting-the-playback-rate-of-an-animation"></a></h5>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-the-playback-rate">再生速度の設定</dfn>手順（
            <a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation①⑨">アニメーション</a>
            <var>animation</var>を<var>new playback rate</var>に設定）は次の通りです：
        </p>
        <ol>
            <li data-md>
                <p><var>animation</var> の<a data-link-type="dfn" href="#pending-playback-rate"
                        id="ref-for-pending-playback-rate②">保留中再生速度</a>をクリアする。</p>
            <li data-md>
                <p><var>previous time</var>を、<a data-link-type="dfn" href="#animation-current-time"
                        id="ref-for-animation-current-time③⑥">現在時刻</a>の変更前の値とする。
                </p>
            <li data-md>
                <p><var>previous playback rate</var>を、<var>animation</var>の現在の<a data-link-type="dfn"
                        href="#effective-playback-rate" id="ref-for-effective-playback-rate④">実効再生速度</a>とする。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate②⑧">再生速度</a>を<var>new playback
                        rate</var>に設定する。</p>
            <li data-md>
                <p>以下のうち<em>最初に一致する条件</em>の手順を実行：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><var>animation</var>が<a data-link-type="dfn"
                                href="#monotonically-increasing-timeline"
                                id="ref-for-monotonically-increasing-timeline③">単調増加</a> な<a data-link-type="dfn"
                                href="#timeline" id="ref-for-timeline④⓪">タイムライン</a>に関連付けられており、<var>previous
                                time</var>が<a data-link-type="dfn" href="#unresolved"
                                id="ref-for-unresolved⑦⓪">解決済み</a>の場合
                        <dd data-md>
                            <p><a data-link-type="dfn" href="#animation-set-the-current-time"
                                    id="ref-for-animation-set-the-current-time②">現在時刻の設定</a>手順で<var>animation</var>の現在時刻を<var>previous
                                    time</var>にする。</p>
                        <dt data-md>
                            <p><var>animation</var>がnull以外の<a data-link-type="dfn" href="#timeline"
                                    id="ref-for-timeline④①">タイムライン</a>に関連付けられていて、かつ<a data-link-type="dfn"
                                    href="#monotonically-increasing-timeline"
                                    id="ref-for-monotonically-increasing-timeline④">単調増加</a>でなく、
                                <var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                    id="ref-for-animation-start-time③⑤">開始時刻</a>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved⑦①">解決済み</a>、
                                <a data-link-type="dfn" href="#associated-effect-end"
                                    id="ref-for-associated-effect-end①④">関連効果終了</a>が無限大でなく、かつ
                                <em>いずれか</em>が成立する場合：
                            </p>
                            <ul>
                                <li data-md>
                                    <p><var>previous playback rate</var> &lt; 0 かつ <var>new playback rate</var> ≥ 0</p>
                                <li data-md>
                                    <p><var>previous playback rate</var> ≥ 0 かつ <var>new playback rate</var> &lt; 0</p>
                            </ul>
                        <dd data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                    id="ref-for-animation-start-time③⑥">開始時刻</a>を
                                <code><a data-link-type="dfn" href="#associated-effect-end" id="ref-for-associated-effect-end①⑤">関連効果終了</a> - <a data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time③⑦">開始時刻</a></code>
                                で評価した値にする。
                            </p>
                            <p class="note" role="note"><span>注:</span>
                                この操作は非単調タイムライン上でアニメーションの開始／終了時刻を反転し、開始時刻の相対オフセットを保ちます。</p>
                    </dl>
                </div>
        </ol>
        <h5 class="heading settled" data-level="4.4.15.2" id="seamlessly-updating-the-playback-rate-of-an-animation">
            <span class="secno">4.4.15.2. </span><span class="content">アニメーションの再生速度をシームレスに更新する</span><a
                class="self-link" href="#seamlessly-updating-the-playback-rate-of-an-animation"></a>
        </h5>
        <p>別プロセスやスレッド上で実行中のアニメーションの場合、
            <a data-link-type="dfn" href="#set-the-playback-rate" id="ref-for-set-the-playback-rate①">再生速度の設定</a>手順は、
            アニメーションの実行プロセス／スレッドが更新操作側と同期していないとジャンプを引き起こす可能性があります。
        </p>
        <p>アニメーションの<a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate②⑨">再生速度</a>をシームレスに変更するために、
            アニメーションには <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="pending-playback-rate">保留中再生速度</dfn> を持たせることができ、
            必要な同期後に（他プロセスやスレッドの場合）適用されます。</p>
        <p>初期状態で<a data-link-type="dfn" href="#pending-playback-rate"
                id="ref-for-pending-playback-rate③">保留中再生速度</a>は未設定です。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="effective-playback-rate">実効再生速度</dfn>は、
            <var>animation</var>の<a data-link-type="dfn" href="#pending-playback-rate"
                id="ref-for-pending-playback-rate④">保留中再生速度</a>があればそれを、なければ<a data-link-type="dfn" href="#playback-rate"
                id="ref-for-playback-rate③⓪">再生速度</a>を使います。
        </p>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation②②">アニメーション</a>
            <var>animation</var>に <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="apply any pending playback rate"
                data-noexport id="apply-any-pending-playback-rate">保留中再生速度の適用</dfn>を行う手順：
        </p>
        <ol>
            <li data-md>
                <p><var>animation</var>が<a data-link-type="dfn" href="#pending-playback-rate"
                        id="ref-for-pending-playback-rate⑤">保留中再生速度</a>を持たない場合、これらの手順を中止する。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#playback-rate"
                        id="ref-for-playback-rate③①">再生速度</a>を<a data-link-type="dfn" href="#pending-playback-rate"
                        id="ref-for-pending-playback-rate⑥">保留中再生速度</a>に設定する。</p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#pending-playback-rate"
                        id="ref-for-pending-playback-rate⑦">保留中再生速度</a>をクリアする。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="seamlessly-update-the-playback-rate">再生速度をシームレスに更新する</dfn>手順（<a data-link-type="dfn"
                href="#concept-animation" id="ref-for-concept-animation②③">アニメーション</a>
            <var>animation</var>、<var>new playback rate</var>で<a data-link-type="dfn" href="#animation-current-time"
                id="ref-for-animation-current-time③⑦">現在時刻</a>を保ったまま）は次の通りです：
        </p>
        <ol>
            <li data-md>
                <p><var>previous play state</var>を<var>animation</var>の<a data-link-type="dfn"
                        href="#animation-play-state" id="ref-for-animation-play-state⑤">再生状態</a>とする。</p>
                <p class="note" role="note"><span>注:</span> <var>animation</var>の<a data-link-type="dfn"
                        href="#effective-playback-rate"
                        id="ref-for-effective-playback-rate⑤">実効再生速度</a>を更新する前に再生状態を記録する必要があります。
                    このロジックでは、<var>animation</var>が<em>現在</em><a data-link-type="dfn" href="#play-state-finished"
                        id="ref-for-play-state-finished⑦">完了</a>状態であれば、<a data-link-type="dfn"
                        href="#pending-playback-rate" id="ref-for-pending-playback-rate⑧">保留中再生速度</a>を即座に適用したいからです。
                </p>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#pending-playback-rate"
                        id="ref-for-pending-playback-rate①⓪">保留中再生速度</a>を<var>new playback rate</var>に設定する。
                </p>
            <li data-md>
                <p>以下から最初に一致する条件による手順を実行：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><var>animation</var>が<a data-link-type="dfn" href="#pending-play-task"
                                id="ref-for-pending-play-task①⑤">保留中再生タスク</a>または<a data-link-type="dfn"
                                href="#pending-pause-task" id="ref-for-pending-pause-task①⑤">保留中一時停止タスク</a>を持つ場合
                        <dd data-md>
                            <p>これらの手順を中止する。</p>
                            <p class="note" role="note"><span>注:</span> 保留中タスクの種類によって、走行中に<a data-link-type="dfn"
                                    href="#pending-playback-rate"
                                    id="ref-for-pending-playback-rate①①">保留中再生速度</a>が適用されるため、追加アクションは不要です。</p>
                        <dt data-md>
                            <p><var>previous play state</var>が<a data-link-type="dfn" href="#play-state-idle"
                                    id="ref-for-play-state-idle②">idle</a>または<a data-link-type="dfn"
                                    href="#play-state-paused"
                                    id="ref-for-play-state-paused③">一時停止</a>、あるいは<var>animation</var>の<a
                                    data-link-type="dfn" href="#animation-current-time"
                                    id="ref-for-animation-current-time③⑧">現在時刻</a>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved⑦②">未解決</a>の場合
                        <dd data-md>
                            <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                                    id="ref-for-apply-any-pending-playback-rate⑧">保留中再生速度の適用</a>手順を<var>animation</var>に実行する。
                            </p>
                            <p class="note" role="note"><span>注:</span>
                                2つ目の条件は、未解決の現在時刻かつ保留中再生タスクがない実行中アニメーションに対して、以下の再生処理を行わないようにするためです。</p>
                        <dt data-md><var>previous play state</var>が<a data-link-type="dfn" href="#play-state-finished"
                                id="ref-for-play-state-finished⑧">完了</a>の場合
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><var>unconstrained current time</var>を、<var>animation</var>の<a
                                            data-link-type="dfn" href="#animation-current-time"
                                            id="ref-for-animation-current-time③⑨">現在時刻</a>を<a data-link-type="dfn"
                                            href="#animation-hold-time" id="ref-for-animation-hold-time④⓪">ホールド時刻</a>に<a
                                            data-link-type="dfn" href="#unresolved"
                                            id="ref-for-unresolved⑦③">未解決</a>時間値を代入して計算した値とする。</p>
                                <li data-md>
                                    <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                            id="ref-for-animation-start-time③⑧">開始時刻</a>を
                                        <code><var>timeline time</var> - (<var>unconstrained current time</var> / <a data-link-type="dfn" href="#pending-playback-rate" id="ref-for-pending-playback-rate①②">保留中再生速度</a>)</code>
                                        （<var>timeline time</var>は関連タイムラインの現在<a data-link-type="dfn" href="#time-value"
                                            id="ref-for-time-value③①">時間値</a>）に設定する。
                                    </p>
                                    <p><a data-link-type="dfn" href="#pending-playback-rate"
                                            id="ref-for-pending-playback-rate①③">保留中再生速度</a>が0なら、<var>animation</var>の<a
                                            data-link-type="dfn" href="#animation-start-time"
                                            id="ref-for-animation-start-time③⑨">開始時刻</a>は<var>timeline time</var>とする。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#apply-any-pending-playback-rate"
                                            id="ref-for-apply-any-pending-playback-rate⑨">保留中再生速度の適用</a>手順を<var>animation</var>に実行する。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#update-an-animations-finished-state"
                                            id="ref-for-update-an-animations-finished-state①①">アニメーションの完了状態の更新</a>手順を<var>animation</var>に対して<var>did
                                            seek</var>フラグfalse、<var>synchronously notify</var>フラグfalseで実行する。</p>
                            </ol>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <p><a data-link-type="dfn" href="#play-an-animation"
                                    id="ref-for-play-an-animation①">アニメーション再生</a>手順で<var>animation</var>の<var>auto-rewind</var>フラグをfalseで実行する。
                            </p>
                    </dl>
                </div>
        </ol>
        <h4 class="heading settled" data-level="4.4.16" id="reversing-an-animation-section"><span class="secno">4.4.16.
            </span><span class="content">アニメーションの逆再生</span><a class="self-link"
                href="#reversing-an-animation-section"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reverse-an-animation">アニメーションの逆再生</dfn>手順（<a
                data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation②④">animation</a>
            <var>animation</var>）は次の通りです：
        </p>
        <ol>
            <li data-md>
                <p>もし<var>animation</var>に関連付けられている<a data-link-type="dfn" href="#timeline"
                        id="ref-for-timeline④③">タイムライン</a>が存在しない場合、または関連付けられている<span
                        id="ref-for-timeline④④">タイムライン</span>が<a data-link-type="dfn" href="#inactive-timeline"
                        id="ref-for-inactive-timeline①④">非アクティブ</a>である場合、<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">throw</a>し、「<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>」<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>を発生させ、これらの手順を中止する。
                </p>
            <li data-md>
                <p><var>original pending playback rate</var> を <var>animation</var> の <a data-link-type="dfn"
                        href="#pending-playback-rate" id="ref-for-pending-playback-rate①④">pending playback rate</a>
                    とする。</p>
            <li data-md>
                <p><var>animation</var> の <a data-link-type="dfn" href="#pending-playback-rate"
                        id="ref-for-pending-playback-rate①⑤">pending playback rate</a> を <a data-link-type="dfn"
                        href="#effective-playback-rate" id="ref-for-effective-playback-rate⑥">effective playback
                        rate</a> の加法逆数（すなわち
                    <code>-<a data-link-type="dfn" href="#effective-playback-rate" id="ref-for-effective-playback-rate⑦">effective playback rate</a></code>）に設定する。
                </p>
            <li data-md>
                <p><var>animation</var> に対して <var>auto-rewind</var> フラグを true にして <a data-link-type="dfn"
                        href="#play-an-animation" id="ref-for-play-an-animation②">play an animation</a> の手順を実行する。</p>
                <p>もし <a data-link-type="dfn" href="#play-an-animation" id="ref-for-play-an-animation③">play an
                        animation</a> の手順で例外が発生した場合は、<var>animation</var> の <a data-link-type="dfn"
                        href="#pending-playback-rate" id="ref-for-pending-playback-rate①⑥">pending playback rate</a> を
                    <var>original pending playback rate</var> に戻し、例外を伝播する。
                </p>
        </ol>
        <h4 class="heading settled" data-level="4.4.17" id="play-states"><span class="secno">4.4.17. </span><span
                class="content">再生状態</span><a class="self-link" href="#play-states"></a></h4>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation②⑤">アニメーション</a>は、以下のいずれかの<dfn
                class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export data-lt="play state"
                id="animation-play-state">再生状態</dfn>となり得ます。各状態には非規範的な説明も付与されています：</p>
        <div class="informative-bg">
            <dl>
                <dt data-md><a data-link-type="dfn" href="#play-state-idle" id="ref-for-play-state-idle③">idle</a>
                <dd data-md>
                    <p>アニメーションの<a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time④⓪">現在時刻</a>が<a data-link-type="dfn" href="#unresolved"
                            id="ref-for-unresolved⑦④">未解決</a>であり、
                        アニメーションの<a data-link-type="dfn" href="#animation-start-time"
                            id="ref-for-animation-start-time④⓪">開始時刻</a>も<span id="ref-for-unresolved⑦⑤">未解決</span>であり、
                        保留中タスクが存在しない。
                        この状態ではアニメーションは何の効果も持ちません。</p>
                <dt data-md><a data-link-type="dfn" href="#play-state-running"
                        id="ref-for-play-state-running②">running</a>
                <dd data-md>
                    <p>アニメーションは解決済みの<a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time④①">現在時刻</a>を持ち、各<a data-link-type="dfn"
                            href="#animation-frame" id="ref-for-animation-frame②">アニメーションフレーム</a>ごとに値が変化します（<a
                            data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate③②">再生速度</a>が0でなく、<a
                            data-link-type="dfn" href="#timeline" id="ref-for-timeline④⑤">タイムライン</a>が<a
                            data-link-type="dfn" href="#inactive-timeline"
                            id="ref-for-inactive-timeline①⑤">アクティブ</a>かつ<a data-link-type="dfn"
                            href="#monotonically-increasing-timeline"
                            id="ref-for-monotonically-increasing-timeline⑤">単調増加</a>の場合）。</p>
                <dt data-md><a data-link-type="dfn" href="#play-state-paused" id="ref-for-play-state-paused④">paused</a>
                <dd data-md>
                    <p>アニメーションは一時停止されており、<a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time④②">現在時刻</a>が変化しなくなっています。</p>
                <dt data-md><a data-link-type="dfn" href="#play-state-finished"
                        id="ref-for-play-state-finished⑨">finished</a>
                <dd data-md>
                    <p>アニメーションは再生範囲の自然な境界に到達し、<a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time④③">現在時刻</a>は更新されなくなります。</p>
            </dl>
        </div>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation②⑥">animation</a>
            <var>animation</var> の<a data-link-type="dfn" href="#animation-play-state"
                id="ref-for-animation-play-state⑥">再生状態</a>は、次の条件のうち<em>最初に一致する</em>状態となります：
        </p>
        <div class="switch">
            <dl>
                <dt data-md>
                    <p><em>すべて</em>の次の条件が真の場合：</p>
                    <ul>
                        <li data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-current-time"
                                    id="ref-for-animation-current-time④④">現在時刻</a>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved⑦⑥">未解決</a>であること
                            </p>
                        <li data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                    id="ref-for-animation-start-time④①">開始時刻</a>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved⑦⑦">未解決</a>であること
                            </p>
                        <li data-md>
                            <p><var>animation</var>が <a data-link-type="dfn" href="#pending-play-task"
                                    id="ref-for-pending-play-task①⑥">保留中再生タスク</a>
                                または<a data-link-type="dfn" href="#pending-pause-task"
                                    id="ref-for-pending-pause-task①⑥">保留中一時停止タスク</a> を持たないこと
                            </p>
                    </ul>
                <dd data-md>
                    <p>→ <dfn class="dfn-paneled" data-dfn-for="play state" data-dfn-type="dfn" data-export
                            data-local-lt="idle play state" id="play-state-idle">idle</dfn></p>
                <dt data-md>
                    <p><em>いずれか</em>の次の条件が真の場合：</p>
                    <ul>
                        <li data-md>
                            <p><var>animation</var>が<a data-link-type="dfn" href="#pending-pause-task"
                                    id="ref-for-pending-pause-task①⑦">保留中一時停止タスク</a>を持つ場合</p>
                        <li data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#animation-start-time"
                                    id="ref-for-animation-start-time④②">開始時刻</a>が<a data-link-type="dfn"
                                    href="#unresolved" id="ref-for-unresolved⑦⑧">未解決</a>かつ
                                <a data-link-type="dfn" href="#pending-play-task"
                                    id="ref-for-pending-play-task①⑦">保留中再生タスク</a>を持たない場合
                            </p>
                    </ul>
                <dd data-md>
                    <p>→ <dfn class="dfn-paneled" data-dfn-for="play state" data-dfn-type="dfn" data-export
                            data-local-lt="paused play state" id="play-state-paused">paused</dfn></p>
                <dt data-md>
                    <p><var>animation</var>の<a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time④⑤">現在時刻</a>が<a data-link-type="dfn" href="#unresolved"
                            id="ref-for-unresolved⑦⑨">解決済み</a>で、かつ以下のいずれかが真の場合：</p>
                    <ul>
                        <li data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#effective-playback-rate"
                                    id="ref-for-effective-playback-rate⑧">実効再生速度</a> > 0 かつ <a data-link-type="dfn"
                                    href="#animation-current-time" id="ref-for-animation-current-time④⑥">現在時刻</a> ≥ <a
                                    data-link-type="dfn" href="#associated-effect-end"
                                    id="ref-for-associated-effect-end①⑥">関連効果終了</a></p>
                        <li data-md>
                            <p><var>animation</var>の<a data-link-type="dfn" href="#effective-playback-rate"
                                    id="ref-for-effective-playback-rate⑨">実効再生速度</a>
                                &lt; 0 かつ <a data-link-type="dfn" href="#animation-current-time"
                                    id="ref-for-animation-current-time④⑦">現在時刻</a> ≤ 0
                            </p>
                    </ul>
                <dd data-md>
                    <p>→ <dfn class="dfn-paneled" data-dfn-for="play state" data-dfn-type="dfn" data-export
                            data-local-lt="finished play state" id="play-state-finished">finished</dfn></p>
                <dt data-md>それ以外の場合
                <dd data-md>
                    <p>→ <dfn class="dfn-paneled" data-dfn-for="play state" data-dfn-type="dfn" data-export
                            data-local-lt="running play state" id="play-state-running">running</dfn></p>
            </dl>
        </div>
        <div class="note" role="note">
            <p>注意：<a data-link-type="dfn" href="#play-state-paused" id="ref-for-play-state-paused⑤">paused</a>再生状態は
                <a data-link-type="dfn" href="#play-state-finished"
                    id="ref-for-play-state-finished①⓪">finished</a>再生状態よりも優先されます。
            </p>
            <p>ただし、自然な再生範囲外で一時停止されたアニメーションは、例えば以下のように<a data-link-type="dfn" href="#animation-start-time"
                    id="ref-for-animation-start-time④③">開始時刻</a>を設定することで、再開せずに<a data-link-type="dfn"
                    href="#play-state-paused" id="ref-for-play-state-paused⑥">paused</a>状態から<a data-link-type="dfn"
                    href="#play-state-finished" id="ref-for-play-state-finished①①">finished</a>状態に変換できます：</p>
            <div class="example" id="example-e0f669c8">
                <a class="self-link" href="#example-e0f669c8"></a>
                <pre class="lang-javascript highlight">animation<c- p>.</c->effect<c- p>.</c->updateTiming<c- p>({</c-> duration<c- o>:</c-> <c- mf>5000</c-> <c- p>});</c->
animation<c- p>.</c->currentTime <c- o>=</c-> <c- mf>4000</c-><c- p>;</c->
animation<c- p>.</c->pause<c- p>();</c->
animation<c- p>.</c->ready<c- p>.</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
  animation<c- p>.</c->effect<c- p>.</c->updateTiming<c- p>({</c-> duration<c- o>:</c-> <c- mf>3000</c-> <c- p>});</c->
  alert<c- p>(</c->animation<c- p>.</c->playState<c- p>);</c-> <c- c1>// 'paused'と表示</c->
  animation<c- p>.</c->startTime <c- o>=</c->
    document<c- p>.</c->timeline<c- p>.</c->currentTime <c- o>-</c-> animation<c- p>.</c->currentTime <c- o>*</c-> animation<c- p>.</c->playbackRate<c- p>;</c->
  alert<c- p>(</c->animation<c- p>.</c->playState<c- p>);</c-> <c- c1>// 'finished'と表示</c->
<c- p>});</c-></pre>
            </div>
        </div>
        <h4 class="heading settled" data-level="4.4.18" id="animation-events-section"><span class="secno">4.4.18.
            </span><span class="content">アニメーションイベント</span><a class="self-link" href="#animation-events-section"></a>
        </h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="animation-events">アニメーションイベント</dfn>には、この仕様で定義される<a data-link-type="dfn"
                href="#animation-playback-events" id="ref-for-animation-playback-events">アニメーション再生イベント</a>や、
            <a data-link-type="dfn" href="https://drafts.csswg.org/css-transitions/#transition-events"
                id="ref-for-transition-events">CSSトランジションのイベント</a> <a data-link-type="biblio"
                href="#biblio-css-transitions-1">[CSS-TRANSITIONS-1]</a>、
            <a data-link-type="dfn" href="https://drafts.csswg.org/css-animations/#events"
                id="ref-for-events">CSSアニメーションのイベント</a> <a data-link-type="biblio"
                href="#biblio-css-animations-1">[CSS-ANIMATIONS-1]</a> が含まれます。
            今後の仕様でさらに多様な<a data-link-type="dfn" href="#animation-events"
                id="ref-for-animation-events②">アニメーションイベント</a>が追加される可能性もあります。
        </p>
        <p>各<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document④">Document</a></code>は、<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export
                id="pending-animation-event-queue">保留中アニメーションイベントキュー</dfn>を保持し、<a data-link-type="dfn"
                href="#animation-events" id="ref-for-animation-events③">アニメーションイベント</a>とその対応するイベントターゲット、
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="scheduled-event-time">予定イベント時刻</dfn>を格納します。
            <a data-link-type="dfn" href="#scheduled-event-time" id="ref-for-scheduled-event-time⑤">予定イベント時刻</a>は<a
                data-link-type="dfn" href="#time-value" id="ref-for-time-value③②">時間値</a>であり、
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-concept-settings-object-time-origin②">タイムオリジン</a>基準で、アニメーションが無限に高頻度で更新された場合にイベントが理想的にディスパッチされるタイミングを表します。
            この値は<a data-link-type="dfn" href="#update-animations-and-send-events"
                id="ref-for-update-animations-and-send-events③">アニメーションの更新とイベント送信</a>手順でキューされた<span
                id="ref-for-animation-events④">アニメーションイベント</span>を時系列でソートするために使われます。
            なお、この値は例えば<a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation②⑦">アニメーション</a>の<a
                data-link-type="dfn" href="#timeline"
                id="ref-for-timeline④⑥">タイムライン</a>がタイムオリジンと無関係な値を生成する場合（例：スクロール位置を追跡するタイムライン）や、
            <span id="ref-for-timeline④⑦">タイムライン</span>が<a data-link-type="dfn" href="#inactive-timeline"
                id="ref-for-inactive-timeline①⑥">非アクティブ</a>の場合は<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved⑧⓪">未解決</a>となることがあります。
        </p>
        <h5 class="heading settled" data-level="4.4.18.1" id="sorting-animation-events"><span class="secno">4.4.18.1.
            </span><span class="content">アニメーションイベントのソート</span><a class="self-link"
                href="#sorting-animation-events"></a></h5>
        <p>以下の定義は、イベントキューのソートを補助するためのものです。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="animation time to timeline time" data-noexport
                id="animation-time-to-timeline-time">アニメーション時刻をタイムライン時刻に変換する</dfn>手順：
            <a data-link-type="dfn" href="#time-value" id="ref-for-time-value③③">時間値</a> <var>time</var>（アニメーションの<a
                data-link-type="dfn" href="#animation-start-time"
                id="ref-for-animation-start-time④④">開始時刻</a>基準）について、以下を実行：
        </p>
        <ol>
            <li data-md>
                <p><var>time</var>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑧①">未解決</a>なら、<var>time</var>を返す。</p>
            <li data-md>
                <p><var>time</var>が無限大なら、<a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑧②">未解決</a>な<a
                        data-link-type="dfn" href="#time-value" id="ref-for-time-value③④">時間値</a>を返す。</p>
            <li data-md>
                <p>アニメーションの<a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate③③">再生速度</a>が0なら、<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑧③">未解決</a>な<a
                        data-link-type="dfn" href="#time-value" id="ref-for-time-value③⑤">時間値</a>を返す。</p>
            <li data-md>
                <p>アニメーションの<a data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time④⑤">開始時刻</a>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑧④">未解決</a>なら、
                    <span id="ref-for-unresolved⑧⑤">未解決</span>な<a data-link-type="dfn" href="#time-value"
                        id="ref-for-time-value③⑥">時間値</a>を返す。
                </p>
            <li data-md>
                <p>次を計算して返す：<code><var>time</var> × (1 / <var>playback rate</var>) + <var>start time</var></code>
                    （<var>playback rate</var>と<var>start time</var>はそれぞれアニメーションの<a data-link-type="dfn"
                        href="#playback-rate" id="ref-for-playback-rate③④">再生速度</a>と<a data-link-type="dfn"
                        href="#animation-start-time" id="ref-for-animation-start-time④⑥">開始時刻</a>）。
                </p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="animation time to origin-relative time" data-noexport
                id="animation-time-to-origin-relative-time">タイムライン時刻を原点相対時刻に変換する</dfn>には、<a data-link-type="dfn"
                href="#time-value" id="ref-for-time-value③⑦">時間値</a> <var>time</var>（<span
                id="ref-for-time-value③⑧">時間値</span>と同じスケールで表現される）、<a data-link-type="dfn" href="#timeline"
                id="ref-for-timeline④⑧">タイムライン</a> <var>timeline</var>について、次の手順を実行します。</p>
        <ol>
            <li data-md>
                <p><var>timeline time</var>を、<a data-link-type="dfn" href="#animation-time-to-timeline-time"
                        id="ref-for-animation-time-to-timeline-time">アニメーション時刻をタイムライン時刻に変換する</a>手順で<var>time</var>を変換した結果とする。
                </p>
            <li data-md>
                <p><var>timeline time</var>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved⑧⑥">未解決</a>なら、<var>time</var>を返す。</p>
            <li data-md>
                <p>アニメーションが<a data-link-type="dfn" href="#timeline" id="ref-for-timeline④⑨">タイムライン</a>に関連付けられていない場合、<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑧⑦">未解決</a>な時間値を返す。</p>
            <li data-md>
                <p>アニメーションが<a data-link-type="dfn" href="#inactive-timeline"
                        id="ref-for-inactive-timeline①⑦">非アクティブタイムライン</a>に関連付けられている場合、<a data-link-type="dfn"
                        href="#unresolved" id="ref-for-unresolved⑧⑧">未解決</a>な時間値を返す。</p>
            <li data-md>
                <p>関連タイムラインに<a data-link-type="dfn" href="#timeline-time-to-origin-relative-time"
                        id="ref-for-timeline-time-to-origin-relative-time②">タイムライン時刻をオリジン基準時刻に変換する</a>手順がない場合、<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑧⑨">未解決</a>な<a
                        data-link-type="dfn" href="#time-value" id="ref-for-time-value③⑨">時間値</a>を返す。</p>
            <li data-md>
                <p>関連タイムラインの定義された手順で<var>timeline time</var>をオリジン基準時刻に変換した結果を返す。</p>
        </ol>
        <h5 class="heading settled" data-level="4.4.18.2" id="animation-playback-events-section"><span
                class="secno">4.4.18.2. </span><span class="content">アニメーション再生イベント</span><a class="self-link"
                href="#animation-playback-events-section"></a></h5>
        <p><a data-link-type="dfn" href="#concept-animation"
                id="ref-for-concept-animation②⑧">アニメーション</a>の再生中に、状態の変化は<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="animation-playback-events">アニメーション再生イベント</dfn>によって報告されます。</p>
        <p><a data-link-type="dfn" href="#animation-playback-events"
                id="ref-for-animation-playback-events①">アニメーション再生イベント</a>はタイミングモデルのプロパティです。そのため、<a data-link-type="dfn"
                href="#concept-animation" id="ref-for-concept-animation②⑨">アニメーション</a>の<a data-link-type="dfn"
                href="#animation-associated-effect"
                id="ref-for-animation-associated-effect②⓪">関連効果</a>が存在しない場合や目に見える結果がない場合でも、イベントはディスパッチされます。</p>
        <h5 class="heading settled" data-level="4.4.18.3" id="animation-playback-event-types"><span
                class="secno">4.4.18.3. </span><span class="content">アニメーション再生イベントの種類</span><a class="self-link"
                href="#animation-playback-event-types"></a></h5>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="finish event" data-noexport
                    id="finish-event">finish</dfn>
            <dd data-md>
                <p>アニメーションが<a data-link-type="dfn" href="#play-state-finished"
                        id="ref-for-play-state-finished①②">finished</a>再生状態になったときにキューされます。</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="cancel event" data-noexport
                    id="cancel-event">cancel</dfn>
            <dd data-md>
                <p>アニメーションが他の状態から<a data-link-type="dfn" href="#play-state-idle"
                        id="ref-for-play-state-idle④">idle</a>再生状態になったときにキューされます。新たなアニメーションが最初からidleの場合は<a
                        data-link-type="dfn" href="#cancel-event" id="ref-for-cancel-event②">cancelイベント</a>は生成されません。</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="remove event" data-noexport
                    id="remove-event">remove</dfn>
            <dd data-md>
                <p>アニメーションが自動的に削除されたときにキューされます。
                    詳細は<a href="#replacing-animations">§ 5.5 アニメーションの置換</a>参照。</p>
        </dl>
        <h3 class="heading settled" data-level="4.5" id="animation-effects"><span class="secno">4.5. </span><span
                class="content">アニメーション効果</span><a class="self-link" href="#animation-effects"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="animation-effect">アニメーション効果</dfn>は、タイミング階層内の項目を指す抽象的な用語です。</p>
        <h4 class="heading settled" data-level="4.5.1" id="animation-effects-and-animations"><span class="secno">4.5.1.
            </span><span class="content">アニメーション効果とアニメーションの関係</span><a class="self-link"
                href="#animation-effects-and-animations"></a></h4>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation③①">アニメーション</a>の<a
                data-link-type="dfn" href="#animation-associated-effect"
                id="ref-for-animation-associated-effect②①">関連効果</a>（設定されていれば）は、<a data-link-type="dfn"
                href="#animation-effect" id="ref-for-animation-effect⑥">アニメーション効果</a>の一種です。
            <span id="ref-for-animation-associated-effect②②">関連効果</span>は、その<span
                id="ref-for-concept-animation③②">アニメーション</span>に<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="associated with an animation" data-noexport
                id="associated-with-an-animation">関連付けられて</dfn>いると言います。
            ある時点では、<span id="ref-for-animation-effect⑦">アニメーション効果</span>は最大で1つの<span
                id="ref-for-concept-animation③③">アニメーション</span>にのみ<a data-link-type="dfn"
                href="#associated-with-an-animation" id="ref-for-associated-with-an-animation">関連付け</a>られます。
        </p>
        <p><a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑧">アニメーション効果</a><var>effect</var>は、<var>timeline</var>に<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-lt="associated with a timeline" data-noexport
                id="associated-with-a-timeline">関連付けられている</dfn>と言えるのは、<var>effect</var>が<a data-link-type="dfn"
                href="#associated-with-an-animation"
                id="ref-for-associated-with-an-animation①">アニメーションに関連付けられて</a>いて、そのアニメーションが<var>timeline</var>に関連付けられている場合です。
        </p>
        <h4 class="heading settled" data-level="4.5.2" id="types-of-animation-effects"><span class="secno">4.5.2.
            </span><span class="content">アニメーション効果の種類</span><a class="self-link" href="#types-of-animation-effects"></a>
        </h4>
        <p>この仕様では、<a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect①">キーフレーム効果</a>という1種類の<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑨">アニメーション効果</a>のみを定義しています。
            今後の仕様レベルでさらに多様な<span id="ref-for-animation-effect①⓪">アニメーション効果</span>が定義されます。</p>
        <p>すべての<a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect①①">アニメーション効果</a>は、以下のセクションで説明する共通プロパティを持ちます。</p>
        <h4 class="heading settled" data-level="4.5.3" id="the-active-interval"><span class="secno">4.5.3. </span><span
                class="content">アクティブ区間</span><a class="self-link" href="#the-active-interval"></a></h4>
        <div class="informative-bg">
            <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect①②">アニメーション効果</a>が実行される期間を<a
                    data-link-type="dfn" href="#active-interval" id="ref-for-active-interval">アクティブ区間</a>と呼びます。
                各<span id="ref-for-animation-effect①③">アニメーション効果</span>はこの区間を1つだけ持ちます。</p>
            <p><a data-link-type="dfn" href="#active-interval" id="ref-for-active-interval①">アクティブ区間</a>の下限は、通常はこの<a
                    data-link-type="dfn" href="#animation-effect"
                    id="ref-for-animation-effect①④">アニメーション効果</a>に関連付けられた<a data-link-type="dfn"
                    href="#concept-animation" id="ref-for-concept-animation③④">アニメーション</a>の<a data-link-type="dfn"
                    href="#animation-start-time" id="ref-for-animation-start-time④⑦">開始時刻</a>に対応しますが、<span
                    id="ref-for-animation-effect①⑤">アニメーション効果</span>の<a data-link-type="dfn" href="#start-delay"
                    id="ref-for-start-delay">開始遅延</a>によってシフトする場合があります。</p>
            <p>区間の上限は<a data-link-type="dfn" href="#active-duration" id="ref-for-active-duration">アクティブ期間</a>によって決まります。
            </p>
            <p><a data-link-type="dfn" href="#animation-start-time" id="ref-for-animation-start-time④⑧">開始時刻</a>、<a
                    data-link-type="dfn" href="#start-delay" id="ref-for-start-delay①">開始遅延</a>、<a data-link-type="dfn"
                    href="#active-duration" id="ref-for-active-duration①">アクティブ期間</a>の関係は下図で説明します。</p>
            <figure>
                <img alt="開始遅延がアクティブ区間の端点に与える影響例"
                    src="https://www.w3.org/TR/web-animations-1/images/active-interval-examples.svg" width="600">
                <figcaption> <a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay②">開始遅延</a>が<a
                        data-link-type="dfn" href="#active-interval"
                        id="ref-for-active-interval②">アクティブ区間</a>の端点に与える影響の例。<br> (a) 遅延なしのアニメーション効果：<a
                        data-link-type="dfn" href="#animation-start-time"
                        id="ref-for-animation-start-time④⑨">開始時刻</a>と<span
                        id="ref-for-active-interval③">アクティブ区間</span>の始端は一致。<br> (b) 正の遅延がある場合：<span
                        id="ref-for-active-interval④">アクティブ区間</span>の始端は遅延分だけ後ろ倒し。<br> (c) 負の遅延がある場合：<span
                        id="ref-for-active-interval⑤">アクティブ区間</span>の始端は遅延分だけ前倒し。</figcaption>
            </figure>
            <p><a data-link-type="dfn" href="#end-delay"
                    id="ref-for-end-delay">終了遅延</a>も指定可能ですが、主にアニメーションのシーケンス制御時に使われます。</p>
        </div>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect①⑥">アニメーション効果</a>は、<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="active-interval">アクティブ区間</dfn>を定義します。この区間は、効果がその効果を生むようにスケジュールされている期間であり、<a data-link-type="dfn"
                href="#active-interval" id="ref-for-active-interval⑥">アクティブ区間</a>外で適用される<a data-link-type="dfn"
                href="#fill-mode" id="ref-for-fill-mode">塗りつぶしモード</a>は例外です。</p>
        <p><a data-link-type="dfn" href="#active-interval" id="ref-for-active-interval⑦">アクティブ区間</a>の下限は<a
                data-link-type="dfn" href="#start-delay" id="ref-for-start-delay③">開始遅延</a>で定義されます。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="start-delay">開始遅延</dfn>は、<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect①⑦">アニメーション効果</a>が関連付けられた<a
                data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation③⑤">アニメーション</a>の<a
                data-link-type="dfn" href="#animation-start-time"
                id="ref-for-animation-start-time⑤⓪">開始時刻</a>からの符号付きオフセットです。</p>
        <p><a data-link-type="dfn" href="#active-interval" id="ref-for-active-interval⑧">アクティブ区間</a>の長さは<a
                data-link-type="dfn" href="#active-duration" id="ref-for-active-duration②">アクティブ期間</a>と呼ばれ、計算方法は<a
                href="#calculating-the-active-duration">§ 4.8.2 アクティブ期間の計算</a>で定義されています。</p>
        <p><a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay④">開始遅延</a>に似て、<a data-link-type="dfn"
                href="#animation-effect" id="ref-for-animation-effect①⑧">アニメーション効果</a>には
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="end-delay">終了遅延</dfn>もあり、主に他の<span
                id="ref-for-animation-effect①⑨">アニメーション効果</span>の<a data-link-type="dfn" href="#end-time"
                id="ref-for-end-time③">終了時刻</a>基準でシーケンス制御する際に使われます。
            これは通常シーケンス効果（今後の仕様で導入）と組み合わせてのみ有効ですが、SVGの<code>min</code>属性（<a data-link-type="biblio"
                href="#biblio-svg11">[SVG11]</a>第19章）表現の目的でここに含まれます。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="end-time">終了時刻</dfn>は、<a data-link-type="dfn"
                href="#animation-effect"
                id="ref-for-animation-effect②⓪">アニメーション効果</a>に対し<code>max(<a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay⑤">開始遅延</a> + <a data-link-type="dfn" href="#active-duration" id="ref-for-active-duration③">アクティブ期間</a> + <a data-link-type="dfn" href="#end-delay" id="ref-for-end-delay①">終了遅延</a>, 0)</code>で評価されます。
        </p>
        <h4 class="heading settled" data-level="4.5.4" id="local-time-section"><span class="secno">4.5.4. </span><span
                class="content">ローカル時刻</span><a class="self-link" href="#local-time-section"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="local-time">ローカル時刻</dfn>は、ある時点の<a
                data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect②①">アニメーション効果</a>について、以下から最初に一致する条件で決まります：</p>
        <div class="switch">
            <dl>
                <dt data-md><a data-link-type="dfn" href="#animation-effect"
                        id="ref-for-animation-effect②②">アニメーション効果</a>が<a data-link-type="dfn"
                        href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation②">アニメーションに関連付けられている</a>場合
                <dd data-md>
                    <p>ローカル時刻は関連<a data-link-type="dfn" href="#concept-animation"
                            id="ref-for-concept-animation③⑥">アニメーション</a>の<a data-link-type="dfn"
                            href="#animation-current-time" id="ref-for-animation-current-time④⑧">現在時刻</a>です。</p>
                <dt data-md>それ以外の場合
                <dd data-md>
                    <p>ローカル時刻は<a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑨⓪">未解決</a>です。</p>
            </dl>
        </div>
        <h4 class="heading settled" data-level="4.5.5" id="animation-effect-phases-and-states"><span
                class="secno">4.5.5. </span><span class="content">アニメーション効果のフェーズと状態</span><a class="self-link"
                href="#animation-effect-phases-and-states"></a></h4>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p>ある時点で、<a data-link-type="dfn" href="#animation-effect"
                    id="ref-for-animation-effect②③">アニメーション効果</a>は3つの<em>フェーズ</em>のいずれかにあります。
                <span id="ref-for-animation-effect②④">アニメーション効果</span>が<a data-link-type="dfn" href="#local-time"
                    id="ref-for-local-time">ローカル時刻</a>を<a data-link-type="dfn" href="#unresolved"
                    id="ref-for-unresolved⑨①">未解決</a>で持つ場合、いずれのフェーズにも属しません。
            </p>
            <p>フェーズの違いは下図で示します。</p>
            <figure>
                <img alt="アニメーション効果のフェーズと状態の例"
                    src="https://www.w3.org/TR/web-animations-1/images/animation-effect-phases-and-states.svg"
                    width="700">
                <figcaption>アニメーション効果のフェーズと状態の例</figcaption>
            </figure>
            <p>フェーズの種類：</p>
            <dl>
                <dt data-md><a data-link-type="dfn" href="#animation-effect-before-phase"
                        id="ref-for-animation-effect-before-phase">前フェーズ</a>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect②⑥">アニメーション効果</a>の<a
                            data-link-type="dfn" href="#local-time" id="ref-for-local-time①">ローカル時刻</a>が<a
                            data-link-type="dfn" href="#active-interval" id="ref-for-active-interval⑨">アクティブ区間</a>や<a
                            data-link-type="dfn" href="#end-time" id="ref-for-end-time④">終了時刻</a>よりも前、または負の<a
                            data-link-type="dfn" href="#start-delay" id="ref-for-start-delay⑥">開始遅延</a>期間中。</p>
                <dt data-md><a data-link-type="dfn" href="#animation-effect-active-phase"
                        id="ref-for-animation-effect-active-phase">アクティブフェーズ</a>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect②⑦">アニメーション効果</a>の<a
                            data-link-type="dfn" href="#local-time" id="ref-for-local-time②">ローカル時刻</a>が<a
                            data-link-type="dfn" href="#active-interval"
                            id="ref-for-active-interval①⓪">アクティブ区間</a>内かつ負の<a data-link-type="dfn" href="#start-delay"
                            id="ref-for-start-delay⑦">開始遅延</a>や負の<a data-link-type="dfn" href="#end-delay"
                            id="ref-for-end-delay②">終了遅延</a>期間外。</p>
                <dt data-md><a data-link-type="dfn" href="#animation-effect-after-phase"
                        id="ref-for-animation-effect-after-phase">後フェーズ</a>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect②⑧">アニメーション効果</a>の<a
                            data-link-type="dfn" href="#local-time" id="ref-for-local-time③">ローカル時刻</a>が<a
                            data-link-type="dfn" href="#active-interval"
                            id="ref-for-active-interval①①">アクティブ区間</a>以降、または負の<a data-link-type="dfn" href="#end-delay"
                            id="ref-for-end-delay③">終了遅延</a>により先に<a data-link-type="dfn" href="#end-time"
                            id="ref-for-end-time⑤">終了時刻</a>に到達した場合。ただし負の<a data-link-type="dfn" href="#start-delay"
                            id="ref-for-start-delay⑧">開始遅延</a>期間中は除く。</p>
            </dl>
            <p>これらのフェーズに加えて、<a data-link-type="dfn" href="#animation-effect"
                    id="ref-for-animation-effect②⑨">アニメーション効果</a>は複数の重複する<em>状態</em>にも分類できます。
                状態は1フレームだけ確立され、主にモデルの静的部分記述のために使われます。</p>
            <p>これらの状態とモデル内での使い方の概要：</p>
            <dl>
                <dt data-md><a data-link-type="dfn" href="#in-play" id="ref-for-in-play">再生中</a>
                <dd data-md>
                    <p>各フレームで<a data-link-type="dfn" href="#active-time" id="ref-for-active-time">アクティブ時刻</a>が変化する<a
                            data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect③⓪">アニメーション効果</a>に対応。</p>
                <dt data-md><a data-link-type="dfn" href="#current" id="ref-for-current">現在</a>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#in-play" id="ref-for-in-play①">再生中</a>、または現在の<a
                            data-link-type="dfn" href="#concept-animation"
                            id="ref-for-concept-animation③⑦">アニメーション</a>の<a data-link-type="dfn" href="#playback-rate"
                            id="ref-for-playback-rate③⑤">再生速度</a>次第で今後再生中になる可能性がある<a data-link-type="dfn"
                            href="#animation-effect" id="ref-for-animation-effect③①">アニメーション効果</a>に対応。</p>
                <dt data-md><a data-link-type="dfn" href="#in-effect" id="ref-for-in-effect">効果中</a>
                <dd data-md>
                    <p>解決済みの<a data-link-type="dfn" href="#active-time" id="ref-for-active-time①">アクティブ時刻</a>を持つ<a
                            data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect③②">アニメーション効果</a>に対応。
                        これは<span id="ref-for-animation-effect③③">アニメーション効果</span>が<a data-link-type="dfn"
                            href="#animation-effect-active-phase"
                            id="ref-for-animation-effect-active-phase①">アクティブフェーズ</a>にある場合や、<span
                            id="ref-for-animation-effect-active-phase②">アクティブフェーズ</span>外でも<a data-link-type="dfn"
                            href="#fill-mode" id="ref-for-fill-mode①">塗りつぶしモード</a>（<a href="#fill-behavior">§ 4.6
                            塗りつぶし挙動</a>参照）によりアクティブ時刻が解決される場合。
                        <a data-link-type="dfn" href="#in-effect" id="ref-for-in-effect①">効果中</a>の<span
                            id="ref-for-animation-effect③④">アニメーション効果</span>のみがターゲットに結果を適用します。
                    </p>
            </dl>
            <p>これらの状態の規範的定義は後述します。</p>
        </div>
        <p><a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect③⑤">アニメーション効果</a>のフェーズ判定には以下の定義が必要です：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="animation-direction">アニメーション方向</dfn>
            <dd data-md>
                <p>効果が<a data-link-type="dfn" href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation③">アニメーションに関連付けられて</a>いて、関連<a data-link-type="dfn"
                        href="#concept-animation" id="ref-for-concept-animation③⑧">アニメーション</a>の<a data-link-type="dfn"
                        href="#playback-rate" id="ref-for-playback-rate③⑥">再生速度</a>が0未満なら"逆方向"、それ以外は"順方向"。</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="before-active-boundary-time">アクティブ前境界時刻</dfn>
            <dd data-md>
                <p><code>max(min(<a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay⑨">開始遅延</a>, <a data-link-type="dfn" href="#end-time" id="ref-for-end-time⑥">終了時刻</a>), 0)</code>
                </p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="active-after-boundary-time">アクティブ後境界時刻</dfn>
            <dd data-md>
                <p><code>max(min(<a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay①⓪">開始遅延</a> + <a data-link-type="dfn" href="#active-duration" id="ref-for-active-duration④">アクティブ期間</a>, <a data-link-type="dfn" href="#end-time" id="ref-for-end-time⑦">終了時刻</a>), 0)</code>
                </p>
        </dl>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect③⑥">アニメーション効果</a>は、<dfn
                class="dfn-paneled" data-dfn-for="animation effect" data-dfn-type="dfn" data-export
                id="animation-effect-before-phase">前フェーズ</dfn>にあるのは、効果の<a data-link-type="dfn" href="#local-time"
                id="ref-for-local-time④">ローカル時刻</a>が<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved⑨②">未解決</a>でなく、かつ以下いずれかの条件を満たす場合：</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#local-time" id="ref-for-local-time⑤">ローカル時刻</a>が<a
                        data-link-type="dfn" href="#before-active-boundary-time"
                        id="ref-for-before-active-boundary-time">アクティブ前境界時刻</a>未満、<em>または</em></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-direction"
                        id="ref-for-animation-direction">アニメーション方向</a>が"逆方向"で、<a data-link-type="dfn" href="#local-time"
                        id="ref-for-local-time⑥">ローカル時刻</a>が<a data-link-type="dfn" href="#before-active-boundary-time"
                        id="ref-for-before-active-boundary-time①">アクティブ前境界時刻</a>と等しい場合。</p>
        </ol>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect③⑦">アニメーション効果</a>は、<dfn
                class="dfn-paneled" data-dfn-for="animation effect" data-dfn-type="dfn" data-export
                id="animation-effect-after-phase">後フェーズ</dfn>にあるのは、効果の<a data-link-type="dfn" href="#local-time"
                id="ref-for-local-time⑦">ローカル時刻</a>が<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved⑨③">未解決</a>でなく、かつ以下いずれかの条件を満たす場合：</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#local-time" id="ref-for-local-time⑧">ローカル時刻</a>が<a
                        data-link-type="dfn" href="#active-after-boundary-time"
                        id="ref-for-active-after-boundary-time">アクティブ後境界時刻</a>より大きい、<em>または</em></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-direction"
                        id="ref-for-animation-direction②">アニメーション方向</a>が"順方向"で、<a data-link-type="dfn"
                        href="#local-time" id="ref-for-local-time⑨">ローカル時刻</a>が<a data-link-type="dfn"
                        href="#active-after-boundary-time"
                        id="ref-for-active-after-boundary-time①">アクティブ後境界時刻</a>と等しい場合。</p>
        </ol>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect③⑧">アニメーション効果</a>は、<dfn
                class="dfn-paneled" data-dfn-for="animation effect" data-dfn-type="dfn" data-export
                id="animation-effect-active-phase">アクティブフェーズ</dfn>にあるのは、効果の<a data-link-type="dfn" href="#local-time"
                id="ref-for-local-time①⓪">ローカル時刻</a>が<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved⑨④">未解決</a>でなく、かつ前フェーズでも後フェーズでもない場合です。</p>
        <p>さらに、上記いずれのフェーズにも属さない場合を<a data-link-type="dfn" data-dfn-for="animation effect" data-dfn-type="dfn"
                data-export id="animation-effect-idle-phase">アイドルフェーズ</a>と呼ぶことがあります。</p>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect③⑨">アニメーション効果</a>は、<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="in-play">再生中</dfn>であるのは、以下すべての条件が真の場合です：</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④⓪">アニメーション効果</a>が<a
                        data-link-type="dfn" href="#animation-effect-active-phase"
                        id="ref-for-animation-effect-active-phase③">アクティブフェーズ</a>にあり、かつ</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④①">アニメーション効果</a>が<a
                        data-link-type="dfn" href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation④">アニメーションに関連付けられて</a>いて、しかもそのアニメーションが<a
                        data-link-type="dfn" href="#play-state-finished"
                        id="ref-for-play-state-finished①③">完了</a>状態ではない。</p>
        </ol>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④②">アニメーション効果</a>は、<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="current">現在</dfn>であるのは、以下いずれかの条件が真の場合です：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④③">アニメーション効果</a>が<a
                        data-link-type="dfn" href="#in-play" id="ref-for-in-play③">再生中</a>である場合</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④④">アニメーション効果</a>が<a
                        data-link-type="dfn" href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation⑤">アニメーションに関連付けられて</a>いて、<a data-link-type="dfn"
                        href="#playback-rate" id="ref-for-playback-rate③⑦">再生速度</a>が0より大きく、<span
                        id="ref-for-animation-effect④⑤">アニメーション効果</span>が<a data-link-type="dfn"
                        href="#animation-effect-before-phase" id="ref-for-animation-effect-before-phase②">前フェーズ</a>である場合
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④⑥">アニメーション効果</a>が<a
                        data-link-type="dfn" href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation⑥">アニメーションに関連付けられて</a>いて、<a data-link-type="dfn"
                        href="#playback-rate" id="ref-for-playback-rate③⑧">再生速度</a>が0未満、<span
                        id="ref-for-animation-effect④⑦">アニメーション効果</span>が<a data-link-type="dfn"
                        href="#animation-effect-after-phase" id="ref-for-animation-effect-after-phase②">後フェーズ</a>である場合
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④⑧">アニメーション効果</a>が<a
                        data-link-type="dfn" href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation⑦">アニメーションに関連付けられて</a>いて、<a data-link-type="dfn"
                        href="#play-state-idle" id="ref-for-play-state-idle⑤">アイドル</a>状態でなく、nullでない関連<a
                        data-link-type="dfn" href="#timeline"
                        id="ref-for-timeline⑤①">タイムライン</a>に関連付けられていて、しかもそのタイムラインが<a data-link-type="dfn"
                        href="#monotonically-increasing-timeline"
                        id="ref-for-monotonically-increasing-timeline⑥">単調増加</a>でない場合</p>
        </ul>
        <p>アニメーション効果は、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="in-effect">効果中</dfn>であるのは、<a
                data-link-type="dfn" href="#active-time" id="ref-for-active-time③">アクティブ時刻</a>（<a
                href="#calculating-the-active-time">§ 4.8.3.1 アクティブ時刻の計算</a>参照）が<em>未解決でない</em>場合です。</p>
        <h4 class="heading settled" data-level="4.5.6" id="relevant-animations-section"><span class="secno">4.5.6.
            </span><span class="content">関連アニメーション</span><a class="self-link" href="#relevant-animations-section"></a>
        </h4>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation③⑨">アニメーション</a>が<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect④⑨">アニメーション効果</a>の<a
                data-link-type="dfn" href="#animation-associated-effect"
                id="ref-for-animation-associated-effect②③">関連</a>に基づいて<a data-link-type="dfn" href="#animation-relevant"
                id="ref-for-animation-relevant">関連</a>すると定義できます。</p>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation④⓪">アニメーション</a>が<dfn
                class="dfn-paneled" data-dfn-for="animation" data-dfn-type="dfn" data-export
                id="animation-relevant">関連</dfn>となる条件：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect②④">関連効果</a>が<a data-link-type="dfn" href="#current"
                        id="ref-for-current①">現在</a>または<a data-link-type="dfn" href="#in-effect"
                        id="ref-for-in-effect②">効果中</a>であり、<em>かつ</em></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#replace-state" id="ref-for-replace-state">置換状態</a>が<a
                        data-link-type="dfn" href="#removed-replace-state"
                        id="ref-for-removed-replace-state">removed</a>で<em>ない</em>。</p>
        </ul>
        <div class="algorithm" data-algorithm="get relevant animations">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="relevant-animations">関連アニメーション</dfn>は、要素または疑似要素<var>target</var>について、<a data-link-type="dfn"
                    href="#concept-animation" id="ref-for-concept-animation④①">アニメーション</a>のうち、そのアニメーションに含まれる<a
                    data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤⓪">アニメーション効果</a>の<a
                    data-link-type="dfn" href="#keyframe-effect-effect-target"
                    id="ref-for-keyframe-effect-effect-target">効果ターゲット</a>が<var>target</var>であるものの集合です。</p>
        </div>
        <div class="algorithm" data-algorithm="get relevant animations for a subtree">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="relevant-animations-for-a-subtree">サブツリーの関連アニメーション</dfn>は、要素・疑似要素・<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">document</a>・<a
                    data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-shadow-root"
                    id="ref-for-concept-shadow-root">shadow root</a>（<var>target</var>）について、<a data-link-type="dfn"
                    href="#concept-animation" id="ref-for-concept-animation④②">アニメーション</a>のうち、そのアニメーションに含まれる<a
                    data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤①">アニメーション効果</a>の<a
                    data-link-type="dfn" href="#keyframe-effect-effect-target"
                    id="ref-for-keyframe-effect-effect-target①">効果ターゲット</a>が、<var>target</var>の<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-tree-inclusive-descendant"
                    id="ref-for-concept-tree-inclusive-descendant">包含的子孫</a>（または<var>target</var>が<span
                    id="ref-for-concept-document①">document</span>や<span id="ref-for-concept-shadow-root①">shadow
                    root</span>の場合は<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-descendant"
                    id="ref-for-concept-tree-descendant">子孫</a>）や、そうした子孫の<a data-link-type="dfn"
                    href="https://www.w3.org/TR/selectors-4/#pseudo-element"
                    id="ref-for-pseudo-element">疑似要素</a>であるものの集合です。</p>
        </div>
        <h3 class="heading settled" data-level="4.6" id="fill-behavior"><span class="secno">4.6. </span><span
                class="content">塗りつぶし挙動</span><a class="self-link" href="#fill-behavior"></a></h3>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤②">アニメーション効果</a>が<a
                data-link-type="dfn" href="#in-play" id="ref-for-in-play④">再生中</a>でないときの効果は、その<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="fill-mode">塗りつぶしモード</dfn>によって決まります。</p>
        <p><a data-link-type="dfn" href="#fill-mode" id="ref-for-fill-mode②">塗りつぶしモード</a>の種類は以下の通りです：</p>
        <ul>
            <li data-md>
                <p>none（なし）</p>
            <li data-md>
                <p>forwards（順方向）</p>
            <li data-md>
                <p>backwards（逆方向）</p>
            <li data-md>
                <p>both（両方）</p>
        </ul>
        <p>これらモードの規範的定義は、<a data-link-type="dfn" href="#active-time" id="ref-for-active-time④">アクティブ時刻</a>の計算（<a
                href="#calculating-the-active-time">§ 4.8.3.1 アクティブ時刻の計算</a>）に組み込まれています。</p>
        <div class="advisement">
            <p> 著者は<a data-link-type="dfn" href="#fill-mode"
                    id="ref-for-fill-mode③">塗りつぶしモード</a>を使って、効果が無期限に適用されるアニメーションを作ることは推奨されません。<span
                    id="ref-for-fill-mode④">塗りつぶしモード</span>は、CSSアニメーションで定義される<a class="property css"
                    data-link-type="property" href="https://www.w3.org/TR/css-animations-1/#propdef-animation-fill-mode"
                    id="ref-for-propdef-animation-fill-mode">animation-fill-mode</a>プロパティを表現するために導入されました（<a
                    data-link-type="biblio" href="#biblio-css-animations-1">[CSS-ANIMATIONS-1]</a>）。
                しかしこれにより、アニメーション状態が無限に蓄積される状況が生じ、<a href="#replacing-animations">§ 5.5
                    アニメーションの置換</a>で定義されるアニメーションの自動削除が必要になります。
                さらに、無期限に塗りつぶしされるアニメーションは、すべてのアニメーションが完了した後も、アニメーションスタイルがCSSカスケード内で優先されるため、指定スタイルの変更が長期間反映されなくなる場合があります（<a
                    data-link-type="biblio" href="#biblio-css-cascade-3">[css-cascade-3]</a>）。
            </p>
            <p> 可能であれば、著者はアニメーションの最終状態を直接指定スタイルで設定することを推奨します。
                これはアニメーションが完了するのを待ってからスタイルを更新することで実現できます。例： </p>
            <div class="example" id="example-3cbeb1f1">
                <a class="self-link" href="#example-3cbeb1f1"></a>
                <pre class="lang-javascript highlight"><c- c1>// 次のアニメーションが完了した直後の最初のフレームで、`finished` promiseのコールバックは</c->
<c- c1>// スタイル更新前に実行されるため、ちらつきません。</c->
elem<c- p>.</c->animate<c- p>({</c-> transform<c- o>:</c-> <c- t>'translateY(100px)'</c-> <c- p>},</c-> <c- mf>200</c-><c- p>).</c->finished<c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
  elem<c- p>.</c->style<c- p>.</c->transform <c- o>=</c-> <c- t>'translateY(100px)'</c-><c- p>;</c->
<c- p>});</c->
</pre>
            </div>
            <p> あるいは、アニメーション開始時に指定スタイルを設定し、元の値<em>から</em>アニメーションすることもできます。例：</p>
            <div class="example" id="example-fb96320c">
                <a class="self-link" href="#example-fb96320c"></a>
                <pre class="lang-javascript highlight">elem<c- p>.</c->style<c- p>.</c->transform <c- o>=</c-> <c- t>'translateY(100px)'</c-><c- p>;</c->
elem<c- p>.</c->animate<c- p>({</c-> transform<c- o>:</c-> <c- t>'none'</c-><c- p>,</c-> offset<c- o>:</c-> <c- mf>0</c-> <c- p>},</c-> <c- mf>200</c-><c- p>);</c->
</pre>
            </div>
            <p>複数アニメーションを重ねる複雑な効果の場合、最終値を記録するため一時的にforwards塗りつぶしモードを使うことが必要な場合があります。
                例：</p>
            <div class="example" id="example-8cd36716">
                <a class="self-link" href="#example-8cd36716"></a>
                <pre class="lang-javascript highlight">elem<c- p>.</c->addEventListener<c- p>(</c-><c- t>'click'</c-><c- p>,</c-> <c- k>async</c-> evt <c- p>=></c-> <c- p>{</c->
  <c- a>const</c-> animation <c- o>=</c-> elem<c- p>.</c->animate<c- p>(</c->
    <c- p>{</c-> transform<c- o>:</c-> <c- sb>`translate(</c-><c- si>${</c->evt<c- p>.</c->clientX<c- si>}</c-><c- sb>px, </c-><c- si>${</c->evt<c- p>.</c->clientY<c- si>}</c-><c- sb>px)`</c-> <c- p>},</c->
    <c- p>{</c-> duration<c- o>:</c-> <c- mf>800</c-><c- p>,</c-> fill<c- o>:</c-> <c- t>'forwards'</c-> <c- p>}</c->
  <c- p>);</c->
  <c- k>await</c-> animation<c- p>.</c->finished<c- p>;</c->
  <c- c1>// commitStylesは`animation`までのスタイルを記録し、elemの指定スタイルを更新します。</c->
  animation<c- p>.</c->commitStyles<c- p>();</c->
  animation<c- p>.</c->cancel<c- p>();</c->
<c- p>});</c->
</pre>
            </div>
        </div>
        <h4 class="heading settled" data-level="4.6.1" id="fill-modes"><span class="secno">4.6.1. </span><span
                class="content">塗りつぶしモード</span><a class="self-link" href="#fill-modes"></a></h4>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p>各<a data-link-type="dfn" href="#fill-mode" id="ref-for-fill-mode⑤">塗りつぶしモード</a>の効果は次の通りです：</p>
            <dl>
                <dt data-md>none
                <dd data-md>
                    <p>アニメーション効果が<a data-link-type="dfn" href="#in-play" id="ref-for-in-play⑤">再生中</a>でない場合、何の効果もありません。
                    </p>
                <dt data-md>forwards
                <dd data-md>
                    <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-after-phase"
                            id="ref-for-animation-effect-after-phase③">後フェーズ</a>にある場合、
                        スケジュール上最後に<a data-link-type="dfn" href="#in-play" id="ref-for-in-play⑥">再生中</a>だった瞬間と同じ<a
                            data-link-type="dfn" href="#iteration-progress"
                            id="ref-for-iteration-progress">反復進行度</a>値を生成します。</p>
                    <p>その他の<a data-link-type="dfn" href="#in-play" id="ref-for-in-play⑦">再生中</a>でない時は効果がありません。</p>
                <dt data-md>backwards
                <dd data-md>
                    <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-before-phase"
                            id="ref-for-animation-effect-before-phase③">前フェーズ</a>にある場合、
                        スケジュール上最初に<a data-link-type="dfn" href="#in-play" id="ref-for-in-play⑧">再生中</a>になる瞬間と同じ<a
                            data-link-type="dfn" href="#iteration-progress"
                            id="ref-for-iteration-progress①">反復進行度</a>値を生成します。</p>
                    <p>その他の<a data-link-type="dfn" href="#in-play" id="ref-for-in-play⑨">再生中</a>でない時は効果がありません。</p>
                <dt data-md>both
                <dd data-md>
                    <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-before-phase"
                            id="ref-for-animation-effect-before-phase④">前フェーズ</a>にある場合は<span
                            class="prop-value">backwards</span>塗りつぶし挙動が使われます。</p>
                    <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-after-phase"
                            id="ref-for-animation-effect-after-phase④">後フェーズ</a>にある場合は<span
                            class="prop-value">forwards</span>塗りつぶし挙動が使われます。</p>
            </dl>
            <p>これら塗りつぶしモードの例を以下に示します。</p>
            <figure>
                <img alt="各種塗りつぶしモードと生成される状態の例。"
                    src="https://www.w3.org/TR/web-animations-1/images/animation-state-and-fill-behavior.svg"
                    width="600">
                <figcaption>各種塗りつぶしモードと生成される状態の例。<br> (a) fill mode "none"。アクティブフェーズ外では効果なし。<br> (b) fill mode
                    "forwards"。アクティブフェーズ終了後も<a data-link-type="dfn" href="#iteration-progress"
                        id="ref-for-iteration-progress②">反復進行度</a>値が維持される。<br> (c) fill mode
                    "backwards"。アクティブフェーズ開始まで塗りつぶし値が生成される。<br> (d) fill mode "both"。アクティブフェーズ前後で塗りつぶし値が生成される。
                </figcaption>
            </figure>
            <p class="note" role="note"><span>注:</span> 塗りつぶしモードの設定は<a data-link-type="dfn" href="#active-interval"
                    id="ref-for-active-interval①②">アクティブ区間</a>の端点やフェーズ間境界には影響しません。
                ただし塗りつぶしモードはタイミングモデルの他のプロパティに影響します。なぜなら<a data-link-type="dfn" href="#active-time"
                    id="ref-for-active-time⑤">アクティブ時刻</a>は、
                アニメーション効果が<a data-link-type="dfn" href="#animation-effect-active-phase"
                    id="ref-for-animation-effect-active-phase④">アクティブフェーズ</a>内<em>または</em>塗りつぶしが適用される場合のみ定義される（未解決でない）ためです。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.7" id="repeating"><span class="secno">4.7. </span><span
                class="content">反復</span><a class="self-link" href="#repeating"></a></h3>
        <h4 class="heading settled" data-level="4.7.1" id="iteration-intervals"><span class="secno">4.7.1. </span><span
                class="content">反復区間</span><a class="self-link" href="#iteration-intervals"></a></h4>
        <p>アニメーション効果が一定回数または無限に繰り返すよう指定することができます。
            この反復は<a data-link-type="dfn" href="#active-interval"
                id="ref-for-active-interval①③">アクティブ区間</a><em>内</em>で行われます。
            1回の反復が行われる時間領域を<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="iteration-interval">反復区間</dfn>と呼びます。</p>
        <p><a data-link-type="dfn" href="#active-interval"
                id="ref-for-active-interval①④">アクティブ区間</a>とは異なり、アニメーション効果は複数の<a data-link-type="dfn"
                href="#iteration-interval" id="ref-for-iteration-interval">反復区間</a>を持つことができますが、通常は<a
                data-link-type="dfn" href="#current-iteration" id="ref-for-current-iteration">現在の反復</a>に対応する区間のみが重要です。
        </p>
        <p>1回の反復の長さは<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="iteration duration" data-noexport
                id="iteration-duration">反復期間</dfn>と呼ばれます。
            アニメーション効果の初期<a data-link-type="dfn" href="#iteration-duration"
                id="ref-for-iteration-duration①">反復期間</a>は0です。</p>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p><a data-link-type="dfn" href="#iteration-duration" id="ref-for-iteration-duration②">反復期間</a>と<a
                    data-link-type="dfn" href="#active-duration" id="ref-for-active-duration⑤">アクティブ期間</a>を比較すると：</p>
            <dl>
                <dt data-md>反復期間
                <dd data-md>
                    <p>アニメーション効果が1回反復するのにかかる時間。</p>
                <dt data-md>アクティブ期間
                <dd data-md>
                    <p>全アニメーション効果が完了するまでの時間（反復も含む）。
                        これは<a data-link-type="dfn" href="#iteration-duration"
                            id="ref-for-iteration-duration③">反復期間</a>より長い場合も短い場合もあります。</p>
            </dl>
            <p><a data-link-type="dfn" href="#iteration-duration" id="ref-for-iteration-duration④">反復期間</a>と<a
                    data-link-type="dfn" href="#active-duration" id="ref-for-active-duration⑥">アクティブ期間</a>の関係は下図で説明します。
            </p>
            <figure>
                <img alt="反復期間とアクティブ時間の比較。" src="https://www.w3.org/TR/web-animations-1/images/iteration-intervals.svg"
                    width="600">
                <figcaption>反復回数2.5のアニメーション効果における<a data-link-type="dfn" href="#iteration-duration"
                        id="ref-for-iteration-duration⑤">反復期間</a>と<a data-link-type="dfn" href="#active-duration"
                        id="ref-for-active-duration⑦">アクティブ期間</a>の比較。
                    最後の反復の<span id="ref-for-iteration-duration⑥">反復期間</span>は変化せず、単に<span
                        id="ref-for-active-duration⑧">アクティブ期間</span>で途中で切られるだけです。</figcaption>
            </figure>
        </div>
        <h4 class="heading settled" data-level="4.7.2" id="controlling-iteration"><span class="secno">4.7.2.
            </span><span class="content">反復の制御</span><a class="self-link" href="#controlling-iteration"></a></h4>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤③">アニメーション効果</a>が繰り返す回数は<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iteration-count">反復回数</dfn>と呼ばれます。
            <a data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count①">反復回数</a>は0以上の実数です。
            <span id="ref-for-iteration-count②">反復回数</span>が正の無限大の場合、<span
                id="ref-for-animation-effect⑤④">アニメーション効果</span>は無限に繰り返されます。
        </p>
        <p><a data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count③">反復回数</a>に加え、<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤⑤">アニメーション効果</a>には<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iteration-start">反復開始</dfn>プロパティもあり、<span
                id="ref-for-animation-effect⑤⑥">アニメーション効果</span>が始まる反復系列内のオフセットを指定します。
            <a data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start">反復開始</a>は0以上の有限実数です。
        </p>
        <p>これらパラメータの挙動は<a href="#core-animation-effect-calculations">§ 4.8 コアアニメーション効果計算</a>で定義されています。</p>
        <div class="informative-bg">
            <em>このセクションは規範的ではありません</em>
            <p><a data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count④">反復回数</a>と<a
                    data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start①">反復開始</a>パラメータの効果は下図で示します。
            </p>
            <figure>
                <img alt="反復回数と反復開始パラメータの効果。"
                    src="https://www.w3.org/TR/web-animations-1/images/iteration-count-and-start.svg" width="600">
                <figcaption><a data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count⑤">反復回数</a>と<a
                        data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start②">反復開始</a>パラメータの効果。<br>
                    最初の例では<span id="ref-for-iteration-count⑥">反復回数</span>が2.5で、3回目の反復が途中で<span
                        id="ref-for-iteration-interval①">反復区間</span>で切られます。<br> 2番目の例では反復開始が<span
                        id="ref-for-iteration-start③">0.5</span>で、最初の反復の途中から<span
                        id="ref-for-animation-effect⑤⑦">アニメーション効果</span>が始まります。</figcaption>
            </figure>
            <p><a data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count⑦">反復回数</a>パラメータとは異なり、<a
                    data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start④">反復開始</a>パラメータは<a
                    data-link-type="dfn" href="#active-duration" id="ref-for-active-duration⑨">アクティブ期間</a>の長さには影響しません。
            </p>
            <p><a data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start⑤">反復開始</a>が1以上の場合、<a
                    data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤⑧">アニメーション効果</a>が<a
                    data-link-type="dfn" href="https://drafts.csswg.org/web-animations-2/#iteration-composite-operation"
                    id="ref-for-iteration-composite-operation">iteration composite operation</a>で<a data-link-type="dfn"
                    href="https://drafts.csswg.org/web-animations-2/#iteration-composite-operation-accumulate"
                    id="ref-for-iteration-composite-operation-accumulate">accumulate</a>を指定している場合以外は、一般に有用ではありません。</p>
        </div>
        <h4 class="heading settled" data-level="4.7.3" id="iteration-time-space"><span class="secno">4.7.3. </span><span
                class="content">反復時空間</span><a class="self-link" href="#iteration-time-space"></a></h4>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>Web Animationsでは、すべての時刻は何らかの基準点に対して相対的です。
                これら異なる基準点によって、異なる<em>時空間</em>が生じます。</p>
            <p>これはコンピュータグラフィックスで使われる座標空間と比較できます。
                時空間のゼロ時刻は、座標空間の原点に相当します。</p>
            <p>繰り返されるアニメーションについては、アニメーションが繰り返されるごとに新しい時空間が確立されると説明できます。それが<em>反復時空間</em>です。</p>
            <p><em>反復時空間</em>とは、アニメーション効果の現在の反復の開始がゼロ時刻となる時空間です。</p>
            <p>Web Animationsモデル内では、<a data-link-type="dfn" href="#active-time"
                    id="ref-for-active-time⑥">アクティブ時刻</a>についても言及します。これはアクティブ区間の開始に対して相対的な時刻です。
                ただし、この時空間はモデル内部でのみ使用され、プログラミングインターフェースやマークアップには公開されません。</p>
            <p>これらの時空間を下図に示します。</p>
            <figure>
                <img alt="A comparison of local time, active time, and iteration time."
                    src="https://www.w3.org/TR/web-animations-1/images/time-spaces.svg" width="600">
                <figcaption> ローカル時刻、アクティブ時刻、反復時刻の比較（反復期間1秒、反復回数2.5のアニメーションの場合） </figcaption>
            </figure>
            <p class="note" role="note"><span>注:</span> 時空間自体には境界はありませんが、Web Animationsでは<a data-link-type="dfn"
                    href="#active-time" id="ref-for-active-time⑦">アクティブ時刻</a>や<a data-link-type="dfn"
                    href="#iteration-progress" id="ref-for-iteration-progress③">反復進行度</a>が、図に示されるように一定範囲に制限されます。
                例えば、<em>アクティブ時空間</em>で-1秒という時刻は有効ですが、<span id="ref-for-active-time⑧">アクティブ時刻</span>の計算法（<a
                    href="#calculating-the-active-time">§ 4.8.3.1 アクティブ時刻の計算</a>）では負の値が返されることはありません。</p>
            <p>これら以外にも、<em>ドキュメント時空間</em>についても言及できます。これは、<a data-link-type="dfn" href="#time-value"
                    id="ref-for-time-value④⓪">時間値</a>が<a data-link-type="dfn" href="#document-default-document-timeline"
                    id="ref-for-document-default-document-timeline③">デフォルトドキュメントタイムライン</a>上で表される時空間であり、<code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document⑤">Document</a></code>の<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                    id="ref-for-current-global-object">現在のグローバルオブジェクト</a>に属します。</p>
        </div>
        <h4 class="heading settled" data-level="4.7.4" id="interval-timing"><span class="secno">4.7.4. </span><span
                class="content">区間タイミング</span><a class="self-link" href="#interval-timing"></a></h4>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>アニメーション効果が繰り返されるとき、反復の境界での動作を定義する必要があります。
                これには、そしてすべての区間タイミングについて、Web Animationsは端点排他的なタイミングモデルを採用しています。
                これは、区間の開始時刻は区間に含まれ、終了時刻は含まれないことを意味します。
                区間表記では<code>[開始, 終了)</code>と書きます。
                このモデルによって、区間を繰り返したり並べた場合でも区間同士が重複しません。</p>
            <p>以下の例では、繰り返し効果においてローカル時刻1秒の時、反復時刻は0となります。
                シーケンスされたアニメーションでは、タイムライン時刻1秒の時、アニメーションBの<a data-link-type="dfn" href="#animation-associated-effect"
                    id="ref-for-animation-associated-effect②⑤">関連効果</a>のみが<a data-link-type="dfn" href="#in-play"
                    id="ref-for-in-play①⓪">再生中</a>であり、重複はありません。
            </p>
            <figure>
                <img alt="Illustration of end-point exclusive timing."
                    src="https://www.w3.org/TR/web-animations-1/images/endpoint-exclusive-timing.svg" width="600">
                <figcaption> 端点排他的タイミングの図。繰り返し・シーケンス効果いずれも、区間の境界で重複しません。 </figcaption>
            </figure>
            <p>この動作の例外として、<a href="#fill-behavior">塗り（fill）</a>を行う場合、塗りが区間の端点で始まるときはその端点が使用されます。
                この動作は<a href="#calculating-the-simple-iteration-progress">§ 4.8.3.3 単純反復進行度の計算</a>のアルゴリズムから導かれ、下図で示されます。
            </p>
            <figure>
                <img alt="Effect of iterations and fill on iteration time."
                    src="https://www.w3.org/TR/web-animations-1/images/endpoint-exclusive-timing-and-fill.svg"
                    width="600">
                <figcaption> 1回目の反復後、<a data-link-type="dfn" href="#iteration-progress"
                        id="ref-for-iteration-progress④">反復進行度</a>は0ですが、2回目以降は<span
                        id="ref-for-iteration-progress⑤">反復進行度</span>が1となります。これはアニメーション効果が塗りを行う際の特別な動作によるものです。
                </figcaption>
            </figure>
        </div>
        <h3 class="heading settled" data-level="4.8" id="core-animation-effect-calculations"><span class="secno">4.8.
            </span><span class="content">コアアニメーション効果の計算</span><a class="self-link"
                href="#core-animation-effect-calculations"></a></h3>
        <h4 class="heading settled" data-level="4.8.1" id="animation-effect-calculations-overview"><span
                class="secno">4.8.1. </span><span class="content">概要</span><a class="self-link"
                href="#animation-effect-calculations-overview"></a></h4>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>Web Animationsのタイミングモデルの中心は、<a data-link-type="dfn" href="#local-time"
                    id="ref-for-local-time①①">ローカル時刻</a>値を<a data-link-type="dfn" href="#iteration-progress"
                    id="ref-for-iteration-progress⑥">反復進行度</a>に変換する処理です。</p>
            <p>この処理の第一段階は、<a data-link-type="dfn" href="#active-interval"
                    id="ref-for-active-interval①⑤">アクティブ区間</a>の境界を計算することです。これは<a data-link-type="dfn"
                    href="#active-duration" id="ref-for-active-duration①⓪">アクティブ持続時間</a>によって決まります。</p>
            <p>この処理を下図に示します。</p>
            <figure>
                <img alt="Calculation of the active duration."
                    src="https://www.w3.org/TR/web-animations-1/images/active-duration-calculation.svg" width="650">
                <figcaption> <a data-link-type="dfn" href="#active-duration"
                        id="ref-for-active-duration①①">アクティブ持続時間</a>の計算は、<a data-link-type="dfn"
                        href="#iteration-duration" id="ref-for-iteration-duration⑦">反復期間</a>と<a data-link-type="dfn"
                        href="#iteration-count" id="ref-for-iteration-count⑧">反復回数</a>を掛け合わせることに基づいています。 </figcaption>
            </figure>
            <p> <a data-link-type="dfn" href="#active-duration" id="ref-for-active-duration①②">アクティブ持続時間</a>の計算法は、<a
                    href="#calculating-the-active-duration">§ 4.8.2 アクティブ持続時間の計算</a>で現行標準的に定義されています。 </p>
            <p> <a data-link-type="dfn" href="#active-duration" id="ref-for-active-duration①③">アクティブ持続時間</a>が確定したら、<a
                    data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑤⑨">アニメーション効果</a>の<a
                    data-link-type="dfn" href="#local-time" id="ref-for-local-time①②">ローカル時刻</a>を<a data-link-type="dfn"
                    href="#transformed-progress" id="ref-for-transformed-progress">変換済み進行度</a>（<a data-link-type="dfn"
                    href="#iteration-progress" id="ref-for-iteration-progress⑦">反復進行度</a>）に変換する処理が下図で示されます。 </p>
            <figure>
                <img alt="An overview of timing model calculations."
                    src="https://www.w3.org/TR/web-animations-1/images/time-calculations.svg" width="650">
                <figcaption> タイミングモデル計算の概要<br> (1) <a data-link-type="dfn" href="#local-time"
                        id="ref-for-local-time①③">ローカル時刻</a>は関連<a data-link-type="dfn" href="#concept-animation"
                        id="ref-for-concept-animation④③">アニメーション</a>から決定されます。<br> (2) <span
                        id="ref-for-local-time①④">ローカル時刻</span>は<a data-link-type="dfn" href="#active-time"
                        id="ref-for-active-time⑨">アクティブ時刻</a>に変換されます。この際、<a data-link-type="dfn" href="#start-delay"
                        id="ref-for-start-delay①①">開始遅延</a>を考慮します。<br> (3) <span
                        id="ref-for-active-time①⓪">アクティブ時刻</span>は<a data-link-type="dfn" href="#iteration-duration"
                        id="ref-for-iteration-duration⑧">反復期間</a>で割り、さらに<a data-link-type="dfn" href="#iteration-start"
                        id="ref-for-iteration-start⑥">反復開始</a>プロパティも考慮して<a data-link-type="dfn" href="#overall-progress"
                        id="ref-for-overall-progress">全体進行度</a>を算出します。<br> (4) <span
                        id="ref-for-overall-progress①">全体進行度</span>時刻は、1回の反復内のオフセットに変換されます。これが<a data-link-type="dfn"
                        href="#simple-iteration-progress" id="ref-for-simple-iteration-progress">単純反復進行度</a>です。<br> (5)
                    <span id="ref-for-simple-iteration-progress①">単純反復進行度</span>は、<a data-link-type="dfn"
                        href="#playback-direction" id="ref-for-playback-direction">再生方向</a>を考慮して<a data-link-type="dfn"
                        href="#directed-progress" id="ref-for-directed-progress">指向性進行度</a>に変換されます。<br> (6)
                    最後に、タイミング関数が<span id="ref-for-directed-progress①">指向性進行度</span>に適用され、<a data-link-type="dfn"
                        href="#transformed-progress" id="ref-for-transformed-progress①">変換済み進行度</a>が得られます。
                </figcaption>
            </figure>
            <p>最初のステップである<a data-link-type="dfn" href="#local-time" id="ref-for-local-time①⑤">ローカル時刻</a>の計算は、<a
                    href="#local-time-section">§ 4.5.4 ローカル時刻</a>で説明されています。
                図のステップ2〜4は次節以降で説明します。
                ステップ5と6は、<a href="#calculating-the-directed-progress">§ 4.9.1 指向性進行度の計算</a>および<a
                    href="#calculating-the-transformed-progress">§ 4.10.1 変換済み進行度の計算</a>で説明されています。</p>
        </div>
        <h4 class="heading settled" data-level="4.8.2" id="calculating-the-active-duration"><span class="secno">4.8.2.
            </span><span class="content">アクティブ持続時間の計算</span><a class="self-link"
                href="#calculating-the-active-duration"></a></h4>
        <p><a data-link-type="dfn" href="#active-duration" id="ref-for-active-duration①④">アクティブ持続時間</a>は次のように計算します：</p>
        <blockquote>
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="active-duration">アクティブ持続時間</dfn> =
            <code><a data-link-type="dfn" href="#iteration-duration" id="ref-for-iteration-duration⑨">反復期間</a> × <a data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count⑨">反復回数</a></code>
            <p> <a data-link-type="dfn" href="#iteration-duration" id="ref-for-iteration-duration①⓪">反復期間</a>または<a
                    data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count①⓪">反復回数</a>のいずれかが0の場合、<a
                    data-link-type="dfn" href="#active-duration" id="ref-for-active-duration①⑤">アクティブ持続時間</a>は0となります。
            </p>
            <p class="note" role="note"> この明確化は、IEEE 754-2008において無限大とゼロの乗算結果が未定義であるため必要です。 </p>
        </blockquote>
        <h4 class="heading settled" data-level="4.8.3" id="transforming-the-local-time"><span class="secno">4.8.3.
            </span><span class="content">ローカル時刻の変換</span><a class="self-link" href="#transforming-the-local-time"></a>
        </h4>
        <h5 class="heading settled" data-level="4.8.3.1" id="calculating-the-active-time"><span class="secno">4.8.3.1.
            </span><span class="content">アクティブ時刻の計算</span><a class="self-link" href="#calculating-the-active-time"></a>
        </h5>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="active-time">アクティブ時刻</dfn>は、<a
                data-link-type="dfn" href="#local-time" id="ref-for-local-time①⑥">ローカル時刻</a>と<a data-link-type="dfn"
                href="#start-delay" id="ref-for-start-delay①②">開始遅延</a>に基づきます。
            ただし、これは<a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑥⓪">アニメーション効果</a>が出力を生成すべき場合のみ定義され、そのため<a data-link-type="dfn"
                href="#fill-mode" id="ref-for-fill-mode⑥">塗りモード</a>やフェーズによって以下のように決まります：</p>
        <div class="switch">
            <dl>
                <dt data-md>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-before-phase"
                        id="ref-for-animation-effect-before-phase⑤">beforeフェーズ</a>の場合
                <dd data-md>
                    <p>結果は次の条件のうち最初に一致したものに依存します：</p>
                    <div class="switch">
                        <dl>
                            <dt data-md><a data-link-type="dfn" href="#fill-mode"
                                    id="ref-for-fill-mode⑦">塗りモード</a>が<span class="prop-mode">backwards</span>または<span
                                    class="prop-mode">both</span>の場合
                            <dd data-md>
                                <p>
                                    <code>max(<a data-link-type="dfn" href="#local-time" id="ref-for-local-time①⑦">ローカル時刻</a> - <a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay①③">開始遅延</a>, 0)</code>の評価結果を返します。
                                </p>
                            <dt data-md>それ以外の場合
                            <dd data-md>
                                <p><a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑨⑦">未解決</a>の<a
                                        data-link-type="dfn" href="#time-value" id="ref-for-time-value④①">時間値</a>を返します。
                                </p>
                        </dl>
                    </div>
                <dt data-md>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-active-phase"
                        id="ref-for-animation-effect-active-phase⑤">activeフェーズ</a>の場合
                <dd data-md>
                    <p>
                        <code><a data-link-type="dfn" href="#local-time" id="ref-for-local-time①⑧">ローカル時刻</a> - <a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay①④">開始遅延</a></code>の評価結果を返します。
                    </p>
                <dt data-md>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-after-phase"
                        id="ref-for-animation-effect-after-phase⑤">afterフェーズ</a>の場合
                <dd data-md>
                    <p>結果は次の条件のうち最初に一致したものに依存します：</p>
                    <div class="switch">
                        <dl>
                            <dt data-md><a data-link-type="dfn" href="#fill-mode"
                                    id="ref-for-fill-mode⑧">塗りモード</a>が<span class="prop-mode">forwards</span>または<span
                                    class="prop-mode">both</span>の場合
                            <dd data-md>
                                <p>
                                    <code>max(min(<a data-link-type="dfn" href="#local-time" id="ref-for-local-time①⑨">ローカル時刻</a> - <a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay①⑤">開始遅延</a>, <a data-link-type="dfn" href="#active-duration" id="ref-for-active-duration①⑥">アクティブ持続時間</a>), 0)</code>の評価結果を返します。
                                </p>
                            <dt data-md>それ以外の場合
                            <dd data-md>
                                <p><a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑨⑧">未解決</a>の<a
                                        data-link-type="dfn" href="#time-value" id="ref-for-time-value④②">時間値</a>を返します。
                                </p>
                        </dl>
                    </div>
                <dt data-md>それ以外（<a data-link-type="dfn" href="#local-time" id="ref-for-local-time②⓪">ローカル時刻</a>が<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved⑨⑨">未解決</a>の場合）
                <dd data-md>
                    <p><a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved①⓪⓪">未解決</a>の<a
                            data-link-type="dfn" href="#time-value" id="ref-for-time-value④③">時間値</a>を返します。</p>
            </dl>
        </div>
        <h5 class="heading settled" data-level="4.8.3.2" id="calculating-the-overall-progress"><span
                class="secno">4.8.3.2. </span><span class="content">全体進行度の計算</span><a class="self-link"
                href="#calculating-the-overall-progress"></a></h5>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="overall-progress">全体進行度</dfn>は、完了した反復回数（部分反復も含む）を示し、以下のように定義されます：</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#active-time" id="ref-for-active-time①①">アクティブ時刻</a>が<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved①⓪①">未解決</a>の場合、<span
                        id="ref-for-unresolved①⓪②">未解決</span>を返します。</p>
            <li data-md>
                <p>以下の条件のうち最初に一致したものに基づいて、<var>overall progress</var>の初期値を計算します：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><a data-link-type="dfn" href="#iteration-duration"
                                id="ref-for-iteration-duration①①">反復期間</a>が0の場合
                        <dd data-md>
                            <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-before-phase"
                                    id="ref-for-animation-effect-before-phase⑥">beforeフェーズ</a>であれば、<var>overall
                                    progress</var>は0とし、それ以外の場合は<a data-link-type="dfn" href="#iteration-count"
                                    id="ref-for-iteration-count①①">反復回数</a>とします。</p>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <p><var>overall progress</var>は
                                <code><a data-link-type="dfn" href="#active-time" id="ref-for-active-time①②">アクティブ時刻</a> / <a data-link-type="dfn" href="#iteration-duration" id="ref-for-iteration-duration①②">反復期間</a></code>
                                の計算結果とします。
                            </p>
                    </dl>
                </div>
            <li data-md>
                <p>
                    <code><var>overall progress</var> + <a data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start⑦">反復開始</a></code>
                    の計算結果を返します。
                </p>
        </ol>
        <h5 class="heading settled" data-level="4.8.3.3" id="calculating-the-simple-iteration-progress"><span
                class="secno">4.8.3.3. </span><span class="content">単純反復進行度の計算</span><a class="self-link"
                href="#calculating-the-simple-iteration-progress"></a></h5>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="simple-iteration-progress">単純反復進行度</dfn>は、現在の反復内での進行度の割合であり、<a data-link-type="dfn"
                href="#playback-direction" id="ref-for-playback-direction①">再生方向</a>や効果に適用される<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-easing-1/#easing-function"
                id="ref-for-easing-function">タイミング関数</a>による時刻変換を無視し、以下のように計算されます：</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#overall-progress" id="ref-for-overall-progress②">全体進行度</a>が<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved①⓪③">未解決</a>の場合、
                    <span id="ref-for-unresolved①⓪④">未解決</span>を返します。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#overall-progress"
                        id="ref-for-overall-progress③">全体進行度</a>が無限大の場合、<var>simple iteration
                        progress</var>は
                    <code><a data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start⑧">反復開始</a> % 1.0</code>
                    とし、それ以外の場合は
                    <code><a data-link-type="dfn" href="#overall-progress" id="ref-for-overall-progress④">全体進行度</a> % 1.0</code>
                    とします。
                </p>
            <li data-md>
                <p>以下のすべての条件が真の場合：</p>
                <ul>
                    <li data-md>
                        <p>上記で計算した<var>simple iteration progress</var>が0である <em>かつ</em></p>
                    <li data-md>
                        <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-active-phase"
                                id="ref-for-animation-effect-active-phase⑥">activeフェーズ</a> <em>または</em> <a
                                data-link-type="dfn" href="#animation-effect-after-phase"
                                id="ref-for-animation-effect-after-phase⑥">afterフェーズ</a>である <em>かつ</em></p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#active-time" id="ref-for-active-time①③">アクティブ時刻</a>が<a
                                data-link-type="dfn" href="#active-duration"
                                id="ref-for-active-duration①⑦">アクティブ持続時間</a>と等しい <em>かつ</em></p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="#iteration-count"
                                id="ref-for-iteration-count①②">反復回数</a>が0ではない。</p>
                </ul>
                <p><var>simple iteration progress</var>は1.0とします。</p>
                <div class="note" role="note">
                    <p>上記の手順により、アニメーションのアクティブ区間が反復の終了点と一致した場合、次の反復の開始ではなく最終反復の端点を保持して塗りを行う動作が実現されます。</p>
                    <p>最後の条件は、<a data-link-type="dfn" href="#iteration-count"
                            id="ref-for-iteration-count①③">反復回数</a>が0でアニメーションが1度も再生されていない場合にこの動作が適用されないようにします。</p>
                </div>
            <li data-md>
                <p><var>simple iteration progress</var>を返します。</p>
        </ol>
        <h4 class="heading settled" data-level="4.8.4" id="calculating-the-current-iteration"><span class="secno">4.8.4.
            </span><span class="content">現在の反復の計算</span><a class="self-link"
                href="#calculating-the-current-iteration"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="current-iteration">現在の反復</dfn>は、以下の手順で計算できます：
        </p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#active-time" id="ref-for-active-time①④">アクティブ時刻</a>が<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved①⓪⑤">未解決</a>の場合、<span
                        id="ref-for-unresolved①⓪⑥">未解決</span>を返します。</p>
            <li data-md>
                <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-after-phase"
                        id="ref-for-animation-effect-after-phase⑦">afterフェーズ</a> <em>かつ</em> <a data-link-type="dfn"
                        href="#iteration-count" id="ref-for-iteration-count①④">反復回数</a>
                    が無限大の場合、無限大を返します。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#simple-iteration-progress"
                        id="ref-for-simple-iteration-progress②">単純反復進行度</a>が1.0の場合、
                    <code>floor(<a data-link-type="dfn" href="#overall-progress" id="ref-for-overall-progress⑤">全体進行度</a>) - 1</code>
                    を返します。
                </p>
            <li data-md>
                <p>それ以外の場合、
                    <code>floor(<a data-link-type="dfn" href="#overall-progress" id="ref-for-overall-progress⑥">全体進行度</a>)</code>
                    を返します。
                </p>
        </ol>
        <h3 class="heading settled" data-level="4.9" id="direction-control"><span class="secno">4.9. </span><span
                class="content">方向制御</span><a class="self-link" href="#direction-control"></a></h3>
        <p><a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑥①">アニメーション効果</a>は、方向制御によって反復ごとに異なる方向で再生するよう設定できます。
            このために、<span id="ref-for-animation-effect⑥②">アニメーション効果</span>には<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="playback direction" data-noexport id="playback-direction">再生方向</dfn>パラメータがあり、次のいずれかの値を取ります：</p>
        <ul>
            <li data-md>
                <p>normal,</p>
            <li data-md>
                <p>reverse,</p>
            <li data-md>
                <p>alternate, または</p>
            <li data-md>
                <p>alternate-reverse.</p>
        </ul>
        <p>これらの値の意味は、後述する<a data-link-type="dfn" href="#directed-progress"
                id="ref-for-directed-progress②">指向性進行度</a>の計算に組み込まれています。</p>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>これらの値の非規範的な定義は以下の通りです：</p>
            <dl>
                <dt data-md>normal
                <dd data-md>
                    <p>すべての反復は指定通りに再生されます。</p>
                <dt data-md>reverse
                <dd data-md>
                    <p>すべての反復は指定された方向と逆に再生されます。</p>
                <dt data-md>alternate
                <dd data-md>
                    <p>偶数回の反復は指定通り、奇数回の反復は指定された方向と逆に再生されます。</p>
                <dt data-md>alternate-reverse
                <dd data-md>
                    <p>偶数回の反復は指定された方向と逆に、奇数回の反復は指定通りに再生されます。</p>
            </dl>
        </div>
        <h4 class="heading settled" data-level="4.9.1" id="calculating-the-directed-progress"><span class="secno">4.9.1.
            </span><span class="content">指向性進行度の計算</span><a class="self-link"
                href="#calculating-the-directed-progress"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="directed-progress">指向性進行度</dfn>は、<a
                data-link-type="dfn" href="#simple-iteration-progress"
                id="ref-for-simple-iteration-progress③">単純反復進行度</a>から以下の手順で計算されます：</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#simple-iteration-progress"
                        id="ref-for-simple-iteration-progress④">単純反復進行度</a>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved①⓪⑦">未解決</a>の場合、<span id="ref-for-unresolved①⓪⑧">未解決</span>を返します。</p>
            <li data-md>
                <p>以下のリストから最初に一致した条件に基づいて、<var>current direction</var>を計算します：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><a data-link-type="dfn" href="#playback-direction"
                                id="ref-for-playback-direction②">再生方向</a>が<code>normal</code>の場合
                        <dd data-md>
                            <p><var>current direction</var>はforwardsとします。</p>
                        <dt data-md><a data-link-type="dfn" href="#playback-direction"
                                id="ref-for-playback-direction③">再生方向</a>が<code>reverse</code>の場合
                        <dd data-md>
                            <p><var>current direction</var>はreverseとします。</p>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><var>d</var>を<a data-link-type="dfn" href="#current-iteration"
                                            id="ref-for-current-iteration①">現在の反復</a>とします。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#playback-direction"
                                            id="ref-for-playback-direction④">再生方向</a>が<code>alternate-reverse</code>の場合、<var>d</var>を1増やします。
                                    </p>
                                <li data-md>
                                    <p><code><var>d</var> % 2 == 0</code>であれば<var>current
                                            direction</var>はforwards、それ以外ならreverseとします。
                                        <var>d</var>が無限大の場合は<var>current direction</var>はforwardsとします。
                                    </p>
                            </ol>
                    </dl>
                </div>
            <li data-md>
                <p><var>current direction</var>がforwardsなら<a data-link-type="dfn" href="#simple-iteration-progress"
                        id="ref-for-simple-iteration-progress⑤">単純反復進行度</a>を返します。</p>
                <p>それ以外の場合は
                    <code>1.0 - <a data-link-type="dfn" href="#simple-iteration-progress" id="ref-for-simple-iteration-progress⑥">単純反復進行度</a></code>
                    を返します。
                </p>
        </ol>
        <h3 class="heading settled" data-level="4.10" id="time-transformations"><span class="secno">4.10. </span><span
                class="content">時刻変換</span><a class="self-link" href="#time-transformations"></a></h3>
        <p><a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑥③">アニメーション効果</a>の進行速度を制御したいことは多くあります。
            例えば、アニメーションの速度をイージングすることで、動きに勢いを持たせ、より自然な効果が得られます。
            CSS Easing Functions Module <a data-link-type="biblio" href="#biblio-css-easing-1">[CSS-EASING-1]</a>
            は、この目的のための<a data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                id="ref-for-easing-function①">タイミング関数</a>を定義しています。</p>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑥④">アニメーション効果</a>には
            1つの<a data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                id="ref-for-easing-function②">タイミング関数</a>が関連付けられています。
            デフォルトの<span id="ref-for-easing-function③">タイミング関数</span>は<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-easing-1/#linear-easing-function"
                id="ref-for-linear-easing-function">線形タイミング関数</a>です。</p>
        <h4 class="heading settled" data-level="4.10.1" id="calculating-the-transformed-progress"><span
                class="secno">4.10.1. </span><span class="content">変換済み進行度の計算</span><a class="self-link"
                href="#calculating-the-transformed-progress"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="transformed-progress">変換済み進行度</dfn>は、<a
                data-link-type="dfn" href="#directed-progress" id="ref-for-directed-progress③">指向性進行度</a>から以下の手順で計算します：
        </p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#directed-progress" id="ref-for-directed-progress④">指向性進行度</a>が<a
                        data-link-type="dfn" href="#unresolved" id="ref-for-unresolved①⓪⑨">未解決</a>の場合、
                    <span id="ref-for-unresolved①①⓪">未解決</span>を返します。
                </p>
            <li data-md>
                <p><var>before flag</var>の値を次のように計算します：</p>
                <ol>
                    <li data-md>
                        <p><a href="#calculating-the-directed-progress">§ 4.9.1 指向性進行度の計算</a>で定義された手順に従い、<var>current
                                direction</var>を決定します。</p>
                    <li data-md>
                        <p><var>current direction</var>が<span class="prop-value">forwards</span>の場合、
                            <var>going forwards</var>はtrue、それ以外はfalseとします。
                        </p>
                    <li data-md>
                        <p>アニメーション効果が<a data-link-type="dfn" href="#animation-effect-before-phase"
                                id="ref-for-animation-effect-before-phase⑦">beforeフェーズ</a>かつ<var>going
                                forwards</var>がtrue、
                            またはアニメーション効果が<a data-link-type="dfn" href="#animation-effect-after-phase"
                                id="ref-for-animation-effect-after-phase⑧">afterフェーズ</a>かつ<var>going
                                forwards</var>がfalseのとき、
                            <var>before flag</var>をセットします。
                        </p>
                </ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑥⑤">アニメーション効果</a>の<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                        id="ref-for-easing-function④">タイミング関数</a>に、<a data-link-type="dfn" href="#directed-progress"
                        id="ref-for-directed-progress⑤">指向性進行度</a>を<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-easing-1/#input-progress-value"
                        id="ref-for-input-progress-value">入力進行度値</a>として、<var>before flag</var>を<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-easing-1/#before-flag" id="ref-for-before-flag">before
                        flag</a>として渡した評価結果を返します。</p>
        </ol>
        <h3 class="heading settled" data-level="4.11" id="the-iteration-progress"><span class="secno">4.11. </span><span
                class="content">反復進行度</span><a class="self-link" href="#the-iteration-progress"></a>
        </h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iteration-progress">反復進行度</dfn>は、<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑥⑥">アニメーション効果</a>の<a
                data-link-type="dfn" href="#transformed-progress" id="ref-for-transformed-progress②">変換済み進行度</a>そのものです。
        </p>
        <h2 class="heading settled" data-level="5" id="animation-model"><span class="secno">5. </span><span
                class="content">アニメーションモデル</span><a class="self-link" href="#animation-model"></a></h2>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>いくつかの<a data-link-type="dfn" href="#animation-effect"
                    id="ref-for-animation-effect⑥⑦">アニメーション効果</a>について、Web Animationsの<em>アニメーションモデル</em>は
                <em>タイミングモデル</em>から得られた<a data-link-type="dfn" href="#iteration-progress"
                    id="ref-for-iteration-progress⑧">反復進行度</a>と<a data-link-type="dfn" href="#current-iteration"
                    id="ref-for-current-iteration②">現在の反復</a>の値を使って
                対応する出力を計算します。
            </p>
            <p>そのアニメーション効果ごとの出力は、<a data-link-type="dfn" href="#effect-stack"
                    id="ref-for-effect-stack">効果スタック</a>で他の出力と組み合わせて
                ターゲットプロパティに適用されます（<a href="#combining-effects">§ 5.4 効果の合成</a>参照）。</p>
        </div>
        <h3 class="heading settled" data-level="5.1" id="introduction-to-the-animation-model"><span class="secno">5.1.
            </span><span class="content">概要</span><a class="self-link" href="#introduction-to-the-animation-model"></a>
        </h3>
        <p><a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑥⑧">アニメーション効果</a>は、タイミング出力の変化に応じて影響を与えるゼロ個以上の関連プロパティを持ちます。これらのプロパティは効果の<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-lt="target property" data-noexport
                id="target-property">ターゲットプロパティ</dfn>と呼ばれます。</p>
        <p><a data-link-type="dfn" href="#iteration-progress" id="ref-for-iteration-progress⑨">反復進行度</a>、<a
                data-link-type="dfn" href="#current-iteration" id="ref-for-current-iteration③">現在の反復</a>、<a
                data-link-type="dfn" href="#underlying-value" id="ref-for-underlying-value">基底値</a>が与えられると、<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑥⑨">アニメーション効果</a>は、
            各<a data-link-type="dfn" href="#concept-animatable" id="ref-for-concept-animatable">アニメーション可能</a>な<a
                data-link-type="dfn" href="#target-property" id="ref-for-target-property">ターゲットプロパティ</a>について、
            そのプロパティに適した<a data-link-type="dfn" href="#animation-type" id="ref-for-animation-type">アニメーション型</a>の手順を適用して
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="effect-value">効果値</dfn>を生成します。
        </p>
        <h3 class="heading settled" data-level="5.2" id="animating-properties"><span class="secno">5.2. </span><span
                class="content">プロパティのアニメーション</span><a class="self-link" href="#animating-properties"></a></h3>
        <p>特に指定がない限り、すべてのCSSプロパティは<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="concept-animatable">アニメーション可能</dfn>です。
            プロパティ値の合成方法は、各プロパティの定義テーブルにある<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="animation-type">アニメーション型</dfn>行によって定義されます：</p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="not-animatable">アニメーション不可</dfn>
            <dd>
                このプロパティはアニメーション不可です。
                アニメーションキーフレームにリストされても処理されず、
                トランジションにも影響を受けません。
                <p class="note" role="note"><span>注:</span> プロパティがアニメーションから除外される理由は、アニメーションすると過度に複雑になる場合が多いためです。
                    例えば、アニメーションパラメータを定義するプロパティは<a data-link-type="dfn" href="#not-animatable"
                        id="ref-for-not-animatable">アニメーション不可</a>ですが、
                    これは複雑な再帰動作を生むためです。</p>
                <p class="note" role="note"><span>注:</span> <a data-link-type="dfn" href="#animation-effect"
                        id="ref-for-animation-effect⑦⓪">アニメーション効果</a>が<a data-link-type="dfn" href="#not-animatable"
                        id="ref-for-not-animatable①">アニメーション不可</a>なプロパティのみをターゲットにしていても、
                    <span id="ref-for-animation-effect⑦①">アニメーション効果</span>としての通常の動作（イベント発火や<a data-link-type="dfn"
                        href="#concept-animation" id="ref-for-concept-animation④④">アニメーション</a>の<a data-link-type="dfn"
                        href="#current-finished-promise"
                        id="ref-for-current-finished-promise①①">現行標準終了プロミス</a>の履行遅延など）は保持されます。
                </p>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="discrete">離散</dfn>
            <dd>
                このプロパティ値は意味のある合成ができません。
                したがって<a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#not-additive"
                    id="ref-for-not-additive">加法不可</a>であり、<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-values-4/#interpolation" id="ref-for-interpolation">補間</a>は
                <var>V<sub>a</sub></var>から<var>V<sub>b</sub></var>へ50%（<var>p=0.5</var>）で切り替わります。
                すなわち
                <div class="formula" role="math">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                        <msub>
                            <mi>V</mi>
                            <mn>result</mn>
                        </msub>
                        <mo>=</mo>
                        <mrow>
                            <mfenced close open="{">
                                <mtable>
                                    <mtr>
                                        <mtd columnalign="left">
                                            <msub>
                                                <mi>V</mi>
                                                <mn>start</mn>
                                            </msub>
                                        </mtd>
                                        <mtd columnalign="left">
                                            <mtext>if </mtext>
                                            <mi>p</mi>
                                            <mo>&lt;</mo>
                                            <mn>0.5</mn>
                                        </mtd>
                                    </mtr>
                                    <mtr>
                                        <mtd columnalign="left">
                                            <msub>
                                                <mi>V</mi>
                                                <mn>end</mn>
                                            </msub>
                                        </mtd>
                                        <mtd columnalign="left">
                                            <mtext>if </mtext>
                                            <mi>p</mi>
                                            <mo>≥</mo>
                                            <mn>0.5</mn>
                                        </mtd>
                                    </mtr>
                                </mtable>
                            </mfenced>
                        </mrow>
                    </math>
                </div>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="by-computed-value">算出値ごと</dfn>
            <dd> 対応する個々の<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                    id="ref-for-computed-value">算出値</a>成分を、
                その値型に応じた手順（補間・加算・累積）で合成します
                （<a href="https://www.w3.org/TR/css-values-4/#combining-values"><cite>CSS Values 4</cite> § 3
                    値の合成：補間、加算、累積</a>参照）。
                成分数や型が一致しない場合、
                または任意の成分値が<a data-link-type="dfn" href="#discrete" id="ref-for-discrete">離散</a>アニメーションであり、値が一致しない場合は、
                プロパティ値は<span id="ref-for-discrete①">離散</span>として合成されます。
            <dt><dfn data-dfn-type="dfn" data-export id="repeatable-list">繰り返し可能リスト<a class="self-link"
                        href="#repeatable-list"></a></dfn>
            <dd>
                <a data-link-type="dfn" href="#by-computed-value" id="ref-for-by-computed-value">算出値ごと</a>と同様ですが、
                2つのリストのアイテム数が異なる場合は、最小公倍数まで繰り返してから合成します。
                各アイテムは<span id="ref-for-by-computed-value①">算出値ごと</span>で合成されます。
                合成できない値のペアや、任意の成分値が<a data-link-type="dfn" href="#discrete" id="ref-for-discrete②">離散</a>アニメーションの場合は、
                プロパティ値は<span id="ref-for-discrete③">離散</span>として合成されます。
                <p class="note" role="note"><span>注:</span> 繰り返し可能リストの概念により、リストが概念的に指定長まで繰り返される場合
                    （<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-origin"
                        id="ref-for-propdef-background-origin">background-origin</a>は<a class="property css"
                        data-link-type="property"
                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-image"
                        id="ref-for-background-image">background-image</a>リストの長さまで繰り返される）
                    または無限に繰り返される場合でも、任意の値間でスムーズに遷移でき、
                    算出値が正しく結果を表し（継承も正しく行われる可能性があります）、となります。</p>
            <dt>(本文参照)
            <dd> 上記以外の特殊な補間動作を持つプロパティについては、個別にアニメーション動作が明示的に指定されます。
        </dl>
        <p><span id="ref-for-animation-type①">アニメーション型</span>がプロパティ定義にまだ含まれていないプロパティの<a data-link-type="dfn"
                href="#animation-type">アニメーション型</a>は、<a href="#animation-types">付録A：既存プロパティのアニメーション型</a>で定義されています。</p>
        <h4 class="heading settled" data-level="5.2.1" id="custom-properties"><span class="secno">5.2.1. </span><span
                class="content">カスタムプロパティ</span><a class="self-link" href="#custom-properties"></a></h4>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-variables-1/#custom-property"
                id="ref-for-custom-property">カスタムプロパティ</a>が、<a data-link-type="idl"
                href="https://www.w3.org/TR/css-properties-values-api-1/#dom-css-registerproperty"
                id="ref-for-dom-css-registerproperty">registerProperty()</a>メソッドによって<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                id="ref-for-current-global-object①">現在のグローバルオブジェクト</a>に登録されている場合、
            <a data-link-type="dfn" href="#animation-type" id="ref-for-animation-type③">アニメーション型</a>は、プロパティの<a
                data-link-type="dfn" href="#by-computed-value" id="ref-for-by-computed-value②">算出値ごと</a>であり、
            プロパティの<a data-link-type="dfn"
                href="https://drafts.css-houdini.org/css-properties-values-api-1/#syntax-definition"
                id="ref-for-syntax-definition">構文定義</a>で使用される型から導出されます。
            プロパティの指定された構文に対応する<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value①">算出値</a>型が存在しない場合
            （例えば、構文が<a data-link-type="dfn"
                href="https://drafts.css-houdini.org/css-properties-values-api-1/#universal-syntax-definition"
                id="ref-for-universal-syntax-definition">ユニバーサル構文定義</a>の場合）や、
            <span id="ref-for-custom-property①">カスタムプロパティ</span>が登録されていない場合は、
            <span id="ref-for-animation-type④">アニメーション型</span>は<a data-link-type="dfn" href="#discrete"
                id="ref-for-discrete④">離散</a>となります。
        </p>
        <h3 class="heading settled" data-level="5.3" id="keyframe-effects"><span class="secno">5.3. </span><span
                class="content">キーフレーム効果</span><a class="self-link" href="#keyframe-effects"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="keyframe effect" data-noexport
                id="keyframe-effect">キーフレーム効果</dfn>とは、タイミングモデルの出力を利用して、要素や<a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#pseudo-element"
                id="ref-for-pseudo-element①">疑似要素</a>（<code>::before</code>や<code>::after</code>など<a
                data-link-type="biblio" href="#biblio-select">[select]</a>）のCSSプロパティを更新する<a data-link-type="dfn"
                href="#animation-effect" id="ref-for-animation-effect⑦②">アニメーション効果</a>の一種であり、
            これらは<dfn class="dfn-paneled" data-dfn-for="keyframe effect" data-dfn-type="dfn" data-export
                id="keyframe-effect-effect-target">効果ターゲット</dfn>と呼びます。
        </p>
        <p><a data-link-type="dfn" href="#keyframe-effect-effect-target"
                id="ref-for-keyframe-effect-effect-target②">効果ターゲット</a>は、
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code>である<dfn
                class="dfn-paneled" data-dfn-for="effect target" data-dfn-type="dfn" data-export
                id="effect-target-target-element">ターゲット要素</dfn>と、<a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#pseudo-element"
                id="ref-for-pseudo-element②">疑似要素</a>セレクターである<dfn class="dfn-paneled" data-dfn-for="effect target"
                data-dfn-type="dfn" data-export id="effect-target-target-pseudo-selector">ターゲット疑似セレクター</dfn>から構成されます。
            <span id="ref-for-keyframe-effect-effect-target③">効果ターゲット</span>が<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①">Element</a></code>であれば、
            <a data-link-type="dfn" href="#effect-target-target-element"
                id="ref-for-effect-target-target-element">ターゲット要素</a>はその要素で、
            <a data-link-type="dfn" href="#effect-target-target-pseudo-selector"
                id="ref-for-effect-target-target-pseudo-selector">ターゲット疑似セレクター</a>は<code>null</code>となります。
            <span id="ref-for-keyframe-effect-effect-target④">効果ターゲット</span>が<span
                id="ref-for-pseudo-element③">疑似要素</span>であれば、
            <span id="ref-for-effect-target-target-element①">ターゲット要素</span>はその<a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element">発生要素</a>であり、
            <span id="ref-for-effect-target-target-pseudo-selector①">ターゲット疑似セレクター</span>はその疑似要素を特定するために必要なものとなります。
        </p>
        <p>この方法で指定されたすべての<a data-link-type="dfn" href="#keyframe-effect-effect-target"
                id="ref-for-keyframe-effect-effect-target⑤">効果ターゲット</a>（例えば<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-shadow-parts-1/#selectordef-part"
                id="ref-for-selectordef-part">::part()</a>疑似要素や非対応疑似要素など）が算出プロパティ値を持つとは限らないことに注意してください。</p>
        <h4 class="heading settled" data-level="5.3.1" id="keyframes-section"><span class="secno">5.3.1. </span><span
                class="content">キーフレーム</span><a class="self-link" href="#keyframes-section"></a></h4>
        <p><a data-link-type="dfn" href="#effect-value" id="ref-for-effect-value">効果値</a>は<a data-link-type="dfn"
                href="#keyframe-effect" id="ref-for-keyframe-effect②">キーフレーム効果</a>について、
            分数オフセット位置に配置された一連のプロパティ値間を補間することで計算されます。
            各オフセットでインデックス付けされたプロパティ値の集合を<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="keyframe">キーフレーム</dfn>と呼びます。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="keyframe offset" data-noexport
                id="keyframe-offset">キーフレームのオフセット</dfn>は[0, 1]の範囲にある値、もしくは特別な値nullです。
            <a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe">キーフレーム</a>のリストは<a data-link-type="dfn"
                href="#keyframe-effect" id="ref-for-keyframe-effect③">キーフレーム効果</a>ごとに
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="loosely-sorted-by-offset">オフセット順にゆるくソート</dfn>されている必要があります。これは、nullでない<a data-link-type="dfn"
                href="#keyframe-offset" id="ref-for-keyframe-offset">キーフレームのオフセット</a>を持つ各<span
                id="ref-for-keyframe①">キーフレーム</span>について、そのオフセットが直前のnullでない<span
                id="ref-for-keyframe②">キーフレーム</span>のオフセット以上でなければならないことを意味します。
        </p>
        <p><a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe③">キーフレーム</a>が重複したり非対応値を持つ場合の動作は、<a
                href="#the-effect-value-of-a-keyframe-animation-effect">§ 5.3.4 キーフレーム効果の効果値</a>で定義されています。</p>
        <p>各キーフレームには、指定されたキーフレームとリスト内の<em>次</em>のキーフレーム間の期間に適用される<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-easing-1/#easing-function"
                id="ref-for-easing-function⑤">タイミング関数</a>が関連付けられています。
            リスト内の最後のキーフレームに指定された<span id="ref-for-easing-function⑥">タイミング関数</span>は決して適用されません。</p>
        <p>各<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe④">キーフレーム</a>は、<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-lt="keyframe-specific composite operation" data-noexport
                id="keyframe-specific-composite-operation">キーフレーム固有合成操作</dfn>を持つ場合があり、設定されていればその<span
                id="ref-for-keyframe⑤">キーフレーム</span>で指定されたすべての値に適用されます。
            操作の種類と意味は、<a data-link-type="dfn" href="#keyframe-effect"
                id="ref-for-keyframe-effect④">キーフレーム効果</a>全体に関連付けられる<a data-link-type="dfn" href="#composite-operation"
                id="ref-for-composite-operation">合成操作</a>と同じであり、<a href="#effect-composition">§ 5.4.4 効果合成</a>で定義されています。
            <a data-link-type="dfn" href="#keyframe-specific-composite-operation"
                id="ref-for-keyframe-specific-composite-operation">キーフレーム固有合成操作</a>が未設定の場合は、そのキーフレームに指定された値には<span
                id="ref-for-composite-operation①">合成操作</span>が用いられます。
        </p>
        <h4 class="heading settled" data-level="5.3.2" id="computing-property-values"><span class="secno">5.3.2.
            </span><span class="content">プロパティ値の算出</span><a class="self-link" href="#computing-property-values"></a>
        </h4>
        <div class="algorithm" data-algorithm="compute a property value">
            プロパティ<var>property</var>、値<var>value</var>、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a></code>
            <var>element</var>が与えられたとき、<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="compute-a-property-value">プロパティ値を算出する</dfn>には：
            <var>property</var>の定義テーブルの「算出値」行に従って<var>value</var>を解決し、依存関係を解決するためのコンテキストとして<var>element</var>の<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value②">算出値</a>を使用し、その結果を返します。
            <p class="note" role="note"><span>注:</span> <var>element</var>上の<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                    id="ref-for-computed-value③">算出値</a>は、このアルゴリズムで影響を受けません。</p>
            <p>このアルゴリズムは、キーフレームで指定されたプロパティ値が順序依存性を確立できることを意味します。
                <a data-link-type="dfn" href="#compute-a-property-value"
                    id="ref-for-compute-a-property-value">プロパティ値を算出する</a>場合、<var>value</var>が持つ依存関係の<a
                    data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                    id="ref-for-computed-value④">算出値</a>は<em>先に</em>計算されなければなりません。
            </p>
            <div class="example" id="example-6f975f2f">
                <a class="self-link" href="#example-6f975f2f"></a>
                <pre class="lang-javascript highlight"><c- a>var</c-> animation <c- o>=</c-> elem<c- p>.</c->animate<c- p>([{</c-> fontSize<c- o>:</c-> <c- t>'10px'</c-><c- p>,</c-> width<c- o>:</c-> <c- t>'10em'</c-> <c- p>},</c->
                              <c- p>{</c-> fontSize<c- o>:</c-> <c- t>'20px'</c-><c- p>,</c-> width<c- o>:</c-> <c- t>'20em'</c-> <c- p>}],</c-> <c- mf>1000</c-><c- p>);</c->
animation<c- p>.</c->currentTime <c- o>=</c-> <c- mf>500</c-><c- p>;</c->
console<c- p>.</c->log<c- p>(</c->getComputedStyle<c- p>(</c->elem<c- p>).</c->fontSize<c- p>);</c-> <c- c1>// Should be 15px</c->
console<c- p>.</c->log<c- p>(</c->getComputedStyle<c- p>(</c->elem<c- p>).</c->width<c- p>);</c-> <c- c1>// Should be 225px</c->
</pre>
                <p>この例では、<code>10em</code>の<a data-link-type="dfn" href="#compute-a-property-value"
                        id="ref-for-compute-a-property-value①">プロパティ値を算出する</a>には、
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                        id="ref-for-computed-value⑤">算出値</a>として<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                        id="ref-for-propdef-font-size">font-size</a>を<a data-link-type="dfn"
                        href="#effect-target-target-element"
                        id="ref-for-effect-target-target-element②">ターゲット要素</a>上で知る必要があります。これは<a data-link-type="dfn"
                        href="#effect-value" id="ref-for-effect-value①">効果値</a>として<span class="property"
                        id="ref-for-propdef-font-size①">font-size</span>に決定され、そのためには<span class="property"
                        id="ref-for-propdef-font-size②">font-size</span>のプロパティ値も算出しなければなりません。
                    よって、プロパティ値の算出には順序制約が伴います。
                </p>
            </div>
        </div>
        <h4 class="heading settled" data-level="5.3.3" id="calculating-computed-keyframes"><span class="secno">5.3.3.
            </span><span class="content">算出キーフレームの計算</span><a class="self-link"
                href="#calculating-computed-keyframes"></a></h4>
        <p><a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect⑥">キーフレーム効果</a>の<a
                data-link-type="dfn" href="#effect-value" id="ref-for-effect-value②">効果値</a>を計算する前に、
            その<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe⑦">キーフレーム</a>上のプロパティ値は<a
                href="#computing-property-values">算出</a>され、nullの<a data-link-type="dfn" href="#keyframe-offset"
                id="ref-for-keyframe-offset②">キーフレームのオフセット</a>には使用するオフセットが算出されます。この解決結果が<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="computed-keyframes">算出キーフレーム</dfn>です。
        </p>
        <p>適切な値が割り当てられたnullの<span id="ref-for-keyframe-offset④">キーフレームのオフセット</span>を含む<a data-link-type="dfn"
                href="#keyframe" id="ref-for-keyframe⑧">キーフレーム</a>の集合の算出<a data-link-type="dfn" href="#keyframe-offset"
                id="ref-for-keyframe-offset③">キーフレームのオフセット</a>は、<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="computed keyframe offset" data-noexport id="computed-keyframe-offset">算出キーフレームオフセット</dfn>と呼びます。
        </p>
        <p><a data-link-type="dfn" href="#computed-keyframe-offset"
                id="ref-for-computed-keyframe-offset">算出キーフレームオフセット</a>を生成するため、<a data-link-type="dfn" href="#keyframe"
                id="ref-for-keyframe⑨">キーフレーム</a>の列<var>keyframes</var>を受け取る<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="compute-missing-keyframe-offsets">欠損キーフレームオフセットの算出</dfn>手順を定義し、以下の手順を実行します：</p>
        <ol>
            <li data-md>
                <p><var>keyframes</var>内の各<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe①⓪">キーフレーム</a>について、
                    その<span id="ref-for-keyframe①①">キーフレーム</span>の<a data-link-type="dfn"
                        href="#computed-keyframe-offset" id="ref-for-computed-keyframe-offset①">算出キーフレームオフセット</a>を、もとの<a
                        data-link-type="dfn" href="#keyframe-offset"
                        id="ref-for-keyframe-offset⑤">キーフレームのオフセット</a>値と同じにします。
                </p>
            <li data-md>
                <p><var>keyframes</var>に複数の<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe①②">キーフレーム</a>があり、最初の<span id="ref-for-keyframe①③">キーフレーム</span>の<a
                        data-link-type="dfn" href="#computed-keyframe-offset"
                        id="ref-for-computed-keyframe-offset②">算出キーフレームオフセット</a>がnullの場合、
                    最初の<span id="ref-for-computed-keyframe-offset③">算出キーフレームオフセット</span>を0に設定します。</p>
            <li data-md>
                <p>最後の<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe①⑤">キーフレーム</a>の<a
                        data-link-type="dfn" href="#computed-keyframe-offset"
                        id="ref-for-computed-keyframe-offset④">算出キーフレームオフセット</a>がnullの場合、その<span
                        id="ref-for-computed-keyframe-offset⑤">算出キーフレームオフセット</span>を1に設定します。
                </p>
            <li data-md>
                <p>各ペアの<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe①⑥">キーフレーム</a><var>A</var>と<var>B</var>について：</p>
                <ul>
                    <li data-md>
                        <p><var>A</var>が<var>B</var>より<var>keyframes</var>内で前に現れ、</p>
                    <li data-md>
                        <p><var>A</var>と<var>B</var>の<a data-link-type="dfn" href="#computed-keyframe-offset"
                                id="ref-for-computed-keyframe-offset⑥">算出キーフレームオフセット</a>がnullでなく、</p>
                    <li data-md>
                        <p><var>A</var>と<var>B</var>の間にあるすべての<a data-link-type="dfn" href="#keyframe"
                                id="ref-for-keyframe①⑦">キーフレーム</a>の<a data-link-type="dfn"
                                href="#computed-keyframe-offset"
                                id="ref-for-computed-keyframe-offset⑦">算出キーフレームオフセット</a>がnullである場合、
                        </p>
                </ul>
                <p><var>A</var>と<var>B</var>の間にある各<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe①⑧">キーフレーム</a>の<a data-link-type="dfn" href="#computed-keyframe-offset"
                        id="ref-for-computed-keyframe-offset⑧">算出キーフレームオフセット</a>を以下のように計算します：</p>
                <ol>
                    <li data-md>
                        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                                id="offsetk">offset<sub><var>k</var></sub></dfn>を、<a data-link-type="dfn"
                                href="#computed-keyframe-offset"
                                id="ref-for-computed-keyframe-offset⑨">算出キーフレームオフセット</a>の<var>k</var>の値とします。</p>
                    <li data-md>
                        <p><var>n</var>を、<var>A</var>と<var>B</var>を含む間のキーフレーム数から1を引いた値とします。</p>
                    <li data-md>
                        <p><var>keyframe</var>が<var>A</var>の直後なら<var>index</var>は1、というように、<var>A</var>～<var>B</var>間のキーフレーム列における<var>keyframe</var>の位置を<var>index</var>とします。
                        </p>
                    <li data-md>
                        <p><var>keyframe</var>の<a data-link-type="dfn" href="#computed-keyframe-offset"
                                id="ref-for-computed-keyframe-offset①⓪">算出キーフレームオフセット</a>を
                            <a data-link-type="dfn" href="#offsetk"
                                id="ref-for-offsetk">offset</a><sub><var>A</var></sub> +
                            (<span id="ref-for-offsetk①">offset</span><sub><var>B</var></sub> − <span
                                id="ref-for-offsetk②">offset</span><sub><var>A</var></sub>)
                            × <var>index</var> / <var>n</var>とします。
                        </p>
                </ol>
        </ol>
        <p><a data-link-type="dfn" href="#computed-keyframes" id="ref-for-computed-keyframes">算出キーフレーム</a>は以下の手順で生成します。
            この手順は、算出プロパティ値が計算可能な<a data-link-type="dfn" href="#keyframe-effect"
                id="ref-for-keyframe-effect⑦">キーフレーム効果</a>の<a data-link-type="dfn" href="#keyframe-effect-effect-target"
                id="ref-for-keyframe-effect-effect-target⑥">効果ターゲット</a>にのみ実施されることに注意してください。</p>
        <ol>
            <li data-md>
                <p><var>computed keyframes</var>を空の<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe②⓪">キーフレーム</a>のリストとします。</p>
            <li data-md>
                <p>この<a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect⑧">キーフレーム効果</a>に指定された<a
                        data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe②①">キーフレーム</a>のリストの各<var>keyframe</var>について、以下の手順を実行します：</p>
                <ol>
                    <li data-md>
                        <p>新しい空の<a data-link-type="dfn" href="#keyframe"
                                id="ref-for-keyframe②②">キーフレーム</a>、<var>computed keyframe</var>を<var>computed
                                keyframes</var>に追加します。</p>
                    <li data-md>
                        <p><var>keyframe</var>で指定された各プロパティについて：</p>
                        <ul>
                            <li data-md>
                                <p><a data-link-type="dfn" href="#compute-a-property-value"
                                        id="ref-for-compute-a-property-value②">プロパティ値を算出する</a>を、<var>keyframe</var>で指定された値をvalue、<a
                                        data-link-type="dfn" href="#effect-target-target-element"
                                        id="ref-for-effect-target-target-element③">ターゲット要素</a>をelementとして実行し、そのプロパティと結果値を<var>computed
                                        keyframe</var>に追加します。</p>
                            <li data-md>
                                <p>ショートハンドプロパティの場合は、対応するロングハンドプロパティも追加します。</p>
                            <li data-md>
                                <p>論理プロパティ<a data-link-type="biblio"
                                        href="#biblio-css-logical-1">[CSS-LOGICAL-1]</a>の場合は、
                                    <a data-link-type="dfn"
                                        href="https://drafts.csswg.org/css-writing-modes-4/#logical-to-physical"
                                        id="ref-for-logical-to-physical">対応する物理プロパティ</a><a data-link-type="biblio"
                                        href="#biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]</a>を、
                                    <a class="property css" data-link-type="property"
                                        href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode"
                                        id="ref-for-propdef-writing-mode">writing-mode</a>および<a class="property css"
                                        data-link-type="property"
                                        href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                                        id="ref-for-propdef-direction">direction</a>の算出値に基づき、
                                    <a data-link-type="dfn" href="#keyframe-effect-effect-target"
                                        id="ref-for-keyframe-effect-effect-target⑦">効果ターゲット</a>について追加します。
                                </p>
                        </ul>
                        <p>例えば、<var>keyframe</var>の<a class="property css" data-link-type="property"
                                href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-width"
                                id="ref-for-propdef-border-width">border-width</a>プロパティ値が"12pt"の場合、ユーザーエージェントは、ロングハンドプロパティである<a
                                class="property css" data-link-type="property"
                                href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-bottom-width"
                                id="ref-for-propdef-border-bottom-width">border-bottom-width</a>、<a class="property css"
                                data-link-type="property"
                                href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-left-width"
                                id="ref-for-border-left-width">border-left-width</a>、<a class="property css"
                                data-link-type="property"
                                href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-right-width"
                                id="ref-for-border-right-width">border-right-width</a>、<a class="property css"
                                data-link-type="property"
                                href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-width"
                                id="ref-for-border-top-width">border-top-width</a>それぞれについて"16px"の<a data-link-type="dfn"
                                href="#compute-a-property-value" id="ref-for-compute-a-property-value③">算出値</a>を算出できます。
                            その結果、<var>computed keyframe</var>には<span class="property"
                                id="ref-for-propdef-border-width①">border-width</span>の値は含まれず、
                            代わりに各ロングハンドプロパティとその値"16px"が含まれることとなります。</p>
                        <p>ショートハンドプロパティの展開や論理プロパティの物理プロパティへの置換で競合が起きた場合は、以下のルールを順に適用し、解決します：</p>
                        <ol>
                            <li data-md>
                                <p>ロングハンドプロパティはショートハンドプロパティより優先します（例：<a class="property css" data-link-type="property"
                                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-color"
                                        id="ref-for-border-top-color">border-top-color</a>は<a class="property css"
                                        data-link-type="property"
                                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top"
                                        id="ref-for-border-top">border-top</a>より優先）。</p>
                            <li data-md>
                                <p>ロングハンド成分が少ないショートハンドプロパティは多いものより優先します（例：<a class="property css"
                                        data-link-type="property"
                                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top"
                                        id="ref-for-border-top①">border-top</a>は<a class="property css"
                                        data-link-type="property"
                                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-color"
                                        id="ref-for-border-color">border-color</a>より優先）。</p>
                            <li data-md>
                                <p>物理プロパティは論理プロパティより優先します。</p>
                            <li data-md>
                                <p>ロングハンド成分数が同じショートハンドプロパティでは、IDL名（<a data-link-type="dfn"
                                        href="https://drafts.csswg.org/cssom/#css-property-to-idl-attribute"
                                        id="ref-for-css-property-to-idl-attribute">CSSプロパティからIDL属性へのアルゴリズム</a><a
                                        data-link-type="biblio"
                                        href="#biblio-cssom">[CSSOM]</a>）のUnicodeコードポイント順で早いものが優先されます。</p>
                        </ol>
                </ol>
            <li data-md>
                <p><a data-link-type="dfn" href="#compute-missing-keyframe-offsets"
                        id="ref-for-compute-missing-keyframe-offsets">欠損キーフレームオフセットの算出</a>手順を<var>computed
                        keyframes</var>に適用します。
                </p>
            <li data-md>
                <p><var>computed keyframes</var>を返します。</p>
        </ol>
        <h4 class="heading settled" data-level="5.3.4" id="the-effect-value-of-a-keyframe-animation-effect"><span
                class="secno">5.3.4. </span><span class="content">キーフレーム効果の効果値</span><a class="self-link"
                href="#the-effect-value-of-a-keyframe-animation-effect"></a></h4>
        <p><a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect⑨">キーフレーム効果</a>の<a
                data-link-type="dfn" href="#target-property"
                id="ref-for-target-property①">ターゲットプロパティ</a>として参照される単一プロパティの<a data-link-type="dfn" href="#effect-value"
                id="ref-for-effect-value③">効果値</a>は、指定された<var>iteration progress</var>、<var>current
                iteration</var>、<var>underlying value</var>に対して次の手順で計算されます。</p>
        <ol>
            <li data-md>
                <p><var>iteration progress</var>が<a data-link-type="dfn" href="#unresolved"
                        id="ref-for-unresolved①①①">未解決</a>なら、この手順を中止します。</p>
            <li data-md>
                <p><var>target property</var>を、<a data-link-type="dfn" href="#effect-value"
                        id="ref-for-effect-value④">効果値</a>を計算するためのロングハンドプロパティとします。</p>
            <li data-md>
                <p><var>target property</var>の<a data-link-type="dfn" href="#animation-type"
                        id="ref-for-animation-type⑤">アニメーション型</a>が<a data-link-type="dfn" href="#not-animatable"
                        id="ref-for-not-animatable②">アニメーション不可</a>なら、この手順を中止します。効果は適用できません。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect①⓪">キーフレーム効果</a>に<a
                        data-link-type="dfn" href="#keyframe-effect-effect-target"
                        id="ref-for-keyframe-effect-effect-target⑧">効果ターゲット</a>がない場合、
                    または<span id="ref-for-keyframe-effect-effect-target⑨">効果ターゲット</span>で算出プロパティ値が計算できない場合、この手順を中止します。
                </p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="neutral-value-for-composition">合成の中立値</dfn>を、<a data-link-type="dfn"
                        href="#underlying-value" id="ref-for-underlying-value①">基底値</a>と<a data-link-type="dfn"
                        href="#composite-operation-add" id="ref-for-composite-operation-add">add</a>の<a
                        data-link-type="dfn" href="#composite-operation"
                        id="ref-for-composite-operation②">合成操作</a>で合成したときに<span
                        id="ref-for-underlying-value②">基底値</span>を生成する値と定義します。</p>
            <li data-md>
                <p><var>property-specific keyframes</var>を、この<a data-link-type="dfn" href="#keyframe-effect"
                        id="ref-for-keyframe-effect①①">キーフレーム効果</a>に対する<a data-link-type="dfn"
                        href="#computed-keyframes" id="ref-for-computed-keyframes①">算出キーフレーム</a>集合として取得します。</p>
            <li data-md>
                <p><var>property-specific keyframes</var>から、<var>target property</var>のプロパティ値がない<a data-link-type="dfn"
                        href="#keyframe" id="ref-for-keyframe②③">キーフレーム</a>を除外します。</p>
            <li data-md>
                <p><var>property-specific keyframes</var>が空なら、<var>underlying value</var>を返します。</p>
            <li data-md>
                <p><var>property-specific keyframes</var>内に<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe②④">キーフレーム</a>で<a data-link-type="dfn" href="#computed-keyframe-offset"
                        id="ref-for-computed-keyframe-offset①①">算出キーフレームオフセット</a>が0のものがなければ、
                    <span id="ref-for-keyframe②⑤">キーフレーム</span>を新規作成し、<span
                        id="ref-for-computed-keyframe-offset①②">算出キーフレームオフセット</span>を0、プロパティ値を<a data-link-type="dfn"
                        href="#neutral-value-for-composition" id="ref-for-neutral-value-for-composition">合成の中立値</a>、<a
                        data-link-type="dfn" href="#composite-operation" id="ref-for-composite-operation③">合成操作</a>を<a
                        data-link-type="dfn" href="#composite-operation-add"
                        id="ref-for-composite-operation-add①">add</a>として、<var>property-specific
                        keyframes</var>の先頭に追加します。
                </p>
            <li data-md>
                <p>同様に、<var>property-specific keyframes</var>内に<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe②⑥">キーフレーム</a>で<a data-link-type="dfn" href="#computed-keyframe-offset"
                        id="ref-for-computed-keyframe-offset①③">算出キーフレームオフセット</a>が1のものがなければ、
                    <span id="ref-for-keyframe②⑦">キーフレーム</span>を新規作成し、<span
                        id="ref-for-computed-keyframe-offset①④">算出キーフレームオフセット</span>を1、プロパティ値を<a data-link-type="dfn"
                        href="#neutral-value-for-composition" id="ref-for-neutral-value-for-composition①">合成の中立値</a>、<a
                        data-link-type="dfn" href="#composite-operation" id="ref-for-composite-operation④">合成操作</a>を<a
                        data-link-type="dfn" href="#composite-operation-add"
                        id="ref-for-composite-operation-add②">add</a>として、<var>property-specific
                        keyframes</var>の末尾に追加します。
                </p>
            <li data-md>
                <p><var>interval endpoints</var>を空のキーフレーム列とします。</p>
            <li data-md>
                <p>以下の最初に一致した条件に従い、<var>interval endpoints</var>を決定します：</p>
                <div class="switch">
                    <dl>
                        <dt data-md><var>iteration progress</var> &lt; 0 かつ <a data-link-type="dfn" href="#keyframe"
                                id="ref-for-keyframe②⑧">キーフレーム</a>で<a data-link-type="dfn"
                                href="#computed-keyframe-offset"
                                id="ref-for-computed-keyframe-offset①⑤">算出キーフレームオフセット</a>0が複数ある場合
                        <dd data-md>
                            <p><var>property-specific keyframes</var>の最初の<a data-link-type="dfn" href="#keyframe"
                                    id="ref-for-keyframe②⑨">キーフレーム</a>を<var>interval endpoints</var>に追加します。</p>
                        <dt data-md><var>iteration progress</var> ≥ 1 かつ <a data-link-type="dfn" href="#keyframe"
                                id="ref-for-keyframe③⓪">キーフレーム</a>で<a data-link-type="dfn"
                                href="#computed-keyframe-offset"
                                id="ref-for-computed-keyframe-offset①⑥">算出キーフレームオフセット</a>1が複数ある場合
                        <dd data-md>
                            <p><var>property-specific keyframes</var>の最後の<a data-link-type="dfn" href="#keyframe"
                                    id="ref-for-keyframe③①">キーフレーム</a>を<var>interval endpoints</var>に追加します。</p>
                        <dt data-md>それ以外の場合
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><var>interval endpoints</var>に、<var>iteration progress</var>以下かつ1未満の<a
                                            data-link-type="dfn" href="#computed-keyframe-offset"
                                            id="ref-for-computed-keyframe-offset①⑦">算出キーフレームオフセット</a>を持つ<var>property-specific
                                            keyframes</var>の最後の<a data-link-type="dfn" href="#keyframe"
                                            id="ref-for-keyframe③②">キーフレーム</a>を追加します。該当がなければ（例えば<var>iteration
                                            progress</var>が負の場合）、<span
                                            id="ref-for-keyframe③④">算出キーフレームオフセット</span>が0の最後の<var>keyframe</var>を追加します。
                                    </p>
                                <li data-md>
                                    <p>前のステップで追加した<var>keyframe</var>の次の<var>property-specific
                                            keyframes</var>を<var>interval endpoints</var>に追加します。</p>
                            </ol>
                    </dl>
                </div>
            <li data-md>
                <p><var>interval endpoints</var>内の各<var>keyframe</var>について：</p>
                <ol>
                    <li data-md>
                        <p><var>keyframe</var>の<a data-link-type="dfn" href="#composite-operation"
                                id="ref-for-composite-operation⑤">合成操作</a>が<em>replace</em>以外、または<var>keyframe</var>に<span
                                id="ref-for-composite-operation⑥">合成操作</span>がなく、この<a data-link-type="dfn"
                                href="#keyframe-effect" id="ref-for-keyframe-effect①②">キーフレーム効果</a>の<span
                                id="ref-for-composite-operation⑦">合成操作</span>が<em>replace</em>以外の場合、以下を実行します：</p>
                        <ol>
                            <li data-md>
                                <p>使用する<var>composite operation</var>を<var>keyframe</var>の<a data-link-type="dfn"
                                        href="#composite-operation" id="ref-for-composite-operation⑧">合成操作</a>、なければこの<a
                                        data-link-type="dfn" href="#keyframe-effect"
                                        id="ref-for-keyframe-effect①③">キーフレーム効果</a>の<span
                                        id="ref-for-composite-operation⑨">合成操作</span>とします。</p>
                            <li data-md>
                                <p><var>value to combine</var>を<var>keyframe</var>で指定された<var>target
                                        property</var>のプロパティ値とします。</p>
                            <li data-md>
                                <p><var>target property</var>のプロパティ値を、<var>underlying
                                        value</var>（<var>V</var><sub>a</sub>）と<var>value to
                                        combine</var>（<var>V</var><sub>b</sub>）を<var>target property</var>の<a
                                        data-link-type="dfn" href="#animation-type"
                                        id="ref-for-animation-type⑥">アニメーション型</a>に対応する<var>composite operation to
                                        use</var>手順で合成した値に置き換えます。</p>
                        </ol>
                </ol>
            <li data-md>
                <p><var>interval endpoints</var>にキーフレームが1つだけなら、その<var>keyframe</var>の<var>target
                        property</var>のプロパティ値を返します。</p>
            <li data-md>
                <p><var>start offset</var>を<var>interval endpoints</var>の最初のキーフレームの<a data-link-type="dfn"
                        href="#computed-keyframe-offset" id="ref-for-computed-keyframe-offset①⑨">算出キーフレームオフセット</a>とします。
                </p>
            <li data-md>
                <p><var>end offset</var>を<var>interval endpoints</var>の最後のキーフレームの<a data-link-type="dfn"
                        href="#computed-keyframe-offset" id="ref-for-computed-keyframe-offset②⓪">算出キーフレームオフセット</a>とします。
                </p>
            <li data-md>
                <p><var>interval
                        distance</var>を<code>(<var>iteration progress</var> - <var>start offset</var>) / (<var>end offset</var> - <var>start offset</var>)</code>で評価した結果とします。
                </p>
            <li data-md>
                <p><var>transformed distance</var>を、<var>interval endpoints</var>の最初のキーフレームに関連付けられた<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                        id="ref-for-easing-function⑦">タイミング関数</a>に<var>interval distance</var>を入力進行度として渡して評価した結果とします。
                </p>
            <li data-md>
                <p><var>interval endpoints</var>の2つのキーフレームで指定された<var>target
                        property</var>の値を、最初の値を<var>V</var><sub>start</sub>、2つ目を<var>V</var><sub>end</sub>とし、<var>transformed
                        distance</var>を補間パラメータ<var>p</var>として、<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-values-4/#interpolation"
                        id="ref-for-interpolation①">補間手順</a>（<var>target property</var>の<a data-link-type="dfn"
                        href="#animation-type" id="ref-for-animation-type⑦">アニメーション型</a>で定義）を適用した結果を返します。</p>
        </ol>
        <div class="note" role="note">
            <p>この手順は、効果に指定された<a data-link-type="dfn" href="#keyframe"
                    id="ref-for-keyframe③⑥">キーフレーム</a>リストについて以下を前提としています：</p>
            <p></p>
            <ul>
                <li data-md>
                    <p>各<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe③⑦">キーフレーム</a>は、[0, 1]の範囲の<a
                            data-link-type="dfn" href="#computed-keyframe-offset"
                            id="ref-for-computed-keyframe-offset②①">算出キーフレームオフセット</a>を持つ。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe③⑧">キーフレーム</a>リストは、<a
                            data-link-type="dfn" href="#computed-keyframe-offset"
                            id="ref-for-computed-keyframe-offset②②">算出キーフレームオフセット</a>の昇順でソートされている。</p>
                <li data-md>
                    <p>1つのプロパティについて、各キーフレーム上に指定されるプロパティ値は高々1つである。</p>
            </ul>
            <p>これらの条件を満たすのはモデル利用者の責任です（例えば宣言的マークアップやプログラミングインターフェースなど）。</p>
            <p>本仕様で定義される<a href="#programming-interface">プログラミングインターフェース</a>の場合、これらの条件は<a data-link-type="dfn"
                    href="#computed-keyframes" id="ref-for-computed-keyframes②">算出キーフレーム</a>生成手順によって満たされ、この手順への入力となります。
            </p>
        </div>
        <p class="note" role="note"><span>注:</span> この手順では<a data-link-type="dfn" href="#keyframe"
                id="ref-for-keyframe③⑨">キーフレーム</a>の重複を許容します。
            重複箇所では出力値はそのオフセットで定義された最後の<span id="ref-for-keyframe④⓪">キーフレーム</span>の値にジャンプします。
            0や1で重複したキーフレームがある場合、<a data-link-type="dfn" href="#iteration-progress"
                id="ref-for-iteration-progress①①">iteration
                progress</a>値が0未満または1以上の場合の出力値は、<var>keyframes</var>の最初の<span
                id="ref-for-keyframe④①">キーフレーム</span>または最後の<span id="ref-for-keyframe④②">キーフレーム</span>の値となります。</p>
        <div class="note" role="note">
            <a data-link-type="dfn" href="#computed-keyframes"
                id="ref-for-computed-keyframes③">算出キーフレーム</a>は「ライブ」であることに注意：
            ユーザーエージェントは、<a data-link-type="dfn" href="#effect-value"
                id="ref-for-effect-value⑤">効果値</a>が計算されるたびに常に算出キーフレームが再生成されるかのように振る舞わなければなりません。
            <p>例えば、<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size③">font-size</a>プロパティが<code>10px</code>から<code>20px</code>へ移行中の場合、キーフレームで<code>1em</code>と指定すると、<a
                    href="#calculating-computed-keyframes">キーフレーム算出</a>時には<span class="property"
                    id="ref-for-propdef-font-size④">font-size</span>の遷移で生成される[<code>10px</code>, <code>20px</code>]範囲の<a
                    data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                    id="ref-for-computed-value⑥">算出値</a>が解決に使われます。</p>
        </div>
        <div class="issue" id="issue-9e46aa87">
            <a class="self-link" href="#issue-9e46aa87"></a> 特定のタイミング関数が存在する場合、アニメーション効果への入力iteration progressは[0,
            1]の範囲に限定されません。
            しかし現状では、キーフレームオフセットは[0, 1]に限定され、範囲外の入力iteration progress値には単純にプロパティ値が外挿されます。
            <p>この制限を撤廃する案も検討しました。範囲外のiteration progress値で非線形なプロパティ値変化を指定したい場合が有用なケースがあるためです。
                例：緑から黄へ補間するアニメーションで、オーバーシュートするタイミング関数によって一時的に黄を越えて赤まで補間し、その後黄へ戻る。</p>
            <p>この効果はキーフレームやタイミング関数の修正で達成可能ですが、そのアプローチはタイミングとアニメーション効果の分離というモデルを崩すように思われます。</p>
            <p>どのようにこの効果を実現すべきかは未定ですが、キーフレームオフセットを[0, 1]の外に許容すると、0や1のキーフレーム自動生成仕様と不整合になる可能性があります。</p>
            <p><a href="https://lists.w3.org/Archives/Public/public-fx/2013AprJun/0184.html">section
                    4 (Keyframe offsets outside [0, 1]) of minuted discussion from Tokyo
                    2013 F2F</a></p>
            <p><a
                    href="https://github.com/w3c/csswg-drafts/issues/2081">&lt;https://github.com/w3c/csswg-drafts/issues/2081></a>
            </p>
        </div>
        <h3 class="heading settled" data-level="5.4" id="combining-effects"><span class="secno">5.4. </span><span
                class="content">効果の合成</span><a class="self-link" href="#combining-effects"></a></h3>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p><a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect①④">キーフレーム効果</a>の<a
                    data-link-type="dfn" href="#effect-value" id="ref-for-effect-value⑥">効果値</a>を計算した後、それらは<a
                    data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑦③">アニメーション効果</a>の<a
                    data-link-type="dfn" href="#target-property" id="ref-for-target-property②">ターゲットプロパティ</a>に適用されます。
            </p>
            <p>複数の<a data-link-type="dfn" href="#in-effect" id="ref-for-in-effect③">in effect</a>の<a
                    data-link-type="dfn" href="#keyframe-effect"
                    id="ref-for-keyframe-effect①⑤">キーフレーム効果</a>が同じプロパティをターゲットにすることがあるため、複数の<span
                    id="ref-for-keyframe-effect①⑥">キーフレーム効果</span>の結果を合成する必要があります。
                このプロセスは<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="composite | composition" data-noexport
                    id="composite">合成</dfn>と呼ばれ、各ターゲットプロパティごとに<a data-link-type="dfn" href="#effect-stack"
                    id="ref-for-effect-stack①">効果スタック</a>を確立することに基づいています。</p>
            <p><a data-link-type="dfn" href="#composite" id="ref-for-composite">合成</a>された<a data-link-type="dfn"
                    href="#keyframe-effect" id="ref-for-keyframe-effect①⑦">キーフレーム効果</a>の結果は、<a data-link-type="dfn"
                    href="#target-property" id="ref-for-target-property③">ターゲットプロパティ</a>に指定された他の値と合成されます。</p>
            <p>下図はその構成を示します：</p>
            <figure>
                <img alt="Overview of the application of effect values to their target properties"
                    src="https://www.w3.org/TR/web-animations-1/images/animation-cascade.svg" width="500">
                <figcaption> <a data-link-type="dfn" href="#effect-value" id="ref-for-effect-value⑦">効果値</a>の<a
                        data-link-type="dfn" href="#target-property"
                        id="ref-for-target-property④">ターゲットプロパティ</a>への適用概要。<br> 同じプロパティをターゲットにする<a data-link-type="dfn"
                        href="#keyframe-effect" id="ref-for-keyframe-effect①⑧">キーフレーム効果</a>の結果は<a data-link-type="dfn"
                        href="#effect-stack" id="ref-for-effect-stack②">効果スタック</a>で合成されます。<br>
                    合成結果はCSSカスケードに適切な位置で挿入されます。 </figcaption>
            </figure>
            <p>この操作の前半（同じ<a data-link-type="dfn" href="#target-property"
                    id="ref-for-target-property⑤">プロパティ</a>をターゲットにする<a data-link-type="dfn" href="#effect-value"
                    id="ref-for-effect-value⑧">効果値</a>の合成）については、
                <em>どのように</em><a data-link-type="dfn" href="#keyframe-effect"
                    id="ref-for-keyframe-effect①⑨">キーフレーム効果</a>同士を合成するか、
                および<em>どの順序</em>でそれらを適用するか（つまり相対的な<em>合成順序</em>）を決定する必要があります。
            </p>
            <p><em>どのように</em><a data-link-type="dfn" href="#effect-value"
                    id="ref-for-effect-value⑨">効果値</a>を合成するかは、対応する<a data-link-type="dfn" href="#keyframe-effect"
                    id="ref-for-keyframe-effect②⓪">キーフレーム効果</a>の<a data-link-type="dfn" href="#composite-operation"
                    id="ref-for-composite-operation①⓪">合成操作</a>によって決まります。</p>
            <p>各アニメーションプロパティの<em>合成順序</em>は、<a data-link-type="dfn" href="#effect-stack"
                    id="ref-for-effect-stack③">効果スタック</a>で決定されます。</p>
        </div>
        <h4 class="heading settled" data-level="5.4.1" id="animation-classes"><span class="secno">5.4.1. </span><span
                class="content">アニメーションクラス</span><a class="self-link" href="#animation-classes"></a></h4>
        <p>本仕様は、他の仕様がこのモデル上にマークアップやプログラミングインターフェースを定義する際に用いる共通アニメーションモデルを提供します。ある<a data-link-type="dfn"
                href="#concept-animation"
                id="ref-for-concept-animation④⑤">アニメーション</a>を生成した特定のマークアップやプログラムインターフェースが、その<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="animation-class">アニメーションクラス</dfn>を定義します。</p>
        <p>さらなる仕様では、異なるアニメーションクラス間や特定のクラス内で、合成順序に対する特殊な挙動を定義できます。</p>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>例えば、<a data-link-type="dfn" href="#animation-class" id="ref-for-animation-class①">class</a>が"CSS
                animation"のアニメーションは、
                "CSS transition"のクラスより<em>高い</em>合成順序を持ち、クラス未指定の他のアニメーションより<em>低い</em>順序を持つと定義されています。</p>
            <p>"CSS animation"オブジェクトの集合内では、<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-animations-1/#propdef-animation-name"
                    id="ref-for-propdef-animation-name">animation-name</a>プロパティなどの要素に基づいて専門的な合成順序が定義されています。</p>
        </div>
        <h4 class="heading settled" data-level="5.4.2" id="the-effect-stack"><span class="secno">5.4.2. </span><span
                class="content">効果スタック</span><a class="self-link" href="#the-effect-stack"></a></h4>
        <p>各<a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect②①">キーフレーム効果</a>がターゲットとするプロパティ<a
                data-link-type="dfn" href="#target-property" id="ref-for-target-property⑥">ターゲットプロパティ</a>ごとに<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="effect-stack">効果スタック</dfn>が関連付けられます。
            <a data-link-type="dfn" href="#effect-stack" id="ref-for-effect-stack④">効果スタック</a>は、<span
                id="ref-for-keyframe-effect②②">キーフレーム効果</span>の相対合成順序を確立します。
        </p>
        <p>任意の2つの<a data-link-type="dfn" href="#keyframe-effect"
                id="ref-for-keyframe-effect②③">キーフレーム効果</a><var>A</var>と<var>B</var>の<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-local-lt="composite order" data-lt="animation composite order"
                id="animation-composite-order">合成順序</dfn>は、<a data-link-type="dfn" href="#effect-stack"
                id="ref-for-effect-stack⑤">効果スタック</a>内で以下のプロパティ比較により決定されます：</p>
        <ol>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="animation effect" data-dfn-type="dfn"
                        data-lt="associated animation" data-noexport
                        id="animation-effect-associated-animation">アニメーション効果の関連アニメーション</dfn>を、<a data-link-type="dfn"
                        href="#concept-animation" id="ref-for-concept-animation④⑥">アニメーション</a>で、<a data-link-type="dfn"
                        href="#animation-effect" id="ref-for-animation-effect⑦⑤">アニメーション効果</a>に<a data-link-type="dfn"
                        href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation⑧">関連付けられている</a>ものとします。
                </p>
            <li data-md>
                <p><var>A</var>と<var>B</var>を、以下の条件を順に適用し順序が確定するまでソートします：</p>
                <ol>
                    <li data-md>
                        <p><var>A</var>と<var>B</var>の<a data-link-type="dfn"
                                href="#animation-effect-associated-animation"
                                id="ref-for-animation-effect-associated-animation">関連アニメーション</a>の<a data-link-type="dfn"
                                href="#animation-class"
                                id="ref-for-animation-class②">クラス</a>が異なる場合、対応クラス間で定義されたインタークラス合成順序でソートします。</p>
                    <li data-md>
                        <p>まだ順序が確定しなければ、共通クラス内で定義された<a data-link-type="dfn" href="#animation-class"
                                id="ref-for-animation-class③">クラス</a>固有の合成順序でソートします。</p>
                    <li data-md>
                        <p>まだ順序が確定しなければ、<a data-link-type="dfn" href="#animation-effect-associated-animation"
                                id="ref-for-animation-effect-associated-animation②">関連アニメーション</a>の<a
                                data-link-type="dfn" href="#global-animation-list"
                                id="ref-for-global-animation-list">グローバルアニメーションリスト</a>内の位置でソートします。</p>
                </ol>
        </ol>
        <p><a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑦⑥">より早くソートされるアニメーション効果</a>は、<em>より低い</em>合成順序を持ちます。</p>
        <h4 class="heading settled" data-level="5.4.3" id="calculating-the-result-of-an-effect-stack"><span
                class="secno">5.4.3. </span><span class="content">効果スタックの結果の計算</span><a class="self-link"
                href="#calculating-the-result-of-an-effect-stack"></a></h4>
        <p><a data-link-type="dfn" href="#effect-stack" id="ref-for-effect-stack⑥">効果スタック</a>の最終値を計算するには、スタック内の各<a
                data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect②④">キーフレーム効果</a>の<a
                data-link-type="dfn" href="#effect-value" id="ref-for-effect-value①①">効果値</a>を合成順序で合成します。</p>
        <p><a data-link-type="dfn" href="#effect-stack" id="ref-for-effect-stack⑦">効果スタック</a>の評価プロセスの各ステップは、入力として<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="underlying-value">基底値</dfn>を受け取ります。</p>
        <p>スタック内の各<a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect②⑤">キーフレーム効果</a>について、<span
                id="ref-for-keyframe-effect②⑥">キーフレーム効果</span>から適切な<a data-link-type="dfn" href="#effect-value"
                id="ref-for-effect-value①②">効果値</a>を取得し、<a data-link-type="dfn" href="#underlying-value"
                id="ref-for-underlying-value③">基底値</a>と合成して新しい値を作ります。
            この値は、次の<span id="ref-for-keyframe-effect②⑦">キーフレーム効果</span>との合成時の<span
                id="ref-for-underlying-value④">基底値</span>となります。</p>
        <p><a data-link-type="dfn" href="#effect-stack" id="ref-for-effect-stack⑧">効果スタック</a>の最終値（<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="composited-value">合成値</dfn>と呼ぶ）は、スタックの最後（最も高い合成順序）の<a data-link-type="dfn" href="#keyframe-effect"
                id="ref-for-keyframe-effect②⑧">キーフレーム効果</a>の<a data-link-type="dfn" href="#effect-value"
                id="ref-for-effect-value①③">効果値</a>とその時点の<a data-link-type="dfn" href="#underlying-value"
                id="ref-for-underlying-value⑤">基底値</a>を合成した結果です。</p>
        <h4 class="heading settled" data-level="5.4.4" id="effect-composition"><span class="secno">5.4.4. </span><span
                class="content">効果の合成</span><a class="self-link" href="#effect-composition"></a></h4>
        <p><a data-link-type="dfn" href="#effect-value" id="ref-for-effect-value①④">効果値</a>と<a data-link-type="dfn"
                href="#underlying-value" id="ref-for-underlying-value⑥">基底値</a>の合成に使われる具体的な操作は、<span
                id="ref-for-effect-value①⑤">効果値</span>を生成した<a data-link-type="dfn" href="#keyframe-effect"
                id="ref-for-keyframe-effect②⑨">キーフレーム効果</a>の<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="composite-operation">合成操作</dfn>によって決まります。</p>
        <p>本仕様では、次の3つの<a data-link-type="dfn" href="#composite-operation"
                id="ref-for-composite-operation①①">合成操作</a>を定義します：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="composite operation replace" data-noexport
                    id="composite-operation-replace">replace</dfn>
            <dd data-md>
                <p><a data-link-type="dfn" href="#effect-value" id="ref-for-effect-value①⑥">効果値</a>と<a
                        data-link-type="dfn" href="#underlying-value"
                        id="ref-for-underlying-value⑦">基底値</a>を合成した結果は、単純に<span
                        id="ref-for-effect-value①⑦">効果値</span>です。</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="composite operation add" data-noexport
                    id="composite-operation-add">add</dfn>
            <dd data-md>
                <p><a data-link-type="dfn" href="#effect-value" id="ref-for-effect-value①⑧">効果値</a>を<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#addition"
                        id="ref-for-addition">加算</a>して<a data-link-type="dfn" href="#underlying-value"
                        id="ref-for-underlying-value⑧">基底値</a>に合成します。
                    <a data-link-type="dfn" href="#animation-type" id="ref-for-animation-type⑧">アニメーション型</a>によっては、<span
                        id="ref-for-addition①">加算操作</span>が可換でない場合があり、そのときの順序は
                    <code><a data-link-type="dfn" href="#underlying-value" id="ref-for-underlying-value⑨">基底値</a> + <a data-link-type="dfn" href="#effect-value" id="ref-for-effect-value①⑨">効果値</a></code>です。
                </p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="composite operation accumulate"
                    data-noexport id="composite-operation-accumulate">accumulate</dfn>
            <dd data-md>
                <p><a data-link-type="dfn" href="#effect-value" id="ref-for-effect-value②⓪">効果値</a>を<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#accumulation"
                        id="ref-for-accumulation">累積</a>して<a data-link-type="dfn" href="#underlying-value"
                        id="ref-for-underlying-value①⓪">基底値</a>に合成します。
                    <a data-link-type="dfn" href="#animation-type" id="ref-for-animation-type⑨">アニメーション型</a>によっては、<span
                        id="ref-for-accumulation①">累積操作</span>が可換でない場合があり、そのときの順序は<span
                        id="ref-for-underlying-value①①">基底値</span>、次に<span id="ref-for-effect-value②①">効果値</span>です。
                </p>
        </dl>
        <h4 class="heading settled" data-level="5.4.5" id="applying-the-composited-result"><span class="secno">5.4.5.
            </span><span class="content">合成結果の適用</span><a class="self-link" href="#applying-the-composited-result"></a>
        </h4>
        <p><a data-link-type="dfn" href="#composited-value" id="ref-for-composited-value">合成値</a>を<a
                data-link-type="dfn" href="#target-property"
                id="ref-for-target-property⑦">ターゲットプロパティ</a>に適用するには、指定値をCSSカスケードに追加します。</p>
        <p>この指定値がカスケードに追加されるレベルは、<a data-link-type="dfn" href="#effect-stack"
                id="ref-for-effect-stack⑨">効果スタック</a>内で最も高い合成順序の効果が関連付けられている<a data-link-type="dfn"
                href="#concept-animation" id="ref-for-concept-animation④⑦">アニメーション</a>の<a data-link-type="dfn"
                href="#animation-class" id="ref-for-animation-class④">クラス</a>によって決まります。
            デフォルトでは、指定値はカスケードの「アニメーション宣言」レベルに追加されます（<a data-link-type="biblio"
                href="#biblio-css-cascade-3">[css-cascade-3]</a>）。</p>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>例えば、最も高い合成順序の効果が"CSS transition"クラスのアニメーションに関連付けられている場合、<a data-link-type="dfn" href="#composited-value"
                    id="ref-for-composited-value①">合成値</a>はカスケードの「トランジション宣言」レベルに追加されます。</p>
        </div>
        <p>CSSの<a data-link-type="dfn" href="#target-property" id="ref-for-target-property⑧">ターゲットプロパティ</a>に対して計算された<a
                data-link-type="dfn" href="#composited-value" id="ref-for-composited-value②">合成値</a>は、次の手順で適用されます。</p>
        <ol>
            <li data-md>
                <p>プロパティの<var>base value</var>を、アニメーションがない場合にそのプロパティの算出値を計算した結果値とします。</p>
            <li data-md>
                <p>プロパティの<a data-link-type="dfn" href="#effect-stack" id="ref-for-effect-stack①⓪">効果スタック</a>を確立します（<a
                        href="#the-effect-stack">§ 5.4.2 効果スタック</a>参照）。</p>
            <li data-md>
                <p>プロパティの<var>base value</var>を初期<a data-link-type="dfn" href="#underlying-value"
                        id="ref-for-underlying-value①②">基底値</a>として<a data-link-type="dfn" href="#effect-stack"
                        id="ref-for-effect-stack①①">効果スタック</a>の<a data-link-type="dfn" href="#composited-value"
                        id="ref-for-composited-value③">合成値</a>を計算します（<a
                        href="#calculating-the-result-of-an-effect-stack">§ 5.4.3 効果スタックの結果の計算</a>参照）。</p>
            <li data-md>
                <p>確立されたターゲットプロパティの<a data-link-type="dfn" href="#effect-stack"
                        id="ref-for-effect-stack①②">効果スタック</a>の先頭の効果に関連付けられている<a data-link-type="dfn"
                        href="#concept-animation" id="ref-for-concept-animation④⑧">アニメーション</a>の<a data-link-type="dfn"
                        href="#animation-class" id="ref-for-animation-class⑤">クラス</a>で定義されたレベルに<a data-link-type="dfn"
                        href="#composited-value" id="ref-for-composited-value④">合成値</a>をCSSカスケードに挿入します。</p>
        </ol>
        <h3 class="heading settled" data-level="5.5" id="replacing-animations"><span class="secno">5.5. </span><span
                class="content">アニメーションの置換</span><a class="self-link" href="#replacing-animations"></a></h3>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>本仕様で定義されるプログラミングインターフェースを使用すると、要素のアニメーションスタイルに無限に新しいアニメーションを繰り返し追加することができます。</p>
            <p>例えば、以下のコードを考えてみましょう：</p>
            <div class="example" id="example-86ce4327">
                <a class="self-link" href="#example-86ce4327"></a>
                <pre class="lang-javascript highlight">elem<c- p>.</c->addEventListener<c- p>(</c-><c- t>'mousemove'</c-><c- p>,</c-> evt <c- p>=></c-> <c- p>{</c->
  circle<c- p>.</c->animate<c- p>(</c->
    <c- p>{</c-> transform<c- o>:</c-> <c- sb>`translate(</c-><c- si>${</c->evt<c- p>.</c->clientX<c- si>}</c-><c- sb>px, </c-><c- si>${</c->evt<c- p>.</c->clientY<c- si>}</c-><c- sb>px)`</c-> <c- p>},</c->
    <c- p>{</c-> duration<c- o>:</c-> <c- mf>500</c-><c- p>,</c-> fill<c- o>:</c-> <c- t>'forwards'</c-> <c- p>}</c->
  <c- p>);</c->
<c- p>});</c->
</pre>
            </div>
            <p>これはマウスが動くたびに新しいforwards fillアニメーションを生成し、すぐに何百、何千ものforwards fillアニメーションが作られます。</p>
            <p>ユーザーエージェントが<em>すべて</em>のアニメーションを保持しなければならない場合、アニメーションリストが際限なく増加し、メモリリークを引き起こします。</p>
            <p>この節では、上書きされたアニメーションが明示的な保持要求がない限り自動的に削除されるメカニズムを定義します。</p>
        </div>
        <h4 class="heading settled" data-level="5.5.1" id="animation-replace-state"><span class="secno">5.5.1.
            </span><span class="content">置換状態</span><a class="self-link" href="#animation-replace-state"></a>
        </h4>
        <p><a data-link-type="dfn" href="#concept-animation"
                id="ref-for-concept-animation④⑨">アニメーション</a>は、次の値のいずれかを持つ<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="replace-state">置換状態</dfn>を保持します：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="active replace state" data-noexport
                        id="active-replace-state">active（アクティブ）</dfn></p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="removed replace state" data-noexport
                        id="removed-replace-state">removed（削除済）</dfn></p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="persisted replace state" data-noexport
                        id="persisted-replace-state">persisted（保持）</dfn></p>
        </ul>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤⓪">アニメーション</a>の<a
                data-link-type="dfn" href="#replace-state" id="ref-for-replace-state①">置換状態</a>の初期値は<a
                data-link-type="dfn" href="#active-replace-state" id="ref-for-active-replace-state">active</a>です。</p>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤①">アニメーション</a>の<a
                data-link-type="dfn" href="#replace-state" id="ref-for-replace-state②">置換状態</a>が<a data-link-type="dfn"
                href="#removed-replace-state" id="ref-for-removed-replace-state①">removed</a>の場合、その<a
                data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑦⑦">アニメーション効果</a>は<a
                data-link-type="dfn" href="#target-property" id="ref-for-target-property⑨">ターゲットプロパティ</a>の<a
                data-link-type="dfn" href="#effect-stack" id="ref-for-effect-stack①③">効果スタック</a>に含まれません。</p>
        <h4 class="heading settled" data-level="5.5.2" id="removing-replaced-animations"><span class="secno">5.5.2.
            </span><span class="content">置換されたアニメーションの削除</span><a class="self-link"
                href="#removing-replaced-animations"></a></h4>
        <p><em>すべて</em>の次の条件を満たす場合、<a data-link-type="dfn" href="#concept-animation"
                id="ref-for-concept-animation⑤②">アニメーション</a>は<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-local-lt="replaceable" data-lt="replaceable animation" data-noexport
                id="replaceable-animation">置換可能</dfn>です：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#concept-animation"
                        id="ref-for-concept-animation⑤③">アニメーション</a>の存在がマークアップによって規定されて<em>いない</em>こと。
                    すなわち、CSSアニメーションの<a data-link-type="dfn"
                        href="https://drafts.csswg.org/css-animations-2/#owning-element"
                        id="ref-for-owning-element">所有要素</a>でもなく、
                    CSSトランジションの<a data-link-type="dfn" href="https://drafts.csswg.org/css-transitions-2/#owning-element"
                        id="ref-for-owning-element①">所有要素</a>でもないこと。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤④">アニメーション</a>の<a
                        data-link-type="dfn" href="#animation-play-state" id="ref-for-animation-play-state⑧">再生状態</a>が<a
                        data-link-type="dfn" href="#play-state-finished"
                        id="ref-for-play-state-finished①④">finished</a>であること。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤⑤">アニメーション</a>の<a
                        data-link-type="dfn" href="#replace-state" id="ref-for-replace-state③">置換状態</a>が<a
                        data-link-type="dfn" href="#removed-replace-state"
                        id="ref-for-removed-replace-state②">removed</a>で<em>ない</em>こと。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤⑥">アニメーション</a>が<a
                        data-link-type="dfn" href="#monotonically-increasing-timeline"
                        id="ref-for-monotonically-increasing-timeline⑦">単調増加</a>の<a data-link-type="dfn"
                        href="#timeline" id="ref-for-timeline⑤②">タイムライン</a>に関連付けられていること。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤⑦">アニメーション</a>が<a
                        data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect②⑥">関連効果</a>を持つこと。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤⑧">アニメーション</a>の<a
                        data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect②⑦">関連効果</a>が<a data-link-type="dfn" href="#in-effect"
                        id="ref-for-in-effect⑤">in effect</a>であること。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑤⑨">アニメーション</a>の<a
                        data-link-type="dfn" href="#animation-associated-effect"
                        id="ref-for-animation-associated-effect②⑧">関連効果</a>が<a data-link-type="dfn"
                        href="#keyframe-effect-effect-target"
                        id="ref-for-keyframe-effect-effect-target①⓪">効果ターゲット</a>を持つこと。</p>
        </ul>
        <p><code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document⑥">Document</a></code>
            <var>doc</var>の<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="remove-replaced-animations">置換されたアニメーションの削除</dfn>を求められた場合、すべての<a data-link-type="dfn"
                href="#concept-animation"
                id="ref-for-concept-animation⑥⓪">アニメーション</a><var>animation</var>について、下記の条件を満たすものに対して：
        </p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation⑨">関連付けられた</a><a data-link-type="dfn"
                        href="#animation-effect" id="ref-for-animation-effect⑦⑧">アニメーション効果</a>があり、その<a
                        data-link-type="dfn" href="#keyframe-effect-effect-target"
                        id="ref-for-keyframe-effect-effect-target①①">効果ターゲット</a>が<var>doc</var>の<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-tree-descendant"
                        id="ref-for-concept-tree-descendant①">子孫</a>であること、</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#replaceable-animation"
                        id="ref-for-replaceable-animation">置換可能</a>であること、</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#replace-state" id="ref-for-replace-state④">置換状態</a>が<a
                        data-link-type="dfn" href="#active-replace-state"
                        id="ref-for-active-replace-state①">active</a>であること、</p>
            <li data-md>
                <p>全ての<a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑦⑨">アニメーション効果</a>の<a
                        data-link-type="dfn" href="#target-property"
                        id="ref-for-target-property①⓪">ターゲットプロパティ</a>ごとに、同じ<span
                        id="ref-for-target-property①①">ターゲットプロパティ</span>を含む、より高い<a data-link-type="dfn"
                        href="#animation-composite-order" id="ref-for-animation-composite-order①">合成順序</a>を持つ<a
                        data-link-type="dfn" href="#replaceable-animation"
                        id="ref-for-replaceable-animation①">置換可能</a>な<a data-link-type="dfn" href="#concept-animation"
                        id="ref-for-concept-animation⑥①">アニメーション</a>の<a data-link-type="dfn" href="#animation-effect"
                        id="ref-for-animation-effect⑧⓪">アニメーション効果</a>が存在すること、</p>
        </ul>
        <p>以下の手順を実行します：</p>
        <ol>
            <li data-md>
                <p><var>animation</var>の<a data-link-type="dfn" href="#replace-state"
                        id="ref-for-replace-state⑤">置換状態</a>を<a data-link-type="dfn" href="#removed-replace-state"
                        id="ref-for-removed-replace-state③">removed</a>に設定します。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create"
                        id="ref-for-concept-event-create②">イベントを生成</a>し、<code
                        class="idl"><a data-link-type="idl" href="#animationplaybackevent" id="ref-for-animationplaybackevent②">AnimationPlaybackEvent</a></code>
                    <var>removeEvent</var>とします。
                </p>
            <li data-md>
                <p><var>removeEvent</var>の<code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type②">type</a></code>属性を<a
                        data-link-type="dfn" href="#remove-event" id="ref-for-remove-event">remove</a>に設定します。</p>
            <li data-md>
                <p><var>removeEvent</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-animationplaybackevent-currenttime" id="ref-for-dom-animationplaybackevent-currenttime②">currentTime</a></code>属性を、<var>animation</var>の<a
                        data-link-type="dfn" href="#animation-current-time"
                        id="ref-for-animation-current-time④⑨">現在時刻</a>に設定します。</p>
            <li data-md>
                <p><var>removeEvent</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-animationplaybackevent-timelinetime" id="ref-for-dom-animationplaybackevent-timelinetime③">timelineTime</a></code>属性を、<var>animation</var>が関連付けられている<a
                        data-link-type="dfn" href="#timeline-current-time"
                        id="ref-for-timeline-current-time⑦">タイムラインの現在時刻</a>に設定します。</p>
            <li data-md>
                <p><var>animation</var>が<a data-link-type="dfn" href="#animation-document-for-timing"
                        id="ref-for-animation-document-for-timing⑤">タイミング用ドキュメント</a>を持つ場合は、<var>removeEvent</var>をその<span
                        id="ref-for-animation-document-for-timing⑥">タイミング用ドキュメント</span>の<a data-link-type="dfn"
                        href="#pending-animation-event-queue"
                        id="ref-for-pending-animation-event-queue④">保留アニメーションイベントキュー</a>に、ターゲット<var>animation</var>とともに追加します。
                    <a data-link-type="dfn" href="#scheduled-event-time"
                        id="ref-for-scheduled-event-time⑥">イベント予定時刻</a>には、<var>animation</var>が関連付けられている<a
                        data-link-type="dfn" href="#timeline-current-time"
                        id="ref-for-timeline-current-time⑧">タイムラインの現在時刻</a>に<a data-link-type="dfn"
                        href="#timeline-time-to-origin-relative-time"
                        id="ref-for-timeline-time-to-origin-relative-time④">タイムライン時刻を原点相対時刻へ変換</a>手順を適用した結果を使用します。
                </p>
                <p>それ以外の場合は、<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task②">タスクをキュー</a>し、<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                        id="ref-for-concept-event-dispatch③">removeEventを<var>animation</var>でdispatch</a>します。
                    このタスクのタスクソースは<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                        id="ref-for-dom-manipulation-task-source②">DOM操作タスクソース</a>です。</p>
        </ol>
        <h3 class="heading settled" data-level="5.6" id="side-effects-section"><span class="secno">5.6. </span><span
                class="content">アニメーションの副作用</span><a class="self-link" href="#side-effects-section"></a>
        </h3>
        <p>少なくとも1つの<a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑧①">アニメーション効果</a>によってターゲットとされ、かつ<a data-link-type="dfn" href="#current"
                id="ref-for-current②">current</a>または<a data-link-type="dfn" href="#in-effect" id="ref-for-in-effect⑥">in
                effect</a>であり、
            その<a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑥②">アニメーション</a>の<a
                data-link-type="dfn" href="#replace-state" id="ref-for-replace-state⑥">置換状態</a>が<a data-link-type="dfn"
                href="#removed-replace-state" id="ref-for-removed-replace-state④">removed</a>で<em>ない</em>すべてのプロパティについて、
            ユーザーエージェントは<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-will-change-1/#propdef-will-change"
                id="ref-for-propdef-will-change">will-change</a>プロパティ（<a data-link-type="biblio"
                href="#biblio-css-will-change-1">[css-will-change-1]</a>）が<a data-link-type="dfn"
                href="#keyframe-effect-effect-target"
                id="ref-for-keyframe-effect-effect-target①②">効果ターゲット</a>上でそのプロパティを含んでいるかのように振る舞わなければなりません。</p>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>上記要件の結果として、たとえばアニメーションが要素の<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-transforms-1/#propdef-transform"
                    id="ref-for-propdef-transform">transform</a>プロパティをターゲットにする場合、
                <a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/visuren.html#x43"
                    id="ref-for-x43">スタッキングコンテキスト</a>が<a data-link-type="dfn" href="#keyframe-effect-effect-target"
                    id="ref-for-keyframe-effect-effect-target①③">効果ターゲット</a>に作成されます。
                これは<a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑥③">アニメーション</a>が<a
                    data-link-type="dfn" href="#animation-effect-before-phase"
                    id="ref-for-animation-effect-before-phase⑧">beforeフェーズ</a>、
                <a data-link-type="dfn" href="#animation-effect-active-phase"
                    id="ref-for-animation-effect-active-phase⑦">activeフェーズ</a>、
                または<a data-link-type="dfn" href="#fill-mode" id="ref-for-fill-mode⑨">塗りモード</a>が"forwards"または"both"の場合は<a
                    data-link-type="dfn" href="#animation-effect-after-phase"
                    id="ref-for-animation-effect-after-phase⑨">afterフェーズ</a>である間、有効です。
            </p>
        </div>
        <h2 class="heading settled" data-level="6" id="programming-interface"><span class="secno">6. </span><span
                class="content">プログラミングインターフェース</span><a class="self-link" href="#programming-interface"></a></h2>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>上記の抽象モデルに加え、Web Animationsはこのモデルへのプログラミングインターフェースも定義します。
                このインターフェースは宣言的手段で生成されたアニメーションの検査・拡張や、手続き的手法が適している場合に直接アニメーションを生成するために使用できます。</p>
        </div>
        <h3 class="heading settled" data-level="6.1" id="time-values-in-the-programming-interface"><span
                class="secno">6.1. </span><span class="content">プログラミングインターフェースにおける時間値</span><a class="self-link"
                href="#time-values-in-the-programming-interface"></a></h3>
        <p><a data-link-type="dfn" href="#time-value" id="ref-for-time-value④④">時間値</a>はプログラミングインターフェースでは
            <code>double</code>型で表されます。<a data-link-type="dfn" href="#unresolved"
                id="ref-for-unresolved①①②">未解決</a>の時間値は
            <code>null</code>値で表現されます。
        </p>
        <h3 class="heading settled" data-level="6.2" id="the-animationtimeline-interface"><span class="secno">6.2.
            </span><span class="content"><code>AnimationTimeline</code>インターフェース</span><a class="self-link"
                href="#the-animationtimeline-interface"></a></h3>
        <p><a data-link-type="dfn" href="#timeline" id="ref-for-timeline⑤⑤">タイムライン</a>は、Web Animations APIでは<code
                class="idl"><a data-link-type="idl" href="#animationtimeline" id="ref-for-animationtimeline">AnimationTimeline</a></code>
            インターフェースで表現されます。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="animationtimeline"><code><c- g>AnimationTimeline</c-></code></dfn> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="double?" href="#dom-animationtimeline-currenttime" id="ref-for-dom-animationtimeline-currenttime"><c- g>currentTime</c-></a>;
};
</pre>
        <div class="attributes">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationTimeline" data-dfn-type="attribute"
                        data-export id="dom-animationtimeline-currenttime"><code>currentTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double①">double</a>, 読み取り専用, null許容</span>
                <dd data-md>
                    <p>このタイムラインの<a data-link-type="dfn" href="#timeline-current-time"
                            id="ref-for-timeline-current-time⑨">現在時刻</a>を返します。
                        タイムラインが<a data-link-type="dfn" href="#inactive-timeline"
                            id="ref-for-inactive-timeline①⑧">非アクティブ</a>の場合は<code>null</code>を返します。</p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.3" id="the-documenttimeline-interface"><span class="secno">6.3.
            </span><span class="content"><code>DocumentTimeline</code>インターフェース</span><a class="self-link"
                href="#the-documenttimeline-interface"></a></h3>
        <p><a data-link-type="dfn" href="#document-timeline" id="ref-for-document-timeline⑤">ドキュメントタイムライン</a>（<a
                data-link-type="dfn" href="#document-default-document-timeline"
                id="ref-for-document-default-document-timeline④">デフォルトドキュメントタイムライン</a>を含む）は、Web Animations APIでは<code
                class="idl"><a data-link-type="idl" href="#documenttimeline" id="ref-for-documenttimeline">DocumentTimeline</a></code>
            インターフェースで表現されます。</p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-documenttimelineoptions"><code><c- g>DocumentTimelineOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="DOMHighResTimeStamp " href="#dom-documenttimelineoptions-origintime" id="ref-for-dom-documenttimelineoptions-origintime"><c- g>originTime</c-></a> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="documenttimeline"><code><c- g>DocumentTimeline</c-></code></dfn> : <a data-link-type="idl-name" href="#animationtimeline" id="ref-for-animationtimeline①"><c- n>AnimationTimeline</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-documenttimeline-documenttimeline" id="ref-for-dom-documenttimeline-documenttimeline"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-documenttimelineoptions" id="ref-for-dictdef-documenttimelineoptions"><c- n>DocumentTimelineOptions</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-documenttimeline-documenttimeline-options-options" id="ref-for-dom-documenttimeline-documenttimeline-options-options"><c- g>options</c-></a> = {});
};
</pre>
        <div class="members">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DocumentTimelineOptions"
                        data-dfn-type="dict-member" data-export
                        id="dom-documenttimelineoptions-origintime"><code>originTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp"
                            id="ref-for-dom-domhighrestimestamp①">DOMHighResTimeStamp</a>, デフォルト値<code>0</code></span>
                <dd data-md>
                    <p>タイムラインの<a data-link-type="dfn" href="#origin-time" id="ref-for-origin-time②">原点時刻</a>を、<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                            id="ref-for-concept-settings-object-time-origin④">時刻原点</a>からの実数ミリ秒で指定します。</p>
            </dl>
        </div>
        <div class="constructors">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DocumentTimeline"
                        data-dfn-type="constructor" data-export
                        data-lt="DocumentTimeline(options)|constructor(options)|DocumentTimeline()|constructor()"
                        id="dom-documenttimeline-documenttimeline"><code>DocumentTimeline (options)</code></dfn>
                <dd data-md>
                    <p>新しい<code
                            class="idl"><a data-link-type="idl" href="#documenttimeline" id="ref-for-documenttimeline①">DocumentTimeline</a></code>を作成します。
                        タイムラインが関連付けられる<code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document⑦">Document</a></code>は、
                        <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document⑧">Document</a></code>であり、
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-window"
                            id="ref-for-concept-document-window">関連付け</a>られた<code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>の
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                            id="ref-for-current-global-object②">現在のグローバルオブジェクト</a>となります。
                    </p>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="DocumentTimeline/DocumentTimeline(options)" data-dfn-type="argument"
                                    data-export
                                    id="dom-documenttimeline-documenttimeline-options-options"><code>options</code></dfn>
                            <dd data-md>
                                <p>新しく作成されるタイムラインの構成パラメータです。
                                    本現行標準では<code
                                        class="idl"><a data-link-type="idl" href="#dom-documenttimelineoptions-origintime" id="ref-for-dom-documenttimelineoptions-origintime①">originTime</a></code>
                                    メンバーのみ定義しますが、他の規格で拡張される場合があります。</p>
                        </dl>
                    </div>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.4" id="the-animation-interface"><span class="secno">6.4. </span><span
                class="content"><code>Animation</code>インターフェース</span><a class="self-link"
                href="#the-animation-interface"></a></h3>
        <p><a data-link-type="dfn" href="#concept-animation" id="ref-for-concept-animation⑥④">アニメーション</a>は
            Web Animations APIでは<code
                class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation">Animation</a></code>
            インターフェースで表現されます。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="animation"><code><c- g>Animation</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-animation-animation" id="ref-for-dom-animation-animation"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#animationeffect" id="ref-for-animationeffect"><c- n>AnimationEffect</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-animation-animation-effect-timeline-effect" id="ref-for-dom-animation-animation-effect-timeline-effect"><c- g>effect</c-></a> = <c- b>null</c->,
                <c- b>optional</c-> <a data-link-type="idl-name" href="#animationtimeline" id="ref-for-animationtimeline②"><c- n>AnimationTimeline</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-animation-animation-effect-timeline-timeline" id="ref-for-dom-animation-animation-effect-timeline-timeline"><c- g>timeline</c-></a>);
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a>                <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-animation-id" id="ref-for-dom-animation-id"><c- g>id</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="#animationeffect" id="ref-for-animationeffect①"><c- n>AnimationEffect</c-></a>?         <a class="idl-code" data-link-type="attribute" data-type="AnimationEffect?" href="#dom-animation-effect" id="ref-for-dom-animation-effect"><c- g>effect</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="#animationtimeline" id="ref-for-animationtimeline③"><c- n>AnimationTimeline</c-></a>?       <a class="idl-code" data-link-type="attribute" data-type="AnimationTimeline?" href="#dom-animation-timeline" id="ref-for-dom-animation-timeline"><c- g>timeline</c-></a>;
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a>?                  <a class="idl-code" data-link-type="attribute" data-type="double?" href="#dom-animation-starttime" id="ref-for-dom-animation-starttime"><c- g>startTime</c-></a>;
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③"><c- b>double</c-></a>?                  <a class="idl-code" data-link-type="attribute" data-type="double?" href="#dom-animation-currenttime" id="ref-for-dom-animation-currenttime"><c- g>currentTime</c-></a>;
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④"><c- b>double</c-></a>                   <a class="idl-code" data-link-type="attribute" data-type="double" href="#dom-animation-playbackrate" id="ref-for-dom-animation-playbackrate"><c- g>playbackRate</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-animationplaystate" id="ref-for-enumdef-animationplaystate"><c- n>AnimationPlayState</c-></a>       <a class="idl-code" data-link-type="attribute" data-readonly data-type="AnimationPlayState" href="#dom-animation-playstate" id="ref-for-dom-animation-playstate"><c- g>playState</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-animationreplacestate" id="ref-for-enumdef-animationreplacestate"><c- n>AnimationReplaceState</c-></a>    <a class="idl-code" data-link-type="attribute" data-readonly data-type="AnimationReplaceState" href="#dom-animation-replacestate" id="ref-for-dom-animation-replacestate"><c- g>replaceState</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a>                  <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-animation-pending" id="ref-for-dom-animation-pending"><c- g>pending</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#animation" id="ref-for-animation①"><c- n>Animation</c-></a>>       <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Animation>" href="#dom-animation-ready" id="ref-for-dom-animation-ready"><c- g>ready</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#animation" id="ref-for-animation②"><c- n>Animation</c-></a>>       <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Animation>" href="#dom-animation-finished" id="ref-for-dom-animation-finished"><c- g>finished</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a>             <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-animation-onfinish" id="ref-for-dom-animation-onfinish"><c- g>onfinish</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a>             <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-animation-oncancel" id="ref-for-dom-animation-oncancel"><c- g>oncancel</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a>             <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-animation-onremove" id="ref-for-dom-animation-onremove"><c- g>onremove</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-cancel" id="ref-for-dom-animation-cancel"><c- g>cancel</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-finish" id="ref-for-dom-animation-finish①"><c- g>finish</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-play" id="ref-for-dom-animation-play"><c- g>play</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-pause" id="ref-for-dom-animation-pause"><c- g>pause</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-updateplaybackrate" id="ref-for-dom-animation-updateplaybackrate"><c- g>updatePlaybackRate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑤"><c- b>double</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-animation-updateplaybackrate-playbackrate-playbackrate" id="ref-for-dom-animation-updateplaybackrate-playbackrate-playbackrate"><c- g>playbackRate</c-></a>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-reverse" id="ref-for-dom-animation-reverse"><c- g>reverse</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-persist" id="ref-for-dom-animation-persist"><c- g>persist</c-></a>();
    [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions"><c- g>CEReactions</c-></a>]
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑦"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-commitstyles" id="ref-for-dom-animation-commitstyles"><c- g>commitStyles</c-></a>();
};
</pre>
        <div class="constructors">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="constructor"
                        data-export
                        data-lt="Animation(effect, timeline)|constructor(effect, timeline)|Animation(effect)|constructor(effect)|Animation()|constructor()"
                        id="dom-animation-animation"><code>Animation (effect, timeline)</code></dfn>
                <dd data-md>
                    <p>以下の手順で新しい<code
                            class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation③">Animation</a></code>
                        オブジェクトを作成します。</p>
                    <ol>
                        <li data-md>
                            <p><var>animation</var>を新しい<code
                                    class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation④">Animation</a></code>
                                オブジェクトとします。</p>
                        <li data-md>
                            <p><var>animation</var>に対し、<a data-link-type="dfn"
                                    href="#animation-set-the-timeline-of-an-animation"
                                    id="ref-for-animation-set-the-timeline-of-an-animation">アニメーションのタイムラインを設定する</a>手順を実行し、<var>timeline</var>を<var>new
                                    timeline</var>として渡します。<var>timeline</var>引数がない場合は、<code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document⑨">Document</a></code>
                                の<a data-link-type="dfn" href="#document-default-document-timeline"
                                    id="ref-for-document-default-document-timeline⑤">デフォルトドキュメントタイムライン</a>（<code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-window"
                                    id="ref-for-concept-document-window①">Window</a></code>の<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                                    id="ref-for-current-global-object③">現在のグローバルオブジェクト</a>に関連付けられている）を渡します。
                            </p>
                        <li data-md>
                            <p><var>animation</var>に対し、<a data-link-type="dfn"
                                    href="#animation-set-the-associated-effect-of-an-animation"
                                    id="ref-for-animation-set-the-associated-effect-of-an-animation①">アニメーションの関連効果を設定する</a>手順を実行し、<var>source</var>を<var>new
                                    effect</var>として渡します。
                            </p>
                    </ol>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="Animation/Animation(effect, timeline)" data-dfn-type="argument"
                                    data-export
                                    id="dom-animation-animation-effect-timeline-effect"><code>effect</code></dfn>
                            <dd data-md>
                                <p>オプション値。nullでなければ、新しく作成される<a data-link-type="dfn" href="#concept-animation"
                                        id="ref-for-concept-animation⑥⑤">アニメーション</a>に割り当てる<a data-link-type="dfn"
                                        href="#animation-associated-effect"
                                        id="ref-for-animation-associated-effect②⑨">関連効果</a>を指定します。</p>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="Animation/Animation(effect, timeline)" data-dfn-type="argument"
                                    data-export
                                    id="dom-animation-animation-effect-timeline-timeline"><code>timeline</code></dfn>
                            <dd data-md>
                                <p>オプション値。指定すれば新しく作成される<a data-link-type="dfn" href="#concept-animation"
                                        id="ref-for-concept-animation⑥⑥">アニメーション</a>に関連付ける<a data-link-type="dfn"
                                        href="#timeline" id="ref-for-timeline⑤⑥">タイムライン</a>を指定します。
                                    省略時は、<code
                                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/#document" id="ref-for-document①⓪">Document</a></code>
                                    の<a data-link-type="dfn" href="#document-default-document-timeline"
                                        id="ref-for-document-default-document-timeline⑥">デフォルトドキュメントタイムライン</a>（<code
                                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-window"
                                        id="ref-for-concept-document-window②">Window</a></code>の<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                                        id="ref-for-current-global-object④">現在のグローバルオブジェクト</a>に関連付けられている）を使用します。
                                </p>
                        </dl>
                    </div>
            </dl>
        </div>
        <div class="attributes">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-id"><code>id</code></dfn>, <span> 型 <a data-link-type="idl-name"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"
                            id="ref-for-idl-DOMString①">DOMString</a></span>
                <dd data-md>
                    <p>アニメーションを識別するための文字列。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-effect"><code>effect</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#animationeffect"
                            id="ref-for-animationeffect②">AnimationEffect</a>、null許容</span>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#animation-associated-effect"
                            id="ref-for-animation-associated-effect③⓪">関連効果</a>。
                        この属性を設定すると、<a data-link-type="dfn" href="#animation-set-the-associated-effect-of-an-animation"
                            id="ref-for-animation-set-the-associated-effect-of-an-animation②">アニメーションの関連効果を設定する</a>手順に従いオブジェクトの関連効果が更新されます。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-timeline"><code>timeline</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#animationtimeline"
                            id="ref-for-animationtimeline④">AnimationTimeline</a>、null許容</span>
                <dd data-md>
                    <p>このアニメーションに関連付けられた<a data-link-type="dfn" href="#timeline" id="ref-for-timeline⑤⑦">タイムライン</a>。
                        この属性を設定すると、<a data-link-type="dfn" href="#animation-set-the-timeline-of-an-animation"
                            id="ref-for-animation-set-the-timeline-of-an-animation①">アニメーションのタイムラインを設定する</a>手順に従いオブジェクトのタイムラインが更新されます。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-starttime"><code>startTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double⑥">double</a>、null許容</span>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#animation-start-time"
                            id="ref-for-animation-start-time⑤①">開始時刻</a>を返します。
                        この属性を設定すると、<a data-link-type="dfn" href="#set-the-start-time"
                            id="ref-for-set-the-start-time①">開始時刻を設定する</a>手順に従いオブジェクトの<span
                            id="ref-for-animation-start-time⑤②">開始時刻</span>を新しい値で更新します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-currenttime"><code>currentTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double⑦">double</a>、null許容</span>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#animation-current-time"
                            id="ref-for-animation-current-time⑤⓪">現在時刻</a>。
                        この属性を設定すると、<a data-link-type="dfn" href="#animation-set-the-current-time"
                            id="ref-for-animation-set-the-current-time③">現在時刻を設定する</a>手順に従いオブジェクトの現在時刻を新しい値に更新します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-playbackrate"><code>playbackRate</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double⑧">double</a></span>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#playback-rate" id="ref-for-playback-rate③⑨">再生速度</a>。
                        この属性を設定すると、<a data-link-type="dfn" href="#set-the-playback-rate"
                            id="ref-for-set-the-playback-rate②">再生速度を設定する</a>手順に従いオブジェクトの再生速度を新しい値に更新します。</p>
                    <div class="note" role="note">
                        <p>この属性を設定すると、<a data-link-type="dfn" href="#playback-rate"
                                id="ref-for-playback-rate④⓪">再生速度</a>の同期更新が行われ、別プロセスやスレッドで再生中のアニメーションの再生状態との同期は試みません。
                            そのため、再生中のアニメーションに対し<code
                                class="idl"><a data-link-type="idl" href="#dom-animation-playbackrate" id="ref-for-dom-animation-playbackrate①">playbackRate</a></code>
                            を設定するとジャンプすることがあります。</p>
                        <p>再生中のアニメーションの再生速度を滑らかに変更するには、非同期の<code
                                class="idl"><a data-link-type="idl" href="#dom-animation-updateplaybackrate" id="ref-for-dom-animation-updateplaybackrate①">updatePlaybackRate()</a></code>
                            メソッドを使ってください。</p>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-playstate"><code>playState</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#enumdef-animationplaystate"
                            id="ref-for-enumdef-animationplaystate①">AnimationPlayState</a>、読み取り専用</span>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#animation-play-state"
                            id="ref-for-animation-play-state⑨">再生状態</a>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-replacestate"><code>replaceState</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#enumdef-animationreplacestate"
                            id="ref-for-enumdef-animationreplacestate①">AnimationReplaceState</a>、読み取り専用</span>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#replace-state" id="ref-for-replace-state⑦">置換状態</a>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-pending"><code>pending</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-boolean"
                            id="ref-for-idl-boolean①">boolean</a>、読み取り専用</span>
                <dd data-md>
                    <p>このアニメーションが<a data-link-type="dfn" href="#pending-play-task"
                            id="ref-for-pending-play-task①⑧">保留再生タスク</a>または<a data-link-type="dfn"
                            href="#pending-pause-task" id="ref-for-pending-pause-task①⑧">保留一時停止タスク</a>を持つ場合はtrueを返します。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-ready"><code>ready</code></dfn>, <span> 型 Promise&lt;<a
                            data-link-type="idl-name" href="#animation"
                            id="ref-for-animation⑤">Animation</a>>、読み取り専用</span>
                <dd data-md>
                    <p>このオブジェクトの<a data-link-type="dfn" href="#current-ready-promise"
                            id="ref-for-current-ready-promise①⑦">現行標準readyプロミス</a>を返します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-finished"><code>finished</code></dfn>, <span> 型
                        Promise&lt;<a data-link-type="idl-name" href="#animation"
                            id="ref-for-animation⑥">Animation</a>>、読み取り専用</span>
                <dd data-md>
                    <p>このオブジェクトの<a data-link-type="dfn" href="#current-finished-promise"
                            id="ref-for-current-finished-promise①②">現行標準終了プロミス</a>を返します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-onfinish"><code>onfinish</code></dfn>, <span> 型 <a
                            data-link-type="idl-name"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"
                            id="ref-for-eventhandler③">EventHandler</a></span>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#finish-event" id="ref-for-finish-event②">finishイベント</a>のイベントハンドラ。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-oncancel"><code>oncancel</code></dfn>, <span> 型 <a
                            data-link-type="idl-name"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"
                            id="ref-for-eventhandler④">EventHandler</a></span>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#cancel-event" id="ref-for-cancel-event③">cancelイベント</a>のイベントハンドラ。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="attribute"
                        data-export id="dom-animation-onremove"><code>onremove</code></dfn>, <span> 型 <a
                            data-link-type="idl-name"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"
                            id="ref-for-eventhandler⑤">EventHandler</a></span>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#remove-event" id="ref-for-remove-event①">removeイベント</a>のイベントハンドラ。
                    </p>
            </dl>
        </div>
        <div class="methods">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="cancel()" id="dom-animation-cancel"><code>void cancel()</code></dfn>
                <dd data-md>
                    <p>このアニメーションによるすべての効果をクリアし、再生を中止します。<a data-link-type="dfn" href="#cancel-an-animation"
                            id="ref-for-cancel-an-animation①">アニメーションのキャンセル</a>手順を実行します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="finish()" id="dom-animation-finish"><code>void finish()</code></dfn>
                <dd data-md>
                    <p>アニメーションを現在の方向で<a data-link-type="dfn" href="#associated-effect-end"
                            id="ref-for-associated-effect-end①⑦">関連効果の終了点</a>までシークします。<a data-link-type="dfn"
                            href="#finish-an-animation" id="ref-for-finish-an-animation②">アニメーションの終了</a>手順を実行します。</p>
                    <div class="exceptions">
                        <dl>
                            <dt data-md>DOMException 型 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code>
                            <dd data-md>
                                <p>このアニメーションの<a data-link-type="dfn" href="#playback-rate"
                                        id="ref-for-playback-rate④②">再生速度</a>が0の場合、
                                    または再生速度が0より大きく、<a data-link-type="dfn" href="#associated-effect-end"
                                        id="ref-for-associated-effect-end①⑧">関連効果の終了点</a>が無限大の場合に発生します。</p>
                        </dl>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="play()" id="dom-animation-play"><code>void play()</code></dfn>
                <dd data-md>
                    <p>アニメーションの再生を開始または再開します。<a data-link-type="dfn" href="#play-an-animation"
                            id="ref-for-play-an-animation④">アニメーションの再生</a>手順を実行し、<var>auto-rewind</var>フラグにtrueを渡します。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="pause()" id="dom-animation-pause"><code>void pause()</code></dfn>
                <dd data-md>
                    <p>このアニメーションの再生を一時停止します。<a data-link-type="dfn" href="#pause-an-animation"
                            id="ref-for-pause-an-animation">アニメーションの一時停止</a>手順を実行します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="updatePlaybackRate(playbackRate)"
                        id="dom-animation-updateplaybackrate"><code>void updatePlaybackRate(playbackRate)</code></dfn>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#playback-rate"
                            id="ref-for-playback-rate④④">再生速度</a>を非同期で更新します。<a data-link-type="dfn"
                            href="#seamlessly-update-the-playback-rate"
                            id="ref-for-seamlessly-update-the-playback-rate">再生速度のシームレスな更新</a>手順を実行し、<code
                            class="idl"><a data-link-type="idl" href="#dom-animation-updateplaybackrate-playbackrate-playbackrate" id="ref-for-dom-animation-updateplaybackrate-playbackrate-playbackrate①">playbackRate</a></code>
                        を<var>new playback rate</var>として渡します。</p>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="Animation/updatePlaybackRate(playbackRate)" data-dfn-type="argument"
                                    data-export
                                    id="dom-animation-updateplaybackrate-playbackrate-playbackrate"><code>playbackRate</code></dfn>
                            <dd data-md>
                                <p>更新後の再生速度を指定する有限実数。</p>
                        </dl>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="reverse()" id="dom-animation-reverse"><code>void reverse()</code></dfn>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#playback-rate"
                            id="ref-for-playback-rate④⑤">再生速度</a>を反転し、<a data-link-type="dfn"
                            href="#reverse-an-animation" id="ref-for-reverse-an-animation">アニメーションの逆再生</a>手順を実行して再生します。
                        <a class="idl-code" data-link-type="method" href="#dom-animation-play"
                            id="ref-for-dom-animation-play①">play()</a>と同様、このメソッドはアニメーションを一時停止状態から解除し、すでに逆方向で終了している場合は<a
                            data-link-type="dfn" href="#animation-associated-effect"
                            id="ref-for-animation-associated-effect③②">関連効果</a>の開始点までシークします。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="persist()" id="dom-animation-persist"><code>void persist()</code></dfn>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#replace-state" id="ref-for-replace-state⑧">置換状態</a>を<a
                            data-link-type="dfn" href="#persisted-replace-state"
                            id="ref-for-persisted-replace-state">persisted</a>に設定します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animation" data-dfn-type="method"
                        data-export data-lt="commitStyles()"
                        id="dom-animation-commitstyles"><code>void commitStyles()</code></dfn>
                <dd data-md>
                    <p>このアニメーションの<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect⑧②">アニメーション効果</a>が生成した<a data-link-type="dfn"
                            href="#effect-value" id="ref-for-effect-value②②">効果値</a>を、それぞれの<a data-link-type="dfn"
                            href="#keyframe-effect-effect-target"
                            id="ref-for-keyframe-effect-effect-target①④">効果ターゲット</a>のインラインスタイルに書き込みます。<a
                            data-link-type="dfn" href="#commit-computed-styles"
                            id="ref-for-commit-computed-styles">算出スタイルのコミット</a>手順を実行します。</p>
                    <p>このメソッドは、このインターフェースの多くの他のメソッドとは異なり、<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                            id="ref-for-style-change-event">スタイル変更イベント</a>を発火します（<a href="#model-liveness">§ 6.13
                            モデルのライブ性</a>参照）。
                    </p>
                    <div class="note" role="note">
                        <p><a data-link-type="dfn" href="#commit-computed-styles"
                                id="ref-for-commit-computed-styles①">算出スタイルのコミット</a>手順は、アニメーションが<a data-link-type="dfn"
                                href="#removed-replace-state"
                                id="ref-for-removed-replace-state⑤">removed</a>であっても効果値を含むため、
                            このメソッドはアニメーションが置換された後も（<a href="#removing-replaced-animations">§ 5.5.2
                                置換されたアニメーションの削除</a>参照）アニメーションの効果のみを残したい場合に有用です。</p>
                        <p>コミットされる値は<em>算出値</em>であり、ライブアニメーションが生成する値のようにCSS変数の変化やem単位の再計算など、コンテキスト変化には反映されません。</p>
                        <p>置換後も塗りアニメーションの結果を完全に残したい場合（<a href="#replacing-animations">§ 5.5 アニメーションの置換</a>参照）は、<code
                                class="idl"><a data-link-type="idl" href="#dom-animation-persist" id="ref-for-dom-animation-persist①">persist()</a></code>
                            メソッドを使えます。ただし、その場合アニメーションはリソースを引き続き消費します。</p>
                    </div>
            </dl>
        </div>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="commit-computed-styles">算出スタイルをコミットする</dfn>には、<a data-link-type="dfn" href="#concept-animation"
                id="ref-for-concept-animation⑥⑦">アニメーション</a><var>animation</var>について：</p>
        <ol>
            <li data-md>
                <p><var>targets</var>を、<var>animation</var>に<a data-link-type="dfn" href="#associated-with-an-animation"
                        id="ref-for-associated-with-an-animation①①">関連付けられている</a>すべての<a data-link-type="dfn"
                        href="#animation-effect" id="ref-for-animation-effect⑧④">アニメーション効果</a>の<a data-link-type="dfn"
                        href="#keyframe-effect-effect-target"
                        id="ref-for-keyframe-effect-effect-target①⑤">効果ターゲット</a>の<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">セット</a>とする。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                        id="ref-for-list-iterate">各</a><var>target</var>について：</p>
                <ol>
                    <li data-md>
                        <p><var>target</var>が<a data-link-type="dfn"
                                href="https://drafts.csswg.org/css-style-attr/#style-attribute"
                                id="ref-for-style-attribute">style属性</a>を持つことができる要素でない場合（例：疑似要素や、style属性が定義されていない文書形式の要素）、<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                id="ref-for-dfn-throw⑤">throw</a>し、「<code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#nomodificationallowederror" id="ref-for-nomodificationallowederror">NoModificationAllowedError</a></code>」<code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>を発生させ、これらの手順を中止する。
                        </p>
                    <li data-md>
                        <p>保留中のスタイル変更を適用した後、<var>target</var>が<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsers.html#being-rendered"
                                id="ref-for-being-rendered">描画されていない</a>場合、<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw"
                                id="ref-for-dfn-throw⑥">throw</a>し、「<code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑤">InvalidStateError</a></code>」<code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>を発生させ、これらの手順を中止する。
                        </p>
                        <div class="issue" id="issue-8f3b970c">
                            <a class="self-link" href="#issue-8f3b970c"></a>
                            <p><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/browsers.html#being-rendered"
                                    id="ref-for-being-rendered①">描画されている</a>の定義は、<a class="css"
                                    data-link-type="propdesc"
                                    href="https://www.w3.org/TR/css-display-3/#propdef-display"
                                    id="ref-for-propdef-display">display: contents</a>との関係でまだ<a
                                    href="https://github.com/whatwg/html/issues/1837">議論中</a>です。
                                この手順の目的では、<span class="css" id="ref-for-propdef-display①">display:
                                    contents</span>であっても、他にレイアウトボックスが関連付けられる（<a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#connected" id="ref-for-connected">接続済み</a>で、<span
                                    class="css" id="ref-for-propdef-display②">display:
                                    none</span>のサブツリーでない）場合は<em>描画されている</em>とみなします。</p>
                        </div>
                    <li data-md>
                        <p><var>inline style</var>を、<var>target</var>の<a data-link-type="dfn"
                                href="https://www.w3.org/TR/cssom-1/#css-declaration-block"
                                id="ref-for-css-declaration-block">CSS宣言ブロック</a>（style属性に対応）取得結果とします。
                            <var>target</var>が<a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-element-attribute-has"
                                id="ref-for-concept-element-attribute-has">style属性を持たない</a>場合は、<var>inline
                                style</var>を新しい空の<span id="ref-for-css-declaration-block①">CSS宣言ブロック</span>（<a
                                data-link-type="dfn"
                                href="https://www.w3.org/TR/cssom-1/#cssstyledeclaration-owner-node"
                                id="ref-for-cssstyledeclaration-owner-node">オーナーノード</a>は<var>target</var>）とします。
                        </p>
                    <li data-md>
                        <p><var>targeted properties</var>を、<var>animation</var>に<a data-link-type="dfn"
                                href="#associated-with-an-animation"
                                id="ref-for-associated-with-an-animation①②">関連付けられている</a>すべての<a data-link-type="dfn"
                                href="#animation-effect"
                                id="ref-for-animation-effect⑧⑤">アニメーション効果</a>のうち、<var>target</var>を<a
                                data-link-type="dfn" href="#keyframe-effect-effect-target"
                                id="ref-for-keyframe-effect-effect-target①⑥">効果ターゲット</a>とするものの、物理ロングハンドプロパティの<a
                                data-link-type="dfn" href="#target-property"
                                id="ref-for-target-property①②">ターゲットプロパティ</a>の<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">セット</a>とする。
                        </p>
                    <li data-md>
                        <p>各プロパティ<var>property</var>について：</p>
                        <ol>
                            <li data-md>
                                <p><var>partialEffectStack</var>を<var>target</var>上の<var>property</var>の<a
                                        data-link-type="dfn" href="#effect-stack"
                                        id="ref-for-effect-stack①④">効果スタック</a>のコピーとします。</p>
                            <li data-md>
                                <p><var>animation</var>の<a data-link-type="dfn" href="#replace-state"
                                        id="ref-for-replace-state⑨">置換状態</a>が<a data-link-type="dfn"
                                        href="#removed-replace-state"
                                        id="ref-for-removed-replace-state⑥">removed</a>なら、<var>animation</var>に<a
                                        data-link-type="dfn" href="#associated-with-an-animation"
                                        id="ref-for-associated-with-an-animation①③">関連付けられている</a>すべての<a
                                        data-link-type="dfn" href="#animation-effect"
                                        id="ref-for-animation-effect⑧⑥">アニメーション効果</a>のうち、<var>target</var>を<a
                                        data-link-type="dfn" href="#keyframe-effect-effect-target"
                                        id="ref-for-keyframe-effect-effect-target①⑦">効果ターゲット</a>とし、<var>property</var>を<a
                                        data-link-type="dfn" href="#target-property"
                                        id="ref-for-target-property①③">ターゲットプロパティ</a>に含むものを<var>partialEffectStack</var>に追加します。
                                </p>
                            <li data-md>
                                <p><var>partialEffectStack</var>から、<var>animation</var>より高い<a data-link-type="dfn"
                                        href="#animation-composite-order"
                                        id="ref-for-animation-composite-order②">合成順序</a>を持つ<a data-link-type="dfn"
                                        href="#concept-animation" id="ref-for-concept-animation⑥⑧">アニメーション</a>に<a
                                        data-link-type="dfn" href="#associated-with-an-animation"
                                        id="ref-for-associated-with-an-animation①④">関連付けられている</a>アニメーション効果を削除します。</p>
                            <li data-md>
                                <p><var>effect
                                        value</var>を、<var>partialEffectStack</var>について<var>property</var>の結果を計算し（<var>target</var>の算出スタイルを使用）、その結果とします（<a
                                        href="#calculating-the-result-of-an-effect-stack">§ 5.4.3 効果スタックの結果の計算</a>参照）。
                                </p>
                            <li data-md>
                                <p><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#set-a-css-declaration"
                                        id="ref-for-set-a-css-declaration">CSS宣言を設定する</a>で、<var>property</var>に<var>effect
                                        value</var>を<var>inline style</var>に設定します。</p>
                        </ol>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#update-style-attribute-for"
                                id="ref-for-update-style-attribute-for">style属性を更新する</a>で<var>inline style</var>を更新します。
                        </p>
                </ol>
        </ol>
        <h4 class="heading settled" data-level="6.4.1" id="the-animationplaystate-enumeration"><span
                class="secno">6.4.1. </span><span class="content"><code>AnimationPlayState</code>列挙型</span><a
                class="self-link" href="#the-animationplaystate-enumeration"></a></h4>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-animationplaystate"><code><c- g>AnimationPlayState</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="AnimationPlayState" data-dfn-type="enum-value" data-export id="dom-animationplaystate-idle"><code><c- s>"idle"</c-></code><a class="self-link" href="#dom-animationplaystate-idle"></a></dfn>, <dfn class="idl-code" data-dfn-for="AnimationPlayState" data-dfn-type="enum-value" data-export id="dom-animationplaystate-running"><code><c- s>"running"</c-></code><a class="self-link" href="#dom-animationplaystate-running"></a></dfn>, <dfn class="idl-code" data-dfn-for="AnimationPlayState" data-dfn-type="enum-value" data-export id="dom-animationplaystate-paused"><code><c- s>"paused"</c-></code><a class="self-link" href="#dom-animationplaystate-paused"></a></dfn>, <dfn class="idl-code" data-dfn-for="AnimationPlayState" data-dfn-type="enum-value" data-export id="dom-animationplaystate-finished"><code><c- s>"finished"</c-></code><a class="self-link" href="#dom-animationplaystate-finished"></a></dfn> };
</pre>
        <dl>
            <dt data-md><code>idle</code>
            <dd data-md>
                <p><a data-link-type="dfn" href="#play-state-idle" id="ref-for-play-state-idle⑥">アイドル再生状態</a>に対応します。</p>
            <dt data-md><code>running</code>
            <dd data-md>
                <p><a data-link-type="dfn" href="#play-state-running" id="ref-for-play-state-running③">再生中状態</a>に対応します。
                </p>
            <dt data-md><code>paused</code>
            <dd data-md>
                <p><a data-link-type="dfn" href="#play-state-paused" id="ref-for-play-state-paused⑦">一時停止状態</a>に対応します。
                </p>
            <dt data-md><code>finished</code>
            <dd data-md>
                <p><a data-link-type="dfn" href="#play-state-finished"
                        id="ref-for-play-state-finished①⑤">終了状態</a>に対応します。</p>
        </dl>
        <h4 class="heading settled" data-level="6.4.2" id="the-animationreplacestate-enumeration"><span
                class="secno">6.4.2. </span><span class="content"><code>AnimationReplaceState</code>列挙型</span><a
                class="self-link" href="#the-animationreplacestate-enumeration"></a></h4>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-animationreplacestate"><code><c- g>AnimationReplaceState</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="AnimationReplaceState" data-dfn-type="enum-value" data-export id="dom-animationreplacestate-active"><code><c- s>"active"</c-></code><a class="self-link" href="#dom-animationreplacestate-active"></a></dfn>, <dfn class="idl-code" data-dfn-for="AnimationReplaceState" data-dfn-type="enum-value" data-export id="dom-animationreplacestate-removed"><code><c- s>"removed"</c-></code><a class="self-link" href="#dom-animationreplacestate-removed"></a></dfn>, <dfn class="idl-code" data-dfn-for="AnimationReplaceState" data-dfn-type="enum-value" data-export id="dom-animationreplacestate-persisted"><code><c- s>"persisted"</c-></code><a class="self-link" href="#dom-animationreplacestate-persisted"></a></dfn> };
</pre>
        <dl>
            <dt data-md><code>active</code>
            <dd data-md>
                <p><a data-link-type="dfn" href="#active-replace-state"
                        id="ref-for-active-replace-state②">アクティブ置換状態</a>に対応します。</p>
            <dt data-md><code>removed</code>
            <dd data-md>
                <p><a data-link-type="dfn" href="#removed-replace-state"
                        id="ref-for-removed-replace-state⑦">削除済み置換状態</a>に対応します。</p>
            <dt data-md><code>persisted</code>
            <dd data-md>
                <p><a data-link-type="dfn" href="#persisted-replace-state"
                        id="ref-for-persisted-replace-state①">保持置換状態</a>に対応します。</p>
        </dl>
        <h3 class="heading settled" data-level="6.5" id="the-animationeffect-interface"><span class="secno">6.5.
            </span><span class="content"><code>AnimationEffect</code>インターフェース</span><a class="self-link"
                href="#the-animationeffect-interface"></a></h3>
        <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑧⑧">アニメーション効果</a>は
            Web Animations APIでは抽象<code
                class="idl"><a data-link-type="idl" href="#animationeffect" id="ref-for-animationeffect③">AnimationEffect</a></code>
            インターフェースで表現されます。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="animationeffect"><code><c- g>AnimationEffect</c-></code></dfn> {
    <a data-link-type="idl-name" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming"><c- n>EffectTiming</c-></a>         <a class="idl-code" data-link-type="method" href="#dom-animationeffect-gettiming" id="ref-for-dom-animationeffect-gettiming"><c- g>getTiming</c-></a>();
    <a data-link-type="idl-name" href="#dictdef-computedeffecttiming" id="ref-for-dictdef-computedeffecttiming"><c- n>ComputedEffectTiming</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animationeffect-getcomputedtiming" id="ref-for-dom-animationeffect-getcomputedtiming"><c- g>getComputedTiming</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑧"><c- b>undefined</c-></a>            <a class="idl-code" data-link-type="method" href="#dom-animationeffect-updatetiming" id="ref-for-dom-animationeffect-updatetiming"><c- g>updateTiming</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-optionaleffecttiming" id="ref-for-dictdef-optionaleffecttiming"><c- n>OptionalEffectTiming</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-animationeffect-updatetiming-timing-timing" id="ref-for-dom-animationeffect-updatetiming-timing-timing"><c- g>timing</c-></a> = {});
};
</pre>
        <div class="note" role="note"> 将来的には <code>any onupdate (double? progress,
double currentIteration, Animatable? target, any
underlyingValue)</code> を公開し、アニメーション効果がタイミングモデルとは独立して駆動できるようにする可能性があります。 </div>
        <div class="methods">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationEffect" data-dfn-type="method"
                        data-export id="dom-animationeffect-gettiming"><code>getTiming()</code></dfn>
                <dd data-md>
                    <p>この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect⑧⑨">アニメーション効果</a>に指定されたタイミングプロパティを返します。</p>
                    <p>返される<code
                            class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming①">EffectTiming</a></code>
                        オブジェクトのメンバーと<a href="#timing-model">タイミングモデル</a>のプロパティの対応は、
                        <code
                            class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming②">EffectTiming</a></code>
                        インターフェースを参照してください。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationEffect" data-dfn-type="method"
                        data-export id="dom-animationeffect-getcomputedtiming"><code>getComputedTiming()</code></dfn>
                <dd data-md>
                    <p>この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect⑨⓪">アニメーション効果</a>の計算済みタイミングプロパティを返します。</p>
                    <p><code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-gettiming" id="ref-for-dom-animationeffect-gettiming①">getTiming()</a></code>
                        や<code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-getcomputedtiming" id="ref-for-dom-animationeffect-getcomputedtiming①">getComputedTiming()</a></code>で返されるオブジェクトの属性には共通するものもありますが、値は以下のように異なります：
                    </p>
                    <ul>
                        <li data-md>
                            <p><code
                                    class="idl"><a data-link-type="idl" href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration">duration</a></code>
                                - <code
                                    class="idl"><a data-link-type="idl" href="#dom-animationeffect-gettiming" id="ref-for-dom-animationeffect-gettiming②">getTiming()</a></code>は文字列<code>auto</code>を返す場合がありますが、<code
                                    class="idl"><a data-link-type="idl" href="#dom-animationeffect-getcomputedtiming" id="ref-for-dom-animationeffect-getcomputedtiming②">getComputedTiming()</a></code>は、<a
                                    data-link-type="dfn" href="#iteration-duration"
                                    id="ref-for-iteration-duration①③">反復期間</a>の計算値に対応する数値を返さなければなりません。詳細は<code
                                    class="idl"><a data-link-type="idl" href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration①">duration</a></code>メンバーの説明を参照。
                            </p>
                            <p>この現行標準では、<code>auto</code>値は単にゼロに置き換えられることを意味します。</p>
                        <li data-md>
                            <p><code
                                    class="idl"><a data-link-type="idl" href="#dom-effecttiming-fill" id="ref-for-dom-effecttiming-fill">fill</a></code>
                                - 同様に、<code
                                    class="idl"><a data-link-type="idl" href="#dom-animationeffect-gettiming" id="ref-for-dom-animationeffect-gettiming③">getTiming()</a></code>は文字列<code>auto</code>を返す場合がありますが、<code
                                    class="idl"><a data-link-type="idl" href="#dom-animationeffect-getcomputedtiming" id="ref-for-dom-animationeffect-getcomputedtiming③">getComputedTiming()</a></code>は、タイミング計算に使われる具体的な<a
                                    class="idl-code" data-link-type="enum" href="#enumdef-fillmode"
                                    id="ref-for-enumdef-fillmode">FillMode</a>を返さなければなりません。詳細は<code
                                    class="idl"><a data-link-type="idl" href="#dom-effecttiming-fill" id="ref-for-dom-effecttiming-fill①">fill</a></code>メンバーの説明を参照。
                            </p>
                            <p>この現行標準では、<code>auto</code>値は単に<code>none</code>の<a class="idl-code" data-link-type="enum"
                                    href="#enumdef-fillmode" id="ref-for-enumdef-fillmode①">FillMode</a>に置き換えられます。</p>
                    </ul>
                    <p class="note" role="note"><span>注:</span>
                        他のタイミングメンバーも将来的に<code>auto</code>のような値が拡張される可能性があります。タイミング計算を行う際は、許容値の範囲や型が変更された場合の互換性を避けるため、可能な限り<code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-getcomputedtiming" id="ref-for-dom-animationeffect-getcomputedtiming④">getComputedTiming()</a></code>を利用することが推奨されます。
                    </p>
                    <p>返される値の違いに加え、
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-gettiming" id="ref-for-dom-animationeffect-gettiming④">getTiming()</a></code>と比較して、
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-getcomputedtiming" id="ref-for-dom-animationeffect-getcomputedtiming⑤">getComputedTiming()</a></code>は、<code
                            class="idl"><a data-link-type="idl" href="#dictdef-computedeffecttiming" id="ref-for-dictdef-computedeffecttiming①">ComputedEffectTiming</a></code>辞書で定義される追加のタイミング情報も返します。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationEffect" data-dfn-type="method"
                        data-export data-lt="updateTiming(timing)|updateTiming()"
                        id="dom-animationeffect-updatetiming"><code>updateTiming(timing)</code></dfn>
                <dd data-md>
                    <p>この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect⑨①">アニメーション効果</a>の指定タイミングプロパティを更新します。
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-updatetiming-timing-timing" id="ref-for-dom-animationeffect-updatetiming-timing-timing①">timing</a></code>パラメータを<var>input</var>として、<a
                            data-link-type="dfn" href="#update-the-timing-properties-of-an-animation-effect"
                            id="ref-for-update-the-timing-properties-of-an-animation-effect">アニメーション効果のタイミングプロパティを更新する</a>手順を実行します。
                    </p>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="AnimationEffect/updateTiming(timing)" data-dfn-type="argument"
                                    data-export data-lt="timing"
                                    id="dom-animationeffect-updatetiming-timing-timing"><code>optional <code class="idl"><a data-link-type="idl" href="#dictdef-optionaleffecttiming" id="ref-for-dictdef-optionaleffecttiming①">OptionalEffectTiming</a></code>
                                    timing</code></dfn>
                            <dd data-md>
                                <p>更新するタイミングプロパティ。
                                    <code
                                        class="idl"><a data-link-type="idl" href="#dom-animationeffect-updatetiming-timing-timing" id="ref-for-dom-animationeffect-updatetiming-timing-timing②">timing</a></code>に<a
                                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                                        id="ref-for-map-exists">存在しない</a>メンバーに対応するタイミングプロパティは<em>変更されません</em>。
                                </p>
                        </dl>
                    </div>
            </dl>
        </div>
        <p class="issue" id="issue-178c6cfa"><a class="self-link" href="#issue-178c6cfa"></a>
            <code>remove()</code>メソッドは、効果を親グループやアニメーションから除去するために使える。現行標準レベル1に残し、単にアニメーションからアニメーション効果を除去するものとして定義すべきか？ <a
                href="https://github.com/w3c/csswg-drafts/issues/2082">[Issue #2082]</a>
        </p>
        <h4 class="heading settled" data-level="6.5.1" id="the-effecttiming-dictionaries"><span class="secno">6.5.1.
            </span><span class="content"><code>EffectTiming</code>および<code>OptionalEffectTiming</code>辞書</span><a
                class="self-link" href="#the-effecttiming-dictionaries"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming⑤">EffectTiming</a></code>
            辞書は、<code
                class="idl"><a data-link-type="idl" href="#animationeffect" id="ref-for-animationeffect④">AnimationEffect</a></code>
            のタイミングプロパティを表します。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="#dictdef-optionaleffecttiming" id="ref-for-dictdef-optionaleffecttiming②">OptionalEffectTiming</a></code>
            辞書は、<code
                class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming⑥">EffectTiming</a></code>
            辞書のバリエーションで、一部のメンバーが<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①">存在しない</a>ことを許容します。
            これは<code
                class="idl"><a data-link-type="idl" href="#dom-animationeffect-updatetiming" id="ref-for-dom-animationeffect-updatetiming①">updateTiming()</a></code>
            メソッドで、<code
                class="idl"><a data-link-type="idl" href="#animationeffect" id="ref-for-animationeffect⑤">AnimationEffect</a></code>
            インターフェースのタイミングプロパティをデルタ更新する際に使用されます。
            <a data-link-type="dfn" href="#animation-effect"
                id="ref-for-animation-effect⑨②">アニメーション効果</a>のタイミングプロパティの差分更新に用います。
        </p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-effecttiming"><code><c- g>EffectTiming</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑨"><c- b>double</c-></a>                             <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="double                             " href="#dom-effecttiming-delay" id="ref-for-dom-effecttiming-delay"><c- g>delay</c-></a> = 0;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⓪"><c- b>double</c-></a>                             <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="double                             " href="#dom-effecttiming-enddelay" id="ref-for-dom-effecttiming-enddelay"><c- g>endDelay</c-></a> = 0;
    <a data-link-type="idl-name" href="#enumdef-fillmode" id="ref-for-enumdef-fillmode②"><c- n>FillMode</c-></a>                           <a class="idl-code" data-default="&quot;auto&quot;" data-link-type="dict-member" data-type="FillMode                           " href="#dom-effecttiming-fill" id="ref-for-dom-effecttiming-fill②"><c- g>fill</c-></a> = "auto";
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①①"><c- b>double</c-></a>                             <a class="idl-code" data-default="0.0" data-link-type="dict-member" data-type="double                             " href="#dom-effecttiming-iterationstart" id="ref-for-dom-effecttiming-iterationstart"><c- g>iterationStart</c-></a> = 0.0;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>                <a class="idl-code" data-default="1.0" data-link-type="dict-member" data-type="unrestricted double                " href="#dom-effecttiming-iterations" id="ref-for-dom-effecttiming-iterations"><c- g>iterations</c-></a> = 1.0;
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>) <a class="idl-code" data-default="&quot;auto&quot;" data-link-type="dict-member" data-type="(unrestricted double or DOMString) " href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration②"><c- g>duration</c-></a> = "auto";
    <a data-link-type="idl-name" href="#enumdef-playbackdirection" id="ref-for-enumdef-playbackdirection"><c- n>PlaybackDirection</c-></a>                  <a class="idl-code" data-default="&quot;normal&quot;" data-link-type="dict-member" data-type="PlaybackDirection                  " href="#dom-effecttiming-direction" id="ref-for-dom-effecttiming-direction"><c- g>direction</c-></a> = "normal";
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a>                          <a class="idl-code" data-default="&quot;linear&quot;" data-link-type="dict-member" data-type="DOMString                          " href="#dom-effecttiming-easing" id="ref-for-dom-effecttiming-easing"><c- g>easing</c-></a> = "linear";
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-optionaleffecttiming"><code><c- g>OptionalEffectTiming</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①②"><c- b>double</c-></a>                             <a class="idl-code" data-link-type="dict-member" data-type="double                             " href="#dom-optionaleffecttiming-delay" id="ref-for-dom-optionaleffecttiming-delay"><c- g>delay</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①③"><c- b>double</c-></a>                             <a class="idl-code" data-link-type="dict-member" data-type="double                             " href="#dom-optionaleffecttiming-enddelay" id="ref-for-dom-optionaleffecttiming-enddelay"><c- g>endDelay</c-></a>;
    <a data-link-type="idl-name" href="#enumdef-fillmode" id="ref-for-enumdef-fillmode③"><c- n>FillMode</c-></a>                           <a class="idl-code" data-link-type="dict-member" data-type="FillMode                           " href="#dom-optionaleffecttiming-fill" id="ref-for-dom-optionaleffecttiming-fill"><c- g>fill</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①④"><c- b>double</c-></a>                             <a class="idl-code" data-link-type="dict-member" data-type="double                             " href="#dom-optionaleffecttiming-iterationstart" id="ref-for-dom-optionaleffecttiming-iterationstart"><c- g>iterationStart</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double②"><c- b>unrestricted</c-> <c- b>double</c-></a>                <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double                " href="#dom-optionaleffecttiming-iterations" id="ref-for-dom-optionaleffecttiming-iterations"><c- g>iterations</c-></a>;
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double③"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a>) <a class="idl-code" data-link-type="dict-member" data-type="(unrestricted double or DOMString) " href="#dom-optionaleffecttiming-duration" id="ref-for-dom-optionaleffecttiming-duration"><c- g>duration</c-></a>;
    <a data-link-type="idl-name" href="#enumdef-playbackdirection" id="ref-for-enumdef-playbackdirection①"><c- n>PlaybackDirection</c-></a>                  <a class="idl-code" data-link-type="dict-member" data-type="PlaybackDirection                  " href="#dom-optionaleffecttiming-direction" id="ref-for-dom-optionaleffecttiming-direction"><c- g>direction</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a>                          <a class="idl-code" data-link-type="dict-member" data-type="DOMString                          " href="#dom-optionaleffecttiming-easing" id="ref-for-dom-optionaleffecttiming-easing"><c- g>easing</c-></a>;
};
</pre>
        <div class="members">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-delay"><code>delay</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double①⑤">double</a>、デフォルト値 <code>0</code></span><dfn
                        class="dfn-paneled idl-code" data-dfn-for="OptionalEffectTiming" data-dfn-type="dict-member"
                        data-export data-lt="delay" id="dom-optionaleffecttiming-delay"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay①⑥">開始遅延</a>（start
                        delay）。関連付けられた<a data-link-type="dfn" href="#concept-animation"
                            id="ref-for-concept-animation⑥⑨">アニメーション</a>の<a data-link-type="dfn"
                            href="#animation-start-time" id="ref-for-animation-start-time⑤③">開始時刻</a>から<a
                            data-link-type="dfn" href="#active-interval"
                            id="ref-for-active-interval①⑥">アクティブ区間</a>の開始までのミリ秒数です。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-enddelay"><code>endDelay</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double①⑥">double</a>、デフォルト値 <code>0</code></span><dfn
                        class="dfn-paneled idl-code" data-dfn-for="OptionalEffectTiming" data-dfn-type="dict-member"
                        data-export data-lt="endDelay" id="dom-optionaleffecttiming-enddelay"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#end-delay" id="ref-for-end-delay④">終了遅延</a>（end delay）。<a
                            data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect⑨③">アニメーション効果</a>の<a data-link-type="dfn"
                            href="#active-interval" id="ref-for-active-interval①⑦">アクティブ区間</a>の終了から<a
                            data-link-type="dfn" href="#end-time" id="ref-for-end-time⑧">終了時刻</a>までのミリ秒数です。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-fill"><code>fill</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#enumdef-fillmode"
                            id="ref-for-enumdef-fillmode④">FillMode</a>、デフォルト値 <code>"auto"</code></span><dfn
                        class="dfn-paneled idl-code" data-dfn-for="OptionalEffectTiming" data-dfn-type="dict-member"
                        data-export data-lt="fill" id="dom-optionaleffecttiming-fill"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#fill-mode" id="ref-for-fill-mode①⓪">塗りモード</a>（fill mode）。<a
                            data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect⑨④">アニメーション効果</a>が<a data-link-type="dfn"
                            href="#active-interval" id="ref-for-active-interval①⑧">アクティブ区間</a>外でどのように振る舞うか定義します。</p>
                    <p>タイミング計算時、特別な文字列値<code>auto</code>はタイミングモデルが認識する以下の<a data-link-type="dfn" href="#fill-mode"
                            id="ref-for-fill-mode①①">塗りモード</a>に展開されます：</p>
                    <div class="switch">
                        <dl>
                            <dt data-md>塗りモードが適用される<a data-link-type="dfn" href="#animation-effect"
                                    id="ref-for-animation-effect⑨⑤">アニメーション効果</a>が<a data-link-type="dfn"
                                    href="#keyframe-effect" id="ref-for-keyframe-effect③⓪">キーフレーム効果</a>の場合
                            <dd data-md>
                                <p><a data-link-type="dfn" href="#fill-mode" id="ref-for-fill-mode①②">塗りモード</a>として<span
                                        class="enum-value">none</span>を使います。</p>
                            <dt data-md>それ以外の場合
                            <dd data-md>
                                <p><a data-link-type="dfn" href="#fill-mode" id="ref-for-fill-mode①③">塗りモード</a>として<span
                                        class="enum-value">both</span>を使います。</p>
                        </dl>
                    </div>
                    <div class="advisement"> <a href="#fill-behavior">§ 4.6
                            塗りの挙動</a>で述べられている通り、作者が無限に塗り続けるアニメーションの使用は推奨しません。 </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-iterationstart"><code>iterationStart</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double①⑦">double</a>、デフォルト値 <code>0.0</code></span><dfn
                        class="dfn-paneled idl-code" data-dfn-for="OptionalEffectTiming" data-dfn-type="dict-member"
                        data-export data-lt="iterationStart"
                        id="dom-optionaleffecttiming-iterationstart"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑨⑥">アニメーション効果</a>の<a
                            data-link-type="dfn" href="#iteration-start"
                            id="ref-for-iteration-start⑨">反復開始</a>プロパティ。0以上の有限実数で、アニメーション効果がどの反復インデックスからどの進行度で始まるかを表します。
                    </p>
                    <p>例えば0.5なら、アニメーション効果は最初の反復の途中から始まります。1.2なら2回目の反復の20%から始まることになります。</p>
                    <div class="note" role="note">
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterations" id="ref-for-dom-effecttiming-iterations①">iterations</a></code>
                        の値は<code
                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterationstart" id="ref-for-dom-effecttiming-iterationstart①">iterationStart</a></code>に<em>加算</em>される扱いとなり、
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterationstart" id="ref-for-dom-effecttiming-iterationstart②">iterationStart</a></code>が"0.5"で<code
                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterations" id="ref-for-dom-effecttiming-iterations②">iterations</a></code>が"2"の場合、2回繰り返しますが開始・終了ともに<a
                            data-link-type="dfn" href="#iteration-interval"
                            id="ref-for-iteration-interval②">反復区間</a>の途中からとなります。
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterationstart" id="ref-for-dom-effecttiming-iterationstart③">iterationStart</a></code>
                            が1以上の値は、<a data-link-type="dfn"
                                href="https://drafts.csswg.org/web-animations-2/#iteration-composite-operation"
                                id="ref-for-iteration-composite-operation①">反復合成操作</a>が<span
                                class="enum-value">accumulate</span>の場合、または<a data-link-type="dfn"
                                href="#current-iteration" id="ref-for-current-iteration④">現在の反復</a>インデックスが重要な場合にのみ有用です。
                        </p>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-iterations"><code>iterations</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"
                            id="ref-for-idl-unrestricted-double④">unrestricted double</a>、デフォルト値
                        <code>1.0</code></span><dfn class="dfn-paneled idl-code" data-dfn-for="OptionalEffectTiming"
                        data-dfn-type="dict-member" data-export data-lt="iterations"
                        id="dom-optionaleffecttiming-iterations"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-effect" id="ref-for-animation-effect⑨⑦">アニメーション効果</a>の<a
                            data-link-type="dfn" href="#iteration-count"
                            id="ref-for-iteration-count①⑤">反復回数</a>プロパティ。0以上の実数（正の無限大も含む）で、アニメーション効果を何回繰り返すかを表します。</p>
                    <p><code class="esvalue">+Infinity</code>を設定すると、<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect⑨⑧">アニメーション効果</a>は無限に繰り返されます（効果の持続時間が0の場合はすぐに終了します）。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-duration"><code>duration</code></dfn>, <span> 型 <code
                            class="idl-code">(unrestricted double or DOMString)</code>、デフォルト値
                        <code>"auto"</code></span><dfn class="dfn-paneled idl-code" data-dfn-for="OptionalEffectTiming"
                        data-dfn-type="dict-member" data-export data-lt="duration"
                        id="dom-optionaleffecttiming-duration"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#iteration-duration"
                            id="ref-for-iteration-duration①④">反復期間</a>。0以上の実数（正の無限大も含む）で、<a data-link-type="dfn"
                            href="#animation-effect" id="ref-for-animation-effect⑨⑨">アニメーション効果</a>の1回の反復に要する時間を表します。</p>
                    <p>この現行標準では、文字列値<code>auto</code>はタイミングモデルの計算では0として扱われ、<code
                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration③">duration</a></code>
                        メンバーを<code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-getcomputedtiming" id="ref-for-dom-animationeffect-getcomputedtiming⑥">getComputedTiming()</a></code>で取得した場合も0になります。
                        作者が<code>auto</code>を指定した場合、<code
                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration④">duration</a></code>
                        メンバーを<code
                            class="idl"><a data-link-type="idl" href="#dom-animationeffect-gettiming" id="ref-for-dom-animationeffect-gettiming⑤">getTiming()</a></code>で取得した場合は<code>auto</code>を返す必要があります。
                    </p>
                    <p>これは将来の互換性措置であり、将来の現行標準ではグループ効果によって<code>auto</code>値が子効果の持続時間も含めて展開されることが予想されます。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-direction"><code>direction</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#enumdef-playbackdirection"
                            id="ref-for-enumdef-playbackdirection②">PlaybackDirection</a>、デフォルト値
                        <code>"normal"</code></span><dfn class="dfn-paneled idl-code"
                        data-dfn-for="OptionalEffectTiming" data-dfn-type="dict-member" data-export data-lt="direction"
                        id="dom-optionaleffecttiming-direction"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①⓪⓪">アニメーション効果</a>の<a data-link-type="dfn"
                            href="#playback-direction"
                            id="ref-for-playback-direction⑤">再生方向</a>。再生が前方・後方・交互いずれになるかを定義します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="EffectTiming" data-dfn-type="dict-member"
                        data-export id="dom-effecttiming-easing"><code>easing</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString"
                            id="ref-for-idl-DOMString⑥">DOMString</a>、デフォルト値 <code>"linear"</code></span><dfn
                        class="dfn-paneled idl-code" data-dfn-for="OptionalEffectTiming" data-dfn-type="dict-member"
                        data-export data-lt="easing" id="dom-optionaleffecttiming-easing"><code></code></dfn>
                <dd data-md>
                    <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                            id="ref-for-easing-function⑧">タイミング関数</a>（easing function）。時間をスケールしてイージング効果を生成します。</p>
                    <p>文字列の構文は<a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-easing-1/#typedef-easing-function"
                            id="ref-for-typedef-easing-function" title="Expands to: linear">&lt;easing-function></a>
                        生成規則（<a data-link-type="biblio" href="#biblio-css-easing-1">[CSS-EASING-1]</a>）で定義されています。</p>
            </dl>
        </div>
        <h4 class="heading settled" data-level="6.5.2" id="the-fillmode-enumeration"><span class="secno">6.5.2.
            </span><span class="content"><code>FillMode</code>列挙型</span><a class="self-link"
                href="#the-fillmode-enumeration"></a></h4>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-fillmode"><code><c- g>FillMode</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="FillMode" data-dfn-type="enum-value" data-export id="dom-fillmode-none"><code><c- s>"none"</c-></code><a class="self-link" href="#dom-fillmode-none"></a></dfn>, <dfn class="idl-code" data-dfn-for="FillMode" data-dfn-type="enum-value" data-export id="dom-fillmode-forwards"><code><c- s>"forwards"</c-></code><a class="self-link" href="#dom-fillmode-forwards"></a></dfn>, <dfn class="idl-code" data-dfn-for="FillMode" data-dfn-type="enum-value" data-export id="dom-fillmode-backwards"><code><c- s>"backwards"</c-></code><a class="self-link" href="#dom-fillmode-backwards"></a></dfn>, <dfn class="idl-code" data-dfn-for="FillMode" data-dfn-type="enum-value" data-export id="dom-fillmode-both"><code><c- s>"both"</c-></code><a class="self-link" href="#dom-fillmode-both"></a></dfn>, <dfn class="idl-code" data-dfn-for="FillMode" data-dfn-type="enum-value" data-export id="dom-fillmode-auto"><code><c- s>"auto"</c-></code><a class="self-link" href="#dom-fillmode-auto"></a></dfn> };
</pre>
        <dl>
            <dt data-md><code>none</code>
            <dd data-md>
                <p>塗りなし。</p>
            <dt data-md><code>forwards</code>
            <dd data-md>
                <p>前方塗り。</p>
            <dt data-md><code>backwards</code>
            <dd data-md>
                <p>後方塗り。</p>
            <dt data-md><code>both</code>
            <dd data-md>
                <p>前方・後方両方塗り。</p>
            <dt data-md><code>auto</code>
            <dd data-md>
                <p>塗りなし。
                    今後の現行標準レベルで他種類の<a data-link-type="dfn" href="#animation-effect"
                        id="ref-for-animation-effect①⓪①">アニメーション効果</a>に対して異なる動作になる場合があります。</p>
        </dl>
        <h4 class="heading settled" data-level="6.5.3" id="the-playbackdirection-enumeration"><span class="secno">6.5.3.
            </span><span class="content"><code>PlaybackDirection</code>列挙型</span><a class="self-link"
                href="#the-playbackdirection-enumeration"></a></h4>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-playbackdirection"><code><c- g>PlaybackDirection</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="PlaybackDirection" data-dfn-type="enum-value" data-export id="dom-playbackdirection-normal"><code><c- s>"normal"</c-></code><a class="self-link" href="#dom-playbackdirection-normal"></a></dfn>, <dfn class="idl-code" data-dfn-for="PlaybackDirection" data-dfn-type="enum-value" data-export id="dom-playbackdirection-reverse"><code><c- s>"reverse"</c-></code><a class="self-link" href="#dom-playbackdirection-reverse"></a></dfn>, <dfn class="idl-code" data-dfn-for="PlaybackDirection" data-dfn-type="enum-value" data-export id="dom-playbackdirection-alternate"><code><c- s>"alternate"</c-></code><a class="self-link" href="#dom-playbackdirection-alternate"></a></dfn>, <dfn class="idl-code" data-dfn-for="PlaybackDirection" data-dfn-type="enum-value" data-export id="dom-playbackdirection-alternate-reverse"><code><c- s>"alternate-reverse"</c-></code><a class="self-link" href="#dom-playbackdirection-alternate-reverse"></a></dfn> };
</pre>
        <dl>
            <dt data-md><code>normal</code>
            <dd data-md>
                <p>すべての反復は指定通りに再生されます。</p>
            <dt data-md><code>reverse</code>
            <dd data-md>
                <p>すべての反復は指定された順序と逆方向に再生されます。</p>
            <dt data-md><code>alternate</code>
            <dd data-md>
                <p>偶数回の反復は指定通り、奇数回の反復は逆方向に再生されます。</p>
            <dt data-md><code>alternate-reverse</code>
            <dd data-md>
                <p>偶数回の反復は逆方向、奇数回の反復は指定通りに再生されます。</p>
        </dl>
        <h4 class="heading settled" data-level="6.5.4" id="updating-animationeffect-timing"><span class="secno">6.5.4.
            </span><span class="content"><code>AnimationEffect</code>のタイミングの更新</span><a class="self-link"
                href="#updating-animationeffect-timing"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="update-the-timing-properties-of-an-animation-effect">アニメーション効果のタイミングプロパティを更新する</dfn>には、<var>effect</var>に対して、
            <code
                class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming⑦">EffectTiming</a></code>
            または<code
                class="idl"><a data-link-type="idl" href="#dictdef-optionaleffecttiming" id="ref-for-dictdef-optionaleffecttiming③">OptionalEffectTiming</a></code>
            オブジェクト<var>input</var>を使い、以下の手順を実行します：
        </p>
        <ol>
            <li data-md>
                <p><var>input</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterationstart" id="ref-for-dom-effecttiming-iterationstart④">iterationStart</a></code>
                    メンバーが<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                        id="ref-for-map-exists②">存在し</a>、0未満の場合は、<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw⑦">TypeError</a>をthrowして、この手順を中止します。</p>
                <p class="note" role="note"><span>注:</span> <span
                        class="exceptionname">TypeError</span>を使う理由は、将来的にWebIDLの<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#EnforceRange"
                        id="ref-for-EnforceRange">[EnforceRange]</a>アノテーションが浮動小数点値にも適用できるようになった場合に、挙動を合わせるためです。</p>
            <li data-md>
                <p><var>input</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterations" id="ref-for-dom-effecttiming-iterations③">iterations</a></code>
                    メンバーが<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                        id="ref-for-map-exists③">存在し</a>、
                    かつ0未満または<code class="esvalue">NaN</code>の場合は、<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw⑧">TypeError</a>をthrowして、この手順を中止します。</p>
            <li data-md>
                <p><var>input</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration⑤">duration</a></code>
                    メンバーが<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                        id="ref-for-map-exists④">存在し</a>、
                    かつ0未満または<code class="esvalue">NaN</code>の場合は、<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw⑨">TypeError</a>をthrowして、この手順を中止します。</p>
            <li data-md>
                <p><var>input</var>の<code
                        class="idl"><a data-link-type="idl" href="#dom-effecttiming-easing" id="ref-for-dom-effecttiming-easing①">easing</a></code>
                    メンバーが<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                        id="ref-for-map-exists⑤">存在し</a>、かつ<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-easing-1/#typedef-easing-function"
                        id="ref-for-typedef-easing-function①" title="Expands to: linear">&lt;easing-function></a>
                    生成規則でパースできない場合は、<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw①⓪">TypeError</a>をthrowして、この手順を中止します。</p>
            <li data-md>
                <p><var>input</var>で<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                        id="ref-for-map-exists⑥">存在する</a>各メンバーを、以下の対応で<var>effect</var>のタイミングプロパティに割り当てます：</p>
                <ul>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-delay" id="ref-for-dom-effecttiming-delay①">delay</a></code>
                            → <a data-link-type="dfn" href="#start-delay" id="ref-for-start-delay①⑦">開始遅延</a></p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-enddelay" id="ref-for-dom-effecttiming-enddelay①">endDelay</a></code>
                            → <a data-link-type="dfn" href="#end-delay" id="ref-for-end-delay⑤">終了遅延</a></p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-fill" id="ref-for-dom-effecttiming-fill③">fill</a></code>
                            → <a data-link-type="dfn" href="#fill-mode" id="ref-for-fill-mode①④">塗りモード</a></p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterationstart" id="ref-for-dom-effecttiming-iterationstart⑤">iterationStart</a></code>
                            → <a data-link-type="dfn" href="#iteration-start" id="ref-for-iteration-start①⓪">反復開始</a>
                        </p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-iterations" id="ref-for-dom-effecttiming-iterations④">iterations</a></code>
                            → <a data-link-type="dfn" href="#iteration-count" id="ref-for-iteration-count①⑥">反復回数</a>
                        </p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration⑥">duration</a></code>
                            → <a data-link-type="dfn" href="#iteration-duration"
                                id="ref-for-iteration-duration①⑤">反復期間</a></p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-direction" id="ref-for-dom-effecttiming-direction①">direction</a></code>
                            → <a data-link-type="dfn" href="#playback-direction"
                                id="ref-for-playback-direction⑥">再生方向</a></p>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-easing" id="ref-for-dom-effecttiming-easing②">easing</a></code>
                            → <a data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                                id="ref-for-easing-function⑨">タイミング関数</a></p>
                </ul>
        </ol>
        <h4 class="heading settled" data-level="6.5.5" id="the-computedeffecttiming-dictionary"><span
                class="secno">6.5.5. </span><span class="content"><code>ComputedEffectTiming</code>辞書</span><a
                class="self-link" href="#the-computedeffecttiming-dictionary"></a></h4>
        <p>タイミングモデルで計算されたタイミングプロパティは<code
                class="idl"><a data-link-type="idl" href="#dictdef-computedeffecttiming" id="ref-for-dictdef-computedeffecttiming②">ComputedEffectTiming</a></code>
            辞書オブジェクトで公開されます。</p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-computedeffecttiming"><code><c- g>ComputedEffectTiming</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming⑧"><c- n>EffectTiming</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double⑤"><c- b>unrestricted</c-> <c- b>double</c-></a>  <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double  " href="#dom-computedeffecttiming-endtime" id="ref-for-dom-computedeffecttiming-endtime"><c- g>endTime</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double⑥"><c- b>unrestricted</c-> <c- b>double</c-></a>  <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double  " href="#dom-computedeffecttiming-activeduration" id="ref-for-dom-computedeffecttiming-activeduration"><c- g>activeDuration</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑧"><c- b>double</c-></a>?              <a class="idl-code" data-link-type="dict-member" data-type="double?              " href="#dom-computedeffecttiming-localtime" id="ref-for-dom-computedeffecttiming-localtime"><c- g>localTime</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑨"><c- b>double</c-></a>?              <a class="idl-code" data-link-type="dict-member" data-type="double?              " href="#dom-computedeffecttiming-progress" id="ref-for-dom-computedeffecttiming-progress"><c- g>progress</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double⑦"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double? " href="#dom-computedeffecttiming-currentiteration" id="ref-for-dom-computedeffecttiming-currentiteration"><c- g>currentIteration</c-></a>;
};
</pre>
        <div class="members">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ComputedEffectTiming"
                        data-dfn-type="dict-member" data-export
                        id="dom-computedeffecttiming-endtime"><code>endTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"
                            id="ref-for-idl-unrestricted-double⑧">unrestricted double</a></span>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①⓪②">アニメーション効果</a>の<a data-link-type="dfn" href="#end-time"
                            id="ref-for-end-time⑨">終了時刻</a>。ゼロ<a data-link-type="dfn" href="#local-time"
                            id="ref-for-local-time②①">ローカル時刻</a>（つまりこの<a data-link-type="dfn"
                            href="#animation-effect①⓪③">アニメーション効果</a>が<a data-link-type="dfn"
                            href="#associated-with-an-animation"
                            id="ref-for-associated-with-an-animation①⑤">アニメーションに関連付けられている</a>場合は<a data-link-type="dfn"
                            href="#concept-animation" id="ref-for-concept-animation⑦⓪">アニメーション</a>の<a
                            data-link-type="dfn" href="#animation-start-time"
                            id="ref-for-animation-start-time⑤④">開始時刻</a>）からのミリ秒で表されます。
                        これは<a data-link-type="dfn" href="#animation-effect①⓪④">アニメーション効果</a>のアクティブ区間の終了＋<a
                            data-link-type="dfn" href="#end-delay" id="ref-for-end-delay⑥">終了遅延</a>に対応します。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ComputedEffectTiming"
                        data-dfn-type="dict-member" data-export
                        id="dom-computedeffecttiming-activeduration"><code>activeDuration</code></dfn>, <span> 型
                        <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"
                            id="ref-for-idl-unrestricted-double⑨">unrestricted double</a></span>
                <dd data-md>
                    <p>この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①⓪⑤">アニメーション効果</a>の<a data-link-type="dfn"
                            href="#active-duration" id="ref-for-active-duration①⑧">アクティブ持続時間</a>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ComputedEffectTiming"
                        data-dfn-type="dict-member" data-export
                        id="dom-computedeffecttiming-localtime"><code>localTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double②⓪">double</a>、null許容</span>
                <dd data-md>
                    <p>この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①⓪⑥">アニメーション効果</a>の<a data-link-type="dfn" href="#local-time"
                            id="ref-for-local-time②②">ローカル時刻</a>。</p>
                    <p>この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①⓪⑦">アニメーション効果</a>が<a data-link-type="dfn"
                            href="#associated-with-an-animation"
                            id="ref-for-associated-with-an-animation①⑥">アニメーションに関連付けられていない</a>場合は<code>null</code>となります。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ComputedEffectTiming"
                        data-dfn-type="dict-member" data-export
                        id="dom-computedeffecttiming-progress"><code>progress</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double②①">double</a>、null許容</span>
                <dd data-md>
                    <p>この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①⓪⑧">アニメーション効果</a>の現在の<a data-link-type="dfn"
                            href="#iteration-progress" id="ref-for-iteration-progress①②">反復進行度</a>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ComputedEffectTiming"
                        data-dfn-type="dict-member" data-export
                        id="dom-computedeffecttiming-currentiteration"><code>currentIteration</code></dfn>, <span> 型
                        <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"
                            id="ref-for-idl-unrestricted-double①⓪">unrestricted double</a>、null許容</span>
                <dd data-md>
                    <p>現在の<a data-link-type="dfn" href="#current-iteration"
                            id="ref-for-current-iteration⑤">反復</a>インデックス。最初の反復はゼロから始まります。</p>
                    <p>通常は正の整数ですが、持続時間ゼロかつ無限回繰り返すアニメーションの場合は値が正の<span class="esvalue">Infinity</span>になります。</p>
                    <p><a data-link-type="dfn" href="#unresolved" id="ref-for-unresolved①①③">未解決</a>時刻と同様、未解決の<a
                            data-link-type="dfn" href="#current-iteration" id="ref-for-current-iteration⑥">反復</a>は<span
                            class="esvalue">null</span>で表されます。</p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.6" id="the-keyframeeffect-interface"><span class="secno">6.6.
            </span><span class="content"><code>KeyframeEffect</code>インターフェース</span><a class="self-link"
                href="#the-keyframeeffect-interface"></a></h3>
        <p><a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect③①">キーフレーム効果</a>は
            <code
                class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect">KeyframeEffect</a></code>
            インターフェースで表現されます。
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="keyframeeffect"><code><c- g>KeyframeEffect</c-></code></dfn> : <a data-link-type="idl-name" href="#animationeffect" id="ref-for-animationeffect⑥"><c- n>AnimationEffect</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-keyframeeffect-keyframeeffect" id="ref-for-dom-keyframeeffect-keyframeeffect"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element③"><c- n>Element</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-target" id="ref-for-dom-keyframeeffect-keyframeeffect-target-keyframes-options-target"><c- g>target</c-></a>,
                <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object"><c- b>object</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes" id="ref-for-dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes"><c- g>keyframes</c-></a>,
                <c- b>optional</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①①"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions"><c- n>KeyframeEffectOptions</c-></a>) <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-options" id="ref-for-dom-keyframeeffect-keyframeeffect-target-keyframes-options-options"><c- g>options</c-></a> = {});
    <a class="idl-code" data-link-type="constructor" href="#dom-keyframeeffect-keyframeeffect-source" id="ref-for-dom-keyframeeffect-keyframeeffect-source"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#keyframeeffect" id="ref-for-keyframeeffect①"><c- n>KeyframeEffect</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-source-source" id="ref-for-dom-keyframeeffect-keyframeeffect-source-source"><c- g>source</c-></a>);
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element④"><c- n>Element</c-></a>?           <a class="idl-code" data-link-type="attribute" data-type="Element?" href="#dom-keyframeeffect-target" id="ref-for-dom-keyframeeffect-target"><c- g>target</c-></a>;
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a>?       <a class="idl-code" data-link-type="attribute" data-type="CSSOMString?" href="#dom-keyframeeffect-pseudoelement" id="ref-for-dom-keyframeeffect-pseudoelement"><c- g>pseudoElement</c-></a>;
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-compositeoperation" id="ref-for-enumdef-compositeoperation"><c- n>CompositeOperation</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CompositeOperation" href="#dom-keyframeeffect-composite" id="ref-for-dom-keyframeeffect-composite"><c- g>composite</c-></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object①"><c- b>object</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-keyframeeffect-getkeyframes" id="ref-for-dom-keyframeeffect-getkeyframes"><c- g>getKeyframes</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑨"><c- b>undefined</c-></a>        <a class="idl-code" data-link-type="method" href="#dom-keyframeeffect-setkeyframes" id="ref-for-dom-keyframeeffect-setkeyframes"><c- g>setKeyframes</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object②"><c- b>object</c-></a>? <dfn class="idl-code" data-dfn-for="KeyframeEffect/setKeyframes(keyframes)" data-dfn-type="argument" data-export id="dom-keyframeeffect-setkeyframes-keyframes-keyframes"><code><c- g>keyframes</c-></code><a class="self-link" href="#dom-keyframeeffect-setkeyframes-keyframes-keyframes"></a></dfn>);
};
</pre>
        <div class="constructors">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffect" data-dfn-type="constructor"
                        data-export
                        data-lt="KeyframeEffect(target, keyframes, options)|constructor(target, keyframes, options)|KeyframeEffect(target, keyframes)|constructor(target, keyframes)"
                        id="dom-keyframeeffect-keyframeeffect"><code> KeyframeEffect (target, keyframes, options)</code></dfn>
                <dd data-md>
                    <p>以下の手順で新しい<code
                            class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect②">KeyframeEffect</a></code>
                        オブジェクトを作成します：</p>
                    <ol>
                        <li data-md>
                            <p>新しい<code
                                    class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect③">KeyframeEffect</a></code>
                                オブジェクト<var>effect</var>を作成します。</p>
                            <p></p>
                        <li data-md>
                            <p><var>effect</var>の<a data-link-type="dfn" href="#effect-target-target-element"
                                    id="ref-for-effect-target-target-element④">ターゲット要素</a>を<var>target</var>に設定します。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#effect-target-target-pseudo-selector"
                                    id="ref-for-effect-target-target-pseudo-selector②">ターゲット疑似セレクタ</a>を、以下の最初に一致する条件の結果で設定します。
                            </p>
                            <dl>
                                <dt data-md>もし<var>options</var>が<code
                                        class="idl"><a data-link-type="idl" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions①">KeyframeEffectOptions</a></code>
                                    オブジェクトで、<code
                                        class="idl"><a data-link-type="idl" href="#dom-keyframeeffectoptions-pseudoelement" id="ref-for-dom-keyframeeffectoptions-pseudoelement">pseudoElement</a></code>
                                    プロパティを持つ場合
                                <dd data-md>
                                    <p><a data-link-type="dfn" href="#effect-target-target-pseudo-selector"
                                            id="ref-for-effect-target-target-pseudo-selector③">ターゲット疑似セレクタ</a>を<code
                                            class="idl"><a data-link-type="idl" href="#dom-keyframeeffectoptions-pseudoelement" id="ref-for-dom-keyframeeffectoptions-pseudoelement①">pseudoElement</a></code>
                                        プロパティの値で設定します。</p>
                                    <p>このプロパティを設定する際は、インターフェースの<code
                                            class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-pseudoelement" id="ref-for-dom-keyframeeffect-pseudoelement①">pseudoElement</a></code>
                                        セッターで定義されたエラーハンドリングが適用されます。
                                        セッターで例外が必要な場合、この手順も同じ例外をthrowし、それ以降の手順を中止します。</p>
                                <dt data-md>それ以外の場合
                                <dd data-md>
                                    <p><a data-link-type="dfn" href="#effect-target-target-pseudo-selector"
                                            id="ref-for-effect-target-target-pseudo-selector④">ターゲット疑似セレクタ</a>を<code>null</code>に設定します。
                                    </p>
                            </dl>
                        <li data-md>
                            <p><var>timing input</var>を、以下の最初に一致する条件の結果とします。</p>
                            <dl>
                                <dt data-md>もし<var>options</var>が<code
                                        class="idl"><a data-link-type="idl" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions②">KeyframeEffectOptions</a></code>
                                    オブジェクトの場合
                                <dd data-md>
                                    <p><var>timing input</var>を<var>options</var>とします。</p>
                                <dt data-md>それ以外（<var>options</var>が<code>double</code>の場合）
                                <dd data-md>
                                    <p><var>timing input</var>を、すべてのメンバーがデフォルト値で設定された新しい<code
                                            class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming⑨">EffectTiming</a></code>
                                        オブジェクトで、<code
                                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration⑦">duration</a></code>
                                        を<var>options</var>に設定します。</p>
                            </dl>
                        <li data-md>
                            <p><var>effect</var>の<a data-link-type="dfn"
                                    href="#update-the-timing-properties-of-an-animation-effect"
                                    id="ref-for-update-the-timing-properties-of-an-animation-effect①">アニメーション効果のタイミングプロパティを更新する</a>手順を<var>timing
                                    input</var>で呼び出します。</p>
                            <p>その手順で例外が発生した場合は、その例外を伝播させてこの手順を中止します。</p>
                        <li data-md>
                            <p><var>options</var>が<code
                                    class="idl"><a data-link-type="idl" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions③">KeyframeEffectOptions</a></code>
                                オブジェクトの場合、<var>effect</var>の<code
                                    class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-composite" id="ref-for-dom-keyframeeffect-composite①">composite</a></code>
                                プロパティに<var>options</var>の対応する値を設定します。</p>
                            <p>このプロパティを設定する際は、<code
                                    class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect④">KeyframeEffect</a></code>
                                インターフェース上の対応するセッターのエラーハンドリングが適用されます。
                                <var>options</var>で指定された値に対してセッターが例外を必要とする場合は、この手順も同じ例外を<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throw①①">throw</a>し、それ以降の手順を中止します。
                            </p>
                        <li data-md>
                            <p><var>keyframes</var>を入力として<code
                                    class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-setkeyframes" id="ref-for-dom-keyframeeffect-setkeyframes①">setKeyframes()</a></code>
                                手順を実行し、キーフレーム集合を初期化します。</p>
                    </ol>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="KeyframeEffect/KeyframeEffect(target, keyframes, options)"
                                    data-dfn-type="argument" data-export data-lt="target"
                                    id="dom-keyframeeffect-keyframeeffect-target-keyframes-options-target"><code><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑤">Element</a></code>?
                                    target</code></dfn>
                            <dd data-md>
                                <p><a data-link-type="dfn" href="#effect-target-target-element"
                                        id="ref-for-effect-target-target-element⑤">ターゲット要素</a>。
                                    特定の要素を対象としないアニメーションの場合は<code>null</code>を指定できます。</p>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="KeyframeEffect/KeyframeEffect(target, keyframes, options)"
                                    data-dfn-type="argument" data-export data-lt="keyframes"
                                    id="dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes"><code>object? keyframes</code></dfn>
                            <dd data-md>
                                <p>使用する<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe④⑤">キーフレーム</a>集合。
                                    この引数のフォーマットと処理は<a href="#processing-a-keyframes-argument">§ 6.6.3
                                        キーフレーム引数の処理</a>で定義されています。</p>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="KeyframeEffect/KeyframeEffect(target, keyframes, options)"
                                    data-dfn-type="argument" data-export data-lt="options"
                                    id="dom-keyframeeffect-keyframeeffect-target-keyframes-options-options"><code>optional <code class="idl"><a data-link-type="idl" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions④">KeyframeEffectOptions</a></code>
                                    options</code></dfn>
                            <dd data-md>
                                <p>エフェクトの<a data-link-type="dfn" href="#iteration-duration"
                                        id="ref-for-iteration-duration①⑥">反復期間</a>を指定する数値、またはエフェクトのタイミングや挙動を指定するプロパティ集合。
                                </p>
                        </dl>
                        <p>このコンストラクタの使用例は<a href="#creating-a-new-keyframeeffect-object">§ 6.6.1
                                新しいKeyframeEffectオブジェクトの作成</a>で示されています。</p>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffect" data-dfn-type="constructor"
                        data-export data-lt="KeyframeEffect(source)|constructor(source)"
                        id="dom-keyframeeffect-keyframeeffect-source"><code>KeyframeEffect (source)</code></dfn>
                <dd data-md>
                    <p>以下の手順で、<code
                            class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-keyframeeffect-source-source" id="ref-for-dom-keyframeeffect-keyframeeffect-source-source①">source</a></code>
                        と同じプロパティを持つ新しい<code
                            class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect⑤">KeyframeEffect</a></code>
                        オブジェクトを作成します：</p>
                    <ol>
                        <li data-md>
                            <p>新しい<code
                                    class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect⑥">KeyframeEffect</a></code>
                                オブジェクト<var>effect</var>を作成します。</p>
                        <li data-md>
                            <p><var>effect</var>の下記プロパティを<var>source</var>の対応する値で設定します：</p>
                            <ul>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#keyframe-effect-effect-target"
                                            id="ref-for-keyframe-effect-effect-target①⑧">効果ターゲット</a></p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe④⑥">キーフレーム</a></p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#composite-operation"
                                            id="ref-for-composite-operation①②">合成操作</a></p>
                                <li data-md>
                                    <p>以下の指定タイミングプロパティすべて：</p>
                                    <ul>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#start-delay"
                                                    id="ref-for-start-delay①⑧">開始遅延</a></p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#end-delay"
                                                    id="ref-for-end-delay⑦">終了遅延</a></p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#fill-mode"
                                                    id="ref-for-fill-mode①⑤">塗りモード</a></p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#iteration-start"
                                                    id="ref-for-iteration-start①①">反復開始</a></p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#iteration-count"
                                                    id="ref-for-iteration-count①⑦">反復回数</a></p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#iteration-duration"
                                                    id="ref-for-iteration-duration①⑦">反復期間</a></p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#playback-direction"
                                                    id="ref-for-playback-direction⑦">再生方向</a></p>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://www.w3.org/TR/css-easing-1/#easing-function"
                                                    id="ref-for-easing-function①⓪">タイミング関数</a></p>
                                    </ul>
                            </ul>
                            <p class="note" role="note"><span>注:</span> <code
                                    class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-keyframeeffect" id="ref-for-dom-keyframeeffect-keyframeeffect①">KeyframeEffect(target, keyframes, options)</a></code>
                                コンストラクタと異なり、例外を再throwする必要はありません。<var>source</var>に指定されたタイミングプロパティは有効だとみなされるためです。</p>
                    </ol>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="KeyframeEffect/KeyframeEffect(source)" data-dfn-type="argument"
                                    data-export data-lt="source"
                                    id="dom-keyframeeffect-keyframeeffect-source-source"><code><code class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect⑦">KeyframeEffect</a></code>
                                    source</code></dfn>
                            <dd data-md>
                                <p>新しい<span id="ref-for-keyframe-effect③③">キーフレーム効果</span>を定義するプロパティをコピーする元の<a
                                        data-link-type="dfn" href="#keyframe-effect"
                                        id="ref-for-keyframe-effect③②">キーフレーム効果</a>。</p>
                        </dl>
                    </div>
            </dl>
        </div>
        <div class="attributes">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffect" data-dfn-type="attribute"
                        data-export id="dom-keyframeeffect-target"><code>target</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"
                            id="ref-for-element⑥">Element</a>、null許容</span>
                <dd data-md>
                    <p>このオブジェクトによってアニメーションされる<a data-link-type="dfn" href="#effect-target-target-element"
                            id="ref-for-effect-target-target-element⑥">ターゲット要素</a>（<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑦">Element</a></code>なら<a
                            data-link-type="dfn" href="#keyframe-effect-effect-target"
                            id="ref-for-keyframe-effect-effect-target①⑨">効果ターゲット</a>、疑似要素なら<a data-link-type="dfn"
                            href="https://www.w3.org/TR/selectors-4/#originating-element"
                            id="ref-for-originating-element①">発生元要素</a>）。
                        音声APIでサウンド生成など、特定要素を対象としないアニメーションの場合は<code>null</code>となります。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffect" data-dfn-type="attribute"
                        data-export id="dom-keyframeeffect-pseudoelement"><code>pseudoElement</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                            id="ref-for-cssomstring①">CSSOMString</a>、null許容</span>
                <dd data-md>
                    <p><a data-link-type="dfn" href="#effect-target-target-pseudo-selector"
                            id="ref-for-effect-target-target-pseudo-selector⑤">ターゲット疑似セレクタ</a>。
                        <a data-link-type="dfn" href="#keyframe-effect-effect-target"
                            id="ref-for-keyframe-effect-effect-target②⓪">効果ターゲット</a>がない場合や、効果ターゲットが要素（疑似要素でない）の場合は<code>null</code>。
                        効果ターゲットが疑似要素の場合、この値は疑似要素セレクタ（例：<code>::before</code>）となります。
                    </p>
                    <p>設定時は、<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①⓪⑨">アニメーション効果</a>の<a data-link-type="dfn"
                            href="#effect-target-target-pseudo-selector"
                            id="ref-for-effect-target-target-pseudo-selector⑥">ターゲット疑似セレクタ</a>に指定値を設定しますが、以下の例外を適用します：
                    </p>
                    <ul>
                        <li data-md>
                            <p>値が<code>null</code>でなく、かつ無効な<a class="production css" data-link-type="type"
                                    href="https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector"
                                    id="ref-for-typedef-pseudo-element-selector">&lt;pseudo-element-selector></a>の場合、ユーザーエージェントは<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>（エラー名<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#syntaxerror" id="ref-for-syntaxerror">SyntaxError</a></code>）を<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throw①②">throw</a>し、<a data-link-type="dfn" href="#animation-effect"
                                    id="ref-for-animation-effect①①⓪">アニメーション効果</a>の<a data-link-type="dfn"
                                    href="#effect-target-target-pseudo-selector"
                                    id="ref-for-effect-target-target-pseudo-selector⑦">ターゲット疑似セレクタ</a>は変更しません。</p>
                            <p class="note" role="note"><span>注:</span> この文脈での「無効」は、<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/selectors-4/#invalid-selector"
                                    id="ref-for-invalid-selector">無効セレクタ</a>（[SELECTORS-4]）の定義に従い、構文的に無効な疑似要素や、ユーザーエージェントがサポートしない疑似要素も無効とみなします。
                            </p>
                        <li data-md>
                            <p>レガシーSelectors Level 2のシングルコロンセレクタ（':before', ':after', ':first-letter',
                                ':first-line'）が指定された場合、<a data-link-type="dfn"
                                    href="#effect-target-target-pseudo-selector"
                                    id="ref-for-effect-target-target-pseudo-selector⑧">ターゲット疑似セレクタ</a>は対応する二重コロンセレクタ（例：'::before'）に設定されます。
                            </p>
                    </ul>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffect" data-dfn-type="attribute"
                        data-export id="dom-keyframeeffect-composite"><code>composite</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#enumdef-compositeoperation"
                            id="ref-for-enumdef-compositeoperation①">CompositeOperation</a></span>
                <dd data-md>
                    <p>この<a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect③④">キーフレーム効果</a>を<a
                            data-link-type="dfn" href="#effect-stack"
                            id="ref-for-effect-stack①⑤">効果スタック</a>と合成する際に使用する<a data-link-type="dfn"
                            href="#composite-operation" id="ref-for-composite-operation①③">合成操作</a>。<a
                            data-link-type="dfn" href="#compositeoperation"
                            id="ref-for-compositeoperation">CompositeOperation</a>列挙型値で指定されます。</p>
                    <p>設定時は、この<a data-link-type="dfn" href="#animation-effect"
                            id="ref-for-animation-effect①①①">アニメーション効果</a>の<a data-link-type="dfn"
                            href="#composite-operation" id="ref-for-composite-operation①④">合成操作</a>プロパティに指定値を設定します。</p>
            </dl>
        </div>
        <div class="methods">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffect" data-dfn-type="method"
                        data-export data-lt="getKeyframes()"
                        id="dom-keyframeeffect-getkeyframes"><code> sequence&lt;object> getKeyframes()</code></dfn>
                <dd data-md>
                    <p>この効果を構成するキーフレームとその<a data-link-type="dfn" href="#computed-keyframe-offset"
                            id="ref-for-computed-keyframe-offset②③">算出キーフレームオフセット</a>を返します。</p>
                    <div class="informative-bg">
                        <em>この節は非規範的です</em>
                        <p>このメソッドの結果は以下の形式のオブジェクト列です：</p>
                        <pre class="lang-idl highlight"><c- b>dictionary</c-> <c- g>ComputedKeyframe</c-> {
    // ... プロパティ値のペア ...
    // 例：DOMString propertyName
    <c- b>double</c->?                  <c- g>offset</c-> = <c- b>null</c->;
    <c- b>double</c->                   <c- g>computedOffset</c->;
    <c- b>DOMString</c->                <c- g>easing</c-> = "linear";
    <c- n>CompositeOperationOrAuto</c-> <c- g>composite</c-> = "auto";
};
</pre>
                        <p>各メンバーの意味と値は以下の通りです：</p>
                        <dl>
                            <dt data-md><code>offset</code>
                            <dd data-md>
                                <p><a data-link-type="dfn" href="#keyframe-offset"
                                        id="ref-for-keyframe-offset⑥">キーフレームオフセット</a>。<a data-link-type="dfn"
                                        href="#keyframe"
                                        id="ref-for-keyframe④⑦">キーフレーム</a>の0.0以上1.0以下の数値、または<code>null</code>。</p>
                                <p><a data-link-type="dfn" href="#keyframe"
                                        id="ref-for-keyframe④⑧">キーフレーム</a>が隣接キーフレーム間で自動的に間隔調整される場合は<code>null</code>となります。
                                </p>
                            <dt data-md><code>computedOffset</code>
                            <dd data-md>
                                <p>この<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe④⑨">キーフレーム</a>の<a
                                        data-link-type="dfn" href="#computed-keyframe-offset"
                                        id="ref-for-computed-keyframe-offset②④">算出キーフレームオフセット</a>。<a
                                        data-link-type="dfn" href="#compute-missing-keyframe-offsets"
                                        id="ref-for-compute-missing-keyframe-offsets①">欠損キーフレームオフセットの算出</a>手順で計算されます。
                                </p>
                                <p><code>offset</code>とは異なり、<code>computedOffset</code>は常にnullになりません。</p>
                            <dt data-md><code>easing</code>
                            <dd data-md>
                                <p>このキーフレームから次のキーフレームまでの進行度を変換するための<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/css-easing-1/#easing-function"
                                        id="ref-for-easing-function①①">タイミング関数</a>。</p>
                            <dt data-md><code>composite</code>
                            <dd data-md>
                                <p>このキーフレームで指定された値を<a data-link-type="dfn" href="#underlying-value"
                                        id="ref-for-underlying-value①③">基底値</a>と合成する際に使用する<a data-link-type="dfn"
                                        href="#keyframe-specific-composite-operation"
                                        id="ref-for-keyframe-specific-composite-operation①">キーフレーム固有の合成操作</a>。</p>
                                <p><a data-link-type="dfn" href="#keyframe-effect"
                                        id="ref-for-keyframe-effect③⑤">キーフレーム効果</a>で指定された<a data-link-type="dfn"
                                        href="#composite-operation"
                                        id="ref-for-composite-operation①⑤">合成操作</a>が使用される場合、このメンバーは<code
                                        class="idl"><a data-link-type="idl" href="#dom-compositeoperationorauto-auto" id="ref-for-dom-compositeoperationorauto-auto">auto</a></code>となります。
                                </p>
                        </dl>
                    </div>
                    <p><a data-link-type="dfn" href="#keyframe"
                            id="ref-for-keyframe⑤⓪">キーフレーム</a>は部分的にオープンな辞書型でWebIDLで表現できないため、このメソッドの返却値生成手順は以下のように記述されます：
                    </p>
                    <ol>
                        <li data-md>
                            <p><var>result</var>を空のオブジェクト列とする。</p>
                        <li data-md>
                            <p><var>keyframes</var>を以下のいずれかとする：</p>
                            <ol>
                                <li data-md>
                                    <p>この<a data-link-type="dfn" href="#keyframe-effect"
                                            id="ref-for-keyframe-effect③⑥">キーフレーム効果</a>が<code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/css-animations-2/#cssanimation" id="ref-for-cssanimation">CSSAnimation</a></code>に関連付けられ、<a
                                            data-link-type="dfn" href="#keyframe"
                                            id="ref-for-keyframe⑤①">キーフレーム</a>が<code
                                            class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-setkeyframes" id="ref-for-dom-keyframeeffect-setkeyframes②">setKeyframes()</a></code>の呼び出しで置き換えられていない場合、<span
                                            id="ref-for-keyframe-effect③⑦">キーフレーム効果</span>の<a data-link-type="dfn"
                                            href="#computed-keyframes" id="ref-for-computed-keyframes④">算出キーフレーム</a>。
                                    </p>
                                <li data-md>
                                    <p>それ以外の場合、この<a data-link-type="dfn" href="#keyframe-effect"
                                            id="ref-for-keyframe-effect③⑧">キーフレーム効果</a>の<a data-link-type="dfn"
                                            href="#keyframe" id="ref-for-keyframe⑤②">キーフレーム</a>に<a data-link-type="dfn"
                                            href="#compute-missing-keyframe-offsets"
                                            id="ref-for-compute-missing-keyframe-offsets②">欠損キーフレームオフセットの算出</a>手順を適用した結果。
                                    </p>
                            </ol>
                            <p class="note" role="note"><span>注:</span> CSSアニメーション用には<a data-link-type="dfn"
                                    href="#computed-keyframes"
                                    id="ref-for-computed-keyframes⑤">算出キーフレーム</a>を返します。CSSで指定されたキーフレームはすべて辞書で表現できるわけではないためです。
                            </p>
                        <li data-md>
                            <p><var>keyframes</var>内の各<var>keyframe</var>について以下を行う：</p>
                            <ol>
                                <li data-md>
                                    <p>以下の定義で辞書オブジェクト<var>output keyframe</var>を初期化：</p>
                                    <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="idl-code" data-dfn-type="dictionary" data-export id="dictdef-basecomputedkeyframe"><code><c- g>BaseComputedKeyframe</c-></code><a class="self-link" href="#dictdef-basecomputedkeyframe"></a></dfn> {
     <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②②"><c- b>double</c-></a>?                  <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="BaseComputedKeyframe" data-dfn-type="dict-member" data-export data-type="double?                  " id="dom-basecomputedkeyframe-offset"><code><c- g>offset</c-></code></dfn> = <c- b>null</c->;
     <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②③"><c- b>double</c-></a>                   <dfn class="dfn-paneled idl-code" data-dfn-for="BaseComputedKeyframe" data-dfn-type="dict-member" data-export data-type="double                   " id="dom-basecomputedkeyframe-computedoffset"><code><c- g>computedOffset</c-></code></dfn>;
     <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a>                <dfn class="dfn-paneled idl-code" data-default="&quot;linear&quot;" data-dfn-for="BaseComputedKeyframe" data-dfn-type="dict-member" data-export data-type="DOMString                " id="dom-basecomputedkeyframe-easing"><code><c- g>easing</c-></code></dfn> = "linear";
     <a data-link-type="idl-name" href="#enumdef-compositeoperationorauto" id="ref-for-enumdef-compositeoperationorauto"><c- n>CompositeOperationOrAuto</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;auto&quot;" data-dfn-for="BaseComputedKeyframe" data-dfn-type="dict-member" data-export data-type="CompositeOperationOrAuto " id="dom-basecomputedkeyframe-composite"><code><c- g>composite</c-></code></dfn> = "auto";
};
</pre>
                                <li data-md>
                                    <p><var>output keyframe</var>の<code
                                            class="idl"><a data-link-type="idl" href="#dom-basecomputedkeyframe-offset" id="ref-for-dom-basecomputedkeyframe-offset">offset</a></code>,
                                        <code
                                            class="idl"><a data-link-type="idl" href="#dom-basecomputedkeyframe-computedoffset" id="ref-for-dom-basecomputedkeyframe-computedoffset">computedOffset</a></code>,
                                        <code
                                            class="idl"><a data-link-type="idl" href="#dom-basecomputedkeyframe-easing" id="ref-for-dom-basecomputedkeyframe-easing">easing</a></code>,
                                        <code
                                            class="idl"><a data-link-type="idl" href="#dom-basecomputedkeyframe-composite" id="ref-for-dom-basecomputedkeyframe-composite">composite</a></code>
                                        を<var>keyframe</var>の<a data-link-type="dfn" href="#keyframe-offset"
                                            id="ref-for-keyframe-offset⑦">キーフレームオフセット</a>、
                                        <a data-link-type="dfn" href="#computed-keyframe-offset"
                                            id="ref-for-computed-keyframe-offset②⑤">算出キーフレームオフセット</a>、
                                        キーフレーム固有の<a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-easing-1/#easing-function"
                                            id="ref-for-easing-function①②">タイミング関数</a>、
                                        <a data-link-type="dfn" href="#keyframe-specific-composite-operation"
                                            id="ref-for-keyframe-specific-composite-operation②">キーフレーム固有の合成操作</a>で設定します。
                                    </p>
                                <li data-md>
                                    <p><var>keyframe</var>の各アニメーションプロパティ値のペア<var>declaration</var>について以下を行う：</p>
                                    <ol>
                                        <li data-md>
                                            <p><var>property name</var>を、<var>declaration</var>のプロパティ名に<a
                                                    data-link-type="dfn"
                                                    href="#animation-property-name-to-idl-attribute-name"
                                                    id="ref-for-animation-property-name-to-idl-attribute-name">アニメーションプロパティ名からIDL属性名への変換</a>アルゴリズムを適用した結果とする。
                                            </p>
                                        <li data-md>
                                            <p><var>IDL value</var>を、<var>declaration</var>のプロパティ値を<a
                                                    data-link-type="dfn"
                                                    href="https://drafts.csswg.org/cssom/#serialize-a-css-value"
                                                    id="ref-for-serialize-a-css-value">CSS値のシリアライズ</a>アルゴリズムに渡して得られる結果とする。
                                            </p>
                                        <li data-md>
                                            <p><var>value</var>を、<var>IDL value</var>を<a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#DOMString-to-es"
                                                    id="ref-for-DOMString-to-es">ECMAScriptのString値へ変換</a>した結果とする。</p>
                                        <li data-md>
                                            <p><var>output keyframe</var>に対し<var>property
                                                    name</var>で<var>value</var>を<em>書き込み可能・列挙可能・設定可能</em>として<em>false</em>で定義する。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><var>output keyframe</var>を<var>result</var>に追加する。</p>
                            </ol>
                        <li data-md>
                            <p><var>result</var>を返す。</p>
                    </ol>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffect" data-dfn-type="method"
                        data-export data-lt="setKeyframes(keyframes)"
                        id="dom-keyframeeffect-setkeyframes"><code> void setKeyframes(object? keyframes)</code></dfn>
                <dd data-md>
                    <p>この効果を構成する<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe⑤③">キーフレーム</a>集合を置き換えます。
                    </p>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="idl-code" data-dfn-for="KeyframeEffect/setKeyframes"
                                    data-dfn-type="argument" data-export data-lt="keyframes"
                                    id="dom-keyframeeffect-setkeyframes-keyframes"><code>object? keyframes</code><a
                                        class="self-link" href="#dom-keyframeeffect-setkeyframes-keyframes"></a></dfn>
                            <dd data-md>
                                <p>キーフレーム集合の書式と処理は<a href="#processing-a-keyframes-argument">§ 6.6.3
                                        キーフレーム引数の処理</a>で定義されています。</p>
                                <p>この効果の<a data-link-type="dfn" href="#keyframe"
                                        id="ref-for-keyframe⑤④">キーフレーム</a>集合は、<a data-link-type="dfn"
                                        href="#process-a-keyframes-argument"
                                        id="ref-for-process-a-keyframes-argument">キーフレーム引数の処理</a>手順の結果で置き換えられます。
                                    その手順で例外がthrowされた場合は、効果の<span id="ref-for-keyframe⑤⑤">キーフレーム</span>は変更されません。</p>
                        </dl>
                    </div>
            </dl>
        </div>
        <h4 class="heading settled" data-level="6.6.1" id="creating-a-new-keyframeeffect-object"><span
                class="secno">6.6.1. </span><span class="content">新しい<code>KeyframeEffect</code>オブジェクトの作成</span><a
                class="self-link" href="#creating-a-new-keyframeeffect-object"></a></h4>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p><code
                    class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-keyframeeffect" id="ref-for-dom-keyframeeffect-keyframeeffect②">KeyframeEffect</a></code>
                コンストラクタは、新しい<code
                    class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect⑧">KeyframeEffect</a></code>
                オブジェクトを作成するための様々なアプローチを提供します。</p>
            <p>最も単純な例として、<code
                    class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect⑨">KeyframeEffect</a></code>
                オブジェクトで<code>elem</code>の"left"プロパティを3秒かけて100pxに変更する場合、以下のように作成できます：</p>
            <div class="example" id="example-7a28f33c">
                <a class="self-link" href="#example-7a28f33c"></a>
                <pre
                    class="lang-javascript highlight"><c- a>var</c-> effect <c- o>=</c-> <c- ow>new</c-> KeyframeEffect<c- p>(</c->elem<c- p>,</c-> <c- p>{</c-> left<c- o>:</c-> <c- t>'100px'</c-> <c- p>},</c-> <c- mf>3000</c-><c- p>);</c-></pre>
            </div>
            <p>第2引数（キーフレームのリスト）は、複数のプロパティを指定することもできます。（<a href="#processing-a-keyframes-argument">§ 6.6.3
                    キーフレーム引数の処理</a>参照）</p>
            <div class="example" id="example-d6624b71">
                <a class="self-link" href="#example-d6624b71"></a>
                <pre
                    class="lang-javascript highlight"><c- c1>// 複数のプロパティを同時に指定</c->
<c- a>var</c-> effectA <c- o>=</c-> <c- ow>new</c-> KeyframeEffect<c- p>(</c->elem<c- p>,</c-> <c- p>{</c-> left<c- o>:</c-> <c- t>'100px'</c-><c- p>,</c-> top<c- o>:</c-> <c- t>'300px'</c-> <c- p>},</c-> <c- mf>3000</c-><c- p>);</c->

<c- c1>// 複数のキーフレームを指定</c->
<c- a>var</c-> effectB <c- o>=</c-> <c- ow>new</c-> KeyframeEffect<c- p>(</c->elem<c- p>,</c-> <c- p>[</c-> <c- p>{</c-> left<c- o>:</c-> <c- t>'100px'</c-> <c- p>},</c-> <c- p>{</c-> left<c- o>:</c-> <c- t>'300px'</c-> <c- p>}</c-> <c- p>],</c-> <c- mf>3000</c-><c- p>);</c-></pre>
            </div>
            <p>第3引数（アニメーションのタイミング）は、上記のようにミリ秒単位の<a data-link-type="dfn" href="#iteration-duration"
                    id="ref-for-iteration-duration①⑧">反復期間</a>を表す数値でもよいですが、<a data-link-type="dfn" href="#start-delay"
                    id="ref-for-start-delay①⑨">開始遅延</a>などさらにタイミングプロパティを指定する場合は、以下のように<code
                    class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming①⓪">EffectTiming</a></code>オブジェクトを使うことができます：
            </p>
            <div class="example" id="example-4d5977de">
                <a class="self-link" href="#example-4d5977de"></a>
                <pre
                    class="lang-javascript highlight"><c- a>var</c-> effect <c- o>=</c->
  <c- ow>new</c-> KeyframeEffect<c- p>(</c->elem<c- p>,</c-> <c- p>{</c-> left<c- o>:</c-> <c- t>'100px'</c-> <c- p>},</c-> <c- p>{</c-> duration<c- o>:</c-> <c- mf>3000</c-><c- p>,</c-> delay<c- o>:</c-> <c- mf>2000</c-> <c- p>});</c-></pre>
            </div>
            <p>durationが指定されていない場合は、0が使用されます。
                プロパティを補間せずに単に設定するだけのアニメーションも以下のように作成できます：</p>
            <div class="example" id="example-d3a5d53d">
                <a class="self-link" href="#example-d3a5d53d"></a>
                <pre
                    class="lang-javascript highlight"><c- a>var</c-> effect <c- o>=</c->
  <c- ow>new</c-> KeyframeEffect<c- p>(</c->elem<c- p>,</c-> <c- p>{</c-> visibility<c- o>:</c-> <c- t>'hidden'</c-> <c- p>},</c-> <c- p>{</c-> fill<c- o>:</c-> <c- t>'forwards'</c-> <c- p>});</c-></pre>
            </div>
            <p><a href="#fill-behavior">§ 4.6 塗りの挙動</a>で述べられているように、このような無限塗りのアニメーションの使用は推奨されません。</p>
            <p>作成した<code
                    class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect①⓪">KeyframeEffect</a></code>
                は、<code
                    class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation⑦">Animation</a></code>
                に追加して再生できます。
                ただし、単純な効果であれば<a
                    href="#extensions-to-the-element-interface"><code>Element.animate</code></a>ショートカットの方が便利で、これらの手順を自動で行ってくれます。例えば：
            </p>
            <div class="example" id="example-a7ce65dd">
                <a class="self-link" href="#example-a7ce65dd"></a>
                <pre
                    class="lang-javascript highlight">elem<c- p>.</c->animate<c- p>({</c-> left<c- o>:</c-> <c- t>'100px'</c-> <c- p>},</c-> <c- mf>3000</c-><c- p>);</c-></pre>
            </div>
        </div>
        <h4 class="heading settled" data-level="6.6.2" id="property-name-conversion"><span class="secno">6.6.2.
            </span><span class="content">プロパティ名とIDL名</span><a class="self-link" href="#property-name-conversion"></a>
        </h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="animation-property-name-to-idl-attribute-name">アニメーションプロパティ名からIDL属性名への変換</dfn>
            アルゴリズム（<var>property</var>用）は以下の通りです：</p>
        <ol>
            <li data-md>
                <p><var>property</var>が<emu-production
                        href="https://www.w3.org/TR/css-variables-1/#typedef-custom-property-name"></emu-production>に従う場合、
                    <var>property</var>を返す。
                </p>
            <li data-md>
                <p><var>property</var>がCSSの<a class="property css" data-link-type="property"
                        href="https://drafts.csswg.org/css2/#propdef-float" id="ref-for-propdef-float">float</a>
                    プロパティの場合、
                    文字列"cssFloat"を返す。</p>
            <li data-md>
                <p><var>property</var>がCSSの<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/motion-1/#propdef-offset" id="ref-for-propdef-offset">offset</a>
                    プロパティの場合、
                    文字列"cssOffset"を返す。</p>
            <li data-md>
                <p>それ以外の場合、<var>property</var>に<a data-link-type="dfn"
                        href="https://drafts.csswg.org/cssom/#css-property-to-idl-attribute"
                        id="ref-for-css-property-to-idl-attribute①">CSSプロパティからIDL属性への変換</a>アルゴリズム（[CSSOM]）を適用した結果を返す。
                </p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="idl-attribute-name-to-animation-property-name">IDL属性名からアニメーションプロパティ名への変換</dfn>
            アルゴリズム（<var>attribute</var>用）は以下の通りです：</p>
        <ol>
            <li data-md>
                <p><var>attribute</var>が<emu-production
                        href="https://www.w3.org/TR/css-variables-1/#typedef-custom-property-name"></emu-production>に従う場合、
                    <var>attribute</var>を返す。
                </p>
            <li data-md>
                <p><var>attribute</var>が文字列"cssFloat"の場合、CSSの<a class="property css" data-link-type="property"
                        href="https://drafts.csswg.org/css2/#propdef-float"
                        id="ref-for-propdef-float①">float</a>プロパティを表すアニメーションプロパティを返す。</p>
            <li data-md>
                <p><var>attribute</var>が文字列"cssOffset"の場合、CSSの<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/motion-1/#propdef-offset"
                        id="ref-for-propdef-offset①">offset</a>プロパティを表すアニメーションプロパティを返す。</p>
            <li data-md>
                <p>それ以外の場合、<var>attribute</var>に<a data-link-type="dfn"
                        href="https://drafts.csswg.org/cssom/#idl-attribute-to-css-property"
                        id="ref-for-idl-attribute-to-css-property">IDL属性からCSSプロパティへの変換</a>アルゴリズム（[CSSOM]）を適用した結果を返す。
                </p>
        </ol>
        <h4 class="heading settled" data-level="6.6.3" id="processing-a-keyframes-argument"><span class="secno">6.6.3.
            </span><span class="content"><code>keyframes</code>引数の処理</span><a class="self-link"
                href="#processing-a-keyframes-argument"></a></h4>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>以下のメソッドはすべて、引数としてキーフレーム集合を受け付けます：</p>
            <ul>
                <li data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-keyframeeffect" id="ref-for-dom-keyframeeffect-keyframeeffect③">KeyframeEffect(target, keyframes, options)</a></code>
                        コンストラクタ</p>
                <li data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-setkeyframes" id="ref-for-dom-keyframeeffect-setkeyframes③">setKeyframes()</a></code>
                        メソッド（<code
                            class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect①①">KeyframeEffect</a></code>インターフェース）
                    </p>
                <li data-md>
                    <p><code
                            class="idl"><a data-link-type="idl" href="#dom-animatable-animate" id="ref-for-dom-animatable-animate">animate()</a></code>
                        メソッド（<code
                            class="idl"><a data-link-type="idl" href="#animatable" id="ref-for-animatable">Animatable</a></code>インターフェースミックスイン）
                    </p>
            </ul>
            <p>この引数は下記2つの形式のいずれかで指定できます。例：</p>
            <div class="example" id="example-23ca44fc">
                <a class="self-link" href="#example-23ca44fc"></a>
                <pre class="lang-javascript highlight"><c- c1>// 下記2つの式は同じ結果になります：</c->
elem<c- p>.</c->animate<c- p>([</c-> <c- p>{</c-> color<c- o>:</c-> <c- t>'blue'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'green'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'red'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'yellow'</c-> <c- p>}</c-> <c- p>],</c-> <c- mf>2000</c-><c- p>);</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'blue'</c-><c- p>,</c-> <c- t>'green'</c-><c- p>,</c-> <c- t>'red'</c-><c- p>,</c-> <c- t>'yellow'</c-> <c- p>]</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->

<c- c1>// 複数プロパティアニメーションの場合も、下記2つの式は等価です：</c->
elem<c- p>.</c->animate<c- p>([</c-> <c- p>{</c-> color<c- o>:</c-> <c- t>'blue'</c-><c- p>,</c-> left<c- o>:</c-> <c- t>'0px'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'green'</c-><c- p>,</c-> left<c- o>:</c-> <c- t>'-20px'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'red'</c-><c- p>,</c-> left<c- o>:</c-> <c- t>'100px'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'yellow'</c-><c- p>,</c-> left<c- o>:</c-> <c- t>'50px'</c-><c- p>}</c-> <c- p>],</c-> <c- mf>2000</c-><c- p>);</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'blue'</c-><c- p>,</c-> <c- t>'green'</c-><c- p>,</c-> <c- t>'red'</c-><c- p>,</c-> <c- t>'yellow'</c-> <c- p>],</c->
               left<c- o>:</c-> <c- p>[</c-> <c- t>'0px'</c-><c- p>,</c-> <c- t>'-20px'</c-><c- p>,</c-> <c- t>'100px'</c-><c- p>,</c-> <c- t>'50px'</c-> <c- p>]</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->

<c- c1>// ちなみに、下記3つの式はすべて等価です：</c->
elem<c- p>.</c->animate<c- p>([</c-> <c- p>{</c-> color<c- o>:</c-> <c- t>'red'</c-> <c- p>}</c-> <c- p>],</c-> <c- mf>1000</c-><c- p>);</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'red'</c-> <c- p>]</c-> <c- p>},</c-> <c- mf>1000</c-><c- p>);</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- t>'red'</c-> <c- p>},</c-> <c- mf>1000</c-><c- p>);</c->
</pre>
            </div>
            <p>1つ目（配列形式）はキーフレームの配列で、各キーフレームは各アニメーションプロパティにつき最大1つの値を指定できます。
                2つ目（オブジェクト形式）は各アニメーションプロパティに1つまたは値の配列を指定できます。</p>
            <p>配列形式が正規形であり、<code
                    class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-getkeyframes" id="ref-for-dom-keyframeeffect-getkeyframes①">getKeyframes()</a></code>
                メソッドで返される形式です。</p>
            <p><a data-link-type="dfn" href="#keyframe-offset"
                    id="ref-for-keyframe-offset⑧">キーフレームオフセット</a>はどちらの形式でも指定可能です。例：</p>
            <div class="example" id="example-34879cb3">
                <a class="self-link" href="#example-34879cb3"></a>
                <pre class="lang-javascript highlight"><c- c1>// オフセットを指定しない場合、自動的に最初のキーフレームは0、中間は0.65、最後は1となります。</c->
<c- c1>//</c->
elem<c- p>.</c->animate<c- p>([</c-> <c- p>{</c-> color<c- o>:</c-> <c- t>'blue'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'green'</c-><c- p>,</c-> offset<c- o>:</c-> <c- mf>0.5</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'red'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'yellow'</c-><c- p>,</c-> offset<c- o>:</c-> <c- mf>0.8</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'pink'</c-> <c- p>}</c-> <c- p>],</c-> <c- mf>2000</c-><c- p>);</c->

<c- c1>// 下記も同じ結果になります。最後の値は指定不要で、自動的に'null'扱いとなり、上記と同様に自動割り当てされます。</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'blue'</c-><c- p>,</c-> <c- t>'green'</c-><c- p>,</c-> <c- t>'red'</c-><c- p>,</c-> <c- t>'yellow'</c-><c- p>,</c-> <c- t>'pink'</c-> <c- p>],</c->
               offset<c- o>:</c-> <c- p>[</c-> <c- kc>null</c-><c- p>,</c-> <c- mf>0.5</c-><c- p>,</c-> <c- kc>null</c-><c- p>,</c-> <c- mf>0.8</c-> <c- p>]</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->
</pre>
            </div>
            <p>同様に、<a data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                    id="ref-for-easing-function①③">タイミング関数</a>や<a data-link-type="dfn"
                    href="#keyframe-specific-composite-operation"
                    id="ref-for-keyframe-specific-composite-operation③">キーフレーム固有の合成操作</a>もどちらの形式でも指定できます。配列形式では各<a
                    data-link-type="dfn" href="#keyframe"
                    id="ref-for-keyframe⑤⑥">キーフレーム</a>ごとに異なる値を指定でき、オブジェクト形式では値リストが必要に応じて繰り返され、各キーフレームに値が割り当てられます。</p>
            <div class="example" id="example-52bc65a2">
                <a class="self-link" href="#example-52bc65a2"></a>
                <pre class="lang-javascript highlight"><c- c1>// タイミング関数はキーフレーム間に適用されるため、最後のキーフレームに指定しても無視されます。</c->
elem<c- p>.</c->animate<c- p>([</c-> <c- p>{</c-> color<c- o>:</c-> <c- t>'blue'</c-><c- p>,</c-> easing<c- o>:</c-> <c- t>'ease-in'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'green'</c-><c- p>,</c-> easing<c- o>:</c-> <c- t>'ease-out'</c-> <c- p>},</c->
               <c- p>{</c-> color<c- o>:</c-> <c- t>'yellow'</c-> <c- p>}</c-> <c- p>],</c-> <c- mf>2000</c-><c- p>);</c->

<c- c1>// 下記も同じ結果になります。</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'blue'</c-><c- p>,</c-> <c- t>'green'</c-><c- p>,</c-> <c- t>'yellow'</c-> <c- p>],</c->
               easing<c- o>:</c-> <c- p>[</c-> <c- t>'ease-in'</c-><c- p>,</c-> <c- t>'ease-out'</c-> <c- p>]</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->

<c- c1>// 繰り返し動作を使えば、全キーフレームに同じ値を割り当てるのも簡単です：</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'blue'</c-><c- p>,</c-> <c- t>'green'</c-><c- p>,</c-> <c- t>'yellow'</c-> <c- p>],</c->
               easing<c- o>:</c-> <c- t>'ease-in-out'</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->
</pre>
            </div>
            <p>どちらの形式でも<code>easing</code>プロパティは<em>キーフレーム固有のタイミング関数</em>を設定することに注意してください。
                この設定は、<code
                    class="idl"><a data-link-type="idl" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions⑤">KeyframeEffectOptions</a></code>
                または<code
                    class="idl"><a data-link-type="idl" href="#dictdef-keyframeanimationoptions" id="ref-for-dictdef-keyframeanimationoptions">KeyframeAnimationOptions</a></code>
                オブジェクトを使って<code
                    class="idl"><a data-link-type="idl" href="#dom-animatable-animate" id="ref-for-dom-animatable-animate①">animate()</a></code>
                メソッド（<code
                    class="idl"><a data-link-type="idl" href="#animatable" id="ref-for-animatable①">Animatable</a></code>
                インターフェースミックスイン）で指定する、<a data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                    id="ref-for-easing-function①④">タイミング関数</a>とは独立しています。全体の<a data-link-type="dfn"
                    href="#iteration-duration" id="ref-for-iteration-duration①⑨">反復期間</a>に適用されるタイミング関数は別です。</p>
            <p>次の例では、2つの記述は異なる結果になります。</p>
            <div class="example" id="example-148601d7">
                <a class="self-link" href="#example-148601d7"></a>
                <pre class="lang-javascript highlight"><c- c1>// ここでは 'ease-in-out' が各色値の間に適用されます。</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'blue'</c-><c- p>,</c-> <c- t>'green'</c-><c- p>,</c-> <c- t>'yellow'</c-> <c- p>],</c->
               easing<c- o>:</c-> <c- t>'ease-in-out'</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->

<c- c1>// 一方、こちらは 'ease-in-out' がアニメーション全体（'blue'から'yellow'まで）に適用されます。</c->
elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- p>[</c-> <c- t>'blue'</c-><c- p>,</c-> <c- t>'green'</c-><c- p>,</c-> <c- t>'yellow'</c-> <c- p>]</c-> <c- p>},</c->
             <c- p>{</c-> duration<c- o>:</c-> <c- mf>2000</c-><c- p>,</c-> easing<c- o>:</c-> <c- t>'ease-in-out'</c-> <c- p>});</c->
</pre>
            </div>
            <p><code>keyframes</code>引数の型は部分的にオープンな辞書型に依存するため、WebIDLでは表現できません。</p>
            <p>概念的には、この引数の型は以下のWebIDL風定義に等しいものです：</p>
            <pre class="lang-idl highlight"><c- b>dictionary</c-> <c- g>Keyframe</c-> {
    // ... プロパティ値のペア ...
    // 例：DOMString propertyName
    <c- b>double</c->?                   <c- g>offset</c-> = <c- b>null</c->;
    <c- b>DOMString</c->                 <c- g>easing</c-> = "linear";
    <c- n>CompositeOperationOrAuto</c->  <c- g>composite</c-> = "auto";
};

<c- b>dictionary</c-> <c- g>PropertyIndexedKeyframes</c-> {
    // ... プロパティ値や値リストのペア ...
    // 例：(DOMString or sequence&amp;lt;DOMString&amp;gt;) propertyName
    (<c- b>double</c->? <c- b>or</c-> <c- b>sequence</c->&lt;<c- b>double</c->?>)                         <c- g>offset</c-> = [];
    (<c- b>DOMString</c-> <c- b>or</c-> <c- b>sequence</c->&lt;<c- b>DOMString</c->>)                     <c- g>easing</c-> = [];
    (<c- n>CompositeOperationOrAuto</c-> <c- b>or</c-> <c- b>sequence</c->&lt;<c- n>CompositeOperationOrAuto</c->>) <c- g>composite</c-> = [];
};

<c- b>typedef</c-> (<c- b>sequence</c->&lt;<c- n>Keyframe</c->> <c- b>or</c-> <c- n>PropertyIndexedKeyframes</c->) <c- g>KeyframeArgument</c->;
</pre>
            <p>各引数の意味と許容値は以下の通りです：</p>
            <dl>
                <dt data-md>offset
                <dd data-md>
                    <p><a data-link-type="dfn" href="#keyframe-offset" id="ref-for-keyframe-offset⑨">キーフレームオフセット</a>。<a
                            data-link-type="dfn" href="#keyframe"
                            id="ref-for-keyframe⑤⑦">キーフレーム</a>の0.0～1.0の数値または<code>null</code>。</p>
                    <p><code>null</code>は、<a data-link-type="dfn" href="#keyframe"
                            id="ref-for-keyframe⑤⑧">キーフレーム</a>が隣接キーフレーム間で自動的に間隔調整されることを示します。</p>
                    <p>範囲[0.0, 1.0]外のoffset指定は<span class="exceptionname">TypeError</span>をthrowします。</p>
                    <p>offsetを指定するキーフレームは昇順で並べなければなりません。ただし隣接・同値のoffsetは許容されます。</p>
                <dt data-md>easing
                <dd data-md>
                    <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-easing-1/#easing-function"
                            id="ref-for-easing-function①⑤">タイミング関数</a>。このキーフレームから次のキーフレームまでの進行度を変換します。</p>
                    <p>この文字列の構文・エラーハンドリングは<code
                            class="idl"><a data-link-type="idl" href="#dom-effecttiming-easing" id="ref-for-dom-effecttiming-easing③">easing</a></code>
                        属性（<code
                            class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming①①">EffectTiming</a></code>
                        インターフェース）と同一です。</p>
                <dt data-md>composite
                <dd data-md>
                    <p><a data-link-type="dfn" href="#keyframe-specific-composite-operation"
                            id="ref-for-keyframe-specific-composite-operation④">キーフレーム固有の合成操作</a>。このキーフレームで指定した値を<a
                            data-link-type="dfn" href="#underlying-value" id="ref-for-underlying-value①④">基底値</a>と合成します。
                    </p>
                    <p><code
                            class="idl"><a data-link-type="idl" href="#dom-compositeoperationorauto-auto" id="ref-for-dom-compositeoperationorauto-auto①">auto</a></code>の場合、<a
                            data-link-type="dfn" href="#composite-operation"
                            id="ref-for-composite-operation①⑥">合成操作</a>は<a data-link-type="dfn" href="#keyframe-effect"
                            id="ref-for-keyframe-effect④⓪">キーフレーム効果</a>で指定されたものが使われます。</p>
            </dl>
            <p>この型はWebIDLで表現できないため、処理は後述のプローズで定義されています。</p>
        </div>
        <p>各メソッドで<code>keyframes</code>引数を受け取る場合、<a data-link-type="dfn" href="#process-a-keyframes-argument"
                id="ref-for-process-a-keyframes-argument①">keyframes引数の処理</a>手順を入力に実行し、その結果を保持します。</p>
        <p>まず2つの補助的定義を示します。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-the-completion-record">completion
                recordの確認</dfn>（<var>result</var>）は、<var>result</var>がECMAScript操作の<a data-link-type="dfn"
                href="http://www.ecma-international.org/ecma-262/6.0/#sec-completion-record-specification-type"
                id="ref-for-sec-completion-record-specification-type">completion record</a>である場合、以下の手順と同等です：</p>
        <ol>
            <li data-md>
                <p><var>result</var>が<a data-link-type="dfn"
                        href="http://www.ecma-international.org/ecma-262/6.0/#sec-completion-record-specification-type"
                        id="ref-for-sec-completion-record-specification-type①">abrupt
                        completion</a>なら、<var>result</var>の[[value]]フィールドに含まれる例外を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①③">throw</a>してこの手順を中止します。
                </p>
                <p class="issue" id="issue-47a68024"><a class="self-link" href="#issue-47a68024"></a> [[type]]が<span
                        class="esvalue">break</span>、<span class="esvalue">continue</span>、<span
                        class="esvalue">return</span>の場合はどうすべき？あり得る？</p>
            <li data-md>
                <p><var>result</var>を<var>result</var>の[[value]]フィールドの値で置き換えます。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="process-a-keyframe-like-object">キーフレーム類似オブジェクトの処理</dfn>手順は、2つの引数を取ります：</p>
        <ul>
            <li data-md>
                <p>ECMAScriptオブジェクト<var>keyframe input</var></p>
            <li data-md>
                <p>boolean値<var>allow lists</var></p>
        </ul>
        <p>そして、以下の手順で<var>allow lists</var>がfalseならプロパティ名→DOMString値のマップ、trueならプロパティ名→DOMString値列のマップを返します：</p>
        <ol>
            <li data-md>
                <p><var>keyframe input</var>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#es-to-dictionary"
                        id="ref-for-es-to-dictionary">ECMAScript値から辞書型への変換</a>手順（[WEBIDL]）に渡して実行します。辞書型は<var>allow
                        lists</var>の値で次のように決まります：</p>
                <div class="switch">
                    <dl>
                        <dt data-md>trueのとき
                        <dd data-md>
                            <p>以下の辞書型：</p>
                            <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="idl-code" data-dfn-type="dictionary" data-export id="dictdef-basepropertyindexedkeyframe"><code><c- g>BasePropertyIndexedKeyframe</c-></code><a class="self-link" href="#dictdef-basepropertyindexedkeyframe"></a></dfn> {
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②④"><c- b>double</c-></a>? <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑤"><c- b>double</c-></a>?>)                         <dfn class="idl-code" data-default="[]" data-dfn-for="BasePropertyIndexedKeyframe" data-dfn-type="dict-member" data-export data-type="(double? or sequence<double?>)                         " id="dom-basepropertyindexedkeyframe-offset"><code><c- g>offset</c-></code><a class="self-link" href="#dom-basepropertyindexedkeyframe-offset"></a></dfn> = [];
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c- b>DOMString</c-></a>>)                     <dfn class="idl-code" data-default="[]" data-dfn-for="BasePropertyIndexedKeyframe" data-dfn-type="dict-member" data-export data-type="(DOMString or sequence<DOMString>)                     " id="dom-basepropertyindexedkeyframe-easing"><code><c- g>easing</c-></code><a class="self-link" href="#dom-basepropertyindexedkeyframe-easing"></a></dfn> = [];
    (<a data-link-type="idl-name" href="#enumdef-compositeoperationorauto" id="ref-for-enumdef-compositeoperationorauto①"><c- n>CompositeOperationOrAuto</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-compositeoperationorauto" id="ref-for-enumdef-compositeoperationorauto②"><c- n>CompositeOperationOrAuto</c-></a>>) <dfn class="idl-code" data-default="[]" data-dfn-for="BasePropertyIndexedKeyframe" data-dfn-type="dict-member" data-export data-type="(CompositeOperationOrAuto or sequence<CompositeOperationOrAuto>) " id="dom-basepropertyindexedkeyframe-composite"><code><c- g>composite</c-></code><a class="self-link" href="#dom-basepropertyindexedkeyframe-composite"></a></dfn> = [];
};
</pre>
                        <dt data-md>falseのとき
                        <dd data-md>
                            <p>以下の辞書型：</p>
                            <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="idl-code" data-dfn-type="dictionary" data-export id="dictdef-basekeyframe"><code><c- g>BaseKeyframe</c-></code><a class="self-link" href="#dictdef-basekeyframe"></a></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑥"><c- b>double</c-></a>?                  <dfn class="idl-code" data-default="null" data-dfn-for="BaseKeyframe" data-dfn-type="dict-member" data-export data-type="double?                  " id="dom-basekeyframe-offset"><code><c- g>offset</c-></code><a class="self-link" href="#dom-basekeyframe-offset"></a></dfn> = <c- b>null</c->;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a>                <dfn class="idl-code" data-default="&quot;linear&quot;" data-dfn-for="BaseKeyframe" data-dfn-type="dict-member" data-export data-type="DOMString                " id="dom-basekeyframe-easing"><code><c- g>easing</c-></code><a class="self-link" href="#dom-basekeyframe-easing"></a></dfn> = "linear";
    <a data-link-type="idl-name" href="#enumdef-compositeoperationorauto" id="ref-for-enumdef-compositeoperationorauto③"><c- n>CompositeOperationOrAuto</c-></a> <dfn class="idl-code" data-default="&quot;auto&quot;" data-dfn-for="BaseKeyframe" data-dfn-type="dict-member" data-export data-type="CompositeOperationOrAuto " id="dom-basekeyframe-composite"><code><c- g>composite</c-></code><a class="self-link" href="#dom-basekeyframe-composite"></a></dfn> = "auto";
};
</pre>
                    </dl>
                </div>
                <p>この手順の結果を<var>keyframe output</var>として保持します。</p>
            <li data-md>
                <p><var>animatable properties</var>リストを以下の手順で作成します：</p>
                <ol>
                    <li data-md>
                        <p><var>animatable properties</var>を、実装でアニメーション可能なプロパティ名（ロングハンドを持つショートハンドも含む）リストとする。</p>
                    <li data-md>
                        <p><var>animatable properties</var>内の各プロパティ名を<a data-link-type="dfn"
                                href="#animation-property-name-to-idl-attribute-name"
                                id="ref-for-animation-property-name-to-idl-attribute-name①">アニメーションプロパティ名からIDL属性名への変換</a>アルゴリズムでIDL属性名に変換する。
                        </p>
                </ol>
            <li data-md>
                <p><var>input properties</var>を、<var>keyframe input</var>に対して<a data-link-type="dfn"
                        href="http://www.ecma-international.org/ecma-262/6.0/#sec-enumerableownnames"
                        id="ref-for-sec-enumerableownnames">EnumerableOwnNames</a>操作で取得する。</p>
            <li data-md>
                <p><var>animation properties</var>新リストを作成し、<var>input properties</var>と<var>animatable
                        properties</var>両方に含まれるプロパティ、または<var>input properties</var>にあり<emu-production
                        href="https://www.w3.org/TR/css-variables-1/#typedef-custom-property-name"></emu-production>に従うものを含める。
                </p>
            <li data-md>
                <p><var>animation properties</var>をUnicodeコードポイント順で昇順ソートする。</p>
            <li data-md>
                <p><var>animation properties</var>内の各<var>property name</var>について：</p>
                <ol>
                    <li data-md>
                        <p><var>raw value</var>を、<var>keyframe input</var>に対して<a data-link-type="dfn"
                                href="http://www.ecma-international.org/ecma-262/6.0/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver"
                                id="ref-for-sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver">[[Get]]</a>で取得する。
                        </p>
                    <li data-md>
                        <p><var>raw value</var>の<a data-link-type="dfn" href="#check-the-completion-record"
                                id="ref-for-check-the-completion-record">completion recordの確認</a>を行う。</p>
                    <li data-md>
                        <p><var>raw value</var>をDOMStringまたはDOMString列<var>property values</var>へ変換：</p>
                        <div class="switch">
                            <dl>
                                <dt data-md>allow listsがtrueの場合
                                <dd data-md>
                                    <p><var>property values</var>を<var>raw
                                            value</var>からIDL型<code>(DOMString or sequence&lt;DOMString>)</code>に<a
                                            data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                                            id="ref-for-dfn-convert-ecmascript-to-idl-value">ECMAScript値からIDL値への変換手順</a>（[WEBIDL]）で変換する。
                                    </p>
                                    <p>単一DOMStringの場合、値1件のDOMString列に置き換える。</p>
                                <dt data-md>それ以外
                                <dd data-md>
                                    <p><var>property values</var>を<var>raw value</var>からDOMStringに<a
                                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#es-to-DOMString"
                                            id="ref-for-es-to-DOMString">ECMAScript値からDOMStringへの変換手順</a>（[WEBIDL]）で変換する。
                                    </p>
                            </dl>
                        </div>
                    <li data-md>
                        <p><var>normalized property name</var>を、<var>property name</var>に<a data-link-type="dfn"
                                href="#idl-attribute-name-to-animation-property-name"
                                id="ref-for-idl-attribute-name-to-animation-property-name">IDL属性名からアニメーションプロパティ名への変換</a>アルゴリズム適用結果とする。
                        </p>
                    <li data-md>
                        <p><var>keyframe output</var>に<var>normalized property name</var>のプロパティで<var>property
                                values</var>を値として追加する。</p>
                </ol>
            <li data-md>
                <p><var>keyframe output</var>を返す。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="process-a-keyframes-argument">keyframes引数の処理</dfn>手順は、nullableなECMAScriptオブジェクト<var>object</var>を入力に、以下でキーフレーム列を返します：
        </p>
        <ol>
            <li data-md>
                <p><var>object</var>がnullなら、空のキーフレーム列を返す。</p>
            <li data-md>
                <p><var>processed keyframes</var>を空の<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe⑤⑨">キーフレーム</a>列とする。</p>
            <li data-md>
                <p><var>method</var>を<a data-link-type="dfn"
                        href="http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod"
                        id="ref-for-sec-getmethod">GetMethod</a>(<var>object</var>, <a data-link-type="dfn"
                        href="http://www.ecma-international.org/ecma-262/6.0/#sec-well-known-symbols"
                        id="ref-for-sec-well-known-symbols">@@iterator</a>)で取得する。</p>
            <li data-md>
                <p><var>method</var>の<a data-link-type="dfn" href="#check-the-completion-record"
                        id="ref-for-check-the-completion-record①">completion recordの確認</a>を行う。</p>
            <li data-md>
                <p>以下の最初に一致する条件に対応する手順を実行する：</p>
                <div class="switch">
                    <dl>
                        <dt data-md>methodが<span class="esvalue">undefined</span>でない場合
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><var>iter</var>を<a data-link-type="dfn"
                                            href="http://www.ecma-international.org/ecma-262/6.0/#sec-getiterator"
                                            id="ref-for-sec-getiterator">GetIterator</a>(<var>object</var>,
                                        <var>method</var>)で取得。
                                    </p>
                                <li data-md>
                                    <p><var>iter</var>の<a data-link-type="dfn" href="#check-the-completion-record"
                                            id="ref-for-check-the-completion-record②">completion recordの確認</a>を行う。</p>
                                <li data-md>
                                    <p>繰り返し： </p>
                                    <ol>
                                        <li data-md>
                                            <p><var>next</var>を<a data-link-type="dfn"
                                                    href="http://www.ecma-international.org/ecma-262/6.0/#sec-iteratorstep"
                                                    id="ref-for-sec-iteratorstep">IteratorStep</a>(<var>iter</var>)で取得。
                                            </p>
                                        <li data-md>
                                            <p><var>next</var>の<a data-link-type="dfn"
                                                    href="#check-the-completion-record"
                                                    id="ref-for-check-the-completion-record③">completion
                                                    recordの確認</a>を行う。</p>
                                        <li data-md>
                                            <p><var>next</var>がfalseならこのループを中止する。</p>
                                        <li data-md>
                                            <p><var>nextItem</var>を<a data-link-type="dfn"
                                                    href="http://www.ecma-international.org/ecma-262/6.0/#sec-iteratorvalue"
                                                    id="ref-for-sec-iteratorvalue">IteratorValue</a>(next)で取得。</p>
                                        <li data-md>
                                            <p><var>nextItem</var>の<a data-link-type="dfn"
                                                    href="#check-the-completion-record"
                                                    id="ref-for-check-the-completion-record④">completion
                                                    recordの確認</a>を行う。</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-data-types-and-values"
                                                    id="ref-for-sec-ecmascript-data-types-and-values">Type</a>(<var>nextItem</var>)がUndefined,
                                                Null, Object以外なら、<span
                                                    class="exceptionname">TypeError</span>をthrowして以降を中止する。</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#process-a-keyframe-like-object"
                                                    id="ref-for-process-a-keyframe-like-object">キーフレーム類似オブジェクトの処理</a>手順を<var>nextItem</var>に対し<var>allow
                                                    lists</var> = falseで実行し、その結果を<var>processed keyframes</var>に追加する。
                                            </p>
                                    </ol>
                            </ol>
                        <dt data-md>それ以外
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><var>property-indexed keyframe</var>を<a data-link-type="dfn"
                                            href="#process-a-keyframe-like-object"
                                            id="ref-for-process-a-keyframe-like-object①">キーフレーム類似オブジェクトの処理</a>手順で<var>object</var>に<var>allow
                                            lists</var> = trueで実行した結果とする。</p>
                                <li data-md>
                                    <p><var>property-indexed keyframe</var>の各メンバー<var>m</var>について：</p>
                                    <ol>
                                        <li data-md>
                                            <p>キーを<var>property name</var>とする。</p>
                                        <li data-md>
                                            <p><var>property name</var>が"composite"、"easing"、"offset"ならこのループの残りをスキップし次へ。
                                            </p>
                                        <li data-md>
                                            <p>値を<var>property values</var>とする。</p>
                                        <li data-md>
                                            <p><var>property keyframes</var>を空の<a data-link-type="dfn" href="#keyframe"
                                                    id="ref-for-keyframe⑥⓪">キーフレーム</a>列とする。</p>
                                        <li data-md>
                                            <p><var>property values</var>内の各値<var>v</var>について：</p>
                                            <ol>
                                                <li data-md>
                                                    <p><var>k</var>を<a data-link-type="dfn" href="#keyframe"
                                                            id="ref-for-keyframe⑥①">キーフレーム</a>で、<a data-link-type="dfn"
                                                            href="#keyframe-offset"
                                                            id="ref-for-keyframe-offset①⓪">キーフレームオフセット</a>がnullなものとして新規作成。
                                                    </p>
                                                <li data-md>
                                                    <p><var>property name</var>→<var>v</var>のプロパティ値ペアを<var>k</var>に追加。
                                                    </p>
                                                <li data-md>
                                                    <p><var>k</var>を<var>property keyframes</var>に追加。</p>
                                            </ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#compute-missing-keyframe-offsets"
                                                    id="ref-for-compute-missing-keyframe-offsets③">欠損キーフレームオフセットの算出</a>手順を<var>property
                                                    keyframes</var>に適用。</p>
                                        <li data-md>
                                            <p><var>property keyframes</var>内の<a data-link-type="dfn" href="#keyframe"
                                                    id="ref-for-keyframe⑥②">キーフレーム</a>を<var>processed
                                                    keyframes</var>に追加。</p>
                                    </ol>
                                <li data-md>
                                    <p><var>processed keyframes</var>を各<a data-link-type="dfn" href="#keyframe"
                                            id="ref-for-keyframe⑥③">キーフレーム</a>の<a data-link-type="dfn"
                                            href="#computed-keyframe-offset"
                                            id="ref-for-computed-keyframe-offset②⑥">算出キーフレームオフセット</a>で昇順ソート。</p>
                                <li data-md>
                                    <p><var>processed keyframes</var>で隣接する<a data-link-type="dfn" href="#keyframe"
                                            id="ref-for-keyframe⑥④">キーフレーム</a>の<a data-link-type="dfn"
                                            href="#computed-keyframe-offset"
                                            id="ref-for-computed-keyframe-offset②⑦">算出キーフレームオフセット</a>が等しい場合は統合。</p>
                                <li data-md>
                                    <p><var>offsets</var>を、<var>property-indexed keyframe</var>の"offset"メンバー型により次のように設定：
                                    </p>
                                    <div class="switch">
                                        <dl>
                                            <dt data-md><code>sequence&lt;double?></code>の場合
                                            <dd data-md>
                                                <p>"offset"そのもの。</p>
                                            <dt data-md><code>double?</code>の場合
                                            <dd data-md>
                                                <p>長さ1のシーケンスで、値は"offset"のみ（« <code>offset</code> »）。</p>
                                        </dl>
                                    </div>
                                <li data-md>
                                    <p><var>offsets</var>の各値を、<var>processed keyframes</var>で対応する位置の<a
                                            data-link-type="dfn" href="#keyframe-offset"
                                            id="ref-for-keyframe-offset①①">キーフレームオフセット</a>に割り当てる。どちらかの末尾まで。</p>
                                <li data-md>
                                    <p><var>easings</var>を、<var>property-indexed keyframe</var>の"easing"メンバー型により次のように設定：
                                    </p>
                                    <div class="switch">
                                        <dl>
                                            <dt data-md><code>sequence&lt;DOMString></code>の場合
                                            <dd data-md>
                                                <p>"easing"そのもの。</p>
                                            <dt data-md><code>DOMString</code>の場合
                                            <dd data-md>
                                                <p>長さ1のシーケンスで、値は"easing"のみ（« "easing" »）。</p>
                                        </dl>
                                    </div>
                                <li data-md>
                                    <p><var>easings</var>が空なら、長さ1で値"linear"（« "linear" »）にする。</p>
                                <li data-md>
                                    <p><var>easings</var>が<var>processed keyframes</var>より少なければ、先頭から繰り返して同数にする。</p>
                                    <div class="example" id="example-649bc6e3"><a class="self-link"
                                            href="#example-649bc6e3"></a> 例えば、<var>processed
                                            keyframes</var>が5件、<var>easings</var>が« "ease-in", "ease-out"
                                        »なら、<var>easings</var>は« "ease-in", "ease-out", "ease-in", "ease-out", "ease-in"
                                        »になります。</div>
                                <li data-md>
                                    <p><var>easings</var>が<var>processed keyframes</var>より多ければ、余剰分を<var>unused
                                            easings</var>として保持。</p>
                                <li data-md>
                                    <p><var>easings</var>の各値を、対応する位置の<a data-link-type="dfn" href="#keyframe"
                                            id="ref-for-keyframe⑥⑥">キーフレーム</a>の"easing"プロパティに割り当てる。</p>
                                <li data-md>
                                    <p><var>property-indexed keyframe</var>の"composite"メンバーが空でない場合：</p>
                                    <ol>
                                        <li data-md>
                                            <p><var>composite modes</var>を"composite"メンバーから<code
                                                    class="idl"><a data-link-type="idl" href="#enumdef-compositeoperationorauto" id="ref-for-enumdef-compositeoperationorauto④">CompositeOperationOrAuto</a></code>値のシーケンスとして作成。単一値なら長さ1でその値のみ。
                                            </p>
                                        <li data-md>
                                            <p><var>composite modes</var>が<var>processed
                                                    keyframes</var>より少なければ、先頭から繰り返して同数にする。</p>
                                        <li data-md>
                                            <p><code
                                                    class="idl"><a data-link-type="idl" href="#dom-compositeoperationorauto-auto" id="ref-for-dom-compositeoperationorauto-auto②">auto</a></code>以外の値を、対応する位置の<a
                                                    data-link-type="dfn" href="#keyframe-specific-composite-operation"
                                                    id="ref-for-keyframe-specific-composite-operation⑤">キーフレーム固有の合成操作</a>に割り当てる。
                                            </p>
                                    </ol>
                            </ol>
                    </dl>
                </div>
            <li data-md>
                <p><var>processed keyframes</var>が<a data-link-type="dfn" href="#loosely-sorted-by-offset"
                        id="ref-for-loosely-sorted-by-offset">オフセットでゆるくソート</a>されていなければ、<span
                        class="exceptionname">TypeError</span>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①④">throw</a>して以降を中止する。
                </p>
            <li data-md>
                <p><var>processed keyframes</var>内で<a data-link-type="dfn" href="#keyframe"
                        id="ref-for-keyframe⑥⑧">キーフレーム</a>の<a data-link-type="dfn" href="#keyframe-offset"
                        id="ref-for-keyframe-offset①②">キーフレームオフセット</a>が非nullかつ0未満または1超過があれば、<span
                        class="exceptionname">TypeError</span>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑤">throw</a>して以降を中止する。
                </p>
            <li data-md>
                <p><var>processed keyframes</var>内の各<var>frame</var>について：</p>
                <ol>
                    <li data-md>
                        <p>各プロパティ値ペアについて、プロパティで定められた構文で値をパースする。</p>
                        <p>構文的に無効ならペアを破棄。診断機能を持つユーザーエージェントは適切な警告を出すことが推奨される。</p>
                    <li data-md>
                        <p><var>frame</var>の<a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-easing-1/#easing-function"
                                id="ref-for-easing-function①⑥">タイミング関数</a>を、<var>frame</var>の"easing"プロパティをCSS構文（<code
                                class="idl"><a data-link-type="idl" href="#dom-effecttiming-easing" id="ref-for-dom-effecttiming-easing④">easing</a></code>メンバー、<code
                                class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming①②">EffectTiming</a></code>辞書で定義）でパースした結果とする。
                        </p>
                        <p>パース失敗なら<span class="exceptionname">TypeError</span>を<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw"
                                id="ref-for-dfn-throw①⑥">throw</a>してこの手順を中止する。</p>
                        <p class="note" role="note"><span>注:</span>
                            上記2手順でCSSパーサーを使うため、CSSコメントやエスケープは許容されるが、パース成功時は値に保持されない。</p>
                        <p class="note" role="note"><span>注:</span>
                            "easing"プロパティのパース失敗時は、<var>object</var>から全プロパティを読み終えた後に必ず<span
                                class="exceptionname">TypeError</span>をthrowすること。そうしないと挙動がobservableになり、将来WebIDLで部分的にオープンな辞書型がサポートされた場合と一致しなくなる。
                        </p>
                </ol>
            <li data-md>
                <p><var>unused easings</var>内の各値を、<code
                        class="idl"><a data-link-type="idl" href="#dom-effecttiming-easing" id="ref-for-dom-effecttiming-easing⑤">easing</a></code>メンバー（<code
                        class="idl"><a data-link-type="idl" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming①③">EffectTiming</a></code>インターフェース）で定義されたCSS構文でパースし、失敗したら<span
                        class="exceptionname">TypeError</span>を<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑦">throw</a>してこの手順を中止する。
                </p>
                <div class="note" role="note">
                    <p>この最終ステップは、次のすべてのケースで一貫した挙動（<span class="exceptionname">TypeError</span>がthrowされる）を保証するために必要です：
                    </p>
                    <pre class="lang-javascript highlight">elem<c- p>.</c->animate<c- p>({</c-> easing<c- o>:</c-> <c- t>'invalid'</c-> <c- p>});</c->
elem<c- p>.</c->animate<c- p>({</c-> easing<c- o>:</c-> <c- p>[</c-><c- t>'invalid'</c-><c- p>]</c-> <c- p>});</c->
elem<c- p>.</c->animate<c- p>([{</c-> easing<c- o>:</c-> <c- t>'invalid'</c-> <c- p>}]);</c->
</pre>
                </div>
        </ol>
        <h4 class="heading settled" data-level="6.6.4" id="the-keyframeeffectoptions-dictionary"><span
                class="secno">6.6.4. </span><span class="content"><code>KeyframeEffectOptions</code>辞書</span><a
                class="self-link" href="#the-keyframeeffectoptions-dictionary"></a></h4>
        <p><code class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-keyframeeffect" id="ref-for-dom-keyframeeffect-keyframeeffect④">KeyframeEffect(target, keyframes,
options)</a></code> コンストラクタに追加パラメータとして <code
                class="idl"><a data-link-type="idl" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions⑥">KeyframeEffectOptions</a></code>
            オブジェクトを渡すことができます。</p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-keyframeeffectoptions"><code><c- g>KeyframeEffectOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-effecttiming" id="ref-for-dictdef-effecttiming①④"><c- n>EffectTiming</c-></a> {
    <a data-link-type="idl-name" href="#enumdef-compositeoperation" id="ref-for-enumdef-compositeoperation②"><c- n>CompositeOperation</c-></a> <a class="idl-code" data-default="&quot;replace&quot;" data-link-type="dict-member" data-type="CompositeOperation " href="#dom-keyframeeffectoptions-composite" id="ref-for-dom-keyframeeffectoptions-composite"><c- g>composite</c-></a> = "replace";
    <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a>?       <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="CSSOMString?       " href="#dom-keyframeeffectoptions-pseudoelement" id="ref-for-dom-keyframeeffectoptions-pseudoelement②"><c- g>pseudoElement</c-></a> = <c- b>null</c->;
};
</pre>
        <div class="members">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffectOptions"
                        data-dfn-type="dict-member" data-export
                        id="dom-keyframeeffectoptions-composite"><code>composite</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#enumdef-compositeoperation"
                            id="ref-for-enumdef-compositeoperation③">CompositeOperation</a>、デフォルト値
                        <code>"replace"</code></span>
                <dd data-md>
                    <p>このアニメーションを<a data-link-type="dfn" href="#effect-stack"
                            id="ref-for-effect-stack①⑥">効果スタック</a>と合成する際に使用する<a data-link-type="dfn"
                            href="#composite-operation" id="ref-for-composite-operation①⑦">合成操作</a>。<a
                            data-link-type="dfn" href="#compositeoperation"
                            id="ref-for-compositeoperation①">CompositeOperation</a>列挙型値で指定されます。
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-compositeoperationorauto-auto" id="ref-for-dom-compositeoperationorauto-auto③">auto</a></code>の<a
                            data-link-type="dfn" href="#keyframe-specific-composite-operation"
                            id="ref-for-keyframe-specific-composite-operation⑥">キーフレーム固有の合成操作</a>を指定した全ての<a
                            data-link-type="dfn" href="#keyframe" id="ref-for-keyframe⑥⑨">キーフレーム</a>に適用されます。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeEffectOptions"
                        data-dfn-type="dict-member" data-export
                        id="dom-keyframeeffectoptions-pseudoelement"><code>pseudoElement</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                            id="ref-for-cssomstring③">CSSOMString</a>、null許容、デフォルト値<code>null</code></span>
                <dd data-md>
                    <p>指定する<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element"
                            id="ref-for-pseudo-element⑤">疑似要素</a>セレクタ（有効な値または<code>null</code>）。<a data-link-type="dfn"
                            href="#effect-target-target-element"
                            id="ref-for-effect-target-target-element⑦">ターゲット要素</a>が与えられている場合の<a data-link-type="dfn"
                            href="#keyframe-effect-effect-target"
                            id="ref-for-keyframe-effect-effect-target②③">効果ターゲット</a>を指定します。</p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.7" id="the-compositeoperation-enumeration"><span class="secno">6.7.
            </span><span
                class="content"><code>CompositeOperation</code>および<code>CompositeOperationOrAuto</code>列挙型</span><a
                class="self-link" href="#the-compositeoperation-enumeration"></a></h3>
        <p><a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect④①">キーフレーム効果</a>の合成動作の値は<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="compositeoperation">CompositeOperation</dfn>列挙型で表されます。</p>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-compositeoperation"><code><c- g>CompositeOperation</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-replace" id="ref-for-dom-compositeoperation-replace"><c- s>"replace"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-add" id="ref-for-dom-compositeoperation-add"><c- s>"add"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-accumulate" id="ref-for-dom-compositeoperation-accumulate"><c- s>"accumulate"</c-></a> };
</pre>
        <dl>
            <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="CompositeOperation,CompositeOperationOrAuto"
                    data-dfn-type="enum-value" data-export data-lt="&quot;replace&quot;|replace"
                    id="dom-compositeoperation-replace"><code>replace</code></dfn>
            <dd data-md>
                <p><a data-link-type="dfn" href="#composite-operation-replace"
                        id="ref-for-composite-operation-replace②">replace</a>合成操作に対応し、<a data-link-type="dfn"
                        href="#animation-effect" id="ref-for-animation-effect①①②">アニメーション効果</a>は<a data-link-type="dfn"
                        href="#underlying-value" id="ref-for-underlying-value①⑤">基底値</a>を上書きします。</p>
            <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="CompositeOperation,CompositeOperationOrAuto"
                    data-dfn-type="enum-value" data-export data-lt="&quot;add&quot;|add"
                    id="dom-compositeoperation-add"><code>add</code></dfn>
            <dd data-md>
                <p><a data-link-type="dfn" href="#composite-operation-add"
                        id="ref-for-composite-operation-add③">add</a>合成操作に対応し、<a data-link-type="dfn"
                        href="#animation-effect" id="ref-for-animation-effect①①③">アニメーション効果</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-values-4/#addition" id="ref-for-addition②">加算</a>で<a
                        data-link-type="dfn" href="#underlying-value" id="ref-for-underlying-value①⑥">基底値</a>と合成されます。
                </p>
            <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="CompositeOperation,CompositeOperationOrAuto"
                    data-dfn-type="enum-value" data-export data-lt="&quot;accumulate&quot;|accumulate"
                    id="dom-compositeoperation-accumulate"><code>accumulate</code></dfn>
            <dd data-md>
                <p><a data-link-type="dfn" href="#composite-operation-accumulate"
                        id="ref-for-composite-operation-accumulate">accumulate</a>合成操作に対応し、<a data-link-type="dfn"
                        href="#animation-effect" id="ref-for-animation-effect①①④">アニメーション効果</a>は<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-values-4/#accumulation" id="ref-for-accumulation②">累積</a>で<a
                        data-link-type="dfn" href="#underlying-value" id="ref-for-underlying-value①⑦">基底値</a>と合成されます。
                </p>
        </dl>
        <p><a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe⑦⓪">キーフレーム</a>の合成動作で使える値は<code
                class="idl"><a data-link-type="idl" href="#enumdef-compositeoperation" id="ref-for-enumdef-compositeoperation④">CompositeOperation</a></code>
            列挙型値に加え、<code
                class="idl"><a data-link-type="idl" href="#dom-compositeoperationorauto-auto" id="ref-for-dom-compositeoperationorauto-auto④">auto</a></code>が追加されます。
        </p>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-compositeoperationorauto"><code><c- g>CompositeOperationOrAuto</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-replace" id="ref-for-dom-compositeoperation-replace①"><c- s>"replace"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-add" id="ref-for-dom-compositeoperation-add①"><c- s>"add"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-accumulate" id="ref-for-dom-compositeoperation-accumulate①"><c- s>"accumulate"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperationorauto-auto" id="ref-for-dom-compositeoperationorauto-auto⑤"><c- s>"auto"</c-></a> };
</pre>
        <dl>
            <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="CompositeOperationOrAuto"
                    data-dfn-type="enum-value" data-export data-lt="&quot;auto&quot;|auto"
                    id="dom-compositeoperationorauto-auto"><code>auto</code></dfn>
            <dd data-md>
                <p>関連付けられた<a data-link-type="dfn" href="#keyframe-effect" id="ref-for-keyframe-effect④②">キーフレーム効果</a>の<a
                        data-link-type="dfn" href="#composite-operation"
                        id="ref-for-composite-operation②①">合成操作</a>を使用することを示します。</p>
        </dl>
        <h3 class="heading settled" data-level="6.8" id="the-animatable-interface-mixin"><span class="secno">6.8.
            </span><span class="content"><code>Animatable</code>インターフェースミックスイン</span><a class="self-link"
                href="#the-animatable-interface-mixin"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect①②">KeyframeEffect</a></code>
            オブジェクトのターゲットとなる可能性があるオブジェクトは、
            <code class="idl"><a data-link-type="idl" href="#animatable" id="ref-for-animatable②">Animatable</a></code>
            インターフェースミックスインを実装します。
        </p>
        <pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="animatable"><code><c- g>Animatable</c-></code></dfn> {
    <a data-link-type="idl-name" href="#animation" id="ref-for-animation⑧"><c- n>Animation</c-></a>           <a class="idl-code" data-link-type="method" href="#dom-animatable-animate" id="ref-for-dom-animatable-animate②"><c- g>animate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object③"><c- b>object</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-animatable-animate-keyframes-options-keyframes" id="ref-for-dom-animatable-animate-keyframes-options-keyframes"><c- g>keyframes</c-></a>,
                                <c- b>optional</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①②"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-keyframeanimationoptions" id="ref-for-dictdef-keyframeanimationoptions①"><c- n>KeyframeAnimationOptions</c-></a>) <a class="idl-code" data-link-type="argument" href="#dom-animatable-animate-keyframes-options-options" id="ref-for-dom-animatable-animate-keyframes-options-options"><c- g>options</c-></a> = {});
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#animation" id="ref-for-animation⑨"><c- n>Animation</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-animatable-getanimations" id="ref-for-dom-animatable-getanimations"><c- g>getAnimations</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-getanimationsoptions" id="ref-for-dictdef-getanimationsoptions"><c- n>GetAnimationsOptions</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-animatable-getanimations-options-options" id="ref-for-dom-animatable-getanimations-options-options"><c- g>options</c-></a> = {});
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-keyframeanimationoptions"><code><c- g>KeyframeAnimationOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-keyframeeffectoptions" id="ref-for-dictdef-keyframeeffectoptions⑦"><c- n>KeyframeEffectOptions</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-keyframeanimationoptions-id" id="ref-for-dom-keyframeanimationoptions-id"><c- g>id</c-></a> = "";
    <a data-link-type="idl-name" href="#animationtimeline" id="ref-for-animationtimeline⑤"><c- n>AnimationTimeline</c-></a>? <a class="idl-code" data-link-type="dict-member" data-type="AnimationTimeline? " href="#dom-keyframeanimationoptions-timeline" id="ref-for-dom-keyframeanimationoptions-timeline"><c- g>timeline</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-getanimationsoptions"><code><c- g>GetAnimationsOptions</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-default="false" data-link-type="dict-member" data-type="boolean " href="#dom-getanimationsoptions-subtree" id="ref-for-dom-getanimationsoptions-subtree"><c- g>subtree</c-></a> = <c- b>false</c->;
};
</pre>
        <div class="methods">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animatable" data-dfn-type="method"
                        data-export data-lt="animate(keyframes, options)|animate(keyframes)"
                        id="dom-animatable-animate"><code>Animation animate(keyframes, options)</code></dfn>
                <dd data-md>
                    <p>以下の手順を実行します：</p>
                    <ol>
                        <li data-md>
                            <p><var>target</var>をこのメソッドが呼び出されたオブジェクトとする。</p>
                        <li data-md>
                            <p><var>target</var>の<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                    id="ref-for-concept-relevant-realm⑥">関連Realm</a>で、新しい<code
                                    class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect①③">KeyframeEffect</a></code>
                                オブジェクト<var>effect</var>を、<code class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-keyframeeffect" id="ref-for-dom-keyframeeffect-keyframeeffect⑤">KeyframeEffect(target, keyframes,
options)</a></code>コンストラクタと同じ手順で、<var>target</var>を<var>target</var>引数、<var>keyframes</var>と<var>options</var>を渡して構築する。
                            </p>
                            <p>この手順で例外が発生した場合は、その例外を伝播させてこの手順を中止する。</p>
                        <li data-md>
                            <p><var>options</var>が<code
                                    class="idl"><a data-link-type="idl" href="#dictdef-keyframeanimationoptions" id="ref-for-dictdef-keyframeanimationoptions②">KeyframeAnimationOptions</a></code>
                                オブジェクトの場合、<var>timeline</var>は<var>options</var>の<code>timeline</code>メンバーか、なければこのメソッドを呼び出した要素の<a
                                    data-link-type="dfn" href="#document-default-document-timeline"
                                    id="ref-for-document-default-document-timeline⑦">デフォルトドキュメントタイムライン</a>（<a
                                    data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document"
                                    id="ref-for-concept-node-document">ノードドキュメント</a>）とする。</p>
                        <li data-md>
                            <p><var>target</var>の<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                    id="ref-for-concept-relevant-realm⑦">関連Realm</a>で、新しい<code
                                    class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation①⓪">Animation</a></code>
                                オブジェクト<var>animation</var>を、<code
                                    class="idl"><a data-link-type="idl" href="#dom-animation-animation" id="ref-for-dom-animation-animation①">Animation()</a></code>コンストラクタと同じ手順で<var>effect</var>と<var>timeline</var>を渡して構築する。
                            </p>
                        <li data-md>
                            <p><var>options</var>が<code
                                    class="idl"><a data-link-type="idl" href="#dictdef-keyframeanimationoptions" id="ref-for-dictdef-keyframeanimationoptions③">KeyframeAnimationOptions</a></code>
                                オブジェクトの場合、<var>options</var>の<code>id</code>メンバーの値を<var>animation</var>の<code
                                    class="idl"><a data-link-type="idl" href="#dom-animation-id" id="ref-for-dom-animation-id①">id</a></code>属性に代入する。
                            </p>
                        <li data-md>
                            <p><var>animation</var>に対して<var>auto-rewind</var>フラグtrueで<a data-link-type="dfn"
                                    href="#play-an-animation" id="ref-for-play-an-animation⑤">アニメーションの再生</a>手順を実行する。</p>
                        <li data-md>
                            <p><var>animation</var>を返す。</p>
                    </ol>
                    <div class="informative-bg">
                        <em>この節は非規範的です</em>
                        <p>下記のコード断片：</p>
                        <pre
                            class="lang-javascript highlight"><c- a>var</c-> animation <c- o>=</c-> elem<c- p>.</c->animate<c- p>({</c-> opacity<c- o>:</c-> <c- mf>0</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c-></pre>
                        <p>は概ね下記と等価です：</p>
                        <pre class="lang-javascript highlight"><c- a>var</c-> effect <c- o>=</c-> <c- ow>new</c-> KeyframeEffect<c- p>(</c->elem<c- p>,</c-> <c- p>{</c-> opacity<c- o>:</c-> <c- mf>0</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c->
<c- a>var</c-> animation <c- o>=</c-> <c- ow>new</c-> Animation<c- p>(</c->effect<c- p>,</c-> elem<c- p>.</c->ownerDocument<c- p>.</c->timeline<c- p>);</c->
animation<c- p>.</c->play<c- p>();</c-></pre>
                    </div>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="Animatable/animate(keyframes, options)" data-dfn-type="argument"
                                    data-export
                                    id="dom-animatable-animate-keyframes-options-keyframes"><code>keyframes</code></dfn>
                            <dd data-md>
                                <p>使用する<a data-link-type="dfn" href="#keyframe" id="ref-for-keyframe⑦①">キーフレーム</a>。
                                    この値は<code class="idl"><a data-link-type="idl" href="#dom-keyframeeffect-keyframeeffect" id="ref-for-dom-keyframeeffect-keyframeeffect⑥">KeyframeEffect(target, keyframes,
options)</a></code>コンストラクタの<var>keyframes</var>引数に渡され、その解釈はそのコンストラクタの定義通りです。</p>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="Animatable/animate(keyframes, options)" data-dfn-type="argument"
                                    data-export
                                    id="dom-animatable-animate-keyframes-options-options"><code>options</code></dfn>
                            <dd data-md>
                                <p>作成される<code
                                        class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect①④">KeyframeEffect</a></code>
                                    および<code
                                        class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation①①">Animation</a></code>
                                    のタイミング・アニメーションオプションです。</p>
                        </dl>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Animatable" data-dfn-type="method"
                        data-export data-lt="getAnimations(options)|getAnimations()"
                        id="dom-animatable-getanimations"><code> sequence&lt;Animation> getAnimations(options)</code></dfn>
                <dd data-md>
                    <p>このオブジェクトの<a data-link-type="dfn" href="#relevant-animations"
                            id="ref-for-relevant-animations">関連アニメーション</a>の集合を返します。また、
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-animatable-getanimations-options-options" id="ref-for-dom-animatable-getanimations-options-options①">options</a></code>
                        パラメータが渡され、
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-getanimationsoptions-subtree" id="ref-for-dom-getanimationsoptions-subtree①">subtree</a></code>
                        がtrueに設定されている場合は、
                        このオブジェクトに対する<a data-link-type="dfn" href="#relevant-animations-for-a-subtree"
                            id="ref-for-relevant-animations-for-a-subtree">サブツリーの関連アニメーション</a>の集合を返します。
                    </p>
                    <p>返却リストは、<a href="#the-effect-stack">§ 5.4.2 効果スタック</a>で説明される合成順に、効果に関連付けられた<a data-link-type="dfn"
                            href="#concept-animation" id="ref-for-concept-animation⑦①">アニメーション</a>でソートされます。</p>
                    <p>このメソッド呼び出しは<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                            id="ref-for-style-change-event①">スタイル変更イベント</a>をターゲット要素に発火します。
                        そのため、返却リストはアニメーション関連のスタイルプロパティの未処理変更など、保留中のスタイル変更適用後の状態を反映します。</p>
                    <div class="parameters">
                        <dl>
                            <dt data-md><dfn class="dfn-paneled idl-code"
                                    data-dfn-for="Animatable/getAnimations(options)" data-dfn-type="argument"
                                    data-export
                                    id="dom-animatable-getanimations-options-options"><code>options</code></dfn>
                            <dd data-md>
                                <p><code
                                        class="idl"><a data-link-type="idl" href="#dom-animatable-getanimations" id="ref-for-dom-animatable-getanimations①">getAnimations()</a></code>
                                    で返されるアニメーション集合を制御するパラメータ。</p>
                        </dl>
                    </div>
            </dl>
        </div>
        <div class="members">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeAnimationOptions"
                        data-dfn-type="dict-member" data-export
                        id="dom-keyframeanimationoptions-id"><code>id</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString"
                            id="ref-for-idl-DOMString①②">DOMString</a>、デフォルト値<code>""</code></span>
                <dd data-md>
                    <p>生成される<code
                            class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation①②">Animation</a></code>の<code
                            class="idl"><a data-link-type="idl" href="#dom-animation-id" id="ref-for-dom-animation-id②">id</a></code>属性に代入する文字列。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="KeyframeAnimationOptions"
                        data-dfn-type="dict-member" data-export
                        id="dom-keyframeanimationoptions-timeline"><code>timeline</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#animationtimeline"
                            id="ref-for-animationtimeline⑥">AnimationTimeline</a>、null許容</span>
                <dd data-md>
                    <p>オプション値。指定すれば新しく作成される<a data-link-type="dfn" href="#concept-animation"
                            id="ref-for-concept-animation⑦②">アニメーション</a>に関連付ける<a data-link-type="dfn" href="#timeline"
                            id="ref-for-timeline⑤⑨">タイムライン</a>を指定します。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="GetAnimationsOptions"
                        data-dfn-type="dict-member" data-export
                        id="dom-getanimationsoptions-subtree"><code>subtree</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-boolean"
                            id="ref-for-idl-boolean③">boolean</a>、デフォルト値<code>false</code></span>
                <dd data-md>
                    <p>trueの場合、<code
                            class="idl"><a data-link-type="idl" href="#dom-animatable-getanimations" id="ref-for-dom-animatable-getanimations②">getAnimations()</a></code>
                        を呼び出したオブジェクトの<a data-link-type="dfn" href="#effect-target-target-element"
                            id="ref-for-effect-target-target-element⑨">ターゲット要素</a>が<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-tree-descendant"
                            id="ref-for-concept-tree-descendant②">子孫</a>となる<a data-link-type="dfn"
                            href="#animation-effect" id="ref-for-animation-effect①①⑤">アニメーション効果</a>に関連付けられた<a
                            data-link-type="dfn" href="#concept-animation"
                            id="ref-for-concept-animation⑦③">アニメーション</a>も結果に含めます。</p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.9" id="extensions-to-the-document-interface"><span class="secno">6.9.
            </span><span class="content"><code>Document</code>インターフェースへの拡張</span><a class="self-link"
                href="#extensions-to-the-document-interface"></a></h3>
        <p>以下の拡張は、<a class="idl" data-link-type="idl" href="https://html.spec.whatwg.org/#document"
                id="ref-for-document①①">Document</a>インターフェース（<a data-link-type="biblio"
                href="#biblio-dom">[DOM]</a>で定義）に追加されます。</p>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/#document" id="ref-for-document①②"><c- g>Document</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#documenttimeline" id="ref-for-documenttimeline②"><c- n>DocumentTimeline</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DocumentTimeline" href="#dom-document-timeline" id="ref-for-dom-document-timeline"><c- g>timeline</c-></a>;
};
</pre>
        <div class="attributes">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="Document" data-dfn-type="attribute"
                        data-export id="dom-document-timeline"><code>timeline</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="#documenttimeline"
                            id="ref-for-documenttimeline③">DocumentTimeline</a>、読み取り専用</span>
                <dd data-md>
                    <p><a class="idl" data-link-type="idl" href="#documenttimeline"
                            id="ref-for-documenttimeline④">DocumentTimeline</a>オブジェクト。<a data-link-type="dfn"
                            href="#document-default-document-timeline"
                            id="ref-for-document-default-document-timeline⑧">デフォルトドキュメントタイムライン</a>を表します。</p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.10" id="extensions-to-the-documentorshadowroot-interface-mixin"><span
                class="secno">6.10. </span><span
                class="content"><code>DocumentOrShadowRoot</code>インターフェースミックスインへの拡張</span><a class="self-link"
                href="#extensions-to-the-documentorshadowroot-interface-mixin"></a></h3>
        <p>以下の拡張は、<a class="idl" data-link-type="idl" href="https://dom.spec.whatwg.org/#documentorshadowroot"
                id="ref-for-documentorshadowroot">DocumentOrShadowRoot</a>インターフェースミックスイン（<a data-link-type="biblio"
                href="#biblio-dom">[DOM]</a>で定義）に追加されます。</p>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#documentorshadowroot" id="ref-for-documentorshadowroot①"><c- g>DocumentOrShadowRoot</c-></a> {
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#animation" id="ref-for-animation①③"><c- n>Animation</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-documentorshadowroot-getanimations" id="ref-for-dom-documentorshadowroot-getanimations"><c- g>getAnimations</c-></a>();
};
</pre>
        <div class="methods">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DocumentOrShadowRoot" data-dfn-type="method"
                        data-export data-lt="getAnimations()"
                        id="dom-documentorshadowroot-getanimations"><code> sequence&lt;Animation> getAnimations()</code></dfn>
                <dd data-md>
                    <p>このメソッドを呼び出した<a data-link-type="dfn" href="#concept-document"
                            id="ref-for-concept-document②">ドキュメント</a>または<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-shadow-root"
                            id="ref-for-concept-shadow-root②">シャドウルート</a>に対する<a data-link-type="dfn"
                            href="#relevant-animations-for-a-subtree"
                            id="ref-for-relevant-animations-for-a-subtree①">サブツリーの関連アニメーション</a>集合を返します。</p>
                    <p>返却リストは、<a href="#the-effect-stack">§ 5.4.2 効果スタック</a>で説明される合成順に、効果に関連付けられた<a data-link-type="dfn"
                            href="#concept-animation" id="ref-for-concept-animation⑦④">アニメーション</a>でソートされます。</p>
                    <p>このメソッド呼び出しはドキュメントに対し<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                            id="ref-for-style-change-event②">スタイル変更イベント</a>を発火します。
                        そのため、返却リストはアニメーション関連スタイルプロパティの未処理変更など、保留中のスタイル変更適用後の状態を反映します。</p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.11" id="extensions-to-the-element-interface"><span class="secno">6.11.
            </span><span class="content"><code>Element</code>インターフェースへの拡張</span><a class="self-link"
                href="#extensions-to-the-element-interface"></a></h3>
        <p>DOM要素はアニメーションのターゲットとなる可能性があるため、<a class="idl" data-link-type="idl"
                href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑧">Element</a>インターフェース（<a
                data-link-type="biblio" href="#biblio-dom">[DOM]</a>）は次のように拡張されます：</p>
        <pre class="idl highlight def"><a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑨"><c- n>Element</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#animatable" id="ref-for-animatable③"><c- n>Animatable</c-></a>;
</pre>
        <p>これにより、次のような使い方が可能になります。</p>
        <div class="example" id="example-3abce906">
            <a class="self-link" href="#example-3abce906"></a>
            <pre
                class="lang-javascript highlight">elem<c- p>.</c->animate<c- p>({</c-> color<c- o>:</c-> <c- t>'red'</c-> <c- p>},</c-> <c- mf>2000</c-><c- p>);</c-></pre>
        </div>
        <h3 class="heading settled" data-level="6.12" id="the-animationplaybackevent-interface"><span
                class="secno">6.12. </span><span class="content"><code>AnimationPlaybackEvent</code>インターフェース</span><a
                class="self-link" href="#the-animationplaybackevent-interface"></a></h3>
        <p><a data-link-type="dfn" href="#animation-playback-events"
                id="ref-for-animation-playback-events②">アニメーション再生イベント</a>は、<code
                class="idl"><a data-link-type="idl" href="#animationplaybackevent" id="ref-for-animationplaybackevent③">AnimationPlaybackEvent</a></code>
            インターフェースで表現されます。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="animationplaybackevent"><code><c- g>AnimationPlaybackEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-animationplaybackevent-animationplaybackevent" id="ref-for-dom-animationplaybackevent-animationplaybackevent"><c- g>constructor</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①③"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="AnimationPlaybackEvent/AnimationPlaybackEvent(type, eventInitDict), AnimationPlaybackEvent/constructor(type, eventInitDict), AnimationPlaybackEvent/AnimationPlaybackEvent(type), AnimationPlaybackEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-animationplaybackevent-animationplaybackevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-animationplaybackevent-animationplaybackevent-type-eventinitdict-type"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-animationplaybackeventinit" id="ref-for-dictdef-animationplaybackeventinit"><c- n>AnimationPlaybackEventInit</c-></a> <dfn class="idl-code" data-dfn-for="AnimationPlaybackEvent/AnimationPlaybackEvent(type, eventInitDict), AnimationPlaybackEvent/constructor(type, eventInitDict), AnimationPlaybackEvent/AnimationPlaybackEvent(type), AnimationPlaybackEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-animationplaybackevent-animationplaybackevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-animationplaybackevent-animationplaybackevent-type-eventinitdict-eventinitdict"></a></dfn> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑦"><c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="double?" href="#dom-animationplaybackevent-currenttime" id="ref-for-dom-animationplaybackevent-currenttime③"><c- g>currentTime</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑧"><c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="double?" href="#dom-animationplaybackevent-timelinetime" id="ref-for-dom-animationplaybackevent-timelinetime④"><c- g>timelineTime</c-></a>;
};
<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-animationplaybackeventinit"><code><c- g>AnimationPlaybackEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑨"><c- b>double</c-></a>? <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="double? " href="#dom-animationplaybackeventinit-currenttime" id="ref-for-dom-animationplaybackeventinit-currenttime"><c- g>currentTime</c-></a> = <c- b>null</c->;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③⓪"><c- b>double</c-></a>? <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="double? " href="#dom-animationplaybackeventinit-timelinetime" id="ref-for-dom-animationplaybackeventinit-timelinetime"><c- g>timelineTime</c-></a> = <c- b>null</c->;
};
</pre>
        <div class="constructors">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationPlaybackEvent"
                        data-dfn-type="constructor" data-export
                        data-lt="AnimationPlaybackEvent(type, eventInitDict)|constructor(type, eventInitDict)|AnimationPlaybackEvent(type)|constructor(type)"
                        id="dom-animationplaybackevent-animationplaybackevent"><code> AnimationPlaybackEvent(type, eventInitDict)</code></dfn>
                <dd data-md>
                    <p><a class="idl" data-link-type="idl" href="#animationplaybackevent"
                            id="ref-for-animationplaybackevent④">AnimationPlaybackEvent</a>オブジェクトを、<a
                            data-link-type="dfn" href="https://dom.spec.whatwg.org/#constructing-events"
                            id="ref-for-constructing-events">イベントの構築</a>現行標準で定義された手順に従い構築します（<a data-link-type="biblio"
                            href="#biblio-dom">[DOM]</a>）。</p>
            </dl>
        </div>
        <div class="attributes">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationPlaybackEvent"
                        data-dfn-type="attribute" data-export
                        id="dom-animationplaybackevent-currenttime"><code>currentTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double③①">double</a>、読み取り専用、null許容</span>
                <dd data-md>
                    <p>イベントがキューに入った瞬間に、そのイベントを生成した<a data-link-type="dfn" href="#concept-animation"
                            id="ref-for-concept-animation⑦⑤">アニメーション</a>の<a data-link-type="dfn"
                            href="#animation-current-time" id="ref-for-animation-current-time⑤①">現在時刻</a>。
                        イベント生成時に<span id="ref-for-concept-animation⑦⑥">アニメーション</span>が<a data-link-type="dfn"
                            href="#play-state-idle" id="ref-for-play-state-idle⑦">アイドル</a>状態なら<code
                            class="esvalue">null</code>となります。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationPlaybackEvent"
                        data-dfn-type="attribute" data-export
                        id="dom-animationplaybackevent-timelinetime"><code>timelineTime</code></dfn>, <span> 型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double③②">double</a>、読み取り専用、null許容</span>
                <dd data-md>
                    <p>イベントがキューに入った瞬間、そのイベントを生成した<a data-link-type="dfn" href="#concept-animation"
                            id="ref-for-concept-animation⑦⑦">アニメーション</a>が関連付けられている<a data-link-type="dfn"
                            href="#timeline" id="ref-for-timeline⑥⓪">タイムライン</a>の<a data-link-type="dfn"
                            href="#time-value" id="ref-for-time-value④⑤">時刻値</a>。
                        イベント生成時に<span id="ref-for-concept-animation⑦⑧">アニメーション</span>が<a data-link-type="dfn"
                            href="#inactive-timeline"
                            id="ref-for-inactive-timeline①⑨">アクティブでないタイムライン</a>に関連付けられていた場合は<code
                            class="esvalue">null</code>となります。</p>
            </dl>
        </div>
        <div class="members">
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationPlaybackEventInit"
                        data-dfn-type="dict-member" data-export
                        id="dom-animationplaybackeventinit-currenttime"><code>currentTime</code></dfn>, <span> 型
                        <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double③③">double</a>、null許容、デフォルト値<code>null</code></span>
                <dd data-md>
                    <p><a class="idl" data-link-type="idl" href="#dom-animationplaybackevent-currenttime"
                            id="ref-for-dom-animationplaybackevent-currenttime④">currentTime</a>属性の説明を参照。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationPlaybackEventInit"
                        data-dfn-type="dict-member" data-export
                        id="dom-animationplaybackeventinit-timelinetime"><code>timelineTime</code></dfn>, <span> 型
                        <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double"
                            id="ref-for-idl-double③④">double</a>、null許容、デフォルト値<code>null</code></span>
                <dd data-md>
                    <p><a class="idl" data-link-type="idl" href="#dom-animationplaybackevent-timelinetime"
                            id="ref-for-dom-animationplaybackevent-timelinetime⑤">timelineTime</a>属性の説明を参照。</p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="6.13" id="model-liveness"><span class="secno">6.13. </span><span
                class="content">モデルのライブネス</span><a class="self-link" href="#model-liveness"></a></h3>
        <p>モデルのいずれかの部分に変更が加えられると、タイミングモデル全体が更新され、それに依存するスタイルも更新されます。</p>
        <p>特に記載がない限り、
            この現行標準のプログラミングインターフェース節で定義されたインターフェースの
            メソッド・コンストラクタの呼び出しや、
            メンバーの取得・設定を行っても、
            <em>スタイル変更イベント</em><a data-link-type="dfn"
                href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                id="ref-for-style-change-event③"></a>は発生しません。
        </p>
        <p class="note" role="note"><span>注:</span> この現行標準を拡張する他の現行標準は、<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                id="ref-for-style-change-event④">スタイル変更イベント</a>の要件を、イベントが<em>発生する</em>ような状況を導入して精緻化することが期待されます。
            例えば、
            この現行標準のインターフェースがCSSマークアップで定義された
            アニメーションを表す場合、
            多くのメソッドが指定されたスタイルへの変更を反映するために
            <span id="ref-for-style-change-event⑤">スタイル変更イベント</span>を発生させる必要があります。
        </p>
        <div class="informative-bg">
            <em>この節は非規範的です</em>
            <p>上記要件および現行標準の他の規範的要件に基づき、以下の不変条件が観察できます：</p>
            <dl>
                <dt data-md>Web Animationsモデルに加えた変更は即座に反映される
                <dd data-md>
                    <p>例えば、<code
                            class="idl"><a data-link-type="idl" href="#keyframeeffect" id="ref-for-keyframeeffect①⑤">KeyframeEffect</a></code>
                        が関連付けられた<code
                            class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation①④">Animation</a></code>
                        をプログラミングインターフェース経由でシーク（<a href="#setting-the-current-time-of-an-animation">§ 4.4.4
                            アニメーションの現在時刻の設定</a>参照）した場合、
                        アニメーションの<code>startTime</code>を取得するとモデルの更新状態が即座に反映されます。</p>
                    <div class="example" id="example-f6015dd0">
                        <a class="self-link" href="#example-f6015dd0"></a>
                        <pre
                            class="lang-javascript highlight"><c- c1>// 初期状態では animation.effect.getComputedTiming().localTime は 3000</c->
animation<c- p>.</c->currentTime <c- o>+=</c-> <c- mf>2000</c-><c- p>;</c->
alert<c- p>(</c->animation<c- p>.</c->effect<c- p>.</c->getComputedTiming<c- p>().</c->localTime<c- p>);</c-> <c- c1>// "5000" が表示される</c-></pre>
                    </div>
                <dt data-md>アニメーションで影響を受けるプロパティの算出スタイルを取得すると、最新のアニメーション状態が返る
                <dd data-md>
                    <p>例えば、要素の使用スタイルを
                        新しい<code
                            class="idl"><a data-link-type="idl" href="#animation" id="ref-for-animation①⑤">Animation</a></code>
                        を適用後すぐに取得した場合、
                        新しいアニメーションの結果も値に反映されます。</p>
                    <div class="example" id="example-ac9a1207">
                        <a class="self-link" href="#example-ac9a1207"></a>
                        <pre
                            class="lang-javascript highlight"><c- c1>// opacity を即座に 0 に設定</c->
elem<c- p>.</c->animate<c- p>({</c-> opacity<c- o>:</c-> <c- mf>0</c-> <c- p>},</c-> <c- p>{</c-> fill<c- o>:</c-> <c- t>'forwards'</c-> <c- p>});</c->
alert<c- p>(</c->window<c- p>.</c->getComputedStyle<c- p>(</c->elem<c- p>).</c->opacity<c- p>);</c-> <c- c1>// "0" が表示される</c-></pre>
                    </div>
                <dt data-md>同じタスク内の変更は同期され、変更セット全体がまとめて描画される
                <dd data-md>
                    <p>モデルへの変更が即座に反映されることと、ECMAScriptのrun-to-completionセマンティクスが組み合わさって、
                        例えばスタイルの変更だけが単独で描画され、アニメーションが適用されないような状況は決して起こらないはずです。</p>
                    <div class="example" id="example-a559e918">
                        <a class="self-link" href="#example-a559e918"></a>
                        <pre
                            class="lang-javascript highlight"><c- c1>// Element.animate 非対応ブラウザのためのフェードアウトのフォールバック</c->
<c- c1>//</c->
elem<c- p>.</c->style<c- p>.</c->opacity <c- o>=</c-> <c- t>'0'</c-><c- p>;</c->
elem<c- p>.</c->animate<c- p>([</c-> <c- p>{</c-> opacity<c- o>:</c-> <c- mf>1</c-> <c- p>},</c-> <c- p>{</c-> opacity<c- o>:</c-> <c- mf>0</c-> <c- p>}</c-> <c- p>],</c-> <c- mf>500</c-><c- p>);</c-></pre>
                    </div>
                    <p class="note" role="note"><span>注:</span>
                        ただし上記例では、ユーザーエージェントによっては上記変更が<em>全く反映されていない</em>フレームを描画する場合があります。
                        これは例えば、描画が別プロセスで行われ、上記タスク完了直後にスケジュールされていて、変更がプロセスに伝達される前にレンダリングされる場合に起こり得ます。</p>
                <dt data-md><code>currentTime</code>属性で取得される<a data-link-type="dfn" href="#document-timeline"
                        id="ref-for-document-timeline⑥">ドキュメントタイムライン</a>の値は、タスク内で変化しない
                <dd data-md>
                    <p><a data-link-type="dfn" href="#timeline" id="ref-for-timeline⑥①">タイムライン</a>が、<a
                            data-link-type="dfn" href="#update-animations-and-send-events"
                            id="ref-for-update-animations-and-send-events④">アニメーション更新とイベント送信</a>手順の実行ごとに
                        <a data-link-type="dfn" href="#timeline-current-time"
                            id="ref-for-timeline-current-time①⓪">現在時刻</a>を更新する要件があるため、
                        同じスクリプトブロック内で長いコードを実行する間に<code>currentTime</code>を2回取得しても、
                        下記例のように同じ値が返ります。
                    </p>
                    <div class="example" id="example-16dafcc0">
                        <a class="self-link" href="#example-16dafcc0"></a>
                        <pre class="lang-javascript highlight"><c- a>var</c-> a <c- o>=</c-> document<c- p>.</c->timeline<c- p>.</c->currentTime<c- p>;</c->
<c- c1>// ... 多くのコード ...</c->
<c- a>var</c-> b <c- o>=</c-> document<c- p>.</c->timeline<c- p>.</c->currentTime<c- p>;</c->
alert<c- p>(</c->b <c- o>-</c-> a<c- p>);</c-> <c- c1>// "0" が表示される</c-></pre>
                    </div>
                <dt data-md><code>requestAnimationFrame</code>コールバックに渡される時刻は <code>document.timeline.currentTime</code>
                    と等しい
                <dd data-md>
                    <p>HTMLの<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model"
                            id="ref-for-event-loop-processing-model">イベントループ処理モデル</a>で、
                        <a data-link-type="dfn" href="#update-animations-and-send-events"
                            id="ref-for-update-animations-and-send-events⑤">アニメーション更新とイベント送信</a>手順が
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html.html#run-the-animation-frame-callbacks"
                            id="ref-for-run-the-animation-frame-callbacks">アニメーションフレームコールバックの実行</a>前に
                        実行されること、そしてそのコールバックに渡される時刻は両手順とも同じ<var>now</var>タイムスタンプが使われることから、
                        <a data-link-type="dfn" href="#document-default-document-timeline"
                            id="ref-for-document-default-document-timeline⑨">デフォルトドキュメントタイムライン</a>の
                        <a data-link-type="dfn" href="#timeline-current-time"
                            id="ref-for-timeline-current-time①①">現在時刻</a>は
                        <code>requestAnimationFrame</code>に渡される時刻と一致するはずです。
                    </p>
                    <div class="example" id="example-a0637e5c">
                        <a class="self-link" href="#example-a0637e5c"></a>
                        <pre class="lang-javascript highlight">window<c- p>.</c->requestAnimationFrame<c- p>(</c-><c- a>function</c-><c- p>(</c->now<c- p>)</c-> <c- p>{</c->
  <c- c1>// "0" が表示される</c->
  alert<c- p>(</c->now <c- o>-</c-> document<c- p>.</c->timeline<c- p>.</c->currentTime<c- p>);</c->
<c- p>});</c-></pre>
                    </div>
                <dt data-md>このプログラミングインターフェースのメソッド呼び出しは通常<em>トランジションを発生させない</em>
                <dd data-md>
                    <p>次の例を考えます：</p>
                    <div class="example" id="example-a8ba32df">
                        <a class="self-link" href="#example-a8ba32df"></a>
                        <pre class="lang-javascript highlight"><c- c1>// トランジション開始点のセットアップ</c->
div<c- p>.</c->style<c- p>.</c->opacity <c- o>=</c-> <c- t>'1'</c-><c- p>;</c->
getComputedStyle<c- p>(</c->div<c- p>).</c->opacity<c- p>;</c->

<c- c1>// トランジション終了点のセットアップ</c->
div<c- p>.</c->style<c- p>.</c->transition <c- o>=</c-> <c- t>'opacity 1s'</c-><c- p>;</c->
div<c- p>.</c->style<c- p>.</c->opacity <c- o>=</c-> <c- t>'0'</c-><c- p>;</c->

<c- c1>// アニメーションを発火</c->
div<c- p>.</c->animate<c- p>({</c-> opacity<c- o>:</c-> <c- p>[</c-><c- mf>0.5</c-><c- p>,</c-> <c- mf>1</c-><c- p>]</c-> <c- p>},</c-> <c- mf>500</c-><c- p>);</c->

<c- c1>// トランジション終了待ち -- 下記は決して呼ばれない！</c->
div<c- p>.</c->addEventListener<c- p>(</c-><c- t>'transitionend'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- t>'transitionend'</c-><c- p>);</c->
<c- p>});</c-></pre>
                    </div>
                    <p>この場合、<code
                            class="idl"><a data-link-type="idl" href="#dom-animatable-animate" id="ref-for-dom-animatable-animate③">animate()</a></code>
                        を呼び出しても<em>スタイル変更イベント</em><a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-transitions-1/#style-change-event"
                            id="ref-for-style-change-event⑥"></a>は発生しません。
                        その結果、保留中のスタイル変更は新しいアニメーションによるスタイル変更と同時に処理されます。
                        アニメーションスタイルが
                        <a data-link-type="dfn" href="https://www.w3.org/TR/css-transitions-1/#before-change-style"
                            id="ref-for-before-change-style">変更前スタイル</a>や<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-transitions-1/#after-change-style"
                            id="ref-for-after-change-style">変更後スタイル</a>を上書きするため、
                        トランジションは生成されず、
                        <a data-link-type="dfn" href="https://drafts.csswg.org/css-transitions/#transitionend"
                            id="ref-for-transitionend">transitionend</a>イベントのイベントハンドラは決して呼ばれません。
                    </p>
            </dl>
        </div>
        <h2 class="heading settled" data-level="7" id="integration-with-media-fragments"><span class="secno">7.
            </span><span class="content">メディアフラグメントとの統合</span><a class="self-link"
                href="#integration-with-media-fragments"></a></h2>
        <p>Media Fragments現行標準<a data-link-type="biblio"
                href="#biblio-media-frags">[MEDIA-FRAGS]</a>は、メディアリソースの時間的範囲を指定する手段を定義しています。
            メディアフラグメントの適用は、指定されたリソースのMIMEタイプに依存します。
            <a data-link-type="dfn" href="https://svgwg.org/svg2-draft/mimereg.html#mime-registration"
                id="ref-for-mime-registration">SVG
                MIMEタイプ</a>のリソース<a data-link-type="biblio" href="#biblio-svg11">[SVG11]</a>では、時間パラメータの適用は<a
                href="https://svgwg.org/specs/animation-elements/"> Animation Elements</a>現行標準で定義されています。
        </p>
        <p class="note" role="note"><span>注:</span> メディアフラグメントはリソースのMIMEタイプに基づいて動作するよう定義されています。
            そのため、Web Animationsコンテンツが使用されるすべての場面で時間的指定がサポートされるとは限りません。</p>
        <h2 class="heading settled" data-level="8" id="interaction-with-page-display"><span class="secno">8.
            </span><span class="content">ページ表示との連携</span><a class="self-link" href="#interaction-with-page-display"></a>
        </h2>
        <p>HTMLはユーザーエージェントが<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#an-entry-with-persisted-user-state"
                id="ref-for-an-entry-with-persisted-user-state">ユーザーエージェント定義の状態</a>を
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#session-history-entry"
                id="ref-for-session-history-entry">セッション履歴エントリ</a>と共に保存できることを許可しており、ユーザーがページ間を移動する際に
            ページの以前の状態（スクロール位置など<a data-link-type="biblio" href="#biblio-html">[HTML]</a>）を復元できます。
        </p>
        <p>参照ドキュメントがアンロード・遷移された際に<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element"
                id="ref-for-media-element①">メディア要素</a>を一時停止・再開するユーザーエージェントは、
            Web Animationsコンテンツを含むドキュメントにも一貫した扱いを適用することが推奨されます。
            もし提供される場合、この動作は、壁時計時間を追跡する<a data-link-type="dfn" href="#timeline" id="ref-for-timeline⑥②">タイムライン</a>すべての<a
                data-link-type="dfn" href="#time-value" id="ref-for-time-value④⑥">時刻値</a>を調整することで達成すべきです。</p>
        <p class="issue" id="issue-a128cfff"><a class="self-link" href="#issue-a128cfff"></a> これは、
            <a data-link-type="dfn" href="#time-value" id="ref-for-time-value④⑦">時刻値</a>が <code>navigationStart</code>
            基準で、
            <code>requestAnimationFrame</code>が <code>document.timeline.currentTime</code> と同じ時刻を使うことと矛盾しないか？ <a
                href="https://github.com/w3c/csswg-drafts/issues/2083">[Issue
                #2083]</a>
        </p>
        <h2 class="heading settled" data-level="9" id="implementation-requirements"><span class="secno">9. </span><span
                class="content">実装要件</span><a class="self-link" href="#implementation-requirements"></a></h2>
        <h3 class="heading settled" data-level="9.1" id="precision-of-time-values"><span class="secno">9.1. </span><span
                class="content">時刻値の精度</span><a class="self-link" href="#precision-of-time-values"></a></h3>
        <p>時刻値の内部表現は実装依存ですが、ユーザーエージェントは入力時刻値をマイクロ秒精度で表現できることが<strong>推奨</strong>されます。これにより、ミリ秒を名目上表す<a
                data-link-type="dfn" href="#time-value" id="ref-for-time-value④⑧">時刻値</a>0.001と0.0を区別できるようになります。</p>
        <h3 class="heading settled" data-level="9.2" id="conformance-criteria"><span class="secno">9.2. </span><span
                class="content">適合性基準</span><a class="self-link" href="#conformance-criteria"></a></h3>
        <p>この現行標準はアニメーションの抽象モデルを定義しているため、スクリプティング非対応のユーザーエージェントには、テスト可能な表面がないため適合性基準はありません。</p>
        <p>ただし、スクリプティング非対応のユーザーエージェントがこの現行標準に基づく追加技術を実装する場合は、本現行標準で定義された内容が追加技術の適合性基準の一部となります。</p>
        <p><dfn data-dfn-type="dfn" data-export id="conforming-scripted-web-animations-user-agent">適合するスクリプト対応Web
                Animationsユーザーエージェント<a class="self-link"
                    href="#conforming-scripted-web-animations-user-agent"></a></dfn>とは、<a
                href="#programming-interface">§ 6 プログラミングインターフェース</a>で定義された<abbr
                title="Application Programming Interface">API</abbr>を実装するユーザーエージェントです。</p>
        <h2 class="heading settled" data-level="10" id="acknowledgements"><span class="secno">10. </span><span
                class="content">謝辞</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>Steve Block、Michael Giuffrida、Ryan Seys、Eric Willigersの本現行標準への貢献に感謝します。</p>
        <p>また、提案されたスムーズタイミング関数の数式について助言をいただいたMichiel "Pomax" Kamermansにも感謝します（この機能は後続の現行標準に延期されています）。</p>
        <p>放送用アニメーション制作のプロセスと技術を編集者に親切に紹介してくださり、寛大なご協力とご辛抱をいただいた<a href="http://www.endemolshine.com.au">Southern Star
                Animation</a>の皆様に深く感謝いたします。</p>
        <h2 class="heading settled" data-level="11" id="changes-since-last-publication"><span class="secno">11.
            </span><span class="content">前回公開以降の変更点</span><a class="self-link"
                href="#changes-since-last-publication"></a></h2>
        <p>以下は<a href="https://www.w3.org/TR/2022/WD-web-animations-1-20220908/">2022年9月8日ワーキングドラフト</a>以降の変更点です：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#set-the-playback-rate"
                        id="ref-for-set-the-playback-rate③">再生速度の設定</a>手順を更新し、非単調タイムラインで再生速度が反転した場合に開始時刻を維持し、開始時刻位置を入れ替えるようにしました。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#relevant-animations"
                        id="ref-for-relevant-animations①">関連アニメーション</a>の定義を他仕様で再利用できるように分離しました。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#current"
                        id="ref-for-current③">現在</a>のアニメーション効果の定義を更新し、非アイドル状態かつ非増加タイムラインに関連付けられていれば現在とみなすようにしました。</p>
            <li data-md>
                <p><a href="#fill-behavior">§ 4.6 塗りの挙動</a>セクションのコード例を修正しました。</p>
        </ul>
        <p><a href="https://github.com/w3c/csswg-drafts/commits/main/web-animations-1">changelog</a>で詳細履歴を確認できます。</p>
        <h2 class="heading settled" id="animation-types"><span class="content">付録A：既存プロパティのアニメーション型</span><a
                class="self-link" href="#animation-types"></a></h2>
        <p>通常、プロパティの<a data-link-type="dfn" href="#animation-type"
                id="ref-for-animation-type①⓪">アニメーション型</a>は定義とともに記載されています。
            しかし、古い仕様や成熟度の高い仕様で定義されたプロパティには
            <span id="ref-for-animation-type①①">アニメーション型</span>情報が記載されていない場合があります。
            そのようなプロパティは、以下の例外を除き、すべて<a data-link-type="dfn" href="#by-computed-value"
                id="ref-for-by-computed-value③">算出値による</a><span id="ref-for-animation-type①②">アニメーション型</span>とみなします。
        </p>
        <h3 class="heading settled" id="animating-font-weight"><span class="content"><a class="property css"
                    data-link-type="property" href="https://www.w3.org/TR/css-fonts-4/#propdef-font-weight"
                    id="ref-for-propdef-font-weight">font-weight</a>のアニメーション</span><a class="self-link"
                href="#animating-font-weight"></a></h3>
        <p><a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-fonts-4/#propdef-font-weight"
                id="ref-for-propdef-font-weight①">font-weight</a>プロパティ値（レベル4以前）は次のように<a
                href="https://www.w3.org/TR/css-values-4/#combining-values">合成</a>されます：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#interpolation"
                        id="ref-for-interpolation②">補間</a>は100単位の離散ステップで行われます。
                    補間は実数空間で、<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value">&lt;number></a>同様に行われ、最も近い100の倍数に丸められます。
                    100の倍数のちょうど中間の場合は正の無限大方向に丸めます。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#addition"
                        id="ref-for-addition③">加算</a>は、<a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-fonts-4/#propdef-font-weight"
                        id="ref-for-propdef-font-weight②">font-weight</a>値について
                    <var>V<sub>result</sub></var> = <var>V<sub>a</sub></var> + <var>V<sub>b</sub></var>
                </p>
        </ul>
        <p class="note" role="note"><span>注:</span> この定義は<a data-link-type="biblio"
                href="#biblio-css-fonts-4">[CSS-FONTS-4]</a>で廃止されており、font-weight値が100の倍数である必要はなくなりました。
            その場合、<a data-link-type="dfn" href="#animation-type" id="ref-for-animation-type①③">アニメーション型</a>は単に<a
                data-link-type="dfn" href="#by-computed-value" id="ref-for-by-computed-value④">算出値による</a>となります。
        </p>
        <h3 class="heading settled" id="animating-visibility"><span class="content"><a class="property css"
                    data-link-type="property" href="https://www.w3.org/TR/css-display-3/#propdef-visibility"
                    id="ref-for-propdef-visibility">visibility</a>のアニメーション</span><a class="self-link"
                href="#animating-visibility"></a></h3>
        <p><a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-display-3/#propdef-visibility"
                id="ref-for-propdef-visibility①">visibility</a>プロパティについて、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-display-3/#valdef-visibility-visible"
                id="ref-for-valdef-visibility-visible">visible</a>は離散的なステップで<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#interpolation" id="ref-for-interpolation③">補間</a>されます。
            0～1の間の<var>p</var>の値は<span class="css"
                id="ref-for-valdef-visibility-visible①">visible</span>にマップされ、その他の値はより近い端点にマップされます。
            どちらの値も<span class="css" id="ref-for-valdef-visibility-visible②">visible</span>でない場合は<a data-link-type="dfn"
                href="#discrete" id="ref-for-discrete⑤">離散</a>アニメーションとなります。
        </p>
        <h3 class="heading settled" id="animating-shadow-lists"><span class="content"><a class="property css"
                    data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow"
                    id="ref-for-propdef-box-shadow">box-shadow</a>および<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-text-decor-4/#propdef-text-shadow"
                    id="ref-for-propdef-text-shadow">text-shadow</a>のアニメーション</span><a class="self-link"
                href="#animating-shadow-lists"></a></h3>
        <p><a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow"
                id="ref-for-box-shadow①">box-shadow</a>や<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-text-decor-4/#propdef-text-shadow"
                id="ref-for-text-shadow①">text-shadow</a>プロパティのアニメーションは、<a
                href="https://www.w3.org/TR/css-values-4/#combining-values">合成</a>の手順に従い、<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-local-lt="shadow lists" data-lt="combining shadow lists"
                id="combining-shadow-lists">影リストの合成</dfn>として以下のように処理されます：</p>
        <p>リスト内の各シャドウ（<span class="css">none</span>は長さ0のリストとして扱う）は、<a data-link-type="dfn" href="#by-computed-value"
                id="ref-for-by-computed-value⑤">算出値による</a>の挙動で各成分ごとに補間されます。
            ただし、両方の入力シャドウが<span class="css">inset</span>か両方とも<span
                class="css">inset</span>でない場合は、補間後のシャドウもその属性を一致させなければなりません。
            入力シャドウのペアのいずれかが一方のみ<span class="css">inset</span>の場合は、影リスト全体が<a data-link-type="dfn" href="#discrete"
                id="ref-for-discrete⑥">離散</a>アニメーションとなります。
            シャドウリストの長さが異なる場合は、短い方のリストの末尾に
            色が<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-transparent"
                id="ref-for-valdef-color-transparent">transparent</a>、全長が<span
                class="css">0</span>、inset属性（または非inset）が長い方に合わせられたシャドウをパディングします。</p>
        <p>2つの<a data-link-type="dfn" href="#combining-shadow-lists" id="ref-for-combining-shadow-lists">影リスト</a>
            <var>V<sub>a</sub></var>と
            <var>V<sub>b</sub></var>の<a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#addition"
                id="ref-for-addition④">加算</a>は、<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list">リスト</a>の連結として定義され、<var>V<sub>result</sub></var>は
            <var>V<sub>a</sub></var>を<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend"
                id="ref-for-list-extend">拡張</a>したものに<var>V<sub>b</sub></var>を追加したものになります。
        </p>
        <p>2つの<a data-link-type="dfn" href="#combining-shadow-lists" id="ref-for-combining-shadow-lists①">影リスト</a>の<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#accumulation"
                id="ref-for-accumulation③">累積</a>は上記補間ルールに従い、各成分ごとに型に応じて加算を行うか、inset属性が一致しない場合は<a data-link-type="dfn"
                href="#discrete" id="ref-for-discrete⑦">離散</a>アニメーションにフォールバックします。
        </p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> 適合性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> 文書の規約</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>適合性要件は、記述的な主張とRFC 2119用語の組み合わせで表現されます。主要な語句「MUST」「MUST NOT」「REQUIRED」「SHALL」「SHALL NOT」「SHOULD」「SHOULD
        NOT」「RECOMMENDED」「MAY」「OPTIONAL」は、この文書の規範的部分ではRFC 2119に記載された通りに解釈されます。
        ただし、可読性のため本現行標準ではこれらの語はすべて大文字では表記されません。</p>
    <p>この現行標準のすべてのテキストは、明示的に非規範的と示されたセクション、例、および注記を除き規範的です。<a data-link-type="biblio"
            href="#biblio-rfc2119">[RFC2119]</a></p>
    <p>この現行標準の例は、「例えば」という語で導入されるか、<code>class="example"</code>で規範的テキストから区別されて示されます。例えば： </p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>これは情報提供的な例です。</p>
    </div>
    <p>情報提供的な注記は「注」と始まり、<code>class="note"</code>で規範的テキストから区別されて示されます。例えば：</p>
    <p class="note" role="note">注: これは情報提供的な注記です。</p>
    <p>助言は特別な注意を促すために規範的なセクションとしてスタイルされ、他の規範的テキストから<code>&lt;strong class="advisement"></code>で区別されます。例えば： <strong
            class="advisement"> UAは必ずアクセシブルな代替手段を提供しなければなりません。 </strong></p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> 適合性クラス</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>この現行標準への適合性は、以下の3つの適合性クラスで定義されます：</p>
    <dl>
        <dt>スタイルシート
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                スタイルシート</a>。
        <dt>レンダラー
        <dd><a
                href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>（ユーザーエージェント）。スタイルシートの意味を解釈し、それを使用する文書を描画します。
        <dt>オーサリングツール
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>（ユーザーエージェント）。スタイルシートを書き出します。
    </dl>
    <p>スタイルシートが本現行標準に適合するためには、このモジュールで定義された構文を用いたすべての記述が、汎用CSS文法およびこのモジュールの各機能の個別文法に従って有効である必要があります。</p>
    <p>レンダラーが本現行標準に適合するためには、スタイルシートを適切な仕様に従って解釈することに加え、本現行標準で定義されたすべての機能を正しくパースし、文書をそれに従ってレンダリングする必要があります。ただし、UAがデバイスの制約により文書を正しく描画できない場合でも、UAが非適合とみなされることはありません。（例えば、UAはモノクロモニターで色を描画する必要はありません。）
    </p>
    <p>オーサリングツールが本現行標準に適合するためには、このモジュールの汎用CSS文法および各機能の個別文法に従って構文的に正しいスタイルシートを書き出し、このモジュールで記載されたスタイルシートのその他の適合性要件も満たしている必要があります。
    </p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> 部分的な実装</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>作者が将来互換性のあるCSSパース規則を利用してフォールバック値を割り当てられるよう、CSSレンダラーは、利用可能なレベルのサポートがない@ルール、プロパティ、プロパティ値、キーワード、その他の構文構成要素を<strong>無効</strong>として（<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">必要に応じて無視</a>）扱わなければなりません。特に、ユーザーエージェントは、サポートされていない値のみを選択的に無視し、サポートされている値のみを複数値プロパティ宣言で適用しては<strong>なりません</strong>。いずれかの値が無効（＝サポートされない値）とみなされる場合、CSSは宣言全体を無視することを要求します。
    </p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> 不安定および独自機能の実装</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>将来の安定したCSS機能との衝突を避けるため、CSSWGは<a href="https://www.w3.org/TR/CSS/#future-proofing">ベストプラクティス</a>に従って、<a
            href="https://www.w3.org/TR/CSS/#unstable">不安定な</a>機能や<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">独自拡張</a>CSS機能の実装を行うことを推奨します。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> 非実験的な実装</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>現行標準がCandidate Recommendation段階に到達すると、非実験的な実装が可能となり、実装者は正しく仕様通りに実装できることを示せるCRレベルの機能については、プレフィックスなしの実装をリリースするべきです。
    </p>
    <p>CSSの相互運用性を確立・維持するため、CSSワーキンググループは、非実験的なCSSレンダラーがCSSの機能をプレフィックスなしでリリースする前に、実装報告（必要に応じてその実装報告で使われたテストケースも）をW3Cに提出することを求めています。W3Cに提出されたテストケースは、CSSワーキンググループによるレビューや修正の対象となります。
    </p>
    <p>テストケースと実装報告の提出方法については、CSSワーキンググループのウェブサイト<a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>で確認できます。質問は<a
            href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
        メーリングリストにお問い合わせください。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本仕様で定義された用語</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#dom-compositeoperation-accumulate">"accumulate"</a><span>、§ 6.7</span>
        <li><a href="#dom-compositeoperation-accumulate">accumulate</a><span>、§ 6.7</span>
        <li><a href="#dom-animationreplacestate-active">"active"</a><span>、§ 6.4.2</span>
        <li><a href="#active-after-boundary-time">active-after 境界時刻</a><span>、§ 4.5.5</span>
        <li><a href="#active-duration">アクティブ持続時間</a><span>、§ 4.8.2</span>
        <li><a href="#dom-computedeffecttiming-activeduration">activeDuration</a><span>、§ 6.5.5</span>
        <li><a href="#active-interval">アクティブ区間</a><span>、§ 4.5.3</span>
        <li><a href="#animation-effect-active-phase">アクティブフェーズ</a><span>、§ 4.5.5</span>
        <li><a href="#active-replace-state">active 置換状態</a><span>、§ 5.5.1</span>
        <li><a href="#active-time">アクティブ時刻</a><span>、§ 4.8.3.1</span>
        <li><a href="#dom-compositeoperation-add">"add"</a><span>、§ 6.7</span>
        <li><a href="#dom-compositeoperation-add">add</a><span>、§ 6.7</span>
        <li><a href="#animation-effect-after-phase">after フェーズ</a><span>、§ 4.5.5</span>
        <li><a href="#dom-playbackdirection-alternate">"alternate"</a><span>、§ 6.5.3</span>
        <li><a href="#dom-playbackdirection-alternate-reverse">"alternate-reverse"</a><span>、§ 6.5.3</span>
        <li><a href="#animatable">Animatable</a><span>、§ 6.8</span>
        <li><a href="#concept-animatable">animatable</a><span>、§ 5.2</span>
        <li><a href="#dom-animatable-animate">animate(keyframes)</a><span>、§ 6.8</span>
        <li><a href="#dom-animatable-animate">animate(keyframes, options)</a><span>、§ 6.8</span>
        <li><a href="#animation">Animation</a><span>、§ 6.4</span>
        <li><a href="#concept-animation">animation</a><span>、§ 4.4</span>
        <li><a href="#dom-animation-animation">Animation()</a><span>、§ 6.4</span>
        <li><a href="#animation-class">アニメーションクラス</a><span>、§ 5.4.1</span>
        <li><a href="#animation-composite-order">アニメーション合成順序</a><span>、§ 5.4.2</span>
        <li><a href="#animation-direction">アニメーション方向</a><span>、§ 4.5.5</span>
        <li><a href="#animation-effect">アニメーション効果</a><span>、§ 4.5</span>
        <li><a href="#dom-animation-animation">Animation(effect)</a><span>、§ 6.4</span>
        <li><a href="#animationeffect">AnimationEffect</a><span>、§ 6.5</span>
        <li><a href="#dom-animation-animation">Animation(effect, timeline)</a><span>、§ 6.4</span>
        <li><a href="#animation-events">アニメーションイベント</a><span>、§ 4.4.18</span>
        <li><a href="#animation-frame">アニメーションフレーム</a><span>、§ 4.3</span>
        <li><a href="#animationplaybackevent">AnimationPlaybackEvent</a><span>、§ 6.12</span>
        <li><a href="#dictdef-animationplaybackeventinit">AnimationPlaybackEventInit</a><span>、§ 6.12</span>
        <li><a href="#animation-playback-events">アニメーション再生イベント</a><span>、§ 4.4.18.2</span>
        <li><a
                href="#dom-animationplaybackevent-animationplaybackevent">AnimationPlaybackEvent(type)</a><span>、§ 6.12</span>
        <li><a href="#dom-animationplaybackevent-animationplaybackevent">AnimationPlaybackEvent(type,
                eventInitDict)</a><span>、§ 6.12</span>
        <li><a href="#enumdef-animationplaystate">AnimationPlayState</a><span>、§ 6.4.1</span>
        <li><a href="#animation-property-name-to-idl-attribute-name">アニメーションプロパティ名からIDL属性名への変換</a><span>、§ 6.6.2</span>
        <li><a href="#enumdef-animationreplacestate">AnimationReplaceState</a><span>、§ 6.4.2</span>
        <li><a href="#animationtimeline">AnimationTimeline</a><span>、§ 6.2</span>
        <li><a href="#animation-time-to-origin-relative-time">アニメーション時刻から原点相対時刻への変換</a><span>、§ 4.4.18.1</span>
        <li><a href="#animation-time-to-timeline-time">アニメーション時刻からタイムライン時刻への変換</a><span>、§ 4.4.18.1</span>
        <li><a href="#animation-type">アニメーション型</a><span>、§ 5.2</span>
        <li><a href="#apply-any-pending-playback-rate">未処理の再生速度を適用</a><span>、§ 4.4.15.2</span>
        <li><a href="#animation-effect-associated-animation">関連付けられたアニメーション</a><span>、§ 5.4.2</span>
        <li><a href="#animation-associated-effect">関連付けられた効果</a><span>、§ 4.4</span>
        <li><a href="#associated-effect-end">関連効果終了</a><span>、§ 4.4.12</span>
        <li><a href="#associated-with-an-animation">アニメーションに関連付けられている</a><span>、§ 4.5.1</span>
        <li><a href="#associated-with-a-timeline">タイムラインに関連付けられている</a><span>、§ 4.5.1</span>
        <li>
            "auto"
            <ul>
                <li><a href="#dom-compositeoperationorauto-auto">CompositeOperationOrAutoの列挙値</a><span>、§ 6.7</span>
                <li><a href="#dom-fillmode-auto">FillModeの列挙値</a><span>、§ 6.5.2</span>
            </ul>
        <li><a href="#dom-compositeoperationorauto-auto">auto</a><span>、§ 6.7</span>
        <li><a href="#dom-fillmode-backwards">"backwards"</a><span>、§ 6.5.2</span>
        <li><a href="#dictdef-basecomputedkeyframe">BaseComputedKeyframe</a><span>、§ 6.6</span>
        <li><a href="#dictdef-basekeyframe">BaseKeyframe</a><span>、§ 6.6.3</span>
        <li><a href="#dictdef-basepropertyindexedkeyframe">BasePropertyIndexedKeyframe</a><span>、§ 6.6.3</span>
        <li><a href="#before-active-boundary-time">before-active 境界時刻</a><span>、§ 4.5.5</span>
        <li><a href="#animation-effect-before-phase">before フェーズ</a><span>、§ 4.5.5</span>
        <li><a href="#dom-fillmode-both">"both"</a><span>、§ 6.5.2</span>
        <li><a href="#by-computed-value">算出値による</a><span>、§ 5.2</span>
        <li><a href="#dom-animation-cancel">cancel()</a><span>、§ 6.4</span>
        <li><a href="#cancel-an-animation">アニメーションのキャンセル</a><span>、§ 4.4.14</span>
        <li><a href="#cancel-event">キャンセルイベント</a><span>、§ 4.4.18.3</span>
        <li><a href="#check-the-completion-record">completion recordの確認</a><span>、§ 6.6.3</span>
        <li><a href="#combining-shadow-lists">影リストの合成</a><span>、番号なしセクション</span>
        <li><a href="#commit-computed-styles">算出スタイルのコミット</a><span>、§ 6.4</span>
        <li><a href="#dom-animation-commitstyles">commitStyles()</a><span>、§ 6.4</span>
        <li>
            composite
            <ul>
                <li><a href="#dom-keyframeeffect-composite">KeyframeEffectの属性</a><span>、§ 6.6</span>
                <li><a href="#composite">定義</a><span>、§ 5.4</span>
                <li><a
                        href="#dom-basecomputedkeyframe-composite">BaseComputedKeyframeのdict-member</a><span>、§ 6.6</span>
                <li><a href="#dom-basekeyframe-composite">BaseKeyframeのdict-member</a><span>、§ 6.6.3</span>
                <li><a
                        href="#dom-basepropertyindexedkeyframe-composite">BasePropertyIndexedKeyframeのdict-member</a><span>、§ 6.6.3</span>
                <li><a
                        href="#dom-keyframeeffectoptions-composite">KeyframeEffectOptionsのdict-member</a><span>、§ 6.6.4</span>
            </ul>
        <li><a href="#composited-value">合成値</a><span>、§ 5.4.3</span>
        <li><a href="#composite-operation">合成操作</a><span>、§ 5.4.4</span>
        <li>
            CompositeOperation
            <ul>
                <li><a href="#enumdef-compositeoperation">（enum）</a><span>、§ 6.7</span>
                <li><a href="#compositeoperation">定義</a><span>、§ 6.7</span>
            </ul>
        <li><a href="#composite-operation-accumulate">accumulate合成操作</a><span>、§ 5.4.4</span>
        <li><a href="#composite-operation-add">add合成操作</a><span>、§ 5.4.4</span>
        <li><a href="#enumdef-compositeoperationorauto">CompositeOperationOrAuto</a><span>、§ 6.7</span>
        <li><a href="#composite-operation-replace">replace合成操作</a><span>、§ 5.4.4</span>
        <li><a href="#animation-composite-order">合成順序</a><span>、§ 5.4.2</span>
        <li><a href="#composite">合成</a><span>、§ 5.4</span>
        <li><a href="#compute-a-property-value">プロパティ値の算出</a><span>、§ 5.3.2</span>
        <li><a href="#dictdef-computedeffecttiming">ComputedEffectTiming</a><span>、§ 6.5.5</span>
        <li><a href="#computed-keyframe-offset">算出キーフレームオフセット</a><span>、§ 5.3.3</span>
        <li><a href="#computed-keyframes">算出キーフレーム</a><span>、§ 5.3.3</span>
        <li><a href="#dom-basecomputedkeyframe-computedoffset">computedOffset</a><span>、§ 6.6</span>
        <li><a href="#compute-missing-keyframe-offsets">欠損キーフレームオフセットの算出</a><span>、§ 5.3.3</span>
        <li><a href="#conforming-scripted-web-animations-user-agent">適合するスクリプト対応Web
                Animationsユーザーエージェント</a><span>、§ 9.2</span>
        <li>
            constructor()
            <ul>
                <li><a href="#dom-animation-animation">Animationのコンストラクタ</a><span>、§ 6.4</span>
                <li><a href="#dom-documenttimeline-documenttimeline">DocumentTimelineのコンストラクタ</a><span>、§ 6.3</span>
            </ul>
        <li><a href="#dom-animation-animation">constructor(effect)</a><span>、§ 6.4</span>
        <li><a href="#dom-animation-animation">constructor(effect, timeline)</a><span>、§ 6.4</span>
        <li><a href="#dom-documenttimeline-documenttimeline">constructor(options)</a><span>、§ 6.3</span>
        <li><a href="#dom-keyframeeffect-keyframeeffect-source">constructor(source)</a><span>、§ 6.6</span>
        <li><a href="#dom-keyframeeffect-keyframeeffect">constructor(target, keyframes)</a><span>、§ 6.6</span>
        <li><a href="#dom-keyframeeffect-keyframeeffect">constructor(target, keyframes, options)</a><span>、§ 6.6</span>
        <li><a href="#dom-animationplaybackevent-animationplaybackevent">constructor(type)</a><span>、§ 6.12</span>
        <li><a href="#dom-animationplaybackevent-animationplaybackevent">constructor(type,
                eventInitDict)</a><span>、§ 6.12</span>
        <li><a href="#current">現在</a><span>、§ 4.5.5</span>
        <li><a href="#current-finished-promise">current finished promise</a><span>、§ 4.4.11</span>
        <li><a href="#current-iteration">現在の反復</a><span>、§ 4.8.4</span>
        <li><a href="#dom-computedeffecttiming-currentiteration">currentIteration</a><span>、§ 6.5.5</span>
        <li><a href="#current-ready-promise">current ready promise</a><span>、§ 4.4.7</span>
        <li>
            current time
            <ul>
                <li><a href="#animation-current-time">アニメーションの定義</a><span>、§ 4.4.3</span>
                <li><a href="#timeline-current-time">タイムラインの定義</a><span>、§ 4.3</span>
            </ul>
        <li>
            currentTime
            <ul>
                <li><a href="#dom-animation-currenttime">Animationの属性</a><span>、§ 6.4</span>
                <li><a href="#dom-animationplaybackevent-currenttime">AnimationPlaybackEventの属性</a><span>、§ 6.12</span>
                <li><a href="#dom-animationtimeline-currenttime">AnimationTimelineの属性</a><span>、§ 6.2</span>
                <li><a
                        href="#dom-animationplaybackeventinit-currenttime">AnimationPlaybackEventInitのdict-member</a><span>、§ 6.12</span>
            </ul>
        <li><a href="#document-default-document-timeline">デフォルトドキュメントタイムライン</a><span>、§ 4.3.2</span>
        <li>
            delay
            <ul>
                <li><a href="#dom-effecttiming-delay">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a href="#dom-optionaleffecttiming-delay">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li><a href="#directed-progress">指向付き進行度</a><span>、§ 4.9.1</span>
        <li>
            direction
            <ul>
                <li><a href="#dom-effecttiming-direction">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a
                        href="#dom-optionaleffecttiming-direction">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li><a href="#discrete">離散</a><span>、§ 5.2</span>
        <li><a href="#animation-document-for-timing">タイミング用ドキュメント</a><span>、§ 4.4</span>
        <li><a href="#document-timeline">ドキュメントタイムライン</a><span>、§ 4.3.1</span>
        <li><a href="#documenttimeline">DocumentTimeline</a><span>、§ 6.3</span>
        <li><a href="#dom-documenttimeline-documenttimeline">DocumentTimeline()</a><span>、§ 6.3</span>
        <li><a href="#dom-documenttimeline-documenttimeline">DocumentTimeline(options)</a><span>、§ 6.3</span>
        <li><a href="#dictdef-documenttimelineoptions">DocumentTimelineOptions</a><span>、§ 6.3</span>
        <li>
            duration
            <ul>
                <li><a href="#dom-effecttiming-duration">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a
                        href="#dom-optionaleffecttiming-duration">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li>
            easing
            <ul>
                <li><a href="#dom-basecomputedkeyframe-easing">BaseComputedKeyframeのdict-member</a><span>、§ 6.6</span>
                <li><a href="#dom-basekeyframe-easing">BaseKeyframeのdict-member</a><span>、§ 6.6.3</span>
                <li><a
                        href="#dom-basepropertyindexedkeyframe-easing">BasePropertyIndexedKeyframeのdict-member</a><span>、§ 6.6.3</span>
                <li><a href="#dom-effecttiming-easing">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a href="#dom-optionaleffecttiming-easing">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li><a href="#dom-animation-effect">effect</a><span>、§ 6.4</span>
        <li><a href="#effective-playback-rate">有効な再生速度</a><span>、§ 4.4.15.2</span>
        <li><a href="#effect-stack">効果スタック</a><span>、§ 5.4.2</span>
        <li><a href="#keyframe-effect-effect-target">効果ターゲット</a><span>、§ 5.3</span>
        <li><a href="#dictdef-effecttiming">EffectTiming</a><span>、§ 6.5.1</span>
        <li><a href="#effect-value">効果値</a><span>、§ 5.1</span>
        <li><a href="#end-delay">終了遅延</a><span>、§ 4.5.3</span>
        <li>
            endDelay
            <ul>
                <li><a href="#dom-effecttiming-enddelay">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a
                        href="#dom-optionaleffecttiming-enddelay">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li><a href="#end-time">終了時刻</a><span>、§ 4.5.3</span>
        <li><a href="#dom-computedeffecttiming-endtime">endTime</a><span>、§ 6.5.5</span>
        <li>
            fill
            <ul>
                <li><a href="#dom-effecttiming-fill">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a href="#dom-optionaleffecttiming-fill">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li><a href="#fill-mode">塗りモード</a><span>、§ 4.6</span>
        <li><a href="#enumdef-fillmode">FillMode</a><span>、§ 6.5.2</span>
        <li><a href="#dom-animation-finish">finish()</a><span>、§ 6.4</span>
        <li><a href="#finish-an-animation">アニメーションの完了</a><span>、§ 4.4.13</span>
        <li><a href="#dom-animationplaystate-finished">"finished"</a><span>、§ 6.4.1</span>
        <li>
            finished
            <ul>
                <li><a href="#dom-animation-finished">Animationの属性</a><span>、§ 6.4</span>
                <li><a href="#play-state-finished">再生状態の定義</a><span>、§ 4.4.17</span>
            </ul>
        <li><a href="#play-state-finished">完了再生状態</a><span>、§ 4.4.17</span>
        <li><a href="#finish-event">完了イベント</a><span>、§ 4.4.18.3</span>
        <li><a href="#finish-notification-steps">完了通知手順</a><span>、§ 4.4.12</span>
        <li><a href="#dom-fillmode-forwards">"forwards"</a><span>、§ 6.5.2</span>
        <li>
            getAnimations()
            <ul>
                <li><a href="#dom-animatable-getanimations">Animatableのメソッド</a><span>、§ 6.8</span>
                <li><a href="#dom-documentorshadowroot-getanimations">DocumentOrShadowRootのメソッド</a><span>、§ 6.10</span>
            </ul>
        <li><a href="#dom-animatable-getanimations">getAnimations(options)</a><span>、§ 6.8</span>
        <li><a href="#dictdef-getanimationsoptions">GetAnimationsOptions</a><span>、§ 6.8</span>
        <li><a href="#dom-animationeffect-getcomputedtiming">getComputedTiming()</a><span>、§ 6.5</span>
        <li><a href="#dom-keyframeeffect-getkeyframes">getKeyframes()</a><span>、§ 6.6</span>
        <li><a href="#dom-animationeffect-gettiming">getTiming()</a><span>、§ 6.5</span>
        <li><a href="#global-animation-list">グローバルアニメーションリスト</a><span>、§ 4.4</span>
        <li><a href="#animation-hold-time">ホールド時間</a><span>、§ 4.4</span>
        <li>
            id
            <ul>
                <li><a href="#dom-animation-id">Animationの属性</a><span>、§ 6.4</span>
                <li><a
                        href="#dom-keyframeanimationoptions-id">KeyframeAnimationOptionsのdict-member</a><span>、§ 6.8</span>
            </ul>
        <li><a href="#idl-attribute-name-to-animation-property-name">IDL属性名からアニメーションプロパティ名への変換</a><span>、§ 6.6.2</span>
        <li><a href="#dom-animationplaystate-idle">"idle"</a><span>、§ 6.4.1</span>
        <li><a href="#play-state-idle">アイドル</a><span>、§ 4.4.17</span>
        <li><a href="#animation-effect-idle-phase">アイドルフェーズ</a><span>、§ 4.5.5</span>
        <li><a href="#play-state-idle">アイドル再生状態</a><span>、§ 4.4.17</span>
        <li><a href="#inactive-timeline">非アクティブタイムライン</a><span>、§ 4.3</span>
        <li><a href="#in-effect">有効区間内</a><span>、§ 4.5.5</span>
        <li><a href="#in-play">再生中</a><span>、§ 4.5.5</span>
        <li><a href="#iteration-count">反復回数</a><span>、§ 4.7.2</span>
        <li><a href="#iteration-duration">反復期間</a><span>、§ 4.7.1</span>
        <li><a href="#iteration-interval">反復間隔</a><span>、§ 4.7.1</span>
        <li><a href="#iteration-progress">反復進行度</a><span>、§ 4.11</span>
        <li>
            iterations
            <ul>
                <li><a href="#dom-effecttiming-iterations">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a
                        href="#dom-optionaleffecttiming-iterations">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li><a href="#iteration-start">反復開始</a><span>、§ 4.7.2</span>
        <li>
            iterationStart
            <ul>
                <li><a href="#dom-effecttiming-iterationstart">EffectTimingのdict-member</a><span>、§ 6.5.1</span>
                <li><a
                        href="#dom-optionaleffecttiming-iterationstart">OptionalEffectTimingのdict-member</a><span>、§ 6.5.1</span>
            </ul>
        <li><a href="#keyframe">キーフレーム</a><span>、§ 5.3.1</span>
        <li><a href="#dictdef-keyframeanimationoptions">KeyframeAnimationOptions</a><span>、§ 6.8</span>
        <li><a href="#keyframe-effect">キーフレーム効果</a><span>、§ 5.3</span>
        <li><a href="#keyframeeffect">KeyframeEffect</a><span>、§ 6.6</span>
        <li><a href="#dictdef-keyframeeffectoptions">KeyframeEffectOptions</a><span>、§ 6.6.4</span>
        <li><a href="#dom-keyframeeffect-keyframeeffect-source">KeyframeEffect(source)</a><span>、§ 6.6</span>
        <li><a href="#dom-keyframeeffect-keyframeeffect">KeyframeEffect(target, keyframes)</a><span>、§ 6.6</span>
        <li><a href="#dom-keyframeeffect-keyframeeffect">KeyframeEffect(target, keyframes,
                options)</a><span>、§ 6.6</span>
        <li><a href="#keyframe-offset">キーフレームオフセット</a><span>、§ 5.3.1</span>
        <li><a href="#keyframe-specific-composite-operation">キーフレーム固有の合成操作</a><span>、§ 5.3.1</span>
        <li><a href="#local-time">ローカル時刻</a><span>、§ 4.5.4</span>
        <li><a href="#dom-computedeffecttiming-localtime">localTime</a><span>、§ 6.5.5</span>
        <li><a href="#loosely-sorted-by-offset">オフセットでゆるくソート</a><span>、§ 5.3.1</span>
        <li><a href="#monotonically-increasing-timeline">単調増加</a><span>、§ 4.3</span>
        <li><a href="#monotonically-increasing-timeline">単調増加タイムライン</a><span>、§ 4.3</span>
        <li><a href="#neutral-value-for-composition">合成の中立値</a><span>、§ 5.3.4</span>
        <li><a href="#dom-fillmode-none">"none"</a><span>、§ 6.5.2</span>
        <li><a href="#dom-playbackdirection-normal">"normal"</a><span>、§ 6.5.3</span>
        <li><a href="#not-animatable">アニメーション不可</a><span>、§ 5.2</span>
        <li>
            offset
            <ul>
                <li><a href="#dom-basecomputedkeyframe-offset">BaseComputedKeyframeのdict-member</a><span>、§ 6.6</span>
                <li><a href="#dom-basekeyframe-offset">BaseKeyframeのdict-member</a><span>、§ 6.6.3</span>
                <li><a
                        href="#dom-basepropertyindexedkeyframe-offset">BasePropertyIndexedKeyframeのdict-member</a><span>、§ 6.6.3</span>
            </ul>
        <li><a href="#offsetk">offsetk</a><span>、§ 5.3.3</span>
        <li><a href="#dom-animation-oncancel">oncancel</a><span>、§ 6.4</span>
        <li><a href="#dom-animation-onfinish">onfinish</a><span>、§ 6.4</span>
        <li><a href="#dom-animation-onremove">onremove</a><span>、§ 6.4</span>
        <li><a href="#dictdef-optionaleffecttiming">OptionalEffectTiming</a><span>、§ 6.5.1</span>
        <li><a href="#origin-time">原点時刻</a><span>、§ 4.3.1</span>
        <li><a href="#dom-documenttimelineoptions-origintime">originTime</a><span>、§ 6.3</span>
        <li><a href="#overall-progress">全体進行度</a><span>、§ 4.8.3.2</span>
        <li><a href="#dom-animation-pause">pause()</a><span>、§ 6.4</span>
        <li><a href="#pause-an-animation">アニメーションの一時停止</a><span>、§ 4.4.9</span>
        <li><a href="#dom-animationplaystate-paused">"paused"</a><span>、§ 6.4.1</span>
        <li><a href="#play-state-paused">一時停止</a><span>、§ 4.4.17</span>
        <li><a href="#play-state-paused">一時停止再生状態</a><span>、§ 4.4.17</span>
        <li><a href="#dom-animation-pending">pending</a><span>、§ 6.4</span>
        <li><a href="#pending-animation-event-queue">保留アニメーションイベントキュー</a><span>、§ 4.4.18</span>
        <li><a href="#pending-pause-task">保留一時停止タスク</a><span>、§ 4.4.9</span>
        <li><a href="#pending-playback-rate">保留再生速度</a><span>、§ 4.4.15.2</span>
        <li><a href="#pending-play-task">保留再生タスク</a><span>、§ 4.4.8</span>
        <li><a href="#dom-animation-persist">persist()</a><span>、§ 6.4</span>
        <li><a href="#dom-animationreplacestate-persisted">"persisted"</a><span>、§ 6.4.2</span>
        <li><a href="#persisted-replace-state">persisted置換状態</a><span>、§ 5.5.1</span>
        <li><a href="#dom-animation-play">play()</a><span>、§ 6.4</span>
        <li><a href="#play-an-animation">アニメーションの再生</a><span>、§ 4.4.8</span>
        <li><a href="#playback-direction">再生方向</a><span>、§ 4.9</span>
        <li><a href="#enumdef-playbackdirection">PlaybackDirection</a><span>、§ 6.5.3</span>
        <li><a href="#playback-rate">再生速度</a><span>、§ 4.4.15</span>
        <li><a href="#dom-animation-playbackrate">playbackRate</a><span>、§ 6.4</span>
        <li><a href="#animation-play-state">再生状態</a><span>、§ 4.4.17</span>
        <li><a href="#dom-animation-playstate">playState</a><span>、§ 6.4</span>
        <li><a href="#previous-current-time">直前の現在時刻</a><span>、§ 4.4.12</span>
        <li><a href="#process-a-keyframe-like-object">キーフレーム類似オブジェクトの処理</a><span>、§ 6.6.3</span>
        <li><a href="#process-a-keyframes-argument">keyframes引数の処理</a><span>、§ 6.6.3</span>
        <li><a href="#dom-computedeffecttiming-progress">progress</a><span>、§ 6.5.5</span>
        <li>
            pseudoElement
            <ul>
                <li><a href="#dom-keyframeeffect-pseudoelement">KeyframeEffectの属性</a><span>、§ 6.6</span>
                <li><a
                        href="#dom-keyframeeffectoptions-pseudoelement">KeyframeEffectOptionsのdict-member</a><span>、§ 6.6.4</span>
            </ul>
        <li>
            ready
            <ul>
                <li><a href="#dom-animation-ready">Animationの属性</a><span>、§ 6.4</span>
                <li><a href="#ready">定義</a><span>、§ 4.4.6</span>
            </ul>
        <li><a href="#animation-relevant">関連</a><span>、§ 4.5.6</span>
        <li><a href="#relevant-animations">関連アニメーション</a><span>、§ 4.5.6</span>
        <li><a href="#relevant-animations-for-a-subtree">サブツリーの関連アニメーション</a><span>、§ 4.5.6</span>
        <li><a href="#dom-animationreplacestate-removed">"removed"</a><span>、§ 6.4.2</span>
        <li><a href="#removed-replace-state">removed置換状態</a><span>、§ 5.5.1</span>
        <li><a href="#remove-event">削除イベント</a><span>、§ 4.4.18.3</span>
        <li><a href="#remove-replaced-animations">置換アニメーションの削除</a><span>、§ 5.5.2</span>
        <li><a href="#repeatable-list">繰り返しリスト</a><span>、§ 5.2</span>
        <li><a href="#dom-compositeoperation-replace">"replace"</a><span>、§ 6.7</span>
        <li><a href="#dom-compositeoperation-replace">replace</a><span>、§ 6.7</span>
        <li><a href="#replaceable-animation">置換可能</a><span>、§ 5.5.2</span>
        <li><a href="#replaceable-animation">置換可能アニメーション</a><span>、§ 5.5.2</span>
        <li><a href="#replace-state">置換状態</a><span>、§ 5.5.1</span>
        <li><a href="#dom-animation-replacestate">replaceState</a><span>、§ 6.4</span>
        <li><a href="#animation-reset-an-animations-pending-tasks">アニメーションの保留タスクのリセット</a><span>、§ 4.4.14</span>
        <li><a href="#dom-playbackdirection-reverse">"reverse"</a><span>、§ 6.5.3</span>
        <li><a href="#dom-animation-reverse">reverse()</a><span>、§ 6.4</span>
        <li><a href="#reverse-an-animation">アニメーションの逆再生</a><span>、§ 4.4.16</span>
        <li><a href="#dom-animationplaystate-running">"running"</a><span>、§ 6.4.1</span>
        <li><a href="#play-state-running">再生中</a><span>、§ 4.4.17</span>
        <li><a href="#play-state-running">再生中再生状態</a><span>、§ 4.4.17</span>
        <li><a href="#scheduled-event-time">スケジュールされたイベント時刻</a><span>、§ 4.4.18</span>
        <li><a href="#seamlessly-update-the-playback-rate">再生速度をシームレスに更新</a><span>、§ 4.4.15.2</span>
        <li><a href="#dom-keyframeeffect-setkeyframes">setKeyframes(keyframes)</a><span>、§ 6.6</span>
        <li><a href="#animation-set-the-associated-effect-of-an-animation">アニメーションの関連効果を設定</a><span>、§ 4.4.2</span>
        <li><a href="#animation-set-the-current-time">現在時刻の設定</a><span>、§ 4.4.4</span>
        <li><a href="#set-the-playback-rate">再生速度の設定</a><span>、§ 4.4.15.1</span>
        <li><a href="#set-the-start-time">開始時刻の設定</a><span>、§ 4.4.5</span>
        <li><a href="#animation-set-the-timeline-of-an-animation">アニメーションのタイムライン設定</a><span>、§ 4.4.1</span>
        <li><a href="#combining-shadow-lists">影リスト</a><span>、番号なしセクション</span>
        <li><a href="#animation-silently-set-the-current-time">現在時刻を静かに設定</a><span>、§ 4.4.4</span>
        <li><a href="#simple-iteration-progress">単純な反復進行度</a><span>、§ 4.8.3.3</span>
        <li><a href="#start-delay">開始遅延</a><span>、§ 4.5.3</span>
        <li><a href="#animation-start-time">開始時刻</a><span>、§ 4.4</span>
        <li><a href="#dom-animation-starttime">startTime</a><span>、§ 6.4</span>
        <li><a href="#dom-getanimationsoptions-subtree">subtree</a><span>、§ 6.8</span>
        <li><a href="#dom-keyframeeffect-target">target</a><span>、§ 6.6</span>
        <li><a href="#effect-target-target-element">ターゲット要素</a><span>、§ 5.3</span>
        <li><a href="#target-property">ターゲットプロパティ</a><span>、§ 5.1</span>
        <li><a href="#effect-target-target-pseudo-selector">ターゲット疑似セレクタ</a><span>、§ 5.3</span>
        <li>
            timeline
            <ul>
                <li><a href="#dom-animation-timeline">Animationの属性</a><span>、§ 6.4</span>
                <li><a href="#dom-document-timeline">Documentの属性</a><span>、§ 6.9</span>
                <li><a href="#timeline">定義</a><span>、§ 4.3</span>
                <li><a
                        href="#dom-keyframeanimationoptions-timeline">KeyframeAnimationOptionsのdict-member</a><span>、§ 6.8</span>
            </ul>
        <li><a href="#timeline-associated-with-a-document">ドキュメントに関連付けられたタイムライン</a><span>、§ 4.3</span>
        <li>
            timelineTime
            <ul>
                <li><a href="#dom-animationplaybackevent-timelinetime">AnimationPlaybackEventの属性</a><span>、§ 6.12</span>
                <li><a
                        href="#dom-animationplaybackeventinit-timelinetime">AnimationPlaybackEventInitのdict-member</a><span>、§ 6.12</span>
            </ul>
        <li><a href="#timeline-time-to-origin-relative-time">タイムライン時刻から原点相対時刻への変換</a><span>、§ 4.3</span>
        <li><a href="#time-value">時刻値</a><span>、§ 4.2</span>
        <li><a href="#transformed-progress">変換済み進行度</a><span>、§ 4.10.1</span>
        <li><a href="#underlying-value">基底値</a><span>、§ 5.4.3</span>
        <li><a href="#unresolved">未解決</a><span>、§ 4.2</span>
        <li><a href="#update-an-animations-finished-state">アニメーションの完了状態を更新</a><span>、§ 4.4.12</span>
        <li><a href="#update-animations-and-send-events">アニメーション更新とイベント送信</a><span>、§ 4.3</span>
        <li><a href="#dom-animation-updateplaybackrate">updatePlaybackRate(playbackRate)</a><span>、§ 6.4</span>
        <li><a
                href="#update-the-timing-properties-of-an-animation-effect">アニメーション効果のタイミングプロパティ更新</a><span>、§ 6.5.4</span>
        <li><a href="#dom-animationeffect-updatetiming">updateTiming()</a><span>、§ 6.5</span>
        <li><a href="#dom-animationeffect-updatetiming">updateTiming(timing)</a><span>、§ 6.5</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-propdef-animation-fill-mode">
        <a
            href="https://www.w3.org/TR/css-animations-1/#propdef-animation-fill-mode">https://www.w3.org/TR/css-animations-1/#propdef-animation-fill-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-animation-fill-mode">4.6. Fill behavior</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-animation-name">
        <a
            href="https://www.w3.org/TR/css-animations-1/#propdef-animation-name">https://www.w3.org/TR/css-animations-1/#propdef-animation-name</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-animation-name">5.4.1. Animation classes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-events">
        <a href="https://drafts.csswg.org/css-animations/#events">https://drafts.csswg.org/css-animations/#events</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-events">4.4.18. Animation events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cssanimation">
        <a
            href="https://www.w3.org/TR/css-animations-2/#cssanimation">https://www.w3.org/TR/css-animations-2/#cssanimation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cssanimation">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-owning-element">
        <a
            href="https://drafts.csswg.org/css-animations-2/#owning-element">https://drafts.csswg.org/css-animations-2/#owning-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-owning-element">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-background-image">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-image">https://www.w3.org/TR/css-backgrounds-3/#propdef-background-image</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-background-image">5.2. Animating properties</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-background-origin">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-origin">https://www.w3.org/TR/css-backgrounds-3/#propdef-background-origin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-background-origin">5.2. Animating properties</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-bottom-width">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-bottom-width">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-bottom-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-bottom-width">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-color">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-color">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-color">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-left-width">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-left-width">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-left-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-left-width">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-right-width">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-right-width">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-right-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-right-width">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-top">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-top">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-propdef-border-top①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-top-color">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-color">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-top-color">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-top-width">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-width">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-top-width">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-border-width">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-width">https://www.w3.org/TR/css-backgrounds-3/#propdef-border-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-border-width">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-propdef-border-width①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-box-shadow">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow">https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-box-shadow">Animation of box-shadow and text-shadow</a> <a
                    href="#ref-for-propdef-box-shadow①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-computed-value">
        <a
            href="https://www.w3.org/TR/css-cascade-5/#computed-value">https://www.w3.org/TR/css-cascade-5/#computed-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-computed-value">5.2. Animating properties</a>
            <li><a href="#ref-for-computed-value①">5.2.1. Custom Properties</a>
            <li><a href="#ref-for-computed-value②">5.3.2. Computing property values</a> <a
                    href="#ref-for-computed-value③">(2)</a> <a href="#ref-for-computed-value④">(3)</a> <a
                    href="#ref-for-computed-value⑤">(4)</a>
            <li><a href="#ref-for-computed-value⑥">5.3.4. The effect value of a keyframe effect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-color-transparent">
        <a
            href="https://www.w3.org/TR/css-color-4/#valdef-color-transparent">https://www.w3.org/TR/css-color-4/#valdef-color-transparent</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-color-transparent">Animation of box-shadow and text-shadow</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-display">
        <a
            href="https://www.w3.org/TR/css-display-3/#propdef-display">https://www.w3.org/TR/css-display-3/#propdef-display</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-display">6.4. The Animation interface</a> <a
                    href="#ref-for-propdef-display①">(2)</a> <a href="#ref-for-propdef-display②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-visibility">
        <a
            href="https://www.w3.org/TR/css-display-3/#propdef-visibility">https://www.w3.org/TR/css-display-3/#propdef-visibility</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-visibility">Animation of visibility</a> <a
                    href="#ref-for-propdef-visibility①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-visibility-visible">
        <a
            href="https://www.w3.org/TR/css-display-3/#valdef-visibility-visible">https://www.w3.org/TR/css-display-3/#valdef-visibility-visible</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-visibility-visible">Animation of visibility</a> <a
                    href="#ref-for-valdef-visibility-visible①">(2)</a> <a
                    href="#ref-for-valdef-visibility-visible②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-easing-function">
        <a
            href="https://www.w3.org/TR/css-easing-1/#typedef-easing-function">https://www.w3.org/TR/css-easing-1/#typedef-easing-function</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-easing-function">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-typedef-easing-function①">6.5.4. Updating the timing of an AnimationEffect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-before-flag">
        <a href="https://www.w3.org/TR/css-easing-1/#before-flag">https://www.w3.org/TR/css-easing-1/#before-flag</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-before-flag">4.10.1. Calculating the transformed progress</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-input-progress-value">
        <a
            href="https://www.w3.org/TR/css-easing-1/#input-progress-value">https://www.w3.org/TR/css-easing-1/#input-progress-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-input-progress-value">4.10.1. Calculating the transformed progress</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-linear-easing-function">
        <a
            href="https://www.w3.org/TR/css-easing-1/#linear-easing-function">https://www.w3.org/TR/css-easing-1/#linear-easing-function</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-linear-easing-function">4.10. Time transformations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-easing-function">
        <a
            href="https://www.w3.org/TR/css-easing-1/#easing-function">https://www.w3.org/TR/css-easing-1/#easing-function</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-easing-function">4.8.3.3. Calculating the simple iteration progress</a>
            <li><a href="#ref-for-easing-function①">4.10. Time transformations</a> <a
                    href="#ref-for-easing-function②">(2)</a> <a href="#ref-for-easing-function③">(3)</a>
            <li><a href="#ref-for-easing-function④">4.10.1. Calculating the transformed progress</a>
            <li><a href="#ref-for-easing-function⑤">5.3.1. Keyframes</a> <a href="#ref-for-easing-function⑥">(2)</a>
            <li><a href="#ref-for-easing-function⑦">5.3.4. The effect value of a keyframe effect</a>
            <li><a href="#ref-for-easing-function⑧">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-easing-function⑨">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-easing-function①⓪">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-easing-function①①">(2)</a> <a href="#ref-for-easing-function①②">(3)</a>
            <li><a href="#ref-for-easing-function①③">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-easing-function①④">(2)</a> <a
                    href="#ref-for-easing-function①⑤">(3)</a> <a href="#ref-for-easing-function①⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-font-size">
        <a
            href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size">https://www.w3.org/TR/css-fonts-4/#propdef-font-size</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-font-size">5.3.2. Computing property values</a> <a
                    href="#ref-for-propdef-font-size①">(2)</a> <a href="#ref-for-propdef-font-size②">(3)</a>
            <li><a href="#ref-for-propdef-font-size③">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-propdef-font-size④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-font-weight">
        <a
            href="https://www.w3.org/TR/css-fonts-4/#propdef-font-weight">https://www.w3.org/TR/css-fonts-4/#propdef-font-weight</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-font-weight">Animation of font-weight</a> <a
                    href="#ref-for-propdef-font-weight①">(2)</a> <a href="#ref-for-propdef-font-weight②">(3)</a> <a
                    href="#ref-for-propdef-font-weight③">(4)</a> <a href="#ref-for-propdef-font-weight④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-css-registerproperty">
        <a
            href="https://www.w3.org/TR/css-properties-values-api-1/#dom-css-registerproperty">https://www.w3.org/TR/css-properties-values-api-1/#dom-css-registerproperty</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-css-registerproperty">5.2.1. Custom Properties</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-syntax-definition">
        <a
            href="https://drafts.css-houdini.org/css-properties-values-api-1/#syntax-definition">https://drafts.css-houdini.org/css-properties-values-api-1/#syntax-definition</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-syntax-definition">5.2.1. Custom Properties</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-universal-syntax-definition">
        <a
            href="https://drafts.css-houdini.org/css-properties-values-api-1/#universal-syntax-definition">https://drafts.css-houdini.org/css-properties-values-api-1/#universal-syntax-definition</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-universal-syntax-definition">5.2.1. Custom Properties</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-part">
        <a
            href="https://www.w3.org/TR/css-shadow-parts-1/#selectordef-part">https://www.w3.org/TR/css-shadow-parts-1/#selectordef-part</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-part">5.3. Keyframe effects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-style-attribute">
        <a
            href="https://drafts.csswg.org/css-style-attr/#style-attribute">https://drafts.csswg.org/css-style-attr/#style-attribute</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-style-attribute">6.4. The Animation interface</a> <a
                    href="#ref-for-style-attribute①">(2)</a> <a href="#ref-for-style-attribute②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-shadow">
        <a
            href="https://www.w3.org/TR/css-text-decor-4/#propdef-text-shadow">https://www.w3.org/TR/css-text-decor-4/#propdef-text-shadow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-shadow">Animation of box-shadow and text-shadow</a> <a
                    href="#ref-for-propdef-text-shadow①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-transform">
        <a
            href="https://www.w3.org/TR/css-transforms-1/#propdef-transform">https://www.w3.org/TR/css-transforms-1/#propdef-transform</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-transform">5.6. Side effects of animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-after-change-style">
        <a
            href="https://www.w3.org/TR/css-transitions-1/#after-change-style">https://www.w3.org/TR/css-transitions-1/#after-change-style</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-after-change-style">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-before-change-style">
        <a
            href="https://www.w3.org/TR/css-transitions-1/#before-change-style">https://www.w3.org/TR/css-transitions-1/#before-change-style</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-before-change-style">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-transition-events">
        <a
            href="https://drafts.csswg.org/css-transitions/#transition-events">https://drafts.csswg.org/css-transitions/#transition-events</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-transition-events">4.4.18. Animation events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-style-change-event">
        <a
            href="https://www.w3.org/TR/css-transitions-1/#style-change-event">https://www.w3.org/TR/css-transitions-1/#style-change-event</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-style-change-event">6.4. The Animation interface</a>
            <li><a href="#ref-for-style-change-event①">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-style-change-event②">6.10. Extensions to the DocumentOrShadowRoot interface mixin</a>
            <li><a href="#ref-for-style-change-event③">6.13. Model liveness</a> <a
                    href="#ref-for-style-change-event④">(2)</a> <a href="#ref-for-style-change-event⑤">(3)</a> <a
                    href="#ref-for-style-change-event⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-transitionend">
        <a
            href="https://drafts.csswg.org/css-transitions/#transitionend">https://drafts.csswg.org/css-transitions/#transitionend</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-transitionend">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-owning-element">
        <a
            href="https://drafts.csswg.org/css-transitions-2/#owning-element">https://drafts.csswg.org/css-transitions-2/#owning-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-owning-element①">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-number-value">
        <a
            href="https://www.w3.org/TR/css-values-4/#number-value">https://www.w3.org/TR/css-values-4/#number-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-number-value">Animation of font-weight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-interpolation">
        <a
            href="https://www.w3.org/TR/css-values-4/#interpolation">https://www.w3.org/TR/css-values-4/#interpolation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-interpolation">5.2. Animating properties</a>
            <li><a href="#ref-for-interpolation①">5.3.4. The effect value of a keyframe effect</a>
            <li><a href="#ref-for-interpolation②">Animation of font-weight</a>
            <li><a href="#ref-for-interpolation③">Animation of visibility</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-interpolation">
        <a
            href="https://www.w3.org/TR/css-values-4/#interpolation">https://www.w3.org/TR/css-values-4/#interpolation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-interpolation">5.2. Animating properties</a>
            <li><a href="#ref-for-interpolation①">5.3.4. The effect value of a keyframe effect</a>
            <li><a href="#ref-for-interpolation②">Animation of font-weight</a>
            <li><a href="#ref-for-interpolation③">Animation of visibility</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-not-additive">
        <a
            href="https://www.w3.org/TR/css-values-4/#not-additive">https://www.w3.org/TR/css-values-4/#not-additive</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-not-additive">5.2. Animating properties</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-accumulation">
        <a
            href="https://www.w3.org/TR/css-values-4/#accumulation">https://www.w3.org/TR/css-values-4/#accumulation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-accumulation">5.4.4. Effect composition</a> <a href="#ref-for-accumulation①">(2)</a>
            <li><a href="#ref-for-accumulation②">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a>
            <li><a href="#ref-for-accumulation③">Animation of box-shadow and text-shadow</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-addition">
        <a href="https://www.w3.org/TR/css-values-4/#addition">https://www.w3.org/TR/css-values-4/#addition</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-addition">5.4.4. Effect composition</a> <a href="#ref-for-addition①">(2)</a>
            <li><a href="#ref-for-addition②">6.7. The CompositeOperation and CompositeOperationOrAuto enumerations</a>
            <li><a href="#ref-for-addition③">Animation of font-weight</a>
            <li><a href="#ref-for-addition④">Animation of box-shadow and text-shadow</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-custom-property-name">
        <a
            href="https://www.w3.org/TR/css-variables-1/#typedef-custom-property-name">https://www.w3.org/TR/css-variables-1/#typedef-custom-property-name</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-custom-property-name">6.6.2. Property names and IDL names</a> <a
                    href="#ref-for-typedef-custom-property-name①">(2)</a>
            <li><a href="#ref-for-typedef-custom-property-name②">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-custom-property">
        <a
            href="https://www.w3.org/TR/css-variables-1/#custom-property">https://www.w3.org/TR/css-variables-1/#custom-property</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-custom-property">5.2.1. Custom Properties</a> <a
                    href="#ref-for-custom-property①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-will-change">
        <a
            href="https://www.w3.org/TR/css-will-change-1/#propdef-will-change">https://www.w3.org/TR/css-will-change-1/#propdef-will-change</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-will-change">5.6. Side effects of animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-direction">
        <a
            href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction">https://www.w3.org/TR/css-writing-modes-3/#propdef-direction</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-direction">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-logical-to-physical">
        <a
            href="https://drafts.csswg.org/css-writing-modes-4/#logical-to-physical">https://drafts.csswg.org/css-writing-modes-4/#logical-to-physical</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-logical-to-physical">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-writing-mode">
        <a
            href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode">https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-writing-mode">5.3.3. Calculating computed keyframes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-x43">
        <a href="https://www.w3.org/TR/CSS21/visuren.html#x43">https://www.w3.org/TR/CSS21/visuren.html#x43</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-x43">5.6. Side effects of animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-float">
        <a href="https://drafts.csswg.org/css2/#propdef-float">https://drafts.csswg.org/css2/#propdef-float</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-float">6.6.2. Property names and IDL names</a> <a
                    href="#ref-for-propdef-float①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cssomstring">
        <a href="https://www.w3.org/TR/cssom-1/#cssomstring">https://www.w3.org/TR/cssom-1/#cssomstring</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cssomstring">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-cssomstring①">(2)</a>
            <li><a href="#ref-for-cssomstring②">6.6.4. The KeyframeEffectOptions dictionary</a> <a
                    href="#ref-for-cssomstring③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-declaration-block">
        <a
            href="https://www.w3.org/TR/cssom-1/#css-declaration-block">https://www.w3.org/TR/cssom-1/#css-declaration-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-declaration-block">6.4. The Animation interface</a> <a
                    href="#ref-for-css-declaration-block①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-property-to-idl-attribute">
        <a
            href="https://drafts.csswg.org/cssom/#css-property-to-idl-attribute">https://drafts.csswg.org/cssom/#css-property-to-idl-attribute</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-property-to-idl-attribute">5.3.3. Calculating computed keyframes</a>
            <li><a href="#ref-for-css-property-to-idl-attribute①">6.6.2. Property names and IDL names</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-attribute-to-css-property">
        <a
            href="https://drafts.csswg.org/cssom/#idl-attribute-to-css-property">https://drafts.csswg.org/cssom/#idl-attribute-to-css-property</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-attribute-to-css-property">6.6.2. Property names and IDL names</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cssstyledeclaration-owner-node">
        <a
            href="https://www.w3.org/TR/cssom-1/#cssstyledeclaration-owner-node">https://www.w3.org/TR/cssom-1/#cssstyledeclaration-owner-node</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cssstyledeclaration-owner-node">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-serialize-a-css-value">
        <a
            href="https://drafts.csswg.org/cssom/#serialize-a-css-value">https://drafts.csswg.org/cssom/#serialize-a-css-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-serialize-a-css-value">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-set-a-css-declaration">
        <a
            href="https://www.w3.org/TR/cssom-1/#set-a-css-declaration">https://www.w3.org/TR/cssom-1/#set-a-css-declaration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-set-a-css-declaration">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-update-style-attribute-for">
        <a
            href="https://www.w3.org/TR/cssom-1/#update-style-attribute-for">https://www.w3.org/TR/cssom-1/#update-style-attribute-for</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-update-style-attribute-for">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-documentorshadowroot">
        <a
            href="https://dom.spec.whatwg.org/#documentorshadowroot">https://dom.spec.whatwg.org/#documentorshadowroot</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-documentorshadowroot">6.10. Extensions to the DocumentOrShadowRoot interface mixin</a>
                <a href="#ref-for-documentorshadowroot①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-element">
        <a href="https://dom.spec.whatwg.org/#element">https://dom.spec.whatwg.org/#element</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-element">5.3. Keyframe effects</a> <a href="#ref-for-element①">(2)</a>
            <li><a href="#ref-for-element②">5.3.2. Computing property values</a>
            <li><a href="#ref-for-element③">6.6. The KeyframeEffect interface</a> <a href="#ref-for-element④">(2)</a> <a
                    href="#ref-for-element⑤">(3)</a> <a href="#ref-for-element⑥">(4)</a> <a
                    href="#ref-for-element⑦">(5)</a>
            <li><a href="#ref-for-element⑧">6.11. Extensions to the Element interface</a> <a
                    href="#ref-for-element⑨">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-event">
        <a href="https://dom.spec.whatwg.org/#event">https://dom.spec.whatwg.org/#event</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-event">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dictdef-eventinit">
        <a href="https://dom.spec.whatwg.org/#dictdef-eventinit">https://dom.spec.whatwg.org/#dictdef-eventinit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-eventinit">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventtarget">
        <a href="https://dom.spec.whatwg.org/#eventtarget">https://dom.spec.whatwg.org/#eventtarget</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventtarget">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-connected">
        <a href="https://dom.spec.whatwg.org/#connected">https://dom.spec.whatwg.org/#connected</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-connected">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-constructing-events">
        <a
            href="https://dom.spec.whatwg.org/#constructing-events">https://dom.spec.whatwg.org/#constructing-events</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-constructing-events">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-event-create">
        <a
            href="https://dom.spec.whatwg.org/#concept-event-create">https://dom.spec.whatwg.org/#concept-event-create</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-event-create">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-concept-event-create①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-concept-event-create②">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-tree-descendant">
        <a
            href="https://dom.spec.whatwg.org/#concept-tree-descendant">https://dom.spec.whatwg.org/#concept-tree-descendant</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-tree-descendant">4.5.6. Relevant animations</a>
            <li><a href="#ref-for-concept-tree-descendant①">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-concept-tree-descendant②">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-event-dispatch">
        <a
            href="https://dom.spec.whatwg.org/#concept-event-dispatch">https://dom.spec.whatwg.org/#concept-event-dispatch</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-event-dispatch">4.3. Timelines</a>
            <li><a href="#ref-for-concept-event-dispatch①">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-concept-event-dispatch②">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-concept-event-dispatch③">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-document">
        <a href="https://dom.spec.whatwg.org/#concept-document">https://dom.spec.whatwg.org/#concept-document</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-document">4.5.6. Relevant animations</a> <a
                    href="#ref-for-concept-document①">(2)</a>
            <li><a href="#ref-for-concept-document②">6.10. Extensions to the DocumentOrShadowRoot interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-element-attribute-has">
        <a
            href="https://dom.spec.whatwg.org/#concept-element-attribute-has">https://dom.spec.whatwg.org/#concept-element-attribute-has</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-element-attribute-has">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-tree-inclusive-descendant">
        <a
            href="https://dom.spec.whatwg.org/#concept-tree-inclusive-descendant">https://dom.spec.whatwg.org/#concept-tree-inclusive-descendant</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-tree-inclusive-descendant">4.5.6. Relevant animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-node-document">
        <a
            href="https://dom.spec.whatwg.org/#concept-node-document">https://dom.spec.whatwg.org/#concept-node-document</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-node-document">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-shadow-root">
        <a
            href="https://dom.spec.whatwg.org/#concept-shadow-root">https://dom.spec.whatwg.org/#concept-shadow-root</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-shadow-root">4.5.6. Relevant animations</a> <a
                    href="#ref-for-concept-shadow-root①">(2)</a>
            <li><a href="#ref-for-concept-shadow-root②">6.10. Extensions to the DocumentOrShadowRoot interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-event-type">
        <a href="https://dom.spec.whatwg.org/#dom-event-type">https://dom.spec.whatwg.org/#dom-event-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-event-type">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-dom-event-type①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-dom-event-type②">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel"
        data-for="term-for-sec-ordinary-object-internal-methods-and-internal-slots-defineownproperty-p-desc">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-ordinary-object-internal-methods-and-internal-slots-defineownproperty-p-desc">http://www.ecma-international.org/ecma-262/6.0/#sec-ordinary-object-internal-methods-and-internal-slots-defineownproperty-p-desc</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ordinary-object-internal-methods-and-internal-slots-defineownproperty-p-desc">6.6.
                    The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver">http://www.ecma-international.org/ecma-262/6.0/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver">6.6.3.
                    Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-completion-record-specification-type">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-completion-record-specification-type">http://www.ecma-international.org/ecma-262/6.0/#sec-completion-record-specification-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-completion-record-specification-type">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-sec-completion-record-specification-type①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-enumerableownnames">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-enumerableownnames">http://www.ecma-international.org/ecma-262/6.0/#sec-enumerableownnames</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-enumerableownnames">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-getiterator">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-getiterator">http://www.ecma-international.org/ecma-262/6.0/#sec-getiterator</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-getiterator">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-getmethod">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod">http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-getmethod">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-iteratorstep">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-iteratorstep">http://www.ecma-international.org/ecma-262/6.0/#sec-iteratorstep</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-iteratorstep">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-iteratorvalue">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-iteratorvalue">http://www.ecma-international.org/ecma-262/6.0/#sec-iteratorvalue</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-iteratorvalue">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-promise-objects">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects">http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-promise-objects">4.4.7. The current ready promise</a> <a
                    href="#ref-for-sec-promise-objects①">(2)</a> <a href="#ref-for-sec-promise-objects②">(3)</a>
            <li><a href="#ref-for-sec-promise-objects③">4.4.11. The current finished promise</a> <a
                    href="#ref-for-sec-promise-objects④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-promise-objects">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects">http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-promise-objects">4.4.7. The current ready promise</a> <a
                    href="#ref-for-sec-promise-objects①">(2)</a> <a href="#ref-for-sec-promise-objects②">(3)</a>
            <li><a href="#ref-for-sec-promise-objects③">4.4.11. The current finished promise</a> <a
                    href="#ref-for-sec-promise-objects④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ecmascript-data-types-and-values">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-data-types-and-values">http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-data-types-and-values</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ecmascript-data-types-and-values">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-well-known-symbols">
        <a
            href="http://www.ecma-international.org/ecma-262/6.0/#sec-well-known-symbols">http://www.ecma-international.org/ecma-262/6.0/#sec-well-known-symbols</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-well-known-symbols">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-domhighrestimestamp">
        <a
            href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp">https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-domhighrestimestamp">6.3. The DocumentTimeline interface</a> <a
                    href="#ref-for-dom-domhighrestimestamp①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cereactions">
        <a
            href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cereactions">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-document">
        <a href="https://html.spec.whatwg.org/#document">https://html.spec.whatwg.org/#document</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-document">4.3. Timelines</a>
            <li><a href="#ref-for-document①">4.3.1. Document timelines</a>
            <li><a href="#ref-for-document②">4.3.2. The default document timeline</a>
            <li><a href="#ref-for-document③">4.4. Animations</a>
            <li><a href="#ref-for-document④">4.4.18. Animation events</a>
            <li><a href="#ref-for-document⑤">4.7.3. Iteration time space</a>
            <li><a href="#ref-for-document⑥">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-document⑦">6.3. The DocumentTimeline interface</a> <a
                    href="#ref-for-document⑧">(2)</a>
            <li><a href="#ref-for-document⑨">6.4. The Animation interface</a> <a href="#ref-for-document①⓪">(2)</a>
            <li><a href="#ref-for-document①①">6.9. Extensions to the Document interface</a> <a
                    href="#ref-for-document①②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventhandler">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventhandler">6.4. The Animation interface</a> <a
                    href="#ref-for-eventhandler①">(2)</a> <a href="#ref-for-eventhandler②">(3)</a> <a
                    href="#ref-for-eventhandler③">(4)</a> <a href="#ref-for-eventhandler④">(5)</a> <a
                    href="#ref-for-eventhandler⑤">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-window">
        <a
            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window">https://html.spec.whatwg.org/multipage/nav-history-apis.html#window</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-window">6.3. The DocumentTimeline interface</a>
            <li><a href="#ref-for-window①">6.4. The Animation interface</a> <a href="#ref-for-window②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-active-document">
        <a
            href="https://html.spec.whatwg.org/multipage/browsers.html#active-document">https://html.spec.whatwg.org/multipage/browsers.html#active-document</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-active-document">4.3.1. Document timelines</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-an-entry-with-persisted-user-state">
        <a
            href="https://html.spec.whatwg.org/multipage/browsers.html#an-entry-with-persisted-user-state">https://html.spec.whatwg.org/multipage/browsers.html#an-entry-with-persisted-user-state</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-an-entry-with-persisted-user-state">8. Interaction with page display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-animation-frames">
        <a
            href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html.html#animation-frames">https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html.html#animation-frames</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-frames">1.2. Relationship to other specifications</a> <a
                    href="#ref-for-animation-frames①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-being-rendered">
        <a
            href="https://html.spec.whatwg.org/multipage/browsers.html#being-rendered">https://html.spec.whatwg.org/multipage/browsers.html#being-rendered</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-being-rendered">6.4. The Animation interface</a> <a
                    href="#ref-for-being-rendered①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-current-global-object">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object">https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-current-global-object">4.7.3. Iteration time space</a>
            <li><a href="#ref-for-current-global-object①">5.2.1. Custom Properties</a>
            <li><a href="#ref-for-current-global-object②">6.3. The DocumentTimeline interface</a>
            <li><a href="#ref-for-current-global-object③">6.4. The Animation interface</a> <a
                    href="#ref-for-current-global-object④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-document-window">
        <a
            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-window">https://html.spec.whatwg.org/multipage/browsers.html#concept-document-window</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-document-window">6.3. The DocumentTimeline interface</a>
            <li><a href="#ref-for-concept-document-window①">6.4. The Animation interface</a> <a
                    href="#ref-for-concept-document-window②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-document-open">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-document-open">https://html.spec.whatwg.org/multipage/webappapis.html#dom-document-open</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-document-open">4.3.2. The default document timeline</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-manipulation-task-source">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-manipulation-task-source">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-dom-manipulation-task-source①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-dom-manipulation-task-source②">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-event-loop-processing-model">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model">https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-event-loop-processing-model">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-media-element">
        <a
            href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">https://html.spec.whatwg.org/multipage/embedded-content.html#media-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-media-element">4.4.10. Reaching the end</a>
            <li><a href="#ref-for-media-element①">8. Interaction with page display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-perform-a-microtask-checkpoint">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint">https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-perform-a-microtask-checkpoint">4.3. Timelines</a>
            <li><a href="#ref-for-perform-a-microtask-checkpoint①">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-perform-a-microtask-checkpoint②">4.4.9. Pausing an animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-queue-a-microtask">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-queue-a-microtask">4.4.12. Updating the finished state</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-queue-a-task">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-queue-a-task">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-queue-a-task①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-queue-a-task②">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-relevant-realm">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-relevant-realm">4.4.7. The current ready promise</a>
            <li><a href="#ref-for-concept-relevant-realm①">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-concept-relevant-realm②">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-concept-relevant-realm③">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-concept-relevant-realm④">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-concept-relevant-realm⑤">(2)</a>
            <li><a href="#ref-for-concept-relevant-realm⑥">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-concept-relevant-realm⑦">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-run-the-animation-frame-callbacks">
        <a
            href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html.html#run-the-animation-frame-callbacks">https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html.html#run-the-animation-frame-callbacks</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-run-the-animation-frame-callbacks">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-session-history-entry">
        <a
            href="https://html.spec.whatwg.org/multipage/browsers.html#session-history-entry">https://html.spec.whatwg.org/multipage/browsers.html#session-history-entry</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-session-history-entry">8. Interaction with page display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-settings-object-time-origin">
        <a
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-settings-object-time-origin">4.3.1. Document timelines</a>
            <li><a href="#ref-for-concept-settings-object-time-origin①">4.3.2. The default document timeline</a>
            <li><a href="#ref-for-concept-settings-object-time-origin②">4.4.18. Animation events</a> <a
                    href="#ref-for-concept-settings-object-time-origin③">(2)</a>
            <li><a href="#ref-for-concept-settings-object-time-origin④">6.3. The DocumentTimeline interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-map-exists">
        <a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-map-exists">6.5. The AnimationEffect interface</a>
            <li><a href="#ref-for-map-exists①">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-map-exists②">6.5.4. Updating the timing of an AnimationEffect</a> <a
                    href="#ref-for-map-exists③">(2)</a> <a href="#ref-for-map-exists④">(3)</a> <a
                    href="#ref-for-map-exists⑤">(4)</a> <a href="#ref-for-map-exists⑥">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-extend">
        <a href="https://infra.spec.whatwg.org/#list-extend">https://infra.spec.whatwg.org/#list-extend</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-extend">Animation of box-shadow and text-shadow</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-iterate">
        <a href="https://infra.spec.whatwg.org/#list-iterate">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-iterate">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list">
        <a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-list">Animation of box-shadow and text-shadow</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ordered-set">
        <a href="https://infra.spec.whatwg.org/#ordered-set">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ordered-set">6.4. The Animation interface</a> <a href="#ref-for-ordered-set①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-offset">
        <a href="https://www.w3.org/TR/motion-1/#propdef-offset">https://www.w3.org/TR/motion-1/#propdef-offset</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-offset">6.6.2. Property names and IDL names</a> <a
                    href="#ref-for-propdef-offset①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-pseudo-element-selector">
        <a
            href="https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector">https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-pseudo-element-selector">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-invalid-selector">
        <a
            href="https://www.w3.org/TR/selectors-4/#invalid-selector">https://www.w3.org/TR/selectors-4/#invalid-selector</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-invalid-selector">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-originating-element">
        <a
            href="https://www.w3.org/TR/selectors-4/#originating-element">https://www.w3.org/TR/selectors-4/#originating-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-originating-element">5.3. Keyframe effects</a>
            <li><a href="#ref-for-originating-element①">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-pseudo-element">
        <a
            href="https://www.w3.org/TR/selectors-4/#pseudo-element">https://www.w3.org/TR/selectors-4/#pseudo-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-pseudo-element">4.5.6. Relevant animations</a>
            <li><a href="#ref-for-pseudo-element①">5.3. Keyframe effects</a> <a href="#ref-for-pseudo-element②">(2)</a>
                <a href="#ref-for-pseudo-element③">(3)</a> <a href="#ref-for-pseudo-element④">(4)</a>
            <li><a href="#ref-for-pseudo-element⑤">6.6.4. The KeyframeEffectOptions dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-mime-registration">
        <a
            href="https://svgwg.org/svg2-draft/mimereg.html#mime-registration">https://svgwg.org/svg2-draft/mimereg.html#mime-registration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-mime-registration">7. Integration with Media Fragments</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-iteration-composite-operation">
        <a
            href="https://drafts.csswg.org/web-animations-2/#iteration-composite-operation">https://drafts.csswg.org/web-animations-2/#iteration-composite-operation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-iteration-composite-operation">4.7.2. Controlling iteration</a>
            <li><a href="#ref-for-iteration-composite-operation①">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-iteration-composite-operation-accumulate">
        <a
            href="https://drafts.csswg.org/web-animations-2/#iteration-composite-operation-accumulate">https://drafts.csswg.org/web-animations-2/#iteration-composite-operation-accumulate</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-iteration-composite-operation-accumulate">4.7.2. Controlling iteration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-DOMException">
        <a
            href="https://webidl.spec.whatwg.org/#idl-DOMException">https://webidl.spec.whatwg.org/#idl-DOMException</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-DOMException">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-idl-DOMException①">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-idl-DOMException②">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-idl-DOMException③">4.4.16. Reversing an animation</a>
            <li><a href="#ref-for-idl-DOMException④">6.4. The Animation interface</a> <a
                    href="#ref-for-idl-DOMException⑤">(2)</a>
            <li><a href="#ref-for-idl-DOMException⑥">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-DOMString">
        <a href="https://webidl.spec.whatwg.org/#idl-DOMString">https://webidl.spec.whatwg.org/#idl-DOMString</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-DOMString">6.4. The Animation interface</a> <a
                    href="#ref-for-idl-DOMString①">(2)</a>
            <li><a href="#ref-for-idl-DOMString②">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a> <a
                    href="#ref-for-idl-DOMString③">(2)</a> <a href="#ref-for-idl-DOMString④">(3)</a> <a
                    href="#ref-for-idl-DOMString⑤">(4)</a> <a href="#ref-for-idl-DOMString⑥">(5)</a>
            <li><a href="#ref-for-idl-DOMString⑦">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-idl-DOMString⑧">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-idl-DOMString⑨">(2)</a> <a href="#ref-for-idl-DOMString①⓪">(3)</a>
            <li><a href="#ref-for-idl-DOMString①①">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-idl-DOMString①②">(2)</a>
            <li><a href="#ref-for-idl-DOMString①③">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-Exposed">
        <a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-Exposed">6.2. The AnimationTimeline interface</a>
            <li><a href="#ref-for-Exposed①">6.3. The DocumentTimeline interface</a>
            <li><a href="#ref-for-Exposed②">6.4. The Animation interface</a>
            <li><a href="#ref-for-Exposed③">6.5. The AnimationEffect interface</a>
            <li><a href="#ref-for-Exposed④">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-Exposed⑤">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-invalidstateerror">
        <a
            href="https://webidl.spec.whatwg.org/#invalidstateerror">https://webidl.spec.whatwg.org/#invalidstateerror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-invalidstateerror">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-invalidstateerror①">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-invalidstateerror②">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-invalidstateerror③">4.4.16. Reversing an animation</a>
            <li><a href="#ref-for-invalidstateerror④">6.4. The Animation interface</a> <a
                    href="#ref-for-invalidstateerror⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-nomodificationallowederror">
        <a
            href="https://webidl.spec.whatwg.org/#nomodificationallowederror">https://webidl.spec.whatwg.org/#nomodificationallowederror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-nomodificationallowederror">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-promise">
        <a href="https://webidl.spec.whatwg.org/#idl-promise">https://webidl.spec.whatwg.org/#idl-promise</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-promise">6.4. The Animation interface</a> <a href="#ref-for-idl-promise①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-syntaxerror">
        <a href="https://webidl.spec.whatwg.org/#syntaxerror">https://webidl.spec.whatwg.org/#syntaxerror</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-syntaxerror">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-EnforceRange">
        <a href="https://webidl.spec.whatwg.org/#EnforceRange">https://webidl.spec.whatwg.org/#EnforceRange</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-EnforceRange">6.5.4. Updating the timing of an AnimationEffect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-a-new-promise">
        <a href="https://webidl.spec.whatwg.org/#a-new-promise">https://webidl.spec.whatwg.org/#a-new-promise</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-a-new-promise">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-a-new-promise①">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-a-new-promise②">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-a-new-promise③">4.4.14. Canceling an animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-boolean">
        <a href="https://webidl.spec.whatwg.org/#idl-boolean">https://webidl.spec.whatwg.org/#idl-boolean</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-boolean">6.4. The Animation interface</a> <a href="#ref-for-idl-boolean①">(2)</a>
            <li><a href="#ref-for-idl-boolean②">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-idl-boolean③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-convert-ecmascript-to-idl-value">
        <a
            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-convert-ecmascript-to-idl-value">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-a-promise-resolved-with">
        <a
            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with">https://webidl.spec.whatwg.org/#a-promise-resolved-with</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-a-promise-resolved-with">4.4.7. The current ready promise</a>
            <li><a href="#ref-for-a-promise-resolved-with①">4.4.14. Canceling an animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-DOMString-to-es">
        <a href="https://webidl.spec.whatwg.org/#DOMString-to-es">https://webidl.spec.whatwg.org/#DOMString-to-es</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-DOMString-to-es">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-double">
        <a href="https://webidl.spec.whatwg.org/#idl-double">https://webidl.spec.whatwg.org/#idl-double</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-double">6.2. The AnimationTimeline interface</a> <a
                    href="#ref-for-idl-double①">(2)</a>
            <li><a href="#ref-for-idl-double②">6.4. The Animation interface</a> <a href="#ref-for-idl-double③">(2)</a>
                <a href="#ref-for-idl-double④">(3)</a> <a href="#ref-for-idl-double⑤">(4)</a> <a
                    href="#ref-for-idl-double⑥">(5)</a> <a href="#ref-for-idl-double⑦">(6)</a> <a
                    href="#ref-for-idl-double⑧">(7)</a>
            <li><a href="#ref-for-idl-double⑨">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a> <a
                    href="#ref-for-idl-double①⓪">(2)</a> <a href="#ref-for-idl-double①①">(3)</a> <a
                    href="#ref-for-idl-double①②">(4)</a> <a href="#ref-for-idl-double①③">(5)</a> <a
                    href="#ref-for-idl-double①④">(6)</a> <a href="#ref-for-idl-double①⑤">(7)</a> <a
                    href="#ref-for-idl-double①⑥">(8)</a> <a href="#ref-for-idl-double①⑦">(9)</a>
            <li><a href="#ref-for-idl-double①⑧">6.5.5. The ComputedEffectTiming dictionary</a> <a
                    href="#ref-for-idl-double①⑨">(2)</a> <a href="#ref-for-idl-double②⓪">(3)</a> <a
                    href="#ref-for-idl-double②①">(4)</a>
            <li><a href="#ref-for-idl-double②②">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-idl-double②③">(2)</a>
            <li><a href="#ref-for-idl-double②④">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-idl-double②⑤">(2)</a> <a href="#ref-for-idl-double②⑥">(3)</a>
            <li><a href="#ref-for-idl-double②⑦">6.12. The AnimationPlaybackEvent interface</a> <a
                    href="#ref-for-idl-double②⑧">(2)</a> <a href="#ref-for-idl-double②⑨">(3)</a> <a
                    href="#ref-for-idl-double③⓪">(4)</a> <a href="#ref-for-idl-double③①">(5)</a> <a
                    href="#ref-for-idl-double③②">(6)</a> <a href="#ref-for-idl-double③③">(7)</a> <a
                    href="#ref-for-idl-double③④">(8)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-es-to-dictionary">
        <a
            href="https://webidl.spec.whatwg.org/#es-to-dictionary">https://webidl.spec.whatwg.org/#es-to-dictionary</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-es-to-dictionary">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-es-to-DOMString">
        <a href="https://webidl.spec.whatwg.org/#es-to-DOMString">https://webidl.spec.whatwg.org/#es-to-DOMString</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-es-to-DOMString">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-nullable-type">
        <a
            href="https://webidl.spec.whatwg.org/#dfn-nullable-type">https://webidl.spec.whatwg.org/#dfn-nullable-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-nullable-type">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-object">
        <a href="https://webidl.spec.whatwg.org/#idl-object">https://webidl.spec.whatwg.org/#idl-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-object">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-idl-object①">(2)</a> <a href="#ref-for-idl-object②">(3)</a>
            <li><a href="#ref-for-idl-object③">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-reject">
        <a href="https://webidl.spec.whatwg.org/#reject">https://webidl.spec.whatwg.org/#reject</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-reject">4.4.14. Canceling an animation</a> <a href="#ref-for-reject①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-resolve">
        <a href="https://webidl.spec.whatwg.org/#resolve">https://webidl.spec.whatwg.org/#resolve</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-resolve">4.4.4. Setting the current time of an animation</a>
            <li><a href="#ref-for-resolve①">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-resolve②">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-resolve③">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-resolve④">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-resolve⑤">4.4.13. Finishing an animation</a> <a href="#ref-for-resolve⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-sequence">
        <a href="https://webidl.spec.whatwg.org/#idl-sequence">https://webidl.spec.whatwg.org/#idl-sequence</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-sequence">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-idl-sequence①">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-idl-sequence②">(2)</a> <a href="#ref-for-idl-sequence③">(3)</a>
            <li><a href="#ref-for-idl-sequence④">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-idl-sequence⑤">6.10. Extensions to the DocumentOrShadowRoot interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dfn-throw">
        <a href="https://webidl.spec.whatwg.org/#dfn-throw">https://webidl.spec.whatwg.org/#dfn-throw</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dfn-throw">4.4.4. Setting the current time of an animation</a>
            <li><a href="#ref-for-dfn-throw①">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-dfn-throw②">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-dfn-throw③">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-dfn-throw④">4.4.16. Reversing an animation</a>
            <li><a href="#ref-for-dfn-throw⑤">6.4. The Animation interface</a> <a href="#ref-for-dfn-throw⑥">(2)</a>
            <li><a href="#ref-for-dfn-throw⑦">6.5.4. Updating the timing of an AnimationEffect</a> <a
                    href="#ref-for-dfn-throw⑧">(2)</a> <a href="#ref-for-dfn-throw⑨">(3)</a> <a
                    href="#ref-for-dfn-throw①⓪">(4)</a>
            <li><a href="#ref-for-dfn-throw①①">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-dfn-throw①②">(2)</a>
            <li><a href="#ref-for-dfn-throw①③">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-dfn-throw①④">(2)</a> <a href="#ref-for-dfn-throw①⑤">(3)</a> <a
                    href="#ref-for-dfn-throw①⑥">(4)</a> <a href="#ref-for-dfn-throw①⑦">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-undefined">
        <a href="https://webidl.spec.whatwg.org/#idl-undefined">https://webidl.spec.whatwg.org/#idl-undefined</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-undefined">6.4. The Animation interface</a> <a
                    href="#ref-for-idl-undefined①">(2)</a> <a href="#ref-for-idl-undefined②">(3)</a> <a
                    href="#ref-for-idl-undefined③">(4)</a> <a href="#ref-for-idl-undefined④">(5)</a> <a
                    href="#ref-for-idl-undefined⑤">(6)</a> <a href="#ref-for-idl-undefined⑥">(7)</a> <a
                    href="#ref-for-idl-undefined⑦">(8)</a>
            <li><a href="#ref-for-idl-undefined⑧">6.5. The AnimationEffect interface</a>
            <li><a href="#ref-for-idl-undefined⑨">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-idl-unrestricted-double">
        <a
            href="https://webidl.spec.whatwg.org/#idl-unrestricted-double">https://webidl.spec.whatwg.org/#idl-unrestricted-double</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-unrestricted-double">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a> <a href="#ref-for-idl-unrestricted-double①">(2)</a> <a
                    href="#ref-for-idl-unrestricted-double②">(3)</a> <a href="#ref-for-idl-unrestricted-double③">(4)</a>
                <a href="#ref-for-idl-unrestricted-double④">(5)</a>
            <li><a href="#ref-for-idl-unrestricted-double⑤">6.5.5. The ComputedEffectTiming dictionary</a> <a
                    href="#ref-for-idl-unrestricted-double⑥">(2)</a> <a href="#ref-for-idl-unrestricted-double⑦">(3)</a>
                <a href="#ref-for-idl-unrestricted-double⑧">(4)</a> <a href="#ref-for-idl-unrestricted-double⑨">(5)</a>
                <a href="#ref-for-idl-unrestricted-double①⓪">(6)</a>
            <li><a href="#ref-for-idl-unrestricted-double①①">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-idl-unrestricted-double①②">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参照によって定義される用語</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-ANIMATIONS-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-animation-fill-mode">animation-fill-mode</span>
                <li><span class="dfn-paneled" id="term-for-propdef-animation-name">animation-name</span>
                <li><span class="dfn-paneled" id="term-for-events">CSSアニメーションのイベント</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-ANIMATIONS-2]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-cssanimation">CSSAnimation</span>
                <li><span class="dfn-paneled" id="term-for-owning-element">所有要素（アニメーション）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-background-image">background-image</span>
                <li><span class="dfn-paneled" id="term-for-propdef-background-origin">background-origin</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-bottom-width">border-bottom-width</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-color">border-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-left-width">border-left-width</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-right-width">border-right-width</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-top">border-top</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-top-color">border-top-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-top-width">border-top-width</span>
                <li><span class="dfn-paneled" id="term-for-propdef-border-width">border-width</span>
                <li><span class="dfn-paneled" id="term-for-propdef-box-shadow">box-shadow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-computed-value">算出値</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-4]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-valdef-color-transparent">transparent</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-3]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-display">display</span>
                <li><span class="dfn-paneled" id="term-for-propdef-visibility">visibility</span>
                <li><span class="dfn-paneled" id="term-for-valdef-visibility-visible">visible</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-EASING-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-typedef-easing-function">&lt;easing-function></span>
                <li><span class="dfn-paneled" id="term-for-before-flag">beforeフラグ</span>
                <li><span class="dfn-paneled" id="term-for-input-progress-value">入力進行度値</span>
                <li><span class="dfn-paneled" id="term-for-linear-easing-function">linearタイミング関数</span>
                <li><span class="dfn-paneled" id="term-for-easing-function">タイミング関数</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-FONTS-4]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-font-size">font-size</span>
                <li><span class="dfn-paneled" id="term-for-propdef-font-weight">font-weight</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-PROPERTIES-VALUES-API-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-dom-css-registerproperty">registerProperty(definition)</span>
                <li><span class="dfn-paneled" id="term-for-syntax-definition">構文定義</span>
                <li><span class="dfn-paneled" id="term-for-universal-syntax-definition">ユニバーサル構文定義</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SHADOW-PARTS-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-selectordef-part">::part()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-STYLE-ATTR]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-style-attribute">style属性</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-DECOR-4]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-text-shadow">text-shadow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TRANSFORMS-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-transform">transform</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TRANSITIONS-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-after-change-style">変更後スタイル</span>
                <li><span class="dfn-paneled" id="term-for-before-change-style">変更前スタイル</span>
                <li><span class="dfn-paneled" id="term-for-transition-events">CSSトランジションのイベント</span>
                <li><span class="dfn-paneled" id="term-for-style-change-event">スタイル変更イベント</span>
                <li><span class="dfn-paneled" id="term-for-transitionend">transitionend</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TRANSITIONS-2]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-owning-element①">所有要素（トランジション）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-number-value">&lt;number></span>
                <li><span class="dfn-paneled" id="term-for-interpolation">補間</span>
                <li><span class="dfn-paneled" id="term-for-interpolation①">補間</span>
                <li><span class="dfn-paneled" id="term-for-not-additive">非加算</span>
                <li><span class="dfn-paneled" id="term-for-accumulation">値の累積</span>
                <li><span class="dfn-paneled" id="term-for-addition">値の加算</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VARIABLES-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled"
                        id="term-for-typedef-custom-property-name">&lt;custom-property-name></span>
                <li><span class="dfn-paneled" id="term-for-custom-property">カスタムプロパティ</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WILL-CHANGE-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-will-change">will-change</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-3]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-direction">direction</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-logical-to-physical">物理プロパティへの変換</span>
                <li><span class="dfn-paneled" id="term-for-propdef-writing-mode">writing-mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS21]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-x43">積み重ねコンテキスト</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS22]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-float">float</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-cssomstring">CSSOMString</span>
                <li><span class="dfn-paneled" id="term-for-css-declaration-block">css宣言ブロック</span>
                <li><span class="dfn-paneled" id="term-for-css-property-to-idl-attribute">cssプロパティからIDL属性への変換</span>
                <li><span class="dfn-paneled" id="term-for-idl-attribute-to-css-property">IDL属性からcssプロパティへの変換</span>
                <li><span class="dfn-paneled" id="term-for-cssstyledeclaration-owner-node">owner node</span>
                <li><span class="dfn-paneled" id="term-for-serialize-a-css-value">CSS値のシリアライズ</span>
                <li><span class="dfn-paneled" id="term-for-set-a-css-declaration">css宣言の設定</span>
                <li><span class="dfn-paneled" id="term-for-update-style-attribute-for">style属性の更新</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-documentorshadowroot">DocumentOrShadowRoot</span>
                <li><span class="dfn-paneled" id="term-for-element">Element</span>
                <li><span class="dfn-paneled" id="term-for-event">Event</span>
                <li><span class="dfn-paneled" id="term-for-dictdef-eventinit">EventInit</span>
                <li><span class="dfn-paneled" id="term-for-eventtarget">EventTarget</span>
                <li><span class="dfn-paneled" id="term-for-connected">connected</span>
                <li><span class="dfn-paneled" id="term-for-constructing-events">イベントの構築</span>
                <li><span class="dfn-paneled" id="term-for-concept-event-create">イベントの生成</span>
                <li><span class="dfn-paneled" id="term-for-concept-tree-descendant">子孫</span>
                <li><span class="dfn-paneled" id="term-for-concept-event-dispatch">dispatch</span>
                <li><span class="dfn-paneled" id="term-for-concept-document">ドキュメント</span>
                <li><span class="dfn-paneled" id="term-for-concept-element-attribute-has">属性を持つ</span>
                <li><span class="dfn-paneled" id="term-for-concept-tree-inclusive-descendant">包括的子孫</span>
                <li><span class="dfn-paneled" id="term-for-concept-node-document">ノードドキュメント</span>
                <li><span class="dfn-paneled" id="term-for-concept-shadow-root">シャドウルート</span>
                <li><span class="dfn-paneled" id="term-for-dom-event-type">type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled"
                        id="term-for-sec-ordinary-object-internal-methods-and-internal-slots-defineownproperty-p-desc">[[defineownproperty]]</span>
                <li><span class="dfn-paneled"
                        id="term-for-sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver">[[get]]</span>
                <li><span class="dfn-paneled" id="term-for-sec-completion-record-specification-type">completion
                        record仕様型</span>
                <li><span class="dfn-paneled" id="term-for-sec-enumerableownnames">enumerableownnames</span>
                <li><span class="dfn-paneled" id="term-for-sec-getiterator">getiterator</span>
                <li><span class="dfn-paneled" id="term-for-sec-getmethod">getmethod</span>
                <li><span class="dfn-paneled" id="term-for-sec-iteratorstep">iteratorstep</span>
                <li><span class="dfn-paneled" id="term-for-sec-iteratorvalue">iteratorvalue</span>
                <li><span class="dfn-paneled" id="term-for-sec-promise-objects">promise</span>
                <li><span class="dfn-paneled" id="term-for-sec-promise-objects①">promiseオブジェクト</span>
                <li><span class="dfn-paneled" id="term-for-sec-ecmascript-data-types-and-values">type</span>
                <li><span class="dfn-paneled" id="term-for-sec-well-known-symbols">well known symbols</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-dom-domhighrestimestamp">DOMHighResTimeStamp</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-cereactions">CEReactions</span>
                <li><span class="dfn-paneled" id="term-for-document">Document</span>
                <li><span class="dfn-paneled" id="term-for-eventhandler">EventHandler</span>
                <li><span class="dfn-paneled" id="term-for-window">Window</span>
                <li><span class="dfn-paneled" id="term-for-active-document">アクティブドキュメント</span>
                <li><span class="dfn-paneled" id="term-for-an-entry-with-persisted-user-state">保存されたユーザー状態付きのエントリ</span>
                <li><span class="dfn-paneled" id="term-for-animation-frames">アニメーションフレームコールバック</span>
                <li><span class="dfn-paneled" id="term-for-being-rendered">being rendered</span>
                <li><span class="dfn-paneled" id="term-for-current-global-object">current global object</span>
                <li><span class="dfn-paneled" id="term-for-concept-document-window">ウィンドウに関連付けられたドキュメント</span>
                <li><span class="dfn-paneled" id="term-for-dom-document-open">document.open()</span>
                <li><span class="dfn-paneled" id="term-for-dom-manipulation-task-source">dom操作タスクソース</span>
                <li><span class="dfn-paneled" id="term-for-event-loop-processing-model">イベントループ処理モデル</span>
                <li><span class="dfn-paneled" id="term-for-media-element">メディア要素</span>
                <li><span class="dfn-paneled" id="term-for-perform-a-microtask-checkpoint">マイクロタスクチェックポイントの実行</span>
                <li><span class="dfn-paneled" id="term-for-queue-a-microtask">マイクロタスクのキューイング</span>
                <li><span class="dfn-paneled" id="term-for-queue-a-task">タスクのキューイング</span>
                <li><span class="dfn-paneled" id="term-for-concept-relevant-realm">関連Realm</span>
                <li><span class="dfn-paneled"
                        id="term-for-run-the-animation-frame-callbacks">アニメーションフレームコールバックの実行</span>
                <li><span class="dfn-paneled" id="term-for-session-history-entry">セッション履歴エントリ</span>
                <li><span class="dfn-paneled" id="term-for-concept-settings-object-time-origin">時刻原点</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-map-exists">存在</span>
                <li><span class="dfn-paneled" id="term-for-list-extend">拡張</span>
                <li><span class="dfn-paneled" id="term-for-list-iterate">反復</span>
                <li><span class="dfn-paneled" id="term-for-list">リスト</span>
                <li><span class="dfn-paneled" id="term-for-ordered-set">順序付き集合</span>
            </ul>
        <li>
            <a data-link-type="biblio">[MOTION-1]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-offset">offset</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECTORS-4]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled"
                        id="term-for-typedef-pseudo-element-selector">&lt;pseudo-element-selector></span>
                <li><span class="dfn-paneled" id="term-for-invalid-selector">無効セレクタ</span>
                <li><span class="dfn-paneled" id="term-for-originating-element">発生元要素</span>
                <li><span class="dfn-paneled" id="term-for-pseudo-element">疑似要素</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SVG2]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-mime-registration">svg MIMEタイプ</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEB-ANIMATIONS-2]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-iteration-composite-operation">反復合成操作</span>
                <li><span class="dfn-paneled"
                        id="term-for-iteration-composite-operation-accumulate">反復合成操作accumulate</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> では以下の用語が定義されています:
            <ul>
                <li><span class="dfn-paneled" id="term-for-idl-DOMException">DOMException</span>
                <li><span class="dfn-paneled" id="term-for-idl-DOMString">DOMString</span>
                <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
                <li><span class="dfn-paneled" id="term-for-invalidstateerror">InvalidStateError</span>
                <li><span class="dfn-paneled" id="term-for-nomodificationallowederror">NoModificationAllowedError</span>
                <li><span class="dfn-paneled" id="term-for-idl-promise">Promise</span>
                <li><span class="dfn-paneled" id="term-for-syntaxerror">SyntaxError</span>
                <li><span class="dfn-paneled" id="term-for-EnforceRange">[enforcerange]</span>
                <li><span class="dfn-paneled" id="term-for-a-new-promise">新しいpromise</span>
                <li><span class="dfn-paneled" id="term-for-idl-boolean">boolean</span>
                <li><span class="dfn-paneled"
                        id="term-for-dfn-convert-ecmascript-to-idl-value">ECMAScriptからIDL値への変換</span>
                <li><span class="dfn-paneled" id="term-for-a-promise-resolved-with">新しいresolve済みpromiseの生成</span>
                <li><span class="dfn-paneled" id="term-for-DOMString-to-es">DOMStringからESへ</span>
                <li><span class="dfn-paneled" id="term-for-idl-double">double</span>
                <li><span class="dfn-paneled" id="term-for-es-to-dictionary">ESから辞書型へ</span>
                <li><span class="dfn-paneled" id="term-for-es-to-DOMString">ESからDOMStringへ</span>
                <li><span class="dfn-paneled" id="term-for-dfn-nullable-type">nullable型</span>
                <li><span class="dfn-paneled" id="term-for-idl-object">object</span>
                <li><span class="dfn-paneled" id="term-for-reject">promiseのreject</span>
                <li><span class="dfn-paneled" id="term-for-resolve">promiseのresolve</span>
                <li><span class="dfn-paneled" id="term-for-idl-sequence">sequence</span>
                <li><span class="dfn-paneled" id="term-for-dfn-throw">throw</span>
                <li><span class="dfn-paneled" id="term-for-idl-undefined">undefined</span>
                <li><span class="dfn-paneled" id="term-for-idl-unrestricted-double">unrestricted double</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">規範的参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-animations-1">[CSS-ANIMATIONS-1]
        <dd>David Baron 他. <a href="https://www.w3.org/TR/css-animations-1/"><cite>CSS Animations Level
                    1</cite></a>. 2023年3月2日. WD. URL: <a
                href="https://www.w3.org/TR/css-animations-1/">https://www.w3.org/TR/css-animations-1/</a>
        <dt id="biblio-css-animations-2">[CSS-ANIMATIONS-2]
        <dd>David Baron、Brian Birtles. <a href="https://www.w3.org/TR/css-animations-2/"><cite>CSS Animations Level
                    2</cite></a>. 2023年3月2日. WD. URL: <a
                href="https://www.w3.org/TR/css-animations-2/">https://www.w3.org/TR/css-animations-2/</a>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Bert Bos、Elika Etemad、Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/"><cite>CSS
                    Backgrounds and Borders Module Level 3</cite></a>. 2023年2月14日. CR. URL: <a
                href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
        <dt id="biblio-css-cascade-3">[CSS-CASCADE-3]
        <dd>Elika Etemad、Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-3/"><cite>CSS Cascading and
                    Inheritance Level 3</cite></a>. 2021年2月11日. REC. URL: <a
                href="https://www.w3.org/TR/css-cascade-3/">https://www.w3.org/TR/css-cascade-3/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad、Miriam Suzanne、Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>. 2022年1月13日. CR. URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Tab Atkins Jr.、Chris Lilley、Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS Color Module
                    Level 4</cite></a>. 2022年11月1日. CR. URL: <a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Elika Etemad、Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level
                    3</cite></a>. 2023年3月30日. CR. URL: <a
                href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-easing-1">[CSS-EASING-1]
        <dd>Brian Birtles、Dean Jackson、Matt Rakow. <a href="https://www.w3.org/TR/css-easing-1/"><cite>CSS Easing
                    Functions Level 1</cite></a>. 2023年2月13日. CR. URL: <a
                href="https://www.w3.org/TR/css-easing-1/">https://www.w3.org/TR/css-easing-1/</a>
        <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
        <dd>John Daggett、Myles Maxfield、Chris Lilley. <a href="https://www.w3.org/TR/css-fonts-4/"><cite>CSS Fonts
                    Module Level 4</cite></a>. 2021年12月21日. WD. URL: <a
                href="https://www.w3.org/TR/css-fonts-4/">https://www.w3.org/TR/css-fonts-4/</a>
        <dt id="biblio-css-logical-1">[CSS-LOGICAL-1]
        <dd>Rossen Atanassov、Elika Etemad. <a href="https://www.w3.org/TR/css-logical-1/"><cite>CSS Logical Properties
                    and Values Level 1</cite></a>. 2018年8月27日. WD. URL: <a
                href="https://www.w3.org/TR/css-logical-1/">https://www.w3.org/TR/css-logical-1/</a>
        <dt id="biblio-css-properties-values-api-1">[CSS-PROPERTIES-VALUES-API-1]
        <dd>Tab Atkins Jr. 他. <a href="https://www.w3.org/TR/css-properties-values-api-1/"><cite>CSS Properties and
                    Values API Level 1</cite></a>. 2020年10月13日. WD. URL: <a
                href="https://www.w3.org/TR/css-properties-values-api-1/">https://www.w3.org/TR/css-properties-values-api-1/</a>
        <dt id="biblio-css-shadow-parts-1">[CSS-SHADOW-PARTS-1]
        <dd>Tab Atkins Jr.、Fergal Daly. <a href="https://www.w3.org/TR/css-shadow-parts-1/"><cite>CSS Shadow
                    Parts</cite></a>. 2018年11月15日. WD. URL: <a
                href="https://www.w3.org/TR/css-shadow-parts-1/">https://www.w3.org/TR/css-shadow-parts-1/</a>
        <dt id="biblio-css-style-attr">[CSS-STYLE-ATTR]
        <dd>Tantek Çelik、Elika Etemad。 <a
                href="https://www.w3.org/TR/css-style-attr/"><cite>CSSスタイル属性</cite></a>。2013年11月7日。REC。URL: <a
                href="https://www.w3.org/TR/css-style-attr/">https://www.w3.org/TR/css-style-attr/</a>
        <dt id="biblio-css-text-decor-4">[CSS-TEXT-DECOR-4]
        <dd>Elika Etemad、石井宏治。 <a href="https://www.w3.org/TR/css-text-decor-4/"><cite>CSSテキストデコレーションモジュール
                    レベル4</cite></a>。2022年5月4日。WD。URL: <a
                href="https://www.w3.org/TR/css-text-decor-4/">https://www.w3.org/TR/css-text-decor-4/</a>
        <dt id="biblio-css-transforms-1">[CSS-TRANSFORMS-1]
        <dd>Simon Fraser 他。 <a href="https://www.w3.org/TR/css-transforms-1/"><cite>CSS変形モジュール
                    レベル1</cite></a>。2019年2月14日。CR。URL: <a
                href="https://www.w3.org/TR/css-transforms-1/">https://www.w3.org/TR/css-transforms-1/</a>
        <dt id="biblio-css-transitions-1">[CSS-TRANSITIONS-1]
        <dd>David Baron 他。 <a
                href="https://www.w3.org/TR/css-transitions-1/"><cite>CSSトランジション</cite></a>。2018年10月11日。WD。URL: <a
                href="https://www.w3.org/TR/css-transitions-1/">https://www.w3.org/TR/css-transitions-1/</a>
        <dt id="biblio-css-transitions-2">[CSS-TRANSITIONS-2]
        <dd>CSSトランジションレベル2 URL: <a
                href="https://drafts.csswg.org/css-transitions-2/">https://drafts.csswg.org/css-transitions-2/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.、Elika Etemad。 <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS値と単位モジュール
                    レベル4</cite></a>。2023年4月6日。WD。URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-variables-1">[CSS-VARIABLES-1]
        <dd>Tab Atkins Jr.。 <a href="https://www.w3.org/TR/css-variables-1/"><cite>CSSカスタムプロパティ（カスケーディング変数）モジュール
                    レベル1</cite></a>。2022年6月16日。CR。URL: <a
                href="https://www.w3.org/TR/css-variables-1/">https://www.w3.org/TR/css-variables-1/</a>
        <dt id="biblio-css-will-change-1">[CSS-WILL-CHANGE-1]
        <dd>Tab Atkins Jr.。 <a href="https://www.w3.org/TR/css-will-change-1/"><cite>CSS Will Changeモジュール
                    レベル1</cite></a>。2022年5月5日。CR。URL: <a
                href="https://www.w3.org/TR/css-will-change-1/">https://www.w3.org/TR/css-will-change-1/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad、石井宏治。 <a href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS書字モードモジュール
                    レベル3</cite></a>。2019年12月10日。REC。URL: <a
                href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad、石井宏治。 <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS書字モードモジュール
                    レベル4</cite></a>。2019年7月30日。CR。URL: <a
                href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        <dt id="biblio-css21">[CSS21]
        <dd>Bert Bos 他。 <a href="https://www.w3.org/TR/CSS21/"><cite>カスケーディングスタイルシート レベル2改訂1 (CSS 2.1)
                    現行標準</cite></a>。2011年6月7日。REC。URL: <a
                href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-css22">[CSS22]
        <dd>Bert Bos。 <a href="https://www.w3.org/TR/CSS22/"><cite>カスケーディングスタイルシート レベル2改訂2 (CSS 2.2)
                    現行標準</cite></a>。2016年4月12日。WD。URL: <a
                href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
        <dt id="biblio-cssom">[CSSOM]
        <dd>Daniel Glazman、Emilio Cobos Álvarez。 <a
                href="https://www.w3.org/TR/cssom-1/"><cite>CSSオブジェクトモデル（CSSOM）</cite></a>。2021年8月26日。WD。URL: <a
                href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren。 <a href="https://dom.spec.whatwg.org/"><cite>DOM現行標準</cite></a>。現行標準。URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript言語現行標準</cite></a>。URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-hr-time">[HR-TIME]
        <dd>Yoav Weiss。 <a href="https://www.w3.org/TR/hr-time-3/"><cite>高精度時刻（High Resolution
                    Time）</cite></a>。2023年4月25日。WD。URL: <a
                href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren 他。 <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML現行標準</cite></a>。現行標準。URL:
            <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren、Domenic Denicola。 <a
                href="https://infra.spec.whatwg.org/"><cite>Infra現行標準</cite></a>。現行標準。URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-media-frags">[MEDIA-FRAGS]
        <dd>Raphaël Troncy 他。 <a href="https://www.w3.org/TR/media-frags/"><cite>Media Fragments URI 1.0
                    (基本)</cite></a>。2012年9月25日。REC。URL: <a
                href="https://www.w3.org/TR/media-frags/">https://www.w3.org/TR/media-frags/</a>
        <dt id="biblio-motion-1">[MOTION-1]
        <dd>Dirk Schulze 他。 <a href="https://www.w3.org/TR/motion-1/"><cite>モーションパスモジュール
                    レベル1</cite></a>。2018年12月18日。WD。URL: <a
                href="https://www.w3.org/TR/motion-1/">https://www.w3.org/TR/motion-1/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner。 <a
                href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>RFC内の要件レベルを示すキーワード</cite></a>。1997年3月。Best
            Current Practice。URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-select">[SELECT]
        <dd>Tantek Çelik 他。 <a href="https://www.w3.org/TR/selectors-3/"><cite>セレクター レベル3</cite></a>。2018年11月6日。REC。URL:
            <a href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a>
        <dt id="biblio-selectors-4">[SELECTORS-4]
        <dd>Elika Etemad、Tab Atkins Jr.。 <a href="https://www.w3.org/TR/selectors-4/"><cite>セレクター
                    レベル4</cite></a>。2022年11月11日。WD。URL: <a
                href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
        <dt id="biblio-svg11">[SVG11]
        <dd>Erik Dahlström 他。 <a href="https://www.w3.org/TR/SVG11/"><cite>スケーラブル・ベクター・グラフィックス (SVG)
                    1.1（第2版）</cite></a>。2011年8月16日。REC。URL: <a
                href="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
        <dt id="biblio-svg2">[SVG2]
        <dd>Amelia Bellamy-Royds 他。 <a href="https://www.w3.org/TR/SVG2/"><cite>スケーラブル・ベクター・グラフィックス (SVG)
                    2</cite></a>。2018年10月4日。CR。URL: <a
                href="https://www.w3.org/TR/SVG2/">https://www.w3.org/TR/SVG2/</a>
        <dt id="biblio-web-animations-2">[WEB-ANIMATIONS-2]
        <dd>Brian Birtles、Robert Flack。 <a href="https://www.w3.org/TR/web-animations-2/"><cite>Web Animations
                    レベル2</cite></a>。2023年2月21日。WD。URL: <a
                href="https://www.w3.org/TR/web-animations-2/">https://www.w3.org/TR/web-animations-2/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen、Timothy Gu。 <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL現行標準</cite></a>。現行標準。URL: <a
                href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考情報文献</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-smil-animation">[SMIL-ANIMATION]
        <dd>Patrick Schmitz、Aaron Cohen。 <a
                href="https://www.w3.org/TR/smil-animation/"><cite>SMILアニメーション</cite></a>。2001年9月4日。REC。URL: <a
                href="https://www.w3.org/TR/smil-animation/">https://www.w3.org/TR/smil-animation/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#animationtimeline"><code><c- g>AnimationTimeline</c-></code></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="double?" href="#dom-animationtimeline-currenttime"><c- g>currentTime</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-documenttimelineoptions"><code><c- g>DocumentTimelineOptions</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="DOMHighResTimeStamp " href="#dom-documenttimelineoptions-origintime"><c- g>originTime</c-></a> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#documenttimeline"><code><c- g>DocumentTimeline</c-></code></a> : <a data-link-type="idl-name" href="#animationtimeline"><c- n>AnimationTimeline</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-documenttimeline-documenttimeline"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-documenttimelineoptions"><c- n>DocumentTimelineOptions</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-documenttimeline-documenttimeline-options-options"><c- g>options</c-></a> = {});
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#animation"><code><c- g>Animation</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-animation-animation"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#animationeffect"><c- n>AnimationEffect</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-animation-animation-effect-timeline-effect"><c- g>effect</c-></a> = <c- b>null</c->,
                <c- b>optional</c-> <a data-link-type="idl-name" href="#animationtimeline"><c- n>AnimationTimeline</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-animation-animation-effect-timeline-timeline"><c- g>timeline</c-></a>);
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>                <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-animation-id"><c- g>id</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="#animationeffect"><c- n>AnimationEffect</c-></a>?         <a class="idl-code" data-link-type="attribute" data-type="AnimationEffect?" href="#dom-animation-effect"><c- g>effect</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="#animationtimeline"><c- n>AnimationTimeline</c-></a>?       <a class="idl-code" data-link-type="attribute" data-type="AnimationTimeline?" href="#dom-animation-timeline"><c- g>timeline</c-></a>;
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>?                  <a class="idl-code" data-link-type="attribute" data-type="double?" href="#dom-animation-starttime"><c- g>startTime</c-></a>;
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>?                  <a class="idl-code" data-link-type="attribute" data-type="double?" href="#dom-animation-currenttime"><c- g>currentTime</c-></a>;
             <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                   <a class="idl-code" data-link-type="attribute" data-type="double" href="#dom-animation-playbackrate"><c- g>playbackRate</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-animationplaystate"><c- n>AnimationPlayState</c-></a>       <a class="idl-code" data-link-type="attribute" data-readonly data-type="AnimationPlayState" href="#dom-animation-playstate"><c- g>playState</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-animationreplacestate"><c- n>AnimationReplaceState</c-></a>    <a class="idl-code" data-link-type="attribute" data-readonly data-type="AnimationReplaceState" href="#dom-animation-replacestate"><c- g>replaceState</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>                  <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-animation-pending"><c- g>pending</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#animation"><c- n>Animation</c-></a>>       <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Animation>" href="#dom-animation-ready"><c- g>ready</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#animation"><c- n>Animation</c-></a>>       <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Animation>" href="#dom-animation-finished"><c- g>finished</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a>             <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-animation-onfinish"><c- g>onfinish</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a>             <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-animation-oncancel"><c- g>oncancel</c-></a>;
             <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a>             <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-animation-onremove"><c- g>onremove</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-cancel"><c- g>cancel</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-finish"><c- g>finish</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-play"><c- g>play</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-pause"><c- g>pause</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-updateplaybackrate"><c- g>updatePlaybackRate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-animation-updateplaybackrate-playbackrate-playbackrate"><c- g>playbackRate</c-></a>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-reverse"><c- g>reverse</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-persist"><c- g>persist</c-></a>();
    [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>]
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animation-commitstyles"><c- g>commitStyles</c-></a>();
};

<c- b>enum</c-> <a href="#enumdef-animationplaystate"><code><c- g>AnimationPlayState</c-></code></a> { <a href="#dom-animationplaystate-idle"><code><c- s>"idle"</c-></code></a>, <a href="#dom-animationplaystate-running"><code><c- s>"running"</c-></code></a>, <a href="#dom-animationplaystate-paused"><code><c- s>"paused"</c-></code></a>, <a href="#dom-animationplaystate-finished"><code><c- s>"finished"</c-></code></a> };

<c- b>enum</c-> <a href="#enumdef-animationreplacestate"><code><c- g>AnimationReplaceState</c-></code></a> { <a href="#dom-animationreplacestate-active"><code><c- s>"active"</c-></code></a>, <a href="#dom-animationreplacestate-removed"><code><c- s>"removed"</c-></code></a>, <a href="#dom-animationreplacestate-persisted"><code><c- s>"persisted"</c-></code></a> };

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#animationeffect"><code><c- g>AnimationEffect</c-></code></a> {
    <a data-link-type="idl-name" href="#dictdef-effecttiming"><c- n>EffectTiming</c-></a>         <a class="idl-code" data-link-type="method" href="#dom-animationeffect-gettiming"><c- g>getTiming</c-></a>();
    <a data-link-type="idl-name" href="#dictdef-computedeffecttiming"><c- n>ComputedEffectTiming</c-></a> <a class="idl-code" data-link-type="method" href="#dom-animationeffect-getcomputedtiming"><c- g>getComputedTiming</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>            <a class="idl-code" data-link-type="method" href="#dom-animationeffect-updatetiming"><c- g>updateTiming</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-optionaleffecttiming"><c- n>OptionalEffectTiming</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-animationeffect-updatetiming-timing-timing"><c- g>timing</c-></a> = {});
};

<c- b>dictionary</c-> <a href="#dictdef-effecttiming"><code><c- g>EffectTiming</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                             <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="double                             " href="#dom-effecttiming-delay"><c- g>delay</c-></a> = 0;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                             <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="double                             " href="#dom-effecttiming-enddelay"><c- g>endDelay</c-></a> = 0;
    <a data-link-type="idl-name" href="#enumdef-fillmode"><c- n>FillMode</c-></a>                           <a class="idl-code" data-default="&quot;auto&quot;" data-link-type="dict-member" data-type="FillMode                           " href="#dom-effecttiming-fill"><c- g>fill</c-></a> = "auto";
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                             <a class="idl-code" data-default="0.0" data-link-type="dict-member" data-type="double                             " href="#dom-effecttiming-iterationstart"><c- g>iterationStart</c-></a> = 0.0;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>                <a class="idl-code" data-default="1.0" data-link-type="dict-member" data-type="unrestricted double                " href="#dom-effecttiming-iterations"><c- g>iterations</c-></a> = 1.0;
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>) <a class="idl-code" data-default="&quot;auto&quot;" data-link-type="dict-member" data-type="(unrestricted double or DOMString) " href="#dom-effecttiming-duration"><c- g>duration</c-></a> = "auto";
    <a data-link-type="idl-name" href="#enumdef-playbackdirection"><c- n>PlaybackDirection</c-></a>                  <a class="idl-code" data-default="&quot;normal&quot;" data-link-type="dict-member" data-type="PlaybackDirection                  " href="#dom-effecttiming-direction"><c- g>direction</c-></a> = "normal";
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>                          <a class="idl-code" data-default="&quot;linear&quot;" data-link-type="dict-member" data-type="DOMString                          " href="#dom-effecttiming-easing"><c- g>easing</c-></a> = "linear";
};

<c- b>dictionary</c-> <a href="#dictdef-optionaleffecttiming"><code><c- g>OptionalEffectTiming</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                             <a class="idl-code" data-link-type="dict-member" data-type="double                             " href="#dom-optionaleffecttiming-delay"><c- g>delay</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                             <a class="idl-code" data-link-type="dict-member" data-type="double                             " href="#dom-optionaleffecttiming-enddelay"><c- g>endDelay</c-></a>;
    <a data-link-type="idl-name" href="#enumdef-fillmode"><c- n>FillMode</c-></a>                           <a class="idl-code" data-link-type="dict-member" data-type="FillMode                           " href="#dom-optionaleffecttiming-fill"><c- g>fill</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                             <a class="idl-code" data-link-type="dict-member" data-type="double                             " href="#dom-optionaleffecttiming-iterationstart"><c- g>iterationStart</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>                <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double                " href="#dom-optionaleffecttiming-iterations"><c- g>iterations</c-></a>;
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>) <a class="idl-code" data-link-type="dict-member" data-type="(unrestricted double or DOMString) " href="#dom-optionaleffecttiming-duration"><c- g>duration</c-></a>;
    <a data-link-type="idl-name" href="#enumdef-playbackdirection"><c- n>PlaybackDirection</c-></a>                  <a class="idl-code" data-link-type="dict-member" data-type="PlaybackDirection                  " href="#dom-optionaleffecttiming-direction"><c- g>direction</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>                          <a class="idl-code" data-link-type="dict-member" data-type="DOMString                          " href="#dom-optionaleffecttiming-easing"><c- g>easing</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-fillmode"><code><c- g>FillMode</c-></code></a> { <a href="#dom-fillmode-none"><code><c- s>"none"</c-></code></a>, <a href="#dom-fillmode-forwards"><code><c- s>"forwards"</c-></code></a>, <a href="#dom-fillmode-backwards"><code><c- s>"backwards"</c-></code></a>, <a href="#dom-fillmode-both"><code><c- s>"both"</c-></code></a>, <a href="#dom-fillmode-auto"><code><c- s>"auto"</c-></code></a> };

<c- b>enum</c-> <a href="#enumdef-playbackdirection"><code><c- g>PlaybackDirection</c-></code></a> { <a href="#dom-playbackdirection-normal"><code><c- s>"normal"</c-></code></a>, <a href="#dom-playbackdirection-reverse"><code><c- s>"reverse"</c-></code></a>, <a href="#dom-playbackdirection-alternate"><code><c- s>"alternate"</c-></code></a>, <a href="#dom-playbackdirection-alternate-reverse"><code><c- s>"alternate-reverse"</c-></code></a> };

<c- b>dictionary</c-> <a href="#dictdef-computedeffecttiming"><code><c- g>ComputedEffectTiming</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-effecttiming"><c- n>EffectTiming</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>  <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double  " href="#dom-computedeffecttiming-endtime"><c- g>endTime</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>  <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double  " href="#dom-computedeffecttiming-activeduration"><c- g>activeDuration</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>?              <a class="idl-code" data-link-type="dict-member" data-type="double?              " href="#dom-computedeffecttiming-localtime"><c- g>localTime</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>?              <a class="idl-code" data-link-type="dict-member" data-type="double?              " href="#dom-computedeffecttiming-progress"><c- g>progress</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double? " href="#dom-computedeffecttiming-currentiteration"><c- g>currentIteration</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#keyframeeffect"><code><c- g>KeyframeEffect</c-></code></a> : <a data-link-type="idl-name" href="#animationeffect"><c- n>AnimationEffect</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-keyframeeffect-keyframeeffect"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-target"><c- g>target</c-></a>,
                <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes"><c- g>keyframes</c-></a>,
                <c- b>optional</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-keyframeeffectoptions"><c- n>KeyframeEffectOptions</c-></a>) <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-options"><c- g>options</c-></a> = {});
    <a class="idl-code" data-link-type="constructor" href="#dom-keyframeeffect-keyframeeffect-source"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#keyframeeffect"><c- n>KeyframeEffect</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-keyframeeffect-keyframeeffect-source-source"><c- g>source</c-></a>);
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a>?           <a class="idl-code" data-link-type="attribute" data-type="Element?" href="#dom-keyframeeffect-target"><c- g>target</c-></a>;
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a>?       <a class="idl-code" data-link-type="attribute" data-type="CSSOMString?" href="#dom-keyframeeffect-pseudoelement"><c- g>pseudoElement</c-></a>;
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-compositeoperation"><c- n>CompositeOperation</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CompositeOperation" href="#dom-keyframeeffect-composite"><c- g>composite</c-></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-keyframeeffect-getkeyframes"><c- g>getKeyframes</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>        <a class="idl-code" data-link-type="method" href="#dom-keyframeeffect-setkeyframes"><c- g>setKeyframes</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>? <a href="#dom-keyframeeffect-setkeyframes-keyframes-keyframes"><code><c- g>keyframes</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-basecomputedkeyframe"><code><c- g>BaseComputedKeyframe</c-></code></a> {
     <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>?                  <a data-default="null" data-type="double?                  " href="#dom-basecomputedkeyframe-offset"><code><c- g>offset</c-></code></a> = <c- b>null</c->;
     <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>                   <a data-type="double                   " href="#dom-basecomputedkeyframe-computedoffset"><code><c- g>computedOffset</c-></code></a>;
     <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>                <a data-default="&quot;linear&quot;" data-type="DOMString                " href="#dom-basecomputedkeyframe-easing"><code><c- g>easing</c-></code></a> = "linear";
     <a data-link-type="idl-name" href="#enumdef-compositeoperationorauto"><c- n>CompositeOperationOrAuto</c-></a> <a data-default="&quot;auto&quot;" data-type="CompositeOperationOrAuto " href="#dom-basecomputedkeyframe-composite"><code><c- g>composite</c-></code></a> = "auto";
};

<c- b>dictionary</c-> <a href="#dictdef-basepropertyindexedkeyframe"><code><c- g>BasePropertyIndexedKeyframe</c-></code></a> {
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>? <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>?>)                         <a data-default="[]" data-type="(double? or sequence<double?>)                         " href="#dom-basepropertyindexedkeyframe-offset"><code><c- g>offset</c-></code></a> = [];
    (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>)                     <a data-default="[]" data-type="(DOMString or sequence<DOMString>)                     " href="#dom-basepropertyindexedkeyframe-easing"><code><c- g>easing</c-></code></a> = [];
    (<a data-link-type="idl-name" href="#enumdef-compositeoperationorauto"><c- n>CompositeOperationOrAuto</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-compositeoperationorauto"><c- n>CompositeOperationOrAuto</c-></a>>) <a data-default="[]" data-type="(CompositeOperationOrAuto or sequence<CompositeOperationOrAuto>) " href="#dom-basepropertyindexedkeyframe-composite"><code><c- g>composite</c-></code></a> = [];
};

<c- b>dictionary</c-> <a href="#dictdef-basekeyframe"><code><c- g>BaseKeyframe</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>?                  <a data-default="null" data-type="double?                  " href="#dom-basekeyframe-offset"><code><c- g>offset</c-></code></a> = <c- b>null</c->;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>                <a data-default="&quot;linear&quot;" data-type="DOMString                " href="#dom-basekeyframe-easing"><code><c- g>easing</c-></code></a> = "linear";
    <a data-link-type="idl-name" href="#enumdef-compositeoperationorauto"><c- n>CompositeOperationOrAuto</c-></a> <a data-default="&quot;auto&quot;" data-type="CompositeOperationOrAuto " href="#dom-basekeyframe-composite"><code><c- g>composite</c-></code></a> = "auto";
};

<c- b>dictionary</c-> <a href="#dictdef-keyframeeffectoptions"><code><c- g>KeyframeEffectOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-effecttiming"><c- n>EffectTiming</c-></a> {
    <a data-link-type="idl-name" href="#enumdef-compositeoperation"><c- n>CompositeOperation</c-></a> <a class="idl-code" data-default="&quot;replace&quot;" data-link-type="dict-member" data-type="CompositeOperation " href="#dom-keyframeeffectoptions-composite"><c- g>composite</c-></a> = "replace";
    <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a>?       <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="CSSOMString?       " href="#dom-keyframeeffectoptions-pseudoelement"><c- g>pseudoElement</c-></a> = <c- b>null</c->;
};

<c- b>enum</c-> <a href="#enumdef-compositeoperation"><code><c- g>CompositeOperation</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-replace"><c- s>"replace"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-add"><c- s>"add"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-accumulate"><c- s>"accumulate"</c-></a> };

<c- b>enum</c-> <a href="#enumdef-compositeoperationorauto"><code><c- g>CompositeOperationOrAuto</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-replace"><c- s>"replace"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-add"><c- s>"add"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperation-accumulate"><c- s>"accumulate"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-compositeoperationorauto-auto"><c- s>"auto"</c-></a> };

<c- b>interface</c-> <c- b>mixin</c-> <a href="#animatable"><code><c- g>Animatable</c-></code></a> {
    <a data-link-type="idl-name" href="#animation"><c- n>Animation</c-></a>           <a class="idl-code" data-link-type="method" href="#dom-animatable-animate"><c- g>animate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>? <a class="idl-code" data-link-type="argument" href="#dom-animatable-animate-keyframes-options-keyframes"><c- g>keyframes</c-></a>,
                                <c- b>optional</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-keyframeanimationoptions"><c- n>KeyframeAnimationOptions</c-></a>) <a class="idl-code" data-link-type="argument" href="#dom-animatable-animate-keyframes-options-options"><c- g>options</c-></a> = {});
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#animation"><c- n>Animation</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-animatable-getanimations"><c- g>getAnimations</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-getanimationsoptions"><c- n>GetAnimationsOptions</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-animatable-getanimations-options-options"><c- g>options</c-></a> = {});
};

<c- b>dictionary</c-> <a href="#dictdef-keyframeanimationoptions"><code><c- g>KeyframeAnimationOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-keyframeeffectoptions"><c- n>KeyframeEffectOptions</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-keyframeanimationoptions-id"><c- g>id</c-></a> = "";
    <a data-link-type="idl-name" href="#animationtimeline"><c- n>AnimationTimeline</c-></a>? <a class="idl-code" data-link-type="dict-member" data-type="AnimationTimeline? " href="#dom-keyframeanimationoptions-timeline"><c- g>timeline</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-getanimationsoptions"><code><c- g>GetAnimationsOptions</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-default="false" data-link-type="dict-member" data-type="boolean " href="#dom-getanimationsoptions-subtree"><c- g>subtree</c-></a> = <c- b>false</c->;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/#document"><c- g>Document</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#documenttimeline"><c- n>DocumentTimeline</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DocumentTimeline" href="#dom-document-timeline"><c- g>timeline</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#documentorshadowroot"><c- g>DocumentOrShadowRoot</c-></a> {
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#animation"><c- n>Animation</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-documentorshadowroot-getanimations"><c- g>getAnimations</c-></a>();
};

<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#animatable"><c- n>Animatable</c-></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#animationplaybackevent"><code><c- g>AnimationPlaybackEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-animationplaybackevent-animationplaybackevent"><c- g>constructor</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-animationplaybackevent-animationplaybackevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-animationplaybackeventinit"><c- n>AnimationPlaybackEventInit</c-></a> <a href="#dom-animationplaybackevent-animationplaybackevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="double?" href="#dom-animationplaybackevent-currenttime"><c- g>currentTime</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="double?" href="#dom-animationplaybackevent-timelinetime"><c- g>timelineTime</c-></a>;
};
<c- b>dictionary</c-> <a href="#dictdef-animationplaybackeventinit"><code><c- g>AnimationPlaybackEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>? <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="double? " href="#dom-animationplaybackeventinit-currenttime"><c- g>currentTime</c-></a> = <c- b>null</c->;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>? <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="double? " href="#dom-animationplaybackeventinit-timelinetime"><c- g>timelineTime</c-></a> = <c- b>null</c->;
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">課題索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue">「origin time」より良い用語が必要です—
            「time origin」とあまりにも似ています。 <a href="https://github.com/w3c/csswg-drafts/issues/2079">[Issue
                #2079]</a> <a class="issue-return" href="#issue-9fa706cb" title="Jump to section">↵</a></div>
        <div class="issue">
            特定のタイミング関数が存在すると、アニメーション効果への入力反復進行度は[0, 1]の範囲に制限されません。
            しかし現状では、キーフレームオフセットは<em>範囲[0, 1]</em>に制限されており、プロパティ値はこの範囲外の入力反復進行度に対して単純に外挿されます。
            <p>この制限を撤廃することも検討しましたが、一部ケースでは[0, 1]の範囲外の反復進行度で非線形なプロパティ値変化を指定できることが有用です。
                例えば、緑から黄色への補間アニメーションで、オーバーシュートタイミング関数により一時的に黄色を「越えて」赤に補間した後、再び黄色に戻るような場合です。</p>
            <p>この効果はキーフレームやタイミング関数の修正で実現できますが、この方法ではタイミングの関心事とアニメーション効果の分離というモデルの原則を損なってしまうように思えます。</p>
            <p>この効果をどう実現すべきかは明確ではありませんが、キーフレームオフセットを[0,
                1]の範囲外で許可すると、現在規定されている「オフセット0と1のキーフレームが必要に応じて合成される」動作との一貫性が失われる可能性があります。</p>
            <p>詳しくは <a
                    href="https://lists.w3.org/Archives/Public/public-fx/2013AprJun/0184.html">2013年東京F2Fの議事録の4節（Keyframe
                    offsets outside [0, 1]）</a>を参照してください。</p>
            <p><a
                    href="https://github.com/w3c/csswg-drafts/issues/2081">&lt;https://github.com/w3c/csswg-drafts/issues/2081></a>
            </p>
            <a class="issue-return" href="#issue-9e46aa87" title="Jump to section">↵</a>
        </div>
        <div class="issue">
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#being-rendered">being
                    rendered</a> <a data-link-type="biblio" href="#biblio-html">[HTML]</a> の定義は、<a class="css"
                    data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display">display:
                    contents</a>に関してはまだ議論中です。
                この手順のため、<span class="css">display: contents</span>を持ち、通常はレイアウトボックスが関連付けられる要素（すなわち<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#connected">connected</a>かつ
                <span class="css">display: none</span>サブツリーには属さない）は<em>being rendered</em>とみなします。
            </p>
            <a class="issue-return" href="#issue-8f3b970c" title="Jump to section">↵</a>
        </div>
        <div class="issue">
            <code>remove()</code>メソッドは、効果を親グループまたはアニメーションのいずれからも削除できます。レベル1でこの仕様を維持し、単純にアニメーション効果をそのアニメーションから削除するものとして定義すべきでしょうか？
            <a href="https://github.com/w3c/csswg-drafts/issues/2082">[Issue #2082]</a> <a class="issue-return"
                href="#issue-178c6cfa" title="Jump to section">↵</a>
        </div>
        <div class="issue"> [[type]]が<span class="esvalue">break</span>、<span class="esvalue">continue</span>、<span
                class="esvalue">return</span>の場合はどうすべき？あり得る？ <a class="issue-return" href="#issue-47a68024"
                title="Jump to section">↵</a></div>
        <div class="issue"> <a data-link-type="dfn" href="#time-value">時刻値</a>が
            <code>navigationStart</code>基準で、<code>requestAnimationFrame</code>が<code>document.timeline.currentTime</code>と同じ時刻を使うことと矛盾しないか？
            <a href="https://github.com/w3c/csswg-drafts/issues/2083">[Issue
                #2083]</a> <a class="issue-return" href="#issue-a128cfff" title="Jump to section">↵</a>
        </div>
    </div>
    <aside class="dfn-panel" data-for="time-value">
        <b><a href="#time-value">#time-value</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-time-value">4.2. Time values</a> <a href="#ref-for-time-value①">(2)</a> <a
                    href="#ref-for-time-value②">(3)</a> <a href="#ref-for-time-value③">(4)</a>
            <li><a href="#ref-for-time-value④">4.3. Timelines</a> <a href="#ref-for-time-value⑤">(2)</a> <a
                    href="#ref-for-time-value⑥">(3)</a> <a href="#ref-for-time-value⑦">(4)</a> <a
                    href="#ref-for-time-value⑧">(5)</a> <a href="#ref-for-time-value⑨">(6)</a>
            <li><a href="#ref-for-time-value①⓪">4.3.1. Document timelines</a>
            <li><a href="#ref-for-time-value①①">4.3.2. The default document timeline</a> <a
                    href="#ref-for-time-value①②">(2)</a>
            <li><a href="#ref-for-time-value①③">4.4. Animations</a> <a href="#ref-for-time-value①④">(2)</a> <a
                    href="#ref-for-time-value①⑤">(3)</a>
            <li><a href="#ref-for-time-value①⑥">4.4.3. The current time of an animation</a> <a
                    href="#ref-for-time-value①⑦">(2)</a>
            <li><a href="#ref-for-time-value①⑧">4.4.4. Setting the current time of an animation</a>
            <li><a href="#ref-for-time-value①⑨">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-time-value②⓪">4.4.6. Waiting for the associated effect</a>
            <li><a href="#ref-for-time-value②①">4.4.8. Playing an animation</a> <a href="#ref-for-time-value②②">(2)</a>
            <li><a href="#ref-for-time-value②③">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-time-value②④">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-time-value②⑤">(2)</a>
            <li><a href="#ref-for-time-value②⑥">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-time-value②⑦">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-time-value②⑧">(2)</a>
            <li><a href="#ref-for-time-value②⑨">4.4.15. Speed control</a> <a href="#ref-for-time-value③⓪">(2)</a>
            <li><a href="#ref-for-time-value③①">4.4.15.2. Seamlessly updating the playback rate of an animation</a>
            <li><a href="#ref-for-time-value③②">4.4.18. Animation events</a>
            <li><a href="#ref-for-time-value③③">4.4.18.1. Sorting animation events</a> <a
                    href="#ref-for-time-value③④">(2)</a> <a href="#ref-for-time-value③⑤">(3)</a> <a
                    href="#ref-for-time-value③⑥">(4)</a> <a href="#ref-for-time-value③⑦">(5)</a> <a
                    href="#ref-for-time-value③⑧">(6)</a> <a href="#ref-for-time-value③⑨">(7)</a>
            <li><a href="#ref-for-time-value④⓪">4.7.3. Iteration time space</a>
            <li><a href="#ref-for-time-value④①">4.8.3.1. Calculating the active time</a> <a
                    href="#ref-for-time-value④②">(2)</a> <a href="#ref-for-time-value④③">(3)</a>
            <li><a href="#ref-for-time-value④④">6.1. Time values in the programming interface</a>
            <li><a href="#ref-for-time-value④⑤">6.12. The AnimationPlaybackEvent interface</a>
            <li><a href="#ref-for-time-value④⑥">8. Interaction with page display</a> <a
                    href="#ref-for-time-value④⑦">(2)</a>
            <li><a href="#ref-for-time-value④⑧">9.1. Precision of time values</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="unresolved">
        <b><a href="#unresolved">#unresolved</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-unresolved">2. Specification conventions</a>
            <li><a href="#ref-for-unresolved①">4.3. Timelines</a> <a href="#ref-for-unresolved②">(2)</a> <a
                    href="#ref-for-unresolved③">(3)</a> <a href="#ref-for-unresolved④">(4)</a>
            <li><a href="#ref-for-unresolved⑤">4.3.1. Document timelines</a>
            <li><a href="#ref-for-unresolved⑥">4.4. Animations</a> <a href="#ref-for-unresolved⑦">(2)</a>
            <li><a href="#ref-for-unresolved⑧">4.4.1. Setting the timeline of an animation</a> <a
                    href="#ref-for-unresolved⑨">(2)</a>
            <li><a href="#ref-for-unresolved①⓪">4.4.3. The current time of an animation</a> <a
                    href="#ref-for-unresolved①①">(2)</a> <a href="#ref-for-unresolved①②">(3)</a>
            <li><a href="#ref-for-unresolved①③">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-unresolved①④">(2)</a> <a href="#ref-for-unresolved①⑤">(3)</a> <a
                    href="#ref-for-unresolved①⑥">(4)</a> <a href="#ref-for-unresolved①⑦">(5)</a> <a
                    href="#ref-for-unresolved①⑧">(6)</a> <a href="#ref-for-unresolved①⑨">(7)</a>
            <li><a href="#ref-for-unresolved②⓪">4.4.5. Setting the start time of an animation</a> <a
                    href="#ref-for-unresolved②①">(2)</a> <a href="#ref-for-unresolved②②">(3)</a> <a
                    href="#ref-for-unresolved②③">(4)</a> <a href="#ref-for-unresolved②④">(5)</a> <a
                    href="#ref-for-unresolved②⑤">(6)</a> <a href="#ref-for-unresolved②⑥">(7)</a> <a
                    href="#ref-for-unresolved②⑦">(8)</a> <a href="#ref-for-unresolved②⑧">(9)</a>
            <li><a href="#ref-for-unresolved②⑨">4.4.6. Waiting for the associated effect</a> <a
                    href="#ref-for-unresolved③⓪">(2)</a>
            <li><a href="#ref-for-unresolved③①">4.4.8. Playing an animation</a> <a href="#ref-for-unresolved③②">(2)</a>
                <a href="#ref-for-unresolved③③">(3)</a> <a href="#ref-for-unresolved③④">(4)</a> <a
                    href="#ref-for-unresolved③⑤">(5)</a> <a href="#ref-for-unresolved③⑥">(6)</a> <a
                    href="#ref-for-unresolved③⑦">(7)</a> <a href="#ref-for-unresolved③⑧">(8)</a> <a
                    href="#ref-for-unresolved③⑨">(9)</a> <a href="#ref-for-unresolved④⓪">(10)</a> <a
                    href="#ref-for-unresolved④①">(11)</a> <a href="#ref-for-unresolved④②">(12)</a> <a
                    href="#ref-for-unresolved④③">(13)</a> <a href="#ref-for-unresolved④④">(14)</a> <a
                    href="#ref-for-unresolved④⑤">(15)</a>
            <li><a href="#ref-for-unresolved④⑥">4.4.9. Pausing an animation</a> <a href="#ref-for-unresolved④⑦">(2)</a>
                <a href="#ref-for-unresolved④⑧">(3)</a> <a href="#ref-for-unresolved④⑨">(4)</a> <a
                    href="#ref-for-unresolved⑤⓪">(5)</a>
            <li><a href="#ref-for-unresolved⑤①">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-unresolved⑤②">(2)</a> <a href="#ref-for-unresolved⑤③">(3)</a> <a
                    href="#ref-for-unresolved⑤④">(4)</a> <a href="#ref-for-unresolved⑤⑤">(5)</a> <a
                    href="#ref-for-unresolved⑤⑥">(6)</a> <a href="#ref-for-unresolved⑤⑦">(7)</a> <a
                    href="#ref-for-unresolved⑤⑧">(8)</a> <a href="#ref-for-unresolved⑤⑨">(9)</a>
            <li><a href="#ref-for-unresolved⑥⓪">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-unresolved⑥①">(2)</a> <a href="#ref-for-unresolved⑥②">(3)</a> <a
                    href="#ref-for-unresolved⑥③">(4)</a>
            <li><a href="#ref-for-unresolved⑥④">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-unresolved⑥⑤">(2)</a> <a href="#ref-for-unresolved⑥⑥">(3)</a> <a
                    href="#ref-for-unresolved⑥⑦">(4)</a> <a href="#ref-for-unresolved⑥⑧">(5)</a> <a
                    href="#ref-for-unresolved⑥⑨">(6)</a>
            <li><a href="#ref-for-unresolved⑦⓪">4.4.15.1. Setting the playback rate of an animation</a> <a
                    href="#ref-for-unresolved⑦①">(2)</a>
            <li><a href="#ref-for-unresolved⑦②">4.4.15.2. Seamlessly updating the playback rate of an animation</a> <a
                    href="#ref-for-unresolved⑦③">(2)</a>
            <li><a href="#ref-for-unresolved⑦④">4.4.17. Play states</a> <a href="#ref-for-unresolved⑦⑤">(2)</a> <a
                    href="#ref-for-unresolved⑦⑥">(3)</a> <a href="#ref-for-unresolved⑦⑦">(4)</a> <a
                    href="#ref-for-unresolved⑦⑧">(5)</a> <a href="#ref-for-unresolved⑦⑨">(6)</a>
            <li><a href="#ref-for-unresolved⑧⓪">4.4.18. Animation events</a>
            <li><a href="#ref-for-unresolved⑧①">4.4.18.1. Sorting animation events</a> <a
                    href="#ref-for-unresolved⑧②">(2)</a> <a href="#ref-for-unresolved⑧③">(3)</a> <a
                    href="#ref-for-unresolved⑧④">(4)</a> <a href="#ref-for-unresolved⑧⑤">(5)</a> <a
                    href="#ref-for-unresolved⑧⑥">(6)</a> <a href="#ref-for-unresolved⑧⑦">(7)</a> <a
                    href="#ref-for-unresolved⑧⑧">(8)</a> <a href="#ref-for-unresolved⑧⑨">(9)</a>
            <li><a href="#ref-for-unresolved⑨⓪">4.5.4. Local time</a>
            <li><a href="#ref-for-unresolved⑨①">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-unresolved⑨②">(2)</a> <a href="#ref-for-unresolved⑨③">(3)</a> <a
                    href="#ref-for-unresolved⑨④">(4)</a> <a href="#ref-for-unresolved⑨⑤">(5)</a>
            <li><a href="#ref-for-unresolved⑨⑥">4.6.1. Fill modes</a>
            <li><a href="#ref-for-unresolved⑨⑦">4.8.3.1. Calculating the active time</a> <a
                    href="#ref-for-unresolved⑨⑧">(2)</a> <a href="#ref-for-unresolved⑨⑨">(3)</a> <a
                    href="#ref-for-unresolved①⓪⓪">(4)</a>
            <li><a href="#ref-for-unresolved①⓪①">4.8.3.2. Calculating the overall progress</a> <a
                    href="#ref-for-unresolved①⓪②">(2)</a>
            <li><a href="#ref-for-unresolved①⓪③">4.8.3.3. Calculating the simple iteration progress</a> <a
                    href="#ref-for-unresolved①⓪④">(2)</a>
            <li><a href="#ref-for-unresolved①⓪⑤">4.8.4. Calculating the current iteration</a> <a
                    href="#ref-for-unresolved①⓪⑥">(2)</a>
            <li><a href="#ref-for-unresolved①⓪⑦">4.9.1. Calculating the directed progress</a> <a
                    href="#ref-for-unresolved①⓪⑧">(2)</a>
            <li><a href="#ref-for-unresolved①⓪⑨">4.10.1. Calculating the transformed progress</a> <a
                    href="#ref-for-unresolved①①⓪">(2)</a>
            <li><a href="#ref-for-unresolved①①①">5.3.4. The effect value of a keyframe effect</a>
            <li><a href="#ref-for-unresolved①①②">6.1. Time values in the programming interface</a>
            <li><a href="#ref-for-unresolved①①③">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="timeline">
        <b><a href="#timeline">#timeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-timeline">4.3. Timelines</a> <a href="#ref-for-timeline①">(2)</a> <a
                    href="#ref-for-timeline②">(3)</a> <a href="#ref-for-timeline③">(4)</a> <a
                    href="#ref-for-timeline④">(5)</a> <a href="#ref-for-timeline⑤">(6)</a> <a
                    href="#ref-for-timeline⑥">(7)</a>
            <li><a href="#ref-for-timeline⑦">4.3.1. Document timelines</a>
            <li><a href="#ref-for-timeline⑧">4.4. Animations</a> <a href="#ref-for-timeline⑨">(2)</a> <a
                    href="#ref-for-timeline①⓪">(3)</a> <a href="#ref-for-timeline①①">(4)</a> <a
                    href="#ref-for-timeline①②">(5)</a> <a href="#ref-for-timeline①③">(6)</a> <a
                    href="#ref-for-timeline①④">(7)</a>
            <li><a href="#ref-for-timeline①⑤">4.4.1. Setting the timeline of an animation</a> <a
                    href="#ref-for-timeline①⑥">(2)</a>
            <li><a href="#ref-for-timeline①⑦">4.4.3. The current time of an animation</a> <a
                    href="#ref-for-timeline①⑧">(2)</a> <a href="#ref-for-timeline①⑨">(3)</a>
            <li><a href="#ref-for-timeline②⓪">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-timeline②①">(2)</a> <a href="#ref-for-timeline②②">(3)</a> <a
                    href="#ref-for-timeline②③">(4)</a> <a href="#ref-for-timeline②④">(5)</a>
            <li><a href="#ref-for-timeline②⑤">4.4.5. Setting the start time of an animation</a> <a
                    href="#ref-for-timeline②⑥">(2)</a>
            <li><a href="#ref-for-timeline②⑦">4.4.6. Waiting for the associated effect</a>
            <li><a href="#ref-for-timeline②⑧">4.4.8. Playing an animation</a> <a href="#ref-for-timeline②⑨">(2)</a>
            <li><a href="#ref-for-timeline③⓪">4.4.9. Pausing an animation</a> <a href="#ref-for-timeline③①">(2)</a>
            <li><a href="#ref-for-timeline③②">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-timeline③③">(2)</a>
            <li><a href="#ref-for-timeline③④">4.4.13. Finishing an animation</a> <a href="#ref-for-timeline③⑤">(2)</a>
            <li><a href="#ref-for-timeline③⑥">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-timeline③⑦">4.4.15. Speed control</a> <a href="#ref-for-timeline③⑧">(2)</a> <a
                    href="#ref-for-timeline③⑨">(3)</a>
            <li><a href="#ref-for-timeline④⓪">4.4.15.1. Setting the playback rate of an animation</a> <a
                    href="#ref-for-timeline④①">(2)</a>
            <li><a href="#ref-for-timeline④②">4.4.15.2. Seamlessly updating the playback rate of an animation</a>
            <li><a href="#ref-for-timeline④③">4.4.16. Reversing an animation</a> <a href="#ref-for-timeline④④">(2)</a>
            <li><a href="#ref-for-timeline④⑤">4.4.17. Play states</a>
            <li><a href="#ref-for-timeline④⑥">4.4.18. Animation events</a> <a href="#ref-for-timeline④⑦">(2)</a>
            <li><a href="#ref-for-timeline④⑧">4.4.18.1. Sorting animation events</a> <a
                    href="#ref-for-timeline④⑨">(2)</a> <a href="#ref-for-timeline⑤⓪">(3)</a>
            <li><a href="#ref-for-timeline⑤①">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-timeline⑤②">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-timeline⑤③">(2)</a> <a href="#ref-for-timeline⑤④">(3)</a>
            <li><a href="#ref-for-timeline⑤⑤">6.2. The AnimationTimeline interface</a>
            <li><a href="#ref-for-timeline⑤⑥">6.4. The Animation interface</a> <a href="#ref-for-timeline⑤⑦">(2)</a> <a
                    href="#ref-for-timeline⑤⑧">(3)</a>
            <li><a href="#ref-for-timeline⑤⑨">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-timeline⑥⓪">6.12. The AnimationPlaybackEvent interface</a>
            <li><a href="#ref-for-timeline⑥①">6.13. Model liveness</a>
            <li><a href="#ref-for-timeline⑥②">8. Interaction with page display</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="timeline-current-time">
        <b><a href="#timeline-current-time">#timeline-current-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-timeline-current-time">4.3. Timelines</a> <a
                    href="#ref-for-timeline-current-time①">(2)</a> <a href="#ref-for-timeline-current-time②">(3)</a> <a
                    href="#ref-for-timeline-current-time③">(4)</a>
            <li><a href="#ref-for-timeline-current-time④">4.3.1. Document timelines</a>
            <li><a href="#ref-for-timeline-current-time⑤">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-timeline-current-time⑥">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-timeline-current-time⑦">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-timeline-current-time⑧">(2)</a>
            <li><a href="#ref-for-timeline-current-time⑨">6.2. The AnimationTimeline interface</a>
            <li><a href="#ref-for-timeline-current-time①⓪">6.13. Model liveness</a> <a
                    href="#ref-for-timeline-current-time①①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="inactive-timeline">
        <b><a href="#inactive-timeline">#inactive-timeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-inactive-timeline">4.3.1. Document timelines</a> <a
                    href="#ref-for-inactive-timeline①">(2)</a> <a href="#ref-for-inactive-timeline②">(3)</a>
            <li><a href="#ref-for-inactive-timeline③">4.4.3. The current time of an animation</a>
            <li><a href="#ref-for-inactive-timeline④">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-inactive-timeline⑤">(2)</a>
            <li><a href="#ref-for-inactive-timeline⑥">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-inactive-timeline⑦">4.4.6. Waiting for the associated effect</a>
            <li><a href="#ref-for-inactive-timeline⑧">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-inactive-timeline⑨">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-inactive-timeline①⓪">(2)</a>
            <li><a href="#ref-for-inactive-timeline①①">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-inactive-timeline①②">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-inactive-timeline①③">(2)</a>
            <li><a href="#ref-for-inactive-timeline①④">4.4.16. Reversing an animation</a>
            <li><a href="#ref-for-inactive-timeline①⑤">4.4.17. Play states</a>
            <li><a href="#ref-for-inactive-timeline①⑥">4.4.18. Animation events</a>
            <li><a href="#ref-for-inactive-timeline①⑦">4.4.18.1. Sorting animation events</a>
            <li><a href="#ref-for-inactive-timeline①⑧">6.2. The AnimationTimeline interface</a>
            <li><a href="#ref-for-inactive-timeline①⑨">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="monotonically-increasing-timeline">
        <b><a href="#monotonically-increasing-timeline">#monotonically-increasing-timeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-monotonically-increasing-timeline">4.3.1. Document timelines</a>
            <li><a href="#ref-for-monotonically-increasing-timeline①">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-monotonically-increasing-timeline②">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-monotonically-increasing-timeline③">4.4.15.1. Setting the playback rate of an
                    animation</a> <a href="#ref-for-monotonically-increasing-timeline④">(2)</a>
            <li><a href="#ref-for-monotonically-increasing-timeline⑤">4.4.17. Play states</a>
            <li><a href="#ref-for-monotonically-increasing-timeline⑥">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-monotonically-increasing-timeline⑦">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="timeline-time-to-origin-relative-time">
        <b><a href="#timeline-time-to-origin-relative-time">#timeline-time-to-origin-relative-time</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-timeline-time-to-origin-relative-time">4.3.1. Document timelines</a>
            <li><a href="#ref-for-timeline-time-to-origin-relative-time①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-timeline-time-to-origin-relative-time②">4.4.18.1. Sorting animation events</a> <a
                    href="#ref-for-timeline-time-to-origin-relative-time③">(2)</a>
            <li><a href="#ref-for-timeline-time-to-origin-relative-time④">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="timeline-associated-with-a-document">
        <b><a href="#timeline-associated-with-a-document">#timeline-associated-with-a-document</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-timeline-associated-with-a-document">4.3. Timelines</a>
            <li><a href="#ref-for-timeline-associated-with-a-document①">4.3.1. Document timelines</a>
            <li><a href="#ref-for-timeline-associated-with-a-document②">4.4. Animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="update-animations-and-send-events">
        <b><a href="#update-animations-and-send-events">#update-animations-and-send-events</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-update-animations-and-send-events">4.3.1. Document timelines</a>
            <li><a href="#ref-for-update-animations-and-send-events①">4.3.2. The default document timeline</a>
            <li><a href="#ref-for-update-animations-and-send-events②">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-update-animations-and-send-events③">4.4.18. Animation events</a>
            <li><a href="#ref-for-update-animations-and-send-events④">6.13. Model liveness</a> <a
                    href="#ref-for-update-animations-and-send-events⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-frame">
        <b><a href="#animation-frame">#animation-frame</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-frame">4.3. Timelines</a> <a href="#ref-for-animation-frame①">(2)</a>
            <li><a href="#ref-for-animation-frame②">4.4.17. Play states</a>
            <li><a href="#ref-for-animation-frame③">4.5.5. Animation effect phases and
                    states</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="document-timeline">
        <b><a href="#document-timeline">#document-timeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-document-timeline">4.3.1. Document timelines</a> <a
                    href="#ref-for-document-timeline①">(2)</a> <a href="#ref-for-document-timeline②">(3)</a>
            <li><a href="#ref-for-document-timeline③">4.3.2. The default document timeline</a> <a
                    href="#ref-for-document-timeline④">(2)</a>
            <li><a href="#ref-for-document-timeline⑤">6.3. The DocumentTimeline interface</a>
            <li><a href="#ref-for-document-timeline⑥">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="origin-time">
        <b><a href="#origin-time">#origin-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-origin-time">4.3.1. Document timelines</a>
            <li><a href="#ref-for-origin-time①">4.3.2. The default document timeline</a>
            <li><a href="#ref-for-origin-time②">6.3. The DocumentTimeline interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="document-default-document-timeline">
        <b><a href="#document-default-document-timeline">#document-default-document-timeline</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-document-default-document-timeline">4.3.2. The default document timeline</a> <a
                    href="#ref-for-document-default-document-timeline①">(2)</a> <a
                    href="#ref-for-document-default-document-timeline②">(3)</a>
            <li><a href="#ref-for-document-default-document-timeline③">4.7.3. Iteration time space</a>
            <li><a href="#ref-for-document-default-document-timeline④">6.3. The DocumentTimeline interface</a>
            <li><a href="#ref-for-document-default-document-timeline⑤">6.4. The Animation interface</a> <a
                    href="#ref-for-document-default-document-timeline⑥">(2)</a>
            <li><a href="#ref-for-document-default-document-timeline⑦">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-document-default-document-timeline⑧">6.9. Extensions to the Document interface</a>
            <li><a href="#ref-for-document-default-document-timeline⑨">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="concept-animation">
        <b><a href="#concept-animation">#concept-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-concept-animation">2. Specification conventions</a>
            <li><a href="#ref-for-concept-animation①">4.3. Timelines</a> <a href="#ref-for-concept-animation②">(2)</a>
            <li><a href="#ref-for-concept-animation③">4.4. Animations</a> <a href="#ref-for-concept-animation④">(2)</a>
                <a href="#ref-for-concept-animation⑤">(3)</a> <a href="#ref-for-concept-animation⑥">(4)</a> <a
                    href="#ref-for-concept-animation⑦">(5)</a>
            <li><a href="#ref-for-concept-animation⑧">4.4.2. Setting the associated effect of an animation</a>
            <li><a href="#ref-for-concept-animation⑨">4.4.3. The current time of an animation</a>
            <li><a href="#ref-for-concept-animation①⓪">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-concept-animation①①">4.4.6. Waiting for the associated effect</a> <a
                    href="#ref-for-concept-animation①②">(2)</a>
            <li><a href="#ref-for-concept-animation①③">4.4.7. The current ready promise</a>
            <li><a href="#ref-for-concept-animation①④">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-concept-animation①⑤">4.4.10. Reaching the end</a> <a
                    href="#ref-for-concept-animation①⑥">(2)</a>
            <li><a href="#ref-for-concept-animation①⑦">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-concept-animation①⑧">4.4.15. Speed control</a>
            <li><a href="#ref-for-concept-animation①⑨">4.4.15.1. Setting the playback rate of an animation</a>
            <li><a href="#ref-for-concept-animation②⓪">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a> <a href="#ref-for-concept-animation②①">(2)</a> <a
                    href="#ref-for-concept-animation②②">(3)</a> <a href="#ref-for-concept-animation②③">(4)</a>
            <li><a href="#ref-for-concept-animation②④">4.4.16. Reversing an animation</a>
            <li><a href="#ref-for-concept-animation②⑤">4.4.17. Play states</a> <a
                    href="#ref-for-concept-animation②⑥">(2)</a>
            <li><a href="#ref-for-concept-animation②⑦">4.4.18. Animation events</a>
            <li><a href="#ref-for-concept-animation②⑧">4.4.18.2. Animation playback events</a> <a
                    href="#ref-for-concept-animation②⑨">(2)</a>
            <li><a href="#ref-for-concept-animation③⓪">4.4.18.3. Types of animation playback events</a>
            <li><a href="#ref-for-concept-animation③①">4.5.1. Relationship between animation effects
                    and animations</a> <a href="#ref-for-concept-animation③②">(2)</a> <a
                    href="#ref-for-concept-animation③③">(3)</a>
            <li><a href="#ref-for-concept-animation③④">4.5.3. The active interval</a> <a
                    href="#ref-for-concept-animation③⑤">(2)</a>
            <li><a href="#ref-for-concept-animation③⑥">4.5.4. Local time</a>
            <li><a href="#ref-for-concept-animation③⑦">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-concept-animation③⑧">(2)</a>
            <li><a href="#ref-for-concept-animation③⑨">4.5.6. Relevant animations</a> <a
                    href="#ref-for-concept-animation④⓪">(2)</a> <a href="#ref-for-concept-animation④①">(3)</a> <a
                    href="#ref-for-concept-animation④②">(4)</a>
            <li><a href="#ref-for-concept-animation④③">4.8.1. Overview</a>
            <li><a href="#ref-for-concept-animation④④">5.2. Animating properties</a>
            <li><a href="#ref-for-concept-animation④⑤">5.4.1. Animation classes</a>
            <li><a href="#ref-for-concept-animation④⑥">5.4.2. The effect stack</a>
            <li><a href="#ref-for-concept-animation④⑦">5.4.5. Applying the composited result</a> <a
                    href="#ref-for-concept-animation④⑧">(2)</a>
            <li><a href="#ref-for-concept-animation④⑨">5.5.1. Replace state</a> <a
                    href="#ref-for-concept-animation⑤⓪">(2)</a> <a href="#ref-for-concept-animation⑤①">(3)</a>
            <li><a href="#ref-for-concept-animation⑤②">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-concept-animation⑤③">(2)</a> <a href="#ref-for-concept-animation⑤④">(3)</a> <a
                    href="#ref-for-concept-animation⑤⑤">(4)</a> <a href="#ref-for-concept-animation⑤⑥">(5)</a> <a
                    href="#ref-for-concept-animation⑤⑦">(6)</a> <a href="#ref-for-concept-animation⑤⑧">(7)</a> <a
                    href="#ref-for-concept-animation⑤⑨">(8)</a> <a href="#ref-for-concept-animation⑥⓪">(9)</a> <a
                    href="#ref-for-concept-animation⑥①">(10)</a>
            <li><a href="#ref-for-concept-animation⑥②">5.6. Side effects of animation</a> <a
                    href="#ref-for-concept-animation⑥③">(2)</a>
            <li><a href="#ref-for-concept-animation⑥④">6.4. The Animation interface</a> <a
                    href="#ref-for-concept-animation⑥⑤">(2)</a> <a href="#ref-for-concept-animation⑥⑥">(3)</a> <a
                    href="#ref-for-concept-animation⑥⑦">(4)</a> <a href="#ref-for-concept-animation⑥⑧">(5)</a>
            <li><a href="#ref-for-concept-animation⑥⑨">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-concept-animation⑦⓪">6.5.5. The ComputedEffectTiming dictionary</a>
            <li><a href="#ref-for-concept-animation⑦①">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-concept-animation⑦②">(2)</a> <a href="#ref-for-concept-animation⑦③">(3)</a>
            <li><a href="#ref-for-concept-animation⑦④">6.10. Extensions to the DocumentOrShadowRoot interface mixin</a>
            <li><a href="#ref-for-concept-animation⑦⑤">6.12. The AnimationPlaybackEvent interface</a> <a
                    href="#ref-for-concept-animation⑦⑥">(2)</a> <a href="#ref-for-concept-animation⑦⑦">(3)</a> <a
                    href="#ref-for-concept-animation⑦⑧">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-associated-effect">
        <b><a href="#animation-associated-effect">#animation-associated-effect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-associated-effect">4.1.1. Stateless</a>
            <li><a href="#ref-for-animation-associated-effect①">4.4. Animations</a> <a
                    href="#ref-for-animation-associated-effect②">(2)</a>
            <li><a href="#ref-for-animation-associated-effect③">4.4.2. Setting the associated effect of an animation</a>
                <a href="#ref-for-animation-associated-effect④">(2)</a> <a
                    href="#ref-for-animation-associated-effect⑤">(3)</a>
            <li><a href="#ref-for-animation-associated-effect⑥">4.4.3. The current time of an animation</a>
            <li><a href="#ref-for-animation-associated-effect⑦">4.4.6. Waiting for the associated effect</a>
            <li><a href="#ref-for-animation-associated-effect⑧">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-animation-associated-effect⑨">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-animation-associated-effect①⓪">(2)</a>
            <li><a href="#ref-for-animation-associated-effect①①">4.4.10. Reaching the end</a> <a
                    href="#ref-for-animation-associated-effect①②">(2)</a> <a
                    href="#ref-for-animation-associated-effect①③">(3)</a> <a
                    href="#ref-for-animation-associated-effect①④">(4)</a> <a
                    href="#ref-for-animation-associated-effect①⑤">(5)</a> <a
                    href="#ref-for-animation-associated-effect①⑥">(6)</a>
            <li><a href="#ref-for-animation-associated-effect①⑦">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-animation-associated-effect①⑧">(2)</a>
            <li><a href="#ref-for-animation-associated-effect①⑨">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-animation-associated-effect②⓪">4.4.18.2. Animation playback events</a>
            <li><a href="#ref-for-animation-associated-effect②①">4.5.1. Relationship between animation effects
                    and animations</a> <a href="#ref-for-animation-associated-effect②②">(2)</a>
            <li><a href="#ref-for-animation-associated-effect②③">4.5.6. Relevant animations</a> <a
                    href="#ref-for-animation-associated-effect②④">(2)</a>
            <li><a href="#ref-for-animation-associated-effect②⑤">4.7.4. Interval timing</a>
            <li><a href="#ref-for-animation-associated-effect②⑥">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-animation-associated-effect②⑦">(2)</a> <a
                    href="#ref-for-animation-associated-effect②⑧">(3)</a>
            <li><a href="#ref-for-animation-associated-effect②⑨">6.4. The Animation interface</a> <a
                    href="#ref-for-animation-associated-effect③⓪">(2)</a> <a
                    href="#ref-for-animation-associated-effect③①">(3)</a> <a
                    href="#ref-for-animation-associated-effect③②">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-document-for-timing">
        <b><a href="#animation-document-for-timing">#animation-document-for-timing</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-document-for-timing">4.4. Animations</a>
            <li><a href="#ref-for-animation-document-for-timing①">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-animation-document-for-timing②">(2)</a>
            <li><a href="#ref-for-animation-document-for-timing③">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-animation-document-for-timing④">(2)</a>
            <li><a href="#ref-for-animation-document-for-timing⑤">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-animation-document-for-timing⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-start-time">
        <b><a href="#animation-start-time">#animation-start-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-start-time">2. Specification conventions</a>
            <li><a href="#ref-for-animation-start-time①">4.4.1. Setting the timeline of an animation</a>
            <li><a href="#ref-for-animation-start-time②">4.4.3. The current time of an animation</a> <a
                    href="#ref-for-animation-start-time③">(2)</a>
            <li><a href="#ref-for-animation-start-time④">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-animation-start-time⑤">(2)</a> <a href="#ref-for-animation-start-time⑥">(3)</a> <a
                    href="#ref-for-animation-start-time⑦">(4)</a> <a href="#ref-for-animation-start-time⑧">(5)</a> <a
                    href="#ref-for-animation-start-time⑨">(6)</a>
            <li><a href="#ref-for-animation-start-time①⓪">4.4.5. Setting the start time of an animation</a> <a
                    href="#ref-for-animation-start-time①①">(2)</a>
            <li><a href="#ref-for-animation-start-time①②">4.4.6. Waiting for the associated effect</a> <a
                    href="#ref-for-animation-start-time①③">(2)</a>
            <li><a href="#ref-for-animation-start-time①④">4.4.8. Playing an animation</a> <a
                    href="#ref-for-animation-start-time①⑤">(2)</a> <a href="#ref-for-animation-start-time①⑥">(3)</a> <a
                    href="#ref-for-animation-start-time①⑦">(4)</a> <a href="#ref-for-animation-start-time①⑧">(5)</a> <a
                    href="#ref-for-animation-start-time①⑨">(6)</a> <a href="#ref-for-animation-start-time②⓪">(7)</a> <a
                    href="#ref-for-animation-start-time②①">(8)</a>
            <li><a href="#ref-for-animation-start-time②②">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-animation-start-time②③">(2)</a> <a href="#ref-for-animation-start-time②④">(3)</a> <a
                    href="#ref-for-animation-start-time②⑤">(4)</a> <a href="#ref-for-animation-start-time②⑥">(5)</a>
            <li><a href="#ref-for-animation-start-time②⑦">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-animation-start-time②⑧">(2)</a> <a href="#ref-for-animation-start-time②⑨">(3)</a>
            <li><a href="#ref-for-animation-start-time③⓪">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-animation-start-time③①">(2)</a> <a href="#ref-for-animation-start-time③②">(3)</a> <a
                    href="#ref-for-animation-start-time③③">(4)</a>
            <li><a href="#ref-for-animation-start-time③④">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-animation-start-time③⑤">4.4.15.1. Setting the playback rate of an animation</a> <a
                    href="#ref-for-animation-start-time③⑥">(2)</a> <a href="#ref-for-animation-start-time③⑦">(3)</a>
            <li><a href="#ref-for-animation-start-time③⑧">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a> <a href="#ref-for-animation-start-time③⑨">(2)</a>
            <li><a href="#ref-for-animation-start-time④⓪">4.4.17. Play states</a> <a
                    href="#ref-for-animation-start-time④①">(2)</a> <a href="#ref-for-animation-start-time④②">(3)</a> <a
                    href="#ref-for-animation-start-time④③">(4)</a>
            <li><a href="#ref-for-animation-start-time④④">4.4.18.1. Sorting animation events</a> <a
                    href="#ref-for-animation-start-time④⑤">(2)</a> <a href="#ref-for-animation-start-time④⑥">(3)</a>
            <li><a href="#ref-for-animation-start-time④⑦">4.5.3. The active interval</a> <a
                    href="#ref-for-animation-start-time④⑧">(2)</a> <a href="#ref-for-animation-start-time④⑨">(3)</a> <a
                    href="#ref-for-animation-start-time⑤⓪">(4)</a>
            <li><a href="#ref-for-animation-start-time⑤①">6.4. The Animation interface</a> <a
                    href="#ref-for-animation-start-time⑤②">(2)</a>
            <li><a href="#ref-for-animation-start-time⑤③">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-animation-start-time⑤④">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-hold-time">
        <b><a href="#animation-hold-time">#animation-hold-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-hold-time">4.4. Animations</a>
            <li><a href="#ref-for-animation-hold-time①">4.4.1. Setting the timeline of an animation</a>
            <li><a href="#ref-for-animation-hold-time②">4.4.3. The current time of an animation</a> <a
                    href="#ref-for-animation-hold-time③">(2)</a>
            <li><a href="#ref-for-animation-hold-time④">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-animation-hold-time⑤">(2)</a> <a href="#ref-for-animation-hold-time⑥">(3)</a> <a
                    href="#ref-for-animation-hold-time⑦">(4)</a>
            <li><a href="#ref-for-animation-hold-time⑧">4.4.5. Setting the start time of an animation</a> <a
                    href="#ref-for-animation-hold-time⑨">(2)</a> <a href="#ref-for-animation-hold-time①⓪">(3)</a> <a
                    href="#ref-for-animation-hold-time①①">(4)</a>
            <li><a href="#ref-for-animation-hold-time①②">4.4.8. Playing an animation</a> <a
                    href="#ref-for-animation-hold-time①③">(2)</a> <a href="#ref-for-animation-hold-time①④">(3)</a> <a
                    href="#ref-for-animation-hold-time①⑤">(4)</a> <a href="#ref-for-animation-hold-time①⑥">(5)</a> <a
                    href="#ref-for-animation-hold-time①⑦">(6)</a> <a href="#ref-for-animation-hold-time①⑧">(7)</a> <a
                    href="#ref-for-animation-hold-time①⑨">(8)</a> <a href="#ref-for-animation-hold-time②⓪">(9)</a>
            <li><a href="#ref-for-animation-hold-time②①">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-animation-hold-time②②">(2)</a> <a href="#ref-for-animation-hold-time②③">(3)</a> <a
                    href="#ref-for-animation-hold-time②④">(4)</a> <a href="#ref-for-animation-hold-time②⑤">(5)</a>
            <li><a href="#ref-for-animation-hold-time②⑥">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-animation-hold-time②⑦">(2)</a> <a href="#ref-for-animation-hold-time②⑧">(3)</a> <a
                    href="#ref-for-animation-hold-time②⑨">(4)</a> <a href="#ref-for-animation-hold-time③⓪">(5)</a> <a
                    href="#ref-for-animation-hold-time③①">(6)</a> <a href="#ref-for-animation-hold-time③②">(7)</a> <a
                    href="#ref-for-animation-hold-time③③">(8)</a> <a href="#ref-for-animation-hold-time③④">(9)</a> <a
                    href="#ref-for-animation-hold-time③⑤">(10)</a> <a href="#ref-for-animation-hold-time③⑥">(11)</a>
            <li><a href="#ref-for-animation-hold-time③⑦">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-animation-hold-time③⑧">(2)</a>
            <li><a href="#ref-for-animation-hold-time③⑨">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-animation-hold-time④⓪">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="global-animation-list">
        <b><a href="#global-animation-list">#global-animation-list</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-global-animation-list">5.4.2. The effect stack</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-set-the-timeline-of-an-animation">
        <b><a
                href="#animation-set-the-timeline-of-an-animation">#animation-set-the-timeline-of-an-animation</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-set-the-timeline-of-an-animation">6.4. The Animation interface</a> <a
                    href="#ref-for-animation-set-the-timeline-of-an-animation①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-set-the-associated-effect-of-an-animation">
        <b><a
                href="#animation-set-the-associated-effect-of-an-animation">#animation-set-the-associated-effect-of-an-animation</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-set-the-associated-effect-of-an-animation">4.4.2. Setting the associated
                    effect of an animation</a>
            <li><a href="#ref-for-animation-set-the-associated-effect-of-an-animation①">6.4. The Animation interface</a>
                <a href="#ref-for-animation-set-the-associated-effect-of-an-animation②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-current-time">
        <b><a href="#animation-current-time">#animation-current-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-current-time">4.3. Timelines</a> <a
                    href="#ref-for-animation-current-time①">(2)</a>
            <li><a href="#ref-for-animation-current-time②">4.4. Animations</a>
            <li><a href="#ref-for-animation-current-time③">4.4.1. Setting the timeline of an animation</a>
            <li><a href="#ref-for-animation-current-time④">4.4.3. The current time of an animation</a> <a
                    href="#ref-for-animation-current-time⑤">(2)</a> <a href="#ref-for-animation-current-time⑥">(3)</a>
                <a href="#ref-for-animation-current-time⑦">(4)</a>
            <li><a href="#ref-for-animation-current-time⑧">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-animation-current-time⑨">(2)</a> <a href="#ref-for-animation-current-time①⓪">(3)</a>
            <li><a href="#ref-for-animation-current-time①①">4.4.5. Setting the start time of an animation</a> <a
                    href="#ref-for-animation-current-time①②">(2)</a> <a href="#ref-for-animation-current-time①③">(3)</a>
            <li><a href="#ref-for-animation-current-time①④">4.4.8. Playing an animation</a> <a
                    href="#ref-for-animation-current-time①⑤">(2)</a> <a href="#ref-for-animation-current-time①⑥">(3)</a>
            <li><a href="#ref-for-animation-current-time①⑦">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-animation-current-time①⑧">(2)</a> <a href="#ref-for-animation-current-time①⑨">(3)</a>
            <li><a href="#ref-for-animation-current-time②⓪">4.4.10. Reaching the end</a> <a
                    href="#ref-for-animation-current-time②①">(2)</a> <a href="#ref-for-animation-current-time②②">(3)</a>
                <a href="#ref-for-animation-current-time②③">(4)</a> <a href="#ref-for-animation-current-time②④">(5)</a>
            <li><a href="#ref-for-animation-current-time②⑤">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-animation-current-time②⑥">(2)</a> <a href="#ref-for-animation-current-time②⑦">(3)</a>
                <a href="#ref-for-animation-current-time②⑧">(4)</a> <a href="#ref-for-animation-current-time②⑨">(5)</a>
                <a href="#ref-for-animation-current-time③⓪">(6)</a> <a href="#ref-for-animation-current-time③①">(7)</a>
            <li><a href="#ref-for-animation-current-time③②">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-animation-current-time③③">4.4.15. Speed control</a> <a
                    href="#ref-for-animation-current-time③④">(2)</a> <a href="#ref-for-animation-current-time③⑤">(3)</a>
            <li><a href="#ref-for-animation-current-time③⑥">4.4.15.1. Setting the playback rate of an animation</a>
            <li><a href="#ref-for-animation-current-time③⑦">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a> <a href="#ref-for-animation-current-time③⑧">(2)</a> <a
                    href="#ref-for-animation-current-time③⑨">(3)</a>
            <li><a href="#ref-for-animation-current-time④⓪">4.4.17. Play states</a> <a
                    href="#ref-for-animation-current-time④①">(2)</a> <a href="#ref-for-animation-current-time④②">(3)</a>
                <a href="#ref-for-animation-current-time④③">(4)</a> <a href="#ref-for-animation-current-time④④">(5)</a>
                <a href="#ref-for-animation-current-time④⑤">(6)</a> <a href="#ref-for-animation-current-time④⑥">(7)</a>
                <a href="#ref-for-animation-current-time④⑦">(8)</a>
            <li><a href="#ref-for-animation-current-time④⑧">4.5.4. Local time</a>
            <li><a href="#ref-for-animation-current-time④⑨">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-animation-current-time⑤⓪">6.4. The Animation interface</a>
            <li><a href="#ref-for-animation-current-time⑤①">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-silently-set-the-current-time">
        <b><a
                href="#animation-silently-set-the-current-time">#animation-silently-set-the-current-time</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-silently-set-the-current-time">4.4.4. Setting the current time of an
                    animation</a>
            <li><a href="#ref-for-animation-silently-set-the-current-time①">4.4.13. Finishing an animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-set-the-current-time">
        <b><a href="#animation-set-the-current-time">#animation-set-the-current-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-set-the-current-time">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-animation-set-the-current-time①">(2)</a>
            <li><a href="#ref-for-animation-set-the-current-time②">4.4.15.1. Setting the playback rate of an
                    animation</a>
            <li><a href="#ref-for-animation-set-the-current-time③">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="set-the-start-time">
        <b><a href="#set-the-start-time">#set-the-start-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-set-the-start-time">2. Specification conventions</a>
            <li><a href="#ref-for-set-the-start-time①">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="ready">
        <b><a href="#ready">#ready</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-ready">4.4.2. Setting the associated effect of an animation</a> <a
                    href="#ref-for-ready①">(2)</a>
            <li><a href="#ref-for-ready②">4.4.6. Waiting for the associated effect</a>
            <li><a href="#ref-for-ready③">4.4.8. Playing an animation</a> <a href="#ref-for-ready④">(2)</a> <a
                    href="#ref-for-ready⑤">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="current-ready-promise">
        <b><a href="#current-ready-promise">#current-ready-promise</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-current-ready-promise">4.4.4. Setting the current time of an animation</a>
            <li><a href="#ref-for-current-ready-promise①">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-current-ready-promise②">4.4.7. The current ready promise</a> <a
                    href="#ref-for-current-ready-promise③">(2)</a> <a href="#ref-for-current-ready-promise④">(3)</a>
            <li><a href="#ref-for-current-ready-promise⑤">4.4.8. Playing an animation</a> <a
                    href="#ref-for-current-ready-promise⑥">(2)</a> <a href="#ref-for-current-ready-promise⑦">(3)</a> <a
                    href="#ref-for-current-ready-promise⑧">(4)</a>
            <li><a href="#ref-for-current-ready-promise⑨">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-current-ready-promise①⓪">(2)</a>
            <li><a href="#ref-for-current-ready-promise①①">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-current-ready-promise①②">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-current-ready-promise①③">(2)</a>
            <li><a href="#ref-for-current-ready-promise①④">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-current-ready-promise①⑤">(2)</a> <a href="#ref-for-current-ready-promise①⑥">(3)</a>
            <li><a href="#ref-for-current-ready-promise①⑦">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="play-an-animation">
        <b><a href="#play-an-animation">#play-an-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-play-an-animation">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-play-an-animation①">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-play-an-animation②">4.4.16. Reversing an animation</a> <a
                    href="#ref-for-play-an-animation③">(2)</a>
            <li><a href="#ref-for-play-an-animation④">6.4. The Animation interface</a>
            <li><a href="#ref-for-play-an-animation⑤">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="pending-play-task">
        <b><a href="#pending-play-task">#pending-play-task</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-pending-play-task">4.4.2. Setting the associated effect of an animation</a>
            <li><a href="#ref-for-pending-play-task①">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-pending-play-task②">4.4.7. The current ready promise</a> <a
                    href="#ref-for-pending-play-task③">(2)</a>
            <li><a href="#ref-for-pending-play-task④">4.4.8. Playing an animation</a> <a
                    href="#ref-for-pending-play-task⑤">(2)</a> <a href="#ref-for-pending-play-task⑥">(3)</a> <a
                    href="#ref-for-pending-play-task⑦">(4)</a>
            <li><a href="#ref-for-pending-play-task⑧">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-pending-play-task⑨">(2)</a> <a href="#ref-for-pending-play-task①⓪">(3)</a>
            <li><a href="#ref-for-pending-play-task①①">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-pending-play-task①②">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-pending-play-task①③">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-pending-play-task①④">(2)</a>
            <li><a href="#ref-for-pending-play-task①⑤">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-pending-play-task①⑥">4.4.17. Play states</a> <a
                    href="#ref-for-pending-play-task①⑦">(2)</a>
            <li><a href="#ref-for-pending-play-task①⑧">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="pause-an-animation">
        <b><a href="#pause-an-animation">#pause-an-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-pause-an-animation">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="pending-pause-task">
        <b><a href="#pending-pause-task">#pending-pause-task</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-pending-pause-task">4.4.2. Setting the associated effect of an animation</a>
            <li><a href="#ref-for-pending-pause-task①">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-pending-pause-task②">(2)</a>
            <li><a href="#ref-for-pending-pause-task③">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-pending-pause-task④">4.4.7. The current ready promise</a>
            <li><a href="#ref-for-pending-pause-task⑤">4.4.8. Playing an animation</a> <a
                    href="#ref-for-pending-pause-task⑥">(2)</a>
            <li><a href="#ref-for-pending-pause-task⑦">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-pending-pause-task⑧">(2)</a> <a href="#ref-for-pending-pause-task⑨">(3)</a>
            <li><a href="#ref-for-pending-pause-task①⓪">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-pending-pause-task①①">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-pending-pause-task①②">(2)</a>
            <li><a href="#ref-for-pending-pause-task①③">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-pending-pause-task①④">(2)</a>
            <li><a href="#ref-for-pending-pause-task①⑤">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-pending-pause-task①⑥">4.4.17. Play states</a> <a
                    href="#ref-for-pending-pause-task①⑦">(2)</a>
            <li><a href="#ref-for-pending-pause-task①⑧">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="current-finished-promise">
        <b><a href="#current-finished-promise">#current-finished-promise</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-current-finished-promise">4.4.8. Playing an animation</a>
            <li><a href="#ref-for-current-finished-promise①">4.4.11. The current finished promise</a>
            <li><a href="#ref-for-current-finished-promise②">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-current-finished-promise③">(2)</a> <a
                    href="#ref-for-current-finished-promise④">(3)</a> <a
                    href="#ref-for-current-finished-promise⑤">(4)</a> <a
                    href="#ref-for-current-finished-promise⑥">(5)</a> <a
                    href="#ref-for-current-finished-promise⑦">(6)</a>
            <li><a href="#ref-for-current-finished-promise⑧">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-current-finished-promise⑨">(2)</a> <a
                    href="#ref-for-current-finished-promise①⓪">(3)</a>
            <li><a href="#ref-for-current-finished-promise①①">5.2. Animating properties</a>
            <li><a href="#ref-for-current-finished-promise①②">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="associated-effect-end">
        <b><a href="#associated-effect-end">#associated-effect-end</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-associated-effect-end">4.4.8. Playing an animation</a> <a
                    href="#ref-for-associated-effect-end①">(2)</a> <a href="#ref-for-associated-effect-end②">(3)</a> <a
                    href="#ref-for-associated-effect-end③">(4)</a>
            <li><a href="#ref-for-associated-effect-end④">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-associated-effect-end⑤">(2)</a>
            <li><a href="#ref-for-associated-effect-end⑥">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-associated-effect-end⑦">(2)</a> <a href="#ref-for-associated-effect-end⑧">(3)</a> <a
                    href="#ref-for-associated-effect-end⑨">(4)</a> <a href="#ref-for-associated-effect-end①⓪">(5)</a> <a
                    href="#ref-for-associated-effect-end①①">(6)</a>
            <li><a href="#ref-for-associated-effect-end①②">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-associated-effect-end①③">(2)</a>
            <li><a href="#ref-for-associated-effect-end①④">4.4.15.1. Setting the playback rate of an animation</a> <a
                    href="#ref-for-associated-effect-end①⑤">(2)</a>
            <li><a href="#ref-for-associated-effect-end①⑥">4.4.17. Play states</a>
            <li><a href="#ref-for-associated-effect-end①⑦">6.4. The Animation interface</a> <a
                    href="#ref-for-associated-effect-end①⑧">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="previous-current-time">
        <b><a href="#previous-current-time">#previous-current-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-previous-current-time">4.4.4. Setting the current time of an animation</a>
            <li><a href="#ref-for-previous-current-time①">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-previous-current-time②">(2)</a> <a href="#ref-for-previous-current-time③">(3)</a> <a
                    href="#ref-for-previous-current-time④">(4)</a> <a href="#ref-for-previous-current-time⑤">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="update-an-animations-finished-state">
        <b><a href="#update-an-animations-finished-state">#update-an-animations-finished-state</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-update-an-animations-finished-state">4.3. Timelines</a>
            <li><a href="#ref-for-update-an-animations-finished-state①">4.4.1. Setting the timeline of an animation</a>
            <li><a href="#ref-for-update-an-animations-finished-state②">4.4.2. Setting the associated effect of an
                    animation</a>
            <li><a href="#ref-for-update-an-animations-finished-state③">4.4.4. Setting the current time of an
                    animation</a>
            <li><a href="#ref-for-update-an-animations-finished-state④">4.4.5. Setting the start time of an
                    animation</a>
            <li><a href="#ref-for-update-an-animations-finished-state⑤">4.4.8. Playing an animation</a> <a
                    href="#ref-for-update-an-animations-finished-state⑥">(2)</a>
            <li><a href="#ref-for-update-an-animations-finished-state⑦">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-update-an-animations-finished-state⑧">(2)</a>
            <li><a href="#ref-for-update-an-animations-finished-state⑨">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-update-an-animations-finished-state①⓪">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-update-an-animations-finished-state①①">4.4.15.2. Seamlessly updating the playback rate
                    of an animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="finish-notification-steps">
        <b><a href="#finish-notification-steps">#finish-notification-steps</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-finish-notification-steps">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-finish-notification-steps①">(2)</a> <a
                    href="#ref-for-finish-notification-steps②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="finish-an-animation">
        <b><a href="#finish-an-animation">#finish-an-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-finish-an-animation">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-finish-an-animation①">(2)</a>
            <li><a href="#ref-for-finish-an-animation②">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="cancel-an-animation">
        <b><a href="#cancel-an-animation">#cancel-an-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-cancel-an-animation">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-cancel-an-animation①">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-reset-an-animations-pending-tasks">
        <b><a
                href="#animation-reset-an-animations-pending-tasks">#animation-reset-an-animations-pending-tasks</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-reset-an-animations-pending-tasks">4.4.14. Canceling an animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="playback-rate">
        <b><a href="#playback-rate">#playback-rate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-playback-rate">2. Specification conventions</a>
            <li><a href="#ref-for-playback-rate①">4.4.3. The current time of an animation</a> <a
                    href="#ref-for-playback-rate②">(2)</a>
            <li><a href="#ref-for-playback-rate③">4.4.4. Setting the current time of an animation</a> <a
                    href="#ref-for-playback-rate④">(2)</a>
            <li><a href="#ref-for-playback-rate⑤">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-playback-rate⑥">4.4.8. Playing an animation</a> <a
                    href="#ref-for-playback-rate⑦">(2)</a> <a href="#ref-for-playback-rate⑧">(3)</a> <a
                    href="#ref-for-playback-rate⑨">(4)</a> <a href="#ref-for-playback-rate①⓪">(5)</a> <a
                    href="#ref-for-playback-rate①①">(6)</a> <a href="#ref-for-playback-rate①②">(7)</a>
            <li><a href="#ref-for-playback-rate①③">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-playback-rate①④">(2)</a>
            <li><a href="#ref-for-playback-rate①⑤">4.4.10. Reaching the end</a> <a
                    href="#ref-for-playback-rate①⑥">(2)</a>
            <li><a href="#ref-for-playback-rate①⑦">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-playback-rate①⑧">(2)</a> <a href="#ref-for-playback-rate①⑨">(3)</a> <a
                    href="#ref-for-playback-rate②⓪">(4)</a> <a href="#ref-for-playback-rate②①">(5)</a> <a
                    href="#ref-for-playback-rate②②">(6)</a>
            <li><a href="#ref-for-playback-rate②③">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-playback-rate②④">(2)</a>
            <li><a href="#ref-for-playback-rate②⑤">4.4.15. Speed control</a> <a href="#ref-for-playback-rate②⑥">(2)</a>
            <li><a href="#ref-for-playback-rate②⑦">4.4.15.1. Setting the playback rate of an animation</a> <a
                    href="#ref-for-playback-rate②⑧">(2)</a>
            <li><a href="#ref-for-playback-rate②⑨">4.4.15.2. Seamlessly updating the playback rate of an animation</a>
                <a href="#ref-for-playback-rate③⓪">(2)</a> <a href="#ref-for-playback-rate③①">(3)</a>
            <li><a href="#ref-for-playback-rate③②">4.4.17. Play states</a>
            <li><a href="#ref-for-playback-rate③③">4.4.18.1. Sorting animation events</a> <a
                    href="#ref-for-playback-rate③④">(2)</a>
            <li><a href="#ref-for-playback-rate③⑤">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-playback-rate③⑥">(2)</a> <a href="#ref-for-playback-rate③⑦">(3)</a> <a
                    href="#ref-for-playback-rate③⑧">(4)</a>
            <li><a href="#ref-for-playback-rate③⑨">6.4. The Animation interface</a> <a
                    href="#ref-for-playback-rate④⓪">(2)</a> <a href="#ref-for-playback-rate④①">(3)</a> <a
                    href="#ref-for-playback-rate④②">(4)</a> <a href="#ref-for-playback-rate④③">(5)</a> <a
                    href="#ref-for-playback-rate④④">(6)</a> <a href="#ref-for-playback-rate④⑤">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="set-the-playback-rate">
        <b><a href="#set-the-playback-rate">#set-the-playback-rate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-set-the-playback-rate">2. Specification conventions</a>
            <li><a href="#ref-for-set-the-playback-rate①">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-set-the-playback-rate②">6.4. The Animation interface</a>
            <li><a href="#ref-for-set-the-playback-rate③">11. Changes since last publication</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="pending-playback-rate">
        <b><a href="#pending-playback-rate">#pending-playback-rate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-pending-playback-rate">4.4.8. Playing an animation</a> <a
                    href="#ref-for-pending-playback-rate①">(2)</a>
            <li><a href="#ref-for-pending-playback-rate②">4.4.15.1. Setting the playback rate of an animation</a>
            <li><a href="#ref-for-pending-playback-rate③">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a> <a href="#ref-for-pending-playback-rate④">(2)</a> <a
                    href="#ref-for-pending-playback-rate⑤">(3)</a> <a href="#ref-for-pending-playback-rate⑥">(4)</a> <a
                    href="#ref-for-pending-playback-rate⑦">(5)</a> <a href="#ref-for-pending-playback-rate⑧">(6)</a> <a
                    href="#ref-for-pending-playback-rate⑨">(7)</a> <a href="#ref-for-pending-playback-rate①⓪">(8)</a> <a
                    href="#ref-for-pending-playback-rate①①">(9)</a> <a href="#ref-for-pending-playback-rate①②">(10)</a>
                <a href="#ref-for-pending-playback-rate①③">(11)</a>
            <li><a href="#ref-for-pending-playback-rate①④">4.4.16. Reversing an animation</a> <a
                    href="#ref-for-pending-playback-rate①⑤">(2)</a> <a href="#ref-for-pending-playback-rate①⑥">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="effective-playback-rate">
        <b><a href="#effective-playback-rate">#effective-playback-rate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-effective-playback-rate">4.4.8. Playing an animation</a> <a
                    href="#ref-for-effective-playback-rate①">(2)</a>
            <li><a href="#ref-for-effective-playback-rate②">4.4.13. Finishing an animation</a> <a
                    href="#ref-for-effective-playback-rate③">(2)</a>
            <li><a href="#ref-for-effective-playback-rate④">4.4.15.1. Setting the playback rate of an animation</a>
            <li><a href="#ref-for-effective-playback-rate⑤">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-effective-playback-rate⑥">4.4.16. Reversing an animation</a> <a
                    href="#ref-for-effective-playback-rate⑦">(2)</a>
            <li><a href="#ref-for-effective-playback-rate⑧">4.4.17. Play states</a> <a
                    href="#ref-for-effective-playback-rate⑨">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="apply-any-pending-playback-rate">
        <b><a href="#apply-any-pending-playback-rate">#apply-any-pending-playback-rate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-apply-any-pending-playback-rate">4.4.4. Setting the current time of an animation</a>
            <li><a href="#ref-for-apply-any-pending-playback-rate①">4.4.5. Setting the start time of an animation</a>
            <li><a href="#ref-for-apply-any-pending-playback-rate②">4.4.8. Playing an animation</a> <a
                    href="#ref-for-apply-any-pending-playback-rate③">(2)</a> <a
                    href="#ref-for-apply-any-pending-playback-rate④">(3)</a>
            <li><a href="#ref-for-apply-any-pending-playback-rate⑤">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-apply-any-pending-playback-rate⑥">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-apply-any-pending-playback-rate⑦">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-apply-any-pending-playback-rate⑧">4.4.15.2. Seamlessly updating the playback rate of
                    an animation</a> <a href="#ref-for-apply-any-pending-playback-rate⑨">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="seamlessly-update-the-playback-rate">
        <b><a href="#seamlessly-update-the-playback-rate">#seamlessly-update-the-playback-rate</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-seamlessly-update-the-playback-rate">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="reverse-an-animation">
        <b><a href="#reverse-an-animation">#reverse-an-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-reverse-an-animation">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-play-state">
        <b><a href="#animation-play-state">#animation-play-state</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-play-state">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-animation-play-state①">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-animation-play-state②">(2)</a>
            <li><a href="#ref-for-animation-play-state③">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-animation-play-state④">4.4.15. Speed control</a>
            <li><a href="#ref-for-animation-play-state⑤">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-animation-play-state⑥">4.4.17. Play states</a>
            <li><a href="#ref-for-animation-play-state⑦">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-animation-play-state⑧">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-animation-play-state⑨">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="play-state-idle">
        <b><a href="#play-state-idle">#play-state-idle</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-play-state-idle">4.4.13. Finishing an animation</a>
            <li><a href="#ref-for-play-state-idle①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-play-state-idle②">4.4.15.2. Seamlessly updating the playback rate of an animation</a>
            <li><a href="#ref-for-play-state-idle③">4.4.17. Play states</a>
            <li><a href="#ref-for-play-state-idle④">4.4.18.3. Types of animation playback events</a>
            <li><a href="#ref-for-play-state-idle⑤">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-play-state-idle⑥">6.4.1. The AnimationPlayState enumeration</a>
            <li><a href="#ref-for-play-state-idle⑦">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="play-state-paused">
        <b><a href="#play-state-paused">#play-state-paused</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-play-state-paused">4.4.9. Pausing an animation</a> <a
                    href="#ref-for-play-state-paused①">(2)</a>
            <li><a href="#ref-for-play-state-paused②">4.4.15. Speed control</a>
            <li><a href="#ref-for-play-state-paused③">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-play-state-paused④">4.4.17. Play states</a> <a
                    href="#ref-for-play-state-paused⑤">(2)</a> <a href="#ref-for-play-state-paused⑥">(3)</a>
            <li><a href="#ref-for-play-state-paused⑦">6.4.1. The AnimationPlayState enumeration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="play-state-finished">
        <b><a href="#play-state-finished">#play-state-finished</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-play-state-finished">4.4.1. Setting the timeline of an animation</a>
            <li><a href="#ref-for-play-state-finished①">4.4.9. Pausing an animation</a>
            <li><a href="#ref-for-play-state-finished②">4.4.11. The current finished promise</a>
            <li><a href="#ref-for-play-state-finished③">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-play-state-finished④">(2)</a> <a href="#ref-for-play-state-finished⑤">(3)</a> <a
                    href="#ref-for-play-state-finished⑥">(4)</a>
            <li><a href="#ref-for-play-state-finished⑦">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a> <a href="#ref-for-play-state-finished⑧">(2)</a>
            <li><a href="#ref-for-play-state-finished⑨">4.4.17. Play states</a> <a
                    href="#ref-for-play-state-finished①⓪">(2)</a> <a href="#ref-for-play-state-finished①①">(3)</a>
            <li><a href="#ref-for-play-state-finished①②">4.4.18.3. Types of animation playback events</a>
            <li><a href="#ref-for-play-state-finished①③">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-play-state-finished①④">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-play-state-finished①⑤">6.4.1. The AnimationPlayState enumeration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="play-state-running">
        <b><a href="#play-state-running">#play-state-running</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-play-state-running">4.4.7. The current ready promise</a>
            <li><a href="#ref-for-play-state-running①">4.4.15.2. Seamlessly updating the playback rate of an
                    animation</a>
            <li><a href="#ref-for-play-state-running②">4.4.17. Play states</a>
            <li><a href="#ref-for-play-state-running③">6.4.1. The AnimationPlayState enumeration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-events">
        <b><a href="#animation-events">#animation-events</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-events">4.3. Timelines</a> <a href="#ref-for-animation-events①">(2)</a>
            <li><a href="#ref-for-animation-events②">4.4.18. Animation events</a> <a
                    href="#ref-for-animation-events③">(2)</a> <a href="#ref-for-animation-events④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="pending-animation-event-queue">
        <b><a href="#pending-animation-event-queue">#pending-animation-event-queue</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-pending-animation-event-queue">4.3. Timelines</a> <a
                    href="#ref-for-pending-animation-event-queue①">(2)</a>
            <li><a href="#ref-for-pending-animation-event-queue②">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-pending-animation-event-queue③">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-pending-animation-event-queue④">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="scheduled-event-time">
        <b><a href="#scheduled-event-time">#scheduled-event-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-scheduled-event-time">4.3. Timelines</a> <a
                    href="#ref-for-scheduled-event-time①">(2)</a>
            <li><a href="#ref-for-scheduled-event-time②">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-scheduled-event-time③">4.4.14. Canceling an animation</a> <a
                    href="#ref-for-scheduled-event-time④">(2)</a>
            <li><a href="#ref-for-scheduled-event-time⑤">4.4.18. Animation events</a>
            <li><a href="#ref-for-scheduled-event-time⑥">5.5.2. Removing replaced animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-time-to-timeline-time">
        <b><a href="#animation-time-to-timeline-time">#animation-time-to-timeline-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-time-to-timeline-time">4.4.18.1. Sorting animation events</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-time-to-origin-relative-time">
        <b><a
                href="#animation-time-to-origin-relative-time">#animation-time-to-origin-relative-time</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-time-to-origin-relative-time">4.4.12. Updating the finished state</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-playback-events">
        <b><a href="#animation-playback-events">#animation-playback-events</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-playback-events">4.4.18. Animation events</a>
            <li><a href="#ref-for-animation-playback-events①">4.4.18.2. Animation playback events</a>
            <li><a href="#ref-for-animation-playback-events②">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="finish-event">
        <b><a href="#finish-event">#finish-event</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-finish-event">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-finish-event①">(2)</a>
            <li><a href="#ref-for-finish-event②">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="cancel-event">
        <b><a href="#cancel-event">#cancel-event</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-cancel-event">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-cancel-event①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-cancel-event②">4.4.18.3. Types of animation playback events</a>
            <li><a href="#ref-for-cancel-event③">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="remove-event">
        <b><a href="#remove-event">#remove-event</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-remove-event">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-remove-event①">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-effect">
        <b><a href="#animation-effect">#animation-effect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-effect">2. Specification conventions</a>
            <li><a href="#ref-for-animation-effect①">4.3. Timelines</a>
            <li><a href="#ref-for-animation-effect②">4.4. Animations</a> <a href="#ref-for-animation-effect③">(2)</a> <a
                    href="#ref-for-animation-effect④">(3)</a> <a href="#ref-for-animation-effect⑤">(4)</a>
            <li><a href="#ref-for-animation-effect⑥">4.5.1. Relationship between animation effects
                    and animations</a> <a href="#ref-for-animation-effect⑦">(2)</a> <a
                    href="#ref-for-animation-effect⑧">(3)</a>
            <li><a href="#ref-for-animation-effect⑨">4.5.2. Types of animation effects</a> <a
                    href="#ref-for-animation-effect①⓪">(2)</a> <a href="#ref-for-animation-effect①①">(3)</a>
            <li><a href="#ref-for-animation-effect①②">4.5.3. The active interval</a> <a
                    href="#ref-for-animation-effect①③">(2)</a> <a href="#ref-for-animation-effect①④">(3)</a> <a
                    href="#ref-for-animation-effect①⑤">(4)</a> <a href="#ref-for-animation-effect①⑥">(5)</a> <a
                    href="#ref-for-animation-effect①⑦">(6)</a> <a href="#ref-for-animation-effect①⑧">(7)</a> <a
                    href="#ref-for-animation-effect①⑨">(8)</a> <a href="#ref-for-animation-effect②⓪">(9)</a>
            <li><a href="#ref-for-animation-effect②①">4.5.4. Local time</a> <a
                    href="#ref-for-animation-effect②②">(2)</a>
            <li><a href="#ref-for-animation-effect②③">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-animation-effect②④">(2)</a> <a
                    href="#ref-for-animation-effect②⑤">(3)</a> <a href="#ref-for-animation-effect②⑥">(4)</a> <a
                    href="#ref-for-animation-effect②⑦">(5)</a> <a href="#ref-for-animation-effect②⑧">(6)</a> <a
                    href="#ref-for-animation-effect②⑨">(7)</a> <a href="#ref-for-animation-effect③⓪">(8)</a> <a
                    href="#ref-for-animation-effect③①">(9)</a> <a href="#ref-for-animation-effect③②">(10)</a> <a
                    href="#ref-for-animation-effect③③">(11)</a> <a href="#ref-for-animation-effect③④">(12)</a> <a
                    href="#ref-for-animation-effect③⑤">(13)</a> <a href="#ref-for-animation-effect③⑥">(14)</a> <a
                    href="#ref-for-animation-effect③⑦">(15)</a> <a href="#ref-for-animation-effect③⑧">(16)</a> <a
                    href="#ref-for-animation-effect③⑨">(17)</a> <a href="#ref-for-animation-effect④⓪">(18)</a> <a
                    href="#ref-for-animation-effect④①">(19)</a> <a href="#ref-for-animation-effect④②">(20)</a> <a
                    href="#ref-for-animation-effect④③">(21)</a> <a href="#ref-for-animation-effect④④">(22)</a> <a
                    href="#ref-for-animation-effect④⑤">(23)</a> <a href="#ref-for-animation-effect④⑥">(24)</a> <a
                    href="#ref-for-animation-effect④⑦">(25)</a> <a href="#ref-for-animation-effect④⑧">(26)</a>
            <li><a href="#ref-for-animation-effect④⑨">4.5.6. Relevant animations</a> <a
                    href="#ref-for-animation-effect⑤⓪">(2)</a> <a href="#ref-for-animation-effect⑤①">(3)</a>
            <li><a href="#ref-for-animation-effect⑤②">4.6. Fill behavior</a>
            <li><a href="#ref-for-animation-effect⑤③">4.7.2. Controlling iteration</a> <a
                    href="#ref-for-animation-effect⑤④">(2)</a> <a href="#ref-for-animation-effect⑤⑤">(3)</a> <a
                    href="#ref-for-animation-effect⑤⑥">(4)</a> <a href="#ref-for-animation-effect⑤⑦">(5)</a> <a
                    href="#ref-for-animation-effect⑤⑧">(6)</a>
            <li><a href="#ref-for-animation-effect⑤⑨">4.8.1. Overview</a>
            <li><a href="#ref-for-animation-effect⑥⓪">4.8.3.1. Calculating the active time</a>
            <li><a href="#ref-for-animation-effect⑥①">4.9. Direction control</a> <a
                    href="#ref-for-animation-effect⑥②">(2)</a>
            <li><a href="#ref-for-animation-effect⑥③">4.10. Time transformations</a> <a
                    href="#ref-for-animation-effect⑥④">(2)</a>
            <li><a href="#ref-for-animation-effect⑥⑤">4.10.1. Calculating the transformed progress</a>
            <li><a href="#ref-for-animation-effect⑥⑥">4.11. The iteration progress</a>
            <li><a href="#ref-for-animation-effect⑥⑦">5. Animation model</a>
            <li><a href="#ref-for-animation-effect⑥⑧">5.1. Introduction</a> <a
                    href="#ref-for-animation-effect⑥⑨">(2)</a>
            <li><a href="#ref-for-animation-effect⑦⓪">5.2. Animating properties</a> <a
                    href="#ref-for-animation-effect⑦①">(2)</a>
            <li><a href="#ref-for-animation-effect⑦②">5.3. Keyframe effects</a>
            <li><a href="#ref-for-animation-effect⑦③">5.4. Combining effects</a> <a
                    href="#ref-for-animation-effect⑦④">(2)</a>
            <li><a href="#ref-for-animation-effect⑦⑤">5.4.2. The effect stack</a> <a
                    href="#ref-for-animation-effect⑦⑥">(2)</a>
            <li><a href="#ref-for-animation-effect⑦⑦">5.5.1. Replace state</a>
            <li><a href="#ref-for-animation-effect⑦⑧">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-animation-effect⑦⑨">(2)</a> <a href="#ref-for-animation-effect⑧⓪">(3)</a>
            <li><a href="#ref-for-animation-effect⑧①">5.6. Side effects of animation</a>
            <li><a href="#ref-for-animation-effect⑧②">6.4. The Animation interface</a> <a
                    href="#ref-for-animation-effect⑧③">(2)</a> <a href="#ref-for-animation-effect⑧④">(3)</a> <a
                    href="#ref-for-animation-effect⑧⑤">(4)</a> <a href="#ref-for-animation-effect⑧⑥">(5)</a> <a
                    href="#ref-for-animation-effect⑧⑦">(6)</a>
            <li><a href="#ref-for-animation-effect⑧⑧">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-animation-effect⑧⑨">(2)</a> <a href="#ref-for-animation-effect⑨⓪">(3)</a> <a
                    href="#ref-for-animation-effect⑨①">(4)</a>
            <li><a href="#ref-for-animation-effect⑨②">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
                <a href="#ref-for-animation-effect⑨③">(2)</a> <a href="#ref-for-animation-effect⑨④">(3)</a> <a
                    href="#ref-for-animation-effect⑨⑤">(4)</a> <a href="#ref-for-animation-effect⑨⑥">(5)</a> <a
                    href="#ref-for-animation-effect⑨⑦">(6)</a> <a href="#ref-for-animation-effect⑨⑧">(7)</a> <a
                    href="#ref-for-animation-effect⑨⑨">(8)</a> <a href="#ref-for-animation-effect①⓪⓪">(9)</a>
            <li><a href="#ref-for-animation-effect①⓪①">6.5.2. The FillMode enumeration</a>
            <li><a href="#ref-for-animation-effect①⓪②">6.5.5. The ComputedEffectTiming dictionary</a> <a
                    href="#ref-for-animation-effect①⓪③">(2)</a> <a href="#ref-for-animation-effect①⓪④">(3)</a> <a
                    href="#ref-for-animation-effect①⓪⑤">(4)</a> <a href="#ref-for-animation-effect①⓪⑥">(5)</a> <a
                    href="#ref-for-animation-effect①⓪⑦">(6)</a> <a href="#ref-for-animation-effect①⓪⑧">(7)</a>
            <li><a href="#ref-for-animation-effect①⓪⑨">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-animation-effect①①⓪">(2)</a> <a href="#ref-for-animation-effect①①①">(3)</a>
            <li><a href="#ref-for-animation-effect①①②">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a> <a href="#ref-for-animation-effect①①③">(2)</a> <a
                    href="#ref-for-animation-effect①①④">(3)</a>
            <li><a href="#ref-for-animation-effect①①⑤">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="associated-with-an-animation">
        <b><a href="#associated-with-an-animation">#associated-with-an-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-associated-with-an-animation">4.5.1. Relationship between animation effects
                    and animations</a> <a href="#ref-for-associated-with-an-animation①">(2)</a>
            <li><a href="#ref-for-associated-with-an-animation②">4.5.4. Local time</a>
            <li><a href="#ref-for-associated-with-an-animation③">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-associated-with-an-animation④">(2)</a> <a
                    href="#ref-for-associated-with-an-animation⑤">(3)</a> <a
                    href="#ref-for-associated-with-an-animation⑥">(4)</a> <a
                    href="#ref-for-associated-with-an-animation⑦">(5)</a>
            <li><a href="#ref-for-associated-with-an-animation⑧">5.4.2. The effect stack</a>
            <li><a href="#ref-for-associated-with-an-animation⑨">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-associated-with-an-animation①⓪">(2)</a>
            <li><a href="#ref-for-associated-with-an-animation①①">6.4. The Animation interface</a> <a
                    href="#ref-for-associated-with-an-animation①②">(2)</a> <a
                    href="#ref-for-associated-with-an-animation①③">(3)</a> <a
                    href="#ref-for-associated-with-an-animation①④">(4)</a>
            <li><a href="#ref-for-associated-with-an-animation①⑤">6.5.5. The ComputedEffectTiming dictionary</a> <a
                    href="#ref-for-associated-with-an-animation①⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="associated-with-a-timeline">
        <b><a href="#associated-with-a-timeline">#associated-with-a-timeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-associated-with-a-timeline">4.3. Timelines</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="active-interval">
        <b><a href="#active-interval">#active-interval</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-active-interval">4.5.3. The active interval</a> <a
                    href="#ref-for-active-interval①">(2)</a> <a href="#ref-for-active-interval②">(3)</a> <a
                    href="#ref-for-active-interval③">(4)</a> <a href="#ref-for-active-interval④">(5)</a> <a
                    href="#ref-for-active-interval⑤">(6)</a> <a href="#ref-for-active-interval⑥">(7)</a> <a
                    href="#ref-for-active-interval⑦">(8)</a> <a href="#ref-for-active-interval⑧">(9)</a>
            <li><a href="#ref-for-active-interval⑨">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-active-interval①⓪">(2)</a> <a href="#ref-for-active-interval①①">(3)</a>
            <li><a href="#ref-for-active-interval①②">4.6.1. Fill modes</a>
            <li><a href="#ref-for-active-interval①③">4.7.1. Iteration intervals</a> <a
                    href="#ref-for-active-interval①④">(2)</a>
            <li><a href="#ref-for-active-interval①⑤">4.8.1. Overview</a>
            <li><a href="#ref-for-active-interval①⑥">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
                <a href="#ref-for-active-interval①⑦">(2)</a> <a href="#ref-for-active-interval①⑧">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="start-delay">
        <b><a href="#start-delay">#start-delay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-start-delay">4.5.3. The active interval</a> <a href="#ref-for-start-delay①">(2)</a> <a
                    href="#ref-for-start-delay②">(3)</a> <a href="#ref-for-start-delay③">(4)</a> <a
                    href="#ref-for-start-delay④">(5)</a> <a href="#ref-for-start-delay⑤">(6)</a>
            <li><a href="#ref-for-start-delay⑥">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-start-delay⑦">(2)</a> <a href="#ref-for-start-delay⑧">(3)</a> <a
                    href="#ref-for-start-delay⑨">(4)</a> <a href="#ref-for-start-delay①⓪">(5)</a>
            <li><a href="#ref-for-start-delay①①">4.8.1. Overview</a>
            <li><a href="#ref-for-start-delay①②">4.8.3.1. Calculating the active time</a> <a
                    href="#ref-for-start-delay①③">(2)</a> <a href="#ref-for-start-delay①④">(3)</a> <a
                    href="#ref-for-start-delay①⑤">(4)</a>
            <li><a href="#ref-for-start-delay①⑥">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-start-delay①⑦">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-start-delay①⑧">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-start-delay①⑨">6.6.1. Creating a new KeyframeEffect object</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="end-delay">
        <b><a href="#end-delay">#end-delay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-end-delay">4.5.3. The active interval</a> <a href="#ref-for-end-delay①">(2)</a>
            <li><a href="#ref-for-end-delay②">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-end-delay③">(2)</a>
            <li><a href="#ref-for-end-delay④">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-end-delay⑤">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-end-delay⑥">6.5.5. The ComputedEffectTiming dictionary</a>
            <li><a href="#ref-for-end-delay⑦">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="end-time">
        <b><a href="#end-time">#end-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-end-time">4.4.10. Reaching the end</a> <a href="#ref-for-end-time①">(2)</a>
            <li><a href="#ref-for-end-time②">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-end-time③">4.5.3. The active interval</a>
            <li><a href="#ref-for-end-time④">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-end-time⑤">(2)</a> <a href="#ref-for-end-time⑥">(3)</a> <a
                    href="#ref-for-end-time⑦">(4)</a>
            <li><a href="#ref-for-end-time⑧">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-end-time⑨">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="local-time">
        <b><a href="#local-time">#local-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-local-time">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-local-time①">(2)</a> <a href="#ref-for-local-time②">(3)</a> <a
                    href="#ref-for-local-time③">(4)</a> <a href="#ref-for-local-time④">(5)</a> <a
                    href="#ref-for-local-time⑤">(6)</a> <a href="#ref-for-local-time⑥">(7)</a> <a
                    href="#ref-for-local-time⑦">(8)</a> <a href="#ref-for-local-time⑧">(9)</a> <a
                    href="#ref-for-local-time⑨">(10)</a> <a href="#ref-for-local-time①⓪">(11)</a>
            <li><a href="#ref-for-local-time①①">4.8.1. Overview</a> <a href="#ref-for-local-time①②">(2)</a> <a
                    href="#ref-for-local-time①③">(3)</a> <a href="#ref-for-local-time①④">(4)</a> <a
                    href="#ref-for-local-time①⑤">(5)</a>
            <li><a href="#ref-for-local-time①⑥">4.8.3.1. Calculating the active time</a> <a
                    href="#ref-for-local-time①⑦">(2)</a> <a href="#ref-for-local-time①⑧">(3)</a> <a
                    href="#ref-for-local-time①⑨">(4)</a> <a href="#ref-for-local-time②⓪">(5)</a>
            <li><a href="#ref-for-local-time②①">6.5.5. The ComputedEffectTiming dictionary</a> <a
                    href="#ref-for-local-time②②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-direction">
        <b><a href="#animation-direction">#animation-direction</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-direction">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-animation-direction①">(2)</a> <a
                    href="#ref-for-animation-direction②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="before-active-boundary-time">
        <b><a href="#before-active-boundary-time">#before-active-boundary-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-before-active-boundary-time">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-before-active-boundary-time①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="active-after-boundary-time">
        <b><a href="#active-after-boundary-time">#active-after-boundary-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-active-after-boundary-time">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-active-after-boundary-time①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-effect-before-phase">
        <b><a href="#animation-effect-before-phase">#animation-effect-before-phase</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-effect-before-phase">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-animation-effect-before-phase①">(2)</a> <a
                    href="#ref-for-animation-effect-before-phase②">(3)</a>
            <li><a href="#ref-for-animation-effect-before-phase③">4.6.1. Fill modes</a> <a
                    href="#ref-for-animation-effect-before-phase④">(2)</a>
            <li><a href="#ref-for-animation-effect-before-phase⑤">4.8.3.1. Calculating the active time</a>
            <li><a href="#ref-for-animation-effect-before-phase⑥">4.8.3.2. Calculating the overall progress</a>
            <li><a href="#ref-for-animation-effect-before-phase⑦">4.10.1. Calculating the transformed progress</a>
            <li><a href="#ref-for-animation-effect-before-phase⑧">5.6. Side effects of animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-effect-after-phase">
        <b><a href="#animation-effect-after-phase">#animation-effect-after-phase</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-effect-after-phase">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-animation-effect-after-phase①">(2)</a> <a
                    href="#ref-for-animation-effect-after-phase②">(3)</a>
            <li><a href="#ref-for-animation-effect-after-phase③">4.6.1. Fill modes</a> <a
                    href="#ref-for-animation-effect-after-phase④">(2)</a>
            <li><a href="#ref-for-animation-effect-after-phase⑤">4.8.3.1. Calculating the active time</a>
            <li><a href="#ref-for-animation-effect-after-phase⑥">4.8.3.3. Calculating the simple iteration progress</a>
            <li><a href="#ref-for-animation-effect-after-phase⑦">4.8.4. Calculating the current iteration</a>
            <li><a href="#ref-for-animation-effect-after-phase⑧">4.10.1. Calculating the transformed progress</a>
            <li><a href="#ref-for-animation-effect-after-phase⑨">5.6. Side effects of animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-effect-active-phase">
        <b><a href="#animation-effect-active-phase">#animation-effect-active-phase</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-effect-active-phase">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-animation-effect-active-phase①">(2)</a> <a
                    href="#ref-for-animation-effect-active-phase②">(3)</a> <a
                    href="#ref-for-animation-effect-active-phase③">(4)</a>
            <li><a href="#ref-for-animation-effect-active-phase④">4.6.1. Fill modes</a>
            <li><a href="#ref-for-animation-effect-active-phase⑤">4.8.3.1. Calculating the active time</a>
            <li><a href="#ref-for-animation-effect-active-phase⑥">4.8.3.3. Calculating the simple iteration progress</a>
            <li><a href="#ref-for-animation-effect-active-phase⑦">5.6. Side effects of animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="in-play">
        <b><a href="#in-play">#in-play</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-in-play">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-in-play①">(2)</a> <a href="#ref-for-in-play②">(3)</a> <a
                    href="#ref-for-in-play③">(4)</a>
            <li><a href="#ref-for-in-play④">4.6. Fill behavior</a>
            <li><a href="#ref-for-in-play⑤">4.6.1. Fill modes</a> <a href="#ref-for-in-play⑥">(2)</a> <a
                    href="#ref-for-in-play⑦">(3)</a> <a href="#ref-for-in-play⑧">(4)</a> <a
                    href="#ref-for-in-play⑨">(5)</a>
            <li><a href="#ref-for-in-play①⓪">4.7.4. Interval timing</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="current">
        <b><a href="#current">#current</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-current">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-current①">4.5.6. Relevant animations</a>
            <li><a href="#ref-for-current②">5.6. Side effects of animation</a>
            <li><a href="#ref-for-current③">11. Changes since last publication</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="in-effect">
        <b><a href="#in-effect">#in-effect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-in-effect">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-in-effect①">(2)</a>
            <li><a href="#ref-for-in-effect②">4.5.6. Relevant animations</a>
            <li><a href="#ref-for-in-effect③">5.4. Combining effects</a> <a href="#ref-for-in-effect④">(2)</a>
            <li><a href="#ref-for-in-effect⑤">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-in-effect⑥">5.6. Side effects of animation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-relevant">
        <b><a href="#animation-relevant">#animation-relevant</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-relevant">4.5.6. Relevant animations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="relevant-animations">
        <b><a href="#relevant-animations">#relevant-animations</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-relevant-animations">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-relevant-animations①">11. Changes since last publication</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="relevant-animations-for-a-subtree">
        <b><a href="#relevant-animations-for-a-subtree">#relevant-animations-for-a-subtree</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-relevant-animations-for-a-subtree">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-relevant-animations-for-a-subtree①">6.10. Extensions to the DocumentOrShadowRoot
                    interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="fill-mode">
        <b><a href="#fill-mode">#fill-mode</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-fill-mode">4.5.3. The active interval</a>
            <li><a href="#ref-for-fill-mode①">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-fill-mode②">4.6. Fill behavior</a> <a href="#ref-for-fill-mode③">(2)</a> <a
                    href="#ref-for-fill-mode④">(3)</a>
            <li><a href="#ref-for-fill-mode⑤">4.6.1. Fill modes</a>
            <li><a href="#ref-for-fill-mode⑥">4.8.3.1. Calculating the active time</a> <a
                    href="#ref-for-fill-mode⑦">(2)</a> <a href="#ref-for-fill-mode⑧">(3)</a>
            <li><a href="#ref-for-fill-mode⑨">5.6. Side effects of animation</a>
            <li><a href="#ref-for-fill-mode①⓪">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a> <a
                    href="#ref-for-fill-mode①①">(2)</a> <a href="#ref-for-fill-mode①②">(3)</a> <a
                    href="#ref-for-fill-mode①③">(4)</a>
            <li><a href="#ref-for-fill-mode①④">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-fill-mode①⑤">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="iteration-interval">
        <b><a href="#iteration-interval">#iteration-interval</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-iteration-interval">4.7.1. Iteration intervals</a>
            <li><a href="#ref-for-iteration-interval①">4.7.2. Controlling iteration</a>
            <li><a href="#ref-for-iteration-interval②">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="iteration-duration">
        <b><a href="#iteration-duration">#iteration-duration</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-iteration-duration">2. Specification conventions</a>
            <li><a href="#ref-for-iteration-duration①">4.7.1. Iteration intervals</a> <a
                    href="#ref-for-iteration-duration②">(2)</a> <a href="#ref-for-iteration-duration③">(3)</a> <a
                    href="#ref-for-iteration-duration④">(4)</a> <a href="#ref-for-iteration-duration⑤">(5)</a> <a
                    href="#ref-for-iteration-duration⑥">(6)</a>
            <li><a href="#ref-for-iteration-duration⑦">4.8.1. Overview</a> <a
                    href="#ref-for-iteration-duration⑧">(2)</a>
            <li><a href="#ref-for-iteration-duration⑨">4.8.2. Calculating the active duration</a> <a
                    href="#ref-for-iteration-duration①⓪">(2)</a>
            <li><a href="#ref-for-iteration-duration①①">4.8.3.2. Calculating the overall progress</a> <a
                    href="#ref-for-iteration-duration①②">(2)</a>
            <li><a href="#ref-for-iteration-duration①③">6.5. The AnimationEffect interface</a>
            <li><a href="#ref-for-iteration-duration①④">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-iteration-duration①⑤">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-iteration-duration①⑥">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-iteration-duration①⑦">(2)</a>
            <li><a href="#ref-for-iteration-duration①⑧">6.6.1. Creating a new KeyframeEffect object</a>
            <li><a href="#ref-for-iteration-duration①⑨">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="iteration-count">
        <b><a href="#iteration-count">#iteration-count</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-iteration-count">4.7.1. Iteration intervals</a>
            <li><a href="#ref-for-iteration-count①">4.7.2. Controlling iteration</a> <a
                    href="#ref-for-iteration-count②">(2)</a> <a href="#ref-for-iteration-count③">(3)</a> <a
                    href="#ref-for-iteration-count④">(4)</a> <a href="#ref-for-iteration-count⑤">(5)</a> <a
                    href="#ref-for-iteration-count⑥">(6)</a> <a href="#ref-for-iteration-count⑦">(7)</a>
            <li><a href="#ref-for-iteration-count⑧">4.8.1. Overview</a>
            <li><a href="#ref-for-iteration-count⑨">4.8.2. Calculating the active duration</a> <a
                    href="#ref-for-iteration-count①⓪">(2)</a>
            <li><a href="#ref-for-iteration-count①①">4.8.3.2. Calculating the overall progress</a>
            <li><a href="#ref-for-iteration-count①②">4.8.3.3. Calculating the simple iteration progress</a> <a
                    href="#ref-for-iteration-count①③">(2)</a>
            <li><a href="#ref-for-iteration-count①④">4.8.4. Calculating the current iteration</a>
            <li><a href="#ref-for-iteration-count①⑤">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-iteration-count①⑥">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-iteration-count①⑦">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="iteration-start">
        <b><a href="#iteration-start">#iteration-start</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-iteration-start">4.7.2. Controlling iteration</a> <a
                    href="#ref-for-iteration-start①">(2)</a> <a href="#ref-for-iteration-start②">(3)</a> <a
                    href="#ref-for-iteration-start③">(4)</a> <a href="#ref-for-iteration-start④">(5)</a> <a
                    href="#ref-for-iteration-start⑤">(6)</a>
            <li><a href="#ref-for-iteration-start⑥">4.8.1. Overview</a>
            <li><a href="#ref-for-iteration-start⑦">4.8.3.2. Calculating the overall progress</a>
            <li><a href="#ref-for-iteration-start⑧">4.8.3.3. Calculating the simple iteration progress</a>
            <li><a href="#ref-for-iteration-start⑨">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-iteration-start①⓪">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-iteration-start①①">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="active-duration">
        <b><a href="#active-duration">#active-duration</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-active-duration">4.5.3. The active interval</a> <a
                    href="#ref-for-active-duration①">(2)</a> <a href="#ref-for-active-duration②">(3)</a> <a
                    href="#ref-for-active-duration③">(4)</a>
            <li><a href="#ref-for-active-duration④">4.5.5. Animation effect phases and
                    states</a>
            <li><a href="#ref-for-active-duration⑤">4.7.1. Iteration intervals</a> <a
                    href="#ref-for-active-duration⑥">(2)</a> <a href="#ref-for-active-duration⑦">(3)</a> <a
                    href="#ref-for-active-duration⑧">(4)</a>
            <li><a href="#ref-for-active-duration⑨">4.7.2. Controlling iteration</a>
            <li><a href="#ref-for-active-duration①⓪">4.8.1. Overview</a> <a href="#ref-for-active-duration①①">(2)</a> <a
                    href="#ref-for-active-duration①②">(3)</a> <a href="#ref-for-active-duration①③">(4)</a>
            <li><a href="#ref-for-active-duration①④">4.8.2. Calculating the active duration</a> <a
                    href="#ref-for-active-duration①⑤">(2)</a>
            <li><a href="#ref-for-active-duration①⑥">4.8.3.1. Calculating the active time</a>
            <li><a href="#ref-for-active-duration①⑦">4.8.3.3. Calculating the simple iteration progress</a>
            <li><a href="#ref-for-active-duration①⑧">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="active-time">
        <b><a href="#active-time">#active-time</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-active-time">4.5.5. Animation effect phases and
                    states</a> <a href="#ref-for-active-time①">(2)</a> <a href="#ref-for-active-time②">(3)</a> <a
                    href="#ref-for-active-time③">(4)</a>
            <li><a href="#ref-for-active-time④">4.6. Fill behavior</a>
            <li><a href="#ref-for-active-time⑤">4.6.1. Fill modes</a>
            <li><a href="#ref-for-active-time⑥">4.7.3. Iteration time space</a> <a href="#ref-for-active-time⑦">(2)</a>
                <a href="#ref-for-active-time⑧">(3)</a>
            <li><a href="#ref-for-active-time⑨">4.8.1. Overview</a> <a href="#ref-for-active-time①⓪">(2)</a>
            <li><a href="#ref-for-active-time①①">4.8.3.2. Calculating the overall progress</a> <a
                    href="#ref-for-active-time①②">(2)</a>
            <li><a href="#ref-for-active-time①③">4.8.3.3. Calculating the simple iteration progress</a>
            <li><a href="#ref-for-active-time①④">4.8.4. Calculating the current iteration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="overall-progress">
        <b><a href="#overall-progress">#overall-progress</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-overall-progress">4.8.1. Overview</a> <a href="#ref-for-overall-progress①">(2)</a>
            <li><a href="#ref-for-overall-progress②">4.8.3.3. Calculating the simple iteration progress</a> <a
                    href="#ref-for-overall-progress③">(2)</a> <a href="#ref-for-overall-progress④">(3)</a>
            <li><a href="#ref-for-overall-progress⑤">4.8.4. Calculating the current iteration</a> <a
                    href="#ref-for-overall-progress⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="simple-iteration-progress">
        <b><a href="#simple-iteration-progress">#simple-iteration-progress</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-simple-iteration-progress">4.8.1. Overview</a> <a
                    href="#ref-for-simple-iteration-progress①">(2)</a>
            <li><a href="#ref-for-simple-iteration-progress②">4.8.4. Calculating the current iteration</a>
            <li><a href="#ref-for-simple-iteration-progress③">4.9.1. Calculating the directed progress</a> <a
                    href="#ref-for-simple-iteration-progress④">(2)</a> <a
                    href="#ref-for-simple-iteration-progress⑤">(3)</a> <a
                    href="#ref-for-simple-iteration-progress⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="current-iteration">
        <b><a href="#current-iteration">#current-iteration</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-current-iteration">4.7.1. Iteration intervals</a>
            <li><a href="#ref-for-current-iteration①">4.9.1. Calculating the directed progress</a>
            <li><a href="#ref-for-current-iteration②">5. Animation model</a>
            <li><a href="#ref-for-current-iteration③">5.1. Introduction</a>
            <li><a href="#ref-for-current-iteration④">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-current-iteration⑤">6.5.5. The ComputedEffectTiming dictionary</a> <a
                    href="#ref-for-current-iteration⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="playback-direction">
        <b><a href="#playback-direction">#playback-direction</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-playback-direction">4.8.1. Overview</a>
            <li><a href="#ref-for-playback-direction①">4.8.3.3. Calculating the simple iteration progress</a>
            <li><a href="#ref-for-playback-direction②">4.9.1. Calculating the directed progress</a> <a
                    href="#ref-for-playback-direction③">(2)</a> <a href="#ref-for-playback-direction④">(3)</a>
            <li><a href="#ref-for-playback-direction⑤">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-playback-direction⑥">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-playback-direction⑦">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="directed-progress">
        <b><a href="#directed-progress">#directed-progress</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-directed-progress">4.8.1. Overview</a> <a href="#ref-for-directed-progress①">(2)</a>
            <li><a href="#ref-for-directed-progress②">4.9. Direction control</a>
            <li><a href="#ref-for-directed-progress③">4.10.1. Calculating the transformed progress</a> <a
                    href="#ref-for-directed-progress④">(2)</a> <a href="#ref-for-directed-progress⑤">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="transformed-progress">
        <b><a href="#transformed-progress">#transformed-progress</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-transformed-progress">4.8.1. Overview</a> <a
                    href="#ref-for-transformed-progress①">(2)</a>
            <li><a href="#ref-for-transformed-progress②">4.11. The iteration progress</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="iteration-progress">
        <b><a href="#iteration-progress">#iteration-progress</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-iteration-progress">4.6.1. Fill modes</a> <a
                    href="#ref-for-iteration-progress①">(2)</a> <a href="#ref-for-iteration-progress②">(3)</a>
            <li><a href="#ref-for-iteration-progress③">4.7.3. Iteration time space</a>
            <li><a href="#ref-for-iteration-progress④">4.7.4. Interval timing</a> <a
                    href="#ref-for-iteration-progress⑤">(2)</a>
            <li><a href="#ref-for-iteration-progress⑥">4.8.1. Overview</a> <a
                    href="#ref-for-iteration-progress⑦">(2)</a>
            <li><a href="#ref-for-iteration-progress⑧">5. Animation model</a>
            <li><a href="#ref-for-iteration-progress⑨">5.1. Introduction</a>
            <li><a href="#ref-for-iteration-progress①⓪">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-iteration-progress①①">(2)</a>
            <li><a href="#ref-for-iteration-progress①②">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="target-property">
        <b><a href="#target-property">#target-property</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-target-property">5.1. Introduction</a>
            <li><a href="#ref-for-target-property①">5.3.4. The effect value of a keyframe effect</a>
            <li><a href="#ref-for-target-property②">5.4. Combining effects</a> <a
                    href="#ref-for-target-property③">(2)</a> <a href="#ref-for-target-property④">(3)</a> <a
                    href="#ref-for-target-property⑤">(4)</a>
            <li><a href="#ref-for-target-property⑥">5.4.2. The effect stack</a>
            <li><a href="#ref-for-target-property⑦">5.4.5. Applying the composited result</a> <a
                    href="#ref-for-target-property⑧">(2)</a>
            <li><a href="#ref-for-target-property⑨">5.5.1. Replace state</a>
            <li><a href="#ref-for-target-property①⓪">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-target-property①①">(2)</a>
            <li><a href="#ref-for-target-property①②">6.4. The Animation interface</a> <a
                    href="#ref-for-target-property①③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="effect-value">
        <b><a href="#effect-value">#effect-value</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-effect-value">5.3.1. Keyframes</a>
            <li><a href="#ref-for-effect-value①">5.3.2. Computing property values</a>
            <li><a href="#ref-for-effect-value②">5.3.3. Calculating computed keyframes</a>
            <li><a href="#ref-for-effect-value③">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-effect-value④">(2)</a> <a href="#ref-for-effect-value⑤">(3)</a>
            <li><a href="#ref-for-effect-value⑥">5.4. Combining effects</a> <a href="#ref-for-effect-value⑦">(2)</a> <a
                    href="#ref-for-effect-value⑧">(3)</a> <a href="#ref-for-effect-value⑨">(4)</a> <a
                    href="#ref-for-effect-value①⓪">(5)</a>
            <li><a href="#ref-for-effect-value①①">5.4.3. Calculating the result of an effect stack</a> <a
                    href="#ref-for-effect-value①②">(2)</a> <a href="#ref-for-effect-value①③">(3)</a>
            <li><a href="#ref-for-effect-value①④">5.4.4. Effect composition</a> <a
                    href="#ref-for-effect-value①⑤">(2)</a> <a href="#ref-for-effect-value①⑥">(3)</a> <a
                    href="#ref-for-effect-value①⑦">(4)</a> <a href="#ref-for-effect-value①⑧">(5)</a> <a
                    href="#ref-for-effect-value①⑨">(6)</a> <a href="#ref-for-effect-value②⓪">(7)</a> <a
                    href="#ref-for-effect-value②①">(8)</a>
            <li><a href="#ref-for-effect-value②②">6.4. The Animation interface</a> <a
                    href="#ref-for-effect-value②③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="concept-animatable">
        <b><a href="#concept-animatable">#concept-animatable</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-concept-animatable">5.1. Introduction</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-type">
        <b><a href="#animation-type">#animation-type</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-type">5.1. Introduction</a>
            <li><a href="#ref-for-animation-type①">5.2. Animating properties</a> <a
                    href="#ref-for-animation-type②">(2)</a>
            <li><a href="#ref-for-animation-type③">5.2.1. Custom Properties</a> <a
                    href="#ref-for-animation-type④">(2)</a>
            <li><a href="#ref-for-animation-type⑤">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-animation-type⑥">(2)</a> <a href="#ref-for-animation-type⑦">(3)</a>
            <li><a href="#ref-for-animation-type⑧">5.4.4. Effect composition</a> <a
                    href="#ref-for-animation-type⑨">(2)</a>
            <li><a href="#ref-for-animation-type①⓪">Appendix A: Animation types of existing properties</a> <a
                    href="#ref-for-animation-type①①">(2)</a> <a href="#ref-for-animation-type①②">(3)</a>
            <li><a href="#ref-for-animation-type①③">Animation of font-weight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="not-animatable">
        <b><a href="#not-animatable">#not-animatable</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-not-animatable">5.2. Animating properties</a> <a
                    href="#ref-for-not-animatable①">(2)</a>
            <li><a href="#ref-for-not-animatable②">5.3.4. The effect value of a keyframe effect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="discrete">
        <b><a href="#discrete">#discrete</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-discrete">5.2. Animating properties</a> <a href="#ref-for-discrete①">(2)</a> <a
                    href="#ref-for-discrete②">(3)</a> <a href="#ref-for-discrete③">(4)</a>
            <li><a href="#ref-for-discrete④">5.2.1. Custom Properties</a>
            <li><a href="#ref-for-discrete⑤">Animation of visibility</a>
            <li><a href="#ref-for-discrete⑥">Animation of box-shadow and text-shadow</a> <a
                    href="#ref-for-discrete⑦">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="by-computed-value">
        <b><a href="#by-computed-value">#by-computed-value</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-by-computed-value">5.2. Animating properties</a> <a
                    href="#ref-for-by-computed-value①">(2)</a>
            <li><a href="#ref-for-by-computed-value②">5.2.1. Custom Properties</a>
            <li><a href="#ref-for-by-computed-value③">Appendix A: Animation types of existing properties</a>
            <li><a href="#ref-for-by-computed-value④">Animation of font-weight</a>
            <li><a href="#ref-for-by-computed-value⑤">Animation of box-shadow and text-shadow</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="keyframe-effect">
        <b><a href="#keyframe-effect">#keyframe-effect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-keyframe-effect">4.4.6. Waiting for the associated effect</a>
            <li><a href="#ref-for-keyframe-effect①">4.5.2. Types of animation effects</a>
            <li><a href="#ref-for-keyframe-effect②">5.3.1. Keyframes</a> <a href="#ref-for-keyframe-effect③">(2)</a> <a
                    href="#ref-for-keyframe-effect④">(3)</a> <a href="#ref-for-keyframe-effect⑤">(4)</a>
            <li><a href="#ref-for-keyframe-effect⑥">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-keyframe-effect⑦">(2)</a> <a href="#ref-for-keyframe-effect⑧">(3)</a>
            <li><a href="#ref-for-keyframe-effect⑨">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-keyframe-effect①⓪">(2)</a> <a href="#ref-for-keyframe-effect①①">(3)</a> <a
                    href="#ref-for-keyframe-effect①②">(4)</a> <a href="#ref-for-keyframe-effect①③">(5)</a>
            <li><a href="#ref-for-keyframe-effect①④">5.4. Combining effects</a> <a
                    href="#ref-for-keyframe-effect①⑤">(2)</a> <a href="#ref-for-keyframe-effect①⑥">(3)</a> <a
                    href="#ref-for-keyframe-effect①⑦">(4)</a> <a href="#ref-for-keyframe-effect①⑧">(5)</a> <a
                    href="#ref-for-keyframe-effect①⑨">(6)</a> <a href="#ref-for-keyframe-effect②⓪">(7)</a>
            <li><a href="#ref-for-keyframe-effect②①">5.4.2. The effect stack</a> <a
                    href="#ref-for-keyframe-effect②②">(2)</a> <a href="#ref-for-keyframe-effect②③">(3)</a>
            <li><a href="#ref-for-keyframe-effect②④">5.4.3. Calculating the result of an effect stack</a> <a
                    href="#ref-for-keyframe-effect②⑤">(2)</a> <a href="#ref-for-keyframe-effect②⑥">(3)</a> <a
                    href="#ref-for-keyframe-effect②⑦">(4)</a> <a href="#ref-for-keyframe-effect②⑧">(5)</a>
            <li><a href="#ref-for-keyframe-effect②⑨">5.4.4. Effect composition</a>
            <li><a href="#ref-for-keyframe-effect③⓪">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
            <li><a href="#ref-for-keyframe-effect③①">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-keyframe-effect③②">(2)</a> <a href="#ref-for-keyframe-effect③③">(3)</a> <a
                    href="#ref-for-keyframe-effect③④">(4)</a> <a href="#ref-for-keyframe-effect③⑤">(5)</a> <a
                    href="#ref-for-keyframe-effect③⑥">(6)</a> <a href="#ref-for-keyframe-effect③⑦">(7)</a> <a
                    href="#ref-for-keyframe-effect③⑧">(8)</a>
            <li><a href="#ref-for-keyframe-effect③⑨">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-keyframe-effect④⓪">(2)</a>
            <li><a href="#ref-for-keyframe-effect④①">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a> <a href="#ref-for-keyframe-effect④②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="keyframe-effect-effect-target">
        <b><a href="#keyframe-effect-effect-target">#keyframe-effect-effect-target</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-keyframe-effect-effect-target">4.5.6. Relevant animations</a> <a
                    href="#ref-for-keyframe-effect-effect-target①">(2)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target②">5.3. Keyframe effects</a> <a
                    href="#ref-for-keyframe-effect-effect-target③">(2)</a> <a
                    href="#ref-for-keyframe-effect-effect-target④">(3)</a> <a
                    href="#ref-for-keyframe-effect-effect-target⑤">(4)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target⑥">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-keyframe-effect-effect-target⑦">(2)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target⑧">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-keyframe-effect-effect-target⑨">(2)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target①⓪">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-keyframe-effect-effect-target①①">(2)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target①②">5.6. Side effects of animation</a> <a
                    href="#ref-for-keyframe-effect-effect-target①③">(2)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target①④">6.4. The Animation interface</a> <a
                    href="#ref-for-keyframe-effect-effect-target①⑤">(2)</a> <a
                    href="#ref-for-keyframe-effect-effect-target①⑥">(3)</a> <a
                    href="#ref-for-keyframe-effect-effect-target①⑦">(4)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target①⑧">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-keyframe-effect-effect-target①⑨">(2)</a> <a
                    href="#ref-for-keyframe-effect-effect-target②⓪">(3)</a> <a
                    href="#ref-for-keyframe-effect-effect-target②①">(4)</a> <a
                    href="#ref-for-keyframe-effect-effect-target②②">(5)</a>
            <li><a href="#ref-for-keyframe-effect-effect-target②③">6.6.4. The KeyframeEffectOptions dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="effect-target-target-element">
        <b><a href="#effect-target-target-element">#effect-target-target-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-effect-target-target-element">5.3. Keyframe effects</a> <a
                    href="#ref-for-effect-target-target-element①">(2)</a>
            <li><a href="#ref-for-effect-target-target-element②">5.3.2. Computing property values</a>
            <li><a href="#ref-for-effect-target-target-element③">5.3.3. Calculating computed keyframes</a>
            <li><a href="#ref-for-effect-target-target-element④">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-effect-target-target-element⑤">(2)</a> <a
                    href="#ref-for-effect-target-target-element⑥">(3)</a>
            <li><a href="#ref-for-effect-target-target-element⑦">6.6.4. The KeyframeEffectOptions dictionary</a>
            <li><a href="#ref-for-effect-target-target-element⑧">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-effect-target-target-element⑨">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="effect-target-target-pseudo-selector">
        <b><a href="#effect-target-target-pseudo-selector">#effect-target-target-pseudo-selector</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-effect-target-target-pseudo-selector">5.3. Keyframe effects</a> <a
                    href="#ref-for-effect-target-target-pseudo-selector①">(2)</a>
            <li><a href="#ref-for-effect-target-target-pseudo-selector②">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-effect-target-target-pseudo-selector③">(2)</a> <a
                    href="#ref-for-effect-target-target-pseudo-selector④">(3)</a> <a
                    href="#ref-for-effect-target-target-pseudo-selector⑤">(4)</a> <a
                    href="#ref-for-effect-target-target-pseudo-selector⑥">(5)</a> <a
                    href="#ref-for-effect-target-target-pseudo-selector⑦">(6)</a> <a
                    href="#ref-for-effect-target-target-pseudo-selector⑧">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="keyframe">
        <b><a href="#keyframe">#keyframe</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-keyframe">5.3.1. Keyframes</a> <a href="#ref-for-keyframe①">(2)</a> <a
                    href="#ref-for-keyframe②">(3)</a> <a href="#ref-for-keyframe③">(4)</a> <a
                    href="#ref-for-keyframe④">(5)</a> <a href="#ref-for-keyframe⑤">(6)</a> <a
                    href="#ref-for-keyframe⑥">(7)</a>
            <li><a href="#ref-for-keyframe⑦">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-keyframe⑧">(2)</a> <a href="#ref-for-keyframe⑨">(3)</a> <a
                    href="#ref-for-keyframe①⓪">(4)</a> <a href="#ref-for-keyframe①①">(5)</a> <a
                    href="#ref-for-keyframe①②">(6)</a> <a href="#ref-for-keyframe①③">(7)</a> <a
                    href="#ref-for-keyframe①④">(8)</a> <a href="#ref-for-keyframe①⑤">(9)</a> <a
                    href="#ref-for-keyframe①⑥">(10)</a> <a href="#ref-for-keyframe①⑦">(11)</a> <a
                    href="#ref-for-keyframe①⑧">(12)</a> <a href="#ref-for-keyframe①⑨">(13)</a> <a
                    href="#ref-for-keyframe②⓪">(14)</a> <a href="#ref-for-keyframe②①">(15)</a> <a
                    href="#ref-for-keyframe②②">(16)</a>
            <li><a href="#ref-for-keyframe②③">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-keyframe②④">(2)</a> <a href="#ref-for-keyframe②⑤">(3)</a> <a
                    href="#ref-for-keyframe②⑥">(4)</a> <a href="#ref-for-keyframe②⑦">(5)</a> <a
                    href="#ref-for-keyframe②⑧">(6)</a> <a href="#ref-for-keyframe②⑨">(7)</a> <a
                    href="#ref-for-keyframe③⓪">(8)</a> <a href="#ref-for-keyframe③①">(9)</a> <a
                    href="#ref-for-keyframe③②">(10)</a> <a href="#ref-for-keyframe③③">(11)</a> <a
                    href="#ref-for-keyframe③④">(12)</a> <a href="#ref-for-keyframe③⑤">(13)</a> <a
                    href="#ref-for-keyframe③⑥">(14)</a> <a href="#ref-for-keyframe③⑦">(15)</a> <a
                    href="#ref-for-keyframe③⑧">(16)</a> <a href="#ref-for-keyframe③⑨">(17)</a> <a
                    href="#ref-for-keyframe④⓪">(18)</a> <a href="#ref-for-keyframe④①">(19)</a> <a
                    href="#ref-for-keyframe④②">(20)</a> <a href="#ref-for-keyframe④③">(21)</a>
            <li><a href="#ref-for-keyframe④④">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-keyframe④⑤">(2)</a> <a href="#ref-for-keyframe④⑥">(3)</a> <a
                    href="#ref-for-keyframe④⑦">(4)</a> <a href="#ref-for-keyframe④⑧">(5)</a> <a
                    href="#ref-for-keyframe④⑨">(6)</a> <a href="#ref-for-keyframe⑤⓪">(7)</a> <a
                    href="#ref-for-keyframe⑤①">(8)</a> <a href="#ref-for-keyframe⑤②">(9)</a> <a
                    href="#ref-for-keyframe⑤③">(10)</a> <a href="#ref-for-keyframe⑤④">(11)</a> <a
                    href="#ref-for-keyframe⑤⑤">(12)</a>
            <li><a href="#ref-for-keyframe⑤⑥">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-keyframe⑤⑦">(2)</a> <a href="#ref-for-keyframe⑤⑧">(3)</a> <a
                    href="#ref-for-keyframe⑤⑨">(4)</a> <a href="#ref-for-keyframe⑥⓪">(5)</a> <a
                    href="#ref-for-keyframe⑥①">(6)</a> <a href="#ref-for-keyframe⑥②">(7)</a> <a
                    href="#ref-for-keyframe⑥③">(8)</a> <a href="#ref-for-keyframe⑥④">(9)</a> <a
                    href="#ref-for-keyframe⑥⑤">(10)</a> <a href="#ref-for-keyframe⑥⑥">(11)</a> <a
                    href="#ref-for-keyframe⑥⑦">(12)</a> <a href="#ref-for-keyframe⑥⑧">(13)</a>
            <li><a href="#ref-for-keyframe⑥⑨">6.6.4. The KeyframeEffectOptions dictionary</a>
            <li><a href="#ref-for-keyframe⑦⓪">6.7. The CompositeOperation and CompositeOperationOrAuto enumerations</a>
            <li><a href="#ref-for-keyframe⑦①">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="keyframe-offset">
        <b><a href="#keyframe-offset">#keyframe-offset</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-keyframe-offset">5.3.1. Keyframes</a> <a href="#ref-for-keyframe-offset①">(2)</a>
            <li><a href="#ref-for-keyframe-offset②">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-keyframe-offset③">(2)</a> <a href="#ref-for-keyframe-offset④">(3)</a> <a
                    href="#ref-for-keyframe-offset⑤">(4)</a>
            <li><a href="#ref-for-keyframe-offset⑥">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-keyframe-offset⑦">(2)</a>
            <li><a href="#ref-for-keyframe-offset⑧">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-keyframe-offset⑨">(2)</a> <a
                    href="#ref-for-keyframe-offset①⓪">(3)</a> <a href="#ref-for-keyframe-offset①①">(4)</a> <a
                    href="#ref-for-keyframe-offset①②">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="loosely-sorted-by-offset">
        <b><a href="#loosely-sorted-by-offset">#loosely-sorted-by-offset</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-loosely-sorted-by-offset">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="keyframe-specific-composite-operation">
        <b><a href="#keyframe-specific-composite-operation">#keyframe-specific-composite-operation</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-keyframe-specific-composite-operation">5.3.1. Keyframes</a>
            <li><a href="#ref-for-keyframe-specific-composite-operation①">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-keyframe-specific-composite-operation②">(2)</a>
            <li><a href="#ref-for-keyframe-specific-composite-operation③">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-keyframe-specific-composite-operation④">(2)</a> <a
                    href="#ref-for-keyframe-specific-composite-operation⑤">(3)</a>
            <li><a href="#ref-for-keyframe-specific-composite-operation⑥">6.6.4. The KeyframeEffectOptions
                    dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="compute-a-property-value">
        <b><a href="#compute-a-property-value">#compute-a-property-value</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-compute-a-property-value">5.3.2. Computing property values</a> <a
                    href="#ref-for-compute-a-property-value①">(2)</a>
            <li><a href="#ref-for-compute-a-property-value②">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-compute-a-property-value③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="computed-keyframes">
        <b><a href="#computed-keyframes">#computed-keyframes</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-computed-keyframes">5.3.3. Calculating computed keyframes</a>
            <li><a href="#ref-for-computed-keyframes①">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-computed-keyframes②">(2)</a> <a href="#ref-for-computed-keyframes③">(3)</a>
            <li><a href="#ref-for-computed-keyframes④">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-computed-keyframes⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="computed-keyframe-offset">
        <b><a href="#computed-keyframe-offset">#computed-keyframe-offset</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-computed-keyframe-offset">5.3.3. Calculating computed keyframes</a> <a
                    href="#ref-for-computed-keyframe-offset①">(2)</a> <a
                    href="#ref-for-computed-keyframe-offset②">(3)</a> <a
                    href="#ref-for-computed-keyframe-offset③">(4)</a> <a
                    href="#ref-for-computed-keyframe-offset④">(5)</a> <a
                    href="#ref-for-computed-keyframe-offset⑤">(6)</a> <a
                    href="#ref-for-computed-keyframe-offset⑥">(7)</a> <a
                    href="#ref-for-computed-keyframe-offset⑦">(8)</a> <a
                    href="#ref-for-computed-keyframe-offset⑧">(9)</a> <a
                    href="#ref-for-computed-keyframe-offset⑨">(10)</a> <a
                    href="#ref-for-computed-keyframe-offset①⓪">(11)</a>
            <li><a href="#ref-for-computed-keyframe-offset①①">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-computed-keyframe-offset①②">(2)</a> <a
                    href="#ref-for-computed-keyframe-offset①③">(3)</a> <a
                    href="#ref-for-computed-keyframe-offset①④">(4)</a> <a
                    href="#ref-for-computed-keyframe-offset①⑤">(5)</a> <a
                    href="#ref-for-computed-keyframe-offset①⑥">(6)</a> <a
                    href="#ref-for-computed-keyframe-offset①⑦">(7)</a> <a
                    href="#ref-for-computed-keyframe-offset①⑧">(8)</a> <a
                    href="#ref-for-computed-keyframe-offset①⑨">(9)</a> <a
                    href="#ref-for-computed-keyframe-offset②⓪">(10)</a> <a
                    href="#ref-for-computed-keyframe-offset②①">(11)</a> <a
                    href="#ref-for-computed-keyframe-offset②②">(12)</a>
            <li><a href="#ref-for-computed-keyframe-offset②③">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-computed-keyframe-offset②④">(2)</a> <a
                    href="#ref-for-computed-keyframe-offset②⑤">(3)</a>
            <li><a href="#ref-for-computed-keyframe-offset②⑥">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-computed-keyframe-offset②⑦">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="compute-missing-keyframe-offsets">
        <b><a href="#compute-missing-keyframe-offsets">#compute-missing-keyframe-offsets</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-compute-missing-keyframe-offsets">5.3.3. Calculating computed keyframes</a>
            <li><a href="#ref-for-compute-missing-keyframe-offsets①">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-compute-missing-keyframe-offsets②">(2)</a>
            <li><a href="#ref-for-compute-missing-keyframe-offsets③">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="offsetk">
        <b><a href="#offsetk">#offsetk</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-offsetk">5.3.3. Calculating computed keyframes</a> <a href="#ref-for-offsetk①">(2)</a>
                <a href="#ref-for-offsetk②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="neutral-value-for-composition">
        <b><a href="#neutral-value-for-composition">#neutral-value-for-composition</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-neutral-value-for-composition">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-neutral-value-for-composition①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="composite">
        <b><a href="#composite">#composite</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-composite">5.4. Combining effects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-class">
        <b><a href="#animation-class">#animation-class</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-class">4.4. Animations</a>
            <li><a href="#ref-for-animation-class①">5.4.1. Animation classes</a>
            <li><a href="#ref-for-animation-class②">5.4.2. The effect stack</a> <a
                    href="#ref-for-animation-class③">(2)</a>
            <li><a href="#ref-for-animation-class④">5.4.5. Applying the composited result</a> <a
                    href="#ref-for-animation-class⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="effect-stack">
        <b><a href="#effect-stack">#effect-stack</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-effect-stack">5. Animation model</a>
            <li><a href="#ref-for-effect-stack①">5.4. Combining effects</a> <a href="#ref-for-effect-stack②">(2)</a> <a
                    href="#ref-for-effect-stack③">(3)</a>
            <li><a href="#ref-for-effect-stack④">5.4.2. The effect stack</a> <a href="#ref-for-effect-stack⑤">(2)</a>
            <li><a href="#ref-for-effect-stack⑥">5.4.3. Calculating the result of an effect stack</a> <a
                    href="#ref-for-effect-stack⑦">(2)</a> <a href="#ref-for-effect-stack⑧">(3)</a>
            <li><a href="#ref-for-effect-stack⑨">5.4.5. Applying the composited result</a> <a
                    href="#ref-for-effect-stack①⓪">(2)</a> <a href="#ref-for-effect-stack①①">(3)</a> <a
                    href="#ref-for-effect-stack①②">(4)</a>
            <li><a href="#ref-for-effect-stack①③">5.5.1. Replace state</a>
            <li><a href="#ref-for-effect-stack①④">6.4. The Animation interface</a>
            <li><a href="#ref-for-effect-stack①⑤">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-effect-stack①⑥">6.6.4. The KeyframeEffectOptions dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-composite-order">
        <b><a href="#animation-composite-order">#animation-composite-order</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation-composite-order">4.3. Timelines</a>
            <li><a href="#ref-for-animation-composite-order①">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-animation-composite-order②">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-effect-associated-animation">
        <b><a href="#animation-effect-associated-animation">#animation-effect-associated-animation</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-effect-associated-animation">5.4.2. The effect stack</a> <a
                    href="#ref-for-animation-effect-associated-animation①">(2)</a> <a
                    href="#ref-for-animation-effect-associated-animation②">(3)</a>
            <li><a href="#ref-for-animation-effect-associated-animation③">5.4.5. Applying the composited result</a> <a
                    href="#ref-for-animation-effect-associated-animation④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="underlying-value">
        <b><a href="#underlying-value">#underlying-value</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-underlying-value">5.1. Introduction</a>
            <li><a href="#ref-for-underlying-value①">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-underlying-value②">(2)</a>
            <li><a href="#ref-for-underlying-value③">5.4.3. Calculating the result of an effect stack</a> <a
                    href="#ref-for-underlying-value④">(2)</a> <a href="#ref-for-underlying-value⑤">(3)</a>
            <li><a href="#ref-for-underlying-value⑥">5.4.4. Effect composition</a> <a
                    href="#ref-for-underlying-value⑦">(2)</a> <a href="#ref-for-underlying-value⑧">(3)</a> <a
                    href="#ref-for-underlying-value⑨">(4)</a> <a href="#ref-for-underlying-value①⓪">(5)</a> <a
                    href="#ref-for-underlying-value①①">(6)</a>
            <li><a href="#ref-for-underlying-value①②">5.4.5. Applying the composited result</a>
            <li><a href="#ref-for-underlying-value①③">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-underlying-value①④">6.6.3. Processing a keyframes
                    argument</a>
            <li><a href="#ref-for-underlying-value①⑤">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a> <a href="#ref-for-underlying-value①⑥">(2)</a> <a
                    href="#ref-for-underlying-value①⑦">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="composited-value">
        <b><a href="#composited-value">#composited-value</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-composited-value">5.4.5. Applying the composited result</a> <a
                    href="#ref-for-composited-value①">(2)</a> <a href="#ref-for-composited-value②">(3)</a> <a
                    href="#ref-for-composited-value③">(4)</a> <a href="#ref-for-composited-value④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="composite-operation">
        <b><a href="#composite-operation">#composite-operation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-composite-operation">5.3.1. Keyframes</a> <a
                    href="#ref-for-composite-operation①">(2)</a>
            <li><a href="#ref-for-composite-operation②">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-composite-operation③">(2)</a> <a href="#ref-for-composite-operation④">(3)</a> <a
                    href="#ref-for-composite-operation⑤">(4)</a> <a href="#ref-for-composite-operation⑥">(5)</a> <a
                    href="#ref-for-composite-operation⑦">(6)</a> <a href="#ref-for-composite-operation⑧">(7)</a> <a
                    href="#ref-for-composite-operation⑨">(8)</a>
            <li><a href="#ref-for-composite-operation①⓪">5.4. Combining effects</a>
            <li><a href="#ref-for-composite-operation①①">5.4.4. Effect composition</a>
            <li><a href="#ref-for-composite-operation①②">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-composite-operation①③">(2)</a> <a href="#ref-for-composite-operation①④">(3)</a> <a
                    href="#ref-for-composite-operation①⑤">(4)</a>
            <li><a href="#ref-for-composite-operation①⑥">6.6.3. Processing a keyframes
                    argument</a>
            <li><a href="#ref-for-composite-operation①⑦">6.6.4. The KeyframeEffectOptions dictionary</a>
            <li><a href="#ref-for-composite-operation①⑧">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a> <a href="#ref-for-composite-operation①⑨">(2)</a> <a
                    href="#ref-for-composite-operation②⓪">(3)</a> <a href="#ref-for-composite-operation②①">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="composite-operation-replace">
        <b><a href="#composite-operation-replace">#composite-operation-replace</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-composite-operation-replace">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-composite-operation-replace①">(2)</a>
            <li><a href="#ref-for-composite-operation-replace②">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="composite-operation-add">
        <b><a href="#composite-operation-add">#composite-operation-add</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-composite-operation-add">5.3.4. The effect value of a keyframe effect</a> <a
                    href="#ref-for-composite-operation-add①">(2)</a> <a href="#ref-for-composite-operation-add②">(3)</a>
            <li><a href="#ref-for-composite-operation-add③">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="composite-operation-accumulate">
        <b><a href="#composite-operation-accumulate">#composite-operation-accumulate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-composite-operation-accumulate">6.7. The CompositeOperation and
                    CompositeOperationOrAuto enumerations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="replace-state">
        <b><a href="#replace-state">#replace-state</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-replace-state">4.5.6. Relevant animations</a>
            <li><a href="#ref-for-replace-state①">5.5.1. Replace state</a> <a href="#ref-for-replace-state②">(2)</a>
            <li><a href="#ref-for-replace-state③">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-replace-state④">(2)</a> <a href="#ref-for-replace-state⑤">(3)</a>
            <li><a href="#ref-for-replace-state⑥">5.6. Side effects of animation</a>
            <li><a href="#ref-for-replace-state⑦">6.4. The Animation interface</a> <a
                    href="#ref-for-replace-state⑧">(2)</a> <a href="#ref-for-replace-state⑨">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="active-replace-state">
        <b><a href="#active-replace-state">#active-replace-state</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-active-replace-state">5.5.1. Replace state</a>
            <li><a href="#ref-for-active-replace-state①">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-active-replace-state②">6.4.2. The AnimationReplaceState enumeration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="removed-replace-state">
        <b><a href="#removed-replace-state">#removed-replace-state</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-removed-replace-state">4.5.6. Relevant animations</a>
            <li><a href="#ref-for-removed-replace-state①">5.5.1. Replace state</a>
            <li><a href="#ref-for-removed-replace-state②">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-removed-replace-state③">(2)</a>
            <li><a href="#ref-for-removed-replace-state④">5.6. Side effects of animation</a>
            <li><a href="#ref-for-removed-replace-state⑤">6.4. The Animation interface</a> <a
                    href="#ref-for-removed-replace-state⑥">(2)</a>
            <li><a href="#ref-for-removed-replace-state⑦">6.4.2. The AnimationReplaceState enumeration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="persisted-replace-state">
        <b><a href="#persisted-replace-state">#persisted-replace-state</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-persisted-replace-state">6.4. The Animation interface</a>
            <li><a href="#ref-for-persisted-replace-state①">6.4.2. The AnimationReplaceState enumeration</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="replaceable-animation">
        <b><a href="#replaceable-animation">#replaceable-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-replaceable-animation">5.5.2. Removing replaced animations</a> <a
                    href="#ref-for-replaceable-animation①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="remove-replaced-animations">
        <b><a href="#remove-replaced-animations">#remove-replaced-animations</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-remove-replaced-animations">4.3. Timelines</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animationtimeline">
        <b><a href="#animationtimeline">#animationtimeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animationtimeline">6.2. The AnimationTimeline interface</a>
            <li><a href="#ref-for-animationtimeline①">6.3. The DocumentTimeline interface</a>
            <li><a href="#ref-for-animationtimeline②">6.4. The Animation interface</a> <a
                    href="#ref-for-animationtimeline③">(2)</a> <a href="#ref-for-animationtimeline④">(3)</a>
            <li><a href="#ref-for-animationtimeline⑤">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-animationtimeline⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationtimeline-currenttime">
        <b><a href="#dom-animationtimeline-currenttime">#dom-animationtimeline-currenttime</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationtimeline-currenttime">6.2. The AnimationTimeline interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-documenttimelineoptions">
        <b><a href="#dictdef-documenttimelineoptions">#dictdef-documenttimelineoptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-documenttimelineoptions">6.3. The DocumentTimeline interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="documenttimeline">
        <b><a href="#documenttimeline">#documenttimeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-documenttimeline">6.3. The DocumentTimeline interface</a> <a
                    href="#ref-for-documenttimeline①">(2)</a>
            <li><a href="#ref-for-documenttimeline②">6.9. Extensions to the Document interface</a> <a
                    href="#ref-for-documenttimeline③">(2)</a> <a href="#ref-for-documenttimeline④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-documenttimelineoptions-origintime">
        <b><a
                href="#dom-documenttimelineoptions-origintime">#dom-documenttimelineoptions-origintime</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-documenttimelineoptions-origintime">6.3. The DocumentTimeline interface</a> <a
                    href="#ref-for-dom-documenttimelineoptions-origintime①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-documenttimeline-documenttimeline">
        <b><a href="#dom-documenttimeline-documenttimeline">#dom-documenttimeline-documenttimeline</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-documenttimeline-documenttimeline">6.3. The DocumentTimeline interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-documenttimeline-documenttimeline-options-options">
        <b><a
                href="#dom-documenttimeline-documenttimeline-options-options">#dom-documenttimeline-documenttimeline-options-options</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-documenttimeline-documenttimeline-options-options">6.3. The DocumentTimeline
                    interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation">
        <b><a href="#animation">#animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animation">6.4. The Animation interface</a> <a href="#ref-for-animation①">(2)</a> <a
                    href="#ref-for-animation②">(3)</a> <a href="#ref-for-animation③">(4)</a> <a
                    href="#ref-for-animation④">(5)</a> <a href="#ref-for-animation⑤">(6)</a> <a
                    href="#ref-for-animation⑥">(7)</a>
            <li><a href="#ref-for-animation⑦">6.6.1. Creating a new KeyframeEffect object</a>
            <li><a href="#ref-for-animation⑧">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-animation⑨">(2)</a> <a href="#ref-for-animation①⓪">(3)</a> <a
                    href="#ref-for-animation①①">(4)</a> <a href="#ref-for-animation①②">(5)</a>
            <li><a href="#ref-for-animation①③">6.10. Extensions to the DocumentOrShadowRoot interface mixin</a>
            <li><a href="#ref-for-animation①④">6.13. Model liveness</a> <a href="#ref-for-animation①⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-animation">
        <b><a href="#dom-animation-animation">#dom-animation-animation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-animation">6.4. The Animation interface</a>
            <li><a href="#ref-for-dom-animation-animation①">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-animation-effect-timeline-effect">
        <b><a
                href="#dom-animation-animation-effect-timeline-effect">#dom-animation-animation-effect-timeline-effect</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-animation-effect-timeline-effect">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-animation-effect-timeline-timeline">
        <b><a
                href="#dom-animation-animation-effect-timeline-timeline">#dom-animation-animation-effect-timeline-timeline</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-animation-effect-timeline-timeline">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-id">
        <b><a href="#dom-animation-id">#dom-animation-id</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-id">6.4. The Animation interface</a>
            <li><a href="#ref-for-dom-animation-id①">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-dom-animation-id②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-effect">
        <b><a href="#dom-animation-effect">#dom-animation-effect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-effect">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-timeline">
        <b><a href="#dom-animation-timeline">#dom-animation-timeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-timeline">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-starttime">
        <b><a href="#dom-animation-starttime">#dom-animation-starttime</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-starttime">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-currenttime">
        <b><a href="#dom-animation-currenttime">#dom-animation-currenttime</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-currenttime">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-playbackrate">
        <b><a href="#dom-animation-playbackrate">#dom-animation-playbackrate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-playbackrate">6.4. The Animation interface</a> <a
                    href="#ref-for-dom-animation-playbackrate①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-playstate">
        <b><a href="#dom-animation-playstate">#dom-animation-playstate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-playstate">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-replacestate">
        <b><a href="#dom-animation-replacestate">#dom-animation-replacestate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-replacestate">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-pending">
        <b><a href="#dom-animation-pending">#dom-animation-pending</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-pending">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-ready">
        <b><a href="#dom-animation-ready">#dom-animation-ready</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-ready">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-finished">
        <b><a href="#dom-animation-finished">#dom-animation-finished</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-finished">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-onfinish">
        <b><a href="#dom-animation-onfinish">#dom-animation-onfinish</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-onfinish">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-oncancel">
        <b><a href="#dom-animation-oncancel">#dom-animation-oncancel</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-oncancel">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-onremove">
        <b><a href="#dom-animation-onremove">#dom-animation-onremove</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-onremove">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-cancel">
        <b><a href="#dom-animation-cancel">#dom-animation-cancel</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-cancel">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-finish">
        <b><a href="#dom-animation-finish">#dom-animation-finish</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-finish">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-dom-animation-finish①">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-play">
        <b><a href="#dom-animation-play">#dom-animation-play</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-play">6.4. The Animation interface</a> <a
                    href="#ref-for-dom-animation-play①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-pause">
        <b><a href="#dom-animation-pause">#dom-animation-pause</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-pause">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-updateplaybackrate">
        <b><a href="#dom-animation-updateplaybackrate">#dom-animation-updateplaybackrate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-updateplaybackrate">6.4. The Animation interface</a> <a
                    href="#ref-for-dom-animation-updateplaybackrate①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-updateplaybackrate-playbackrate-playbackrate">
        <b><a
                href="#dom-animation-updateplaybackrate-playbackrate-playbackrate">#dom-animation-updateplaybackrate-playbackrate-playbackrate</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-updateplaybackrate-playbackrate-playbackrate">6.4. The Animation
                    interface</a> <a href="#ref-for-dom-animation-updateplaybackrate-playbackrate-playbackrate①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-reverse">
        <b><a href="#dom-animation-reverse">#dom-animation-reverse</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-reverse">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-persist">
        <b><a href="#dom-animation-persist">#dom-animation-persist</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-persist">6.4. The Animation interface</a> <a
                    href="#ref-for-dom-animation-persist①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animation-commitstyles">
        <b><a href="#dom-animation-commitstyles">#dom-animation-commitstyles</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animation-commitstyles">6.4. The Animation interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="commit-computed-styles">
        <b><a href="#commit-computed-styles">#commit-computed-styles</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-commit-computed-styles">6.4. The Animation interface</a> <a
                    href="#ref-for-commit-computed-styles①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-animationplaystate">
        <b><a href="#enumdef-animationplaystate">#enumdef-animationplaystate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-animationplaystate">6.4. The Animation interface</a> <a
                    href="#ref-for-enumdef-animationplaystate①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-animationreplacestate">
        <b><a href="#enumdef-animationreplacestate">#enumdef-animationreplacestate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-animationreplacestate">6.4. The Animation interface</a> <a
                    href="#ref-for-enumdef-animationreplacestate①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animationeffect">
        <b><a href="#animationeffect">#animationeffect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animationeffect">6.4. The Animation interface</a> <a
                    href="#ref-for-animationeffect①">(2)</a> <a href="#ref-for-animationeffect②">(3)</a>
            <li><a href="#ref-for-animationeffect③">6.5. The AnimationEffect interface</a>
            <li><a href="#ref-for-animationeffect④">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a> <a
                    href="#ref-for-animationeffect⑤">(2)</a>
            <li><a href="#ref-for-animationeffect⑥">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationeffect-gettiming">
        <b><a href="#dom-animationeffect-gettiming">#dom-animationeffect-gettiming</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationeffect-gettiming">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-dom-animationeffect-gettiming①">(2)</a> <a
                    href="#ref-for-dom-animationeffect-gettiming②">(3)</a> <a
                    href="#ref-for-dom-animationeffect-gettiming③">(4)</a> <a
                    href="#ref-for-dom-animationeffect-gettiming④">(5)</a>
            <li><a href="#ref-for-dom-animationeffect-gettiming⑤">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationeffect-getcomputedtiming">
        <b><a href="#dom-animationeffect-getcomputedtiming">#dom-animationeffect-getcomputedtiming</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationeffect-getcomputedtiming">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-dom-animationeffect-getcomputedtiming①">(2)</a> <a
                    href="#ref-for-dom-animationeffect-getcomputedtiming②">(3)</a> <a
                    href="#ref-for-dom-animationeffect-getcomputedtiming③">(4)</a> <a
                    href="#ref-for-dom-animationeffect-getcomputedtiming④">(5)</a> <a
                    href="#ref-for-dom-animationeffect-getcomputedtiming⑤">(6)</a>
            <li><a href="#ref-for-dom-animationeffect-getcomputedtiming⑥">6.5.1. The EffectTiming and
                    OptionalEffectTiming dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationeffect-updatetiming">
        <b><a href="#dom-animationeffect-updatetiming">#dom-animationeffect-updatetiming</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationeffect-updatetiming">6.5. The AnimationEffect interface</a>
            <li><a href="#ref-for-dom-animationeffect-updatetiming①">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationeffect-updatetiming-timing-timing">
        <b><a
                href="#dom-animationeffect-updatetiming-timing-timing">#dom-animationeffect-updatetiming-timing-timing</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationeffect-updatetiming-timing-timing">6.5. The AnimationEffect interface</a>
                <a href="#ref-for-dom-animationeffect-updatetiming-timing-timing①">(2)</a> <a
                    href="#ref-for-dom-animationeffect-updatetiming-timing-timing②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-effecttiming">
        <b><a href="#dictdef-effecttiming">#dictdef-effecttiming</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-effecttiming">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-dictdef-effecttiming①">(2)</a> <a href="#ref-for-dictdef-effecttiming②">(3)</a> <a
                    href="#ref-for-dictdef-effecttiming③">(4)</a> <a href="#ref-for-dictdef-effecttiming④">(5)</a>
            <li><a href="#ref-for-dictdef-effecttiming⑤">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a> <a href="#ref-for-dictdef-effecttiming⑥">(2)</a>
            <li><a href="#ref-for-dictdef-effecttiming⑦">6.5.4. Updating the timing of an AnimationEffect</a>
            <li><a href="#ref-for-dictdef-effecttiming⑧">6.5.5. The ComputedEffectTiming dictionary</a>
            <li><a href="#ref-for-dictdef-effecttiming⑨">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-dictdef-effecttiming①⓪">6.6.1. Creating a new KeyframeEffect object</a>
            <li><a href="#ref-for-dictdef-effecttiming①①">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-dictdef-effecttiming①②">(2)</a> <a
                    href="#ref-for-dictdef-effecttiming①③">(3)</a>
            <li><a href="#ref-for-dictdef-effecttiming①④">6.6.4. The KeyframeEffectOptions dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-optionaleffecttiming">
        <b><a href="#dictdef-optionaleffecttiming">#dictdef-optionaleffecttiming</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-optionaleffecttiming">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-dictdef-optionaleffecttiming①">(2)</a>
            <li><a href="#ref-for-dictdef-optionaleffecttiming②">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-dictdef-optionaleffecttiming③">6.5.4. Updating the timing of an AnimationEffect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-delay">
        <b><a href="#dom-effecttiming-delay">#dom-effecttiming-delay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-delay">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-dom-effecttiming-delay①">6.5.4. Updating the timing of an AnimationEffect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-delay">
        <b><a href="#dom-optionaleffecttiming-delay">#dom-optionaleffecttiming-delay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-delay">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-enddelay">
        <b><a href="#dom-effecttiming-enddelay">#dom-effecttiming-enddelay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-enddelay">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-dom-effecttiming-enddelay①">6.5.4. Updating the timing of an AnimationEffect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-enddelay">
        <b><a href="#dom-optionaleffecttiming-enddelay">#dom-optionaleffecttiming-enddelay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-enddelay">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-fill">
        <b><a href="#dom-effecttiming-fill">#dom-effecttiming-fill</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-fill">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-dom-effecttiming-fill①">(2)</a>
            <li><a href="#ref-for-dom-effecttiming-fill②">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-dom-effecttiming-fill③">6.5.4. Updating the timing of an AnimationEffect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-fill">
        <b><a href="#dom-optionaleffecttiming-fill">#dom-optionaleffecttiming-fill</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-fill">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-iterationstart">
        <b><a href="#dom-effecttiming-iterationstart">#dom-effecttiming-iterationstart</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-iterationstart">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a> <a href="#ref-for-dom-effecttiming-iterationstart①">(2)</a> <a
                    href="#ref-for-dom-effecttiming-iterationstart②">(3)</a> <a
                    href="#ref-for-dom-effecttiming-iterationstart③">(4)</a>
            <li><a href="#ref-for-dom-effecttiming-iterationstart④">6.5.4. Updating the timing of an AnimationEffect</a>
                <a href="#ref-for-dom-effecttiming-iterationstart⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-iterationstart">
        <b><a
                href="#dom-optionaleffecttiming-iterationstart">#dom-optionaleffecttiming-iterationstart</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-iterationstart">6.5.1. The EffectTiming and
                    OptionalEffectTiming dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-iterations">
        <b><a href="#dom-effecttiming-iterations">#dom-effecttiming-iterations</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-iterations">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a> <a href="#ref-for-dom-effecttiming-iterations①">(2)</a> <a
                    href="#ref-for-dom-effecttiming-iterations②">(3)</a>
            <li><a href="#ref-for-dom-effecttiming-iterations③">6.5.4. Updating the timing of an AnimationEffect</a> <a
                    href="#ref-for-dom-effecttiming-iterations④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-iterations">
        <b><a href="#dom-optionaleffecttiming-iterations">#dom-optionaleffecttiming-iterations</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-iterations">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-duration">
        <b><a href="#dom-effecttiming-duration">#dom-effecttiming-duration</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-duration">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-dom-effecttiming-duration①">(2)</a>
            <li><a href="#ref-for-dom-effecttiming-duration②">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a> <a href="#ref-for-dom-effecttiming-duration③">(2)</a> <a
                    href="#ref-for-dom-effecttiming-duration④">(3)</a>
            <li><a href="#ref-for-dom-effecttiming-duration⑤">6.5.4. Updating the timing of an AnimationEffect</a> <a
                    href="#ref-for-dom-effecttiming-duration⑥">(2)</a>
            <li><a href="#ref-for-dom-effecttiming-duration⑦">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-duration">
        <b><a href="#dom-optionaleffecttiming-duration">#dom-optionaleffecttiming-duration</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-duration">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-direction">
        <b><a href="#dom-effecttiming-direction">#dom-effecttiming-direction</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-direction">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-dom-effecttiming-direction①">6.5.4. Updating the timing of an AnimationEffect</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-direction">
        <b><a href="#dom-optionaleffecttiming-direction">#dom-optionaleffecttiming-direction</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-direction">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-effecttiming-easing">
        <b><a href="#dom-effecttiming-easing">#dom-effecttiming-easing</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-effecttiming-easing">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
            <li><a href="#ref-for-dom-effecttiming-easing①">6.5.4. Updating the timing of an AnimationEffect</a> <a
                    href="#ref-for-dom-effecttiming-easing②">(2)</a>
            <li><a href="#ref-for-dom-effecttiming-easing③">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-dom-effecttiming-easing④">(2)</a> <a
                    href="#ref-for-dom-effecttiming-easing⑤">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-optionaleffecttiming-easing">
        <b><a href="#dom-optionaleffecttiming-easing">#dom-optionaleffecttiming-easing</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-optionaleffecttiming-easing">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-fillmode">
        <b><a href="#enumdef-fillmode">#enumdef-fillmode</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-fillmode">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-enumdef-fillmode①">(2)</a>
            <li><a href="#ref-for-enumdef-fillmode②">6.5.1. The EffectTiming and OptionalEffectTiming dictionaries</a>
                <a href="#ref-for-enumdef-fillmode③">(2)</a> <a href="#ref-for-enumdef-fillmode④">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-playbackdirection">
        <b><a href="#enumdef-playbackdirection">#enumdef-playbackdirection</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-playbackdirection">6.5.1. The EffectTiming and OptionalEffectTiming
                    dictionaries</a> <a href="#ref-for-enumdef-playbackdirection①">(2)</a> <a
                    href="#ref-for-enumdef-playbackdirection②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="update-the-timing-properties-of-an-animation-effect">
        <b><a
                href="#update-the-timing-properties-of-an-animation-effect">#update-the-timing-properties-of-an-animation-effect</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-update-the-timing-properties-of-an-animation-effect">6.5. The AnimationEffect
                    interface</a>
            <li><a href="#ref-for-update-the-timing-properties-of-an-animation-effect①">6.6. The KeyframeEffect
                    interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-computedeffecttiming">
        <b><a href="#dictdef-computedeffecttiming">#dictdef-computedeffecttiming</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-computedeffecttiming">6.5. The AnimationEffect interface</a> <a
                    href="#ref-for-dictdef-computedeffecttiming①">(2)</a>
            <li><a href="#ref-for-dictdef-computedeffecttiming②">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-computedeffecttiming-endtime">
        <b><a href="#dom-computedeffecttiming-endtime">#dom-computedeffecttiming-endtime</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-computedeffecttiming-endtime">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-computedeffecttiming-activeduration">
        <b><a
                href="#dom-computedeffecttiming-activeduration">#dom-computedeffecttiming-activeduration</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-computedeffecttiming-activeduration">6.5.5. The ComputedEffectTiming
                    dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-computedeffecttiming-localtime">
        <b><a href="#dom-computedeffecttiming-localtime">#dom-computedeffecttiming-localtime</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-computedeffecttiming-localtime">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-computedeffecttiming-progress">
        <b><a href="#dom-computedeffecttiming-progress">#dom-computedeffecttiming-progress</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-computedeffecttiming-progress">6.5.5. The ComputedEffectTiming dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-computedeffecttiming-currentiteration">
        <b><a
                href="#dom-computedeffecttiming-currentiteration">#dom-computedeffecttiming-currentiteration</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-computedeffecttiming-currentiteration">6.5.5. The ComputedEffectTiming
                    dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="keyframeeffect">
        <b><a href="#keyframeeffect">#keyframeeffect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-keyframeeffect">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-keyframeeffect①">(2)</a> <a href="#ref-for-keyframeeffect②">(3)</a> <a
                    href="#ref-for-keyframeeffect③">(4)</a> <a href="#ref-for-keyframeeffect④">(5)</a> <a
                    href="#ref-for-keyframeeffect⑤">(6)</a> <a href="#ref-for-keyframeeffect⑥">(7)</a> <a
                    href="#ref-for-keyframeeffect⑦">(8)</a>
            <li><a href="#ref-for-keyframeeffect⑧">6.6.1. Creating a new KeyframeEffect object</a> <a
                    href="#ref-for-keyframeeffect⑨">(2)</a> <a href="#ref-for-keyframeeffect①⓪">(3)</a>
            <li><a href="#ref-for-keyframeeffect①①">6.6.3. Processing a keyframes
                    argument</a>
            <li><a href="#ref-for-keyframeeffect①②">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-keyframeeffect①③">(2)</a> <a href="#ref-for-keyframeeffect①④">(3)</a>
            <li><a href="#ref-for-keyframeeffect①⑤">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-keyframeeffect">
        <b><a href="#dom-keyframeeffect-keyframeeffect">#dom-keyframeeffect-keyframeeffect</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-dom-keyframeeffect-keyframeeffect①">(2)</a>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect②">6.6.1. Creating a new KeyframeEffect object</a>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect③">6.6.3. Processing a keyframes
                    argument</a>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect④">6.6.4. The KeyframeEffectOptions dictionary</a>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect⑤">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-dom-keyframeeffect-keyframeeffect⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-keyframeeffect-target-keyframes-options-target">
        <b><a
                href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-target">#dom-keyframeeffect-keyframeeffect-target-keyframes-options-target</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect-target-keyframes-options-target">6.6. The
                    KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes">
        <b><a
                href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes">#dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect-target-keyframes-options-keyframes">6.6. The
                    KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-keyframeeffect-target-keyframes-options-options">
        <b><a
                href="#dom-keyframeeffect-keyframeeffect-target-keyframes-options-options">#dom-keyframeeffect-keyframeeffect-target-keyframes-options-options</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect-target-keyframes-options-options">6.6. The
                    KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-keyframeeffect-source">
        <b><a
                href="#dom-keyframeeffect-keyframeeffect-source">#dom-keyframeeffect-keyframeeffect-source</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect-source">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-keyframeeffect-source-source">
        <b><a
                href="#dom-keyframeeffect-keyframeeffect-source-source">#dom-keyframeeffect-keyframeeffect-source-source</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-keyframeeffect-source-source">6.6. The KeyframeEffect interface</a>
                <a href="#ref-for-dom-keyframeeffect-keyframeeffect-source-source①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-target">
        <b><a href="#dom-keyframeeffect-target">#dom-keyframeeffect-target</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-target">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-pseudoelement">
        <b><a href="#dom-keyframeeffect-pseudoelement">#dom-keyframeeffect-pseudoelement</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-pseudoelement">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-dom-keyframeeffect-pseudoelement①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-composite">
        <b><a href="#dom-keyframeeffect-composite">#dom-keyframeeffect-composite</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-composite">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-dom-keyframeeffect-composite①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-getkeyframes">
        <b><a href="#dom-keyframeeffect-getkeyframes">#dom-keyframeeffect-getkeyframes</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-getkeyframes">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-dom-keyframeeffect-getkeyframes①">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-basecomputedkeyframe-offset">
        <b><a href="#dom-basecomputedkeyframe-offset">#dom-basecomputedkeyframe-offset</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-basecomputedkeyframe-offset">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-basecomputedkeyframe-computedoffset">
        <b><a
                href="#dom-basecomputedkeyframe-computedoffset">#dom-basecomputedkeyframe-computedoffset</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-basecomputedkeyframe-computedoffset">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-basecomputedkeyframe-easing">
        <b><a href="#dom-basecomputedkeyframe-easing">#dom-basecomputedkeyframe-easing</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-basecomputedkeyframe-easing">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-basecomputedkeyframe-composite">
        <b><a href="#dom-basecomputedkeyframe-composite">#dom-basecomputedkeyframe-composite</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-basecomputedkeyframe-composite">6.6. The KeyframeEffect interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffect-setkeyframes">
        <b><a href="#dom-keyframeeffect-setkeyframes">#dom-keyframeeffect-setkeyframes</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffect-setkeyframes">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-dom-keyframeeffect-setkeyframes①">(2)</a> <a
                    href="#ref-for-dom-keyframeeffect-setkeyframes②">(3)</a>
            <li><a href="#ref-for-dom-keyframeeffect-setkeyframes③">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animation-property-name-to-idl-attribute-name">
        <b><a
                href="#animation-property-name-to-idl-attribute-name">#animation-property-name-to-idl-attribute-name</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-animation-property-name-to-idl-attribute-name">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-animation-property-name-to-idl-attribute-name①">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="idl-attribute-name-to-animation-property-name">
        <b><a
                href="#idl-attribute-name-to-animation-property-name">#idl-attribute-name-to-animation-property-name</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-idl-attribute-name-to-animation-property-name">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="check-the-completion-record">
        <b><a href="#check-the-completion-record">#check-the-completion-record</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-check-the-completion-record">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-check-the-completion-record①">(2)</a> <a
                    href="#ref-for-check-the-completion-record②">(3)</a> <a
                    href="#ref-for-check-the-completion-record③">(4)</a> <a
                    href="#ref-for-check-the-completion-record④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="process-a-keyframe-like-object">
        <b><a href="#process-a-keyframe-like-object">#process-a-keyframe-like-object</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-process-a-keyframe-like-object">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-process-a-keyframe-like-object①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="process-a-keyframes-argument">
        <b><a href="#process-a-keyframes-argument">#process-a-keyframes-argument</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-process-a-keyframes-argument">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-process-a-keyframes-argument①">6.6.3. Processing a keyframes
                    argument</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-keyframeeffectoptions">
        <b><a href="#dictdef-keyframeeffectoptions">#dictdef-keyframeeffectoptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-keyframeeffectoptions">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-dictdef-keyframeeffectoptions①">(2)</a> <a
                    href="#ref-for-dictdef-keyframeeffectoptions②">(3)</a> <a
                    href="#ref-for-dictdef-keyframeeffectoptions③">(4)</a> <a
                    href="#ref-for-dictdef-keyframeeffectoptions④">(5)</a>
            <li><a href="#ref-for-dictdef-keyframeeffectoptions⑤">6.6.3. Processing a keyframes
                    argument</a>
            <li><a href="#ref-for-dictdef-keyframeeffectoptions⑥">6.6.4. The KeyframeEffectOptions dictionary</a>
            <li><a href="#ref-for-dictdef-keyframeeffectoptions⑦">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffectoptions-composite">
        <b><a href="#dom-keyframeeffectoptions-composite">#dom-keyframeeffectoptions-composite</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffectoptions-composite">6.6.4. The KeyframeEffectOptions dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeeffectoptions-pseudoelement">
        <b><a
                href="#dom-keyframeeffectoptions-pseudoelement">#dom-keyframeeffectoptions-pseudoelement</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeeffectoptions-pseudoelement">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-dom-keyframeeffectoptions-pseudoelement①">(2)</a>
            <li><a href="#ref-for-dom-keyframeeffectoptions-pseudoelement②">6.6.4. The KeyframeEffectOptions
                    dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="compositeoperation">
        <b><a href="#compositeoperation">#compositeoperation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-compositeoperation">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-compositeoperation①">6.6.4. The KeyframeEffectOptions dictionary</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-compositeoperation">
        <b><a href="#enumdef-compositeoperation">#enumdef-compositeoperation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-compositeoperation">6.6. The KeyframeEffect interface</a> <a
                    href="#ref-for-enumdef-compositeoperation①">(2)</a>
            <li><a href="#ref-for-enumdef-compositeoperation②">6.6.4. The KeyframeEffectOptions dictionary</a> <a
                    href="#ref-for-enumdef-compositeoperation③">(2)</a>
            <li><a href="#ref-for-enumdef-compositeoperation④">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-compositeoperation-replace">
        <b><a href="#dom-compositeoperation-replace">#dom-compositeoperation-replace</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-compositeoperation-replace">6.7. The CompositeOperation and
                    CompositeOperationOrAuto enumerations</a> <a href="#ref-for-dom-compositeoperation-replace①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-compositeoperation-add">
        <b><a href="#dom-compositeoperation-add">#dom-compositeoperation-add</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-compositeoperation-add">6.7. The CompositeOperation and CompositeOperationOrAuto
                    enumerations</a> <a href="#ref-for-dom-compositeoperation-add①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-compositeoperation-accumulate">
        <b><a href="#dom-compositeoperation-accumulate">#dom-compositeoperation-accumulate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-compositeoperation-accumulate">6.7. The CompositeOperation and
                    CompositeOperationOrAuto enumerations</a> <a
                    href="#ref-for-dom-compositeoperation-accumulate①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="enumdef-compositeoperationorauto">
        <b><a href="#enumdef-compositeoperationorauto">#enumdef-compositeoperationorauto</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-enumdef-compositeoperationorauto">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-enumdef-compositeoperationorauto①">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-enumdef-compositeoperationorauto②">(2)</a> <a
                    href="#ref-for-enumdef-compositeoperationorauto③">(3)</a> <a
                    href="#ref-for-enumdef-compositeoperationorauto④">(4)</a> <a
                    href="#ref-for-enumdef-compositeoperationorauto⑤">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-compositeoperationorauto-auto">
        <b><a href="#dom-compositeoperationorauto-auto">#dom-compositeoperationorauto-auto</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-compositeoperationorauto-auto">6.6. The KeyframeEffect interface</a>
            <li><a href="#ref-for-dom-compositeoperationorauto-auto①">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-dom-compositeoperationorauto-auto②">(2)</a>
            <li><a href="#ref-for-dom-compositeoperationorauto-auto③">6.6.4. The KeyframeEffectOptions dictionary</a>
            <li><a href="#ref-for-dom-compositeoperationorauto-auto④">6.7. The CompositeOperation and
                    CompositeOperationOrAuto enumerations</a> <a
                    href="#ref-for-dom-compositeoperationorauto-auto⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animatable">
        <b><a href="#animatable">#animatable</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animatable">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-animatable①">(2)</a>
            <li><a href="#ref-for-animatable②">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-animatable③">6.11. Extensions to the Element interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-keyframeanimationoptions">
        <b><a href="#dictdef-keyframeanimationoptions">#dictdef-keyframeanimationoptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-keyframeanimationoptions">6.6.3. Processing a keyframes
                    argument</a>
            <li><a href="#ref-for-dictdef-keyframeanimationoptions①">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-dictdef-keyframeanimationoptions②">(2)</a> <a
                    href="#ref-for-dictdef-keyframeanimationoptions③">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-getanimationsoptions">
        <b><a href="#dictdef-getanimationsoptions">#dictdef-getanimationsoptions</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-getanimationsoptions">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animatable-animate">
        <b><a href="#dom-animatable-animate">#dom-animatable-animate</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animatable-animate">6.6.3. Processing a keyframes
                    argument</a> <a href="#ref-for-dom-animatable-animate①">(2)</a>
            <li><a href="#ref-for-dom-animatable-animate②">6.8. The Animatable interface mixin</a>
            <li><a href="#ref-for-dom-animatable-animate③">6.13. Model liveness</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animatable-animate-keyframes-options-keyframes">
        <b><a
                href="#dom-animatable-animate-keyframes-options-keyframes">#dom-animatable-animate-keyframes-options-keyframes</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animatable-animate-keyframes-options-keyframes">6.8. The Animatable interface
                    mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animatable-animate-keyframes-options-options">
        <b><a
                href="#dom-animatable-animate-keyframes-options-options">#dom-animatable-animate-keyframes-options-options</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animatable-animate-keyframes-options-options">6.8. The Animatable interface
                    mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animatable-getanimations">
        <b><a href="#dom-animatable-getanimations">#dom-animatable-getanimations</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-animatable-getanimations">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-dom-animatable-getanimations①">(2)</a> <a
                    href="#ref-for-dom-animatable-getanimations②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animatable-getanimations-options-options">
        <b><a
                href="#dom-animatable-getanimations-options-options">#dom-animatable-getanimations-options-options</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animatable-getanimations-options-options">6.8. The Animatable interface mixin</a>
                <a href="#ref-for-dom-animatable-getanimations-options-options①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeanimationoptions-id">
        <b><a href="#dom-keyframeanimationoptions-id">#dom-keyframeanimationoptions-id</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeanimationoptions-id">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-keyframeanimationoptions-timeline">
        <b><a href="#dom-keyframeanimationoptions-timeline">#dom-keyframeanimationoptions-timeline</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-keyframeanimationoptions-timeline">6.8. The Animatable interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-getanimationsoptions-subtree">
        <b><a href="#dom-getanimationsoptions-subtree">#dom-getanimationsoptions-subtree</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-getanimationsoptions-subtree">6.8. The Animatable interface mixin</a> <a
                    href="#ref-for-dom-getanimationsoptions-subtree①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-document-timeline">
        <b><a href="#dom-document-timeline">#dom-document-timeline</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-document-timeline">6.9. Extensions to the Document interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-documentorshadowroot-getanimations">
        <b><a
                href="#dom-documentorshadowroot-getanimations">#dom-documentorshadowroot-getanimations</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-documentorshadowroot-getanimations">6.10. Extensions to the DocumentOrShadowRoot
                    interface mixin</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="animationplaybackevent">
        <b><a href="#animationplaybackevent">#animationplaybackevent</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-animationplaybackevent">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-animationplaybackevent①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-animationplaybackevent②">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-animationplaybackevent③">6.12. The AnimationPlaybackEvent interface</a> <a
                    href="#ref-for-animationplaybackevent④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dictdef-animationplaybackeventinit">
        <b><a href="#dictdef-animationplaybackeventinit">#dictdef-animationplaybackeventinit</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dictdef-animationplaybackeventinit">6.12. The AnimationPlaybackEvent interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationplaybackevent-animationplaybackevent">
        <b><a
                href="#dom-animationplaybackevent-animationplaybackevent">#dom-animationplaybackevent-animationplaybackevent</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationplaybackevent-animationplaybackevent">6.12. The AnimationPlaybackEvent
                    interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationplaybackevent-currenttime">
        <b><a
                href="#dom-animationplaybackevent-currenttime">#dom-animationplaybackevent-currenttime</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationplaybackevent-currenttime">4.4.12. Updating the finished state</a>
            <li><a href="#ref-for-dom-animationplaybackevent-currenttime①">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-dom-animationplaybackevent-currenttime②">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-dom-animationplaybackevent-currenttime③">6.12. The AnimationPlaybackEvent
                    interface</a> <a href="#ref-for-dom-animationplaybackevent-currenttime④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationplaybackevent-timelinetime">
        <b><a
                href="#dom-animationplaybackevent-timelinetime">#dom-animationplaybackevent-timelinetime</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationplaybackevent-timelinetime">4.4.12. Updating the finished state</a> <a
                    href="#ref-for-dom-animationplaybackevent-timelinetime①">(2)</a>
            <li><a href="#ref-for-dom-animationplaybackevent-timelinetime②">4.4.14. Canceling an animation</a>
            <li><a href="#ref-for-dom-animationplaybackevent-timelinetime③">5.5.2. Removing replaced animations</a>
            <li><a href="#ref-for-dom-animationplaybackevent-timelinetime④">6.12. The AnimationPlaybackEvent
                    interface</a> <a href="#ref-for-dom-animationplaybackevent-timelinetime⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationplaybackeventinit-currenttime">
        <b><a
                href="#dom-animationplaybackeventinit-currenttime">#dom-animationplaybackeventinit-currenttime</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationplaybackeventinit-currenttime">6.12. The AnimationPlaybackEvent
                    interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-animationplaybackeventinit-timelinetime">
        <b><a
                href="#dom-animationplaybackeventinit-timelinetime">#dom-animationplaybackeventinit-timelinetime</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-animationplaybackeventinit-timelinetime">6.12. The AnimationPlaybackEvent
                    interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="combining-shadow-lists">
        <b><a href="#combining-shadow-lists">#combining-shadow-lists</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-combining-shadow-lists">Animation of box-shadow and text-shadow</a> <a
                    href="#ref-for-combining-shadow-lists①">(2)</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script>/* script-var-click-highlighting */

        document.addEventListener("click", e => {
            if (e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        {
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>
    <script src="https://htmlspecs.com/dropdown.js"></script>