<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="generator" content="ReSpec 35.1.2">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>

    <title>Battery Status API</title>




    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <style>
        ul.index {
            columns: 30ch;
            column-gap: 1.5em
        }

        ul.index li {
            list-style: inherit
        }

        ul.index li span {
            color: inherit;
            cursor: pointer;
            white-space: normal
        }

        #index-defined-here ul.index li {
            font-size: .9rem
        }

        ul.index code {
            color: inherit
        }

        #index-defined-here .print-only {
            display: none
        }

        @media print {
            #index-defined-here .print-only {
                display: initial
            }
        }
    </style>
    <meta name="revision" content="e1a8d7d77a047eb5cf78dad50e143381c32fc954">
    <link rel="canonical" href="https://www.w3.org/TR/battery-status/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "WD",
  "shortName": "battery-status",
  "previousPublishDate": "2024-05-23",
  "previousMaturity": "WD",
  "github": "w3c/battery",
  "editors": [
    {
      "name": "Anssi Kostiainen",
      "company": "Intel Corporation",
      "companyURL": "https://intel.com/",
      "w3cid": 41974
    }
  ],
  "formerEditors": [
    {
      "name": "Raphael Kubo da Costa",
      "company": "Intel Corporation",
      "companyURL": "https://intel.com/",
      "w3cid": 95850
    },
    {
      "name": "Mounir Lamouri",
      "company": "Google Inc.",
      "companyURL": "https://google.com/",
      "note": "previously Mozilla",
      "w3cid": 45389
    }
  ],
  "group": "das",
  "wgPublicList": "public-device-apis",
  "testSuiteURI": "https://wpt.live/battery-status/",
  "implementationReportURI": "https://wpt.fyi/results/battery-status",
  "xref": {
    "profile": "web-platform",
    "specs": [
      "permissions-policy"
    ]
  },
  "gitRevision": "e1a8d7d77a047eb5cf78dad50e143381c32fc954",
  "publishDate": "2024-10-24",
  "publishISODate": "2024-10-24T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 24 October 2024"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry" data-cite="WEBIDL permissions-policy HTML INFRA URL WEBIDL DOM FETCH">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">Battery Status API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C Working Draft</a> <time
                class="dt-published" datetime="2024-10-24">24 October 2024</time></p>
        <details open="">
            <summary>More details about this document</summary>
            <dl>
                <dt>This version:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2024/WD-battery-status-20241024/">https://www.w3.org/TR/2024/WD-battery-status-20241024/</a>
                </dd>
                <dt>Latest published version:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/battery-status/">https://www.w3.org/TR/battery-status/</a>
                </dd>
                <dt>Latest editor's draft:</dt>
                <dd><a href="https://w3c.github.io/battery/">https://w3c.github.io/battery/</a></dd>
                <dt>History:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/battery-status/">https://www.w3.org/standards/history/battery-status/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/battery/commits/">Commit history</a>
                </dd>
                <dt>Test suite:</dt>
                <dd><a href="https://wpt.live/battery-status/">https://wpt.live/battery-status/</a></dd>
                <dt>Implementation report:</dt>
                <dd>
                    <a href="https://wpt.fyi/results/battery-status">https://wpt.fyi/results/battery-status</a>
                </dd>



                <dt>Editor:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="41974">
                    <span class="p-name fn">Anssi Kostiainen</span> (<a class="p-org org h-org"
                        href="https://intel.com/">Intel Corporation</a>)
                </dd>
                <dt>
                    Former editors:
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="95850">
                    <span class="p-name fn">Raphael Kubo da Costa</span> (<a class="p-org org h-org"
                        href="https://intel.com/">Intel Corporation</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="45389">
                    <span class="p-name fn">Mounir Lamouri</span> (<a class="p-org org h-org"
                        href="https://google.com/">Google Inc.</a>) (previously Mozilla)
                </dd>

                <dt>Feedback:</dt>
                <dd>
                    <a href="https://github.com/w3c/battery/">GitHub w3c/battery</a>
                    (<a href="https://github.com/w3c/battery/pulls/">pull requests</a>,
                    <a href="https://github.com/w3c/battery/issues/new/choose">new issue</a>,
                    <a href="https://github.com/w3c/battery/issues/">open issues</a>)
                </dd>
                <dd><a
                        href="mailto:public-device-apis@w3.org?subject=%5Bbattery-status%5D%20YOUR%20TOPIC%20HERE">public-device-apis@w3.org</a>
                    with subject line <kbd>[battery-status] <em>… message topic …</em></kbd> (<a rel="discussion"
                        href="https://lists.w3.org/Archives/Public/public-device-apis">archives</a>)</dd>


            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2024

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>Abstract</h2>
        This specification defines an API that provides information about the
        battery status of the hosting device.
    </section>
    <section id="sotd" class="introductory">
        <h2>Status of This Document</h2>
        <p><em>This section describes the status of this
                document at the time of its publication. A list of current <abbr
                    title="World Wide Web Consortium">W3C</abbr>
                publications and the latest revision of this technical report can be found
                in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
                    reports index</a> at
                https://www.w3.org/TR/.</em></p>
        <p>
            The Devices and Sensors Working Group will apply editorial
            modernizations to this specification, perform a round of self-review
            and revisions on the security and privacy aspects of the API before
            requesting horizontal review. Existing <a
                href="https://www.w3.org/PM/horizontal/review.html?shortname=battery-status">
                security and privacy issues</a> are available.
        </p>
        <p>
            This document was published by the <a href="https://www.w3.org/groups/wg/das">Devices and Sensors Working
                Group</a> as
            a Working Draft using the
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">Recommendation track</a>.
        </p>
        <p>Publication as a Working Draft does not
            imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p>
        <p>
            This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other
            than work in progress.

        </p>
        <p>

            This document was produced by a group
            operating under the
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                Patent
                Policy</a>.


            <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
            <a rel="disclosure" href="https://www.w3.org/groups/wg/das/ipr">public list of any patent disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a>
            must disclose the information in accordance with
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the <abbr
                    title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.

        </p>
        <p>
            This document is governed by the
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">03 November 2023 <abbr
                    title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    Introduction
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a></li>
            <li class="tocline"><a class="tocxref" href="#security-and-privacy-considerations"><bdi class="secno">3.
                    </bdi>
                    Security and privacy considerations
                </a></li>
            <li class="tocline"><a class="tocxref" href="#concepts"><bdi class="secno">4. </bdi>
                    Concepts
                </a></li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-the-navigator-interface"><bdi class="secno">5.
                    </bdi>
                    Extensions to the <code>Navigator</code> interface
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">5.1 </bdi>
                            Internal slots
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#the-getbattery-method"><bdi class="secno">5.2 </bdi>
                            The <code>getBattery()</code> method
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#the-batterymanager-interface"><bdi class="secno">6. </bdi>
                    The <code>BatteryManager</code> interface
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#internal-slots-0"><bdi class="secno">6.1 </bdi>
                            Internal slots
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#the-charging-internal-slot"><bdi
                                        class="secno">6.1.1 </bdi>
                                    The <code>[[Charging]]</code> internal slot
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#the-chargingtime-internal-slot"><bdi
                                        class="secno">6.1.2 </bdi>
                                    The <code>[[ChargingTime]]</code> internal slot
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#the-dischargingtime-internal-slot"><bdi
                                        class="secno">6.1.3 </bdi>
                                    The <code>[[DischargingTime]]</code> internal slot
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#the-level-internal-slot"><bdi
                                        class="secno">6.1.4 </bdi>
                                    The <code>[[Level]]</code> internal slot
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#the-charging-attribute"><bdi class="secno">6.2 </bdi>
                            The <code>charging</code> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#the-chargingtime-attribute"><bdi class="secno">6.3
                            </bdi>
                            The <code>chargingTime</code> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#the-dischargingtime-attribute"><bdi class="secno">6.4
                            </bdi>
                            The <code>dischargingTime</code> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#the-level-attribute"><bdi class="secno">6.5 </bdi>
                            The <code>level</code> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#event-handlers"><bdi class="secno">6.6 </bdi>
                            Event handlers
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#algorithms"><bdi class="secno">6.7 </bdi>
                            Algorithms
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#multiple-batteries"><bdi class="secno">6.8 </bdi>
                            Multiple batteries
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-policy-integration"><bdi class="secno">7. </bdi>
                    Permissions Policy integration
                </a></li>
            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">8. </bdi>
                    Examples
                </a></li>
            <li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">A. </bdi>Index</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">A.1 </bdi>Terms
                            defined by this specification</a></li>
                    <li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">A.2
                            </bdi>Terms defined by reference</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">B. </bdi>IDL Index</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">C. </bdi>
                    Acknowledgements
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>References</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1
                            </bdi>Normative references</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="introduction">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                Introduction
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            The Battery Status API specification defines a means for web developers
            to programmatically determine the battery status of the hosting device.
            Without knowing the battery status of a device, a web developer must
            design the web application with an assumption of sufficient battery
            level for the task at hand. This means the battery of a device may
            exhaust faster than desired because web developers are unable to make
            decisions based on the battery status. Given knowledge of the battery
            status, web developers are able to craft web content and applications
            which are power-efficient, thereby leading to improved user experience.
            Authors should be aware, however, that a naïve implementation of this
            API can negatively affect the battery life.
        </p>
        <p>
            The Battery Status API can be used to defer or scale back work when the
            device is not charging in or is low on battery. An archetype of an
            advanced web application, a web-based email client, may check the
            server for new email every few seconds if the device is charging, but
            do so less frequently if the device is not charging or is low on
            battery. Another example is a web-based word processor which could
            monitor the battery level and save changes before the battery runs out
            to prevent data loss.
        </p>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 2."></a>
        </div>
        <p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this
            specification are non-normative. Everything else in this specification is normative.</p>
        <p>
            The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, and <em
                class="rfc2119">SHOULD</em> in this document
            are to be interpreted as described in
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            when, and only when, they appear in all capitals, as shown here.
        </p>
        <p>
            This specification defines conformance criteria that apply to a single
            product: the <dfn id="dfn-user-agent" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">user
                agent</dfn> that implements the interfaces that
            it contains.
        </p>
    </section>
    <section id="security-and-privacy-considerations">
        <div class="header-wrapper">
            <h2 id="x3-security-and-privacy-considerations"><bdi class="secno">3. </bdi>
                Security and privacy considerations
            </h2><a class="self-link" href="#security-and-privacy-considerations"
                aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            The API defined in this specification is used to determine the battery
            status of the hosting device.
        </p>
        <p>
            The user agent <em class="rfc2119">SHOULD</em> not expose high precision readouts of battery
            status information as that can introduce a new fingerprinting vector.
        </p>
        <p>
            The user agent <em class="rfc2119">MAY</em> ask the user for battery status information access,
            or alternatively, enforce the user permission requirement in its
            private browsing modes.
        </p>
        <p>
            The user agent <em class="rfc2119">SHOULD</em> inform the user of the API use by scripts in an
            unobtrusive manner to aid transparency and to allow the user to revoke
            the API access.
        </p>
        <p>
            The user agent <em class="rfc2119">MAY</em> obfuscate the exposed value in a way that authors
            cannot directly know if a hosting device has no battery, is charging or
            is exposing fake values.
        </p>
    </section>
    <section id="concepts">
        <div class="header-wrapper">
            <h2 id="x4-concepts"><bdi class="secno">4. </bdi>
                Concepts
            </h2><a class="self-link" href="#concepts" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            The <a data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-index-term-task-source-1">task source</a> for the <a data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                id="ref-for-index-term-tasks-1">tasks</a> mentioned in this
            specification is the <dfn id="dfn-battery-status-task-source" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">battery status task source</dfn>.
        </p>
    </section>
    <section data-dfn-for="Navigator" id="extensions-to-the-navigator-interface">
        <div class="header-wrapper">
            <h2 id="x5-extensions-to-the-navigator-interface"><bdi class="secno">5. </bdi>
                Extensions to the <code>Navigator</code> interface
            </h2><a class="self-link" href="#extensions-to-the-navigator-interface"
                aria-label="Permalink for Section 5."></a>
        </div>

        <pre class="idl def" id="webidl-1199017490"><span class="idlHeader"><a class="self-link" href="#webidl-1199017490">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-1">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-index-term-navigator-interface-1">Navigator</a> {<span data-idl="" class="idlMethod" id="idl-def-navigator-getbattery" data-title="getBattery" data-dfn-for="Navigator"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-index-term-promise-interface-1">Promise</a>&lt;<a data-link-type="idl" href="#dom-batterymanager" class="internalDFN" id="ref-for-dom-batterymanager-1"><code>BatteryManager</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-getbattery" id="ref-for-dom-navigator-getbattery-1"><code>getBattery</code></a>();</span>
};</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID">
            <div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div>
            <p class="">
                This method was exposed to a non-secure context until <a
                    href="https://github.com/w3c/battery/pull/51">PR #51</a>.
            </p>
        </div>
        <section id="internal-slots">
            <div class="header-wrapper">
                <h3 id="x5-1-internal-slots"><bdi class="secno">5.1 </bdi>
                    Internal slots
                </h3><a class="self-link" href="#internal-slots" aria-label="Permalink for Section 5.1"></a>
            </div>

            <table class="simple">
                <thead>
                    <tr>
                        <th>
                            Internal slot
                        </th>
                        <th>
                            Initial value
                        </th>
                        <th>
                            Description
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="Navigator" data-noexport="" data-dfn-type="attribute"
                                id="dfn-batterypromise" tabindex="0" aria-haspopup="dialog">[[BatteryPromise]]</dfn>
                        </td>
                        <td>
                            <code>null</code>
                        </td>
                        <td>
                            A <a data-link-type="idl" data-lt="Promise" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-promise"
                                id="ref-for-index-term-promise-interface-2"><code>Promise</code></a> returned by calls
                            to <a data-link-type="idl" data-lt="getBattery()" href="#dom-navigator-getbattery"
                                class="internalDFN"
                                id="ref-for-dom-navigator-getbattery-2"><code>getBattery</code></a><code>()</code>.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="Navigator" data-noexport="" data-dfn-type="attribute"
                                id="dfn-batterymanager" tabindex="0" aria-haspopup="dialog">[[BatteryManager]]</dfn>
                        </td>
                        <td>
                            <code>null</code>
                        </td>
                        <td>
                            The <a data-link-type="idl" data-lt="BatteryManager" href="#dom-batterymanager"
                                class="internalDFN" id="ref-for-dom-batterymanager-2"><code>BatteryManager</code></a>
                            instance associated with a given
                            <a data-link-type="idl" data-lt="Navigator" data-type="interface"
                                href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"
                                id="ref-for-index-term-navigator-interface-2"><code>Navigator</code></a> after it has
                            been created via
                            <a data-link-type="idl" data-lt="getBattery()" href="#dom-navigator-getbattery"
                                class="internalDFN"
                                id="ref-for-dom-navigator-getbattery-3"><code>getBattery</code></a><code>()</code>.
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="the-getbattery-method">
            <div class="header-wrapper">
                <h3 id="x5-2-the-getbattery-method"><bdi class="secno">5.2 </bdi>
                    The <code>getBattery()</code> method
                </h3><a class="self-link" href="#the-getbattery-method" aria-label="Permalink for Section 5.2"></a>
            </div>

            <p data-tests="battery-promise-window.https.html, battery-promise.https.html">
                The <dfn data-export="" data-dfn-type="method" id="dom-navigator-getbattery" data-idl="operation"
                    data-title="getBattery()" data-dfn-for="Navigator" data-type="Promise" data-lt="getBattery()"
                    data-local-lt="Navigator.getBattery|Navigator.getBattery()|getBattery" tabindex="0"
                    aria-haspopup="dialog"><code>getBattery()</code></dfn> method steps are:
            </p>
            <ol class="algorithm">
                <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-1">this</a>.<a data-link-type="attribute"
                        data-lt="[[BatteryPromise]]" href="#dfn-batterypromise" class="internalDFN"
                        id="ref-for-dfn-batterypromise-1"><code>[[BatteryPromise]]</code></a> is <code>null</code>, then
                    set
                    it to <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-index-term-a-new-promise-1">a
                        new promise</a> in <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-index-term-this-2">this</a>'s <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-index-term-relevant-realm-1">relevant realm</a>.
                </li>
                <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-3">this</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-index-term-relevant-global-object-1">relevant global object</a>'s <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                        id="ref-for-index-term-associated-document-1">associated <code>Document</code></a> is not <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                        id="ref-for-index-term-allowed-to-use-1">allowed to use</a> the "<code>battery</code>"
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                        id="ref-for-index-term-policy-controlled-feature-1">policy-controlled feature</a>, then <a
                        data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                        id="ref-for-index-term-reject-1">reject</a>
                    <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-4">this</a>.<a data-link-type="attribute"
                        data-lt="[[BatteryPromise]]" href="#dfn-batterypromise" class="internalDFN"
                        id="ref-for-dfn-batterypromise-2"><code>[[BatteryPromise]]</code></a> with a
                    "<a data-link-type="idl" data-type="exception"
                        href="https://webidl.spec.whatwg.org/#notallowederror"
                        id="ref-for-index-term-notallowederror-exception-1"><code>NotAllowedError</code></a>" <a
                        data-link-type="idl" data-lt="DOMException" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"
                        id="ref-for-index-term-domexception-interface-1"><code>DOMException</code></a>.
                </li>
                <li>Otherwise:
                    <ol>
                        <li>If <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://webidl.spec.whatwg.org/#this" id="ref-for-index-term-this-5">this</a>.<a
                                data-link-type="attribute" data-lt="[[BatteryManager]]" href="#dfn-batterymanager"
                                class="internalDFN"
                                id="ref-for-dfn-batterymanager-1"><code>[[BatteryManager]]</code></a> is
                            <code>null</code>, then
                            set it to the result of creating a <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://webidl.spec.whatwg.org/#new" id="ref-for-index-term-new-1">new</a> <a
                                data-link-type="idl" data-lt="BatteryManager" href="#dom-batterymanager"
                                class="internalDFN" id="ref-for-dom-batterymanager-3"><code>BatteryManager</code></a> in
                            <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://webidl.spec.whatwg.org/#this" id="ref-for-index-term-this-6">this</a>'s <a
                                data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-index-term-relevant-realm-2">relevant realm</a>.
                        </li>
                        <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://webidl.spec.whatwg.org/#resolve"
                                id="ref-for-index-term-resolve-1">Resolve</a> <a data-link-type="dfn|abstract-op"
                                data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-index-term-this-7">this</a>.<a data-link-type="attribute"
                                data-lt="[[BatteryPromise]]" href="#dfn-batterypromise" class="internalDFN"
                                id="ref-for-dfn-batterypromise-3"><code>[[BatteryPromise]]</code></a> with
                            <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://webidl.spec.whatwg.org/#this" id="ref-for-index-term-this-8">this</a>.<a
                                data-link-type="attribute" data-lt="[[BatteryManager]]" href="#dfn-batterymanager"
                                class="internalDFN"
                                id="ref-for-dfn-batterymanager-2"><code>[[BatteryManager]]</code></a>.
                        </li>
                    </ol>
                </li>
                <li>Return <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-index-term-this-9">this</a>.<a
                        data-link-type="attribute" data-lt="[[BatteryPromise]]" href="#dfn-batterypromise"
                        class="internalDFN" id="ref-for-dfn-batterypromise-4"><code>[[BatteryPromise]]</code></a>.
                </li>
            </ol>
        </section>
    </section>
    <section data-dfn-for="BatteryManager" id="the-batterymanager-interface">
        <div class="header-wrapper">
            <h2 id="x6-the-batterymanager-interface"><bdi class="secno">6. </bdi>
                The <code>BatteryManager</code> interface
            </h2><a class="self-link" href="#the-batterymanager-interface" aria-label="Permalink for Section 6."></a>
        </div>

        <pre class="idl def" id="webidl-1293421873"><span class="idlHeader"><a class="self-link" href="#webidl-1293421873">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-batterymanager" data-title="BatteryManager">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-2">SecureContext</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-1">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-batterymanager" id="ref-for-dom-batterymanager-4"><code>BatteryManager</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-index-term-eventtarget-interface-1">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-batterymanager-charging" data-title="charging" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-index-term-boolean-type-1">boolean</a></span>             <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-charging" id="ref-for-dom-batterymanager-charging-1"><code>charging</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-batterymanager-chargingtime" data-title="chargingTime" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-index-term-unrestricted-double-type-1">unrestricted double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-chargingtime" id="ref-for-dom-batterymanager-chargingtime-1"><code>chargingTime</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-batterymanager-dischargingtime" data-title="dischargingTime" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-index-term-unrestricted-double-type-2">unrestricted double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-dischargingtime" id="ref-for-dom-batterymanager-dischargingtime-1"><code>dischargingTime</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-batterymanager-level" data-title="level" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-1">double</a></span>              <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-level" id="ref-for-dom-batterymanager-level-1"><code>level</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-batterymanager-onchargingchange" data-title="onchargingchange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-1">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-onchargingchange" id="ref-for-dom-batterymanager-onchargingchange-1"><code>onchargingchange</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-batterymanager-onchargingtimechange" data-title="onchargingtimechange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-2">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-onchargingtimechange" id="ref-for-dom-batterymanager-onchargingtimechange-1"><code>onchargingtimechange</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-batterymanager-ondischargingtimechange" data-title="ondischargingtimechange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-3">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-ondischargingtimechange" id="ref-for-dom-batterymanager-ondischargingtimechange-1"><code>ondischargingtimechange</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-batterymanager-onlevelchange" data-title="onlevelchange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-4">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-onlevelchange" id="ref-for-dom-batterymanager-onlevelchange-1"><code>onlevelchange</code></a>;</span>
};</span></code></pre>
        <p>
            The <dfn data-export="" data-dfn-type="interface" id="dom-batterymanager" data-idl="interface"
                data-title="BatteryManager" data-dfn-for="" tabindex="0"
                aria-haspopup="dialog"><code>BatteryManager</code></dfn> interface represents the <dfn
                id="dfn-current-battery-status-information" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn"
                class="respec-offending-element"
                title="Found definition for &quot;current battery status information&quot;, but nothing links to it. This is usually a spec bug!">current
                battery status information</dfn> of the hosting device.
        </p>
        <p>
            The <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-1">user
                agent</a> is said to be <dfn id="dfn-unable-to-report-the-battery-status-information" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">unable to report the battery
                status information</dfn> if it is not able to report the values for any
            of the attributes, for example, due to a user or system preference,
            setting, or limitation.
        </p>
        <div class="note" role="note" id="issue-container-generatedID-0">
            <div role="heading" class="note-title marker" id="h-note-0" aria-level="3"><span>Note</span></div>
            <aside class="">
                If the user agent is <a href="#dfn-unable-to-report-the-battery-status-information" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-unable-to-report-the-battery-status-information-1">unable to
                    report the battery status
                    information</a>, the <a data-link-type="idl" data-lt="BatteryManager" href="#dom-batterymanager"
                    class="internalDFN" id="ref-for-dom-batterymanager-5"><code>BatteryManager</code></a>'s internal
                slots will remain
                with their default values, which emulate a fully charged and plugged in
                battery. This is aimed at reducing the potential for fingerprinting and
                preventing applications from degrading performance, if the battery
                status information is not made available, for example.
            </aside>
        </div>
        <section id="internal-slots-0">
            <div class="header-wrapper">
                <h3 id="x6-1-internal-slots"><bdi class="secno">6.1 </bdi>
                    Internal slots
                </h3><a class="self-link" href="#internal-slots-0" aria-label="Permalink for Section 6.1"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="BatteryManager" href="#dom-batterymanager" class="internalDFN"
                    id="ref-for-dom-batterymanager-6"><code>BatteryManager</code></a> instances are created with the
                following
                <a href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots"
                    id="ref-for-index-term-internal-slots-1">internal
                    slots</a>:
            </p>
            <table class="simple">
                <thead>
                    <tr>
                        <th>
                            Internal slot
                        </th>
                        <th>
                            Initial value
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="BatteryManager" data-noexport="" data-dfn-type="attribute"
                                id="dfn-charging" tabindex="0" aria-haspopup="dialog">[[Charging]]</dfn>
                        </td>
                        <td>
                            <code>true</code>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="BatteryManager" data-noexport="" data-dfn-type="attribute"
                                id="dfn-chargingtime" tabindex="0" aria-haspopup="dialog">[[ChargingTime]]</dfn>
                        </td>
                        <td>
                            0
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="BatteryManager" data-noexport="" data-dfn-type="attribute"
                                id="dfn-dischargingtime" tabindex="0" aria-haspopup="dialog">[[DischargingTime]]</dfn>
                        </td>
                        <td>
                            Positive Infinity
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="BatteryManager" data-noexport="" data-dfn-type="attribute"
                                id="dfn-level" tabindex="0" aria-haspopup="dialog">[[Level]]</dfn>
                        </td>
                        <td>
                            1.0
                        </td>
                    </tr>
                </tbody>
            </table>
            <section id="the-charging-internal-slot">
                <div class="header-wrapper">
                    <h4 id="x6-1-1-the-charging-internal-slot"><bdi class="secno">6.1.1 </bdi>
                        The <code>[[Charging]]</code> internal slot
                    </h4><a class="self-link" href="#the-charging-internal-slot"
                        aria-label="Permalink for Section 6.1.1"></a>
                </div>

                <p>
                    The <a data-link-type="attribute" data-lt="[[Charging]]" href="#dfn-charging" class="internalDFN"
                        id="ref-for-dfn-charging-1"><code>[[Charging]]</code></a> internal slot represents the
                    charging state of the system's battery. It <em class="rfc2119">MUST</em> be set to
                    <code>false</code>
                    if the battery is discharging, and set to <code>true</code> if the battery is
                    charging, the implementation is unable to report the state, or
                    there is no battery attached to the system, or otherwise.
                </p>
                <p>
                    When the system battery's charging state changes, the user agent
                    must run the <a href="#dfn-update-the-battery-status-and-notify" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-update-the-battery-status-and-notify-1">update the battery
                        status and notify</a> algorithm
                    with <a data-link-type="attribute" data-lt="[[Charging]]" href="#dfn-charging" class="internalDFN"
                        id="ref-for-dfn-charging-2"><code>[[Charging]]</code></a>, <code>true</code> or
                    <code>false</code> depending
                    on whether the battery is charging or discharging, and
                    "<a data-link-type="dfn|abstract-op" href="#dfn-chargingchange" class="internalDFN"
                        id="ref-for-dfn-chargingchange-1"><code>chargingchange</code></a>".
                </p>
            </section>
            <section id="the-chargingtime-internal-slot">
                <div class="header-wrapper">
                    <h4 id="x6-1-2-the-chargingtime-internal-slot"><bdi class="secno">6.1.2 </bdi>
                        The <code>[[ChargingTime]]</code> internal slot
                    </h4><a class="self-link" href="#the-chargingtime-internal-slot"
                        aria-label="Permalink for Section 6.1.2"></a>
                </div>

                <p>
                    The <a data-link-type="attribute" data-lt="[[ChargingTime]]" href="#dfn-chargingtime"
                        class="internalDFN" id="ref-for-dfn-chargingtime-1"><code>[[ChargingTime]]</code></a> internal
                    slot represents
                    the remaining time in seconds until the system's battery is fully
                    charged. It <em class="rfc2119">MUST</em> be set to 0 if the battery is full or there is no
                    battery attached to the system, and to the value positive Infinity
                    if the battery is discharging, the implementation is unable to
                    report the remaining charging time, or otherwise.
                </p>
                <p>
                    When the battery charging time is updated, the user agent must run
                    the <a href="#dfn-update-the-battery-status-and-notify" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-update-the-battery-status-and-notify-2">update the battery status and notify</a>
                    algorithm with
                    <a data-link-type="attribute" data-lt="[[ChargingTime]]" href="#dfn-chargingtime"
                        class="internalDFN" id="ref-for-dfn-chargingtime-2"><code>[[ChargingTime]]</code></a>, the new
                    charging time in
                    seconds, and "<a data-link-type="dfn|abstract-op" href="#dfn-chargingtimechange" class="internalDFN"
                        id="ref-for-dfn-chargingtimechange-1"><code>chargingtimechange</code></a>".
                </p>
            </section>
            <section id="the-dischargingtime-internal-slot">
                <div class="header-wrapper">
                    <h4 id="x6-1-3-the-dischargingtime-internal-slot"><bdi class="secno">6.1.3 </bdi>
                        The <code>[[DischargingTime]]</code> internal slot
                    </h4><a class="self-link" href="#the-dischargingtime-internal-slot"
                        aria-label="Permalink for Section 6.1.3"></a>
                </div>

                <p>
                    The <a data-link-type="attribute" data-lt="[[DischargingTime]]" href="#dfn-dischargingtime"
                        class="internalDFN" id="ref-for-dfn-dischargingtime-1"><code>[[DischargingTime]]</code></a>
                    attribute represents the
                    remaining time in seconds until the system's battery is completely
                    discharged and the system is about to be suspended. It <em class="rfc2119">MUST</em> be set
                    to the value positive Infinity if the battery is charging, the
                    implementation is unable to report the remaining discharging time,
                    there is no battery attached to the system, or otherwise.
                </p>
                <p>
                    When the battery discharging time is updated, the user agent must
                    run the <a href="#dfn-update-the-battery-status-and-notify" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-update-the-battery-status-and-notify-3">update the battery status and notify</a>
                    algorithm with
                    <a data-link-type="attribute" data-lt="[[DischargingTime]]" href="#dfn-dischargingtime"
                        class="internalDFN" id="ref-for-dfn-dischargingtime-2"><code>[[DischargingTime]]</code></a>, the
                    new discharging time in
                    seconds, and "<a data-link-type="dfn|abstract-op" href="#dfn-dischargingtimechange"
                        class="internalDFN"
                        id="ref-for-dfn-dischargingtimechange-1"><code>dischargingtimechange</code></a>".
                </p>
            </section>
            <section id="the-level-internal-slot">
                <div class="header-wrapper">
                    <h4 id="x6-1-4-the-level-internal-slot"><bdi class="secno">6.1.4 </bdi>
                        The <code>[[Level]]</code> internal slot
                    </h4><a class="self-link" href="#the-level-internal-slot"
                        aria-label="Permalink for Section 6.1.4"></a>
                </div>

                <p>
                    The <a data-link-type="attribute" data-lt="[[Level]]" href="#dfn-level" class="internalDFN"
                        id="ref-for-dfn-level-1"><code>[[Level]]</code></a> internal slot represents the
                    system's battery's level. It <em class="rfc2119">MUST</em> be set to 0 if the system's
                    battery is depleted and the system is about to be suspended, and to
                    1.0 if the battery is full, the implementation is unable to report
                    the battery's level, or there is no battery attached to the system.
                </p>
                <p>
                    When the battery level is updated, the user agent must run the
                    <a href="#dfn-update-the-battery-status-and-notify" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-update-the-battery-status-and-notify-4">update the battery status and notify</a>
                    algorithm with
                    <a data-link-type="attribute" data-lt="[[Level]]" href="#dfn-level" class="internalDFN"
                        id="ref-for-dfn-level-2"><code>[[Level]]</code></a>, the new battery level, and
                    "<a data-link-type="dfn|abstract-op" href="#dfn-levelchange" class="internalDFN"
                        id="ref-for-dfn-levelchange-1"><code>levelchange</code></a>".
                </p>
            </section>
            <div class="note" role="note" id="issue-container-generatedID-1">
                <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span></div>
                <p class="">
                    The definition of how often the "<a data-link-type="dfn|abstract-op" href="#dfn-chargingtimechange"
                        class="internalDFN" id="ref-for-dfn-chargingtimechange-2"><code>chargingtimechange</code></a>",
                    "<a data-link-type="dfn|abstract-op" href="#dfn-dischargingtimechange" class="internalDFN"
                        id="ref-for-dfn-dischargingtimechange-2"><code>dischargingtimechange</code></a>", and "<a
                        data-link-type="dfn|abstract-op" href="#dfn-levelchange" class="internalDFN"
                        id="ref-for-dfn-levelchange-2"><code>levelchange</code></a>" events are fired
                    is left to the implementation.
                </p>
            </div>
        </section>
        <section id="the-charging-attribute">
            <div class="header-wrapper">
                <h3 id="x6-2-the-charging-attribute"><bdi class="secno">6.2 </bdi>
                    The <code>charging</code> attribute
                </h3><a class="self-link" href="#the-charging-attribute" aria-label="Permalink for Section 6.2"></a>
            </div>

            <p>
                The <dfn data-export="" data-dfn-type="attribute" id="dom-batterymanager-charging" data-idl="attribute"
                    data-title="charging" data-dfn-for="BatteryManager" data-type="boolean" data-lt="charging"
                    data-local-lt="BatteryManager.charging" tabindex="0"
                    aria-haspopup="dialog"><code>charging</code></dfn> getter steps are to return
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-index-term-this-10">this</a>.<a data-link-type="attribute" data-lt="[[Charging]]"
                    href="#dfn-charging" class="internalDFN" id="ref-for-dfn-charging-3"><code>[[Charging]]</code></a>.
            </p>
        </section>
        <section id="the-chargingtime-attribute">
            <div class="header-wrapper">
                <h3 id="x6-3-the-chargingtime-attribute"><bdi class="secno">6.3 </bdi>
                    The <code>chargingTime</code> attribute
                </h3><a class="self-link" href="#the-chargingtime-attribute" aria-label="Permalink for Section 6.3"></a>
            </div>

            <p>
                The <dfn data-export="" data-dfn-type="attribute" id="dom-batterymanager-chargingtime"
                    data-idl="attribute" data-title="chargingTime" data-dfn-for="BatteryManager"
                    data-type="unrestricted double" data-lt="chargingTime" data-local-lt="BatteryManager.chargingTime"
                    tabindex="0" aria-haspopup="dialog"><code>chargingTime</code></dfn> getter steps are to return
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-index-term-this-11">this</a>.<a data-link-type="attribute" data-lt="[[ChargingTime]]"
                    href="#dfn-chargingtime" class="internalDFN"
                    id="ref-for-dfn-chargingtime-3"><code>[[ChargingTime]]</code></a>.
            </p>
        </section>
        <section id="the-dischargingtime-attribute">
            <div class="header-wrapper">
                <h3 id="x6-4-the-dischargingtime-attribute"><bdi class="secno">6.4 </bdi>
                    The <code>dischargingTime</code> attribute
                </h3><a class="self-link" href="#the-dischargingtime-attribute"
                    aria-label="Permalink for Section 6.4"></a>
            </div>

            <p>
                The <dfn data-export="" data-dfn-type="attribute" id="dom-batterymanager-dischargingtime"
                    data-idl="attribute" data-title="dischargingTime" data-dfn-for="BatteryManager"
                    data-type="unrestricted double" data-lt="dischargingTime"
                    data-local-lt="BatteryManager.dischargingTime" tabindex="0"
                    aria-haspopup="dialog"><code>dischargingTime</code></dfn> getter steps are to return
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-index-term-this-12">this</a>.<a data-link-type="attribute" data-lt="[[DischargingTime]]"
                    href="#dfn-dischargingtime" class="internalDFN"
                    id="ref-for-dfn-dischargingtime-3"><code>[[DischargingTime]]</code></a>.
            </p>
        </section>
        <section id="the-level-attribute">
            <div class="header-wrapper">
                <h3 id="x6-5-the-level-attribute"><bdi class="secno">6.5 </bdi>
                    The <code>level</code> attribute
                </h3><a class="self-link" href="#the-level-attribute" aria-label="Permalink for Section 6.5"></a>
            </div>

            <p>
                The <dfn data-export="" data-dfn-type="attribute" id="dom-batterymanager-level" data-idl="attribute"
                    data-title="level" data-dfn-for="BatteryManager" data-type="double" data-lt="level"
                    data-local-lt="BatteryManager.level" tabindex="0" aria-haspopup="dialog"><code>level</code></dfn>
                getter steps are to return
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-index-term-this-13">this</a>.<a data-link-type="attribute" data-lt="[[Level]]"
                    href="#dfn-level" class="internalDFN" id="ref-for-dfn-level-3"><code>[[Level]]</code></a>.
            </p>
        </section>
        <section id="event-handlers">
            <div class="header-wrapper">
                <h3 id="x6-6-event-handlers"><bdi class="secno">6.6 </bdi>
                    Event handlers
                </h3><a class="self-link" href="#event-handlers" aria-label="Permalink for Section 6.6"></a>
            </div>

            <p>
                The following are the <a data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-index-term-event-handlers-1">event handlers</a> (and their corresponding
                <a data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-index-term-event-handler-event-types-1">event handler event types</a>) that <em
                    class="rfc2119">MUST</em> be supported as
                attributes by the <a data-link-type="idl" data-lt="BatteryManager" href="#dom-batterymanager"
                    class="internalDFN" id="ref-for-dom-batterymanager-7"><code>BatteryManager</code></a> object:
            </p>
            <table class="simple">
                <thead>
                    <tr>
                        <th>
                            event handler
                        </th>
                        <th>
                            event handler event type
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-type="attribute" id="dom-batterymanager-onchargingchange"
                                data-idl="attribute" data-title="onchargingchange" data-dfn-for="BatteryManager"
                                data-type="EventHandler" data-lt="onchargingchange"
                                data-local-lt="BatteryManager.onchargingchange" tabindex="0"
                                aria-haspopup="dialog"><code>onchargingchange</code></dfn>
                        </td>
                        <td>
                            <dfn id="dfn-chargingchange" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn"><code>chargingchange</code></dfn>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-type="attribute" id="dom-batterymanager-onchargingtimechange"
                                data-idl="attribute" data-title="onchargingtimechange" data-dfn-for="BatteryManager"
                                data-type="EventHandler" data-lt="onchargingtimechange"
                                data-local-lt="BatteryManager.onchargingtimechange" tabindex="0"
                                aria-haspopup="dialog"><code>onchargingtimechange</code></dfn>
                        </td>
                        <td>
                            <dfn id="dfn-chargingtimechange" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn"><code>chargingtimechange</code></dfn>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-type="attribute"
                                id="dom-batterymanager-ondischargingtimechange" data-idl="attribute"
                                data-title="ondischargingtimechange" data-dfn-for="BatteryManager"
                                data-type="EventHandler" data-lt="ondischargingtimechange"
                                data-local-lt="BatteryManager.ondischargingtimechange" tabindex="0"
                                aria-haspopup="dialog"><code>ondischargingtimechange</code></dfn>
                        </td>
                        <td>
                            <dfn id="dfn-dischargingtimechange" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn"><code>dischargingtimechange</code></dfn>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-type="attribute" id="dom-batterymanager-onlevelchange"
                                data-idl="attribute" data-title="onlevelchange" data-dfn-for="BatteryManager"
                                data-type="EventHandler" data-lt="onlevelchange"
                                data-local-lt="BatteryManager.onlevelchange" tabindex="0"
                                aria-haspopup="dialog"><code>onlevelchange</code></dfn>
                        </td>
                        <td>
                            <dfn id="dfn-levelchange" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn"><code>levelchange</code></dfn>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="algorithms">
            <div class="header-wrapper">
                <h3 id="x6-7-algorithms"><bdi class="secno">6.7 </bdi>
                    Algorithms
                </h3><a class="self-link" href="#algorithms" aria-label="Permalink for Section 6.7"></a>
            </div>

            <p>
                To <dfn id="dfn-update-the-battery-status-and-notify" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">update the battery status and notify</dfn> given an internal
                slot <var>slot</var>, a <var>value</var> and an <var>eventName</var>, run the following steps:
            </p>
            <ol class="algorithm">
                <li>Let <var>global</var> be the <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                        id="ref-for-index-term-current-global-object-1">current global object</a>.
                </li>
                <li>If <var>global</var> is not a <a data-link-type="idl" data-lt="Window" data-type="interface"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                        id="ref-for-index-term-window-interface-1"><code>Window</code></a>, abort these steps.
                </li>
                <li>Let <var data-type="Navigator">navigator</var> be <var>global</var>'s associated <a
                        data-link-type="idl" data-lt="Navigator" data-type="interface"
                        href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"
                        id="ref-for-index-term-navigator-interface-3"><code>Navigator</code></a>.
                </li>
                <li>Let <var data-type="BatteryManager">batteryManager</var> be the value of <var
                        data-type="Navigator">navigator</var>.
                    <a data-link-type="attribute" data-lt="[[BatteryManager]]" href="#dfn-batterymanager"
                        class="internalDFN" id="ref-for-dfn-batterymanager-3"><code>[[BatteryManager]]</code></a>.
                </li>
                <li>If <var data-type="BatteryManager">batteryManager</var> is <code>null</code>, abort these steps.
                </li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                        id="ref-for-index-term-queue-a-global-task-1">Queue a global task</a> on the <a
                        data-link-type="dfn|abstract-op" href="#dfn-battery-status-task-source" class="internalDFN"
                        id="ref-for-dfn-battery-status-task-source-1">battery status task source</a>
                    given <var>global</var> to run the following steps:
                    <ol>
                        <li>Set <var data-type="BatteryManager">batteryManager</var>.<var>slot</var> to
                            <var>value</var>.
                        </li>
                        <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-fire"
                                id="ref-for-index-term-fire-an-event-1">Fire an event</a> named <var>eventName</var> at
                            <var data-type="BatteryManager">batteryManager</var>.
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="multiple-batteries">
            <div class="header-wrapper">
                <h3 id="x6-8-multiple-batteries"><bdi class="secno">6.8 </bdi>
                    Multiple batteries
                </h3><a class="self-link" href="#multiple-batteries" aria-label="Permalink for Section 6.8"></a>
            </div>

            <p>
                If a hosting device contains more than one battery,
                <a data-link-type="idl" data-lt="BatteryManager" href="#dom-batterymanager" class="internalDFN"
                    id="ref-for-dom-batterymanager-8"><code>BatteryManager</code></a> <em class="rfc2119">SHOULD</em>
                expose a unified view of the batteries.
            </p>
            <p>
                The <a data-link-type="attribute" data-lt="[[Charging]]" href="#dfn-charging" class="internalDFN"
                    id="ref-for-dfn-charging-4"><code>[[Charging]]</code></a> internal slot <em
                    class="rfc2119">MUST</em> be set to true
                if at least one battery's charging state as described above is true.
                Otherwise, it <em class="rfc2119">MUST</em> be set to false.
            </p>
            <p>
                The <a data-link-type="attribute" data-lt="[[ChargingTime]]" href="#dfn-chargingtime"
                    class="internalDFN" id="ref-for-dfn-chargingtime-4"><code>[[ChargingTime]]</code></a> internal slot
                can be set to
                the maximum charging time of the individual batteries if charging in
                parallel, and to the sum of the individual charging times if charging
                serially.
            </p>
            <p>
                The <a data-link-type="attribute" data-lt="[[DischargingTime]]" href="#dfn-dischargingtime"
                    class="internalDFN" id="ref-for-dfn-dischargingtime-4"><code>[[DischargingTime]]</code></a> internal
                slot can be set
                to the maximum discharging time of the individual batteries if
                discharging in parallel, and to the sum of individual discharging
                times if discharging serially.
            </p>
            <p>
                The <a data-link-type="attribute" data-lt="[[Level]]" href="#dfn-level" class="internalDFN"
                    id="ref-for-dfn-level-4"><code>[[Level]]</code></a> internal slot can be set to the
                average of the levels of batteries of same capacity, or the weighted
                average of the battery levels for batteries of different capacities.
            </p>
        </section>
    </section>
    <section id="permissions-policy-integration">
        <div class="header-wrapper">
            <h2 id="x7-permissions-policy-integration"><bdi class="secno">7. </bdi>
                Permissions Policy integration
            </h2><a class="self-link" href="#permissions-policy-integration" aria-label="Permalink for Section 7."></a>
        </div>

        <p>
            The Battery Status API is a <a data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                id="ref-for-index-term-policy-controlled-feature-2">policy-controlled feature</a> identified
            by the string "<code>battery</code>". Its <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                id="ref-for-index-term-default-allowlist-for-policy-controlled-feature-1">default allowlist</a> is
            <code><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self" id="ref-for-index-term-self-for-default-allowlist-1">'self'</a></code>.
        </p>
    </section>
    <section class="informative" id="examples">
        <div class="header-wrapper">
            <h2 id="x8-examples"><bdi class="secno">8. </bdi>
                Examples
            </h2><a class="self-link" href="#examples" aria-label="Permalink for Section 8."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            This trivial example writes the battery level to the console each time
            the level changes:
        </p>
        <div class="example" id="example-1">
            <div class="marker">
                <a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
            </div>
            <pre class="highlight" aria-busy="false"><code class="hljs javascript"><span class="hljs-comment">// We get the initial value when the promise resolves ...</span>
navigator.<span class="hljs-title function_">getBattery</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">battery</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(battery.<span class="hljs-property">level</span>);
  <span class="hljs-comment">// ... and any subsequent updates.</span>
  battery.<span class="hljs-property">onlevelchange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span>);
  };
});</code></pre>
        </div>
        <p>
            Alternatively, the same using the <code>addEventListener()</code>
            method:
        </p>
        <div class="example" id="example-2">
            <div class="marker">
                <a class="self-link" href="#example-2">Example<bdi> 2</bdi></a>
            </div>
            <pre class="highlight" aria-busy="false"><code class="hljs javascript">navigator.<span class="hljs-title function_">getBattery</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">battery</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(battery.<span class="hljs-property">level</span>);
  battery.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'levelchange'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span>);
  });
});</code></pre>
        </div>
        <p>
            The following example updates the indicators to show the charging
            state, level and time remaining in minutes:
        </p>
        <div class="example" id="example-3">
            <div class="marker">
                <a class="self-link" href="#example-3">Example<bdi> 3</bdi></a>
            </div>
            <pre class="highlight" aria-busy="false"><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Battery Status API Example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateBatteryStatus</span>(<span class="hljs-params">battery</span>) {
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#charging'</span>).<span class="hljs-property">textContent</span> = battery.<span class="hljs-property">charging</span> ? <span class="hljs-string">'charging'</span> : <span class="hljs-string">'not charging'</span>;
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#level'</span>).<span class="hljs-property">textContent</span> = battery.<span class="hljs-property">level</span>;
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#dischargingTime'</span>).<span class="hljs-property">textContent</span> = battery.<span class="hljs-property">dischargingTime</span> / <span class="hljs-number">60</span>;
      }

      navigator.<span class="hljs-title function_">getBattery</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">battery</span>) {
        <span class="hljs-comment">// Update the battery status initially when the promise resolves ...</span>
        <span class="hljs-title function_">updateBatteryStatus</span>(battery);

        <span class="hljs-comment">// .. and for any subsequent updates.</span>
        battery.<span class="hljs-property">onchargingchange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
          <span class="hljs-title function_">updateBatteryStatus</span>(battery);
        };

        battery.<span class="hljs-property">onlevelchange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
          <span class="hljs-title function_">updateBatteryStatus</span>(battery);
        };

        battery.<span class="hljs-property">ondischargingtimechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
          <span class="hljs-title function_">updateBatteryStatus</span>(battery);
        };
      });
    };
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"charging"</span>&gt;</span>(charging state unknown)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"level"</span>&gt;</span>(battery level unknown)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dischargingTime"</span>&gt;</span>(discharging time unknown)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
        </div>
    </section>
    <section id="index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-index"><bdi class="secno">A. </bdi>Index</h2><a class="self-link" href="#index"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <section id="index-defined-here">
            <div class="header-wrapper">
                <h3 id="a-1-terms-defined-by-this-specification"><bdi class="secno">A.1 </bdi>Terms defined by this
                    specification</h3><a class="self-link" href="#index-defined-here"
                    aria-label="Permalink for Appendix A.1"></a>
            </div>

            <ul class="index">
                <li>
                    <a class="index-term" href="#dfn-battery-status-task-source">battery status task source</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-batterymanager"><code>BatteryManager</code></a> interface
                    <span class="print-only">§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-batterymanager"><code>[[BatteryManager]]</code></a> internal slot
                    for <code>Navigator</code>
                    <span class="print-only">§5.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-batterypromise"><code>[[BatteryPromise]]</code></a> internal slot
                    for <code>Navigator</code>
                    <span class="print-only">§5.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-batterymanager-charging"><code>charging</code></a> attribute for
                    <code>BatteryManager</code>
                    <span class="print-only">§6.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-charging"><code>[[Charging]]</code></a> internal slot for
                    <code>BatteryManager</code>
                    <span class="print-only">§6.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-chargingchange">chargingchange</a>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-batterymanager-chargingtime"><code>chargingTime</code></a>
                    attribute for <code>BatteryManager</code>
                    <span class="print-only">§6.3</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-chargingtime"><code>[[ChargingTime]]</code></a> internal slot for
                    <code>BatteryManager</code>
                    <span class="print-only">§6.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-chargingtimechange">chargingtimechange</a>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-battery-status-information">current battery status
                        information</a>
                    <span class="print-only">§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-batterymanager-dischargingtime"><code>dischargingTime</code></a>
                    attribute for <code>BatteryManager</code>
                    <span class="print-only">§6.4</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-dischargingtime"><code>[[DischargingTime]]</code></a> internal slot
                    for <code>BatteryManager</code>
                    <span class="print-only">§6.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-dischargingtimechange">dischargingtimechange</a>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-navigator-getbattery"><code>getBattery()</code></a> method for
                    <code>Navigator</code>
                    <span class="print-only">§5.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-batterymanager-level"><code>level</code></a> attribute for
                    <code>BatteryManager</code>
                    <span class="print-only">§6.5</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-level"><code>[[Level]]</code></a> internal slot for
                    <code>BatteryManager</code>
                    <span class="print-only">§6.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-levelchange">levelchange</a>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-batterymanager-onchargingchange"><code>onchargingchange</code></a>
                    attribute for <code>BatteryManager</code>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-batterymanager-onchargingtimechange"><code>onchargingtimechange</code></a> attribute
                    for <code>BatteryManager</code>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-batterymanager-ondischargingtimechange"><code>ondischargingtimechange</code></a>
                    attribute for <code>BatteryManager</code>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-batterymanager-onlevelchange"><code>onlevelchange</code></a>
                    attribute for <code>BatteryManager</code>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-unable-to-report-the-battery-status-information">unable to report
                        the battery status information</a>
                    <span class="print-only">§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-update-the-battery-status-and-notify">update the battery status and
                        notify</a>
                    <span class="print-only">§6.7</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-user-agent">user agent</a>
                    <span class="print-only">§2.</span>
                </li>
            </ul>
        </section>
        <section id="index-defined-elsewhere">
            <div class="header-wrapper">
                <h3 id="a-2-terms-defined-by-reference"><bdi class="secno">A.2 </bdi>Terms defined by reference</h3><a
                    class="self-link" href="#index-defined-elsewhere" aria-label="Permalink for Appendix A.2"></a>
            </div>

            <ul class="index">
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom">DOM</a></cite>] defines the
                    following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#eventtarget"
                                id="index-term-eventtarget-interface" tabindex="0"
                                aria-haspopup="dialog"><code>EventTarget</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#concept-event-fire"
                                id="index-term-fire-an-event" tabindex="0" aria-haspopup="dialog">Fire an event</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecmascript">ECMASCRIPT</a></cite>]
                    defines the following:
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots"
                                id="index-term-internal-slots" tabindex="0" aria-haspopup="dialog">internal slots</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html">HTML</a></cite>] defines the
                    following:
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                                id="index-term-allowed-to-use" tabindex="0" aria-haspopup="dialog">allowed to use</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                                id="index-term-associated-document" tabindex="0" aria-haspopup="dialog">associated
                                Document</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                                id="index-term-current-global-object" tabindex="0" aria-haspopup="dialog">current global
                                object</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                                id="index-term-event-handler-event-types" tabindex="0" aria-haspopup="dialog">event
                                handler event types</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                                id="index-term-event-handlers" tabindex="0" aria-haspopup="dialog">event handlers</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"
                                id="index-term-eventhandler" tabindex="0"
                                aria-haspopup="dialog"><code>EventHandler</code></span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"
                                id="index-term-navigator-interface" tabindex="0"
                                aria-haspopup="dialog"><code>Navigator</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                id="index-term-queue-a-global-task" tabindex="0" aria-haspopup="dialog">Queue a global
                                task</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                id="index-term-relevant-global-object" tabindex="0" aria-haspopup="dialog">relevant
                                global object</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="index-term-relevant-realm" tabindex="0" aria-haspopup="dialog">relevant realm</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                                id="index-term-task-source" tabindex="0" aria-haspopup="dialog">task source</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                                id="index-term-tasks" tabindex="0" aria-haspopup="dialog">tasks</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                                id="index-term-window-interface" tabindex="0" aria-haspopup="dialog"><code>Window</code>
                                interface</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio"
                            href="#bib-permissions-policy">PERMISSIONS-POLICY</a></cite>] defines the following:
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self"
                                id="index-term-self-for-default-allowlist" tabindex="0" aria-haspopup="dialog">'self'
                                (for default allowlist)</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                                id="index-term-default-allowlist-for-policy-controlled-feature" tabindex="0"
                                aria-haspopup="dialog">default allowlist (for policy-controlled feature)</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                                id="index-term-policy-controlled-feature" tabindex="0"
                                aria-haspopup="dialog">policy-controlled feature</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl">WEBIDL</a></cite>] defines the
                    following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#a-new-promise"
                                id="index-term-a-new-promise" tabindex="0" aria-haspopup="dialog">a new promise</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-boolean"
                                id="index-term-boolean-type" tabindex="0" aria-haspopup="dialog"><code>boolean</code>
                                type</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-DOMException"
                                id="index-term-domexception-interface" tabindex="0"
                                aria-haspopup="dialog"><code>DOMException</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-double"
                                id="index-term-double-type" tabindex="0" aria-haspopup="dialog"><code>double</code>
                                type</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Exposed"
                                id="index-term-exposed-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Exposed]</code> extended attribute</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#new" id="index-term-new"
                                tabindex="0" aria-haspopup="dialog">new</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#notallowederror"
                                id="index-term-notallowederror-exception" tabindex="0"
                                aria-haspopup="dialog"><code>NotAllowedError</code> exception</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-promise"
                                id="index-term-promise-interface" tabindex="0"
                                aria-haspopup="dialog"><code>Promise</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#reject"
                                id="index-term-reject" tabindex="0" aria-haspopup="dialog">reject</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#resolve"
                                id="index-term-resolve" tabindex="0" aria-haspopup="dialog">Resolve</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#SecureContext"
                                id="index-term-securecontext-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[SecureContext]</code> extended attribute</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#this"
                                id="index-term-this" tabindex="0" aria-haspopup="dialog">this</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"
                                id="index-term-unrestricted-double-type" tabindex="0"
                                aria-haspopup="dialog"><code>unrestricted double</code> type</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </section>
    </section>
    <section id="idl-index" class="appendix">
        <div class="header-wrapper">
            <h2 id="b-idl-index"><bdi class="secno">B. </bdi>IDL Index</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Appendix B."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-3">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-index-term-navigator-interface-4">Navigator</a> {<span data-idl="" class="idlMethod" data-title="getBattery" data-dfn-for="Navigator"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-index-term-promise-interface-3">Promise</a>&lt;<a data-link-type="idl" href="#dom-batterymanager" class="internalDFN" id="ref-for-dom-batterymanager-9"><code>BatteryManager</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-getbattery" id="ref-for-dom-navigator-getbattery-4"><code>getBattery</code></a>();</span>
};</span>

<span data-idl="" class="idlInterface" data-title="BatteryManager">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-4">SecureContext</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-2">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-batterymanager" id="ref-for-dom-batterymanager-10"><code>BatteryManager</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-index-term-eventtarget-interface-2">EventTarget</a></span> {<span data-idl="" class="idlAttribute" data-title="charging" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-index-term-boolean-type-2">boolean</a></span>             <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-charging" id="ref-for-dom-batterymanager-charging-2"><code>charging</code></a>;</span><span data-idl="" class="idlAttribute" data-title="chargingTime" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-index-term-unrestricted-double-type-3">unrestricted double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-chargingtime" id="ref-for-dom-batterymanager-chargingtime-2"><code>chargingTime</code></a>;</span><span data-idl="" class="idlAttribute" data-title="dischargingTime" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-index-term-unrestricted-double-type-4">unrestricted double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-dischargingtime" id="ref-for-dom-batterymanager-dischargingtime-2"><code>dischargingTime</code></a>;</span><span data-idl="" class="idlAttribute" data-title="level" data-dfn-for="BatteryManager">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-2">double</a></span>              <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-level" id="ref-for-dom-batterymanager-level-2"><code>level</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onchargingchange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-5">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-onchargingchange" id="ref-for-dom-batterymanager-onchargingchange-2"><code>onchargingchange</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onchargingtimechange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-6">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-onchargingtimechange" id="ref-for-dom-batterymanager-onchargingtimechange-2"><code>onchargingtimechange</code></a>;</span><span data-idl="" class="idlAttribute" data-title="ondischargingtimechange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-7">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-ondischargingtimechange" id="ref-for-dom-batterymanager-ondischargingtimechange-2"><code>ondischargingtimechange</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onlevelchange" data-dfn-for="BatteryManager">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-index-term-eventhandler-8">EventHandler</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-batterymanager-onlevelchange" id="ref-for-dom-batterymanager-onlevelchange-2"><code>onlevelchange</code></a>;</span>
};</span></code></pre>
    </section>
    <section class="appendix" id="acknowledgements">
        <div class="header-wrapper">
            <h2 id="c-acknowledgements"><bdi class="secno">C. </bdi>
                Acknowledgements
            </h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Appendix C."></a>
        </div>

        <p>
            The group is deeply indebted to Mounir Lamouri, Jonas Sicking, and the
            Mozilla WebAPI team in general for their invaluable feedback based on
            prototype implementations. Many thanks to the people behind the System
            Information API and Device Orientation Event specification for the
            initial inspiration. Also thanks to the nice folks bringing us the Page
            Visibility specification, which motivated the editor of this
            specification to write the introduction chapter discussing some
            real-world high value use cases that apply equally to this
            specification. Special thanks to all the participants of the Device
            APIs Working Group and others who have sent in substantial feedback and
            comments, and made the Web a better place for everyone by doing so.
            Finally, thanks to Lukasz Olejnik, Gunes Acar, Claude Castelluccia, and
            Claudia Diaz for the privacy analysis of the API.
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="d-references"><bdi class="secno">D. </bdi>References</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix D."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>Normative references</h3><a
                    class="self-link" href="#normative-references" aria-label="Permalink for Appendix D.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecmascript">[ECMASCRIPT]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living
                    Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-permissions-policy">[permissions-policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian
                    Clelland. W3C. 25 September 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                            2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-user-agent"
        aria-label="Links in this document to definition: user agent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-user-agent"
                aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-user-agent-1" title="§ 6. The BatteryManager interface">§ 6. The BatteryManager
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-battery-status-task-source"
        aria-label="Links in this document to definition: battery status task source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-battery-status-task-source"
                aria-label="Permalink for definition: battery status task source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-battery-status-task-source-1" title="§ 6.7 Algorithms">§ 6.7 Algorithms</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-batterypromise"
        aria-label="Links in this document to definition: [[BatteryPromise]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-batterypromise"
                aria-label="Permalink for definition: [[BatteryPromise]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-batterypromise-1" title="§ 5.2 The getBattery() method">§ 5.2 The getBattery()
                    method</a> <a href="#ref-for-dfn-batterypromise-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-batterypromise-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-batterypromise-4" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-batterymanager"
        aria-label="Links in this document to definition: [[BatteryManager]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-batterymanager"
                aria-label="Permalink for definition: [[BatteryManager]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-batterymanager-1" title="§ 5.2 The getBattery() method">§ 5.2 The getBattery()
                    method</a> <a href="#ref-for-dfn-batterymanager-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-batterymanager-3" title="§ 6.7 Algorithms">§ 6.7 Algorithms</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-getbattery"
        aria-label="Links in this document to definition: getBattery()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-getbattery"
                aria-label="Permalink for definition: getBattery(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1199017490">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-getbattery-1" title="§ 5. Extensions to the Navigator interface">§ 5.
                    Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-getbattery-2" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> <a
                    href="#ref-for-dom-navigator-getbattery-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-getbattery-4" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-batterymanager"
        aria-label="Links in this document to definition: BatteryManager">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager"
                aria-label="Permalink for definition: BatteryManager. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-1" title="§ 5. Extensions to the Navigator interface">§ 5.
                    Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-2" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-3" title="§ 5.2 The getBattery() method">§ 5.2 The getBattery()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-4" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a> <a href="#ref-for-dom-batterymanager-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-6" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-7" title="§ 6.6 Event handlers">§ 6.6 Event handlers</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-8" title="§ 6.8 Multiple batteries">§ 6.8 Multiple batteries</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-9" title="§ B. IDL Index">§ B. IDL Index</a> <a
                    href="#ref-for-dom-batterymanager-10" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-current-battery-status-information"
        aria-label="Links in this document to definition: current battery status information">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-battery-status-information"
                aria-label="Permalink for definition: current battery status information. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-unable-to-report-the-battery-status-information"
        aria-label="Links in this document to definition: unable to report the battery status information">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unable-to-report-the-battery-status-information"
                aria-label="Permalink for definition: unable to report the battery status information. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unable-to-report-the-battery-status-information-1"
                    title="§ 6. The BatteryManager interface">§ 6. The BatteryManager interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-charging"
        aria-label="Links in this document to definition: [[Charging]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-charging"
                aria-label="Permalink for definition: [[Charging]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-charging-1" title="§ 6.1.1 The [[Charging]] internal slot">§ 6.1.1 The
                    [[Charging]] internal slot</a> <a href="#ref-for-dfn-charging-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-charging-3" title="§ 6.2 The charging attribute">§ 6.2 The charging attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-charging-4" title="§ 6.8 Multiple batteries">§ 6.8 Multiple batteries</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-chargingtime"
        aria-label="Links in this document to definition: [[ChargingTime]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-chargingtime"
                aria-label="Permalink for definition: [[ChargingTime]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-chargingtime-1" title="§ 6.1.2 The [[ChargingTime]] internal slot">§ 6.1.2 The
                    [[ChargingTime]] internal slot</a> <a href="#ref-for-dfn-chargingtime-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-chargingtime-3" title="§ 6.3 The chargingTime attribute">§ 6.3 The chargingTime
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-chargingtime-4" title="§ 6.8 Multiple batteries">§ 6.8 Multiple batteries</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-dischargingtime"
        aria-label="Links in this document to definition: [[DischargingTime]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-dischargingtime"
                aria-label="Permalink for definition: [[DischargingTime]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-dischargingtime-1" title="§ 6.1.3 The [[DischargingTime]] internal slot">§ 6.1.3
                    The [[DischargingTime]] internal slot</a> <a href="#ref-for-dfn-dischargingtime-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-dischargingtime-3" title="§ 6.4 The dischargingTime attribute">§ 6.4 The
                    dischargingTime attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-dischargingtime-4" title="§ 6.8 Multiple batteries">§ 6.8 Multiple batteries</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-level"
        aria-label="Links in this document to definition: [[Level]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-level"
                aria-label="Permalink for definition: [[Level]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-level-1" title="§ 6.1.4 The [[Level]] internal slot">§ 6.1.4 The [[Level]]
                    internal slot</a> <a href="#ref-for-dfn-level-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-level-3" title="§ 6.5 The level attribute">§ 6.5 The level attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-level-4" title="§ 6.8 Multiple batteries">§ 6.8 Multiple batteries</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-batterymanager-charging"
        aria-label="Links in this document to definition: charging">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-charging"
                aria-label="Permalink for definition: charging. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-charging-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-charging-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-batterymanager-chargingtime"
        aria-label="Links in this document to definition: chargingTime">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-chargingtime"
                aria-label="Permalink for definition: chargingTime. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-chargingtime-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-chargingtime-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-batterymanager-dischargingtime"
        aria-label="Links in this document to definition: dischargingTime">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-dischargingtime"
                aria-label="Permalink for definition: dischargingTime. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-dischargingtime-1" title="§ 6. The BatteryManager interface">§ 6.
                    The BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-dischargingtime-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-batterymanager-level"
        aria-label="Links in this document to definition: level">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-level"
                aria-label="Permalink for definition: level. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-level-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-level-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-batterymanager-onchargingchange"
        aria-label="Links in this document to definition: onchargingchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-onchargingchange"
                aria-label="Permalink for definition: onchargingchange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-onchargingchange-1" title="§ 6. The BatteryManager interface">§ 6.
                    The BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-onchargingchange-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-chargingchange"
        aria-label="Links in this document to definition: chargingchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-chargingchange"
                aria-label="Permalink for definition: chargingchange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-chargingchange-1" title="§ 6.1.1 The [[Charging]] internal slot">§ 6.1.1 The
                    [[Charging]] internal slot</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-batterymanager-onchargingtimechange"
        aria-label="Links in this document to definition: onchargingtimechange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-onchargingtimechange"
                aria-label="Permalink for definition: onchargingtimechange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-onchargingtimechange-1" title="§ 6. The BatteryManager interface">§
                    6. The BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-onchargingtimechange-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-chargingtimechange"
        aria-label="Links in this document to definition: chargingtimechange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-chargingtimechange"
                aria-label="Permalink for definition: chargingtimechange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-chargingtimechange-1" title="§ 6.1.2 The [[ChargingTime]] internal slot">§ 6.1.2
                    The [[ChargingTime]] internal slot</a>
            </li>
            <li>
                <a href="#ref-for-dfn-chargingtimechange-2" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-batterymanager-ondischargingtimechange"
        aria-label="Links in this document to definition: ondischargingtimechange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-ondischargingtimechange"
                aria-label="Permalink for definition: ondischargingtimechange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-ondischargingtimechange-1"
                    title="§ 6. The BatteryManager interface">§ 6. The BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-ondischargingtimechange-2" title="§ B. IDL Index">§ B. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-dischargingtimechange"
        aria-label="Links in this document to definition: dischargingtimechange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-dischargingtimechange"
                aria-label="Permalink for definition: dischargingtimechange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-dischargingtimechange-1" title="§ 6.1.3 The [[DischargingTime]] internal slot">§
                    6.1.3 The [[DischargingTime]] internal slot</a>
            </li>
            <li>
                <a href="#ref-for-dfn-dischargingtimechange-2" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-batterymanager-onlevelchange"
        aria-label="Links in this document to definition: onlevelchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-batterymanager-onlevelchange"
                aria-label="Permalink for definition: onlevelchange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1293421873">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-batterymanager-onlevelchange-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-batterymanager-onlevelchange-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-levelchange"
        aria-label="Links in this document to definition: levelchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-levelchange"
                aria-label="Permalink for definition: levelchange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-levelchange-1" title="§ 6.1.4 The [[Level]] internal slot">§ 6.1.4 The [[Level]]
                    internal slot</a>
            </li>
            <li>
                <a href="#ref-for-dfn-levelchange-2" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-update-the-battery-status-and-notify"
        aria-label="Links in this document to definition: update the battery status and notify">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-update-the-battery-status-and-notify"
                aria-label="Permalink for definition: update the battery status and notify. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-update-the-battery-status-and-notify-1"
                    title="§ 6.1.1 The [[Charging]] internal slot">§ 6.1.1 The [[Charging]] internal slot</a>
            </li>
            <li>
                <a href="#ref-for-dfn-update-the-battery-status-and-notify-2"
                    title="§ 6.1.2 The [[ChargingTime]] internal slot">§ 6.1.2 The [[ChargingTime]] internal slot</a>
            </li>
            <li>
                <a href="#ref-for-dfn-update-the-battery-status-and-notify-3"
                    title="§ 6.1.3 The [[DischargingTime]] internal slot">§ 6.1.3 The [[DischargingTime]] internal
                    slot</a>
            </li>
            <li>
                <a href="#ref-for-dfn-update-the-battery-status-and-notify-4"
                    title="§ 6.1.4 The [[Level]] internal slot">§ 6.1.4 The [[Level]] internal slot</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-eventtarget-interface"
        aria-label="Links in this document to definition: EventTarget interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#eventtarget"
                aria-label="Permalink for definition: EventTarget interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-eventtarget-interface-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-eventtarget-interface-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-fire-an-event"
        aria-label="Links in this document to definition: Fire an event">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#concept-event-fire"
                aria-label="Permalink for definition: Fire an event. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-fire-an-event-1" title="§ 6.7 Algorithms">§ 6.7 Algorithms</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-internal-slots"
        aria-label="Links in this document to definition: internal slots">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots"
                aria-label="Permalink for definition: internal slots. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-internal-slots-1" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-allowed-to-use"
        aria-label="Links in this document to definition: allowed to use">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                aria-label="Permalink for definition: allowed to use. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-allowed-to-use-1" title="§ 5.2 The getBattery() method">§ 5.2 The
                    getBattery() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-associated-document"
        aria-label="Links in this document to definition: associated Document">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                aria-label="Permalink for definition: associated Document. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-associated-document-1" title="§ 5.2 The getBattery() method">§ 5.2 The
                    getBattery() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-current-global-object"
        aria-label="Links in this document to definition: current global object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                aria-label="Permalink for definition: current global object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-current-global-object-1" title="§ 6.7 Algorithms">§ 6.7 Algorithms</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-event-handler-event-types"
        aria-label="Links in this document to definition: event handler event types">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                aria-label="Permalink for definition: event handler event types. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-event-handler-event-types-1" title="§ 6.6 Event handlers">§ 6.6 Event
                    handlers</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-event-handlers"
        aria-label="Links in this document to definition: event handlers">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                aria-label="Permalink for definition: event handlers. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-event-handlers-1" title="§ 6.6 Event handlers">§ 6.6 Event handlers</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-eventhandler"
        aria-label="Links in this document to definition: EventHandler">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"
                aria-label="Permalink for definition: EventHandler. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-eventhandler-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a> <a href="#ref-for-index-term-eventhandler-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-index-term-eventhandler-3" title="Reference 3">(3)</a>
                <a href="#ref-for-index-term-eventhandler-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-eventhandler-5" title="§ B. IDL Index">§ B. IDL Index</a> <a
                    href="#ref-for-index-term-eventhandler-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-eventhandler-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-eventhandler-8" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-navigator-interface"
        aria-label="Links in this document to definition: Navigator interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"
                aria-label="Permalink for definition: Navigator interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-navigator-interface-1" title="§ 5. Extensions to the Navigator interface">§
                    5. Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-navigator-interface-2" title="§ 5.1 Internal slots">§ 5.1 Internal
                    slots</a>
            </li>
            <li>
                <a href="#ref-for-index-term-navigator-interface-3" title="§ 6.7 Algorithms">§ 6.7 Algorithms</a>
            </li>
            <li>
                <a href="#ref-for-index-term-navigator-interface-4" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-queue-a-global-task"
        aria-label="Links in this document to definition: Queue a global task">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                aria-label="Permalink for definition: Queue a global task. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-queue-a-global-task-1" title="§ 6.7 Algorithms">§ 6.7 Algorithms</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-relevant-global-object"
        aria-label="Links in this document to definition: relevant global object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                aria-label="Permalink for definition: relevant global object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-1" title="§ 5.2 The getBattery() method">§ 5.2 The
                    getBattery() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-relevant-realm"
        aria-label="Links in this document to definition: relevant realm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                aria-label="Permalink for definition: relevant realm. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-relevant-realm-1" title="§ 5.2 The getBattery() method">§ 5.2 The
                    getBattery() method</a> <a href="#ref-for-index-term-relevant-realm-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-task-source"
        aria-label="Links in this document to definition: task source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                aria-label="Permalink for definition: task source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-task-source-1" title="§ 4. Concepts">§ 4. Concepts</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-tasks"
        aria-label="Links in this document to definition: tasks">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                aria-label="Permalink for definition: tasks. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-tasks-1" title="§ 4. Concepts">§ 4. Concepts</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-window-interface"
        aria-label="Links in this document to definition: Window interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                aria-label="Permalink for definition: Window interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-window-interface-1" title="§ 6.7 Algorithms">§ 6.7 Algorithms</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-self-for-default-allowlist"
        aria-label="Links in this document to definition: 'self' (for default allowlist)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self"
                aria-label="Permalink for definition: 'self' (for default allowlist). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-self-for-default-allowlist-1" title="§ 7. Permissions Policy integration">§
                    7. Permissions Policy integration</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-default-allowlist-for-policy-controlled-feature"
        aria-label="Links in this document to definition: default allowlist (for policy-controlled feature)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                aria-label="Permalink for definition: default allowlist (for policy-controlled feature). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-allowlist-for-policy-controlled-feature-1"
                    title="§ 7. Permissions Policy integration">§ 7. Permissions Policy integration</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-policy-controlled-feature"
        aria-label="Links in this document to definition: policy-controlled feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                aria-label="Permalink for definition: policy-controlled feature. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-policy-controlled-feature-1" title="§ 5.2 The getBattery() method">§ 5.2
                    The getBattery() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-policy-controlled-feature-2" title="§ 7. Permissions Policy integration">§
                    7. Permissions Policy integration</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-a-new-promise"
        aria-label="Links in this document to definition: a new promise">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#a-new-promise"
                aria-label="Permalink for definition: a new promise. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-a-new-promise-1" title="§ 5.2 The getBattery() method">§ 5.2 The
                    getBattery() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-boolean-type"
        aria-label="Links in this document to definition: boolean type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-boolean"
                aria-label="Permalink for definition: boolean type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-boolean-type-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-boolean-type-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-domexception-interface"
        aria-label="Links in this document to definition: DOMException interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-DOMException"
                aria-label="Permalink for definition: DOMException interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-domexception-interface-1" title="§ 5.2 The getBattery() method">§ 5.2 The
                    getBattery() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-double-type"
        aria-label="Links in this document to definition: double type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-double"
                aria-label="Permalink for definition: double type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-double-type-1" title="§ 6. The BatteryManager interface">§ 6. The
                    BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-double-type-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-exposed-extended-attribute"
        aria-label="Links in this document to definition: [Exposed] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Exposed"
                aria-label="Permalink for definition: [Exposed] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-1" title="§ 6. The BatteryManager interface">§
                    6. The BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-new"
        aria-label="Links in this document to definition: new">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#new"
                aria-label="Permalink for definition: new. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-new-1" title="§ 5.2 The getBattery() method">§ 5.2 The getBattery()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-notallowederror-exception"
        aria-label="Links in this document to definition: NotAllowedError exception">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#notallowederror"
                aria-label="Permalink for definition: NotAllowedError exception. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-notallowederror-exception-1" title="§ 5.2 The getBattery() method">§ 5.2
                    The getBattery() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-promise-interface"
        aria-label="Links in this document to definition: Promise interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-promise"
                aria-label="Permalink for definition: Promise interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-promise-interface-1" title="§ 5. Extensions to the Navigator interface">§
                    5. Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-promise-interface-2" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-index-term-promise-interface-3" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-reject"
        aria-label="Links in this document to definition: reject">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#reject"
                aria-label="Permalink for definition: reject. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-reject-1" title="§ 5.2 The getBattery() method">§ 5.2 The getBattery()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-resolve"
        aria-label="Links in this document to definition: Resolve">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#resolve"
                aria-label="Permalink for definition: Resolve. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-resolve-1" title="§ 5.2 The getBattery() method">§ 5.2 The getBattery()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-securecontext-extended-attribute"
        aria-label="Links in this document to definition: [SecureContext] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#SecureContext"
                aria-label="Permalink for definition: [SecureContext] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-securecontext-extended-attribute-1"
                    title="§ 5. Extensions to the Navigator interface">§ 5. Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-securecontext-extended-attribute-2"
                    title="§ 6. The BatteryManager interface">§ 6. The BatteryManager interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-securecontext-extended-attribute-3" title="§ B. IDL Index">§ B. IDL
                    Index</a> <a href="#ref-for-index-term-securecontext-extended-attribute-4"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-this"
        aria-label="Links in this document to definition: this">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#this"
                aria-label="Permalink for definition: this. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-this-1" title="§ 5.2 The getBattery() method">§ 5.2 The getBattery()
                    method</a> <a href="#ref-for-index-term-this-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-this-3" title="Reference 3">(3)</a> <a href="#ref-for-index-term-this-4"
                    title="Reference 4">(4)</a> <a href="#ref-for-index-term-this-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-index-term-this-6" title="Reference 6">(6)</a> <a href="#ref-for-index-term-this-7"
                    title="Reference 7">(7)</a> <a href="#ref-for-index-term-this-8" title="Reference 8">(8)</a> <a
                    href="#ref-for-index-term-this-9" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-10" title="§ 6.2 The charging attribute">§ 6.2 The charging
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-11" title="§ 6.3 The chargingTime attribute">§ 6.3 The chargingTime
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-12" title="§ 6.4 The dischargingTime attribute">§ 6.4 The
                    dischargingTime attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-13" title="§ 6.5 The level attribute">§ 6.5 The level attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-unrestricted-double-type"
        aria-label="Links in this document to definition: unrestricted double type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"
                aria-label="Permalink for definition: unrestricted double type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-unrestricted-double-type-1" title="§ 6. The BatteryManager interface">§ 6.
                    The BatteryManager interface</a> <a href="#ref-for-index-term-unrestricted-double-type-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unrestricted-double-type-3" title="§ B. IDL Index">§ B. IDL Index</a> <a
                    href="#ref-for-index-term-unrestricted-double-type-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>