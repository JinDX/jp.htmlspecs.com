<!DOCTYPE html>
<html lang="ja-JP">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.1.2">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>高解像度時間</title>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <style>
        ul.index {
            columns: 30ch;
            column-gap: 1.5em
        }

        ul.index li {
            list-style: inherit
        }

        ul.index li span {
            color: inherit;
            cursor: pointer;
            white-space: normal
        }

        #index-defined-here ul.index li {
            font-size: .9rem
        }

        ul.index code {
            color: inherit
        }

        #index-defined-here .print-only {
            display: none
        }

        @media print {
            #index-defined-here .print-only {
                display: initial
            }
        }
    </style>
    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--indextable-hover-text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            color: var(--bg, #fff);
            background-color: #000;
            background-color: var(--text, #000);
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="revision" content="060b3c95d503961f6d39bc6c0c10db99a3b2dd6b">
    <meta name="description" content="この仕様は、タイムオリジンと現在時刻をサブミリ秒精度で提供するAPIを定義します。これにより、システムクロックのズレや調整の影響を受けません。">
    <link rel="canonical" href="https://www.w3.org/TR/hr-time-3/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        :root {
            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black
        }

        .assert {
            border-left: .5em solid #aaa;
            padding: .3em;
            border-color: #aaa;
            border-color: var(--assertion-border);
            background: #eee;
            background: var(--assertion-bg);
            color: #000;
            color: var(--assertion-text)
        }

        @media (prefers-color-scheme:dark) {
            :root {
                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text)
            }
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "shortName": "hr-time-3",
  "specStatus": "WD",
  "editors": [
    {
      "company": "Google LLC",
      "companyURL": "https://google.com/",
      "name": "Yoav Weiss",
      "url": "https://blog.yoav.ws/",
      "w3cid": "58673"
    }
  ],
  "formerEditors": [
    {
      "company": "Google LLC",
      "name": "Ilya Grigorik",
      "retiredDate": "2021-03-01",
      "url": "mailto:igrigorik@gmail.com",
      "w3cid": "56102"
    },
    {
      "company": "Google LLC",
      "name": "James Simonsen",
      "retiredDate": "2015-01-01",
      "url": "mailto:simonjam@google.com",
      "w3cid": "45726"
    },
    {
      "company": "Microsoft Corp.",
      "name": "Jatinder Mann",
      "retiredDate": "2014-02-01",
      "url": "mailto:jmann@microsoft.com",
      "w3cid": "44357"
    }
  ],
  "github": "w3c/hr-time",
  "caniuse": "high-resolution-time",
  "testSuiteURI": "https://wpt.live/hr-time/",
  "implementationReportURI": "https://wpt.fyi/hr-time/",
  "group": "webperf",
  "xref": "web-platform",
  "mdn": "hr-time",
  "highlightVars": true,
  "localBiblio": {
    "Temporal": {
      "href": "https://tc39.es/proposal-temporal/",
      "title": "Temporal",
      "status": "Stage 3 Proposal",
      "publisher": "ECMA TC39",
      "id": "temporal"
    }
  },
  "shortname": "hr-time-3",
  "gitRevision": "060b3c95d503961f6d39bc6c0c10db99a3b2dd6b",
  "publishDate": "2024-11-07",
  "previousMaturity": "WD",
  "previousPublishDate": "2023-07-19",
  "publishISODate": "2024-11-07T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 07 November 2024"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry" data-cite="WEBIDL HTML INFRA URL WEBIDL DOM FETCH">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">高解像度時間</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C作業草案</a> <time class="dt-published"
                datetime="2024-11-07">2024年11月07日</time></p>
        <details open="">
            <summary>この文書の詳細</summary>
            <dl>
                <dt>このバージョン:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2024/WD-hr-time-3-20241107/">https://www.w3.org/TR/2024/WD-hr-time-3-20241107/</a>
                </dd>
                <dt>最新公開バージョン:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
                </dd>
                <dt>最新エディター草案:</dt>
                <dd><a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a></dd>
                <dt>履歴:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/hr-time-3/">https://www.w3.org/standards/history/hr-time-3/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/hr-time/commits/">コミット履歴</a>
                </dd>
                <dt>テストスイート:</dt>
                <dd><a href="https://wpt.live/hr-time/">https://wpt.live/hr-time/</a></dd>
                <dt>実装レポート:</dt>
                <dd>
                    <a href="https://wpt.fyi/hr-time/">https://wpt.fyi/hr-time/</a>
                </dd>



                <dt>編集者:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="58673">
                    <a class="u-url url p-name fn" href="https://blog.yoav.ws/">Yoav Weiss</a> (<a
                        class="p-org org h-org" href="https://google.com/">Google LLC</a>)
                </dd>
                <dt>
                    以前の編集者:
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="56102">
                    <a class="ed_mailto u-email email p-name" href="mailto:igrigorik@gmail.com">Ilya Grigorik</a> (<span
                        class="p-org org h-org">Google LLC</span>) - 2021年03月01日まで
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="45726">
                    <a class="ed_mailto u-email email p-name" href="mailto:simonjam@google.com">James Simonsen</a>
                    (<span class="p-org org h-org">Google LLC</span>) - 2015年01月01日まで
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="44357">
                    <a class="ed_mailto u-email email p-name" href="mailto:jmann@microsoft.com">Jatinder Mann</a> (<span
                        class="p-org org h-org">Microsoft Corp.</span>) - 2014年02月01日まで
                </dd>

                <dt>フィードバック:</dt>
                <dd>
                    <a href="https://github.com/w3c/hr-time/">GitHub w3c/hr-time</a>
                    (<a href="https://github.com/w3c/hr-time/pulls/">プルリクエスト</a>,
                    <a href="https://github.com/w3c/hr-time/issues/new/choose">新しい課題</a>,
                    <a href="https://github.com/w3c/hr-time/issues/">オープン課題</a>)
                </dd>


                <dt class="caniuse-title">ブラウザーサポート:</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/high-resolution-time">caniuse.com</a></dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2024

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>概要</h2>
        <p>
            本仕様は、タイムオリジンと現在時刻をサブミリ秒精度で提供するAPIを定義します。これにより、システムクロックのズレや調整の影響を受けません。
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>この文書のステータス</h2>
        <p><em>このセクションは、公開時点での文書のステータスについて説明します。現行の<abbr title="World Wide Web Consortium">W3C</abbr>
                公開文書および本技術レポートの最新改訂は、<a href="https://www.w3.org/TR/"><abbr
                        title="World Wide Web Consortium">W3C</abbr>技術レポート一覧</a>（https://www.w3.org/TR/）で確認できます。</em>
        </p>
        <p>
            本文書は、<a href="https://www.w3.org/groups/wg/webperf">Webパフォーマンス作業グループ</a>が
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">勧告プロセス</a>に従い、作業草案として公開したものです。
        </p>
        <p>作業草案として公開されたことは、<abbr title="World Wide Web Consortium">W3C</abbr>およびそのメンバーによる承認を意味するものではありません。</p>
        <p>
            本文書はドラフトであり、随時更新、差替え、廃止される可能性があります。進行中の作業以外のものとして引用することは不適切です。
        </p>
        <p>
            本文書は、
            <a href="https://www.w3.org/policies/patent-policy/"><abbr
                    title="World Wide Web Consortium">W3C</abbr>特許ポリシー</a>
            の下で運営されるグループによって作成されました。

            <abbr title="World Wide Web Consortium">W3C</abbr>は、
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webperf/ipr">グループ成果物に関連する特許開示の公開リスト</a>
            を管理しています。このページでは特許開示の方法も案内しています。個人が、必須クレームを含むと考える特許を実際に知っている場合、
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C特許ポリシー第6節</a>に従って情報を開示する必要があります。
        </p>
        <p>
            本文書は
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023年11月03日 <abbr
                    title="World Wide Web Consortium">W3C</abbr>プロセス文書</a>
            に従って作成されています。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">概要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">この文書のステータス</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    はじめに
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#use-cases"><bdi class="secno">1.1 </bdi>
                            ユースケース
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">1.2 </bdi>
                            例
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-concepts"><bdi class="secno">2. </bdi>
                    時間の概念
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#sec-clocks"><bdi class="secno">2.1 </bdi>
                            クロック
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#moments-and-durations"><bdi class="secno">2.2 </bdi>
                            モーメントと持続時間
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-tools"><bdi class="secno">3. </bdi>
                    仕様策定者向けツール
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#sec-tools-examples"><bdi class="secno">3.1 </bdi>
                            例
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-time-origin"><bdi class="secno">4. </bdi>
                    タイムオリジン
                </a></li>
            <li class="tocline"><a class="tocxref" href="#sec-domhighrestimestamp"><bdi class="secno">5. </bdi>
                    <span data-export="" data-dfn-type="typedef" data-idl="typedef" data-title="DOMHighResTimeStamp"
                        data-dfn-for=""><code>DOMHighResTimeStamp</code></span>型定義
                </a></li>
            <li class="tocline"><a class="tocxref" href="#the-epochtimestamp-typedef"><bdi class="secno">6. </bdi>
                    <span data-export="" data-dfn-type="typedef" data-idl="typedef" data-title="EpochTimeStamp"
                        data-dfn-for=""><code>EpochTimeStamp</code></span>型定義
                </a></li>
            <li class="tocline"><a class="tocxref" href="#sec-performance"><bdi class="secno">7. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="Performance"
                        data-dfn-for=""><code>Performance</code></span>インターフェイス
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#now-method"><bdi class="secno">7.1 </bdi>
                            <code>now()</code>メソッド
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#timeorigin-attribute"><bdi class="secno">7.2 </bdi>
                            <code>timeOrigin</code>属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#tojson-method"><bdi class="secno">7.3 </bdi>
                            <code>toJSON()</code>メソッド
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-windoworworkerglobalscope-mixin"><bdi
                        class="secno">8. </bdi>
                    <code>WindowOrWorkerGlobalScope</code>ミックスインへの拡張
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#the-performance-attribute"><bdi class="secno">8.1
                            </bdi>
                            <code>performance</code>属性
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-security"><bdi class="secno">9. </bdi>
                    セキュリティに関する考慮事項
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#clock-resolution"><bdi class="secno">9.1 </bdi>
                            クロックの分解能
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#clock-drift"><bdi class="secno">9.2 </bdi>
                            クロックドリフト
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-privacy"><bdi class="secno">10. </bdi>
                    プライバシーに関する考慮事項
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">11. </bdi>適合性</a></li>
            <li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">A. </bdi>索引</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">A.1
                            </bdi>本仕様で定義された用語</a></li>
                    <li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">A.2
                            </bdi>他の仕様で定義された用語</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">B. </bdi>IDL索引</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">C. </bdi>
                    謝辞
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1
                            </bdi>標準参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">D.2
                            </bdi>参考情報</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="introduction" class="informative">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                はじめに
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>このセクションは規範的ではありません。</em></p>

        <p>
            ECMAScript言語仕様[<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                    title="ECMAScript Language Specification">ECMA-262</a></cite>]では、
            <code><dfn data-no-export="" id="dfn-date" class="externalDFN" data-dfn-type="dfn"><a href="https://tc39.es/ecma262/multipage/#sec-date-objects" id="ref-for-index-term-date-1">Date</a></dfn></code>
            オブジェクトは1970年1月1日UTCからのミリ秒単位の時刻値を表すと定義されています。ほとんどの場合、この時刻の定義は十分であり、約285,616年間の任意の瞬間についてミリ秒精度で時刻を表すことができます。
        </p>
        <p>
            実際には、これらの時刻の定義はクロックのずれやシステムクロックの調整の影響を受けます。時刻値は必ずしも単調増加するとは限らず、後続の値が減少したり、同じ値になることもあります。
        </p>
        <p>
            例えば、以下のスクリプトでは、計算された<code>duration</code>が正数、負数、またはゼロとなる場合があります。
        </p>
        <div class="example" id="example-1">
            <div class="marker">
                <a class="self-link" href="#example-1">例<bdi> 1</bdi></a>
            </div>
            <pre
                aria-busy="false"><code class="hljs js"><span class="hljs-keyword">var</span> mark_start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
<span class="hljs-title function_">doTask</span>(); <span class="hljs-comment">// タスクを実行</span>
<span class="hljs-keyword">var</span> duration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - mark_start;</code></pre>
        </div>
        <p>
            特定のタスクにおいて、この時刻の定義では十分でない場合があります。
        </p>
        <ul>
            <li>安定した単調クロックがなく、システムクロックのずれの影響を受ける。</li>
            <li>サブミリ秒の時刻分解能を提供しない。</li>
        </ul>
        <p>
            本仕様は<code><dfn data-no-export="" id="dfn-date-now" class="externalDFN" data-dfn-type="dfn"><a href="https://tc39.es/ecma262/multipage/#sec-date.now" id="ref-for-index-term-date-now-1">Date.now()</a></dfn></code>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                    title="ECMAScript Language Specification">ECMA-262</a></cite>]の挙動を変更することを提案しません。これは現在のカレンダー時刻の値を取得するのに有用であり、長い利用実績があります。
            <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp" class="internalDFN"
                id="ref-for-dom-domhighrestimestamp-1"><code>DOMHighResTimeStamp</code></a>型、
            <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                id="ref-for-dom-performance-1"><code>Performance</code></a>.<a data-link-type="idl" data-lt="now()"
                href="#dom-performance-now" class="internalDFN"
                id="ref-for-dom-performance-now-1"><code>now</code></a><code>()</code>メソッド、
            <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                id="ref-for-dom-performance-2"><code>Performance</code></a>.<a data-link-type="idl"
                href="#dom-performance-timeorigin" class="internalDFN"
                id="ref-for-dom-performance-timeorigin-1"><code>timeOrigin</code></a>属性は、
            <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                id="ref-for-dom-performance-3"><code>Performance</code></a>インターフェイスの一部であり、上記の課題を解決します。これらはサブミリ秒分解能で単調増加する時刻値を提供します。
        </p>
        <div class="note" role="note" id="issue-container-generatedID">
            <div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>補足</span></div>
            <p class="">
                サブミリ秒分解能の提供は本仕様の必須要件ではありません。実装は、プライバシーやセキュリティの理由でタイマー分解能を制限し、サブミリ秒タイマーを公開しない選択をすることも可能です。サブミリ秒分解能に依存するユースケースは、その場合満たされない可能性があります。
            </p>
        </div>
        <section id="use-cases" class="informative">
            <div class="header-wrapper">
                <h3 id="x1-1-use-cases"><bdi class="secno">1.1 </bdi>
                    ユースケース
                </h3><a class="self-link" href="#use-cases" aria-label="Permalink for Section 1.1"></a>
            </div>
            <p><em>このセクションは規範的ではありません。</em></p>

            <p>
                本仕様はいくつかの機能を定義しています。安定した単調クロックに基づくタイムスタンプを、文脈をまたいで比較可能にし、サブミリ秒分解能も可能です。
            </p>
            <p>
                パフォーマンス測定において安定した単調クロックが必要となる理由は、無関係なクロックのずれが測定値を歪めてしまい、役に立たなくなるためです。例えば、Documentへのナビゲーションやリソース取得、スクリプトの実行時間を正確に測定する際には、サブミリ秒分解能かつ単調増加するクロックが望ましいです。
            </p>
            <p>
                文脈間でタイムスタンプを比較することは、例えば<a data-link-type="idl" data-lt="Worker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                    id="ref-for-index-term-worker-interface-1"><code>Worker</code></a>とメインスレッド間で作業を同期したり、イベントタイムラインの統一ビューを作成する際に不可欠です。
            </p>
            <p>
                最後に、サブミリ秒タイマーの必要性は以下のユースケースに関連します。
            </p>
            <ul>
                <li>サブミリ秒間隔で作業をスケジューリングする能力。これは特にメインスレッド上で重要で、作業がフレーム描画に干渉しないよう、短く規則的な間隔で描画する必要があるためです。これが乱れるとユーザーに見えるカクつきが発生します。
                </li>
                <li>スクリプトベースのアニメーションのフレームレートを計算する際、60 FPSで描画されているかどうかを判断するためにサブミリ秒分解能が必要となります。サブミリ秒分解能がなければ、58.8
                    FPS（1000ms / 16）や62.5 FPS（1000ms / 17）しか判定できません。
                </li>
                <li>実際のJSコード（例：User-Timing）の動作測定を収集する場合、関数のサブミリ秒単位のタイミング取得により、リグレッションを早期に発見できます。
                </li>
                <li>アニメーションにオーディオを合わせたり、オーディオとアニメーションを完全に同期させる際に、経過時間を正確に計測する必要があります。
                </li>
            </ul>
        </section>
        <section id="examples" class="informative">
            <div class="header-wrapper">
                <h3 id="x1-2-examples"><bdi class="secno">1.2 </bdi>
                    例
                </h3><a class="self-link" href="#examples" aria-label="Permalink for Section 1.2"></a>
            </div>
            <p><em>このセクションは規範的ではありません。</em></p>

            <p>
                開発者は、<a data-link-type="idl" data-lt="Worker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                    id="ref-for-index-term-worker-interface-2"><code>Worker</code></a>や<a data-link-type="idl"
                    data-lt="SharedWorker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#sharedworker"
                    id="ref-for-index-term-sharedworker-interface-1"><code>SharedWorker</code></a>など、
                異なる<a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-1">タイムオリジン</a>を持つイベントも含め、アプリケーション全体のタイムラインを構築したい場合があります。そのようなイベントを同じタイムライン上に表示するには、
                <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                    class="internalDFN" id="ref-for-dom-domhighrestimestamp-2"><code>DOMHighResTimeStamp</code></a>を
                <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                    id="ref-for-dom-performance-4"><code>Performance</code></a>.<a data-link-type="idl"
                    href="#dom-performance-timeorigin" class="internalDFN"
                    id="ref-for-dom-performance-timeorigin-2"><code>timeOrigin</code></a>属性を使って変換できます。
            </p>
            <div class="example" id="example-2">
                <div class="marker">
                    <a class="self-link" href="#example-2">例<bdi> 2</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// ---- worker.js -----------------------------</span>
<span class="hljs-comment">// 共有ワーカースクリプト</span>
onconnect = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">var</span> port = e.<span class="hljs-property">ports</span>[<span class="hljs-number">0</span>];
  port.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-comment">// ワーカーでの実行時間計測</span>
    <span class="hljs-keyword">var</span> task_start = performance.<span class="hljs-title function_">now</span>();
    result = <span class="hljs-title function_">runSomeWorkerTask</span>();
    <span class="hljs-keyword">var</span> task_end = performance.<span class="hljs-title function_">now</span>();
  }

  <span class="hljs-comment">// 他のコンテキストに結果とエポック基準のタイムスタンプを送信</span>
  port.<span class="hljs-title function_">postMessage</span>({
    <span class="hljs-string">'task'</span>: <span class="hljs-string">'ワーカーのタスク'</span>,
    <span class="hljs-string">'start_time'</span>: task_start + performance.<span class="hljs-property">timeOrigin</span>,
    <span class="hljs-string">'end_time'</span>: task_end + performance.<span class="hljs-property">timeOrigin</span>,
    <span class="hljs-string">'result'</span>: result
  });
}

<span class="hljs-comment">// ---- application.js ------------------------</span>
<span class="hljs-comment">// ドキュメント内のタスク計測</span>
<span class="hljs-keyword">var</span> task_start = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-title function_">runSomeApplicationTask</span>();
<span class="hljs-keyword">var</span> task_end = performance.<span class="hljs-title function_">now</span>();

<span class="hljs-comment">// 実行時パフォーマンスデータをアップロードする開発者提供メソッド</span>
<span class="hljs-title function_">reportEventToAnalytics</span>({
  <span class="hljs-string">'task'</span>: <span class="hljs-string">'ドキュメントのタスク'</span>,
  <span class="hljs-string">'start_time'</span>: task_start,
  <span class="hljs-string">'duration'</span>: task_end - task_start
});

<span class="hljs-comment">// ワーカーのタイムスタンプをドキュメントのタイムオリジンに変換</span>
<span class="hljs-keyword">var</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedWorker</span>(<span class="hljs-string">'worker.js'</span>);
worker.<span class="hljs-property">port</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) {
  <span class="hljs-keyword">var</span> msg = event.<span class="hljs-property">data</span>;

  <span class="hljs-comment">// エポック基準のタイムスタンプをドキュメントのタイムオリジンに変換</span>
  msg.<span class="hljs-property">start_time</span> = msg.<span class="hljs-property">start_time</span> - performance.<span class="hljs-property">timeOrigin</span>;
  msg.<span class="hljs-property">end_time</span> = msg.<span class="hljs-property">end_time</span> - performance.<span class="hljs-property">timeOrigin</span>;

  <span class="hljs-title function_">reportEventToAnalytics</span>(msg);
}</code></pre>
            </div>
        </section>
    </section>
    <section id="sec-concepts">
        <div class="header-wrapper">
            <h2 id="x2-time-concepts"><bdi class="secno">2. </bdi>
                時間の概念
            </h2><a class="self-link" href="#sec-concepts" aria-label="Permalink for Section 2."></a>
        </div>

        <section id="sec-clocks">
            <div class="header-wrapper">
                <h3 id="x2-1-clocks"><bdi class="secno">2.1 </bdi>
                    クロック
                </h3><a class="self-link" href="#sec-clocks" aria-label="Permalink for Section 2.1"></a>
            </div>

            <p>
                <dfn data-plurals="clocks" id="dfn-clock" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">クロック</dfn>は、時間の経過を追跡し、アルゴリズムステップが実行されている
                <dfn id="dfn-unsafe-current-time" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">安全でない現在時刻</dfn>を報告できます。
                クロックには様々な種類があります。Webプラットフォーム上のすべてのクロックは、1ミリ秒のクロック時間が実世界の1ミリ秒と一致するように設計されていますが、正確に一致できない場合の扱い方が異なります。
            </p>
            <ul>
                <li>
                    <dfn data-export="" id="dfn-wall-clock" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">壁時計</dfn>の<dfn data-dfn-for="wall clock" data-export=""
                        id="wall-clock-unsafe-current-time" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">安全でない現在時刻</dfn>は、常にユーザーの時間感覚にできるだけ近くなります。コンピューターは時に遅くなったり速くなったり、時間を見失ったりするため、
                    <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                        id="ref-for-dfn-wall-clock-1">壁時計</a>
                    を調整する必要があり、その結果
                    <a data-link-type="dfn|abstract-op" href="#wall-clock-unsafe-current-time" class="internalDFN"
                        id="ref-for-wall-clock-unsafe-current-time-1">安全でない現在時刻</a>が減少することがあり、パフォーマンス測定やイベント順序の記録には信頼できません。Webプラットフォームは[<cite><a
                            class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                            title="ECMAScript Language Specification">ECMA-262</a></cite>]
                    <dfn data-no-export="" id="dfn-time" class="externalDFN" data-dfn-type="dfn"><a
                            href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                            id="ref-for-index-term-time-1">time</a></dfn>と共通の
                    <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                        id="ref-for-dfn-wall-clock-2">壁時計</a>を持っています。
                </li>
                <li>
                    <p>
                        <dfn data-export="" id="dfn-monotonic-clock" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">単調クロック</dfn>の<dfn data-export="" data-dfn-for="monotonic clock"
                            id="monotonic-clock-unsafe-current-time" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">安全でない現在時刻</dfn>は、決して減少せず、システムクロックの調整によって変化しません。
                        <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                            id="ref-for-dfn-monotonic-clock-1">単調クロック</a>は
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://infra.spec.whatwg.org/#user-agent"
                            id="ref-for-index-term-user-agent-1">ユーザーエージェント</a>の1回の実行内にのみ存在し、
                        異なる実行間で発生するイベントを比較するためには使用できません。
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-0">
                        <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>補足</span>
                        </div>
                        <p class="">
                            <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                                id="ref-for-dfn-monotonic-clock-2">単調クロック</a>はユーザーの時間感覚に合わせて調整できないため、計測用として使用し、ユーザー向けの時刻には壁時計を使用してください。
                        </p>
                    </div>
                    <div class="note" role="note" id="issue-container-generatedID-1">
                        <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>補足</span>
                        </div>
                        <p class="">
                            ユーザーエージェントは、ブラウザ再起動時、分離されたブラウジングセッション（例：シークレットモード等）開始時、または既存の設定オブジェクトと通信できない
                            <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                                id="ref-for-index-term-environment-settings-object-1">環境設定オブジェクト</a>作成時などに
                            <a data-link-type="dfn|abstract-op" href="#dfn-estimated-monotonic-time-of-the-unix-epoch"
                                class="internalDFN"
                                id="ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-1">Unixエポックの推定単調時刻</a>を選択できます。
                            そのため開発者は、共有タイムスタンプを絶対時刻として、すべての過去・現在・未来の文脈間で単調性が維持されるとは考えないでください。実際には、単調性はメッセージ交換が可能な文脈間でのみ適用されます。
                            例：<a data-link-type="idl" data-lt="postMessage(message, options)" data-type="method"
                                href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage-options"
                                id="ref-for-index-term-postmessage-message-options-for-window-1"><code>postMessage</code></a><code>(<var>message</var>, <var>options</var>)</code>,
                            <a data-link-type="idl" data-lt="BroadcastChannel" data-type="interface"
                                href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcastchannel"
                                id="ref-for-index-term-broadcastchannel-interface-1"><code>BroadcastChannel</code></a>など。
                        </p>
                    </div>
                    <div class="note" role="note" id="issue-container-generatedID-2">
                        <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>補足</span>
                        </div>
                        <p class="">
                            ある状況（例：タブがバックグラウンドになった場合）では、ユーザーエージェントがその文脈でタイマーや定期コールバックの実行を抑制、あるいは完全に停止することがあります。
                            このような抑制は単調クロックが返す時刻の分解能や精度には影響しないようにすべきです。
                        </p>
                    </div>
                </li>
            </ul>
        </section>
        <section id="moments-and-durations">
            <div class="header-wrapper">
                <h3 id="x2-2-moments-and-durations"><bdi class="secno">2.2 </bdi>
                    モーメントと持続時間
                </h3><a class="self-link" href="#moments-and-durations" aria-label="Permalink for Section 2.2"></a>
            </div>

            <p>
                各<a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-1">クロック</a>の<a data-link-type="dfn|abstract-op"
                    href="#dfn-unsafe-current-time" class="internalDFN"
                    id="ref-for-dfn-unsafe-current-time-1">安全でない現在時刻</a>は、
                <dfn data-plurals="unsafe moments" id="dfn-unsafe-moment" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">安全でないモーメント</dfn>を返します。
                <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                    id="ref-for-dfn-coarsen-time-1">時刻の粗化</a>はこれらの<a data-link-type="dfn|abstract-op"
                    href="#dfn-unsafe-moment" class="internalDFN" id="ref-for-dfn-unsafe-moment-1">安全でないモーメント</a>を
                <dfn data-export="" data-lt="moment|coarsened moments" data-plurals="moments" id="dfn-moment"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">粗化されたモーメント</dfn>または単に
                <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-1">モーメント</a>に変換します。
                <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-moment" class="internalDFN"
                    id="ref-for-dfn-unsafe-moment-2">安全でないモーメント</a>と
                <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-2">モーメント</a>は異なるクロック間では比較できません。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-3">
                <div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>補足</span></div>
                <p class="">
                    <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-3">モーメント</a>および<a data-link-type="dfn|abstract-op"
                        href="#dfn-unsafe-moment" class="internalDFN"
                        id="ref-for-dfn-unsafe-moment-3">安全でないモーメント</a>は時点を表し、直接数値として保存できません。
                    実装では通常、<a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-4">モーメント</a>を他の固定時点からの
                    <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                        id="ref-for-dfn-duration-1">持続時間</a>
                    として表現しますが、仕様書ではモーメント自体を扱うべきです。
                </p>
            </div>
            <p>
                <dfn data-export="" data-plurals="durations" id="dfn-duration" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">持続時間</dfn>は、同じ<a data-link-type="dfn|abstract-op" href="#dfn-clock"
                    class="internalDFN" id="ref-for-dfn-clock-2">クロック</a>上の
                <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-6">モーメント</a>同士の距離です。どちらの端点も
                <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-moment" class="internalDFN"
                    id="ref-for-dfn-unsafe-moment-4">安全でないモーメント</a>であってはならず、
                これにより<a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-2">持続時間</a>やその差分は
                <a href="#clock-resolution" data-matched-text="[[[#clock-resolution]]]" class="sec-ref"><bdi
                        class="secno">9.1 </bdi>
                    クロックの分解能</a>での懸念を軽減します。
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-4">持続時間</a>はミリ秒、秒などで測定されます。
                すべての<a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-3">クロック</a>が同じ速度でカウントしようとするため、
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-5">持続時間</a>には関連する<a data-link-type="dfn|abstract-op" href="#dfn-clock"
                    class="internalDFN" id="ref-for-dfn-clock-4">クロック</a>がありません。
                1つのクロック上の2つの<a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-7">モーメント</a>から算出した
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-6">持続時間</a>は、
                2番目の<a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-5">クロック</a>上の<a data-link-type="dfn|abstract-op" href="#dfn-moment"
                    class="internalDFN" id="ref-for-dfn-moment-8">モーメント</a>に加えることで、
                さらに新しい<a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-9">モーメント</a>を生成できます。
            </p>
            <p>
                <dfn data-export="" id="dfn-duration-from" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">持続時間（duration from）</dfn><var data-type="moment">a</var>から<var
                    data-type="moment">b</var>まで
                は次のアルゴリズムによって求めます：
            </p>
            <ol class="algorithm">
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">検証</a>：<var
                        data-type="moment">a</var>は<var data-type="moment">b</var>と同じ
                    <a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                        id="ref-for-dfn-clock-7">クロック</a>によって作成されたものであること。
                </li>
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">検証</a>：<var
                        data-type="moment">a</var>および<var data-type="moment">b</var>の両方が
                    <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-10">粗化されたモーメント</a>であること。
                </li>
                <li> <var data-type="moment">a</var>から<var data-type="moment">b</var>までの時間を
                    <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                        id="ref-for-dfn-duration-7">持続時間</a>として返す。
                    <var data-type="moment">b</var>が<var data-type="moment">a</var>より前の場合は、負の
                    <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                        id="ref-for-dfn-duration-8">持続時間</a>となる。
                </li>
            </ol>
            <p>
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-9">持続時間</a>は、暗黙的に
                <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                    class="internalDFN"
                    id="ref-for-dom-domhighrestimestamp-3"><code>DOMHighResTimeStamp</code></a>として利用できます。
                <dfn id="dfn-implicitly-convert-a-duration-to-a-timestamp" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">持続時間をタイムスタンプに暗黙的に変換する</dfn>には、
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-10">持続時間</a><var data-type="duration">d</var>を与え、<var
                    data-type="duration">d</var>に含まれるミリ秒数を返します。
            </p>
        </section>
    </section>
    <section id="sec-tools">
        <div class="header-wrapper">
            <h2 id="x3-tools-for-specification-authors"><bdi class="secno">3. </bdi>
                仕様策定者向けツール
            </h2><a class="self-link" href="#sec-tools" aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            1ページ内（1つの<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-2">環境設定オブジェクト</a>の範囲）で時間を測定する場合は、<var data-type="environment
        settings object">settingsObject</var>の<dfn data-export="" data-dfn-for="environment settings object"
                id="dfn-current-relative-timestamp" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">現在の相対タイムスタンプ</dfn>を使用します。
            これは<var data-type="environment
        settings object">settingsObject</var>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-2">タイムオリジン</a>から<var data-type="environment
        settings object">settingsObject</var>の<a data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time"
                class="internalDFN" id="ref-for-dfn-current-monotonic-time-1">現在の単調時刻</a>までの<a
                data-link-type="dfn|abstract-op" href="#dfn-duration-from" class="internalDFN"
                id="ref-for-dfn-duration-from-1">持続時間</a>として定義されます。
            この値は<a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-11">持続時間</a>を<a data-link-type="dfn|abstract-op"
                data-lt="implicitly convert a duration to a timestamp"
                href="#dfn-implicitly-convert-a-duration-to-a-timestamp" class="internalDFN"
                id="ref-for-dfn-implicitly-convert-a-duration-to-a-timestamp-1">タイムスタンプへの暗黙的変換</a>によって
            JavaScriptの<a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                class="internalDFN"
                id="ref-for-dom-domhighrestimestamp-4"><code>DOMHighResTimeStamp</code></a>として直接公開できます。
        </p>
        <p>
            UAの1回の実行内で時間を測定する場合、<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-3">環境設定オブジェクト</a>の<a data-link-type="dfn|abstract-op"
                data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-3">タイムオリジン</a>が比較の基準として適切でない場合は、
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-11">モーメント</a>を<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-4">環境設定オブジェクト</a>の
            <a data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time" class="internalDFN"
                id="ref-for-dfn-current-monotonic-time-2">現在の単調時刻</a>を使って作成します。
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-5">環境設定オブジェクト</a>
            <var data-type="environment settings object">settingsObject</var>の<dfn data-export=""
                data-dfn-for="environment settings object" id="dfn-current-monotonic-time" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">現在の単調時刻</dfn>
            は次の手順で求めます：
        </p>
        <ol>
            <li><var data-type="unsafe moment on the monotonic clock">unsafeMonotonicTime</var>を
                <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                    id="ref-for-dfn-monotonic-clock-3">単調クロック</a>の<a data-link-type="dfn|abstract-op"
                    href="#monotonic-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-monotonic-clock-unsafe-current-time-1">安全でない現在時刻</a>として取得する。
            </li>
            <li><a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                    id="ref-for-dfn-coarsen-time-2">時刻の粗化</a>を
                <var data-type="unsafe moment on the monotonic clock">unsafeMonotonicTime</var>と
                <var data-type="environment settings object">settingsObject</var>の
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                    id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-1">クロスオリジン分離機能</a>で呼び出し、その結果を返す。
            </li>
        </ol>
        <p>
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-12">モーメント</a>は、<a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock"
                class="internalDFN"
                id="ref-for-dfn-monotonic-clock-4">モノトニッククロック</a>から直接JavaScriptやHTTPで表現することはできません。代わりに、2つのこのような<a
                data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-13">モーメント</a>間の<a data-link-type="dfn|abstract-op" href="#dfn-duration"
                class="internalDFN" id="ref-for-dfn-duration-12">持続時間</a>を公開します。
        </p>
        <p>
            複数回のUA実行にまたがる時間測定には、<a data-link-type="dfn|abstract-op" href="#dfn-current-wall-time" class="internalDFN"
                id="ref-for-dfn-current-wall-time-1">現在の粗化された壁時計時刻</a>、または（<a data-link-type="dfn|abstract-op"
                data-lt="cross-origin isolated capability" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-2">クロスオリジン分離機能</a>のある文脈でより高精度が必要な場合は）
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-6">環境設定オブジェクト</a>の<a data-link-type="dfn|abstract-op"
                href="#dfn-eso-current-wall-time" class="internalDFN"
                id="ref-for-dfn-eso-current-wall-time-1">現在の壁時計時刻</a>を使って<a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-14">モーメント</a>を作成します。
            <dfn data-export="" id="dfn-current-wall-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">現在の粗化された壁時計時刻</dfn>は、<a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time"
                class="internalDFN" id="ref-for-dfn-coarsen-time-3">時刻の粗化</a>を<a data-link-type="dfn|abstract-op"
                href="#dfn-wall-clock" class="internalDFN" id="ref-for-dfn-wall-clock-3">壁時計</a>の<a
                data-link-type="dfn|abstract-op" href="#wall-clock-unsafe-current-time" class="internalDFN"
                id="ref-for-wall-clock-unsafe-current-time-2">安全でない現在時刻</a>に対して呼び出した結果です。
        </p>
        <p>
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-7">環境設定オブジェクト</a>
            <var data-type="environment settings
        object">settingsObject</var>の<dfn data-export="" data-dfn-for="environment settings object"
                id="dfn-eso-current-wall-time" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">現在の壁時計時刻</dfn>
            は次の手順で求めます：
        </p>
        <ol>
            <li><var data-type="unsafe moment on the wall clock">unsafeWallTime</var>を<a
                    data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                    id="ref-for-dfn-wall-clock-4">壁時計</a>の<a data-link-type="dfn|abstract-op"
                    href="#wall-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-wall-clock-unsafe-current-time-3">安全でない現在時刻</a>として取得する。
            </li>
            <li><a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                    id="ref-for-dfn-coarsen-time-4">時刻の粗化</a>を<var
                    data-type="unsafe moment on the wall clock">unsafeWallTime</var>
                と<var data-type="environment settings
        object">settingsObject</var>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                    id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-3">クロスオリジン分離機能</a>で呼び出し、その結果を返す。
            </li>
        </ol>
        <p class="advisement">
            <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                id="ref-for-dfn-wall-clock-5">壁時計</a>からの<a data-link-type="dfn|abstract-op" href="#dfn-moment"
                class="internalDFN" id="ref-for-dfn-moment-15">モーメント</a>を使用する際は、ユーザーが時計を前後に調整する場合があることを設計に反映してください。
        </p>
        <p>
            <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                id="ref-for-dfn-wall-clock-6">壁時計</a>からの<a data-link-type="dfn|abstract-op" href="#dfn-moment"
                class="internalDFN" id="ref-for-dfn-moment-16">モーメント</a>は、<a data-link-type="dfn|abstract-op"
                href="#dfn-unix-epoch" class="internalDFN" id="ref-for-dfn-unix-epoch-1">Unixエポック</a>からその<a
                data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-17">モーメント</a>までのミリ秒数をJavaScriptの
            <a data-link-type="idl" data-lt="Date" href="https://tc39.es/ecma262/multipage/#sec-date-objects"
                id="ref-for-index-term-date-2"><code><code>Date</code></code></a>コンストラクターに渡すか、
            <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                id="ref-for-dfn-unix-epoch-2">Unixエポック</a>からその<a data-link-type="dfn|abstract-op" href="#dfn-moment"
                class="internalDFN" id="ref-for-dfn-moment-18">モーメント</a>までのナノ秒数を
            <a data-link-type="idl" href="https://tc39.es/proposal-temporal/#sec-temporal-instant-constructor"
                id="ref-for-index-term-temporal-instant-1">Temporal.Instant</a>
            コンストラクターに渡すことで表現できます。
        </p>
        <p class="advisement tracking-vector">
            類似の表現をコンピューター間で送信することは避けてください。そうするとユーザーの時計のズレが漏洩し、
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#tracking-vector"
                id="ref-for-index-term-tracking-vector-1">トラッキングベクトル</a>となります。
            代わりに、<a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                id="ref-for-dfn-monotonic-clock-5">単調クロック</a>の<a data-link-type="dfn|abstract-op" href="#dfn-moment"
                class="internalDFN" id="ref-for-dfn-moment-19">モーメント</a>のように、2つの<a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-20">モーメント</a>間の持続時間を送信する方法を使ってください。
        </p>
        <section id="sec-tools-examples">
            <div class="header-wrapper">
                <h3 id="x3-1-examples"><bdi class="secno">3.1 </bdi>
                    例
                </h3><a class="self-link" href="#sec-tools-examples" aria-label="Permalink for Section 3.1"></a>
            </div>

            <div class="example" id="example-current-relative-timestamp">
                <p>
                    DOMイベントが発生した時刻は以下のように報告できます：
                </p>
                <ol start="7">
                    <li><var>event</var>の<a data-link-type="idl" data-type="attribute"
                            href="https://dom.spec.whatwg.org/#dom-event-timestamp"
                            id="ref-for-index-term-timestamp-attribute-for-event-1"><code>timeStamp</code></a>属性を、
                        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-index-term-this-1">this</a>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-index-term-relevant-settings-object-1">関連設定オブジェクト</a>の<a
                            data-link-type="dfn|abstract-op" href="#dfn-current-relative-timestamp" class="internalDFN"
                            id="ref-for-dfn-current-relative-timestamp-1">現在の相対タイムスタンプ</a>で初期化する。
                    </li>
                </ol>
            </div>
            <div class="example" id="example-current-monotonic-time">
                <p>
                    エラーレポートの経過時間は以下で計算できます：
                </p>
                <ol start="7">
                    <li><var>report</var>の<a href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                            id="ref-for-index-term-generation-time-1">生成時刻</a>を<var>settings</var>の
                        <a data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time" class="internalDFN"
                            id="ref-for-dfn-current-monotonic-time-3">現在の単調時刻</a>で初期化する。
                    </li>
                </ol>
                <p>
                    後で：
                </p>
                <ol start="2">
                    <li><var>data</var>を下記のキー／値ペアを持つマップとする：
                        <dl>
                            <dt>
                                age
                            </dt>
                            <dd>
                                <var>report</var>の<a href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                                    id="ref-for-index-term-generation-time-2">生成時刻</a>と
                                <var>context</var>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                                    id="ref-for-index-term-relevant-settings-object-2">関連設定オブジェクト</a>の
                                <a data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time"
                                    class="internalDFN"
                                    id="ref-for-dfn-current-monotonic-time-4">現在の単調時刻</a>の差をミリ秒単位で計算し、最も近い整数に丸めたもの。
                            </dd>
                            <dd>
                                ...
                            </dd>
                        </dl>
                    </li>
                </ol>
            </div>
            <div class="example" id="example-current-wall-time">
                <p>
                    複数日間のアトリビューションレポートの有効期限は以下のように扱えます：
                </p>
                <ol start="2">
                    <li><var>source</var>を新しいアトリビューションソース構造体とし、その項目は：
                        <dl>
                            <dt>
                                ...
                            </dt>
                            <dt>
                                発生時刻（source time）
                            </dt>
                            <dd>
                                <var>context</var>の<a data-link-type="dfn|abstract-op" href="#dfn-eso-current-wall-time"
                                    class="internalDFN" id="ref-for-dfn-eso-current-wall-time-2">現在の壁時計時刻</a>
                            </dd>
                            <dt>
                                有効期限（expiry）
                            </dt>
                            <dd>
                                <a href="https://html.spec.whatwg.org/multipage/#parse-a-duration-string"
                                    id="ref-for-index-term-parse-a-duration-string-1">parse a duration
                                    string</a>で<code><var>value</var>["expiry"]</code>を解釈したもの
                            </dd>
                        </dl>
                    </li>
                </ol>
                <p>
                    数日後：
                </p>
                <ol start="2">
                    <li>もし<var>context</var>の<a data-link-type="dfn|abstract-op" href="#dfn-eso-current-wall-time"
                            class="internalDFN" id="ref-for-dfn-eso-current-wall-time-3">現在の壁時計時刻</a>が
                        <var>source</var>の発生時刻（source time）＋有効期限（expiry）より小さい場合、
                        レポートを送信する。
                    </li>
                </ol>
            </div>
        </section>
    </section>
    <section id="sec-time-origin">
        <div class="header-wrapper">
            <h2 id="x4-time-origin"><bdi class="secno">4. </bdi>
                タイムオリジン
            </h2><a class="self-link" href="#sec-time-origin" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            <dfn data-export="" id="dfn-unix-epoch" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">Unixエポック</dfn>は、
            <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                id="ref-for-dfn-wall-clock-7">壁時計</a>上で1970年1月1日 00:00:00 UTCに対応する
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-21">モーメント</a>です。
        </p>
        <p>
            何らかの方法で通信可能な<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-8">環境設定オブジェクト</a>群ごとに、
            <dfn id="dfn-estimated-monotonic-time-of-the-unix-epoch" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">Unixエポックの推定単調時刻</dfn>があり、
            これは<a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                id="ref-for-dfn-monotonic-clock-6">単調クロック</a>上の
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-22">モーメント</a>であり、以下の手順で初期化されます：
        </p>
        <ol data-algorithm="initialize the estimated monotonic time of the Unix epoch">
            <li><var data-type="unsafe moment on the wall clock">wall time</var>を
                <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                    id="ref-for-dfn-wall-clock-8">壁時計</a>の
                <a data-link-type="dfn|abstract-op" href="#wall-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-wall-clock-unsafe-current-time-4">安全でない現在時刻</a>として取得する。
            </li>
            <li><var data-type="unsafe moment on the monotonic clock">monotonic time</var>を
                <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                    id="ref-for-dfn-monotonic-clock-7">単調クロック</a>の
                <a data-link-type="dfn|abstract-op" href="#monotonic-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-monotonic-clock-unsafe-current-time-2">安全でない現在時刻</a>として取得する。
            </li>
            <li><var data-type="unsafe moment on the monotonic clock">epoch time</var>を
                <code><var data-type="unsafe moment on the monotonic clock">monotonic time</var> - (<var data-type="unsafe moment on the wall clock">wall time</var> - <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN" id="ref-for-dfn-unix-epoch-3">Unixエポック</a>)</code>
                とする。
            </li>
            <li>
                <a data-link-type="dfn|abstract-op" href="#dfn-estimated-monotonic-time-of-the-unix-epoch"
                    class="internalDFN"
                    id="ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-2">Unixエポックの推定単調時刻</a>を
                <var data-type="unsafe moment on the monotonic clock">epoch time</var>に対して
                <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                    id="ref-for-dfn-coarsen-time-5">時刻の粗化</a>アルゴリズムを呼び出した結果で初期化する。
            </li>
        </ol>
        <div class="issue" id="issue-container-number-1">
            <div role="heading" class="issue-title marker" id="h-issue" aria-level="3"><span>課題 1</span></div>
            <div class="">
                上記の「何らかの通信可能なsettings-object群」はより明確に定義する必要があります。これは
                <a href="https://html.spec.whatwg.org/multipage/browsers.html#familiar-with"
                    id="ref-for-index-term-familiar-with-1">familiar with</a>に類似していますが、
                <a data-link-type="idl" data-lt="Worker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                    id="ref-for-index-term-worker-interface-3"><code>Worker</code></a>も含みます。
            </div>
        </div>
        <p>
            パフォーマンス測定では、関連する<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-9">環境設定オブジェクト</a>の初期化の早い段階での
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-23">モーメント</a>からの
            <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-13">持続時間</a>を報告します。
            その<a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-24">モーメント</a>は、その設定オブジェクトの
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-4">タイムオリジン</a>に格納されます。
        </p>
        <p>
            <dfn id="dfn-get-time-origin-timestamp" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">タイムオリジンタイムスタンプを取得する</dfn>には、
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                id="ref-for-index-term-global-object-1">グローバルオブジェクト</a>
            <var data-type="global object">global</var>を与え、次の手順を実行します。この手順は
            <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-14">持続時間</a>を返します。
        </p>
        <ol>
            <li>
                <p>
                    <var data-type="moment on the monotonic clock">timeOrigin</var>を
                    <var data-type="global object">global</var>の
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-index-term-relevant-settings-object-3">関連設定オブジェクト</a>の
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                        id="ref-for-index-term-time-origins-for-environment-settings-object-5">タイムオリジン</a>とする。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-4">
                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="3"><span>補足</span></div>
                    <p class="">
                        <a data-link-type="idl" data-lt="Window" data-type="interface"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                            id="ref-for-index-term-window-interface-1"><code>Window</code></a>文脈では、
                        この値は
                        <a data-link-type="dfn|abstract-op" data-lt="navigate" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                            id="ref-for-index-term-navigate-1">ナビゲーション開始時刻</a>を表します。
                        <a data-link-type="idl" data-lt="Worker" data-type="interface"
                            href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                            id="ref-for-index-term-worker-interface-4"><code>Worker</code></a>や
                        <a data-link-type="idl" data-lt="ServiceWorker" data-type="interface"
                            href="https://www.w3.org/TR/service-workers/#serviceworker"
                            id="ref-for-index-term-serviceworker-interface-1"><code>ServiceWorker</code></a>では、
                        ワーカーが実行された時刻を表します。
                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-service-workers"
                                title="Service Workers">service-workers</a></cite>]
                    </p>
                </div>
            </li>
            <li>
                <a data-link-type="dfn|abstract-op" href="#dfn-duration-from" class="internalDFN"
                    id="ref-for-dfn-duration-from-2">持続時間</a>を
                <a data-link-type="dfn|abstract-op" href="#dfn-estimated-monotonic-time-of-the-unix-epoch"
                    class="internalDFN"
                    id="ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-3">Unixエポックの推定単調時刻</a>から
                <var data-type="moment on the monotonic clock">timeOrigin</var>までとして返す。
            </li>
        </ol>
        <div class="note" role="note" id="issue-container-generatedID-5">
            <div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>補足</span></div>
            <p class="">
                <a data-link-type="dfn|abstract-op" href="#dfn-get-time-origin-timestamp" class="internalDFN"
                    id="ref-for-dfn-get-time-origin-timestamp-1">タイムオリジンタイムスタンプを取得する</a>で返される値は、
                <var data-type="global object">global</var>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-6">タイムオリジン</a>が発生した
                <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                    id="ref-for-dfn-unix-epoch-4">Unixエポック</a>からの時間にほぼ一致します。
                ただしこれは、<a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/#sec-date.now"
                    id="ref-for-index-term-date-now-2"><code>Date.now()</code></a>をタイムオリジンで実行したときの値とは異なる場合があります。
                前者はシステムやユーザーによるクロック調整、クロックのずれなどの影響を受けない
                <a href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monotonic-clock-8">単調クロック</a>に基づいて記録されるためです。
            </p>
        </div>
        <div data-algorithm="coarsen time">
            <dfn data-export="" id="dfn-coarsen-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">時刻の粗化</dfn>アルゴリズムは、
            ある<a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                id="ref-for-dfn-clock-8">クロック</a>上の
            <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-moment" class="internalDFN"
                id="ref-for-dfn-unsafe-moment-5">安全でないモーメント</a>
            <var data-type="unsafe moment">timestamp</var>と、オプションの真偽値<var
                data-type="boolean">crossOriginIsolatedCapability</var>（デフォルトfalse）を与え、以下の手順を実行します：
            <ol>
                <li><var data-type="duration">時間分解能</var>を100マイクロ秒、またはより高い
                    <a data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-index-term-implementation-defined-1">実装定義</a>値とする。
                </li>
                <li>
                    <var data-type="boolean">crossOriginIsolatedCapability</var>がtrueなら、
                    <var data-type="duration">時間分解能</var>を5マイクロ秒、またはより高い
                    <a data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-index-term-implementation-defined-2">実装定義</a>値とする。
                </li>
                <li>
                    <a data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-index-term-implementation-defined-3">実装定義</a>の方法で、
                    <var data-type="unsafe moment">timestamp</var>を粗化し、分解能が<var
                        data-type="duration">時間分解能</var>を超えないようにジッター処理も行う。
                </li>
                <li>
                    <var data-type="unsafe moment">timestamp</var>を
                    <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-25">モーメント</a>として返す。
                </li>
            </ol>
        </div>
        <div data-algorithm="relative high resolution time">
            <dfn data-export="" id="dfn-relative-high-resolution-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">相対高分解能時刻</dfn>は、
            <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                id="ref-for-dfn-monotonic-clock-9">単調クロック</a>からの
            <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-moment" class="internalDFN"
                id="ref-for-dfn-unsafe-moment-6">安全でないモーメント</a>
            <var data-type="unsafe moment on
        the monotonic clock">time</var>と
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-index-term-global-object-for-realm-1">グローバルオブジェクト</a>
            <var data-type="global
        object">global</var>を与え、以下の手順で返される<a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-15">持続時間</a>です：
            <ol>
                <li>
                    <var data-type="moment on the monotonic clock">coarse time</var>を
                    <var data-type="unsafe moment on
        the monotonic clock">time</var>と
                    <var data-type="global
        object">global</var>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-index-term-relevant-settings-object-4">関連設定オブジェクト</a>の
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                        id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-4">クロスオリジン分離機能</a>で
                    <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                        id="ref-for-dfn-coarsen-time-6">時刻の粗化</a>アルゴリズムを呼び出した結果とする。
                </li>
                <li>
                    <var>coarse time</var>と
                    <var data-type="global
        object">global</var>に対して
                    <a data-link-type="dfn|abstract-op" href="#dfn-relative-high-resolution-coarse-time"
                        class="internalDFN" id="ref-for-dfn-relative-high-resolution-coarse-time-1">相対高分解能粗化時刻</a>を返す。
                </li>
            </ol>
            <dfn data-export="" id="dfn-relative-high-resolution-coarse-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">相対高分解能粗化時刻</dfn>は、
            <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                id="ref-for-dfn-monotonic-clock-10">単調クロック</a>からの
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-26">モーメント</a>
            <var data-type="moment on
        the monotonic clock">coarseTime</var>と
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-index-term-global-object-for-realm-2">グローバルオブジェクト</a>
            <var data-type="global
        object">global</var>を与え、
            <var data-type="global
        object">global</var>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                id="ref-for-index-term-relevant-settings-object-5">関連設定オブジェクト</a>の
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-7">タイムオリジン</a>から
            <var data-type="moment on
        the monotonic clock">coarseTime</var>までの
            <a data-link-type="dfn|abstract-op" href="#dfn-duration-from" class="internalDFN"
                id="ref-for-dfn-duration-from-3">持続時間</a>を返します。
        </div>
        <p>
            <dfn data-export="" id="dfn-current-high-resolution-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">現在の高分解能時刻</dfn>は、
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                id="ref-for-index-term-global-object-2">グローバルオブジェクト</a>
            <var data-type="global object">current global</var>を与え、
            <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-shared-current-time" class="internalDFN"
                id="ref-for-dfn-unsafe-shared-current-time-1">安全でない共有現在時刻</a>と
            <var data-type="global object">current global</var>で
            <a data-link-type="dfn|abstract-op" href="#dfn-relative-high-resolution-time" class="internalDFN"
                id="ref-for-dfn-relative-high-resolution-time-1">相対高分解能時刻</a>アルゴリズムの結果を返します。
        </p>
        <p>
            <dfn data-export="" id="dfn-coarsened-shared-current-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">粗化された共有現在時刻</dfn>は、
            オプションの真偽値<var data-type="boolean">crossOriginIsolatedCapability</var>（デフォルトfalse）を与え、
            <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                id="ref-for-dfn-coarsen-time-7">時刻の粗化</a>アルゴリズムを
            <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-shared-current-time" class="internalDFN"
                id="ref-for-dfn-unsafe-shared-current-time-2">安全でない共有現在時刻</a>と
            <var data-type="boolean">crossOriginIsolatedCapability</var>で呼び出し、その結果を返します。
        </p>
        <p>
            <dfn data-export="" id="dfn-unsafe-shared-current-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">安全でない共有現在時刻</dfn>は、
            <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                id="ref-for-dfn-monotonic-clock-11">単調クロック</a>の
            <a data-link-type="dfn|abstract-op" href="#monotonic-clock-unsafe-current-time" class="internalDFN"
                id="ref-for-monotonic-clock-unsafe-current-time-3">安全でない現在時刻</a>を返します。
        </p>
    </section>
    <section id="sec-domhighrestimestamp">
        <div class="header-wrapper">
            <h2 id="x5-the-domhighrestimestamp-typedef"><bdi class="secno">5. </bdi>
                <dfn data-export="" data-dfn-type="typedef" id="dom-domhighrestimestamp" data-idl="typedef"
                    data-title="DOMHighResTimeStamp" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>DOMHighResTimeStamp</code></dfn>型定義
            </h2><a class="self-link" href="#sec-domhighrestimestamp" aria-label="Permalink for Section 5."></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp" class="internalDFN"
                id="ref-for-dom-domhighrestimestamp-5"><code>DOMHighResTimeStamp</code></a>型は、
            ミリ秒単位の<a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-16">持続時間</a>を格納するために使用されます。文脈によっては、この型は
            <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-17">持続時間</a>後の<a data-link-type="dfn|abstract-op" href="#dfn-moment"
                class="internalDFN" id="ref-for-dfn-moment-27">モーメント</a>を表す場合があります。
            例えば<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-8">タイムオリジン</a>や
            <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                id="ref-for-dfn-unix-epoch-5">Unixエポック</a>などの基準となる<a data-link-type="dfn|abstract-op" href="#dfn-moment"
                class="internalDFN" id="ref-for-dfn-moment-28">モーメント</a>からの持続時間です。
        </p>
        <pre class="idl def"
            id="webidl-2125136869"><span class="idlHeader"><a class="self-link" href="#webidl-2125136869">WebIDL</a></span><code><span data-idl="" class="idlTypedef" id="idl-def-domhighrestimestamp" data-title="DOMHighResTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-1">double</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp-6"><code>DOMHighResTimeStamp</code></a>;</span></code></pre>
        <p>
            <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp" class="internalDFN"
                id="ref-for-dom-domhighrestimestamp-7"><code>DOMHighResTimeStamp</code></a>は、
            計測が可能な精度でミリ秒単位の時刻を表すべき<em class="rfc2119">SHOULD</em>であり、タイミング攻撃を防ぐ必要があります。
            詳細は<a href="#clock-resolution" class="sec-ref"><bdi class="secno">9.1 </bdi>クロックの分解能</a>を参照してください。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-6">
            <div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>補足</span></div>
            <p class="">
                <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                    class="internalDFN" id="ref-for-dom-domhighrestimestamp-8"><code>DOMHighResTimeStamp</code></a>は
                <a data-link-type="idl" data-lt="double" data-type="interface"
                    href="https://webidl.spec.whatwg.org/#idl-double"
                    id="ref-for-index-term-double-type-2"><code>double</code></a>型であり、
                エポック基準の時刻（<a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                    id="ref-for-dfn-unix-epoch-6">Unixエポック</a>から
                <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-29">モーメント</a>までのミリ秒数）を有限の分解能で表すことができます。
                2023年の<a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-30">モーメント</a>では、その分解能は約0.2マイクロ秒です。
            </p>
        </div>
    </section>
    <section id="the-epochtimestamp-typedef">
        <div class="header-wrapper">
            <h2 id="x6-the-epochtimestamp-typedef"><bdi class="secno">6. </bdi>
                <dfn data-export="" data-dfn-type="typedef" id="dom-epochtimestamp" data-idl="typedef"
                    data-title="EpochTimeStamp" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>EpochTimeStamp</code></dfn>型定義
            </h2><a class="self-link" href="#the-epochtimestamp-typedef" aria-label="Permalink for Section 6."></a>
        </div>

        <pre class="idl def"
            id="webidl-928658152"><span class="idlHeader"><a class="self-link" href="#webidl-928658152">WebIDL</a></span><code><span data-idl="" class="idlTypedef" id="idl-def-epochtimestamp" data-title="EpochTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-index-term-unsigned-long-long-type-1">unsigned long long</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-epochtimestamp" id="ref-for-dom-epochtimestamp-1"><code>EpochTimeStamp</code></a>;</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID-7">
            <div role="heading" class="note-title marker" id="h-note-7" aria-level="3"><span>補足</span><span
                    class="issue-label">: レガシープラットフォーム機能</span></div>
            <aside class="">
                <p>
                    <code>EpochTimeStamp</code>（以前は<code>DOMTimeStamp</code>）の使用は非推奨です。可能な限り
                    <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                        class="internalDFN"
                        id="ref-for-dom-domhighrestimestamp-9"><code>DOMHighResTimeStamp</code></a>を代わりに使用してください。
                </p>
            </aside>
        </div>
        <p>
            <a data-link-type="idl" data-lt="EpochTimeStamp" href="#dom-epochtimestamp" class="internalDFN"
                id="ref-for-dom-epochtimestamp-2"><code>EpochTimeStamp</code></a>は、
            <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                id="ref-for-dfn-unix-epoch-7">Unixエポック</a>から
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-31">モーメント</a>までのミリ秒数（整数値）を
            <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                id="ref-for-dfn-wall-clock-9">壁時計</a>上で表します（うるう秒は除外）。
            これを利用する仕様書は、ミリ秒数の解釈方法を定義する必要があります。
        </p>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for Performance"><span>MDN</span><span
                    title="この機能はすべての主要エンジンで対応しています。">✅</span></summary>
            <a title="Performanceインターフェイスは現在のページのパフォーマンス関連情報へのアクセスを提供します。"
                href="https://developer.mozilla.org/ja/docs/Web/API/Performance">Performance</a>
            <p class="engines-all">この機能はすべての主要エンジンで対応しています。</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>6+</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>12+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>7+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>8+</td>
                </tr>
                <tr class="safari_ios yes">
                    <td>Safari iOS</td>
                    <td>9+</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android yes">
                    <td>WebView Android</td>
                    <td>37+</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="sec-performance" data-dfn-for="Performance">
        <div class="header-wrapper">
            <h2 id="x7-the-performance-interface"><bdi class="secno">7. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-performance" data-idl="interface"
                    data-title="Performance" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>Performance</code></dfn>インターフェイス
            </h2><a class="self-link" href="#sec-performance" aria-label="Permalink for Section 7."></a>
        </div>

        <pre class="idl def" id="webidl-934063708"><span class="idlHeader"><a class="self-link" href="#webidl-934063708">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-performance" data-title="Performance">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-1">Exposed</a>=(Window,Worker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-performance" id="ref-for-dom-performance-5"><code>Performance</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-index-term-eventtarget-interface-1">EventTarget</a></span> {<span data-idl="" class="idlMethod" id="idl-def-performance-now" data-title="now" data-dfn-for="Performance"><span class="idlType">
    <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-10"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-now" id="ref-for-dom-performance-now-2"><code>now</code></a>();</span><span data-idl="" class="idlAttribute" id="idl-def-performance-timeorigin" data-title="timeOrigin" data-dfn-for="Performance">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-11"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-performance-timeorigin" id="ref-for-dom-performance-timeorigin-3"><code>timeOrigin</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-performance-tojson" data-title="toJSON" data-dfn-for="Performance">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-1">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-1">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-tojson" id="ref-for-dom-performance-tojson-1"><code>toJSON</code></a>();</span>
};</span></code></pre>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for now"><span>MDN</span><span
                        title="この機能はすべての主要エンジンで対応しています。">✅</span></summary>
                <a title="performance.now() メソッドはミリ秒単位の高分解能タイムスタンプを返します。window文脈ではPerformance.timeOrigin（ナビゲーション開始時刻）、WorkerやServiceWorker文脈ではワーカー実行時刻からの経過時間です。"
                    href="https://developer.mozilla.org/ja/docs/Web/API/Performance/now">Performance/now</a>
                <p class="engines-all">この機能はすべての主要エンジンで対応しています。</p>
                <table>
                    <tr class="chrome unknown">
                        <td>Chrome</td>
                        <td>?</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>15+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>8+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>9+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android unknown">
                        <td>WebView Android</td>
                        <td>?</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="now-method">
            <div class="header-wrapper">
                <h3 id="x7-1-now-method"><bdi class="secno">7.1 </bdi>
                    <code>now()</code>メソッド
                </h3><a class="self-link" href="#now-method" aria-label="Permalink for Section 7.1"></a>
            </div>

            <p data-tests="basic.any.html, basic.any.worker.html">
                <dfn data-export="" data-dfn-type="method" id="dom-performance-now" data-idl="operation"
                    data-title="now()" data-dfn-for="Performance" data-type="DOMHighResTimeStamp" data-lt="now()"
                    data-local-lt="Performance.now|Performance.now()|now" tabindex="0"
                    aria-haspopup="dialog"><code>now()</code></dfn>メソッドは<em class="rfc2119">MUST</em>
                <a href="#dfn-current-high-resolution-time" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-current-high-resolution-time-1">現在の高分解能時刻</a>により
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-index-term-this-2">this</a>の<a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                    id="ref-for-index-term-relevant-global-object-1">関連グローバルオブジェクト</a>（<a
                    data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-18">持続時間</a>）を与え、ミリ秒数を返さなければならない。
            </p>
            <p data-tests="monotonic-clock.any.html, monotonic-clock.any.worker.html">
                <a data-link-type="idl" data-lt="now()" href="#dom-performance-now" class="internalDFN"
                    id="ref-for-dom-performance-now-3"><code>now</code></a><code>()</code>
                メソッドを<a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                    id="ref-for-dom-performance-6"><code>Performance</code></a>オブジェクトに対し、
                同じ<a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-9">タイムオリジン</a>で呼び出した場合は、
                同じ<a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                    id="ref-for-dfn-monotonic-clock-12">単調クロック</a>を利用しなければならない<em class="rfc2119">MUST</em>。
                <a data-link-type="idl" data-lt="now()" href="#dom-performance-now" class="internalDFN"
                    id="ref-for-dom-performance-now-4"><code>now</code></a><code>()</code>メソッドから
                取得した時刻値のうち、時系列的に記録された2つの値の差分は、同じ
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-10">タイムオリジン</a>であれば
                決して負になってはならない<em class="rfc2119">MUST</em>。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for timeOrigin"><span>MDN</span><span
                        title="この機能はすべての主要エンジンで対応しています。">✅</span></summary>
                <a title="PerformanceインターフェイスのtimeOrigin読み取り専用プロパティは、パフォーマンス関連タイムスタンプの基準となる高分解能タイムスタンプを返します。"
                    href="https://developer.mozilla.org/ja/docs/Web/API/Performance/timeOrigin">Performance/timeOrigin</a>
                <p class="engines-all">この機能はすべての主要エンジンで対応しています。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>62+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>53+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>15+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android unknown">
                        <td>WebView Android</td>
                        <td>?</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="timeorigin-attribute">
            <div class="header-wrapper">
                <h3 id="x7-2-timeorigin-attribute"><bdi class="secno">7.2 </bdi>
                    <code>timeOrigin</code>属性
                </h3><a class="self-link" href="#timeorigin-attribute" aria-label="Permalink for Section 7.2"></a>
            </div>

            <p data-tests="timeOrigin.html, window-worker-timeOrigin.window.html">
                <dfn data-export="" data-dfn-type="attribute" id="dom-performance-timeorigin" data-idl="attribute"
                    data-title="timeOrigin" data-dfn-for="Performance" data-type="DOMHighResTimeStamp"
                    data-lt="timeOrigin" data-local-lt="Performance.timeOrigin" tabindex="0"
                    aria-haspopup="dialog"><code>timeOrigin</code></dfn>属性は<em class="rfc2119">MUST</em>
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-19">持続時間</a>として
                <a data-link-type="dfn|abstract-op" href="#dfn-get-time-origin-timestamp" class="internalDFN"
                    id="ref-for-dfn-get-time-origin-timestamp-2">タイムオリジンタイムスタンプを取得する</a>で
                <a data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                    id="ref-for-index-term-relevant-global-object-2">関連グローバルオブジェクト</a>に対して返されるミリ秒数を返さなければならない。
            </p>
            <p data-tests="test_cross_frame_start.html">
                <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                    id="ref-for-dom-performance-7"><code>Performance</code></a>.<a data-link-type="idl"
                    href="#dom-performance-timeorigin" class="internalDFN"
                    id="ref-for-dom-performance-timeorigin-4"><code>timeOrigin</code></a>で返される時刻値は
                <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                    id="ref-for-dfn-monotonic-clock-13">単調クロック</a>（<a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-11">タイムオリジン</a>で共有される）を利用しなければならない<em
                    class="rfc2119">MUST</em>。
                参照点は[<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                        title="ECMAScript Language Specification">ECMA-262</a></cite>]
                <a href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                    id="ref-for-index-term-time-2">time</a>
                定義―詳細は<a href="#sec-security" data-matched-text="[[[#sec-security]]]" class="sec-ref"><bdi
                        class="secno">9. </bdi>
                    セキュリティに関する考慮事項</a>を参照。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for toJSON"><span>MDN</span><span
                        title="この機能はすべての主要エンジンで対応しています。">✅</span></summary>
                <a title="PerformanceインターフェイスのtoJSON()メソッドはシリアライザーであり、PerformanceオブジェクトのJSON表現を返します。"
                    href="https://developer.mozilla.org/ja/docs/Web/API/Performance/toJSON">Performance/toJSON</a>
                <p class="engines-all">この機能はすべての主要エンジンで対応しています。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>56+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>25+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera no">
                        <td>Opera</td>
                        <td>No</td>
                    </tr>
                    <tr class="opera_android no">
                        <td>Opera Android</td>
                        <td>No</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>14.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android unknown">
                        <td>WebView Android</td>
                        <td>?</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="tojson-method">
            <div class="header-wrapper">
                <h3 id="x7-3-tojson-method"><bdi class="secno">7.3 </bdi>
                    <code>toJSON()</code>メソッド
                </h3><a class="self-link" href="#tojson-method" aria-label="Permalink for Section 7.3"></a>
            </div>

            <p data-tests="performance-tojson.html">
                <dfn data-export="" data-dfn-type="method" id="dom-performance-tojson" data-idl="operation"
                    data-title="toJSON()" data-dfn-for="Performance" data-type="object" data-lt="toJSON()"
                    data-local-lt="Performance.toJSON|Performance.toJSON()|toJSON" tabindex="0"
                    aria-haspopup="dialog"><code>toJSON()</code></dfn>が呼ばれた場合は、
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl"
                        title="Web IDL Standard">WEBIDL</a></cite>]の
                <a data-type="dfn" href="https://webidl.spec.whatwg.org/#default-tojson-steps"
                    id="ref-for-index-term-default-tojson-steps-1">default toJSON steps</a>を実行する。
            </p>
        </section>
    </section>
    <section id="extensions-to-windoworworkerglobalscope-mixin">
        <div class="header-wrapper">
            <h2 id="x8-extensions-to-windoworworkerglobalscope-mixin"><bdi class="secno">8. </bdi>
                <code>WindowOrWorkerGlobalScope</code>ミックスインへの拡張
            </h2><a class="self-link" href="#extensions-to-windoworworkerglobalscope-mixin"
                aria-label="Permalink for Section 8."></a>
        </div>

        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for performance"><span>MDN</span><span
                        title="この機能はすべての主要エンジンで対応しています。">✅</span></summary>
                <a title="グローバルperformanceプロパティはPerformanceオブジェクトを返し、呼び出し元（windowまたはworker）のコンテキストのパフォーマンス情報を取得できます。"
                    href="https://developer.mozilla.org/ja/docs/Web/API/performance_property">performance_property</a>
                <p class="engines-all">この機能はすべての主要エンジンで対応しています。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>6+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>7+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>8+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>9+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="WindowOrWorkerGlobalScope" id="the-performance-attribute">
            <div class="header-wrapper">
                <h3 id="x8-1-the-performance-attribute"><bdi class="secno">8.1 </bdi>
                    <code>performance</code>属性
                </h3><a class="self-link" href="#the-performance-attribute" aria-label="Permalink for Section 8.1"></a>
            </div>

            <p>
                インターフェースミックスイン<a data-link-type="idl" data-lt="WindowOrWorkerGlobalScope" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"
                    id="ref-for-index-term-windoworworkerglobalscope-interface-1"><code>WindowOrWorkerGlobalScope</code></a>上の
                <dfn data-export="" data-dfn-type="attribute" id="dom-windoworworkerglobalscope-performance"
                    data-idl="attribute" data-title="performance" data-dfn-for="WindowOrWorkerGlobalScope"
                    data-type="Performance" data-lt="performance" data-local-lt="WindowOrWorkerGlobalScope.performance"
                    tabindex="0" aria-haspopup="dialog"><code>performance</code></dfn>属性は、
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                    id="ref-for-index-term-global-object-for-realm-3">グローバルオブジェクト</a>から
                パフォーマンス関連の属性やメソッドへのアクセスを可能にします。
            </p>
            <pre class="idl def" id="webidl-2037739231"><span class="idlHeader"><a class="self-link" href="#webidl-2037739231">WebIDL</a></span><code><span data-idl="" class="idlInterface mixin" id="idl-def-windoworworkerglobalscope-partial-1" data-title="WindowOrWorkerGlobalScope">partial interface mixin <a data-idl="partial" data-link-type="interface" data-title="WindowOrWorkerGlobalScope" class="idlID" data-dfn-for="WindowOrWorkerGlobalScope" data-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-index-term-windoworworkerglobalscope-interface-2">WindowOrWorkerGlobalScope</a> {<span data-idl="" class="idlAttribute" id="idl-def-windoworworkerglobalscope-performance" data-title="performance" data-dfn-for="WindowOrWorkerGlobalScope">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Replaceable" id="ref-for-index-term-replaceable-extended-attribute-1">Replaceable</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-performance" class="internalDFN" id="ref-for-dom-performance-8"><code>Performance</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-windoworworkerglobalscope-performance" id="ref-for-dom-windoworworkerglobalscope-performance-1"><code>performance</code></a>;</span>
};</span></code></pre>
        </section>
    </section>
    <section id="sec-security">
        <div class="header-wrapper">
            <h2 id="x9-security-considerations"><bdi class="secno">9. </bdi>
                セキュリティに関する考慮事項
            </h2><a class="self-link" href="#sec-security" aria-label="Permalink for Section 9."></a>
        </div>

        <section id="clock-resolution">
            <div class="header-wrapper">
                <h3 id="x9-1-clock-resolution"><bdi class="secno">9.1 </bdi>
                    クロックの分解能
                </h3><a class="self-link" href="#clock-resolution" aria-label="Permalink for Section 9.1"></a>
            </div>

            <p>
                測定やスケジューリング目的で正確なタイミング情報にアクセスすることは、多くのアプリケーションにとって一般的な要求事項です。
                例えば、アニメーションや音声などページ上のアクティビティを調整するには、高分解能時刻へのアクセスが良好なユーザー体験を提供するために必要です。
                また、測定により重要なコードコンポーネントのパフォーマンスを追跡したり、リグレッションを検出したりできます。
            </p>
            <p>
                しかし、同じ正確なタイミング情報へのアクセスは、攻撃者によって見えないデータやアクセスできないデータを推測・推論するための悪意ある用途にも使われる可能性があります。
                例えばキャッシュ攻撃、統計的フィンガープリンティングやマイクロアーキテクチャ攻撃は、プライバシー・セキュリティ上の懸念点であり、
                悪意あるウェブサイトが様々なブラウザやアプリケーションの高分解能タイミングデータを利用してユーザーの区別、特定、または関連しない同一プロセスのユーザーデータを露呈する場合があります。
                詳細は [<cite><a class="bibref" data-link-type="biblio" href="#bib-cache-attacks"
                        title="The Spy in the Sandbox - Practical Cache Attacks in Javascript">CACHE-ATTACKS</a></cite>]、
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-spectre"
                        title="Spectre Attacks: Exploiting Speculative Execution">SPECTRE</a></cite>] も参照してください。
            </p>
            <p data-tests="timing-attack.html">
                本仕様は、従来の<a data-link-type="idl" data-lt="EpochTimeStamp" href="#dom-epochtimestamp" class="internalDFN"
                    id="ref-for-dom-epochtimestamp-3"><code>EpochTimeStamp</code></a>で公開されていたミリ秒分解能よりも高精度な
                サブミリ秒分解能を提供するAPIを定義しています。
                ただし、この新しいAPIがなくても攻撃者は繰り返し実行や統計分析によって高分解能の推定値を取得できる可能性があります。
            </p>
            <p>
                この新APIがそのような攻撃の精度や速度を大幅に向上させないようにするため、
                <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                    class="internalDFN" id="ref-for-dom-domhighrestimestamp-12"><code>DOMHighResTimeStamp</code></a>型の
                最小分解能は攻撃を防ぐのに十分不正確であるべきです。
            </p>
            <p>
                必要に応じて、ユーザーエージェントは<a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                    id="ref-for-dfn-coarsen-time-8">時刻の粗化</a>の処理モデルにおいて
                <var>時間分解能</var>をより高い値に設定し、アーキテクチャやソフトウェアの制約、その他の事情による
                プライバシー・セキュリティの懸念に対処するべきです。
            </p>
            <p>
                このような攻撃を軽減するために、ユーザーエージェントは必要と思われる技術を自由に導入できます。
                その導入はブラウザーのアーキテクチャやユーザーのデバイス、コンテンツ、クロスオリジンデータの悪用可能性、その他現実的な事情により異なる場合があります。
            </p>
            <p>
                こうした技術には以下が含まれます：
            </p>
            <ul>
                <li>分解能の低減</li>
                <li>ジッターの追加</li>
                <li>悪用検出やAPI呼び出しの制限</li>
            </ul>
            <p>
                タイミングのサイドチャネル攻撃を完全に防ぐのは実質的に不可能です。
                全ての操作が機密情報の値に依存しない時間で実行されるか、アプリケーションがタイム関連のプリミティブ（クロック、タイマー、カウンター等）から完全隔離される必要があります。
                いずれもブラウザーやアプリ開発者の負担や、アプリのパフォーマンス・応答性への悪影響を考えると現実的ではありません。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-8">
                <div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>補足</span></div>
                <div class="">
                    クロック分解能は未解決かつ発展途上の研究分野であり、全ブラウザーに適用できる業界合意や明確な勧告はありません。
                    議論を追うには<a href="https://github.com/w3c/hr-time/issues/79">Issue 79</a>を参照してください。
                </div>
            </div>
        </section>
        <section id="clock-drift">
            <div class="header-wrapper">
                <h3 id="x9-2-clock-drift"><bdi class="secno">9.2 </bdi>
                    クロックドリフト
                </h3><a class="self-link" href="#clock-drift" aria-label="Permalink for Section 9.2"></a>
            </div>

            <p>
                本仕様は、タイムオリジンのゼロ時刻のサブミリ秒分解能も提供するAPIを定義しており、
                これはアプリケーションに<a href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monotonic-clock-14">単調クロック</a>を公開し、すべてのブラウザーコンテキスト間で共有されていなければなりません。
                <a href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monotonic-clock-15">単調クロック</a>は物理時間に結びつける必要はありませんが、
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                        title="ECMAScript Language Specification">ECMA-262</a></cite>]の
                <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                    id="ref-for-index-term-time-3">time</a>定義を基準に設定することが推奨されます。
                これはユーザーに新しいフィンガープリントエントロピーを露呈しないためであり、
                例えばこの時刻はアプリケーション側で容易に取得できますが、新たな論理クロックを公開すると新情報となるためです。
            </p>
            <p>
                ただし上記の仕組みがあっても<a href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monotonic-clock-16">単調クロック</a>は
                追加的な<a href="https://ja.wikipedia.org/wiki/クロックドリフト">クロックドリフト</a>分解能を提供し得ます。
                今日では、アプリケーションは時刻（日時）と単調時刻（<a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/#sec-date.now"
                    id="ref-for-index-term-date-now-3"><code>Date.now()</code></a>、
                <a data-link-type="idl" data-lt="now()" href="#dom-performance-now" class="internalDFN"
                    id="ref-for-dom-performance-now-5"><code>now</code></a><code>()</code>)を
                同一コンテキスト内で複数回記録し、それらの間のドリフト（自動やユーザーによる時計調整による）を観測できます。
                <a data-link-type="idl" href="#dom-performance-timeorigin" class="internalDFN"
                    id="ref-for-dom-performance-timeorigin-5"><code>timeOrigin</code></a>属性により、
                攻撃者は<a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-12">タイムオリジン</a>
                （<a href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monotonic-clock-17">単調クロック</a>による報告値）と
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-13">タイムオリジン</a>の現在の日時推定値
                （例：<code>performance.timeOrigin</code> と <code>Date.now() - performance.now()</code> の差分）を比較し、
                長期間にわたり両クロックのドリフトを観測することが可能となります。
            </p>
            <p>
                実際には、同様の時刻ドリフトはアプリケーションが複数回ナビゲーションすることで観測できます。
                各コンテキストで論理時刻を記録し、クライアントやサーバーの時刻同期機構を使ってユーザーの時計の変化を推測できます。
                同様に、TCPタイムスタンプなど下位レイヤーの仕組みでも、複数回の訪問不要でサーバー側に高分解能情報が露呈する場合があります。
                したがって、このAPIで提供される情報はユーザーについて新たな、または従来は利用できなかったエントロピーを
                露呈しないようにすべきです。
            </p>
        </section>
    </section>
    <section id="sec-privacy">
        <div class="header-wrapper">
            <h2 id="x10-privacy-considerations"><bdi class="secno">10. </bdi>
                プライバシーに関する考慮事項
            </h2><a class="self-link" href="#sec-privacy" aria-label="Permalink for Section 10."></a>
        </div>

        <p>
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-14">タイムオリジン</a>の現行定義では、
            <a data-link-type="idl" data-lt="Document" data-type="interface"
                href="https://dom.spec.whatwg.org/#document"
                id="ref-for-index-term-document-interface-1"><code>Document</code></a>に対して、
            ドキュメントのオリジンへリクエストが到達する前の
            クロスオリジンリダイレクトの合計時間を公開しています。これはクロスオリジン情報の漏洩につながりますが、
            パフォーマンス指標の大きな破壊を起こさずにどう緩和するかは未決定です。
        </p>
        <p>
            この議論を追うには、<a href="https://github.com/w3c/navigation-timing/issues/160">Navigation Timing Issue
                160</a>を参照してください。
        </p>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x11-conformance"><bdi class="secno">11. </bdi>適合性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 11."></a>
        </div>
        <p>非規範的と明記されたセクションのほか、本仕様書中のすべての執筆ガイドライン、図、例、補足も非規範的です。
            それ以外はすべて規範的です。</p>
        <p>
            本書における<em class="rfc2119">MUST</em>および<em class="rfc2119">SHOULD</em>というキーワードは、
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            で示されている通り、全て大文字で表記されている場合のみ、ここで定める意味で解釈されます。
        </p>
        <p>
            一部の適合性要件は属性、メソッド、オブジェクトへの要件として記述されていますが、
            それらはユーザーエージェントへの要件として解釈されます。
        </p>
    </section>
    <section id="index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-index"><bdi class="secno">A. </bdi>索引</h2><a class="self-link" href="#index"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <section id="index-defined-here">
            <div class="header-wrapper">
                <h3 id="a-1-terms-defined-by-this-specification"><bdi class="secno">A.1 </bdi>本仕様で定義された用語</h3><a
                    class="self-link" href="#index-defined-here" aria-label="Permalink for Appendix A.1"></a>
            </div>

            <ul class="index">
                <li>
                    <a class="index-term" href="#dfn-clock">クロック</a>
                    <span class="print-only">§2.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-coarsen-time">時刻の粗化</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-moment">粗化されたモーメント</a>
                    <span class="print-only">§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-coarsened-shared-current-time">粗化された共有現在時刻</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-wall-time">現在の粗化された壁時計時刻</a>
                    <span class="print-only">§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-high-resolution-time">現在の高分解能時刻</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-monotonic-time">現在の単調時刻</a>
                    <span class="print-only">§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-relative-timestamp">現在の相対タイムスタンプ</a>
                    <span class="print-only">§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-eso-current-wall-time">現在の壁時計時刻</a>
                    <span class="print-only">§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-domhighrestimestamp"><code>DOMHighResTimeStamp</code></a>
                    <span class="print-only">§5.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-duration">持続時間</a>
                    <span class="print-only">§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-duration-from">持続時間（duration from）</a>
                    <span class="print-only">§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-epochtimestamp"><code>EpochTimeStamp</code></a>
                    <span class="print-only">§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-estimated-monotonic-time-of-the-unix-epoch">Unixエポックの推定単調時刻</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-get-time-origin-timestamp">タイムオリジンタイムスタンプを取得する</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dfn-implicitly-convert-a-duration-to-a-timestamp">持続時間をタイムスタンプに暗黙的に変換する</a>
                    <span class="print-only">§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-monotonic-clock">単調クロック</a>
                    <span class="print-only">§2.1</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-performance-now"><code>now()</code></a>メソッド(<code>Performance</code>用)
                    <span class="print-only">§7.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-windoworworkerglobalscope-performance"><code>performance</code></a>
                    属性(<code>WindowOrWorkerGlobalScope</code>用)
                    <span class="print-only">§8.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-performance"><code>Performance</code></a>インターフェイス
                    <span class="print-only">§7.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-relative-high-resolution-coarse-time">相対高分解能粗化時刻</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-relative-high-resolution-time">相対高分解能時刻</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-performance-timeorigin"><code>timeOrigin</code></a>属性(<code>Performance</code>用)
                    <span class="print-only">§7.2</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-performance-tojson"><code>toJSON()</code></a>メソッド(<code>Performance</code>用)
                    <span class="print-only">§7.3</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-unix-epoch">Unixエポック</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    unsafe current time
                    <ul>
                        <li>
                            <a class="index-term" href="#dfn-unsafe-current-time">定義</a>
                            <span class="print-only">§2.1</span>
                        </li>
                        <li>
                            <a class="index-term" href="#wall-clock-unsafe-current-time">定義</a>
                            <span class="print-only">§2.1</span>
                        </li>
                        <li>
                            <a class="index-term" href="#monotonic-clock-unsafe-current-time">定義</a>
                            <span class="print-only">§2.1</span>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="index-term" href="#dfn-unsafe-moment">安全でないモーメント</a>
                    <span class="print-only">§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-unsafe-shared-current-time">安全でない共有現在時刻</a>
                    <span class="print-only">§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-wall-clock">壁時計</a>
                    <span class="print-only">§2.1</span>
                </li>
            </ul>
        </section>
        <section id="index-defined-elsewhere">
            <div class="header-wrapper">
                <h3 id="a-2-terms-defined-by-reference"><bdi class="secno">A.2 </bdi>他の仕様で定義された用語</h3><a
                    class="self-link" href="#index-defined-elsewhere" aria-label="Permalink for Appendix A.2"></a>
            </div>

            <ul class="index">
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom">DOM</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#document"
                                id="index-term-document-interface" tabindex="0"
                                aria-haspopup="dialog"><code>Document</code>インターフェイス</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#eventtarget"
                                id="index-term-eventtarget-interface" tabindex="0"
                                aria-haspopup="dialog"><code>EventTarget</code>インターフェイス</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#dom-event-timestamp"
                                id="index-term-timestamp-attribute-for-event" tabindex="0"
                                aria-haspopup="dialog"><code>timeStamp</code>属性（<code>Event</code>用）</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262">ECMA-262</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://tc39.es/ecma262/multipage/#sec-date-objects"
                                id="index-term-date" tabindex="0" aria-haspopup="dialog">Date</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://tc39.es/ecma262/multipage/#sec-date.now"
                                id="index-term-date-now" tabindex="0" aria-haspopup="dialog">Date.now()</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                                id="index-term-time" tabindex="0" aria-haspopup="dialog">time</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html">HTML</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcastchannel"
                                id="index-term-broadcastchannel-interface" tabindex="0"
                                aria-haspopup="dialog"><code>BroadcastChannel</code>インターフェイス</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                                id="index-term-cross-origin-isolated-capability-for-environment-settings-object"
                                tabindex="0" aria-haspopup="dialog">クロスオリジン分離機能（環境設定オブジェクト用）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                                id="index-term-environment-settings-object" tabindex="0"
                                aria-haspopup="dialog">環境設定オブジェクト</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/browsers.html#familiar-with"
                                id="index-term-familiar-with" tabindex="0" aria-haspopup="dialog">familiar with</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                                id="index-term-global-object" tabindex="0" aria-haspopup="dialog">グローバルオブジェクト</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                id="index-term-global-object-for-realm" tabindex="0"
                                aria-haspopup="dialog">グローバルオブジェクト（<code>realm</code>用）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                                id="index-term-navigate" tabindex="0" aria-haspopup="dialog">navigate</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/#parse-a-duration-string"
                                id="index-term-parse-a-duration-string" tabindex="0"
                                aria-haspopup="dialog">duration文字列の解析</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage-options"
                                id="index-term-postmessage-message-options-for-window" tabindex="0"
                                aria-haspopup="dialog"><code>postMessage(message, options)</code>（<code>Window</code>用）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                id="index-term-relevant-global-object" tabindex="0"
                                aria-haspopup="dialog">関連グローバルオブジェクト</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                                id="index-term-relevant-settings-object" tabindex="0"
                                aria-haspopup="dialog">関連設定オブジェクト</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"
                                id="index-term-run-a-worker" tabindex="0" aria-haspopup="dialog">ワーカーの実行</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/workers.html#sharedworker"
                                id="index-term-sharedworker-interface" tabindex="0"
                                aria-haspopup="dialog"><code>SharedWorker</code>インターフェイス</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                                id="index-term-time-origins-for-environment-settings-object" tabindex="0"
                                aria-haspopup="dialog">タイムオリジン（環境設定オブジェクト用）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                                id="index-term-window-interface" tabindex="0"
                                aria-haspopup="dialog"><code>Window</code>インターフェイス</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"
                                id="index-term-windoworworkerglobalscope-interface" tabindex="0"
                                aria-haspopup="dialog"><code>WindowOrWorkerGlobalScope</code>インターフェイス</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                                id="index-term-worker-interface" tabindex="0"
                                aria-haspopup="dialog"><code>Worker</code>インターフェイス</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra">INFRA</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#implementation-defined"
                                id="index-term-implementation-defined" tabindex="0" aria-haspopup="dialog">実装定義</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#tracking-vector"
                                id="index-term-tracking-vector" tabindex="0" aria-haspopup="dialog">トラッキングベクトル</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#user-agent"
                                id="index-term-user-agent" tabindex="0" aria-haspopup="dialog">ユーザーエージェント</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-reporting">REPORTING</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                                id="index-term-generation-time" tabindex="0" aria-haspopup="dialog">生成時刻</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio"
                            href="#bib-service-workers">SERVICE-WORKERS</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/service-workers/#serviceworker"
                                id="index-term-serviceworker-interface" tabindex="0"
                                aria-haspopup="dialog"><code>ServiceWorker</code>インターフェイス</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-temporal">TEMPORAL</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://tc39.es/proposal-temporal/#sec-temporal-instant-constructor"
                                id="index-term-temporal-instant" tabindex="0"
                                aria-haspopup="dialog">Temporal.Instant</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl">WEBIDL</a></cite>]で定義:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Default"
                                id="index-term-default-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Default]</code>拡張属性</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#default-tojson-steps"
                                id="index-term-default-tojson-steps" tabindex="0" aria-haspopup="dialog">default
                                toJSONステップ</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-double"
                                id="index-term-double-type" tabindex="0" aria-haspopup="dialog"><code>double</code>型
                            </span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Exposed"
                                id="index-term-exposed-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Exposed]</code>拡張属性</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-object"
                                id="index-term-object-type" tabindex="0" aria-haspopup="dialog"><code>object</code>型
                            </span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Replaceable"
                                id="index-term-replaceable-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Replaceable]</code>拡張属性</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#this"
                                id="index-term-this" tabindex="0" aria-haspopup="dialog">this</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"
                                id="index-term-unsigned-long-long-type" tabindex="0"
                                aria-haspopup="dialog"><code>unsigned long long</code>型</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </section>
    </section>
    <section id="idl-index">
        <div class="header-wrapper">
            <h2 id="b-idl-index"><bdi class="secno">B. </bdi>IDL索引</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Section B."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlTypedef" data-title="DOMHighResTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-3">double</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp-13"><code>DOMHighResTimeStamp</code></a>;</span>

<span data-idl="" class="idlTypedef" data-title="EpochTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-index-term-unsigned-long-long-type-2">unsigned long long</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-epochtimestamp" id="ref-for-dom-epochtimestamp-4"><code>EpochTimeStamp</code></a>;</span>

<span data-idl="" class="idlInterface" data-title="Performance">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-2">Exposed</a>=(Window,Worker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-performance" id="ref-for-dom-performance-9"><code>Performance</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-index-term-eventtarget-interface-2">EventTarget</a></span> {<span data-idl="" class="idlMethod" data-title="now" data-dfn-for="Performance"><span class="idlType">
    <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-14"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-now" id="ref-for-dom-performance-now-6"><code>now</code></a>();</span><span data-idl="" class="idlAttribute" data-title="timeOrigin" data-dfn-for="Performance">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-15"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-performance-timeorigin" id="ref-for-dom-performance-timeorigin-6"><code>timeOrigin</code></a>;</span><span data-idl="" class="idlMethod" data-title="toJSON" data-dfn-for="Performance">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-2">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-2">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-tojson" id="ref-for-dom-performance-tojson-2"><code>toJSON</code></a>();</span>
};</span>

<span data-idl="" class="idlInterface mixin" data-title="WindowOrWorkerGlobalScope">partial interface mixin <a data-idl="partial" data-link-type="interface" data-title="WindowOrWorkerGlobalScope" class="idlID" data-dfn-for="WindowOrWorkerGlobalScope" data-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-index-term-windoworworkerglobalscope-interface-3">WindowOrWorkerGlobalScope</a> {<span data-idl="" class="idlAttribute" data-title="performance" data-dfn-for="WindowOrWorkerGlobalScope">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Replaceable" id="ref-for-index-term-replaceable-extended-attribute-2">Replaceable</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-performance" class="internalDFN" id="ref-for-dom-performance-10"><code>Performance</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-windoworworkerglobalscope-performance" id="ref-for-dom-windoworworkerglobalscope-performance-2"><code>performance</code></a>;</span>
};</span></code></pre>
    </section>
    <section class="appendix" id="acknowledgments">
        <div class="header-wrapper">
            <h2 id="c-acknowledgments"><bdi class="secno">C. </bdi>
                謝辞
            </h2><a class="self-link" href="#acknowledgments" aria-label="Permalink for Appendix C."></a>
        </div>

        <p>
            この文書の執筆・貢献にあたり、Arvind Jain、Angelos D. Keromytis、Boris Zbarsky、Jason Weber、Karen Anderson、Nat Duca、Philippe
            Le Hegaret、Ryosuke Niwa、Simha Sethumadhavan、Todd Reifsteck、Tony Gentilcore、Vasileios P. Kemerlis、Yoav
            Weiss、Yossef Oren 各氏に感謝します。
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="d-references"><bdi class="secno">D. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix D."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>標準参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix D.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecma-262">[ECMA-262]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript言語仕様</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML標準</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. 現行標準.
                    URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra標準</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. 現行標準. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>RFCで要件レベルを示すキーワード</cite></a>. S. Bradner.
                    IETF. 1997年3月. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC 2119 キーワードの大文字・小文字曖昧性</cite></a>. B.
                    Leiba. IETF. 2017年5月. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-spectre">[SPECTRE]</dt>
                <dd>
                    <a href="https://spectreattack.com/spectre.pdf"><cite>Spectre攻撃: 投機的実行の悪用</cite></a>. Paul Kocher;
                    Jann Horn; Anders Fogh; Daniel Genkin; Daniel Gruss;
                    Werner Haas; Mike Hamburg; Moritz Lipp; Stefan Mangard; Thomas Prescher; Michael Schwarz; Yuval
                    Yarom. 2018年1月. URL: <a
                        href="https://spectreattack.com/spectre.pdf">https://spectreattack.com/spectre.pdf</a>
                </dd>
                <dt id="bib-temporal">[Temporal]</dt>
                <dd>
                    <a href="https://tc39.es/proposal-temporal/"><cite>Temporal</cite></a>. ECMA TC39. Stage 3提案.
                    URL: <a href="https://tc39.es/proposal-temporal/">https://tc39.es/proposal-temporal/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL標準</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. 現行標準. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="d-2-informative-references"><bdi class="secno">D.2 </bdi>参考情報</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix D.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-cache-attacks">[CACHE-ATTACKS]</dt>
                <dd>
                    <a href="https://arxiv.org/abs/1502.07373"><cite>The Spy in the Sandbox - Practical Cache Attacks in
                            Javascript</cite></a>. Yossef Oren; Vasileios P. Kemerlis; Simha Sethumadhavan; Angelos D.
                    Keromytis. 2015年3月1日. URL: <a
                        href="https://arxiv.org/abs/1502.07373">https://arxiv.org/abs/1502.07373</a>
                </dd>
                <dt id="bib-reporting">[reporting]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/reporting-1/"><cite>Reporting API</cite></a>. Douglas Creager; Ian
                    Clelland; Mike West. W3C. 2024年8月13日. W3C作業草案. URL: <a
                        href="https://www.w3.org/TR/reporting-1/">https://www.w3.org/TR/reporting-1/</a>
                </dd>
                <dt id="bib-service-workers">[service-workers]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/service-workers/"><cite>Service Workers</cite></a>. Jake Archibald;
                    Marijn Kruisselbrink. W3C. 2022年7月12日. W3C勧告候補. URL: <a
                        href="https://www.w3.org/TR/service-workers/">https://www.w3.org/TR/service-workers/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-clock"
        aria-label="Links in this document to definition: clock">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-clock"
                aria-label="Permalink for definition: clock. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-clock-1" title="§ 2.2 Moments and Durations">§ 2.2 Moments and Durations</a> <a
                    href="#ref-for-dfn-clock-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-clock-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-clock-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-clock-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-clock-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-clock-7" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-clock-8" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unsafe-current-time"
        aria-label="Links in this document to definition: unsafe current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unsafe-current-time"
                aria-label="Permalink for definition: unsafe current time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unsafe-current-time-1" title="§ 2.2 Moments and Durations">§ 2.2 Moments and
                    Durations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-wall-clock"
        aria-label="Links in this document to definition: wall clock">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-wall-clock"
                aria-label="Permalink for definition: wall clock. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-wall-clock-1" title="§ 2.1 Clocks">§ 2.1 Clocks</a> <a
                    href="#ref-for-dfn-wall-clock-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-wall-clock-3" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-wall-clock-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-wall-clock-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-wall-clock-6"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-wall-clock-7" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-wall-clock-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-wall-clock-9" title="§ 6. The EpochTimeStamp typedef">§ 6. The EpochTimeStamp
                    typedef</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-wall-clock-unsafe-current-time"
        aria-label="Links in this document to definition: unsafe current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#wall-clock-unsafe-current-time"
                aria-label="Permalink for definition: unsafe current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-wall-clock-unsafe-current-time-1" title="§ 2.1 Clocks">§ 2.1 Clocks</a>
            </li>
            <li>
                <a href="#ref-for-wall-clock-unsafe-current-time-2" title="§ 3. Tools for Specification Authors">§ 3.
                    Tools for Specification Authors</a> <a href="#ref-for-wall-clock-unsafe-current-time-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-wall-clock-unsafe-current-time-4" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-monotonic-clock"
        aria-label="Links in this document to definition: monotonic clock">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-monotonic-clock"
                aria-label="Permalink for definition: monotonic clock. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-1" title="§ 2.1 Clocks">§ 2.1 Clocks</a> <a
                    href="#ref-for-dfn-monotonic-clock-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-3" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-monotonic-clock-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monotonic-clock-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-6" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-monotonic-clock-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monotonic-clock-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-monotonic-clock-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-monotonic-clock-10" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-monotonic-clock-11" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-12" title="§ 7.1 now() method">§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-13" title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-14" title="§ 9.2 Clock drift">§ 9.2 Clock drift</a> <a
                    href="#ref-for-dfn-monotonic-clock-15" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monotonic-clock-16" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-monotonic-clock-17" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-monotonic-clock-unsafe-current-time"
        aria-label="Links in this document to definition: unsafe current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#monotonic-clock-unsafe-current-time"
                aria-label="Permalink for definition: unsafe current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-monotonic-clock-unsafe-current-time-1" title="§ 3. Tools for Specification Authors">§
                    3. Tools for Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-monotonic-clock-unsafe-current-time-2" title="§ 4. Time Origin">§ 4. Time Origin</a>
                <a href="#ref-for-monotonic-clock-unsafe-current-time-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unsafe-moment"
        aria-label="Links in this document to definition: unsafe moment">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unsafe-moment"
                aria-label="Permalink for definition: unsafe moment. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unsafe-moment-1" title="§ 2.2 Moments and Durations">§ 2.2 Moments and
                    Durations</a> <a href="#ref-for-dfn-unsafe-moment-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-unsafe-moment-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-unsafe-moment-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unsafe-moment-5" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-unsafe-moment-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-moment"
        aria-label="Links in this document to definition: coarsened moments">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-moment"
                aria-label="Permalink for definition: coarsened moments. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-moment-1" title="§ 2.2 Moments and Durations">§ 2.2 Moments and Durations</a> <a
                    href="#ref-for-dfn-moment-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-moment-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-moment-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-moment-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-moment-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-moment-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-moment-9"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-moment-10" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-11" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-moment-12" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-moment-13" title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-14"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-moment-15" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-moment-16" title="Reference 6">(6)</a> <a href="#ref-for-dfn-moment-17"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-moment-18" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-moment-19" title="Reference 9">(9)</a> <a href="#ref-for-dfn-moment-20"
                    title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-21" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-moment-22" title="Reference 2">(2)</a> <a href="#ref-for-dfn-moment-23"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-24" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-moment-25" title="Reference 5">(5)</a> <a href="#ref-for-dfn-moment-26"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-27" title="§ 5. The DOMHighResTimeStamp typedef">§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dfn-moment-28" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-moment-29" title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-30"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-31" title="§ 6. The EpochTimeStamp typedef">§ 6. The EpochTimeStamp
                    typedef</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-duration"
        aria-label="Links in this document to definition: duration">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-duration"
                aria-label="Permalink for definition: duration. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-duration-1" title="§ 2.2 Moments and Durations">§ 2.2 Moments and Durations</a> <a
                    href="#ref-for-dfn-duration-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-duration-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-duration-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-duration-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-duration-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-duration-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-duration-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-duration-9"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-duration-10" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-11" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-duration-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-13" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-duration-14" title="Reference 2">(2)</a> <a href="#ref-for-dfn-duration-15"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-16" title="§ 5. The DOMHighResTimeStamp typedef">§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dfn-duration-17" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-18" title="§ 7.1 now() method">§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-19" title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-duration-from"
        aria-label="Links in this document to definition: duration from">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-duration-from"
                aria-label="Permalink for definition: duration from. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-duration-from-1" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-from-2" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-duration-from-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-implicitly-convert-a-duration-to-a-timestamp"
        aria-label="Links in this document to definition: implicitly convert a duration to a timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-implicitly-convert-a-duration-to-a-timestamp"
                aria-label="Permalink for definition: implicitly convert a duration to a timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-implicitly-convert-a-duration-to-a-timestamp-1"
                    title="§ 3. Tools for Specification Authors">§ 3. Tools for Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-relative-timestamp"
        aria-label="Links in this document to definition: current relative timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-relative-timestamp"
                aria-label="Permalink for definition: current relative timestamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-relative-timestamp-1" title="§ 3.1 Examples">§ 3.1 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-monotonic-time"
        aria-label="Links in this document to definition: current monotonic time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-monotonic-time"
                aria-label="Permalink for definition: current monotonic time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-monotonic-time-1" title="§ 3. Tools for Specification Authors">§ 3. Tools
                    for Specification Authors</a> <a href="#ref-for-dfn-current-monotonic-time-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-current-monotonic-time-3" title="§ 3.1 Examples">§ 3.1 Examples</a> <a
                    href="#ref-for-dfn-current-monotonic-time-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-wall-time"
        aria-label="Links in this document to definition: current coarsened wall time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-wall-time"
                aria-label="Permalink for definition: current coarsened wall time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-wall-time-1" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-eso-current-wall-time"
        aria-label="Links in this document to definition: current wall time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-eso-current-wall-time"
                aria-label="Permalink for definition: current wall time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-eso-current-wall-time-1" title="§ 3. Tools for Specification Authors">§ 3. Tools
                    for Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-dfn-eso-current-wall-time-2" title="§ 3.1 Examples">§ 3.1 Examples</a> <a
                    href="#ref-for-dfn-eso-current-wall-time-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unix-epoch"
        aria-label="Links in this document to definition: Unix epoch">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unix-epoch"
                aria-label="Permalink for definition: Unix epoch. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unix-epoch-1" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-unix-epoch-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unix-epoch-3" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-unix-epoch-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unix-epoch-5" title="§ 5. The DOMHighResTimeStamp typedef">§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dfn-unix-epoch-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unix-epoch-7" title="§ 6. The EpochTimeStamp typedef">§ 6. The EpochTimeStamp
                    typedef</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-estimated-monotonic-time-of-the-unix-epoch"
        aria-label="Links in this document to definition: estimated monotonic time of the Unix epoch">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-estimated-monotonic-time-of-the-unix-epoch"
                aria-label="Permalink for definition: estimated monotonic time of the Unix epoch. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-1" title="§ 2.1 Clocks">§ 2.1
                    Clocks</a>
            </li>
            <li>
                <a href="#ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-2" title="§ 4. Time Origin">§ 4. Time
                    Origin</a> <a href="#ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-3"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-get-time-origin-timestamp"
        aria-label="Links in this document to definition: get time origin timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-get-time-origin-timestamp"
                aria-label="Permalink for definition: get time origin timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-get-time-origin-timestamp-1" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
            <li>
                <a href="#ref-for-dfn-get-time-origin-timestamp-2" title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coarsen-time"
        aria-label="Links in this document to definition: coarsen time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coarsen-time"
                aria-label="Permalink for definition: coarsen time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coarsen-time-1" title="§ 2.2 Moments and Durations">§ 2.2 Moments and
                    Durations</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coarsen-time-2" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-coarsen-time-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coarsen-time-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coarsen-time-5" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-coarsen-time-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-coarsen-time-7"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coarsen-time-8" title="§ 9.1 Clock resolution">§ 9.1 Clock resolution</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-relative-high-resolution-time"
        aria-label="Links in this document to definition: relative high resolution time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-relative-high-resolution-time"
                aria-label="Permalink for definition: relative high resolution time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-relative-high-resolution-time-1" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-relative-high-resolution-coarse-time"
        aria-label="Links in this document to definition: relative high resolution coarse time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-relative-high-resolution-coarse-time"
                aria-label="Permalink for definition: relative high resolution coarse time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-relative-high-resolution-coarse-time-1" title="§ 4. Time Origin">§ 4. Time
                    Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-high-resolution-time"
        aria-label="Links in this document to definition: current high resolution time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-high-resolution-time"
                aria-label="Permalink for definition: current high resolution time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-high-resolution-time-1" title="§ 7.1 now() method">§ 7.1 now() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-coarsened-shared-current-time"
        aria-label="Links in this document to definition: coarsened shared current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coarsened-shared-current-time"
                aria-label="Permalink for definition: coarsened shared current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unsafe-shared-current-time"
        aria-label="Links in this document to definition: unsafe shared current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unsafe-shared-current-time"
                aria-label="Permalink for definition: unsafe shared current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unsafe-shared-current-time-1" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-unsafe-shared-current-time-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-domhighrestimestamp"
        aria-label="Links in this document to definition: DOMHighResTimeStamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-domhighrestimestamp"
                aria-label="Permalink for definition: DOMHighResTimeStamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2125136869">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-2" title="§ 1.2 Examples">§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-3" title="§ 2.2 Moments and Durations">§ 2.2 Moments and
                    Durations</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-4" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-5" title="§ 5. The DOMHighResTimeStamp typedef">§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dom-domhighrestimestamp-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-domhighrestimestamp-7" title="Reference 3">(3)</a>
                <a href="#ref-for-dom-domhighrestimestamp-8" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-9" title="§ 6. The EpochTimeStamp typedef">§ 6. The
                    EpochTimeStamp typedef</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-10" title="§ 7. The Performance interface">§ 7. The
                    Performance interface</a> <a href="#ref-for-dom-domhighrestimestamp-11" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-12" title="§ 9.1 Clock resolution">§ 9.1 Clock resolution</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-13" title="§ B. IDL Index">§ B. IDL Index</a> <a
                    href="#ref-for-dom-domhighrestimestamp-14" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-domhighrestimestamp-15" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-epochtimestamp"
        aria-label="Links in this document to definition: EpochTimeStamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-epochtimestamp"
                aria-label="Permalink for definition: EpochTimeStamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-928658152">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-epochtimestamp-1" title="§ 6. The EpochTimeStamp typedef">§ 6. The EpochTimeStamp
                    typedef</a> <a href="#ref-for-dom-epochtimestamp-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-epochtimestamp-3" title="§ 9.1 Clock resolution">§ 9.1 Clock resolution</a>
            </li>
            <li>
                <a href="#ref-for-dom-epochtimestamp-4" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance"
        aria-label="Links in this document to definition: Performance">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance"
                aria-label="Permalink for definition: Performance. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                    href="#ref-for-dom-performance-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-performance-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-4" title="§ 1.2 Examples">§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-5" title="§ 7. The Performance interface">§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-6" title="§ 7.1 now() method">§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-7" title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-8" title="§ 8.1 The performance attribute">§ 8.1 The performance
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-9" title="§ B. IDL Index">§ B. IDL Index</a> <a
                    href="#ref-for-dom-performance-10" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance-now"
        aria-label="Links in this document to definition: now()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance-now"
                aria-label="Permalink for definition: now(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-now-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-2" title="§ 7. The Performance interface">§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-3" title="§ 7.1 now() method">§ 7.1 now() method</a> <a
                    href="#ref-for-dom-performance-now-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-5" title="§ 9.2 Clock drift">§ 9.2 Clock drift</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-6" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance-timeorigin"
        aria-label="Links in this document to definition: timeOrigin">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance-timeorigin"
                aria-label="Permalink for definition: timeOrigin. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-2" title="§ 1.2 Examples">§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-3" title="§ 7. The Performance interface">§ 7. The
                    Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-4" title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-5" title="§ 9.2 Clock drift">§ 9.2 Clock drift</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-6" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance-tojson"
        aria-label="Links in this document to definition: toJSON()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance-tojson"
                aria-label="Permalink for definition: toJSON(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-tojson-1" title="§ 7. The Performance interface">§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-tojson-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-windoworworkerglobalscope-performance"
        aria-label="Links in this document to definition: performance">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-windoworworkerglobalscope-performance"
                aria-label="Permalink for definition: performance. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2037739231">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-windoworworkerglobalscope-performance-1" title="§ 8.1 The performance attribute">§
                    8.1 The performance attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-windoworworkerglobalscope-performance-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-document-interface"
        aria-label="Links in this document to definition: Document interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#document"
                aria-label="Permalink for definition: Document interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-document-interface-1" title="§ 10. Privacy Considerations">§ 10. Privacy
                    Considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-eventtarget-interface"
        aria-label="Links in this document to definition: EventTarget interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#eventtarget"
                aria-label="Permalink for definition: EventTarget interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-eventtarget-interface-1" title="§ 7. The Performance interface">§ 7. The
                    Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-eventtarget-interface-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-timestamp-attribute-for-event"
        aria-label="Links in this document to definition: timeStamp attribute (for Event)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#dom-event-timestamp"
                aria-label="Permalink for definition: timeStamp attribute (for Event). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-timestamp-attribute-for-event-1" title="§ 3.1 Examples">§ 3.1 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-date"
        aria-label="Links in this document to definition: Date">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/ecma262/multipage/#sec-date-objects"
                aria-label="Permalink for definition: Date. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-date-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-index-term-date-2" title="§ 3. Tools for Specification Authors">§ 3. Tools for
                    Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-date-now"
        aria-label="Links in this document to definition: Date.now()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/ecma262/multipage/#sec-date.now"
                aria-label="Permalink for definition: Date.now(). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-date-now-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-index-term-date-now-2" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
            <li>
                <a href="#ref-for-index-term-date-now-3" title="§ 9.2 Clock drift">§ 9.2 Clock drift</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-time"
        aria-label="Links in this document to definition: time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                aria-label="Permalink for definition: time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-time-1" title="§ 2.1 Clocks">§ 2.1 Clocks</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-2" title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-3" title="§ 9.2 Clock drift">§ 9.2 Clock drift</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-broadcastchannel-interface"
        aria-label="Links in this document to definition: BroadcastChannel interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcastchannel"
                aria-label="Permalink for definition: BroadcastChannel interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-broadcastchannel-interface-1" title="§ 2.1 Clocks">§ 2.1 Clocks</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-cross-origin-isolated-capability-for-environment-settings-object"
        aria-label="Links in this document to definition: cross-origin isolated capability (for environment settings object)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                aria-label="Permalink for definition: cross-origin isolated capability (for environment settings object). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-1"
                    title="§ 3. Tools for Specification Authors">§ 3. Tools for Specification Authors</a> <a
                    href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-2"
                    title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-4"
                    title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-environment-settings-object"
        aria-label="Links in this document to definition: environment settings object">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                aria-label="Permalink for definition: environment settings object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-environment-settings-object-1" title="§ 2.1 Clocks">§ 2.1 Clocks</a>
            </li>
            <li>
                <a href="#ref-for-index-term-environment-settings-object-2"
                    title="§ 3. Tools for Specification Authors">§ 3. Tools for Specification Authors</a> <a
                    href="#ref-for-index-term-environment-settings-object-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-environment-settings-object-4" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-environment-settings-object-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-index-term-environment-settings-object-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-index-term-environment-settings-object-7" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-environment-settings-object-8" title="§ 4. Time Origin">§ 4. Time
                    Origin</a> <a href="#ref-for-index-term-environment-settings-object-9" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-familiar-with"
        aria-label="Links in this document to definition: familiar with">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/browsers.html#familiar-with"
                aria-label="Permalink for definition: familiar with. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-familiar-with-1" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-global-object"
        aria-label="Links in this document to definition: global object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                aria-label="Permalink for definition: global object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-global-object-1" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-global-object-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-global-object-for-realm"
        aria-label="Links in this document to definition: global object (for realm)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                aria-label="Permalink for definition: global object (for realm). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-global-object-for-realm-1" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-global-object-for-realm-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-global-object-for-realm-3" title="§ 8.1 The performance attribute">§ 8.1
                    The performance attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-navigate"
        aria-label="Links in this document to definition: navigate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                aria-label="Permalink for definition: navigate. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-navigate-1" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-parse-a-duration-string"
        aria-label="Links in this document to definition: parse a duration string">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/#parse-a-duration-string"
                aria-label="Permalink for definition: parse a duration string. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-parse-a-duration-string-1" title="§ 3.1 Examples">§ 3.1 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-postmessage-message-options-for-window"
        aria-label="Links in this document to definition: postMessage(message, options) (for Window)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage-options"
                aria-label="Permalink for definition: postMessage(message, options) (for Window). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-postmessage-message-options-for-window-1" title="§ 2.1 Clocks">§ 2.1
                    Clocks</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-relevant-global-object"
        aria-label="Links in this document to definition: relevant global object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                aria-label="Permalink for definition: relevant global object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-1" title="§ 7.1 now() method">§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-2" title="§ 7.2 timeOrigin attribute">§ 7.2
                    timeOrigin attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-relevant-settings-object"
        aria-label="Links in this document to definition: relevant settings object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                aria-label="Permalink for definition: relevant settings object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-relevant-settings-object-1" title="§ 3.1 Examples">§ 3.1 Examples</a> <a
                    href="#ref-for-index-term-relevant-settings-object-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-relevant-settings-object-3" title="§ 4. Time Origin">§ 4. Time Origin</a>
                <a href="#ref-for-index-term-relevant-settings-object-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-relevant-settings-object-5" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-run-a-worker"
        aria-label="Links in this document to definition: run a worker">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"
                aria-label="Permalink for definition: run a worker. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-run-a-worker-1" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-sharedworker-interface"
        aria-label="Links in this document to definition: SharedWorker interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/workers.html#sharedworker"
                aria-label="Permalink for definition: SharedWorker interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-sharedworker-interface-1" title="§ 1.2 Examples">§ 1.2 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-time-origins-for-environment-settings-object"
        aria-label="Links in this document to definition: time origins (for environment settings object)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                aria-label="Permalink for definition: time origins (for environment settings object). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-1" title="§ 1.2 Examples">§
                    1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-2"
                    title="§ 3. Tools for Specification Authors">§ 3. Tools for Specification Authors</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-4" title="§ 4. Time Origin">§
                    4. Time Origin</a> <a href="#ref-for-index-term-time-origins-for-environment-settings-object-5"
                    title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-6"
                    title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-7"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-8"
                    title="§ 5. The DOMHighResTimeStamp typedef">§ 5. The DOMHighResTimeStamp typedef</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-9"
                    title="§ 7.1 now() method">§ 7.1 now() method</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-10"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-11"
                    title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-12"
                    title="§ 9.2 Clock drift">§ 9.2 Clock drift</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-13"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-14"
                    title="§ 10. Privacy Considerations">§ 10. Privacy Considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-window-interface"
        aria-label="Links in this document to definition: Window interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                aria-label="Permalink for definition: Window interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-window-interface-1" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-windoworworkerglobalscope-interface"
        aria-label="Links in this document to definition: WindowOrWorkerGlobalScope interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"
                aria-label="Permalink for definition: WindowOrWorkerGlobalScope interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-windoworworkerglobalscope-interface-1"
                    title="§ 8.1 The performance attribute">§ 8.1 The performance attribute</a> <a
                    href="#ref-for-index-term-windoworworkerglobalscope-interface-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-windoworworkerglobalscope-interface-3" title="§ B. IDL Index">§ B. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-worker-interface"
        aria-label="Links in this document to definition: Worker interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                aria-label="Permalink for definition: Worker interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-worker-interface-1" title="§ 1.1 Use-cases">§ 1.1 Use-cases</a>
            </li>
            <li>
                <a href="#ref-for-index-term-worker-interface-2" title="§ 1.2 Examples">§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-index-term-worker-interface-3" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-worker-interface-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-implementation-defined"
        aria-label="Links in this document to definition: implementation-defined">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#implementation-defined"
                aria-label="Permalink for definition: implementation-defined. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-implementation-defined-1" title="§ 4. Time Origin">§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-implementation-defined-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-implementation-defined-3" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-tracking-vector"
        aria-label="Links in this document to definition: tracking vector">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#tracking-vector"
                aria-label="Permalink for definition: tracking vector. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-tracking-vector-1" title="§ 3. Tools for Specification Authors">§ 3. Tools
                    for Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-user-agent"
        aria-label="Links in this document to definition: user agent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#user-agent"
                aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-user-agent-1" title="§ 2.1 Clocks">§ 2.1 Clocks</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-generation-time"
        aria-label="Links in this document to definition: generation time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                aria-label="Permalink for definition: generation time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-generation-time-1" title="§ 3.1 Examples">§ 3.1 Examples</a> <a
                    href="#ref-for-index-term-generation-time-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-serviceworker-interface"
        aria-label="Links in this document to definition: ServiceWorker interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/service-workers/#serviceworker"
                aria-label="Permalink for definition: ServiceWorker interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-serviceworker-interface-1" title="§ 4. Time Origin">§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-temporal-instant"
        aria-label="Links in this document to definition: Temporal.Instant">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/proposal-temporal/#sec-temporal-instant-constructor"
                aria-label="Permalink for definition: Temporal.Instant. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-temporal-instant-1" title="§ 3. Tools for Specification Authors">§ 3. Tools
                    for Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-default-extended-attribute"
        aria-label="Links in this document to definition: [Default] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Default"
                aria-label="Permalink for definition: [Default] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-extended-attribute-1" title="§ 7. The Performance interface">§ 7.
                    The Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-default-extended-attribute-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-default-tojson-steps"
        aria-label="Links in this document to definition: default toJSON steps">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#default-tojson-steps"
                aria-label="Permalink for definition: default toJSON steps. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-tojson-steps-1" title="§ 7.3 toJSON() method">§ 7.3 toJSON()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-double-type"
        aria-label="Links in this document to definition: double type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-double"
                aria-label="Permalink for definition: double type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-double-type-1" title="§ 5. The DOMHighResTimeStamp typedef">§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-index-term-double-type-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-double-type-3" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-exposed-extended-attribute"
        aria-label="Links in this document to definition: [Exposed] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Exposed"
                aria-label="Permalink for definition: [Exposed] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-1" title="§ 7. The Performance interface">§ 7.
                    The Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-object-type"
        aria-label="Links in this document to definition: object type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-object"
                aria-label="Permalink for definition: object type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-object-type-1" title="§ 7. The Performance interface">§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-object-type-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-replaceable-extended-attribute"
        aria-label="Links in this document to definition: [Replaceable] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Replaceable"
                aria-label="Permalink for definition: [Replaceable] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-replaceable-extended-attribute-1" title="§ 8.1 The performance attribute">§
                    8.1 The performance attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-replaceable-extended-attribute-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-this"
        aria-label="Links in this document to definition: this">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#this"
                aria-label="Permalink for definition: this. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-this-1" title="§ 3.1 Examples">§ 3.1 Examples</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-2" title="§ 7.1 now() method">§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-3" title="§ 7.2 timeOrigin attribute">§ 7.2 timeOrigin attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-unsigned-long-long-type"
        aria-label="Links in this document to definition: unsigned long long type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"
                aria-label="Permalink for definition: unsigned long long type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-unsigned-long-long-type-1" title="§ 6. The EpochTimeStamp typedef">§ 6. The
                    EpochTimeStamp typedef</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unsigned-long-long-type-2" title="§ B. IDL Index">§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>