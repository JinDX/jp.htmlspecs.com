<!doctype html>
<html lang="en-GB-oxendict"><head><meta name="viewport" content="width=device-width, initial-scale=1"><meta charset="utf-8"><meta property="og:image" content="https://tc39.es/ecmarkup/ecma-logo.png"><meta property="og:title" content="ECMAScript® 2026 Internationalization API Specification"><meta property="og:description" content="イントロダクション
  この仕様のソースは https://github.com/tc39/ecma402 にあります。
  ECMAScript 2026 国際化 API 仕様（ECMA-402 第13版）は、ECMA-262 を補完する主要な言語依存機能を提供します。その機能は、Unicode
      の国際化コンポーネント（ICU）ライブラリ（https://unicode-org.github.io/icu-docs/）、.NET フレームワーク、Java
    プラットフォームなどの確立された国際化 API から選択されています。
  第1版 API は、Nebojša">
<link rel="icon" href="img/favicon.ico">
<link rel="stylesheet" href="css\ecmarkup.css"><link rel="stylesheet" href="css\print.css" media="print"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script>
  if (location.hostname === 'tc39.es' && location.protocol !== 'https:') {
    location.protocol = 'https:';
  }
</script>
<script src="https://htmlspecs.com/dropdown.js"></script>
<style>
  #metadata-block {
    margin: 4em 0;
    padding: 10px;
    border: 1px solid #ee8421;
  }

  #metadata-block h1 {
    font-size: 1.5em;
    margin-top: 0;
  }

  #metadata-block>ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  #ecma-logo {
    width: 500px;
  }
</style>
<title>ECMAScript® 2026 Internationalization API Specification</title><script src="js\ecmarkup.js?cache=MRPgorqa" defer=""></script><style>
    @media print {
      @page :left {
        @bottom-right {
          content: '© Ecma International 2026';
        }
      }
      @page :right {
        @bottom-left {
          content: '© Ecma International 2026';
        }
      }
      @page :first {
        @bottom-left {
          content: '';
        }
        @bottom-right {
          content: '';
        }
      }
      @page :blank {
        @bottom-left {
          content: '';
        }
        @bottom-right {
          content: '';
        }
      }
    }
    </style><style>
      @import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/base16/solarized-light.min.css");
      @import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/a11y-dark.min.css") (prefers-color-scheme: dark);
    </style></head><body><div id="shortcuts-help">
<ul>
  <li><span>Toggle shortcuts help</span><code>?</code></li>
  <li><span>Toggle "can call user code" annotations</span><code>u</code></li>

  <li><span>Jump to search box</span><code>/</code></li>
  <li><span>Toggle pinning of the current clause</span><code>p</code></li>
  <li><span>Jump to the <i>n</i><sup>th</sup> pin</span><code>1-9</code></li>
  <li><span>Jump to the 10<sup>th</sup> pin</span><code>0</code></li>
  <li><span>Jump to the most recent link target</span><code>`</code></li>
</ul></div><div id="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" style="width:100%; height:100%; stroke:currentColor" viewBox="0 0 120 120" width="54" height="54">
      <title>Menu</title>
      <path stroke-width="10" stroke-linecap="round" d="M30,60 h60  M30,30 m0,5 h60  M30,90 m0,-5 h60"></path>
    </svg></div><div id="menu-spacer" class="menu-spacer"></div><div id="menu"><div id="menu-search"><input type="text" id="menu-search-box" placeholder="Search..."><div id="menu-search-results" class="inactive"></div></div><div id="menu-pins"><div class="menu-pane-header">Pins<button class="unpin-all">clear</button></div><ul id="menu-pins-list"></ul></div><div class="menu-pane-header">Table of Contents</div><div id="menu-toc"><ol class="toc"><li><span class="item-toggle-none"></span><a href="#introduction" title="イントロダクション">イントロダクション</a></li><li><span class="item-toggle-none"></span><a href="#scope" title="スコープ"><span class="secnum">1</span> スコープ</a></li><li><span class="item-toggle-none"></span><a href="#conformance" title="適合性"><span class="secnum">2</span> 適合性</a></li><li><span class="item-toggle-none"></span><a href="#normative-references" title="規範参照"><span class="secnum">3</span> 規範参照</a></li><li><span class="item-toggle">+</span><a href="#overview" title="概要"><span class="secnum">4</span> 概要</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-internationalization-localization-globalization" title="国際化、ローカライゼーション、グローバリゼーション"><span class="secnum">4.1</span> 国際化、ローカライゼーション、グローバリゼーション</a></li><li><span class="item-toggle-none"></span><a href="#sec-api-overview" title="API概要"><span class="secnum">4.2</span> API概要</a></li><li><span class="item-toggle-none"></span><a href="#sec-api-conventions" title="APIの規則"><span class="secnum">4.3</span> APIの規則</a></li><li><span class="item-toggle">+</span><a href="#sec-implementation-dependencies" title="実装依存性"><span class="secnum">4.4</span> 実装依存性</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-compatibility" title="実装間の互換性"><span class="secnum">4.4.1</span> 実装間の互換性</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#conventions" title="表記規則"><span class="secnum">5</span> 表記規則</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-402-well-known-intrinsic-objects" title="よく知られた組み込みオブジェクト"><span class="secnum">5.1</span> よく知られた組み込みオブジェクト</a></li></ol></li><li><span class="item-toggle">+</span><a href="#locales-currencies-tz" title="ロケール、通貨、タイムゾーン、計量単位、番号体系、照合順序、暦、およびパターン文字列の識別"><span class="secnum">6</span> ロケール、通貨、タイムゾーン、計量単位、番号体系、照合順序、暦、およびパターン文字列の識別</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-case-sensitivity-and-case-mapping" title="大文字・小文字の区別と変換"><span class="secnum">6.1</span> 大文字・小文字の区別と変換</a></li><li><span class="item-toggle">+</span><a href="#sec-language-tags" title="言語タグ"><span class="secnum">6.2</span> 言語タグ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-iswellformedlanguagetag" title="IsWellFormedLanguageTag ( locale )"><span class="secnum">6.2.1</span> IsWellFormedLanguageTag ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-canonicalizeunicodelocaleid" title="CanonicalizeUnicodeLocaleId ( locale )"><span class="secnum">6.2.2</span> CanonicalizeUnicodeLocaleId ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-defaultlocale" title="DefaultLocale ( )"><span class="secnum">6.2.3</span> DefaultLocale ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-currency-codes" title="通貨コード"><span class="secnum">6.3</span> 通貨コード</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-iswellformedcurrencycode" title="IsWellFormedCurrencyCode ( currency )"><span class="secnum">6.3.1</span> IsWellFormedCurrencyCode ( <var>currency</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalcurrencies" title="AvailableCanonicalCurrencies ( )"><span class="secnum">6.4</span> AvailableCanonicalCurrencies ( )</a></li><li><span class="item-toggle">+</span><a href="#sec-use-of-iana-time-zone-database" title="IANAタイムゾーンデータベースの利用"><span class="secnum">6.5</span> IANAタイムゾーンデータベースの利用</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-availablenamedtimezoneidentifiers" title="AvailableNamedTimeZoneIdentifiers ( )"><span class="secnum">6.5.1</span> AvailableNamedTimeZoneIdentifiers ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getavailablenamedtimezoneidentifier" title="GetAvailableNamedTimeZoneIdentifier ( timeZoneIdentifier )"><span class="secnum">6.5.2</span> GetAvailableNamedTimeZoneIdentifier ( <var>timeZoneIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-availableprimarytimezoneidentifiers" title="AvailablePrimaryTimeZoneIdentifiers ( )"><span class="secnum">6.5.3</span> AvailablePrimaryTimeZoneIdentifiers ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-string-split-to-list" title="StringSplitToList ( S, separator )"><span class="secnum">6.5.4</span> StringSplitToList ( <var>S</var>, <var>separator</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-measurement-unit-identifiers" title="計量単位識別子"><span class="secnum">6.6</span> 計量単位識別子</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-iswellformedunitidentifier" title="IsWellFormedUnitIdentifier ( unitIdentifier )"><span class="secnum">6.6.1</span> IsWellFormedUnitIdentifier ( <var>unitIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-issanctionedsingleunitidentifier" title="IsSanctionedSingleUnitIdentifier ( unitIdentifier )"><span class="secnum">6.6.2</span> IsSanctionedSingleUnitIdentifier ( <var>unitIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalunits" title="AvailableCanonicalUnits ( )"><span class="secnum">6.6.3</span> AvailableCanonicalUnits ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-numberingsystem-identifiers" title="番号体系識別子"><span class="secnum">6.7</span> 番号体系識別子</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalnumberingsystems" title="AvailableCanonicalNumberingSystems ( )"><span class="secnum">6.7.1</span> AvailableCanonicalNumberingSystems ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-collation-types" title="照合順序タイプ"><span class="secnum">6.8</span> 照合順序タイプ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalcollations" title="AvailableCanonicalCollations ( )"><span class="secnum">6.8.1</span> AvailableCanonicalCollations ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-calendar-types" title="暦タイプ"><span class="secnum">6.9</span> 暦タイプ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-availablecalendars" title="AvailableCalendars ( )"><span class="secnum">6.9.1</span> AvailableCalendars ( )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-pattern-string-types" title="パターン文字列タイプ"><span class="secnum">6.10</span> パターン文字列タイプ</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#requirements" title="ECMAScript 標準組み込みオブジェクトの要件"><span class="secnum">7</span> ECMAScript 標準組み込みオブジェクトの要件</a></li><li><span class="item-toggle">+</span><a href="#intl-object" title="Intl オブジェクト"><span class="secnum">8</span> Intl オブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-value-properties-of-the-intl-object" title="Intl オブジェクトの値プロパティ"><span class="secnum">8.1</span> Intl オブジェクトの値プロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl-%symbol.tostringtag%" title="Intl [ %Symbol.toStringTag% ]"><span class="secnum">8.1.1</span> Intl [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-constructor-properties-of-the-intl-object" title="Intl オブジェクトのコンストラクタプロパティ"><span class="secnum">8.2</span> Intl オブジェクトのコンストラクタプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator-intro" title="Intl.Collator ( . . . )"><span class="secnum">8.2.1</span> Intl.Collator ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat-intro" title="Intl.DateTimeFormat ( . . . )"><span class="secnum">8.2.2</span> Intl.DateTimeFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.displaynames-intro" title="Intl.DisplayNames ( . . . )"><span class="secnum">8.2.3</span> Intl.DisplayNames ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.durationformat-intro" title="Intl.DurationFormat ( . . . )"><span class="secnum">8.2.4</span> Intl.DurationFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.listformat-intro" title="Intl.ListFormat ( . . . )"><span class="secnum">8.2.5</span> Intl.ListFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.locale-intro" title="Intl.Locale ( . . . )"><span class="secnum">8.2.6</span> Intl.Locale ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat-intro" title="Intl.NumberFormat ( . . . )"><span class="secnum">8.2.7</span> Intl.NumberFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules-intro" title="Intl.PluralRules ( . . . )"><span class="secnum">8.2.8</span> Intl.PluralRules ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.relativetimeformat-intro" title="Intl.RelativeTimeFormat ( . . . )"><span class="secnum">8.2.9</span> Intl.RelativeTimeFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter-intro" title="Intl.Segmenter ( . . . )"><span class="secnum">8.2.10</span> Intl.Segmenter ( . . . )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-function-properties-of-the-intl-object" title="Intl オブジェクトの関数プロパティ"><span class="secnum">8.3</span> Intl オブジェクトの関数プロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.getcanonicallocales" title="Intl.getCanonicalLocales ( locales )"><span class="secnum">8.3.1</span> Intl.getCanonicalLocales ( <var>locales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.supportedvaluesof" title="Intl.supportedValuesOf ( key )"><span class="secnum">8.3.2</span> Intl.supportedValuesOf ( <var>key</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#locale-and-parameter-negotiation" title="ロケールとパラメータのネゴシエーション"><span class="secnum">9</span> ロケールとパラメータのネゴシエーション</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-internal-slots" title="サービスコンストラクターの内部スロット"><span class="secnum">9.1</span> サービスコンストラクターの内部スロット</a></li><li><span class="item-toggle">+</span><a href="#sec-abstract-operations" title="抽象操作"><span class="secnum">9.2</span> 抽象操作</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-canonicalizelocalelist" title="CanonicalizeLocaleList ( locales )"><span class="secnum">9.2.1</span> CanonicalizeLocaleList ( <var>locales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-canonicalizeuvalue" title="
        CanonicalizeUValue (
        ukey: Unicode Technical Standard #35
          Part 1 Core Section 3.6.1 Key and Type Definitions で定義された Unicode ロケール拡張シーケンスキー,
        uvalue: 文字列,
        ): 文字列
      "><span class="secnum">9.2.2</span> 
        CanonicalizeUValue (
        <var>ukey</var>: Unicode Technical Standard #35
          Part 1 Core Section 3.6.1 Key and Type Definitions で定義された Unicode ロケール拡張シーケンスキー,
        <var>uvalue</var>: 文字列,
        ): 文字列
      </a></li><li><span class="item-toggle-none"></span><a href="#sec-lookupmatchinglocalebyprefix" title="LookupMatchingLocaleByPrefix ( availableLocales, requestedLocales )"><span class="secnum">9.2.3</span> LookupMatchingLocaleByPrefix ( <var>availableLocales</var>, <var>requestedLocales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-lookupmatchinglocalebybestfit" title="LookupMatchingLocaleByBestFit ( availableLocales, requestedLocales )"><span class="secnum">9.2.4</span> LookupMatchingLocaleByBestFit ( <var>availableLocales</var>, <var>requestedLocales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-unicode-extension-components" title="UnicodeExtensionComponents ( extension )"><span class="secnum">9.2.5</span> UnicodeExtensionComponents ( <var>extension</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-insert-unicode-extension-and-canonicalize" title="InsertUnicodeExtensionAndCanonicalize ( locale, attributes, keywords )"><span class="secnum">9.2.6</span> InsertUnicodeExtensionAndCanonicalize ( <var>locale</var>, <var>attributes</var>, <var>keywords</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolvelocale" title="ResolveLocale ( availableLocales, requestedLocales, options, relevantExtensionKeys, localeData )"><span class="secnum">9.2.7</span> ResolveLocale ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>, <var>relevantExtensionKeys</var>, <var>localeData</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolveoptions" title="ResolveOptions ( constructor, localeData, locales, options [ , specialBehaviours [ , modifyResolutionOptions ] ] )"><span class="secnum">9.2.8</span> ResolveOptions ( <var>constructor</var>, <var>localeData</var>, <var>locales</var>, <var>options</var> [ , <var>specialBehaviours</var> [ , <var>modifyResolutionOptions</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-filterlocales" title="FilterLocales ( availableLocales, requestedLocales, options )"><span class="secnum">9.2.9</span> FilterLocales ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-coerceoptionstoobject" title="CoerceOptionsToObject ( options )"><span class="secnum">9.2.10</span> CoerceOptionsToObject ( <var>options</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getoption" title="GetOption ( options, property, type, values, default )"><span class="secnum">9.2.11</span> GetOption ( <var>options</var>, <var>property</var>, <var>type</var>, <var>values</var>, <var>default</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getbooleanorstringnumberformatoption" title="GetBooleanOrStringNumberFormatOption ( options, property, stringValues, fallback )"><span class="secnum">9.2.12</span> GetBooleanOrStringNumberFormatOption ( <var>options</var>, <var>property</var>, <var>stringValues</var>, <var>fallback</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-defaultnumberoption" title="DefaultNumberOption ( value, minimum, maximum, fallback )"><span class="secnum">9.2.13</span> DefaultNumberOption ( <var>value</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getnumberoption" title="GetNumberOption ( options, property, minimum, maximum, fallback )"><span class="secnum">9.2.14</span> GetNumberOption ( <var>options</var>, <var>property</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionpattern" title="PartitionPattern ( pattern )"><span class="secnum">9.2.15</span> PartitionPattern ( <var>pattern</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#collator-objects" title="コレーターオブジェクト"><span class="secnum">10</span> コレーターオブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-collator-constructor" title="Intl.Collator コンストラクター"><span class="secnum">10.1</span> Intl.Collator コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator" title="Intl.Collator ( [ locales [ , options ] ] )"><span class="secnum">10.1.1</span> Intl.Collator ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-the-intl-collator-constructor" title="Intl.Collator コンストラクターのプロパティ"><span class="secnum">10.2</span> Intl.Collator コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype" title="Intl.Collator.prototype"><span class="secnum">10.2.1</span> Intl.Collator.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.supportedlocalesof" title="Intl.Collator.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">10.2.2</span> Intl.Collator.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl-collator-internal-slots" title="内部スロット"><span class="secnum">10.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-the-intl-collator-prototype-object" title="Intl.Collator プロトタイプオブジェクトのプロパティ"><span class="secnum">10.3</span> Intl.Collator プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype.constructor" title="Intl.Collator.prototype.constructor"><span class="secnum">10.3.1</span> Intl.Collator.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype.resolvedoptions" title="Intl.Collator.prototype.resolvedOptions ( )"><span class="secnum">10.3.2</span> Intl.Collator.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle">+</span><a href="#sec-intl.collator.prototype.compare" title="get Intl.Collator.prototype.compare"><span class="secnum">10.3.3</span> get Intl.Collator.prototype.compare</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-collator-compare-functions" title="Collator 比較関数"><span class="secnum">10.3.3.1</span> Collator 比較関数</a></li><li><span class="item-toggle-none"></span><a href="#sec-collator-comparestrings" title="CompareStrings ( collator, x, y )"><span class="secnum">10.3.3.2</span> CompareStrings ( <var>collator</var>, <var>x</var>, <var>y</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype-%symbol.tostringtag%" title="Intl.Collator.prototype [ %Symbol.toStringTag% ]"><span class="secnum">10.3.4</span> Intl.Collator.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-collator-instances" title="Intl.Collator インスタンスのプロパティ"><span class="secnum">10.4</span> Intl.Collator インスタンスのプロパティ</a></li></ol></li><li><span class="item-toggle">+</span><a href="#datetimeformat-objects" title="日付時刻フォーマットオブジェクト"><span class="secnum">11</span> 日付時刻フォーマットオブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-datetimeformat-constructor" title="Intl.DateTimeFormat コンストラクター"><span class="secnum">11.1</span> Intl.DateTimeFormat コンストラクター</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl.datetimeformat" title="Intl.DateTimeFormat ( [ locales [ , options ] ] )"><span class="secnum">11.1.1</span> Intl.DateTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-chaindatetimeformat" title="ChainDateTimeFormat ( dateTimeFormat, newTarget, this )"><span class="secnum">11.1.1.1</span> ChainDateTimeFormat ( <var>dateTimeFormat</var>, <var>newTarget</var>, <var>this</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-createdatetimeformat" title="CreateDateTimeFormat ( newTarget, locales, options, required, defaults )"><span class="secnum">11.1.2</span> CreateDateTimeFormat ( <var>newTarget</var>, <var>locales</var>, <var>options</var>, <var>required</var>, <var>defaults</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatoffsettimezoneidentifier" title="FormatOffsetTimeZoneIdentifier ( offsetMinutes )"><span class="secnum">11.1.3</span> FormatOffsetTimeZoneIdentifier ( <var>offsetMinutes</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-datetimeformat-constructor" title="Intl.DateTimeFormat コンストラクターのプロパティ"><span class="secnum">11.2</span> Intl.DateTimeFormat コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype" title="Intl.DateTimeFormat.prototype"><span class="secnum">11.2.1</span> Intl.DateTimeFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.supportedlocalesof" title="Intl.DateTimeFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">11.2.2</span> Intl.DateTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle">+</span><a href="#sec-intl.datetimeformat-internal-slots" title="内部スロット"><span class="secnum">11.2.3</span> 内部スロット</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-format-record" title="DateTime Format Record"><span class="secnum">11.2.3.1</span> DateTime Format Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-range-pattern-record" title="DateTime Range Pattern Record"><span class="secnum">11.2.3.2</span> DateTime Range Pattern Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-range-pattern-format-record" title="DateTime Range Pattern Format Record"><span class="secnum">11.2.3.3</span> DateTime Range Pattern Format Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-range-pattern-part-record" title="DateTime Range Pattern Part Record"><span class="secnum">11.2.3.4</span> DateTime Range Pattern Part Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-styles-record" title="DateTime Styles Record"><span class="secnum">11.2.3.5</span> DateTime Styles Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-style-record" title="DateTime Style Record"><span class="secnum">11.2.3.6</span> DateTime Style Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-connector-record" title="DateTime Connector Record"><span class="secnum">11.2.3.7</span> DateTime Connector Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-date-range-record" title="DateTime Date Range Record"><span class="secnum">11.2.3.8</span> DateTime Date Range Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-time-range-record" title="DateTime Time Range Record"><span class="secnum">11.2.3.9</span> DateTime Time Range Record</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-style-range-record" title="DateTime Style Range Record"><span class="secnum">11.2.3.10</span> DateTime Style Range Record</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-datetimeformat-prototype-object" title="Intl.DateTimeFormat プロトタイプオブジェクトのプロパティ"><span class="secnum">11.3</span> Intl.DateTimeFormat プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.constructor" title="Intl.DateTimeFormat.prototype.constructor"><span class="secnum">11.3.1</span> Intl.DateTimeFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.resolvedoptions" title="Intl.DateTimeFormat.prototype.resolvedOptions ( )"><span class="secnum">11.3.2</span> Intl.DateTimeFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.format" title="get Intl.DateTimeFormat.prototype.format"><span class="secnum">11.3.3</span> get Intl.DateTimeFormat.prototype.format</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.formatRange" title="Intl.DateTimeFormat.prototype.formatRange ( startDate, endDate )"><span class="secnum">11.3.4</span> Intl.DateTimeFormat.prototype.formatRange ( <var>startDate</var>, <var>endDate</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DateTimeFormat.prototype.formatRangeToParts" title="Intl.DateTimeFormat.prototype.formatRangeToParts ( startDate, endDate )"><span class="secnum">11.3.5</span> Intl.DateTimeFormat.prototype.formatRangeToParts ( <var>startDate</var>, <var>endDate</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DateTimeFormat.prototype.formatToParts" title="Intl.DateTimeFormat.prototype.formatToParts ( date )"><span class="secnum">11.3.6</span> Intl.DateTimeFormat.prototype.formatToParts ( <var>date</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype-%symbol.tostringtag%" title="Intl.DateTimeFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">11.3.7</span> Intl.DateTimeFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-datetimeformat-instances" title="Intl.DateTimeFormat インスタンスのプロパティ"><span class="secnum">11.4</span> Intl.DateTimeFormat インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-datetimeformat-abstracts" title="日付時刻フォーマットオブジェクトの抽象操作"><span class="secnum">11.5</span> 日付時刻フォーマットオブジェクトの抽象操作</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-date-time-style-format" title="DateTimeStyleFormat ( dateStyle, timeStyle, styles )"><span class="secnum">11.5.1</span> DateTimeStyleFormat ( <var>dateStyle</var>, <var>timeStyle</var>, <var>styles</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-basicformatmatcher" title="BasicFormatMatcher ( options, formats )"><span class="secnum">11.5.2</span> BasicFormatMatcher ( <var>options</var>, <var>formats</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bestfitformatmatcher" title="BestFitFormatMatcher ( options, formats )"><span class="secnum">11.5.3</span> BestFitFormatMatcher ( <var>options</var>, <var>formats</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetime-format-functions" title="日付時刻フォーマット関数"><span class="secnum">11.5.4</span> 日付時刻フォーマット関数</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimepattern" title="FormatDateTimePattern ( dateTimeFormat, format, pattern, epochNanoseconds )"><span class="secnum">11.5.5</span> FormatDateTimePattern ( <var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>epochNanoseconds</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitiondatetimepattern" title="PartitionDateTimePattern ( dateTimeFormat, x )"><span class="secnum">11.5.6</span> PartitionDateTimePattern ( <var>dateTimeFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetime" title="FormatDateTime ( dateTimeFormat, x )"><span class="secnum">11.5.7</span> FormatDateTime ( <var>dateTimeFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimetoparts" title="FormatDateTimeToParts ( dateTimeFormat, x )"><span class="secnum">11.5.8</span> FormatDateTimeToParts ( <var>dateTimeFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitiondatetimerangepattern" title="PartitionDateTimeRangePattern ( dateTimeFormat, x, y )"><span class="secnum">11.5.9</span> PartitionDateTimeRangePattern ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimerange" title="FormatDateTimeRange ( dateTimeFormat, x, y )"><span class="secnum">11.5.10</span> FormatDateTimeRange ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimerangetoparts" title="FormatDateTimeRangeToParts ( dateTimeFormat, x, y )"><span class="secnum">11.5.11</span> FormatDateTimeRangeToParts ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-tolocaltime" title="ToLocalTime ( epochNs, calendar, timeZoneIdentifier )"><span class="secnum">11.5.12</span> ToLocalTime ( <var>epochNs</var>, <var>calendar</var>, <var>timeZoneIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-tolocaltime-records" title="ToLocalTime レコード"><span class="secnum">11.5.13</span> ToLocalTime レコード</a></li><li><span class="item-toggle-none"></span><a href="#sec-unwrapdatetimeformat" title="UnwrapDateTimeFormat ( dtf )"><span class="secnum">11.5.14</span> UnwrapDateTimeFormat ( <var>dtf</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#intl-displaynames-objects" title="DisplayNames オブジェクト"><span class="secnum">12</span> DisplayNames オブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-displaynames-constructor" title="Intl.DisplayNames コンストラクター"><span class="secnum">12.1</span> Intl.DisplayNames コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames" title="Intl.DisplayNames ( locales, options )"><span class="secnum">12.1.1</span> Intl.DisplayNames ( <var>locales</var>, <var>options</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-displaynames-constructor" title="Intl.DisplayNames コンストラクターのプロパティ"><span class="secnum">12.2</span> Intl.DisplayNames コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype" title="Intl.DisplayNames.prototype"><span class="secnum">12.2.1</span> Intl.DisplayNames.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.supportedLocalesOf" title="Intl.DisplayNames.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">12.2.2</span> Intl.DisplayNames.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames-internal-slots" title="内部スロット"><span class="secnum">12.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-displaynames-prototype-object" title="Intl.DisplayNames プロトタイプオブジェクトのプロパティ"><span class="secnum">12.3</span> Intl.DisplayNames プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype.constructor" title="Intl.DisplayNames.prototype.constructor"><span class="secnum">12.3.1</span> Intl.DisplayNames.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype.resolvedOptions" title="Intl.DisplayNames.prototype.resolvedOptions ( )"><span class="secnum">12.3.2</span> Intl.DisplayNames.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype.of" title="Intl.DisplayNames.prototype.of ( code )"><span class="secnum">12.3.3</span> Intl.DisplayNames.prototype.of ( <var>code</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.displaynames.prototype-%symbol.tostringtag%" title="Intl.DisplayNames.prototype [ %Symbol.toStringTag% ]"><span class="secnum">12.3.4</span> Intl.DisplayNames.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-displaynames-instances" title="Intl.DisplayNames インスタンスのプロパティ"><span class="secnum">12.4</span> Intl.DisplayNames インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-displaynames-abstracts" title="DisplayNames オブジェクトの抽象操作"><span class="secnum">12.5</span> DisplayNames オブジェクトの抽象操作</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-canonicalcodefordisplaynames" title="CanonicalCodeForDisplayNames ( type, code )"><span class="secnum">12.5.1</span> CanonicalCodeForDisplayNames ( <var>type</var>, <var>code</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-isvaliddatetimefieldcode" title="IsValidDateTimeFieldCode ( field )"><span class="secnum">12.5.2</span> IsValidDateTimeFieldCode ( <var>field</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#durationformat-objects" title="DurationFormat オブジェクト"><span class="secnum">13</span> DurationFormat オブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-durationformat-constructor" title="Intl.DurationFormat コンストラクター"><span class="secnum">13.1</span> Intl.DurationFormat コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat" title="Intl.DurationFormat ( [ locales [ , options ] ] )"><span class="secnum">13.1.1</span> Intl.DurationFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-durationformat-constructor" title="Intl.DurationFormat コンストラクターのプロパティ"><span class="secnum">13.2</span> Intl.DurationFormat コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype" title="Intl.DurationFormat.prototype"><span class="secnum">13.2.1</span> Intl.DurationFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.supportedLocalesOf" title="Intl.DurationFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">13.2.2</span> Intl.DurationFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat-internal-slots" title="内部スロット"><span class="secnum">13.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-durationformat-prototype-object" title="Intl.DurationFormat プロトタイプオブジェクトのプロパティ"><span class="secnum">13.3</span> Intl.DurationFormat プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.constructor" title="Intl.DurationFormat.prototype.constructor"><span class="secnum">13.3.1</span> Intl.DurationFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.resolvedOptions" title="Intl.DurationFormat.prototype.resolvedOptions ( )"><span class="secnum">13.3.2</span> Intl.DurationFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.format" title="Intl.DurationFormat.prototype.format ( duration )"><span class="secnum">13.3.3</span> Intl.DurationFormat.prototype.format ( <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.formatToParts" title="Intl.DurationFormat.prototype.formatToParts ( duration )"><span class="secnum">13.3.4</span> Intl.DurationFormat.prototype.formatToParts ( <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype-%symbol.tostringtag%" title="Intl.DurationFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">13.3.5</span> Intl.DurationFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-durationformat-instances" title="Intl.DurationFormat インスタンスのプロパティ"><span class="secnum">13.4</span> Intl.DurationFormat インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-durationformat-abstracts" title="DurationFormat オブジェクトの抽象演算"><span class="secnum">13.5</span> DurationFormat オブジェクトの抽象演算</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-duration-records" title="Duration レコード"><span class="secnum">13.5.1</span> Duration レコード</a></li><li><span class="item-toggle-none"></span><a href="#sec-tointegerifintegral" title="ToIntegerIfIntegral ( argument )"><span class="secnum">13.5.2</span> ToIntegerIfIntegral ( <var>argument</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-todurationrecord" title="ToDurationRecord ( input )"><span class="secnum">13.5.3</span> ToDurationRecord ( <var>input</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-durationsign" title="DurationSign ( duration )"><span class="secnum">13.5.4</span> DurationSign ( <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-isvalidduration" title="IsValidDuration ( years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds )"><span class="secnum">13.5.5</span> IsValidDuration ( <var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>, <var>nanoseconds</var> )</a></li><li><span class="item-toggle">+</span><a href="#sec-getdurationunitoptions" title="GetDurationUnitOptions ( unit, options, baseStyle, stylesList, digitalBase, prevStyle, twoDigitHours )"><span class="secnum">13.5.6</span> GetDurationUnitOptions ( <var>unit</var>, <var>options</var>, <var>baseStyle</var>, <var>stylesList</var>, <var>digitalBase</var>, <var>prevStyle</var>, <var>twoDigitHours</var> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-durationformat-unit-options-record" title="Duration Unit Options レコード"><span class="secnum">13.5.6.1</span> Duration Unit Options レコード</a></li><li><span class="item-toggle-none"></span><a href="#sec-validatedurationunitstyle" title="ValidateDurationUnitStyle ( unit, style, display, prevStyle )"><span class="secnum">13.5.6.2</span> ValidateDurationUnitStyle ( <var>unit</var>, <var>style</var>, <var>display</var>, <var>prevStyle</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-computefractionaldigits" title="ComputeFractionalDigits ( durationFormat, duration )"><span class="secnum">13.5.7</span> ComputeFractionalDigits ( <var>durationFormat</var>, <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-nextunitfractional" title="NextUnitFractional ( durationFormat, unit )"><span class="secnum">13.5.8</span> NextUnitFractional ( <var>durationFormat</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumerichours" title="FormatNumericHours ( durationFormat, hoursValue, signDisplayed )"><span class="secnum">13.5.9</span> FormatNumericHours ( <var>durationFormat</var>, <var>hoursValue</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericminutes" title="FormatNumericMinutes ( durationFormat, minutesValue, hoursDisplayed, signDisplayed )"><span class="secnum">13.5.10</span> FormatNumericMinutes ( <var>durationFormat</var>, <var>minutesValue</var>, <var>hoursDisplayed</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericseconds" title="FormatNumericSeconds ( durationFormat, secondsValue, minutesDisplayed, signDisplayed )"><span class="secnum">13.5.11</span> FormatNumericSeconds ( <var>durationFormat</var>, <var>secondsValue</var>, <var>minutesDisplayed</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericunits" title="FormatNumericUnits ( durationFormat, duration, firstNumericUnit, signDisplayed )"><span class="secnum">13.5.12</span> FormatNumericUnits ( <var>durationFormat</var>, <var>duration</var>, <var>firstNumericUnit</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-isfractionalsecondunitname" title="IsFractionalSecondUnitName ( unit )"><span class="secnum">13.5.13</span> IsFractionalSecondUnitName ( <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-listformatparts" title="ListFormatParts ( durationFormat, partitionedPartsList )"><span class="secnum">13.5.14</span> ListFormatParts ( <var>durationFormat</var>, <var>partitionedPartsList</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitiondurationformatpattern" title="PartitionDurationFormatPattern ( durationFormat, duration )"><span class="secnum">13.5.15</span> PartitionDurationFormatPattern ( <var>durationFormat</var>, <var>duration</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#listformat-objects" title="ListFormat オブジェクト"><span class="secnum">14</span> ListFormat オブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-listformat-constructor" title="Intl.ListFormat コンストラクター"><span class="secnum">14.1</span> Intl.ListFormat コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat" title="Intl.ListFormat ( [ locales [ , options ] ] )"><span class="secnum">14.1.1</span> Intl.ListFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-listformat-constructor" title="Intl.ListFormat コンストラクターのプロパティ"><span class="secnum">14.2</span> Intl.ListFormat コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype" title="Intl.ListFormat.prototype"><span class="secnum">14.2.1</span> Intl.ListFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.supportedLocalesOf" title="Intl.ListFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">14.2.2</span> Intl.ListFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat-internal-slots" title="内部スロット"><span class="secnum">14.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-listformat-prototype-object" title="Intl.ListFormat プロトタイプオブジェクトのプロパティ"><span class="secnum">14.3</span> Intl.ListFormat プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.constructor" title="Intl.ListFormat.prototype.constructor"><span class="secnum">14.3.1</span> Intl.ListFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.resolvedoptions" title="Intl.ListFormat.prototype.resolvedOptions ( )"><span class="secnum">14.3.2</span> Intl.ListFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.format" title="Intl.ListFormat.prototype.format ( list )"><span class="secnum">14.3.3</span> Intl.ListFormat.prototype.format ( <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.formatToParts" title="Intl.ListFormat.prototype.formatToParts ( list )"><span class="secnum">14.3.4</span> Intl.ListFormat.prototype.formatToParts ( <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype-toStringTag" title="Intl.ListFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">14.3.5</span> Intl.ListFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-listformat-instances" title="Intl.ListFormat インスタンスのプロパティ"><span class="secnum">14.4</span> Intl.ListFormat インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-listformat-abstracts" title="ListFormat オブジェクトの抽象操作"><span class="secnum">14.5</span> ListFormat オブジェクトの抽象操作</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-deconstructpattern" title="DeconstructPattern ( pattern, placeables )"><span class="secnum">14.5.1</span> DeconstructPattern ( <var>pattern</var>, <var>placeables</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-createpartsfromlist" title="CreatePartsFromList ( listFormat, list )"><span class="secnum">14.5.2</span> CreatePartsFromList ( <var>listFormat</var>, <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatlist" title="FormatList ( listFormat, list )"><span class="secnum">14.5.3</span> FormatList ( <var>listFormat</var>, <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatlisttoparts" title="FormatListToParts ( listFormat, list )"><span class="secnum">14.5.4</span> FormatListToParts ( <var>listFormat</var>, <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-createstringlistfromiterable" title="StringListFromIterable ( iterable )"><span class="secnum">14.5.5</span> StringListFromIterable ( <var>iterable</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#locale-objects" title="ロケールオブジェクト"><span class="secnum">15</span> ロケールオブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-locale-constructor" title="Intl.Locale コンストラクター"><span class="secnum">15.1</span> Intl.Locale コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale" title="Intl.Locale ( tag [ , options ] )"><span class="secnum">15.1.1</span> Intl.Locale ( <var>tag</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-updatelanguageid" title="UpdateLanguageId ( tag, options )"><span class="secnum">15.1.2</span> UpdateLanguageId ( <var>tag</var>, <var>options</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-makelocalerecord" title="MakeLocaleRecord ( tag, options, localeExtensionKeys )"><span class="secnum">15.1.3</span> MakeLocaleRecord ( <var>tag</var>, <var>options</var>, <var>localeExtensionKeys</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-locale-constructor" title="Intl.Locale コンストラクターのプロパティ"><span class="secnum">15.2</span> Intl.Locale コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype" title="Intl.Locale.prototype"><span class="secnum">15.2.1</span> Intl.Locale.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.locale-internal-slots" title="内部スロット"><span class="secnum">15.2.2</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-locale-prototype-object" title="Intl.Locale プロトタイプオブジェクトのプロパティ"><span class="secnum">15.3</span> Intl.Locale プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.constructor" title="Intl.Locale.prototype.constructor"><span class="secnum">15.3.1</span> Intl.Locale.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.baseName" title="get Intl.Locale.prototype.baseName"><span class="secnum">15.3.2</span> get Intl.Locale.prototype.baseName</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.calendar" title="get Intl.Locale.prototype.calendar"><span class="secnum">15.3.3</span> get Intl.Locale.prototype.calendar</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.caseFirst" title="get Intl.Locale.prototype.caseFirst"><span class="secnum">15.3.4</span> get Intl.Locale.prototype.caseFirst</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.collation" title="get Intl.Locale.prototype.collation"><span class="secnum">15.3.5</span> get Intl.Locale.prototype.collation</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.firstDayOfWeek" title="get Intl.Locale.prototype.firstDayOfWeek"><span class="secnum">15.3.6</span> get Intl.Locale.prototype.firstDayOfWeek</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.hourCycle" title="get Intl.Locale.prototype.hourCycle"><span class="secnum">15.3.7</span> get Intl.Locale.prototype.hourCycle</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.language" title="get Intl.Locale.prototype.language"><span class="secnum">15.3.8</span> get Intl.Locale.prototype.language</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.maximize" title="Intl.Locale.prototype.maximize ( )"><span class="secnum">15.3.9</span> Intl.Locale.prototype.maximize ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.minimize" title="Intl.Locale.prototype.minimize ( )"><span class="secnum">15.3.10</span> Intl.Locale.prototype.minimize ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.numberingSystem" title="get Intl.Locale.prototype.numberingSystem"><span class="secnum">15.3.11</span> get Intl.Locale.prototype.numberingSystem</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.numeric" title="get Intl.Locale.prototype.numeric"><span class="secnum">15.3.12</span> get Intl.Locale.prototype.numeric</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.region" title="get Intl.Locale.prototype.region"><span class="secnum">15.3.13</span> get Intl.Locale.prototype.region</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.script" title="get Intl.Locale.prototype.script"><span class="secnum">15.3.14</span> get Intl.Locale.prototype.script</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.toString" title="Intl.Locale.prototype.toString ( )"><span class="secnum">15.3.15</span> Intl.Locale.prototype.toString ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.getCalendars" title="Intl.Locale.prototype.getCalendars ( )"><span class="secnum">15.3.16</span> Intl.Locale.prototype.getCalendars ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.getCollations" title="Intl.Locale.prototype.getCollations ( )"><span class="secnum">15.3.17</span> Intl.Locale.prototype.getCollations ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.getHourCycles" title="Intl.Locale.prototype.getHourCycles ( )"><span class="secnum">15.3.18</span> Intl.Locale.prototype.getHourCycles ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.getNumberingSystems" title="Intl.Locale.prototype.getNumberingSystems ( )"><span class="secnum">15.3.19</span> Intl.Locale.prototype.getNumberingSystems ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.getTimeZones" title="Intl.Locale.prototype.getTimeZones ( )"><span class="secnum">15.3.20</span> Intl.Locale.prototype.getTimeZones ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.getTextInfo" title="Intl.Locale.prototype.getTextInfo ( )"><span class="secnum">15.3.21</span> Intl.Locale.prototype.getTextInfo ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.getWeekInfo" title="Intl.Locale.prototype.getWeekInfo ( )"><span class="secnum">15.3.22</span> Intl.Locale.prototype.getWeekInfo ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.variants" title="get Intl.Locale.prototype.variants"><span class="secnum">15.3.23</span> get Intl.Locale.prototype.variants</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.locale.prototype-%symbol.tostringtag%" title="Intl.Locale.prototype [ %Symbol.toStringTag% ]"><span class="secnum">15.3.24</span> Intl.Locale.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-locale-instances" title="Intl.Locale インスタンスのプロパティ"><span class="secnum">15.4</span> Intl.Locale インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-locale-abstracts" title="ロケールオブジェクトの抽象操作"><span class="secnum">15.5</span> ロケールオブジェクトの抽象操作</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-getlocalebasename" title="GetLocaleBaseName ( locale )"><span class="secnum">15.5.1</span> GetLocaleBaseName ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocalelanguage" title="GetLocaleLanguage ( locale )"><span class="secnum">15.5.2</span> GetLocaleLanguage ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocalescript" title="GetLocaleScript ( locale )"><span class="secnum">15.5.3</span> GetLocaleScript ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocaleregion" title="GetLocaleRegion ( locale )"><span class="secnum">15.5.4</span> GetLocaleRegion ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocalevariants" title="GetLocaleVariants ( locale )"><span class="secnum">15.5.5</span> GetLocaleVariants ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-unicodeextensionvalue" title="UnicodeExtensionValue ( locale, key )"><span class="secnum">15.5.6</span> UnicodeExtensionValue ( <var>locale</var>, <var>key</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-canonicalunicodesubdivision" title="CanonicalUnicodeSubdivision ( locale, key )"><span class="secnum">15.5.7</span> CanonicalUnicodeSubdivision ( <var>locale</var>, <var>key</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-regionpreference" title="RegionPreference ( locale )"><span class="secnum">15.5.8</span> RegionPreference ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-calendarsoflocale" title="CalendarsOfLocale ( loc )"><span class="secnum">15.5.9</span> CalendarsOfLocale ( <var>loc</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-collationsoflocale" title="CollationsOfLocale ( loc )"><span class="secnum">15.5.10</span> CollationsOfLocale ( <var>loc</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-hourcyclesoflocale" title="HourCyclesOfLocale ( loc )"><span class="secnum">15.5.11</span> HourCyclesOfLocale ( <var>loc</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-numberingsystemsoflocale" title="NumberingSystemsOfLocale ( loc )"><span class="secnum">15.5.12</span> NumberingSystemsOfLocale ( <var>loc</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-timezonesoflocale" title="TimeZonesOfLocale ( loc )"><span class="secnum">15.5.13</span> TimeZonesOfLocale ( <var>loc</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-textdirectionoflocale" title="TextDirectionOfLocale ( loc )"><span class="secnum">15.5.14</span> TextDirectionOfLocale ( <var>loc</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-weekdaytouvalue" title="WeekdayToUValue ( fw )"><span class="secnum">15.5.15</span> WeekdayToUValue ( <var>fw</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-weekdayuvaluetonumber" title="WeekdayUValueToNumber ( fw )"><span class="secnum">15.5.16</span> WeekdayUValueToNumber ( <var>fw</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-weekinfooflocale" title="WeekInfoOfLocale ( loc )"><span class="secnum">15.5.17</span> WeekInfoOfLocale ( <var>loc</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#numberformat-objects" title="NumberFormat オブジェクト"><span class="secnum">16</span> NumberFormat オブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-numberformat-constructor" title="Intl.NumberFormat コンストラクター"><span class="secnum">16.1</span> Intl.NumberFormat コンストラクター</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl.numberformat" title="Intl.NumberFormat ( [ locales [ , options ] ] )"><span class="secnum">16.1.1</span> Intl.NumberFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-chainnumberformat" title="ChainNumberFormat ( numberFormat, newTarget, this )"><span class="secnum">16.1.1.1</span> ChainNumberFormat ( <var>numberFormat</var>, <var>newTarget</var>, <var>this</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-setnumberformatdigitoptions" title="SetNumberFormatDigitOptions ( intlObj, options, mnfdDefault, mxfdDefault, notation )"><span class="secnum">16.1.2</span> SetNumberFormatDigitOptions ( <var>intlObj</var>, <var>options</var>, <var>mnfdDefault</var>, <var>mxfdDefault</var>, <var>notation</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-setnumberformatunitoptions" title="SetNumberFormatUnitOptions ( intlObj, options )"><span class="secnum">16.1.3</span> SetNumberFormatUnitOptions ( <var>intlObj</var>, <var>options</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-numberformat-constructor" title="Intl.NumberFormat コンストラクターのプロパティ"><span class="secnum">16.2</span> Intl.NumberFormat コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype" title="Intl.NumberFormat.prototype"><span class="secnum">16.2.1</span> Intl.NumberFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.supportedlocalesof" title="Intl.NumberFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">16.2.2</span> Intl.NumberFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat-internal-slots" title="内部スロット"><span class="secnum">16.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-numberformat-prototype-object" title="Intl.NumberFormat プロトタイプオブジェクトのプロパティ"><span class="secnum">16.3</span> Intl.NumberFormat プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.constructor" title="Intl.NumberFormat.prototype.constructor"><span class="secnum">16.3.1</span> Intl.NumberFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.resolvedoptions" title="Intl.NumberFormat.prototype.resolvedOptions ( )"><span class="secnum">16.3.2</span> Intl.NumberFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.format" title="get Intl.NumberFormat.prototype.format"><span class="secnum">16.3.3</span> get Intl.NumberFormat.prototype.format</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.formatrange" title="Intl.NumberFormat.prototype.formatRange ( start, end )"><span class="secnum">16.3.4</span> Intl.NumberFormat.prototype.formatRange ( <var>start</var>, <var>end</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.formatrangetoparts" title="Intl.NumberFormat.prototype.formatRangeToParts ( start, end )"><span class="secnum">16.3.5</span> Intl.NumberFormat.prototype.formatRangeToParts ( <var>start</var>, <var>end</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.formattoparts" title="Intl.NumberFormat.prototype.formatToParts ( value )"><span class="secnum">16.3.6</span> Intl.NumberFormat.prototype.formatToParts ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype-%symbol.tostringtag%" title="Intl.NumberFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">16.3.7</span> Intl.NumberFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-numberformat-instances" title="Intl.NumberFormat インスタンスのプロパティ"><span class="secnum">16.4</span> Intl.NumberFormat インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-numberformat-abstracts" title="NumberFormat オブジェクトの抽象演算"><span class="secnum">16.5</span> NumberFormat オブジェクトの抽象演算</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-currencydigits" title="CurrencyDigits ( currency )"><span class="secnum">16.5.1</span> CurrencyDigits ( <var>currency</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-number-format-functions" title="数値フォーマット関数"><span class="secnum">16.5.2</span> 数値フォーマット関数</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumerictostring" title="FormatNumericToString ( intlObject, x )"><span class="secnum">16.5.3</span> FormatNumericToString ( <var>intlObject</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionnumberpattern" title="PartitionNumberPattern ( numberFormat, x )"><span class="secnum">16.5.4</span> PartitionNumberPattern ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionnotationsubpattern" title="PartitionNotationSubPattern ( numberFormat, x, n, exponent )"><span class="secnum">16.5.5</span> PartitionNotationSubPattern ( <var>numberFormat</var>, <var>x</var>, <var>n</var>, <var>exponent</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumber" title="FormatNumeric ( numberFormat, x )"><span class="secnum">16.5.6</span> FormatNumeric ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumbertoparts" title="FormatNumericToParts ( numberFormat, x )"><span class="secnum">16.5.7</span> FormatNumericToParts ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-torawprecision" title="
        ToRawPrecision (
        x: 非負の数学的値,
        minPrecision: 1 から 21 の範囲の整数,
        maxPrecision: 1 から 21 の範囲の整数,
        unsignedRoundingMode:  の Unsigned Rounding
        Mode 列の仕様型、または undefined,
        ): Record { [[FormattedString]]（文字列）, [[RoundedNumber]]（数学的値）, [[IntegerDigitsCount]]（整数）,
        [[RoundingMagnitude]]（整数） }
      "><span class="secnum">16.5.8</span> 
        ToRawPrecision (
        <var>x</var>: 非負の数学的値,
        <var>minPrecision</var>: 1 から 21 の範囲の整数,
        <var>maxPrecision</var>: 1 から 21 の範囲の整数,
        <var>unsignedRoundingMode</var>: <emu-xref href="#table-intl-unsigned-rounding-modes"></emu-xref> の Unsigned Rounding
        Mode 列の仕様型、または <emu-val>undefined</emu-val>,
        ): Record { <var class="field">[[FormattedString]]</var>（文字列）, <var class="field">[[RoundedNumber]]</var>（数学的値）, <var class="field">[[IntegerDigitsCount]]</var>（整数）,
        <var class="field">[[RoundingMagnitude]]</var>（整数） }
      </a></li><li><span class="item-toggle-none"></span><a href="#sec-torawfixed" title="
        ToRawFixed (
        x: 非負の数学的値,
        minFraction: 0 から 100 の範囲の整数,
        maxFraction: 0 から 100 の範囲の整数,
        roundingIncrement: 整数,
        unsignedRoundingMode:  の Unsigned Rounding
        Mode 列の仕様型、または undefined,
        ): Record { [[FormattedString]]（文字列）, [[RoundedNumber]]（数学的値）, [[IntegerDigitsCount]]（整数）,
        [[RoundingMagnitude]]（整数） }
      "><span class="secnum">16.5.9</span> 
        ToRawFixed (
        <var>x</var>: 非負の数学的値,
        <var>minFraction</var>: 0 から 100 の範囲の整数,
        <var>maxFraction</var>: 0 から 100 の範囲の整数,
        <var>roundingIncrement</var>: 整数,
        <var>unsignedRoundingMode</var>: <emu-xref href="#table-intl-unsigned-rounding-modes"></emu-xref> の Unsigned Rounding
        Mode 列の仕様型、または <emu-val>undefined</emu-val>,
        ): Record { <var class="field">[[FormattedString]]</var>（文字列）, <var class="field">[[RoundedNumber]]</var>（数学的値）, <var class="field">[[IntegerDigitsCount]]</var>（整数）,
        <var class="field">[[RoundingMagnitude]]</var>（整数） }
      </a></li><li><span class="item-toggle-none"></span><a href="#sec-unwrapnumberformat" title="UnwrapNumberFormat ( nf )"><span class="secnum">16.5.10</span> UnwrapNumberFormat ( <var>nf</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getnumberformatpattern" title="GetNumberFormatPattern ( numberFormat, x )"><span class="secnum">16.5.11</span> GetNumberFormatPattern ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getnotationsubpattern" title="GetNotationSubPattern ( numberFormat, exponent )"><span class="secnum">16.5.12</span> GetNotationSubPattern ( <var>numberFormat</var>, <var>exponent</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-computeexponent" title="ComputeExponent ( numberFormat, x )"><span class="secnum">16.5.13</span> ComputeExponent ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-computeexponentformagnitude" title="ComputeExponentForMagnitude ( numberFormat, magnitude )"><span class="secnum">16.5.14</span> ComputeExponentForMagnitude ( <var>numberFormat</var>, <var>magnitude</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-runtime-semantics-stringintlmv" title="Runtime Semantics: StringIntlMV"><span class="secnum">16.5.15</span> RS: StringIntlMV</a></li><li><span class="item-toggle-none"></span><a href="#sec-tointlmathematicalvalue" title="ToIntlMathematicalValue ( value )"><span class="secnum">16.5.16</span> ToIntlMathematicalValue ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getunsignedroundingmode" title="GetUnsignedRoundingMode ( roundingMode, sign )"><span class="secnum">16.5.17</span> GetUnsignedRoundingMode ( <var>roundingMode</var>, <var>sign</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-applyunsignedroundingmode" title="
        ApplyUnsignedRoundingMode (
        x: a mathematical value,
        r1: a mathematical value,
        r2: a mathematical value,
        unsignedRoundingMode: a specification type from the Unsigned Rounding Mode column of , or undefined,
        ): a mathematical value
      "><span class="secnum">16.5.18</span> 
        ApplyUnsignedRoundingMode (
        <var>x</var>: a mathematical value,
        <var>r1</var>: a mathematical value,
        <var>r2</var>: a mathematical value,
        <var>unsignedRoundingMode</var>: a specification type from the Unsigned Rounding Mode column of <emu-xref href="#table-intl-unsigned-rounding-modes"></emu-xref>, or <emu-val>undefined</emu-val>,
        ): a mathematical value
      </a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionnumberrangepattern" title="PartitionNumberRangePattern ( numberFormat, x, y )"><span class="secnum">16.5.19</span> PartitionNumberRangePattern ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatapproximately" title="FormatApproximately ( numberFormat, result )"><span class="secnum">16.5.20</span> FormatApproximately ( <var>numberFormat</var>, <var>result</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-collapsenumberrange" title="CollapseNumberRange ( numberFormat, result )"><span class="secnum">16.5.21</span> CollapseNumberRange ( <var>numberFormat</var>, <var>result</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericrange" title="FormatNumericRange ( numberFormat, x, y )"><span class="secnum">16.5.22</span> FormatNumericRange ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericrangetoparts" title="FormatNumericRangeToParts ( numberFormat, x, y )"><span class="secnum">16.5.23</span> FormatNumericRangeToParts ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#pluralrules-objects" title="PluralRules オブジェクト"><span class="secnum">17</span> PluralRules オブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-pluralrules-constructor" title="Intl.PluralRules コンストラクター"><span class="secnum">17.1</span> Intl.PluralRules コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules" title="Intl.PluralRules ( [ locales [ , options ] ] )"><span class="secnum">17.1.1</span> Intl.PluralRules ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-pluralrules-constructor" title="Intl.PluralRules コンストラクターのプロパティ"><span class="secnum">17.2</span> Intl.PluralRules コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype" title="Intl.PluralRules.prototype"><span class="secnum">17.2.1</span> Intl.PluralRules.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.supportedlocalesof" title="Intl.PluralRules.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">17.2.2</span> Intl.PluralRules.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules-internal-slots" title="内部スロット"><span class="secnum">17.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-pluralrules-prototype-object" title="Intl.PluralRules プロトタイプオブジェクトのプロパティ"><span class="secnum">17.3</span> Intl.PluralRules プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.constructor" title="Intl.PluralRules.prototype.constructor"><span class="secnum">17.3.1</span> Intl.PluralRules.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.resolvedoptions" title="Intl.PluralRules.prototype.resolvedOptions ( )"><span class="secnum">17.3.2</span> Intl.PluralRules.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.select" title="Intl.PluralRules.prototype.select ( value )"><span class="secnum">17.3.3</span> Intl.PluralRules.prototype.select ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.selectrange" title="Intl.PluralRules.prototype.selectRange ( start, end )"><span class="secnum">17.3.4</span> Intl.PluralRules.prototype.selectRange ( <var>start</var>, <var>end</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype-%symbol.tostringtag%" title="Intl.PluralRules.prototype [ %Symbol.toStringTag% ]"><span class="secnum">17.3.5</span> Intl.PluralRules.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-pluralrules-instances" title="Intl.PluralRules インスタンスのプロパティ"><span class="secnum">17.4</span> Intl.PluralRules インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-pluralrules-abstracts" title="PluralRules オブジェクトの抽象演算"><span class="secnum">17.5</span> PluralRules オブジェクトの抽象演算</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-pluralruleselect" title="PluralRuleSelect ( locale, type, notation, compactDisplay, s )"><span class="secnum">17.5.1</span> PluralRuleSelect ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>s</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolveplural" title="ResolvePlural ( pluralRules, n )"><span class="secnum">17.5.2</span> ResolvePlural ( <var>pluralRules</var>, <var>n</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-pluralruleselectrange" title="PluralRuleSelectRange ( locale, type, notation, compactDisplay, xp, yp )"><span class="secnum">17.5.3</span> PluralRuleSelectRange ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>xp</var>, <var>yp</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolvepluralrange" title="ResolvePluralRange ( pluralRules, x, y )"><span class="secnum">17.5.4</span> ResolvePluralRange ( <var>pluralRules</var>, <var>x</var>, <var>y</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#relativetimeformat-objects" title="RelativeTimeFormat オブジェクト"><span class="secnum">18</span> RelativeTimeFormat オブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-relativetimeformat-constructor" title="Intl.RelativeTimeFormat コンストラクター"><span class="secnum">18.1</span> Intl.RelativeTimeFormat コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat" title="Intl.RelativeTimeFormat ( [ locales [ , options ] ] )"><span class="secnum">18.1.1</span> Intl.RelativeTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-relativetimeformat-constructor" title="Intl.RelativeTimeFormat コンストラクターのプロパティ"><span class="secnum">18.2</span> Intl.RelativeTimeFormat コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype" title="Intl.RelativeTimeFormat.prototype"><span class="secnum">18.2.1</span> Intl.RelativeTimeFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.supportedLocalesOf" title="Intl.RelativeTimeFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">18.2.2</span> Intl.RelativeTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat-internal-slots" title="内部スロット"><span class="secnum">18.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-relativetimeformat-prototype-object" title="Intl.RelativeTimeFormat プロトタイプオブジェクトのプロパティ"><span class="secnum">18.3</span> Intl.RelativeTimeFormat プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype.constructor" title="Intl.RelativeTimeFormat.prototype.constructor"><span class="secnum">18.3.1</span> Intl.RelativeTimeFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.relativetimeformat.prototype.resolvedoptions" title="Intl.RelativeTimeFormat.prototype.resolvedOptions ( )"><span class="secnum">18.3.2</span> Intl.RelativeTimeFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype.format" title="Intl.RelativeTimeFormat.prototype.format ( value, unit )"><span class="secnum">18.3.3</span> Intl.RelativeTimeFormat.prototype.format ( <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype.formatToParts" title="Intl.RelativeTimeFormat.prototype.formatToParts ( value, unit )"><span class="secnum">18.3.4</span> Intl.RelativeTimeFormat.prototype.formatToParts ( <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype-toStringTag" title="Intl.RelativeTimeFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">18.3.5</span> Intl.RelativeTimeFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-relativetimeformat-instances" title="Intl.RelativeTimeFormat インスタンスのプロパティ"><span class="secnum">18.4</span> Intl.RelativeTimeFormat インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-relativetimeformat--abstracts" title="RelativeTimeFormat オブジェクトの抽象演算"><span class="secnum">18.5</span> RelativeTimeFormat オブジェクトの抽象演算</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-singularrelativetimeunit" title="SingularRelativeTimeUnit ( unit )"><span class="secnum">18.5.1</span> SingularRelativeTimeUnit ( <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-PartitionRelativeTimePattern" title="PartitionRelativeTimePattern ( relativeTimeFormat, value, unit )"><span class="secnum">18.5.2</span> PartitionRelativeTimePattern ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-makepartslist" title="MakePartsList ( pattern, unit, parts )"><span class="secnum">18.5.3</span> MakePartsList ( <var>pattern</var>, <var>unit</var>, <var>parts</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-FormatRelativeTime" title="FormatRelativeTime ( relativeTimeFormat, value, unit )"><span class="secnum">18.5.4</span> FormatRelativeTime ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-FormatRelativeTimeToParts" title="FormatRelativeTimeToParts ( relativeTimeFormat, value, unit )"><span class="secnum">18.5.5</span> FormatRelativeTimeToParts ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#segmenter-objects" title="セグメンターオブジェクト"><span class="secnum">19</span> セグメンターオブジェクト</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-segmenter-constructor" title="Intl.Segmenter コンストラクター"><span class="secnum">19.1</span> Intl.Segmenter コンストラクター</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter" title="Intl.Segmenter ( [ locales [ , options ] ] )"><span class="secnum">19.1.1</span> Intl.Segmenter ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-segmenter-constructor" title="Intl.Segmenter コンストラクターのプロパティ"><span class="secnum">19.2</span> Intl.Segmenter コンストラクターのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype" title="Intl.Segmenter.prototype"><span class="secnum">19.2.1</span> Intl.Segmenter.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.supportedlocalesof" title="Intl.Segmenter.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">19.2.2</span> Intl.Segmenter.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter-internal-slots" title="内部スロット"><span class="secnum">19.2.3</span> 内部スロット</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-segmenter-prototype-object" title="Intl.Segmenter プロトタイプオブジェクトのプロパティ"><span class="secnum">19.3</span> Intl.Segmenter プロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype.constructor" title="Intl.Segmenter.prototype.constructor"><span class="secnum">19.3.1</span> Intl.Segmenter.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype.resolvedoptions" title="Intl.Segmenter.prototype.resolvedOptions ( )"><span class="secnum">19.3.2</span> Intl.Segmenter.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype.segment" title="Intl.Segmenter.prototype.segment ( string )"><span class="secnum">19.3.3</span> Intl.Segmenter.prototype.segment ( <var>string</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype-%symbol.tostringtag%" title="Intl.Segmenter.prototype [ %Symbol.toStringTag% ]"><span class="secnum">19.3.4</span> Intl.Segmenter.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-segmenter-instances" title="Intl.Segmenter インスタンスのプロパティ"><span class="secnum">19.4</span> Intl.Segmenter インスタンスのプロパティ</a></li><li><span class="item-toggle">+</span><a href="#sec-segments-objects" title="Segments オブジェクト"><span class="secnum">19.5</span> Segments オブジェクト</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-createsegmentsobject" title="CreateSegmentsObject ( segmenter, string )"><span class="secnum">19.5.1</span> CreateSegmentsObject ( <var>segmenter</var>, <var>string</var> )</a></li><li><span class="item-toggle">+</span><a href="#sec-%intlsegmentsprototype%-object" title="%IntlSegmentsPrototype% オブジェクト"><span class="secnum">19.5.2</span> %IntlSegmentsPrototype% オブジェクト</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentsprototype%.containing" title="%IntlSegmentsPrototype%.containing ( index )"><span class="secnum">19.5.2.1</span> %IntlSegmentsPrototype%.containing ( <var>index</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentsprototype%-%symbol.iterator%" title="%IntlSegmentsPrototype% [ %Symbol.iterator% ] ( )"><span class="secnum">19.5.2.2</span> %IntlSegmentsPrototype% [ %Symbol.iterator% ] ( )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-segments-instances" title="Segments インスタンスのプロパティ"><span class="secnum">19.5.3</span> Segments インスタンスのプロパティ</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-segment-iterator-objects" title="Segment Iterator オブジェクト"><span class="secnum">19.6</span> Segment Iterator オブジェクト</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-createsegmentiterator" title="CreateSegmentIterator ( segmenter, string )"><span class="secnum">19.6.1</span> CreateSegmentIterator ( <var>segmenter</var>, <var>string</var> )</a></li><li><span class="item-toggle">+</span><a href="#sec-%intlsegmentiteratorprototype%-object" title="%IntlSegmentIteratorPrototype% オブジェクト"><span class="secnum">19.6.2</span> %IntlSegmentIteratorPrototype% オブジェクト</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentiteratorprototype%.next" title="%IntlSegmentIteratorPrototype%.next ( )"><span class="secnum">19.6.2.1</span> %IntlSegmentIteratorPrototype%.next ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentiteratorprototype%.%symbol.tostringtag%" title="%IntlSegmentIteratorPrototype% [ %Symbol.toStringTag% ]"><span class="secnum">19.6.2.2</span> %IntlSegmentIteratorPrototype% [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-segment-iterator-instances" title="Segment Iterator インスタンスのプロパティ"><span class="secnum">19.6.3</span> Segment Iterator インスタンスのプロパティ</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-segment-data-objects" title="Segment Data オブジェクト"><span class="secnum">19.7</span> Segment Data オブジェクト</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-createsegmentdataobject" title="CreateSegmentDataObject ( segmenter, string, startIndex, endIndex )"><span class="secnum">19.7.1</span> CreateSegmentDataObject ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-intl-segmenter-abstracts" title="セグメンターオブジェクトの抽象操作"><span class="secnum">19.8</span> セグメンターオブジェクトの抽象操作</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-findboundary" title="FindBoundary ( segmenter, string, startIndex, direction )"><span class="secnum">19.8.1</span> FindBoundary ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>direction</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#locale-sensitive-functions" title="ECMAScript言語仕様のロケール依存関数"><span class="secnum">20</span> ECMAScript言語仕様のロケール依存関数</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-string-prototype-object" title="Stringプロトタイプオブジェクトのプロパティ"><span class="secnum">20.1</span> Stringプロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-String.prototype.localeCompare" title="String.prototype.localeCompare ( that [ , locales [ , options ] ] )"><span class="secnum">20.1.1</span> String.prototype.localeCompare ( <var>that</var> [ , <var>locales</var> [ , <var>options</var> ] ] )</a></li><li><span class="item-toggle">+</span><a href="#sup-string.prototype.tolocalelowercase" title="String.prototype.toLocaleLowerCase ( [ locales ] )"><span class="secnum">20.1.2</span> String.prototype.toLocaleLowerCase ( [ <var>locales</var> ] )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-transform-case" title="TransformCase ( S, locales, targetCase )"><span class="secnum">20.1.2.1</span> TransformCase ( <var>S</var>, <var>locales</var>, <var>targetCase</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sup-string.prototype.tolocaleuppercase" title="String.prototype.toLocaleUpperCase ( [ locales ] )"><span class="secnum">20.1.3</span> String.prototype.toLocaleUpperCase ( [ <var>locales</var> ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-number-prototype-object" title="Numberプロトタイプオブジェクトのプロパティ"><span class="secnum">20.2</span> Numberプロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-number.prototype.tolocalestring" title="Number.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.2.1</span> Number.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-bigint-prototype-object" title="BigIntプロトタイプオブジェクトのプロパティ"><span class="secnum">20.3</span> BigIntプロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-bigint.prototype.tolocalestring" title="BigInt.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.3.1</span> BigInt.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-date-prototype-object" title="Dateプロトタイプオブジェクトのプロパティ"><span class="secnum">20.4</span> Dateプロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-date.prototype.tolocalestring" title="Date.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.4.1</span> Date.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sup-date.prototype.tolocaledatestring" title="Date.prototype.toLocaleDateString ( [ locales [ , options ] ] )"><span class="secnum">20.4.2</span> Date.prototype.toLocaleDateString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sup-date.prototype.tolocaletimestring" title="Date.prototype.toLocaleTimeString ( [ locales [ , options ] ] )"><span class="secnum">20.4.3</span> Date.prototype.toLocaleTimeString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-array-prototype-object" title="Arrayプロトタイプオブジェクトのプロパティ"><span class="secnum">20.5</span> Arrayプロトタイプオブジェクトのプロパティ</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-array.prototype.tolocalestring" title="Array.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.5.1</span> Array.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li></ol></li><li><span class="item-toggle-none"></span><a href="#annex-implementation-dependent-behaviour" title="実装依存の動作"><span class="secnum">Annex A <span class="annex-kind">(informative)</span></span> 実装依存の動作</a></li><li><span class="item-toggle-none"></span><a href="#annex-incompatibilities" title="以前の版との非互換性を導入する追加と変更"><span class="secnum">Annex B <span class="annex-kind">(informative)</span></span> 以前の版との非互換性を導入する追加と変更</a></li><li><span class="item-toggle-none"></span><a href="#sec-colophon" title="コロフォン"><span class="secnum">Annex C <span class="annex-kind">(informative)</span></span> コロフォン</a></li><li><span class="item-toggle-none"></span><a href="#sec-copyright-and-software-license" title="Copyright &amp; Software License">Copyright &amp; Software License</a></li></ol></div></div><div id="spec-container"><h1 class="version">Draft ECMA-402 / February 21, 2026</h1><h1 class="title">ECMAScript® 2026 Internationalization API Specification</h1>
<p><img src="img/ecma-logo.svg" id="ecma-logo"></p>
<div id="metadata-block">
  <h1>この仕様への貢献について</h1>
  <p>この仕様は、ECMAScriptコミュニティの協力のもと、GitHubで開発されています。仕様の開発に貢献する方法はいくつかあります：</p>
  <ul>
    <li>GitHubリポジトリ: <a href="https://github.com/tc39/ecma402">https://github.com/tc39/ecma402</a></li>
    <li>イシュー: <a href="https://github.com/tc39/ecma402/issues">すべてのイシュー</a>, <a href="https://github.com/tc39/ecma402/issues/new">新しいイシューを作成</a></li>
    <li>プルリクエスト: <a href="https://github.com/tc39/ecma402/pulls">すべてのプルリクエスト</a>, <a href="https://github.com/tc39/ecma402/pulls/new">新しいプルリクエストを作成</a></li>
    <li>テストスイート: <a href="https://github.com/tc39/test262">Test262</a></li>
    <li>TC39-TG2:
      <ul>
        <li>コンビーナー: <a href="mailto:shane@unicode.org">Shane F. Carr</a> (<a href="https://github.com/sffc">@sffc</a>)
        </li>
        <li>管理グループ: <a href="mailto:ecma402-admin@chromium.org">メールで連絡</a></li>
      </ul>
    </li>
    <li>編集者:
      <ul>
        <li><a href="mailto:benallen@igalia.com">Ben Allen</a> (<a href="https://github.com/ben-allen">@ben-allen</a>)
        </li>
        <li><a href="mailto:richard.gibson+ecma402@gmail.com">Richard Gibson</a> (<a href="https://github.com/gibson042">@gibson042</a>)</li>
        <li><a href="mailto:ryzokuken@igalia.com">Ujjwal Sharma</a> (<a href="https://github.com/ryzokuken">@ryzokuken</a>)</li>
      </ul>
    </li>
    <li>
      コミュニティ:
      <ul>
        <li>Matrix: <a href="https://matrix.to/#/#tc39:matrix.org">#tc39:matrix.org</a></li>
        <li>Matrix: <a href="https://matrix.to/#/#tc39-ecma402:matrix.org">#tc39-ecma402:matrix.org</a></li>
      </ul>
    </li>
  </ul>
  <p><emu-xref href="#sec-colophon" id="_ref_0"><a href="#sec-colophon">コロフォン</a></emu-xref>を参照して、このドキュメントの作成方法について詳しく知ることができます。</p>
</div>
<emu-intro id="introduction">
  <h1>イントロダクション</h1>
  <p>この仕様のソースは <a href="https://github.com/tc39/ecma402">https://github.com/tc39/ecma402</a> にあります。</p>
  <p>ECMAScript 2026 国際化 API 仕様（ECMA-402 第13版）は、<emu-xref href="#ecma262" id="_ref_228"><a href="#ecma262">ECMA-262</a></emu-xref> を補完する主要な言語依存機能を提供します。その機能は、<dfn id="icu" tabindex="-1">Unicode
      の国際化コンポーネント（ICU）ライブラリ</dfn>（<a href="https://unicode-org.github.io/icu-docs/">https://unicode-org.github.io/icu-docs/</a>）、.NET フレームワーク、Java
    プラットフォームなどの確立された国際化 API から選択されています。</p>
  <p>第1版 API は、Nebojša Ćirić と Jungshik Shin の提案に基づき、2010年9月に Ecma TC39 によって設立されたアドホックグループによって開発されました。</p>
  <p>第2版 API は、2015年6月の総会で ECMAScript 第6版の補完として採用されました。</p>
  <p>第3版 API は、Ecma TC39 の新しい年間リリースサイクルとオープン開発プロセスの下で最初にリリースされた版です。ECMA-402 ソースドキュメントからプレーンテキストのソースドキュメントが作成され、GitHub
    上でのさらなる開発の基盤となりました。この標準の開発期間中、バグ修正、編集修正、その他の改善を表す多数のプルリクエストやイシューが提出されました。さらに、Ecmarkup、Ecmarkdown、Grammarkdown
    などの多数のソフトウェアツールがこの作業を支援するために開発されました。</p>
  <p>多くの組織を代表する多数の個人が、Ecma TC39 内でこの版および以前の版の開発に非常に重要な貢献をしました。また、TC39 の ECMAScript
    活動を支援する活発なコミュニティが生まれました。このコミュニティは、多くのドラフトをレビューし、数多くのバグレポートを提出し、実装実験を行い、テストスイートを提供し、ECMAScript
    国際化について世界中の開発者コミュニティを教育しました。残念ながら、この活動に貢献したすべての人や組織を特定して認識することは不可能です。</p>
  <p>
    Norbert Lindenberg<br>
    ECMA-402 第1版 プロジェクトエディター
  </p>
  <p>
    Rick Waldron<br>
    ECMA-402 第2版 プロジェクトエディター
  </p>
  <p>
    Caridy Patiño<br>
    ECMA-402 第3版、第4版、第5版 プロジェクトエディター
  </p>
  <p>
    Caridy Patiño, Daniel Ehrenberg, Leo Balter<br>
    ECMA-402 第6版 プロジェクトエディター
  </p>
  <p>
    Leo Balter, Valerie Young, Isaac Durazo<br>
    ECMA-402 第7版 プロジェクトエディター
  </p>
  <p>
    Leo Balter, Richard Gibson<br>
    ECMA-402 第8版 プロジェクトエディター
  </p>
  <p>
    Leo Balter, Richard Gibson, Ujjwal Sharma<br>
    ECMA-402 第9版 プロジェクトエディター
  </p>
  <p>
    Richard Gibson, Ujjwal Sharma<br>
    ECMA-402 第10版 プロジェクトエディター
  </p>
  <p>
    Richard Gibson, Ujjwal Sharma<br>
    ECMA-402 第11版 プロジェクトエディター
  </p>
  <p>
    Ben Allen, Richard Gibson, Ujjwal Sharma<br>
    ECMA-402 第12版 プロジェクトエディター
  </p>
  <p>
    Ben Allen, Richard Gibson, Ujjwal Sharma<br>
    ECMA-402 第13版 プロジェクトエディター
  </p>
</emu-intro>
<emu-clause id="scope">
  <h1><span class="secnum">1</span> スコープ</h1>
  <p>この標準は、異なる言語や国で使用される言語的および文化的慣習に適応する必要があるプログラムをサポートするECMAScriptオブジェクトのアプリケーションプログラミングインターフェイスを定義します。</p>
</emu-clause>
<emu-clause id="conformance">
  <h1><span class="secnum">2</span> 適合性</h1>
  <p>
    本仕様の適合する実装は、<emu-xref href="#ecma262" id="_ref_229"><a href="#ecma262">ECMA-262</a></emu-xref>に適合しなければならず、本仕様で記述されたすべてのオブジェクト、プロパティ、関数、およびプログラムのセマンティクスを提供し、サポートしなければならない。本仕様のいかなる内容も、<emu-xref href="#ecma262" id="_ref_230"><a href="#ecma262">ECMA-262</a></emu-xref>で禁止されている動作を許可することを意図しておらず、そのような矛盾は編集上の誤りとみなされ、<emu-xref href="#ecma262" id="_ref_231"><a href="#ecma262">ECMA-262</a></emu-xref>の制約を上書きするものではない。
  </p>
  <p>
    適合する実装は、本仕様で記述されていない追加のオブジェクト、プロパティ、関数を提供することが許可されている。特に、適合する実装は、本仕様で記述されていないプロパティや、そのプロパティの値を、本仕様で記述されたオブジェクトに対して提供することが許可されている。適合する実装は、本仕様で定義された関数にオプションの引数を追加することは許可されていない。
  </p>
  <p>適合する実装は、以下の<var>options</var>引数のプロパティについて、追加の値を受け入れ、その場合は<emu-val>RangeError</emu-val>をスローする代わりに実装依存の動作をすることが許可されている：</p>
  <ul>
    <li>すべてのコンストラクターおよび<code>supportedLocalesOf</code>メソッドの<var>options</var>プロパティ<emu-val>"localeMatcher"</emu-val>。</li>
    <li>Collatorコンストラクターの<var>options</var>プロパティ<emu-val>"usage"</emu-val>および<emu-val>"sensitivity"</emu-val>。</li>
    <li>
      NumberFormatコンストラクターの<var>options</var>プロパティ<emu-val>"style"</emu-val>、<emu-val>"currencyDisplay"</emu-val>、<emu-val>"notation"</emu-val>、<emu-val>"compactDisplay"</emu-val>、<emu-val>"signDisplay"</emu-val>、<emu-val>"currencySign"</emu-val>、および<emu-val>"unitDisplay"</emu-val>。
    </li>
    <li>
      NumberFormatコンストラクターの<var>options</var>プロパティ<emu-val>"minimumIntegerDigits"</emu-val>、<emu-val>"minimumFractionDigits"</emu-val>、<emu-val>"maximumFractionDigits"</emu-val>、<emu-val>"minimumSignificantDigits"</emu-val>、および<emu-val>"maximumSignificantDigits"</emu-val>について、追加の値が指定された制限よりも高い整数値として解釈される場合。
    </li>
    <li>DateTimeFormatコンストラクターの<var>options</var>プロパティは<emu-xref href="#table-datetimeformat-components" id="_ref_1"><a href="#table-datetimeformat-components">Table 16</a></emu-xref>に記載されている。
    </li>
    <li>DateTimeFormatコンストラクターの<var>options</var>プロパティ<emu-val>"formatMatcher"</emu-val>。</li>
    <li>
      PluralRulesコンストラクターの<var>options</var>プロパティ<emu-val>"minimumIntegerDigits"</emu-val>、<emu-val>"minimumFractionDigits"</emu-val>、<emu-val>"maximumFractionDigits"</emu-val>、および<emu-val>"minimumSignificantDigits"</emu-val>について、追加の値が指定された制限よりも高い整数値として解釈される場合。
    </li>
    <li>PluralRulesコンストラクターの<var>options</var>プロパティ<emu-val>"type"</emu-val>。</li>
    <li>RelativeTimeFormatコンストラクターの<var>options</var>プロパティ<emu-val>"style"</emu-val>および<emu-val>"numeric"</emu-val>。</li>
    <li>DisplayNamesコンストラクターの<var>options</var>プロパティ<emu-val>"style"</emu-val>および<emu-val>"type"</emu-val>。</li>
  </ul>
</emu-clause>
<emu-clause id="normative-references">
  <h1><span class="secnum">3</span> 規範参照</h1>
  <p>以下の参照文書は本書の適用に必要です。日付付き参照の場合、引用された版のみが適用されます。日付なし参照の場合、参照文書の最新版（改訂や修正を含む）が適用されます。</p>

  <p>
    ECMAScript 2026 言語仕様 (<dfn id="ecma262" tabindex="-1">ECMA-262</dfn> 第17版、または後継)。<br>
    <a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm">https://www.ecma-international.org/publications/standards/Ecma-262.htm</a>
  </p>

  <ul>
    <li>
      ISO/IEC 10646:2014: 情報技術 – ユニバーサル複数オクテット符号化文字集合 (UCS) および改訂1:2015、改訂2、追加改訂および訂正、または後継
      <ul>
        <li><a href="https://www.iso.org/iso/catalogue_detail.htm?csnumber=63182">https://www.iso.org/iso/catalogue_detail.htm?csnumber=63182</a>
        </li>
        <li><a href="https://www.iso.org/iso/catalogue_detail.htm?csnumber=65047">https://www.iso.org/iso/catalogue_detail.htm?csnumber=65047</a>
        </li>
        <li><a href="https://www.iso.org/iso/catalogue_detail.htm?csnumber=66791">https://www.iso.org/iso/catalogue_detail.htm?csnumber=66791</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="https://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=64758">ISO 4217:2015,
        通貨および資金の表現のためのコード、または後継</a>
    </li>
    <li>
      <a href="https://tools.ietf.org/html/rfc4647">IETF RFC 4647, 言語タグの照合、または後継</a>
    </li>
    <li>
      <a href="https://www.iana.org/time-zones/">IANA タイムゾーンデータベース</a>
    </li>
    <li>
      <a href="https://unicode.org/versions/latest">Unicode 標準</a>
    </li>
    <li>
      <a href="https://unicode.org/reports/tr29/">Unicode 標準付属書 #29: Unicode テキストセグメンテーション</a>
    </li>
    <li>
      <a href="https://unicode.org/reports/tr10/">Unicode 技術標準 #10: Unicode コレーションアルゴリズム</a>
    </li>
    <li>
      <a href="https://unicode.org/reports/tr35/">Unicode 技術標準 #35: Unicode ロケールデータマークアップ言語 (LDML)</a>
      <ul>
        <li>
          <a href="https://unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers">パート1 コア、セクション3 Unicode
            言語およびロケール識別子</a>
        </li>
        <li>
          <a href="https://unicode.org/reports/tr35/tr35-general.html#Unit_Identifiers">パート2 一般、セクション6.2 ユニット識別子</a>
        </li>
        <li>
          <a href="https://unicode.org/reports/tr35/tr35-numbers.html#Operands">パート3 数値、セクション5.1.1 オペランド</a>
        </li>
      </ul>
    </li>
  </ul>
  <emu-note><span class="note">Note</span><div class="note-contents">
    本仕様のこれらの参照に依存するセクションは、最善の努力で更新されますが、これらの標準と最新状態であることは保証されません。
  </div></emu-note>
</emu-clause>
<emu-clause id="overview">
  <h1><span class="secnum">4</span> 概要</h1>

  <p>このセクションは非規範的です。</p>

  <emu-clause id="sec-internationalization-localization-globalization">
    <h1><span class="secnum">4.1</span> 国際化、ローカライゼーション、グローバリゼーション</h1>

    <p>
      ソフトウェアの国際化とは、異なる言語を話し、異なる文化的期待を持つユーザーのニーズをサポートする、または容易に適応できるように設計し、世界中のユーザー間のコミュニケーションを可能にすることを意味します。ローカライゼーションは、特定の言語や文化への実際の適応です。ソフトウェアのグローバリゼーションは、一般的に国際化とローカライゼーションの組み合わせと理解されています。グローバリゼーションは、すべての言語をサポートするテキスト表現を使用し、言語、国、タイムゾーン、その他関連するパラメータを識別する標準識別子を使用することから始まります。ユーザーが理解できるユーザーインターフェース言語やデータ表示を使用し、最終的にはユーザーの言語、文化、環境に特化した製品適応が必要となる場合もあります。
    </p>
    <p>
      <emu-xref href="#ecma262" id="_ref_232"><a href="#ecma262">ECMA-262</a></emu-xref>はテキスト表現にUnicodeを使用し、いくつかの言語依存関数を提供することで基盤を築いていますが、これらの関数の動作をアプリケーションが制御することはほとんどできません。本仕様は、その基盤の上にカスタマイズ可能な言語依存機能のセットを提供します。このAPIは、国際化されていないアプリケーションにも有用であり、単一の言語や地域のみを対象とする場合でも、その言語や地域を適切にサポートする必要があります。しかし、このAPIは複数の言語や地域を同時にサポートするアプリケーションも可能にし、サーバー環境などで必要となる場合もあります。
    </p>
  </emu-clause>

  <emu-clause id="sec-api-overview">
    <h1><span class="secnum">4.2</span> API概要</h1>

    <p>
      本仕様は、<emu-xref href="#ecma262" id="_ref_233"><a href="#ecma262">ECMA-262</a></emu-xref>を補完するために設計されており、主要な言語依存機能を提供し、実装に全体または一部を追加できます。本仕様は、ECMAScriptコードから観察可能な新しい言語値（<var class="field">[[FallbackSymbol]]</var>内部スロットの値や、<emu-xref href="#intl-object" id="_ref_234"><a href="#intl-object">%Intl%</a></emu-xref>から<emu-xref href="#sec-property-accessors"><a href="https://tc39.es/ecma262/#sec-property-accessors">プロパティアクセス</a></emu-xref>によって到達可能な値の集合など）を導入し、また<emu-xref href="#ecma262" id="_ref_235"><a href="#ecma262">ECMA-262</a></emu-xref>で規定されている一部の関数の定義を改良します（下記参照）。どちらのカテゴリも、<emu-xref href="#ecma262" id="_ref_236"><a href="#ecma262">ECMA-262</a></emu-xref>で定義された値やインターフェースに対して許可されている動作を禁止するものではなく、本仕様の採用をどの実装でも可能にするためです。
    </p>
    <p>
      本仕様は、ほとんどのアプリケーションで必要とされる主要な言語依存機能を提供します：ロケールの選択と検査、文字列比較（照合）と大文字小文字変換、複数形ルール、テキスト分割、数値、絶対・相対日時、期間、リストの書式化。<emu-xref href="#ecma262" id="_ref_237"><a href="#ecma262">ECMA-262</a></emu-xref>はこの基本機能のための関数を提供しています（<emu-xref href="#sec-array.prototype"><a href="https://tc39.es/ecma262/#sec-array.prototype">Array.prototype</a></emu-xref>上：<code>toLocaleString</code>；<emu-xref href="#sec-string.prototype"><a href="https://tc39.es/ecma262/#sec-string.prototype">String.prototype</a></emu-xref>上：<code>localeCompare</code>、<code>toLocaleLowerCase</code>、<code>toLocaleUpperCase</code>；<emu-xref href="#sec-number.prototype"><a href="https://tc39.es/ecma262/#sec-number.prototype">Number.prototype</a></emu-xref>上：<code>toLocaleString</code>；<emu-xref href="#sec-date.prototype"><a href="https://tc39.es/ecma262/#sec-date.prototype">Date.prototype</a></emu-xref>上：<code>toLocaleString</code>、<code>toLocaleDateString</code>、<code>toLocaleTimeString</code>）、実際の動作はほとんど実装依存です。本仕様は、追加機能、言語や動作の詳細の制御、必要な機能のより完全な仕様を提供します。
    </p>

    <p>アプリケーションはAPIを2つの方法で利用できます：</p>
    <ol>
      <li>
        <emu-xref href="#service-constructor" id="_ref_238"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>を直接使用してオブジェクトを構築し、優先言語リストと動作を構成するオプションを指定します。オブジェクトは主要な関数（<code>compare</code>、<code>select</code>、<code>format</code>など）を提供し、繰り返し呼び出すことができます。また、<code>resolvedOptions</code>関数も提供され、アプリケーションはオブジェクトの正確な構成を知ることができます。
      </li>
      <li>
        上記の<emu-xref href="#ecma262" id="_ref_239"><a href="#ecma262">ECMA-262</a></emu-xref>の関数を間接的に使用します。照合や書式化関数は、本仕様でCollator、NumberFormat、DateTimeFormatコンストラクタと同じ引数を受け入れ、compareやformatメソッドと同じ結果を生成するように再仕様化されています。大文字小文字変換関数は、優先言語リストを受け入れるように再仕様化されています。
      </li>
    </ol>

    <p>Intlオブジェクトは、本仕様で定義されたすべての機能をまとめるために使用され、名前の衝突を避けます。</p>

    <emu-note><span class="note">Note</span><div class="note-contents">APIには様々なフォーマッターが含まれていますが、解析機能は提供していません。これは意図的であり、利点と欠点を十分に検討した上で決定されています。詳細は<a href="https://github.com/tc39/ecma402/issues/424">issue tracker</a>の議論を参照してください。</div></emu-note>
  </emu-clause>

  <emu-clause id="sec-api-conventions">
    <h1><span class="secnum">4.3</span> APIの規則</h1>

    <p>すべての<emu-xref href="#sec-constructor-properties-of-the-intl-object" id="_ref_2"><a href="#sec-constructor-properties-of-the-intl-object">Intlコンストラクタ</a></emu-xref>は、クラスによって定義されたかのように動作し、関数として呼び出された場合（NewTargetなし）には<emu-val>TypeError</emu-val>例外をスローするべきです。過去の版との互換性のため、これは<emu-xref href="#sec-intl-collator-constructor" id="_ref_240"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>、<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_241"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>、<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_242"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>には適用されません。これらは関数として呼び出された場合、新しいオブジェクトを構築して返します。
    </p>

    <emu-note id="legacy-constructor"><span class="note"><a href="#legacy-constructor">Note</a></span><div class="note-contents">
      ECMA 402 v1では、Intlコンストラクタは既存オブジェクトをレシーバーとして呼び出すことで、関連する内部スロットを追加し、そのオブジェクトをクラスのインスタンスに変換するモードをサポートしていました。ECMA 402
      v2では、この機能は削除され、既存オブジェクトへの内部スロット追加を避けるためでした。ECMA 402
      v3では、この機能が「規範的オプション」として再追加され、コンストラクタが呼び出された場合、任意のオブジェクトに基底Intlインスタンスをチェーンするモードになりました。詳細は<a href="https://github.com/tc39/ecma402/issues/57">Issue 57</a>を参照してください。
    </div></emu-note>
  </emu-clause>

  <emu-clause id="sec-implementation-dependencies">
    <h1><span class="secnum">4.4</span> 実装依存性</h1>

    <p>国際化の性質上、本仕様はいくつかの詳細を実装依存とせざるを得ません：</p>
    <ul>
      <li>
        <em>十分なローカライゼーションを備えた実装がサポートするロケールの集合：</em>言語学者は数千の人間言語を記述しており、IANA Language <emu-xref href="#bcp-47-subtag" id="_ref_243"><a href="#bcp-47-subtag">Subtag</a></emu-xref>
        Registryにはロケール識別子の基礎となる7000以上の主要言語<emu-xref href="#bcp-47-subtag" id="_ref_244"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>が含まれています。Common Locale Data
        Repositoryのような大規模なロケールデータコレクションでも、すべての言語や地域的・方言的変種のごく一部しかカバーしていません。リソース制約のあるデバイスを対象とする実装では、さらにサブセットを減らす必要がある場合もあります。
      </li>
      <li>
        <em>書式パターンなどのローカライゼーションの正確な形式：</em>多くの場合、ロケール依存の慣習は標準化されておらず、異なる形式が並存したり、時代によって変化します。異なる国際化ライブラリは異なる形式を実装している場合があり、どれも実際には間違いではありません。このAPIを既存ライブラリの上に実装できるようにするため、こうした違いを許容する必要があります。
      </li>
      <li>
        <em>Unicodeのサブセット：</em>照合などの操作は、Unicode文字セット全体を含む文字列で動作できますが、Unicode標準もECMAScript標準も、実装がUnicode文字セットのサブセットに機能を限定することを許容しています。さらに、ロケール慣習は通常、Unicode文字セット全体ではなく、そのロケールに関連する文字についてのみ動作を規定しています。Unicode
        Collation Algorithmは、Unicode文字セット全体のデフォルト照合順序とローカル慣習へのテーラリングを組み合わせていますが、サブセットやテーラリングによって動作の違いが生じます。
      </li>
    </ul>
    <p>
      ブラウザ実装では、特定のオリジンに対して表示されるロケール、通貨、カレンダー、番号体系などの初期集合は、同じユーザーエージェント文字列（エンジンとプラットフォームバージョン）を共有するすべてのユーザーで同一でなければなりません。さらに、これらの集合の動的な変更によってユーザーが互いに識別可能になってはなりません。この制約は、国際化に内在するフィンガープリントリスクを減らすために課されており、将来の改訂で緩和される可能性があります。この制約の結果、オンデマンドでロケールインストールを許可するブラウザ実装が、特定のオリジンから新しいロケールのインストールを必要とするリクエストを初めて受け取った場合、そのロケールが既にインストールされているかどうかを明らかにしてはなりません。
    </p>

    <p>本仕様全体で、実装依存・ロケール依存の動作は<dfn tabindex="-1">ILD</dfn>、実装依存・ロケール依存・番号体系依存の動作は<dfn tabindex="-1">ILND</dfn>と呼ばれます。</p>

    <emu-clause id="sec-compatibility">
      <h1><span class="secnum">4.4.1</span> 実装間の互換性</h1>

      <p>
        ECMA 402は、その関数で使用されるデータのスキーマを記述します。
        内部データは実装依存であり、時間とともに変化し、実装ごとに異なることが予想されます。
        この違いはプログラマーにとって可視であり、特定の出力に依存するプログラムを構築することも可能です。
        しかし、本仕様は、実装間で適切に記述されたプログラムが動作するための合理的な制約を記述しようとしています。
        実装は、言語データの調和に向けた努力を継続することが奨励されます。
      </p>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="conventions">
  <h1><span class="secnum">5</span> 表記規則</h1>

  <p>この規格は、<emu-xref href="#ecma262" id="_ref_245"><a href="#ecma262">ECMA-262</a></emu-xref>の表記規則のサブセットを使用します：</p>

  <ul>
    <li>オブジェクトの内部メソッドと内部スロットは、<emu-xref href="#sec-object-internal-methods-and-internal-slots" title=""><a href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots">Object Internal Methods and Internal Slots</a></emu-xref>で説明されています。</li>
    <li>アルゴリズム規則は、<emu-xref href="#sec-algorithm-conventions" title=""><a href="https://tc39.es/ecma262/#sec-algorithm-conventions">Algorithm Conventions</a></emu-xref>で説明されており、抽象操作の使用は<emu-xref href="#sec-type-conversion" title=""><a href="https://tc39.es/ecma262/#sec-type-conversion">Type Conversion</a></emu-xref>、<emu-xref href="#sec-testing-and-comparison-operations" title=""><a href="https://tc39.es/ecma262/#sec-testing-and-comparison-operations">Testing and Comparison Operations</a></emu-xref>、<emu-xref href="#sec-operations-on-objects" title=""><a href="https://tc39.es/ecma262/#sec-operations-on-objects">Operations on Objects</a></emu-xref>、<emu-xref href="#sec-operations-on-iterator-objects" title=""><a href="https://tc39.es/ecma262/#sec-operations-on-iterator-objects">Operations on Iterator Objects</a></emu-xref>で説明されています。</li>
    <li>内部スロットは、<emu-xref href="#sec-ordinary-object-internal-methods-and-internal-slots" title=""><a href="https://tc39.es/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots">Ordinary Object Internal Methods and Internal Slots</a></emu-xref>で説明されています。
    </li>
    <li>リストとレコード仕様タイプは、<emu-xref href="#sec-list-and-record-specification-type" title=""><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">The List and Record Specification Types</a></emu-xref>で説明されています。</li>
  </ul>

  <emu-note><span class="note">Note</span><div class="note-contents">
    <emu-xref href="#ecma262" id="_ref_246"><a href="#ecma262">ECMA-262</a></emu-xref>で説明されているように、アルゴリズムはECMAScript構造の必要な意味論を正確に指定するために使用されますが、特定の実装技術の使用を示唆するものではありません。内部スロットはオブジェクト値の意味論を定義するために使用されますが、APIの一部ではありません。純粋に説明目的で定義されています。APIの実装は、ここで説明されている方法で内部スロットを生成し操作するかのように振る舞わなければなりません。
  </div></emu-note>

  <p>
    レコード仕様タイプへの拡張として、記法「[[&lt;<var>name</var>&gt;]]」は、変数<var>name</var>によって与えられる名前のフィールドを示します。<var>name</var>はString値でなければなりません。例えば、変数<var>s</var>が値<emu-val>"a"</emu-val>を持つ場合、[[&lt;<var>s</var>&gt;]]はフィールド<var class="field">[[a]]</var>を示します。
  </p>

  <p>この仕様は、<span class="normative-optional">規範的オプション</span>で区切られたブロックを使用して、ECMA 262の<a href="https://tc39.es/ecma262/#sec-additional-ecmascript-features-for-web-browsers">Annex
      B</a>の意味を示します。つまり、規範的オプションのセクションは、ECMAScriptホストがウェブブラウザの場合に必須です。セクションの内容は規範的ですが、ECMAScriptホストがウェブブラウザでない場合はオプションです。
  </p>

  <emu-clause id="sec-402-well-known-intrinsic-objects">
    <h1><span class="secnum">5.1</span> よく知られた組み込みオブジェクト</h1>

    <p>次の表は、<emu-xref href="#sec-well-known-intrinsic-objects" title=""><a href="https://tc39.es/ecma262/#sec-well-known-intrinsic-objects">Well-Known Intrinsic Objects</a></emu-xref>で定義されたよく知られた組み込みオブジェクトの表を拡張します。</p>

    <emu-table id="table-402-well-known-intrinsic-objects"><figure><figcaption>Table 1: よく知られた組み込みオブジェクト（拡張）</figcaption>
      
      <table class="real-table">
        <thead>
          <tr>
            <th>組み込み名</th>
            <th>グローバル名</th>
            <th>ECMAScript言語の関連付け</th>
          </tr>
        </thead>
        <tbody><tr>
          <td><emu-xref href="#intl-object" id="_ref_247"><a href="#intl-object">%Intl%</a></emu-xref></td>
          <td><code>Intl</code></td>
          <td><code>Intl</code>オブジェクト (<emu-xref href="#intl-object" id="_ref_3"><a href="#intl-object">8</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-collator-constructor" id="_ref_248"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref></td>
          <td><code>Intl.Collator</code></td>
          <td><code>Intl.Collator</code>コンストラクター (<emu-xref href="#sec-intl-collator-constructor" id="_ref_4"><a href="#sec-intl-collator-constructor">10.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_249"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref></td>
          <td><code>Intl.DateTimeFormat</code></td>
          <td><code>Intl.DateTimeFormat</code>コンストラクター (<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_5"><a href="#sec-intl-datetimeformat-constructor">11.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-displaynames-constructor" id="_ref_250"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref></td>
          <td><code>Intl.DisplayNames</code></td>
          <td><code>Intl.DisplayNames</code>コンストラクター (<emu-xref href="#sec-intl-displaynames-constructor" id="_ref_6"><a href="#sec-intl-displaynames-constructor">12.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-durationformat-constructor" id="_ref_251"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref></td>
          <td><code>Intl.DurationFormat</code></td>
          <td><code>Intl.DurationFormat</code>コンストラクター (<emu-xref href="#sec-intl-durationformat-constructor" id="_ref_7"><a href="#sec-intl-durationformat-constructor">13.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-listformat-constructor" id="_ref_252"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref></td>
          <td><code>Intl.ListFormat</code></td>
          <td><code>Intl.ListFormat</code>コンストラクター (<emu-xref href="#sec-intl-listformat-constructor" id="_ref_8"><a href="#sec-intl-listformat-constructor">14.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-locale-constructor" id="_ref_253"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref></td>
          <td><code>Intl.Locale</code></td>
          <td><code>Intl.Locale</code>コンストラクター (<emu-xref href="#sec-intl-locale-constructor" id="_ref_9"><a href="#sec-intl-locale-constructor">15.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-numberformat-constructor" id="_ref_254"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref></td>
          <td><code>Intl.NumberFormat</code></td>
          <td><code>Intl.NumberFormat</code>コンストラクター (<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_10"><a href="#sec-intl-numberformat-constructor">16.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_255"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref></td>
          <td><code>Intl.PluralRules</code></td>
          <td><code>Intl.PluralRules</code>コンストラクター (<emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_11"><a href="#sec-intl-pluralrules-constructor">17.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_256"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref></td>
          <td><code>Intl.RelativeTimeFormat</code></td>
          <td><code>Intl.RelativeTimeFormat</code>コンストラクター (<emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_12"><a href="#sec-intl-relativetimeformat-constructor">18.1</a></emu-xref>)
          </td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-segmenter-constructor" id="_ref_257"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref></td>
          <td><code>Intl.Segmenter</code></td>
          <td><code>Intl.Segmenter</code>コンストラクター (<emu-xref href="#sec-intl-segmenter-constructor" id="_ref_13"><a href="#sec-intl-segmenter-constructor">19.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-%intlsegmentiteratorprototype%-object" id="_ref_258"><a href="#sec-%intlsegmentiteratorprototype%-object">%IntlSegmentIteratorPrototype%</a></emu-xref></td>
          <td></td>
          <td>セグメントイテレータオブジェクトのプロトタイプ (<emu-xref href="#sec-%intlsegmentiteratorprototype%-object" id="_ref_14"><a href="#sec-%intlsegmentiteratorprototype%-object">19.6.2</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_259"><a href="#sec-%intlsegmentsprototype%-object">%IntlSegmentsPrototype%</a></emu-xref></td>
          <td></td>
          <td>セグメントオブジェクトのプロトタイプ (<emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_15"><a href="#sec-%intlsegmentsprototype%-object">19.5.2</a></emu-xref>)</td>
        </tr>
      </tbody></table>
    </figure></emu-table>
  </emu-clause>
</emu-clause>
<emu-clause id="locales-currencies-tz">
  <h1><span class="secnum">6</span> ロケール、通貨、タイムゾーン、計量単位、番号体系、照合順序、暦、およびパターン文字列の識別</h1>

  <p>この条項では、ロケール、通貨、タイムゾーン、計量単位、番号体系、照合順序、暦、および<emu-xref href="#sec-pattern-string-types" id="_ref_260"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>を識別するために本仕様で使用されるString値について説明します。</p>

  <emu-clause id="sec-case-sensitivity-and-case-mapping">
    <h1><span class="secnum">6.1</span> 大文字・小文字の区別と変換</h1>

    <p>ロケール、通貨、スクリプト、タイムゾーンを識別するために使用されるString値は、ASCII大文字・小文字を区別しない方法で解釈されます。コードユニット0x0041から0x005A（Unicode文字LATIN
      CAPITAL LETTER AからLATIN CAPITAL LETTER Zに対応）は、対応するコードユニット0x0061から0x007A（Unicode文字LATIN SMALL LETTER AからLATIN SMALL
      LETTER Zに対応）と同等とみなされます。その他の大文字・小文字変換の同等性は適用されません。</p>
    <emu-note><span class="note">Note</span><div class="note-contents">
      例えば、<emu-val>"ß"</emu-val>（U+00DF）は<emu-val>"SS"</emu-val>（U+0053, U+0053）と一致したり変換されたりしてはなりません。<emu-val>"ı"</emu-val>（U+0131）は<emu-val>"I"</emu-val>（U+0049）と一致したり変換されたりしてはなりません。
    </div></emu-note>
    <p>
      <dfn tabindex="-1">ASCII-大文字化</dfn>とは、String値<var>S</var>の各ASCII小文字コードユニット（0x0061から0x007Aまで）を対応するASCII大文字コードユニット（0x0041から0x005Aまで）に置き換え、他のコードユニットはそのままにしたString値です。
    </p>
    <p>
      <dfn tabindex="-1">ASCII-小文字化</dfn>とは、String値<var>S</var>の各ASCII大文字コードユニット（0x0041から0x005Aまで）を対応するASCII小文字コードユニット（0x0061から0x007Aまで）に置き換え、他のコードユニットはそのままにしたString値です。
    </p>
    <p>
      String値<var>A</var>がString値<var>B</var>の<dfn tabindex="-1">ASCII大文字・小文字を区別しない一致</dfn>であるとは、AのASCII-大文字化がBのASCII-大文字化と完全に同じコードユニット列である場合を指します。Unicodeコードポイント列<var>A</var>が<var>B</var>のASCII大文字・小文字を区別しない一致であるとは、<var>B</var>が<emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(<var>A</var>)のASCII大文字・小文字を区別しない一致である場合を指します。
    </p>
  </emu-clause>

  <emu-clause id="sec-language-tags">
    <h1><span class="secnum">6.2</span> 言語タグ</h1>

    <p>
      本仕様はロケールを<a href="https://unicode.org/reports/tr35/#BCP_47_Conformance">Unicode Technical Standard #35 Part 1
        Core, Section 3.3 BCP 47 Conformance</a>で定義される<dfn variants="Unicode BCP 47 locale identifier" tabindex="-1">Unicode BCP
        47ロケール識別子</dfn>を用いて識別し、アルゴリズムは<a href="https://unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers">Section 3 Unicode Language and
        Locale Identifiers</a>の文法で定義される<dfn variants="Unicode locale nonterminal" tabindex="-1">Unicodeロケール非終端記号</dfn>を参照します。
      この識別子は<dfn variants="language tags" tabindex="-1">言語タグ</dfn>とも呼ばれ、<a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP
        47</a>で使用される言語タグとして有効です。
      <a href="https://unicode.org/reports/tr35/#Canonical_Unicode_Locale_Identifiers">Unicode Technical Standard #35
        Part 1 Core, Section 3.2.1 Canonical Unicode Locale Identifiers</a>で規定される正規形のロケール識別子は「<dfn variants="Unicode canonicalized locale identifiers" tabindex="-1">Unicode正規化ロケール識別子</dfn>」と呼ばれます。
    </p>

    <p>
      ロケール識別子は、ASCII大文字・小文字を区別しないUnicode Basic Latin英数字<dfn id="bcp-47-subtag" variants="subtag" tabindex="-1">サブタグ</dfn>を<emu-val>"-"</emu-val>（U+002D
      HYPHEN-MINUS）で区切ったものです。1文字の<emu-not-ref>サブタグ</emu-not-ref>は「<dfn variants="singleton subtag" tabindex="-1">単一サブタグ</dfn>」と呼ばれます。
      <a href="https://unicode.org/reports/tr35/#u_Extension">Unicode Technical Standard #35 Part 1 Core, Section 3.6
        Unicode BCP 47 U Extension</a><emu-xref href="#bcp-47-subtag" id="_ref_261"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>列が広く使われており、「<dfn id="unicode-locale-extension-sequence" oldids="sec-unicode-locale-extension-sequences" variants="Unicode locale extension sequences" tabindex="-1"><span id="sec-unicode-locale-extension-sequences"></span>Unicodeロケール拡張列</dfn>」は、<emu-not-ref>substring</emu-not-ref>が<code>unicode_locale_extensions</code>Unicodeロケール非終端記号に一致し、<emu-val>"-x-…"</emu-val>プライベート使用<emu-not-ref>サブタグ列</emu-not-ref>の一部でない最長の<emu-not-ref>substring</emu-not-ref>を指します。<emu-val>"-u-"</emu-val>で始まり、直後の単一サブタグでない<emu-not-ref>サブタグ</emu-not-ref>とその直前の<emu-val>"-"</emu-val>区切りを含みます。例えば、<emu-val>"en-US-u-fw-mon-x-u-ex-foobar"</emu-val>の<emu-not-ref>Unicodeロケール拡張列</emu-not-ref>は<emu-val>"
      -u-fw-mon"</emu-val>です。
    </p>

    <p>すべての正しい形式の言語タグは本仕様のAPIで使用可能ですが、実装はUnicode Common Locale Data Repository（<a href="https://cldr.unicode.org">CLDR</a>）データを用いて検証する必要はありません。実装がサポートするロケールとその言語タグの集合は実装依存です。<emu-xref href="#sec-constructor-properties-of-the-intl-object" id="_ref_16"><a href="#sec-constructor-properties-of-the-intl-object">Intlコンストラクタ</a></emu-xref>は要求された言語タグを各実装がサポートするロケールにマッピングします。
    </p>

    <emu-clause id="sec-iswellformedlanguagetag" oldids="sec-isstructurallyvalidlanguagetag" type="abstract operation" aoid="IsWellFormedLanguageTag"><span id="sec-isstructurallyvalidlanguagetag"></span>
      <h1><span class="secnum">6.2.1</span> IsWellFormedLanguageTag ( <var>locale</var> )</h1>
      <p>The abstract operation IsWellFormedLanguageTag takes argument <var>locale</var> (a String) and returns a Boolean. <var>locale</var>が<a href="https://unicode.org/reports/tr35/#unicode_bcp47_locale_id"><code>unicode_bcp47_locale_id</code></a>の正しい形式の<emu-xref href="#sec-language-tags" id="_ref_262"><a href="#sec-language-tags">言語タグ</a></emu-xref>であるかどうかを判定します。意味的な妥当性や、エイリアス<emu-xref href="#bcp-47-subtag" id="_ref_263"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>とその推奨置換<emu-xref href="#bcp-47-subtag" id="_ref_264"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>の区別、正規化された大文字・小文字や<emu-xref href="#bcp-47-subtag" id="_ref_265"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>順序は考慮しません。
         It performs the following steps when called:</p>
      <emu-alg><ol><li><var>lowerLocale</var>を<var>locale</var>の<emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_266"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-小文字化</a></emu-xref>とする。</li><li><var>lowerLocale</var>が<code>unicode_locale_id</code><emu-xref href="#sec-language-tags" id="_ref_267"><a href="#sec-language-tags">Unicodeロケール非終端記号</a></emu-xref>に一致しない場合、<emu-val>false</emu-val>を返す。</li><li><var>lowerLocale</var>が<a href="https://unicode.org/reports/tr35/#BCP_47_Conformance">Unicode Technical Standard #35
          Part 1 Core, Section 3.3 BCP 47 Conformance</a>で説明される後方互換構文を使用している場合、<emu-val>false</emu-val>を返す。</li><li><var>baseName</var>を<emu-xref aoid="GetLocaleBaseName" id="_ref_268"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>lowerLocale</var>)とする。</li><li><var>variants</var>を<emu-xref aoid="GetLocaleVariants" id="_ref_269"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>baseName</var>)とする。</li><li><var>variants</var>が<emu-val>undefined</emu-val>でない場合、</li><li><var>variants</var>に重複する<emu-xref href="#bcp-47-subtag" id="_ref_270"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>が含まれていれば、<emu-val>false</emu-val>を返す。</li><li><var>extensions</var>を<var>baseName</var>の後ろの<var>suffix</var>とする。</li><li>注: <code>pu_extensions</code><emu-xref href="#sec-language-tags" id="_ref_271"><a href="#sec-language-tags">Unicodeロケール非終端記号</a></emu-xref>に一致する<emu-val>"-x-…"</emu-val>プライベート使用<emu-xref href="#bcp-47-subtag" id="_ref_272"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>列は無視するが、末尾の孤立した<emu-val>"x"</emu-val><emu-xref href="#bcp-47-subtag" id="_ref_273"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>は以下の判定に影響しない。</li><li><var>puIndex</var>を<emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>extensions</var>, <emu-val>"-x-"</emu-val>, 0)とする。</li><li><var>puIndex</var>が<emu-const>not-found</emu-const>でない場合、<var>extensions</var>を0から<var>puIndex</var>までの部分文字列とする。</li><li><var>extensions</var>が空文字列でない場合、</li><li><var>extensions</var>に重複する<emu-xref href="#sec-language-tags" id="_ref_274"><a href="#sec-language-tags">単一サブタグ</a></emu-xref>が含まれていれば、<emu-val>false</emu-val>を返す。
        1.
        <var>transformExtension</var>を<var>extensions</var>のうち<code>transformed_extensions</code><emu-xref href="#sec-language-tags" id="_ref_275"><a href="#sec-language-tags">Unicodeロケール非終端記号</a></emu-xref>に一致する最長<emu-not-ref>substring</emu-not-ref>とする。なければ<emu-val>true</emu-val>を返す。</li><li>アサート: <var>transformExtension</var>の0から3までの部分文字列は<emu-val>"-t-"</emu-val>である。</li><li><var>tPrefix</var>を<var>transformExtension</var>の3以降の部分文字列とする。</li><li><var>tlang</var>を<var>tPrefix</var>のうち<code>tlang</code><emu-xref href="#sec-language-tags" id="_ref_276"><a href="#sec-language-tags">Unicodeロケール非終端記号</a></emu-xref>に一致する最長prefixとする。なければ<emu-val>true</emu-val>を返す。</li><li><var>tlangVariants</var>を<emu-xref aoid="GetLocaleVariants" id="_ref_277"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>tlang</var>)とする。</li><li><var>tlangVariants</var>に重複する<emu-xref href="#bcp-47-subtag" id="_ref_278"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>が含まれていれば、<emu-val>false</emu-val>を返す。</li><li><emu-val>true</emu-val>を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-canonicalizeunicodelocaleid" type="abstract operation" aoid="CanonicalizeUnicodeLocaleId">
      <h1><span class="secnum">6.2.2</span> CanonicalizeUnicodeLocaleId ( <var>locale</var> )</h1>
      <p>The abstract operation CanonicalizeUnicodeLocaleId takes argument <var>locale</var> (a language tag) and returns a Unicode canonicalized locale identifier. <var>locale</var>の正規化および大文字・小文字を正規化した形を返します。 It performs the following steps when called:</p>
      <emu-alg>#### ECMARKDOWN PARSE FAILED ####<pre>        1. _localeId_を<a href="https://unicode.org/reports/tr35/#processing-localeids">Processing
          LocaleIds</a>アルゴリズムにより_locale_を正規形に変換したString値とする（<a href="https://unicode.org/reports/tr35/#LocaleId_Canonicalization">Unicode Technical Standard #35 Part 1 Core,
          Annex C LocaleId Canonicalization</a>参照）。
        1. [id="step-canonicalizeunicodelocaleid-u-extension"]_localeId_にUnicodeロケール拡張列が含まれている場合、
        1. _extension_を_localeId_内のUnicodeロケール拡張列の<emu-not-ref>substring</emu-not-ref>とする。
        1. _newExtension_を*"-u"*とする。
        1. _components_をUnicodeExtensionComponents(_extension_)とする。
        1. _components_.[[Attributes]]の各要素_attr_について、
        1. _newExtension_を_newExtension_、*"-"*, _attr_の連結とする。
        1. _components_.[[Keywords]]の各Record { [[Key]], [[Value]] } _keyword_について、
        1. _newExtension_を_newExtension_、*"-"*, _keyword_.[[Key]]の連結とする。
        1. _keyword_.[[Value]]が空文字列でない場合、
        1. _newExtension_を_newExtension_、*"-"*, _keyword_.[[Value]]の連結とする。
        1. アサート: _newExtension_は*"-u"*ではない。
        1. _localeId_の最初の_extension_出現を_newExtension_で置換したコピーを_localeId_とする。
        1. _localeId_を返す。
      </pre></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        <emu-xref href="#step-canonicalizeunicodelocaleid-u-extension"></emu-xref>のステップは、返される<emu-xref href="#sec-language-tags" id="_ref_279"><a href="#sec-language-tags">言語タグ</a></emu-xref>内の<emu-xref href="#unicode-locale-extension-sequence" id="_ref_280"><a href="#unicode-locale-extension-sequence">Unicodeロケール拡張列</a></emu-xref>が
        <ul>
          <li>入力内で重複した属性の最初のインスタンスのみを含み、</li>
          <li>入力内の各キーについて最初の<emu-not-ref>keyword</emu-not-ref>のみを含むことを保証します。</li>
        </ul>
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-defaultlocale" type="implementation-defined abstract operation" aoid="DefaultLocale">
      <h1><span class="secnum">6.2.3</span> DefaultLocale ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation DefaultLocale takes no arguments and returns <emu-xref href="#sec-language-tags" id="_ref_281"><a href="#sec-language-tags">Unicode正規化ロケール識別子</a></emu-xref>. 返されるString値は、ホスト環境の現在のロケールの正しい形式（<emu-xref href="#sec-iswellformedlanguagetag" id="_ref_17"><a href="#sec-iswellformedlanguagetag">6.2.1</a></emu-xref>）かつ正規化済み（<emu-xref href="#sec-canonicalizeunicodelocaleid" id="_ref_18"><a href="#sec-canonicalizeunicodelocaleid">6.2.2</a></emu-xref>）の<emu-xref href="#sec-language-tags" id="_ref_282"><a href="#sec-language-tags">言語タグ</a></emu-xref>を表します。<emu-xref href="#unicode-locale-extension-sequence" id="_ref_283"><a href="#unicode-locale-extension-sequence">Unicodeロケール拡張列</a></emu-xref>を含んではなりません。</p>
      <emu-note><span class="note">Note</span><div class="note-contents">
        返される値は潜在的なフィンガープリント要素となります。ブラウザ環境では、追加の識別情報を提供しないよう<a href="https://html.spec.whatwg.org/#language-preferences"><code>navigator.language</code></a>と一致させるべきです。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-currency-codes">
    <h1><span class="secnum">6.3</span> 通貨コード</h1>

    <p>本仕様はISO 4217で定義される3文字の通貨コードを用いて通貨を識別します。正規形は大文字です。</p>

    <p>正しい形式の3文字ISO 4217通貨コードはすべて許可されます。ただし、通貨コードと<emu-xref href="#sec-language-tags" id="_ref_284"><a href="#sec-language-tags">言語タグ</a></emu-xref>の組み合わせでローカライズされた通貨記号が利用可能かどうかは実装依存です。ローカライズされた通貨記号が利用できない場合、ISO
      4217通貨コードが書式設定に使用されます。</p>

    <emu-clause id="sec-iswellformedcurrencycode" type="abstract operation" aoid="IsWellFormedCurrencyCode">
      <h1><span class="secnum">6.3.1</span> IsWellFormedCurrencyCode ( <var>currency</var> )</h1>
      <p>The abstract operation IsWellFormedCurrencyCode takes argument <var>currency</var> (a String) and returns a Boolean. <var>currency</var>引数が正しい形式の3文字ISO 4217通貨コードであるかどうかを検証します。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>currency</var>の長さが3でない場合、<emu-val>false</emu-val>を返す。</li><li><var>normalized</var>を<var>currency</var>の<emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_285"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-大文字化</a></emu-xref>とする。</li><li><var>normalized</var>が0x0041から0x005A（Unicode文字LATIN CAPITAL LETTER AからLATIN CAPITAL LETTER
        Z）以外のコードユニットを含む場合、<emu-val>false</emu-val>を返す。</li><li><emu-val>true</emu-val>を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-availablecanonicalcurrencies" type="implementation-defined abstract operation" aoid="AvailableCanonicalCurrencies">
    <h1><span class="secnum">6.4</span> AvailableCanonicalCurrencies ( )</h1>
    <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCanonicalCurrencies takes no arguments and returns Stringのリスト. 返されるリストはコードユニット順にソートされ、重複のない正しい形式かつ大文字の正規化済み3文字ISO
        4217通貨コードを含みます。実装がIntl.DisplayNamesおよびIntl.NumberFormatオブジェクトの機能を提供する通貨を識別します。</p>
  </emu-clause>

  <emu-clause id="sec-use-of-iana-time-zone-database" oldids="sec-time-zone-names"><span id="sec-time-zone-names"></span>
    <h1><span class="secnum">6.5</span> IANAタイムゾーンデータベースの利用</h1>

    <p>
      本仕様を採用する実装はタイムゾーン対応でなければなりません。IANAタイムゾーンデータベース<a href="https://www.iana.org/time-zones/">https://www.iana.org/time-zones/</a>を使用して、利用可能な名前付きタイムゾーン識別子およびECMAScriptの計算や書式設定に使用されるデータを提供しなければなりません。
      このセクションは、タイムゾーン対応実装がIANAタイムゾーンデータベースをどのように使用すべきかを定義します。
      Zone名またはLink名でない限り、利用可能な名前付きタイムゾーン識別子としてStringを使用してはなりません。
      ECMAScript組み込みオブジェクトが返す利用可能な名前付きタイムゾーン識別子は、IANAタイムゾーンデータベースで使用されている大文字・小文字を使用しなければなりません。
    </p>
    <p>
      IANAタイムゾーンデータベースの各Zoneは主要タイムゾーン識別子であり、各Link名は対応するZone名に解決される非主要タイムゾーン識別子でなければなりません。以下の例外は<emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_286"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>で実装されます:
    </p>
    <ul>
      <li>
        歴史的理由により、<emu-val>"UTC"</emu-val>は主要タイムゾーン識別子でなければなりません。
        <emu-val>"Etc/UTC"</emu-val>、<emu-val>"Etc/GMT"</emu-val>、<emu-val>"GMT"</emu-val>、およびそれらに解決されるすべてのLink名は非主要タイムゾーン識別子であり、<emu-val>"UTC"</emu-val>に解決されなければなりません。
      </li>
      <li>
        IANAタイムゾーンデータベースの<code>zone.tab</code>ファイルの「TZ」列に存在するLink名は主要タイムゾーン識別子でなければなりません。
        例えば、<emu-val>"Europe/Prague"</emu-val>と<emu-val>"Europe/Bratislava"</emu-val>は両方とも主要タイムゾーン識別子でなければなりません。
        この要件は、各<a href="https://www.iso.org/glossary-for-iso-3166.html">ISO 3166-1
          Alpha-2</a>国コードごとに少なくとも1つの主要タイムゾーン識別子を保証し、将来のタイムゾーン規則の変更が他国のタイムゾーンを使用するECMAScriptプログラムに影響しないようにします（領土境界が変更されない限り）。
      </li>
      <li>
        <code>zone.tab</code>ファイルの「TZ」列に記載されていないLink名で、単一の<a href="https://www.iso.org/glossary-for-iso-3166.html">ISO
          3166-1 Alpha-2</a>国コードの領域内に完全に含まれる地理的領域を表すものは、同じ国コードの領域内に完全に含まれる主要識別子に解決されなければなりません。
        例えば、<emu-val>"Atlantic/Jan_Mayen"</emu-val>は<emu-val>"Arctic/Longyearbyen"</emu-val>に解決されなければなりません。
      </li>
    </ul>

    <emu-note><span class="note">Note</span><div class="note-contents">
      <p>
        IANAタイムゾーンデータベースは、主要タイムゾーン識別子がどれかに影響するビルドオプションを提供しています。
        デフォルトのビルドオプションでは異なる国のタイムゾーンが統合され、例えば<emu-val>"Atlantic/Reykjavik"</emu-val>はZone*"Africa/Abidjan"*へのLinkとして構築されます。
        地理的・政治的に異なる場所は、将来のIANAタイムゾーンデータベースのバージョンで異なるタイムゾーン規則を導入する可能性が高いです。
        上記の例外は、将来の互換性問題を緩和するためのものです。
      </p>
      <p>
        Unicode Common Locale Data Repository（<a href="https://cldr.unicode.org">CLDR</a>）は、主要・非主要タイムゾーン識別子の判定時に上記の例外のほとんどを実装しています。
        一貫性のためCLDRデータの利用が推奨されますが、必須ではありません。
        CLDRベースでない実装も<a href="https://github.com/unicode-org/cldr/blob/main/common/bcp47/timezone.xml"><code>timezone.xml</code></a>の識別子データを利用できます。
        実装はIANAタイムゾーンデータベースを直接ビルドすることもでき、例えば<code>PACKRATDATA=backzone PACKRATLIST=zone.tab</code>などのビルドオプションを使い、上記要件を満たすための後処理を行うことができます。
      </p>
    </div></emu-note>

    <p>
      IANAタイムゾーンデータベースは通常、年間5～10回更新されます。
      これらの更新では新しいZoneやLink名が追加されたり、ZoneがLinkに変更されたり、Zoneに関連するUTCオフセットや遷移が変更される場合があります。
      実装はIANAタイムゾーンデータベースの更新をできるだけ早く取り込むことが推奨されます。
      迅速な対応により、ECMAScriptプログラムが正確なタイムゾーン計算を行い、外部入力やホスト環境から提供される新しい名前付きタイムゾーン識別子を利用できるようになります。
    </p>
    <p>
      IANAタイムゾーンデータベースの管理者は安定性を重視していますが、まれに（年平均1回未満）Zoneが新しいZoneに置き換えられる場合があります。
      例えば2022年には<emu-val>"Europe/Kiev"</emu-val>が新しいZone*"Europe/Kyiv"*へのLinkとして非推奨となりました。
      非推奨となったLinkは<dfn variants="renamed time zone identifiers" tabindex="-1">改名タイムゾーン識別子</dfn>、新しく追加されたZoneは<dfn variants="replacement time zone identifiers" tabindex="-1">置換タイムゾーン識別子</dfn>と呼ばれます。
    </p>
    <p>
      このような稀な変更による混乱を減らすため、実装はまず置換タイムゾーン識別子を既存の改名タイムゾーン識別子に解決される非主要タイムゾーン識別子として追加すべきです。
      これにより両方の識別子を認識できますが、まだ認識されていないシステムに置換タイムゾーン識別子を送信するリスクも減ります。
      <dfn id="rename-waiting-period" tabindex="-1">改名待機期間</dfn>後、実装は新しいZoneを主要タイムゾーン識別子に昇格し、同時に改名タイムゾーン識別子を非主要に降格すべきです。
      他システムが更新される十分な時間を確保するため、推奨される<emu-xref href="#rename-waiting-period" id="_ref_287"><a href="#rename-waiting-period">改名待機期間</a></emu-xref>は2年です。
      ただし、厳密または動的である必要はありません。
      むしろ、実装はタイムゾーンデータ更新の通常のリリースプロセスの一部として、待機期間後に置換タイムゾーン識別子を主要にすべきです。
    </p>
    <p>
      待機期間は新しいZoneが既存Zoneの置換として追加された場合のみ適用されるべきです。
      既存ZoneとLinkが入れ替わった場合、改名は発生しておらず待機期間は不要です。
    </p>

    <p>
      実装がエージェントの存続期間中にタイムゾーン情報を修正する場合、利用可能な名前付きタイムゾーン識別子のリスト、各識別子に関連付けられた主要タイムゾーン識別子、各識別子に関連付けられたUTCオフセットや遷移は、以前そのエージェントで観測された結果と一貫性がなければなりません。
      この要件をサポートする複雑さから、実装は各エージェントの存続期間中に完全に一貫したIANAタイムゾーンデータベースのコピーを維持することが推奨されます。
    </p>

    <p>このセクションは<emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">21.4.1.19</a></emu-xref>を補完しますが、上書きするものではありません。</p>

    <emu-clause id="sup-availablenamedtimezoneidentifiers" oldids="sec-availabletimezones" type="implementation-defined abstract operation" aoid="AvailableNamedTimeZoneIdentifiers"><span id="sec-availabletimezones"></span>
      <h1><span class="secnum">6.5.1</span> AvailableNamedTimeZoneIdentifiers ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableNamedTimeZoneIdentifiers takes no arguments and returns タイムゾーン識別子レコードのリスト. 
          この結果は、実装内のすべての利用可能な名前付きタイムゾーン識別子と、それぞれに対応する主要タイムゾーン識別子を記述します。
          リストは各タイムゾーン識別子レコードの<var class="field">[[Identifier]]</var>フィールド順に並べられます。
        </p>
      <p>この定義は<emu-xref href="#sec-availablenamedtimezoneidentifiers"><a href="https://tc39.es/ecma262/#sec-availablenamedtimezoneidentifiers">21.4.1.23</a></emu-xref>で提供される定義を上書きします。</p>
      <emu-alg><ol><li><var>identifiers</var>をIANAタイムゾーンデータベース内の各ZoneまたはLink名のString値を含むリストとする。</li><li>アサート: <var>identifiers</var>の要素同士が<emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_288"><a href="#sec-case-sensitivity-and-case-mapping">ASCII大文字・小文字を区別しない一致</a></emu-xref>にならない。</li><li><var>identifiers</var>をコードユニット順にソートする。</li><li><var>result</var>を新しい空リストとする。</li><li><var>identifiers</var>の各要素<var>identifier</var>について、</li><li><var>primary</var>を<var>identifier</var>とする。</li><li><var>identifier</var>がIANAタイムゾーンデータベースのLink名であり、<code>zone.tab</code>の「TZ」列に存在しない場合、</li><li><var>zone</var>をIANAタイムゾーンデータベースのLink名解決規則に従って<var>identifier</var>が解決されるZone名とする。</li><li><var>zone</var>が<emu-val>"Etc/"</emu-val>で始まる場合、</li><li><var>primary</var>を<var>zone</var>とする。</li><li>それ以外の場合、</li><li><var>identifierCountryCode</var>を<var>identifier</var>に対応する領域の<a href="https://www.iso.org/glossary-for-iso-3166.html">ISO
          3166-1 Alpha-2</a>国コードとする。</li><li><var>zoneCountryCode</var>を<var>zone</var>に対応する領域のISO 3166-1 Alpha-2国コードとする。</li><li><var>identifierCountryCode</var>が<var>zoneCountryCode</var>と同じ場合、</li><li><var>primary</var>を<var>zone</var>とする。</li><li>それ以外の場合、</li><li><var>countryCodeLineCount</var>を<code>zone.tab</code>ファイルの「country-code」列が<var>identifierCountryCode</var>である行数とする。</li><li><var>countryCodeLineCount</var>が1の場合、</li><li><var>countryCodeLine</var>を「country-code」列が<var>identifierCountryCode</var>である<code>zone.tab</code>ファイルの行とする。</li><li><var>primary</var>を<var>countryCodeLine</var>の「TZ」列の内容とする。</li><li>それ以外の場合、</li><li><var>backzone</var>を<emu-val>undefined</emu-val>とする。</li><li><var>backzoneLinkLines</var>を<code>backzone</code>ファイル内で<emu-val>"Link "</emu-val>または<emu-val>"#PACKRATLIST zone.tab Link "</emu-val>で始まる行のリストとする。</li><li><var>backzoneLinkLines</var>の各要素<var>line</var>について、</li><li><var>i</var>を<emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>line</var>, <emu-val>"Link "</emu-val>, 0)とする。</li><li><var>line</var>を<var>i</var>+5以降の部分文字列とする。</li><li><var>backzoneAndLink</var>を<var>line</var>を<emu-val>" "</emu-val>で分割したリストとする。</li><li>アサート: <var>backzoneAndLink</var>は少なくとも2要素を持ち、両方とも利用可能な名前付きタイムゾーン識別子である。</li><li><var>backzoneAndLink</var>[1]が<var>identifier</var>の場合、</li><li>アサート: <var>backzone</var>は<emu-val>undefined</emu-val>である。</li><li><var>backzone</var>を<var>backzoneAndLink</var>[0]とする。</li><li>アサート: <var>backzone</var>は<emu-val>undefined</emu-val>でない。</li><li><var>primary</var>を<var>backzone</var>とする。</li><li><var>primary</var>が<emu-val>"Etc/UTC"</emu-val>、<emu-val>"Etc/GMT"</emu-val>、<emu-val>"GMT"</emu-val>のいずれかの場合、<var>primary</var>を<emu-val>"UTC"</emu-val>とする。</li><li><var>primary</var>が<emu-xref href="#sec-use-of-iana-time-zone-database" id="_ref_289"><a href="#sec-use-of-iana-time-zone-database">置換タイムゾーン識別子</a></emu-xref>であり、その<emu-xref href="#rename-waiting-period" id="_ref_290"><a href="#rename-waiting-period">改名待機期間</a></emu-xref>が終了していない場合、</li><li><var>renamedIdentifier</var>を<var>primary</var>が置換した<emu-xref href="#sec-use-of-iana-time-zone-database" id="_ref_291"><a href="#sec-use-of-iana-time-zone-database">改名タイムゾーン識別子</a></emu-xref>とする。</li><li><var>primary</var>を<var>renamedIdentifier</var>とする。</li><li><var>record</var>をタイムゾーン識別子レコード{ <var class="field">[[Identifier]]</var>: <var>identifier</var>, <var class="field">[[PrimaryIdentifier]]</var>: <var>primary</var>&nbsp;}とする。</li><li><var>record</var>を<var>result</var>に追加する。</li><li>アサート: <var>result</var>に<var>r</var>というタイムゾーン識別子レコードが含まれ、<var>r</var>.<var class="field">[[Identifier]]</var>が<emu-val>"UTC"</emu-val>、<var>r</var>.<var class="field">[[PrimaryIdentifier]]</var>も<emu-val>"UTC"</emu-val>である。</li><li><var>result</var>を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <p>上記のLinkから主要タイムゾーン識別子への解決アルゴリズムは、International Components for Unicode（<a href="https://icu.unicode.org/">ICU</a>）の<code>icu::TimeZone::getIanaID()</code>や、Unicode Common Locale Data
          Repository（<a href="https://cldr.unicode.org">CLDR</a>）のタイムゾーン識別子データ管理プロセスの動作に対応することを意図しています。</p>
        <p>
          このアルゴリズムは、ISO 3166-1
          Alpha-2国コードの境界を越えずに、<code>zone.tab</code>と<code>backzone</code>ファイルのデータを用いてLinkを主要タイムゾーン識別子に解決します。
          国コードが<code>zone.tab</code>で1行のみの場合、その行の「TZ」列が主要タイムゾーン識別子となります。
          国コードが複数行の場合、<code>backzone</code>の履歴マッピングを用いて正しい主要タイムゾーン識別子を特定します。
        </p>
        <p>
          例えば、デフォルトビルドオプションで"Pacific/Truk"（国コード"FM"）が"Pacific/Port_Moresby"（国コード"PG"）へのLinkとして識別される場合、<code>zone.tab</code>の「country-code」列で"FM"に対応する行を確認します。
          1行のみなら、その行の「TZ」列が"Pacific/Truk"の主要タイムゾーン識別子となります。
          複数行の場合、<code>backzone</code>を調査し、"Link Pacific/Chuuk Pacific/Truk"のような行があれば"Pacific/Chuuk"が主要タイムゾーン識別子となります。
        </p>
        <p>
          <code>zone.tab</code>はマッピングデータの優先ソースですが、<code>backzone</code>のマッピングはまれにISO 3166-1 Alpha-2国コードの境界を越える場合があります。
          例えば、"Atlantic/Jan_Mayen"（国コード"SJ"）は<code>backzone</code>で"Europe/Oslo"（国コード"NO"）にマッピングされています。
          2024aリリース時点で、このケースは"Atlantic/Jan_Mayen"のみです。
        </p>
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        タイムゾーン識別子はIANAタイムゾーンデータベースで随時変更される可能性があります。
        最低限、AvailableNamedTimeZoneIdentifiersの結果の変更は、<emu-xref aoid="GetAvailableNamedTimeZoneIdentifier" id="_ref_292"><a href="#sec-getavailablenamedtimezoneidentifier">GetAvailableNamedTimeZoneIdentifier</a></emu-xref>で許可される変更に限定することが推奨されます（エージェントの存続期間中）。
        この推奨事項をサポートする複雑さから、AvailableNamedTimeZoneIdentifiers（および<emu-xref aoid="GetAvailableNamedTimeZoneIdentifier" id="_ref_293"><a href="#sec-getavailablenamedtimezoneidentifier">GetAvailableNamedTimeZoneIdentifier</a></emu-xref>）の結果はエージェントの存続期間中同一であることが推奨されます。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-getavailablenamedtimezoneidentifier" type="abstract operation" aoid="GetAvailableNamedTimeZoneIdentifier">
      <h1><span class="secnum">6.5.2</span> GetAvailableNamedTimeZoneIdentifier ( <var>timeZoneIdentifier</var> )</h1>
      <p>The abstract operation GetAvailableNamedTimeZoneIdentifier takes argument <var>timeZoneIdentifier</var> (a String) and returns タイムゾーン識別子レコードまたは<emu-const>empty</emu-const>. 
          <var>timeZoneIdentifier</var>が利用可能な名前付きタイムゾーン識別子の場合、<emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_294"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>のリスト内のレコードのいずれかを返します。
          そうでなければ<emu-const>empty</emu-const>を返します。
         It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_295"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>()の各<var>record</var>について、</li><li><var>record</var>.<var class="field">[[Identifier]]</var>が<var>timeZoneIdentifier</var>と<emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_296"><a href="#sec-case-sensitivity-and-case-mapping">ASCII大文字・小文字を区別しない一致</a></emu-xref>の場合、<var>record</var>を返す。</li><li><emu-const>empty</emu-const>を返す。</li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">
        任意の<var>timeZoneIdentifier</var>またはその<emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_297"><a href="#sec-case-sensitivity-and-case-mapping">ASCII大文字・小文字を区別しない一致</a></emu-xref>値について、結果のタイムゾーン識別子レコードのフィールド値はエージェントの存続期間中同一でなければなりません。
        また、タイムゾーン識別子がエージェントの存続期間中に主要から非主要へ動的に変更されてはなりません。つまり、<var>timeZoneIdentifier</var>が以前のGetAvailableNamedTimeZoneIdentifierの結果の<var class="field">[[PrimaryIdentifier]]</var>フィールドと<emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_298"><a href="#sec-case-sensitivity-and-case-mapping">ASCII大文字・小文字を区別しない一致</a></emu-xref>の場合、GetAvailableNamedTimeZoneIdentifier(<var>timeZoneIdentifier</var>)は<var class="field">[[Identifier]]</var>が<var class="field">[[PrimaryIdentifier]]</var>であるタイムゾーン識別子レコードを返さなければなりません。
        この要件をサポートする複雑さから、<emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_299"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>（およびGetAvailableNamedTimeZoneIdentifier）の結果はエージェントの存続期間中同一であることが推奨されます。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-availableprimarytimezoneidentifiers" oldids="sec-availablecanonicaltimezones" type="abstract operation" aoid="AvailablePrimaryTimeZoneIdentifiers"><span id="sec-availablecanonicaltimezones"></span>
      <h1><span class="secnum">6.5.3</span> AvailablePrimaryTimeZoneIdentifiers ( )</h1>
      <p>The abstract operation AvailablePrimaryTimeZoneIdentifiers takes no arguments and returns Stringのリスト. 返されるリストはIANAタイムゾーンデータベースでサポートされるZoneおよびLink名のソート済みリストです。 It performs the following steps when called:</p>

      <emu-alg><ol><li><var>records</var>を<emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_300"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>()とする。</li><li><var>result</var>を新しい空リストとする。</li><li><var>records</var>の各<var>timeZoneIdentifierRecord</var>について、</li><li><var>timeZoneIdentifierRecord</var>.<var class="field">[[Identifier]]</var>が<var>timeZoneIdentifierRecord</var>.<var class="field">[[PrimaryIdentifier]]</var>と同じ場合、</li><li><var>timeZoneIdentifierRecord</var>.<var class="field">[[Identifier]]</var>を<var>result</var>に追加する。</li><li><var>result</var>を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-string-split-to-list" type="abstract operation" aoid="StringSplitToList">
      <h1><span class="secnum">6.5.4</span> StringSplitToList ( <var>S</var>, <var>separator</var> )</h1>
      <p>The abstract operation StringSplitToList takes arguments <var>S</var> (a String) and <var>separator</var> (a String) and returns Stringのリスト. 
          返されるリストは、<var>S</var>内で<var>separator</var>を含まず、separator_の直前または直後に現れるすべての非重複部分文字列を含みます。
          隣接する<var>separator</var>間、<var>S</var>の先頭の<var>separator</var>前、末尾の<var>separator</var>後の空文字列も含みますが、それ以外は空文字列になりません。
         It performs the following steps when called:</p>
      <emu-alg><ol><li>アサート: <var>S</var>は空文字列でない。</li><li>アサート: <var>separator</var>は空文字列でない。</li><li><var>separatorLength</var>を<var>separator</var>の長さとする。</li><li><var>substrings</var>を新しい空リストとする。</li><li><var>i</var>を0とする。</li><li><var>j</var>を<emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>S</var>, <var>separator</var>, 0)とする。</li><li><var>j</var>が<emu-const>not-found</emu-const>でない間繰り返す:</li><li><var>T</var>を<var>S</var>の<var>i</var>から<var>j</var>までの部分文字列とする。</li><li><var>substrings</var>に<var>T</var>を追加する。</li><li><var>i</var>を<var>j</var>+<var>separatorLength</var>とする。</li><li><var>j</var>を<emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>S</var>, <var>separator</var>, <var>i</var>)とする。</li><li><var>T</var>を<var>S</var>の<var>i</var>以降の部分文字列とする。</li><li><var>substrings</var>に<var>T</var>を追加する。</li><li><var>substrings</var>を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-measurement-unit-identifiers">
    <h1><span class="secnum">6.6</span> 計量単位識別子</h1>

    <p>本仕様は<a href="https://unicode.org/reports/tr35/tr35-general.html#Unit_Identifiers">Unicode Technical Standard #35
        Part 2 General, Section 6.2 Unit Identifiers</a>で定義される<dfn variants="core unit identifiers,core unit ID,core unit IDs" tabindex="-1">コア単位識別子</dfn>（または同義の<em>コア単位ID</em>）を用いて計量単位を識別します。正規形はUnicode
      Basic Latin小文字（U+0061 LATIN SMALL LETTER AからU+007A LATIN SMALL LETTER Z）のみを含み、必要に応じて中間ハイフン（U+002D
      HYPHEN-MINUS）を含みます。</p>

    <p>
      コア単位識別子の許可集合は限定されています。
      許可されていないコア単位識別子を使用しようとすると<emu-val>RangeError</emu-val>となります。
    </p>

    <emu-clause id="sec-iswellformedunitidentifier" type="abstract operation" aoid="IsWellFormedUnitIdentifier">
      <h1><span class="secnum">6.6.1</span> IsWellFormedUnitIdentifier ( <var>unitIdentifier</var> )</h1>
      <p>The abstract operation IsWellFormedUnitIdentifier takes argument <var>unitIdentifier</var> (a String) and returns a Boolean. <var>unitIdentifier</var>引数が、許可された単一単位または許可された単一単位の除算による複合単位として正しい形式の<emu-xref href="#sec-measurement-unit-identifiers" id="_ref_301"><a href="#sec-measurement-unit-identifiers">コア単位識別子</a></emu-xref>であるかどうかを検証します。 It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref aoid="IsSanctionedSingleUnitIdentifier" id="_ref_302"><a href="#sec-issanctionedsingleunitidentifier">IsSanctionedSingleUnitIdentifier</a></emu-xref>(<var>unitIdentifier</var>)が<emu-val>true</emu-val>の場合、</li><li><emu-val>true</emu-val>を返す。</li><li><var>i</var>を<emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>unitIdentifier</var>, <emu-val>"-per-"</emu-val>, 0)とする。</li><li><var>i</var>が<emu-const>not-found</emu-const>または<emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>unitIdentifier</var>, <emu-val>"-per-"</emu-val>, <var>i</var>+1)が<emu-const>not-found</emu-const>でない場合、</li><li><emu-val>false</emu-val>を返す。</li><li>アサート: <emu-val>"-per-"</emu-val>の5文字部分文字列が<var>unitIdentifier</var>内にちょうど1回、インデックス<var>i</var>で現れる。</li><li><var>numerator</var>を<var>unitIdentifier</var>の0から<var>i</var>までの部分文字列とする。</li><li><var>denominator</var>を<var>unitIdentifier</var>の<var>i</var>+5以降の部分文字列とする。</li><li><emu-xref aoid="IsSanctionedSingleUnitIdentifier" id="_ref_303"><a href="#sec-issanctionedsingleunitidentifier">IsSanctionedSingleUnitIdentifier</a></emu-xref>(<var>numerator</var>)と<emu-xref aoid="IsSanctionedSingleUnitIdentifier" id="_ref_304"><a href="#sec-issanctionedsingleunitidentifier">IsSanctionedSingleUnitIdentifier</a></emu-xref>(<var>denominator</var>)が両方とも<emu-val>true</emu-val>の場合、</li><li><emu-val>true</emu-val>を返す。</li><li><emu-val>false</emu-val>を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-issanctionedsingleunitidentifier" type="abstract operation" oldids="sec-issanctionedsimpleunitidentifier" aoid="IsSanctionedSingleUnitIdentifier"><span id="sec-issanctionedsimpleunitidentifier"></span>
      <h1><span class="secnum">6.6.2</span> IsSanctionedSingleUnitIdentifier ( <var>unitIdentifier</var> )</h1>
      <p>The abstract operation IsSanctionedSingleUnitIdentifier takes argument <var>unitIdentifier</var> (a String) and returns a Boolean. <var>unitIdentifier</var>引数が本仕様の現行バージョンで許可された単一単位識別子（Common Locale Data Repository<a href="https://github.com/unicode-org/cldr/blob/maint/maint-38/common/validity/unit.xml">release 38 unit
            validity data</a>の部分集合）に含まれるかどうかを検証します。単一単位識別子は、他の単位識別子の乗算や除算によって構成されない<emu-xref href="#sec-measurement-unit-identifiers" id="_ref_305"><a href="#sec-measurement-unit-identifiers">コア単位識別子</a></emu-xref>です（<a href="https://unicode.org/reports/tr35/tr35-general.html#Unit_Identifiers">Unicode Technical Standard #35
            Part 2 General, Section 6.2 Unit Identifiers</a>参照）。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>unitIdentifier</var>が下記<emu-xref href="#table-sanctioned-single-unit-identifiers" id="_ref_19"><a href="#table-sanctioned-single-unit-identifiers">Table 2</a></emu-xref>に記載されていれば<emu-val>true</emu-val>を返す。</li><li>それ以外は<emu-val>false</emu-val>を返す。</li></ol></emu-alg>

      <emu-table id="table-sanctioned-single-unit-identifiers" oldids="table-sanctioned-simple-unit-identifiers"><figure><figcaption>Table 2: ECMAScriptで使用が許可されている単一単位</figcaption><span id="table-sanctioned-simple-unit-identifiers"></span>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>単一単位識別子</th>
            </tr>
          </thead>
          <tbody><tr>
            <td>acre</td>
          </tr>
          <tr>
            <td>bit</td>
          </tr>
          <tr>
            <td>byte</td>
          </tr>
          <tr>
            <td>celsius</td>
          </tr>
          <tr>
            <td>centimeter</td>
          </tr>
          <tr>
            <td>day</td>
          </tr>
          <tr>
            <td>degree</td>
          </tr>
          <tr>
            <td>fahrenheit</td>
          </tr>
          <tr>
            <td>fluid-ounce</td>
          </tr>
          <tr>
            <td>foot</td>
          </tr>
          <tr>
            <td>gallon</td>
          </tr>
          <tr>
            <td>gigabit</td>
          </tr>
          <tr>
            <td>gigabyte</td>
          </tr>
          <tr>
            <td>gram</td>
          </tr>
          <tr>
            <td>hectare</td>
          </tr>
          <tr>
            <td>hour</td>
          </tr>
          <tr>
            <td>inch</td>
          </tr>
          <tr>
            <td>kilobit</td>
          </tr>
          <tr>
            <td>kilobyte</td>
          </tr>
          <tr>
            <td>kilogram</td>
          </tr>
          <tr>
            <td>kilometer</td>
          </tr>
          <tr>
            <td>liter</td>
          </tr>
          <tr>
            <td>megabit</td>
          </tr>
          <tr>
            <td>megabyte</td>
          </tr>
          <tr>
            <td>meter</td>
          </tr>
          <tr>
            <td>microsecond</td>
          </tr>
          <tr>
            <td>mile</td>
          </tr>
          <tr>
            <td>mile-scandinavian</td>
          </tr>
          <tr>
            <td>milliliter</td>
          </tr>
          <tr>
            <td>millimeter</td>
          </tr>
          <tr>
            <td>millisecond</td>
          </tr>
          <tr>
            <td>minute</td>
          </tr>
          <tr>
            <td>month</td>
          </tr>
          <tr>
            <td>nanosecond</td>
          </tr>
          <tr>
            <td>ounce</td>
          </tr>
          <tr>
            <td>percent</td>
          </tr>
          <tr>
            <td>petabyte</td>
          </tr>
          <tr>
            <td>pound</td>
          </tr>
          <tr>
            <td>second</td>
          </tr>
          <tr>
            <td>stone</td>
          </tr>
          <tr>
            <td>terabit</td>
          </tr>
          <tr>
            <td>terabyte</td>
          </tr>
          <tr>
            <td>week</td>
          </tr>
          <tr>
            <td>yard</td>
          </tr>
          <tr>
            <td>year</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-availablecanonicalunits" type="abstract operation" aoid="AvailableCanonicalUnits">
      <h1><span class="secnum">6.6.3</span> AvailableCanonicalUnits ( )</h1>
      <p>The abstract operation AvailableCanonicalUnits takes no arguments and returns Stringのリスト. 返されるリストはコードユニット順にソートされ、<emu-xref href="#table-sanctioned-single-unit-identifiers" id="_ref_20"><a href="#table-sanctioned-single-unit-identifiers">Table 2</a></emu-xref>の各行（ヘッダー行を除く）に記載された単一単位識別子の重複のない値で構成されます。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-numberingsystem-identifiers">
    <h1><span class="secnum">6.7</span> 番号体系識別子</h1>

    <p>本仕様は<a href="https://unicode.org/reports/tr35/tr35-numbers.html#Numbering_Systems">Unicode Technical Standard #35
        Part 3 Numbers, Section 1 Numbering Systems</a>で参照される名前に対応する<dfn variants="numbering system identifiers" tabindex="-1">番号体系識別子</dfn>を用いて番号体系を識別します。正規形はUnicode Basic Latin小文字（U+0061 LATIN
      SMALL LETTER AからU+007A LATIN SMALL LETTER Z）のみを含みます。</p>

    <emu-clause id="sec-availablecanonicalnumberingsystems" type="implementation-defined abstract operation" aoid="AvailableCanonicalNumberingSystems">
      <h1><span class="secnum">6.7.1</span> AvailableCanonicalNumberingSystems ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCanonicalNumberingSystems takes no arguments and returns Stringのリスト. 
          返されるリストはコードユニット順にソートされ、重複のない正規化済み<emu-xref href="#sec-numberingsystem-identifiers" id="_ref_306"><a href="#sec-numberingsystem-identifiers">番号体系識別子</a></emu-xref>を含みます。実装がIntl.DateTimeFormat、Intl.NumberFormat、Intl.RelativeTimeFormatオブジェクトの機能を提供する番号体系を識別します。リストには<emu-xref href="#table-numbering-system-digits" id="_ref_21"><a href="#table-numbering-system-digits">Table 30</a></emu-xref>の各行（ヘッダー行を除く）のNumbering System値を含めなければなりません。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-collation-types">
    <h1><span class="secnum">6.8</span> 照合順序タイプ</h1>

    <p>本仕様は<a href="https://unicode.org/reports/tr35/tr35-collation.html#Collation_Types">Unicode Technical Standard #35
        Part 5 Collation, Section 3.1 Collation Types</a>で定義される<dfn variants="collation types" tabindex="-1">照合順序タイプ</dfn>を用いて照合順序を識別します。正規形はUnicode Basic Latin小文字（U+0061 LATIN SMALL LETTER
      AからU+007A LATIN SMALL LETTER Z）のみを含み、必要に応じて中間ハイフン（U+002D HYPHEN-MINUS）を含みます。</p>

    <emu-clause id="sec-availablecanonicalcollations" type="implementation-defined abstract operation" aoid="AvailableCanonicalCollations">
      <h1><span class="secnum">6.8.1</span> AvailableCanonicalCollations ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCanonicalCollations takes no arguments and returns Stringのリスト. 返されるリストはコードユニット順にソートされ、重複のない正規化済み<emu-xref href="#sec-collation-types" id="_ref_307"><a href="#sec-collation-types">照合順序タイプ</a></emu-xref>を含みます。実装がIntl.Collatorオブジェクトの機能を提供する照合順序を識別します。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-calendar-types">
    <h1><span class="secnum">6.9</span> 暦タイプ</h1>

    <p>本仕様は<a href="https://unicode.org/reports/tr35/tr35-dates.html#Calendar_Elements">Unicode Technical Standard #35
        Part 4 Dates, Section 2 Calendar Elements</a>で定義される<dfn variants="calendar types" tabindex="-1">暦タイプ</dfn>を用いて暦を識別します。正規形はUnicode Basic Latin小文字（U+0061 LATIN SMALL LETTER AからU+007A
      LATIN SMALL LETTER Z）のみを含み、必要に応じて中間ハイフン（U+002D HYPHEN-MINUS）を含みます。</p>

    <emu-clause id="sec-availablecalendars" oldids="sec-availablecanonicalcalendars" type="implementation-defined abstract operation" aoid="AvailableCalendars"><span id="sec-availablecanonicalcalendars"></span>
      <h1><span class="secnum">6.9.1</span> AvailableCalendars ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCalendars takes no arguments and returns Stringのリスト. 返されるリストはコードユニット順にソートされ、重複のない正規形（<emu-xref href="#sec-calendar-types" id="_ref_22"><a href="#sec-calendar-types">6.9</a></emu-xref>）の<emu-xref href="#sec-calendar-types" id="_ref_308"><a href="#sec-calendar-types">暦タイプ</a></emu-xref>を含みます。実装がIntl.DateTimeFormatオブジェクトの機能を提供する暦を識別し、エイリアス（例:
          <emu-val>"islamicc"</emu-val>と<emu-val>"islamic-civil"</emu-val>の両方またはどちらも含まない）も含みます。リストには<emu-val>"iso8601"</emu-val>を含めなければなりません。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-pattern-string-types">
    <h1><span class="secnum">6.10</span> パターン文字列タイプ</h1>
    <p><dfn tabindex="-1">パターン文字列</dfn>は、<emu-val>"
      {key}"</emu-val>形式の部分文字列を0個以上含むString値です。keyはASCII単語文字からなる非空の任意のシーケンスです。抽象パターン文字列の構文は実装詳細であり、ECMA-402の利用者には公開されません。</p>
  </emu-clause>
</emu-clause>
<emu-clause id="requirements">
  <h1><span class="secnum">7</span> ECMAScript 標準組み込みオブジェクトの要件</h1>

  <p>本書で特に指定されていない限り、この標準で記述されているオブジェクト、関数、コンストラクターは、<emu-xref href="#sec-ecmascript-standard-built-in-objects" title=""><a href="https://tc39.es/ecma262/#sec-ecmascript-standard-built-in-objects">ECMAScript Standard Built-in Objects</a></emu-xref> に指定された標準組み込み ECMAScript オブジェクトの一般的な要件および制限の対象となります。</p>
</emu-clause>
<emu-clause id="intl-object">
  <h1><span class="secnum">8</span> Intl オブジェクト</h1>

  <p><dfn tabindex="-1">Intl オブジェクト</dfn>:</p>
  <ul>
    <li><dfn tabindex="-1">%Intl%</dfn> である。</li>
    <li>グローバルオブジェクトの <emu-val>"Intl"</emu-val> プロパティの初期値である。</li>
    <li>通常のオブジェクトである。</li>
    <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    <li>関数オブジェクトではない。</li>
    <li><var class="field">[[Construct]]</var> 内部メソッドを持たないため、<code>new</code> 演算子でコンストラクタとして使用できない。</li>
    <li><var class="field">[[Call]]</var> 内部メソッドを持たないため、関数として呼び出すことはできない。</li>
    <li><var class="field">[[FallbackSymbol]]</var> 内部スロットを持ち、現在の <emu-xref href="#realm"><a href="https://tc39.es/ecma262/#realm">realm</a></emu-xref> の新しい <emu-xref href="#sec-symbol-constructor"><a href="https://tc39.es/ecma262/#sec-symbol-constructor">%Symbol%</a></emu-xref> であり、<var class="field">[[Description]]</var> は <emu-val>"IntlLegacyConstructedSymbol"</emu-val> である。
    </li>
  </ul>

  <emu-clause id="sec-value-properties-of-the-intl-object">
    <h1><span class="secnum">8.1</span> Intl オブジェクトの値プロパティ</h1>

    <emu-clause id="sec-intl-%symbol.tostringtag%" oldids="sec-Intl-toStringTag"><span id="sec-Intl-toStringTag"></span>
      <h1><span class="secnum">8.1.1</span> Intl [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-constructor-properties-of-the-intl-object">
    <h1><span class="secnum">8.2</span> Intl オブジェクトのコンストラクタプロパティ</h1>

    <p>Intl.Locale を除き、以下の各コンストラクタは、ロケールに依存するサービスを提供するオブジェクトを作成する <dfn id="service-constructor" tabindex="-1">サービスコンストラクタ</dfn> である。
    </p>

    <emu-clause id="sec-intl.collator-intro">
      <h1><span class="secnum">8.2.1</span> Intl.Collator ( . . . )</h1>
      <p><emu-xref href="#collator-objects" id="_ref_23"><a href="#collator-objects">10</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat-intro">
      <h1><span class="secnum">8.2.2</span> Intl.DateTimeFormat ( . . . )</h1>
      <p><emu-xref href="#datetimeformat-objects" id="_ref_24"><a href="#datetimeformat-objects">11</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.displaynames-intro">
      <h1><span class="secnum">8.2.3</span> Intl.DisplayNames ( . . . )</h1>
      <p><emu-xref href="#intl-displaynames-objects" id="_ref_25"><a href="#intl-displaynames-objects">12</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.durationformat-intro">
      <h1><span class="secnum">8.2.4</span> Intl.DurationFormat ( . . . )</h1>
      <p><emu-xref href="#durationformat-objects" id="_ref_26"><a href="#durationformat-objects">13</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.listformat-intro">
      <h1><span class="secnum">8.2.5</span> Intl.ListFormat ( . . . )</h1>
      <p><emu-xref href="#listformat-objects" id="_ref_27"><a href="#listformat-objects">14</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.locale-intro">
      <h1><span class="secnum">8.2.6</span> Intl.Locale ( . . . )</h1>
      <p><emu-xref href="#locale-objects" id="_ref_28"><a href="#locale-objects">15</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat-intro">
      <h1><span class="secnum">8.2.7</span> Intl.NumberFormat ( . . . )</h1>
      <p><emu-xref href="#numberformat-objects" id="_ref_29"><a href="#numberformat-objects">16</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules-intro">
      <h1><span class="secnum">8.2.8</span> Intl.PluralRules ( . . . )</h1>
      <p><emu-xref href="#pluralrules-objects" id="_ref_30"><a href="#pluralrules-objects">17</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.relativetimeformat-intro">
      <h1><span class="secnum">8.2.9</span> Intl.RelativeTimeFormat ( . . . )</h1>
      <p><emu-xref href="#relativetimeformat-objects" id="_ref_31"><a href="#relativetimeformat-objects">18</a></emu-xref> を参照。</p>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter-intro">
      <h1><span class="secnum">8.2.10</span> Intl.Segmenter ( . . . )</h1>
      <p><emu-xref href="#segmenter-objects" id="_ref_32"><a href="#segmenter-objects">19</a></emu-xref> を参照。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-function-properties-of-the-intl-object">
    <h1><span class="secnum">8.3</span> Intl オブジェクトの関数プロパティ</h1>

    <emu-clause id="sec-intl.getcanonicallocales">
      <h1><span class="secnum">8.3.1</span> Intl.getCanonicalLocales ( <var>locales</var> )</h1>

      <p><code>getCanonicalLocales</code> メソッドが引数 <var>locales</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>ll</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_309"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>ll</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.supportedvaluesof">
      <h1><span class="secnum">8.3.2</span> Intl.supportedValuesOf ( <var>key</var> )</h1>

      <p><code>supportedValuesOf</code> メソッドが引数 <var>key</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>key</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>key</var>) とする。</li><li><var>key</var> が <emu-val>"calendar"</emu-val> ならば、</li><li>新しい空のリスト <var>list</var> を作成する。</li><li><emu-xref aoid="AvailableCalendars" id="_ref_310"><a href="#sec-availablecalendars">AvailableCalendars</a></emu-xref>() の各要素 <var>identifier</var> について、</li><li><var>canonical</var> を CanonicalizeUValue(<emu-val>"ca"</emu-val>, <var>identifier</var>) とする。</li><li><var>identifier</var> が <var>canonical</var> ならば、</li><li><var>identifier</var> を <var>list</var> に追加する。</li><li>それ以外で <var>key</var> が <emu-val>"collation"</emu-val> ならば、</li><li><var>list</var> を <emu-xref aoid="AvailableCanonicalCollations" id="_ref_311"><a href="#sec-availablecanonicalcollations">AvailableCanonicalCollations</a></emu-xref>( ) とする。</li><li>それ以外で <var>key</var> が <emu-val>"currency"</emu-val> ならば、</li><li><var>list</var> を <emu-xref aoid="AvailableCanonicalCurrencies" id="_ref_312"><a href="#sec-availablecanonicalcurrencies">AvailableCanonicalCurrencies</a></emu-xref>( ) とする。</li><li>それ以外で <var>key</var> が <emu-val>"numberingSystem"</emu-val> ならば、</li><li><var>list</var> を <emu-xref aoid="AvailableCanonicalNumberingSystems" id="_ref_313"><a href="#sec-availablecanonicalnumberingsystems">AvailableCanonicalNumberingSystems</a></emu-xref>( ) とする。</li><li>それ以外で <var>key</var> が <emu-val>"timeZone"</emu-val> ならば、</li><li><var>list</var> を <emu-xref aoid="AvailablePrimaryTimeZoneIdentifiers" id="_ref_314"><a href="#sec-availableprimarytimezoneidentifiers">AvailablePrimaryTimeZoneIdentifiers</a></emu-xref>( ) とする。</li><li>それ以外で <var>key</var> が <emu-val>"unit"</emu-val> ならば、</li><li><var>list</var> を <emu-xref aoid="AvailableCanonicalUnits" id="_ref_315"><a href="#sec-availablecanonicalunits">AvailableCanonicalUnits</a></emu-xref>( ) とする。</li><li>それ以外の場合、</li><li><emu-val>RangeError</emu-val> 例外をスローする。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>( <var>list</var> ) を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="locale-and-parameter-negotiation">
  <h1><span class="secnum">9</span> ロケールとパラメータのネゴシエーション</h1>

  <p><emu-xref href="#service-constructor" id="_ref_33"><a href="#service-constructor">サービスコンストラクター</a></emu-xref>は、<var>locales</var> および <var>options</var>
    引数で表されるリクエストを、実装の実際の機能と照合するための共通パターンを使用します。その共通の動作は、内部スロットによって機能を説明し、これらの内部スロットを使用する抽象操作、および下記で定義される特殊なデータ型によって説明されます。
  </p>

  <p><dfn id="available-locales-list" tabindex="-1">利用可能なロケールリスト</dfn>は、任意の順序で重複のない<emu-xref href="#sec-language-tags" id="_ref_316"><a href="#sec-language-tags">言語タグ</a></emu-xref>のリストであり、それぞれが <emu-xref href="#sec-iswellformedlanguagetag" id="_ref_34"><a href="#sec-iswellformedlanguagetag">正しい形式</a></emu-xref>、<emu-xref href="#sec-canonicalizeunicodelocaleid" id="_ref_35"><a href="#sec-canonicalizeunicodelocaleid">正規化</a></emu-xref>され、Unicodeロケール拡張シーケンスを含みません。これは、特定のコンテキスト内で実装が機能を提供するすべてのロケールを表します。
  </p>

  <p><dfn id="language-priority-list" tabindex="-1">言語優先リスト</dfn>は、<emu-xref href="#sec-iswellformedlanguagetag" id="_ref_36"><a href="#sec-iswellformedlanguagetag">正しい形式</a></emu-xref>かつ<emu-xref href="#sec-canonicalizeunicodelocaleid" id="_ref_37"><a href="#sec-canonicalizeunicodelocaleid">正規化</a></emu-xref>された<emu-xref href="#sec-language-tags" id="_ref_317"><a href="#sec-language-tags">言語タグ</a></emu-xref>のリストであり、優先度の高い順にロケールの希望を表します。これは <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> の <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-2.3">RFC 4647 セクション 2.3</a> で定義された同名の用語に対応しますが、<emu-val>"</emu-val>"*
    要素を禁止し、正規化された内容のみを含みます。</p>

  <p><dfn id="resolution-option-descriptor" variants="Resolution Option Descriptors" tabindex="-1">解決オプション記述子</dfn>は、<var class="field">[[Key]]</var>（文字列、通常は
    <var class="field">[[RelevantExtensionKeys]]</var> リストの要素）、<var class="field">[[Property]]</var>（文字列）、およびオプションで <var class="field">[[Type]]</var>（<emu-const>boolean</emu-const> または <emu-const>string</emu-const>）、<var class="field">[[Values]]</var>（<emu-const>empty</emu-const>
    または ECMAScript 言語値のリスト）を持つレコードです。これは、オブジェクト構築時のロケール解決に関連するオプションの読み取り方法を説明します。</p>

  <emu-clause id="sec-internal-slots">
    <h1><span class="secnum">9.1</span> サービスコンストラクターの内部スロット</h1>

    <p>各<emu-xref href="#service-constructor" id="_ref_318"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ーは以下の内部スロットを持ちます：</p>

    <ul>
      <li><var class="field">[[AvailableLocales]]</var> は<emu-xref href="#available-locales-list" id="_ref_319"><a href="#available-locales-list">利用可能なロケールリスト</a></emu-xref>です。<emu-xref aoid="DefaultLocale" id="_ref_320"><a href="#sec-defaultlocale">DefaultLocale</a></emu-xref>
        が返す値を含めなければなりません。さらに、複数の<emu-xref href="#bcp-47-subtag" id="_ref_321"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を持つ各要素については、同じ言語<emu-xref href="#bcp-47-subtag" id="_ref_322"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>と厳密な部分集合の<emu-xref href="#bcp-47-subtag" id="_ref_323"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>（つまり、1つ以上省略したもの）を持つ、より狭くない<emu-xref href="#sec-language-tags" id="_ref_324"><a href="#sec-language-tags">言語タグ</a></emu-xref>も含める必要があります。これは
        <emu-xref href="#sec-resolvelocale" id="_ref_38"><a href="#sec-resolvelocale">ResolveLocale</a></emu-xref>
        からのフォールバックとして機能します。特に、言語<emu-xref href="#bcp-47-subtag" id="_ref_325"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>・スクリプト<emu-xref href="#bcp-47-subtag" id="_ref_326"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>・地域<emu-xref href="#bcp-47-subtag" id="_ref_327"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を持つ各要素には、同じ言語<emu-xref href="#bcp-47-subtag" id="_ref_328"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>と地域<emu-xref href="#bcp-47-subtag" id="_ref_329"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>のみを持ち、スクリプト<emu-xref href="#bcp-47-subtag" id="_ref_330"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>がない別の要素も含める必要があります。例：
        <ul>
          <li><var class="field">[[AvailableLocales]]</var> に <emu-val>"de-DE"</emu-val> が含まれている場合、<emu-val>"de"</emu-val> も含める必要があります（これは <emu-val>"de-AT"</emu-val> や <emu-val>"de-CH"</emu-val>
            などのリクエストロケールを満たすために選択される場合があります）。</li>
          <li><var class="field">[[AvailableLocales]]</var> に <emu-val>"az-Latn-AZ"</emu-val> が含まれている場合、<emu-val>"az-AZ"</emu-val> も含める必要があります（これは <emu-val>"az-Cyrl-AZ"</emu-val> のリクエストロケールを満たすために
            <emu-val>"az-Cyrl"</emu-val> が利用できない場合に選択される場合があります）。</li>
        </ul>
      </li>
      <li><var class="field">[[RelevantExtensionKeys]]</var> は、<a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode
          Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> で定義された、構築されたオブジェクトの機能に関連する
        Unicode ロケール拡張シーケンスキーのリストです。</li>
      <li><var class="field">[[ResolutionOptionDescriptors]]</var> は、オブジェクト構築時のオプション読み取りに使用される<emu-xref href="#resolution-option-descriptor" id="_ref_331"><a href="#resolution-option-descriptor">解決オプション記述子</a></emu-xref>のリストです。</li>
      <li><var class="field">[[SortLocaleData]]</var> および <var class="field">[[SearchLocaleData]]</var>（Intl.Collator
        用）、<var class="field">[[LocaleData]]</var>（他の<emu-xref href="#service-constructor" id="_ref_332"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ー用）はレコードです。<emu-xref href="#service-constructor" id="_ref_333"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ー固有のフィールドに加え、各レコードには <var class="field">[[AvailableLocales]]</var>
        に含まれる各ロケール名のフィールドがあります。各ロケール名フィールドの値はレコードであり、<var class="field">[[RelevantExtensionKeys]]</var> の各要素がフィールド名となり、その値は該当ロケールで実装がサポートする
        Unicode ロケール拡張シーケンスキーの型値を表す非空の文字列リストです。リストの最初の要素がそのロケールでのデフォルト値となります。</li>
    </ul>

    <emu-note><span class="note">Note</span><div class="note-contents">
      例：DateTimeFormat の実装は <var class="field">[[AvailableLocales]]</var> 内部スロットに<emu-xref href="#sec-language-tags" id="_ref_334"><a href="#sec-language-tags">言語タグ</a></emu-xref> <emu-val>"fa-IR"</emu-val> を含めることがあり、<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_39"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref> に従い、<var class="field">[[RelevantExtensionKeys]]</var> 内部スロットにキー <emu-val>"ca"</emu-val>,
      <emu-val>"hc"</emu-val>, <emu-val>"nu"</emu-val> を含める必要があります。
      そのロケールのデフォルトカレンダーは通常 <emu-val>"persian"</emu-val> ですが、実装によっては <emu-val>"gregory"</emu-val>, <emu-val>"islamic"</emu-val>, <emu-val>"islamic-civil"</emu-val> もサポートされる場合があります。
      DateTimeFormat の <var class="field">[[LocaleData]]</var> 内部スロットのレコードは、[[fa-IR]] フィールドの値として { <var class="field">[[ca]]</var>: « <emu-val>"persian"</emu-val>, <emu-val>"gregory"</emu-val>,
      <emu-val>"islamic"</emu-val>, <emu-val>"islamic-civil"</emu-val> », <var class="field">[[hc]]</var>: « … », <var class="field">[[nu]]</var>: « … » } のようなレコードを含み、他のロケール名フィールドも同じ形状ですがリストの要素は異なります。
    </div></emu-note>
  </emu-clause>

  <emu-clause id="sec-abstract-operations">
    <h1><span class="secnum">9.2</span> 抽象操作</h1>

    <emu-clause id="sec-canonicalizelocalelist" type="abstract operation" aoid="CanonicalizeLocaleList">
      <h1><span class="secnum">9.2.1</span> CanonicalizeLocaleList ( <var>locales</var> )</h1>
      <p>The abstract operation CanonicalizeLocaleList takes argument <var>locales</var> (ECMAScript 言語値) and returns <emu-xref href="#language-priority-list" id="_ref_335"><a href="#language-priority-list">言語優先リスト</a></emu-xref>を含む通常完了または throw 完了. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>locales</var> が <emu-val>undefined</emu-val> の場合、</li><li>新しい空リストを返す。</li><li><var>seen</var> を新しい空リストとする。</li><li><var>locales</var> が文字列またはオブジェクトで、<var>locales</var> が <var class="field">[[InitializedLocale]]</var> 内部スロットを持つ場合、</li><li><var>O</var> を <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(« <var>locales</var>&nbsp;») とする。</li><li>それ以外の場合、</li><li><var>O</var> を ?&nbsp;<emu-xref aoid="ToObject"><a href="https://tc39.es/ecma262/#sec-toobject">ToObject</a></emu-xref>(<var>locales</var>) とする。</li><li><var>len</var> を ?&nbsp;<emu-xref aoid="LengthOfArrayLike"><a href="https://tc39.es/ecma262/#sec-lengthofarraylike">LengthOfArrayLike</a></emu-xref>(<var>O</var>) とする。</li><li><var>k</var> を 0 とする。</li><li><var>k</var> &lt; <var>len</var> の間繰り返す、</li><li><var>Pk</var> を !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>k</var>)) とする。</li><li><var>kPresent</var> を ?&nbsp;<emu-xref aoid="HasProperty"><a href="https://tc39.es/ecma262/#sec-hasproperty">HasProperty</a></emu-xref>(<var>O</var>, <var>Pk</var>) とする。</li><li><var>kPresent</var> が <emu-val>true</emu-val> の場合、</li><li><var>kValue</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>O</var>, <var>Pk</var>) とする。</li><li><var>kValue</var> が文字列でもオブジェクトでもない場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>kValue</var> がオブジェクトで <var class="field">[[InitializedLocale]]</var> 内部スロットを持つ場合、</li><li><var>tag</var> を <var>kValue</var>.<var class="field">[[Locale]]</var> とする。</li><li>それ以外の場合、</li><li><var>tag</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>kValue</var>) とする。</li><li><emu-xref aoid="IsWellFormedLanguageTag" id="_ref_336"><a href="#sec-iswellformedlanguagetag">IsWellFormedLanguageTag</a></emu-xref>(<var>tag</var>) が <emu-val>false</emu-val> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>canonicalizedTag</var> を <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_337"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>tag</var>) とする。</li><li><var>seen</var> に <var>canonicalizedTag</var> が含まれていなければ、<var>seen</var> に <var>canonicalizedTag</var> を追加する。</li><li><var>k</var> を <var>k</var> + 1 に設定する。</li><li><var>seen</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        非規範的なまとめ：この抽象操作は <var>locales</var> 引数を配列として解釈し、その要素をリストにコピーし、要素が正しい形式の<emu-xref href="#sec-language-tags" id="_ref_338"><a href="#sec-language-tags">言語タグ</a></emu-xref>かつ正規化されていることを検証し、重複を省きます。
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        <var>kValue</var> を文字列またはオブジェクトに限定することで、数値値 <emu-val>NaN</emu-val> が Min Nan Chinese を表す<emu-xref href="#sec-language-tags" id="_ref_339"><a href="#sec-language-tags">言語タグ</a></emu-xref> <emu-val>"nan"</emu-val> として解釈されることはありません。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-canonicalizeuvalue" type="abstract operation">
      <h1><span class="secnum">9.2.2</span> 
        CanonicalizeUValue (
        <var>ukey</var>: <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35
          Part 1 Core Section 3.6.1 Key and Type Definitions</a> で定義された Unicode ロケール拡張シーケンスキー,
        <var>uvalue</var>: 文字列,
        ): 文字列
      </h1>
      <p>The abstract operation UNKNOWN takes UNPARSEABLE ARGUMENTS. 返される文字列は、<var>ukey</var> の値としての <var>uvalue</var> の正規化かつケース正則化された形式です。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>lowerValue</var> を <var>uvalue</var> の ASCII 小文字化とする。</li><li><var>canonicalized</var> を <a href="https://unicode.org/reports/tr35/#processing-localeids">Unicode Technical Standard
          #35 Part 1 Core, Annex C LocaleId Canonicalization Section 5 Canonicalizing Syntax, Processing LocaleIds</a>
        に従い、<var>ukey</var> の値として <var>lowerValue</var> を正規化した文字列値とする。</li><li>注：実装では Common Locale Data Repository の <code>common/bcp47</code> の 'u' 拡張データ（<a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>）の利用が推奨されます。</li><li><var>canonicalized</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-lookupmatchinglocalebyprefix" type="abstract operation" oldids="sec-bestavailablelocale,sec-lookupmatcher" aoid="LookupMatchingLocaleByPrefix"><span id="sec-lookupmatcher"></span><span id="sec-bestavailablelocale"></span>
      <h1><span class="secnum">9.2.3</span> LookupMatchingLocaleByPrefix ( <var>availableLocales</var>, <var>requestedLocales</var> )</h1>
      <p>The abstract operation LookupMatchingLocaleByPrefix takes arguments <var>availableLocales</var> (<emu-xref href="#available-locales-list" id="_ref_340"><a href="#available-locales-list">利用可能なロケールリスト</a></emu-xref>) and <var>requestedLocales</var> (<emu-xref href="#language-priority-list" id="_ref_341"><a href="#language-priority-list">言語優先リスト</a></emu-xref>) and returns フィールド <var class="field">[[locale]]</var>（Unicode 正規化ロケール識別子）と <var class="field">[[extension]]</var>（Unicode ロケール拡張シーケンスまたは <emu-const>empty</emu-const>）を持つレコード、または <emu-val>undefined</emu-val>. これは <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> の <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-3.4">RFC 4647 セクション 3.4</a>
          で定義されたルックアップアルゴリズムを使用し、Unicode ロケール拡張シーケンスを無視して、<var>requestedLocales</var> を満たすための <var>availableLocales</var>
          の最良の要素を決定します。非デフォルトの一致が見つかった場合、<var>availableLocales</var> から一致する<emu-xref href="#sec-language-tags" id="_ref_342"><a href="#sec-language-tags">言語タグ</a></emu-xref>を <var class="field">[[locale]]</var> フィールドに、<var>requestedLocales</var> の該当要素の
          Unicode ロケール拡張シーケンス（または拡張シーケンスがなければ <emu-const>empty</emu-const>）を <var class="field">[[extension]]</var> フィールドに含むレコードを返します。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>requestedLocales</var> の各要素 <var>locale</var> について、</li><li><var>extension</var> を <emu-const>empty</emu-const> とする。</li><li><var>locale</var> が Unicode ロケール拡張シーケンスを含む場合、</li><li><var>extension</var> を <var>locale</var> の Unicode ロケール拡張シーケンスとする。</li><li><var>locale</var> を Unicode ロケール拡張シーケンスを除去した文字列値とする。</li><li><var>prefix</var> を <var>locale</var> とする。</li><li><var>prefix</var> が空文字列でない間繰り返す、</li><li><var>availableLocales</var> に <var>prefix</var> が含まれていれば、レコード { <var class="field">[[locale]]</var>: <var>prefix</var>, <var class="field">[[extension]]</var>: <var>extension</var>&nbsp;} を返す。</li><li><var>prefix</var> に <emu-val>"-"</emu-val>（コードユニット 0x002D HYPHEN-MINUS）が含まれていれば、<var>prefix</var> の最後の <emu-val>"-"</emu-val> の位置を <var>pos</var> とする。なければ <var>pos</var> を 0 とする。</li><li><var>pos</var> ≥ 2 かつ <var>prefix</var> の <var>pos</var> - 2 から <var>pos</var> - 1 の部分文字列が <emu-val>"-"</emu-val> の間繰り返す、</li><li><var>pos</var> を <var>pos</var> - 2 に設定する。</li><li><var>prefix</var> を 0 から <var>pos</var> までの部分文字列とする。</li><li><emu-val>undefined</emu-val> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        リクエストされたロケールが <a href="https://unicode.org/reports/tr35/#BCP47_T_Extension">Unicode Technical Standard #35 Part
          1 Core BCP 47 T Extension</a> <emu-xref href="#bcp-47-subtag" id="_ref_343"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>シーケンスを含む場合、このアルゴリズムの切り詰めにより一時的に無効な<emu-xref href="#sec-language-tags" id="_ref_344"><a href="#sec-language-tags">言語タグ</a></emu-xref>が生成されることがあります。しかし、<var>availableLocales</var>
        には有効な<emu-xref href="#sec-language-tags" id="_ref_345"><a href="#sec-language-tags">言語タグ</a></emu-xref>のみが含まれるため、それらが返されることはありません。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-lookupmatchinglocalebybestfit" type="implementation-defined abstract operation" oldids="sec-bestfitmatcher" aoid="LookupMatchingLocaleByBestFit"><span id="sec-bestfitmatcher"></span>
      <h1><span class="secnum">9.2.4</span> LookupMatchingLocaleByBestFit ( <var>availableLocales</var>, <var>requestedLocales</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation LookupMatchingLocaleByBestFit takes arguments <var>availableLocales</var> (<emu-xref href="#available-locales-list" id="_ref_346"><a href="#available-locales-list">利用可能なロケールリスト</a></emu-xref>) and <var>requestedLocales</var> (<emu-xref href="#language-priority-list" id="_ref_347"><a href="#language-priority-list">言語優先リスト</a></emu-xref>) and returns フィールド <var class="field">[[locale]]</var>（Unicode 正規化ロケール識別子）と <var class="field">[[extension]]</var>（Unicode ロケール拡張シーケンスまたは <emu-const>empty</emu-const>）を持つレコード、または <emu-val>undefined</emu-val>. これは Unicode ロケール拡張シーケンスを無視して、<var>requestedLocales</var> を満たすための <var>availableLocales</var>
          の最良の要素を決定します。アルゴリズムは実装依存ですが、<emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_348"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>
          アルゴリズムの結果と同等以上とみなされる結果を生成するべきです。非デフォルトの一致が見つかった場合、<var>availableLocales</var> から一致する<emu-xref href="#sec-language-tags" id="_ref_349"><a href="#sec-language-tags">言語タグ</a></emu-xref>を <var class="field">[[locale]]</var>
          フィールドに、<var>requestedLocales</var> の該当要素の Unicode ロケール拡張シーケンス（または拡張シーケンスがなければ <emu-const>empty</emu-const>）を <var class="field">[[extension]]</var>
          フィールドに含むレコードを返します。</p>
    </emu-clause>

    <emu-clause id="sec-unicode-extension-components" type="abstract operation" aoid="UnicodeExtensionComponents">
      <h1><span class="secnum">9.2.5</span> UnicodeExtensionComponents ( <var>extension</var> )</h1>
      <p>The abstract operation UnicodeExtensionComponents takes argument <var>extension</var> (Unicode ロケール拡張シーケンス) and returns フィールド <var class="field">[[Attributes]]</var> と <var class="field">[[Keywords]]</var> を持つレコード. <var>extension</var> をユニークな属性のリストと、ユニークなキーを持つ <emu-not-ref>keywords</emu-not-ref> のリストに分解します。属性や
          <emu-not-ref>keyword</emu-not-ref> キーが繰り返し現れた場合、最初以外は無視されます。
         It performs the following steps when called:</p>
      <emu-alg><ol><li>アサート：<var>extension</var> の ASCII 小文字化は <var>extension</var> である。</li><li>アサート：<var>extension</var> の 0 から 3 の部分文字列は <emu-val>"-u-"</emu-val> である。</li><li><var>attributes</var> を新しい空リストとする。</li><li><var>keywords</var> を新しい空リストとする。</li><li><var>keyword</var> を <emu-val>undefined</emu-val> とする。</li><li><var>size</var> を <var>extension</var> の長さとする。</li><li><var>k</var> を 3 とする。</li><li><var>k</var> &lt; <var>size</var> の間繰り返す、</li><li><var>e</var> を <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>extension</var>, <emu-val>"-"</emu-val>, <var>k</var>) とする。</li><li><var>e</var> が <emu-const>not-found</emu-const> の場合、<var>len</var> を <var>size</var> - <var>k</var> とする。そうでなければ <var>len</var> を <var>e</var> - <var>k</var> とする。</li><li><var>subtag</var> を <var>extension</var> の <var>k</var> から <var>k</var> + <var>len</var> の部分文字列とする。</li><li>注：<emu-not-ref>keyword</emu-not-ref> は、最初が長さ2のキーで、以降（存在する場合）は長さ3～8の<emu-xref href="#bcp-47-subtag" id="_ref_350"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>の連続であり、"-" 区切りで値を構成します。属性は、すべての
        <emu-not-ref>keywords</emu-not-ref> より前に現れる長さ3～8の<emu-xref href="#sec-language-tags" id="_ref_351"><a href="#sec-language-tags">単一サブタグ</a></emu-xref>です。</li><li>アサート：<var>len</var> ≥ 2。</li><li><var>keyword</var> が <emu-val>undefined</emu-val> かつ <var>len</var> ≠ 2 の場合、</li><li><var>subtag</var> が <var>attributes</var> に含まれていなければ、<var>attributes</var> に <var>subtag</var> を追加する。</li><li>それ以外で <var>len</var> = 2 の場合、</li><li><var>keyword</var> をレコード { <var class="field">[[Key]]</var>: <var>subtag</var>, <var class="field">[[Value]]</var>: <emu-val>""</emu-val>&nbsp;} とする。</li><li><var>keywords</var> に <var class="field">[[Key]]</var> が <var>keyword</var>.<var class="field">[[Key]]</var> の要素が含まれていなければ、<var>keywords</var> に <var>keyword</var> を追加する。</li><li>それ以外で <var>keyword</var>.<var class="field">[[Value]]</var> が空文字列の場合、</li><li><var>keyword</var>.<var class="field">[[Value]]</var> を <var>subtag</var> に設定する。</li><li>それ以外の場合、</li><li><var>keyword</var>.<var class="field">[[Value]]</var> を <var>keyword</var>.<var class="field">[[Value]]</var>, <emu-val>"-"</emu-val>, <var>subtag</var> の文字列連結に設定する。</li><li><var>k</var> を <var>k</var> + <var>len</var> + 1 に設定する。</li><li>レコード { <var class="field">[[Attributes]]</var>: <var>attributes</var>, <var class="field">[[Keywords]]</var>: <var>keywords</var>&nbsp;} を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-insert-unicode-extension-and-canonicalize" type="abstract operation" aoid="InsertUnicodeExtensionAndCanonicalize">
      <h1><span class="secnum">9.2.6</span> InsertUnicodeExtensionAndCanonicalize ( <var>locale</var>, <var>attributes</var>, <var>keywords</var> )</h1>
      <p>The abstract operation InsertUnicodeExtensionAndCanonicalize takes arguments <var>locale</var> (<emu-xref href="#sec-language-tags" id="_ref_352"><a href="#sec-language-tags">言語タグ</a></emu-xref>), <var>attributes</var> (文字列リスト), and <var>keywords</var> (レコードリスト) and returns Unicode 正規化ロケール識別子. <var>attributes</var> と <var>keywords</var> を Unicode ロケール拡張シーケンスとして <var>locale</var> に組み込み、正規化した結果を返します。 It performs the following steps when called:</p>
      <emu-alg><ol><li>アサート：<var>locale</var> は Unicode ロケール拡張シーケンスを含まない。</li><li><var>extension</var> を <emu-val>"-u"</emu-val> とする。</li><li><var>attributes</var> の各要素 <var>attr</var> について、</li><li><var>extension</var> を <var>extension</var>, <emu-val>"-"</emu-val>, <var>attr</var> の文字列連結に設定する。</li><li>各レコード { <var class="field">[[Key]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>keyword</var> について、</li><li><var>extension</var> を <var>extension</var>, <emu-val>"-"</emu-val>, <var>keyword</var>.<var class="field">[[Key]]</var> の文字列連結に設定する。</li><li><var>keyword</var>.<var class="field">[[Value]]</var> が空文字列でなければ、<var>extension</var> を <var>extension</var>, <emu-val>"-"</emu-val>, <var>keyword</var>.<var class="field">[[Value]]</var> の文字列連結に設定する。</li><li><var>extension</var> が <emu-val>"-u"</emu-val> なら、<emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_353"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>locale</var>) を返す。</li><li><var>privateIndex</var> を <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>locale</var>, <emu-val>"-x-"</emu-val>, 0) とする。</li><li><var>privateIndex</var> が <emu-const>not-found</emu-const> の場合、</li><li><var>newLocale</var> を <var>locale</var>, <var>extension</var> の文字列連結とする。</li><li>それ以外の場合、</li><li><var>preExtension</var> を <var>locale</var> の 0 から <var>privateIndex</var> の部分文字列とする。</li><li><var>postExtension</var> を <var>locale</var> の <var>privateIndex</var> からの部分文字列とする。</li><li><var>newLocale</var> を <var>preExtension</var>, <var>extension</var>, <var>postExtension</var> の文字列連結とする。</li><li>アサート：<emu-xref aoid="IsWellFormedLanguageTag" id="_ref_354"><a href="#sec-iswellformedlanguagetag">IsWellFormedLanguageTag</a></emu-xref>(<var>newLocale</var>) は <emu-val>true</emu-val> である。</li><li><emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_355"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>newLocale</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-resolvelocale" type="abstract operation" aoid="ResolveLocale">
      <h1><span class="secnum">9.2.7</span> ResolveLocale ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>, <var>relevantExtensionKeys</var>, <var>localeData</var> )</h1>
      <p>The abstract operation ResolveLocale takes arguments <var>availableLocales</var> (<emu-xref href="#available-locales-list" id="_ref_356"><a href="#available-locales-list">利用可能なロケールリスト</a></emu-xref>), <var>requestedLocales</var> (<emu-xref href="#language-priority-list" id="_ref_357"><a href="#language-priority-list">言語優先リスト</a></emu-xref>), <var>options</var> (レコード), <var>relevantExtensionKeys</var> (文字列リスト), and <var>localeData</var> (レコード) and returns レコード. これは <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> の <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-3">RFC 4647 セクション 3</a> で定義された "lookup"
          を実行し、<var>options</var>.<var class="field">[[localeMatcher]]</var> で指定されたアルゴリズム（<emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_358"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref> または
          <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_359"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>）を使用して Unicode ロケール拡張シーケンスを無視し、<var>requestedLocales</var> を満たすための <var>availableLocales</var>
          の最良の要素を決定します。さらに、<var>localeData</var> から対応するデータと、<var>relevantExtensionKeys</var> の各要素について解決された値（一致したロケールのデータをデフォルトとし、リクエストされた
          Unicode ロケール拡張シーケンスのデータがあればそれを優先し、さらに <var>options</var> のデータがあればそれを優先）を含む表現を返します。一致した <var>requestedLocales</var> の要素が Unicode
          ロケール拡張シーケンスを含む場合、<var class="field">[[Locale]]</var> フィールドの<emu-xref href="#sec-language-tags" id="_ref_360"><a href="#sec-language-tags">言語タグ</a></emu-xref>にコピーされます。ただし、<var>relevantExtensionKeys</var> に含まれない <code>keyword</code> Unicode
          ロケール非終端や、<var>options</var> から上書きされた <code>type</code> 値は省略されます。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>matcher</var> を <var>options</var>.<var class="field">[[localeMatcher]]</var> とする。</li><li><var>matcher</var> が <emu-val>"lookup"</emu-val> の場合、</li><li><var>r</var> を <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_361"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>) とする。</li><li>それ以外の場合、</li><li><var>r</var> を <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_362"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>) とする。</li><li><var>r</var> が <emu-val>undefined</emu-val> の場合、<var>r</var> をレコード { <var class="field">[[locale]]</var>: <emu-xref aoid="DefaultLocale" id="_ref_363"><a href="#sec-defaultlocale">DefaultLocale</a></emu-xref>(), <var class="field">[[extension]]</var>: <emu-const>empty</emu-const>&nbsp;} とする。</li><li><var>foundLocale</var> を <var>r</var>.<var class="field">[[locale]]</var> とする。</li><li><var>foundLocaleData</var> を <var>localeData</var>.[[&lt;<var>foundLocale</var>&gt;]] とする。</li><li>アサート：<var>foundLocaleData</var> はレコードである。</li><li><var>result</var> を新しいレコードとする。</li><li><var>result</var>.<var class="field">[[LocaleData]]</var> に <var>foundLocaleData</var> を設定する。</li><li><var>r</var>.<var class="field">[[extension]]</var> が <emu-const>empty</emu-const> でなければ、</li><li><var>components</var> を <emu-xref aoid="UnicodeExtensionComponents" id="_ref_364"><a href="#sec-unicode-extension-components">UnicodeExtensionComponents</a></emu-xref>(<var>r</var>.<var class="field">[[extension]]</var>) とする。</li><li><var>keywords</var> を <var>components</var>.<var class="field">[[Keywords]]</var> とする。</li><li>それ以外の場合、</li><li><var>keywords</var> を新しい空リストとする。</li><li><var>supportedKeywords</var> を新しい空リストとする。</li><li><var>relevantExtensionKeys</var> の各要素 <var>key</var> について、</li><li><var>keyLocaleData</var> を <var>foundLocaleData</var>.[[&lt;<var>key</var>&gt;]] とする。</li><li>アサート：<var>keyLocaleData</var> はリストである。</li><li><var>value</var> を <var>keyLocaleData</var>[0] とする。</li><li>アサート：<var>value</var> は文字列または <emu-val>null</emu-val> である。</li><li><var>supportedKeyword</var> を <emu-const>empty</emu-const> とする。</li><li><var>keywords</var> に <var class="field">[[Key]]</var> が <var>key</var> の要素が含まれていれば、</li><li><var>entry</var> を <var>keywords</var> の <var class="field">[[Key]]</var> が <var>key</var> の要素とする。</li><li><var>requestedValue</var> を <var>entry</var>.<var class="field">[[Value]]</var> とする。</li><li><var>requestedValue</var> が空文字列でなければ、</li><li><var>keyLocaleData</var> に <var>requestedValue</var> が含まれていれば、</li><li><var>value</var> を <var>requestedValue</var> に設定する。</li><li><var>supportedKeyword</var> をレコード { <var class="field">[[Key]]</var>: <var>key</var>, <var class="field">[[Value]]</var>: <var>value</var>&nbsp;} に設定する。</li><li>それ以外で <var>keyLocaleData</var> に <emu-val>"true"</emu-val> が含まれていれば、</li><li><var>value</var> を <emu-val>"true"</emu-val> に設定する。</li><li><var>supportedKeyword</var> をレコード { <var class="field">[[Key]]</var>: <var>key</var>, <var class="field">[[Value]]</var>: <emu-val>""</emu-val>&nbsp;} に設定する。</li><li>アサート：<var>options</var> は [[&lt;<var>key</var>&gt;]] フィールドを持つ。</li><li><var>optionsValue</var> を <var>options</var>.[[&lt;<var>key</var>&gt;]] とする。</li><li>アサート：<var>optionsValue</var> は文字列、または <emu-val>undefined</emu-val> か <emu-val>null</emu-val> である。</li><li><var>optionsValue</var> が文字列の場合、</li><li><var>ukey</var> を <var>key</var> の ASCII 小文字化とする。</li><li><var>optionsValue</var> を CanonicalizeUValue(<var>ukey</var>, <var>optionsValue</var>) に設定する。</li><li><var>optionsValue</var> が空文字列の場合、</li><li><var>optionsValue</var> を <emu-val>"true"</emu-val> に設定する。</li><li><emu-xref aoid="SameValue"><a href="https://tc39.es/ecma262/#sec-samevalue">SameValue</a></emu-xref>(<var>optionsValue</var>, <var>value</var>) が <emu-val>false</emu-val> かつ <var>keyLocaleData</var> に <var>optionsValue</var> が含まれていれば、</li><li><var>value</var> を <var>optionsValue</var> に設定する。</li><li><var>supportedKeyword</var> を <emu-const>empty</emu-const> に設定する。</li><li><var>supportedKeyword</var> が <emu-const>empty</emu-const> でなければ、<var>supportedKeywords</var> に <var>supportedKeyword</var> を追加する。</li><li><var>result</var>.[[&lt;<var>key</var>&gt;]] に <var>value</var> を設定する。</li><li><var>supportedKeywords</var> が空でなければ、</li><li><var>supportedAttributes</var> を新しい空リストとする。</li><li><var>foundLocale</var> を <emu-xref aoid="InsertUnicodeExtensionAndCanonicalize" id="_ref_365"><a href="#sec-insert-unicode-extension-and-canonicalize">InsertUnicodeExtensionAndCanonicalize</a></emu-xref>(<var>foundLocale</var>, <var>supportedAttributes</var>,
        <var>supportedKeywords</var>) に設定する。</li><li><var>result</var>.<var class="field">[[Locale]]</var> に <var>foundLocale</var> を設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-resolveoptions" type="abstract operation" aoid="ResolveOptions">
      <h1><span class="secnum">9.2.8</span> ResolveOptions ( <var>constructor</var>, <var>localeData</var>, <var>locales</var>, <var>options</var> [ , <var>specialBehaviours</var> [ , <var>modifyResolutionOptions</var> ] ] )</h1>
      <p>The abstract operation ResolveOptions takes arguments <var>constructor</var> (<emu-xref href="#service-constructor" id="_ref_366"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ー), <var>localeData</var> (レコード), <var>locales</var> (ECMAScript 言語値), and <var>options</var> (ECMAScript 言語値) and optional arguments <var>specialBehaviours</var> (列挙型リスト) and <var>modifyResolutionOptions</var> (1パラメータの抽象クロージャ) and returns フィールド <var class="field">[[Options]]</var>（オブジェクト）、<var class="field">[[ResolvedLocale]]</var>（レコード）、<var class="field">[[ResolutionOptions]]</var>（レコード）を持つ通常完了または throw 完了. <var>constructor</var> の入力を読み取り、ロケールに解決します。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_367"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li><var>specialBehaviours</var> が存在し <emu-const>require-options</emu-const> を含み、<var>options</var> が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>specialBehaviours</var> が存在し <emu-const>coerce-options</emu-const> を含む場合、<var>options</var> を ?&nbsp;<emu-xref aoid="CoerceOptionsToObject" id="_ref_368"><a href="#sec-coerceoptionstoobject">CoerceOptionsToObject</a></emu-xref>(<var>options</var>)
        に設定する。そうでなければ、<var>options</var> を ?&nbsp;<emu-xref aoid="GetOptionsObject"><a href="https://tc39.es/ecma262/#sec-getoptionsobject">GetOptionsObject</a></emu-xref>(<var>options</var>) に設定する。</li><li><var>matcher</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_369"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"localeMatcher"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"lookup"</emu-val>, <emu-val>"best fit"</emu-val>&nbsp;», <emu-val>"best fit"</emu-val>)
        とする。</li><li><var>opt</var> をレコード { <var class="field">[[localeMatcher]]</var>: <var>matcher</var>&nbsp;} とする。</li><li><var>constructor</var>.<var class="field">[[ResolutionOptionDescriptors]]</var> の各<emu-xref href="#resolution-option-descriptor" id="_ref_370"><a href="#resolution-option-descriptor">解決オプション記述子</a></emu-xref> <var>desc</var> について、</li><li><var>desc</var> が <var class="field">[[Type]]</var> フィールドを持つ場合、<var>type</var> を <var>desc</var>.<var class="field">[[Type]]</var> とする。そうでなければ <var>type</var> を <emu-const>string</emu-const> とする。</li><li><var>desc</var> が <var class="field">[[Values]]</var> フィールドを持つ場合、<var>values</var> を <var>desc</var>.<var class="field">[[Values]]</var> とする。そうでなければ <var>values</var> を <emu-const>empty</emu-const> とする。</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_371"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>desc</var>.<var class="field">[[Property]]</var>, <var>type</var>, <var>values</var>, <emu-val>undefined</emu-val>) とする。</li><li><var>value</var> が <emu-val>undefined</emu-val> でなければ、</li><li><var>value</var> を !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>) に設定する。</li><li><var>value</var> が <code>type</code> Unicode ロケール非終端に一致しなければ、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>key</var> を <var>desc</var>.<var class="field">[[Key]]</var> とする。</li><li><var>opt</var>.[[&lt;<var>key</var>&gt;]] に <var>value</var> を設定する。</li><li><var>modifyResolutionOptions</var> が存在する場合、! <var>modifyResolutionOptions</var>(<var>opt</var>) を実行する。</li><li><var>resolution</var> を <emu-xref aoid="ResolveLocale" id="_ref_372"><a href="#sec-resolvelocale">ResolveLocale</a></emu-xref>(<var>constructor</var>.<var class="field">[[AvailableLocales]]</var>, <var>requestedLocales</var>, <var>opt</var>,
        <var>constructor</var>.<var class="field">[[RelevantExtensionKeys]]</var>, <var>localeData</var>) とする。</li><li>レコード { <var class="field">[[Options]]</var>: <var>options</var>, <var class="field">[[ResolvedLocale]]</var>: <var>resolution</var>, <var class="field">[[ResolutionOptions]]</var>: <var>opt</var>&nbsp;} を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-filterlocales" type="abstract operation" oldids="sec-lookupsupportedlocales,sec-bestfitsupportedlocales,sec-supportedlocales" aoid="FilterLocales"><span id="sec-supportedlocales"></span><span id="sec-bestfitsupportedlocales"></span><span id="sec-lookupsupportedlocales"></span>
      <h1><span class="secnum">9.2.9</span> FilterLocales ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var> )</h1>
      <p>The abstract operation FilterLocales takes arguments <var>availableLocales</var> (<emu-xref href="#available-locales-list" id="_ref_373"><a href="#available-locales-list">利用可能なロケールリスト</a></emu-xref>), <var>requestedLocales</var> (<emu-xref href="#language-priority-list" id="_ref_374"><a href="#language-priority-list">言語優先リスト</a></emu-xref>), and <var>options</var> (ECMAScript 言語値) and returns Unicode 正規化ロケール識別子のリストを含む通常完了または throw 完了. これは <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> の <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-3">RFC 4647 セクション 3</a> で定義された "filtering"
          を実行し、<var>options</var> で指定されたアルゴリズム（<emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_375"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref> または
          <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_376"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>）を使用して、<var>requestedLocales</var> のうち <var>availableLocales</var> に一致するロケールを相対順序を保って返します。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>options</var> を ?&nbsp;<emu-xref aoid="CoerceOptionsToObject" id="_ref_377"><a href="#sec-coerceoptionstoobject">CoerceOptionsToObject</a></emu-xref>(<var>options</var>) に設定する。</li><li><var>matcher</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_378"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"localeMatcher"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"lookup"</emu-val>, <emu-val>"best fit"</emu-val>&nbsp;», <emu-val>"best fit"</emu-val>)
        とする。</li><li><var>subset</var> を新しい空リストとする。</li><li><var>requestedLocales</var> の各要素 <var>locale</var> について、</li><li><var>matcher</var> が <emu-val>"lookup"</emu-val> の場合、</li><li><var>match</var> を <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_379"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<var>availableLocales</var>, « <var>locale</var>&nbsp;») とする。</li><li>それ以外の場合、</li><li><var>match</var> を <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_380"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref>(<var>availableLocales</var>, « <var>locale</var>&nbsp;») とする。</li><li><var>match</var> が <emu-val>undefined</emu-val> でなければ、<var>subset</var> に <var>locale</var> を追加する。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>subset</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-coerceoptionstoobject" type="abstract operation" aoid="CoerceOptionsToObject">
      <h1><span class="secnum">9.2.10</span> CoerceOptionsToObject ( <var>options</var> )</h1>
      <p>The abstract operation CoerceOptionsToObject takes argument <var>options</var> (ECMAScript 言語値) and returns オブジェクトを含む通常完了または throw 完了. 
          <var>options</var> を <emu-xref aoid="GetOption" id="_ref_381"><a href="#sec-getoption">GetOption</a></emu-xref> で使用可能なオブジェクトに変換し、デフォルトは空オブジェクトとします。
          null でないプリミティブ値もオブジェクトに変換するため、新しい機能では <emu-xref aoid="GetOptionsObject"><a href="https://tc39.es/ecma262/#sec-getoptionsobject">GetOptionsObject</a></emu-xref> の利用が推奨されます。
         It performs the following steps when called:</p>
      <emu-alg><ol><li><var>options</var> が <emu-val>undefined</emu-val> の場合、</li><li><emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) を返す。</li><li>?&nbsp;<emu-xref aoid="ToObject"><a href="https://tc39.es/ecma262/#sec-toobject">ToObject</a></emu-xref>(<var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getoption" type="abstract operation" aoid="GetOption">
      <h1><span class="secnum">9.2.11</span> GetOption ( <var>options</var>, <var>property</var>, <var>type</var>, <var>values</var>, <var>default</var> )</h1>
      <p>The abstract operation GetOption takes arguments <var>options</var> (オブジェクト), <var>property</var> (プロパティキー), <var>type</var> (<emu-const>boolean</emu-const> または <emu-const>string</emu-const>), <var>values</var> (<emu-const>empty</emu-const> または ECMAScript 言語値のリスト), and <var>default</var> (<emu-const>required</emu-const> または ECMAScript 言語値) and returns ECMAScript 言語値を含む通常完了または throw 完了. 指定されたプロパティの値を抽出し、必要な <var>type</var> に変換し、<var>values</var> が <emu-const>empty</emu-const> でなければ許可された値か確認し、値が <emu-val>undefined</emu-val> なら <var>default</var> を代用します。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>value</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <var>property</var>) とする。</li><li><var>value</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>default</var> が <emu-const>required</emu-const> なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>default</var> を返す。</li><li><var>type</var> が <emu-const>boolean</emu-const> の場合、</li><li><var>value</var> を <emu-xref aoid="ToBoolean"><a href="https://tc39.es/ecma262/#sec-toboolean">ToBoolean</a></emu-xref>(<var>value</var>) に設定する。</li><li>それ以外の場合、</li><li>アサート：<var>type</var> は <emu-const>string</emu-const> である。</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>) に設定する。</li><li><var>values</var> が <emu-const>empty</emu-const> でなく、<var>values</var> に <var>value</var> が含まれていなければ、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>value</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getbooleanorstringnumberformatoption" type="abstract operation" aoid="GetBooleanOrStringNumberFormatOption">
      <h1><span class="secnum">9.2.12</span> GetBooleanOrStringNumberFormatOption ( <var>options</var>, <var>property</var>, <var>stringValues</var>, <var>fallback</var> )</h1>
      <p>The abstract operation GetBooleanOrStringNumberFormatOption takes arguments <var>options</var> (オブジェクト), <var>property</var> (プロパティキー), <var>stringValues</var> (文字列リスト), and <var>fallback</var> (ECMAScript 言語値) and returns Boolean, 文字列、<var>fallback</var> のいずれかを含む通常完了または throw 完了. <var>options</var> オブジェクトから <var>property</var> 名の値を抽出します。値が <emu-val>undefined</emu-val> なら <var>fallback</var> を返し、値が <emu-val>true</emu-val> なら <emu-val>true</emu-val>
          を返し、<emu-xref aoid="ToBoolean"><a href="https://tc39.es/ecma262/#sec-toboolean">ToBoolean</a></emu-xref>(<var>value</var>) が <emu-val>false</emu-val> なら <emu-val>false</emu-val> を返し、それ以外は文字列に変換し、<var>stringValues</var> に含まれていなければ <emu-val>RangeError</emu-val>
          例外を投げ、含まれていればその値を返します。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>value</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <var>property</var>) とする。</li><li><var>value</var> が <emu-val>undefined</emu-val> なら <var>fallback</var> を返す。</li><li><var>value</var> が <emu-val>true</emu-val> なら <emu-val>true</emu-val> を返す。</li><li><emu-xref aoid="ToBoolean"><a href="https://tc39.es/ecma262/#sec-toboolean">ToBoolean</a></emu-xref>(<var>value</var>) が <emu-val>false</emu-val> なら <emu-val>false</emu-val> を返す。</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>) に設定する。</li><li><var>stringValues</var> に <var>value</var> が含まれていなければ、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>value</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-defaultnumberoption" type="abstract operation" aoid="DefaultNumberOption">
      <h1><span class="secnum">9.2.13</span> DefaultNumberOption ( <var>value</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</h1>
      <p>The abstract operation DefaultNumberOption takes arguments <var>value</var> (ECMAScript 言語値), <var>minimum</var> (整数), <var>maximum</var> (整数), and <var>fallback</var> (整数または <emu-val>undefined</emu-val>) and returns 整数または <emu-val>undefined</emu-val> を含む通常完了または throw 完了. <var>value</var> を整数に変換し、許可された範囲内か確認し、必要に応じて <var>fallback</var> 値を補います。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>value</var> が <emu-val>undefined</emu-val> なら <var>fallback</var> を返す。</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>) に設定する。</li><li><var>value</var> が有限でないか、<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>) &lt; <var>minimum</var> または <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>) &gt; <var>maximum</var> なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>)) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getnumberoption" type="abstract operation" aoid="GetNumberOption">
      <h1><span class="secnum">9.2.14</span> GetNumberOption ( <var>options</var>, <var>property</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</h1>
      <p>The abstract operation GetNumberOption takes arguments <var>options</var> (オブジェクト), <var>property</var> (文字列), <var>minimum</var> (整数), <var>maximum</var> (整数), and <var>fallback</var> (整数または <emu-val>undefined</emu-val>) and returns 整数または <emu-val>undefined</emu-val> を含む通常完了または throw 完了. <var>options</var> オブジェクトから <var>property</var> 名の値を抽出し、整数に変換し、許可された範囲内か確認し、必要に応じて <var>fallback</var> 値を補います。 It performs the following steps when called:</p>
      <emu-alg><ol><li><var>value</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <var>property</var>) とする。</li><li>?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_382"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>value</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionpattern" type="abstract operation" aoid="PartitionPattern">
      <h1><span class="secnum">9.2.15</span> PartitionPattern ( <var>pattern</var> )</h1>
      <p>The abstract operation PartitionPattern takes argument <var>pattern</var> (<emu-xref href="#sec-pattern-string-types" id="_ref_383"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>) and returns フィールド <var class="field">[[Type]]</var>（文字列）と <var class="field">[[Value]]</var>（文字列または <emu-val>undefined</emu-val>）を持つレコードのリスト. 
          <var class="field">[[Type]]</var> が <emu-val>"literal"</emu-val> の場合、<var class="field">[[Value]]</var> フィールドは文字列値となり、それ以外の場合は <emu-val>undefined</emu-val> となります。
         It performs the following steps when called:</p>
      <emu-alg><ol><li><var>result</var> を新しい空リストとする。</li><li><var>placeholderEnd</var> を -1 とする。</li><li><var>placeholderStart</var> を <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>pattern</var>, <emu-val>"{"</emu-val>, 0) とする。</li><li><var>placeholderStart</var> が <emu-const>not-found</emu-const> でない間繰り返す、</li><li><var>literal</var> を <var>pattern</var> の <var>placeholderEnd</var> + 1 から <var>placeholderStart</var> までの部分文字列とする。</li><li><var>literal</var> が空文字列でなければ、</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>literal</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>placeholderEnd</var> を <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>pattern</var>, <emu-val>"}"</emu-val>, <var>placeholderStart</var>) とする。</li><li>アサート：<var>placeholderEnd</var> は <emu-const>not-found</emu-const> でなく、<var>placeholderStart</var> &lt; <var>placeholderEnd</var> である。</li><li><var>placeholderName</var> を <var>pattern</var> の <var>placeholderStart</var> + 1 から <var>placeholderEnd</var> までの部分文字列とする。</li><li>レコード { <var class="field">[[Type]]</var>: <var>placeholderName</var>, <var class="field">[[Value]]</var>: <emu-val>undefined</emu-val>&nbsp;} を <var>result</var> に追加する。</li><li><var>placeholderStart</var> を <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>pattern</var>, <emu-val>"{"</emu-val>, <var>placeholderEnd</var>) に設定する。</li><li><var>tail</var> を <var>pattern</var> の <var>placeholderEnd</var> + 1 からの部分文字列とする。</li><li><var>tail</var> が空文字列でなければ、</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>tail</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="collator-objects">
  <h1><span class="secnum">10</span> コレーターオブジェクト</h1>

  <emu-clause id="sec-intl-collator-constructor" oldids="sec-the-intl-collator-constructor"><span id="sec-the-intl-collator-constructor"></span>
    <h1><span class="secnum">10.1</span> Intl.Collator コンストラクター</h1>

    <p>Intl.Collator コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.Collator%</dfn>である。</li>
      <li><emu-xref href="#intl-object" id="_ref_384"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"Collator"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_385"><a href="#intl-object">Intl オブジェクト</a></emu-xref>のすべての<emu-xref href="#service-constructor" id="_ref_386"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_40"><a href="#sec-internal-slots">9.1</a></emu-xref> で規定されている。</p>

    <emu-clause id="sec-intl.collator" oldids="sec-initializecollator"><span id="sec-initializecollator"></span>
      <h1><span class="secnum">10.1.1</span> Intl.Collator ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.Collator</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> なら、<var>newTarget</var> をアクティブな関数オブジェクトとし、そうでなければ <var>newTarget</var> を NewTarget とする。</li><li><var>internalSlotsList</var> を « <var class="field">[[InitializedCollator]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Usage]]</var>, <var class="field">[[Collation]]</var>, <var class="field">[[Numeric]]</var>,
        <var class="field">[[CaseFirst]]</var>, <var class="field">[[Sensitivity]]</var>, <var class="field">[[IgnorePunctuation]]</var>, <var class="field">[[BoundCompare]]</var>&nbsp;» とする。</li><li><var>collator</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(<var>newTarget</var>, <emu-val>"%Intl.Collator.prototype%"</emu-val>, <var>internalSlotsList</var>)
        とする。</li><li>注: locale データのソースは <emu-xref aoid="ResolveOptions" id="_ref_387"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref> の <emu-val>"usage"</emu-val> プロパティに依存するが、次の2つのステップはその参照よりも観測可能に先行しなければならず、<emu-xref aoid="ResolveOptions" id="_ref_388"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>
        内で観測可能に繰り返してはならない。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_389"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li><var>options</var> を ?&nbsp;<emu-xref aoid="CoerceOptionsToObject" id="_ref_390"><a href="#sec-coerceoptionstoobject">CoerceOptionsToObject</a></emu-xref>(<var>options</var>) とする。</li><li><var>usage</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_391"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"usage"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"sort"</emu-val>, <emu-val>"search"</emu-val>&nbsp;», <emu-val>"sort"</emu-val>) とする。</li><li><var>collator</var>.<var class="field">[[Usage]]</var> に <var>usage</var> を設定する。</li><li><var>usage</var> が <emu-val>"sort"</emu-val> なら</li><li><var>localeData</var> を <emu-xref href="#sec-intl-collator-constructor" id="_ref_392"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[SortLocaleData]]</var> とする。</li><li>それ以外の場合、</li><li><var>localeData</var> を <emu-xref href="#sec-intl-collator-constructor" id="_ref_393"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[SearchLocaleData]]</var> とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_394"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-collator-constructor" id="_ref_395"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>, <var>localeData</var>,
        <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>requestedLocales</var>), <var>options</var>) とする。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> とする。</li><li><var>collator</var>.<var class="field">[[Locale]]</var> に <var>r</var>.<var class="field">[[Locale]]</var> を設定する。</li><li><var>r</var>.<var class="field">[[co]]</var> が <emu-val>null</emu-val> なら <var>collation</var> を <emu-val>"default"</emu-val> とし、そうでなければ <var>collation</var> を <var>r</var>.<var class="field">[[co]]</var> とする。</li><li><var>collator</var>.<var class="field">[[Collation]]</var> に <var>collation</var> を設定する。</li><li><var>collator</var>.<var class="field">[[Numeric]]</var> に <emu-xref aoid="SameValue"><a href="https://tc39.es/ecma262/#sec-samevalue">SameValue</a></emu-xref>(<var>r</var>.<var class="field">[[kn]]</var>, <emu-val>"true"</emu-val>) を設定する。</li><li><var>collator</var>.<var class="field">[[CaseFirst]]</var> に <var>r</var>.<var class="field">[[kf]]</var> を設定する。</li><li><var>resolvedLocaleData</var> を <var>r</var>.<var class="field">[[LocaleData]]</var> とする。</li><li><var>usage</var> が <emu-val>"sort"</emu-val> なら <var>defaultSensitivity</var> を <emu-val>"variant"</emu-val> とし、そうでなければ <var>defaultSensitivity</var> を
        <var>resolvedLocaleData</var>.<var class="field">[[sensitivity]]</var> とする。</li><li><var>collator</var>.<var class="field">[[Sensitivity]]</var> に ?&nbsp;<emu-xref aoid="GetOption" id="_ref_396"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"sensitivity"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"base"</emu-val>, <emu-val>"accent"</emu-val>,
        <emu-val>"case"</emu-val>, <emu-val>"variant"</emu-val>&nbsp;», <var>defaultSensitivity</var>) を設定する。</li><li><var>defaultIgnorePunctuation</var> を <var>resolvedLocaleData</var>.<var class="field">[[ignorePunctuation]]</var> とする。</li><li><var>collator</var>.<var class="field">[[IgnorePunctuation]]</var> に ?&nbsp;<emu-xref aoid="GetOption" id="_ref_397"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"ignorePunctuation"</emu-val>, <emu-const>boolean</emu-const>, <emu-const>empty</emu-const>,
        <var>defaultIgnorePunctuation</var>) を設定する。</li><li><var>collator</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-note><span class="note">Note</span><div class="note-contents">
      <emu-val>"search"</emu-val> オプション値に関連付けられた照合は、文字列の一致を見つけるためだけに使用すべきであり、この照合は特定の順序であることが保証されていません。この動作は <a href="https://unicode.org/reports/tr35/#UnicodeCollationIdentifier">Unicode Technical Standard #35 Part 1 Core,
        Unicode Collation Identifier</a> および <a href="https://unicode.org/reports/tr10/#Searching">Unicode Technical
        Standard #10 Unicode Collation Algorithm, Searching and Matching</a> で説明されています。
    </div></emu-note>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-intl-collator-constructor">
    <h1><span class="secnum">10.2</span> Intl.Collator コンストラクターのプロパティ</h1>

    <p>Intl.Collator コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-intl.collator.prototype">
      <h1><span class="secnum">10.2.1</span> Intl.Collator.prototype</h1>

      <p><code>Intl.Collator.prototype</code> の値は <emu-xref href="#sec-properties-of-the-intl-collator-prototype-object" id="_ref_398"><a href="#sec-properties-of-the-intl-collator-prototype-object">%Intl.Collator.prototype%</a></emu-xref> である。</p>

      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.collator.supportedlocalesof">
      <h1><span class="secnum">10.2.2</span> Intl.Collator.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが <var>locales</var> と <var>options</var> を引数に呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-collator-constructor" id="_ref_399"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> とする。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_400"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_401"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl-collator-internal-slots">
      <h1><span class="secnum">10.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_41"><a href="#sec-internal-slots">9.1</a></emu-xref>
        で説明された制約内で実装依存である。<var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は、要素 <emu-val>"co"</emu-val> を含むリストでなければならず、* "kf" * および * "kn" *
        のいずれかまたはすべてを含むことができ、他の要素を含んではならない。</p>

      <emu-note><span class="note">Note</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1
          Core, Section 3.6.1 Key and Type Definitions</a> では照合に関連する10個のロケール拡張キーが説明されている: <emu-val>"co"</emu-val> はコレーターの用途と特殊化、<emu-val>"ka"</emu-val>
        は代替処理、<emu-val>"kb"</emu-val> は後方2次重み、<emu-val>"kc"</emu-val> はケースレベル、<emu-val>"kf"</emu-val> はケースファースト、<emu-val>"kh"</emu-val> はひらがな4次、<emu-val>"kk"</emu-val> は正規化、<emu-val>"kn"</emu-val> は数値、<emu-val>"kr"</emu-val> は並べ替え、<emu-val>"ks"</emu-val>
        は照合強度、<emu-val>"vt"</emu-val> は可変トップ。Collator では、用途は options オブジェクトの <emu-val>"usage"</emu-val> プロパティで指定し、代替処理は <emu-val>"ignorePunctuation"</emu-val>
        プロパティで指定し、ケースレベルと強度は <emu-val>"sensitivity"</emu-val> プロパティで指定する。<emu-xref href="#sec-language-tags" id="_ref_402"><a href="#sec-language-tags">言語タグ</a></emu-xref>の <emu-val>"co"</emu-val> キーは照合の特殊化のみサポートされ、<emu-val>"kb"</emu-val>, <emu-val>"kh"</emu-val>, <emu-val>"kk"</emu-val>, <emu-val>"kr"</emu-val>,
        <emu-val>"vt"</emu-val> キーはこのバージョンの Internationalization API では許可されていない。残りのキーのサポートは実装依存である。
      </div></emu-note>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « { <var class="field">[[Key]]</var>: <emu-val>"co"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"collation"</emu-val> }, { <var class="field">[[Key]]</var>:
        <emu-val>"kn"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numeric"</emu-val>, <var class="field">[[Type]]</var>: <emu-const>boolean</emu-const> }, { <var class="field">[[Key]]</var>: <emu-val>"kf"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"caseFirst"</emu-val>,
        <var class="field">[[Values]]</var>: « <emu-val>"upper"</emu-val>, <emu-val>"lower"</emu-val>, <emu-val>"false"</emu-val> » } » である。</p>

      <p><var class="field">[[SortLocaleData]]</var> および <var class="field">[[SearchLocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_42"><a href="#sec-internal-slots">9.1</a></emu-xref>
        で説明された制約内で実装依存であり、さらに次の追加制約がすべてのロケール値 <var>locale</var> に対して適用される:</p>

      <ul>
        <li><var class="field">[[SortLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> および <var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> の最初の要素は <emu-val>null</emu-val>
          でなければならない。</li>
        <li><emu-val>"standard"</emu-val> および <emu-val>"search"</emu-val> の値は、いずれの <var class="field">[[SortLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> および
          <var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> リストにも使用してはならない。</li>
        <li><var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は <emu-val>"base"</emu-val>, <emu-val>"accent"</emu-val>, <emu-val>"case"</emu-val>, <emu-val>"variant"</emu-val> のいずれかの文字列値を持つ
          <var class="field">[[sensitivity]]</var> フィールドを持たなければならない。</li>
        <li><var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] および <var class="field">[[SortLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は Boolean 値を持つ
          <var class="field">[[ignorePunctuation]]</var> フィールドを持たなければならない。</li>
      </ul>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-intl-collator-prototype-object">
    <h1><span class="secnum">10.3</span> Intl.Collator プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.Collator プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.Collator.prototype%</dfn>である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.Collator インスタンスではなく、<var class="field">[[InitializedCollator]]</var> 内部スロットや他の Intl.Collator インスタンスオブジェクトの内部スロットを持たない。</li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-intl.collator.prototype.constructor">
      <h1><span class="secnum">10.3.1</span> Intl.Collator.prototype.constructor</h1>

      <p><code>Intl.Collator.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-collator-constructor" id="_ref_403"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.collator.prototype.resolvedoptions">
      <h1><span class="secnum">10.3.2</span> Intl.Collator.prototype.resolvedOptions ( )</h1>

      <p>この関数はオブジェクトの初期化時に計算されたロケールとオプションにアクセスするためのものである。</p>

      <emu-alg><ol><li><var>collator</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>collator</var>, <var class="field">[[InitializedCollator]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><emu-xref href="#table-collator-resolvedoptions-properties" id="_ref_43"><a href="#table-collator-resolvedoptions-properties">Table 3</a></emu-xref> の各行（ヘッダー行を除く）について、テーブル順に次を行う</li><li><var>p</var> を現在の行の Property 値とする。</li><li><var>v</var> を <var>collator</var> の内部スロットのうち、現在の行の Internal Slot 値の名前を持つものの値とする。</li><li>現在の行に Extension Key 値がある場合、</li><li><var>extensionKey</var> を現在の行の Extension Key 値とする。</li><li><emu-xref href="#sec-intl-collator-constructor" id="_ref_404"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[RelevantExtensionKeys]]</var> が <var>extensionKey</var> を含まない場合、</li><li><var>v</var> を <emu-val>undefined</emu-val> に設定する。</li><li><var>v</var> が <emu-val>undefined</emu-val> でない場合、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-collator-resolvedoptions-properties"><figure><figcaption>Table 3: Collator インスタンスの解決済みオプション</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>プロパティ</th>
              <th>拡張キー</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Usage]]</var></td>
            <td><emu-val>"usage"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Sensitivity]]</var></td>
            <td><emu-val>"sensitivity"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[IgnorePunctuation]]</var></td>
            <td><emu-val>"ignorePunctuation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Collation]]</var></td>
            <td><emu-val>"collation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Numeric]]</var></td>
            <td><emu-val>"numeric"</emu-val></td>
            <td><emu-val>"kn"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[CaseFirst]]</var></td>
            <td><emu-val>"caseFirst"</emu-val></td>
            <td><emu-val>"kf"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.collator.prototype.compare">
      <h1><span class="secnum">10.3.3</span> get Intl.Collator.prototype.compare</h1>

      <p>この名前付きアクセサプロパティは、この Collator オブジェクトの並び順に従って2つの文字列を比較する関数を返す。</p>
      <p>Intl.Collator.prototype.compare はアクセサプロパティであり、set アクセサ関数は <emu-val>undefined</emu-val> である。get アクセサ関数は次の手順を実行する:</p>

      <emu-alg><ol><li><var>collator</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>collator</var>, <var class="field">[[InitializedCollator]]</var>) を実行する。</li><li><var>collator</var>.<var class="field">[[BoundCompare]]</var> が <emu-val>undefined</emu-val> なら、</li><li><var>F</var> を <emu-xref href="#sec-collator-compare-functions" id="_ref_44"><a href="#sec-collator-compare-functions">10.3.3.1</a></emu-xref> で定義された新しい組み込み関数オブジェクトとする。</li><li><var>F</var>.<var class="field">[[Collator]]</var> に <var>collator</var> を設定する。</li><li><var>collator</var>.<var class="field">[[BoundCompare]]</var> に <var>F</var> を設定する。</li><li><var>collator</var>.<var class="field">[[BoundCompare]]</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        返される関数は <var>collator</var> にバインドされているため、<code>Array.prototype.sort</code> や他の関数に直接渡すことができる。
      </div></emu-note>

      <emu-clause id="sec-collator-compare-functions">
        <h1><span class="secnum">10.3.3.1</span> Collator 比較関数</h1>

        <p>Collator 比較関数は <var class="field">[[Collator]]</var> 内部スロットを持つ匿名組み込み関数である。</p>
        <p>Collator 比較関数 <var>F</var> が引数 <var>x</var> と <var>y</var> で呼び出された場合、次の手順を実行する:</p>

        <emu-alg><ol><li><var>collator</var> を <var>F</var>.<var class="field">[[Collator]]</var> とする。</li><li><var>collator</var> はオブジェクトであり、<var class="field">[[InitializedCollator]]</var> 内部スロットを持つことをアサートする。</li><li><var>x</var> が指定されていない場合、<var>x</var> を <emu-val>undefined</emu-val> とする。</li><li><var>y</var> が指定されていない場合、<var>y</var> を <emu-val>undefined</emu-val> とする。</li><li><var>X</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>x</var>) とする。</li><li><var>Y</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>y</var>) とする。</li><li><emu-xref aoid="CompareStrings" id="_ref_405"><a href="#sec-collator-comparestrings">CompareStrings</a></emu-xref>(<var>collator</var>, <var>X</var>, <var>Y</var>) を返す。</li></ol></emu-alg>

        <p>Collator 比較関数の <emu-val>"length"</emu-val> プロパティは <emu-val>2</emu-val><sub>𝔽</sub> である。</p>
      </emu-clause>

      <emu-clause id="sec-collator-comparestrings" type="implementation-defined abstract operation" aoid="CompareStrings">
        <h1><span class="secnum">10.3.3.2</span> CompareStrings ( <var>collator</var>, <var>x</var>, <var>y</var> )</h1>
        <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CompareStrings takes arguments <var>collator</var> (an Intl.Collator), <var>x</var> (a String), and <var>y</var> (a String) and returns a Number, but not <emu-val>NaN</emu-val>. 
            返される数値は <var>x</var> と <var>y</var> の実装依存のロケール感度の文字列比較結果を表す。
            この結果は、<var>collator</var> の有効なロケールと照合オプションに従った文字列値の並び順に対応することを意図しており、<var>x</var> が <var>y</var>
            より前の場合は負、後の場合は正、その他の場合はゼロ（相対的な順序なし）となる。
            文字列値は <emu-xref href="#ecma262" id="_ref_406"><a href="#ecma262">ECMA-262</a></emu-xref> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref> で説明されている UTF-16
            コードユニット列として解釈され、文字列内のサロゲートペア（0xD800～0xDBFF のコードユニットの後に 0xDC00～0xDFFF のコードユニット）は対応するコードポイントとして解釈される。
          </p>

        <p>
          以下の動作は、文字列の「基底文字」の並びをロケール感度で識別することに依存し、異なる基底文字は常に異なると比較される（それらを含む文字列も異なると比較される）。同じ基底文字のケースやダイアクリティカルマークなどの違いによる比較結果は、<var>collator</var>.<var class="field">[[Sensitivity]]</var>
          により次のように異なる:</p>

        <emu-table id="table-collator-comparestrings-sensitivity"><figure><figcaption>Table 4: Collator Sensitivity の効果</figcaption>
          
          <table class="real-table">
            <thead style="white-space: nowrap">
              <tr>
                <th><var class="field">[[Sensitivity]]</var></th>
                <th>説明</th>
                <th><emu-val>"a"</emu-val> vs. <emu-val>"á"</emu-val></th>
                <th><emu-val>"a"</emu-val> vs. <emu-val>"A"</emu-val></th>
              </tr>
            </thead>
            <tbody><tr>
              <td><emu-val>"base"</emu-val></td>
              <td>同じ基底文字の文字は、ケースやダイアクリティカルマークの違いに関係なく異ならないと比較される。</td>
              <td>等しい</td>
              <td>等しい</td>
            </tr>
            <tr>
              <td><emu-val>"accent"</emu-val></td>
              <td>同じ基底文字の文字は、アクセントや他のダイアクリティカルマークの違いがある場合のみ異なると比較され、ケースの違いは無視される。</td>
              <td>異なる</td>
              <td>等しい</td>
            </tr>
            <tr>
              <td><emu-val>"case"</emu-val></td>
              <td>同じ基底文字の文字は、ケースの違いがある場合のみ異なると比較され、アクセントやダイアクリティカルマークの違いは無視される。</td>
              <td>等しい</td>
              <td>異なる</td>
            </tr>
            <tr>
              <td><emu-val>"variant"</emu-val></td>
              <td>同じ基底文字の文字は、ケースやダイアクリティカルマーク、その他の違いがある場合に異なると比較される。</td>
              <td>異なる</td>
              <td>異なる</td>
            </tr>
          </tbody></table>
        </figure></emu-table>

        <emu-note><span class="note">Note 1</span><div class="note-contents">
          入力コードポイントから基底文字へのマッピングには、任意の収縮、拡張、衝突が含まれる場合があり、ダイアクリティカルマーク付き文字への特別な処理も適用されることがある。例えば、スウェーデン語では "ö" は "o"
          とは異なる基底文字であり、"v" と "w" は同じ基底文字とみなされる。スロバキア語では "ch" は単一の基底文字であり、英語では "æ" は "a" で始まり "e" で終わる基底文字列である。
        </div></emu-note>

        <p><var>collator</var>.<var class="field">[[IgnorePunctuation]]</var> が <emu-val>true</emu-val> の場合、句読点は無視される（句読点だけが異なる文字列は等しいと比較される）。</p>

        <p>ロケール拡張キーで設定可能なオプションの解釈については <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode
            Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> を参照。</p>

        <p>実際の戻り値は追加情報をエンコードできるよう実装依存であるが、この操作は任意の <var>collator</var> について、<var>x</var> と <var>y</var>
          の関数として一貫した比較器となり、すべての文字列集合に対して全順序を定義することが要求される。また、Unicode 標準に従った正規等価性を認識し、区別可能な文字列が正規等価の場合は <emu-val>+0</emu-val><sub>𝔽</sub>
          を返すことが要求される。</p>

        <emu-note><span class="note">Note 2</span><div class="note-contents">
          CompareStrings 抽象操作は <a href="https://unicode.org/reports/tr10/">Unicode Technical Standard #10: Unicode
            Collation Algorithm</a> に従い、<var>collator</var> の有効なロケールと照合オプションのテーラリングを用いて実装することが推奨される。実装では Common Locale Data
          Repository（<a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>）のテーラリングを利用することが推奨される。
        </div></emu-note>

        <emu-note><span class="note">Note 3</span><div class="note-contents">
          同じ解決済みオプションを持つ Collator インスタンスでも、CompareStrings 抽象操作の動作は実装のバージョンによって異なる場合があることに注意すること。
        </div></emu-note>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-intl.collator.prototype-%symbol.tostringtag%" oldids="sec-intl.collator.prototype-@@tostringtag"><span id="sec-intl.collator.prototype-@@tostringtag"></span>
      <h1><span class="secnum">10.3.4</span> Intl.Collator.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.Collator"</emu-val> である。</p>

      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-collator-instances">
    <h1><span class="secnum">10.4</span> Intl.Collator インスタンスのプロパティ</h1>

    <p>Intl.Collator インスタンスは <emu-xref href="#sec-properties-of-the-intl-collator-prototype-object" id="_ref_407"><a href="#sec-properties-of-the-intl-collator-prototype-object">%Intl.Collator.prototype%</a></emu-xref> からプロパティを継承する通常のオブジェクトである。</p>

    <p>Intl.Collator インスタンスは <var class="field">[[InitializedCollator]]</var> 内部スロットを持つ。</p>

    <p>Intl.Collator インスタンスは、<emu-xref href="#sec-intl-collator-constructor" title="" id="_ref_45"><a href="#sec-intl-collator-constructor">Intl.Collator コンストラクター</a></emu-xref> で計算される複数の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> は照合に使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_408"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値である。</li>
      <li><var class="field">[[Usage]]</var> は <emu-val>"sort"</emu-val> または <emu-val>"search"</emu-val> のいずれかの文字列値であり、コレーターの用途を識別する。</li>
      <li><var class="field">[[Sensitivity]]</var> は <emu-val>"base"</emu-val>, <emu-val>"accent"</emu-val>, <emu-val>"case"</emu-val>, <emu-val>"variant"</emu-val> のいずれかの文字列値であり、コレーターの感度を識別する。</li>
      <li><var class="field">[[IgnorePunctuation]]</var> は Boolean 値であり、比較時に句読点を無視するかどうかを指定する。</li>
      <li><var class="field">[[Collation]]</var> は照合に使用される <a href="https://unicode.org/reports/tr35/#UnicodeCollationIdentifier">Unicode
          Collation Identifier</a> を表す文字列値であり、<emu-val>"standard"</emu-val> および <emu-val>"search"</emu-val> の値は許可されず、<emu-val>"default"</emu-val> の値は許可される。</li>
    </ul>

    <p>Intl.Collator インスタンスは、<emu-xref href="#table-collator-resolvedoptions-properties" id="_ref_46"><a href="#table-collator-resolvedoptions-properties">Table 3</a></emu-xref> の内部スロット名に対応するキーが
      Intl.Collator の <var class="field">[[RelevantExtensionKeys]]</var> 内部スロットに含まれている場合、次の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Numeric]]</var> は Boolean 値であり、数値ソートを使用するかどうかを指定する。</li>
      <li><var class="field">[[CaseFirst]]</var> は <emu-val>"upper"</emu-val>, <emu-val>"lower"</emu-val>, <emu-val>"false"</emu-val> のいずれかの文字列値である。</li>
    </ul>

    <p>最後に、Intl.Collator インスタンスは compare アクセサ (<emu-xref href="#sec-intl.collator.prototype.compare" id="_ref_47"><a href="#sec-intl.collator.prototype.compare">10.3.3</a></emu-xref>)
      で返される関数をキャッシュする <var class="field">[[BoundCompare]]</var> 内部スロットを持つ。</p>
  </emu-clause>
</emu-clause>
<emu-clause id="datetimeformat-objects">
  <h1><span class="secnum">11</span> 日付時刻フォーマットオブジェクト</h1>

  <emu-clause id="sec-intl-datetimeformat-constructor">
    <h1><span class="secnum">11.1</span> Intl.DateTimeFormat コンストラクター</h1>

    <p>Intl.DateTimeFormat コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.DateTimeFormat%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_409"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"DateTimeFormat"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_410"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の全ての<emu-xref href="#service-constructor" id="_ref_411"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_48"><a href="#sec-internal-slots">9.1</a></emu-xref> で規定されている。</p>

    <emu-clause id="sec-intl.datetimeformat">
      <h1><span class="secnum">11.1.1</span> Intl.DateTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.DateTimeFormat</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を行う:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> の場合、<var>newTarget</var> をアクティブな関数オブジェクトとし、そうでなければ <var>newTarget</var> を NewTarget とする。</li><li><var>dateTimeFormat</var> を ?&nbsp;<emu-xref aoid="CreateDateTimeFormat" id="_ref_412"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<var>newTarget</var>, <var>locales</var>, <var>options</var>, <emu-const>any</emu-const>, <emu-const>date</emu-const>) とする。</li><li>実装が <emu-xref href="#legacy-constructor" id="_ref_49"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref> の規範的オプションコンストラクターモードをサポートしている場合、</li><li><var>this</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="ChainDateTimeFormat" id="_ref_413"><a href="#sec-chaindatetimeformat">ChainDateTimeFormat</a></emu-xref>(<var>dateTimeFormat</var>, NewTarget, <var>this</var>) を返す。</li><li><var>dateTimeFormat</var> を返す。</li></ol></emu-alg>

      <emu-clause id="sec-chaindatetimeformat" type="abstract operation" normative-optional="" aoid="ChainDateTimeFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
        <h1><span class="secnum">11.1.1.1</span> ChainDateTimeFormat ( <var>dateTimeFormat</var>, <var>newTarget</var>, <var>this</var> )</h1>
        <p>The abstract operation ChainDateTimeFormat takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat), <var>newTarget</var> (ECMAScript 言語値), and <var>this</var> (ECMAScript 言語値) and returns 正常完了値としてオブジェクト、または throw 完了値. It performs the following steps when called:</p>
        <emu-alg><ol><li><var>newTarget</var> が <emu-val>undefined</emu-val> かつ ?&nbsp;<emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_414"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>this</var>) が <emu-val>true</emu-val> の場合、</li><li>?&nbsp;<emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>this</var>, <emu-xref href="#intl-object" id="_ref_415"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>, PropertyDescriptor{ <var class="field">[[Value]]</var>: <var>dateTimeFormat</var>,
          <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val>&nbsp;}) を実行する。</li><li><var>this</var> を返す。</li><li><var>dateTimeFormat</var> を返す。</li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-createdatetimeformat" type="abstract operation" oldids="sec-initializedatetimeformat,sec-todatetimeoptions" aoid="CreateDateTimeFormat"><span id="sec-todatetimeoptions"></span><span id="sec-initializedatetimeformat"></span>
      <h1><span class="secnum">11.1.2</span> CreateDateTimeFormat ( <var>newTarget</var>, <var>locales</var>, <var>options</var>, <var>required</var>, <var>defaults</var> )</h1>

      <p>The abstract operation CreateDateTimeFormat takes arguments <var>newTarget</var> (コンストラクター), <var>locales</var> (ECMAScript 言語値), <var>options</var> (ECMAScript 言語値), <var>required</var> (<emu-const>date</emu-const>, <emu-const>time</emu-const>, または <emu-const>any</emu-const>), and <var>defaults</var> (<emu-const>date</emu-const>, <emu-const>time</emu-const>, または <emu-const>all</emu-const>) and returns 正常完了値として DateTimeFormat オブジェクト、または throw 完了値. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>dateTimeFormat</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(<var>newTarget</var>, <emu-val>"%Intl.DateTimeFormat.prototype%"</emu-val>, «
        <var class="field">[[InitializedDateTimeFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Calendar]]</var>, <var class="field">[[NumberingSystem]]</var>, <var class="field">[[TimeZone]]</var>, <var class="field">[[HourCycle]]</var>,
        <var class="field">[[DateStyle]]</var>, <var class="field">[[TimeStyle]]</var>, <var class="field">[[DateTimeFormat]]</var>, <var class="field">[[BoundFormat]]</var>&nbsp;») とする。</li><li><var>hour12</var> を <emu-val>undefined</emu-val> とする。</li><li><var>modifyResolutionOptions</var> を (<var>options</var>) をパラメータとし、<var>hour12</var> をキャプチャし、呼び出された時に次の手順を行う新しい抽象クロージャとする:</li><li><var>hour12</var> を <var>options</var>.<var class="field">[[hour12]]</var> とする。</li><li><var>options</var> から <var class="field">[[hour12]]</var> フィールドを削除する。</li><li><var>hour12</var> が <emu-val>undefined</emu-val> でない場合、<var>options</var>.<var class="field">[[hc]]</var> を <emu-val>null</emu-val> とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_416"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_417"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_418"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>,
        <var>locales</var>, <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;», <var>modifyResolutionOptions</var>) とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> とする。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[Locale]]</var> を <var>r</var>.<var class="field">[[Locale]]</var> とする。</li><li><var>resolvedCalendar</var> を <var>r</var>.<var class="field">[[ca]]</var> とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var> を <var>resolvedCalendar</var> とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var> を <var>r</var>.<var class="field">[[nu]]</var> とする。</li><li><var>resolvedLocaleData</var> を <var>r</var>.<var class="field">[[LocaleData]]</var> とする。</li><li><var>hour12</var> が <emu-val>true</emu-val> の場合、</li><li><var>hc</var> を <var>resolvedLocaleData</var>.<var class="field">[[hourCycle12]]</var> とする。</li><li><var>hour12</var> が <emu-val>false</emu-val> の場合、</li><li><var>hc</var> を <var>resolvedLocaleData</var>.<var class="field">[[hourCycle24]]</var> とする。</li><li>それ以外の場合、</li><li><var>hour12</var> が <emu-val>undefined</emu-val> であることをアサートする。</li><li><var>hc</var> を <var>r</var>.<var class="field">[[hc]]</var> とする。</li><li><var>hc</var> が <emu-val>null</emu-val> の場合、<var>hc</var> を <var>resolvedLocaleData</var>.<var class="field">[[hourCycle]]</var> とする。</li><li><var>timeZone</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"timeZone"</emu-val>) とする。</li><li><var>timeZone</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>timeZone</var> を <emu-xref aoid="SystemTimeZoneIdentifier"><a href="https://tc39.es/ecma262/#sec-systemtimezoneidentifier">SystemTimeZoneIdentifier</a></emu-xref>() とする。</li><li>それ以外の場合、</li><li><var>timeZone</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>timeZone</var>) とする。</li><li><emu-xref aoid="IsTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-istimezoneoffsetstring">IsTimeZoneOffsetString</a></emu-xref>(<var>timeZone</var>) が <emu-val>true</emu-val> の場合、</li><li><var>parseResult</var> を <emu-xref aoid="ParseText"><a href="https://tc39.es/ecma262/#sec-parsetext">ParseText</a></emu-xref>(<emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>timeZone</var>), <emu-nt><a href="https://tc39.es/ecma262/#prod-UTCOffset">UTCOffset</a></emu-nt>) とする。</li><li><var>parseResult</var> が <emu-xref href="#sec-syntactic-grammar"><a href="https://tc39.es/ecma262/#sec-syntactic-grammar">Parse Node</a></emu-xref> であることをアサートする。</li><li><var>parseResult</var> が複数の <emu-nt><a href="https://tc39.es/ecma262/#prod-MinuteSecond">MinuteSecond</a></emu-nt> <emu-xref href="#sec-syntactic-grammar"><a href="https://tc39.es/ecma262/#sec-syntactic-grammar">Parse Node</a></emu-xref> を含む場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>offsetNanoseconds</var> を <emu-xref aoid="ParseTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-parsetimezoneoffsetstring">ParseTimeZoneOffsetString</a></emu-xref>(<var>timeZone</var>) とする。</li><li><var>offsetMinutes</var> を <var>offsetNanoseconds</var> / (6 × 10<sup>10</sup>) とする。</li><li><var>offsetMinutes</var> が整数であることをアサートする。</li><li><var>timeZone</var> を <emu-xref aoid="FormatOffsetTimeZoneIdentifier" id="_ref_419"><a href="#sec-formatoffsettimezoneidentifier">FormatOffsetTimeZoneIdentifier</a></emu-xref>(<var>offsetMinutes</var>) とする。</li><li>それ以外の場合、</li><li><var>timeZoneIdentifierRecord</var> を <emu-xref aoid="GetAvailableNamedTimeZoneIdentifier" id="_ref_420"><a href="#sec-getavailablenamedtimezoneidentifier">GetAvailableNamedTimeZoneIdentifier</a></emu-xref>(<var>timeZone</var>) とする。</li><li><var>timeZoneIdentifierRecord</var> が <emu-const>empty</emu-const> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>timeZone</var> を <var>timeZoneIdentifierRecord</var>.<var class="field">[[PrimaryIdentifier]]</var> とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var> を <var>timeZone</var> とする。</li><li><var>formatOptions</var> を新しいレコードとする。</li><li><var>formatOptions</var>.<var class="field">[[hourCycle]]</var> を <var>hc</var> とする。</li><li><var>hasExplicitFormatComponents</var> を <emu-val>false</emu-val> とする。</li><li><emu-xref href="#table-datetimeformat-components" id="_ref_50"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の各行（ヘッダー行を除く）を順番に処理する:</li><li><var>prop</var> を現在の行の Property 列の名前とする。</li><li><var>prop</var> が <emu-val>"fractionalSecondDigits"</emu-val> の場合、</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_421"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"fractionalSecondDigits"</emu-val>, 1, 3, <emu-val>undefined</emu-val>) とする。</li><li>それ以外の場合、</li><li><var>values</var> を現在の行の Values 列に記載された文字列のリストとする。</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_422"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>prop</var>, <emu-const>string</emu-const>, <var>values</var>, <emu-val>undefined</emu-val>) とする。</li><li><var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] を <var>value</var> とする。</li><li><var>value</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>hasExplicitFormatComponents</var> を <emu-val>true</emu-val> とする。</li><li><var>formatMatcher</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_423"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"formatMatcher"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"basic"</emu-val>, <emu-val>"best fit"</emu-val>&nbsp;», <emu-val>"best
        fit"</emu-val>) とする。</li><li><var>dateStyle</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_424"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"dateStyle"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>&nbsp;»,
        <emu-val>undefined</emu-val>) とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[DateStyle]]</var> を <var>dateStyle</var> とする。</li><li><var>timeStyle</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_425"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"timeStyle"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>&nbsp;»,
        <emu-val>undefined</emu-val>) とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[TimeStyle]]</var> を <var>timeStyle</var> とする。</li><li><var>dateStyle</var> または <var>timeStyle</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>hasExplicitFormatComponents</var> が <emu-val>true</emu-val> の場合、</li><li><emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>required</var> が <emu-const>date</emu-const> かつ <var>timeStyle</var> が <emu-val>undefined</emu-val> でない場合、</li><li><emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>required</var> が <emu-const>time</emu-const> かつ <var>dateStyle</var> が <emu-val>undefined</emu-val> でない場合、</li><li><emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>styles</var> を <var>resolvedLocaleData</var>.<var class="field">[[styles]]</var>.[[&lt;<var>resolvedCalendar</var>&gt;]] とする。</li><li><var>bestFormat</var> を <emu-xref aoid="DateTimeStyleFormat" id="_ref_426"><a href="#sec-date-time-style-format">DateTimeStyleFormat</a></emu-xref>(<var>dateStyle</var>, <var>timeStyle</var>, <var>styles</var>) とする。</li><li>それ以外の場合、</li><li><var>needDefaults</var> を <emu-val>true</emu-val> とする。</li><li><var>required</var> が <emu-const>date</emu-const> または <emu-const>any</emu-const> の場合、</li><li>« <emu-val>"weekday"</emu-val>, <emu-val>"year"</emu-val>, <emu-val>"month"</emu-val>, <emu-val>"day"</emu-val>&nbsp;» の各プロパティ名 <var>prop</var> について、</li><li><var>value</var> を <var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] とする。</li><li><var>value</var> が <emu-val>undefined</emu-val> でない場合、<var>needDefaults</var> を <emu-val>false</emu-val> とする。</li><li><var>required</var> が <emu-const>time</emu-const> または <emu-const>any</emu-const> の場合、</li><li>« <emu-val>"dayPeriod"</emu-val>, <emu-val>"hour"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"second"</emu-val>, <emu-val>"fractionalSecondDigits"</emu-val>&nbsp;» の各プロパティ名 <var>prop</var> について、</li><li><var>value</var> を <var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] とする。</li><li><var>value</var> が <emu-val>undefined</emu-val> でない場合、<var>needDefaults</var> を <emu-val>false</emu-val> とする。</li><li><var>needDefaults</var> が <emu-val>true</emu-val> かつ <var>defaults</var> が <emu-const>date</emu-const> または <emu-const>all</emu-const> の場合、</li><li>« <emu-val>"year"</emu-val>, <emu-val>"month"</emu-val>, <emu-val>"day"</emu-val>&nbsp;» の各プロパティ名 <var>prop</var> について、</li><li><var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] を <emu-val>"numeric"</emu-val> とする。</li><li><var>needDefaults</var> が <emu-val>true</emu-val> かつ <var>defaults</var> が <emu-const>time</emu-const> または <emu-const>all</emu-const> の場合、</li><li>« <emu-val>"hour"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"second"</emu-val>&nbsp;» の各プロパティ名 <var>prop</var> について、</li><li><var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] を <emu-val>"numeric"</emu-val> とする。</li><li><var>formats</var> を <var>resolvedLocaleData</var>.<var class="field">[[formats]]</var>.[[&lt;<var>resolvedCalendar</var>&gt;]] とする。</li><li><var>formatMatcher</var> が <emu-val>"basic"</emu-val> の場合、</li><li><var>bestFormat</var> を <emu-xref aoid="BasicFormatMatcher" id="_ref_427"><a href="#sec-basicformatmatcher">BasicFormatMatcher</a></emu-xref>(<var>formatOptions</var>, <var>formats</var>) とする。</li><li>それ以外の場合、</li><li><var>bestFormat</var> を <emu-xref aoid="BestFitFormatMatcher" id="_ref_428"><a href="#sec-bestfitformatmatcher">BestFitFormatMatcher</a></emu-xref>(<var>formatOptions</var>, <var>formats</var>) とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[DateTimeFormat]]</var> を <var>bestFormat</var> とする。</li><li><var>bestFormat</var> が <var class="field">[[hour]]</var> フィールドを持つ場合、</li><li><var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> を <var>hc</var> とする。</li><li><var>dateTimeFormat</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatoffsettimezoneidentifier" type="abstract operation" aoid="FormatOffsetTimeZoneIdentifier">
      <h1><span class="secnum">11.1.3</span> FormatOffsetTimeZoneIdentifier ( <var>offsetMinutes</var> )</h1>
      <p>The abstract operation FormatOffsetTimeZoneIdentifier takes argument <var>offsetMinutes</var> (整数) and returns 文字列. 
          UTCオフセット（分単位）を ±HH:MM の形式のUTCオフセット文字列にフォーマットする。
         It performs the following steps when called:</p>
      <emu-alg><ol><li><var>offsetMinutes</var> ≥ 0 の場合、<var>sign</var> をコードユニット 0x002B (プラス記号) とし、そうでなければコードユニット 0x002D (ハイフンマイナス) とする。</li><li><var>absoluteMinutes</var> を <emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>offsetMinutes</var>) とする。</li><li><var>hours</var> を <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>absoluteMinutes</var> / 60) とする。</li><li><var>minutes</var> を <var>absoluteMinutes</var> の 60 で割った余りとする。</li><li><var>sign</var>、<emu-xref aoid="ToZeroPaddedDecimalString"><a href="https://tc39.es/ecma262/#sec-tozeropaddeddecimalstring">ToZeroPaddedDecimalString</a></emu-xref>(<var>hours</var>, 2)、コードユニット 0x003A (コロン)、<emu-xref aoid="ToZeroPaddedDecimalString"><a href="https://tc39.es/ecma262/#sec-tozeropaddeddecimalstring">ToZeroPaddedDecimalString</a></emu-xref>(<var>minutes</var>, 2)
        を連結した文字列を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-datetimeformat-constructor">
    <h1><span class="secnum">11.2</span> Intl.DateTimeFormat コンストラクターのプロパティ</h1>

    <p>Intl.DateTimeFormat コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-intl.datetimeformat.prototype">
      <h1><span class="secnum">11.2.1</span> Intl.DateTimeFormat.prototype</h1>

      <p><code>Intl.DateTimeFormat.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-datetimeformat-prototype-object" id="_ref_429"><a href="#sec-properties-of-intl-datetimeformat-prototype-object">%Intl.DateTimeFormat.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.supportedlocalesof">
      <h1><span class="secnum">11.2.2</span> Intl.DateTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが <var>locales</var> と <var>options</var> を引数として呼び出された場合、次の手順を行う:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_430"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> とする。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_431"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_432"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat-internal-slots">
      <h1><span class="secnum">11.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_51"><a href="#sec-internal-slots">9.1</a></emu-xref> で規定された制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « <emu-val>"ca"</emu-val>, <emu-val>"hc"</emu-val>, <emu-val>"nu"</emu-val> » である。</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_Type_Definitions">Unicode Technical Standard #35 Part 1 Core,
          Section 3.6.1 Key and Type Definitions</a> では、日付と時刻のフォーマットに関連する4つのロケール拡張キーが記述されている:
        <emu-val>"ca"</emu-val>（カレンダー）、<emu-val>"hc"</emu-val>（時刻サイクル）、<emu-val>"nu"</emu-val>（フォーマットされた数字の番号体系）、<emu-val>"tz"</emu-val>（タイムゾーン）。DateTimeFormat では、タイムゾーンはオプションオブジェクトの
        <emu-val>"timeZone"</emu-val> プロパティで指定する必要がある。
      </div></emu-note>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « { <var class="field">[[Key]]</var>: <emu-val>"ca"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"calendar"</emu-val> }, { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>,
        <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> }, { <var class="field">[[Key]]</var>: <emu-val>"hour12"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"hour12"</emu-val>, <var class="field">[[Type]]</var>: <emu-const>boolean</emu-const> }, {
        <var class="field">[[Key]]</var>: <emu-val>"hc"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"hourCycle"</emu-val>, <var class="field">[[Values]]</var>: « <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val> » } » である。</p>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_52"><a href="#sec-internal-slots">9.1</a></emu-xref>
        で規定された制約と、以下の追加制約の範囲内で実装依存である。すべてのロケール値 <var>locale</var> について:</p>

      <ul>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[nu]]</var> は <emu-val>"native"</emu-val>、<emu-val>"traditio"</emu-val>、<emu-val>"finance"</emu-val> の値を含まないリストでなければならない。
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hc]]</var> は « <emu-val>null</emu-val>, <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val> » でなければならない。
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hourCycle]]</var> は <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val> のいずれかの文字列値でなければならない。
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hourCycle12]]</var> は <emu-val>"h11"</emu-val> または <emu-val>"h12"</emu-val> のいずれかの文字列値でなければならない。
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hourCycle24]]</var> は <emu-val>"h23"</emu-val> または <emu-val>"h24"</emu-val> のいずれかの文字列値でなければならない。
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は <var class="field">[[formats]]</var> フィールドを持たなければならない。この <var class="field">[[formats]]</var> フィールドの値は、各カレンダー値 <var>calendar</var>
          について [[&lt;<var>calendar</var>&gt;]] フィールドを持つレコードでなければならない。各 [[&lt;<var>calendar</var>&gt;]] フィールドの値は <emu-xref href="#datetimeformat-format-record" id="_ref_433"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>
          のリストでなければならない。そのリスト内の複数のレコードは、対応する値が少なくとも1つ異なる限り、同じフィールドのサブセットを使用してもよい。各ロケールで次のサブセットが利用可能でなければならない:
          <ul>
            <li>weekday, year, month, day, hour, minute, second, fractionalSecondDigits</li>
            <li>weekday, year, month, day, hour, minute, second</li>
            <li>weekday, year, month, day</li>
            <li>year, month, day</li>
            <li>year, month</li>
            <li>month, day</li>
            <li>month</li>
            <li>hour, minute, second, fractionalSecondDigits</li>
            <li>hour, minute, second</li>
            <li>hour, minute</li>
            <li>dayPeriod, hour, minute, second, fractionalSecondDigits</li>
            <li>dayPeriod, hour, minute, second</li>
            <li>dayPeriod, hour, minute</li>
            <li>dayPeriod, hour</li>
          </ul>
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は <var class="field">[[styles]]</var> フィールドを持たなければならない。この <var class="field">[[styles]]</var> フィールドの値は、各カレンダー値 <var>calendar</var> について
          [[&lt;<var>calendar</var>&gt;]] フィールドを持つレコードでなければならない。各 [[&lt;<var>calendar</var>&gt;]] フィールドの値は <emu-xref href="#datetimeformat-styles-record" id="_ref_434"><a href="#datetimeformat-styles-record">DateTime Styles Record</a></emu-xref> でなければならない。
        </li>
      </ul>

      <emu-clause id="sec-datetimeformat-format-record">
        <h1><span class="secnum">11.2.3.1</span> DateTime Format Record</h1>

        <p><dfn id="datetimeformat-format-record" variants="DateTime Format Records" tabindex="-1">DateTime Format Record</dfn> は
          <emu-xref href="#table-datetimeformat-format-record" id="_ref_53"><a href="#table-datetimeformat-format-record">Table 5</a></emu-xref> で定義されたフィールドを持つ。
        </p>
        <emu-table id="table-datetimeformat-format-record"><figure><figcaption>Table 5: <emu-xref href="#datetimeformat-format-record" id="_ref_435"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[weekday]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_54"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Weekday]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{weekday}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[era]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_55"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Era]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{era}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[year]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_56"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Year]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{year}"</emu-val>、<emu-val>"{yearName}"</emu-val>、<emu-val>"{relatedYear}"</emu-val> のいずれかの部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[month]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_57"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Month]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{month}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[day]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_58"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Day]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{day}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[dayPeriod]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_59"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[DayPeriod]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{dayPeriod}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[hour]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_60"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Hour]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{hour}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[minute]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_61"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Minute]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{minute}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[second]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_62"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Second]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{second}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[fractionalSecondDigits]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_63"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[FractionalSecondDigits]]</var> 値
              </td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{fractionalSecondDigits}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[timeZoneName]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_64"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[TimeZoneName]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[pattern]]</var> に <emu-val>"{timeZoneName}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[pattern]]</var></td>
              <td><emu-xref href="#sec-pattern-string-types" id="_ref_436"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref></td>
              <td><emu-not-ref>Contains</emu-not-ref> 各日付・時刻フォーマットコンポーネントフィールドについて、レコードの文字列は <emu-val>"{"</emu-val> で始まり、フィールド名、<emu-val>"}"</emu-val>
                で終わる部分文字列を含む。レコードが <var class="field">[[year]]</var> フィールドを持つ場合、文字列は <emu-val>"{yearName}"</emu-val> や <emu-val>"{relatedYear}"</emu-val> の部分文字列を含むことがある。</td>
            </tr>
            <tr>
              <td><var class="field">[[pattern12]]</var></td>
              <td><emu-xref href="#sec-pattern-string-types" id="_ref_437"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref></td>
              <td>オプションフィールド。<var class="field">[[hour]]</var> フィールドが存在する場合に存在する。<var class="field">[[pattern]]</var> フィールドの部分文字列に加え、<emu-val>"{ampm}"</emu-val> または <emu-val>"{dayPeriod}"</emu-val>
                のいずれかの部分文字列を含む。</td>
            </tr>
            <tr>
              <td><var class="field">[[rangePatterns]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-record" id="_ref_438"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>このフィールドの<emu-xref href="#sec-pattern-string-types" id="_ref_439"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>は <var class="field">[[pattern]]</var> と類似している。</td>
            </tr>
            <tr>
              <td><var class="field">[[rangePatterns12]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-record" id="_ref_440"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>オプションフィールド。<var class="field">[[hour]]</var> フィールドが存在する場合に存在する。<emu-xref href="#sec-pattern-string-types" id="_ref_441"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>は <var class="field">[[pattern12]]</var> と類似している。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-range-pattern-record">
        <h1><span class="secnum">11.2.3.2</span> DateTime Range Pattern Record</h1>

        <p><dfn id="datetimeformat-range-pattern-record" tabindex="-1">DateTime Range Pattern Record</dfn> は <emu-xref href="#table-datetimeformat-range-pattern-record" id="_ref_65"><a href="#table-datetimeformat-range-pattern-record">Table 6</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-range-pattern-record"><figure><figcaption>Table 6: <emu-xref href="#datetimeformat-range-pattern-record" id="_ref_442"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Default]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_443"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>より具体的な範囲パターンが利用できない場合に使用されるデフォルトの範囲パターンを含む。</td>
            </tr>
            <tr>
              <td><var class="field">[[Era]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_444"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が異なる場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[Year]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_445"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が異なる場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[Month]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_446"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が異なる場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[Day]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_447"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が異なる場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[AmPm]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_448"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が ante または post meridiem の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[DayPeriod]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_449"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が day period の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[Hour]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_450"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が hour の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[Minute]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_451"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が minute の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[Second]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_452"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が second の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[FractionalSecondDigits]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_453"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>オプションフィールド。開始日と終了日の間で最大のカレンダー要素が fractional seconds の場合に使用される。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-range-pattern-format-record">
        <h1><span class="secnum">11.2.3.3</span> DateTime Range Pattern Format Record</h1>

        <p><dfn id="datetimeformat-range-pattern-format-record" tabindex="-1">DateTime Range Pattern Format Record</dfn> は <emu-xref href="#table-datetimeformat-range-pattern-format-record" id="_ref_66"><a href="#table-datetimeformat-range-pattern-format-record">Table 7</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-range-pattern-format-record"><figure><figcaption>Table 7: <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_454"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[weekday]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_67"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Weekday]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_455"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{weekday}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[era]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_68"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Era]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_456"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{era}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[year]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_69"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Year]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_457"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{year}"</emu-val>、<emu-val>"{yearName}"</emu-val>、<emu-val>"{relatedYear}"</emu-val>
                のいずれかの部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[month]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_70"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Month]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_458"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{month}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[day]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_71"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Day]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_459"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{day}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[dayPeriod]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_72"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[DayPeriod]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_460"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{dayPeriod}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[hour]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_73"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Hour]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_461"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{hour}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[minute]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_74"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Minute]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_462"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{minute}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[second]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_75"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[Second]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_463"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{second}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[fractionalSecondDigits]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_76"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[FractionalSecondDigits]]</var> 値
              </td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_464"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{fractionalSecondDigits}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[timeZoneName]]</var></td>
              <td><emu-xref href="#table-datetimeformat-components" id="_ref_77"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Values 列の <var class="field">[[TimeZoneName]]</var> 値</td>
              <td>オプションフィールド。<var class="field">[[PatternParts]]</var> の<emu-xref href="#sec-pattern-string-types" id="_ref_465"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>に <emu-val>"{timeZoneName}"</emu-val> の部分文字列が含まれている場合に存在する。</td>
            </tr>
            <tr>
              <td><var class="field">[[PatternParts]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-part-record" id="_ref_466"><a href="#datetimeformat-range-pattern-part-record">DateTime Range Pattern Part Record</a></emu-xref> のリスト</td>
              <td>各レコードは範囲パターンの一部を表す。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-range-pattern-part-record">
        <h1><span class="secnum">11.2.3.4</span> DateTime Range Pattern Part Record</h1>

        <p><dfn id="datetimeformat-range-pattern-part-record" variants="DateTime Range Pattern Part Records" tabindex="-1">DateTime
            Range Pattern Part Record</dfn> は <emu-xref href="#table-datetimeformat-range-pattern-part-record" id="_ref_78"><a href="#table-datetimeformat-range-pattern-part-record">Table 8</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-range-pattern-part-record"><figure><figcaption>Table 8: <emu-xref href="#datetimeformat-range-pattern-part-record" id="_ref_467"><a href="#datetimeformat-range-pattern-part-record">DateTime Range Pattern Part Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Source]]</var></td>
              <td><emu-val>"shared"</emu-val>, <emu-val>"startRange"</emu-val>, <emu-val>"endRange"</emu-val> のいずれか</td>
              <td>どちらの日付を <var class="field">[[Pattern]]</var> フィールドの値でフォーマットするかを示す。</td>
            </tr>
            <tr>
              <td><var class="field">[[Pattern]]</var></td>
              <td><emu-xref href="#sec-pattern-string-types" id="_ref_468"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref></td>
              <td>通常の日付<emu-xref href="#sec-pattern-string-types" id="_ref_469"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>と同じ形式の文字列。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-styles-record">
        <h1><span class="secnum">11.2.3.5</span> DateTime Styles Record</h1>

        <p><dfn id="datetimeformat-styles-record" tabindex="-1">DateTime Styles Record</dfn> は <emu-xref href="#table-datetimeformat-styles-record" id="_ref_79"><a href="#table-datetimeformat-styles-record">Table 9</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-styles-record"><figure><figcaption>Table 9: <emu-xref href="#datetimeformat-styles-record" id="_ref_470"><a href="#datetimeformat-styles-record">DateTime Styles Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Date]]</var></td>
              <td><emu-xref href="#datetimeformat-style-record" id="_ref_471"><a href="#datetimeformat-style-record">DateTime Style Record</a></emu-xref></td>
            </tr>
            <tr>
              <td><var class="field">[[Time]]</var></td>
              <td><emu-xref href="#datetimeformat-style-record" id="_ref_472"><a href="#datetimeformat-style-record">DateTime Style Record</a></emu-xref></td>
            </tr>
            <tr>
              <td><var class="field">[[Connector]]</var></td>
              <td><emu-xref href="#datetimeformat-connector-record" id="_ref_473"><a href="#datetimeformat-connector-record">DateTime Connector Record</a></emu-xref></td>
            </tr>
            <tr>
              <td><var class="field">[[DateTimeRangeFormat]]</var></td>
              <td><emu-xref href="#datetimeformat-date-range-record" id="_ref_474"><a href="#datetimeformat-date-range-record">DateTime Date Range Record</a></emu-xref></td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-style-record">
        <h1><span class="secnum">11.2.3.6</span> DateTime Style Record</h1>

        <p><dfn id="datetimeformat-style-record" tabindex="-1">DateTime Style Record</dfn> は <emu-xref href="#table-datetimeformat-style-record" id="_ref_80"><a href="#table-datetimeformat-style-record">Table 10</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-style-record"><figure><figcaption>Table 10: <emu-xref href="#datetimeformat-style-record" id="_ref_475"><a href="#datetimeformat-style-record">DateTime Style Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td><emu-xref href="#datetimeformat-format-record" id="_ref_476"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td><emu-val>"full"</emu-val> スタイルのフォーマットレコード。</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td><emu-xref href="#datetimeformat-format-record" id="_ref_477"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td><emu-val>"long"</emu-val> スタイルのフォーマットレコード。</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td><emu-xref href="#datetimeformat-format-record" id="_ref_478"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td><emu-val>"medium"</emu-val> スタイルのフォーマットレコード。</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td><emu-xref href="#datetimeformat-format-record" id="_ref_479"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td><emu-val>"short"</emu-val> スタイルのフォーマットレコード。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-connector-record">
        <h1><span class="secnum">11.2.3.7</span> DateTime Connector Record</h1>

        <p><dfn id="datetimeformat-connector-record" tabindex="-1">DateTime Connector Record</dfn> は <emu-xref href="#table-datetimeformat-connector-record" id="_ref_81"><a href="#table-datetimeformat-connector-record">Table 11</a></emu-xref> で定義されたフィールドを持つ。すべてのコネクター<emu-xref href="#sec-pattern-string-types" id="_ref_480"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>は <emu-val>"{0}"</emu-val> と <emu-val>"{1}"</emu-val>
          を含まなければならない。</p>
        <emu-table id="table-datetimeformat-connector-record"><figure><figcaption>Table 11: <emu-xref href="#datetimeformat-connector-record" id="_ref_481"><a href="#datetimeformat-connector-record">DateTime Connector Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td><emu-xref href="#sec-pattern-string-types" id="_ref_482"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"full"</emu-val> の場合のコネクターパターン。</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td><emu-xref href="#sec-pattern-string-types" id="_ref_483"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"long"</emu-val> の場合のコネクターパターン。</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td><emu-xref href="#sec-pattern-string-types" id="_ref_484"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"medium"</emu-val> の場合のコネクターパターン。</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td><emu-xref href="#sec-pattern-string-types" id="_ref_485"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"short"</emu-val> の場合のコネクターパターン。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-date-range-record">
        <h1><span class="secnum">11.2.3.8</span> DateTime Date Range Record</h1>

        <p><dfn id="datetimeformat-date-range-record" tabindex="-1">DateTime Date Range Record</dfn> は <emu-xref href="#table-datetimeformat-date-range-record" id="_ref_82"><a href="#table-datetimeformat-date-range-record">Table 12</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-date-range-record"><figure><figcaption>Table 12: <emu-xref href="#datetimeformat-date-range-record" id="_ref_486"><a href="#datetimeformat-date-range-record">DateTime Date Range Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td><emu-xref href="#datetimeformat-time-range-record" id="_ref_487"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"full"</emu-val> の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td><emu-xref href="#datetimeformat-time-range-record" id="_ref_488"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"long"</emu-val> の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td><emu-xref href="#datetimeformat-time-range-record" id="_ref_489"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"medium"</emu-val> の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td><emu-xref href="#datetimeformat-time-range-record" id="_ref_490"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>日付スタイルが <emu-val>"short"</emu-val> の場合に使用される。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-time-range-record">
        <h1><span class="secnum">11.2.3.9</span> DateTime Time Range Record</h1>

        <p><dfn id="datetimeformat-time-range-record" tabindex="-1">DateTime Time Range Record</dfn> は <emu-xref href="#table-datetimeformat-time-range-record" id="_ref_83"><a href="#table-datetimeformat-time-range-record">Table 13</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-time-range-record"><figure><figcaption>Table 13: <emu-xref href="#datetimeformat-time-range-record" id="_ref_491"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td><emu-xref href="#datetimeformat-style-range-record" id="_ref_492"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>時刻スタイルが <emu-val>"full"</emu-val> の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td><emu-xref href="#datetimeformat-style-range-record" id="_ref_493"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>時刻スタイルが <emu-val>"long"</emu-val> の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td><emu-xref href="#datetimeformat-style-range-record" id="_ref_494"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>時刻スタイルが <emu-val>"medium"</emu-val> の場合に使用される。</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td><emu-xref href="#datetimeformat-style-range-record" id="_ref_495"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>時刻スタイルが <emu-val>"short"</emu-val> の場合に使用される。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-style-range-record">
        <h1><span class="secnum">11.2.3.10</span> DateTime Style Range Record</h1>

        <p><dfn id="datetimeformat-style-range-record" tabindex="-1">DateTime Style Range Record</dfn> は <emu-xref href="#table-datetimeformat-style-range-record" id="_ref_84"><a href="#table-datetimeformat-style-range-record">Table 14</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-datetimeformat-style-range-record"><figure><figcaption>Table 14: <emu-xref href="#datetimeformat-style-range-record" id="_ref_496"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[rangePatterns]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-record" id="_ref_497"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>日付と時刻スタイルを組み合わせる範囲パターン。</td>
            </tr>
            <tr>
              <td><var class="field">[[rangePatterns12]]</var></td>
              <td><emu-xref href="#datetimeformat-range-pattern-record" id="_ref_498"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>オプションフィールド。12時間フォーマット用の範囲パターン。</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        例えば、実装は英語ロケールデータの一部として次のレコードを含めることができる:
        <ul>
          <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
          <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
          <li><var class="field">[[pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val></li>
          <li><var class="field">[[pattern12]]</var>: <emu-val>"{hour}:{minute} {ampm}"</emu-val></li>
          <li><var class="field">[[rangePatterns]]</var>:
            <ul>
              <li><var class="field">[[Hour]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Minute]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Default]]</var>:
                <ul>
                  <li><var class="field">[[year]]</var>: <emu-val>"2-digit"</emu-val></li>
                  <li><var class="field">[[month]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[day]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li><var class="field">[[rangePatterns12]]</var>:
            <ul>
              <li><var class="field">[[Hour]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" {ampm}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Minute]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" {ampm}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Default]]</var>:
                <ul>
                  <li><var class="field">[[year]]</var>: <emu-val>"2-digit"</emu-val></li>
                  <li><var class="field">[[month]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[day]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute} {ampm}"</emu-val>}
                      </li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute} {ampm}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </div></emu-note>

      <emu-note><span class="note">Note 3</span><div class="note-contents">
        実装は <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a> で提供されている Common Locale Data Repository
        のロケールデータを使用することが推奨される。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-datetimeformat-prototype-object">
    <h1><span class="secnum">11.3</span> Intl.DateTimeFormat プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.DateTimeFormat プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.DateTimeFormat.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.DateTimeFormat インスタンスではなく、<var class="field">[[InitializedDateTimeFormat]]</var> 内部スロットや他のインスタンスオブジェクトの内部スロットを持たない。</li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-intl.datetimeformat.prototype.constructor">
      <h1><span class="secnum">11.3.1</span> Intl.DateTimeFormat.prototype.constructor</h1>

      <p><code>Intl.DateTimeFormat.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_499"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype.resolvedoptions">
      <h1><span class="secnum">11.3.2</span> Intl.DateTimeFormat.prototype.resolvedOptions ( )</h1>

      <p>この関数は、オブジェクトの初期化時に計算されたロケールとオプションへのアクセスを提供する。</p>

      <emu-alg><ol><li><var>dtf</var> を <emu-val>this</emu-val> 値とする。</li><li>実装が <emu-xref href="#legacy-constructor" id="_ref_85"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref> の規範的オプションコンストラクターモードをサポートしている場合、</li><li><var>dtf</var> を ?&nbsp;<emu-xref aoid="UnwrapDateTimeFormat" id="_ref_500"><a href="#sec-unwrapdatetimeformat">UnwrapDateTimeFormat</a></emu-xref>(<var>dtf</var>) とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><emu-xref href="#table-datetimeformat-resolvedoptions-properties" id="_ref_86"><a href="#table-datetimeformat-resolvedoptions-properties">Table 15</a></emu-xref> の各行（ヘッダー行を除く）を順番に処理する:</li><li><var>p</var> を現在の行の Property 値とする。</li><li>現在の行に Internal Slot 値がある場合、</li><li><var>v</var> を <var>dtf</var> の内部スロットの値（Internal Slot 値の名前）とする。</li><li>それ以外の場合、</li><li><var>format</var> を <var>dtf</var>.<var class="field">[[DateTimeFormat]]</var> とする。</li><li><var>format</var> が [[&lt;<var>p</var>&gt;]] フィールドを持ち、<var>dtf</var>.<var class="field">[[DateStyle]]</var> と <var>dtf</var>.<var class="field">[[TimeStyle]]</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>v</var> を <var>format</var>.[[&lt;<var>p</var>&gt;]] とする。</li><li>それ以外の場合、</li><li><var>v</var> を <emu-val>undefined</emu-val> とする。</li><li><var>v</var> が <emu-val>undefined</emu-val> でない場合、</li><li>現在の行に Conversion 値がある場合、</li><li><var>conversion</var> を現在の行の Conversion 値とする。</li><li><var>conversion</var> が <emu-const>hour12</emu-const> の場合、</li><li><var>v</var> が <emu-val>"h11"</emu-val> または <emu-val>"h12"</emu-val> の場合、<var>v</var> を <emu-val>true</emu-val> とする。そうでなければ、<var>v</var> を <emu-val>false</emu-val> とする。</li><li>それ以外の場合、</li><li>アサート: <var>conversion</var> は <emu-const>number</emu-const> である。</li><li><var>v</var> を <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-datetimeformat-resolvedoptions-properties"><figure><figcaption>Table 15: DateTimeFormat インスタンスの resolvedOptions</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
              <th>Conversion</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Calendar]]</var></td>
            <td><emu-val>"calendar"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TimeZone]]</var></td>
            <td><emu-val>"timeZone"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[HourCycle]]</var></td>
            <td><emu-val>"hourCycle"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[HourCycle]]</var></td>
            <td><emu-val>"hour12"</emu-val></td>
            <td><emu-const>hour12</emu-const></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"weekday"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"era"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"year"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"month"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"day"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"dayPeriod"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"hour"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"minute"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"second"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"fractionalSecondDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"timeZoneName"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[DateStyle]]</var></td>
            <td><emu-val>"dateStyle"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TimeStyle]]</var></td>
            <td><emu-val>"timeStyle"</emu-val></td>
            <td></td>
          </tr>
        </tbody></table>
      </figure></emu-table>

      <p>ウェブ互換性の理由により、<emu-val>"hourCycle"</emu-val> プロパティが設定されている場合、<emu-val>"hourCycle"</emu-val> が <emu-val>"h11"</emu-val> または <emu-val>"h12"</emu-val> のときは <emu-val>"hour12"</emu-val> プロパティを <emu-val>true</emu-val>
        に、<emu-val>"hourCycle"</emu-val> が <emu-val>"h23"</emu-val> または <emu-val>"h24"</emu-val> のときは <emu-val>false</emu-val> に設定する必要がある。</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        この API のバージョンでは、<emu-val>"timeZone"</emu-val> プロパティは Intl.DateTimeFormat コンストラクターにオプションオブジェクトで <emu-val>"timeZone"</emu-val>
        プロパティが指定されていない場合、ホスト環境のタイムゾーン識別子となる。初版ではこの場合 <emu-val>"timeZone"</emu-val> プロパティは <emu-val>undefined</emu-val> だった。
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        第五版より前のバージョンとの互換性のため、<emu-val>"hourCycle"</emu-val> プロパティに加えて <emu-val>"hour12"</emu-val> プロパティも設定される。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype.format">
      <h1><span class="secnum">11.3.3</span> get Intl.DateTimeFormat.prototype.format</h1>

      <p>Intl.DateTimeFormat.prototype.format はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>

      <emu-alg><ol><li><var>dtf</var> を <emu-val>this</emu-val> 値とする。</li><li>実装が <emu-xref href="#legacy-constructor" id="_ref_87"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref> の規範的オプションコンストラクターモードをサポートしている場合、</li><li><var>dtf</var> を ?&nbsp;<emu-xref aoid="UnwrapDateTimeFormat" id="_ref_501"><a href="#sec-unwrapdatetimeformat">UnwrapDateTimeFormat</a></emu-xref>(<var>dtf</var>) とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>) を実行する。</li><li><var>dtf</var>.<var class="field">[[BoundFormat]]</var> が <emu-val>undefined</emu-val> の場合、</li><li><emu-xref href="#sec-datetime-format-functions" id="_ref_88"><a href="#sec-datetime-format-functions">11.5.4</a></emu-xref> で定義された新しい組み込み関数オブジェクト <var>F</var> を作成する。</li><li><var>F</var>.<var class="field">[[DateTimeFormat]]</var> を <var>dtf</var> に設定する。</li><li><var>dtf</var>.<var class="field">[[BoundFormat]]</var> を <var>F</var> に設定する。</li><li><var>dtf</var>.<var class="field">[[BoundFormat]]</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        返される関数は <var>dtf</var> にバインドされているため、<code>Array.prototype.map</code> や他の関数に直接渡すことができる。
        これは歴史的な慣習によるもので、新しい機能ではこの慣習は継承されていないが、既存プログラムとの互換性維持のため残されている。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype.formatRange">
      <h1><span class="secnum">11.3.4</span> Intl.DateTimeFormat.prototype.formatRange ( <var>startDate</var>, <var>endDate</var> )</h1>

      <p><code>formatRange</code> メソッドが <var>startDate</var> と <var>endDate</var> を引数として呼び出された場合、次の手順を行う:</p>

      <emu-alg><ol><li><var>dtf</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>) を実行する。</li><li><var>startDate</var> または <var>endDate</var> が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>startDate</var>) とする。</li><li><var>y</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>endDate</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FormatDateTimeRange" id="_ref_502"><a href="#sec-formatdatetimerange">FormatDateTimeRange</a></emu-xref>(<var>dtf</var>, <var>x</var>, <var>y</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DateTimeFormat.prototype.formatRangeToParts">
      <h1><span class="secnum">11.3.5</span> Intl.DateTimeFormat.prototype.formatRangeToParts ( <var>startDate</var>, <var>endDate</var> )</h1>

      <p><code>formatRangeToParts</code> メソッドが <var>startDate</var> と <var>endDate</var> を引数として呼び出された場合、次の手順を行う:</p>

      <emu-alg><ol><li><var>dtf</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>) を実行する。</li><li><var>startDate</var> または <var>endDate</var> が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>startDate</var>) とする。</li><li><var>y</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>endDate</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FormatDateTimeRangeToParts" id="_ref_503"><a href="#sec-formatdatetimerangetoparts">FormatDateTimeRangeToParts</a></emu-xref>(<var>dtf</var>, <var>x</var>, <var>y</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DateTimeFormat.prototype.formatToParts">
      <h1><span class="secnum">11.3.6</span> Intl.DateTimeFormat.prototype.formatToParts ( <var>date</var> )</h1>

      <p><code>formatToParts</code> メソッドが <var>date</var> を引数として呼び出された場合、次の手順を行う:</p>

      <emu-alg><ol><li><var>dtf</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>) を実行する。</li><li><var>date</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>x</var> を !&nbsp;<emu-xref aoid="Call"><a href="https://tc39.es/ecma262/#sec-call">Call</a></emu-xref>(%Date.now%, <emu-val>undefined</emu-val>) とする。</li><li>それ以外の場合、</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>date</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FormatDateTimeToParts" id="_ref_504"><a href="#sec-formatdatetimetoparts">FormatDateTimeToParts</a></emu-xref>(<var>dtf</var>, <var>x</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype-%symbol.tostringtag%" oldids="sec-intl.datetimeformat.prototype-@@tostringtag"><span id="sec-intl.datetimeformat.prototype-@@tostringtag"></span>
      <h1><span class="secnum">11.3.7</span> Intl.DateTimeFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.DateTimeFormat"</emu-val> である。</p>

      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-datetimeformat-instances">
    <h1><span class="secnum">11.4</span> Intl.DateTimeFormat インスタンスのプロパティ</h1>

    <p>Intl.DateTimeFormat インスタンスは通常のオブジェクトであり、<emu-xref href="#sec-properties-of-intl-datetimeformat-prototype-object" id="_ref_505"><a href="#sec-properties-of-intl-datetimeformat-prototype-object">%Intl.DateTimeFormat.prototype%</a></emu-xref> からプロパティを継承します。</p>

    <p>Intl.DateTimeFormat インスタンスは <var class="field">[[InitializedDateTimeFormat]]</var> 内部スロットを持ちます。</p>

    <p>Intl.DateTimeFormat インスタンスは、<emu-xref href="#sec-intl-datetimeformat-constructor" title="" id="_ref_89"><a href="#sec-intl-datetimeformat-constructor">Intl.DateTimeFormat コンストラクター</a></emu-xref>
      によって計算される複数の内部スロットも持ちます:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> は、フォーマットに使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_506"><a href="#sec-language-tags">言語タグ</a></emu-xref>を表す文字列値です。</li>
      <li><var class="field">[[Calendar]]</var> は、フォーマットに使用される <a href="https://unicode.org/reports/tr35/#UnicodeCalendarIdentifier">Unicode
          カレンダー識別子</a> を表す文字列値です。</li>
      <li><var class="field">[[NumberingSystem]]</var> は、フォーマットに使用される <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode 数字体系識別子</a> を表す文字列値です。</li>
      <li><var class="field">[[TimeZone]]</var> は、フォーマットに使用される文字列値で、利用可能な名前付きタイムゾーン識別子またはオフセットタイムゾーン識別子です。</li>
      <li><var class="field">[[HourCycle]]</var> は、12時間形式（<emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>）または24時間形式（<emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val>）のどちらを使用するかを示す文字列値です。<emu-val>"h11"</emu-val> と <emu-val>"h23"</emu-val> はそれぞれ
        0 から 11、0 から 23 までの時間で始まります。<emu-val>"h12"</emu-val> と <emu-val>"h24"</emu-val> はそれぞれ 1 から 12、1 から 24 までの時間で始まります。<var class="field">[[HourCycle]]</var> は
        <var class="field">[[DateTimeFormat]]</var> に <var class="field">[[hour]]</var> フィールドがある場合のみ使用されます。</li>
      <li><var class="field">[[DateStyle]]</var>、<var class="field">[[TimeStyle]]</var> はそれぞれ <emu-val>undefined</emu-val> または文字列値で、<emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val> のいずれかです。</li>
      <li><var class="field">[[DateTimeFormat]]</var> は <emu-xref href="#datetimeformat-format-record" id="_ref_507"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref> です。</li>
    </ul>

    <p>最後に、Intl.DateTimeFormat インスタンスは format アクセサ（<emu-xref href="#sec-intl.datetimeformat.prototype.format" id="_ref_90"><a href="#sec-intl.datetimeformat.prototype.format">11.3.3</a></emu-xref>）によって返される関数をキャッシュする <var class="field">[[BoundFormat]]</var> 内部スロットを持ちます。</p>
  </emu-clause>

  <emu-clause id="sec-datetimeformat-abstracts">
    <h1><span class="secnum">11.5</span> 日付時刻フォーマットオブジェクトの抽象操作</h1>

    <p>いくつかの日付時刻フォーマットアルゴリズムは、次の表の値を使用します。この表は、日付と時刻フォーマットの各コンポーネントの内部スロット、プロパティ名、許容値を示します:</p>

    <emu-table id="table-datetimeformat-components"><figure><figcaption>Table 16: 日付と時刻フォーマットのコンポーネント</figcaption>
      
      <table class="real-table">
        <thead>
          <tr>
            <th>フィールド名</th>
            <th>プロパティ</th>
            <th>値</th>
          </tr>
        </thead>
        <tbody><tr>
          <td><var class="field">[[Weekday]]</var></td>
          <td><emu-val>"weekday"</emu-val></td>
          <td><emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Era]]</var></td>
          <td><emu-val>"era"</emu-val></td>
          <td><emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Year]]</var></td>
          <td><emu-val>"year"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Month]]</var></td>
          <td><emu-val>"month"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Day]]</var></td>
          <td><emu-val>"day"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[DayPeriod]]</var></td>
          <td><emu-val>"dayPeriod"</emu-val></td>
          <td><emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Hour]]</var></td>
          <td><emu-val>"hour"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Minute]]</var></td>
          <td><emu-val>"minute"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Second]]</var></td>
          <td><emu-val>"second"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[FractionalSecondDigits]]</var></td>
          <td><emu-val>"fractionalSecondDigits"</emu-val></td>
          <td>1, 2, 3</td>
        </tr>
        <tr>
          <td><var class="field">[[TimeZoneName]]</var></td>
          <td><emu-val>"timeZoneName"</emu-val></td>
          <td><emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"shortOffset"</emu-val>, <emu-val>"longOffset"</emu-val>, <emu-val>"shortGeneric"</emu-val>, <emu-val>"longGeneric"</emu-val></td>
        </tr>
      </tbody></table>
    </figure></emu-table>

    <emu-clause id="sec-date-time-style-format" type="abstract operation" aoid="DateTimeStyleFormat">
      <h1><span class="secnum">11.5.1</span> DateTimeStyleFormat ( <var>dateStyle</var>, <var>timeStyle</var>, <var>styles</var> )</h1>
      <p>The abstract operation DateTimeStyleFormat takes arguments <var>dateStyle</var> (<emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>, または <emu-val>undefined</emu-val>), <var>timeStyle</var> (<emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>, または <emu-val>undefined</emu-val>), and <var>styles</var> (<emu-xref href="#datetimeformat-styles-record" id="_ref_508"><a href="#datetimeformat-styles-record">DateTime Styles Record</a></emu-xref>) and returns <emu-xref href="#datetimeformat-format-record" id="_ref_509"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>アサート: <var>dateStyle</var> が <emu-val>undefined</emu-val> でない、または <var>timeStyle</var> が <emu-val>undefined</emu-val> でない。</li><li><var>timeStyle</var> が <emu-val>undefined</emu-val> でない場合、</li><li>アサート: <var>timeStyle</var> は <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val> のいずれか。</li><li><var>timeFormat</var> を <var>styles</var>.<var class="field">[[Time]]</var>.[[&lt;<var>timeStyle</var>&gt;]] とする。</li><li><var>dateStyle</var> が <emu-val>undefined</emu-val> でない場合、</li><li>アサート: <var>dateStyle</var> は <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val> のいずれか。</li><li><var>dateFormat</var> を <var>styles</var>.<var class="field">[[Date]]</var>.[[&lt;<var>dateStyle</var>&gt;]] とする。</li><li><var>dateStyle</var> と <var>timeStyle</var> が両方 <emu-val>undefined</emu-val> でない場合、</li><li><var>format</var> を新しい <emu-xref href="#datetimeformat-format-record" id="_ref_510"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref> とする。</li><li><var>format</var> に <var>dateFormat</var> の全フィールド（<var class="field">[[pattern]]</var> と <var class="field">[[rangePatterns]]</var> を除く）を追加する。</li><li><var>format</var> に <var>timeFormat</var> の全フィールド（<var class="field">[[pattern]]</var>, <var class="field">[[rangePatterns]]</var>, <var class="field">[[pattern12]]</var>, <var class="field">[[rangePatterns12]]</var>
        を除く）を追加する（存在する場合）。</li><li><var>connector</var> を <var>styles</var>.<var class="field">[[Connector]]</var>.[[&lt;<var>dateStyle</var>&gt;]] とする。</li><li><var>pattern</var> を <var>connector</var> の <emu-val>"{0}"</emu-val> を <var>timeFormat</var>.<var class="field">[[pattern]]</var> に、<emu-val>"{1}"</emu-val> を <var>dateFormat</var>.<var class="field">[[pattern]]</var>
        に置換した文字列とする。</li><li><var>format</var>.<var class="field">[[pattern]]</var> を <var>pattern</var> に設定する。</li><li><var>timeFormat</var> が <var class="field">[[pattern12]]</var> フィールドを持つ場合、</li><li><var>pattern12</var> を <var>connector</var> の <emu-val>"{0}"</emu-val> を <var>timeFormat</var>.<var class="field">[[pattern12]]</var> に、<emu-val>"{1}"</emu-val> を <var>dateFormat</var>.<var class="field">[[pattern]]</var>
        に置換した文字列とする。</li><li><var>format</var>.<var class="field">[[pattern12]]</var> を <var>pattern12</var> に設定する。</li><li><var>dateTimeRangeFormat</var> を <var>styles</var>.<var class="field">[[DateTimeRangeFormat]]</var>.[[&lt;<var>dateStyle</var>&gt;]].[[&lt;<var>timeStyle</var>&gt;]] とする。</li><li><var>format</var>.<var class="field">[[rangePatterns]]</var> を <var>dateTimeRangeFormat</var>.<var class="field">[[rangePatterns]]</var> に設定する。</li><li><var>dateTimeRangeFormat</var> が <var class="field">[[rangePatterns12]]</var> フィールドを持つ場合、</li><li><var>format</var>.<var class="field">[[rangePatterns12]]</var> を <var>dateTimeRangeFormat</var>.<var class="field">[[rangePatterns12]]</var> に設定する。</li><li><var>format</var> を返す。</li><li><var>timeStyle</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>timeFormat</var> を返す。</li><li>アサート: <var>dateStyle</var> が <emu-val>undefined</emu-val> でない。</li><li><var>dateFormat</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-basicformatmatcher" type="abstract operation" aoid="BasicFormatMatcher">
      <h1><span class="secnum">11.5.2</span> BasicFormatMatcher ( <var>options</var>, <var>formats</var> )</h1>
      <p>The abstract operation BasicFormatMatcher takes arguments <var>options</var> (レコード) and <var>formats</var> (<emu-xref href="#datetimeformat-format-record" id="_ref_511"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref> のリスト) and returns <emu-xref href="#datetimeformat-format-record" id="_ref_512"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>removalPenalty</var> を 120 とする。</li><li><var>additionPenalty</var> を 20 とする。</li><li><var>longLessPenalty</var> を 8 とする。</li><li><var>longMorePenalty</var> を 6 とする。</li><li><var>shortLessPenalty</var> を 6 とする。</li><li><var>shortMorePenalty</var> を 3 とする。</li><li><var>offsetPenalty</var> を 1 とする。</li><li><var>bestScore</var> を -∞ とする。</li><li><var>bestFormat</var> を <emu-val>undefined</emu-val> とする。</li><li><var>formats</var> の各要素 <var>format</var> について、</li><li><var>score</var> を 0 とする。</li><li><emu-xref href="#table-datetimeformat-components" id="_ref_91"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の各行（ヘッダー行を除く）を表順に処理する:</li><li><var>property</var> を現在の行の Property 列の名前とする。</li><li><var>options</var> が [[&lt;<var>property</var>&gt;]] フィールドを持つ場合、<var>optionsProp</var> を <var>options</var>.[[&lt;<var>property</var>&gt;]] とし、そうでなければ
        <emu-val>undefined</emu-val> とする。</li><li><var>format</var> が [[&lt;<var>property</var>&gt;]] フィールドを持つ場合、<var>formatProp</var> を <var>format</var>.[[&lt;<var>property</var>&gt;]] とし、そうでなければ <emu-val>undefined</emu-val>
        とする。</li><li><var>optionsProp</var> が <emu-val>undefined</emu-val> かつ <var>formatProp</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>score</var> を <var>score</var> - <var>additionPenalty</var> とする。</li><li>それ以外で <var>optionsProp</var> が <emu-val>undefined</emu-val> でなく <var>formatProp</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>score</var> を <var>score</var> - <var>removalPenalty</var> とする。</li><li>それ以外で <var>property</var> が <emu-val>"timeZoneName"</emu-val> の場合、</li><li><var>optionsProp</var> が <emu-val>"short"</emu-val> または <emu-val>"shortGeneric"</emu-val> の場合、</li><li><var>formatProp</var> が <emu-val>"shortOffset"</emu-val> の場合、<var>score</var> を <var>score</var> - <var>offsetPenalty</var> とする。</li><li><var>formatProp</var> が <emu-val>"longOffset"</emu-val> の場合、<var>score</var> を <var>score</var> - (<var>offsetPenalty</var> + <var>shortMorePenalty</var>) とする。</li><li><var>optionsProp</var> が <emu-val>"short"</emu-val> かつ <var>formatProp</var> が <emu-val>"long"</emu-val> の場合、<var>score</var> を <var>score</var> - <var>shortMorePenalty</var> とする。</li><li><var>optionsProp</var> が <emu-val>"shortGeneric"</emu-val> かつ <var>formatProp</var> が <emu-val>"longGeneric"</emu-val> の場合、<var>score</var> を <var>score</var> - <var>shortMorePenalty</var>
        とする。</li><li><var>optionsProp</var> ≠ <var>formatProp</var> の場合、<var>score</var> を <var>score</var> - <var>removalPenalty</var> とする。</li><li><var>optionsProp</var> が <emu-val>"shortOffset"</emu-val> かつ <var>formatProp</var> が <emu-val>"longOffset"</emu-val> の場合、</li><li><var>score</var> を <var>score</var> - <var>shortMorePenalty</var> とする。</li><li><var>optionsProp</var> が <emu-val>"long"</emu-val> または <emu-val>"longGeneric"</emu-val> の場合、</li><li><var>formatProp</var> が <emu-val>"longOffset"</emu-val> の場合、<var>score</var> を <var>score</var> - <var>offsetPenalty</var> とする。</li><li><var>formatProp</var> が <emu-val>"shortOffset"</emu-val> の場合、<var>score</var> を <var>score</var> - (<var>offsetPenalty</var> + <var>longLessPenalty</var>) とする。</li><li><var>optionsProp</var> が <emu-val>"long"</emu-val> かつ <var>formatProp</var> が <emu-val>"short"</emu-val> の場合、<var>score</var> を <var>score</var> - <var>longLessPenalty</var> とする。</li><li><var>optionsProp</var> が <emu-val>"longGeneric"</emu-val> かつ <var>formatProp</var> が <emu-val>"shortGeneric"</emu-val> の場合、<var>score</var> を <var>score</var> - <var>longLessPenalty</var>
        とする。</li><li><var>optionsProp</var> ≠ <var>formatProp</var> の場合、<var>score</var> を <var>score</var> - <var>removalPenalty</var> とする。</li><li><var>optionsProp</var> が <emu-val>"longOffset"</emu-val> かつ <var>formatProp</var> が <emu-val>"shortOffset"</emu-val> の場合、</li><li><var>score</var> を <var>score</var> - <var>longLessPenalty</var> とする。</li><li><var>optionsProp</var> ≠ <var>formatProp</var> の場合、</li><li><var>score</var> を <var>score</var> - <var>removalPenalty</var> とする。</li><li><var>optionsProp</var> ≠ <var>formatProp</var> の場合、</li><li><var>property</var> が <emu-val>"fractionalSecondDigits"</emu-val> の場合、</li><li><var>values</var> を « 1, 2, 3&nbsp;» とする。</li><li>それ以外の場合、</li><li><var>values</var> を « <emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;» とする。</li><li><var>optionsPropIndex</var> を <var>values</var> 内の <var>optionsProp</var> のインデックスとする。</li><li><var>formatPropIndex</var> を <var>values</var> 内の <var>formatProp</var> のインデックスとする。</li><li><var>delta</var> を <emu-xref aoid="max"><a href="https://tc39.es/ecma262/#eqn-max">max</a></emu-xref>(<emu-xref aoid="min"><a href="https://tc39.es/ecma262/#eqn-min">min</a></emu-xref>(<var>formatPropIndex</var> - <var>optionsPropIndex</var>, 2), -2) とする。</li><li><var>delta</var> = 2 の場合、<var>score</var> を <var>score</var> - <var>longMorePenalty</var> とする。</li><li><var>delta</var> = 1 の場合、<var>score</var> を <var>score</var> - <var>shortMorePenalty</var> とする。</li><li><var>delta</var> = -1 の場合、<var>score</var> を <var>score</var> - <var>shortLessPenalty</var> とする。</li><li><var>delta</var> = -2 の場合、<var>score</var> を <var>score</var> - <var>longLessPenalty</var> とする。</li><li><var>score</var> &gt; <var>bestScore</var> の場合、</li><li><var>bestScore</var> を <var>score</var> に設定する。</li><li><var>bestFormat</var> を <var>format</var> に設定する。</li><li><var>bestFormat</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-bestfitformatmatcher" type="implementation-defined abstract operation" aoid="BestFitFormatMatcher">
      <h1><span class="secnum">11.5.3</span> BestFitFormatMatcher ( <var>options</var>, <var>formats</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation BestFitFormatMatcher takes arguments <var>options</var> (レコード) and <var>formats</var> (<emu-xref href="#datetimeformat-format-record" id="_ref_513"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref> のリスト) and returns <emu-xref href="#datetimeformat-format-record" id="_ref_514"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-datetime-format-functions">
      <h1><span class="secnum">11.5.4</span> 日付時刻フォーマット関数</h1>

      <p>日付時刻フォーマット関数は <var class="field">[[DateTimeFormat]]</var> 内部スロットを持つ匿名組み込み関数です。</p>
      <p>日付時刻フォーマット関数 <var>F</var> がオプション引数 <var>date</var> で呼び出された場合、次の手順を行います:</p>

      <emu-alg><ol><li><var>dtf</var> を <var>F</var>.<var class="field">[[DateTimeFormat]]</var> とする。</li><li>アサート: <var>dtf</var> はオブジェクトであり、<var class="field">[[InitializedDateTimeFormat]]</var> 内部スロットを持つ。</li><li><var>date</var> が指定されていない、または <emu-val>undefined</emu-val> の場合、</li><li><var>x</var> を !&nbsp;<emu-xref aoid="Call"><a href="https://tc39.es/ecma262/#sec-call">Call</a></emu-xref>(%Date.now%, <emu-val>undefined</emu-val>) とする。</li><li>それ以外の場合、</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>date</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_515"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>dtf</var>, <var>x</var>) を返す。</li></ol></emu-alg>

      <p>日付時刻フォーマット関数の <emu-val>"length"</emu-val> プロパティは <emu-val>1</emu-val><sub>𝔽</sub> です。</p>
    </emu-clause>

    <emu-clause id="sec-formatdatetimepattern" type="abstract operation" aoid="FormatDateTimePattern">
      <h1><span class="secnum">11.5.5</span> FormatDateTimePattern ( <var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>epochNanoseconds</var> )</h1>
      <p>The abstract operation FormatDateTimePattern takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat), <var>format</var> (<emu-xref href="#datetimeformat-format-record" id="_ref_516"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref> または <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_517"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref>), <var>pattern</var> (<emu-xref href="#sec-pattern-string-types" id="_ref_518"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>), and <var>epochNanoseconds</var> (BigInt) and returns レコードのリスト（<var class="field">[[Type]]</var>（文字列）、<var class="field">[[Value]]</var>（文字列）フィールドを持つ）. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>locale</var> を <var>dateTimeFormat</var>.<var class="field">[[Locale]]</var> とする。</li><li><var>nfOptions</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOptions</var>, <emu-val>"numberingSystem"</emu-val>, <var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOptions</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>) を実行する。</li><li><var>nf</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_519"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nfOptions</var>&nbsp;») とする。</li><li><var>nf2Options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf2Options</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf2Options</var>, <emu-val>"numberingSystem"</emu-val>, <var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf2Options</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>) を実行する。</li><li><var>nf2</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_520"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nf2Options</var>&nbsp;») とする。</li><li><var>format</var> が <var class="field">[[fractionalSecondDigits]]</var> フィールドを持つ場合、</li><li><var>fractionalSecondDigits</var> を <var>format</var>.<var class="field">[[fractionalSecondDigits]]</var> とする。</li><li><var>nf3Options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf3Options</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>fractionalSecondDigits</var>)) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf3Options</var>, <emu-val>"numberingSystem"</emu-val>, <var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf3Options</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>) を実行する。</li><li><var>nf3</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_521"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nf3Options</var>&nbsp;») とする。</li><li><var>tm</var> を <emu-xref aoid="ToLocalTime" id="_ref_522"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref>(<var>epochNanoseconds</var>, <var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var>, <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var>) とする。</li><li><var>patternParts</var> を <emu-xref aoid="PartitionPattern" id="_ref_523"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>) とする。</li><li><var>result</var> を新しい空リストとする。</li><li><var>patternParts</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> について、</li><li><var>p</var> を <var>patternPart</var>.<var class="field">[[Type]]</var> とする。</li><li><var>p</var> が <emu-val>"literal"</emu-val> の場合、</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>p</var> が <emu-val>"fractionalSecondDigits"</emu-val> の場合、</li><li>アサート: <var>format</var> が <var class="field">[[fractionalSecondDigits]]</var> フィールドを持つ。</li><li><var>v</var> を <var>tm</var>.<var class="field">[[Millisecond]]</var> とする。</li><li><var>v</var> を <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>v</var> × 10<sup>( <var>fractionalSecondDigits</var> - 3 )</sup>) とする。</li><li><var>fv</var> を <emu-xref aoid="FormatNumeric" id="_ref_524"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf3</var>, <var>v</var>) とする。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"fractionalSecond"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>p</var> が <emu-val>"dayPeriod"</emu-val> の場合、</li><li>アサート: <var>format</var> が <var class="field">[[dayPeriod]]</var> フィールドを持つ。</li><li><var>f</var> を <var>format</var>.<var class="field">[[dayPeriod]]</var> とする。</li><li><var>fv</var> を <var>tm</var> の day period を <var>f</var> 形式で表す文字列値とする（値は実装とロケール依存）。</li><li>レコード { <var class="field">[[Type]]</var>: <var>p</var>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>p</var> が <emu-val>"timeZoneName"</emu-val> の場合、</li><li>アサート: <var>format</var> が <var class="field">[[timeZoneName]]</var> フィールドを持つ。</li><li><var>f</var> を <var>format</var>.<var class="field">[[timeZoneName]]</var> とする。</li><li><var>v</var> を <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var> とする。</li><li><var>fv</var> を <var>v</var> を <var>f</var> 形式で表す文字列値とする（値は実装とロケール依存。<var class="field">[[InDST]]</var> の値によっても変化する場合あり。ローカライズ表現がない場合は <var>v</var> の文字列値を使う）。</li><li>レコード { <var class="field">[[Type]]</var>: <var>p</var>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>p</var> が <emu-xref href="#table-datetimeformat-components" id="_ref_92"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> の Property 列と一致する場合、</li><li>アサート: <var>format</var> が [[&lt;<var>p</var>&gt;]] フィールドを持つ。</li><li><var>f</var> を <var>format</var>.[[&lt;<var>p</var>&gt;]] とする。</li><li><var>v</var> を <var>tm</var> のフィールド（Internal Slot 列の名前）値とする。</li><li><var>p</var> が <emu-val>"year"</emu-val> かつ <var>v</var> ≤ 0 の場合、<var>v</var> を 1 - <var>v</var> とする。</li><li><var>p</var> が <emu-val>"month"</emu-val> の場合、<var>v</var> を <var>v</var> + 1 とする。</li><li><var>p</var> が <emu-val>"hour"</emu-val> かつ <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> が <emu-val>"h11"</emu-val> または <emu-val>"h12"</emu-val> の場合、</li><li><var>v</var> を <var>v</var> mod 12 とする。</li><li><var>v</var> が 0 かつ <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> が <emu-val>"h12"</emu-val> の場合、<var>v</var> を 12 とする。</li><li><var>p</var> が <emu-val>"hour"</emu-val> かつ <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> が <emu-val>"h24"</emu-val> の場合、</li><li><var>v</var> が 0 の場合、<var>v</var> を 24 とする。</li><li><var>f</var> が <emu-val>"numeric"</emu-val> の場合、</li><li><var>fv</var> を <emu-xref aoid="FormatNumeric" id="_ref_525"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf</var>, <var>v</var>) とする。</li><li><var>f</var> が <emu-val>"2-digit"</emu-val> の場合、</li><li><var>fv</var> を <emu-xref aoid="FormatNumeric" id="_ref_526"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf2</var>, <var>v</var>) とする。</li><li><var>codePoints</var> を <emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>fv</var>) とする。</li><li><var>count</var> を <var>codePoints</var> の要素数とする。</li><li><var>count</var> &gt; 2 の場合、</li><li><var>tens</var> を <var>codePoints</var>[<var>count</var> - 2] とする。</li><li><var>ones</var> を <var>codePoints</var>[<var>count</var> - 1] とする。</li><li><var>fv</var> を <emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(« <var>tens</var>, <var>ones</var>&nbsp;») とする。</li><li><var>f</var> が <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val> の場合、</li><li><var>fv</var> を <var>v</var> を <var>f</var> 形式で表す文字列値とする（値は実装とロケール・カレンダー依存。<var>p</var> が <emu-val>"month"</emu-val> の場合は <var>format</var>.<var class="field">[[day]]</var> の有無にも依存。ローカライズ表現がない場合は
        <var>v</var> の文字列値を使う）。</li><li>レコード { <var class="field">[[Type]]</var>: <var>p</var>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>p</var> が <emu-val>"ampm"</emu-val> の場合、</li><li><var>v</var> を <var>tm</var>.<var class="field">[[Hour]]</var> とする。</li><li><var>v</var> &gt; 11 の場合、</li><li><var>fv</var> を <emu-xref href="#sec-implementation-dependencies" id="_ref_527"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値（<emu-val>"post meridiem"</emu-val>）とする。</li><li>それ以外の場合、</li><li><var>fv</var> を <emu-xref href="#sec-implementation-dependencies" id="_ref_528"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値（<emu-val>"ante meridiem"</emu-val>）とする。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"dayPeriod"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>p</var> が <emu-val>"relatedYear"</emu-val> の場合、</li><li><var>v</var> を <var>tm</var>.<var class="field">[[RelatedYear]]</var> とする。</li><li><var>fv</var> を <emu-xref aoid="FormatNumeric" id="_ref_529"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf</var>, <var>v</var>) とする。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"relatedYear"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>p</var> が <emu-val>"yearName"</emu-val> の場合、</li><li><var>v</var> を <var>tm</var>.<var class="field">[[YearName]]</var> とする。</li><li><var>fv</var> を <emu-xref href="#sec-implementation-dependencies" id="_ref_530"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値（<var>v</var>）とする。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"yearName"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><var>unknown</var> を実装・ロケール・数字体系依存の文字列（<var>epochNanoseconds</var> と <var>p</var> に基づく）とする。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"unknown"</emu-val>, <var class="field">[[Value]]</var>: <var>unknown</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        実装は Common Locale Data Repository（<a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>）のロケール・カレンダー依存文字列を利用し、DateTimeFormat の <emu-val>"short"</emu-val>
        文字列には CLDR の <emu-val>"abbreviated"</emu-val>、<emu-val>"long"</emu-val> 文字列には CLDR の <emu-val>"wide"</emu-val> を使うことが推奨されます。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-partitiondatetimepattern" type="abstract operation" aoid="PartitionDateTimePattern">
      <h1><span class="secnum">11.5.6</span> PartitionDateTimePattern ( <var>dateTimeFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation PartitionDateTimePattern takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat) and <var>x</var> (数値) and returns 正常完了値としてレコードのリスト（<var class="field">[[Type]]</var>（文字列）、<var class="field">[[Value]]</var>（文字列）フィールドを持つ）、または throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>x</var> を <emu-xref aoid="TimeClip"><a href="https://tc39.es/ecma262/#sec-timeclip">TimeClip</a></emu-xref>(<var>x</var>) とする。</li><li><var>x</var> が <emu-val>NaN</emu-val> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>epochNanoseconds</var> を <emu-xref aoid="ℤ"><a href="https://tc39.es/ecma262/#ℤ">ℤ</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>x</var>) × 10<sup>6</sup>) とする。</li><li><var>format</var> を <var>dateTimeFormat</var>.<var class="field">[[DateTimeFormat]]</var> とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> が <emu-val>"h11"</emu-val> または <emu-val>"h12"</emu-val> の場合、</li><li><var>pattern</var> を <var>format</var>.<var class="field">[[pattern12]]</var> とする。</li><li>それ以外の場合、</li><li><var>pattern</var> を <var>format</var>.<var class="field">[[pattern]]</var> とする。</li><li><var>result</var> を <emu-xref aoid="FormatDateTimePattern" id="_ref_531"><a href="#sec-formatdatetimepattern">FormatDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>epochNanoseconds</var>) とする。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetime" type="abstract operation" aoid="FormatDateTime">
      <h1><span class="secnum">11.5.7</span> FormatDateTime ( <var>dateTimeFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatDateTime takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat) and <var>x</var> (数値) and returns 正常完了値として文字列、または throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionDateTimePattern" id="_ref_532"><a href="#sec-partitiondatetimepattern">PartitionDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>) とする。</li><li><var>result</var> を空文字列とする。</li><li><var>parts</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について、</li><li><var>result</var> を <var>result</var> と <var>part</var>.<var class="field">[[Value]]</var> の文字列連結とする。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetimetoparts" type="abstract operation" aoid="FormatDateTimeToParts">
      <h1><span class="secnum">11.5.8</span> FormatDateTimeToParts ( <var>dateTimeFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatDateTimeToParts takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat) and <var>x</var> (数値) and returns 正常完了値として配列、または throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionDateTimePattern" id="_ref_533"><a href="#sec-partitiondatetimepattern">PartitionDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>) とする。</li><li><var>result</var> を !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0) とする。</li><li><var>n</var> を 0 とする。</li><li><var>parts</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について、</li><li><var>O</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>) を実行する。</li><li><var>n</var> を 1 増やす。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitiondatetimerangepattern" type="abstract operation" aoid="PartitionDateTimeRangePattern">
      <h1><span class="secnum">11.5.9</span> PartitionDateTimeRangePattern ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation PartitionDateTimeRangePattern takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat), <var>x</var> (数値), and <var>y</var> (数値) and returns 正常完了値としてレコードのリスト（<var class="field">[[Type]]</var>（文字列）、<var class="field">[[Value]]</var>（文字列）、<var class="field">[[Source]]</var>（文字列）フィールドを持つ）、または throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>x</var> を <emu-xref aoid="TimeClip"><a href="https://tc39.es/ecma262/#sec-timeclip">TimeClip</a></emu-xref>(<var>x</var>) とする。</li><li><var>x</var> が <emu-val>NaN</emu-val> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>y</var> を <emu-xref aoid="TimeClip"><a href="https://tc39.es/ecma262/#sec-timeclip">TimeClip</a></emu-xref>(<var>y</var>) とする。</li><li><var>y</var> が <emu-val>NaN</emu-val> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>xEpochNanoseconds</var> を <emu-xref aoid="ℤ"><a href="https://tc39.es/ecma262/#ℤ">ℤ</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>x</var>) × 10<sup>6</sup>) とする。</li><li><var>yEpochNanoseconds</var> を <emu-xref aoid="ℤ"><a href="https://tc39.es/ecma262/#ℤ">ℤ</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>y</var>) × 10<sup>6</sup>) とする。</li><li><var>tm1</var> を <emu-xref aoid="ToLocalTime" id="_ref_534"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref>(<var>xEpochNanoseconds</var>, <var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var>, <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var>) とする。</li><li><var>tm2</var> を <emu-xref aoid="ToLocalTime" id="_ref_535"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref>(<var>yEpochNanoseconds</var>, <var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var>, <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var>) とする。</li><li><var>format</var> を <var>dateTimeFormat</var>.<var class="field">[[DateTimeFormat]]</var> とする。</li><li><var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> が <emu-val>"h11"</emu-val> または <emu-val>"h12"</emu-val> の場合、</li><li><var>pattern</var> を <var>format</var>.<var class="field">[[pattern12]]</var> とする。</li><li><var>rangePatterns</var> を <var>format</var>.<var class="field">[[rangePatterns12]]</var> とする。</li><li>それ以外の場合、</li><li><var>pattern</var> を <var>format</var>.<var class="field">[[pattern]]</var> とする。</li><li><var>rangePatterns</var> を <var>format</var>.<var class="field">[[rangePatterns]]</var> とする。</li><li><var>selectedRangePattern</var> を <emu-val>undefined</emu-val> とする。</li><li><var>relevantFieldsEqual</var> を <emu-val>true</emu-val> とする。</li><li><var>checkMoreFields</var> を <emu-val>true</emu-val> とする。</li><li><emu-xref href="#table-datetimeformat-range-pattern-record" id="_ref_93"><a href="#table-datetimeformat-range-pattern-record">Table 6</a></emu-xref> の各行（ヘッダー行を除く）を表順に処理する:</li><li><var>fieldName</var> を行の Field Name 列の名前とする。</li><li><var>rangePatterns</var> が <var>fieldName</var> のフィールドを持つ場合、<var>rangePattern</var> をそのフィールドとし、そうでなければ <emu-val>undefined</emu-val> とする。</li><li><var>selectedRangePattern</var> が <emu-val>undefined</emu-val> でなく <var>rangePattern</var> が <emu-val>undefined</emu-val> の場合、</li><li>注: このフィールド以下の差異に対する範囲パターンがないため、以降のチェックは行わない。</li><li><var>checkMoreFields</var> を <emu-val>false</emu-val> とする。</li><li><var>fieldName</var> が <var class="field">[[Default]]</var> でなく <var>relevantFieldsEqual</var> が <emu-val>true</emu-val> かつ <var>checkMoreFields</var> が <emu-val>true</emu-val> の場合、</li><li><var>selectedRangePattern</var> を <var>rangePattern</var> に設定する。</li><li><var>fieldName</var> が <var class="field">[[AmPm]]</var> の場合、</li><li><var>tm1</var>.<var class="field">[[Hour]]</var> &lt; 12 の場合、<var>v1</var> を <emu-val>"am"</emu-val>、そうでなければ <emu-val>"pm"</emu-val> とする。 1. <var>tm2</var>.<var class="field">[[Hour]]</var> &lt; 12 の場合、<var>v2</var> を <emu-val>"am"</emu-val>、そうでなければ
          <emu-val>"pm"</emu-val> とする。 1. <var>fieldName</var> が <var class="field">[[DayPeriod]]</var> の場合、 1. <var>v1</var> を <var>tm1</var> の day period を表す文字列値とする（値は実装とロケール依存）。 1. <var>v2</var>
          を <var>tm2</var> の day period を表す文字列値とする（値は実装とロケール依存）。 1. <var>fieldName</var> が <var class="field">[[FractionalSecondDigits]]</var> の場合、 1. <var>format</var> が
          <var class="field">[[fractionalSecondDigits]]</var> フィールドを持つ場合、 1. <var>fractionalSecondDigits</var> を <var>format</var>.<var class="field">[[fractionalSecondDigits]]</var> とする。<ol><li>それ以外の場合、 1. <var>fractionalSecondDigits</var> を 3 とする。 1. <var>exp</var> を <var>fractionalSecondDigits</var> - 3 とする。 1. <var>v1</var> を
          <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tm1</var>.<var class="field">[[Millisecond]]</var> × 10<sup><var>exp</var></sup>) とする。</li><li><var>v2</var> を <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tm2</var>.<var class="field">[[Millisecond]]</var> × 10<sup><var>exp</var></sup>) とする。</li><li>それ以外の場合、</li><li><var>v1</var> を <var>tm1</var> の <var>fieldName</var> フィールド値とする。</li><li><var>v2</var> を <var>tm2</var> の <var>fieldName</var> フィールド値とする。</li><li><var>v1</var> ≠ <var>v2</var> の場合、</li><li><var>relevantFieldsEqual</var> を <emu-val>false</emu-val> とする。</li><li><var>relevantFieldsEqual</var> が <emu-val>true</emu-val> の場合、</li><li><var>collapsedResult</var> を新しい空リストとする。</li><li><var>resultParts</var> を <emu-xref aoid="FormatDateTimePattern" id="_ref_536"><a href="#sec-formatdatetimepattern">FormatDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>xEpochNanoseconds</var>) とする。</li><li><var>resultParts</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>r</var> について、</li><li>レコード { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>&nbsp;} を <var>collapsedResult</var>
          に追加する。</li><li><var>collapsedResult</var> を返す。</li><li><var>rangeResult</var> を新しい空リストとする。</li><li><var>selectedRangePattern</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>selectedRangePattern</var> を <var>rangePatterns</var>.<var class="field">[[Default]]</var> に設定する。</li><li><var>selectedRangePattern</var>.<var class="field">[[PatternParts]]</var> の各レコード { <var class="field">[[Pattern]]</var>, <var class="field">[[Source]]</var>&nbsp;} <var>rangePatternPart</var> について、</li><li><var>pattern</var> を <var>rangePatternPart</var>.<var class="field">[[Pattern]]</var> とする。</li><li><var>source</var> を <var>rangePatternPart</var>.<var class="field">[[Source]]</var> とする。</li><li><var>source</var> が <emu-val>"startRange"</emu-val> または <emu-val>"shared"</emu-val> の場合、</li><li><var>z</var> を <var>xEpochNanoseconds</var> とする。</li><li>それ以外の場合、</li><li><var>z</var> を <var>yEpochNanoseconds</var> とする。</li><li><var>resultParts</var> を <emu-xref aoid="FormatDateTimePattern" id="_ref_537"><a href="#sec-formatdatetimepattern">FormatDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>selectedRangePattern</var>, <var>pattern</var>, <var>z</var>) とする。</li><li><var>resultParts</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>r</var> について、</li><li>レコード { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <var>source</var>&nbsp;} を <var>rangeResult</var> に追加する。</li><li><var>rangeResult</var> を返す。</li></ol></li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetimerange" type="abstract operation" aoid="FormatDateTimeRange">
      <h1><span class="secnum">11.5.10</span> FormatDateTimeRange ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatDateTimeRange takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat), <var>x</var> (数値), and <var>y</var> (数値) and returns 正常完了値として文字列、または throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionDateTimeRangePattern" id="_ref_538"><a href="#sec-partitiondatetimerangepattern">PartitionDateTimeRangePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>, <var>y</var>) とする。</li><li><var>result</var> を空文字列とする。</li><li><var>parts</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>&nbsp;} <var>part</var> について、</li><li><var>result</var> を <var>result</var> と <var>part</var>.<var class="field">[[Value]]</var> の文字列連結とする。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetimerangetoparts" type="abstract operation" aoid="FormatDateTimeRangeToParts">
      <h1><span class="secnum">11.5.11</span> FormatDateTimeRangeToParts ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatDateTimeRangeToParts takes arguments <var>dateTimeFormat</var> (Intl.DateTimeFormat), <var>x</var> (数値), and <var>y</var> (数値) and returns 正常完了値として配列、または throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionDateTimeRangePattern" id="_ref_539"><a href="#sec-partitiondatetimerangepattern">PartitionDateTimeRangePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>, <var>y</var>) とする。</li><li><var>result</var> を !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0) とする。</li><li><var>n</var> を 0 とする。</li><li><var>parts</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>&nbsp;} <var>part</var> について、</li><li><var>O</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"source"</emu-val>, <var>part</var>.<var class="field">[[Source]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>) を実行する。</li><li><var>n</var> を 1 増やす。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-tolocaltime" type="implementation-defined abstract operation" aoid="ToLocalTime">
      <h1><span class="secnum">11.5.12</span> ToLocalTime ( <var>epochNs</var>, <var>calendar</var>, <var>timeZoneIdentifier</var> )</h1>

      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation ToLocalTime takes arguments <var>epochNs</var> (BigInt), <var>calendar</var> (文字列), and <var>timeZoneIdentifier</var> (文字列) and returns <emu-xref href="#datetimeformat-tolocaltime-record" id="_ref_540"><a href="#datetimeformat-tolocaltime-record">ToLocalTime Record</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li><emu-xref aoid="IsTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-istimezoneoffsetstring">IsTimeZoneOffsetString</a></emu-xref>(<var>timeZoneIdentifier</var>) が <emu-val>true</emu-val> の場合、</li><li><var>offsetNs</var> を <emu-xref aoid="ParseTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-parsetimezoneoffsetstring">ParseTimeZoneOffsetString</a></emu-xref>(<var>timeZoneIdentifier</var>) とする。</li><li>それ以外の場合、</li><li>アサート: <emu-xref aoid="GetAvailableNamedTimeZoneIdentifier" id="_ref_541"><a href="#sec-getavailablenamedtimezoneidentifier">GetAvailableNamedTimeZoneIdentifier</a></emu-xref>(<var>timeZoneIdentifier</var>) は <emu-const>empty</emu-const> でない。</li><li><var>offsetNs</var> を <emu-xref aoid="GetNamedTimeZoneOffsetNanoseconds"><a href="https://tc39.es/ecma262/#sec-getnamedtimezoneoffsetnanoseconds">GetNamedTimeZoneOffsetNanoseconds</a></emu-xref>(<var>timeZoneIdentifier</var>, <var>epochNs</var>) とする。</li><li><var>tz</var> を <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>epochNs</var>) + <var>offsetNs</var> とする。</li><li><var>calendar</var> が <emu-val>"gregory"</emu-val> の場合、</li><li><emu-xref href="#table-datetimeformat-tolocaltime-record" id="_ref_94"><a href="#table-datetimeformat-tolocaltime-record">Table 17</a></emu-xref> に従い <var>tz</var> から計算したフィールドを持つ <emu-xref href="#datetimeformat-tolocaltime-record" id="_ref_542"><a href="#datetimeformat-tolocaltime-record">ToLocalTime
        Record</a></emu-xref> を返す。</li><li>それ以外の場合、</li><li>指定された <var>calendar</var> 用に <var>tz</var> から計算したフィールドを持つ <emu-xref href="#datetimeformat-tolocaltime-record" id="_ref_543"><a href="#datetimeformat-tolocaltime-record">ToLocalTime Record</a></emu-xref> を返す。計算は指定された <var>calendar</var> の最良の情報を用いること。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-datetimeformat-tolocaltime-records">
      <h1><span class="secnum">11.5.13</span> ToLocalTime レコード</h1>

      <p>各 <dfn id="datetimeformat-tolocaltime-record" tabindex="-1">ToLocalTime Record</dfn> は <emu-xref href="#table-datetimeformat-tolocaltime-record" id="_ref_95"><a href="#table-datetimeformat-tolocaltime-record">Table 17</a></emu-xref> で定義されたフィールドを持ちます。</p>

      <emu-table id="table-datetimeformat-tolocaltime-record"><figure><figcaption>Table 17: <emu-xref aoid="ToLocalTime" id="_ref_544"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref> が返すレコード</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>フィールド名</th>
              <th>値の型</th>
              <th>グレゴリオ暦での値の計算</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Weekday]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="WeekDay"><a href="https://tc39.es/ecma262/#sec-weekday">WeekDay</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Era]]</var></td>
            <td>文字列</td>
            <td><var>year</var> を <emu-xref aoid="YearFromTime"><a href="https://tc39.es/ecma262/#sec-yearfromtime">YearFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))) とする。<var>year</var> &lt; <emu-val>1</emu-val><sub>𝔽</sub> の場合
              <emu-val>"BC"</emu-val>、それ以外は <emu-val>"AD"</emu-val>。</td>
          </tr>
          <tr>
            <td><var class="field">[[Year]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="YearFromTime"><a href="https://tc39.es/ecma262/#sec-yearfromtime">YearFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[RelatedYear]]</var></td>
            <td>整数または <emu-val>undefined</emu-val></td>
            <td><emu-val>undefined</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[YearName]]</var></td>
            <td>文字列または <emu-val>undefined</emu-val></td>
            <td><emu-val>undefined</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Month]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="MonthFromTime"><a href="https://tc39.es/ecma262/#sec-monthfromtime">MonthFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Day]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="DateFromTime"><a href="https://tc39.es/ecma262/#sec-datefromtime">DateFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Hour]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="HourFromTime"><a href="https://tc39.es/ecma262/#sec-hourfromtime">HourFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Minute]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="MinFromTime"><a href="https://tc39.es/ecma262/#sec-minfromtime">MinFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Second]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="SecFromTime"><a href="https://tc39.es/ecma262/#sec-secfromtime">SecFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Millisecond]]</var></td>
            <td>整数</td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="msFromTime"><a href="https://tc39.es/ecma262/#sec-msfromtime">msFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[InDST]]</var></td>
            <td>真偽値</td>
            <td>指定された <var>calendar</var> と <var>timeZoneIdentifier</var> の最良の情報（IANA Time Zone Database の現在・過去の UTCオフセットや夏時間ルールを含む）を用いて
              <emu-val>true</emu-val> または <emu-val>false</emu-val> を計算する。</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-unwrapdatetimeformat" type="abstract operation" normative-optional="" aoid="UnwrapDateTimeFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
      <h1><span class="secnum">11.5.14</span> UnwrapDateTimeFormat ( <var>dtf</var> )</h1>
      <p>The abstract operation UnwrapDateTimeFormat takes argument <var>dtf</var> (ECMAScript 言語値) and returns 正常完了値として ECMAScript 言語値、または throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>dtf</var> がオブジェクトでない場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>dtf</var> が <var class="field">[[InitializedDateTimeFormat]]</var> 内部スロットを持たず、かつ ?
        <emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_545"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>dtf</var>) が <emu-val>true</emu-val> の場合、</li><li>?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>dtf</var>, <emu-xref href="#intl-object" id="_ref_546"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>) を返す。</li><li><var>dtf</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="intl-displaynames-objects">
  <h1><span class="secnum">12</span> DisplayNames オブジェクト</h1>

  <emu-clause id="sec-intl-displaynames-constructor">
    <h1><span class="secnum">12.1</span> Intl.DisplayNames コンストラクター</h1>

    <p>Intl.DisplayNames コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.DisplayNames%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_547"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"DisplayNames"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_548"><a href="#intl-object">Intl オブジェクト</a></emu-xref>のすべての<emu-xref href="#service-constructor" id="_ref_549"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_96"><a href="#sec-internal-slots">9.1</a></emu-xref> に記載されている。</p>

    <emu-clause id="sec-Intl.DisplayNames">
      <h1><span class="secnum">12.1.1</span> Intl.DisplayNames ( <var>locales</var>, <var>options</var> )</h1>

      <p><code>Intl.DisplayNames</code> 関数が引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> なら、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>displayNames</var> を <emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.DisplayNames.prototype%"</emu-val>, «
        <var class="field">[[InitializedDisplayNames]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Type]]</var>, <var class="field">[[Fallback]]</var>, <var class="field">[[LanguageDisplay]]</var>, <var class="field">[[Fields]]</var>&nbsp;»)
        の結果とする。</li><li><var>optionsResolution</var> を <emu-xref aoid="ResolveOptions" id="_ref_550"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-displaynames-constructor" id="_ref_551"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref>, <emu-xref href="#sec-intl-displaynames-constructor" id="_ref_552"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>,
        <var>options</var>, « <emu-const>require-options</emu-const>&nbsp;») の結果とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> に設定する。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> に設定する。</li><li><var>style</var> を <emu-xref aoid="GetOption" id="_ref_553"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;», <emu-val>"long"</emu-val>) の結果とする。</li><li><var>displayNames</var>.<var class="field">[[Style]]</var> に <var>style</var> を設定する。</li><li><var>type</var> を <emu-xref aoid="GetOption" id="_ref_554"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"type"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"language"</emu-val>, <emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>,
        <emu-val>"calendar"</emu-val>, <emu-val>"dateTimeField"</emu-val>&nbsp;», <emu-val>undefined</emu-val>) の結果とする。</li><li><var>type</var> が <emu-val>undefined</emu-val> なら、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>displayNames</var>.<var class="field">[[Type]]</var> に <var>type</var> を設定する。</li><li><var>fallback</var> を <emu-xref aoid="GetOption" id="_ref_555"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"fallback"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"code"</emu-val>, <emu-val>"none"</emu-val>&nbsp;», <emu-val>"code"</emu-val>) の結果とする。</li><li><var>displayNames</var>.<var class="field">[[Fallback]]</var> に <var>fallback</var> を設定する。</li><li><var>displayNames</var>.<var class="field">[[Locale]]</var> に <var>r</var>.<var class="field">[[Locale]]</var> を設定する。</li><li><var>resolvedLocaleData</var> を <var>r</var>.<var class="field">[[LocaleData]]</var> に設定する。</li><li><var>types</var> を <var>resolvedLocaleData</var>.<var class="field">[[types]]</var> に設定する。</li><li>アサート: <var>types</var> は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である (<emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_97"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref> を参照)。</li><li><var>languageDisplay</var> を <emu-xref aoid="GetOption" id="_ref_556"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"languageDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"dialect"</emu-val>, <emu-val>"standard"</emu-val>&nbsp;»,
        <emu-val>"dialect"</emu-val>) の結果とする。</li><li><var>typeFields</var> を <var>types</var>.[[&lt;<var>type</var>&gt;]] に設定する。</li><li>アサート: <var>typeFields</var> は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である (<emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_98"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref> を参照)。</li><li><var>type</var> が <emu-val>"language"</emu-val> なら</li><li><var>displayNames</var>.<var class="field">[[LanguageDisplay]]</var> に <var>languageDisplay</var> を設定する。</li><li><var>typeFields</var> を <var>typeFields</var>.[[&lt;<var>languageDisplay</var>&gt;]] に設定する。</li><li>アサート: <var>typeFields</var> は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である (<emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_99"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref> を参照)。</li><li><var>styleFields</var> を <var>typeFields</var>.[[&lt;<var>style</var>&gt;]] に設定する。</li><li>アサート: <var>styleFields</var> は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である (<emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_100"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref> を参照)。</li><li><var>displayNames</var>.<var class="field">[[Fields]]</var> に <var>styleFields</var> を設定する。</li><li><var>displayNames</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-displaynames-constructor">
    <h1><span class="secnum">12.2</span> Intl.DisplayNames コンストラクターのプロパティ</h1>

    <p>Intl.DisplayNames コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-Intl.DisplayNames.prototype">
      <h1><span class="secnum">12.2.1</span> Intl.DisplayNames.prototype</h1>

      <p><code>Intl.DisplayNames.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-displaynames-prototype-object" id="_ref_557"><a href="#sec-properties-of-intl-displaynames-prototype-object">%Intl.DisplayNames.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames.supportedLocalesOf">
      <h1><span class="secnum">12.2.2</span> Intl.DisplayNames.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-displaynames-constructor" id="_ref_558"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> に設定する。</li><li><var>requestedLocales</var> を <emu-xref aoid="CanonicalizeLocaleList" id="_ref_559"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) の結果に設定する。</li><li><emu-xref aoid="FilterLocales" id="_ref_560"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) の結果を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames-internal-slots">
      <h1><span class="secnum">12.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_101"><a href="#sec-internal-slots">9.1</a></emu-xref> で説明されている制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « » である。</p>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « » である。</p>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_102"><a href="#sec-internal-slots">9.1</a></emu-xref> で説明されている制約および以下の追加制約内で実装依存である:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] はすべてのロケール値 <var>locale</var> に対して <var class="field">[[types]]</var> フィールドを持たなければならない。このフィールドの値は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>
          であり、すべての表示名タイプの名前 (<emu-val>"language"</emu-val>, <emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"calendar"</emu-val>, <emu-val>"dateTimeField"</emu-val>)
          のフィールドを持たなければならない。</li>
        <li><emu-val>"language"</emu-val> フィールドの値は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> であり、有効な language display の名前 (<emu-val>"dialect"</emu-val>, <emu-val>"standard"</emu-val>) のフィールドを持たなければならない。
        </li>
        <li>表示名タイプ <emu-val>"language"</emu-val> の下の language display フィールドは、表示名スタイル (<emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>) の名前のフィールドを持つ
          <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> を含むべきである。</li>
        <li><emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"calendar"</emu-val>, <emu-val>"dateTimeField"</emu-val> フィールドの値は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> であり、すべての表示名スタイル
          (<emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>) の名前のフィールドを持たなければならない。</li>
        <li>表示名タイプ <emu-val>"language"</emu-val> の下の表示名スタイルフィールドは、<code>unicode_language_id</code> Unicode ロケール非終端記号に一致する言語コードのキーを持つ
          <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> を含むべきである。これらのフィールドの値は文字列値でなければならない。</li>
        <li>表示名タイプ <emu-val>"region"</emu-val> の下の表示名スタイルフィールドは、地域コードのキーを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> を含むべきである。これらのフィールドの値は文字列値でなければならない。</li>
        <li>表示名タイプ <emu-val>"script"</emu-val> の下の表示名スタイルフィールドは、スクリプトコードのキーを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> を含むべきである。これらのフィールドの値は文字列値でなければならない。</li>
        <li>表示名タイプ <emu-val>"currency"</emu-val> の下の表示名スタイルフィールドは、通貨コードのキーを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> を含むべきである。これらのフィールドの値は文字列値でなければならない。</li>
        <li>表示名タイプ <emu-val>"calendar"</emu-val> の下の表示名スタイルフィールドは、<code>type</code> Unicode ロケール非終端記号に一致するカレンダー識別子のキーを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>
          を含むべきである。これらのフィールドの値は文字列値でなければならない。</li>
        <li>表示名タイプ <emu-val>"dateTimeField"</emu-val> の下の表示名スタイルフィールドは、<emu-xref href="#table-validcodefordatetimefield" id="_ref_103"><a href="#table-validcodefordatetimefield">Table 19</a></emu-xref>
          に記載されたコードのキーを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> を含むべきである。これらのフィールドの値は文字列値でなければならない。</li>
      </ul>

      <emu-note><span class="note">Note</span><div class="note-contents">
        実装では Common Locale Data Repository (<a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>)
        のロケールデータを使用することが推奨される。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-displaynames-prototype-object">
    <h1><span class="secnum">12.3</span> Intl.DisplayNames プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.DisplayNames プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.DisplayNames.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.DisplayNames インスタンスではなく、<var class="field">[[InitializedDisplayNames]]</var> 内部スロットや Intl.DisplayNames インスタンスオブジェクトの他の内部スロットを持たない。
      </li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-Intl.DisplayNames.prototype.constructor">
      <h1><span class="secnum">12.3.1</span> Intl.DisplayNames.prototype.constructor</h1>

      <p><code>Intl.DisplayNames.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-displaynames-constructor" id="_ref_561"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames.prototype.resolvedOptions">
      <h1><span class="secnum">12.3.2</span> Intl.DisplayNames.prototype.resolvedOptions ( )</h1>

      <p>この関数はオブジェクトの初期化時に計算されたロケールとオプションへのアクセスを提供する。</p>

      <emu-alg><ol><li><var>displayNames</var> を <emu-val>this</emu-val> 値とする。</li><li><emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>displayNames</var>, <var class="field">[[InitializedDisplayNames]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) に設定する。</li><li><emu-xref href="#table-displaynames-resolvedoptions-properties" id="_ref_104"><a href="#table-displaynames-resolvedoptions-properties">Table 18</a></emu-xref> の各行（ヘッダー行を除く）について、テーブル順に次を行う</li><li><var>p</var> を現在の行の Property 値とする。</li><li><var>v</var> を <var>displayNames</var> の内部スロットで、現在の行の Internal Slot 名の値とする。</li><li><var>v</var> が <emu-val>undefined</emu-val> でない場合</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-displaynames-resolvedoptions-properties"><figure><figcaption>Table 18: DisplayNames インスタンスの解決済みオプション</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>プロパティ</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Type]]</var></td>
            <td><emu-val>"type"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Fallback]]</var></td>
            <td><emu-val>"fallback"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[LanguageDisplay]]</var></td>
            <td><emu-val>"languageDisplay"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames.prototype.of">
      <h1><span class="secnum">12.3.3</span> Intl.DisplayNames.prototype.of ( <var>code</var> )</h1>

      <p><code>Intl.DisplayNames.prototype.of</code> が引数 <var>code</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>displayNames</var> を <emu-val>this</emu-val> 値とする。</li><li><emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>displayNames</var>, <var class="field">[[InitializedDisplayNames]]</var>) を実行する。</li><li><var>code</var> を <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>code</var>) の結果とする。</li><li><var>code</var> を <emu-xref aoid="CanonicalCodeForDisplayNames" id="_ref_562"><a href="#sec-canonicalcodefordisplaynames">CanonicalCodeForDisplayNames</a></emu-xref>(<var>displayNames</var>.<var class="field">[[Type]]</var>, <var>code</var>) の結果に設定する。</li><li><var>fields</var> を <var>displayNames</var>.<var class="field">[[Fields]]</var> に設定する。</li><li><var>fields</var> がフィールド [[&lt;<var>code</var>&gt;]] を持つ場合、<var>fields</var>.[[&lt;<var>code</var>&gt;]] を返す。</li><li><var>displayNames</var>.<var class="field">[[Fallback]]</var> が <emu-val>"code"</emu-val> なら、<var>code</var> を返す。</li><li><emu-val>undefined</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.displaynames.prototype-%symbol.tostringtag%" oldids="sec-Intl.DisplayNames.prototype-@@tostringtag"><span id="sec-Intl.DisplayNames.prototype-@@tostringtag"></span>
      <h1><span class="secnum">12.3.4</span> Intl.DisplayNames.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.DisplayNames"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-displaynames-instances">
    <h1><span class="secnum">12.4</span> Intl.DisplayNames インスタンスのプロパティ</h1>

    <p>Intl.DisplayNames インスタンスは <emu-xref href="#sec-properties-of-intl-displaynames-prototype-object" id="_ref_563"><a href="#sec-properties-of-intl-displaynames-prototype-object">%Intl.DisplayNames.prototype%</a></emu-xref> からプロパティを継承する通常のオブジェクトである。</p>

    <p>Intl.DisplayNames インスタンスは <var class="field">[[InitializedDisplayNames]]</var> 内部スロットを持つ。</p>

    <p>Intl.DisplayNames インスタンスは <emu-xref href="#sec-intl-displaynames-constructor" title="" id="_ref_105"><a href="#sec-intl-displaynames-constructor">Intl.DisplayNames コンストラクター</a></emu-xref>
      により計算される複数の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> は、フォーマットに使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_564"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値である。</li>
      <li><var class="field">[[Style]]</var> は、表示名スタイル (<emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>) のいずれかの文字列値で、使用される表示名スタイルを識別する。</li>
      <li><var class="field">[[Type]]</var> は、要求された表示名のタイプ (<emu-val>"language"</emu-val>, <emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"calendar"</emu-val>, <emu-val>"dateTimeField"</emu-val>)
        のいずれかの文字列値である。</li>
      <li><var class="field">[[Fallback]]</var> は、システムが要求された表示名を持たない場合のフォールバック返却 (<emu-val>"code"</emu-val>, <emu-val>"none"</emu-val>) のいずれかの文字列値である。</li>
      <li><var class="field">[[LanguageDisplay]]</var> は、言語表示種別 (<emu-val>"dialect"</emu-val>, <emu-val>"standard"</emu-val>) のいずれかの文字列値で、<var class="field">[[Type]]</var> が <emu-val>"language"</emu-val> の場合のみ使用される。</li>
      <li><var class="field">[[Fields]]</var> は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (<emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_106"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref> を参照) であり、<var class="field">[[Style]]</var>,
        <var class="field">[[Type]]</var>, <var class="field">[[LanguageDisplay]]</var> に従ったコードのキーを持つフィールドを持たなければならない。</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-displaynames-abstracts">
    <h1><span class="secnum">12.5</span> DisplayNames オブジェクトの抽象操作</h1>

    <emu-clause id="sec-canonicalcodefordisplaynames" type="abstract operation" aoid="CanonicalCodeForDisplayNames">
      <h1><span class="secnum">12.5.1</span> CanonicalCodeForDisplayNames ( <var>type</var>, <var>code</var> )</h1>
      <p>The abstract operation CanonicalCodeForDisplayNames takes arguments <var>type</var> (文字列) and <var>code</var> (文字列) and returns 文字列を含む通常の完了または throw 完了. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>type</var> が <emu-val>"language"</emu-val> なら</li><li><var>code</var> が <code>unicode_language_id</code> Unicode ロケール非終端記号に一致しない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><emu-xref aoid="IsWellFormedLanguageTag" id="_ref_565"><a href="#sec-iswellformedlanguagetag">IsWellFormedLanguageTag</a></emu-xref>(<var>code</var>) が <emu-val>false</emu-val> なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_566"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>code</var>) を返す。</li><li><var>type</var> が <emu-val>"region"</emu-val> なら</li><li><var>code</var> が <code>unicode_region_subtag</code> Unicode ロケール非終端記号に一致しない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>code</var> の ASCII 大文字化を返す。</li><li><var>type</var> が <emu-val>"script"</emu-val> なら</li><li><var>code</var> が <code>unicode_script_subtag</code> Unicode ロケール非終端記号に一致しない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li>アサート: <var>code</var> の長さは 4 であり、<var>code</var> の各コードユニットは ASCII 文字 (0x0041～0x005A および 0x0061～0x007A) である。</li><li><var>first</var> を <var>code</var> の 0 から 1 までの部分文字列の ASCII 大文字化とする。</li><li><var>rest</var> を <var>code</var> の 1 以降の部分文字列の ASCII 小文字化とする。</li><li><var>first</var> と <var>rest</var> を連結した文字列を返す。</li><li><var>type</var> が <emu-val>"calendar"</emu-val> なら</li><li><var>code</var> が <code>type</code> Unicode ロケール非終端記号に一致しない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>code</var> が <a href="https://unicode.org/reports/tr35/#BCP_47_Conformance">Unicode Technical Standard #35 Part 1
          Core, Section 3.3 BCP 47 Conformance</a> で説明されている後方互換構文を使用している場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>code</var> の ASCII 小文字化を返す。</li><li><var>type</var> が <emu-val>"dateTimeField"</emu-val> なら</li><li><emu-xref aoid="IsValidDateTimeFieldCode" id="_ref_567"><a href="#sec-isvaliddatetimefieldcode">IsValidDateTimeFieldCode</a></emu-xref>(<var>code</var>) の結果が <emu-val>false</emu-val> なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>code</var> を返す。</li><li>アサート: <var>type</var> は <emu-val>"currency"</emu-val> である。</li><li><emu-xref aoid="IsWellFormedCurrencyCode" id="_ref_568"><a href="#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a></emu-xref>(<var>code</var>) の結果が <emu-val>false</emu-val> なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>code</var> の ASCII 大文字化を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-isvaliddatetimefieldcode" type="abstract operation" aoid="IsValidDateTimeFieldCode">
      <h1><span class="secnum">12.5.2</span> IsValidDateTimeFieldCode ( <var>field</var> )</h1>
      <p>The abstract operation IsValidDateTimeFieldCode takes argument <var>field</var> (文字列) and returns ブール値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>field</var> が <emu-xref href="#table-validcodefordatetimefield" id="_ref_107"><a href="#table-validcodefordatetimefield">Table 19</a></emu-xref> の Code 列に記載されている場合、<emu-val>true</emu-val> を返す。</li><li><emu-val>false</emu-val> を返す。</li></ol></emu-alg>

      <emu-table id="table-validcodefordatetimefield"><figure><figcaption>Table 19: DisplayNames の日付時刻フィールドのコード</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>コード</th>
              <th>説明</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><emu-val>"era"</emu-val></td>
            <td>暦やユリウス暦などの時代を示すフィールド。例: AD や BC。</td>
          </tr>
          <tr>
            <td><emu-val>"year"</emu-val></td>
            <td>時代内の年を示すフィールド。</td>
          </tr>
          <tr>
            <td><emu-val>"quarter"</emu-val></td>
            <td>四半期を示すフィールド。例: Q2、2nd quarter など。</td>
          </tr>
          <tr>
            <td><emu-val>"month"</emu-val></td>
            <td>月を示すフィールド。例: Sep、September など。</td>
          </tr>
          <tr>
            <td><emu-val>"weekOfYear"</emu-val></td>
            <td>年内の週番号を示すフィールド。</td>
          </tr>
          <tr>
            <td><emu-val>"weekday"</emu-val></td>
            <td>曜日を示すフィールド。例: Tue、Tuesday など。</td>
          </tr>
          <tr>
            <td><emu-val>"day"</emu-val></td>
            <td>月内の日を示すフィールド。</td>
          </tr>
          <tr>
            <td><emu-val>"dayPeriod"</emu-val></td>
            <td>日中の区分を示すフィールド。am、pm、noon、evening など。</td>
          </tr>
          <tr>
            <td><emu-val>"hour"</emu-val></td>
            <td>時間を示すフィールド。</td>
          </tr>
          <tr>
            <td><emu-val>"minute"</emu-val></td>
            <td>分を示すフィールド。</td>
          </tr>
          <tr>
            <td><emu-val>"second"</emu-val></td>
            <td>秒を示すフィールド。</td>
          </tr>
          <tr>
            <td><emu-val>"timeZoneName"</emu-val></td>
            <td>タイムゾーン名を示すフィールド。例: PDT、Pacific Daylight Time など。</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="durationformat-objects">
  <h1><span class="secnum">13</span> DurationFormat オブジェクト</h1>

  <emu-clause id="sec-intl-durationformat-constructor">
    <h1><span class="secnum">13.1</span> Intl.DurationFormat コンストラクター</h1>

    <p>Intl.DurationFormat コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.DurationFormat%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_569"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"DurationFormat"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_570"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の全ての<emu-xref href="#service-constructor" id="_ref_571"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_108"><a href="#sec-internal-slots">9.1</a></emu-xref> で規定されている。</p>

    <emu-clause id="sec-Intl.DurationFormat">
      <h1><span class="secnum">13.1.1</span> Intl.DurationFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.DurationFormat</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順を実行する:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> なら、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>durationFormat</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.DurationFormatPrototype%"</emu-val>, «
        <var class="field">[[InitializedDurationFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[NumberingSystem]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[YearsOptions]]</var>, <var class="field">[[MonthsOptions]]</var>,
        <var class="field">[[WeeksOptions]]</var>, <var class="field">[[DaysOptions]]</var>, <var class="field">[[HoursOptions]]</var>, <var class="field">[[MinutesOptions]]</var>, <var class="field">[[SecondsOptions]]</var>,
        <var class="field">[[MillisecondsOptions]]</var>, <var class="field">[[MicrosecondsOptions]]</var>, <var class="field">[[NanosecondsOptions]]</var>, <var class="field">[[HourMinuteSeparator]]</var>,
        <var class="field">[[MinuteSecondSeparator]]</var>, <var class="field">[[FractionalDigits]]</var>&nbsp;») とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_572"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-durationformat-constructor" id="_ref_573"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref>, <emu-xref href="#sec-intl-durationformat-constructor" id="_ref_574"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>,
        <var>locales</var>, <var>options</var>) とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> に設定する。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> に設定する。</li><li><var>durationFormat</var>.<var class="field">[[Locale]]</var> を <var>r</var>.<var class="field">[[Locale]]</var> に設定する。</li><li><var>resolvedLocaleData</var> を <var>r</var>.<var class="field">[[LocaleData]]</var> に設定する。</li><li><var>digitalFormat</var> を <var>resolvedLocaleData</var>.<var class="field">[[DigitalFormat]]</var> に設定する。</li><li><var>durationFormat</var>.<var class="field">[[HourMinuteSeparator]]</var> を <var>digitalFormat</var>.<var class="field">[[HourMinuteSeparator]]</var> に設定する。</li><li><var>durationFormat</var>.<var class="field">[[MinuteSecondSeparator]]</var> を <var>digitalFormat</var>.<var class="field">[[MinuteSecondSeparator]]</var> に設定する。</li><li><var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var> を <var>r</var>.<var class="field">[[nu]]</var> に設定する。</li><li><var>style</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_575"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"digital"</emu-val>&nbsp;»,
        <emu-val>"short"</emu-val>) に設定する。</li><li><var>durationFormat</var>.<var class="field">[[Style]]</var> を <var>style</var> に設定する。</li><li><var>prevStyle</var> を空文字列に設定する。</li><li><emu-xref href="#table-durationformat" id="_ref_109"><a href="#table-durationformat">Table 20</a></emu-xref> の各行（ヘッダー行を除く）について、表順で繰り返す:</li><li><var>slot</var> を現在の行の Internal Slot 値とする。</li><li><var>unit</var> を現在の行の Unit 値とする。</li><li><var>styles</var> を現在の行の Styles 値とする。</li><li><var>digitalBase</var> を現在の行の Digital Default 値とする。</li><li><var>unitOptions</var> を ?&nbsp;<emu-xref aoid="GetDurationUnitOptions" id="_ref_576"><a href="#sec-getdurationunitoptions">GetDurationUnitOptions</a></emu-xref>(<var>unit</var>, <var>options</var>, <var>style</var>, <var>styles</var>, <var>digitalBase</var>, <var>prevStyle</var>,
        <var>digitalFormat</var>.<var class="field">[[TwoDigitHours]]</var>) とする。</li><li><var>durationFormat</var> の内部スロット <var>slot</var> の値を <var>unitOptions</var> に設定する。</li><li><var>unit</var> が <emu-val>"hours"</emu-val>, <emu-val>"minutes"</emu-val>, <emu-val>"seconds"</emu-val>, <emu-val>"milliseconds"</emu-val>, <emu-val>"microseconds"</emu-val> のいずれかなら、</li><li><var>prevStyle</var> を <var>unitOptions</var>.<var class="field">[[Style]]</var> に設定する。</li><li><var>durationFormat</var>.<var class="field">[[FractionalDigits]]</var> を ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_577"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"fractionalDigits"</emu-val>, 0, 9, <emu-val>undefined</emu-val>)
        に設定する。</li><li><var>durationFormat</var> を返す。</li></ol></emu-alg>
      <emu-table id="table-durationformat"><figure><figcaption>Table 20: DurationFormat インスタンスの内部スロットとプロパティ名</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Unit</th>
              <th>Styles</th>
              <th>Digital Default</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[YearsOptions]]</var></td>
            <td><emu-val>"years"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MonthsOptions]]</var></td>
            <td><emu-val>"months"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[WeeksOptions]]</var></td>
            <td><emu-val>"weeks"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[DaysOptions]]</var></td>
            <td><emu-val>"days"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[HoursOptions]]</var></td>
            <td><emu-val>"hours"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MinutesOptions]]</var></td>
            <td><emu-val>"minutes"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[SecondsOptions]]</var></td>
            <td><emu-val>"seconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MillisecondsOptions]]</var></td>
            <td><emu-val>"milliseconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MicrosecondsOptions]]</var></td>
            <td><emu-val>"microseconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[NanosecondsOptions]]</var></td>
            <td><emu-val>"nanoseconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-durationformat-constructor">
    <h1><span class="secnum">13.2</span> Intl.DurationFormat コンストラクターのプロパティ</h1>

    <p>Intl.DurationFormat コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-Intl.DurationFormat.prototype">
      <h1><span class="secnum">13.2.1</span> Intl.DurationFormat.prototype</h1>

      <p><code>Intl.DurationFormat.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-durationformat-prototype-object" id="_ref_578"><a href="#sec-properties-of-intl-durationformat-prototype-object">%Intl.DurationFormat.prototype%</a></emu-xref> である。</p>

      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.supportedLocalesOf">
      <h1><span class="secnum">13.2.2</span> Intl.DurationFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順を実行する:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-durationformat-constructor" id="_ref_579"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> とする。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_580"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_581"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat-internal-slots">
      <h1><span class="secnum">13.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_110"><a href="#sec-internal-slots">9.1</a></emu-xref> で記述された制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « <emu-val>"nu"</emu-val> » である。</p>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> } » である。</p>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_111"><a href="#sec-internal-slots">9.1</a></emu-xref> で記述された制約内で実装依存であり、全てのロケール値 <var>locale</var>
        に対して以下の追加制約がある:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は <var class="field">[[nu]]</var> と <var class="field">[[DigitalFormat]]</var> フィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない。</li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[nu]]</var> は <emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_112"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>
          で規定された <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> であり、値 <emu-val>"native"</emu-val>, <emu-val>"traditio"</emu-val>, <emu-val>"finance"</emu-val> を含んではならない。</li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[DigitalFormat]]</var> は、そのロケールで利用可能な各番号体系に対応するキーを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>
          でなければならない。それぞれのキーに対応する値は次のフィールドを含む <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない:
          <ul>
            <li><var class="field">[[HourMinuteSeparator]]</var> は、style <emu-val>"numeric"</emu-val> または <emu-val>"2-digit"</emu-val>
              を使用する場合、そのロケールと番号体系の組み合わせに適切な時間と分の間の区切り文字列でなければならない。</li>
            <li><var class="field">[[MinuteSecondSeparator]]</var> は、style <emu-val>"numeric"</emu-val> または <emu-val>"2-digit"</emu-val>
              を使用する場合、そのロケールと番号体系の組み合わせに適切な分と秒の間の区切り文字列でなければならない。</li>
            <li><var class="field">[[TwoDigitHours]]</var> は、style <emu-val>"numeric"</emu-val> を使用する場合、時間が常に2桁で表示されるかどうかを示す Boolean 値でなければならない。</li>
          </ul>
        </li>
      </ul>

      <emu-note><span class="note">Note</span><div class="note-contents">実装では Common Locale Data Repository (<a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>)
        のロケールデータを利用することが推奨される。</div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-durationformat-prototype-object">
    <h1><span class="secnum">13.3</span> Intl.DurationFormat プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.DurationFormat プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.DurationFormat.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.DurationFormat インスタンスではなく、<var class="field">[[InitializedDurationFormat]]</var> 内部スロットや他の Intl.DurationFormat
        インスタンスオブジェクトの内部スロットを持たない。</li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-Intl.DurationFormat.prototype.constructor">
      <h1><span class="secnum">13.3.1</span> Intl.DurationFormat.prototype.constructor</h1>

      <p><code>Intl.DurationFormat.prototype.constructor</code> の初期値は組み込みオブジェクト <emu-xref href="#sec-intl-durationformat-constructor" id="_ref_582"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype.resolvedOptions">
      <h1><span class="secnum">13.3.2</span> Intl.DurationFormat.prototype.resolvedOptions ( )</h1>

      <p>この関数は、オブジェクトの初期化時に計算されたロケールとオプションにアクセスするためのものである。</p>

      <emu-alg><ol><li><var>df</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>df</var>, <var class="field">[[InitializedDurationFormat]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><emu-xref href="#table-durationformat-resolvedoptions-properties" id="_ref_113"><a href="#table-durationformat-resolvedoptions-properties">Table 21</a></emu-xref> の各行（ヘッダー行を除く）について、表順で繰り返す:</li><li><var>p</var> を現在の行の Property 値とする。</li><li><var>v</var> を <var>df</var> の内部スロットで、現在の行の Internal Slot 名の値とする。</li><li><var>v</var> が <emu-val>undefined</emu-val> でない場合、</li><li>現在の行に Conversion 値があれば <var>conversion</var> をその値とし、なければ <emu-const>empty</emu-const> とする。</li><li><var>conversion</var> が <emu-const>number</emu-const> なら、</li><li><var>v</var> を <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>) に設定する。</li><li>それ以外で <var>conversion</var> が <emu-const>empty</emu-const> でない場合、</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>conversion</var> は <emu-const>style+display</emu-const> であり、<var>v</var> は Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li><li>NOTE: <var>v</var>.<var class="field">[[Style]]</var> は <var>p</var>（複数形 Temporal 単位）というプロパティ名で表現され、<var>v</var>.<var class="field">[[Display]]</var> は <var>p</var> に <emu-val>"Display"</emu-val>
        を付加したプロパティ名で表現される。</li><li><var>style</var> を <var>v</var>.<var class="field">[[Style]]</var> とする。</li><li><var>style</var> が <emu-val>"fractional"</emu-val> なら、</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="IsFractionalSecondUnitName" id="_ref_583"><a href="#sec-isfractionalsecondunitname">IsFractionalSecondUnitName</a></emu-xref>(<var>p</var>) は <emu-val>true</emu-val> である。</li><li><var>style</var> を <emu-val>"numeric"</emu-val> に設定する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>style</var>) を実行する。</li><li><var>p</var> を <var>p</var> と <emu-val>"Display"</emu-val> の連結文字列に設定する。</li><li><var>v</var> を <var>v</var>.<var class="field">[[Display]]</var> に設定する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-durationformat-resolvedoptions-properties"><figure><figcaption>Table 21: DurationFormat インスタンスの resolvedOptions プロパティ</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
              <th>Conversion</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[YearsOptions]]</var></td>
            <td><emu-val>"years"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MonthsOptions]]</var></td>
            <td><emu-val>"months"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[WeeksOptions]]</var></td>
            <td><emu-val>"weeks"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[DaysOptions]]</var></td>
            <td><emu-val>"days"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[HoursOptions]]</var></td>
            <td><emu-val>"hours"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinutesOptions]]</var></td>
            <td><emu-val>"minutes"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[SecondsOptions]]</var></td>
            <td><emu-val>"seconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MillisecondsOptions]]</var></td>
            <td><emu-val>"milliseconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MicrosecondsOptions]]</var></td>
            <td><emu-val>"microseconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[NanosecondsOptions]]</var></td>
            <td><emu-val>"nanoseconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[FractionalDigits]]</var></td>
            <td><emu-val>"fractionalDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype.format">
      <h1><span class="secnum">13.3.3</span> Intl.DurationFormat.prototype.format ( <var>duration</var> )</h1>

      <p><code>format</code> メソッドが <var>duration</var> 引数で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>df</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>df</var>, <var class="field">[[InitializedDurationFormat]]</var>) を実行する。</li><li><var>record</var> を ?&nbsp;<emu-xref aoid="ToDurationRecord" id="_ref_584"><a href="#sec-todurationrecord">ToDurationRecord</a></emu-xref>(<var>duration</var>) とする。</li><li><var>parts</var> を <emu-xref aoid="PartitionDurationFormatPattern" id="_ref_585"><a href="#sec-partitiondurationformatpattern">PartitionDurationFormatPattern</a></emu-xref>(<var>df</var>, <var>record</var>) とする。</li><li><var>result</var> を空文字列とする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> について、</li><li><var>result</var> を <var>result</var> と <var>part</var>.<var class="field">[[Value]]</var> の連結文字列に設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype.formatToParts">
      <h1><span class="secnum">13.3.4</span> Intl.DurationFormat.prototype.formatToParts ( <var>duration</var> )</h1>

      <p><code>formatToParts</code> メソッドが <var>duration</var> 引数で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>df</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>df</var>, <var class="field">[[InitializedDurationFormat]]</var>) を実行する。</li><li><var>record</var> を ?&nbsp;<emu-xref aoid="ToDurationRecord" id="_ref_586"><a href="#sec-todurationrecord">ToDurationRecord</a></emu-xref>(<var>duration</var>) とする。</li><li><var>parts</var> を <emu-xref aoid="PartitionDurationFormatPattern" id="_ref_587"><a href="#sec-partitiondurationformatpattern">PartitionDurationFormatPattern</a></emu-xref>(<var>df</var>, <var>record</var>) とする。</li><li><var>result</var> を !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0) とする。</li><li><var>n</var> を 0 とする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> について、</li><li><var>obj</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>obj</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>obj</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>) を実行する。</li><li><var>part</var>.<var class="field">[[Unit]]</var> が <emu-const>empty</emu-const> でない場合、! <emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>obj</var>, <emu-val>"unit"</emu-val>, <var>part</var>.<var class="field">[[Unit]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>n</var>), <var>obj</var>) を実行する。</li><li><var>n</var> を <var>n</var> + 1 に設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype-%symbol.tostringtag%">
      <h1><span class="secnum">13.3.5</span> Intl.DurationFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.DurationFormat"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-durationformat-instances">
    <h1><span class="secnum">13.4</span> Intl.DurationFormat インスタンスのプロパティ</h1>

    <p>Intl.DurationFormat インスタンスは <emu-xref href="#sec-properties-of-intl-durationformat-prototype-object" id="_ref_588"><a href="#sec-properties-of-intl-durationformat-prototype-object">%Intl.DurationFormat.prototype%</a></emu-xref> からプロパティを継承する。</p>
    <p>Intl.DurationFormat インスタンスは <var class="field">[[InitializedDurationFormat]]</var> 内部スロットを持つ。</p>
    <p>Intl.DurationFormat インスタンスは <emu-xref href="#sec-intl-durationformat-constructor" title="" id="_ref_114"><a href="#sec-intl-durationformat-constructor">Intl.DurationFormat コンストラクター</a></emu-xref>
      で計算される複数の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> は、フォーマットに使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_589"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値である。</li>
      <li><var class="field">[[NumberingSystem]]</var> は、フォーマットに使用される <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a>
        を表す文字列値である。</li>
      <li><var class="field">[[Style]]</var> は、使用される期間フォーマットスタイルを示す <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"digital"</emu-val> のいずれかの文字列値である。</li>
      <li><var class="field">[[YearsOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Years]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
      <li><var class="field">[[MonthsOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Months]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。
      </li>
      <li><var class="field">[[WeeksOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Weeks]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
      <li><var class="field">[[DaysOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Days]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
      <li><var class="field">[[HoursOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Hours]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
      <li><var class="field">[[MinutesOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Minutes]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。
      </li>
      <li><var class="field">[[SecondsOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Seconds]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。
      </li>
      <li><var class="field">[[MillisecondsOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Milliseconds]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options
        <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
      <li><var class="field">[[MicrosecondsOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Microseconds]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options
        <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
      <li><var class="field">[[NanosecondsOptions]]</var> は、Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Nanoseconds]]</var> フィールドのフォーマットスタイルと表示条件を示す Duration Unit Options
        <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
      <li><var class="field">[[HourMinuteSeparator]]</var> は、両方のフィールドが表示され、両方が数値スタイルでフォーマットされる場合に、時間と分の間に使用される区切り文字列値である。</li>
      <li><var class="field">[[MinuteSecondSeparator]]</var> は、両方のフィールドが表示され、両方が数値スタイルでフォーマットされる場合に、分と秒の間に使用される区切り文字列値である。</li>
      <li><var class="field">[[FractionalDigits]]</var> は、<emu-val>undefined</emu-val> または数値スタイルで使用される小数桁数を示す非負整数である。</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-durationformat-abstracts">
    <h1><span class="secnum">13.5</span> DurationFormat オブジェクトの抽象演算</h1>

    <emu-clause id="sec-duration-records">
      <h1><span class="secnum">13.5.1</span> Duration レコード</h1>
      <p><dfn variants="Duration Records" tabindex="-1">Duration レコード</dfn> は、期間を表すために使用される <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> 値である。</p>
      <p>Duration レコードは <emu-xref href="#table-duration-record-fields" id="_ref_115"><a href="#table-duration-record-fields">Table 22</a></emu-xref> に記載されたフィールドを持つ。</p>
      <emu-table id="table-duration-record-fields" caption="Duration レコードのフィールド"><figure><figcaption>Table 22: <emu-xref href="#sec-duration-records" id="_ref_590"><a href="#sec-duration-records">Duration レコード</a></emu-xref>のフィールド</figcaption>
        <table class="real-table">
          <tbody><tr>
            <th>Field</th>
            <th>意味</th>
          </tr>
          <tr>
            <td><var class="field">[[Years]]</var></td>
            <td>
              期間内の年数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Months]]</var></td>
            <td>
              期間内の月数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Weeks]]</var></td>
            <td>
              期間内の週数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Days]]</var></td>
            <td>
              期間内の日数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Hours]]</var></td>
            <td>
              期間内の時間数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Minutes]]</var></td>
            <td>
              期間内の分数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Seconds]]</var></td>
            <td>
              期間内の秒数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Milliseconds]]</var></td>
            <td>
              期間内のミリ秒数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Microseconds]]</var></td>
            <td>
              期間内のマイクロ秒数。
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Nanoseconds]]</var></td>
            <td>
              期間内のナノ秒数。
            </td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-tointegerifintegral" oldids="sec-tointegerwithoutrounding" type="abstract operation" aoid="ToIntegerIfIntegral"><span id="sec-tointegerwithoutrounding"></span>
      <h1><span class="secnum">13.5.2</span> ToIntegerIfIntegral ( <var>argument</var> )</h1>
      <p>The abstract operation ToIntegerIfIntegral takes argument <var>argument</var> (ECMAScript 言語値) and returns 正常完了時は整数、または throw 完了. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>number</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>argument</var>) とする。</li><li><var>number</var> が整数の Number でなければ、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>number</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-todurationrecord" type="abstract operation" aoid="ToDurationRecord">
      <h1><span class="secnum">13.5.3</span> ToDurationRecord ( <var>input</var> )</h1>
      <p>The abstract operation ToDurationRecord takes argument <var>input</var> (ECMAScript 言語値) and returns 正常完了時は <emu-xref href="#sec-duration-records" id="_ref_591"><a href="#sec-duration-records">Duration レコード</a></emu-xref>、または throw 完了. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>input</var> がオブジェクトでなければ、</li><li><var>input</var> が文字列なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><emu-val>TypeError</emu-val> 例外を投げる。</li><li>各フィールドを 0 に設定した新しい <emu-xref href="#sec-duration-records" id="_ref_592"><a href="#sec-duration-records">Duration レコード</a></emu-xref> <var>result</var> を作成する。</li><li><var>days</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"days"</emu-val>) とする。</li><li><var>days</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Days]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_593"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>days</var>) を設定する。</li><li><var>hours</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"hours"</emu-val>) とする。</li><li><var>hours</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Hours]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_594"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>hours</var>) を設定する。</li><li><var>microseconds</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"microseconds"</emu-val>) とする。</li><li><var>microseconds</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Microseconds]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_595"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>microseconds</var>) を設定する。</li><li><var>milliseconds</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"milliseconds"</emu-val>) とする。</li><li><var>milliseconds</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Milliseconds]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_596"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>milliseconds</var>) を設定する。</li><li><var>minutes</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"minutes"</emu-val>) とする。</li><li><var>minutes</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Minutes]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_597"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>minutes</var>) を設定する。</li><li><var>months</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"months"</emu-val>) とする。</li><li><var>months</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Months]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_598"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>months</var>) を設定する。</li><li><var>nanoseconds</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"nanoseconds"</emu-val>) とする。</li><li><var>nanoseconds</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Nanoseconds]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_599"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>nanoseconds</var>) を設定する。</li><li><var>seconds</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"seconds"</emu-val>) とする。</li><li><var>seconds</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Seconds]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_600"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>seconds</var>) を設定する。</li><li><var>weeks</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"weeks"</emu-val>) とする。</li><li><var>weeks</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Weeks]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_601"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>weeks</var>) を設定する。</li><li><var>years</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"years"</emu-val>) とする。</li><li><var>years</var> が <emu-val>undefined</emu-val> でなければ、<var>result</var>.<var class="field">[[Years]]</var> に ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_602"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>years</var>) を設定する。</li><li><var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>,
        <var>nanoseconds</var> がすべて <emu-val>undefined</emu-val> なら、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><emu-xref aoid="IsValidDuration" id="_ref_603"><a href="#sec-isvalidduration">IsValidDuration</a></emu-xref>( <var>result</var>.<var class="field">[[Years]]</var>, <var>result</var>.<var class="field">[[Months]]</var>, <var>result</var>.<var class="field">[[Weeks]]</var>, <var>result</var>.<var class="field">[[Days]]</var>,
        <var>result</var>.<var class="field">[[Hours]]</var>, <var>result</var>.<var class="field">[[Minutes]]</var>, <var>result</var>.<var class="field">[[Seconds]]</var>, <var>result</var>.<var class="field">[[Milliseconds]]</var>,
        <var>result</var>.<var class="field">[[Microseconds]]</var>, <var>result</var>.<var class="field">[[Nanoseconds]]</var>) が <emu-val>false</emu-val> なら、</li><li><emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-durationsign" type="abstract operation" aoid="DurationSign">
      <h1><span class="secnum">13.5.4</span> DurationSign ( <var>duration</var> )</h1>
      <p>The abstract operation DurationSign takes argument <var>duration</var> (<emu-xref href="#sec-duration-records" id="_ref_604"><a href="#sec-duration-records">Duration レコード</a></emu-xref>) and returns -1, 0, または 1. It performs the following steps when called:</p>
      <emu-alg><ol><li>« <var>duration</var>.<var class="field">[[Years]]</var>, <var>duration</var>.<var class="field">[[Months]]</var>, <var>duration</var>.<var class="field">[[Weeks]]</var>, <var>duration</var>.<var class="field">[[Days]]</var>,
        <var>duration</var>.<var class="field">[[Hours]]</var>, <var>duration</var>.<var class="field">[[Minutes]]</var>, <var>duration</var>.<var class="field">[[Seconds]]</var>, <var>duration</var>.<var class="field">[[Milliseconds]]</var>,
        <var>duration</var>.<var class="field">[[Microseconds]]</var>, <var>duration</var>.<var class="field">[[Nanoseconds]]</var>&nbsp;» の各値 <var>v</var> について、</li><li><var>v</var> &lt; 0 なら -1 を返す。</li><li><var>v</var> &gt; 0 なら 1 を返す。</li><li>0 を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-isvalidduration" type="abstract operation" aoid="IsValidDuration">
      <h1><span class="secnum">13.5.5</span> IsValidDuration ( <var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>, <var>nanoseconds</var> )</h1>
      <p>The abstract operation IsValidDuration takes arguments <var>years</var> (整数), <var>months</var> (整数), <var>weeks</var> (整数), <var>days</var> (整数), <var>hours</var> (整数), <var>minutes</var> (整数), <var>seconds</var> (整数), <var>milliseconds</var> (整数), <var>microseconds</var> (整数), and <var>nanoseconds</var> (整数) and returns Boolean. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>sign</var> を 0 に設定する。</li><li>« <var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>,
        <var>nanoseconds</var>&nbsp;» の各値 <var>v</var> について、</li><li><emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>) が有限でなければ <emu-val>false</emu-val> を返す。</li><li><var>v</var> &lt; 0 なら、</li><li><var>sign</var> &gt; 0 なら <emu-val>false</emu-val> を返す。</li><li><var>sign</var> を -1 に設定する。</li><li>それ以外で <var>v</var> &gt; 0 なら、</li><li><var>sign</var> &lt; 0 なら <emu-val>false</emu-val> を返す。</li><li><var>sign</var> を 1 に設定する。</li><li><emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>years</var>) ≥ 2<sup>32</sup> なら <emu-val>false</emu-val> を返す。</li><li><emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>months</var>) ≥ 2<sup>32</sup> なら <emu-val>false</emu-val> を返す。</li><li><emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>weeks</var>) ≥ 2<sup>32</sup> なら <emu-val>false</emu-val> を返す。</li><li><var>normalizedSeconds</var> を <var>days</var> × 86,400 + <var>hours</var> × 3600 + <var>minutes</var> × 60 + <var>seconds</var> + <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>milliseconds</var>)) ×
        10<sup>-3</sup> + <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>microseconds</var>)) × 10<sup>-6</sup> + <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>nanoseconds</var>)) × 10<sup>-9</sup> とする。</li><li>注: 上記のステップは浮動小数点演算で直接実装できない。<var>milliseconds</var>, <var>microseconds</var>, <var>nanoseconds</var> が安全な整数の場合、10<sup>-3</sup>,
        10<sup>-6</sup>, 10<sup>-9</sup> の乗算は不正確になる可能性がある。C++ では十分なビット数の <code>std::remquo()</code> で実装できる。文字列操作でも正確な結果が得られる。</li><li><emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>normalizedSeconds</var>) ≥ 2<sup>53</sup> なら <emu-val>false</emu-val> を返す。</li><li><emu-val>true</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getdurationunitoptions" type="abstract operation" aoid="GetDurationUnitOptions">
      <h1><span class="secnum">13.5.6</span> GetDurationUnitOptions ( <var>unit</var>, <var>options</var>, <var>baseStyle</var>, <var>stylesList</var>, <var>digitalBase</var>, <var>prevStyle</var>, <var>twoDigitHours</var> )</h1>
      <p>The abstract operation GetDurationUnitOptions takes arguments <var>unit</var> (文字列), <var>options</var> (オブジェクト), <var>baseStyle</var> (文字列), <var>stylesList</var> (文字列のリスト), <var>digitalBase</var> (文字列), <var>prevStyle</var> (文字列), and <var>twoDigitHours</var> (Boolean) and returns 正常完了時は <emu-xref href="#durationformat-unit-options-record" id="_ref_605"><a href="#durationformat-unit-options-record">Duration Unit Options レコード</a></emu-xref>、または throw 完了. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>style</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_606"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>unit</var>, <emu-const>string</emu-const>, <var>stylesList</var>, <emu-val>undefined</emu-val>) とする。</li><li><var>displayDefault</var> を <emu-val>"always"</emu-val> に設定する。</li><li><var>style</var> が <emu-val>undefined</emu-val> なら、</li><li><var>baseStyle</var> が <emu-val>"digital"</emu-val> なら、</li><li><var>style</var> を <var>digitalBase</var> に設定する。</li><li><var>unit</var> が <emu-val>"hours"</emu-val>, <emu-val>"minutes"</emu-val>, <emu-val>"seconds"</emu-val> 以外なら <var>displayDefault</var> を <emu-val>"auto"</emu-val> に設定する。</li><li>それ以外で <var>prevStyle</var> が <emu-val>"fractional"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val> のいずれかなら、</li><li><var>style</var> を <emu-val>"numeric"</emu-val> に設定する。</li><li><var>unit</var> が <emu-val>"minutes"</emu-val>, <emu-val>"seconds"</emu-val> 以外なら <var>displayDefault</var> を <emu-val>"auto"</emu-val> に設定する。</li><li>それ以外の場合、</li><li><var>style</var> を <var>baseStyle</var> に設定する。</li><li><var>displayDefault</var> を <emu-val>"auto"</emu-val> に設定する。</li><li><var>style</var> が <emu-val>"numeric"</emu-val> かつ <emu-xref aoid="IsFractionalSecondUnitName" id="_ref_607"><a href="#sec-isfractionalsecondunitname">IsFractionalSecondUnitName</a></emu-xref>(<var>unit</var>) が <emu-val>true</emu-val> なら、</li><li><var>style</var> を <emu-val>"fractional"</emu-val> に設定する。</li><li><var>displayDefault</var> を <emu-val>"auto"</emu-val> に設定する。</li><li><var>displayField</var> を <var>unit</var> と <emu-val>"Display"</emu-val> の連結文字列とする。</li><li><var>display</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_608"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>displayField</var>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>, <emu-val>"always"</emu-val>&nbsp;», <var>displayDefault</var>) とする。</li><li>?&nbsp;<emu-xref aoid="ValidateDurationUnitStyle" id="_ref_609"><a href="#sec-validatedurationunitstyle">ValidateDurationUnitStyle</a></emu-xref>(<var>unit</var>, <var>style</var>, <var>display</var>, <var>prevStyle</var>) を実行する。</li><li><var>unit</var> が <emu-val>"hours"</emu-val> かつ <var>twoDigitHours</var> が <emu-val>true</emu-val> なら <var>style</var> を <emu-val>"2-digit"</emu-val> に設定する。</li><li><var>unit</var> が <emu-val>"minutes"</emu-val> または <emu-val>"seconds"</emu-val> かつ <var>prevStyle</var> が <emu-val>"numeric"</emu-val> または <emu-val>"2-digit"</emu-val> なら <var>style</var> を <emu-val>"2-digit"</emu-val>
        に設定する。</li><li><emu-xref href="#durationformat-unit-options-record" id="_ref_610"><a href="#durationformat-unit-options-record">Duration Unit Options レコード</a></emu-xref> { <var class="field">[[Style]]</var>: <var>style</var>, <var class="field">[[Display]]</var>: <var>display</var>&nbsp;} を返す。</li></ol></emu-alg>

      <emu-clause id="sec-durationformat-unit-options-record">
        <h1><span class="secnum">13.5.6.1</span> Duration Unit Options レコード</h1>

        <p>各 <dfn id="durationformat-unit-options-record" tabindex="-1">Duration Unit Options レコード</dfn> は <emu-xref href="#table-durationformat-unit-options-record" id="_ref_116"><a href="#table-durationformat-unit-options-record">Table 23</a></emu-xref> で定義されたフィールドを持つ。</p>
        <emu-table id="table-durationformat-unit-options-record"><figure><figcaption>Table 23: <emu-xref href="#durationformat-unit-options-record" id="_ref_611"><a href="#durationformat-unit-options-record">Duration Unit Options レコード</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>フィールド名</th>
                <th>値の型</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Style]]</var></td>
              <td><emu-xref href="#table-durationformat" id="_ref_117"><a href="#table-durationformat">Table 20</a></emu-xref> の Styles 列の文字列</td>
            </tr>
            <tr>
              <td><var class="field">[[Display]]</var></td>
              <td><emu-val>"auto"</emu-val> または <emu-val>"always"</emu-val> </td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-validatedurationunitstyle" type="abstract operation" aoid="ValidateDurationUnitStyle">
        <h1><span class="secnum">13.5.6.2</span> ValidateDurationUnitStyle ( <var>unit</var>, <var>style</var>, <var>display</var>, <var>prevStyle</var> )</h1>
        <p>The abstract operation ValidateDurationUnitStyle takes arguments <var>unit</var> (文字列), <var>style</var> (文字列), <var>display</var> (文字列), and <var>prevStyle</var> (文字列) and returns 正常完了時は <emu-const>unused</emu-const>、または throw 完了. It performs the following steps when called:</p>
        <emu-alg><ol><li><var>display</var> が <emu-val>"always"</emu-val> かつ <var>style</var> が <emu-val>"fractional"</emu-val> なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>prevStyle</var> が <emu-val>"fractional"</emu-val> かつ <var>style</var> が <emu-val>"fractional"</emu-val> でないなら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>prevStyle</var> が <emu-val>"numeric"</emu-val> または <emu-val>"2-digit"</emu-val> かつ <var>style</var> が <emu-val>"fractional"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val>
          以外なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><emu-const>unused</emu-const> を返す。</li></ol></emu-alg>
        <emu-note><span class="note">Note</span><div class="note-contents"><var>unit</var> は上記アルゴリズムでは参照されていないが、実装時には例外メッセージの構築に使用することが推奨される。</div></emu-note>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-computefractionaldigits" oldids="sec-addfractionaldigits" type="abstract operation" aoid="ComputeFractionalDigits"><span id="sec-addfractionaldigits"></span>
      <h1><span class="secnum">13.5.7</span> ComputeFractionalDigits ( <var>durationFormat</var>, <var>duration</var> )</h1>
      <p>The abstract operation ComputeFractionalDigits takes arguments <var>durationFormat</var> (DurationFormat オブジェクト) and <var>duration</var> (<emu-xref href="#sec-duration-records" id="_ref_612"><a href="#sec-duration-records">Duration レコード</a></emu-xref>) and returns 数学的値. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>result</var> を 0 に設定する。</li><li><var>exponent</var> を 3 に設定する。</li><li><emu-xref href="#table-partition-duration-format-pattern" id="_ref_118"><a href="#table-partition-duration-format-pattern">Table 24</a></emu-xref> の各行（ヘッダー行を除く）について、表順で繰り返す:</li><li><var>unitOptions</var> を <var>durationFormat</var> の内部スロットで、現在の行の Internal Slot 名の値とする。</li><li><var>unitOptions</var>.<var class="field">[[Style]]</var> が <emu-val>"fractional"</emu-val> なら、</li><li><var>unit</var> を現在の行の Unit 値とする。</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="IsFractionalSecondUnitName" id="_ref_613"><a href="#sec-isfractionalsecondunitname">IsFractionalSecondUnitName</a></emu-xref>(<var>unit</var>) は <emu-val>true</emu-val> である。</li><li><var>value</var> を <var>duration</var> のフィールドで、現在の行の Value Field 名の値とする。</li><li><var>result</var> を <var>result</var> + (<var>value</var> / 10<sup><var>exponent</var></sup>) に設定する。</li><li><var>exponent</var> を <var>exponent</var> + 3 に設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-nextunitfractional" type="abstract operation" aoid="NextUnitFractional">
      <h1><span class="secnum">13.5.8</span> NextUnitFractional ( <var>durationFormat</var>, <var>unit</var> )</h1>
      <p>The abstract operation NextUnitFractional takes arguments <var>durationFormat</var> (DurationFormat オブジェクト) and <var>unit</var> (文字列) and returns Boolean. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>unit</var> が <emu-val>"seconds"</emu-val> かつ <var>durationFormat</var>.<var class="field">[[MillisecondsOptions]]</var>.<var class="field">[[Style]]</var> が <emu-val>"fractional"</emu-val> なら <emu-val>true</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"milliseconds"</emu-val> かつ <var>durationFormat</var>.<var class="field">[[MicrosecondsOptions]]</var>.<var class="field">[[Style]]</var> が <emu-val>"fractional"</emu-val> なら <emu-val>true</emu-val>
        を返す。</li><li><var>unit</var> が <emu-val>"microseconds"</emu-val> かつ <var>durationFormat</var>.<var class="field">[[NanosecondsOptions]]</var>.<var class="field">[[Style]]</var> が <emu-val>"fractional"</emu-val> なら <emu-val>true</emu-val>
        を返す。</li><li><emu-val>false</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumerichours" type="abstract operation" aoid="FormatNumericHours">
      <h1><span class="secnum">13.5.9</span> FormatNumericHours ( <var>durationFormat</var>, <var>hoursValue</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericHours takes arguments <var>durationFormat</var> (DurationFormat オブジェクト), <var>hoursValue</var> (整数), and <var>signDisplayed</var> (Boolean) and returns レコードのリスト. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>result</var> を新しい空のリストとする。</li><li><var>hoursStyle</var> を <var>durationFormat</var>.<var class="field">[[HoursOptions]]</var>.<var class="field">[[Style]]</var> とする。</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>hoursStyle</var> は <emu-val>"numeric"</emu-val> または <emu-val>"2-digit"</emu-val> である。</li><li><var>nfOpts</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li><var>numberingSystem</var> を <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var> とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>numberingSystem</var>) を実行する。</li><li><var>hoursStyle</var> が <emu-val>"2-digit"</emu-val> なら、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>) を実行する。</li><li><var>signDisplayed</var> が <emu-val>false</emu-val> なら、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>) を実行する。</li><li><var>nf</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_614"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;») とする。</li><li><var>hoursParts</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_615"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>hoursValue</var>) とする。</li><li>各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について、</li><li>レコード { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-val>"hour"</emu-val>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericminutes" type="abstract operation" aoid="FormatNumericMinutes">
      <h1><span class="secnum">13.5.10</span> FormatNumericMinutes ( <var>durationFormat</var>, <var>minutesValue</var>, <var>hoursDisplayed</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericMinutes takes arguments <var>durationFormat</var> (DurationFormat オブジェクト), <var>minutesValue</var> (整数), <var>hoursDisplayed</var> (Boolean), and <var>signDisplayed</var> (Boolean) and returns レコードのリスト. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>result</var> を新しい空のリストとする。</li><li><var>hoursDisplayed</var> が <emu-val>true</emu-val> なら、</li><li><var>separator</var> を <var>durationFormat</var>.<var class="field">[[HourMinuteSeparator]]</var> とする。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>separator</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} を <var>result</var> に追加する。</li><li><var>minutesStyle</var> を <var>durationFormat</var>.<var class="field">[[MinutesOptions]]</var>.<var class="field">[[Style]]</var> とする。</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>minutesStyle</var> は <emu-val>"numeric"</emu-val> または <emu-val>"2-digit"</emu-val> である。</li><li><var>nfOpts</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li><var>numberingSystem</var> を <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var> とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>numberingSystem</var>) を実行する。</li><li><var>minutesStyle</var> が <emu-val>"2-digit"</emu-val> なら、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>) を実行する。</li><li><var>signDisplayed</var> が <emu-val>false</emu-val> なら、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>) を実行する。</li><li><var>nf</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_616"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;») とする。</li><li><var>minutesParts</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_617"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>minutesValue</var>) とする。</li><li>各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について、</li><li>レコード { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-val>"minute"</emu-val>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericseconds" type="abstract operation" aoid="FormatNumericSeconds">
      <h1><span class="secnum">13.5.11</span> FormatNumericSeconds ( <var>durationFormat</var>, <var>secondsValue</var>, <var>minutesDisplayed</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericSeconds takes arguments <var>durationFormat</var> (DurationFormat オブジェクト), <var>secondsValue</var> (数学的値), <var>minutesDisplayed</var> (Boolean), and <var>signDisplayed</var> (Boolean) and returns レコードのリスト. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>result</var> を新しい空のリストとする。</li><li><var>minutesDisplayed</var> が <emu-val>true</emu-val> なら、</li><li><var>separator</var> を <var>durationFormat</var>.<var class="field">[[MinuteSecondSeparator]]</var> とする。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>separator</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} を <var>result</var> に追加する。</li><li><var>secondsStyle</var> を <var>durationFormat</var>.<var class="field">[[SecondsOptions]]</var>.<var class="field">[[Style]]</var> とする。</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>secondsStyle</var> は <emu-val>"numeric"</emu-val> または <emu-val>"2-digit"</emu-val> である。</li><li><var>nfOpts</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li><var>numberingSystem</var> を <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var> とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>numberingSystem</var>) を実行する。</li><li><var>secondsStyle</var> が <emu-val>"2-digit"</emu-val> なら、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>) を実行する。</li><li><var>signDisplayed</var> が <emu-val>false</emu-val> なら、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>) を実行する。</li><li><var>fractionDigits</var> を <var>durationFormat</var>.<var class="field">[[FractionalDigits]]</var> とする。</li><li><var>fractionDigits</var> が <emu-val>undefined</emu-val> なら、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <emu-val>9</emu-val><sub>𝔽</sub>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <emu-val>+0</emu-val><sub>𝔽</sub>) を実行する。</li><li>それ以外の場合、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <var>fractionDigits</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <var>fractionDigits</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"roundingMode"</emu-val>, <emu-val>"trunc"</emu-val>) を実行する。</li><li><var>nf</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_618"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;») とする。</li><li><var>secondsParts</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_619"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>secondsValue</var>) とする。</li><li>各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について、</li><li>レコード { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-val>"second"</emu-val>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericunits" type="abstract operation" aoid="FormatNumericUnits">
      <h1><span class="secnum">13.5.12</span> FormatNumericUnits ( <var>durationFormat</var>, <var>duration</var>, <var>firstNumericUnit</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericUnits takes arguments <var>durationFormat</var> (DurationFormat オブジェクト), <var>duration</var> (<emu-xref href="#sec-duration-records" id="_ref_620"><a href="#sec-duration-records">Duration レコード</a></emu-xref>), <var>firstNumericUnit</var> (文字列), and <var>signDisplayed</var> (Boolean) and returns レコードのリスト. It performs the following steps when called:</p>

      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>firstNumericUnit</var> は <emu-val>"hours"</emu-val>, <emu-val>"minutes"</emu-val>, または <emu-val>"seconds"</emu-val> である。</li><li><var>numericPartsList</var> を新しい空のリストとする。</li><li><var>hoursValue</var> を <var>duration</var>.<var class="field">[[Hours]]</var> とする。</li><li><var>hoursDisplay</var> を <var>durationFormat</var>.<var class="field">[[HoursOptions]]</var>.<var class="field">[[Display]]</var> とする。</li><li><var>minutesValue</var> を <var>duration</var>.<var class="field">[[Minutes]]</var> とする。</li><li><var>minutesDisplay</var> を <var>durationFormat</var>.<var class="field">[[MinutesOptions]]</var>.<var class="field">[[Display]]</var> とする。</li><li><var>secondsValue</var> を <var>duration</var>.<var class="field">[[Seconds]]</var> とする。</li><li><var>duration</var>.<var class="field">[[Milliseconds]]</var> が 0 でない、または <var>duration</var>.<var class="field">[[Microseconds]]</var> が 0 でない、または <var>duration</var>.<var class="field">[[Nanoseconds]]</var> が
        0 でない場合、</li><li><var>secondsValue</var> を <var>secondsValue</var> + <emu-xref aoid="ComputeFractionalDigits" id="_ref_621"><a href="#sec-computefractionaldigits">ComputeFractionalDigits</a></emu-xref>(<var>durationFormat</var>, <var>duration</var>) に設定する。</li><li><var>secondsDisplay</var> を <var>durationFormat</var>.<var class="field">[[SecondsOptions]]</var>.<var class="field">[[Display]]</var> とする。</li><li><var>hoursFormatted</var> を <emu-val>false</emu-val> に設定する。</li><li><var>firstNumericUnit</var> が <emu-val>"hours"</emu-val> なら、</li><li><var>hoursValue</var> が 0 でない、または <var>hoursDisplay</var> が <emu-val>"always"</emu-val> なら、</li><li><var>hoursFormatted</var> を <emu-val>true</emu-val> に設定する。</li><li><var>secondsValue</var> が 0 でない、または <var>secondsDisplay</var> が <emu-val>"always"</emu-val> なら、</li><li><var>secondsFormatted</var> を <emu-val>true</emu-val> に設定する。</li><li>それ以外の場合、</li><li><var>secondsFormatted</var> を <emu-val>false</emu-val> に設定する。</li><li><var>minutesFormatted</var> を <emu-val>false</emu-val> に設定する。</li><li><var>firstNumericUnit</var> が <emu-val>"hours"</emu-val> または <emu-val>"minutes"</emu-val> なら、</li><li><var>hoursFormatted</var> が <emu-val>true</emu-val> かつ <var>secondsFormatted</var> が <emu-val>true</emu-val> なら、</li><li><var>minutesFormatted</var> を <emu-val>true</emu-val> に設定する。</li><li>それ以外で <var>minutesValue</var> が 0 でない、または <var>minutesDisplay</var> が <emu-val>"always"</emu-val> なら、</li><li><var>minutesFormatted</var> を <emu-val>true</emu-val> に設定する。</li><li><var>hoursFormatted</var> が <emu-val>true</emu-val> なら、</li><li><var>signDisplayed</var> が <emu-val>true</emu-val> なら、</li><li><var>hoursValue</var> が 0 かつ <emu-xref aoid="DurationSign" id="_ref_622"><a href="#sec-durationsign">DurationSign</a></emu-xref>(<var>duration</var>) が -1 なら、</li><li><var>hoursValue</var> を <emu-const>negative-zero</emu-const> に設定する。</li><li><var>hoursParts</var> を <emu-xref aoid="FormatNumericHours" id="_ref_623"><a href="#sec-formatnumerichours">FormatNumericHours</a></emu-xref>(<var>durationFormat</var>, <var>hoursValue</var>, <var>signDisplayed</var>) とする。</li><li><var>numericPartsList</var> を <var>numericPartsList</var> と <var>hoursParts</var> のリスト連結に設定する。</li><li><var>signDisplayed</var> を <emu-val>false</emu-val> に設定する。</li><li><var>minutesFormatted</var> が <emu-val>true</emu-val> なら、</li><li><var>signDisplayed</var> が <emu-val>true</emu-val> なら、</li><li><var>minutesValue</var> が 0 かつ <emu-xref aoid="DurationSign" id="_ref_624"><a href="#sec-durationsign">DurationSign</a></emu-xref>(<var>duration</var>) が -1 なら、</li><li><var>minutesValue</var> を <emu-const>negative-zero</emu-const> に設定する。</li><li><var>minutesParts</var> を <emu-xref aoid="FormatNumericMinutes" id="_ref_625"><a href="#sec-formatnumericminutes">FormatNumericMinutes</a></emu-xref>(<var>durationFormat</var>, <var>minutesValue</var>, <var>hoursFormatted</var>, <var>signDisplayed</var>)
        とする。</li><li><var>numericPartsList</var> を <var>numericPartsList</var> と <var>minutesParts</var> のリスト連結に設定する。</li><li><var>signDisplayed</var> を <emu-val>false</emu-val> に設定する。</li><li><var>secondsFormatted</var> が <emu-val>true</emu-val> なら、</li><li><var>secondsParts</var> を <emu-xref aoid="FormatNumericSeconds" id="_ref_626"><a href="#sec-formatnumericseconds">FormatNumericSeconds</a></emu-xref>(<var>durationFormat</var>, <var>secondsValue</var>, <var>minutesFormatted</var>, <var>signDisplayed</var>)
        とする。</li><li><var>numericPartsList</var> を <var>numericPartsList</var> と <var>secondsParts</var> のリスト連結に設定する。</li><li><var>numericPartsList</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-isfractionalsecondunitname" type="abstract operation" aoid="IsFractionalSecondUnitName">
      <h1><span class="secnum">13.5.13</span> IsFractionalSecondUnitName ( <var>unit</var> )</h1>
      <p>The abstract operation IsFractionalSecondUnitName takes argument <var>unit</var> (文字列) and returns Boolean. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>unit</var> が <emu-val>"milliseconds"</emu-val>, <emu-val>"microseconds"</emu-val>, <emu-val>"nanoseconds"</emu-val> のいずれかなら <emu-val>true</emu-val> を返す。</li><li><emu-val>false</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-listformatparts" type="abstract operation" aoid="ListFormatParts">
      <h1><span class="secnum">13.5.14</span> ListFormatParts ( <var>durationFormat</var>, <var>partitionedPartsList</var> )</h1>
      <p>The abstract operation ListFormatParts takes arguments <var>durationFormat</var> (DurationFormat オブジェクト) and <var>partitionedPartsList</var> (レコードのリストのリスト) and returns リスト. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>lfOpts</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>lfOpts</var>, <emu-val>"type"</emu-val>, <emu-val>"unit"</emu-val>) を実行する。</li><li><var>listStyle</var> を <var>durationFormat</var>.<var class="field">[[Style]]</var> とする。</li><li><var>listStyle</var> が <emu-val>"digital"</emu-val> なら、</li><li><var>listStyle</var> を <emu-val>"short"</emu-val> に設定する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>lfOpts</var>, <emu-val>"style"</emu-val>, <var>listStyle</var>) を実行する。</li><li><var>lf</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-listformat-constructor" id="_ref_627"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>lfOpts</var>&nbsp;») とする。</li><li><var>strings</var> を新しい空のリストとする。</li><li><var>partitionedPartsList</var> の各要素 <var>parts</var> について、</li><li><var>string</var> を空文字列とする。</li><li><var>parts</var> 内の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> について、</li><li><var>string</var> を <var>string</var> と <var>part</var>.<var class="field">[[Value]]</var> の連結文字列に設定する。</li><li><var>strings</var> に <var>string</var> を追加する。</li><li><var>formattedPartsList</var> を <emu-xref aoid="CreatePartsFromList" id="_ref_628"><a href="#sec-createpartsfromlist">CreatePartsFromList</a></emu-xref>(<var>lf</var>, <var>strings</var>) とする。</li><li><var>partitionedPartsIndex</var> を 0 とする。</li><li><var>partitionedLength</var> を <var>partitionedPartsList</var> の要素数とする。</li><li><var>flattenedPartsList</var> を新しい空のリストとする。</li><li><var>formattedPartsList</var> の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>listPart</var> について、</li><li><var>listPart</var>.<var class="field">[[Type]]</var> が <emu-val>"element"</emu-val> なら、</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>partitionedPartsIndex</var> &lt; <var>partitionedLength</var> である。</li><li><var>parts</var> を <var>partitionedPartsList</var>[<var>partitionedPartsIndex</var>] とする。</li><li><var>parts</var> 内の各レコード { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> について、</li><li><var>flattenedPartsList</var> に <var>part</var> を追加する。</li><li><var>partitionedPartsIndex</var> を <var>partitionedPartsIndex</var> + 1 に設定する。</li><li>それ以外の場合、</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>listPart</var>.<var class="field">[[Type]]</var> は <emu-val>"literal"</emu-val> である。</li><li>レコード { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>listPart</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} を <var>flattenedPartsList</var>
        に追加する。</li><li><var>flattenedPartsList</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitiondurationformatpattern" type="abstract operation" aoid="PartitionDurationFormatPattern">
      <h1><span class="secnum">13.5.15</span> PartitionDurationFormatPattern ( <var>durationFormat</var>, <var>duration</var> )</h1>
      <p>The abstract operation PartitionDurationFormatPattern takes arguments <var>durationFormat</var> (a DurationFormat) and <var>duration</var> (a Duration <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>. It creates the corresponding parts for <var>duration</var> according to the effective locale and the formatting
          options of <var>durationFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>signDisplayed</var> be <emu-val>true</emu-val>.</li><li>Let <var>numericUnitFound</var> be <emu-val>false</emu-val>.</li><li>While <var>numericUnitFound</var> is <emu-val>false</emu-val>, repeat for each row in <emu-xref href="#table-partition-duration-format-pattern" id="_ref_119"><a href="#table-partition-duration-format-pattern">Table 24</a></emu-xref> in table order, except the header row:</li><li>Let <var>value</var> be the value of <var>duration</var>'s field whose name is the Value Field value of the current row.</li><li>Let <var>unitOptions</var> be the value of <var>durationFormat</var>'s internal slot whose name is the Internal Slot value of
        the current row.</li><li>Let <var>style</var> be <var>unitOptions</var>.<var class="field">[[Style]]</var>.</li><li>Let <var>display</var> be <var>unitOptions</var>.<var class="field">[[Display]]</var>.</li><li>Let <var>unit</var> be the Unit value of the current row.</li><li>Let <var>numberFormatUnit</var> be the NumberFormat Unit value of the current row.</li><li>If <var>style</var> is <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val>, then</li><li>Let <var>numericPartsList</var> be <emu-xref aoid="FormatNumericUnits" id="_ref_629"><a href="#sec-formatnumericunits">FormatNumericUnits</a></emu-xref>(<var>durationFormat</var>, <var>duration</var>, <var>unit</var>, <var>signDisplayed</var>).</li><li>If <var>numericPartsList</var> is not empty, append <var>numericPartsList</var> to <var>result</var>.</li><li>Set <var>numericUnitFound</var> to <emu-val>true</emu-val>.</li><li>Else,</li><li>Let <var>nfOpts</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>If <emu-xref aoid="NextUnitFractional" id="_ref_630"><a href="#sec-nextunitfractional">NextUnitFractional</a></emu-xref>(<var>durationFormat</var>, <var>unit</var>) is <emu-val>true</emu-val>, then</li><li>Set <var>value</var> to <var>value</var> + <emu-xref aoid="ComputeFractionalDigits" id="_ref_631"><a href="#sec-computefractionaldigits">ComputeFractionalDigits</a></emu-xref>(<var>durationFormat</var>, <var>duration</var>).</li><li>Let <var>fractionDigits</var> be <var>durationFormat</var>.<var class="field">[[FractionalDigits]]</var>.</li><li>If <var>fractionDigits</var> is <emu-val>undefined</emu-val>, then</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <emu-val>9</emu-val><sub>𝔽</sub>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <emu-val>+0</emu-val><sub>𝔽</sub>).</li><li>Else,</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <var>fractionDigits</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <var>fractionDigits</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"roundingMode"</emu-val>, <emu-val>"trunc"</emu-val>).</li><li>Set <var>numericUnitFound</var> to <emu-val>true</emu-val>.</li><li>If <var>display</var> is <emu-val>"always"</emu-val> or <var>value</var> is not 0, then</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var>).</li><li>If <var>signDisplayed</var> is <emu-val>true</emu-val>, then</li><li>Set <var>signDisplayed</var> to <emu-val>false</emu-val>.</li><li>If <var>value</var> is 0 and <emu-xref aoid="DurationSign" id="_ref_632"><a href="#sec-durationsign">DurationSign</a></emu-xref>(<var>duration</var>) is -1, set <var>value</var> to <emu-const>negative-zero</emu-const>.</li><li>Else,</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"style"</emu-val>, <emu-val>"unit"</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"unit"</emu-val>, <var>numberFormatUnit</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"unitDisplay"</emu-val>, <var>style</var>).</li><li>Let <var>nf</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_633"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;»).</li><li>Let <var>parts</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_634"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>value</var>).</li><li>Let <var>list</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <var>numberFormatUnit</var>&nbsp;} to
        <var>list</var>.</li><li>Append <var>list</var> to <var>result</var>.</li><li>Return <emu-xref aoid="ListFormatParts" id="_ref_635"><a href="#sec-listformatparts">ListFormatParts</a></emu-xref>(<var>durationFormat</var>, <var>result</var>).</li></ol></emu-alg>

      <emu-table id="table-partition-duration-format-pattern"><figure><figcaption>Table 24: DurationFormat instance internal slots and properties relevant to
          <emu-xref aoid="PartitionDurationFormatPattern" id="_ref_636"><a href="#sec-partitiondurationformatpattern">PartitionDurationFormatPattern</a></emu-xref></figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Value Field</th>
              <th>Internal Slot</th>
              <th>Unit</th>
              <th>NumberFormat Unit</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Years]]</var></td>
            <td><var class="field">[[YearsOptions]]</var></td>
            <td><emu-val>"years"</emu-val></td>
            <td><emu-val>"year"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Months]]</var></td>
            <td><var class="field">[[MonthsOptions]]</var></td>
            <td><emu-val>"months"</emu-val></td>
            <td><emu-val>"month"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Weeks]]</var></td>
            <td><var class="field">[[WeeksOptions]]</var></td>
            <td><emu-val>"weeks"</emu-val></td>
            <td><emu-val>"week"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Days]]</var></td>
            <td><var class="field">[[DaysOptions]]</var></td>
            <td><emu-val>"days"</emu-val></td>
            <td><emu-val>"day"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Hours]]</var></td>
            <td><var class="field">[[HoursOptions]]</var></td>
            <td><emu-val>"hours"</emu-val></td>
            <td><emu-val>"hour"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Minutes]]</var></td>
            <td><var class="field">[[MinutesOptions]]</var></td>
            <td><emu-val>"minutes"</emu-val></td>
            <td><emu-val>"minute"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Seconds]]</var></td>
            <td><var class="field">[[SecondsOptions]]</var></td>
            <td><emu-val>"seconds"</emu-val></td>
            <td><emu-val>"second"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Milliseconds]]</var></td>
            <td><var class="field">[[MillisecondsOptions]]</var></td>
            <td><emu-val>"milliseconds"</emu-val></td>
            <td><emu-val>"millisecond"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Microseconds]]</var></td>
            <td><var class="field">[[MicrosecondsOptions]]</var></td>
            <td><emu-val>"microseconds"</emu-val></td>
            <td><emu-val>"microsecond"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Nanoseconds]]</var></td>
            <td><var class="field">[[NanosecondsOptions]]</var></td>
            <td><emu-val>"nanoseconds"</emu-val></td>
            <td><emu-val>"nanosecond"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="listformat-objects">
  <h1><span class="secnum">14</span> ListFormat オブジェクト</h1>

  <emu-clause id="sec-intl-listformat-constructor">
    <h1><span class="secnum">14.1</span> Intl.ListFormat コンストラクター</h1>

    <p>Intl.ListFormat コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.ListFormat%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_637"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"ListFormat"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_638"><a href="#intl-object">Intl オブジェクト</a></emu-xref>のすべての<emu-xref href="#service-constructor" id="_ref_639"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_120"><a href="#sec-internal-slots">9.1</a></emu-xref> に記載されている。</p>

    <emu-clause id="sec-Intl.ListFormat">
      <h1><span class="secnum">14.1.1</span> Intl.ListFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.ListFormat</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外をスローする。</li><li><var>listFormat</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.ListFormat.prototype%"</emu-val>, «
        <var class="field">[[InitializedListFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Type]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Templates]]</var>&nbsp;») とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_640"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-listformat-constructor" id="_ref_641"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>, <emu-xref href="#sec-intl-listformat-constructor" id="_ref_642"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>,
        <var>options</var>) とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> に設定する。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> に設定する。</li><li><var>listFormat</var>.<var class="field">[[Locale]]</var> を <var>r</var>.<var class="field">[[Locale]]</var> に設定する。</li><li><var>type</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_643"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"type"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"conjunction"</emu-val>, <emu-val>"disjunction"</emu-val>, <emu-val>"unit"</emu-val>&nbsp;»,
        <emu-val>"conjunction"</emu-val>) とする。</li><li><var>listFormat</var>.<var class="field">[[Type]]</var> を <var>type</var> に設定する。</li><li><var>style</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_644"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>&nbsp;», <emu-val>"long"</emu-val>) とする。</li><li><var>listFormat</var>.<var class="field">[[Style]]</var> を <var>style</var> に設定する。</li><li><var>resolvedLocaleData</var> を <var>r</var>.<var class="field">[[LocaleData]]</var> に設定する。</li><li><var>dataLocaleTypes</var> を <var>resolvedLocaleData</var>.[[&lt;<var>type</var>&gt;]] に設定する。</li><li><var>listFormat</var>.<var class="field">[[Templates]]</var> を <var>dataLocaleTypes</var>.[[&lt;<var>style</var>&gt;]] に設定する。</li><li><var>listFormat</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-listformat-constructor">
    <h1><span class="secnum">14.2</span> Intl.ListFormat コンストラクターのプロパティ</h1>

    <p>Intl.ListFormat コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-Intl.ListFormat.prototype">
      <h1><span class="secnum">14.2.1</span> Intl.ListFormat.prototype</h1>

      <p><code>Intl.ListFormat.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-listformat-prototype-object" id="_ref_645"><a href="#sec-properties-of-intl-listformat-prototype-object">%Intl.ListFormat.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.supportedLocalesOf">
      <h1><span class="secnum">14.2.2</span> Intl.ListFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-listformat-constructor" id="_ref_646"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> とする。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_647"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_648"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat-internal-slots">
      <h1><span class="secnum">14.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_121"><a href="#sec-internal-slots">9.1</a></emu-xref> で記載された制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « » である。</p>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « » である。</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        Intl.ListFormat は関連する拡張キーを持たない。
      </div></emu-note>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_122"><a href="#sec-internal-slots">9.1</a></emu-xref> で記載された制約および次の追加制約内で実装依存である。各ロケール値
        <var>locale</var> について <emu-xref href="#sec-intl-listformat-constructor" id="_ref_649"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> 内:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> であり、3つのフィールド <var class="field">[[conjunction]]</var>, <var class="field">[[disjunction]]</var>, <var class="field">[[unit]]</var>
          を持つ。それぞれは3つの書式スタイル名 <var class="field">[[long]]</var>, <var class="field">[[short]]</var>, <var class="field">[[narrow]]</var> を持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である。</li>
        <li>各フィールドは <dfn tabindex="-1">ListFormat テンプレートセット</dfn> とみなされ、LDML <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> Format Rules で指定されたテンプレート文字列を持つ <var class="field">[[Pair]]</var>, <var class="field">[[Start]]</var>,
          <var class="field">[[Middle]]</var>, <var class="field">[[End]]</var> フィールド名の <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> のリストである。各テンプレート文字列は <emu-val>"{0}"</emu-val> と <emu-val>"{1}"</emu-val> を1回ずつ含む必要がある。<emu-val>"{0}"</emu-val> は <emu-val>"{1}"</emu-val>
          より前に現れるべきである。</li>
      </ul>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        実装では Common Locale Data Repository (<a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>)
        のロケールデータを使用することが推奨される。<a href="https://unicode.org/reports/tr35/tr35-general.html#ListPatterns">LDML の
          listPattern</a> では、<code>conjunction</code> は "standard"、<code>disjunction</code> は "or"、<code>unit</code> は "unit" に対応する。
      </div></emu-note>

      <emu-note><span class="note">Note 3</span><div class="note-contents">
        リストタイプのうち、<code>conjunction</code> は「and」ベースのリスト（例: "A, B, and C"）、<code>disjunction</code> は「or」ベースのリスト（例: "A, B, or C"）、<code>unit</code>
        は単位付き値のリスト（例: "5 pounds, 12 ounces"）を表す。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-listformat-prototype-object">
    <h1><span class="secnum">14.3</span> Intl.ListFormat プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.ListFormat プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.ListFormat.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.ListFormat インスタンスではなく、<var class="field">[[InitializedListFormat]]</var> 内部スロットや他の Intl.ListFormat インスタンスオブジェクトの内部スロットを持たない。</li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-Intl.ListFormat.prototype.constructor">
      <h1><span class="secnum">14.3.1</span> Intl.ListFormat.prototype.constructor</h1>

      <p><code>Intl.ListFormat.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-listformat-constructor" id="_ref_650"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype.resolvedoptions">
      <h1><span class="secnum">14.3.2</span> Intl.ListFormat.prototype.resolvedOptions ( )</h1>

      <p>この関数はオブジェクトの初期化時に計算されたロケールとオプションへのアクセスを提供する。</p>

      <emu-alg><ol><li><var>lf</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>lf</var>, <var class="field">[[InitializedListFormat]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><emu-xref href="#table-listformat-resolvedoptions-properties" id="_ref_123"><a href="#table-listformat-resolvedoptions-properties">Table 25</a></emu-xref> の各行（ヘッダー行を除く）について、テーブル順に:</li><li><var>p</var> を現在の行の Property 値とする。</li><li><var>v</var> を <var>lf</var> の内部スロットで、現在の行の Internal Slot 名の値とする。</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>v</var> は <emu-val>undefined</emu-val> ではない。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-listformat-resolvedoptions-properties"><figure><figcaption>Table 25: ListFormat インスタンスの解決済みオプション</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>プロパティ</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Type]]</var></td>
            <td><emu-val>"type"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype.format">
      <h1><span class="secnum">14.3.3</span> Intl.ListFormat.prototype.format ( <var>list</var> )</h1>

      <p><code>format</code> メソッドが引数 <var>list</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>lf</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>lf</var>, <var class="field">[[InitializedListFormat]]</var>) を実行する。</li><li><var>stringList</var> を ?&nbsp;<emu-xref aoid="StringListFromIterable" id="_ref_651"><a href="#sec-createstringlistfromiterable">StringListFromIterable</a></emu-xref>(<var>list</var>) とする。</li><li><emu-xref aoid="FormatList" id="_ref_652"><a href="#sec-formatlist">FormatList</a></emu-xref>(<var>lf</var>, <var>stringList</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype.formatToParts">
      <h1><span class="secnum">14.3.4</span> Intl.ListFormat.prototype.formatToParts ( <var>list</var> )</h1>

      <p><code>formatToParts</code> メソッドが引数 <var>list</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>lf</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>lf</var>, <var class="field">[[InitializedListFormat]]</var>) を実行する。</li><li><var>stringList</var> を ?&nbsp;<emu-xref aoid="StringListFromIterable" id="_ref_653"><a href="#sec-createstringlistfromiterable">StringListFromIterable</a></emu-xref>(<var>list</var>) とする。</li><li><emu-xref aoid="FormatListToParts" id="_ref_654"><a href="#sec-formatlisttoparts">FormatListToParts</a></emu-xref>(<var>lf</var>, <var>stringList</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype-toStringTag">
      <h1><span class="secnum">14.3.5</span> Intl.ListFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.ListFormat"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-listformat-instances">
    <h1><span class="secnum">14.4</span> Intl.ListFormat インスタンスのプロパティ</h1>

    <p>Intl.ListFormat インスタンスは <emu-xref href="#sec-properties-of-intl-listformat-prototype-object" id="_ref_655"><a href="#sec-properties-of-intl-listformat-prototype-object">%Intl.ListFormat.prototype%</a></emu-xref> からプロパティを継承する。</p>

    <p>Intl.ListFormat インスタンスは <var class="field">[[InitializedListFormat]]</var> 内部スロットを持つ。</p>

    <p>Intl.ListFormat インスタンスは <emu-xref href="#sec-intl-listformat-constructor" title="" id="_ref_124"><a href="#sec-intl-listformat-constructor">Intl.ListFormat コンストラクター</a></emu-xref> により計算される複数の内部スロットも持つ:
    </p>

    <ul>
      <li><var class="field">[[Locale]]</var> はリスト書式スタイルのローカライズに使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_656"><a href="#sec-language-tags">言語タグ</a></emu-xref>の文字列値である。</li>
      <li><var class="field">[[Type]]</var> は <emu-val>"conjunction"</emu-val>, <emu-val>"disjunction"</emu-val>, <emu-val>"unit"</emu-val> のいずれかの文字列値で、使用されるリストタイプを識別する。</li>
      <li><var class="field">[[Style]]</var> は <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> のいずれかの文字列値で、使用されるリスト書式スタイルを識別する。</li>
      <li><var class="field">[[Templates]]</var> は <emu-xref href="#sec-Intl.ListFormat-internal-slots" id="_ref_657"><a href="#sec-Intl.ListFormat-internal-slots">ListFormat テンプレートセット</a></emu-xref>である。</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-listformat-abstracts">
    <h1><span class="secnum">14.5</span> ListFormat オブジェクトの抽象操作</h1>

    <emu-clause id="sec-deconstructpattern" type="abstract operation" aoid="DeconstructPattern">
      <h1><span class="secnum">14.5.1</span> DeconstructPattern ( <var>pattern</var>, <var>placeables</var> )</h1>
      <p>The abstract operation DeconstructPattern takes arguments <var>pattern</var> (<emu-xref href="#sec-pattern-string-types" id="_ref_658"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>) and <var>placeables</var> (<emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>) and returns リスト. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>patternParts</var> を <emu-xref aoid="PartitionPattern" id="_ref_659"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>) とする。</li><li><var>result</var> を新しい空リストとする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> について:</li><li><var>part</var> を <var>patternPart</var>.<var class="field">[[Type]]</var> とする。</li><li><var>part</var> が <emu-val>"literal"</emu-val> の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>placeables</var> はフィールド [[&lt;<var>part</var>&gt;]] を持つ。</li><li><var>subst</var> を <var>placeables</var>.[[&lt;<var>part</var>&gt;]] とする。</li><li><var>subst</var> がリストの場合、</li><li>各要素 <var>s</var> について:</li><li><var>s</var> を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><var>subst</var> を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-createpartsfromlist" type="abstract operation" aoid="CreatePartsFromList">
      <h1><span class="secnum">14.5.2</span> CreatePartsFromList ( <var>listFormat</var>, <var>list</var> )</h1>
      <p>The abstract operation CreatePartsFromList takes arguments <var>listFormat</var> (Intl.ListFormat) and <var>list</var> (文字列のリスト) and returns フィールド <var class="field">[[Type]]</var> (<emu-val>"element"</emu-val> または <emu-val>"literal"</emu-val>) と <var class="field">[[Value]]</var>（文字列）を持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> のリスト. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>size</var> を <var>list</var> の要素数とする。</li><li><var>size</var> が 0 の場合、</li><li>新しい空リストを返す。</li><li><var>size</var> が 2 の場合、</li><li><var>n</var> を <var>listFormat</var>.<var class="field">[[Templates]]</var> 内のインデックスとし、<var>listFormat</var>.<var class="field">[[Locale]]</var>, <var>list</var>[0], <var>list</var>[1] に基づく。</li><li><var>pattern</var> を <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[Pair]]</var> とする。</li><li><var>first</var> を <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[0]&nbsp;} とする。</li><li><var>second</var> を <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[1]&nbsp;} とする。</li><li><var>placeables</var> を <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[0]]</var>: <var>first</var>, <var class="field">[[1]]</var>: <var>second</var>&nbsp;} とする。</li><li><emu-xref aoid="DeconstructPattern" id="_ref_660"><a href="#sec-deconstructpattern">DeconstructPattern</a></emu-xref>(<var>pattern</var>, <var>placeables</var>) を返す。</li><li><var>last</var> を <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[<var>size</var> - 1]&nbsp;} とする。</li><li><var>parts</var> を « <var>last</var>&nbsp;» とする。</li><li><var>i</var> を <var>size</var> - 2 とする。</li><li><var>i</var> ≥ 0 の間繰り返す:</li><li><var>head</var> を <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[<var>i</var>]&nbsp;} とする。</li><li><var>n</var> を <var>listFormat</var>.<var class="field">[[Templates]]</var> 内の実装依存インデックスとし、<var>listFormat</var>.<var class="field">[[Locale]]</var>, <var>head</var>, <var>parts</var> に基づく。</li><li><var>i</var> が 0 の場合、</li><li><var>pattern</var> を <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[Start]]</var> とする。</li><li><var>i</var> が <var>size</var> - 2 より小さい場合、</li><li><var>pattern</var> を <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[Middle]]</var> とする。</li><li>それ以外の場合、</li><li><var>pattern</var> を <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[End]]</var> とする。</li><li><var>placeables</var> を <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[0]]</var>: <var>head</var>, <var class="field">[[1]]</var>: <var>parts</var>&nbsp;} とする。</li><li><var>parts</var> を <emu-xref aoid="DeconstructPattern" id="_ref_661"><a href="#sec-deconstructpattern">DeconstructPattern</a></emu-xref>(<var>pattern</var>, <var>placeables</var>) に設定する。</li><li><var>i</var> を 1 減らす。</li><li><var>parts</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        複数テンプレートから選択するインデックス <var>n</var> により、スペイン語のように次の単語によって「y」または「e」が選択されるなど、接続詞が文脈に依存できる。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-formatlist" type="abstract operation" aoid="FormatList">
      <h1><span class="secnum">14.5.3</span> FormatList ( <var>listFormat</var>, <var>list</var> )</h1>
      <p>The abstract operation FormatList takes arguments <var>listFormat</var> (Intl.ListFormat) and <var>list</var> (文字列のリスト) and returns 文字列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を <emu-xref aoid="CreatePartsFromList" id="_ref_662"><a href="#sec-createpartsfromlist">CreatePartsFromList</a></emu-xref>(<var>listFormat</var>, <var>list</var>) とする。</li><li><var>result</var> を空文字列とする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について:</li><li><var>result</var> を <var>result</var> と <var>part</var>.<var class="field">[[Value]]</var> の文字列連結に設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatlisttoparts" type="abstract operation" aoid="FormatListToParts">
      <h1><span class="secnum">14.5.4</span> FormatListToParts ( <var>listFormat</var>, <var>list</var> )</h1>
      <p>The abstract operation FormatListToParts takes arguments <var>listFormat</var> (Intl.ListFormat) and <var>list</var> (文字列のリスト) and returns 配列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を <emu-xref aoid="CreatePartsFromList" id="_ref_663"><a href="#sec-createpartsfromlist">CreatePartsFromList</a></emu-xref>(<var>listFormat</var>, <var>list</var>) とする。</li><li><var>result</var> を !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0) とする。</li><li><var>n</var> を 0 とする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について:</li><li><var>O</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>) を実行する。</li><li><var>n</var> を 1 増やす。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-createstringlistfromiterable" type="abstract operation" aoid="StringListFromIterable">
      <h1><span class="secnum">14.5.5</span> StringListFromIterable ( <var>iterable</var> )</h1>
      <p>The abstract operation StringListFromIterable takes argument <var>iterable</var> (ECMAScript 言語値) and returns 正常完了の場合は文字列リスト、または throw 完了. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>iterable</var> が <emu-val>undefined</emu-val> の場合、</li><li>新しい空リストを返す。</li><li><var>iteratorRecord</var> を ?&nbsp;<emu-xref aoid="GetIterator"><a href="https://tc39.es/ecma262/#sec-getiterator">GetIterator</a></emu-xref>(<var>iterable</var>, <emu-const>sync</emu-const>) とする。</li><li><var>list</var> を新しい空リストとする。</li><li>繰り返す:</li><li><var>next</var> を ?&nbsp;<emu-xref aoid="IteratorStepValue"><a href="https://tc39.es/ecma262/#sec-iteratorstepvalue">IteratorStepValue</a></emu-xref>(<var>iteratorRecord</var>) とする。</li><li><var>next</var> が <emu-const>done</emu-const> の場合、</li><li><var>list</var> を返す。</li><li><var>next</var> が文字列でない場合、</li><li><var>error</var> を新規作成した <emu-val>TypeError</emu-val> オブジェクトで <emu-xref aoid="ThrowCompletion"><a href="https://tc39.es/ecma262/#sec-throwcompletion">ThrowCompletion</a></emu-xref> とする。</li><li>?&nbsp;<emu-xref aoid="IteratorClose"><a href="https://tc39.es/ecma262/#sec-iteratorclose">IteratorClose</a></emu-xref>(<var>iteratorRecord</var>, <var>error</var>) を返す。</li><li><var>next</var> を <var>list</var> に追加する。</li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>このアルゴリズムは文字列でない値に遭遇した場合例外を発生させる。なぜなら任意の値に対する明確なロケール対応の型変換がないためである。</p>
      </div></emu-note>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="locale-objects">
  <h1><span class="secnum">15</span> ロケールオブジェクト</h1>

  <emu-clause id="sec-intl-locale-constructor">
    <h1><span class="secnum">15.1</span> Intl.Locale コンストラクター</h1>

    <p>Intl.Locale コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.Locale%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_664"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"Locale"</emu-val> プロパティの初期値である。</li>
    </ul>

    <emu-clause id="sec-Intl.Locale">
      <h1><span class="secnum">15.1.1</span> Intl.Locale ( <var>tag</var> [ , <var>options</var> ] )</h1>

      <p><code>Intl.Locale</code> 関数が引数 <var>tag</var> とオプションの引数 <var>options</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg>#### ECMARKDOWN PARSE FAILED ####<pre>        1. NewTarget が *undefined* なら、*TypeError* 例外を投げる。
        1. _localeExtensionKeys_ を %Intl.Locale%.[[LocaleExtensionKeys]] とする。
        1. _internalSlotsList_ を « [[InitializedLocale]], [[Locale]], [[Calendar]], [[Collation]], [[FirstDayOfWeek]],
        [[HourCycle]], [[NumberingSystem]] » とする。
        1. _localeExtensionKeys_ に *"kf"* が含まれている場合、
        1. [[CaseFirst]] を _internalSlotsList_ に追加する。
        1. _localeExtensionKeys_ に *"kn"* が含まれている場合、
        1. [[Numeric]] を _internalSlotsList_ に追加する。
        1. _locale_ を ? OrdinaryCreateFromConstructor(NewTarget, *"%Intl.Locale.prototype%"*, _internalSlotsList_) とする。
        1. _tag_ が String でも Object でもない場合、*TypeError* 例外を投げる。
        1. _tag_ が Object で、[[InitializedLocale]] 内部スロットを持つ場合、
        1. _tag_ を _tag_.[[Locale]] とする。
        1. それ以外の場合、
        1. _tag_ を ? ToString(_tag_) とする。
        1. _options_ を ? CoerceOptionsToObject(_options_) とする。
        1. IsWellFormedLanguageTag(_tag_) が *false* なら、*RangeError* 例外を投げる。
        1. NOTE: <a href="https://unicode.org/reports/tr35/#processing-languageids">LanguageId の正規化</a>は、<a href="https://github.com/unicode-org/cldr/blob/main/common/supplemental/supplementalMetadata.xml"><code>supplementalMetadata.xml</code></a>
        の Alias Rules に従い、_tag_ を任意に変更する可能性があるため、_options_ からの上書きを適用する前に正規化を行う必要がある。
        1. _tag_ を CanonicalizeUnicodeLocaleId(_tag_) とする。
        1. _tag_ を ? UpdateLanguageId(_tag_, _options_) とする。
        1. _opt_ を新しい Record とする。
        1. _calendar_ を ? GetOption(_options_, *"calendar"*, ~string~, ~empty~, *undefined*) とする。
        1. _calendar_ が *undefined* でない場合、
        1. _calendar_ が <code>type</code> Unicode ロケール非終端記号にマッチしない場合、*RangeError* 例外を投げる。
        1. _opt_.[[ca]] を _calendar_ とする。
        1. _collation_ を ? GetOption(_options_, *"collation"*, ~string~, ~empty~, *undefined*) とする。
        1. _collation_ が *undefined* でない場合、
        1. _collation_ が <code>type</code> Unicode ロケール非終端記号にマッチしない場合、*RangeError* 例外を投げる。
        1. _opt_.[[co]] を _collation_ とする。
        1. _fw_ を ? GetOption(_options_, *"firstDayOfWeek"*, ~string~, ~empty~, *undefined*) とする。
        1. _fw_ が *undefined* でない場合、
        1. _fw_ を WeekdayToUValue(_fw_) とする。
        1. _fw_ が <code>type</code> Unicode ロケール非終端記号にマッチしない場合、*RangeError* 例外を投げる。
        1. _opt_.[[fw]] を _fw_ とする。
        1. _hc_ を ? GetOption(_options_, *"hourCycle"*, ~string~, « *"h11"*, *"h12"*, *"h23"*, *"h24"* », *undefined*)
        とする。
        1. _opt_.[[hc]] を _hc_ とする。
        1. _kf_ を ? GetOption(_options_, *"caseFirst"*, ~string~, « *"upper"*, *"lower"*, *"false"* », *undefined*) とする。
        1. _opt_.[[kf]] を _kf_ とする。
        1. _kn_ を ? GetOption(_options_, *"numeric"*, ~boolean~, ~empty~, *undefined*) とする。
        1. _kn_ が *undefined* でない場合、_kn_ を ! ToString(_kn_) とする。
        1. _opt_.[[kn]] を _kn_ とする。
        1. _numberingSystem_ を ? GetOption(_options_, *"numberingSystem"*, ~string~, ~empty~, *undefined*) とする。
        1. _numberingSystem_ が *undefined* でない場合、
        1. _numberingSystem_ が <code>type</code> Unicode ロケール非終端記号にマッチしない場合、*RangeError* 例外を投げる。
        1. _opt_.[[nu]] を _numberingSystem_ とする。
        1. _r_ を MakeLocaleRecord(_tag_, _opt_, _localeExtensionKeys_) とする。
        1. _locale_.[[Locale]] を _r_.[[locale]] とする。
        1. _locale_.[[Calendar]] を _r_.[[ca]] とする。
        1. _locale_.[[Collation]] を _r_.[[co]] とする。
        1. _locale_.[[FirstDayOfWeek]] を _r_.[[fw]] とする。
        1. _locale_.[[HourCycle]] を _r_.[[hc]] とする。
        1. _localeExtensionKeys_ に *"kf"* が含まれている場合、
        1. _locale_.[[CaseFirst]] を _r_.[[kf]] とする。
        1. _localeExtensionKeys_ に *"kn"* が含まれている場合、
        1. SameValue(_r_.[[kn]], *"true"*) が *true* または _r_.[[kn]] が空文字列の場合、
        1. _locale_.[[Numeric]] を *true* とする。
        1. それ以外の場合、
        1. _locale_.[[Numeric]] を *false* とする。
        1. _locale_.[[NumberingSystem]] を _r_.[[nu]] とする。
        1. _locale_ を返す。
      </pre></emu-alg>
    </emu-clause>

    <emu-clause id="sec-updatelanguageid" type="abstract operation" oldids="sec-apply-options-to-tag" aoid="UpdateLanguageId"><span id="sec-apply-options-to-tag"></span>
      <h1><span class="secnum">15.1.2</span> UpdateLanguageId ( <var>tag</var>, <var>options</var> )</h1>
      <p>The abstract operation UpdateLanguageId takes arguments <var>tag</var> (well-formed language tag) and <var>options</var> (オブジェクト) and returns 正常完了時は well-formed language tag、または <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>baseName</var> を <emu-xref aoid="GetLocaleBaseName" id="_ref_665"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>tag</var>) とする。</li><li><var>language</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_666"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"language"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleLanguage" id="_ref_667"><a href="#sec-getlocalelanguage">GetLocaleLanguage</a></emu-xref>(<var>baseName</var>)) とする。</li><li><var>language</var> が <code>unicode_language_subtag</code> Unicode ロケール非終端記号にマッチしない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>script</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_668"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"script"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleScript" id="_ref_669"><a href="#sec-getlocalescript">GetLocaleScript</a></emu-xref>(<var>baseName</var>)) とする。</li><li><var>script</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>script</var> が <code>unicode_script_subtag</code> Unicode ロケール非終端記号にマッチしない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>region</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_670"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"region"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleRegion" id="_ref_671"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>baseName</var>)) とする。</li><li><var>region</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>region</var> が <code>unicode_region_subtag</code> Unicode ロケール非終端記号にマッチしない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>variants</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_672"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"variants"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleVariants" id="_ref_673"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>baseName</var>)) とする。</li><li><var>variants</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>variants</var> が空文字列の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>lowerVariants</var> を <var>variants</var> の ASCII 小文字化とする。</li><li><var>variantSubtags</var> を <emu-xref aoid="StringSplitToList" id="_ref_674"><a href="#sec-string-split-to-list">StringSplitToList</a></emu-xref>(<var>lowerVariants</var>, <emu-val>"-"</emu-val>) とする。</li><li><var>variantSubtags</var> の各要素 <var>variant</var> について、</li><li><var>variant</var> が <code>unicode_variant_subtag</code> Unicode ロケール非終端記号にマッチしない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>variantSubtags</var> に重複要素がある場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>allExtensions</var> を <var>tag</var> の <var>baseName</var> の後ろのサフィックスとする。</li><li><var>newTag</var> を <var>language</var> とする。</li><li><var>script</var> が <emu-val>undefined</emu-val> でない場合、<var>newTag</var> を <var>newTag</var>、<emu-val>"-"</emu-val>, <var>script</var> の連結とする。</li><li><var>region</var> が <emu-val>undefined</emu-val> でない場合、<var>newTag</var> を <var>newTag</var>、<emu-val>"-"</emu-val>, <var>region</var> の連結とする。</li><li><var>variants</var> が <emu-val>undefined</emu-val> でない場合、<var>newTag</var> を <var>newTag</var>、<emu-val>"-"</emu-val>, <var>variants</var> の連結とする。</li><li><var>newTag</var> を <var>newTag</var> と <var>allExtensions</var> の連結とする。</li><li><var>newTag</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-makelocalerecord" type="abstract operation" oldids="sec-apply-unicode-extension-to-tag" aoid="MakeLocaleRecord"><span id="sec-apply-unicode-extension-to-tag"></span>
      <h1><span class="secnum">15.1.3</span> MakeLocaleRecord ( <var>tag</var>, <var>options</var>, <var>localeExtensionKeys</var> )</h1>
      <p>The abstract operation MakeLocaleRecord takes arguments <var>tag</var> (language tag), <var>options</var> (<emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>), and <var>localeExtensionKeys</var> (String のリスト) and returns <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>tag</var> が Unicode ロケール拡張シーケンスの <emu-not-ref>substring</emu-not-ref> を含む場合、</li><li><var>extension</var> を <var>tag</var> 内の Unicode ロケール拡張シーケンスの <emu-not-ref>substring</emu-not-ref> の String 値とする。</li><li><var>components</var> を <emu-xref aoid="UnicodeExtensionComponents" id="_ref_675"><a href="#sec-unicode-extension-components">UnicodeExtensionComponents</a></emu-xref>(<var>extension</var>) とする。</li><li><var>attributes</var> を <var>components</var>.<var class="field">[[Attributes]]</var> とする。</li><li><var>keywords</var> を <var>components</var>.<var class="field">[[Keywords]]</var> とする。</li><li>それ以外の場合、</li><li><var>attributes</var> を新しい空リストとする。</li><li><var>keywords</var> を新しい空リストとする。</li><li><var>result</var> を新しい <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> とする。</li><li><var>localeExtensionKeys</var> の各要素 <var>key</var> について、</li><li><var>keywords</var> に <var class="field">[[Key]]</var> が <var>key</var> の要素が含まれている場合、</li><li><var>entry</var> を <var>keywords</var> の <var class="field">[[Key]]</var> が <var>key</var> の要素とする。</li><li><var>value</var> を <var>entry</var>.<var class="field">[[Value]]</var> とする。</li><li>それ以外の場合、</li><li><var>entry</var> を <emu-const>empty</emu-const> とする。</li><li><var>value</var> を <emu-val>undefined</emu-val> とする。</li><li><var>options</var> が [[&lt;<var>key</var>&gt;]] フィールドを持つことをアサートする。</li><li><var>overrideValue</var> を <var>options</var>.[[&lt;<var>key</var>&gt;]] とする。</li><li><var>overrideValue</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>value</var> を CanonicalizeUValue(<var>key</var>, <var>overrideValue</var>) とする。</li><li><var>entry</var> が <emu-const>empty</emu-const> でない場合、</li><li><var>entry</var>.<var class="field">[[Value]]</var> を <var>value</var> とする。</li><li>それ以外の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Key]]</var>: <var>key</var>, <var class="field">[[Value]]</var>: <var>value</var>&nbsp;} を <var>keywords</var> に追加する。</li><li><var>result</var>.[[&lt;<var>key</var>&gt;]] を <var>value</var> とする。</li><li><var>locale</var> を <var>tag</var> から Unicode ロケール拡張シーケンスを除いた String 値とする。</li><li><var>attributes</var> が空でない、または <var>keywords</var> が空でない場合、</li><li><var>result</var>.<var class="field">[[locale]]</var> を <emu-xref aoid="InsertUnicodeExtensionAndCanonicalize" id="_ref_676"><a href="#sec-insert-unicode-extension-and-canonicalize">InsertUnicodeExtensionAndCanonicalize</a></emu-xref>(<var>locale</var>, <var>attributes</var>, <var>keywords</var>) とする。</li><li>それ以外の場合、</li><li><var>result</var>.<var class="field">[[locale]]</var> を <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_677"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>locale</var>) とする。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-locale-constructor">
    <h1><span class="secnum">15.2</span> Intl.Locale コンストラクターのプロパティ</h1>

    <p>Intl.Locale コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-Intl.Locale.prototype">
      <h1><span class="secnum">15.2.1</span> Intl.Locale.prototype</h1>

      <p><code>Intl.Locale.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-locale-prototype-object" id="_ref_678"><a href="#sec-properties-of-intl-locale-prototype-object">%Intl.Locale.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.locale-internal-slots">
      <h1><span class="secnum">15.2.2</span> 内部スロット</h1>

      <p><var class="field">[[LocaleExtensionKeys]]</var> 内部スロットの値は « <emu-val>"ca"</emu-val>, <emu-val>"co"</emu-val>, <emu-val>"fw"</emu-val>, <emu-val>"hc"</emu-val>, <emu-val>"nu"</emu-val> » の全要素を含み、さらに
        <emu-xref href="#sec-intl-collator-constructor" id="_ref_679"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[RelevantExtensionKeys]]</var> に含まれる « <emu-val>"kf"</emu-val>, <emu-val>"kn"</emu-val> » の要素も含み、他の要素は含まないリストである。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-locale-prototype-object">
    <h1><span class="secnum">15.3</span> Intl.Locale プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.Locale プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.Locale.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.Locale インスタンスではなく、<var class="field">[[InitializedLocale]]</var> 内部スロットや他の Intl.Locale インスタンスオブジェクトの内部スロットを持たない。</li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-Intl.Locale.prototype.constructor">
      <h1><span class="secnum">15.3.1</span> Intl.Locale.prototype.constructor</h1>

      <p><code>Intl.Locale.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-locale-constructor" id="_ref_680"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.baseName">
      <h1><span class="secnum">15.3.2</span> get Intl.Locale.prototype.baseName</h1>
      <p><code>Intl.Locale.prototype.baseName</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="GetLocaleBaseName" id="_ref_681"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.calendar">
      <h1><span class="secnum">15.3.3</span> get Intl.Locale.prototype.calendar</h1>
      <p><code>Intl.Locale.prototype.calendar</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[Calendar]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.caseFirst">
      <h1><span class="secnum">15.3.4</span> get Intl.Locale.prototype.caseFirst</h1>
      <p>このプロパティは <emu-xref href="#sec-intl-locale-constructor" id="_ref_682"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>.<var class="field">[[LocaleExtensionKeys]]</var> に <emu-val>"kf"</emu-val> が含まれている場合のみ存在する。</p>
      <p><code>Intl.Locale.prototype.caseFirst</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[CaseFirst]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.collation">
      <h1><span class="secnum">15.3.5</span> get Intl.Locale.prototype.collation</h1>
      <p><code>Intl.Locale.prototype.collation</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[Collation]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.firstDayOfWeek">
      <h1><span class="secnum">15.3.6</span> get Intl.Locale.prototype.firstDayOfWeek</h1>
      <p><code>Intl.Locale.prototype.firstDayOfWeek</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[FirstDayOfWeek]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.hourCycle">
      <h1><span class="secnum">15.3.7</span> get Intl.Locale.prototype.hourCycle</h1>
      <p><code>Intl.Locale.prototype.hourCycle</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[HourCycle]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.language">
      <h1><span class="secnum">15.3.8</span> get Intl.Locale.prototype.language</h1>
      <p><code>Intl.Locale.prototype.language</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="GetLocaleLanguage" id="_ref_683"><a href="#sec-getlocalelanguage">GetLocaleLanguage</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.maximize">
      <h1><span class="secnum">15.3.9</span> Intl.Locale.prototype.maximize ( )</h1>

      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>maximal</var> を <a href="https://unicode.org/reports/tr35/#Likely_Subtags">Add Likely Subtags</a> アルゴリズムを
        <var>loc</var>.<var class="field">[[Locale]]</var> に適用した結果とする。エラーが発生した場合、<var>maximal</var> を <var>loc</var>.<var class="field">[[Locale]]</var> とする。</li><li>!&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-locale-constructor" id="_ref_684"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>, <var>maximal</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.minimize">
      <h1><span class="secnum">15.3.10</span> Intl.Locale.prototype.minimize ( )</h1>

      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>minimal</var> を <a href="https://unicode.org/reports/tr35/#Likely_Subtags">Remove Likely Subtags</a> アルゴリズムを
        <var>loc</var>.<var class="field">[[Locale]]</var> に適用した結果とする。エラーが発生した場合、<var>minimal</var> を <var>loc</var>.<var class="field">[[Locale]]</var> とする。</li><li>!&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-locale-constructor" id="_ref_685"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>, <var>minimal</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.numberingSystem">
      <h1><span class="secnum">15.3.11</span> get Intl.Locale.prototype.numberingSystem</h1>
      <p><code>Intl.Locale.prototype.numberingSystem</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[NumberingSystem]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.numeric">
      <h1><span class="secnum">15.3.12</span> get Intl.Locale.prototype.numeric</h1>
      <p>このプロパティは <emu-xref href="#sec-intl-locale-constructor" id="_ref_686"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>.<var class="field">[[LocaleExtensionKeys]]</var> に <emu-val>"kn"</emu-val> が含まれている場合のみ存在する。</p>
      <p><code>Intl.Locale.prototype.numeric</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[Numeric]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.region">
      <h1><span class="secnum">15.3.13</span> get Intl.Locale.prototype.region</h1>
      <p><code>Intl.Locale.prototype.region</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="GetLocaleRegion" id="_ref_687"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.script">
      <h1><span class="secnum">15.3.14</span> get Intl.Locale.prototype.script</h1>
      <p><code>Intl.Locale.prototype.script</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="GetLocaleScript" id="_ref_688"><a href="#sec-getlocalescript">GetLocaleScript</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.toString">
      <h1><span class="secnum">15.3.15</span> Intl.Locale.prototype.toString ( )</h1>

      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>loc</var>.<var class="field">[[Locale]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.getCalendars">
      <h1><span class="secnum">15.3.16</span> Intl.Locale.prototype.getCalendars ( )</h1>
      <p><code>getCalendars</code> メソッドが呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="CalendarsOfLocale" id="_ref_689"><a href="#sec-calendarsoflocale">CalendarsOfLocale</a></emu-xref>(<var>loc</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.getCollations">
      <h1><span class="secnum">15.3.17</span> Intl.Locale.prototype.getCollations ( )</h1>
      <p><code>getCollations</code> メソッドが呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="CollationsOfLocale" id="_ref_690"><a href="#sec-collationsoflocale">CollationsOfLocale</a></emu-xref>(<var>loc</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.getHourCycles">
      <h1><span class="secnum">15.3.18</span> Intl.Locale.prototype.getHourCycles ( )</h1>
      <p><code>getHourCycles</code> メソッドが呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="HourCyclesOfLocale" id="_ref_691"><a href="#sec-hourcyclesoflocale">HourCyclesOfLocale</a></emu-xref>(<var>loc</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.getNumberingSystems">
      <h1><span class="secnum">15.3.19</span> Intl.Locale.prototype.getNumberingSystems ( )</h1>
      <p><code>getNumberingSystems</code> メソッドが呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="NumberingSystemsOfLocale" id="_ref_692"><a href="#sec-numberingsystemsoflocale">NumberingSystemsOfLocale</a></emu-xref>(<var>loc</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.getTimeZones">
      <h1><span class="secnum">15.3.20</span> Intl.Locale.prototype.getTimeZones ( )</h1>
      <p><code>getTimeZones</code> メソッドが呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="TimeZonesOfLocale" id="_ref_693"><a href="#sec-timezonesoflocale">TimeZonesOfLocale</a></emu-xref>(<var>loc</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.getTextInfo">
      <h1><span class="secnum">15.3.21</span> Intl.Locale.prototype.getTextInfo ( )</h1>
      <p><code>getTextInfo</code> メソッドが呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>info</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><var>dir</var> を <emu-xref aoid="TextDirectionOfLocale" id="_ref_694"><a href="#sec-textdirectionoflocale">TextDirectionOfLocale</a></emu-xref>(<var>loc</var>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>info</var>, <emu-val>"direction"</emu-val>, <var>dir</var>) を実行する。</li><li><var>info</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.getWeekInfo">
      <h1><span class="secnum">15.3.22</span> Intl.Locale.prototype.getWeekInfo ( )</h1>
      <p><code>getWeekInfo</code> メソッドが呼び出された場合、次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><var>info</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><var>wi</var> を <emu-xref aoid="WeekInfoOfLocale" id="_ref_695"><a href="#sec-weekinfooflocale">WeekInfoOfLocale</a></emu-xref>(<var>loc</var>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>info</var>, <emu-val>"firstDay"</emu-val>, <var>wi</var>.<var class="field">[[FirstDay]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>info</var>, <emu-val>"weekend"</emu-val>, <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>wi</var>.<var class="field">[[Weekend]]</var>)) を実行する。</li><li><var>info</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.variants">
      <h1><span class="secnum">15.3.23</span> get Intl.Locale.prototype.variants</h1>
      <p><code>Intl.Locale.prototype.variants</code> はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val>。get アクセサー関数は次の手順を実行する:</p>
      <emu-alg><ol><li><var>loc</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>) を実行する。</li><li><emu-xref aoid="GetLocaleVariants" id="_ref_696"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.locale.prototype-%symbol.tostringtag%" oldids="sec-Intl.Locale.prototype-@@tostringtag"><span id="sec-Intl.Locale.prototype-@@tostringtag"></span>
      <h1><span class="secnum">15.3.24</span> Intl.Locale.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.Locale"</emu-val> である。</p>

      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-locale-instances">
    <h1><span class="secnum">15.4</span> Intl.Locale インスタンスのプロパティ</h1>

    <p>Intl.Locale インスタンスは通常のオブジェクトであり、<emu-xref href="#sec-properties-of-intl-locale-prototype-object" id="_ref_697"><a href="#sec-properties-of-intl-locale-prototype-object">%Intl.Locale.prototype%</a></emu-xref> からプロパティを継承する。</p>

    <p>Intl.Locale インスタンスは <var class="field">[[InitializedLocale]]</var> 内部スロットを持つ。</p>

    <p>Intl.Locale インスタンスは、<emu-xref href="#sec-intl-locale-constructor" title="" id="_ref_125"><a href="#sec-intl-locale-constructor">Intl.Locale コンストラクター</a></emu-xref> によって計算される複数の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> はロケールの<emu-xref href="#sec-language-tags" id="_ref_698"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値であり、そのローカリゼーションがフォーマットに使用される。</li>
      <li><var class="field">[[Calendar]]</var> は <emu-val>undefined</emu-val> または <a href="https://unicode.org/reports/tr35/#UnicodeCalendarIdentifier">Unicode
          カレンダー識別子</a> の正規化された形式の文字列値である。</li>
      <li><var class="field">[[Collation]]</var> は <emu-val>undefined</emu-val> または <a href="https://unicode.org/reports/tr35/#UnicodeCollationIdentifier">Unicode
          コレーション識別子</a> の正規化された形式の文字列値である。</li>
      <li><var class="field">[[FirstDayOfWeek]]</var> は <emu-val>undefined</emu-val> または <a href="https://unicode.org/reports/tr35/#UnicodeFirstDayIdentifier">Unicode First Day Identifier</a>
        の正規化された形式の文字列値である。</li>
      <li><var class="field">[[HourCycle]]</var> は <emu-val>undefined</emu-val> または <a href="https://unicode.org/reports/tr35/#UnicodeHourCycleIdentifier">Unicode
          Hour Cycle Identifier</a> の正規化された形式の文字列値である。</li>
      <li><var class="field">[[NumberingSystem]]</var> は <emu-val>undefined</emu-val> または <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a>
        の正規化された形式の文字列値である。</li>
      <li><var class="field">[[CaseFirst]]</var> は <emu-val>undefined</emu-val> または文字列値 <emu-val>"upper"</emu-val>, <emu-val>"lower"</emu-val>, <emu-val>"false"</emu-val> のいずれかである。この内部スロットは <emu-xref href="#sec-intl-locale-constructor" id="_ref_699"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref> の
        <var class="field">[[LocaleExtensionKeys]]</var> 内部スロットに <emu-val>"kf"</emu-val> が含まれている場合のみ存在する。</li>
      <li><var class="field">[[Numeric]]</var> は <emu-val>undefined</emu-val> またはロケールで数値ソートが使用されるかどうかを指定するブール値である。この内部スロットは <emu-xref href="#sec-intl-locale-constructor" id="_ref_700"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref> の
        <var class="field">[[LocaleExtensionKeys]]</var> 内部スロットに <emu-val>"kn"</emu-val> が含まれている場合のみ存在する。</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-locale-abstracts">
    <h1><span class="secnum">15.5</span> ロケールオブジェクトの抽象操作</h1>

    <emu-clause id="sec-getlocalebasename" type="abstract operation" aoid="GetLocaleBaseName">
      <h1><span class="secnum">15.5.1</span> GetLocaleBaseName ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleBaseName takes argument <var>locale</var> (文字列) and returns 文字列. It performs the following steps when called:</p>
      <emu-alg><ol><li>アサート: <var>locale</var> は <code>unicode_locale_id</code> Unicode ロケール非終端記号にマッチできる。</li><li><var>locale</var> のうち、<code>unicode_language_id</code> Unicode ロケール非終端記号にマッチする最長の接頭辞を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocalelanguage" type="abstract operation" aoid="GetLocaleLanguage">
      <h1><span class="secnum">15.5.2</span> GetLocaleLanguage ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleLanguage takes argument <var>locale</var> (文字列) and returns 文字列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>baseName</var> を <emu-xref aoid="GetLocaleBaseName" id="_ref_701"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>) とする。</li><li>アサート: <var>baseName</var> の最初の<emu-xref href="#bcp-47-subtag" id="_ref_702"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>は <code>unicode_language_subtag</code> Unicode ロケール非終端記号にマッチできる。</li><li><var>baseName</var> の最初の<emu-xref href="#bcp-47-subtag" id="_ref_703"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocalescript" type="abstract operation" aoid="GetLocaleScript">
      <h1><span class="secnum">15.5.3</span> GetLocaleScript ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleScript takes argument <var>locale</var> (文字列) and returns 文字列 または <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>baseName</var> を <emu-xref aoid="GetLocaleBaseName" id="_ref_704"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>) とする。</li><li>アサート: <var>baseName</var> は <code>unicode_script_subtag</code> Unicode ロケール非終端記号にマッチする<emu-xref href="#bcp-47-subtag" id="_ref_705"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を最大1つ含む。</li><li><var>baseName</var> が <code>unicode_script_subtag</code> Unicode ロケール非終端記号にマッチする<emu-xref href="#bcp-47-subtag" id="_ref_706"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を含む場合、その<emu-xref href="#bcp-47-subtag" id="_ref_707"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を返す。</li><li><emu-val>undefined</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocaleregion" type="abstract operation" aoid="GetLocaleRegion">
      <h1><span class="secnum">15.5.4</span> GetLocaleRegion ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleRegion takes argument <var>locale</var> (文字列) and returns 文字列 または <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>baseName</var> を <emu-xref aoid="GetLocaleBaseName" id="_ref_708"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>) とする。</li><li>注: <code>unicode_region_subtag</code> <emu-xref href="#bcp-47-subtag" id="_ref_709"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>は、初期の <code>unicode_language_subtag</code> <emu-xref href="#bcp-47-subtag" id="_ref_710"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>の直後、オプションで1つの
        <code>unicode_script_subtag</code> <emu-xref href="#bcp-47-subtag" id="_ref_711"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を挟んだ位置のみ有効である。その位置では、<code>unicode_region_subtag</code>
        は他の有効な<emu-xref href="#bcp-47-subtag" id="_ref_712"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>と混同されることはない。すべての生成規則は互いに重複しない。</li><li>アサート: <var>baseName</var> の最初の<emu-xref href="#bcp-47-subtag" id="_ref_713"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>は <code>unicode_language_subtag</code> Unicode ロケール非終端記号にマッチできる。</li><li><var>baseNameTail</var> を <var>baseName</var> の最初の<emu-xref href="#bcp-47-subtag" id="_ref_714"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>の後ろの接尾辞とする。</li><li>アサート: <var>baseNameTail</var> は <code>unicode_region_subtag</code> Unicode ロケール非終端記号にマッチする<emu-xref href="#bcp-47-subtag" id="_ref_715"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を最大1つ含む。</li><li><var>baseNameTail</var> が <code>unicode_region_subtag</code> Unicode ロケール非終端記号にマッチする<emu-xref href="#bcp-47-subtag" id="_ref_716"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を含む場合、その<emu-xref href="#bcp-47-subtag" id="_ref_717"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>を返す。</li><li><emu-val>undefined</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocalevariants" type="abstract operation" aoid="GetLocaleVariants">
      <h1><span class="secnum">15.5.5</span> GetLocaleVariants ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleVariants takes argument <var>locale</var> (文字列) and returns 文字列 または <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>baseName</var> を <emu-xref aoid="GetLocaleBaseName" id="_ref_718"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>) とする。</li><li>注: <var>baseName</var> 内の <emu-val>"-"</emu-val> で始まる各<emu-xref href="#bcp-47-subtag" id="_ref_719"><a href="#bcp-47-subtag">サブタグ</a></emu-xref>は <code>unicode_script_subtag</code>, <code>unicode_region_subtag</code>, または
        <code>unicode_variant_subtag</code> のいずれかであるが、<code>unicode_variant_subtag</code> にマッチする
        <emu-not-ref>substring</emu-not-ref> は、他の生成規則にマッチする任意の接頭辞よりも厳密に長い。</li><li><var>variants</var> を、<var>baseName</var> のうち <emu-val>"-"</emu-val> で始まり、<emu-not-ref>substring</emu-not-ref> が
        <code>unicode_variant_subtag</code> Unicode ロケール非終端記号にマッチする最長の接尾辞とする。該当する接尾辞がなければ <emu-val>undefined</emu-val> を返す。</li><li><var>variants</var> の1からの部分文字列を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-unicodeextensionvalue" type="abstract operation" aoid="UnicodeExtensionValue">
      <h1><span class="secnum">15.5.6</span> UnicodeExtensionValue ( <var>locale</var>, <var>key</var> )</h1>
      <p>The abstract operation UnicodeExtensionValue takes arguments <var>locale</var> (Unicode 正規化ロケール識別子) and <var>key</var> (文字列) and returns 文字列 または <emu-const>empty</emu-const>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>locale</var> が Unicode ロケール拡張シーケンスを含む場合、</li><li><var>extension</var> を <var>locale</var> の Unicode ロケール拡張シーケンスとする。</li><li><var>components</var> を <emu-xref aoid="UnicodeExtensionComponents" id="_ref_720"><a href="#sec-unicode-extension-components">UnicodeExtensionComponents</a></emu-xref>(<var>extension</var>) とする。</li><li><var>keywords</var> を <var>components</var>.<var class="field">[[Keywords]]</var> とする。</li><li><var>keywords</var> の要素 <var>entry</var> のうち、<var>entry</var>.<var class="field">[[Key]]</var> が <var>key</var> のものが存在する場合、<var>entry</var>.<var class="field">[[Value]]</var> を返す。</li><li><emu-const>empty</emu-const> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-canonicalunicodesubdivision" type="abstract operation" aoid="CanonicalUnicodeSubdivision">
      <h1><span class="secnum">15.5.7</span> CanonicalUnicodeSubdivision ( <var>locale</var>, <var>key</var> )</h1>
      <p>The abstract operation CanonicalUnicodeSubdivision takes arguments <var>locale</var> (Unicode 正規化ロケール識別子) and <var>key</var> (<emu-val>"rg"</emu-val> または <emu-val>"sd"</emu-val>) and returns 文字列 または <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>subdivision</var> を <emu-xref aoid="UnicodeExtensionValue" id="_ref_721"><a href="#sec-unicodeextensionvalue">UnicodeExtensionValue</a></emu-xref>(<var>locale</var>, <var>key</var>) とする。</li><li><var>subdivision</var> が <emu-const>empty</emu-const> なら <emu-val>undefined</emu-val> を返す。</li><li><var>subdivision</var> が <code>unicode_subdivision_id</code> Unicode ロケール非終端記号にマッチできない場合、<emu-val>undefined</emu-val> を返す。</li><li><var>region</var> を <var>subdivision</var> のうち <code>unicode_region_subtag</code> Unicode ロケール非終端記号にマッチする最長の接頭辞とする。</li><li><var>regionLocale</var> を <emu-val>"und-"</emu-val> と <var>region</var> の連結とする。</li><li><var>regionLocale</var> を <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_722"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>regionLocale</var>) とする。</li><li><emu-xref aoid="GetLocaleRegion" id="_ref_723"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>regionLocale</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-regionpreference" type="abstract operation" aoid="RegionPreference">
      <h1><span class="secnum">15.5.8</span> RegionPreference ( <var>locale</var> )</h1>
      <p>The abstract operation RegionPreference takes argument <var>locale</var> (Unicode 正規化ロケール識別子) and returns <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Region]]</var>: 文字列, <var class="field">[[RegionOverride]]</var>: 文字列 または <emu-val>undefined</emu-val> }. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>region</var> を <emu-xref aoid="GetLocaleRegion" id="_ref_724"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>locale</var>) とする。</li><li><var>region</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>region</var> を <emu-xref aoid="CanonicalUnicodeSubdivision" id="_ref_725"><a href="#sec-canonicalunicodesubdivision">CanonicalUnicodeSubdivision</a></emu-xref>(<var>locale</var>, <emu-val>"sd"</emu-val>) とする。</li><li><var>region</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>maximal</var> を <a href="https://unicode.org/reports/tr35/#Likely_Subtags">Add Likely Subtags</a> アルゴリズムを
        <var>locale</var> に適用した結果とする。エラーが発生した場合、<var>maximal</var> を <var>locale</var> とする。</li><li><var>maximal</var> を <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_726"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>maximal</var>) とする。</li><li><var>region</var> を <emu-xref aoid="GetLocaleRegion" id="_ref_727"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>maximal</var>) とする。</li><li><var>region</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>region</var> を <emu-val>"001"</emu-val> とする。</li><li><var>regionOverride</var> を <emu-xref aoid="CanonicalUnicodeSubdivision" id="_ref_728"><a href="#sec-canonicalunicodesubdivision">CanonicalUnicodeSubdivision</a></emu-xref>(<var>locale</var>, <emu-val>"rg"</emu-val>) とする。</li><li>{ <var class="field">[[Region]]</var>: <var>region</var>, <var class="field">[[RegionOverride]]</var>: <var>regionOverride</var>&nbsp;} を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-calendarsoflocale" type="implementation-defined abstract operation" aoid="CalendarsOfLocale">
      <h1><span class="secnum">15.5.9</span> CalendarsOfLocale ( <var>loc</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CalendarsOfLocale takes argument <var>loc</var> (Intl.Locale) and returns 配列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>loc</var>.<var class="field">[[Calendar]]</var> が <emu-val>undefined</emu-val> でない場合、</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(« <var>loc</var>.<var class="field">[[Calendar]]</var>&nbsp;») を返す。</li><li><var>preference</var> を <emu-xref aoid="RegionPreference" id="_ref_729"><a href="#sec-regionpreference">RegionPreference</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) とする。</li><li><var>region</var> を <var>preference</var>.<var class="field">[[Region]]</var> とする。</li><li><var>regionOverride</var> を <var>preference</var>.<var class="field">[[RegionOverride]]</var> とする。</li><li><var>regionOverride</var> が <emu-val>undefined</emu-val> でなく、<var>regionOverride</var> のカレンダー優先データが利用可能な場合、</li><li><var>lookupRegion</var> を <var>regionOverride</var> とする。</li><li>それ以外の場合、</li><li><var>lookupRegion</var> を <var>region</var> とする。</li><li><var>list</var> を、<var>lookupRegion</var> で日付や時刻のフォーマットに一般的に使われるカレンダー型の正規化形式 (<emu-xref href="#sec-calendar-types" id="_ref_126"><a href="#sec-calendar-types">6.9</a></emu-xref>)
        のユニークなリストで、優先度順に降順ソートしたものとする。<var>lookupRegion</var> のカレンダー優先データが利用できない場合は空リストとする。</li><li><var>list</var> が空の場合、<var>list</var> を « <emu-val>"gregory"</emu-val>&nbsp;» とする。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>list</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-collationsoflocale" type="implementation-defined abstract operation" aoid="CollationsOfLocale">
      <h1><span class="secnum">15.5.10</span> CollationsOfLocale ( <var>loc</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CollationsOfLocale takes argument <var>loc</var> (Intl.Locale) and returns 配列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>loc</var>.<var class="field">[[Collation]]</var> が <emu-val>undefined</emu-val> でない場合、</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(« <var>loc</var>.<var class="field">[[Collation]]</var>&nbsp;») を返す。</li><li><var>language</var> を <emu-xref aoid="GetLocaleLanguage" id="_ref_730"><a href="#sec-getlocalelanguage">GetLocaleLanguage</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) とする。</li><li><var>language</var> が <emu-val>"und"</emu-val> でない場合、</li><li><var>r</var> を <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_731"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<emu-xref href="#sec-intl-collator-constructor" id="_ref_732"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>, « <var>loc</var>.<var class="field">[[Locale]]</var>&nbsp;») とする。</li><li><var>r</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>foundLocale</var> を <var>r</var>.<var class="field">[[locale]]</var> とする。</li><li>それ以外の場合、</li><li><var>foundLocale</var> を <emu-xref aoid="DefaultLocale" id="_ref_733"><a href="#sec-defaultlocale">DefaultLocale</a></emu-xref>() とする。</li><li><var>foundLocaleData</var> を <emu-xref href="#sec-intl-collator-constructor" id="_ref_734"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[SortLocaleData]]</var>.[[&lt;<var>foundLocale</var>&gt;]] とする。</li><li><var>list</var> を <var>foundLocaleData</var>.<var class="field">[[co]]</var> のコピーとする。</li><li>アサート: <var>list</var>[0] は <emu-val>null</emu-val> である。</li><li><var>list</var> の最初の要素を削除する。</li><li>それ以外の場合、</li><li><var>list</var> を « <emu-val>"emoji"</emu-val>, <emu-val>"eor"</emu-val>&nbsp;» とする。</li><li><var>sorted</var> を <var>list</var> のコピーで、コードユニット順にソートしたものとする。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>sorted</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-hourcyclesoflocale" type="implementation-defined abstract operation" aoid="HourCyclesOfLocale">
      <h1><span class="secnum">15.5.11</span> HourCyclesOfLocale ( <var>loc</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation HourCyclesOfLocale takes argument <var>loc</var> (Intl.Locale) and returns 配列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>loc</var>.<var class="field">[[HourCycle]]</var> が <emu-val>undefined</emu-val> でない場合、</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(« <var>loc</var>.<var class="field">[[HourCycle]]</var>&nbsp;») を返す。</li><li><var>preference</var> を <emu-xref aoid="RegionPreference" id="_ref_735"><a href="#sec-regionpreference">RegionPreference</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) とする。</li><li><var>region</var> を <var>preference</var>.<var class="field">[[Region]]</var> とする。</li><li><var>regionOverride</var> を <var>preference</var>.<var class="field">[[RegionOverride]]</var> とする。</li><li><var>regionOverride</var> が <emu-val>undefined</emu-val> でなく、<var>regionOverride</var> の時刻データが利用可能な場合、</li><li><var>lookupRegion</var> を <var>regionOverride</var> とする。</li><li>それ以外の場合、</li><li><var>lookupRegion</var> を <var>region</var> とする。</li><li><var>list</var> を、<var>lookupRegion</var> で日付や時刻のフォーマットに一般的に使われるユニークな時間周期識別子（小文字の文字列値で <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val>
        のいずれか）、優先度順に降順ソートしたリストとする。<var>lookupRegion</var> の時刻データが利用できない場合は空リストとする。</li><li><var>list</var> が空の場合、<var>list</var> を « <emu-val>"h23"</emu-val>&nbsp;» とする。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>list</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numberingsystemsoflocale" type="implementation-defined abstract operation" aoid="NumberingSystemsOfLocale">
      <h1><span class="secnum">15.5.12</span> NumberingSystemsOfLocale ( <var>loc</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation NumberingSystemsOfLocale takes argument <var>loc</var> (Intl.Locale) and returns 配列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>loc</var>.<var class="field">[[NumberingSystem]]</var> が <emu-val>undefined</emu-val> でない場合、</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(« <var>loc</var>.<var class="field">[[NumberingSystem]]</var>&nbsp;») を返す。</li><li><var>r</var> を <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_736"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_737"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>, « <var>loc</var>.<var class="field">[[Locale]]</var>&nbsp;») とする。</li><li><var>r</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>foundLocale</var> を <var>r</var>.<var class="field">[[locale]]</var> とする。</li><li><var>foundLocaleData</var> を <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_738"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>.[[&lt;<var>foundLocale</var>&gt;]] とする。</li><li><var>numberingSystems</var> を <var>foundLocaleData</var>.<var class="field">[[nu]]</var> とする。</li><li><var>list</var> を « <var>numberingSystems</var>[0]&nbsp;» とする。</li><li>それ以外の場合、</li><li><var>list</var> を « <emu-val>"latn"</emu-val>&nbsp;» とする。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>list</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-timezonesoflocale" type="implementation-defined abstract operation" aoid="TimeZonesOfLocale">
      <h1><span class="secnum">15.5.13</span> TimeZonesOfLocale ( <var>loc</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation TimeZonesOfLocale takes argument <var>loc</var> (Intl.Locale) and returns 配列 または <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>region</var> を <emu-xref aoid="GetLocaleRegion" id="_ref_739"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>) とする。</li><li><var>region</var> が <emu-val>undefined</emu-val> の場合、<emu-val>undefined</emu-val> を返す。</li><li><var>list</var> を、<var>region</var> で一般的に使われるユニークな正規化タイムゾーン識別子（IANAタイムゾーンデータベースの正規Zone名の文字列値）のリストとする。<var>region</var>
        で一般的に使われるタイムゾーンがない場合は空リストとする。リストはコードユニット順にソートする。</li><li><emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>list</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-textdirectionoflocale" type="implementation-defined abstract operation" aoid="TextDirectionOfLocale">
      <h1><span class="secnum">15.5.14</span> TextDirectionOfLocale ( <var>loc</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation TextDirectionOfLocale takes argument <var>loc</var> (an Intl.Locale) and returns a String or <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>locale</var> を <var>loc</var>.<var class="field">[[Locale]]</var> とする。</li><li><var>script</var> を <emu-xref aoid="GetLocaleScript" id="_ref_740"><a href="#sec-getlocalescript">GetLocaleScript</a></emu-xref>(<var>locale</var>) とする。</li><li><var>script</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>maximal</var> を <a href="https://unicode.org/reports/tr35/#Likely_Subtags">Add Likely
          Subtags</a> アルゴリズムを <var>locale</var> に適用した結果とする。エラーが発生した場合、<emu-val>undefined</emu-val> を返す。</li><li><var>script</var> を <emu-xref aoid="GetLocaleScript" id="_ref_741"><a href="#sec-getlocalescript">GetLocaleScript</a></emu-xref>(<var>maximal</var>) とする。</li><li><var>script</var> が <emu-val>undefined</emu-val> の場合、<emu-val>undefined</emu-val> を返す。</li><li><var>script</var> の行内文字の一般的な並び順が右から左の場合、<emu-val>"rtl"</emu-val> を返す。</li><li><var>script</var> の行内文字の一般的な並び順が左から右の場合、<emu-val>"ltr"</emu-val> を返す。</li><li><emu-val>undefined</emu-val> を返す。</li></ol></emu-alg>
      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <var>script</var> の行内文字の一般的な並び順が判定できない場合や、右から左でも左から右でもない場合は、<emu-val>undefined</emu-val> が返される。
      </div></emu-note>
      <emu-note><span class="note">Note 2</span><div class="note-contents">
        言語のテキストには複数の方向性が存在する場合がある。ある言語があるスクリプトで書かれている場合でも、複数の方向性が存在する場合がある。そのため、テキストに関連付けられたメタデータに方向情報が含まれている場合、その方向情報を主な情報源とすべきである。TextDirectionOfLocale
        が返す情報は、テキストに方向情報のメタデータがない場合のフォールバックとしてのみ利用すべきである。方向情報が存在せず、言語情報のみが分かっている場合に限り利用すべきである。Web 開発者はテキストの方向を決定する際、この
        API のみに過度に依存しないよう注意すること。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-weekdaytouvalue" type="abstract operation" aoid="WeekdayToUValue">
      <h1><span class="secnum">15.5.15</span> WeekdayToUValue ( <var>fw</var> )</h1>
      <p>The abstract operation WeekdayToUValue takes argument <var>fw</var> (a String) and returns a String. It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#table-locale-weekday-string-value" id="_ref_127"><a href="#table-locale-weekday-string-value">Table 26</a></emu-xref> の各行（ヘッダー行を除く）について、表順に次を行う。</li><li>現在の行の Weekday 値を <var>w</var> とする。</li><li>現在の行の String 値を <var>s</var> とする。</li><li><var>fw</var> が <var>w</var> と等しい場合、<var>s</var> を返す。</li><li><var>fw</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-locale-weekday-string-value"><figure><figcaption>Table 26: 曜日の文字列と値</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Weekday</th>
              <th>String</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><emu-val>"0"</emu-val></td>
            <td><emu-val>"sun"</emu-val></td>
            <td><emu-val>7</emu-val><sub>𝔽</sub></td>
          </tr>
          <tr>
            <td><emu-val>"1"</emu-val></td>
            <td><emu-val>"mon"</emu-val></td>
            <td><emu-val>1</emu-val><sub>𝔽</sub></td>
          </tr>
          <tr>
            <td><emu-val>"2"</emu-val></td>
            <td><emu-val>"tue"</emu-val></td>
            <td><emu-val>2</emu-val><sub>𝔽</sub></td>
          </tr>
          <tr>
            <td><emu-val>"3"</emu-val></td>
            <td><emu-val>"wed"</emu-val></td>
            <td><emu-val>3</emu-val><sub>𝔽</sub></td>
          </tr>
          <tr>
            <td><emu-val>"4"</emu-val></td>
            <td><emu-val>"thu"</emu-val></td>
            <td><emu-val>4</emu-val><sub>𝔽</sub></td>
          </tr>
          <tr>
            <td><emu-val>"5"</emu-val></td>
            <td><emu-val>"fri"</emu-val></td>
            <td><emu-val>5</emu-val><sub>𝔽</sub></td>
          </tr>
          <tr>
            <td><emu-val>"6"</emu-val></td>
            <td><emu-val>"sat"</emu-val></td>
            <td><emu-val>6</emu-val><sub>𝔽</sub></td>
          </tr>
          <tr>
            <td><emu-val>"7"</emu-val></td>
            <td><emu-val>"sun"</emu-val></td>
            <td><emu-val>7</emu-val><sub>𝔽</sub></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-weekdayuvaluetonumber" type="abstract operation" aoid="WeekdayUValueToNumber">
      <h1><span class="secnum">15.5.16</span> WeekdayUValueToNumber ( <var>fw</var> )</h1>
      <p>The abstract operation WeekdayUValueToNumber takes argument <var>fw</var> (a String) and returns an <emu-xref href="#integral-number"><a href="https://tc39.es/ecma262/#integral-number">integral Number</a></emu-xref> or <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#table-locale-weekday-string-value" id="_ref_128"><a href="#table-locale-weekday-string-value">Table 26</a></emu-xref> の各行（ヘッダー行を除く）について、表順に次を行う。</li><li>現在の行の String 値を <var>s</var> とする。</li><li>現在の行の Value 値を <var>v</var> とする。</li><li><var>fw</var> が <var>s</var> と等しい場合、<var>v</var> を返す。</li><li><emu-val>undefined</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-weekinfooflocale" type="implementation-defined abstract operation" aoid="WeekInfoOfLocale">
      <h1><span class="secnum">15.5.17</span> WeekInfoOfLocale ( <var>loc</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation WeekInfoOfLocale takes argument <var>loc</var> (an Intl.Locale) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>locale</var> を <var>loc</var>.<var class="field">[[Locale]]</var> とする。</li><li><emu-xref href="#table-locale-weekinfo-record" id="_ref_129"><a href="#table-locale-weekinfo-record">Table 27</a></emu-xref> で定義されたフィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> <var>r</var> を、<var>locale</var> に基づく値で作成する。</li><li><var>fws</var> を <var>loc</var>.<var class="field">[[FirstDayOfWeek]]</var> とする。</li><li><var>fw</var> を <emu-xref aoid="WeekdayUValueToNumber" id="_ref_742"><a href="#sec-weekdayuvaluetonumber">WeekdayUValueToNumber</a></emu-xref>(<var>fws</var>) とする。</li><li><var>fw</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>r</var>.<var class="field">[[FirstDay]]</var> を <var>fw</var> に設定する。</li><li><var>r</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        レコードの返値は <a href="https://www.unicode.org/reports/tr35/tr35-dates.html#Week_Data">Unicode Technical Standard #35
          Part 4
          Dates, Week Data</a> および <a href="https://www.unicode.org/reports/tr35/tr35-dates.html#first-day-overrides">First Day Overrides</a>
        に従い、<var>locale</var> により決定される。
      </div></emu-note>

      <emu-table id="table-locale-weekinfo-record"><figure><figcaption>Table 27: WeekInfo レコードのフィールド</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>フィールド名</th>
              <th>値</th>
              <th>意味</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[FirstDay]]</var></td>
            <td>ISO 8601 <em>calendar day of week</em> の曜日の 1 から始まる序数値。週の曜日の並びは月曜 <emu-val>1</emu-val><sub>𝔽</sub> から日曜 <emu-val>7</emu-val><sub>𝔽</sub>
              まで。</td>
            <td>カレンダー上で「週の最初」とされる曜日。</td>
          </tr>
          <tr>
            <td><var class="field">[[Weekend]]</var></td>
            <td>ISO 8601 <em>calendar day of week</em> の整数値 <emu-val>1</emu-val><sub>𝔽</sub>（月曜）から <emu-val>7</emu-val><sub>𝔽</sub>（日曜）までの昇順リスト。</td>
            <td>カレンダー上で「週末」とされる曜日の値のリスト。週末の日数や連続性はロケールによって異なる場合がある。</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="numberformat-objects">
  <h1><span class="secnum">16</span> NumberFormat オブジェクト</h1>

  <emu-clause id="sec-intl-numberformat-constructor">
    <h1><span class="secnum">16.1</span> Intl.NumberFormat コンストラクター</h1>

    <p>Intl.NumberFormat コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.NumberFormat%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_743"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"NumberFormat"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_744"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の全ての<emu-xref href="#service-constructor" id="_ref_745"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_130"><a href="#sec-internal-slots">9.1</a></emu-xref> で規定されている。</p>

    <emu-clause id="sec-intl.numberformat" oldids="sec-initializenumberformat"><span id="sec-initializenumberformat"></span>
      <h1><span class="secnum">16.1.1</span> Intl.NumberFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.NumberFormat</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順を実行する:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> の場合、<var>newTarget</var> をアクティブな関数オブジェクトとし、そうでなければ <var>newTarget</var> を NewTarget とする。</li><li><var>numberFormat</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(<var>newTarget</var>, <emu-val>"%Intl.NumberFormat.prototype%"</emu-val>, «
        <var class="field">[[InitializedNumberFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[LocaleData]]</var>, <var class="field">[[NumberingSystem]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Unit]]</var>,
        <var class="field">[[UnitDisplay]]</var>, <var class="field">[[Currency]]</var>, <var class="field">[[CurrencyDisplay]]</var>, <var class="field">[[CurrencySign]]</var>, <var class="field">[[MinimumIntegerDigits]]</var>,
        <var class="field">[[MinimumFractionDigits]]</var>, <var class="field">[[MaximumFractionDigits]]</var>, <var class="field">[[MinimumSignificantDigits]]</var>,
        <var class="field">[[MaximumSignificantDigits]]</var>, <var class="field">[[RoundingType]]</var>, <var class="field">[[Notation]]</var>, <var class="field">[[CompactDisplay]]</var>, <var class="field">[[UseGrouping]]</var>,
        <var class="field">[[SignDisplay]]</var>, <var class="field">[[RoundingIncrement]]</var>, <var class="field">[[RoundingMode]]</var>, <var class="field">[[ComputedRoundingPriority]]</var>, <var class="field">[[TrailingZeroDisplay]]</var>,
        <var class="field">[[BoundFormat]]</var>&nbsp;») とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_746"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_747"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_748"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>,
        <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;») とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> に設定する。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> に設定する。</li><li><var>numberFormat</var>.<var class="field">[[Locale]]</var> を <var>r</var>.<var class="field">[[Locale]]</var> に設定する。</li><li><var>numberFormat</var>.<var class="field">[[LocaleData]]</var> を <var>r</var>.<var class="field">[[LocaleData]]</var> に設定する。</li><li><var>numberFormat</var>.<var class="field">[[NumberingSystem]]</var> を <var>r</var>.<var class="field">[[nu]]</var> に設定する。</li><li>?&nbsp;<emu-xref aoid="SetNumberFormatUnitOptions" id="_ref_749"><a href="#sec-setnumberformatunitoptions">SetNumberFormatUnitOptions</a></emu-xref>(<var>numberFormat</var>, <var>options</var>) を実行する。</li><li><var>style</var> を <var>numberFormat</var>.<var class="field">[[Style]]</var> に設定する。</li><li><var>notation</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_750"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"notation"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>,
        <emu-val>"compact"</emu-val>&nbsp;», <emu-val>"standard"</emu-val>) に設定する。</li><li><var>numberFormat</var>.<var class="field">[[Notation]]</var> を <var>notation</var> に設定する。</li><li><var>style</var> が <emu-val>"currency"</emu-val> かつ <var>notation</var> が <emu-val>"standard"</emu-val> の場合、</li><li><var>currency</var> を <var>numberFormat</var>.<var class="field">[[Currency]]</var> に設定する。</li><li><var>cDigits</var> を <emu-xref aoid="CurrencyDigits" id="_ref_751"><a href="#sec-currencydigits">CurrencyDigits</a></emu-xref>(<var>currency</var>) に設定する。</li><li><var>mnfdDefault</var> を <var>cDigits</var> に設定する。</li><li><var>mxfdDefault</var> を <var>cDigits</var> に設定する。</li><li>それ以外の場合、</li><li><var>mnfdDefault</var> を 0 に設定する。</li><li><var>style</var> が <emu-val>"percent"</emu-val> の場合、</li><li><var>mxfdDefault</var> を 0 に設定する。</li><li>それ以外の場合、</li><li><var>mxfdDefault</var> を 3 に設定する。</li><li>?&nbsp;<emu-xref aoid="SetNumberFormatDigitOptions" id="_ref_752"><a href="#sec-setnumberformatdigitoptions">SetNumberFormatDigitOptions</a></emu-xref>(<var>numberFormat</var>, <var>options</var>, <var>mnfdDefault</var>, <var>mxfdDefault</var>, <var>notation</var>) を実行する。</li><li><var>compactDisplay</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_753"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"compactDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;», <emu-val>"short"</emu-val>)
        に設定する。</li><li><var>defaultUseGrouping</var> を <emu-val>"auto"</emu-val> に設定する。</li><li><var>notation</var> が <emu-val>"compact"</emu-val> の場合、</li><li><var>numberFormat</var>.<var class="field">[[CompactDisplay]]</var> を <var>compactDisplay</var> に設定する。</li><li><var>defaultUseGrouping</var> を <emu-val>"min2"</emu-val> に設定する。</li><li>注: 歴史的理由により、文字列 <emu-val>"true"</emu-val> と <emu-val>"false"</emu-val> は受け入れられ、デフォルト値に置き換えられる。</li><li><var>useGrouping</var> を ?&nbsp;<emu-xref aoid="GetBooleanOrStringNumberFormatOption" id="_ref_754"><a href="#sec-getbooleanorstringnumberformatoption">GetBooleanOrStringNumberFormatOption</a></emu-xref>(<var>options</var>, <emu-val>"useGrouping"</emu-val>, « <emu-val>"min2"</emu-val>, <emu-val>"auto"</emu-val>,
        <emu-val>"always"</emu-val>, <emu-val>"true"</emu-val>, <emu-val>"false"</emu-val>&nbsp;», <var>defaultUseGrouping</var>) に設定する。</li><li><var>useGrouping</var> が <emu-val>"true"</emu-val> または <emu-val>"false"</emu-val> の場合、<var>useGrouping</var> を <var>defaultUseGrouping</var> に設定する。</li><li><var>useGrouping</var> が <emu-val>true</emu-val> の場合、<var>useGrouping</var> を <emu-val>"always"</emu-val> に設定する。</li><li><var>numberFormat</var>.<var class="field">[[UseGrouping]]</var> を <var>useGrouping</var> に設定する。</li><li><var>signDisplay</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_755"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"signDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>, <emu-val>"never"</emu-val>, <emu-val>"always"</emu-val>,
        <emu-val>"exceptZero"</emu-val>, <emu-val>"negative"</emu-val>&nbsp;», <emu-val>"auto"</emu-val>) に設定する。</li><li><var>numberFormat</var>.<var class="field">[[SignDisplay]]</var> を <var>signDisplay</var> に設定する。</li><li>実装が <emu-xref href="#legacy-constructor" id="_ref_131"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref> の規範的オプションコンストラクターモードをサポートしている場合、</li><li><var>this</var> を <emu-val>this</emu-val> 値に設定する。</li><li>?&nbsp;<emu-xref aoid="ChainNumberFormat" id="_ref_756"><a href="#sec-chainnumberformat">ChainNumberFormat</a></emu-xref>(<var>numberFormat</var>, NewTarget, <var>this</var>) を返す。</li><li><var>numberFormat</var> を返す。</li></ol></emu-alg>

      <emu-clause id="sec-chainnumberformat" type="abstract operation" normative-optional="" aoid="ChainNumberFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
        <h1><span class="secnum">16.1.1.1</span> ChainNumberFormat ( <var>numberFormat</var>, <var>newTarget</var>, <var>this</var> )</h1>
        <p>The abstract operation ChainNumberFormat takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>newTarget</var> (an ECMAScript 言語値), and <var>this</var> (an ECMAScript 言語値) and returns 正常完了値として Object を含むか、throw 完了値. It performs the following steps when called:</p>
        <emu-alg><ol><li><var>newTarget</var> が <emu-val>undefined</emu-val> かつ ?&nbsp;<emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_757"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, <var>this</var>) が <emu-val>true</emu-val> の場合、</li><li>?&nbsp;<emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>this</var>, <emu-xref href="#intl-object" id="_ref_758"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>, PropertyDescriptor{ <var class="field">[[Value]]</var>: <var>numberFormat</var>,
          <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val>&nbsp;}) を実行する。</li><li><var>this</var> を返す。</li><li><var>numberFormat</var> を返す。</li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-setnumberformatdigitoptions" oldids="sec-setnfdigitoptions" type="abstract operation" aoid="SetNumberFormatDigitOptions"><span id="sec-setnfdigitoptions"></span>
      <h1><span class="secnum">16.1.2</span> SetNumberFormatDigitOptions ( <var>intlObj</var>, <var>options</var>, <var>mnfdDefault</var>, <var>mxfdDefault</var>, <var>notation</var> )</h1>
      <p>The abstract operation SetNumberFormatDigitOptions takes arguments <var>intlObj</var> (オブジェクト), <var>options</var> (オブジェクト), <var>mnfdDefault</var> (整数), <var>mxfdDefault</var> (整数), and <var>notation</var> (文字列) and returns 正常完了値として <emu-const>unused</emu-const> を含むか、throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>mnid</var> を ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_759"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"minimumIntegerDigits"</emu-val>, 1, 21, 1) に設定する。</li><li><var>mnfd</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"minimumFractionDigits"</emu-val>) に設定する。</li><li><var>mxfd</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"maximumFractionDigits"</emu-val>) に設定する。</li><li><var>mnsd</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"minimumSignificantDigits"</emu-val>) に設定する。</li><li><var>mxsd</var> を ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"maximumSignificantDigits"</emu-val>) に設定する。</li><li><var>intlObj</var>.<var class="field">[[MinimumIntegerDigits]]</var> を <var>mnid</var> に設定する。</li><li><var>roundingIncrement</var> を ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_760"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"roundingIncrement"</emu-val>, 1, 5000, 1) に設定する。</li><li><var>roundingIncrement</var> が « 1, 2, 5, 10, 20, 25, 50, 100, 200, 250, 500, 1000, 2000, 2500, 5000&nbsp;»
        に含まれていない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>roundingMode</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_761"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"roundingMode"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"ceil"</emu-val>, <emu-val>"floor"</emu-val>, <emu-val>"expand"</emu-val>,
        <emu-val>"trunc"</emu-val>, <emu-val>"halfCeil"</emu-val>, <emu-val>"halfFloor"</emu-val>, <emu-val>"halfExpand"</emu-val>, <emu-val>"halfTrunc"</emu-val>, <emu-val>"halfEven"</emu-val>&nbsp;», <emu-val>"halfExpand"</emu-val>) に設定する。</li><li><var>roundingPriority</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_762"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"roundingPriority"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>, <emu-val>"morePrecision"</emu-val>,
        <emu-val>"lessPrecision"</emu-val>&nbsp;», <emu-val>"auto"</emu-val>) に設定する。</li><li><var>trailingZeroDisplay</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_763"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"trailingZeroDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>,
        <emu-val>"stripIfInteger"</emu-val>&nbsp;», <emu-val>"auto"</emu-val>) に設定する。</li><li>注: <emu-xref aoid="SetNumberFormatDigitOptions" id="_ref_764"><a href="#sec-setnumberformatdigitoptions">SetNumberFormatDigitOptions</a></emu-xref> で必要な全てのフィールドは options から読み取られた。残りの AO は options を解釈し、例外を投げる場合がある。</li><li><var>roundingIncrement</var> が 1 でない場合、<var>mxfdDefault</var> を <var>mnfdDefault</var> に設定する。</li><li><var>intlObj</var>.<var class="field">[[RoundingIncrement]]</var> を <var>roundingIncrement</var> に設定する。</li><li><var>intlObj</var>.<var class="field">[[RoundingMode]]</var> を <var>roundingMode</var> に設定する。</li><li><var>intlObj</var>.<var class="field">[[TrailingZeroDisplay]]</var> を <var>trailingZeroDisplay</var> に設定する。</li><li><var>mnsd</var> と <var>mxsd</var> が両方 <emu-val>undefined</emu-val> の場合、<var>hasSd</var> を <emu-val>false</emu-val> とし、そうでなければ <emu-val>true</emu-val> とする。</li><li><var>mnfd</var> と <var>mxfd</var> が両方 <emu-val>undefined</emu-val> の場合、<var>hasFd</var> を <emu-val>false</emu-val> とし、そうでなければ <emu-val>true</emu-val> とする。</li><li><var>needSd</var> を <emu-val>true</emu-val> とする。</li><li><var>needFd</var> を <emu-val>true</emu-val> とする。</li><li><var>roundingPriority</var> が <emu-val>"auto"</emu-val> の場合、</li><li><var>needSd</var> を <var>hasSd</var> に設定する。</li><li><var>needSd</var> が <emu-val>true</emu-val> または <var>hasFd</var> が <emu-val>false</emu-val> かつ <var>notation</var> が <emu-val>"compact"</emu-val> の場合、</li><li><var>needFd</var> を <emu-val>false</emu-val> に設定する。</li><li><var>needSd</var> が <emu-val>true</emu-val> の場合、</li><li><var>hasSd</var> が <emu-val>true</emu-val> の場合、</li><li><var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var> を ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_765"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mnsd</var>, 1, 21, 1) に設定する。</li><li><var>intlObj</var>.<var class="field">[[MaximumSignificantDigits]]</var> を ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_766"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mxsd</var>,
        <var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var>, 21, 21) に設定する。</li><li>それ以外の場合、</li><li><var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var> を 1 に設定する。</li><li><var>intlObj</var>.<var class="field">[[MaximumSignificantDigits]]</var> を 21 に設定する。</li><li><var>needFd</var> が <emu-val>true</emu-val> の場合、</li><li><var>hasFd</var> が <emu-val>true</emu-val> の場合、</li><li><var>mnfd</var> を ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_767"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mnfd</var>, 0, 100, <emu-val>undefined</emu-val>) に設定する。</li><li><var>mxfd</var> を ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_768"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mxfd</var>, 0, 100, <emu-val>undefined</emu-val>) に設定する。</li><li><var>mnfd</var> が <emu-val>undefined</emu-val> の場合、<var>mnfd</var> を <emu-xref aoid="min"><a href="https://tc39.es/ecma262/#eqn-min">min</a></emu-xref>(<var>mnfdDefault</var>, <var>mxfd</var>) に設定する。</li><li><var>mxfd</var> が <emu-val>undefined</emu-val> の場合、<var>mxfd</var> を <emu-xref aoid="max"><a href="https://tc39.es/ecma262/#eqn-max">max</a></emu-xref>(<var>mxfdDefault</var>, <var>mnfd</var>) に設定する。</li><li><var>mnfd</var> が <var>mxfd</var> より大きい場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var> を <var>mnfd</var> に設定する。</li><li><var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> を <var>mxfd</var> に設定する。</li><li>それ以外の場合、</li><li><var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var> を <var>mnfdDefault</var> に設定する。</li><li><var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> を <var>mxfdDefault</var> に設定する。</li><li><var>needSd</var> が <emu-val>false</emu-val> かつ <var>needFd</var> が <emu-val>false</emu-val> の場合、</li><li><var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var> を 0 に設定する。</li><li><var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> を 0 に設定する。</li><li><var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var> を 1 に設定する。</li><li><var>intlObj</var>.<var class="field">[[MaximumSignificantDigits]]</var> を 2 に設定する。</li><li><var>intlObj</var>.<var class="field">[[RoundingType]]</var> を <emu-const>more-precision</emu-const> に設定する。</li><li><var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> を <emu-val>"morePrecision"</emu-val> に設定する。</li><li><var>roundingPriority</var> が <emu-val>"morePrecision"</emu-val> の場合、</li><li><var>intlObj</var>.<var class="field">[[RoundingType]]</var> を <emu-const>more-precision</emu-const> に設定する。</li><li><var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> を <emu-val>"morePrecision"</emu-val> に設定する。</li><li><var>roundingPriority</var> が <emu-val>"lessPrecision"</emu-val> の場合、</li><li><var>intlObj</var>.<var class="field">[[RoundingType]]</var> を <emu-const>less-precision</emu-const> に設定する。</li><li><var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> を <emu-val>"lessPrecision"</emu-val> に設定する。</li><li><var>hasSd</var> が <emu-val>true</emu-val> の場合、</li><li><var>intlObj</var>.<var class="field">[[RoundingType]]</var> を <emu-const>significant-digits</emu-const> に設定する。</li><li><var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> を <emu-val>"auto"</emu-val> に設定する。</li><li>それ以外の場合、</li><li><var>intlObj</var>.<var class="field">[[RoundingType]]</var> を <emu-const>fraction-digits</emu-const> に設定する。</li><li><var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> を <emu-val>"auto"</emu-val> に設定する。</li><li><var>roundingIncrement</var> が 1 でない場合、</li><li><var>intlObj</var>.<var class="field">[[RoundingType]]</var> が <emu-const>fraction-digits</emu-const> でない場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> が <var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var> でない場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><emu-const>unused</emu-const> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-setnumberformatunitoptions" type="abstract operation" aoid="SetNumberFormatUnitOptions">
      <h1><span class="secnum">16.1.3</span> SetNumberFormatUnitOptions ( <var>intlObj</var>, <var>options</var> )</h1>
      <p>The abstract operation SetNumberFormatUnitOptions takes arguments <var>intlObj</var> (Intl.NumberFormat) and <var>options</var> (オブジェクト) and returns 正常完了値として <emu-const>unused</emu-const> を含むか、throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>style</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_769"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"decimal"</emu-val>, <emu-val>"percent"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"unit"</emu-val>&nbsp;»,
        <emu-val>"decimal"</emu-val>) に設定する。</li><li><var>intlObj</var>.<var class="field">[[Style]]</var> を <var>style</var> に設定する。</li><li><var>currency</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_770"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"currency"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>) に設定する。</li><li><var>currency</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>style</var> が <emu-val>"currency"</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li>それ以外の場合、</li><li><emu-xref aoid="IsWellFormedCurrencyCode" id="_ref_771"><a href="#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a></emu-xref>(<var>currency</var>) が <emu-val>false</emu-val> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>currencyDisplay</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_772"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"currencyDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"code"</emu-val>, <emu-val>"symbol"</emu-val>,
        <emu-val>"narrowSymbol"</emu-val>, <emu-val>"name"</emu-val>&nbsp;», <emu-val>"symbol"</emu-val>) に設定する。</li><li><var>currencySign</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_773"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"currencySign"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"standard"</emu-val>, <emu-val>"accounting"</emu-val>&nbsp;»,
        <emu-val>"standard"</emu-val>) に設定する。</li><li><var>unit</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_774"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"unit"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>) に設定する。</li><li><var>unit</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>style</var> が <emu-val>"unit"</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li>それ以外の場合、</li><li><emu-xref aoid="IsWellFormedUnitIdentifier" id="_ref_775"><a href="#sec-iswellformedunitidentifier">IsWellFormedUnitIdentifier</a></emu-xref>(<var>unit</var>) が <emu-val>false</emu-val> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>unitDisplay</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_776"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"unitDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"long"</emu-val>&nbsp;»,
        <emu-val>"short"</emu-val>) に設定する。</li><li><var>style</var> が <emu-val>"currency"</emu-val> の場合、</li><li><var>intlObj</var>.<var class="field">[[Currency]]</var> を <var>currency</var> の ASCII 大文字化に設定する。</li><li><var>intlObj</var>.<var class="field">[[CurrencyDisplay]]</var> を <var>currencyDisplay</var> に設定する。</li><li><var>intlObj</var>.<var class="field">[[CurrencySign]]</var> を <var>currencySign</var> に設定する。</li><li><var>style</var> が <emu-val>"unit"</emu-val> の場合、</li><li><var>intlObj</var>.<var class="field">[[Unit]]</var> を <var>unit</var> に設定する。</li><li><var>intlObj</var>.<var class="field">[[UnitDisplay]]</var> を <var>unitDisplay</var> に設定する。</li><li><emu-const>unused</emu-const> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-numberformat-constructor">
    <h1><span class="secnum">16.2</span> Intl.NumberFormat コンストラクターのプロパティ</h1>

    <p>Intl.NumberFormat コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-intl.numberformat.prototype">
      <h1><span class="secnum">16.2.1</span> Intl.NumberFormat.prototype</h1>

      <p><code>Intl.NumberFormat.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-numberformat-prototype-object" id="_ref_777"><a href="#sec-properties-of-intl-numberformat-prototype-object">%Intl.NumberFormat.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.supportedlocalesof">
      <h1><span class="secnum">16.2.2</span> Intl.NumberFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順を実行する:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_778"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> に設定する。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_779"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) に設定する。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_780"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat-internal-slots">
      <h1><span class="secnum">16.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_132"><a href="#sec-internal-slots">9.1</a></emu-xref> で記述された制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « <emu-val>"nu"</emu-val> » である。</p>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> } » である。</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1
          Core, Section 3.6.1 Key and Type Definitions</a> は、数値フォーマットに関連する 3 つのロケール拡張キー <emu-val>"cu"</emu-val>, <emu-val>"cf"</emu-val>, <emu-val>"nu"</emu-val>
        を説明している。Intl.NumberFormat は、通貨フォーマットの通貨を options オブジェクトの currency プロパティで指定し、通貨フォーマットスタイルを options オブジェクトの
        currencySign プロパティで指定することを要求する。
      </div></emu-note>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_133"><a href="#sec-internal-slots">9.1</a></emu-xref> で記述された制約内で実装依存であり、以下の追加制約がある:</p>

      <ul>
        <li>任意のロケールフィールドの <emu-val>"nu"</emu-val> フィールド値のリストは <emu-val>"native"</emu-val>, <emu-val>"traditio"</emu-val>, <emu-val>"finance"</emu-val> を含んではならない。</li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は全てのロケール値 <var>locale</var> に対して <var class="field">[[patterns]]</var> フィールドを持たなければならない。このフィールドの値は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>
          であり、4 つの数値フォーマットスタイル名 <emu-val>"decimal"</emu-val>, <emu-val>"percent"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"unit"</emu-val> をフィールドとして持つ必要がある。</li>
        <li>
          上記の <emu-val>"currency"</emu-val> と <emu-val>"unit"</emu-val> フィールドは、少なくとも <emu-val>"fallback"</emu-val> フィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない。
          <emu-val>"currency"</emu-val> は <emu-xref href="#sec-currency-codes" id="_ref_134"><a href="#sec-currency-codes">6.3</a></emu-xref> に従う通貨コードに対応する追加フィールドを持つ場合がある。
          各 <emu-val>"currency"</emu-val> フィールドは、currencyDisplay 値 <emu-val>"code"</emu-val>, <emu-val>"symbol"</emu-val>, <emu-val>"narrowSymbol"</emu-val>, <emu-val>"name"</emu-val> に対応するフィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>
          でなければならない。
          それぞれのフィールドは currencySign 値 <emu-val>"standard"</emu-val> または <emu-val>"accounting"</emu-val> に対応するフィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない。<emu-val>"unit"</emu-val>
          フィールド（<var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] の）は <emu-xref href="#sec-measurement-unit-identifiers" id="_ref_135"><a href="#sec-measurement-unit-identifiers">6.6</a></emu-xref>
          に対応するコア測定単位識別子に対応する追加フィールドを持つ場合がある。
          各 <emu-val>"unit"</emu-val> フィールドは unitDisplay 値 <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val> に対応するフィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない。
        </li>
        <li>これまで説明した patterns ツリーの葉フィールド（<emu-val>"decimal"</emu-val>, <emu-val>"percent"</emu-val>, <emu-val>"currency"</emu-val> の曾孫、<emu-val>"unit"</emu-val> の孫）は、<emu-val>「positivePattern」</emu-val>,
          <emu-val>「zeroPattern」</emu-val>, <emu-val>「negativePattern」</emu-val> キーを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない。</li>
        <li>
          上記フィールド（符号依存パターンフィールド）の値は、<emu-val>"{number}"</emu-val> サブストリングを含む文字列値でなければならない。
          <emu-val>"positivePattern"</emu-val> は <emu-val>"{plusSign}"</emu-val> を含み <emu-val>"{minusSign}"</emu-val> を含んではならない; <emu-val>"negativePattern"</emu-val> は <emu-val>"{minusSign}"</emu-val> を含み
          <emu-val>"{plusSign}"</emu-val> を含んではならない; <emu-val>"zeroPattern"</emu-val> は <emu-val>"{plusSign}"</emu-val> も <emu-val>"{minusSign}"</emu-val> も含んではならない。
          また、<emu-val>"percent"</emu-val> フィールド内の値は <emu-val>"{percentSign}"</emu-val> サブストリングを含む必要があり、<emu-val>"currency"</emu-val> フィールド内の値は <emu-val>"{currencyCode}"</emu-val>,
          <emu-val>"{currencyPrefix}"</emu-val>, <emu-val>"{currencySuffix}"</emu-val> のいずれかを含む必要があり、<emu-val>"unit"</emu-val> フィールド内の値は <emu-val>"{unitPrefix}"</emu-val> または
          <emu-val>"{unitSuffix}"</emu-val> のいずれかを含む必要がある。
          <emu-xref href="#sec-pattern-string-types" id="_ref_781"><a href="#sec-pattern-string-types">パターン文字列</a></emu-xref>は、<emu-xref href="#ecma262" id="_ref_782"><a href="#ecma262">ECMA-262</a></emu-xref> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref> で説明されている UTF-16
          エンコードされたコードポイントの列として解釈した場合、Unicode 標準で指定された General Category "Number, decimal digit" のコードポイントを含んではならない。
        </li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は全てのロケール値 <var>locale</var> に対して <var class="field">[[notationSubPatterns]]</var> フィールドも持たなければならない。このフィールドの値は
          <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> であり、<var class="field">[[scientific]]</var> と <var class="field">[[compact]]</var> の 2 つのフィールドを持つ必要がある。<var class="field">[[scientific]]</var> フィールドは <emu-val>"{number}"</emu-val>,
          <emu-val>"{scientificSeparator}"</emu-val>, <emu-val>"{scientificExponent}"</emu-val> サブストリングを含む文字列値でなければならない。<var class="field">[[compact]]</var> フィールドは <emu-val>"short"</emu-val> と
          <emu-val>"long"</emu-val> の 2 つのフィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない。各フィールドは実装がサポートする全ての離散的な compact notation の magnitude に対応する整数キーを持つ
          <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> でなければならない。各フィールドは <emu-val>"{number}"</emu-val> サブストリングを含む場合がある文字列値でなければならない。<emu-val>"short"</emu-val> から派生した文字列は <emu-val>"{compactSymbol}"</emu-val>
          サブストリングを含み、<emu-val>"long"</emu-val> から派生した文字列は <emu-val>"{compactName}"</emu-val> サブストリングを含む必要がある。</li>
      </ul>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        実装は <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a> で提供されている Common Locale Data Repository
        のロケールデータを使用することが推奨される。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-numberformat-prototype-object">
    <h1><span class="secnum">16.3</span> Intl.NumberFormat プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.NumberFormat プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.NumberFormat.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.NumberFormat インスタンスではなく、<var class="field">[[InitializedNumberFormat]]</var> 内部スロットや Intl.NumberFormat インスタンスオブジェクトの他の内部スロットを持たない。
      </li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-intl.numberformat.prototype.constructor">
      <h1><span class="secnum">16.3.1</span> Intl.NumberFormat.prototype.constructor</h1>

      <p><code>Intl.NumberFormat.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_783"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.resolvedoptions">
      <h1><span class="secnum">16.3.2</span> Intl.NumberFormat.prototype.resolvedOptions ( )</h1>

      <p>この関数は、オブジェクトの初期化時に計算されたロケールとオプションにアクセスするためのものである。</p>

      <emu-alg><ol><li><var>nf</var> を <emu-val>this</emu-val> 値に設定する。</li><li>実装が <emu-xref href="#legacy-constructor" id="_ref_136"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref> の規範的オプションコンストラクターモードをサポートしている場合、</li><li><var>nf</var> を ?&nbsp;<emu-xref aoid="UnwrapNumberFormat" id="_ref_784"><a href="#sec-unwrapnumberformat">UnwrapNumberFormat</a></emu-xref>(<var>nf</var>) に設定する。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) に設定する。</li><li><emu-xref href="#table-numberformat-resolvedoptions-properties" id="_ref_137"><a href="#table-numberformat-resolvedoptions-properties">Table 28</a></emu-xref> の各行（ヘッダー行を除く）について、テーブル順に、</li><li>現在の行の Property 値を <var>p</var> に設定する。</li><li>現在の行の Internal Slot 名の内部スロット値を <var>v</var> に設定する。</li><li><var>v</var> が <emu-val>undefined</emu-val> でない場合、</li><li>現在の行に Conversion 値がある場合、</li><li>現在の行の Conversion 値が <emu-const>number</emu-const> であることをアサートする。</li><li><var>v</var> を <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>) に設定する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-numberformat-resolvedoptions-properties"><figure><figcaption>Table 28: NumberFormat インスタンスの Resolved Options</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>プロパティ</th>
              <th>変換</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Currency]]</var></td>
            <td><emu-val>"currency"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CurrencyDisplay]]</var></td>
            <td><emu-val>"currencyDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CurrencySign]]</var></td>
            <td><emu-val>"currencySign"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Unit]]</var></td>
            <td><emu-val>"unit"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[UnitDisplay]]</var></td>
            <td><emu-val>"unitDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumIntegerDigits]]</var></td>
            <td><emu-val>"minimumIntegerDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumFractionDigits]]</var></td>
            <td><emu-val>"minimumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumFractionDigits]]</var></td>
            <td><emu-val>"maximumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumSignificantDigits]]</var></td>
            <td><emu-val>"minimumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumSignificantDigits]]</var></td>
            <td><emu-val>"maximumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[UseGrouping]]</var></td>
            <td><emu-val>"useGrouping"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Notation]]</var></td>
            <td><emu-val>"notation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CompactDisplay]]</var></td>
            <td><emu-val>"compactDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[SignDisplay]]</var></td>
            <td><emu-val>"signDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingIncrement]]</var></td>
            <td><emu-val>"roundingIncrement"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingMode]]</var></td>
            <td><emu-val>"roundingMode"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[ComputedRoundingPriority]]</var></td>
            <td><emu-val>"roundingPriority"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TrailingZeroDisplay]]</var></td>
            <td><emu-val>"trailingZeroDisplay"</emu-val></td>
            <td></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.format">
      <h1><span class="secnum">16.3.3</span> get Intl.NumberFormat.prototype.format</h1>

      <p>Intl.NumberFormat.prototype.format はアクセサープロパティであり、set アクセサー関数は <emu-val>undefined</emu-val> である。get アクセサー関数は以下の手順を実行する:</p>

      <emu-alg><ol><li><var>nf</var> を <emu-val>this</emu-val> 値に設定する。</li><li>実装が <emu-xref href="#legacy-constructor" id="_ref_138"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref> の規範的オプションコンストラクターモードをサポートしている場合、</li><li><var>nf</var> を ?&nbsp;<emu-xref aoid="UnwrapNumberFormat" id="_ref_785"><a href="#sec-unwrapnumberformat">UnwrapNumberFormat</a></emu-xref>(<var>nf</var>) に設定する。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>) を実行する。</li><li><var>nf</var>.<var class="field">[[BoundFormat]]</var> が <emu-val>undefined</emu-val> の場合、</li><li><var>F</var> を Number Format Functions (<emu-xref href="#sec-number-format-functions" id="_ref_139"><a href="#sec-number-format-functions">16.5.2</a></emu-xref>)
        で定義された新しい組み込み関数オブジェクトとする。</li><li><var>F</var>.<var class="field">[[NumberFormat]]</var> を <var>nf</var> に設定する。</li><li><var>nf</var>.<var class="field">[[BoundFormat]]</var> を <var>F</var> に設定する。</li><li><var>nf</var>.<var class="field">[[BoundFormat]]</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        返される関数は <var>nf</var> にバインドされているため、<code>Array.prototype.map</code> や他の関数に直接渡すことができる。
        これは歴史的な慣習の名残であり、新しい機能ではこの慣習は継承されていないが、既存のプログラムとの互換性を維持するために保存されている。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.formatrange">
      <h1><span class="secnum">16.3.4</span> Intl.NumberFormat.prototype.formatRange ( <var>start</var>, <var>end</var> )</h1>

      <p><code>formatRange</code> メソッドが引数 <var>start</var> と <var>end</var> で呼び出された場合、以下の手順を実行する:</p>

      <emu-alg><ol><li><var>nf</var> を <emu-val>this</emu-val> 値に設定する。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>) を実行する。</li><li><var>start</var> が <emu-val>undefined</emu-val> または <var>end</var> が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_786"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>start</var>) に設定する。</li><li><var>y</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_787"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>end</var>) に設定する。</li><li>?&nbsp;<emu-xref aoid="FormatNumericRange" id="_ref_788"><a href="#sec-formatnumericrange">FormatNumericRange</a></emu-xref>(<var>nf</var>, <var>x</var>, <var>y</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.formatrangetoparts">
      <h1><span class="secnum">16.3.5</span> Intl.NumberFormat.prototype.formatRangeToParts ( <var>start</var>, <var>end</var> )</h1>

      <p><code>formatRangeToParts</code> メソッドが引数 <var>start</var> と <var>end</var> で呼び出された場合、以下の手順を実行する:</p>

      <emu-alg><ol><li><var>nf</var> を <emu-val>this</emu-val> 値に設定する。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>) を実行する。</li><li><var>start</var> が <emu-val>undefined</emu-val> または <var>end</var> が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_789"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>start</var>) に設定する。</li><li><var>y</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_790"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>end</var>) に設定する。</li><li>?&nbsp;<emu-xref aoid="FormatNumericRangeToParts" id="_ref_791"><a href="#sec-formatnumericrangetoparts">FormatNumericRangeToParts</a></emu-xref>(<var>nf</var>, <var>x</var>, <var>y</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.formattoparts">
      <h1><span class="secnum">16.3.6</span> Intl.NumberFormat.prototype.formatToParts ( <var>value</var> )</h1>

      <p><code>formatToParts</code> メソッドがオプション引数 <var>value</var> で呼び出された場合、以下の手順を実行する:</p>

      <emu-alg><ol><li><var>nf</var> を <emu-val>this</emu-val> 値に設定する。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>) を実行する。</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_792"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>value</var>) に設定する。</li><li><emu-xref aoid="FormatNumericToParts" id="_ref_793"><a href="#sec-formatnumbertoparts">FormatNumericToParts</a></emu-xref>(<var>nf</var>, <var>x</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype-%symbol.tostringtag%" oldids="sec-intl.numberformat.prototype-@@tostringtag"><span id="sec-intl.numberformat.prototype-@@tostringtag"></span>
      <h1><span class="secnum">16.3.7</span> Intl.NumberFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.NumberFormat"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-numberformat-instances">
    <h1><span class="secnum">16.4</span> Intl.NumberFormat インスタンスのプロパティ</h1>

    <p>Intl.NumberFormat インスタンスは <emu-xref href="#sec-properties-of-intl-numberformat-prototype-object" id="_ref_794"><a href="#sec-properties-of-intl-numberformat-prototype-object">%Intl.NumberFormat.prototype%</a></emu-xref> からプロパティを継承する通常のオブジェクトである。</p>

    <p>Intl.NumberFormat インスタンスは <var class="field">[[InitializedNumberFormat]]</var> 内部スロットを持つ。</p>

    <p>Intl.NumberFormat インスタンスは <emu-xref href="#sec-intl-numberformat-constructor" title="" id="_ref_140"><a href="#sec-intl-numberformat-constructor">Intl.NumberFormat コンストラクター</a></emu-xref>
      によって計算される複数の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> はフォーマットに使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_795"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値である。</li>
      <li><var class="field">[[LocaleData]]</var> は実装がフォーマットに利用可能なデータを表す <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> であり、<var class="field">[[Locale]]</var> の値またはその接頭辞に関連付けられた
        <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_796"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var> のエントリの値である。</li>
      <li><var class="field">[[NumberingSystem]]</var> はフォーマットに使用される <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a>
        を表す文字列値である。</li>
      <li><var class="field">[[Style]]</var> は <emu-val>"decimal"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"percent"</emu-val>, <emu-val>"unit"</emu-val> のいずれかの文字列値であり、測定される量の種類を識別する。</li>
      <li><var class="field">[[Currency]]</var> は <emu-val>"currency"</emu-val> 単位タイプでフォーマットする場合に使用する通貨コードを持つ文字列値である。<var class="field">[[Style]]</var> が <emu-val>"currency"</emu-val> の場合のみ使用される。</li>
      <li><var class="field">[[CurrencyDisplay]]</var> は <emu-val>"code"</emu-val>, <emu-val>"symbol"</emu-val>, <emu-val>"narrowSymbol"</emu-val>, <emu-val>"name"</emu-val> のいずれかの文字列値であり、<emu-val>"currency"</emu-val>
        スタイルでフォーマットする場合に通貨を ISO 4217 アルファベット通貨コード、ローカライズされた通貨記号、またはローカライズされた通貨名として表示するかを指定する。<var class="field">[[Style]]</var> が <emu-val>"currency"</emu-val>
        の場合のみ使用される。</li>
      <li><var class="field">[[CurrencySign]]</var> は <emu-val>"standard"</emu-val> または <emu-val>"accounting"</emu-val>
        のいずれかの文字列値であり、負の数値を会計形式（しばしば括弧で示される）で表示するかどうかを指定する。<var class="field">[[Style]]</var> が <emu-val>"currency"</emu-val> かつ <var class="field">[[SignDisplay]]</var> が <emu-val>"never"</emu-val>
        でない場合のみ使用される。</li>
      <li><var class="field">[[Unit]]</var> は<emu-xref href="#sec-measurement-unit-identifiers" id="_ref_797"><a href="#sec-measurement-unit-identifiers">コア単位識別子</a></emu-xref>である。<var class="field">[[Style]]</var> が <emu-val>"unit"</emu-val> の場合のみ使用される。</li>
      <li><var class="field">[[UnitDisplay]]</var> は <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"long"</emu-val> のいずれかの文字列値であり、<emu-val>"unit"</emu-val>
        スタイルでフォーマットする場合に単位を記号、狭い記号、またはローカライズされた長い名前として表示するかを指定する。<var class="field">[[Style]]</var> が <emu-val>"unit"</emu-val> の場合のみ使用される。</li>
      <li><var class="field">[[MinimumIntegerDigits]]</var> は使用する最小整数桁数を示す非負整数である。必要に応じて先頭にゼロが追加される。</li>
      <li><var class="field">[[MinimumFractionDigits]]</var> および <var class="field">[[MaximumFractionDigits]]</var>
        は使用する最小および最大小数桁数を示す非負整数である。必要に応じて数値は丸められたり末尾にゼロが追加されたりする。これらのプロパティは <var class="field">[[RoundingType]]</var> が <emu-const>fraction-digits</emu-const>,
        <emu-const>more-precision</emu-const>, <emu-const>less-precision</emu-const> の場合のみ使用される。</li>
      <li><var class="field">[[MinimumSignificantDigits]]</var> および <var class="field">[[MaximumSignificantDigits]]</var>
        は表示する最小および最大有効桁数を示す正の整数である。存在する場合、フォーマッターは指定された有効桁数を表示するために必要な小数桁数を使用する。これらのプロパティは <var class="field">[[RoundingType]]</var> が
        <emu-const>significant-digits</emu-const>, <emu-const>more-precision</emu-const>, <emu-const>less-precision</emu-const> の場合のみ使用される。</li>
      <li><var class="field">[[UseGrouping]]</var> はグループ区切り記号を使用する条件を示す Boolean または文字列値である。グループ区切り記号の位置や表示するかどうかは実装依存である。<emu-val>"always"</emu-val>
        は可能ならグループ区切り記号を表示することを示唆し、<emu-val>"min2"</emu-val> はグループ内に少なくとも2桁ある場合、<emu-val>"auto"</emu-val> はロケールがフォーマットされた数値にグループ区切り記号を使用することを好む場合、<emu-val>false</emu-val>
        はグループ区切り記号を無効にする。</li>
      <li><var class="field">[[RoundingType]]</var> は <emu-const>fraction-digits</emu-const>, <emu-const>significant-digits</emu-const>, <emu-const>more-precision</emu-const>, <emu-const>less-precision</emu-const>
        のいずれかの値であり、どの丸め戦略を使用するかを示す。<emu-const>fraction-digits</emu-const> の場合、フォーマットされた数値は <var class="field">[[MinimumFractionDigits]]</var> および
        <var class="field">[[MaximumFractionDigits]]</var> に従って丸められる。<emu-const>significant-digits</emu-const> の場合、フォーマットされた数値は <var class="field">[[MinimumSignificantDigits]]</var> および
        <var class="field">[[MaximumSignificantDigits]]</var> に従って丸められる。<emu-const>more-precision</emu-const> または <emu-const>less-precision</emu-const>
        の場合、これら4つの設定すべてが使用され、どちらを使用するかを判別する特定のルールがある。<var class="field">[[RoundingType]]</var> は <emu-val>"roundingPriority"</emu-val> オプションから導出される。</li>
      <li><var class="field">[[ComputedRoundingPriority]]</var> は <emu-val>"auto"</emu-val>, <emu-val>"morePrecision"</emu-val>, <emu-val>"lessPrecision"</emu-val> のいずれかの文字列値であり、<emu-xref href="#sec-intl.numberformat.prototype.resolvedoptions" id="_ref_141"><a href="#sec-intl.numberformat.prototype.resolvedoptions">16.3.2</a></emu-xref> で <var class="field">[[RoundingType]]</var> を有効な
        <emu-val>"roundingPriority"</emu-val> オプションに戻すためだけに使用される。</li>
      <li><var class="field">[[Notation]]</var> は <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>, <emu-val>"compact"</emu-val>
        のいずれかの文字列値であり、フォーマットされた数値をスケーリングせずに表示するか、科学記法で10のべき乗にスケーリングして表示するか、エンジニアリング記法で千単位にスケーリングして表示するか、またはロケール依存のコンパクト記法でスケーリングして表示するかを指定する。
      </li>
      <li><var class="field">[[CompactDisplay]]</var> は <emu-val>"short"</emu-val> または <emu-val>"long"</emu-val> のいずれかの文字列値であり、<emu-val>"compact"</emu-val>
        記法でフォーマットする場合に短縮形（"5K"）または長形（"5千"）で表示するかを指定する。<var class="field">[[Notation]]</var> が <emu-val>"compact"</emu-val> の場合のみ使用される。</li>
      <li>
        <var class="field">[[SignDisplay]]</var> は <emu-val>"auto"</emu-val>, <emu-val>"always"</emu-val>, <emu-val>"never"</emu-val>, <emu-val>"exceptZero"</emu-val>, <emu-val>"negative"</emu-val>
        のいずれかの文字列値であり、符号をいつ含めるかを指定する（<emu-val>"auto"</emu-val>
        以外のオプションはそれぞれ常に、決して、ゼロ以外の場合のみ、またはゼロ以外の負の数値の場合のみ符号を含める）。科学記法では、このスロットは仮数の符号表示に影響するが指数には影響しない。
      </li>
      <li><var class="field">[[RoundingIncrement]]</var> は10, 100, 1000, 10000を等分する整数であり、丸めの増分を示す。例えば <var class="field">[[MaximumFractionDigits]]</var> が2で
        <var class="field">[[RoundingIncrement]]</var> が5の場合、フォーマットされた数値は最も近い0.05（「ニッケル丸め」）に丸められる。</li>
      <li><var class="field">[[RoundingMode]]</var> は <dfn id="rounding-mode" tabindex="-1">丸めモード</dfn> であり、<emu-xref href="#table-intl-rounding-modes" id="_ref_142"><a href="#table-intl-rounding-modes">Table 29</a></emu-xref> の Identifier 列の文字列値のいずれかである。</li>
      <li><var class="field">[[TrailingZeroDisplay]]</var> は <emu-val>"auto"</emu-val> または <emu-val>"stripIfInteger"</emu-val>
        のいずれかの文字列値であり、フォーマットされた数値が整数（すなわち非ゼロの小数桁を持たない）である場合に末尾のゼロを削除するかどうかを示す。</li>
    </ul>

    <emu-table id="table-intl-rounding-modes"><figure><figcaption>Table 29: Intl.NumberFormat の<emu-xref href="#rounding-mode" id="_ref_798"><a href="#rounding-mode">丸めモード</a></emu-xref></figcaption>
      
      <table class="real-table">
        <thead>
          <tr>
            <th rowspan="2">Identifier</th>
            <th rowspan="2">説明</th>
            <th colspan="5">例: 小数桁数 0 に丸める場合</th>
          </tr>
          <tr>
            <th>-1.5</th>
            <th>0.4</th>
            <th>0.5</th>
            <th>0.6</th>
            <th>1.5</th>
          </tr>
        </thead>
        <tbody><tr>
          <td><emu-val>"ceil"</emu-val></td>
          <td>正の無限大方向</td>
          <td>⬆️ [-1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"floor"</emu-val></td>
          <td>負の無限大方向</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"expand"</emu-val></td>
          <td>ゼロから離れる方向</td>
          <td>⬇️ [-2]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"trunc"</emu-val></td>
          <td>ゼロ方向</td>
          <td>⬆️ [-1]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"halfCeil"</emu-val></td>
          <td>正の無限大方向にタイを丸める</td>
          <td>⬆️ [-1]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"halfFloor"</emu-val></td>
          <td>負の無限大方向にタイを丸める</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"halfExpand"</emu-val></td>
          <td>ゼロから離れる方向にタイを丸める</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"halfTrunc"</emu-val></td>
          <td>ゼロ方向にタイを丸める</td>
          <td>⬆️ [-1]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"halfEven"</emu-val></td>
          <td>偶数丸め増分の倍数方向にタイを丸める</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
      </tbody></table>
      <emu-note><span class="note">Note</span><div class="note-contents">例は各オプションの独特な動作を示すものである。⬆️ は「正の無限大方向に丸める」、⬇️ は「負の無限大方向に丸める」を意味する。</div></emu-note>
    </figure></emu-table>

    <p>最後に、Intl.NumberFormat インスタンスは format アクセサー (<emu-xref href="#sec-intl.numberformat.prototype.format" id="_ref_143"><a href="#sec-intl.numberformat.prototype.format">16.3.3</a></emu-xref>)
      で返される関数をキャッシュする <var class="field">[[BoundFormat]]</var> 内部スロットを持つ。</p>
  </emu-clause>

  <emu-clause id="sec-numberformat-abstracts">
    <h1><span class="secnum">16.5</span> NumberFormat オブジェクトの抽象演算</h1>

    <emu-clause id="sec-currencydigits" type="implementation-defined abstract operation" aoid="CurrencyDigits">
      <h1><span class="secnum">16.5.1</span> CurrencyDigits ( <var>currency</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CurrencyDigits takes argument <var>currency</var> (文字列) and returns 非負整数. It performs the following steps when called:</p>

      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="IsWellFormedCurrencyCode" id="_ref_799"><a href="#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a></emu-xref>(<var>currency</var>) は <emu-val>true</emu-val> である。</li><li><var>currency</var> に対応する通貨の数量をフォーマットする際に使用される小数桁数を示す非負整数を返す。使用する桁数に関する情報が利用できない場合は 2 を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-number-format-functions">
      <h1><span class="secnum">16.5.2</span> 数値フォーマット関数</h1>

      <p>数値フォーマット関数は、<var class="field">[[NumberFormat]]</var> 内部スロットを持つ匿名の組み込み関数である。</p>
      <p>数値フォーマット関数 <var>F</var> がオプション引数 <var>value</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>nf</var> を <var>F</var>.<var class="field">[[NumberFormat]]</var> に設定する。</li><li>アサート: <var>nf</var> はオブジェクトであり、<var class="field">[[InitializedNumberFormat]]</var> 内部スロットを持つ。</li><li><var>value</var> が与えられていない場合、<var>value</var> を <emu-val>undefined</emu-val> に設定する。</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_800"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>value</var>) に設定する。</li><li><emu-xref aoid="FormatNumeric" id="_ref_801"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf</var>, <var>x</var>) を返す。</li></ol></emu-alg>

      <p>数値フォーマット関数の <emu-val>"length"</emu-val> プロパティは <emu-val>1</emu-val><sub>𝔽</sub> である。</p>
    </emu-clause>

    <emu-clause id="sec-formatnumerictostring" oldids="sec-formatnumberstring" type="abstract operation" aoid="FormatNumericToString"><span id="sec-formatnumberstring"></span>
      <h1><span class="secnum">16.5.3</span> FormatNumericToString ( <var>intlObject</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatNumericToString takes arguments <var>intlObject</var> (オブジェクト) and <var>x</var> (数学的値または <emu-const>negative-zero</emu-const>) and returns <var class="field">[[RoundedNumber]]</var>（数学的値または <emu-const>negative-zero</emu-const>）と <var class="field">[[FormattedString]]</var>（文字列）フィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>アサート: <var>intlObject</var> は <var class="field">[[RoundingMode]]</var>, <var class="field">[[RoundingType]]</var>, <var class="field">[[MinimumSignificantDigits]]</var>,
        <var class="field">[[MaximumSignificantDigits]]</var>, <var class="field">[[MinimumIntegerDigits]]</var>, <var class="field">[[MinimumFractionDigits]]</var>, <var class="field">[[MaximumFractionDigits]]</var>,
        <var class="field">[[RoundingIncrement]]</var>, <var class="field">[[TrailingZeroDisplay]]</var> 内部スロットを持つ。</li><li><var>x</var> が <emu-const>negative-zero</emu-const> の場合、</li><li><var>sign</var> を <emu-const>negative</emu-const> に設定する。</li><li><var>x</var> を 0 に設定する。</li><li>それ以外の場合、</li><li>アサート: <var>x</var> は数学的値である。</li><li><var>x</var> &lt; 0 の場合、<var>sign</var> を <emu-const>negative</emu-const> に、そうでなければ <emu-const>positive</emu-const> に設定する。</li><li><var>sign</var> が <emu-const>negative</emu-const> の場合、</li><li><var>x</var> を -<var>x</var> に設定する。</li><li><var>unsignedRoundingMode</var> を <emu-xref aoid="GetUnsignedRoundingMode" id="_ref_802"><a href="#sec-getunsignedroundingmode">GetUnsignedRoundingMode</a></emu-xref>(<var>intlObject</var>.<var class="field">[[RoundingMode]]</var>, <var>sign</var>) に設定する。</li><li><var>intlObject</var>.<var class="field">[[RoundingType]]</var> が <emu-const>significant-digits</emu-const> の場合、</li><li><var>result</var> を ToRawPrecision(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumSignificantDigits]]</var>,
        <var>intlObject</var>.<var class="field">[[MaximumSignificantDigits]]</var>, <var>unsignedRoundingMode</var>) に設定する。</li><li>それ以外で <var>intlObject</var>.<var class="field">[[RoundingType]]</var> が <emu-const>fraction-digits</emu-const> の場合、</li><li><var>result</var> を ToRawFixed(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumFractionDigits]]</var>, <var>intlObject</var>.<var class="field">[[MaximumFractionDigits]]</var>,
        <var>intlObject</var>.<var class="field">[[RoundingIncrement]]</var>, <var>unsignedRoundingMode</var>) に設定する。</li><li>それ以外の場合、</li><li><var>sResult</var> を ToRawPrecision(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumSignificantDigits]]</var>,
        <var>intlObject</var>.<var class="field">[[MaximumSignificantDigits]]</var>, <var>unsignedRoundingMode</var>) に設定する。</li><li><var>fResult</var> を ToRawFixed(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumFractionDigits]]</var>, <var>intlObject</var>.<var class="field">[[MaximumFractionDigits]]</var>,
        <var>intlObject</var>.<var class="field">[[RoundingIncrement]]</var>, <var>unsignedRoundingMode</var>) に設定する。</li><li><var>fResult</var>.<var class="field">[[RoundingMagnitude]]</var> &lt; <var>sResult</var>.<var class="field">[[RoundingMagnitude]]</var> の場合、<var>fixedIsMorePrecise</var> を <emu-val>true</emu-val>
        に、そうでなければ <emu-val>false</emu-val> に設定する。</li><li><var>intlObject</var>.<var class="field">[[RoundingType]]</var> が <emu-const>more-precision</emu-const> かつ <var>fixedIsMorePrecise</var> が <emu-val>true</emu-val> の場合、</li><li><var>result</var> を <var>fResult</var> に設定する。</li><li>それ以外で <var>intlObject</var>.<var class="field">[[RoundingType]]</var> が <emu-const>less-precision</emu-const> かつ <var>fixedIsMorePrecise</var> が <emu-val>false</emu-val> の場合、</li><li><var>result</var> を <var>fResult</var> に設定する。</li><li>それ以外の場合、</li><li><var>result</var> を <var>sResult</var> に設定する。</li><li><var>x</var> を <var>result</var>.<var class="field">[[RoundedNumber]]</var> に設定する。</li><li><var>string</var> を <var>result</var>.<var class="field">[[FormattedString]]</var> に設定する。</li><li><var>intlObject</var>.<var class="field">[[TrailingZeroDisplay]]</var> が <emu-val>"stripIfInteger"</emu-val> かつ <emu-eqn class="inline"><var>x</var> <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> 1 = 0</emu-eqn> の場合、</li><li><var>i</var> を <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>string</var>, <emu-val>"."</emu-val>, 0) に設定する。</li><li><var>i</var> が <emu-const>not-found</emu-const> でない場合、<var>string</var> を 0 から <var>i</var> までの部分文字列に設定する。</li><li><var>int</var> を <var>result</var>.<var class="field">[[IntegerDigitsCount]]</var> に設定する。</li><li><var>minInteger</var> を <var>intlObject</var>.<var class="field">[[MinimumIntegerDigits]]</var> に設定する。</li><li><var>int</var> &lt; <var>minInteger</var> の場合、</li><li><var>forwardZeros</var> を 0x0030（DIGIT ZERO）のコードユニットを <var>minInteger</var> - <var>int</var> 回繰り返した文字列に設定する。</li><li><var>string</var> を <var>forwardZeros</var> と <var>string</var> の連結に設定する。</li><li><var>sign</var> が <emu-const>negative</emu-const> の場合、</li><li><var>x</var> が 0 の場合、<var>x</var> を <emu-const>negative-zero</emu-const> に設定する。そうでなければ <var>x</var> を -<var>x</var> に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[RoundedNumber]]</var>: <var>x</var>, <var class="field">[[FormattedString]]</var>: <var>string</var>&nbsp;} を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionnumberpattern" type="abstract operation" aoid="PartitionNumberPattern">
      <h1><span class="secnum">16.5.4</span> PartitionNumberPattern ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation PartitionNumberPattern takes arguments <var>numberFormat</var> (NumberFormat として初期化されたオブジェクト) and <var>x</var> (Intl 数学的値) and returns <var class="field">[[Type]]</var>（文字列）と <var class="field">[[Value]]</var>（文字列）フィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> のリスト. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>exponent</var> を 0 に設定する。</li><li><var>x</var> が <emu-const>not-a-number</emu-const> の場合、</li><li><var>n</var> を <emu-xref href="#sec-implementation-dependencies" id="_ref_803"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値（NaN を示す）に設定する。</li><li>それ以外で <var>x</var> が <emu-const>positive-infinity</emu-const> の場合、</li><li><var>n</var> を <emu-xref href="#sec-implementation-dependencies" id="_ref_804"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値（正の無限大を示す）に設定する。</li><li>それ以外で <var>x</var> が <emu-const>negative-infinity</emu-const> の場合、</li><li><var>n</var> を <emu-xref href="#sec-implementation-dependencies" id="_ref_805"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値（負の無限大を示す）に設定する。</li><li>それ以外の場合、</li><li><var>x</var> が <emu-const>negative-zero</emu-const> でない場合、</li><li>アサート: <var>x</var> は数学的値である。</li><li><var>numberFormat</var>.<var class="field">[[Style]]</var> が <emu-val>"percent"</emu-val> の場合、<var>x</var> を 100 × <var>x</var> に設定する。</li><li><var>exponent</var> を <emu-xref aoid="ComputeExponent" id="_ref_806"><a href="#sec-computeexponent">ComputeExponent</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) に設定する。</li><li><var>x</var> を <var>x</var> × 10<sup>-<var>exponent</var></sup> に設定する。</li><li><var>formatNumberResult</var> を <emu-xref aoid="FormatNumericToString" id="_ref_807"><a href="#sec-formatnumerictostring">FormatNumericToString</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) に設定する。</li><li><var>n</var> を <var>formatNumberResult</var>.<var class="field">[[FormattedString]]</var> に設定する。</li><li><var>x</var> を <var>formatNumberResult</var>.<var class="field">[[RoundedNumber]]</var> に設定する。</li><li><var>pattern</var> を <emu-xref aoid="GetNumberFormatPattern" id="_ref_808"><a href="#sec-getnumberformatpattern">GetNumberFormatPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) に設定する。</li><li><var>result</var> を新しい空リストに設定する。</li><li><var>patternParts</var> を <emu-xref aoid="PartitionPattern" id="_ref_809"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>) に設定する。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> について、</li><li><var>p</var> を <var>patternPart</var>.<var class="field">[[Type]]</var> に設定する。</li><li><var>p</var> が <emu-val>"literal"</emu-val> の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"number"</emu-val> の場合、</li><li><var>notationSubParts</var> を <emu-xref aoid="PartitionNotationSubPattern" id="_ref_810"><a href="#sec-partitionnotationsubpattern">PartitionNotationSubPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>, <var>n</var>, <var>exponent</var>) に設定する。</li><li><var>result</var> を <var>result</var> と <var>notationSubParts</var> のリスト連結に設定する。</li><li>それ以外で <var>p</var> が <emu-val>"plusSign"</emu-val> の場合、</li><li><var>plusSignSymbol</var> をプラス記号を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_811"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"plusSign"</emu-val>, <var class="field">[[Value]]</var>: <var>plusSignSymbol</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"minusSign"</emu-val> の場合、</li><li><var>minusSignSymbol</var> をマイナス記号を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_812"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"minusSign"</emu-val>, <var class="field">[[Value]]</var>: <var>minusSignSymbol</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"percentSign"</emu-val> かつ <var>numberFormat</var>.<var class="field">[[Style]]</var> が <emu-val>"percent"</emu-val> の場合、</li><li><var>percentSignSymbol</var> をパーセント記号を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_813"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"percentSign"</emu-val>, <var class="field">[[Value]]</var>: <var>percentSignSymbol</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"unitPrefix"</emu-val> かつ <var>numberFormat</var>.<var class="field">[[Style]]</var> が <emu-val>"unit"</emu-val> の場合、</li><li><var>unit</var> を <var>numberFormat</var>.<var class="field">[[Unit]]</var> に設定する。</li><li><var>unitDisplay</var> を <var>numberFormat</var>.<var class="field">[[UnitDisplay]]</var> に設定する。</li><li><var>mu</var> を <var>unit</var> を <var>x</var> の前に <var>unitDisplay</var> 形式で表す <emu-xref href="#sec-implementation-dependencies" id="_ref_814"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値に設定する（言語によって異なる複数形がある場合は <var>x</var> に依存する）。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unit"</emu-val>, <var class="field">[[Value]]</var>: <var>mu</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"unitSuffix"</emu-val> かつ <var>numberFormat</var>.<var class="field">[[Style]]</var> が <emu-val>"unit"</emu-val> の場合、</li><li><var>unit</var> を <var>numberFormat</var>.<var class="field">[[Unit]]</var> に設定する。</li><li><var>unitDisplay</var> を <var>numberFormat</var>.<var class="field">[[UnitDisplay]]</var> に設定する。</li><li><var>mu</var> を <var>unit</var> を <var>x</var> の後に <var>unitDisplay</var> 形式で表す <emu-xref href="#sec-implementation-dependencies" id="_ref_815"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値に設定する（言語によって異なる複数形がある場合は <var>x</var> に依存する）。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unit"</emu-val>, <var class="field">[[Value]]</var>: <var>mu</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"currencyCode"</emu-val> かつ <var>numberFormat</var>.<var class="field">[[Style]]</var> が <emu-val>"currency"</emu-val> の場合、</li><li><var>currency</var> を <var>numberFormat</var>.<var class="field">[[Currency]]</var> に設定する。</li><li><var>cd</var> を <var>currency</var> に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"currency"</emu-val>, <var class="field">[[Value]]</var>: <var>cd</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"currencyPrefix"</emu-val> かつ <var>numberFormat</var>.<var class="field">[[Style]]</var> が <emu-val>"currency"</emu-val> の場合、</li><li><var>currency</var> を <var>numberFormat</var>.<var class="field">[[Currency]]</var> に設定する。</li><li><var>currencyDisplay</var> を <var>numberFormat</var>.<var class="field">[[CurrencyDisplay]]</var> に設定する。</li><li><var>cd</var> を <var>currency</var> を <var>x</var> の前に <var>currencyDisplay</var> 形式で表す <emu-xref href="#sec-implementation-dependencies" id="_ref_816"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値に設定する（言語によって異なる複数形がある場合は <var>x</var> に依存する）。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"currency"</emu-val>, <var class="field">[[Value]]</var>: <var>cd</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"currencySuffix"</emu-val> かつ <var>numberFormat</var>.<var class="field">[[Style]]</var> が <emu-val>"currency"</emu-val> の場合、</li><li><var>currency</var> を <var>numberFormat</var>.<var class="field">[[Currency]]</var> に設定する。</li><li><var>currencyDisplay</var> を <var>numberFormat</var>.<var class="field">[[CurrencyDisplay]]</var> に設定する。</li><li><var>cd</var> を <var>currency</var> を <var>x</var> の後に <var>currencyDisplay</var> 形式で表す <emu-xref href="#sec-implementation-dependencies" id="_ref_817"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値に設定する（言語によって異なる複数形がある場合は <var>x</var> に依存する。実装にその表現がない場合は
        <var>currency</var> 自体を使う）。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"currency"</emu-val>, <var class="field">[[Value]]</var>: <var>cd</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><var>unknown</var> を <var>x</var> と <var>p</var> に基づく <emu-xref href="#sec-implementation-dependencies" id="_ref_818"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unknown"</emu-val>, <var class="field">[[Value]]</var>: <var>unknown</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionnotationsubpattern" type="abstract operation" aoid="PartitionNotationSubPattern">
      <h1><span class="secnum">16.5.5</span> PartitionNotationSubPattern ( <var>numberFormat</var>, <var>x</var>, <var>n</var>, <var>exponent</var> )</h1>
      <p>The abstract operation PartitionNotationSubPattern takes arguments <var>numberFormat</var> (Intl.NumberFormat), <var>x</var> (Intl 数学的値), <var>n</var> (文字列), and <var>exponent</var> (整数) and returns <var class="field">[[Type]]</var>（文字列）と <var class="field">[[Value]]</var>（文字列）フィールドを持つ <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> のリスト. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>result</var> を新しい空リストに設定する。</li><li><var>x</var> が <emu-const>not-a-number</emu-const> の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"nan"</emu-val>, <var class="field">[[Value]]</var>: <var>n</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>x</var> が <emu-const>positive-infinity</emu-const> または <emu-const>negative-infinity</emu-const> の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"infinity"</emu-val>, <var class="field">[[Value]]</var>: <var>n</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><var>notationSubPattern</var> を <emu-xref aoid="GetNotationSubPattern" id="_ref_819"><a href="#sec-getnotationsubpattern">GetNotationSubPattern</a></emu-xref>(<var>numberFormat</var>, <var>exponent</var>) に設定する。</li><li><var>patternParts</var> を <emu-xref aoid="PartitionPattern" id="_ref_820"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>notationSubPattern</var>) に設定する。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> について、</li><li><var>p</var> を <var>patternPart</var>.<var class="field">[[Type]]</var> に設定する。</li><li><var>p</var> が <emu-val>"literal"</emu-val> の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"number"</emu-val> の場合、</li><li><var>numberFormat</var>.<var class="field">[[NumberingSystem]]</var> が下記 <emu-xref href="#table-numbering-system-digits" id="_ref_144"><a href="#table-numbering-system-digits">Table 30</a></emu-xref> の
        Numbering System 列の値のいずれかと一致する場合、</li><li><var>digits</var> を一致する行の Digits 列に指定されたコードポイントのリストに設定する。</li><li>アサート: <var>digits</var> の長さは 10 である。</li><li><var>transliterated</var> を空文字列に設定する。</li><li><var>len</var> を <var>n</var> の長さに設定する。</li><li><var>position</var> を 0 に設定する。</li><li><var>position</var> &lt; <var>len</var> の間繰り返す、</li><li><var>c</var> を <var>n</var> の <var>position</var> 番目のコードユニットに設定する。</li><li>0x0030 ≤ <var>c</var> ≤ 0x0039 の場合、</li><li>注: <var>c</var> は ASCII 数字。</li><li><var>i</var> を <var>c</var> - 0x0030 に設定する。</li><li><var>c</var> を <emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(« <var>digits</var>[<var>i</var>]&nbsp;») に設定する。</li><li><var>transliterated</var> を <var>transliterated</var> と <var>c</var> の連結に設定する。</li><li><var>position</var> を <var>position</var> + 1 に設定する。</li><li><var>n</var> を <var>transliterated</var> に設定する。</li><li>それ以外の場合、</li><li>実装依存アルゴリズムで <var>n</var> を指定された番号体系の適切な表現に変換する。</li><li><var>decimalSepIndex</var> を <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>n</var>, <emu-val>"."</emu-val>, 0) に設定する。</li><li><var>decimalSepIndex</var> が <emu-const>not-found</emu-const> でなく、かつ <var>decimalSepIndex</var> &gt; 0 の場合、</li><li><var>integer</var> を <var>n</var> の 0 から <var>decimalSepIndex</var> までの部分文字列に設定する。</li><li><var>fraction</var> を <var>n</var> の <var>decimalSepIndex</var> + 1 からの部分文字列に設定する。</li><li>それ以外の場合、</li><li><var>integer</var> を <var>n</var> に設定する。</li><li><var>fraction</var> を <emu-val>undefined</emu-val> に設定する。</li><li><var>numberFormat</var>.<var class="field">[[UseGrouping]]</var> が <emu-val>false</emu-val> の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <var>integer</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><var>groupSepSymbol</var> をグループ区切り記号を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_821"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><var>groups</var> を <var>integer</var> 内の <emu-xref href="#sec-implementation-dependencies" id="_ref_822"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 場所集合で定義される部分文字列のリスト（左から右の順）に設定する（<var>numberFormat</var>.<var class="field">[[UseGrouping]]</var> の値に依存）。</li><li>アサート: <var>groups</var> リストの要素数は 0 より大きい。</li><li><var>groups</var> リストが空でない間繰り返す、</li><li>最初の要素を削除し、その値を <var>integerGroup</var> に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <var>integerGroup</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>groups</var> リストが空でない場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"group"</emu-val>, <var class="field">[[Value]]</var>: <var>groupSepSymbol</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>fraction</var> が <emu-val>undefined</emu-val> でない場合、</li><li><var>decimalSepSymbol</var> を小数点記号を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_823"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"decimal"</emu-val>, <var class="field">[[Value]]</var>: <var>decimalSepSymbol</var>&nbsp;} を <var>result</var> に追加する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"fraction"</emu-val>, <var class="field">[[Value]]</var>: <var>fraction</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"compactSymbol"</emu-val> の場合、</li><li><var>compactSymbol</var> を短縮形で <var>exponent</var> を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_824"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列に設定する（言語によって異なる複数形がある場合は <var>x</var>
        に依存。実装はこの文字列を提供できなければならない。そうでなければパターンに <emu-val>"{compactSymbol}"</emu-val> プレースホルダーはない）。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"compact"</emu-val>, <var class="field">[[Value]]</var>: <var>compactSymbol</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"compactName"</emu-val> の場合、</li><li><var>compactName</var> を長形で <var>exponent</var> を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_825"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列に設定する（言語によって異なる複数形がある場合は <var>x</var> に依存。実装はこの文字列を提供できなければならない。そうでなければパターンに
        <emu-val>"{compactName}"</emu-val> プレースホルダーはない）。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"compact"</emu-val>, <var class="field">[[Value]]</var>: <var>compactName</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"scientificSeparator"</emu-val> の場合、</li><li><var>scientificSeparator</var> を指数区切り記号を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_826"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"exponentSeparator"</emu-val>, <var class="field">[[Value]]</var>: <var>scientificSeparator</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外で <var>p</var> が <emu-val>"scientificExponent"</emu-val> の場合、</li><li><var>exponent</var> &lt; 0 の場合、</li><li><var>minusSignSymbol</var> をマイナス記号を表す <emu-xref href="#sec-implementation-dependencies" id="_ref_827"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"exponentMinusSign"</emu-val>, <var class="field">[[Value]]</var>: <var>minusSignSymbol</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>exponent</var> を -<var>exponent</var> に設定する。</li><li><var>exponentResult</var> を ToRawFixed(<var>exponent</var>, 0, 0, 1, <emu-val>undefined</emu-val>) に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"exponentInteger"</emu-val>, <var class="field">[[Value]]</var>: <var>exponentResult</var>.<var class="field">[[FormattedString]]</var>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><var>unknown</var> を <var>x</var> と <var>p</var> に基づく <emu-xref href="#sec-implementation-dependencies" id="_ref_828"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unknown"</emu-val>, <var class="field">[[Value]]</var>: <var>unknown</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-numbering-system-digits"><figure><figcaption>Table 30: 単純な数字マッピングを持つ番号体系</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Numbering System</th>
              <th>Digits</th>
            </tr>
          </thead>
          <tbody><tr>
            <td>adlm</td>
            <td>U+1E950 から U+1E959</td>
          </tr>
          <tr>
            <td>ahom</td>
            <td>U+11730 から U+11739</td>
          </tr>
          <tr>
            <td>arab</td>
            <td>U+0660 から U+0669</td>
          </tr>
          <tr>
            <td>arabext</td>
            <td>U+06F0 から U+06F9</td>
          </tr>
          <tr>
            <td>bali</td>
            <td>U+1B50 から U+1B59</td>
          </tr>
          <tr>
            <td>beng</td>
            <td>U+09E6 から U+09EF</td>
          </tr>
          <tr>
            <td>bhks</td>
            <td>U+11C50 から U+11C59</td>
          </tr>
          <tr>
            <td>brah</td>
            <td>U+11066 から U+1106F</td>
          </tr>
          <tr>
            <td>cakm</td>
            <td>U+11136 から U+1113F</td>
          </tr>
          <tr>
            <td>cham</td>
            <td>U+AA50 から U+AA59</td>
          </tr>
          <tr>
            <td>deva</td>
            <td>U+0966 から U+096F</td>
          </tr>
          <tr>
            <td>diak</td>
            <td>U+11950 から U+11959</td>
          </tr>
          <tr>
            <td>fullwide</td>
            <td>U+FF10 から U+FF19</td>
          </tr>
          <tr>
            <td>gara</td>
            <td>U+10D40 から U+10D49</td>
          </tr>
          <tr>
            <td>gong</td>
            <td>U+11DA0 から U+11DA9</td>
          </tr>
          <tr>
            <td>gonm</td>
            <td>U+11D50 から U+11D59</td>
          </tr>
          <tr>
            <td>gujr</td>
            <td>U+0AE6 から U+0AEF</td>
          </tr>
          <tr>
            <td>gukh</td>
            <td>U+16130 から U+16139</td>
          </tr>
          <tr>
            <td>guru</td>
            <td>U+0A66 から U+0A6F</td>
          </tr>
          <tr>
            <td>hanidec</td>
            <td>U+3007, U+4E00, U+4E8C, U+4E09, U+56DB, U+4E95, U+516D, U+4E03, U+516B, U+4E5D</td>
          </tr>
          <tr>
            <td>hmng</td>
            <td>U+16B50 から U+16B59</td>
          </tr>
          <tr>
            <td>hmnp</td>
            <td>U+1E140 から U+1E149</td>
          </tr>
          <tr>
            <td>java</td>
            <td>U+A9D0 から U+A9D9</td>
          </tr>
          <tr>
            <td>kali</td>
            <td>U+A900 から U+A909</td>
          </tr>
          <tr>
            <td>kawi</td>
            <td>U+11F50 から U+11F59</td>
          </tr>
          <tr>
            <td>khmr</td>
            <td>U+17E0 から U+17E9</td>
          </tr>
          <tr>
            <td>knda</td>
            <td>U+0CE6 から U+0CEF</td>
          </tr>
          <tr>
            <td>krai</td>
            <td>U+16D70 から U+16D79</td>
          </tr>
          <tr>
            <td>lana</td>
            <td>U+1A80 から U+1A89</td>
          </tr>
          <tr>
            <td>lanatham</td>
            <td>U+1A90 から U+1A99</td>
          </tr>
          <tr>
            <td>laoo</td>
            <td>U+0ED0 から U+0ED9</td>
          </tr>
          <tr>
            <td>latn</td>
            <td>U+0030 から U+0039</td>
          </tr>
          <tr>
            <td>lepc</td>
            <td>U+1C40 から U+1C49</td>
          </tr>
          <tr>
            <td>limb</td>
            <td>U+1946 から U+194F</td>
          </tr>
          <tr>
            <td>mathbold</td>
            <td>U+1D7CE から U+1D7D7</td>
          </tr>
          <tr>
            <td>mathdbl</td>
            <td>U+1D7D8 から U+1D7E1</td>
          </tr>
          <tr>
            <td>mathmono</td>
            <td>U+1D7F6 から U+1D7FF</td>
          </tr>
          <tr>
            <td>mathsanb</td>
            <td>U+1D7EC から U+1D7F5</td>
          </tr>
          <tr>
            <td>mathsans</td>
            <td>U+1D7E2 から U+1D7EB</td>
          </tr>
          <tr>
            <td>mlym</td>
            <td>U+0D66 から U+0D6F</td>
          </tr>
          <tr>
            <td>modi</td>
            <td>U+11650 から U+11659</td>
          </tr>
          <tr>
            <td>mong</td>
            <td>U+1810 から U+1819</td>
          </tr>
          <tr>
            <td>mroo</td>
            <td>U+16A60 から U+16A69</td>
          </tr>
          <tr>
            <td>mtei</td>
            <td>U+ABF0 から U+ABF9</td>
          </tr>
          <tr>
            <td>mymr</td>
            <td>U+1040 から U+1049</td>
          </tr>
          <tr>
            <td>mymrepka</td>
            <td>U+116DA から U+116E3</td>
          </tr>
          <tr>
            <td>mymrpao</td>
            <td>U+116D0 から U+116D9</td>
          </tr>
          <tr>
            <td>mymrshan</td>
            <td>U+1090 から U+1099</td>
          </tr>
          <tr>
            <td>mymrtlng</td>
            <td>U+A9F0 から U+A9F9</td>
          </tr>
          <tr>
            <td>nagm</td>
            <td>U+1E4F0 から U+1E4F9</td>
          </tr>
          <tr>
            <td>newa</td>
            <td>U+11450 から U+11459</td>
          </tr>
          <tr>
            <td>nkoo</td>
            <td>U+07C0 から U+07C9</td>
          </tr>
          <tr>
            <td>olck</td>
            <td>U+1C50 から U+1C59</td>
          </tr>
          <tr>
            <td>onao</td>
            <td>U+1E5F1 から U+1E5FA</td>
          </tr>
          <tr>
            <td>orya</td>
            <td>U+0B66 から U+0B6F</td>
          </tr>
          <tr>
            <td>osma</td>
            <td>U+104A0 から U+104A9</td>
          </tr>
          <tr>
            <td>outlined</td>
            <td>U+1CCF0 から U+1CCF9</td>
          </tr>
          <tr>
            <td>rohg</td>
            <td>U+10D30 から U+10D39</td>
          </tr>
          <tr>
            <td>saur</td>
            <td>U+A8D0 から U+A8D9</td>
          </tr>
          <tr>
            <td>segment</td>
            <td>U+1FBF0 から U+1FBF9</td>
          </tr>
          <tr>
            <td>shrd</td>
            <td>U+111D0 から U+111D9</td>
          </tr>
          <tr>
            <td>sind</td>
            <td>U+112F0 から U+112F9</td>
          </tr>
          <tr>
            <td>sinh</td>
            <td>U+0DE6 から U+0DEF</td>
          </tr>
          <tr>
            <td>sora</td>
            <td>U+110F0 から U+110F9</td>
          </tr>
          <tr>
            <td>sund</td>
            <td>U+1BB0 から U+1BB9</td>
          </tr>
          <tr>
            <td>sunu</td>
            <td>U+11BF0 から U+11BF9</td>
          </tr>
          <tr>
            <td>takr</td>
            <td>U+116C0 から U+116C9</td>
          </tr>
          <tr>
            <td>talu</td>
            <td>U+19D0 から U+19D9</td>
          </tr>
          <tr>
            <td>tamldec</td>
            <td>U+0BE6 から U+0BEF</td>
          </tr>
          <tr>
            <td>telu</td>
            <td>U+0C66 から U+0C6F</td>
          </tr>
          <tr>
            <td>thai</td>
            <td>U+0E50 から U+0E59</td>
          </tr>
          <tr>
            <td>tibt</td>
            <td>U+0F20 から U+0F29</td>
          </tr>
          <tr>
            <td>tirh</td>
            <td>U+114D0 から U+114D9</td>
          </tr>
          <tr>
            <td>tnsa</td>
            <td>U+16AC0 から U+16AC9</td>
          </tr>
          <tr>
            <td>tols</td>
            <td>U+11DE0 から U+11DE9</td>
          </tr>
          <tr>
            <td>vaii</td>
            <td>U+A620 から U+A629</td>
          </tr>
          <tr>
            <td>wara</td>
            <td>U+118E0 から U+118E9</td>
          </tr>
          <tr>
            <td>wcho</td>
            <td>U+1E2F0 から U+1E2F9</td>
          </tr>
        </tbody></table>
      </figure></emu-table>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        計算は <emu-xref href="#sec-implementation-dependencies" id="_ref_829"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> および <emu-xref href="#sec-implementation-dependencies" id="_ref_830"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列値と数値文字列内の場所に依存し、<var>numberFormat</var> の有効ロケールや番号体系に依存する。通貨名以外の <emu-xref href="#sec-implementation-dependencies" id="_ref_831"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> および <emu-xref href="#sec-implementation-dependencies" id="_ref_832"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列値は Unicode 標準で指定された
        General Category "Number, decimal digit" のコードポイントを含んではならない。
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        実装は <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a> で提供されている Common Locale Data Repository
        のロケールを使用することが推奨される。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-formatnumber" type="abstract operation" aoid="FormatNumeric">
      <h1><span class="secnum">16.5.6</span> FormatNumeric ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatNumeric takes arguments <var>numberFormat</var> (Intl.NumberFormat オブジェクト) and <var>x</var> (Intl 数学的値) and returns 文字列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_833"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) に設定する。</li><li><var>result</var> を空文字列に設定する。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について、</li><li><var>result</var> を <var>result</var> と <var>part</var>.<var class="field">[[Value]]</var> の連結に設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumbertoparts" type="abstract operation" aoid="FormatNumericToParts">
      <h1><span class="secnum">16.5.7</span> FormatNumericToParts ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatNumericToParts takes arguments <var>numberFormat</var> (Intl.NumberFormat オブジェクト) and <var>x</var> (Intl 数学的値) and returns 配列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_834"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) に設定する。</li><li><var>result</var> を !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0) に設定する。</li><li><var>n</var> を 0 に設定する。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> について、</li><li><var>O</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) に設定する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>) を実行する。</li><li><var>n</var> を 1 増やす。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-torawprecision" type="abstract operation">
      <h1><span class="secnum">16.5.8</span> 
        ToRawPrecision (
        <var>x</var>: 非負の数学的値,
        <var>minPrecision</var>: 1 から 21 の範囲の整数,
        <var>maxPrecision</var>: 1 から 21 の範囲の整数,
        <var>unsignedRoundingMode</var>: <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_145"><a href="#table-intl-unsigned-rounding-modes">Table 31</a></emu-xref> の Unsigned Rounding
        Mode 列の仕様型、または <emu-val>undefined</emu-val>,
        ): Record { <var class="field">[[FormattedString]]</var>（文字列）, <var class="field">[[RoundedNumber]]</var>（数学的値）, <var class="field">[[IntegerDigitsCount]]</var>（整数）,
        <var class="field">[[RoundingMagnitude]]</var>（整数） }
      </h1>
      <p>The abstract operation UNKNOWN takes UNPARSEABLE ARGUMENTS. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>p</var> を <var>maxPrecision</var> に設定する。</li><li><var>x</var> = 0 の場合、</li><li><var>m</var> を <var>p</var> 回 0x0030（DIGIT ZERO）のコードユニットからなる文字列に設定する。</li><li><var>e</var> を 0 に設定する。</li><li><var>xFinal</var> を 0 に設定する。</li><li>それ以外の場合、</li><li declared="n1,e1,r1"><var>n1</var>, <var>e1</var> を整数、<var>r1</var> を数学的値とし、<emu-eqn class="inline"><var>r1</var> = ToRawPrecisionFn(<var>n1</var>, <var>e1</var>, <var>p</var>)</emu-eqn>
        かつ <emu-eqn class="inline"><var>r1</var> ≤ <var>x</var></emu-eqn> かつ <var>r1</var> が最大となるようにする。</li><li declared="n2,e2,r2"><var>n2</var>, <var>e2</var> を整数、<var>r2</var> を数学的値とし、<emu-eqn class="inline"><var>r2</var> = ToRawPrecisionFn(<var>n2</var>, <var>e2</var>, <var>p</var>)</emu-eqn>
        かつ <emu-eqn class="inline"><var>r2</var> ≥ <var>x</var></emu-eqn> かつ <var>r2</var> が最小となるようにする。</li><li><var>xFinal</var> を ApplyUnsignedRoundingMode(<var>x</var>, <var>r1</var>, <var>r2</var>, <var>unsignedRoundingMode</var>) に設定する。</li><li><var>xFinal</var> が <var>r1</var> の場合、</li><li><var>n</var> を <var>n1</var> に設定する。</li><li><var>e</var> を <var>e1</var> に設定する。</li><li>それ以外の場合、</li><li><var>n</var> を <var>n2</var> に設定する。</li><li><var>e</var> を <var>e2</var> に設定する。</li><li><var>m</var> を <var>n</var> の10進表現の数字列（順序通り、先頭ゼロなし）からなる文字列に設定する。</li><li><var>e</var> ≥ (<var>p</var> - 1) の場合、</li><li><var>m</var> を <var>m</var> と (<var>e</var> - <var>p</var> + 1) 回 0x0030（DIGIT ZERO）のコードユニットの連結に設定する。</li><li><var>int</var> を <var>e</var> + 1 に設定する。</li><li>それ以外で <var>e</var> ≥ 0 の場合、</li><li><var>m</var> を最初の <var>e</var> + 1 コードユニット、0x002E（FULL STOP）、残りの <var>p</var> - (<var>e</var> + 1) コードユニットの連結に設定する。</li><li><var>int</var> を <var>e</var> + 1 に設定する。</li><li>それ以外の場合、</li><li>アサート: <var>e</var> &lt; 0。</li><li><var>m</var> を <emu-val>"0."</emu-val>、-(<var>e</var> + 1) 回 0x0030（DIGIT ZERO）、<var>m</var> の連結に設定する。</li><li><var>int</var> を 1 に設定する。</li><li><var>m</var> が 0x002E（FULL STOP）を含み、<var>maxPrecision</var> &gt; <var>minPrecision</var> の場合、</li><li><var>cut</var> を <var>maxPrecision</var> - <var>minPrecision</var> に設定する。</li><li><var>cut</var> &gt; 0 かつ <var>m</var> の末尾が 0x0030（DIGIT ZERO）の間繰り返す、</li><li><var>m</var> の末尾のコードユニットを削除する。</li><li><var>cut</var> を 1 減らす。</li><li><var>m</var> の末尾が 0x002E（FULL STOP）の場合、</li><li><var>m</var> の末尾のコードユニットを削除する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[FormattedString]]</var>: <var>m</var>, <var class="field">[[RoundedNumber]]</var>: <var>xFinal</var>, <var class="field">[[IntegerDigitsCount]]</var>: <var>int</var>,
        <var class="field">[[RoundingMagnitude]]</var>: <var>e</var>–<var>p</var>+1&nbsp;} を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-torawfixed" type="abstract operation">
      <h1><span class="secnum">16.5.9</span> 
        ToRawFixed (
        <var>x</var>: 非負の数学的値,
        <var>minFraction</var>: 0 から 100 の範囲の整数,
        <var>maxFraction</var>: 0 から 100 の範囲の整数,
        <var>roundingIncrement</var>: 整数,
        <var>unsignedRoundingMode</var>: <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_146"><a href="#table-intl-unsigned-rounding-modes">Table 31</a></emu-xref> の Unsigned Rounding
        Mode 列の仕様型、または <emu-val>undefined</emu-val>,
        ): Record { <var class="field">[[FormattedString]]</var>（文字列）, <var class="field">[[RoundedNumber]]</var>（数学的値）, <var class="field">[[IntegerDigitsCount]]</var>（整数）,
        <var class="field">[[RoundingMagnitude]]</var>（整数） }
      </h1>
      <p>The abstract operation UNKNOWN takes UNPARSEABLE ARGUMENTS. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>f</var> を <var>maxFraction</var> に設定する。</li><li declared="n1,r1"><var>n1</var> を整数、<var>r1</var> を数学的値とし、<emu-eqn class="inline"><var>r1</var> = ToRawFixedFn(<var>n1</var>, <var>f</var>)</emu-eqn> かつ <emu-eqn class="inline"><var>n1</var>
          <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> <var>roundingIncrement</var> = 0</emu-eqn> かつ <emu-eqn class="inline"><var>r1</var> ≤ <var>x</var></emu-eqn> かつ <var>r1</var> が最大となるようにする。</li><li declared="n2,r2"><var>n2</var> を整数、<var>r2</var> を数学的値とし、<emu-eqn class="inline"><var>r2</var> = ToRawFixedFn(<var>n2</var>, <var>f</var>)</emu-eqn> かつ <emu-eqn class="inline"><var>n2</var>
          <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> <var>roundingIncrement</var> = 0</emu-eqn> かつ <emu-eqn class="inline"><var>r2</var> ≥ <var>x</var></emu-eqn> かつ <var>r2</var> が最小となるようにする。</li><li><var>xFinal</var> を ApplyUnsignedRoundingMode(<var>x</var>, <var>r1</var>, <var>r2</var>, <var>unsignedRoundingMode</var>) に設定する。</li><li><var>xFinal</var> が <var>r1</var> の場合、<var>n</var> を <var>n1</var> に設定する。そうでなければ <var>n</var> を <var>n2</var> に設定する。</li><li><var>n</var> = 0 の場合、<var>m</var> を <emu-val>"0"</emu-val> に設定する。そうでなければ <var>m</var> を <var>n</var> の10進表現の数字列（順序通り、先頭ゼロなし）からなる文字列に設定する。</li><li><var>f</var> ≠ 0 の場合、</li><li><var>k</var> を <var>m</var> の長さに設定する。</li><li><var>k</var> ≤ <var>f</var> の場合、</li><li><var>z</var> を (<var>f</var> + 1 - <var>k</var>) 回 0x0030（DIGIT ZERO）のコードユニットからなる文字列に設定する。</li><li><var>m</var> を <var>z</var> と <var>m</var> の連結に設定する。</li><li><var>k</var> を <var>f</var> + 1 に設定する。</li><li><var>a</var> を <var>m</var> の最初の <var>k</var> - <var>f</var> コードユニット、<var>b</var> を残りの <var>f</var> コードユニットに設定する。</li><li><var>m</var> を <var>a</var>、<emu-val>"."</emu-val>、<var>b</var> の連結に設定する。</li><li><var>int</var> を <var>a</var> の長さに設定する。</li><li>それ以外の場合、</li><li><var>int</var> を <var>m</var> の長さに設定する。</li><li><var>cut</var> を <var>maxFraction</var> - <var>minFraction</var> に設定する。</li><li><var>cut</var> &gt; 0 かつ <var>m</var> の末尾が 0x0030（DIGIT ZERO）の間繰り返す、</li><li><var>m</var> の末尾のコードユニットを削除する。</li><li><var>cut</var> を 1 減らす。</li><li><var>m</var> の末尾が 0x002E（FULL STOP）の場合、</li><li><var>m</var> の末尾のコードユニットを削除する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[FormattedString]]</var>: <var>m</var>, <var class="field">[[RoundedNumber]]</var>: <var>xFinal</var>, <var class="field">[[IntegerDigitsCount]]</var>: <var>int</var>,
        <var class="field">[[RoundingMagnitude]]</var>: –<var>f</var>&nbsp;} を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-unwrapnumberformat" type="abstract operation" normative-optional="" aoid="UnwrapNumberFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
      <h1><span class="secnum">16.5.10</span> UnwrapNumberFormat ( <var>nf</var> )</h1>
      <p>The abstract operation UnwrapNumberFormat takes argument <var>nf</var> (ECMAScript 言語値) and returns 正常完了値として ECMAScript 言語値を含むか、throw 完了値. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>nf</var> がオブジェクトでない場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>nf</var> が <var class="field">[[InitializedNumberFormat]]</var> 内部スロットを持たず、かつ ?&nbsp;<emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_835"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, <var>nf</var>) が <emu-val>true</emu-val>
        の場合、</li><li>?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>nf</var>, <emu-xref href="#intl-object" id="_ref_836"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>) を返す。</li><li><var>nf</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getnumberformatpattern" type="abstract operation" aoid="GetNumberFormatPattern">
      <h1><span class="secnum">16.5.11</span> GetNumberFormatPattern ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation GetNumberFormatPattern takes arguments <var>numberFormat</var> (Intl.NumberFormat オブジェクト) and <var>x</var> (Intl 数学的値) and returns 文字列. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>resolvedLocaleData</var> を <var>numberFormat</var>.<var class="field">[[LocaleData]]</var> に設定する。</li><li><var>patterns</var> を <var>resolvedLocaleData</var>.<var class="field">[[patterns]]</var> に設定する。</li><li>アサート: <var>patterns</var> は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である（<emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_147"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref> 参照）。</li><li><var>style</var> を <var>numberFormat</var>.<var class="field">[[Style]]</var> に設定する。</li><li><var>style</var> が <emu-val>"percent"</emu-val> の場合、</li><li><var>patterns</var> を <var>patterns</var>.<var class="field">[[percent]]</var> に設定する。</li><li>それ以外で <var>style</var> が <emu-val>"unit"</emu-val> の場合、</li><li><var>unit</var> を <var>numberFormat</var>.<var class="field">[[Unit]]</var> に設定する。</li><li><var>unitDisplay</var> を <var>numberFormat</var>.<var class="field">[[UnitDisplay]]</var> に設定する。</li><li><var>patterns</var> を <var>patterns</var>.<var class="field">[[unit]]</var> に設定する。</li><li><var>patterns</var> が [[&lt;<var>unit</var>&gt;]] フィールドを持たない場合、</li><li><var>unit</var> を <emu-val>"fallback"</emu-val> に設定する。</li><li><var>patterns</var> を <var>patterns</var>.[[&lt;<var>unit</var>&gt;]] に設定する。</li><li><var>patterns</var> を <var>patterns</var>.[[&lt;<var>unitDisplay</var>&gt;]] に設定する。</li><li>それ以外で <var>style</var> が <emu-val>"currency"</emu-val> の場合、</li><li><var>currency</var> を <var>numberFormat</var>.<var class="field">[[Currency]]</var> に設定する。</li><li><var>currencyDisplay</var> を <var>numberFormat</var>.<var class="field">[[CurrencyDisplay]]</var> に設定する。</li><li><var>currencySign</var> を <var>numberFormat</var>.<var class="field">[[CurrencySign]]</var> に設定する。</li><li><var>patterns</var> を <var>patterns</var>.<var class="field">[[currency]]</var> に設定する。</li><li><var>patterns</var> が [[&lt;<var>currency</var>&gt;]] フィールドを持たない場合、</li><li><var>currency</var> を <emu-val>"fallback"</emu-val> に設定する。</li><li><var>patterns</var> を <var>patterns</var>.[[&lt;<var>currency</var>&gt;]] に設定する。</li><li><var>patterns</var> を <var>patterns</var>.[[&lt;<var>currencyDisplay</var>&gt;]] に設定する。</li><li><var>patterns</var> を <var>patterns</var>.[[&lt;<var>currencySign</var>&gt;]] に設定する。</li><li>それ以外の場合、</li><li>アサート: <var>style</var> は <emu-val>"decimal"</emu-val> である。</li><li><var>patterns</var> を <var>patterns</var>.<var class="field">[[decimal]]</var> に設定する。</li><li><var>x</var> が <emu-const>negative-infinity</emu-const> の場合、</li><li><var>category</var> を <emu-const>negative-non-zero</emu-const> に設定する。</li><li>それ以外で <var>x</var> が <emu-const>negative-zero</emu-const> の場合、</li><li><var>category</var> を <emu-const>negative-zero</emu-const> に設定する。</li><li>それ以外で <var>x</var> が <emu-const>not-a-number</emu-const> の場合、</li><li><var>category</var> を <emu-const>positive-zero</emu-const> に設定する。</li><li>それ以外で <var>x</var> が <emu-const>positive-infinity</emu-const> の場合、</li><li><var>category</var> を <emu-const>positive-non-zero</emu-const> に設定する。</li><li>それ以外の場合、</li><li>アサート: <var>x</var> は数学的値である。</li><li><var>x</var> &lt; 0 の場合、</li><li><var>category</var> を <emu-const>negative-non-zero</emu-const> に設定する。</li><li>それ以外で <var>x</var> &gt; 0 の場合、</li><li><var>category</var> を <emu-const>positive-non-zero</emu-const> に設定する。</li><li>それ以外の場合、</li><li><var>category</var> を <emu-const>positive-zero</emu-const> に設定する。</li><li><var>signDisplay</var> を <var>numberFormat</var>.<var class="field">[[SignDisplay]]</var> に設定する。</li><li><var>signDisplay</var> が <emu-val>"never"</emu-val> の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[zeroPattern]]</var> に設定する。</li><li>それ以外で <var>signDisplay</var> が <emu-val>"auto"</emu-val> の場合、</li><li><var>category</var> が <emu-const>positive-non-zero</emu-const> または <emu-const>positive-zero</emu-const> の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[zeroPattern]]</var> に設定する。</li><li>それ以外の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[negativePattern]]</var> に設定する。</li><li>それ以外で <var>signDisplay</var> が <emu-val>"always"</emu-val> の場合、</li><li><var>category</var> が <emu-const>positive-non-zero</emu-const> または <emu-const>positive-zero</emu-const> の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[positivePattern]]</var> に設定する。</li><li>それ以外の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[negativePattern]]</var> に設定する。</li><li>それ以外で <var>signDisplay</var> が <emu-val>"exceptZero"</emu-val> の場合、</li><li><var>category</var> が <emu-const>positive-zero</emu-const> または <emu-const>negative-zero</emu-const> の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[zeroPattern]]</var> に設定する。</li><li>それ以外で <var>category</var> が <emu-const>positive-non-zero</emu-const> の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[positivePattern]]</var> に設定する。</li><li>それ以外の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[negativePattern]]</var> に設定する。</li><li>それ以外の場合、</li><li>アサート: <var>signDisplay</var> は <emu-val>"negative"</emu-val> である。</li><li><var>category</var> が <emu-const>negative-non-zero</emu-const> の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[negativePattern]]</var> に設定する。</li><li>それ以外の場合、</li><li><var>pattern</var> を <var>patterns</var>.<var class="field">[[zeroPattern]]</var> に設定する。</li><li><var>pattern</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getnotationsubpattern" type="abstract operation" aoid="GetNotationSubPattern">
      <h1><span class="secnum">16.5.12</span> GetNotationSubPattern ( <var>numberFormat</var>, <var>exponent</var> )</h1>
      <p>The abstract operation GetNotationSubPattern takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>exponent</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns a String. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>resolvedLocaleData</var> を <var>numberFormat</var>.<var class="field">[[LocaleData]]</var> に設定する。</li><li><var>notationSubPatterns</var> を <var>resolvedLocaleData</var>.<var class="field">[[notationSubPatterns]]</var> に設定する。</li><li>アサート: <var>notationSubPatterns</var> は <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> である（<emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_148"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>
        参照）。</li><li><var>notation</var> を <var>numberFormat</var>.<var class="field">[[Notation]]</var> に設定する。</li><li><var>notation</var> が <emu-val>"scientific"</emu-val> または <emu-val>"engineering"</emu-val> の場合、</li><li><var>notationSubPatterns</var>.<var class="field">[[scientific]]</var> を返す。</li><li>それ以外で <var>exponent</var> が 0 でない場合、</li><li>アサート: <var>notation</var> は <emu-val>"compact"</emu-val> である。</li><li><var>compactDisplay</var> を <var>numberFormat</var>.<var class="field">[[CompactDisplay]]</var> に設定する。</li><li><var>compactPatterns</var> を <var>notationSubPatterns</var>.<var class="field">[[compact]]</var>.[[&lt;<var>compactDisplay</var>&gt;]] に設定する。</li><li><var>compactPatterns</var>.[[&lt;<var>exponent</var>&gt;]] を返す。</li><li>それ以外の場合、</li><li><emu-val>"{number}"</emu-val> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-computeexponent" type="abstract operation" aoid="ComputeExponent">
      <h1><span class="secnum">16.5.13</span> ComputeExponent ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation ComputeExponent takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>x</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>) and returns an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>x</var> = 0 の場合、</li><li>0 を返す。</li><li><var>x</var> &lt; 0 の場合、</li><li><var>x</var> を -<var>x</var> に設定する。</li><li><var>magnitude</var> を <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<emu-xref aoid="log10"><a href="https://tc39.es/ecma262/#eqn-log10">log10</a></emu-xref>(<var>x</var>)) に設定する。</li><li><var>exponent</var> を <emu-xref aoid="ComputeExponentForMagnitude" id="_ref_837"><a href="#sec-computeexponentformagnitude">ComputeExponentForMagnitude</a></emu-xref>(<var>numberFormat</var>, <var>magnitude</var>) に設定する。</li><li><var>x</var> を <var>x</var> × 10<sup>-<var>exponent</var></sup> に設定する。</li><li><var>formatNumberResult</var> を <emu-xref aoid="FormatNumericToString" id="_ref_838"><a href="#sec-formatnumerictostring">FormatNumericToString</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) に設定する。</li><li><var>formatNumberResult</var>.<var class="field">[[RoundedNumber]]</var> = 0 の場合、</li><li><var>exponent</var> を返す。</li><li><var>newMagnitude</var> を <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<emu-xref aoid="log10"><a href="https://tc39.es/ecma262/#eqn-log10">log10</a></emu-xref>(<var>formatNumberResult</var>.<var class="field">[[RoundedNumber]]</var>)) に設定する。</li><li><var>newMagnitude</var> が <var>magnitude</var> - <var>exponent</var> の場合、</li><li><var>exponent</var> を返す。</li><li><emu-xref aoid="ComputeExponentForMagnitude" id="_ref_839"><a href="#sec-computeexponentformagnitude">ComputeExponentForMagnitude</a></emu-xref>(<var>numberFormat</var>, <var>magnitude</var> + 1) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-computeexponentformagnitude" type="abstract operation" aoid="ComputeExponentForMagnitude">
      <h1><span class="secnum">16.5.14</span> ComputeExponentForMagnitude ( <var>numberFormat</var>, <var>magnitude</var> )</h1>
      <p>The abstract operation ComputeExponentForMagnitude takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>magnitude</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>notation</var> を <var>numberFormat</var>.<var class="field">[[Notation]]</var> に設定する。</li><li><var>notation</var> が <emu-val>"standard"</emu-val> の場合、</li><li>0 を返す。</li><li>それ以外で <var>notation</var> が <emu-val>"scientific"</emu-val> の場合、</li><li><var>magnitude</var> を返す。</li><li>それ以外で <var>notation</var> が <emu-val>"engineering"</emu-val> の場合、</li><li><var>thousands</var> を <var>magnitude</var> / 3 以下の最大整数に設定する。</li><li><var>thousands</var> × 3 を返す。</li><li>それ以外の場合、</li><li>アサート: <var>notation</var> は <emu-val>"compact"</emu-val> である。</li><li><var>exponent</var> を現在のロケールの compact 記法で与えられた桁数を持つ数値をスケーリングするべき <emu-xref href="#sec-implementation-dependencies" id="_ref_840"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 整数に設定する。</li><li><var>exponent</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-runtime-semantics-stringintlmv" type="sdo" aoid="StringIntlMV">
      <h1><span class="secnum">16.5.15</span> Runtime Semantics: StringIntlMV</h1>
      <p>The <emu-xref href="#sec-algorithm-conventions-syntax-directed-operations"><a href="https://tc39.es/ecma262/#sec-algorithm-conventions-syntax-directed-operations">syntax-directed operation</a></emu-xref> StringIntlMV takes no arguments.</p>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p><emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> を Number 値に変換する処理は、<emu-nt><a href="https://tc39.es/ecma262/#prod-NumericLiteral">NumericLiteral</a></emu-nt> の <emu-xref aoid="NumericValue"><a href="https://tc39.es/ecma262/#sec-numericvalue">NumericValue</a></emu-xref> の決定（<emu-xref href="#sec-literals-numeric-literals"><a href="https://tc39.es/ecma262/#sec-literals-numeric-literals">12.9.3</a></emu-xref> 参照）と全体的に似ているが、詳細は異なる。</p>
      </div></emu-note>
      <p>It is defined piecewise over the following productions:</p>
      <emu-grammar><emu-production name="StringNumericLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="mkvpahdu"><emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-StrWhiteSpace">StrWhiteSpace</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt></emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>0 を返す。</li></ol></emu-alg>
      <emu-grammar><emu-production name="StringNumericLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="_ljdljxm">
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-StrWhiteSpace">StrWhiteSpace</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
        <emu-nt><a href="https://tc39.es/ecma262/#prod-StrNumericLiteral">StrNumericLiteral</a></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-StrWhiteSpace">StrWhiteSpace</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li><emu-nt><a href="https://tc39.es/ecma262/#prod-StrNumericLiteral">StrNumericLiteral</a></emu-nt> の <emu-xref aoid="StringIntlMV" id="_ref_841"><a href="#sec-runtime-semantics-stringintlmv">StringIntlMV</a></emu-xref> を返す。</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrNumericLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrNumericLiteral">StrNumericLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="6ge3c7dq"><emu-nt><a href="https://tc39.es/ecma262/#prod-NonDecimalIntegerLiteral">NonDecimalIntegerLiteral</a></emu-nt></emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li><emu-nt><a href="https://tc39.es/ecma262/#prod-NonDecimalIntegerLiteral">NonDecimalIntegerLiteral</a></emu-nt> の MV を返す。</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrDecimalLiteral">StrDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="1g8bpsll">
        <emu-t>-</emu-t>
        <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li><var>a</var> を <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> の <emu-xref aoid="StringIntlMV" id="_ref_842"><a href="#sec-runtime-semantics-stringintlmv">StringIntlMV</a></emu-xref> に設定する。</li><li><var>a</var> が 0 の場合、<emu-const>negative-zero</emu-const> を返す。</li><li><var>a</var> が <emu-const>positive-infinity</emu-const> の場合、<emu-const>negative-infinity</emu-const> を返す。</li><li>-<var>a</var> を返す。</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="sv6n-gkb"><emu-t>Infinity</emu-t></emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li><emu-const>positive-infinity</emu-const> を返す。</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="iokglhcc">
        <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>
        <emu-t>.</emu-t>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>最初の <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> の MV を <var>a</var> に設定する。</li><li>2番目の <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> が存在する場合、</li><li>2番目の <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> の MV を <var>b</var> に設定する。</li><li>2番目の <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> のコードポイント数を <var>n</var> に設定する。</li><li>それ以外の場合、</li><li><var>b</var> を 0 に設定する。</li><li><var>n</var> を 0 に設定する。</li><li><emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> が存在する場合、<var>e</var> を <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> の MV に設定する。存在しない場合、<var>e</var> を 0 に設定する。</li><li>(<var>a</var> + (<var>b</var> × 10<sup>-<var>n</var></sup>)) × 10<sup><var>e</var></sup> を返す。</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="xpoqnclz">
        <emu-t>.</emu-t>
        <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li><emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> の MV を <var>b</var> に設定する。</li><li><emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> が存在する場合、<var>e</var> を <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> の MV に設定する。存在しない場合、<var>e</var> を 0 に設定する。</li><li><emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> のコードポイント数を <var>n</var> に設定する。</li><li><var>b</var> × 10<sup><var>e</var> - <var>n</var></sup> を返す。</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="joj696lw">
        <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li><emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> の MV を <var>a</var> に設定する。</li><li><emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> が存在する場合、<var>e</var> を <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> の MV に設定する。存在しない場合、<var>e</var> を 0 に設定する。</li><li><var>a</var> × 10<sup><var>e</var></sup> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-tointlmathematicalvalue" type="abstract operation" aoid="ToIntlMathematicalValue">
      <h1><span class="secnum">16.5.16</span> ToIntlMathematicalValue ( <var>value</var> )</h1>
      <p>The abstract operation ToIntlMathematicalValue takes argument <var>value</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Intl <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>primValue</var> を ?&nbsp;<emu-xref aoid="ToPrimitive"><a href="https://tc39.es/ecma262/#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>value</var>, <emu-const>number</emu-const>) に設定する。</li><li><var>primValue</var> が BigInt の場合、<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>primValue</var>) を返す。</li><li><var>primValue</var> が String の場合、</li><li><var>str</var> を <var>primValue</var> に設定する。</li><li>それ以外の場合、</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>primValue</var>) に設定する。</li><li><var>x</var> が <emu-val>-0</emu-val><sub>𝔽</sub> の場合、<emu-const>negative-zero</emu-const> を返す。</li><li><var>str</var> を <emu-xref aoid="Number::toString"><a href="https://tc39.es/ecma262/#sec-numeric-types-number-tostring">Number::toString</a></emu-xref>(<var>x</var>, 10) に設定する。</li><li><var>text</var> を <emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>str</var>) に設定する。</li><li><var>literal</var> を <emu-xref aoid="ParseText"><a href="https://tc39.es/ecma262/#sec-parsetext">ParseText</a></emu-xref>(<var>text</var>, <emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt>) に設定する。</li><li><var>literal</var> がエラーのリストの場合、<emu-const>not-a-number</emu-const> を返す。</li><li><var>intlMV</var> を <var>literal</var> の <emu-xref aoid="StringIntlMV" id="_ref_843"><a href="#sec-runtime-semantics-stringintlmv">StringIntlMV</a></emu-xref> に設定する。</li><li><var>intlMV</var> が数学的値の場合、</li><li><var>rounded</var> を <emu-xref aoid="RoundMVResult"><a href="https://tc39.es/ecma262/#sec-roundmvresult">RoundMVResult</a></emu-xref>(<emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>intlMV</var>)) に設定する。</li><li><var>rounded</var> が <emu-val>+∞</emu-val><sub>𝔽</sub> かつ <var>intlMV</var> &lt; 0 の場合、<emu-const>negative-infinity</emu-const> を返す。</li><li><var>rounded</var> が <emu-val>+∞</emu-val><sub>𝔽</sub> の場合、<emu-const>positive-infinity</emu-const> を返す。</li><li><var>rounded</var> が <emu-val>+0</emu-val><sub>𝔽</sub> かつ <var>intlMV</var> &lt; 0 の場合、<emu-const>negative-zero</emu-const> を返す。</li><li><var>rounded</var> が <emu-val>+0</emu-val><sub>𝔽</sub> の場合、0 を返す。</li><li><var>intlMV</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getunsignedroundingmode" type="abstract operation" aoid="GetUnsignedRoundingMode">
      <h1><span class="secnum">16.5.17</span> GetUnsignedRoundingMode ( <var>roundingMode</var>, <var>sign</var> )</h1>
      <p>The abstract operation GetUnsignedRoundingMode takes arguments <var>roundingMode</var> (a rounding mode) and <var>sign</var> (<emu-const>negative</emu-const> or <emu-const>positive</emu-const>) and returns a specification type from the Unsigned Rounding Mode column of . It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_149"><a href="#table-intl-unsigned-rounding-modes">Table 31</a></emu-xref> の Identifier 列が <var>roundingMode</var> かつ Sign 列が
        <var>sign</var> の行の Unsigned Rounding Mode 列の仕様型を返す。</li></ol></emu-alg>
      <emu-table id="table-intl-unsigned-rounding-modes"><figure><figcaption>Table 31: <emu-xref href="#rounding-mode" id="_ref_844"><a href="#rounding-mode">丸めモード</a></emu-xref>から符号なし<emu-xref href="#rounding-mode" id="_ref_845"><a href="#rounding-mode">丸めモード</a></emu-xref>への変換</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Identifier</th>
              <th>Sign</th>
              <th>Unsigned Rounding Mode</th>
            </tr>
          </thead>
          <tbody><tr>
            <td rowspan="2"><emu-val>"ceil"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"floor"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"expand"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"trunc"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfCeil"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfFloor"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfExpand"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfTrunc"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfEven"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-even</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-even</emu-const></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-applyunsignedroundingmode" type="abstract operation">
      <h1><span class="secnum">16.5.18</span> 
        ApplyUnsignedRoundingMode (
        <var>x</var>: a mathematical value,
        <var>r1</var>: a mathematical value,
        <var>r2</var>: a mathematical value,
        <var>unsignedRoundingMode</var>: a specification type from the Unsigned Rounding Mode column of <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_150"><a href="#table-intl-unsigned-rounding-modes">Table 31</a></emu-xref>, or <emu-val>undefined</emu-val>,
        ): a mathematical value
      </h1>
      <p>The abstract operation UNKNOWN takes UNPARSEABLE ARGUMENTS. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>x</var> が <var>r1</var> の場合、<var>r1</var> を返す。</li><li>アサート: <var>r1</var> &lt; <var>x</var> &lt; <var>r2</var>。</li><li>アサート: <var>unsignedRoundingMode</var> は <emu-val>undefined</emu-val> でない。</li><li><var>unsignedRoundingMode</var> が <emu-const>zero</emu-const> の場合、<var>r1</var> を返す。</li><li><var>unsignedRoundingMode</var> が <emu-const>infinity</emu-const> の場合、<var>r2</var> を返す。</li><li><var>d1</var> を <emu-eqn class="inline"><var>x</var> – <var>r1</var></emu-eqn> に設定する。</li><li><var>d2</var> を <emu-eqn class="inline"><var>r2</var> – <var>x</var></emu-eqn> に設定する。</li><li><var>d1</var> &lt; <var>d2</var> の場合、<var>r1</var> を返す。</li><li><var>d2</var> &lt; <var>d1</var> の場合、<var>r2</var> を返す。</li><li>アサート: <var>d1</var> は <var>d2</var> である。</li><li><var>unsignedRoundingMode</var> が <emu-const>half-zero</emu-const> の場合、<var>r1</var> を返す。</li><li><var>unsignedRoundingMode</var> が <emu-const>half-infinity</emu-const> の場合、<var>r2</var> を返す。</li><li>アサート: <var>unsignedRoundingMode</var> は <emu-const>half-even</emu-const> である。</li><li><var>cardinality</var> を <emu-eqn class="inline">(<var>r1</var> / (<var>r2</var> – <var>r1</var>)) <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> 2</emu-eqn> に設定する。</li><li><var>cardinality</var> が 0 の場合、<var>r1</var> を返す。</li><li><var>r2</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionnumberrangepattern" type="abstract operation" aoid="PartitionNumberRangePattern">
      <h1><span class="secnum">16.5.19</span> PartitionNumberRangePattern ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation PartitionNumberRangePattern takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>x</var> (an Intl <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), and <var>y</var> (an Intl <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>x</var> が <emu-const>not-a-number</emu-const> または <var>y</var> が <emu-const>not-a-number</emu-const> の場合、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>xResult</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_846"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) に設定する。</li><li><var>yResult</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_847"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>y</var>) に設定する。</li><li><emu-xref aoid="FormatNumeric" id="_ref_848"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) が <emu-xref aoid="FormatNumeric" id="_ref_849"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, <var>y</var>) の場合、</li><li><var>appxResult</var> を <emu-xref aoid="FormatApproximately" id="_ref_850"><a href="#sec-formatapproximately">FormatApproximately</a></emu-xref>(<var>numberFormat</var>, <var>xResult</var>) に設定する。</li><li>各要素 <var>r</var> について、</li><li><var>r</var>.<var class="field">[[Source]]</var> を <emu-val>"shared"</emu-val> に設定する。</li><li><var>appxResult</var> を返す。</li><li><var>result</var> を新しい空リストに設定する。</li><li><var>xResult</var> の各要素 <var>r</var> について、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>&nbsp;} を <var>result</var> に追加する。</li><li><var>rangeSeparator</var> を2つの数値を区切るための <emu-xref href="#sec-implementation-dependencies" id="_ref_851"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列値に設定する。</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>rangeSeparator</var>, <var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>&nbsp;} を <var>result</var> に追加する。</li><li><var>yResult</var> の各要素 <var>r</var> について、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>&nbsp;} を <var>result</var> に追加する。</li><li><emu-xref aoid="CollapseNumberRange" id="_ref_852"><a href="#sec-collapsenumberrange">CollapseNumberRange</a></emu-xref>(<var>numberFormat</var>, <var>result</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatapproximately" type="abstract operation" aoid="FormatApproximately">
      <h1><span class="secnum">16.5.20</span> FormatApproximately ( <var>numberFormat</var>, <var>result</var> )</h1>
      <p>The abstract operation FormatApproximately takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>result</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String)) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String). It performs the following steps when called:</p>
      <emu-alg><ol><li><var>approximatelySign</var> を数値が概算であることを示す <emu-xref href="#sec-implementation-dependencies" id="_ref_853"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> 文字列値に設定する。</li><li><var>approximatelySign</var> が空でない場合、<var>result</var> の <emu-xref href="#sec-implementation-dependencies" id="_ref_854"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> インデックスに <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"approximatelySign"</emu-val>, <var class="field">[[Value]]</var>:
        <var>approximatelySign</var>&nbsp;} を挿入する。例えば、<var>numberFormat</var> の <var class="field">[[Locale]]</var> が <emu-val>"en-US"</emu-val>、<var class="field">[[NumberingSystem]]</var> が <emu-val>"latn"</emu-val>,
        <var class="field">[[Style]]</var> が <emu-val>"decimal"</emu-val> の場合、新しい <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> は <var>result</var> の最初の要素の前に挿入されることがある。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-collapsenumberrange" type="implementation-defined abstract operation" aoid="CollapseNumberRange">
      <h1><span class="secnum">16.5.21</span> CollapseNumberRange ( <var>numberFormat</var>, <var>result</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CollapseNumberRange takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>result</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Source]]</var> (a String)) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Source]]</var> (a String).</p>
      <p>例えば、実装は範囲区切り記号の後の通貨記号の <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> を削除し、<emu-val>"$3–$5"</emu-val> を <emu-val>"$3–5"</emu-val> に変換することができる。</p>
      <p>実装はまた、文法的な正しさのために <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> の <var class="field">[[Value]]</var> フィールドを修正することができる。例えば、<emu-val>"0.5 miles–1 mile"</emu-val> を <emu-val>"0.5–1 miles"</emu-val> に変換することができる。
      </p>
      <p><var>result</var> をそのまま返すことは CollapseNumberRange の正しい実装であることが保証されている。</p>
    </emu-clause>

    <emu-clause id="sec-formatnumericrange" type="abstract operation" aoid="FormatNumericRange">
      <h1><span class="secnum">16.5.22</span> FormatNumericRange ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatNumericRange takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>x</var> (an Intl <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), and <var>y</var> (an Intl <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a String or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionNumberRangePattern" id="_ref_855"><a href="#sec-partitionnumberrangepattern">PartitionNumberRangePattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>, <var>y</var>) に設定する。</li><li><var>result</var> を空文字列に設定する。</li><li>各要素 <var>part</var> について、</li><li><var>result</var> を <var>result</var> と <var>part</var>.<var class="field">[[Value]]</var> の連結に設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericrangetoparts" type="abstract operation" aoid="FormatNumericRangeToParts">
      <h1><span class="secnum">16.5.23</span> FormatNumericRangeToParts ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatNumericRangeToParts takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>x</var> (an Intl <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), and <var>y</var> (an Intl <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Array or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionNumberRangePattern" id="_ref_856"><a href="#sec-partitionnumberrangepattern">PartitionNumberRangePattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>, <var>y</var>) に設定する。</li><li><var>result</var> を !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0) に設定する。</li><li><var>n</var> を 0 に設定する。</li><li>各要素 <var>part</var> について、</li><li><var>O</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) に設定する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"source"</emu-val>, <var>part</var>.<var class="field">[[Source]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>) を実行する。</li><li><var>n</var> を 1 増やす。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="pluralrules-objects">
  <h1><span class="secnum">17</span> PluralRules オブジェクト</h1>

  <emu-clause id="sec-intl-pluralrules-constructor">
    <h1><span class="secnum">17.1</span> Intl.PluralRules コンストラクター</h1>

    <p>Intl.PluralRules コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.PluralRules%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_857"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"PluralRules"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_858"><a href="#intl-object">Intl オブジェクト</a></emu-xref>のすべての<emu-xref href="#service-constructor" id="_ref_859"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_151"><a href="#sec-internal-slots">9.1</a></emu-xref> に記載されている。</p>

    <emu-clause id="sec-intl.pluralrules" oldids="sec-initializepluralrules"><span id="sec-initializepluralrules"></span>
      <h1><span class="secnum">17.1.1</span> Intl.PluralRules ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.PluralRules</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順を行う:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> なら、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>pluralRules</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.PluralRules.prototype%"</emu-val>, «
        <var class="field">[[InitializedPluralRules]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Type]]</var>, <var class="field">[[Notation]]</var>, <var class="field">[[CompactDisplay]]</var>, <var class="field">[[MinimumIntegerDigits]]</var>,
        <var class="field">[[MinimumFractionDigits]]</var>, <var class="field">[[MaximumFractionDigits]]</var>, <var class="field">[[MinimumSignificantDigits]]</var>,
        <var class="field">[[MaximumSignificantDigits]]</var>, <var class="field">[[RoundingType]]</var>, <var class="field">[[RoundingIncrement]]</var>, <var class="field">[[RoundingMode]]</var>,
        <var class="field">[[ComputedRoundingPriority]]</var>, <var class="field">[[TrailingZeroDisplay]]</var>&nbsp;») とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_860"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_861"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>, <emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_862"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>,
        <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;») とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> に設定する。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> とする。</li><li><var>pluralRules</var>.<var class="field">[[Locale]]</var> を <var>r</var>.<var class="field">[[Locale]]</var> に設定する。</li><li><var>t</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_863"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"type"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"cardinal"</emu-val>, <emu-val>"ordinal"</emu-val>&nbsp;», <emu-val>"cardinal"</emu-val>) とする。</li><li><var>pluralRules</var>.<var class="field">[[Type]]</var> を <var>t</var> に設定する。</li><li><var>notation</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_864"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"notation"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>,
        <emu-val>"compact"</emu-val>&nbsp;», <emu-val>"standard"</emu-val>) とする。</li><li><var>pluralRules</var>.<var class="field">[[Notation]]</var> を <var>notation</var> に設定する。</li><li><var>compactDisplay</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_865"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"compactDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;», <emu-val>"short"</emu-val>)
        とする。</li><li><var>notation</var> が <emu-val>"compact"</emu-val> なら</li><li><var>pluralRules</var>.<var class="field">[[CompactDisplay]]</var> を <var>compactDisplay</var> に設定する。</li><li>?&nbsp;<emu-xref aoid="SetNumberFormatDigitOptions" id="_ref_866"><a href="#sec-setnumberformatdigitoptions">SetNumberFormatDigitOptions</a></emu-xref>(<var>pluralRules</var>, <var>options</var>, 0, 3, <var>notation</var>) を実行する。</li><li><var>pluralRules</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-pluralrules-constructor">
    <h1><span class="secnum">17.2</span> Intl.PluralRules コンストラクターのプロパティ</h1>

    <p>Intl.PluralRules コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>以下のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-intl.pluralrules.prototype">
      <h1><span class="secnum">17.2.1</span> Intl.PluralRules.prototype</h1>

      <p><code>Intl.PluralRules.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-pluralrules-prototype-object" id="_ref_867"><a href="#sec-properties-of-intl-pluralrules-prototype-object">%Intl.PluralRules.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.supportedlocalesof">
      <h1><span class="secnum">17.2.2</span> Intl.PluralRules.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順を行う:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_868"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> とする。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_869"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_870"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules-internal-slots">
      <h1><span class="secnum">17.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_152"><a href="#sec-internal-slots">9.1</a></emu-xref> に記載された制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « » である。</p>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « » である。</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1
          Core, Section 3.6.1 Key and Type Definitions</a> は、複数形化プロセスに関連するロケール拡張キーを定義していない。
      </div></emu-note>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_153"><a href="#sec-internal-slots">9.1</a></emu-xref> に記載された制約内で実装依存である。</p>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        実装では Common Locale Data Repository（<a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>）のロケールデータを使用することが推奨される。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-pluralrules-prototype-object">
    <h1><span class="secnum">17.3</span> Intl.PluralRules プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.PluralRules プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.PluralRules.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.PluralRules インスタンスではなく、<var class="field">[[InitializedPluralRules]]</var> 内部スロットや他の Intl.PluralRules インスタンスオブジェクトの内部スロットを持たない。
      </li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-intl.pluralrules.prototype.constructor">
      <h1><span class="secnum">17.3.1</span> Intl.PluralRules.prototype.constructor</h1>

      <p><code>Intl.PluralRules.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_871"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype.resolvedoptions">
      <h1><span class="secnum">17.3.2</span> Intl.PluralRules.prototype.resolvedOptions ( )</h1>

      <p>この関数はオブジェクトの初期化時に計算されたロケールとオプションへのアクセスを提供する。</p>

      <emu-alg><ol><li><var>pr</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>pr</var>, <var class="field">[[InitializedPluralRules]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><var>pluralCategories</var> を、選択されたロケール <var>pr</var>.<var class="field">[[Locale]]</var> に対する <emu-xref href="#sec-pluralruleselect" id="_ref_154"><a href="#sec-pluralruleselect">PluralRuleSelect</a></emu-xref> のすべての可能な結果を含む文字列のリストとし、次の順序でソートする: <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>,
        <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, <emu-val>"other"</emu-val>。</li><li><emu-xref href="#table-pluralrules-resolvedoptions-properties" id="_ref_155"><a href="#table-pluralrules-resolvedoptions-properties">Table 32</a></emu-xref> の各行（ヘッダー行を除く）について、表の順序で次を行う:</li><li>現在の行の Property 値を <var>p</var> とする。</li><li><var>p</var> が <emu-val>"pluralCategories"</emu-val> なら</li><li><var>v</var> を <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>pluralCategories</var>) とする。</li><li>それ以外の場合、</li><li><var>v</var> を <var>pr</var> の内部スロットで、現在の行の Internal Slot 名の値とする。</li><li><var>v</var> が <emu-val>undefined</emu-val> でない場合、</li><li>現在の行に Conversion 値がある場合、</li><li>現在の行の Conversion 値は <emu-const>number</emu-const> であることをアサートする。</li><li><var>v</var> を <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>) に設定する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-pluralrules-resolvedoptions-properties"><figure><figcaption>Table 32: PluralRules インスタンスの解決オプション</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>プロパティ</th>
              <th>変換</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Type]]</var></td>
            <td><emu-val>"type"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Notation]]</var></td>
            <td><emu-val>"notation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CompactDisplay]]</var></td>
            <td><emu-val>"compactDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumIntegerDigits]]</var></td>
            <td><emu-val>"minimumIntegerDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumFractionDigits]]</var></td>
            <td><emu-val>"minimumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumFractionDigits]]</var></td>
            <td><emu-val>"maximumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumSignificantDigits]]</var></td>
            <td><emu-val>"minimumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumSignificantDigits]]</var></td>
            <td><emu-val>"maximumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"pluralCategories"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingIncrement]]</var></td>
            <td><emu-val>"roundingIncrement"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingMode]]</var></td>
            <td><emu-val>"roundingMode"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[ComputedRoundingPriority]]</var></td>
            <td><emu-val>"roundingPriority"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TrailingZeroDisplay]]</var></td>
            <td><emu-val>"trailingZeroDisplay"</emu-val></td>
            <td></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype.select">
      <h1><span class="secnum">17.3.3</span> Intl.PluralRules.prototype.select ( <var>value</var> )</h1>

      <p><code>select</code> メソッドが引数 <var>value</var> で呼び出された場合、以下の手順を行う:</p>

      <emu-alg><ol><li><var>pr</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>pr</var>, <var class="field">[[InitializedPluralRules]]</var>) を実行する。</li><li><var>n</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_872"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>value</var>) とする。</li><li><emu-xref aoid="ResolvePlural" id="_ref_873"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>pr</var>, <var>n</var>).<var class="field">[[PluralCategory]]</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype.selectrange">
      <h1><span class="secnum">17.3.4</span> Intl.PluralRules.prototype.selectRange ( <var>start</var>, <var>end</var> )</h1>

      <p><code>selectRange</code> メソッドが引数 <var>start</var> と <var>end</var> で呼び出された場合、以下の手順を行う:</p>

      <emu-alg><ol><li><var>pr</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>pr</var>, <var class="field">[[InitializedPluralRules]]</var>) を実行する。</li><li><var>start</var> または <var>end</var> が <emu-val>undefined</emu-val> なら、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>x</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_874"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>start</var>) とする。</li><li><var>y</var> を ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_875"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>end</var>) とする。</li><li>?&nbsp;<emu-xref aoid="ResolvePluralRange" id="_ref_876"><a href="#sec-resolvepluralrange">ResolvePluralRange</a></emu-xref>(<var>pr</var>, <var>x</var>, <var>y</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype-%symbol.tostringtag%" oldids="sec-intl.pluralrules.prototype-tostringtag"><span id="sec-intl.pluralrules.prototype-tostringtag"></span>
      <h1><span class="secnum">17.3.5</span> Intl.PluralRules.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.PluralRules"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-pluralrules-instances">
    <h1><span class="secnum">17.4</span> Intl.PluralRules インスタンスのプロパティ</h1>

    <p>Intl.PluralRules インスタンスは <emu-xref href="#sec-properties-of-intl-pluralrules-prototype-object" id="_ref_877"><a href="#sec-properties-of-intl-pluralrules-prototype-object">%Intl.PluralRules.prototype%</a></emu-xref> からプロパティを継承する通常のオブジェクトである。</p>

    <p>Intl.PluralRules インスタンスは <var class="field">[[InitializedPluralRules]]</var> 内部スロットを持つ。</p>

    <p>Intl.PluralRules インスタンスは、<emu-xref href="#sec-intl-pluralrules-constructor" title="" id="_ref_156"><a href="#sec-intl-pluralrules-constructor">Intl.PluralRules コンストラクター</a></emu-xref>
      によって計算される複数の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> は、複数形ルールで使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_878"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値である。</li>
      <li><var class="field">[[Type]]</var> は <emu-val>"cardinal"</emu-val> または <emu-val>"ordinal"</emu-val> のいずれかの文字列値で、使用される複数形ルールを識別する。</li>
      <li><var class="field">[[Notation]]</var> は <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>, <emu-val>"compact"</emu-val> のいずれかの文字列値で、使用される表記法を識別する。</li>
      <li><var class="field">[[CompactDisplay]]</var> は <emu-val>"short"</emu-val> または <emu-val>"long"</emu-val> のいずれかの文字列値で、<emu-val>"compact"</emu-val> 表記法でフォーマットする場合に短縮形（"5K"）または長形式（"5
        thousand"）のどちらで表示するかを指定する。これは <var class="field">[[Notation]]</var> が <emu-val>"compact"</emu-val> の場合のみ使用される。</li>
      <li><var class="field">[[MinimumIntegerDigits]]</var> は使用する最小整数桁数を示す非負整数である。</li>
      <li><var class="field">[[MinimumFractionDigits]]</var> および <var class="field">[[MaximumFractionDigits]]</var> は使用する最小および最大小数桁数を示す非負整数である。必要に応じて数値は丸められたり、末尾ゼロで埋められる。
      </li>
      <li><var class="field">[[MinimumSignificantDigits]]</var> および <var class="field">[[MaximumSignificantDigits]]</var>
        は使用する最小および最大有効桁数を示す正の整数である。これらのプロパティはどちらも存在しないか、両方存在する。存在する場合は、最小・最大整数桁数と小数桁数を上書きする。</li>
      <li><var class="field">[[RoundingType]]</var> は <emu-const>fraction-digits</emu-const>, <emu-const>significant-digits</emu-const>, <emu-const>more-precision</emu-const>, <emu-const>less-precision</emu-const>
        のいずれかの値で、どの丸め戦略を使用するかを示す。詳細は <emu-xref href="#sec-properties-of-intl-numberformat-instances" id="_ref_157"><a href="#sec-properties-of-intl-numberformat-instances">16.4</a></emu-xref> を参照。
      </li>
      <li><var class="field">[[ComputedRoundingPriority]]</var> は <emu-val>"auto"</emu-val>, <emu-val>"morePrecision"</emu-val>, <emu-val>"lessPrecision"</emu-val> のいずれかの文字列値で、<emu-xref href="#sec-intl.pluralrules.prototype.resolvedoptions" id="_ref_158"><a href="#sec-intl.pluralrules.prototype.resolvedoptions">17.3.2</a></emu-xref> で <var class="field">[[RoundingType]]</var> を <emu-val>"roundingPriority"</emu-val>
        オプションに戻すためだけに使用される。</li>
      <li><var class="field">[[RoundingIncrement]]</var> は 10, 100, 1000, 10000 を均等に分割する整数で、計算された丸め桁数に対して丸めを行う増分を示す。例えば、<var class="field">[[MaximumFractionDigits]]</var>
        が 2 で <var class="field">[[RoundingIncrement]]</var> が 5 の場合、数値は最も近い 0.05（"nickel rounding"）に丸められる。</li>
      <li><var class="field">[[RoundingMode]]</var> は使用する<emu-xref href="#rounding-mode" id="_ref_879"><a href="#rounding-mode">丸めモード</a></emu-xref>を識別する。</li>
      <li><var class="field">[[TrailingZeroDisplay]]</var> は <emu-val>"auto"</emu-val> または <emu-val>"stripIfInteger"</emu-val>
        のいずれかの文字列値で、フォーマットされた数値が整数（非ゼロ小数桁を持たない）である場合に末尾ゼロを除去するかどうかを示す。</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-pluralrules-abstracts">
    <h1><span class="secnum">17.5</span> PluralRules オブジェクトの抽象演算</h1>

    <emu-clause id="sec-pluralruleselect" type="implementation-defined abstract operation" aoid="PluralRuleSelect">
      <h1><span class="secnum">17.5.1</span> PluralRuleSelect ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>s</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation PluralRuleSelect takes arguments <var>locale</var> (<emu-xref href="#sec-language-tags" id="_ref_880"><a href="#sec-language-tags">言語タグ</a></emu-xref>), <var>type</var> (<emu-val>"cardinal"</emu-val> または <emu-val>"ordinal"</emu-val>), <var>notation</var> (文字列), <var>compactDisplay</var> (<emu-val>"short"</emu-val> または <emu-val>"long"</emu-val>), and <var>s</var> (10進文字列) and returns <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, または <emu-val>"other"</emu-val>.</p>
    </emu-clause>

    <emu-clause id="sec-resolveplural" type="abstract operation" aoid="ResolvePlural">
      <h1><span class="secnum">17.5.2</span> ResolvePlural ( <var>pluralRules</var>, <var>n</var> )</h1>
      <p>The abstract operation ResolvePlural takes arguments <var>pluralRules</var> (Intl.PluralRules) and <var>n</var> (Intl 数学値) and returns フィールド <var class="field">[[PluralCategory]]</var> (<emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, または <emu-val>"other"</emu-val>) と. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>n</var> が <emu-const>not-a-number</emu-const> なら</li><li><var>s</var> を <emu-val>NaN</emu-val> 値を示す <emu-xref href="#sec-implementation-dependencies" id="_ref_881"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値とする。</li><li>レコード { <var class="field">[[PluralCategory]]</var>: <emu-val>"other"</emu-val>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;} を返す。</li><li><var>n</var> が <emu-const>positive-infinity</emu-const> なら</li><li><var>s</var> を正の無限大を示す <emu-xref href="#sec-implementation-dependencies" id="_ref_882"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値とする。</li><li>レコード { <var class="field">[[PluralCategory]]</var>: <emu-val>"other"</emu-val>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;} を返す。</li><li><var>n</var> が <emu-const>negative-infinity</emu-const> なら</li><li><var>s</var> を負の無限大を示す <emu-xref href="#sec-implementation-dependencies" id="_ref_883"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> 文字列値とする。</li><li>レコード { <var class="field">[[PluralCategory]]</var>: <emu-val>"other"</emu-val>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;} を返す。</li><li><var>res</var> を <emu-xref aoid="FormatNumericToString" id="_ref_884"><a href="#sec-formatnumerictostring">FormatNumericToString</a></emu-xref>(<var>pluralRules</var>, <var>n</var>) とする。</li><li><var>s</var> を <var>res</var>.<var class="field">[[FormattedString]]</var> とする。</li><li><var>locale</var> を <var>pluralRules</var>.<var class="field">[[Locale]]</var> とする。</li><li><var>type</var> を <var>pluralRules</var>.<var class="field">[[Type]]</var> とする。</li><li><var>notation</var> を <var>pluralRules</var>.<var class="field">[[Notation]]</var> とする。</li><li><var>compactDisplay</var> を <var>pluralRules</var>.<var class="field">[[CompactDisplay]]</var> とする。</li><li><var>p</var> を <emu-xref aoid="PluralRuleSelect" id="_ref_885"><a href="#sec-pluralruleselect">PluralRuleSelect</a></emu-xref>(<var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>s</var>) とする。</li><li>レコード { <var class="field">[[PluralCategory]]</var>: <var>p</var>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;} を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-pluralruleselectrange" type="implementation-defined abstract operation" aoid="PluralRuleSelectRange">
      <h1><span class="secnum">17.5.3</span> PluralRuleSelectRange ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>xp</var>, <var>yp</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation PluralRuleSelectRange takes arguments <var>locale</var> (<emu-xref href="#sec-language-tags" id="_ref_886"><a href="#sec-language-tags">言語タグ</a></emu-xref>), <var>type</var> (<emu-val>"cardinal"</emu-val> または <emu-val>"ordinal"</emu-val>), <var>notation</var> (文字列), <var>compactDisplay</var> (<emu-val>"short"</emu-val> または <emu-val>"long"</emu-val>), <var>xp</var> (<emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, または <emu-val>"other"</emu-val>), and <var>yp</var> (<emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, または <emu-val>"other"</emu-val>) and returns <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, または <emu-val>"other"</emu-val>.</p>
    </emu-clause>

    <emu-clause id="sec-resolvepluralrange" type="abstract operation" aoid="ResolvePluralRange">
      <h1><span class="secnum">17.5.4</span> ResolvePluralRange ( <var>pluralRules</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation ResolvePluralRange takes arguments <var>pluralRules</var> (Intl.PluralRules), <var>x</var> (Intl 数学値), and <var>y</var> (Intl 数学値) and returns 正常完了の場合 <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, または <emu-val>"other"</emu-val>、または throw 完了. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>x</var> が <emu-const>not-a-number</emu-const> または <var>y</var> が <emu-const>not-a-number</emu-const> なら、<emu-val>RangeError</emu-val> 例外を投げる。</li><li><var>xp</var> を <emu-xref aoid="ResolvePlural" id="_ref_887"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>pluralRules</var>, <var>x</var>) とする。</li><li><var>yp</var> を <emu-xref aoid="ResolvePlural" id="_ref_888"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>pluralRules</var>, <var>y</var>) とする。</li><li><var>xp</var>.<var class="field">[[FormattedString]]</var> が <var>yp</var>.<var class="field">[[FormattedString]]</var> なら</li><li><var>xp</var>.<var class="field">[[PluralCategory]]</var> を返す。</li><li><var>locale</var> を <var>pluralRules</var>.<var class="field">[[Locale]]</var> とする。</li><li><var>type</var> を <var>pluralRules</var>.<var class="field">[[Type]]</var> とする。</li><li><var>notation</var> を <var>pluralRules</var>.<var class="field">[[Notation]]</var> とする。</li><li><var>compactDisplay</var> を <var>pluralRules</var>.<var class="field">[[CompactDisplay]]</var> とする。</li><li><emu-xref aoid="PluralRuleSelectRange" id="_ref_889"><a href="#sec-pluralruleselectrange">PluralRuleSelectRange</a></emu-xref>(<var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>xp</var>.<var class="field">[[PluralCategory]]</var>,
        <var>yp</var>.<var class="field">[[PluralCategory]]</var>) を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="relativetimeformat-objects">
  <h1><span class="secnum">18</span> RelativeTimeFormat オブジェクト</h1>

  <emu-clause id="sec-intl-relativetimeformat-constructor">
    <h1><span class="secnum">18.1</span> Intl.RelativeTimeFormat コンストラクター</h1>

    <p>Intl.RelativeTimeFormat コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.RelativeTimeFormat%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_890"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"RelativeTimeFormat"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_891"><a href="#intl-object">Intl オブジェクト</a></emu-xref>のすべての<emu-xref href="#service-constructor" id="_ref_892"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_159"><a href="#sec-internal-slots">9.1</a></emu-xref> で指定されている。</p>

    <emu-clause id="sec-Intl.RelativeTimeFormat" oldids="sec-InitializeRelativeTimeFormat"><span id="sec-InitializeRelativeTimeFormat"></span>
      <h1><span class="secnum">18.1.1</span> Intl.RelativeTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.RelativeTimeFormat</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外をスローする。</li><li><var>relativeTimeFormat</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.RelativeTimeFormat.prototype%"</emu-val>, «
        <var class="field">[[InitializedRelativeTimeFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[LocaleData]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Numeric]]</var>, <var class="field">[[NumberFormat]]</var>,
        <var class="field">[[NumberingSystem]]</var>, <var class="field">[[PluralRules]]</var>&nbsp;») とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_893"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_894"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>, <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_895"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>,
        <var>locales</var>, <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;») とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> に設定する。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> に設定する。</li><li><var>locale</var> を <var>r</var>.<var class="field">[[Locale]]</var> に設定する。</li><li><var>relativeTimeFormat</var>.<var class="field">[[Locale]]</var> を <var>locale</var> に設定する。</li><li><var>relativeTimeFormat</var>.<var class="field">[[LocaleData]]</var> を <var>r</var>.<var class="field">[[LocaleData]]</var> に設定する。</li><li><var>relativeTimeFormat</var>.<var class="field">[[NumberingSystem]]</var> を <var>r</var>.<var class="field">[[nu]]</var> に設定する。</li><li><var>style</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_896"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>&nbsp;», <emu-val>"long"</emu-val>) とする。</li><li><var>relativeTimeFormat</var>.<var class="field">[[Style]]</var> を <var>style</var> に設定する。</li><li><var>numeric</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_897"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"numeric"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"always"</emu-val>, <emu-val>"auto"</emu-val>&nbsp;», <emu-val>"always"</emu-val>) とする。</li><li><var>relativeTimeFormat</var>.<var class="field">[[Numeric]]</var> を <var>numeric</var> に設定する。</li><li><var>nfOptions</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOptions</var>, <emu-val>"numberingSystem"</emu-val>, <var>relativeTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>)
        を実行する。</li><li><var>relativeTimeFormat</var>.<var class="field">[[NumberFormat]]</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_898"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nfOptions</var>&nbsp;») に設定する。</li><li><var>relativeTimeFormat</var>.<var class="field">[[PluralRules]]</var> を !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_899"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>, « <var>locale</var>&nbsp;») に設定する。</li><li><var>relativeTimeFormat</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-relativetimeformat-constructor">
    <h1><span class="secnum">18.2</span> Intl.RelativeTimeFormat コンストラクターのプロパティ</h1>

    <p>Intl.RelativeTimeFormat コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>次のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype">
      <h1><span class="secnum">18.2.1</span> Intl.RelativeTimeFormat.prototype</h1>

      <p><code>Intl.RelativeTimeFormat.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-relativetimeformat-prototype-object" id="_ref_900"><a href="#sec-properties-of-intl-relativetimeformat-prototype-object">%Intl.RelativeTimeFormat.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.supportedLocalesOf">
      <h1><span class="secnum">18.2.2</span> Intl.RelativeTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが引数 <var>locales</var> と <var>options</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_901"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> とする。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_902"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_903"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat-internal-slots">
      <h1><span class="secnum">18.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_160"><a href="#sec-internal-slots">9.1</a></emu-xref> で説明される制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « <emu-val>"nu"</emu-val> » である。</p>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> } » である。</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1
          Core, Section 3.6.1 Key and Type Definitions</a> は、相対時間フォーマットに関連するロケール拡張キー <emu-val>"nu"</emu-val>（フォーマットされた数字の番号体系）を説明している。
      </div></emu-note>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_161"><a href="#sec-internal-slots">9.1</a></emu-xref>
        で説明される制約内で実装依存であり、さらに次の追加制約がある。すべてのロケール値 <var>locale</var> について:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] は <emu-val>"second"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"hour"</emu-val>, <emu-val>"day"</emu-val>, <emu-val>"week"</emu-val>, <emu-val>"month"</emu-val>,
          <emu-val>"quarter"</emu-val>, <emu-val>"year"</emu-val> フィールドを持つ。これらの名前に <emu-val>"-narrow"</emu-val> または <emu-val>"-short"</emu-val>
          を連結した追加フィールドが存在する場合がある。これらのフィールドの値は次の2カテゴリのフィールドを含むレコードである:
          <ul>
            <li><emu-val>"future"</emu-val> と <emu-val>"past"</emu-val> フィールドは、<var>locale</var> に関連するすべての複数形カテゴリのフィールドを持つレコードである。それらのフィールドの値は、<emu-val>"{0}"</emu-val>
              を含む場合があり、これはフォーマットされた数字で置換されるパターンである。</li>
            <li>オプションで、キーが Number の <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref> の結果であり、値がテンプレートとして扱われないリテラル文字列である追加フィールドが存在する場合がある。</li>
          </ul>
        </li>
        <li>
          <var class="field">[[LocaleData]]</var> の任意のロケールフィールドの <emu-val>"nu"</emu-val> フィールドの値のリストには <emu-val>"native"</emu-val>, <emu-val>"traditio"</emu-val>, <emu-val>"finance"</emu-val> の値を含めてはならない。
        </li>
      </ul>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        実装では Common Locale Data Repository（<a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>）のロケールデータを使用することが推奨される。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-relativetimeformat-prototype-object">
    <h1><span class="secnum">18.3</span> Intl.RelativeTimeFormat プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.RelativeTimeFormat プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.RelativeTimeFormat.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.RelativeTimeFormat インスタンスではなく、<var class="field">[[InitializedRelativeTimeFormat]]</var> 内部スロットや Intl.RelativeTimeFormat
        インスタンスオブジェクトの他の内部スロットを持たない。</li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype.constructor">
      <h1><span class="secnum">18.3.1</span> Intl.RelativeTimeFormat.prototype.constructor</h1>

      <p><code>Intl.RelativeTimeFormat.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_904"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.relativetimeformat.prototype.resolvedoptions">
      <h1><span class="secnum">18.3.2</span> Intl.RelativeTimeFormat.prototype.resolvedOptions ( )</h1>

      <p>この関数はオブジェクトの初期化時に計算されたロケールとオプションへのアクセスを提供する。</p>

      <emu-alg><ol><li><var>relativeTimeFormat</var> を <emu-val>this</emu-val> の値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>relativeTimeFormat</var>, <var class="field">[[InitializedRelativeTimeFormat]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><emu-xref href="#table-relativetimeformat-resolvedoptions-properties" id="_ref_162"><a href="#table-relativetimeformat-resolvedoptions-properties">Table 33</a></emu-xref>
        の各行（ヘッダー行を除く）について、テーブル順に次を行う</li><li><var>p</var> を現在の行の Property の値とする。</li><li><var>v</var> を <var>relativeTimeFormat</var> の内部スロットで、現在の行の Internal Slot 名の値とする。</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>v</var> は <emu-val>undefined</emu-val> ではない。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-relativetimeformat-resolvedoptions-properties"><figure><figcaption>Table 33: RelativeTimeFormat インスタンスの解決済みオプション</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>プロパティ</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Numeric]]</var></td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype.format">
      <h1><span class="secnum">18.3.3</span> Intl.RelativeTimeFormat.prototype.format ( <var>value</var>, <var>unit</var> )</h1>

      <p><code>format</code> メソッドが引数 <var>value</var> と <var>unit</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>relativeTimeFormat</var> を <emu-val>this</emu-val> の値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>relativeTimeFormat</var>, <var class="field">[[InitializedRelativeTimeFormat]]</var>) を実行する。</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>) とする。</li><li><var>unit</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>unit</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FormatRelativeTime" id="_ref_905"><a href="#sec-FormatRelativeTime">FormatRelativeTime</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype.formatToParts">
      <h1><span class="secnum">18.3.4</span> Intl.RelativeTimeFormat.prototype.formatToParts ( <var>value</var>, <var>unit</var> )</h1>

      <p><code>formatToParts</code> メソッドが引数 <var>value</var> と <var>unit</var> で呼び出された場合、次の手順を実行する:</p>

      <emu-alg><ol><li><var>relativeTimeFormat</var> を <emu-val>this</emu-val> の値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>relativeTimeFormat</var>, <var class="field">[[InitializedRelativeTimeFormat]]</var>) を実行する。</li><li><var>value</var> を ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>) とする。</li><li><var>unit</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>unit</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FormatRelativeTimeToParts" id="_ref_906"><a href="#sec-FormatRelativeTimeToParts">FormatRelativeTimeToParts</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype-toStringTag">
      <h1><span class="secnum">18.3.5</span> Intl.RelativeTimeFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.RelativeTimeFormat"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-relativetimeformat-instances">
    <h1><span class="secnum">18.4</span> Intl.RelativeTimeFormat インスタンスのプロパティ</h1>

    <p>Intl.RelativeTimeFormat インスタンスは <emu-xref href="#sec-properties-of-intl-relativetimeformat-prototype-object" id="_ref_907"><a href="#sec-properties-of-intl-relativetimeformat-prototype-object">%Intl.RelativeTimeFormat.prototype%</a></emu-xref> からプロパティを継承する通常のオブジェクトである。</p>

    <p>Intl.RelativeTimeFormat インスタンスは <var class="field">[[InitializedRelativeTimeFormat]]</var> 内部スロットを持つ。</p>

    <p>Intl.RelativeTimeFormat インスタンスは <emu-xref href="#sec-intl-relativetimeformat-constructor" title="" id="_ref_163"><a href="#sec-intl-relativetimeformat-constructor">Intl.RelativeTimeFormat コンストラクター</a></emu-xref>
      で計算される複数の内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> は、フォーマットに使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_908"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値である。</li>
      <li><var class="field">[[LocaleData]]</var> は、フォーマットに利用可能なデータを表すレコードである。これは <var class="field">[[Locale]]</var> の値またはその接頭辞に関連付けられた
        <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_909"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var> のエントリの値である。</li>
      <li><var class="field">[[Style]]</var> は、使用される相対時間フォーマットスタイルを識別する <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> のいずれかの文字列値である。</li>
      <li><var class="field">[[Numeric]]</var> は、数値による表現が常に使用されるか、より具体的なバージョンがない場合のみ使用されるか（例: "1 day ago" と "yesterday"）を識別する <emu-val>"always"</emu-val> または
        <emu-val>"auto"</emu-val> のいずれかの文字列値である。</li>
      <li><var class="field">[[NumberFormat]]</var> は、フォーマットに使用される Intl.NumberFormat オブジェクトである。</li>
      <li><var class="field">[[NumberingSystem]]</var> は、フォーマットに使用される <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a>
        を表す文字列値である。</li>
      <li><var class="field">[[PluralRules]]</var> は、フォーマットに使用される Intl.PluralRules オブジェクトである。</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-relativetimeformat--abstracts">
    <h1><span class="secnum">18.5</span> RelativeTimeFormat オブジェクトの抽象演算</h1>

    <emu-clause id="sec-singularrelativetimeunit" type="abstract operation" aoid="SingularRelativeTimeUnit">
      <h1><span class="secnum">18.5.1</span> SingularRelativeTimeUnit ( <var>unit</var> )</h1>

      <p>The abstract operation SingularRelativeTimeUnit takes argument <var>unit</var> (a String) and returns 正常完了で文字列を返すか、throw 完了を返す. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>unit</var> が <emu-val>"seconds"</emu-val> なら <emu-val>"second"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"minutes"</emu-val> なら <emu-val>"minute"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"hours"</emu-val> なら <emu-val>"hour"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"days"</emu-val> なら <emu-val>"day"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"weeks"</emu-val> なら <emu-val>"week"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"months"</emu-val> なら <emu-val>"month"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"quarters"</emu-val> なら <emu-val>"quarter"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"years"</emu-val> なら <emu-val>"year"</emu-val> を返す。</li><li><var>unit</var> が <emu-val>"second"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"hour"</emu-val>, <emu-val>"day"</emu-val>, <emu-val>"week"</emu-val>, <emu-val>"month"</emu-val>, <emu-val>"quarter"</emu-val>, <emu-val>"year"</emu-val>
        のいずれでもない場合、<emu-val>RangeError</emu-val> 例外をスローする。</li><li><var>unit</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-PartitionRelativeTimePattern" type="abstract operation" aoid="PartitionRelativeTimePattern">
      <h1><span class="secnum">18.5.2</span> PartitionRelativeTimePattern ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</h1>

      <p>The abstract operation PartitionRelativeTimePattern takes arguments <var>relativeTimeFormat</var> (an Intl.RelativeTimeFormat), <var>value</var> (a Number), and <var>unit</var> (a String) and returns 正常完了で <var class="field">[[Type]]</var>（文字列）、<var class="field">[[Value]]</var>（文字列）、<var class="field">[[Unit]]</var>（文字列または <emu-const>empty</emu-const>）フィールドを持つレコードのリストを返すか、throw 完了を返す. 返されるリストは、<var>relativeTimeFormat</var> の有効なロケールとフォーマットオプションに従って <var>value</var> を表現する。 It performs the following steps when called:</p>

      <emu-alg><ol><li><var>value</var> が <emu-val>NaN</emu-val>, <emu-val>+∞</emu-val><sub>𝔽</sub>, <emu-val>-∞</emu-val><sub>𝔽</sub> の場合、<emu-val>RangeError</emu-val> 例外をスローする。</li><li><var>unit</var> を ?&nbsp;<emu-xref aoid="SingularRelativeTimeUnit" id="_ref_910"><a href="#sec-singularrelativetimeunit">SingularRelativeTimeUnit</a></emu-xref>(<var>unit</var>) とする。</li><li><var>fields</var> を <var>relativeTimeFormat</var>.<var class="field">[[LocaleData]]</var> とする。</li><li><var>patterns</var> を <var>fields</var>.[[&lt;<var>unit</var>&gt;]] とする。</li><li><var>style</var> を <var>relativeTimeFormat</var>.<var class="field">[[Style]]</var> とする。</li><li><var>style</var> が <emu-val>"short"</emu-val> または <emu-val>"narrow"</emu-val> の場合、</li><li><var>key</var> を <var>unit</var> と <emu-val>"-"</emu-val> と <var>style</var> の連結文字列とする。</li><li><var>fields</var> がフィールド [[&lt;<var>key</var>&gt;]] を持つ場合、<var>patterns</var> を <var>fields</var>.[[&lt;<var>key</var>&gt;]] に設定する。</li><li><var>relativeTimeFormat</var>.<var class="field">[[Numeric]]</var> が <emu-val>"auto"</emu-val> の場合、</li><li><var>valueString</var> を !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>) とする。</li><li><var>patterns</var> がフィールド [[&lt;<var>valueString</var>&gt;]] を持つ場合、</li><li><var>result</var> を <var>patterns</var>.[[&lt;<var>valueString</var>&gt;]] とする。</li><li>リスト { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>result</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} を返す。</li><li><var>value</var> が <emu-val>-0</emu-val><sub>𝔽</sub> または <var>value</var> &lt; <emu-val>-0</emu-val><sub>𝔽</sub> の場合、</li><li><var>tl</var> を <emu-val>"past"</emu-val> とする。</li><li>それ以外の場合、</li><li><var>tl</var> を <emu-val>"future"</emu-val> とする。</li><li><var>po</var> を <var>patterns</var>.[[&lt;<var>tl</var>&gt;]] とする。</li><li><var>fv</var> を <emu-xref aoid="PartitionNumberPattern" id="_ref_911"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>relativeTimeFormat</var>.<var class="field">[[NumberFormat]]</var>, <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>)) とする。</li><li><var>pr</var> を <emu-xref aoid="ResolvePlural" id="_ref_912"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>relativeTimeFormat</var>.<var class="field">[[PluralRules]]</var>, <var>value</var>).<var class="field">[[PluralCategory]]</var> とする。</li><li><var>pattern</var> を <var>po</var>.[[&lt;<var>pr</var>&gt;]] とする。</li><li><emu-xref aoid="MakePartsList" id="_ref_913"><a href="#sec-makepartslist">MakePartsList</a></emu-xref>(<var>pattern</var>, <var>unit</var>, <var>fv</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-makepartslist" type="abstract operation" aoid="MakePartsList">
      <h1><span class="secnum">18.5.3</span> MakePartsList ( <var>pattern</var>, <var>unit</var>, <var>parts</var> )</h1>

      <p>The abstract operation MakePartsList takes arguments <var>pattern</var> (a Pattern String), <var>unit</var> (a String), and <var>parts</var> (フォーマットされた数字を表すレコードのリスト) and returns <var class="field">[[Type]]</var>（文字列）、<var class="field">[[Value]]</var>（文字列）、<var class="field">[[Unit]]</var>（文字列または <emu-const>empty</emu-const>）フィールドを持つレコードのリスト. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>patternParts</var> を <emu-xref aoid="PartitionPattern" id="_ref_914"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>) とする。</li><li><var>result</var> を新しい空リストとする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> について次を行う</li><li><var>patternPart</var>.<var class="field">[[Type]]</var> が <emu-val>"literal"</emu-val> の場合、</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} を <var>result</var> に追加する。</li><li>それ以外の場合、</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>patternPart</var>.<var class="field">[[Type]]</var> は <emu-val>"0"</emu-val> である。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> を <var>parts</var> から取り出し、次を行う</li><li><emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <var>unit</var>&nbsp;} を <var>result</var> に追加する。</li><li><var>result</var> を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        例:
        <emu-alg><ol><li><emu-xref aoid="MakePartsList" id="_ref_915"><a href="#sec-makepartslist">MakePartsList</a></emu-xref>(<emu-val>"AA{0}BB"</emu-val>, <emu-val>"hour"</emu-val>, « <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"15"</emu-val>&nbsp;}&nbsp;») を返す。</li></ol></emu-alg>
        は次のようなレコードのリストを返す
        <kbd style="font: inherit; white-space: pre-wrap">
          «
          { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"AA"</emu-val>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>},
          { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"15"</emu-val>, <var class="field">[[Unit]]</var>: <emu-val>"hour"</emu-val>},
          { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"BB"</emu-val>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>}
          »
        </kbd>
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-FormatRelativeTime" type="abstract operation" aoid="FormatRelativeTime">
      <h1><span class="secnum">18.5.4</span> FormatRelativeTime ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</h1>

      <p>The abstract operation FormatRelativeTime takes arguments <var>relativeTimeFormat</var> (an Intl.RelativeTimeFormat), <var>value</var> (a Number), and <var>unit</var> (a String) and returns 正常完了で文字列を返すか、throw 完了を返す. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionRelativeTimePattern" id="_ref_916"><a href="#sec-PartitionRelativeTimePattern">PartitionRelativeTimePattern</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>) とする。</li><li><var>result</var> を空文字列とする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> について次を行う</li><li><var>result</var> を <var>result</var> と <var>part</var>.<var class="field">[[Value]]</var> の連結文字列に設定する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-FormatRelativeTimeToParts" type="abstract operation" aoid="FormatRelativeTimeToParts">
      <h1><span class="secnum">18.5.5</span> FormatRelativeTimeToParts ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</h1>

      <p>The abstract operation FormatRelativeTimeToParts takes arguments <var>relativeTimeFormat</var> (an Intl.RelativeTimeFormat), <var>value</var> (a Number), and <var>unit</var> (a String) and returns 正常完了で配列を返すか、throw 完了を返す. It performs the following steps when called:</p>

      <emu-alg><ol><li><var>parts</var> を ?&nbsp;<emu-xref aoid="PartitionRelativeTimePattern" id="_ref_917"><a href="#sec-PartitionRelativeTimePattern">PartitionRelativeTimePattern</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>) とする。</li><li><var>result</var> を !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0) とする。</li><li><var>n</var> を 0 とする。</li><li>各 <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> について次を行う</li><li><var>O</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>) を実行する。</li><li><var>part</var>.<var class="field">[[Unit]]</var> が <emu-const>empty</emu-const> でない場合、</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"unit"</emu-val>, <var>part</var>.<var class="field">[[Unit]]</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>) を実行する。</li><li><var>n</var> を 1 増やす。</li><li><var>result</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-clause id="segmenter-objects">
  <h1><span class="secnum">19</span> セグメンターオブジェクト</h1>

  <emu-clause id="sec-intl-segmenter-constructor">
    <h1><span class="secnum">19.1</span> Intl.Segmenter コンストラクター</h1>

    <p>Intl.Segmenter コンストラクター:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.Segmenter%</dfn> である。</li>
      <li><emu-xref href="#intl-object" id="_ref_918"><a href="#intl-object">Intl オブジェクト</a></emu-xref>の <emu-val>"Segmenter"</emu-val> プロパティの初期値である。</li>
    </ul>

    <p><emu-xref href="#intl-object" id="_ref_919"><a href="#intl-object">Intl オブジェクト</a></emu-xref>のすべての<emu-xref href="#service-constructor" id="_ref_920"><a href="#service-constructor">サービスコンストラクタ</a></emu-xref>ープロパティに共通する動作は <emu-xref href="#sec-internal-slots" id="_ref_164"><a href="#sec-internal-slots">9.1</a></emu-xref> に記載されている。</p>

    <emu-clause id="sec-intl.segmenter">
      <h1><span class="secnum">19.1.1</span> Intl.Segmenter ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p><code>Intl.Segmenter</code> 関数がオプション引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順が実行される:</p>

      <emu-alg><ol><li>NewTarget が <emu-val>undefined</emu-val> の場合、<emu-val>TypeError</emu-val> 例外を投げる。</li><li><var>internalSlotsList</var> を « <var class="field">[[InitializedSegmenter]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[SegmenterGranularity]]</var>&nbsp;» とする。</li><li><var>segmenter</var> を ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.Segmenter.prototype%"</emu-val>, <var>internalSlotsList</var>)
        とする。</li><li><var>optionsResolution</var> を ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_921"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-segmenter-constructor" id="_ref_922"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref>, <emu-xref href="#sec-intl-segmenter-constructor" id="_ref_923"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>,
        <var>options</var>) とする。</li><li><var>options</var> を <var>optionsResolution</var>.<var class="field">[[Options]]</var> に設定する。</li><li><var>r</var> を <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var> とする。</li><li><var>segmenter</var>.<var class="field">[[Locale]]</var> を <var>r</var>.<var class="field">[[Locale]]</var> に設定する。</li><li><var>granularity</var> を ?&nbsp;<emu-xref aoid="GetOption" id="_ref_924"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"granularity"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"grapheme"</emu-val>, <emu-val>"word"</emu-val>, <emu-val>"sentence"</emu-val>&nbsp;»,
        <emu-val>"grapheme"</emu-val>) とする。</li><li><var>segmenter</var>.<var class="field">[[SegmenterGranularity]]</var> を <var>granularity</var> に設定する。</li><li><var>segmenter</var> を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-segmenter-constructor">
    <h1><span class="secnum">19.2</span> Intl.Segmenter コンストラクターのプロパティ</h1>

    <p>Intl.Segmenter コンストラクター:</p>
    <ul>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref> である。</li>
      <li>以下のプロパティを持つ:</li>
    </ul>

    <emu-clause id="sec-intl.segmenter.prototype">
      <h1><span class="secnum">19.2.1</span> Intl.Segmenter.prototype</h1>

      <p><code>Intl.Segmenter.prototype</code> の値は <emu-xref href="#sec-properties-of-intl-segmenter-prototype-object" id="_ref_925"><a href="#sec-properties-of-intl-segmenter-prototype-object">%Intl.Segmenter.prototype%</a></emu-xref> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> } である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.supportedlocalesof">
      <h1><span class="secnum">19.2.2</span> Intl.Segmenter.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p><code>supportedLocalesOf</code> メソッドが引数 <var>locales</var> と <var>options</var> で呼び出された場合、以下の手順が実行される:</p>

      <emu-alg><ol><li><var>availableLocales</var> を <emu-xref href="#sec-intl-segmenter-constructor" id="_ref_926"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var> とする。</li><li><var>requestedLocales</var> を ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_927"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>) とする。</li><li>?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_928"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter-internal-slots">
      <h1><span class="secnum">19.2.3</span> 内部スロット</h1>

      <p><var class="field">[[AvailableLocales]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_165"><a href="#sec-internal-slots">9.1</a></emu-xref> で記載された制約内で実装依存である。</p>

      <p><var class="field">[[RelevantExtensionKeys]]</var> 内部スロットの値は « » である。</p>

      <p><var class="field">[[ResolutionOptionDescriptors]]</var> 内部スロットの値は « » である。</p>
      <emu-note><span class="note">Note</span><div class="note-contents">
        Intl.Segmenter は関連する拡張キーを持たない。
      </div></emu-note>

      <p><var class="field">[[LocaleData]]</var> 内部スロットの値は <emu-xref href="#sec-internal-slots" id="_ref_166"><a href="#sec-internal-slots">9.1</a></emu-xref> で記載された制約内で実装依存である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-segmenter-prototype-object">
    <h1><span class="secnum">19.3</span> Intl.Segmenter プロトタイプオブジェクトのプロパティ</h1>

    <p><dfn tabindex="-1">Intl.Segmenter プロトタイプオブジェクト</dfn>:</p>
    <ul>
      <li><dfn tabindex="-1">%Intl.Segmenter.prototype%</dfn> である。</li>
      <li>通常のオブジェクトである。</li>
      <li>Intl.Segmenter インスタンスではなく、<var class="field">[[InitializedSegmenter]]</var> 内部スロットや他の Intl.Segmenter インスタンスオブジェクトの内部スロットを持たない。</li>
      <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
    </ul>

    <emu-clause id="sec-intl.segmenter.prototype.constructor">
      <h1><span class="secnum">19.3.1</span> Intl.Segmenter.prototype.constructor</h1>

      <p><code>Intl.Segmenter.prototype.constructor</code> の初期値は <emu-xref href="#sec-intl-segmenter-constructor" id="_ref_929"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref> である。</p>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.prototype.resolvedoptions">
      <h1><span class="secnum">19.3.2</span> Intl.Segmenter.prototype.resolvedOptions ( )</h1>

      <p>この関数はオブジェクトの初期化時に計算されたロケールとオプションへのアクセスを提供する。</p>

      <emu-alg><ol><li><var>segmenter</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segmenter</var>, <var class="field">[[InitializedSegmenter]]</var>) を実行する。</li><li><var>options</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><emu-xref href="#table-segmenter-resolvedoptions-properties" id="_ref_167"><a href="#table-segmenter-resolvedoptions-properties">Table 34</a></emu-xref> の各行（ヘッダー行を除く）について、テーブル順に次を行う</li><li>現在の行の Property 値を <var>p</var> とする。</li><li>現在の行の Internal Slot 値の名前を持つ <var>segmenter</var> の内部スロットの値を <var>v</var> とする。</li><li><var>v</var> は <emu-val>undefined</emu-val> ではないことをアサートする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>) を実行する。</li><li><var>options</var> を返す。</li></ol></emu-alg>

      <emu-table id="table-segmenter-resolvedoptions-properties"><figure><figcaption>Table 34: セグメンターインスタンスの解決済みオプション</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>プロパティ</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[SegmenterGranularity]]</var></td>
            <td><emu-val>"granularity"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.prototype.segment">
      <h1><span class="secnum">19.3.3</span> Intl.Segmenter.prototype.segment ( <var>string</var> )</h1>

      <p><code>Intl.Segmenter.prototype.segment</code> メソッドは、Intl.Segmenter インスタンス上で引数 <var>string</var> とともに呼び出され、インスタンスのロケールとオプションを用いて文字列の
        <emu-xref href="#sec-segments-objects" id="_ref_930"><a href="#sec-segments-objects">Segments インスタンス</a></emu-xref>を作成する。以下の手順が実行される:</p>

      <emu-alg><ol><li><var>segmenter</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segmenter</var>, <var class="field">[[InitializedSegmenter]]</var>) を実行する。</li><li><var>string</var> を ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>string</var>) とする。</li><li><emu-xref aoid="CreateSegmentsObject" id="_ref_931"><a href="#sec-createsegmentsobject">CreateSegmentsObject</a></emu-xref>(<var>segmenter</var>, <var>string</var>) を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.prototype-%symbol.tostringtag%" oldids="sec-intl.segmenter.prototype-@@tostringtag"><span id="sec-intl.segmenter.prototype-@@tostringtag"></span>
      <h1><span class="secnum">19.3.4</span> Intl.Segmenter.prototype [ %Symbol.toStringTag% ]</h1>

      <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Intl.Segmenter"</emu-val> である。</p>
      <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-segmenter-instances">
    <h1><span class="secnum">19.4</span> Intl.Segmenter インスタンスのプロパティ</h1>

    <p>Intl.Segmenter インスタンスは <emu-xref href="#sec-properties-of-intl-segmenter-prototype-object" id="_ref_932"><a href="#sec-properties-of-intl-segmenter-prototype-object">%Intl.Segmenter.prototype%</a></emu-xref> からプロパティを継承する通常のオブジェクトである。</p>

    <p>Intl.Segmenter インスタンスは <var class="field">[[InitializedSegmenter]]</var> 内部スロットを持つ。</p>

    <p>Intl.Segmenter インスタンスは <emu-xref href="#sec-intl-segmenter-constructor" title="" id="_ref_168"><a href="#sec-intl-segmenter-constructor">Intl.Segmenter コンストラクター</a></emu-xref> により計算される内部スロットも持つ:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> は、セグメンテーションに使用されるロケールの<emu-xref href="#sec-language-tags" id="_ref_933"><a href="#sec-language-tags">言語タグ</a></emu-xref>を持つ文字列値である。</li>
      <li><var class="field">[[SegmenterGranularity]]</var> は、テキスト要素の種類を識別する <emu-val>"grapheme"</emu-val>, <emu-val>"word"</emu-val>, <emu-val>"sentence"</emu-val> のいずれかの文字列値である。</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-segments-objects">
    <h1><span class="secnum">19.5</span> Segments オブジェクト</h1>

    <p><dfn tabindex="-1">Segments インスタンス</dfn>は、特定の文字列のセグメントを表すオブジェクトであり、その構築元の Intl.Segmenter インスタンスのロケールとオプションに従う。</p>

    <emu-clause id="sec-createsegmentsobject" type="abstract operation" aoid="CreateSegmentsObject">
      <h1><span class="secnum">19.5.1</span> CreateSegmentsObject ( <var>segmenter</var>, <var>string</var> )</h1>
      <p>The abstract operation CreateSegmentsObject takes arguments <var>segmenter</var> (an Intl.Segmenter) and <var>string</var> (a String) and returns a Segments instance. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>internalSlotsList</var> を « <var class="field">[[SegmentsSegmenter]]</var>, <var class="field">[[SegmentsString]]</var>&nbsp;» とする。</li><li><var>segments</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_934"><a href="#sec-%intlsegmentsprototype%-object">%IntlSegmentsPrototype%</a></emu-xref>, <var>internalSlotsList</var>) とする。</li><li><var>segments</var>.<var class="field">[[SegmentsSegmenter]]</var> を <var>segmenter</var> に設定する。</li><li><var>segments</var>.<var class="field">[[SegmentsString]]</var> を <var>string</var> に設定する。</li><li><var>segments</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-%intlsegmentsprototype%-object" oldids="sec-%segmentsprototype%-object"><span id="sec-%segmentsprototype%-object"></span>
      <h1><span class="secnum">19.5.2</span> %IntlSegmentsPrototype% オブジェクト</h1>
      <p><dfn tabindex="-1">%IntlSegmentsPrototype%</dfn> オブジェクト:</p>
      <ul>
        <li>すべての Segments オブジェクトのプロトタイプである。</li>
        <li>通常のオブジェクトである。</li>
        <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref> である。</li>
        <li>以下のプロパティを持つ:</li>
      </ul>

      <emu-clause id="sec-%intlsegmentsprototype%.containing" oldids="sec-%segmentsprototype%.containing"><span id="sec-%segmentsprototype%.containing"></span>
        <h1><span class="secnum">19.5.2.1</span> %IntlSegmentsPrototype%.containing ( <var>index</var> )</h1>
        <p><code>containing</code> メソッドは <emu-xref href="#sec-segments-objects" id="_ref_935"><a href="#sec-segments-objects">Segments インスタンス</a></emu-xref>上で引数 <var>index</var> とともに呼び出され、指定されたインデックスのコードユニットを含むセグメントを、その <emu-xref href="#sec-segments-objects" id="_ref_936"><a href="#sec-segments-objects">Segments インスタンス</a></emu-xref>の構築元の
          Intl.Segmenter インスタンスのロケールとオプションに従って記述する <emu-xref href="#sec-segment-data-objects" id="_ref_937"><a href="#sec-segment-data-objects">Segment Data オブジェクト</a></emu-xref>を返す。以下の手順が実行される:</p>
        <emu-alg><ol><li><var>segments</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segments</var>, <var class="field">[[SegmentsSegmenter]]</var>) を実行する。</li><li><var>segmenter</var> を <var>segments</var>.<var class="field">[[SegmentsSegmenter]]</var> とする。</li><li><var>string</var> を <var>segments</var>.<var class="field">[[SegmentsString]]</var> とする。</li><li><var>len</var> を <var>string</var> の長さとする。</li><li><var>n</var> を ?&nbsp;<emu-xref aoid="ToIntegerOrInfinity"><a href="https://tc39.es/ecma262/#sec-tointegerorinfinity">ToIntegerOrInfinity</a></emu-xref>(<var>index</var>) とする。</li><li><var>n</var> &lt; 0 または <var>n</var> ≥ <var>len</var> の場合、<emu-val>undefined</emu-val> を返す。</li><li><var>startIndex</var> を <emu-xref aoid="FindBoundary" id="_ref_938"><a href="#sec-findboundary">FindBoundary</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>n</var>, <emu-const>before</emu-const>) とする。</li><li><var>endIndex</var> を <emu-xref aoid="FindBoundary" id="_ref_939"><a href="#sec-findboundary">FindBoundary</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>n</var>, <emu-const>after</emu-const>) とする。</li><li><emu-xref aoid="CreateSegmentDataObject" id="_ref_940"><a href="#sec-createsegmentdataobject">CreateSegmentDataObject</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var>) を返す。</li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-%intlsegmentsprototype%-%symbol.iterator%" oldids="sec-%intlsegmentsprototype%-@@iterator,sec-%segmentsprototype%-@@iterator"><span id="sec-%segmentsprototype%-@@iterator"></span><span id="sec-%intlsegmentsprototype%-@@iterator"></span>
        <h1><span class="secnum">19.5.2.2</span> %IntlSegmentsPrototype% [ %Symbol.iterator% ] ( )</h1>
        <p><code>%Symbol.iterator%</code> メソッドは <emu-xref href="#sec-segments-objects" id="_ref_941"><a href="#sec-segments-objects">Segments インスタンス</a></emu-xref>上で呼び出され、その構築元の Intl.Segmenter インスタンスのロケールとオプションを用いて文字列の <emu-xref href="#sec-segment-iterator-objects" id="_ref_942"><a href="#sec-segment-iterator-objects">Segment
          Iterator</a></emu-xref> を作成する。以下の手順が実行される:</p>
        <emu-alg><ol><li><var>segments</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segments</var>, <var class="field">[[SegmentsSegmenter]]</var>) を実行する。</li><li><var>segmenter</var> を <var>segments</var>.<var class="field">[[SegmentsSegmenter]]</var> とする。</li><li><var>string</var> を <var>segments</var>.<var class="field">[[SegmentsString]]</var> とする。</li><li><emu-xref aoid="CreateSegmentIterator" id="_ref_943"><a href="#sec-createsegmentiterator">CreateSegmentIterator</a></emu-xref>(<var>segmenter</var>, <var>string</var>) を返す。</li></ol></emu-alg>
        <p>この関数の <emu-val>"name"</emu-val> プロパティの値は <emu-val>"[Symbol.iterator]"</emu-val> である。</p>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-properties-of-segments-instances">
      <h1><span class="secnum">19.5.3</span> Segments インスタンスのプロパティ</h1>

      <p><emu-xref href="#sec-segments-objects" id="_ref_944"><a href="#sec-segments-objects">Segments インスタンス</a></emu-xref>は <emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_945"><a href="#sec-%intlsegmentsprototype%-object">%IntlSegmentsPrototype%</a></emu-xref> からプロパティを継承する通常のオブジェクトである。</p>

      <p><emu-xref href="#sec-segments-objects" id="_ref_946"><a href="#sec-segments-objects">Segments インスタンス</a></emu-xref>は構築元の Intl.Segmenter インスタンスを参照する <var class="field">[[SegmentsSegmenter]]</var> 内部スロットを持つ。</p>

      <p><emu-xref href="#sec-segments-objects" id="_ref_947"><a href="#sec-segments-objects">Segments インスタンス</a></emu-xref>はセグメントを公開する文字列値を参照する <var class="field">[[SegmentsString]]</var> 内部スロットを持つ。</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-segment-iterator-objects">
    <h1><span class="secnum">19.6</span> Segment Iterator オブジェクト</h1>

    <p><dfn tabindex="-1">Segment Iterator</dfn> は特定の文字列のセグメントを反復するオブジェクトである。</p>

    <emu-clause id="sec-createsegmentiterator" type="abstract operation" aoid="CreateSegmentIterator">
      <h1><span class="secnum">19.6.1</span> CreateSegmentIterator ( <var>segmenter</var>, <var>string</var> )</h1>
      <p>The abstract operation CreateSegmentIterator takes arguments <var>segmenter</var> (an Intl.Segmenter) and <var>string</var> (a String) and returns a <emu-xref href="#sec-segment-iterator-objects" id="_ref_948"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>internalSlotsList</var> を « <var class="field">[[IteratingSegmenter]]</var>, <var class="field">[[IteratedString]]</var>,
        <var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var>&nbsp;» とする。</li><li><var>iterator</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-%intlsegmentiteratorprototype%-object" id="_ref_949"><a href="#sec-%intlsegmentiteratorprototype%-object">%IntlSegmentIteratorPrototype%</a></emu-xref>, <var>internalSlotsList</var>) とする。</li><li><var>iterator</var>.<var class="field">[[IteratingSegmenter]]</var> を <var>segmenter</var> に設定する。</li><li><var>iterator</var>.<var class="field">[[IteratedString]]</var> を <var>string</var> に設定する。</li><li><var>iterator</var>.<var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var> を 0 に設定する。</li><li><var>iterator</var> を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-%intlsegmentiteratorprototype%-object" oldids="sec-%segmentiteratorprototype%-object"><span id="sec-%segmentiteratorprototype%-object"></span>
      <h1><span class="secnum">19.6.2</span> %IntlSegmentIteratorPrototype% オブジェクト</h1>
      <p><dfn tabindex="-1">%IntlSegmentIteratorPrototype%</dfn> オブジェクト:</p>
      <ul>
        <li>すべての <emu-xref href="#sec-segment-iterator-objects" id="_ref_950"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> オブジェクトのプロトタイプである。</li>
        <li>通常のオブジェクトである。</li>
        <li><var class="field">[[Prototype]]</var> 内部スロットの値は <emu-xref href="#sec-%iterator.prototype%-object"><a href="https://tc39.es/ecma262/#sec-%iterator.prototype%-object">%Iterator.prototype%</a></emu-xref> である。</li>
        <li>以下のプロパティを持つ:</li>
      </ul>

      <emu-clause id="sec-%intlsegmentiteratorprototype%.next" oldids="sec-%segmentiteratorprototype%.next"><span id="sec-%segmentiteratorprototype%.next"></span>
        <h1><span class="secnum">19.6.2.1</span> %IntlSegmentIteratorPrototype%.next ( )</h1>
        <p><code>next</code> メソッドは <emu-xref href="#sec-segment-iterator-objects" id="_ref_951"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> インスタンス上で呼び出され、セグメントを一つ進めて新しいセグメントを記述する <i>IteratorResult</i>
          オブジェクトを返すか、反復が終了したことを宣言する。以下の手順が実行される:</p>
        <emu-alg><ol><li><var>iterator</var> を <emu-val>this</emu-val> 値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>iterator</var>, <var class="field">[[IteratingSegmenter]]</var>) を実行する。</li><li><var>segmenter</var> を <var>iterator</var>.<var class="field">[[IteratingSegmenter]]</var> とする。</li><li><var>string</var> を <var>iterator</var>.<var class="field">[[IteratedString]]</var> とする。</li><li><var>startIndex</var> を <var>iterator</var>.<var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var> とする。</li><li><var>len</var> を <var>string</var> の長さとする。</li><li><var>startIndex</var> ≥ <var>len</var> の場合、</li><li><emu-xref aoid="CreateIteratorResultObject"><a href="https://tc39.es/ecma262/#sec-createiterresultobject">CreateIteratorResultObject</a></emu-xref>(<emu-val>undefined</emu-val>, <emu-val>true</emu-val>) を返す。</li><li><var>endIndex</var> を <emu-xref aoid="FindBoundary" id="_ref_952"><a href="#sec-findboundary">FindBoundary</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <emu-const>after</emu-const>) とする。</li><li><var>iterator</var>.<var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var> を <var>endIndex</var> に設定する。</li><li><var>segmentData</var> を <emu-xref aoid="CreateSegmentDataObject" id="_ref_953"><a href="#sec-createsegmentdataobject">CreateSegmentDataObject</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var>) とする。</li><li><emu-xref aoid="CreateIteratorResultObject"><a href="https://tc39.es/ecma262/#sec-createiterresultobject">CreateIteratorResultObject</a></emu-xref>(<var>segmentData</var>, <emu-val>false</emu-val>) を返す。</li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-%intlsegmentiteratorprototype%.%symbol.tostringtag%" oldids="sec-%intlsegmentiteratorprototype%.@@tostringtag,sec-%segmentiteratorprototype%.@@tostringtag"><span id="sec-%segmentiteratorprototype%.@@tostringtag"></span><span id="sec-%intlsegmentiteratorprototype%.@@tostringtag"></span>
        <h1><span class="secnum">19.6.2.2</span> %IntlSegmentIteratorPrototype% [ %Symbol.toStringTag% ]</h1>

        <p><emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティの初期値は文字列値 <emu-val>"Segmenter String Iterator"</emu-val> である。</p>
        <p>このプロパティの属性は { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> } である。</p>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-properties-of-segment-iterator-instances">
      <h1><span class="secnum">19.6.3</span> Segment Iterator インスタンスのプロパティ</h1>
      <p><emu-xref href="#sec-segment-iterator-objects" id="_ref_954"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> インスタンスは %SegmentIteratorPrototype% からプロパティを継承する通常のオブジェクトである。<emu-xref href="#sec-segment-iterator-objects" id="_ref_955"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> インスタンスは <emu-xref href="#table-segment-iterator-instance-slots" id="_ref_169"><a href="#table-segment-iterator-instance-slots">Table 35</a></emu-xref> に記載された内部スロットで初期化される。</p>
      <emu-table id="table-segment-iterator-instance-slots"><figure><figcaption>Table 35: <emu-xref href="#sec-segment-iterator-objects" id="_ref_956"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> インスタンスの内部スロット</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>内部スロット</th>
              <th>説明</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[IteratingSegmenter]]</var></td>
            <td>反復に使用される Intl.Segmenter インスタンス。</td>
          </tr>
          <tr>
            <td><var class="field">[[IteratedString]]</var></td>
            <td>反復される文字列値。</td>
          </tr>
          <tr>
            <td><var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var></td>
            <td>反復される文字列値の次のセグメント開始コードユニットのインデックス。</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-segment-data-objects">
    <h1><span class="secnum">19.7</span> Segment Data オブジェクト</h1>

    <p><dfn tabindex="-1">Segment Data オブジェクト</dfn>は文字列から特定のセグメントを表すオブジェクトである。</p>

    <emu-clause id="sec-createsegmentdataobject" type="abstract operation" aoid="CreateSegmentDataObject">
      <h1><span class="secnum">19.7.1</span> CreateSegmentDataObject ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var> )</h1>
      <p>The abstract operation CreateSegmentDataObject takes arguments <var>segmenter</var> (an Intl.Segmenter), <var>string</var> (a String), <var>startIndex</var> (a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>endIndex</var> (a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns a Segment Data object. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>len</var> を <var>string</var> の長さとする。</li><li><var>endIndex</var> ≤ <var>len</var> であることをアサートする。</li><li><var>startIndex</var> &lt; <var>endIndex</var> であることをアサートする。</li><li><var>result</var> を <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>) とする。</li><li><var>segment</var> を <var>string</var> の <var>startIndex</var> から <var>endIndex</var> までの部分文字列とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"segment"</emu-val>, <var>segment</var>) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"index"</emu-val>, <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>startIndex</var>)) を実行する。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"input"</emu-val>, <var>string</var>) を実行する。</li><li><var>granularity</var> を <var>segmenter</var>.<var class="field">[[SegmenterGranularity]]</var> とする。</li><li><var>granularity</var> が <code>"word"</code> の場合、</li><li><var>isWordLike</var> を、<var>segment</var> がロケール <var>segmenter</var>.<var class="field">[[Locale]]</var> に従って "word-like" かどうかを示すブール値とする。</li><li>!&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"isWordLike"</emu-val>, <var>isWordLike</var>) を実行する。</li><li><var>result</var> を返す。</li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">セグメントが "word-like" かどうかは実装依存であり、実装はロケールに応じた調整を使用することが推奨される。一般的に、空白や句読点のみからなるセグメント（ICU の "WORD_NONE"
        境界で終了するものなど）は "word-like" とみなされない。</div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-intl-segmenter-abstracts">
    <h1><span class="secnum">19.8</span> セグメンターオブジェクトの抽象操作</h1>

    <emu-clause id="sec-findboundary" type="abstract operation" aoid="FindBoundary">
      <h1><span class="secnum">19.8.1</span> FindBoundary ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>direction</var> )</h1>
      <p>The abstract operation FindBoundary takes arguments <var>segmenter</var> (an Intl.Segmenter), <var>string</var> (a String), <var>startIndex</var> (a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>direction</var> (<emu-const>before</emu-const> or <emu-const>after</emu-const>) and returns a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li><var>len</var> を <var>string</var> の長さとする。</li><li><var>startIndex</var> &lt; <var>len</var> であることをアサートする。</li><li><var>locale</var> を <var>segmenter</var>.<var class="field">[[Locale]]</var> とする。</li><li><var>granularity</var> を <var>segmenter</var>.<var class="field">[[SegmenterGranularity]]</var> とする。</li><li><var>direction</var> が <emu-const>before</emu-const> の場合、</li><li><var>string</var> の先頭から最大 <var>startIndex</var> コードユニットまでの範囲で、ロケール <var>locale</var> とテキスト要素の粒度 <var>granularity</var> を用いて最後のセグメンテーション境界を探す。</li><li>境界が見つかった場合、その境界より前のコードユニット数を返す。</li><li>0 を返す。</li><li><var>direction</var> が <emu-const>after</emu-const> であることをアサートする。</li><li><var>string</var> の <var>startIndex</var> のコードユニットの後に続く最初のセグメンテーション境界を、ロケール <var>locale</var> とテキスト要素の粒度 <var>granularity</var> を用いて探す。</li><li>境界が見つかった場合、その境界より前のコードユニット数を返す。</li><li><var>len</var> を返す。</li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">境界の決定は実装依存だが、一般的なデフォルトアルゴリズムは <a href="https://unicode.org/reports/tr29/">Unicode Standard Annex #29</a>
        に指定されている。実装は <a href="https://cldr.unicode.org">Common Locale Data Repository</a>
        のようなロケール依存の調整を使用することが推奨される。</div></emu-note>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="locale-sensitive-functions">
  <h1><span class="secnum">20</span> ECMAScript言語仕様のロケール依存関数</h1>

  <p><emu-xref href="#ecma262" id="_ref_957"><a href="#ecma262">ECMA-262</a></emu-xref>は複数のロケール依存関数を記述しています。この仕様を実装するECMAScript実装は、ここで記述された通りにこれらの関数を実装しなければなりません。</p>

  <emu-note><span class="note">Note</span><div class="note-contents">
    この節のアルゴリズムで作成されるCollator、NumberFormat、DateTimeFormatオブジェクトは、これらのアルゴリズム内でのみ使用されます。ECMAScriptコードから直接アクセスされることはなく、実装内に実際に存在する必要もありません。
  </div></emu-note>

  <emu-clause id="sup-properties-of-the-string-prototype-object">
    <h1><span class="secnum">20.1</span> Stringプロトタイプオブジェクトのプロパティ</h1>

    <emu-clause id="sup-String.prototype.localeCompare">
      <h1><span class="secnum">20.1.1</span> String.prototype.localeCompare ( <var>that</var> [ , <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>この定義は<emu-xref href="#ecma262" id="_ref_958"><a href="#ecma262">ECMA-262</a></emu-xref>で提供されている定義を上書きします。<emu-xref href="#sec-string.prototype.localecompare"><a href="https://tc39.es/ecma262/#sec-string.prototype.localecompare">22.1.3.12</a></emu-xref></p>

      <p><code>localeCompare</code>メソッドが引数<var>that</var>とオプション引数<var>locales</var>、<var>options</var>で呼び出された場合、以下の手順を実行します：</p>

      <emu-alg><ol><li><var>O</var>を? <emu-xref aoid="RequireObjectCoercible"><a href="https://tc39.es/ecma262/#sec-requireobjectcoercible">RequireObjectCoercible</a></emu-xref>(<emu-val>this</emu-val> value)とする。</li><li><var>S</var>を? <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>O</var>)とする。</li><li><var>thatValue</var>を? <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>that</var>)とする。</li><li><var>collator</var>を? <emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-collator-constructor" id="_ref_959"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>, « <var>locales</var>, <var>options</var>&nbsp;»)とする。</li><li><emu-xref aoid="CompareStrings" id="_ref_960"><a href="#sec-collator-comparestrings">CompareStrings</a></emu-xref>(<var>collator</var>, <var>S</var>, <var>thatValue</var>)を返す。</li></ol></emu-alg>

      <p>この関数の<emu-val>"length"</emu-val>プロパティは<emu-val>1</emu-val><sub>𝔽</sub>です。</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <code>localeCompare</code>メソッド自体は<code>Array.prototype.sort</code>の引数として直接適していません。なぜなら、後者は2つの引数を持つ関数を必要とするためです。
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        <code>localeCompare</code>関数は意図的にジェネリックです。<emu-val>this</emu-val>値がStringオブジェクトであることを要求しません。したがって、他の種類のオブジェクトに転送してメソッドとして使用できます。
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sup-string.prototype.tolocalelowercase">
      <h1><span class="secnum">20.1.2</span> String.prototype.toLocaleLowerCase ( [ <var>locales</var> ] )</h1>

      <p>この定義は<emu-xref href="#ecma262" id="_ref_961"><a href="#ecma262">ECMA-262</a></emu-xref>で提供されている定義を上書きします。<emu-xref href="#sec-string.prototype.tolocalelowercase"><a href="https://tc39.es/ecma262/#sec-string.prototype.tolocalelowercase">22.1.3.26</a></emu-xref></p>

      <p>この関数は、<emu-xref href="#ecma262" id="_ref_962"><a href="#ecma262">ECMA-262</a></emu-xref>で記述されている通り、String値をコードポイントの列として解釈します。<emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>。以下の手順を実行します：</p>

      <emu-alg><ol><li><var>O</var>を? <emu-xref aoid="RequireObjectCoercible"><a href="https://tc39.es/ecma262/#sec-requireobjectcoercible">RequireObjectCoercible</a></emu-xref>(<emu-val>this</emu-val> value)とする。</li><li><var>S</var>を? <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>O</var>)とする。</li><li>?&nbsp;<emu-xref aoid="TransformCase" id="_ref_963"><a href="#sec-transform-case">TransformCase</a></emu-xref>(<var>S</var>, <var>locales</var>, <emu-const>lower</emu-const>)を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        <code>toLocaleLowerCase</code>関数は意図的にジェネリックです。<emu-val>this</emu-val>値がStringオブジェクトであることを要求しません。したがって、他の種類のオブジェクトに転送してメソッドとして使用できます。
      </div></emu-note>

      <emu-clause id="sec-transform-case" type="abstract operation" aoid="TransformCase">
        <h1><span class="secnum">20.1.2.1</span> TransformCase ( <var>S</var>, <var>locales</var>, <var>targetCase</var> )</h1>
        <p>The abstract operation TransformCase takes arguments <var>S</var> (a String), <var>locales</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), and <var>targetCase</var> (<emu-const>lower</emu-const> or <emu-const>upper</emu-const>). <var>S</var>を<emu-xref href="#ecma262" id="_ref_964"><a href="#ecma262">ECMA-262</a></emu-xref>で記述されている通りUTF-16エンコードされたコードポイントの列として解釈し、<var>targetCase</var>への<emu-xref href="#sec-implementation-dependencies" id="_ref_965"><a href="#sec-implementation-dependencies">ILD</a></emu-xref>変換の結果を新しいString値として返します。<emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref> It performs the following steps when called:</p>
        <emu-alg><ol><li><var>requestedLocales</var>を? <emu-xref aoid="CanonicalizeLocaleList" id="_ref_966"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>)とする。</li><li><var>requestedLocales</var>が空リストでない場合、</li><li><var>requestedLocale</var>を<var>requestedLocales</var>[0]とする。</li><li>それ以外の場合、</li><li><var>requestedLocale</var>を<emu-xref aoid="DefaultLocale" id="_ref_967"><a href="#sec-defaultlocale">DefaultLocale</a></emu-xref>()とする。</li><li><var>availableLocales</var>を、Unicode Character
          Databaseが言語依存のケースマッピングを含む<emu-xref href="#sec-language-tags" id="_ref_968"><a href="#sec-language-tags">言語タグ</a></emu-xref>を含む利用可能ロケールリストとする。実装が追加のロケール依存ケースマッピングをサポートする場合、それらの対応する<emu-xref href="#sec-language-tags" id="_ref_969"><a href="#sec-language-tags">言語タグ</a></emu-xref>も含めるべきである。</li><li><var>match</var>を<emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_970"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<var>availableLocales</var>, « <var>requestedLocale</var>&nbsp;»)とする。</li><li><var>match</var>が<emu-val>undefined</emu-val>でない場合、<var>locale</var>を<var>match</var>.<var class="field">[[locale]]</var>とし、そうでなければ<var>locale</var>を<emu-val>"und"</emu-val>とする。</li><li><var>codePoints</var>を<emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>S</var>)とする。</li><li><var>targetCase</var>が<emu-const>lower</emu-const>の場合、</li><li><var>newCodePoints</var>を、<var>locale</var>またはUnicodeデフォルトケース変換アルゴリズムを使用した実装依存アルゴリズムによる<var>codePoints</var>の小文字変換結果のリストとする。</li><li>それ以外の場合、</li><li>アサート: <var>targetCase</var>は<emu-const>upper</emu-const>である。</li><li><var>newCodePoints</var>を、<var>locale</var>またはUnicodeデフォルトケース変換アルゴリズムを使用した実装依存アルゴリズムによる<var>codePoints</var>の大文字変換結果のリストとする。</li><li><emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(<var>newCodePoints</var>)を返す。</li></ol></emu-alg>

        <p>コードポイントのマッピングは、Unicode標準のデフォルトケース変換アルゴリズムの調整版に従って導出される場合があります。実装はUnicode Character Databaseの<a href="https://unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt"><code>SpecialCasing.txt</code></a>やCLDR、その他のカスタム調整を使用しても構いません。調整の有無にかかわらず、適合する実装のケース変換アルゴリズムは、同じ入力コードポイント、ロケール、ターゲットケースに対して常に同じ結果を生成しなければなりません。
        </p>

        <emu-note><span class="note">Note</span><div class="note-contents">
          一部のコードポイントのケースマッピングは複数のコードポイントを生成する場合があり、結果の長さが入力と同じとは限りません。<code>toLocaleUpperCase</code>と<code>toLocaleLowerCase</code>は文脈依存の動作を持つため、関数は対称ではありません。つまり、<code>s.toLocaleUpperCase().toLocaleLowerCase()</code>は必ずしも<code>s.toLocaleLowerCase()</code>と等しくならず、<code>s.toLocaleLowerCase().toLocaleUpperCase()</code>も必ずしも<code>s.toLocaleUpperCase()</code>と等しくなりません。
        </div></emu-note>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sup-string.prototype.tolocaleuppercase">
      <h1><span class="secnum">20.1.3</span> String.prototype.toLocaleUpperCase ( [ <var>locales</var> ] )</h1>

      <p>この定義は<emu-xref href="#ecma262" id="_ref_971"><a href="#ecma262">ECMA-262</a></emu-xref>で提供されている定義を上書きします。<emu-xref href="#sec-string.prototype.tolocaleuppercase"><a href="https://tc39.es/ecma262/#sec-string.prototype.tolocaleuppercase">22.1.3.27</a></emu-xref></p>

      <p>この関数は、<emu-xref href="#ecma262" id="_ref_972"><a href="#ecma262">ECMA-262</a></emu-xref>で記述されている通り、String値をコードポイントの列として解釈します。<emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>。以下の手順を実行します：</p>

      <emu-alg><ol><li><var>O</var>を? <emu-xref aoid="RequireObjectCoercible"><a href="https://tc39.es/ecma262/#sec-requireobjectcoercible">RequireObjectCoercible</a></emu-xref>(<emu-val>this</emu-val> value)とする。</li><li><var>S</var>を? <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>O</var>)とする。</li><li>?&nbsp;<emu-xref aoid="TransformCase" id="_ref_973"><a href="#sec-transform-case">TransformCase</a></emu-xref>(<var>S</var>, <var>locales</var>, <emu-const>upper</emu-const>)を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        <code>toLocaleUpperCase</code>関数は意図的にジェネリックです。<emu-val>this</emu-val>値がStringオブジェクトであることを要求しません。したがって、他の種類のオブジェクトに転送してメソッドとして使用できます。
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-number-prototype-object">
    <h1><span class="secnum">20.2</span> Numberプロトタイプオブジェクトのプロパティ</h1>

    <p>以下の定義は、<emu-xref href="#ecma262" id="_ref_974"><a href="#ecma262">ECMA-262</a></emu-xref>で定義されている抽象操作thisNumberValueを参照します。<emu-xref href="#sec-properties-of-the-number-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-number-prototype-object">21.1.3</a></emu-xref></p>

    <emu-clause id="sup-number.prototype.tolocalestring">
      <h1><span class="secnum">20.2.1</span> Number.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>この定義は<emu-xref href="#ecma262" id="_ref_975"><a href="#ecma262">ECMA-262</a></emu-xref>で提供されている定義を上書きします。<emu-xref href="#sec-number.prototype.tolocalestring"><a href="https://tc39.es/ecma262/#sec-number.prototype.tolocalestring">21.1.3.4</a></emu-xref></p>

      <p><code>toLocaleString</code>メソッドがオプション引数<var>locales</var>と<var>options</var>で呼び出された場合、以下の手順を実行します：</p>

      <emu-alg><ol><li><var>x</var>を? <emu-xref aoid="ThisNumberValue"><a href="https://tc39.es/ecma262/#sec-thisnumbervalue">ThisNumberValue</a></emu-xref>(<emu-val>this</emu-val> value)とする。</li><li><var>numberFormat</var>を? <emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_976"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locales</var>, <var>options</var>&nbsp;»)とする。</li><li><emu-xref aoid="FormatNumeric" id="_ref_977"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, !&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_978"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>x</var>))を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-bigint-prototype-object">
    <h1><span class="secnum">20.3</span> BigIntプロトタイプオブジェクトのプロパティ</h1>

    <p>以下の定義は、<emu-xref href="#ecma262" id="_ref_979"><a href="#ecma262">ECMA-262</a></emu-xref>で定義されている抽象操作thisBigIntValueを参照します。<emu-xref href="#sec-properties-of-the-bigint-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-bigint-prototype-object">21.2.3</a></emu-xref></p>

    <emu-clause id="sup-bigint.prototype.tolocalestring">
      <h1><span class="secnum">20.3.1</span> BigInt.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>この定義は<emu-xref href="#ecma262" id="_ref_980"><a href="#ecma262">ECMA-262</a></emu-xref>で提供されている定義を上書きします。<emu-xref href="#sec-bigint.prototype.tolocalestring"><a href="https://tc39.es/ecma262/#sec-bigint.prototype.tolocalestring">21.2.3.2</a></emu-xref></p>

      <p><code>toLocaleString</code>メソッドがオプション引数<var>locales</var>と<var>options</var>で呼び出された場合、以下の手順を実行します：</p>

      <emu-alg><ol><li><var>x</var>を? <emu-xref aoid="ThisBigIntValue"><a href="https://tc39.es/ecma262/#sec-thisbigintvalue">ThisBigIntValue</a></emu-xref>(<emu-val>this</emu-val> value)とする。</li><li><var>numberFormat</var>を? <emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_981"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locales</var>, <var>options</var>&nbsp;»)とする。</li><li><emu-xref aoid="FormatNumeric" id="_ref_982"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>x</var>))を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-date-prototype-object">
    <h1><span class="secnum">20.4</span> Dateプロトタイプオブジェクトのプロパティ</h1>

    <p>以下の定義は、<emu-xref href="#ecma262" id="_ref_983"><a href="#ecma262">ECMA-262</a></emu-xref>で定義されている抽象操作thisTimeValueを参照します。<emu-xref href="#sec-properties-of-the-date-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-date-prototype-object">21.4.4</a></emu-xref></p>

    <emu-clause id="sup-date.prototype.tolocalestring">
      <h1><span class="secnum">20.4.1</span> Date.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>この定義は<emu-xref href="#ecma262" id="_ref_984"><a href="#ecma262">ECMA-262</a></emu-xref>で提供されている定義を上書きします。<emu-xref href="#sec-date.prototype.tolocalestring"><a href="https://tc39.es/ecma262/#sec-date.prototype.tolocalestring">21.4.4.39</a></emu-xref></p>

      <p><code>toLocaleString</code>メソッドがオプション引数<var>locales</var>と<var>options</var>で呼び出された場合、以下の手順を実行します：</p>

      <emu-alg><ol><li><var>dateObject</var>を<emu-val>this</emu-val>値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dateObject</var>, <var class="field">[[DateValue]]</var>)を実行する。</li><li><var>x</var>を<var>dateObject</var>.<var class="field">[[DateValue]]</var>とする。</li><li><var>x</var>が<emu-val>NaN</emu-val>の場合、<emu-val>"Invalid Date"</emu-val>を返す。</li><li><var>dateFormat</var>を? <emu-xref aoid="CreateDateTimeFormat" id="_ref_985"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_986"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>locales</var>, <var>options</var>, <emu-const>any</emu-const>, <emu-const>all</emu-const>)とする。</li><li>!&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_987"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>dateFormat</var>, <var>x</var>)を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sup-date.prototype.tolocaledatestring">
      <h1><span class="secnum">20.4.2</span> Date.prototype.toLocaleDateString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>この定義は<emu-xref href="#sec-date.prototype.tolocaledatestring" title=""><a href="https://tc39.es/ecma262/#sec-date.prototype.tolocaledatestring">Date.prototype.toLocaleDateString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>で提供されている定義を上書きします。</p>

      <p><code>toLocaleDateString</code>メソッドがオプション引数<var>locales</var>と<var>options</var>で呼び出された場合、以下の手順を実行します：</p>

      <emu-alg><ol><li><var>dateObject</var>を<emu-val>this</emu-val>値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dateObject</var>, <var class="field">[[DateValue]]</var>)を実行する。</li><li><var>x</var>を<var>dateObject</var>.<var class="field">[[DateValue]]</var>とする。</li><li><var>x</var>が<emu-val>NaN</emu-val>の場合、<emu-val>"Invalid Date"</emu-val>を返す。</li><li><var>dateFormat</var>を? <emu-xref aoid="CreateDateTimeFormat" id="_ref_988"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_989"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>locales</var>, <var>options</var>, <emu-const>date</emu-const>, <emu-const>date</emu-const>)とする。</li><li>!&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_990"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>dateFormat</var>, <var>x</var>)を返す。</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sup-date.prototype.tolocaletimestring">
      <h1><span class="secnum">20.4.3</span> Date.prototype.toLocaleTimeString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>この定義は<emu-xref href="#sec-date.prototype.tolocaletimestring" title=""><a href="https://tc39.es/ecma262/#sec-date.prototype.tolocaletimestring">Date.prototype.toLocaleTimeString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>で提供されている定義を上書きします。</p>

      <p><code>toLocaleTimeString</code>メソッドがオプション引数<var>locales</var>と<var>options</var>で呼び出された場合、以下の手順を実行します：</p>

      <emu-alg><ol><li><var>dateObject</var>を<emu-val>this</emu-val>値とする。</li><li>?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dateObject</var>, <var class="field">[[DateValue]]</var>)を実行する。</li><li><var>x</var>を<var>dateObject</var>.<var class="field">[[DateValue]]</var>とする。</li><li><var>x</var>が<emu-val>NaN</emu-val>の場合、<emu-val>"Invalid Date"</emu-val>を返す。</li><li><var>timeFormat</var>を? <emu-xref aoid="CreateDateTimeFormat" id="_ref_991"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_992"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>locales</var>, <var>options</var>, <emu-const>time</emu-const>, <emu-const>time</emu-const>)とする。</li><li>!&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_993"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>timeFormat</var>, <var>x</var>)を返す。</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-array-prototype-object">
    <h1><span class="secnum">20.5</span> Arrayプロトタイプオブジェクトのプロパティ</h1>

    <emu-clause id="sup-array.prototype.tolocalestring">
      <h1><span class="secnum">20.5.1</span> Array.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>この定義は<emu-xref href="#sec-array.prototype.tolocalestring" title=""><a href="https://tc39.es/ecma262/#sec-array.prototype.tolocalestring">Array.prototype.toLocaleString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>で提供されている定義を上書きします。</p>

      <p><code>toLocaleString</code>メソッドがオプション引数<var>locales</var>と<var>options</var>で呼び出された場合、以下の手順を実行します：</p>

      <emu-alg><ol><li><var>array</var>を? <emu-xref aoid="ToObject"><a href="https://tc39.es/ecma262/#sec-toobject">ToObject</a></emu-xref>(<emu-val>this</emu-val> value)とする。</li><li><var>len</var>を? <emu-xref aoid="LengthOfArrayLike"><a href="https://tc39.es/ecma262/#sec-lengthofarraylike">LengthOfArrayLike</a></emu-xref>(<var>array</var>)とする。</li><li><var>separator</var>を、ホスト環境の現在のロケールに適した実装依存のリスト区切り文字列値（例：<emu-val>", "</emu-val>）とする。</li><li><var>R</var>を空文字列とする。</li><li><var>k</var>を0とする。</li><li><var>k</var> &lt; <var>len</var>の間繰り返す、</li><li><var>k</var> &gt; 0の場合、</li><li><var>R</var>を<var>R</var>と<var>separator</var>の文字列連結とする。</li><li><var>nextElement</var>を? <emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>array</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>k</var>)))とする。</li><li><var>nextElement</var>が<emu-val>undefined</emu-val>または<emu-val>null</emu-val>でない場合、</li><li><var>S</var>を? <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(? <emu-xref aoid="Invoke"><a href="https://tc39.es/ecma262/#sec-invoke">Invoke</a></emu-xref>(<var>nextElement</var>, <emu-val>"toLocaleString"</emu-val>, « <var>locales</var>, <var>options</var>&nbsp;»))とする。</li><li><var>R</var>を<var>R</var>と<var>S</var>の文字列連結とする。</li><li><var>k</var>を<var>k</var> + 1とする。</li><li><var>R</var>を返す。</li></ol></emu-alg>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        このアルゴリズムの手順は<emu-xref href="#sec-array.prototype.tolocalestring" title=""><a href="https://tc39.es/ecma262/#sec-array.prototype.tolocalestring">Array.prototype.toLocaleString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>で実行される手順と同じですが、<emu-xref aoid="Invoke"><a href="https://tc39.es/ecma262/#sec-invoke">Invoke</a></emu-xref>(<var>nextElement</var>, <emu-val>"toLocaleString"</emu-val>)が<var>locales</var>と<var>options</var>を引数として取る点が異なります。
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        配列の要素は各自の<code>toLocaleString</code>メソッドで文字列に変換され、その文字列が実装依存のロケール感度な区切り文字列で連結されます。この関数は<code>toString</code>と類似していますが、ホスト環境の現在のロケールの慣習に対応するロケール感度な結果を生成することを意図しています。
      </div></emu-note>

      <emu-note><span class="note">Note 3</span><div class="note-contents">
        <code>toLocaleString</code>関数は意図的にジェネリックです。<emu-val>this</emu-val>値がArrayオブジェクトであることを要求しません。したがって、他の種類のオブジェクトに転送してメソッドとして使用できます。
      </div></emu-note>
    </emu-clause>
  </emu-clause>
</emu-clause>
<emu-annex id="annex-implementation-dependent-behaviour">
  <h1><span class="secnum">Annex A <span class="annex-kind">(informative)</span></span> 実装依存の動作</h1>

  <p>この仕様書の以下の側面は実装依存です：</p>

  <ul>
    <li>
      すべての機能において：
      <ul>
        <li>
          <var>options</var> 引数のプロパティに追加の値がある場合 (<emu-xref href="#conformance" id="_ref_170"><a href="#conformance">2</a></emu-xref>)
        </li>
        <li>
          デフォルトロケール (<emu-xref href="#sec-defaultlocale" id="_ref_171"><a href="#sec-defaultlocale">6.2.3</a></emu-xref>)
        </li>
        <li>
          各コンストラクターで利用可能なロケールのセット (<emu-xref href="#sec-internal-slots" id="_ref_172"><a href="#sec-internal-slots">9.1</a></emu-xref>)
        </li>
        <li>
          <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_994"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref> アルゴリズム (<emu-xref href="#sec-lookupmatchinglocalebybestfit" id="_ref_173"><a href="#sec-lookupmatchinglocalebybestfit">9.2.4</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      Collator において：
      <ul>
        <li>
          Unicode 拡張キー <emu-val>"kf"</emu-val>, <emu-val>"kn"</emu-val> および対応するオプションプロパティ <emu-val>"caseFirst"</emu-val>, <emu-val>"numeric"</emu-val> のサポート (<emu-xref href="#sec-intl.collator" id="_ref_174"><a href="#sec-intl.collator">10.1.1</a></emu-xref>)
        </li>
        <li>
          デフォルトの照合順序以外のロケールごとの <emu-val>"co"</emu-val> キー値（照合順序）のサポートセット (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_175"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとの <emu-val>"kf"</emu-val> キー値（大文字小文字順）のサポートセット (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_176"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとの <emu-val>"kn"</emu-val> キー値（数値照合）のサポートセット (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_177"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとのデフォルト検索感度 (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_178"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとのデフォルト句読点無視値 (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_179"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          各ロケールとオプションの組み合わせごとの並び順 (<emu-xref href="#sec-collator-compare-functions" id="_ref_180"><a href="#sec-collator-compare-functions">10.3.3.1</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>DateTimeFormat において：
      <ul>
        <li>
          <emu-xref aoid="BestFitFormatMatcher" id="_ref_995"><a href="#sec-bestfitformatmatcher">BestFitFormatMatcher</a></emu-xref> アルゴリズム (<emu-xref href="#sec-createdatetimeformat" id="_ref_181"><a href="#sec-createdatetimeformat">11.1.2</a></emu-xref>)
        </li>
        <li>
          ロケールごとの <emu-val>"ca"</emu-val> キー値（カレンダー）のサポートセット (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_182"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとの <emu-val>"nu"</emu-val> キー値（数字体系）のサポートセット (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_183"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとのデフォルト hourCycle 設定 (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_184"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          コアセットを超えるロケールごとの日付時刻フォーマットのサポートセット、各コンポーネントの表現と関連パターンを含む (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_185"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          ローカライズされた曜日名、時代名、月名、日中名、午前/午後表示、タイムゾーン名 (<emu-xref href="#sec-formatdatetimepattern" id="_ref_186"><a href="#sec-formatdatetimepattern">11.5.5</a></emu-xref>)
        </li>
        <li>
          <emu-val>"gregory"</emu-val> 以外のカレンダーの暦計算 (<emu-xref href="#sec-tolocaltime" id="_ref_187"><a href="#sec-tolocaltime">11.5.12</a></emu-xref>)
        </li>
        <li>
          IANA タイムゾーンデータベースのすべての登録済み Zone および Link 名と、それらの UTC からのオフセットや夏時間規則に関する情報 (<emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">21.4.1.19</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      DisplayNames において：
      <ul>
        <li>
          ローカライズされた名称 (<emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_188"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      DurationFormat において：
      <ul>
        <li>
          ロケールごとの <emu-val>"nu"</emu-val> キー値（数字体系）のサポートセット (<emu-xref href="#sec-Intl.DurationFormat-internal-slots" id="_ref_189"><a href="#sec-Intl.DurationFormat-internal-slots">13.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとのデジタルフォーマット構成（スタイル <emu-val>"numeric"</emu-val> の二桁時間や、数値の時間・分・秒の区切り記号の使用） (<emu-xref href="#sec-Intl.DurationFormat-internal-slots" id="_ref_190"><a href="#sec-Intl.DurationFormat-internal-slots">13.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      ListFormat において：
      <ul>
        <li>
          値をフォーマットするためのパターン (<emu-xref href="#sec-Intl.ListFormat-internal-slots" id="_ref_191"><a href="#sec-Intl.ListFormat-internal-slots">14.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      Locale において：
      <ul>
        <li>
          Unicode 拡張キー <emu-val>"kf"</emu-val>, <emu-val>"kn"</emu-val> および対応するオプションプロパティ <emu-val>"caseFirst"</emu-val>, <emu-val>"numeric"</emu-val> のサポート (<emu-xref href="#sec-Intl.Locale" id="_ref_192"><a href="#sec-Intl.Locale">15.1.1</a></emu-xref>)
        </li>
        <li>
          ロケールごとの優先カレンダー (<emu-xref href="#sec-calendarsoflocale" id="_ref_193"><a href="#sec-calendarsoflocale">15.5.9</a></emu-xref>)、照合順序 (<emu-xref href="#sec-collationsoflocale" id="_ref_194"><a href="#sec-collationsoflocale">15.5.10</a></emu-xref>)、時間周期 (<emu-xref href="#sec-hourcyclesoflocale" id="_ref_195"><a href="#sec-hourcyclesoflocale">15.5.11</a></emu-xref>)、数字体系
          (<emu-xref href="#sec-numberingsystemsoflocale" id="_ref_196"><a href="#sec-numberingsystemsoflocale">15.5.12</a></emu-xref>)、タイムゾーン (<emu-xref href="#sec-timezonesoflocale" id="_ref_197"><a href="#sec-timezonesoflocale">15.5.13</a></emu-xref>) のセット
        </li>
        <li>
          ロケールごとの行内文字の一般的な並び順 (<emu-xref href="#sec-textdirectionoflocale" id="_ref_198"><a href="#sec-textdirectionoflocale">15.5.14</a></emu-xref>)
        </li>
        <li>
          ロケールごとの週の最初の日と、カレンダー上週末とみなされる曜日 (<emu-xref href="#sec-weekinfooflocale" id="_ref_199"><a href="#sec-weekinfooflocale">15.5.17</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      NumberFormat において：
      <ul>
        <li>
          ロケールごとの <emu-val>"nu"</emu-val> キー値（数字体系）のサポートセット (<emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_200"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>)
        </li>
        <li>
          ロケールごとの値を小数、パーセント、通貨、単位としてフォーマットするためのパターン（符号あり/なし、通貨の会計フォーマットあり/なし、標準・コンパクト・科学記法） (<emu-xref href="#sec-formatnumber" id="_ref_201"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          通貨値をフォーマットする際に使用される小数桁数 (<emu-xref href="#sec-formatnumber" id="_ref_202"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          <emu-val>NaN</emu-val> および <emu-val>Infinity</emu-val> のローカライズされた表現 (<emu-xref href="#sec-formatnumber" id="_ref_203"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          <emu-xref href="#table-numbering-system-digits" id="_ref_204"><a href="#table-numbering-system-digits">Table 30</a></emu-xref> に記載されていない数字体系の実装 (<emu-xref href="#sec-formatnumber" id="_ref_205"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          ローカライズされた小数点およびグループ区切り記号 (<emu-xref href="#sec-formatnumber" id="_ref_206"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          ローカライズされたプラス記号とマイナス記号 (<emu-xref href="#sec-formatnumber" id="_ref_207"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          ローカライズされた数字グループ化スキーマ (<emu-xref href="#sec-formatnumber" id="_ref_208"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          コンパクト記法のローカライズされた桁数閾値 (<emu-xref href="#sec-formatnumber" id="_ref_209"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          コンパクト記法および科学記法のローカライズされた記号 (<emu-xref href="#sec-formatnumber" id="_ref_210"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          ローカライズされた狭義・短縮・長形式の通貨記号と名称 (<emu-xref href="#sec-formatnumber" id="_ref_211"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          ローカライズされた狭義・短縮・長形式の単位記号 (<emu-xref href="#sec-formatnumber" id="_ref_212"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      PluralRules において：
      <ul>
        <li>
          ロケールごとの複数形選択の可能な結果を表す文字列リストとその順序 (<emu-xref href="#sec-intl.pluralrules" id="_ref_213"><a href="#sec-intl.pluralrules">17.1.1</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      RelativeTimeFormat において：
      <ul>
        <li>
          ロケールごとの <emu-val>"nu"</emu-val> キー値（数字体系）のサポートセット (<emu-xref href="#sec-Intl.RelativeTimeFormat-internal-slots" id="_ref_214"><a href="#sec-Intl.RelativeTimeFormat-internal-slots">18.2.3</a></emu-xref>)
        </li>
        <li>
          値をフォーマットするためのパターン (<emu-xref href="#sec-Intl.RelativeTimeFormat-internal-slots" id="_ref_215"><a href="#sec-Intl.RelativeTimeFormat-internal-slots">18.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      Segmenter において：
      <ul>
        <li>
          境界決定アルゴリズム (<emu-xref href="#sec-findboundary" id="_ref_216"><a href="#sec-findboundary">19.8.1</a></emu-xref>)
        </li>
        <li>
          "word-like" としてセグメントを分類する方法 (<emu-xref href="#sec-createsegmentdataobject" id="_ref_217"><a href="#sec-createsegmentdataobject">19.7.1</a></emu-xref>)
        </li>
      </ul>
    </li>
  </ul>
</emu-annex>

<emu-annex id="annex-incompatibilities">
  <h1><span class="secnum">Annex B <span class="annex-kind">(informative)</span></span> 以前の版との非互換性を導入する追加と変更</h1>

  <ul>
    <li>
      <emu-xref href="#sec-intl-collator-constructor" id="_ref_218"><a href="#sec-intl-collator-constructor">10.1</a></emu-xref>, <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_219"><a href="#sec-intl-numberformat-constructor">16.1</a></emu-xref>, <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_220"><a href="#sec-intl-datetimeformat-constructor">11.1</a></emu-xref> ECMA-402 第1版では、コンストラクターを使用して任意のオブジェクトから <emu-xref href="#intl-object" id="_ref_996"><a href="#intl-object">Intl
      オブジェクト</a></emu-xref>を作成できました。第2版ではこれはできなくなりました。
    </li>
    <li>
      <emu-xref href="#sec-intl.datetimeformat.prototype.format" id="_ref_221"><a href="#sec-intl.datetimeformat.prototype.format">11.3.3</a></emu-xref> ECMA-402 第1版では、関数オブジェクト <var>F</var> の <emu-val>"length"</emu-val>
      プロパティは <emu-val>+0</emu-val><sub>𝔽</sub> に設定されていました。第2版では <emu-val>"length"</emu-val> は <emu-val>1</emu-val><sub>𝔽</sub> に設定されます。
    </li>
    <li>
      <emu-xref href="#sec-intl.collator.prototype-%symbol.tostringtag%" id="_ref_222"><a href="#sec-intl.collator.prototype-%symbol.tostringtag%">10.3.4</a></emu-xref> ECMA-402
      第7版では、<code>Intl.Collator.prototype</code> の <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティは <emu-val>"Object"</emu-val> に設定されていました。第8版では <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> は
      <emu-val>"Intl.Collator"</emu-val> に設定されます。
    </li>
    <li>
      <emu-xref href="#sec-intl.datetimeformat.prototype-%symbol.tostringtag%" id="_ref_223"><a href="#sec-intl.datetimeformat.prototype-%symbol.tostringtag%">11.3.7</a></emu-xref> ECMA-402
      第7版では、<code>Intl.DateTimeFormat.prototype</code> の <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティは <emu-val>"Object"</emu-val> に設定されていました。第8版では
      <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> は <emu-val>"Intl.DateTimeFormat"</emu-val> に設定されます。
    </li>
    <li>
      <emu-xref href="#sec-intl.numberformat.prototype-%symbol.tostringtag%" id="_ref_224"><a href="#sec-intl.numberformat.prototype-%symbol.tostringtag%">16.3.7</a></emu-xref> ECMA-402
      第7版では、<code>Intl.NumberFormat.prototype</code> の <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティは <emu-val>"Object"</emu-val> に設定されていました。第8版では <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref>
      は <emu-val>"Intl.NumberFormat"</emu-val> に設定されます。
    </li>
    <li>
      <emu-xref href="#sec-intl.pluralrules.prototype-%symbol.tostringtag%" id="_ref_225"><a href="#sec-intl.pluralrules.prototype-%symbol.tostringtag%">17.3.5</a></emu-xref> ECMA-402
      第7版では、<code>Intl.PluralRules.prototype</code> の <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> プロパティは <emu-val>"Object"</emu-val> に設定されていました。第8版では <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref>
      は <emu-val>"Intl.PluralRules"</emu-val> に設定されます。
    </li>
    <li>
      <emu-xref href="#sec-intl-%symbol.tostringtag%" id="_ref_226"><a href="#sec-intl-%symbol.tostringtag%">8.1.1</a></emu-xref> ECMA-402 第7版では、<code>Intl</code> の <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref>
      プロパティは定義されていませんでした。第8版では <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> は <emu-val>"Intl"</emu-val> に設定されます。
    </li>
    <li>
      <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_227"><a href="#sec-intl-numberformat-constructor">16.1</a></emu-xref> ECMA-402 第8版では、NumberFormat コンストラクターは style が
      <emu-val>"currency"</emu-val> かつ maximumFractionDigits がその通貨のデフォルト小数桁数より低い値に設定された場合、エラーをスローしていました。この動作は第9版で修正され、エラーをスローしなくなりました。
    </li>
  </ul>
</emu-annex>
<emu-annex id="sec-colophon">
  <h1><span class="secnum">Annex C <span class="annex-kind">(informative)</span></span> コロフォン</h1>
  <p>この仕様書は、<a href="https://github.com/tc39/ecma402">GitHub</a>上で、<a href="https://github.com/tc39/ecmarkup">Ecmarkup</a>というプレーンテキストソース形式で作成されています。Ecmarkupは、HTMLとMarkdownの方言であり、プレーンテキストでECMAScript仕様書を作成し、この文書の編集上の慣例に従った完全なHTMLレンダリングに処理するためのフレームワークとツールセットを提供します。Ecmarkupは、構文定義のための<a href="https://github.com/rbuckton/grammarkdown">Grammarkdown</a>や、アルゴリズムステップの作成のための<a href="https://github.com/tc39/ecmarkdown">Ecmarkdown</a>など、他の多くのフォーマットや技術を統合しています。この仕様書のPDFレンダリングは、CSS Paged
    Media仕様を活用した印刷用スタイルシートを使用し、<a href="https://www.princexml.com/">PrinceXML</a>で変換されています。</p>
  <p>以前の版の仕様書はWordで作成されていました—この版の基礎となったEcmarkupソーステキストは、ECMAScript 2015のWordドキュメントを自動変換ツールでEcmarkupに変換して作成されました。</p>
</emu-annex><emu-annex id="sec-copyright-and-software-license" back-matter="">
        <h1>Copyright &amp; Software License</h1>
        <p class="ECMAaddress">Ecma International</p>
<p class="ECMAaddress">Rue du Rhone 114</p>
<p class="ECMAaddress">CH-1204 Geneva</p>
<p class="ECMAaddress">Tel: +41 22 849 6000</p>
<p class="ECMAaddress">Fax: +41 22 849 6001</p>
<p class="ECMAaddress">Web: <a href="https://ecma-international.org/">https://ecma-international.org/</a></p>

        <div class="copyright-notice" id="copyright-notice"><h2>Copyright Notice</h2>
<p>COPYRIGHT NOTICE</p>

<p>© 2026 Ecma International</p>

<p>By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.</p>

<p>This document may be copied, published and distributed to others, and certain derivative works of it may be prepared, copied, published, and distributed, in whole or in part, provided that the above copyright notice and this Copyright License and Disclaimer are included on all such copies and derivative works. The only derivative works that are permissible under this Copyright License and Disclaimer are:</p>

<p>(i) works which incorporate all or portion of this document for the purpose of providing commentary or explanation (such as an annotated version of the document),</p>

<p>(ii) works which incorporate all or portion of this document for the purpose of incorporating features that provide accessibility,</p>

<p>(iii) translations of this document into languages other than English and into different formats and</p>

<p>(iv) works by making use of this specification in standard conformant products by implementing (e.g. by copy and paste wholly or partly) the functionality therein.</p>

<p>However, the content of this document itself may not be modified in any way, including by removing the copyright notice or references to Ecma International, except as required to translate it into languages other than English or into a different format.</p>

<p>The official version of an Ecma International document is the English language version on the Ecma International website. In the event of discrepancies between a translated version and the official version, the official version shall govern.</p>

<p>The limited permissions granted above are perpetual and will not be revoked by Ecma International or its successors or assigns.</p>

<p>This document and the information contained herein is provided on an “AS IS” basis and ECMA INTERNATIONAL DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p>
</div>
        <h2>Software License</h2>
        <p>All Software contained in this document ("Software") is protected by copyright and is being made available under the "BSD License", included below. This Software may be subject to third party rights (rights from parties other than Ecma International), including patent rights, and no licenses under such third party rights are granted under this license even if the third party concerned is a member of Ecma International. SEE THE ECMA CODE OF CONDUCT IN PATENT MATTERS AVAILABLE AT <a href="https://ecma-international.org/memento/codeofconduct.htm">https://ecma-international.org/memento/codeofconduct.htm</a> FOR INFORMATION REGARDING THE LICENSING OF PATENT CLAIMS THAT ARE REQUIRED TO IMPLEMENT ECMA INTERNATIONAL STANDARDS.</p>

<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>

<ol>
  <li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
  <li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
  <li>Neither the name of the authors nor Ecma International may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>

<p>THIS SOFTWARE IS PROVIDED BY THE ECMA INTERNATIONAL "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL ECMA INTERNATIONAL BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

      </emu-annex></div></body></html>