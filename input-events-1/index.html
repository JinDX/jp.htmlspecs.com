<!DOCTYPE html>
<html lang="ja-JP">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 34.1.8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            color: #fff;
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            color: #000;
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>入力イベント レベル 1</title>

    <style>
        .invisible-table table {
            border: 0;
            border-spacing: 0px;
            border-collapse: collapse;
        }

        .invisible-table table td,
        .invisible-table table th {
            padding: 6px;
        }
    </style>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        :is(h1, h2, h3, h4, h5, h6, a) abbr {
            border: none
        }

        dfn {
            font-weight: 700
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        .toc a,
        .tof a {
            text-decoration: none
        }

        a .figno,
        a .secno {
            color: #000
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th a {
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th[scope=row] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff
        }

        .section dd>p:first-child {
            margin-top: 0
        }

        .section dd>p:last-child {
            margin-bottom: 0
        }

        .section dd {
            margin-bottom: 1em
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="description"
        content="この仕様は、テキストや関連する入力のイベントに追加を定義し、テキストエディターアプリケーションやテキスト入力・テキスト整形を扱う他のアプリケーションにおいて、ブラウザーのデフォルト動作を監視・操作できるようにします。この仕様は、UI イベント仕様 [UI-EVENTS] を基盤としています。">
    <link rel="canonical" href="https://www.w3.org/TR/input-events-1/">
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #000
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #000;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "DISC",
  "shortName": "input-events-1",
  "editors": [
    {
      "name": "Johannes Wilm",
      "mailto": "johannes@fiduswriter.org",
      "company": "Invited Expert",
      "w3cid": "75083",
      "url": "mailto:johannes@fiduswriter.org"
    }
  ],
  "formerEditors": [
    {
      "name": "Ben Peters",
      "mailto": "BenjamP@microsoft.com",
      "company": "Microsoft",
      "companyURL": "https://www.microsoft.com",
      "note": "until 23 February 2015",
      "w3cid": "69167",
      "url": "mailto:BenjamP@microsoft.com"
    }
  ],
  "group": "webediting",
  "github": "https://github.com/w3c/input-events/tree/v1",
  "otherLinks": [
    {
      "key": "Latest published version by level",
      "data": [
        {
          "value": "Level 1",
          "href": "https://www.w3.org/TR/input-events-1/"
        },
        {
          "value": "Level 2",
          "href": "https://www.w3.org/TR/input-events-2/"
        }
      ]
    },
    {
      "key": "Latest editor's draft by level",
      "data": [
        {
          "value": "Level 1",
          "href": "https://rawgit.com/w3c/input-events/v1/index.html"
        },
        {
          "value": "Level 2",
          "href": "https://w3c.github.io/input-events/"
        }
      ]
    }
  ],
  "xref": [
    "HTML"
  ],
  "publishISODate": "2023-09-27T00:00:00.000Z",
  "generatedSubtitle": "W3C Discontinued Draft 27 September 2023"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-DISC">
</head>

<body class="h-entry informative" data-cite="HTML">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">入力イベント レベル 1</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#DISC">W3C 廃止ドラフト</a> <time class="dt-published"
                datetime="2023-09-27">2023年9月28日</time></p>
        <details open="">
            <summary>この文書の詳細</summary>
            <dl>
                <dt>このバージョン:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2023/DISC-input-events-1-20230928/">https://www.w3.org/TR/2023/DISC-input-events-1-20230928/</a>
                </dd>
                <dt>最新公開バージョン:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/input-events-1/">https://www.w3.org/TR/input-events-1/</a>
                </dd>
                <dt>最新エディタ草案:</dt>
                <dd><a href="https://w3c.github.io/input-events/">https://w3c.github.io/input-events/</a></dd>
                <dt>履歴:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/input-events-1/">https://www.w3.org/standards/history/input-events-1/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/input-events/commits/">コミット履歴</a>
                </dd>
                <dt>編集者:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="75083">
                    <a class="ed_mailto u-email email p-name" href="mailto:johannes@fiduswriter.org">Johannes Wilm</a>
                    (<span class="p-org org h-org">招待専門家</span>)
                </dd>
                <dt>
                    前編集者:
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="69167">
                    <a class="ed_mailto u-email email p-name" href="mailto:BenjamP@microsoft.com">Ben Peters</a> (<a
                        class="p-org org h-org" href="https://www.microsoft.com">Microsoft</a>) (2015年2月23日まで)
                </dd>
                <dt>フィードバック:</dt>
                <dd>
                    <a href="https://github.com/w3c/input-events/tree/v1/">GitHub w3c/input-events</a>
                    (<a href="https://github.com/w3c/input-events/pulls/">プルリクエスト</a>,
                    <a href="https://github.com/w3c/input-events/issues/new/choose">新しい課題</a>,
                    <a href="https://github.com/w3c/input-events/issues/">オープン課題</a>)
                </dd>
                <dt>レベルごとの最新公開バージョン</dt>
                <dd>
                    <a href="https://www.w3.org/TR/input-events-1/">レベル 1</a>
                </dd>
                <dd>
                    <a href="https://www.w3.org/TR/input-events-2/">レベル 2</a>
                </dd>
                <dt>レベルごとの最新エディタ草案</dt>
                <dd>
                    <a href="https://rawgit.com/w3c/input-events/v1/index.html">レベル 1</a>
                </dd>
                <dd>
                    <a href="https://w3c.github.io/input-events/">レベル 2</a>
                </dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
            ©
            2023

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2023/software-license"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>概要</h2>
        <p>
            この仕様は、テキストや関連する入力のイベントに追加を定義し、テキストエディターアプリケーションやテキスト入力・テキスト整形を扱う他のアプリケーションにおいて、ブラウザーのデフォルト動作を監視・操作できるようにします。この仕様は、UI
            イベント仕様 [<cite><a class="bibref" data-link-type="biblio" href="#bib-ui-events"
                    title="UI Events">UI-EVENTS</a></cite>] を基盤としています。
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>この文書のステータス</h2>
        <p><em>このセクションは、公開時点でのこの文書のステータスについて説明しています。現行の <abbr title="World Wide Web Consortium">W3C</abbr>
                公開文書と本技術レポートの最新改訂版は、<a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    技術報告一覧</a>（https://www.w3.org/TR/）で確認できます。</em></p>
        <p>
            Input Events Level 1 は Input Events の最初のバージョンです
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-input-events"
                    title="Input Events Level 1">INPUT-EVENTS</a></cite>]。
        </p>
        <p>
            Input Events 仕様の <a href="https://github.com/web-platform-tests/wpt/tree/master/input-events">テストスイート</a> と
            <a href="https://w3c.github.io/test-results/input-events/">実装レポート</a> は、現在も作業中です。
        </p>
        <p>
            この文書は <a href="https://www.w3.org/groups/wg/webediting">Web Editing Working Group</a> によって
            <a href="https://www.w3.org/2023/Process-20230612/#recs-and-notes">勧告トラック</a>を使用し、廃止ドラフトとして公開されました。
        </p>
        <p>廃止ドラフトとして公開されたことは、<abbr title="World Wide Web Consortium">W3C</abbr> およびそのメンバーによる承認を意味するものではありません。</p>
        <p>
            廃止ドラフトとして公開された文書は、今後の発展や保守を意図していません。廃止された作業以外の目的でこの文書を引用するのは不適切です。
        </p>
        <p>
            この文書は
            <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                特許ポリシー</a>に基づき運用されるグループによって作成されました。
            <abbr title="World Wide Web Consortium">W3C</abbr> は
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webediting/ipr">関連する特許開示の公開リスト</a>
            を維持しています。そのページには特許開示の方法も記載されています。特許に関する実際の知識があり、その特許に
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">必須クレーム</a>
            が含まれていると考えられる場合は、
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">W3C 特許ポリシー第6節</a>に従って情報を開示しなければなりません。
        </p>
        <p>
            この文書は
            <a id="w3c_process_revision" href="https://www.w3.org/2023/Process-20230612/">2023年6月12日 <abbr
                    title="World Wide Web Consortium">W3C</abbr>プロセス文書</a> に従って管理されています。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目次</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">概要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">この文書のステータス</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    はじめに
                </a></li>
            <li class="tocline"><a class="tocxref" href="#definitions"><bdi class="secno">2. </bdi>
                    定義
                </a></li>
            <li class="tocline"><a class="tocxref" href="#problems-solved"><bdi class="secno">3. </bdi>
                    解決される課題
                </a></li>
            <li class="tocline"><a class="tocxref" href="#use-cases"><bdi class="secno">4. </bdi>
                    ユースケース
                </a></li>
            <li class="tocline"><a class="tocxref" href="#events-inputevents"><bdi class="secno">5. </bdi>
                    Input イベントタイプ
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#interface-InputEvent"><bdi class="secno">5.1 </bdi>
                            InputEvent インターフェイス
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#overview"><bdi class="secno">5.1.1 </bdi>
                                    概要
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#interface-InputEvent-Attributes"><bdi
                                        class="secno">5.1.2 </bdi>
                                    属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#interface-InputEvent-Methods"><bdi
                                        class="secno">5.1.3 </bdi>
                                    メソッド
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#event-definitions"><bdi class="secno">5.2 </bdi>
                            イベント定義
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#privacy-and-security-considerations"><bdi class="secno">6.
                    </bdi>
                    プライバシーおよびセキュリティの考慮事項
                </a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">7. </bdi>
                    謝辞
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.1
                            </bdi>参考情報</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="introduction">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                はじめに
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>

        <p>
            本文書では編集に関連する追加事項について、UI イベント仕様[<cite><a class="bibref" data-link-type="biblio" href="#bib-ui-events"
                    title="UI Events">UI-EVENTS</a></cite>]で記述されている
            <a href="https://w3c.github.io/uievents/#event-type-input">input</a> および <a
                href="https://w3c.github.io/uievents/#beforeinput">beforeinput</a> の2つのイベントに関する説明を行います。
            これらのイベントの目的は、著者が編集前後のデフォルト編集動作を把握したり、上書きできるようにすることです。
        </p>
    </section>
    <section id="definitions">
        <div class="header-wrapper">
            <h2 id="x2-definitions"><bdi class="secno">2. </bdi>
                定義
            </h2><a class="self-link" href="#definitions" aria-label="Permalink for Section 2."></a>
        </div>

        <dl>
            <dt>
                <code><dfn id="dfn-datatransfer" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer">DataTransfer</a></dfn></code>
            </dt>
            <dd>
                <a href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer">
                    DataTransfer</a> オブジェクトは、いくつかの inputtypes に対してリッチテキストやプレーンテキストデータを保持します。[<cite><a class="bibref"
                        data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>]
            </dd>
            <dt>
                <dfn id="dfn-express-intention" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">意図の表明</dfn>
            </dt>
            <dd>
                ユーザーは、キーボード、IME、音声、または類似の方法を使って
                特定の編集操作を実行する意図を<a data-lt="express intention" href="#dfn-express-intention" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-express-intention-1">表明</a>できます。
                特定の入力操作は、プラットフォーム固有の慣習に従って意図にマッピングされます。
            </dd>
            <dt>
                <dfn id="dfn-kill-buffer" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">キルバッファ</dfn>
            </dt>
            <dd>
                <p>
                    <i>この定義は規範的ではありません。</i>
                </p><a href="#dfn-kill-buffer" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-kill-buffer-1">キルバッファ</a>は、クリップボードとは別のリッチテキストコンテンツ用のインメモリストアであり、
                特定の削除コマンドで削除されたコンテンツを一時的に保存できます。
                ユーザーは「<dfn id="dfn-yank" tabindex="0" aria-haspopup="dialog" class="respec-offending-element"
                    title="Found definition for &quot;yank&quot;, but nothing links to it. This is usually a spec bug!"
                    data-dfn-type="dfn">ヤンク</dfn>」の意図を示すことで、
                キルバッファ内の内容で現在の選択範囲を置換できます。
            </dd>
            <dt>
                <dfn data-plurals="characters" id="dfn-character" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">文字</dfn>
            </dt>
            <dd>
                <a href="#dfn-character" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-character-1">文字</a>は、<a
                    href="http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries">拡張書記素クラスタ</a>です。[<cite><a
                        class="bibref" data-link-type="biblio" href="#bib-uax29"
                        title="Unicode Text Segmentation">UAX29</a></cite>]
            </dd>
        </dl>
    </section>
    <section id="problems-solved">
        <div class="header-wrapper">
            <h2 id="x3-problems-solved"><bdi class="secno">3. </bdi>
                解決される課題
            </h2><a class="self-link" href="#problems-solved" aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            <i>このセクションは規範的ではありません。</i>
        </p>
        <p>
            ウェブベースのテキストエディターを作成するには、ブラウザーコードに加え、かなりの量の JavaScript が必要です。その理由として、以下が挙げられます。
        </p>
        <ol>
            <li>ブラウザーはすべての編集操作を同じように処理するわけではありません。
            </li>
            <li>ブラウザーは特定の編集操作の処理にバグがあることが多いです。
            </li>
            <li>個々のサイトごとに、編集操作の扱いに独自の要件がある場合があります。
            </li>
            <li>ブラウザーにおける高レベルのテキスト編集機能の開発は、<a href="https://extensiblewebmanifesto.org/">Extensible Web
                    Manifesto</a>の原則に従っておらず、ウェブ開発者コミュニティのニーズと常に連携しているわけではありません。
            </li>
        </ol>
        <p>
            この仕様は、<a href="#dfn-beforeinput" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-beforeinput-1">beforeinput</a>
            イベントを介してウェブ開発者がテキスト編集に関するすべてのユーザー入力処理をブラウザー上書きできるシンプルな方法と、
            <a href="#dfn-input" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-input-1">input</a>
            イベントでユーザー入力によってブラウザーが DOM に加えた変更を監視できる方法の提供を目指します。
        </p>
    </section>
    <section id="use-cases">
        <div class="header-wrapper">
            <h2 id="x4-use-cases"><bdi class="secno">4. </bdi>
                ユースケース
            </h2><a class="self-link" href="#use-cases" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            <i>このセクションは規範的ではありません。</i>
        </p>
        <ol>
            <li>JavaScript テキストエディターを作成し、すべてのブラウザーにアクセスできなくても、ユーザーが太字としてマークしたテキストを &lt;b&gt; タグではなく &lt;strong&gt;
                タグでマークするようにする。
            </li>
            <li>JavaScript が編集されたテキストの DOM へのレンダリングを担当し、裏でデータモデルに従って動作する JavaScript テキストエディターを作成する。
            </li>
            <li>太字のみ許可し、斜体は許可しないなど、リッチテキスト編集の一部のみを許可する JavaScript エディターを作成する。
            </li>
            <li>ユーザーが異なるブラウザーで異なる意図表現方法を用いる場合でも、ユーザーの意図に基づいて JavaScript が DOM への変更をレンダリングする協働型エディターを作成する。
            </li>
            <li>一部のユーザーのみテキストの追加・削除が可能で、他のユーザーのみ特定の書式設定の追加・削除が可能な、異なるアクセス権限を持つ JavaScript エディターを作成する。
            </li>
        </ol>
    </section>
    <section id="events-inputevents">
        <div class="header-wrapper">
            <h2 id="x5-input-event-types"><bdi class="secno">5. </bdi>
                Input イベントタイプ
            </h2><a class="self-link" href="#events-inputevents" aria-label="Permalink for Section 5."></a>
        </div>

        <p>
            Input イベントは、ユーザーがマークアップの編集を試みる前（beforeinput イベント）および後（input イベント）に送信されます。これには、コンテンツの挿入・削除や書式変更が含まれます。
        </p>
        <p>
            Input イベントは、編集ホストとして機能する要素、つまり contenteditable 属性が設定された要素、<a data-link-type="element"
                href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element"><code>textarea</code></a>
            要素、そして
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">input</a></code>
            テキスト入力を許可する要素上で<a href="https://www.w3.org/TR/uievents/#dispatch">発行</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-ui-events"
                    title="UI Events">UI-EVENTS</a></cite>]されます。
        </p>
        <section id="interface-InputEvent">
            <div class="header-wrapper">
                <h3 id="x5-1-interface-inputevent"><bdi class="secno">5.1 </bdi>
                    InputEvent インターフェイス
                </h3><a class="self-link" href="#interface-InputEvent" aria-label="Permalink for Section 5.1"></a>
            </div>

            <pre class="idl def" data-cite="WEBIDL HTML" id="webidl-827932857"><span class="idlHeader"><a class="self-link" href="#webidl-827932857">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-inputevent-partial-1" data-title="InputEvent">partial interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-inputevent"><code>InputEvent</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-inputevent-datatransfer" data-title="dataTransfer" data-dfn-for="InputEvent">
   readonly attribute<span class="idlType"> <a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><code>DataTransfer</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-inputevent-datatransfer" id="ref-for-dom-inputevent-datatransfer-1"><code>dataTransfer</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-inputevent-gettargetranges" data-title="getTargetRanges" data-dfn-for="InputEvent"><span class="idlType">
   <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-staticrange">StaticRange</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-inputevent-gettargetranges" id="ref-for-dom-inputevent-gettargetranges-1"><code>getTargetRanges</code></a>();</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-inputeventinit-partial-1" data-title="InputEventInit">

partial dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-inputeventinit"><code>InputEventInit</code></a> {<span data-idl="" class="idlMember" id="idl-def-inputeventinit-datatransfer" data-title="dataTransfer" data-dfn-for="InputEventInit"><span class="idlType">
   <a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><code>DataTransfer</code></a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-inputeventinit-datatransfer" id="ref-for-dom-inputeventinit-datatransfer-1"><code>dataTransfer</code></a> = null;</span><span data-idl="" class="idlMember" id="idl-def-inputeventinit-targetranges" data-title="targetRanges" data-dfn-for="InputEventInit"><span class="idlType">
   <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-staticrange">StaticRange</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-inputeventinit-targetranges" id="ref-for-dom-inputeventinit-targetranges-1"><code>targetRanges</code></a> = [];</span>
};</span></code></pre>
            <p>
                <code><dfn id="dom-inputevent" data-idl="interface" data-title="InputEvent" data-dfn-for="" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/uievents/#interface-inputevent">InputEvent</a></dfn></code>
                および
                <code><dfn id="dom-inputeventinit" data-idl="dictionary" data-title="InputEventInit" data-dfn-for="" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/uievents/#interface-inputevent">InputEventInit</a></dfn></code>
                オブジェクトは[<cite><a class="bibref" data-link-type="biblio" href="#bib-ui-events"
                        title="UI Events">UI-EVENTS</a></cite>]で定義されています。
            </p>
            <p data-dfn-for="InputEventInit">
                <dfn id="dfn-inputtype" tabindex="0" aria-haspopup="dialog" class="respec-offending-element"
                    title="Found definition for &quot;inputType&quot;, but nothing links to it. This is usually a spec bug!"
                    data-dfn-type="dfn">inputType</dfn>、<dfn data-export="" data-dfn-type="dict-member"
                    id="dom-inputeventinit-datatransfer" data-idl="field" data-title="dataTransfer"
                    data-dfn-for="InputEventInit" data-type="DataTransfer" tabindex="0"
                    aria-haspopup="dialog"><code>dataTransfer</code></dfn>、
                <dfn data-export="" data-dfn-type="dict-member" id="dom-inputeventinit-targetranges" data-idl="field"
                    data-title="targetRanges" data-dfn-for="InputEventInit" data-type="sequence" tabindex="0"
                    aria-haspopup="dialog"><code>targetRanges</code></dfn> の属性は、
                <a data-link-type="idl"
                    href="https://www.w3.org/TR/uievents/#interface-inputevent"><code>InputEventInit</code></a>で
                <a data-link-type="idl"
                    href="https://www.w3.org/TR/uievents/#interface-inputevent"><code>InputEvent</code></a>オブジェクトの対応する属性を初期化します。
            </p>
            <section id="overview">
                <div class="header-wrapper">
                    <h4 id="x5-1-1-overview"><bdi class="secno">5.1.1 </bdi>
                        概要
                    </h4><a class="self-link" href="#overview" aria-label="Permalink for Section 5.1.1"></a>
                </div>

                <p>
                    <i>このセクションは規範的ではありません。</i>
                </p>
                <p data-link-for="InputEvent">
                    次の表は、<a href="#dfn-data" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-data-1"><code>data</code></a> および
                    <a href="#dom-inputevent-datatransfer" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-inputevent-datatransfer-2"><code>dataTransfer</code></a> 属性が値を持つ場合と null になる場合、
                    また <a href="#dom-inputevent-gettargetranges" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-inputevent-gettargetranges-2"><code>getTargetRanges()</code></a>
                    メソッドが空または非空の配列を返すタイミングについて、inputType ごとにまとめたものです。
                </p>
                <table class="parameters simple">
                    <thead>
                        <tr>
                            <th>
                                編集ホスト
                            </th>
                            <th>
                                inputType
                            </th>
                            <th>
                                data
                            </th>
                            <th>
                                dataTransfer
                            </th>
                            <th>
                                getTargetRanges()
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                Contenteditable
                            </td>
                            <td>
                                <code>"insertText"</code>,
                                <code>"insertCompositionText"</code>,
                                <code>"formatSetBlockTextDirection"</code>,
                                <code>"formatSetInlineTextDirection"</code>,
                                <code>"formatBackColor"</code>,
                                <code>"formatFontColor"</code>,
                                <code>"formatFontName"</code>, <code>"insertLink"</code>
                            </td>
                            <td>
                                Yes
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                非空配列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Contenteditable
                            </td>
                            <td>
                                <code>"insertFromPaste"</code>,
                                <code>"insertFromPasteAsQuotation"</code>,
                                <code>"insertFromDrop"</code>,
                                <code>"insertReplacementText"</code>,
                                <code>"insertFromYank"</code>
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                Yes
                            </td>
                            <td>
                                非空配列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>&lt;textarea&gt;</code>, <code>&lt;input
                  type="text"&gt;</code>
                            </td>
                            <td>
                                <code>"insertText"</code>,
                                <code>"insertCompositionText"</code>,
                                <code>"insertFromPaste"</code>,
                                <code>"insertFromPasteAsQuotation"</code>,
                                <code>"insertFromDrop"</code>,
                                <code>"insertReplacementText"</code>,
                                <code>"insertFromYank"</code>,
                                <code>"formatSetBlockTextDirection"</code>,
                                <code>"formatSetInlineTextDirection"</code>,
                                <code>"formatBackColor"</code>,
                                <code>"formatFontColor"</code>,
                                <code>"formatFontName"</code>, <code>"insertLink"</code>
                            </td>
                            <td>
                                Yes
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                空配列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                All
                            </td>
                            <td>
                                <code>"historyUndo"</code>, <code>"historyRedo"</code>
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                空配列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Contenteditable
                            </td>
                            <td>
                                その他すべて
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                非空配列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>&lt;textarea&gt;</code>, <code>&lt;input
                  type="text"&gt;</code>
                            </td>
                            <td>
                                その他すべて
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                空配列
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section id="interface-InputEvent-Attributes" data-dfn-for="InputEvent">
                <div class="header-wrapper">
                    <h4 id="x5-1-2-attributes"><bdi class="secno">5.1.2 </bdi>
                        属性
                    </h4><a class="self-link" href="#interface-InputEvent-Attributes"
                        aria-label="Permalink for Section 5.1.2"></a>
                </div>

                <p>
                    beforeinput イベントがキャンセル可能かどうかは inputType に依存します。
                </p>
                <p>
                    どの inputType が選択されるかは、ユーザーの <a data-lt="express intention" href="#dfn-express-intention"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-express-intention-2">意図の表明</a>、編集が IME
                    の構成中かどうか、および選択範囲の状態によって決まります。
                </p>
                <p>
                    本仕様では、<dfn id="dfn-inputtype-values" tabindex="0" aria-haspopup="dialog"
                        class="respec-offending-element"
                        title="Found definition for &quot;inputType values&quot;, but nothing links to it. This is usually a spec bug!"
                        data-dfn-type="dfn">inputType 値</dfn>を次の表の inputType 列に示す値として定義します。
                </p>
                <table class="parameters simple">
                    <thead>
                        <tr>
                            <th>
                                inputType
                            </th>
                            <th>
                                ユーザーの意図の表明
                            </th>
                            <th>
                                IME構成の一部
                            </th>
                            <th>
                                beforeinput キャンセル可能
                            </th>
                            <th>
                                選択範囲の状態
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <code>"insertText"</code>
                            </td>
                            <td>
                                入力されたプレーンテキストの挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertReplacementText"</code>
                            </td>
                            <td>
                                スペルチェッカーや自動修正などによる既存テキストの置換
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertLineBreak"</code>
                            </td>
                            <td>
                                改行挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertParagraph"</code>
                            </td>
                            <td>
                                段落区切りの挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertOrderedList"</code>
                            </td>
                            <td>
                                番号付きリストの挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertUnorderedList"</code>
                            </td>
                            <td>
                                箇条書きリストの挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertHorizontalRule"</code>
                            </td>
                            <td>
                                水平線の挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertFromYank"</code>
                            </td>
                            <td>
                                現在の選択範囲を<a href="#dfn-kill-buffer" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-kill-buffer-2">キルバッファ</a>に保存された内容で置換
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertFromDrop"</code>
                            </td>
                            <td>
                                ドロップ操作による内容の挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertFromPaste"</code>
                            </td>
                            <td>
                                貼り付け
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertFromPasteAsQuotation"</code>
                            </td>
                            <td>
                                引用として内容を貼り付け
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertTranspose"</code>
                            </td>
                            <td>
                                直前に入力された<a data-lt="character" href="#dfn-character" class="internalDFN"
                                    data-link-type="dfn" id="ref-for-dfn-character-2">文字</a>2つを入れ替える
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertCompositionText"</code>
                            </td>
                            <td>
                                現在の構成文字列を置換
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertLink"</code>
                            </td>
                            <td>
                                リンク挿入
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteWordBackward"</code>
                            </td>
                            <td>
                                キャレット位置の直前の単語を削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳み
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteWordForward"</code>
                            </td>
                            <td>
                                キャレット位置の直後の単語を削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳み
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteSoftLineBackward"</code>
                            </td>
                            <td>
                                キャレットから視覚的な改行位置まで直前を削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳み
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteSoftLineForward"</code>
                            </td>
                            <td>
                                キャレットから視覚的な改行位置まで直後を削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳み
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteEntireSoftLine"</code>
                            </td>
                            <td>
                                キャレット直前の視覚的改行位置からキャレット直後の視覚的改行位置まで削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳み
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteHardLineBackward"</code>
                            </td>
                            <td>
                                キャレットから直前のブロック要素または
                                <code><a data-link-type="element" href="https://html.spec.whatwg.org/#the-br-element">br</a></code>
                                要素まで削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳み
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteHardLineForward"</code>
                            </td>
                            <td>
                                キャレットから直後のブロック要素または
                                <code><a data-link-type="element" href="https://html.spec.whatwg.org/#the-br-element">br</a></code>
                                要素まで削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳み
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteByDrag"</code>
                            </td>
                            <td>
                                ドラッグ操作による内容の削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteByCut"</code>
                            </td>
                            <td>
                                カット操作による選択範囲の削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteContent"</code>
                            </td>
                            <td>
                                削除の方向を指定せず、他の inputType に該当しない選択範囲の削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                折り畳みでない
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteContentBackward"</code>
                            </td>
                            <td>
                                キャレット直前の内容の削除（他の inputType に該当しない場合）、または削除後に選択範囲が先頭に折り畳まれる場合の選択範囲の削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"deleteContentForward"</code>
                            </td>
                            <td>
                                キャレット直後の内容の削除（他の inputType に該当しない場合）、または削除後に選択範囲が末尾に折り畳まれる場合の選択範囲の削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                未定義
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"historyUndo"</code>
                            </td>
                            <td>
                                最後の編集操作の取り消し
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"historyRedo"</code>
                            </td>
                            <td>
                                直前の取り消し操作のやり直し
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatBold"</code>
                            </td>
                            <td>
                                太字テキストの開始
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatItalic"</code>
                            </td>
                            <td>
                                斜体テキストの開始
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatUnderline"</code>
                            </td>
                            <td>
                                下線テキストの開始
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatStrikeThrough"</code>
                            </td>
                            <td>
                                取り消し線テキストの開始
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatSuperscript"</code>
                            </td>
                            <td>
                                上付きテキストの開始
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatSubscript"</code>
                            </td>
                            <td>
                                下付きテキストの開始
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatJustifyFull"</code>
                            </td>
                            <td>
                                選択範囲の両端揃え
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatJustifyCenter"</code>
                            </td>
                            <td>
                                選択範囲の中央揃え
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatJustifyRight"</code>
                            </td>
                            <td>
                                選択範囲の右揃え
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatJustifyLeft"</code>
                            </td>
                            <td>
                                選択範囲の左揃え
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatIndent"</code>
                            </td>
                            <td>
                                選択範囲のインデント
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatOutdent"</code>
                            </td>
                            <td>
                                選択範囲のインデント解除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatRemove"</code>
                            </td>
                            <td>
                                選択範囲の書式設定をすべて削除
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatSetBlockTextDirection"</code>
                            </td>
                            <td>
                                テキストブロックの方向を設定
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatSetInlineTextDirection"</code>
                            </td>
                            <td>
                                テキストのインライン方向を設定
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatBackColor"</code>
                            </td>
                            <td>
                                背景色の変更
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatFontColor"</code>
                            </td>
                            <td>
                                フォント色の変更
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatFontName"</code>
                            </td>
                            <td>
                                フォントファミリーの変更
                            </td>
                            <td>
                                いいえ
                            </td>
                            <td>
                                はい
                            </td>
                            <td>
                                任意
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="note" role="note" id="issue-container-generatedID">
                    <div role="heading" class="note-title marker" id="h-note" aria-level="5"><span>注</span></div>
                    <div class="">
                        他の仕様でこの定義が拡張される場合があります。
                    </div>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>注</span></div>
                    <div class="">
                        上記の <code>inputTypes</code> が存在するからといって、すべての実装がこれらをサポートするとは限りません。ただし、あるブラウザーが DOM
                        の変更につながる編集操作をサポートする場合、対応する <code>beforeinput</code> および <code>input</code> イベントを<a
                            href="https://www.w3.org/TR/uievents/#dispatch">発行</a>[<cite><a class="bibref"
                                data-link-type="biblio" href="#bib-ui-events"
                                title="UI Events">UI-EVENTS</a></cite>]しなければなりません。
                    </div>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-1">
                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>注</span></div>
                    <div class="">
                        選択範囲が折り畳みの場合、<code>"deleteContentBackward"</code>
                        はユーザーがテキストノード内のテキスト削除を要求した場合や、キャレットがテキストノードの先頭にあり、より複雑な要素の削除や段落結合の意図を示した場合にも使用されます。
                    </div>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-2">
                    <div role="heading" class="note-title marker" id="h-note-2" aria-level="5"><span>注</span></div>
                    <div class="">
                        選択範囲が折り畳みの場合、<code>"deleteContentForward"</code>
                        はユーザーがテキストノード内のテキスト削除を要求した場合や、キャレットがテキストノードの末尾にあり、より複雑な要素の削除や段落結合の意図を示した場合にも使用されます。
                    </div>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-3">
                    <div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>注</span></div>
                    <div class="" data-link-for="InputEvent">
                        <p>
                            <i>この注は規範的ではありません。</i>
                        </p>一部のスクリプトやプラットフォームでは、折り畳み選択かつテキストノード内の後方削除時に、全書記素クラスタではなく<a
                            href="https://infra.spec.whatwg.org/#code-points">コードポイント</a>[<cite><a class="bibref"
                                data-link-type="biblio" href="#bib-infra"
                                title="Infra Standard">INFRA</a></cite>]のみ削除されます。<a
                            href="#dom-inputevent-gettargetranges" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-inputevent-gettargetranges-3"><code>getTargetRanges()</code></a>
                        メソッドで、テキストノード内削除時にブラウザーがデフォルトで削除するコードポイント数を調べることができます。
                    </div>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-4">
                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="5"><span>注</span></div>
                    <div class="" data-link-for="InputEvent">
                        <p>
                            <i>この注は規範的ではありません。</i>
                        </p>一部のスクリプトやプラットフォームでは、折り畳み選択かつテキストノード内の前方削除時に、単一の<a
                            href="https://infra.spec.whatwg.org/#code-points">コードポイント</a>[<cite><a class="bibref"
                                data-link-type="biblio" href="#bib-infra"
                                title="Infra Standard">INFRA</a></cite>]ではなく、全<a
                            href="http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries">書記素クラスタ</a>[<cite><a
                                class="bibref" data-link-type="biblio" href="#bib-uax29"
                                title="Unicode Text Segmentation">UAX29</a></cite>]が削除されます。<a
                            href="#dom-inputevent-gettargetranges" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-inputevent-gettargetranges-4"><code>getTargetRanges()</code></a>
                        メソッドで、テキストノード内削除時にブラウザーがデフォルトで削除するコードポイント数を調べることができます。
                    </div>
                </div>
                <p>
                    <dfn id="dfn-data" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn"><code>data</code></dfn>
                    は、文書に追加されるプレーンテキストデータに関する情報を保持します。
                </p>
                <table class="parameters simple">
                    <thead>
                        <tr>
                            <th>
                                inputType
                            </th>
                            <th>
                                編集ホスト
                            </th>
                            <th>
                                data
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <code>"insertText"</code> または
                                <code>"insertCompositionText"</code>
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                挿入されるプレーンテキスト文字列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertFromPaste"</code>,
                                <code>"insertFromPasteAsQuotation"</code>,
                                <code>"insertFromDrop"</code>,
                                <code>"insertTranspose"</code>,
                                <code>"insertReplacementText"</code> または
                                <code>"insertFromYank"</code>
                            </td>
                            <td>
                                <code><a href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">input</a></code>
                                または
                                <code><a href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element">textarea</a></code>
                            </td>
                            <td>
                                挿入されるプレーンテキスト文字列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatSetInlineTextDirection"</code> または
                                <code>"formatSetBlockTextDirection"</code>
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                <code>"ltr"</code>, <code>"rtl"</code>, <code>"auto"</code>
                                または <code>"null"</code>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatBackColor"</code> または
                                <code>"formatFontColor"</code>
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                <a href="https://www.w3.org/TR/cssom-1/#serialize-a-css-component-value">CSS
                                    コンポーネント値の直列化文字列</a>[<cite><a class="bibref" data-link-type="biblio"
                                        href="#bib-cssom" title="CSS Object Model (CSSOM)">CSSOM</a></cite>]（提案色）
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"formatFontName"</code>
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                font-family CSS プロパティの提案値
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>"insertLink"</code>
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                提案されるリンクのURL
                            </td>
                        </tr>
                        <tr>
                            <td>
                                その他すべて
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                null
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    <dfn data-dfn-for="InputEvent" data-export="" data-dfn-type="attribute"
                        id="dom-inputevent-datatransfer" data-idl="attribute" data-title="dataTransfer"
                        data-type="DataTransfer" data-lt="dataTransfer" data-local-lt="InputEvent.dataTransfer"
                        tabindex="0" aria-haspopup="dialog"><code>dataTransfer</code></dfn> は、
                    richtext やプレーンテキストデータのうち、<a data-link-type="idl" data-lt="DataTransfer"
                        href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><code><code>DataTransfer</code></code></a>
                    オブジェクトに格納されるべき関連データを保持します。
                </p>
                <table class="parameters simple">
                    <thead>
                        <tr>
                            <th>
                                inputType
                            </th>
                            <th>
                                編集ホスト
                            </th>
                            <th>
                                dataTransfer
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <code>"insertFromPaste"</code>,
                                <code>"insertFromPasteAsQuotation"</code>,
                                <code>"insertFromDrop"</code>,
                                <code>"insertTranspose"</code>,
                                <code>"insertReplacementText"</code> または
                                <code>"insertFromYank"</code>
                            </td>
                            <td>
                                <code>contenteditable</code>
                            </td>
                            <td>
                                あらかじめデータが入った<a data-link-type="idl" data-lt="DataTransfer"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><code><code>DataTransfer</code></code></a>
                                オブジェクト。以下の条件を満たすこと：
                                <ol>
                                    <li><a data-link-type="idl" data-lt="DataTransfer"
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><code><code>DataTransfer</code></code></a>
                                        オブジェクトの<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#drag-data-store">drag
                                            data store</a>が<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#concept-dnd-ro">読み取り専用</a>モードであること。[<cite><a
                                                class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>]
                                    </li>
                                    <li>
                                        <a data-link-type="idl" data-lt="DataTransfer"
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><code><code>DataTransfer</code></code></a>
                                        オブジェクトの<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#drag-data-store-item-list">drag
                                            data store item list</a>に、<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#the-drag-data-item-type-string">drag
                                            data item type string</a>が<code>"text/html"</code>のエントリーが1つあり、その<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#the-drag-data-item-kind">kind</a>
                                        が<i>Plain Unicode string</i>で、データはクリップボードや<a href="#dfn-kill-buffer"
                                            class="internalDFN" data-link-type="dfn"
                                            id="ref-for-dfn-kill-buffer-3">キルバッファ</a>にある内容のHTML表現、または追加されるべき内容であること。[<cite><a
                                                class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>]
                                    </li>
                                    <li>
                                        <a data-link-type="idl" data-lt="DataTransfer"
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><code><code>DataTransfer</code></code></a>
                                        オブジェクトの<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#drag-data-store-item-list">drag
                                            data store item list</a>に、<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#the-drag-data-item-type-string">drag
                                            data item type string</a>が<code>"text/plain"</code>のエントリーが1つあり、その<a
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#the-drag-data-item-kind">kind</a>
                                        が<i>Plain Unicode
                                            string</i>で、データは貼り付け、ドロップ、または追加されるべき内容のプレーンテキスト表現であること。[<cite><a
                                                class="bibref" data-link-type="biblio" href="#bib-html"
                                                title="HTML Standard">HTML</a></cite>]
                                    </li>
                                </ol>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                その他すべて
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                null
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    <dfn data-dfn-for="InputEvent" data-export="" data-dfn-type="method"
                        id="dom-inputevent-gettargetranges" data-idl="operation" data-title="getTargetRanges()"
                        data-type="sequence" data-lt="getTargetRanges()"
                        data-local-lt="InputEvent.getTargetRanges|InputEvent.getTargetRanges()|getTargetRanges"
                        tabindex="0" aria-haspopup="dialog"><code>getTargetRanges()</code></dfn>
                    は、イベントがキャンセルされなければ影響を受ける<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#interface-staticrange">StaticRanges</a>の配列を返します。
                </p>
            </section>
            <section id="interface-InputEvent-Methods" data-dfn-for="InputEvent">
                <div class="header-wrapper">
                    <h4 id="x5-1-3-methods"><bdi class="secno">5.1.3 </bdi>
                        メソッド
                    </h4><a class="self-link" href="#interface-InputEvent-Methods"
                        aria-label="Permalink for Section 5.1.3"></a>
                </div>

                <table class="parameters simple">
                    <thead>
                        <tr>
                            <th>
                                inputType
                            </th>
                            <th>
                                編集ホスト
                            </th>
                            <th>
                                <code>getTargetRanges()</code> の応答
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <code>"historyUndo"</code> または <code>"historyRedo"</code>
                            </td>
                            <td>
                                任意
                            </td>
                            <td>
                                空配列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                その他すべて
                            </td>
                            <td>
                                <code>contenteditable</code>
                            </td>
                            <td>
                                イベントに関連付けられた<dfn data-lt="StaticRange" id="dfn-staticrange" class="externalDFN"
                                    data-no-export="" data-dfn-type="dfn"><a
                                        href="https://dom.spec.whatwg.org/#interface-staticrange">StaticRanges</a></dfn>
                                [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom"
                                        title="DOM Standard">DOM</a></cite>] の配列
                            </td>
                        </tr>
                        <tr>
                            <td>
                                その他すべて
                            </td>
                            <td>
                                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">input</a></code>
                                または
                                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element">textarea</a></code>
                            </td>
                            <td>
                                空配列
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    <code>getTargetRanges()</code> は、inputType が <code>"historyUndo"</code> または
                    <code>"historyRedo"</code> である場合や、編集ホストが contenteditable 要素でない場合は空配列を返します。それ以外の場合は配列を返します。
                </p>
            </section>
        </section>
        <section id="event-definitions">
            <div class="header-wrapper">
                <h3 id="x5-2-event-definitions"><bdi class="secno">5.2 </bdi>
                    イベント定義
                </h3><a class="self-link" href="#event-definitions" aria-label="Permalink for Section 5.2"></a>
            </div>

            <div class="event-definition">
                <dl>
                    <dt id="event-type-beforeinput">
                        <dfn id="dfn-beforeinput" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn"><a
                                class="eventtype" href="#event-type-beforeinput"><code>beforeinput</code></a></dfn>
                    </dt>
                    <dd>
                        <table class="invisible-table" data-summary="この表は指定されたイベントタイプの意味論に関する情報を含みます">
                            <tbody>
                                <tr>
                                    <th>
                                        タイプ
                                    </th>
                                    <td>
                                        <strong><code>beforeinput</code></strong>
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        インターフェイス
                                    </th>
                                    <td>
                                        <a href="#interface-InputEvent"><code>InputEvent</code></a>
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        同期/非同期
                                    </th>
                                    <td>
                                        同期
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        バブル
                                    </th>
                                    <td>
                                        はい
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        信頼できるターゲット
                                    </th>
                                    <td>
                                        <code>contenteditable</code> 属性が有効な任意の <code>Element</code>
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        <a href="https://www.w3.org/TR/uievents/#default-action">既定の動作</a> [<cite><a
                                                class="bibref" data-link-type="biblio" href="#bib-ui-events"
                                                title="UI Events">UI-EVENTS</a></cite>]
                                    </th>
                                    <td>
                                        inputType <code>"insertCompositionText"</code> の contentEditable=typing
                                        編集ホストの場合は「DOMの更新」。
                                        contentEditable="true" 編集ホストのすべての inputTypeの場合は「DOM要素の更新」。
                                        それ以外はなし。
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        コンテキスト<br>
                                        （信頼できるイベント）
                                    </th>
                                    <td>
                                        <ul>
                                            <li>
                                                <a href="#dfn-data" id="ref-for-dfn-data-2"><code
                                                        class="attribute-name">InputEvent.data</code></a>:
                                                要素に追加されたデータを含む文字列。該当しない場合は null となることがある。
                                            </li>
                                            <li>
                                                <a href="#dom-inputevent-datatransfer"
                                                    id="ref-for-dom-inputevent-datatransfer-3"><code
                                                        class="attribute-name">InputEvent.dataTransfer</code></a>:
                                                要素に追加・削除されたリッチテキストデータ。該当しない場合は null となることがある。
                                            </li>
                                            <li>
                                                <a href="#dom-inputevent-gettargetranges" class="internalDFN"
                                                    data-link-type="idl"
                                                    id="ref-for-dom-inputevent-gettargetranges-5"><code
                                                        class="methods-name">InputEvent.getTargetRanges()</code></a>:
                                                イベントがキャンセルされなければ、DOMに影響を与える<a data-link-type="dfn"
                                                    href="https://dom.spec.whatwg.org/#interface-staticrange">StaticRanges</a>の配列を返す。
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p>
                            <a href="https://www.w3.org/TR/uievents/#user-agent">ユーザーエージェント</a>は、ユーザーが contenteditable
                            要素に入力しようとした際に、必ずこのイベントを<a href="https://www.w3.org/TR/uievents/#dispatch">発行</a>[<cite><a
                                    class="bibref" data-link-type="biblio" href="#bib-ui-events"
                                    title="UI Events">UI-EVENTS</a></cite>]しなければなりません。
                            ただし、<a href="https://www.w3.org/TR/uievents/#user-agent">ユーザーエージェント</a>
                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-ui-events"
                                    title="UI Events">UI-EVENTS</a></cite>]が DOM を更新することを意味するわけではありません。
                        </p>
                        <p>
                            <a
                                href="https://www.w3.org/TR/uievents/#user-agent">ユーザーエージェント</a>は、ユーザー入力の試行によるものではないイベント（例えばシステムイベント）により、このイベントを<a
                                href="https://www.w3.org/TR/uievents/#dispatch">発行</a>[<cite><a class="bibref"
                                    data-link-type="biblio" href="#bib-ui-events"
                                    title="UI Events">UI-EVENTS</a></cite>]してはなりません。
                        </p>
                    </dd>
                </dl>
            </div>

            <div class="event-definition">
                <dl>
                    <dt id="event-type-input">
                        <dfn id="dfn-input" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn"><a class="eventtype"
                                href="#event-type-input"><code>input</code></a></dfn>
                    </dt>
                    <dd>
                        <table class="invisible-table" data-summary="この表は指定されたイベントタイプの意味論に関する情報を含みます">
                            <tbody>
                                <tr>
                                    <th>
                                        タイプ
                                    </th>
                                    <td>
                                        <strong><code>input</code></strong>
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        インターフェイス
                                    </th>
                                    <td>
                                        <a href="#interface-InputEvent"><code>InputEvent</code></a>
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        同期/非同期
                                    </th>
                                    <td>
                                        同期
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        バブル
                                    </th>
                                    <td>
                                        はい
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        信頼できるターゲット
                                    </th>
                                    <td>
                                        <code>contenteditable</code> 属性が有効な任意の <code>Element</code>
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        <a href="https://www.w3.org/TR/uievents/#default-action">既定の動作</a> [<cite><a
                                                class="bibref" data-link-type="biblio" href="#bib-ui-events"
                                                title="UI Events">UI-EVENTS</a></cite>]
                                    </th>
                                    <td>
                                        なし
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        コンテキスト<br>
                                        （信頼できるイベント）
                                    </th>
                                    <td>
                                        <ul>
                                            <li>
                                                <a href="#dfn-data" id="ref-for-dfn-data-3"><code
                                                        class="attribute-name">InputEvent.data</code></a>:
                                                要素に追加されたデータを含む文字列。該当しない場合は null となることがある。
                                            </li>
                                            <li>
                                                <a href="#dom-inputevent-datatransfer"
                                                    id="ref-for-dom-inputevent-datatransfer-4"><code
                                                        class="attribute-name">InputEvent.dataTransfer</code></a>:
                                                要素に追加・削除されたリッチテキストデータ。該当しない場合は null となることがある。
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p>
                            <a data-link-type="dfn"
                                href="https://www.w3.org/TR/uievents/#user-agent">ユーザーエージェント</a>[<cite><a class="bibref"
                                    data-link-type="biblio" href="#bib-ui-events"
                                    title="UI Events">UI-EVENTS</a></cite>]は、ブラウザーが文書内容の変更に対するユーザーの意図を処理した後、DOMが更新された直後に必ずこのイベントを<a
                                data-link-type="dfn" href="https://www.w3.org/TR/uievents/#dispatch">発行</a>[<cite><a
                                    class="bibref" data-link-type="biblio" href="#bib-ui-events"
                                    title="UI Events">UI-EVENTS</a></cite>]しなければなりません。
                        </p>
                    </dd>
                </dl>
            </div>
        </section>
    </section>
    <section id="privacy-and-security-considerations">
        <div class="header-wrapper">
            <h2 id="x6-privacy-and-security-considerations"><bdi class="secno">6. </bdi>
                プライバシーおよびセキュリティの考慮事項
            </h2><a class="self-link" href="#privacy-and-security-considerations"
                aria-label="Permalink for Section 6."></a>
        </div>

        <p>
            <i>このセクションは規範的ではありません。</i>
        </p>
        <p>
            この機能による既存イベント（<a data-link-type="dfn"
                href="https://www.w3.org/TR/uievents/#keydown"><code>keydown</code></a> や <a data-link-type="dfn"
                href="https://www.w3.org/TR/uievents/#keypress"><code>keypress</code></a> [<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-ui-events" title="UI Events">UI-EVENTS</a></cite>]
            イベントなど）ですでに利用可能な
            <a data-link-type="dfn"
                href="https://www.w3.org/TR/fingerprinting-guidance/#dfn-browser-fingerprinting">フィンガープリント</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-fingerprinting-guidance"
                    title="Mitigating Browser Fingerprinting in Web Specifications">fingerprinting-guidance</a></cite>]
            技術を除き、既知のセキュリティやプライバシーへの影響はありません。
        </p>
        <p>
            この機能が既存イベントを置き換える場合、ユーザーの意図が記録されるため、利用したハードウェアの種類ではなく
            <a data-link-type="dfn"
                href="https://www.w3.org/TR/fingerprinting-guidance/#dfn-browser-fingerprinting">フィンガープリント</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-fingerprinting-guidance"
                    title="Mitigating Browser Fingerprinting in Web Specifications">fingerprinting-guidance</a></cite>]
            技術の利用可能性が低下する可能性があります。
            <a data-lt="express intention" href="#dfn-express-intention" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-express-intention-3">意図の表明</a>方法が記録されるためです。
        </p>
    </section>
    <section id="acknowledgements">
        <div class="header-wrapper">
            <h2 id="x7-acknowledgements"><bdi class="secno">7. </bdi>
                謝辞
            </h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Section 7."></a>
        </div>

        <p>
            Michael Aufreiter、Adrian Bateman、Oliver Buchtala、Robin Berjon、Enrica Casucci、Bo Cupp、Domenic Denicola、Emil
            Eklund、Olivier Forget、Aryeh Gregor、Marijn Haverbeke、Yoshifumi Inoue、Koji Ishii、Gary Kacmarcik、Ian
            Kilpatrick、Frederico Caldeira Knabben、Takayoshi Kochi、Piotrek Koszuliński、Travis Leithead、Grisha
            Lyukshin、Miles Maxfield、Chaals McCathie Nevile、Masayuki Nakano、Ryosuke Niwa、Julie Parent、Ben Peters、Florian
            Rivoal、Morgan Smith、Hallvord R. M. Steen、Johan Sörlin、Cristian Talau、Dave Tapuska、Ojan Vafai、Léonie
            Watson、Xiaoqian Wu、Chong Zhang、Joanmarie、そしてEditing Taskforceの皆様に感謝します。
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-references"><bdi class="secno">A. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="a-1-informative-references"><bdi class="secno">A.1 </bdi>参考情報</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix A.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-cssom">[CSSOM]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/cssom-1/"><cite>CSSオブジェクトモデル (CSSOM)</cite></a>. Daniel Glazman;
                    Emilio Cobos Álvarez. W3C. 2021年8月26日. W3C 作業草案. URL: <a
                        href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
                </dd>
                <dt id="bib-dom">[DOM]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM標準</cite></a>. Anne van Kesteren. WHATWG.
                    現行標準. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-fingerprinting-guidance">[fingerprinting-guidance]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/fingerprinting-guidance/"><cite>Web仕様におけるブラウザフィンガープリント対策</cite></a>.
                    Nick Doty. W3C. 2019年3月28日. W3C 作業グループノート. URL:
                    <a
                        href="https://www.w3.org/TR/fingerprinting-guidance/">https://www.w3.org/TR/fingerprinting-guidance/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML標準</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. 現行標準. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[INFRA]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>インフラ標準</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. 現行標準. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-input-events">[INPUT-EVENTS]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/input-events-1/"><cite>Input Events レベル 1</cite></a>. Johannes
                    Wilm; Ben Peters. W3C. 2019年5月30日. W3C 作業草案. URL: <a
                        href="https://www.w3.org/TR/input-events-1/">https://www.w3.org/TR/input-events-1/</a>
                </dd>
                <dt id="bib-uax29">[UAX29]</dt>
                <dd>
                    <a href="https://www.unicode.org/reports/tr29/tr29-43.html"><cite>Unicode文字分割</cite></a>. Josh
                    Hadley. Unicode Consortium. 2023年8月16日. Unicode Standard Annex #29. URL: <a
                        href="https://www.unicode.org/reports/tr29/tr29-43.html">https://www.unicode.org/reports/tr29/tr29-43.html</a>
                </dd>
                <dt id="bib-ui-events">[UI-EVENTS]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/uievents/"><cite>UIイベント</cite></a>. Gary Kacmarcik; Travis
                    Leithead. W3C. 2023年9月15日. W3C 作業草案. URL: <a
                        href="https://www.w3.org/TR/uievents/">https://www.w3.org/TR/uievents/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL標準</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. 現行標準. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="トップへ戻る">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-express-intention"
        aria-label="Links in this document to definition: express intention">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-express-intention"
                aria-label="Permalink for definition: express intention. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-express-intention-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-intention-2" title="§ 5.1.2 Attributes">§ 5.1.2 Attributes</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-intention-3" title="§ 6. Privacy and security considerations">§ 6. Privacy
                    and security considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-kill-buffer"
        aria-label="Links in this document to definition: kill buffer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-kill-buffer"
                aria-label="Permalink for definition: kill buffer. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-kill-buffer-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-kill-buffer-2" title="§ 5.1.2 Attributes">§ 5.1.2 Attributes</a> <a
                    href="#ref-for-dfn-kill-buffer-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-yank"
        aria-label="Links in this document to definition: yank">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-yank"
                aria-label="Permalink for definition: yank. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-character"
        aria-label="Links in this document to definition: character">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-character"
                aria-label="Permalink for definition: character. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-character-1" title="§ 2. Definitions">§ 2. Definitions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-character-2" title="§ 5.1.2 Attributes">§ 5.1.2 Attributes</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-inputtype"
        aria-label="Links in this document to definition: inputType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-inputtype"
                aria-label="Permalink for definition: inputType. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-inputeventinit-datatransfer"
        aria-label="Links in this document to definition: dataTransfer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-inputeventinit-datatransfer"
                aria-label="Permalink for definition: dataTransfer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-827932857">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-inputeventinit-datatransfer-1" title="§ 5.1 Interface InputEvent">§ 5.1 Interface
                    InputEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-inputeventinit-targetranges"
        aria-label="Links in this document to definition: targetRanges">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-inputeventinit-targetranges"
                aria-label="Permalink for definition: targetRanges. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-827932857">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-inputeventinit-targetranges-1" title="§ 5.1 Interface InputEvent">§ 5.1 Interface
                    InputEvent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-inputtype-values"
        aria-label="Links in this document to definition: inputType values">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-inputtype-values"
                aria-label="Permalink for definition: inputType values. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-data"
        aria-label="Links in this document to definition: data">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-data"
                aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-data-1" title="§ 5.1.1 Overview">§ 5.1.1 Overview</a>
            </li>
            <li>
                <a href="#ref-for-dfn-data-2" title="§ 5.2 Event definitions">§ 5.2 Event definitions</a> <a
                    href="#ref-for-dfn-data-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-inputevent-datatransfer"
        aria-label="Links in this document to definition: dataTransfer">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-inputevent-datatransfer"
                aria-label="Permalink for definition: dataTransfer. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-827932857">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-inputevent-datatransfer-1" title="§ 5.1 Interface InputEvent">§ 5.1 Interface
                    InputEvent</a>
            </li>
            <li>
                <a href="#ref-for-dom-inputevent-datatransfer-2" title="§ 5.1.1 Overview">§ 5.1.1 Overview</a>
            </li>
            <li>
                <a href="#ref-for-dom-inputevent-datatransfer-3" title="§ 5.2 Event definitions">§ 5.2 Event
                    definitions</a> <a href="#ref-for-dom-inputevent-datatransfer-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-inputevent-gettargetranges"
        aria-label="Links in this document to definition: getTargetRanges()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-inputevent-gettargetranges"
                aria-label="Permalink for definition: getTargetRanges(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-827932857">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-inputevent-gettargetranges-1" title="§ 5.1 Interface InputEvent">§ 5.1 Interface
                    InputEvent</a>
            </li>
            <li>
                <a href="#ref-for-dom-inputevent-gettargetranges-2" title="§ 5.1.1 Overview">§ 5.1.1 Overview</a>
            </li>
            <li>
                <a href="#ref-for-dom-inputevent-gettargetranges-3" title="§ 5.1.2 Attributes">§ 5.1.2 Attributes</a> <a
                    href="#ref-for-dom-inputevent-gettargetranges-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-inputevent-gettargetranges-5" title="§ 5.2 Event definitions">§ 5.2 Event
                    definitions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-beforeinput"
        aria-label="Links in this document to definition: beforeinput">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-beforeinput"
                aria-label="Permalink for definition: beforeinput. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-beforeinput-1" title="§ 3. Problems solved">§ 3. Problems solved</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-input"
        aria-label="Links in this document to definition: input">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-input"
                aria-label="Permalink for definition: input. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-input-1" title="§ 3. Problems solved">§ 3. Problems solved</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>